[
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>新人第一次问，请各位见谅\n在 www 文件夹下面有两个文件夹 w1 和 w2\n还有一个文件 a.php\n在 w1 里有 b.php w2 里有 c.php\na.php 已经 include'w1/b.php'</p>\n<p>现在想让 c.php include a.php\n但是 c.php include'../a.php'的时候会提示找不到 b.php\n请问该如何解决。</p>\n</div></div>"], "reply": "14", "tittle": "关于 PHP 的 include 的问题", "comment": ["include 的时候用__DIR__\r", "\r", "比如\r", "\r", "include __DIR__ . \"/w1/b.php\";\r", "\r", "include __DIR__ . \"../a.php\";", " 我好想理解您的意思，但我的问题是\r", "c.php include a.php 时  也会执行 a.php 里的\"include 'b.php' \"但是执行的目录并不是 a.php 所在的目录，而是 c.php 所在的目录。\r", "所以会导致去寻找 /w2/w1/b.php 这个文件", "include(realpath(\"./\").\"w1/b.php\");", "set_include_path()", " 我覺得他的回答確實解決你的問題。亦即，所有 include 都使用絕對路徑。", "用__DIR__的话，基本上可以抹平目录的问题了，也即每个文件只关注被引用文件和自身之间的相对目录关系。", "现代 PHP 都用 autoload 技术了", "我碰到过，大致是这样 a 包含 b ， b 包含 c ，如果用相对定位那么起始是 a ，也就是此时 b 里面的包含路径不能是以 b 为起始，你可以认为是 b 的代码进入了 a ，自然再从原本的包含路径是包含不了 c 的。另外应该同楼上所说的方式，你的方式会造成各种混乱的。大概是这样，有错误请告知。", "相对路径的锅。。  ", "看过的一个比较好的思路是 在主入口设置一个值为入口点路径的常亮，然后其他 php 文件都以这个常量的值为基准去 include 其他文件。这样就能有效避免 include 时路径乱撞的问题了，简洁明了", "我上面说的那个例子不仅仅适用于单入口模式，多入口也可以，但最好所有的入口都在顶层父目录里，不然还是会麻烦不断", "用 autoload 吧，一直 require/include 会让人崩溃的", "新人来学习", " 没问题的。__DIR__是当前脚本所在目录，并且如果是在被 include 的 php 里面的话，__DIR__的内容是被 include 的 php 的目录，是经过修正的。\r", "\r", "不过我 1 楼说的有点问题，__DIR__是不包括结尾的分隔符的，所以应该是\r", "\r", "include __DIR__ . \"/../a.php\";", "没有 autoload 或 naming space ，至少做一个 Project Root 的常量也好。\r", "BP - Base Path\r", "DS - Directory Separator\r", "\r", "BP . DS . 'a.php'\r", "BP . DS . 'w1' . DS . 'b.php'\r", "BP . DS . 'w2' . DS . 'c.php'"]},
{"content": ["<div class=\"topic_content\">用户的回复不能像 3.2 那样有分页了！只有一页，而且只显示 10 条，多余的都不再显示！\r<br>\r<br>需要用户自行点击\r<br>全局》性能优化》内存优化》内存清理\r<br>\r<br>我不幸用的最新的 DZ3.3\r<br>现在做了个点击器，定时点击内存清理...\r<br>我的站点：\r<br><a target=\"_blank\" href=\"http://www.21qingbei.com\" rel=\"nofollow\">http://www.21qingbei.com</a>\r<br>\r<br>PHPER 们，有用 DZ 的么，求破</div>"], "reply": "2", "tittle": "discuz x3.3 重要 BUG，回帖不分页", "comment": ["去码云提 issue ， dz 开始接受 pr 了", " 是么，好的，谢谢\r", "DZ 现在支持 PHP7 了，不过随之而来的 BUG 也会不少"]},
{"content": ["<div class=\"topic_content\">要求： \r<br>\r<br>1 、长期在上海工作的 PHP 工程师，必须熟练掌握 laravel ，可以当面交流。 \r<br>2 、已有独立开发或小团队基于 laravel 开发的作品可以展示。 \r<br>3 、本项目是做一个农业领域的系统，我来设计原型，寻求合作伙伴实现界面和相应功能。 \r<br>4 、价格面议，可长期合作。 \r<br>5 、每周外包工作时间保证 24 小时以上。 \r<br>6 、联系方式： 马化腾 349466507 。</div>"], "reply": "目前尚无回", "tittle": "laravel 项目外包，坐标上海", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>测试代码是网上找的一个，如下：</p>\n<pre><code>$t1 = microtime(true);\nfor ($i = 0; $i &lt; 10000000; $i++) {\n    aaa($i);\n}\n$t2 = microtime(true);\necho 'php time:' . ($t2 - $t1) * 1000 . \"ms\\n\";\nfunction aaa($i) {\n    $a = $i + 1;\n    $b = 2.3;\n    $s = \"abcdefkkbghisdfdfdsfds\";\n\n    if ($a &gt; $b) {\n        ++$a;\n    } else {\n        $b = $b + 1;\n    }\n\n    if ($a == $b) {\n        $b = $b + 1;\n    }\n    $c = $a * $b + $a / $b - pow($a, 2);\n    $d = substr($s, 0, strpos($s, 'kkb')) . strval($c);\n}\n\n</code></pre>\n<ol>\n<li>\n<p>php 7.0 运行 10 次的时间如下(平均： 7075.7503986359ms)：</p>\n<ul>\n<li>php time:8072.5648403168ms</li>\n<li>php time:6939.5442008972ms</li>\n<li>php time:7191.8301582336ms</li>\n<li>php time:6945.8959102631ms</li>\n<li>php time:6882.6849460602ms</li>\n<li>php time:7032.8409671783ms</li>\n<li>php time:6811.5448951721ms</li>\n<li>php time:6672.425031662ms</li>\n<li>php time:6793.6861515045ms</li>\n<li>php time:7414.4868850708ms</li>\n</ul>\n</li>\n<li>\n<p>php 7.1.2 运行 10 次(平均： 6934.3298435211ms)</p>\n<ul>\n<li>php time:7199.9051570892ms</li>\n<li>php time:6994.499206543ms</li>\n<li>php time:6757.4181556702ms</li>\n<li>php time:6789.9668216705ms</li>\n<li>php time:6769.6089744568ms</li>\n<li>php time:6939.1942024231ms</li>\n<li>php time:7054.6488761902ms</li>\n<li>php time:7051.059961319ms</li>\n<li>php time:7018.3329582214ms</li>\n<li>php time:6768.6641216278ms</li>\n</ul>\n</li>\n<li>\n<p>php jit 运行 10 次(平均： 5730.8961868286),当然还有优化空间：将 pow 改成 ** 运算符，将 strval 改用强制类型转换，其运行时间为： 5076.4540433884 ，提升 11.41%)</p>\n<ul>\n<li>php time:5733.3748340607ms</li>\n<li>php time:5658.3139896393ms</li>\n<li>php time:5625.147819519ms</li>\n<li>php time:5610.3270053864ms</li>\n<li>php time:5665.7960414886ms</li>\n<li>php time:5727.0920276642ms</li>\n<li>php time:6207.0441246033ms</li>\n<li>php time:5648.952960968ms</li>\n<li>php time:5796.0541248322ms</li>\n<li>php time:5636.8589401245ms</li>\n</ul>\n</li>\n</ol>\n<p>上面的结果是： jit 的运行速度比 7.1 提升 17.35%, 比 7.0 提升 19%， 7.1 比 7.0 提升 1.99%</p>\n</div></div>"], "reply": "16", "tittle": "今天测试了一下 PHP 7.0, PHP 7.1.2, PHP -jit 的性能，发现 jit 提升速度很可观啊", "comment": ["\r", "\r", "我没看到 php7 的 jit 分支啊，这玩意儿说是要合并到 master ，已经放出了么？", "还是拿 wordpress 做 benchmark 比较接近实际情况", "持续关注", "  ", " wordpress 收到数据库方面的影响更大", "这个 JIT 版本是官方的吗？", "试试源代码里面的 bench.php 和 micro_bench.php 。", " 绝大多数现实应用同样如此，鸟哥宣传 php7 性能的时候也一直拿 wordpress 评测来说的\r", "\r", "真的要做纯运算的测试，建议也还是用官方的\r", "why benchmark  use  wordpress", "jit 版本是这个分支 ", "当时 5.6 的时候就做了一版 jit 的，单纯只看纯运算的提升，当时就非常大了。但是对于例如 WordPress 之类的实际项目几乎没有提升，所以才没有 merge 。 7.x 虽然加入了 scalar type declarations ，但是实际项目中用上的还不多，我对 jit 的效果还是存疑的。。。", "jit 本身就是这么牛，否则你们以为 node.js 为啥这么快，但是用 jit 会失去 php 的一个重要特性，热部署和热更新，其实这挺纠结的", " jit 在 cpu 密集型的应用中才有优势，尤其是缺乏类型的脚本语言的 jit 。。。不是 nodejs 快，是异步回调方法在 io 上有优势，相应的 callback hell 。。。 php7 的 jit 似乎会作为 opcache 的组件，这说明官方会做成透明的，热部署是肯定的", "这个 benchmark 并不能体现 JIT 的优势，因为耗时比较多的 substr 和 strpos 以及 strval 已经是 C 实现的了，这部分有没有 JIT 性能都一样。\r", "\r", "我把迭代次数放大到 100000000 次，原始版本在 php7.0 下面耗时 45.7 秒，去掉.strval($c)后耗时 16.8 秒，进一步去掉 substr 和 strpos 后耗时 10.8 秒，而 JIT 能改善的空间，就是这 10.8 秒，即便时间变为 0 ，也只是从 45.7 秒变为 34.9 秒，提升有限。\r", "\r", "换成相应的 JAVA 实现，原始版本耗时 21 秒，去掉 strval 后是 1.3 秒，完全去掉字符串查找和截取子串后，耗时仅 100 毫秒。\r", "\r", "PHP 和 Java 在不涉及 C 编写的函数，只跑以上纯 CPU 代码时， 7.0 比 Java 慢 100 倍以上， JIT 实现的好，这部分差距可以减少到 10 倍以内，局部改善还是相当可观的。当然了，指望 PHP 的 VM 在短期内能赶上 JVM ，不大现实， JVM 是耗资数千万美金才有今天的能力， PHP 缺乏这样的投入，除了 JIT ，还有一个就是 GC ， PHP 短期内也没法拥有 JVM 那样的 GC 。比 JIT 和 GC 更难以解决的，是多线程时的 GIL ，如果没有 GIL ， php 和 python 做个进程内的 cache 方便多了。", "   php 有 gil 么？你忘了 php 多线程版本存在的理由就是 win 下 iis 的多线程模型的。。。至于那个跑纯 cpu 代码 java 性能是 php 的 100 倍这个不大可能哦，前面你也说了 strpos 之类的 c 函数本身就是已经做到最优了，于是有人用 zephir 来写逻辑业务（本质上是编译成 c 扩展），最后测出来性能和纯 c 差不多： ", "\r", "\r", "当然你可以说 zephir 翻译成的 c 扩展效率不高啥的，但是 100 倍的差距不大可能", "  剔除扩展和 C 写的 PHP 标注库，自己写的 php 代码， 100 倍差距很正常。如果不剔除， Python 也可以有扩展， js 也有扩展， ruby 也有扩展，个个都能跟 C 一样快。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>mail 函数使用方法：</p>\n<pre><code>\\mail::to('tom@example.com')\n        -&gt;subject('test subject')\n        -&gt;body('&lt;p&gt;hi world&lt;/p&gt;')\n        -&gt;embed(['img/ban.png', 'img/about.png'])\n        -&gt;attach('img/test.pdf')\n        -&gt;send();\n\n大家觉得如何，明天我把源码整理下贴出来。\n</code></pre>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>如果没有phpdotenv, 需要把相应的env()改下。</p>\n<p>推荐封装一个css_inline函数。</p>\n<p>如果没有Facde，使用方法：</p>\n<pre><code>\n$mailer = new \\Classes\\Mail;\n\n\n$mailer-&gt;to('tom@example.com')\n        -&gt;subject('test subject')\n        -&gt;body('&lt;p&gt;hi world&lt;/p&gt;')\n        -&gt;embed(['img/ban.png', 'img/about.png'])\n        -&gt;attach('img/test.pdf')\n        -&gt;send();\n\n</code></pre>\n</div></div>", "<div class=\"topic_content\">源码在此：/t/342029#reply0</div>"], "reply": "5", "tittle": "分享基于 PHPMailer 的 mail 函数", "comment": ["官人我要～", "官人我还要～", "官人我要要要～", " \r", " \r", " 源码在此 ", "我也分享一个 PHP 发送邮件的代码\r", "PHP 高级特性之实现 SMTP 邮件发送 "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>php 页面写了一个 array() 通过 json_encode() echo 出一个 json 字符串作为 api 页面.</p>\n<p>然后发现这个页面在使用 c#程序获取的时候前面会多出一个字符,经过测试不是 utf-8 bom 这个东西,但是不知道如何解决...懵逼</p>\n</div></div>", "<div class=\"topic_content\">解决了,echo 之前加 ob_clear();\r<br>\r<br>代码有顶格,无 bom, 是 utf-8.</div>"], "reply": "29", "tittle": "如何解决 PHP 输出 json 页面的时候,程序获取时前面有一个乱码字符的问题?", "comment": ["你起码也贴一个截图啊", "我也有遇到… android 下解析不了…", "第一感觉就是 utf-8 bom ，可是你又说了不是这个问题，那就不知道是怎么回事了", "给的信息太少了。你现在说的这些正常情况下不会有问题", "八成就是 bom 头, Unix 上用 curl 返回输出到一个文件上去 , hexdump 瞧眼", " 可是只有占一个字符串,而且我去除 bom 还是这样.", " \r", " \r", " \r", "\r", "\r", "ï  这玩意.", "楼主的代码啊， naïve", "我估计就是你哪个文件没顶格 ... 如果你不会全文件查找什么的 ... 用 ob 系列函数把输出清了吧 ...", "这个情况，通常是没转换编码。试下 mb_ 开头的转换函数处理一下，再输出 json 。", "这样怎么解决问题。。。", " 我加了一个 ob_clear 不知道有没有用,有用再告诉你们...", "echo 是不会输出不指定字符的，只可能出现在你的文件没顶格上；\r", "按 16 进制查看你的乱码字符是什么，然后用 grep 去查出这个字符的出处，修改对应文件。", " 文件没顶格是什么意思?", " \r", "\r", "php 文件在<?php 之前的所有字符都原样输出", " 这个肯定顶了,强迫症不允许我不顶", "还有， PHP 结尾如果没其他东西不要写 ?>", " 也没写 直接 Exit 就没写任何东西了...", "找个地方加 header\r", "\r", "\r", "\r", "然后 php 有个命令可以查的，什么地方有额外输出。", "这个我碰到过…… 不知道是不是 TP 的锅，后来我在 nginx 的配置里加上 charset utf8; 就搞定了", " 也没有,非常简单,直接 Header 后面写 echo json 后面写 exit;", " \r", "\r", "写 header 是因为有正文输出后就不能改 header 了，确认是不是有额外输出。", "这事情，九成九是文件编码问题。你某个 php 版本编码可能是非 utf8", "ob_clear ？很大可能这又是个 dirty fix 。\r", "\r", "你应该将返回的 JSON 下载回来，看文件最前面两个字节的数据是什么。", " ï 这玩意.", " \r", "\r", "后面是 C3 AF C2 BB 么？仍然是 BOM 头，只是转换过。而如果是 EF BB BF 则是没有转换过的。\r", "\r", "\r", "\r", "我可以猜想你当前看到的代码应该很乱 :D\r", "\r", "想要解决这个问题，你可以写一个扫描器枚举所有目录，然后找到所有前三个字节是 EF BB BF 的文件，把这些文件从新用 UTF-8 Without BOM 存一下就行了。\r", "\r", "\r", "\r", "\r", "Good luck 。", "  只有ï  没有其他任何东西,尝试用去除 bom 的相关代码,但是根本没有 bom 头的东西.", " \r", "\r", "你有没有扫描过所有的文件？\r", "\r", "一个典型的 PHP 程序文件应该以“<?php 开头”。这个标签开始之前不应该有任何东西，包括不可见字符。\r", "\r", "当然还有一种可能性，就是你手头上的程序主动输出了那些内容。如果是这样， Debug 会变得很复杂：你需要去掉所有的 Output Buffer 控制（就是让内容直接输出），然后用 headers_list 以及 headers_sent 函数检查到底是谁发送了“ï”字符。\r", "\r", "当然，其实如果真是因为主动输出导致出现了 Output Buffer 的问题，可能说明你手头的代码已经很脏了，还是找机会重构吧。", " 厉害了"]},
{"content": "", "reply": "10", "tittle": "sublime 格式化 PHP 代码的插件推荐款吧？ phpfmt 感觉不好用", "comment": ["换 PHPStorm", "换 Notepad++", "全靠手工.", "... 不想换呢 ？", " 不换呢", "跟楼主类似的烦恼。\r", "自己的代码格式正常继续用 sublimetext\r", "然后看别人的代码如果格式不对，就临时切换 phpstorm 格式化了再看。\r", "想想也是有点醉。", "\r", "\r", "好像没有对应的扩展, 我自己写了 build 脚本调用命令行来格式化的", "换 PhpStorm +1", " ", " 额。。你这个看起来好复杂的样子。 看来只能换 phpstorm 咯"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>目前考虑一个项目，想分享音频，考虑传统 c/s 结构，对 s 的要求非常高，考虑现在 p2p 技术已经很稳定，但没有太好的思路和相法，请 v 友们给些建议~</p>\n</div></div>"], "reply": "4", "tittle": "有没有做过音视频 p2p 底层实现的项目，求指导", "comment": ["有 github 地址能指导下也 ok~", "webRTC 可以啊，支持 p2p", "如果是 php ，直接用公有云（乐视云等），直接调用 api 就可做到点播 p2p 。\r", "\r", "如果要自己重头到尾的写，你没有说清楚你要做什么 p2p", "不知道你是想做 P2P 什么，如果是想做一个 P2P 网盘的话，这个工作量有点大......."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>包括核心模块保护、版本管理，环境同步等，有好的解决方案吗</p>\n</div></div>"], "reply": "7", "tittle": "关于 php 项目团队开发解决方案", "comment": ["核心模块保护: 写 C 扩展或封装为服务，提供 API 调用\r", "版本管理： git\r", "环境同步：不知道你说的是不是代码从测试环境同步到生产环境，如果是可以用 walle", "核心可是试试 zephir 编译成 so 扩展，比纯写 c 要效率高。。。。如果不是那么讲究的话，就混淆啥的\r", "\r", "php 同步太 easy 了，直接 git pull 。。。自动化的话就 cron 中 git pull 。。。强烈建议用 docker ，源码目录映射到 host 别用数据卷。。。大概这些", "用 zephir 写一些基础组件，比如 session 操作啊 /数据操作，参考 phalcon 代码改改，这些组件里包含授权机制。。。然后大量在业务代码里用这些基础组件， ok 。。。完美了", " \r", " \r", " \r", "成员负责模块之间的权限呢？譬如 A 负责登陆，那写注册的 B 是无法接触 A 的源码", "核心我们是做了简单加密验证，版本管理我们自己开发了一套 git 服务取名为零云 lygit ，也开源了一个精简版本出来\r", "github: ", "\r", "演示地址： ", "\r", "环境同步 docker 算吗", " 分别写成扩展，登录和注册都属于用户模块，这个粒度太细了，坐等大神解答。", "可以考虑 Homestead+Vagrant+virtualBox 方案来实现环境的一致性。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Vue 2.0 也已经发布一段时间了。曾经有过 windows 平台的开发经验，数据绑定用起来真是前所未有的畅快。没想到那么快，前端开发也迎来了数据绑定，不得不说我听到 Vue 之后激动了好一阵子。</p>\n<p>那么，废话不多说，最近抽出点时间把自己的半年前写的博客系统， <a href=\"https://github.com/forehalo/materialize-blog\" rel=\"nofollow\">Materialize-blog</a>  前端用 Vue 重新撸了一遍。</p>\n<p>基本的界面并没有做太多的改变，框架还是用的 <a href=\"http://materializecss.com/\" rel=\"nofollow\">materializecss</a></p>\n<p>更多说明请移步 <a href=\"https://github.com/forehalo/materialize-blog\" rel=\"nofollow\">github</a> ， 欢迎各位使用，刚刚撸完难免有一些 bug ，各位敬请爆 issue ，爆 PR</p>\n<p>Demo <a href=\"https://forehalo.me\" rel=\"nofollow\">forehalo's blog</a></p>\n<p>虽然最近前端吵得火热，但是该用啥用啥，喜欢啥用啥。</p>\n<p>截图为宽屏效果</p>\n<p><img alt=\"\" src=\"https://c1.staticflickr.com/1/330/31466500560_a0da61e238_z.jpg\">\n<img alt=\"\" src=\"https://c4.staticflickr.com/1/441/31722906731_bb0de9f7f0_z.jpg\">\n<img alt=\"\" src=\"https://c1.staticflickr.com/1/260/31466496080_841ae38644_z.jpg\"></p>\n</div></div>"], "reply": "28", "tittle": "Vuerify 完成！ Materialize-blog 单页模式，开！", "comment": ["\r", "我的也算是吧 0v0", "比我的 github 还慢……", " 服务器在国外 cdn 也在国外 :(", "楼主博客切页时似乎是在滑出动画结束后才发起的 http 请求。看了一下实际上请求很快，但是这样等动画完了才请求给人的感觉非常慢。", "应该用服务端渲染 seo 友好一些", "全站 pjpx ，可以的。。各页面也很舒服\r", "\r", "但就是访问太慢了，一直转圈。。。\r", "\r", "我的也在国外，没这么慢啊。。。\r", "\r", " 有专门的服务器渲染工具，可以对搜索引擎进行服务器端渲染", "别用 Vue 数据绑定控制 body 之外的地方 😂", " 有那么慢吗，我移动校园无线网 3 秒之内首页加载完成，包括第一页文章", " 不知其他 V 友怎么样，我第一次加载差不多 20 秒。感觉太慢了。。。 100Mbps 电信光纤。", " 这个是考虑到了，但是因为是时间关系目前没有深入调整", " 我这边关闭缓存是 5 秒，开着缓存 2.5 秒。看来还是要考虑转移到国内。开了个腾讯云试了一下，速度还是可以的", " 这个是因为我还在找控制 title 比较好的方式   正在尝试 ", " 里提到的方法  绑定到 head 上确实是在玩火", " \r", " \r", "\r", "\r", "\r", "\r", "关于 ajax 的 seo 问题", " 浏览器 disable cache ，完全生无可恋", "laravel vue star+1", "选中 留言处  鬼畜效果不错 /", "MVVM 这种过时的东西…", " 那请教一下最先进的是什么", "不如弄个 hexo 的主题什么的，毕竟现在流行静态啊", "我就在美帝。拉到底下转圈的时间确实有点长", " 单向数据流， like React, Elm, Cycle.js", "前端的数据绑定早就有了吧，又不是 vue 带来的。。。", " React's one-way data flow (also called one-way binding) keeps everything modular and fast.\r", "后两者鄙人水平不够, 只觉得这样用显得有点磨叽，不做其他评价。", " 我的说法有问题，抱歉。前端数据绑定不是 Vue 首创。但是 Vue 的绑定确实让我觉得用起来很舒服", "服务端渲染可以用 [SSR-Proxy]( ", ")", "vue2+ssr ", "看了你们的博客我真是自愧不如。\r", "Orz\r", "by the way .你们的界面是怎么设计的。都挺绚的。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>获取 redis subscribe 的代码</p>\n<pre><code>$redis = new Redis();\n$res = $redis-&gt;pconnect('127.0.0.1', 6379,0);\n$redis-&gt;subscribe(['test'],function ($instance, $channelName, $message){\n\techo $channelName, \"==&gt;\", $message,PHP_EOL;\n    Gateway::sendToAll($req_data['content']);\n    //执行发送 socket 到制定客户端\n});\n</code></pre>\n<p>如果把这段代码\n放到</p>\n<pre><code> Worker::runAll(); \n</code></pre>\n<p>的前面 那么 workerman 就不能正常运行了，如果放在后面那这段代码就不能正常运行了，应该怎么写呢？</p>\n<p>有没 workerman 扫码登录的例子呢？</p>\n</div></div>"], "reply": "1", "tittle": "workerman(GatewayWorker) 配合 php redis Publish/Subscribe 实现扫码登录遇到了问题。", "comment": ["Runall 是常驻，永远走不到后面"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>这是一个北京程序员开发的 App,还在开发中。\n<a href=\"https://www.livecoding.tv/gumoon/videos/K9xpJ-app-for-learning-english-use-laravel-swift-3\" rel=\"nofollow\">https://www.livecoding.tv/gumoon/videos/K9xpJ-app-for-learning-english-use-laravel-swift-3</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "使用 PHP, Swift 开发一个学习英语的 App", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>之前的帖子 <a href=\"https://www.v2ex.com/t/322908\" rel=\"nofollow\">https://www.v2ex.com/t/322908</a></p>\n<p>首先感谢大家之前的指导和帮助，本人进行了一次迭代，新图入下：\n<a href=\"http://www.coderluan.com/wp-content/uploads/2016/11/php-1.jpg\" rel=\"nofollow\">http://www.coderluan.com/wp-content/uploads/2016/11/php-1.jpg</a></p>\n<p>希望大家继续指导，你们的名字会出现在最终版本中。</p>\n<p>原则是“不走捷径，不走弯路，不走远路”\n目标是“帮助那些基础不好又想学编程的人”</p>\n<p>我持保留态度的一些意见：\n1.新手用百度还是谷歌，这个我直接改成搜索引擎，由使用者自己的情况决定。\n2.ThinkPHP 我知道不太好，但是我看招聘需求还是有的，所以暂时保留，希望大家告知招聘面试时是否可以用 Lara 或者 Yii 取代。</p>\n<p>再次声明：\n我不懂 PHP ，只是个想帮人的整理者，也希望得到大家的帮助。\n图中内容随便喷，顺便喷我也行，光喷我的是小狗。</p>\n</div></div>", "<div class=\"topic_content\">再次更新\r<br>\r<br><a target=\"_blank\" href=\"http://www.coderluan.com/wp-content/uploads/2016/11/php.jpg\" rel=\"nofollow\">http://www.coderluan.com/wp-content/uploads/2016/11/php.jpg</a>\r<br>\r<br>还是有个问题\r<br>\r<br>就是从市场占有量，招聘时的需求，笔试面试的概率出发考虑，哪种框架比较好。</div>"], "reply": "34", "tittle": "继续弄 php 向导图，希望大家继续帮助", "comment": [" @", " @", " \r", " @", " @", " \r", " @", " @", " \r", " @", " @", " \r", " +1", "差的很多，这个不叫指南，叫走马观花，微信支付什么鬼，和 php 有必然联系额", " 向导图当然不是指南，你感觉上面的内容都掌握了，还是无法找份工作？那请问缺在哪里。微信和支付我感觉找工作有可能会问到，所以加上的。", "虽然我不是程序员，我也说说自己对这张图的感受，那就是不适合初学者。我认为学习一门语言应该以项目为导向的。如果一味谈语法而没有实践的话，学习到的知识很容易被遗忘。 php 的话我建议选择《 PHP 和 MySQL Web 开发》,虽然个头有点大，但是对于从零开始学习的应该没有问题。而 javascript 的话首选《 JavaScript DOM 编程艺术》，谁用谁知道，这两本书都在我家书柜。数据库的话不应该一开始就谈性能，连基本 crud 操作都不会，其他都是扯谈。我当初学习 sql 用的是《 sql 入门经典第五版》,可惜这本书有点旧，现在基本没有更新，里面的例子不知道还能不能正常运行。", " 微信和支付只不过是上百个常见 API 对接中的一种，做没做过区别不大。语言本身，从入门到熟练干活，不消半个月，熟悉某个库的用法，查一下文档就搞定了。", " 两本书会加入，数据库有 headfirstSQL ，这个很基础吧。性能优化那个是针对 mySQL 的，你感觉看必知必会就行，不需要高性能 MySQL ？", " 首先我道个歉，没有注意到 head first sql ，也不知道基础程度怎样。刚查了下当当网，出版时间是 2009 年，比入门经典第五版要旧，不知道代码还能运行不。如果版本跨度太大，例子已无法运行，建议不要推荐此类书籍。", " 数据库基础甚至不应该是 SQL ，而是模型，模式，范式，依赖，关系代数这类理论。然后针对具体的 DB 引擎研究性能优化。在 DB 之前，还应该学点离散数学和算法分析。", " 离散数学和算法分析  扯远了，这些应该是专门的 DBA 才会深入研究的吧", "如果是帮助零基础想入门编程的人。应该根据萧井陌的编程入门来。知乎专栏。那才是正确之路，从计算机科学的基础开始。我也是零基础自学的，跟楼主的图差不多，学 html css js php mysql ，还没学到框架就学不下去了，总结下就是坑爹。为什么？计算机很多基础概念不懂，结果上手语言也是一脸懵比。学编程，必须先打下计算机科学的基础。比如数据结构，算法，操作系统等等。对了，你 web 基础，至少应该加上 Http 吧", " 每个 211 毕业的计算机或者软件专业的本科生都学过，这个很重要，比如说有时候要自己写个容错的 json 解析器，学没学过编译原理，差别就非常大了", " 客气了，你这样也要道歉，我发了这么帖子只能切腹了。 head first 系列口碑一向不错的。", " @", " 这个是给零基础想入门 PHP 的同学看的，他们应该没太多精力放在数据库理论上，科班出身另当别论。", " \r", "\r", "目标是“帮助那些基础不好又想学编程的人”。换言之就是容易去培训班被坑的人。\r", "你推荐的明显是走科班的路子，我不认为他们有那个时间或者精力，所以重点放到动手能力。\r", "计算机科学基础的话，我可以推荐一本《计算科学导论》作为了解，当故事书读，太具体的课程我建议工作之后慢慢补。", " 基础不好，那就要补基础。至少进制转换你得会吧。什么是 sock 　什么是线程　什么是进程。这些得了解吧。最基础的东西必须得了解，学语言才能事半功倍。我不知道你有没有看过萧井陌(初中生自学成才)的编程入门，但是我希望你能看看。你不一定要认可我的观点，我也只是表达下。", " 那岂不是要把《离散数学及其应用》和《算法导论》加上？", "再说一句，基础不行，连看 php 官方文档也费事。", " 离散数学和算法导论可以先不用上。我觉得计算机科学的基础必须先上。。比如进制转换，线程，进行， socket 概念得懂吧。数据结构也可以先了解基本的吧？链表，树，栈。", " 我觉得吧，底层的东西可以先放到一边， php 程序员什么时候经常会操作二进制数据？应该是业务逻辑为主吧。 php 支持多线程编程吗，如果可以，那我真的是 out 了。另外，我也想知道什么是“ sock ”，你确定你没有打错“ socket ”", " \r", "\r", "我 985 科班出身，那套体系很清楚，所以我也认为直接把那些东西抛给基础不好的孩子，会断了他们这条路。我自然知道萧井陌，所以也不认为人人都能像他一样。专业基础很重要，如果你在读大学时间充足，理科底子好，那样我也推荐你好好打打基础。否则的话，我更推荐偏实用性，先提高动手能力，努力找份工作，工作了之后再慢慢补基础。\r", "\r", "PS ：定位不同，我也只是表达下。", "推荐一个重量级的框架： Symfony ——一个堪称业界典范的纯 PHP 框架。\r", "用惯 Symfony 后的感受就是，用其他框架的时候总感觉少这个缺那个，然后一言不合就改造。\r", "\r", "所以，学习 PHP 框架有一条捷径，就是 Symfony ！", " \r", "\r", "说了不走捷径了。\r", "\r", "好吧，不开玩笑了，确实有人推荐 symfony ，也许他是最好的，但是我有点顾虑，就是这么多框架，他们的市场需求是怎么样的，也就是找工作，笔试，面试哪个最常见。\r", "\r", "不能面试时，对方说我们公司之前框架是 tp ，你熟悉吗？咱们说 fuck off this and go ahead for symfony.", " 嗯。打错了，不好意思。(后面的回复纠正了)大部分都是业务逻辑。我知道用不上二进制。很多东西用不上，但是用上面的东西都是基础下面的东西建立的。了解一些，会更好的使用上面的。个人观点而已。\r", " 嗯嗯。我是野路子出身。虽然背了个 CS 专业。我自学的时候也是像您的向导图一样，因为遭遇了很多懵逼的坑(很多都是自己基础的概念不清楚)。所以才这么强调一定要有点基础。不过我建议你教程加 HTTP 的内容吧。面试的时候会问的。 HTTP 也是做 web 必须要懂的吧。", " 我加上计算机科学导论了，一些基础概念这么课都会涉及，线程啊，数据结构啊，但是不会讲的太深，推荐给使用者当故事书看了。 Http 这个推荐的 MDN 学院上有相关内容的。", " @", " 你们都说得对。 symfony 是不错的，但是我要说的是，学习 symfony 的时间足够入门 php 了。", " 请问一下，就市场需求来说，也就是找工作面试，那么多框架，哪个优先级比较高。", " 这个真不好意思，我不是 interviewer ，不能正确地回答你这个问题。如果是前几年的话，国内 tp 是首屈一指的， zend framework 是国外的重量级框架。近几年很多国外的框架大热，例如 ci, laravel ， yii ，而 laravel 颇有大国崛起的感觉。", " 希望你的向导图能最后强调下基础的重要性。引导他们以后加强基础的学习。“基础不好想学编程的人”也有很多是学生，学生也可以根据自己时间，可以加强点基础。框架的话，以我今年的面试经验， Yii Laravel ThinkPHP 都比较多。", " 、\r", "我打算制作大多数主流的语言的向导图。\r", "专业基础的重要性会在最开始就指出 并且 整理专业基础的学习线路，\r", "所以单独语言的向导图暂时没有", " 谢谢", " 嗯嗯。我没有说要出单独的语言向导。。不好意思，前面语气有点激动了。。我也是希望后来者路更好走。尽管我还是个菜鸟。加油！", " 没事，共勉。"]},
{"content": ["<div class=\"topic_content\">急求解决方案：（前端相关）目前场景下需要实现手机连 wifi 直接打印照片，何解？不能使用 app ，目前的想法是 pc 共享打印机，然后弄个 php/nodejs 这类的轮子来实现，有什么好的推荐吗？急求！\r<br>\r<br>次一点的想法是：弄个 owncloud/seafile ，传到服务器后手动打印，但这个对客户不方便……\r<br>\r<br>所有操作均在局域网内进行</div>", "<div class=\"topic_content\">不要告诉我用 Google Cloud print.\r<br>\r<br>没有外网链接！</div>"], "reply": "3", "tittle": "急求， wifi 打印实现", "comment": ["flask+PIL ，你发问的时间就足够写完了，还是上传+图像处理+打印，说不定还有几分钟美化一下", " 能给点指导吗？还在初学 python ，没接触过大的框架", " flask 属于轻框架了吧？看看文档开搞就好"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>已经换成国内镜像 还是没啥用</p>\n<p>一直卡在：</p>\n<p>Loading composer repositories with package information</p>\n<p>Updating dependencies (including require-dev)</p>\n<p>这里 彦祖们 你们说怎么办 网上没找到什么好方法 特来此地求 彦祖们支招~</p>\n</div></div>"], "reply": "3", "tittle": "如何解决 Composer 安装慢 更新慢问题 彦祖们怎么说？", "comment": [" 大哥 没用啊 已经是国内镜像了 还是卡着\r", "\r", "[repositories.packagist.type] composer\r", "\r", "[repositories.packagist.url] "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>使用 php curl 打开 <a href=\"https://www.google.com/search?q=test\" rel=\"nofollow\">https://www.google.com/search?q=test</a> ，两台办瓦工 vps ，相同代码，一台没问题，一台提示跳转 <a href=\"http://google.com.hk\" rel=\"nofollow\">google.com.hk</a> ，使用 <a href=\"http://httpbin.org/get\" rel=\"nofollow\">httpbin.org/get</a> 返回 header 完全相同；</p>\n<p>测试wget <a href=\"http://www.google.com\" rel=\"nofollow\">www.google.com</a>，也是跳转</p>\n<pre><code>--2016-10-15 05:09:36--  http://www.google.com/\nResolving www.google.com... 172.217.4.164, 2607:f8b0:4007:801::2004\nConnecting to www.google.com|172.217.4.164|:80... connected.\nHTTP request sent, awaiting response... 200 OK\n\n*************************************\nResolving www.google.com... 172.217.4.164, 2607:f8b0:4007:807::2004\nConnecting to www.google.com|172.217.4.164|:80... connected.\nHTTP request sent, awaiting response... 302 Found\nLocation: http://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=                      http://www.google.com.hk/%3Fgws_rd%3Dcr&amp;ust=1476522486997476&amp;usg=AFQjCNGyugZlxwQ                      -bicc0iO0Wz-FFANU0A [following]\n--2016-10-15 05:07:37--  http://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredir                      ect&amp;pval=yes&amp;q=http://www.google.com.hk/%3Fgws_rd%3Dcr&amp;ust=1476522486997476&amp;usg=                      AFQjCNGyugZlxwQ-bicc0iO0Wz-FFANU0A\nResolving www.google.com.hk... 172.217.5.67, 2607:f8b0:4007:801::2003\nConnecting to www.google.com.hk|172.217.5.67|:80... connected.\nHTTP request sent, awaiting response... 302 Found\nLocation: http://www.google.com.hk/?gws_rd=cr [following]\n--2016-10-15 05:07:37--  http://www.google.com.hk/?gws_rd=cr\nReusing existing connection to www.google.com.hk:80.\nHTTP request sent, awaiting response... 200 OK\n</code></pre>\n</div></div>", "<div class=\"topic_content\">申诉没反应，使用 ncr 勉强解决，先访问 google.com/ncr 获取 cookie ，之后带 cookie 访问 google</div>"], "reply": "28", "tittle": " 为什么会跳转到 google.com.hk？", "comment": ["UA 改下看看？", " wget 默认 ua ，一个跳，一个不跳", " 试试", " 打开一次，退出浏览器，以后 ", " 就是国际版，不会跳 hk", " Goole ？", " 我写的一篇博文，可以参考一下。不过基本就是楼上说的方法。", " google😅", "应该是根据 IP 自动跳转", "根据你的 ip 重定向很正常啊。。。", "可能是 cookie 的问题", "我也有两个搬瓦工，一个在洛机山，一个在凤凰城，使用洛机山的 SS ，打开 Google 首页不跳转，使用凤凰城的 SS ，打开 Google 首页就会跳转到 HK ，同一个本地环境，只是切换一下 SS 服务器，为什么？", "跳 HK 的那个莫非装了代理？", "ip 被 Google 当作中国 ip 了，你可以上 Google 搜索任意关键词，下面会提示你当前位置", "先访问一次 ", " ，之后就不会跳了！", " 根据本地语言和 IP 调整的", "是 Google 内置 IP 库识别错误，在阿里云新加坡上这种现象非常常见\r", "\r", "\r", "\r", "可以去这个网页申诉 ， Google  为数不多的客服服务啊\r", "\r", " ", "你的 ip 识别问题而已… Azure 的香港 ip 是广播过去的，打开 google 默认跳到印尼的谷歌", "是不是可以改 accept 头", "那个是根据浏览器区域设置跳的吧  ", "解决方法域名后加 ncr", "学过网络的 DNS 协议没有", "Google 的 IP 库挺坑的，习惯就好", "貌似真是 google 的坑， dns 、 ua 、 cookie 、 accept 都无关，直接在 vps 打开都是跳转，怀疑是办瓦工的 ip 被国内翻墙用的太多，自动识别成中国 ip 了", " 搬瓦工就是国人炒起来的，被墙的差不多了吧", " 修改 Preference 现在好像行不通了,今天上午修改了很多次都自动修改回来.\r", "\r", "Chrome Version: 54.0.2840.59 (64-bit)\r", "OS: Ubuntu 16.04 LTS\r", "\r", "后面直接修改了默认搜索:\r", "\r", "google.com/ncr", " 公用难说，自用基本不会墙", "我的更奇怪, chrome 直接搜索给我跳到 ", "  在设置里改搜索引擎都没用", " 安装#16 尝试申诉吧，不管基本没用"]},
{"content": ["<div class=\"topic_content\">&lt;/?[^&gt;]+&gt;和&lt;/?.*&gt; 这两者都可以匹配 HTML 标签  \r<br>问: 两者有啥区别.  用哪一个更好</div>"], "reply": "6", "tittle": "php 正则问题", "comment": ["好像就是倒数第 2 个字符*和+的区别了", "哦，忘记了，如果是贪婪匹配的话，第一种更好，第二种则可能匹配到多余的东西", " 我大概也知道第一个好 但是希望得到一个更为明确的解释~", "用第二个会把 `<a href=\"\"></a> <a href=\"\"></a>` 这样的匹配为一个。", " 好吧. 确实是这样. 我测试的时候 HTML 都换行了.所以没出现这样的情况.   当 `<a href=\"\"></a> <a href=\"\"></a>`在同一行的时候确实会出现你说的问题  查了下 元字符`.`不能匹配换行符 谢谢各位", "第一个比较好，第二个会回溯"]},
{"content": ["<div class=\"topic_content\">举个栗子:\r<br>\r<br>我使用 /index.php/test/test 可以正常访问\r<br>\r<br>/index.php%2ftest%2ftest 却不正常,返回 404Object not found!\r<br>\r<br>我不知道是哪里出了问题?我的环境是 Ubuntu+Nginx\r<br>\r<br>请指教,谢谢.</div>"], "reply": "4", "tittle": "最近学习使用 CodeIgniter 这个框架,遇到一个 router 使用 urlcode 的问题", "comment": ["本来就是， /index.php/test/test 访问的是 index.php 文件\r", "\r", "但是 /index.php%2ftest%2ftest 访问的是 index.php%2ftest%2ftest 文件", "你为什么会以为 %2f 应该自动转码为'/' ?", " 恍然大悟,感谢", " 原来不能自动转码...恕我无知:-)...."]},
{"content": ["<div class=\"topic_content\">&lt;?php\r<br>class my_cls{\r<br>\tfunction __construct(){\r<br>  \t\t$this-&gt;str=str_split('sfjhfsjfskdksdjkfskjsfkjsfkjfsfjvjhfjhv',1);\r<br>  \t}\r<br>\tpublic function array_index($t){\r<br>\t\treturn array_search($t, $this-&gt;str);\r<br>\t}\r<br>\tpublic function test($str){\r<br>\t\tfor($i=0;$i&lt;floor(strlen($str)/2);$i++){\r<br>\t\t\t$arr = array_map(\"my_cls::array_index\",str_split(substr($str,$i*2,2)));\r<br>\t\t}\r<br>\t}\r<br>}\r<br>\r<br>\r<br>\r<br>\r<br>以上代码在 PHP5.4 是正常的，但是不兼容 5.2\r<br>\r<br>请教一下  my_cls::array_index  应该怎么改才能兼容 PHP5.2 ？</div>"], "reply": "6", "tittle": "语法兼容 5.2 问题", "comment": ["可以試試 array($this, 'array_index')", " 非常感谢，我自己琢磨了一下午，没想到解决起来这么简洁 ^_^", "送个链接给楼主看看 ", " 感谢~", "为毛还要兼容 5.2 。。。", " 买的空间，该空间商只有 5.2 。。。。。。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>原文地址：<a href=\"https://lufficc.com/blog/the-core-conception-of-laravel\" rel=\"nofollow\">Laravel 的核心概念</a></p>\n<p>我是个 Php 新手，所以请教一个问题：</p>\n<p><strong>Php 的变量包括静态变量会在下一次请求时重新初始化，所有的变量在下一次请求都会被 unset,这句话对不对？</strong></p>\n</div></div>"], "reply": "13", "tittle": "分享一片文章： Laravel 的核心概念，另请教 Php 大神。。。", "comment": ["php 不是一个请求一个进程吗？", " 不一定吧", "每个请求之间没关联。不同的生命周期", " 知道了~~", "对的，一个请求一个进程，但是 fpm 模型里进程是可以复用的。", " 好像一般服务器都会对 php 进行优化，核心服务只需要启动一次就行了~~", " 你所说的核心服务是指什么？ php 一般是通过 fpm 提供 web 服务的，基本策略是维护一个 cgi 进程池，优化也只是在进程调度和资源管理方面。 php 是解释执行，即便能靠 opcache 提升性能，性能鸿沟跨不过去，这是机制所决定的。", " 我的意思是 php.ini 的第三方扩展，他们应该是只需要启动一次。。。", "PHP performs garbage collection at three primary junctures:\r", "\r", "When you tell it to \r", "When you leave a function\r", "When the script ends\r", "\r", "只要满足任意一个条件，就会被清理。\r", "跟哪种 SAPI 无关。\r", "跟加载的模块无关。\r", "\r", "如果你这问题里面不存在文字游戏的话，这句话就是对的。", " 启动才加载，想多了", " 你这个很好验证啊 先起 fpm, 然后在 php.ini 注释掉一个组件，再用探针去看这个组件还在不在，你就知道是不是只需要启动一次  😛", " 厉害，谢谢", " 没文字游戏，应该是对的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>团队用的框架是 zf3 ，我们自己弄了一个库，做了很多辅助轮子来方便各个项目使用，包括很多 controller 的 plugin 和 view helper</p>\n<p>这些都是 zf 框架通过 <code>__call()</code> 来使用的</p>\n<p>那么写代码的时候怎么让 PhpStorm 识别这些魔术方法呢，总不能去改框架的代码</p>\n<p>目前的方案是在自己的库里放了个 phpstorm.doc.php 来专门标记文档</p>\n<p>看起来是这样的：</p>\n<pre><code>&lt;?php\nnamespace Zend\\View\\Renderer {\n\n    /**\n     * Class PhpRenderer\n     * @package Zend\\View\\Renderer\n     * @method string foo()\n     * @method string bar(string $arg)\n     */\n    class PhpRenderer {}\n\n}\n\nnamespace Zend\\Mvc\\Controller {\n\n    /**\n     * Class AbstractActionController\n     * @package Zend\\Mvc\\Controller\n     * @method bool myMethod1()\n     * @method bool myMethod2()\n     */\n    abstract class AbstractActionController {}\n\n}\n\n</code></pre>\n<p>这样在项目 composer.json 引入自己的库后， PhpStorm 能识别到这些新增方法，缺点就是会有类重复定义的警告</p>\n<p>另一个头痛的问题是那些 view helper.</p>\n<p>zf 默认模板是 action.phtml 文件，这些模板本质上是被 PhpRenderer-&gt;render()  include 进来的，如果要让 PhpStorm 识别这些 view helper ，需要在文件头注释一个</p>\n<pre><code>&lt;?php /* @var $this \\Zend\\View\\Renderer\\PhpRenderer */ ?&gt;\n\n&lt;p&gt;\n&lt;?php $this-&gt;//此时自动提示会有我们的新增方法 ?&gt;\n&lt;/p&gt;\n\n</code></pre>\n<p>这太麻烦了，我也不想弄个自定义模板在每个.phtml 文件头都插这样一坨奇怪的东西</p>\n<p>大家有什么好的建议不？ PhpStorm 有没有啥插件能做到让 .phtml 这种文件类型 自动预设一些 phpdoc 进去（但是文件里本身不可见）</p>\n</div></div>"], "reply": "3", "tittle": "都 2016 年了， PhpStorm 代码提示遇到__call()大家是怎么完美解决的？", "comment": ["ide-helper,只能这样，参考 [laravel 的 ide helper generator]( ", ")", " 谢谢，第二个问题 有更好的解决办法吗？", " 可以用注释搞定的就用注释呗。反正动态语言的补全套路就是 doc comments ，否则你只能自己写插件了，我相信还是能处理这个问题了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>找了很多暗色的配色结果里边都带黑色的字符，例如</p>\n<p><img alt=\"\" src=\"http://obgtu76jg.bkt.clouddn.com/QQ%E6%88%AA%E5%9B%BE20161014164307.png\"></p>\n<p>我用了好久这个绿色的了， 在暗色背景下，没有黑色的字符</p>\n<p><img alt=\"\" src=\"http://obgtu76jg.bkt.clouddn.com/QQ%E6%88%AA%E5%9B%BE20161014165145.png\"></p>\n<p>Sublime 的暗色背景下，各种色彩特别鲜艳，我想换。</p>\n</div></div>"], "reply": "1", "tittle": "phpStrom 有没有像 Sublime 一样的配色呢？", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题 当遇到多个表关联 需要查询出来的 时候 考虑到效率和资源的问题 是应该联表还是 foreach 第一张底表 然后去各个表里单独查询？\n还是有说有更好的解决办法？\n还有个问题 就是一般排序的话是用 mysql 的 ORDERBY 还是拿出来用 PHP 排序？ MYSQL 的 ORDERBY 的开销太大 而 PHP 对一些二维三维数组排序貌似不是很友好？</p>\n<p>谢谢各位</p>\n</div></div>"], "reply": "6", "tittle": "请问下 PHP 里面遇到联合查询是用 foreach 还是用联表查询", "comment": ["哪怕分开查询，也可以做到不用 foreach 每个表去查。\r", "可以参考 laravel 框架的 ORM 设计", "php 中如果追求速度、效率，可以这么干：查出一个表的数据，然后丢给 php 变量，最后通过 php 的自身去拼凑数据。熟读会快很多，直接在 php 里 foreach 进行表查询，其实本质上是执行多了 N 次的数据库操作，如果不追求速度和效率可以这么干，写代码省事，如果要优化，最好别这么干", "请使用 laravel 框架，一次性解决你说的各种问题", " 谢谢提醒 现在是一些老的项目的优化和改进，想知道如何优化会比较有效率。\r", "\r", " 谢谢大大 请问下就是说 foreach 里面查询是肯定不可取的 那接着就剩下联表和您说的这个通过 PHP 的拼凑，这样的话是否开发上会有点不太友好（就是比较麻烦←，←）", "肯定不能在 foreach 查询，可以先查一个表的数据，然后用 in 查另外一个表，再映射下返回", "可以去看一下 ORM 的 N+1 问题。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>简单描述些现象:</p>\n<p>主机环境： linux ， mysql,php</p>\n<p>程序很简单， php 进行简单的 mysql 数据查询，计算目标数据的和值。</p>\n<p>前几天突然发现程序不能返回结果，今天又正常了，感觉可能主机不稳定，数据返回出错很正常。</p>\n<p>最不可思议的一幕出现了：发现数据查询的返回结果不正确，每一次返回的结果数字都不一样！是不一样！</p>\n<p>有没有 mysql 或者 php 大牛可以给我解解惑？</p>\n</div></div>"], "reply": "8", "tittle": "最不可思议的 php 程序出错", "comment": ["你知道实际执行的 SQL 语句是啥吗？ 手工执行 SQL 语句看看？里面是不是含有当前时间的变量所以每次都不一样？", "贴一点代码？", "感谢楼上朋友先，错误原因已找到，数据计算是使用了百度 apistore 汇率转换接口，调用的这个接口的时候不是每次都成功返回数据，导致最后汇总计算出错。", "这个标题一点也不吸引人:P", "\r", "\r", "现在年轻人", "也是服了楼主，啥也没说清楚。看到这标题我就有预感了，不要老想着搞个大新闻", "由于程序非常简单，忽略了含有公开查询接口调用，标题就是当时发现这个错误时候的感受。编辑了。", "这是一种态度，出现问题先怀疑别人错了"]},
{"content": ["<div class=\"topic_content\">这些年 Web 领域新技术 /框架 /库层出不穷，但有部分讨论帖脱离具体的业务场景讨论问题。\r<br>例如今天的招聘广告贴： <a target=\"_blank\" href=\"https://www.v2ex.com/t/312651\" rel=\"nofollow\">https://www.v2ex.com/t/312651</a>\r<br>\r<br>这给人一种面向简历开发的感觉。这是我的理解出现偏差还是别的原因造成的？</div>"], "reply": "12", "tittle": "这些年 Web 领域新技术/框架/库层出不穷，但部分讨论帖有一种脱离了业务的感觉，这是我理解出现了偏差么？", "comment": ["因为你没搞过 Java ，搞过 Java 的人都知道， MVC ORM DI AOP XXX 这些都是 Java 业界玩剩下的东西，\r", "\r", "PHP5 才开始完全支持 OO\r", "\r", "Java 自从 1998 年发布 JavaEE 规范开始，模块化 分层解耦 就根植于 Java 的 web 开发当中，而 Java 一开始就是一门\r", "非常好的 OO 语言，而且 JVM 运行时支持反射 以及 代理，为框架 DI AOP 提供了支持\r", "\r", "PHP5 才开始完全支持 OO\r", "\r", "从 SpringMVC 以及 xBatis 流行开始， Java 就从 JavaEE 重型框架中摆脱出来了，开始走轻量化之路 加上 Java 社区原本大量的开源后端模块\r", "\r", "然而 PHP5 才开始完全支持 OO", " Java 自从 1998 年发布 JavaEE 规范开始，模块化 分层解耦 就根植于 Java 的 web 开发当中\r", " \r", "是 JavaEE", " \r", "\r", "然而我的疑惑并不在 OO ，而是这类文章经常脱离业务谈论各种框架\r", "就像 ORM ，并不是所有场景都适合用 ORM ，但这个帖子直接认为 2016 年没人写 SQL", " 然而 php5 也是 2005 年发布的，也已经 10+年了，别说的好像刚发布一样。另外国内的 php 环境至少落后国际上一个时代，看看 composer 在国内和国际的普及程度就知道了。\r", "顺便说一句，那个帖子里提到的很多东西，我觉得更多的是借鉴 ruby （更准确的说， ror ）而非 java 。\r", "\r", "\r", " 绝大多数业务场景还不需要考虑运行效率，而 ORM 在那些场景下能够大幅提升开发效率。", " \r", "然而我也没提到运行效率。\r", "如果是面对复杂的业务系统的时候（各种 ERP ）， SQL 能比 ORM 有更高的灵活性。", " 我觉得需要些复杂 sql 的时候，一般来说首先就不会选择 MySQL 了。。。然后跟着也不大会考虑 PHP 了。。。（国内 php+pgsql 的组合几乎没见过，日本那倒不少）", " 但是 SQL 有更高的维护成本，新人更难加入开发的队伍， Java 的出现就是为了让萌新都能成为干活的队友出现的。绝大多数的所谓灵活性都是为了一时自己开发爽。一个系统从业务逻辑以及架构设计上调整去适配 ORM 我觉得才是正路，因为 ORM 的学习成本比 SQL 低，那么就代表要成为你队友的门槛低，工作能通过堆实习生解决的问题都不是问题。\r", "当然你的队友都很强，你们都能写出壮健性能高简洁明了的代码，那么当我没说。", " 你可以考虑轻量级 ORM 框架 xBatis 就是", " 有点时候我有点怀疑 MyBatis ， SQL 几乎全部手写，当然也有自动生成工具，全手写的话，还有意义么？", " 看来你们都是面对场景并不复杂的互联网应用啊，对于企业内部的一些表单型的数据，很多时候除了 SQL 以外没别的建库形式可以替代的。\r", "\r", " 请指教 SQL 更高的维护成本从何而来。事实上在使用过程中 SQL 会抽象成一个个 API 再进行调用的。\r", "（某些数据多表关联写入的情况下必定要抽象出一个 API 进行处理）\r", "写 SQL 可不意味着是业务内直接写 SQL 语句，也不意味着是拼接 SQL 语句，查询生成还是要有的。", " 我说的 SQL 维护成本高就是指新人需要懂 SQL ，我更加指的是裸 SQL 。\r", "你说的查询生成在我看来本质上就是 ORM ，你这样用没有问题，只不过你有没有试过 benchmark ？性能有没有提高？文档跟其他的 ORM 框架比起来怎么样？总不可能每个接触这套东西的人都来人肉问你吧？就算你愿意回答，你真有这么多时间吗？这些在我看来都是维护成本，至于为什么说裸 SQL 维护成本更大呢？原因是新人不用去了解各个数据库的 SQL 实现，他也不用去思考你这套东西跟已有部件的组合。\r", "同时不要神化 SQL ， SQL 能解决很多问题，但是用程序一样能解决，比如外键什么的都能自己进行检查来约束，数据库完全可以当成一个存储引擎外加+SQL 接口的组件来使用\r", "我并不是排斥 SQL ，任何的事情都是要看环境的，你们适合的不一定适合其他人，可能你们本身团队的人员就比较强，我讨论的只是普遍情况下 ORM 可以解决大多数问题，而且很多问题可以通过软件设计来配合使用纯 ORM 的方式进行开发。", "ORM 不用刻意使用啊，如果你用了 Yii 框架，就自然而然用上 ORM 了。"]},
{"content": ["<div class=\"topic_content\">我们现在的服务器是 linux+apache+php+mysql\r<br>上面运行了一个 wordpress 网站\r<br>有人建议我们换成 linux+nginx+php+mysql,说 LNMP 比 LAMP 快很多.\r<br>\r<br>我个人认为没太大必要.因为 nginx 的优点是处理静态资源,但 WP 的主要问题在于 php 运行慢以及读写数据库次数多上面, 并且我们用了七牛 CDN 缓存了所有静态文件. 所以我们需要处理的静态资源并不多.\r<br>\r<br>另外今天看了这篇 <a target=\"_blank\" href=\"https://www.90.cx/php-mode/\" rel=\"nofollow\">https://www.90.cx/php-mode/</a>, 文章中实测证明了 lnmp 的效果并不比 lamp 高.\r<br>\r<br>请大家给点意见,要不要换成 LNMP 呢?</div>"], "reply": "6", "tittle": "将 LAMP 换成 LNMP 有必要吗?", "comment": ["运行没有压力就没必要换。快到不至于， nginx 优势在于并发。", "看运行压力吧，压力比较大的可以加塞一个 Nginx 处理并发，再往上走可以考虑加服务器或升级配置了", "没有。\r", "Apache 的缺陷在于一般系统自带的 Prefork 和 mod_php 在大并发的环境下大口吞食内存的问题。\r", "如果你已经用了 Apache Event + PHP-FPM ，那换 Nginx 没什么必要。\r", "PS: Nginx 处理动态请求的速度也很不错的，看看 OpenResty 吧。", "看你需求吧，我的换成 lnmp 后速度的确快了不少", "即使 nginx 不比 apache 快，也应该换，因为只有换了，才能多学到一些东西，而不是面试的时候别人问你：会 nginx 吗？你只好说：我只会 apache 。然后享受面试官鄙夷的眼神。"]},
{"content": ["<div class=\"topic_content\">执行什么都报 [ErrorException] undefined index: 冒号后面没有任何提示, 初来乍到, 求帮助啊...</div>"], "reply": "8", "tittle": "求助, laravel artisan 任何实际命令均无法执行, 都报 [ErrorException] undefined index:", "comment": ["检查你 app 文件夹下面的 php 那边出错了也会影响到 artisan", "建议查看 log 看看是哪个文件的第几行出错", "Phpstorm 单步调试。。。", " 你是指所有的 php 文件都要查看? 整个工程我是直接 clone 下来的, 什么都没改过...", " 日志默认是在 storage/logs 里面? 里面什么都没有...", " 调试啊。。 最通用，快速的方法了", "已解决, .env 内容有些问题.", "而且有时候还可能是 composer install 没有执行一次"]},
{"content": ["<div class=\"topic_content\">专注于特别关注💌\r<br>\r<br>因为半年前在写程序的时候需要建立一个知乎特别关注的 API ，但是苦寻网络没有发现相关 API ，于是决定自己造车，而现在发现有一个基于 Node 的轮子，又不甘于放弃本轮子，于是就有了现在这个轮子，基于 phpQuery 实现。\r<br>\r<br>可以实现抓取特定人的最近动态💌。\r<br>\r<br>项目地址： <a target=\"_blank\" href=\"https://github.com/yfgeek/ZhihuAPI\" rel=\"nofollow\">https://github.com/yfgeek/ZhihuAPI</a>\r<br>\r<br>题外话，爬虫的角度来讲， phpQuery 真好用...</div>"], "reply": "11", "tittle": "php 新手造轮子 知乎 API", "comment": ["Activity.class.php\r", "....\r", "User.class.php\r", "\r", "我给 0 分。。。。", " 为什么呢", "TP 的命名方式。。。", " 多谢提醒 改啦 😂", " 嗯呢 之前写过 TP...", " \r", "\r", "不说单元测试和测试覆盖率，自动加载标准，先看看行业标准吧\r", "\r", " 谢谢~", "querylist 也不错", " 昨天看到了，那个是基于 phpQuery 的，更强大", "\r", "\r", "\r", "不要直接用 require 了……", "页面解析，还是喜欢 DOMCrawler"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>网页技术小白，想做个玩玩</p>\n</div></div>"], "reply": "3", "tittle": "请问类似 v2ex， segmentfault 这种问答网站，有什么好用的框架呢", "comment": ["只是玩的话找找 PHP 的论坛框架不就完了。。。环境搞定，不用管 build 、 restart 简直舒服。", " 论坛的形式不够直观， 太繁杂。\r", "我需要首页问答列表， 相互 at ， 标签分类等， 最主要的是前端外观， 我对前端页面实在做不好。", "wecenter 不错啊"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Typo3 6.2.26 升级到 7.6.10 后前台页面样式全无，暂时怀疑是由于升级后缺少“ TYPO3 CMS Frontend (TypoScript)”这个系统自带插件。如果有了解 Typo3 的同学，走过路过，指点一下。谢谢~</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "Typo3 6.2.26 升级到 7.6.10 后前台页面样式全无", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我准备编译安装 php 扩展</p>\n<pre><code>/php-7.0.11/ext/xsl\n/usr/bin/php/bin/phpize\n</code></pre>\n<p>当使用了 phpize 这个命令之后，应该出现的 configure 脚本居然没有出现，只出现了几个, 执行 ls 查看的结果</p>\n<pre><code>root@ubuntu:~/php-7.0.11/ext/xsl# ls\nacinclude.m4  build         config.m4   configure.in  CREDITS     ltmain.sh        missing        php_xsl.c  run-tests.php  xsl_fe.h\naclocal.m4    config.guess  config.sub  config.w32    install-sh  Makefile.global  mkinstalldirs  php_xsl.h  tests          xsltprocessor.c\n</code></pre>\n<p>难道这其中有什么变动吗？搜索了一圈之后没找到结果，特来请假大家</p>\n<p>谢谢</p>\n</div></div>"], "reply": "3", "tittle": "php7 的 phpize 不生成 configure", "comment": ["请假==>请教", "解决了，安装 automake 即可，之前没想到这块", "难道没报错？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我剛剛在 StackOverflow 上提的問題，求解答。</p>\n<p><a href=\"http://stackoverflow.com/questions/40135511/laravel-how-to-find-models-which-has-specific-latest-related-model\" rel=\"nofollow\">http://stackoverflow.com/questions/40135511/laravel-how-to-find-models-which-has-specific-latest-related-model</a></p>\n<p>一個 Package 模型，有許多 Step 模型。 Step 的字段中有這樣兩條， tinyint 型 status 字段和 時間戳字段。\n假設一個 Package A ，有下列 steps</p>\n<ul>\n<li>18 號 10 點， status 爲 1</li>\n<li>19 號 9 點， status 爲 2</li>\n</ul>\n<p>假設一個 Package B ，有下列 steps</p>\n<ul>\n<li>19 號 8 點， status 爲 1</li>\n<li>19 號 9 點， status 爲 2</li>\n<li>19 號 10 點， status 爲 3</li>\n</ul>\n<p>這樣 A 的最新 step status 是 2 ， B 是 3.</p>\n<p>然後，如何查詢出最新 step status 爲 2 的 packages ？</p>\n<p>我嘗試在 package 模型中加入</p>\n<pre><code>public function steps()\n{\n    return $this-&gt;hasMany('App\\Step');\n}\n\npublic function status()\n{\n    return $this-&gt;steps()-&gt;latest()-&gt;limit(1);\n}\n</code></pre>\n<p>然後這樣查詢</p>\n<pre><code>Package::whereHas('status', function ($q) {\n    $q-&gt;where('status', 2);\n})-&gt;get();\n</code></pre>\n<p>但是卻不能得到期望的結果。</p>\n<p>所謂不是期望的結果，指的是，如果， packages 表 裏面，衹有 B 這一個，我想查詢出最新 step status 爲 2 的 packages ， B 最新是 3 所以應該結果爲空，但這樣查詢出結果并不是空，而是包含了 B 。</p>\n<p>然後我試著換成</p>\n<pre><code>public function status()\n{\n    return $this-&gt;hasOne('App\\Step')-&gt;latest();\n}\n</code></pre>\n<p>也還是一樣。</p>\n<p>剛學 Laravel ，遇到這個問題很困惑，也查了很多 Google ，都沒有想要的答案。希望大家幫幫我，多謝！</p>\n<p>用的 Laravel 5.3</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "Laravel 如何查詢一個模型的含有特定條件的最新的關聯模型？", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我想使用 ThinkSNS 与自己网站的用户表进行无缝对接。查看不完整的官方文档看到在插件里面有一个三方登录插件库，但是里面支持的东西已经写死。所以想问一下有没有什么好的办法能够使用主站的账号与 ThinkSNS 账号共用？</p>\n</div></div>"], "reply": "7", "tittle": "ThinkSNS 如何对接自己的网站？", "comment": ["改写用户登录逻辑", " 能否详细说一下或者提供一些案例 Or 文档呢？谢谢！", " 就是二次开发，让 thinksns 读取你原有的用户表，或者你去读 thinksns 的用户表。涉及到密码 hash 的问题，前者稍简单一点。", " 你怎么看他的二次登陆？我看里面都用了 OA ，然后我在主站开个 OA 怎么样？这样貌似不会破坏 SNS ？因为开发周期较紧，我担心单纯修改登录会不会出问题？", "有程序员么？\r", "\r", "没有的话，说啥都没用。不像装个程序那么简单的", " 看了一下 SNS 与我们主站使用的不是一个数据库 如果改 SNS 让他查主库的表 需要单独做查询 感觉复杂度不亚于使用 OA 接口 安全与稳定性不如使用 OA 了 谢谢你！", "thinksns 代码真是糟糕得一比啊"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"Laravel 5.3 中文文档\" src=\"http://laravelacademy.org/wp-content/uploads/2016/08/laravel-5-3-docs.jpg\"></p>\n<p>由 Laravel 学院提供的 Laravel 5.3 中文文档已于昨日全部翻译完成： <a href=\"http://laravelacademy.org/laravel-docs-5_3\" rel=\"nofollow\">http://laravelacademy.org/laravel-docs-5_3</a></p>\n<p>与此同时对有离线文档需求的同学提供离线文档下载（目前仅支持 CHM ， PDF 格式将于今天晚些时候放出）： <a href=\"http://laravelacademy.org/resources-download\" rel=\"nofollow\">http://laravelacademy.org/resources-download</a></p>\n<p>当然英文水平较高的同学可无视，直接浏览官网文档： <a href=\"https://laravel.com/docs/5.3\" rel=\"nofollow\">https://laravel.com/docs/5.3</a></p>\n<p>希望对大家有所帮助，水平有限，纰漏之处，欢迎指正！</p>\n</div></div>"], "reply": "11", "tittle": "Laravel 5.3 中文文档已经翻译完成并提供离线文档下载", "comment": ["感动！", "感谢", "phalcon 那垃圾文档，就没个大神来翻译下吗？", "路过点个赞！", "大赞！\r", "\r", "很喜欢 Laravel\r", "\r", "不过一直不知道怎么发音", " 来弱沃", " 也翻译完了啊，不过他们是一人翻译一章完成的。", " 各有各的好处 一个人翻译的话保证整体风格一致 避免措词问题导致的不必要的理解障碍", " 哈哈 这个真的不可名状", "可以 dash 的文档包？", "非常赞，感谢！"]},
{"content": ["<div class=\"topic_content\">PHP 有什么拓展库可以读出 PDF 和 Word 的页数\r<br>\r<br>我用的是 laravel\r<br>\r<br>需要实现用户上传文件，读取文件有多少页。</div>"], "reply": "2", "tittle": "PHP 有什么拓展库可以读出 PDF 和 Word 的页数", "comment": [" 这个只能读取 PDF 文件的，无法处理 DOC 文件啊"]},
{"content": ["<div class=\"topic_content\">Laravel 5.3 如何优雅的进行前后台分离?前台 <a target=\"_blank\" href=\"http://www.xxx.com\" rel=\"nofollow\">http://www.xxx.com</a> 后台 <a target=\"_blank\" href=\"http://www.xxx.com/admin/\" rel=\"nofollow\">http://www.xxx.com/admin/</a></div>", "<div class=\"topic_content\">首先谢谢各位的指点，我知道怎么做了。其次，对于我举例的 url ，对不起。以后我使用 <a target=\"_blank\" href=\"http://example.org\" rel=\"nofollow\">example.org</a> 这种形式。</div>"], "reply": "12", "tittle": "Laravel 5.3 如何优雅的进行前后台分离", "comment": ["route 里面直接写不优雅吗", "路由组+中间件，还不够优雅吗……", "买一台神州优雅当服务器。 啦，啦啦啦，啦啦", "你这网址真有内涵......", "我居然优雅的点进去了...~", "优雅的点进去被同事看到了", "为什么不是 admin.xxx.com?", "如果只是想随意拿个域名举例，请用 ", "你可以把前后台的 VC 部分都写成一个 service provider ，公用 M 和其他 lib 。能做成 composer 包都做成 composer 包，然后部署的时候独立部署。", " 谢谢你的建议。\r", " 谢谢， 我现在就是这样解决的。\r", " 我没想到这个举例的 url 会是。。。，抱歉。\r", " 我没想到这个举例的 url 会是。。。，抱歉。\r", " 我没想到这个举例的 url 会是。。。，抱歉。\r", " 我没想到这个举例的 url 会是。。。，抱歉。\r", " 路由组可以实现二级域名的形式，我现在在慢慢捣鼓\r", " 我长教训了，以后我会注意的，谢谢。\r", " 前辈，我现在还是个 PHP 新手，以后我会学着写成 service provider 的，谢谢。", "推荐一下这个工具 "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>CAS 是一个业内著名的单点登录协议， Client 端各个语言版本都有，但 Server 端只有 java 版本，这让我很不爽，因为对 java 不是很熟悉，想在那基础上二次开发会比较蛋疼，所以一直以来就想写一个基于 PHP 的 CAS 服务端。</p>\n<p>之前在 github 上开了一个坑 <a href=\"https://github.com/leo108/simple_cas_server\" rel=\"nofollow\">simple_cas_server</a> ，然而在设计时没有考虑清楚定位，既想实现 CAS 协议的服务端逻辑，又想加入用户管理、服务管理等等一堆东西。而这种类型开源项目的受众基本是中小型企业，他们是需要一个 CAS 的服务端，但用户管理这类的周边需求不尽相同，有的可能还要求集成第三方登录，功能做多做少都不合适，所以决定拆分成两个项目：一个专注于实现 CAS 服务端逻辑，不包含任何与用户交互的前端代码；另一个依赖于前者，对外提供用户、服务管理的入口，并尽可能的插件化，使用者可以根据自己的情况定制。</p>\n<p>于是在一个月前重新开了两个坑：</p>\n<p><a href=\"https://github.com/leo108/laravel_cas_server\" rel=\"nofollow\">laravel_cas_server</a> 负责实现 CAS 协议的逻辑。单测已经比较完善，代码覆盖率超过 90%。目前并没有实现 proxy 相关的逻辑，这是接下来要做的事情。</p>\n<p><a href=\"https://github.com/leo108/php_cas_server\" rel=\"nofollow\">php_cas_server</a> 负责与用户的交互，包括用户管理、服务管理，可通过插件的方式增加用户登录方式，如微信扫一扫登录。今天把<a href=\"https://github.com/leo108/php_cas_server/wiki/%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3\" rel=\"nofollow\">文档</a>写差不多了，欢迎入坑。</p>\n</div></div>"], "reply": "5", "tittle": "基于 Laravel 的 CAS 服务端程序", "comment": ["一泓我发现你哪里的 id 都一样啊", " 这样辨识度比较高 = =", " 确实很高", "你这样会被撞库的", " 通过配置禁用邮箱+密码登录，只允许走第三方登录，如何撞库？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我从网上找了个 BBCode 转 HTML 的 PHP 类，但是我使用时发现换行都是<code>&lt;br /&gt;</code></p>\n<p>我想把<code>&lt;br /&gt;</code>给换成<code>\\n&lt;br&gt;</code>，但是我在里面只找到两个，而且修改后仍然是<code>&lt;br /&gt;</code>。</p>\n<pre><code>&lt;?php\nerror_reporting(E_ALL &amp; ~E_DEPRECATED);\nclass bbcode {\nprivate static $simple_search=array(\n'/\\[b\\](.*?)\\[\\/b\\]/is',\n'/\\[i\\](.*?)\\[\\/i\\]/is',\n'/\\[u\\](.*?)\\[\\/u\\]/is',\n'/\\[s\\](.*?)\\[\\/s\\]/is',\n'/\\[size\\=(.*?)\\](.*?)\\[\\/size\\]/is',\n'/\\[color\\=(.*?)\\](.*?)\\[\\/color\\]/is',\n'/\\[center\\](.*?)\\[\\/center\\]/is',\n'/\\[font\\=(.*?)\\](.*?)\\[\\/font\\]/is',\n'/\\[align\\=(left|center|right)\\](.*?)\\[\\/align\\]/is',\n'/\\[url\\](.*?)\\[\\/url\\]/is',\n'/\\[url\\=(.*?)\\](.*?)\\[\\/url\\]/is',\n'/\\[mail\\=(.*?)\\](.*?)\\[\\/mail\\]/is',\n'/\\[mail\\](.*?)\\[\\/mail\\]/is',\n'/\\[img\\](.*?)\\[\\/img\\]/is',\n'/\\[img\\=(\\d*?)x(\\d*?)\\](.*?)\\[\\/img\\]/is',\n'/\\[img (.*?)\\](.*?)\\[\\/img\\]/ise',\n'/\\[quote\\](.*?)\\[\\/quote\\]/is',\n'/\\[quote\\=(.*?)\\](.*?)\\[\\/quote\\]/is',\n'/\\[code\\](.*?)\\[\\/code\\]/is',\n'/\\[sub\\](.*?)\\[\\/sub\\]/is',\n'/\\[sup\\](.*?)\\[\\/sup\\]/is',\n'/\\[p\\](.*?)\\[\\/p\\]/is',\n\"/\\[youtube\\](.*?)\\[\\/youtube\\]/i\",\n\"/\\[gvideo\\](.*?)\\[\\/gvideo\\]/i\",\n'/\\[bull \\/\\]/i',\n'/\\[copyright \\/\\]/i',\n'/\\[registered \\/\\]/i',\n'/\\[tm \\/\\]/i',\n);\nprivate static $simple_replace=array(\n'&lt;strong&gt;$1&lt;/strong&gt;',\n'&lt;em&gt;$1&lt;/em&gt;',\n'&lt;u&gt;$1&lt;/u&gt;',\n'&lt;del&gt;$1&lt;/del&gt;',\n'&lt;span style=\"font-size: $1;\"&gt;$2&lt;/span&gt;',\n'&lt;span style=\"color: $1;\"&gt;$2&lt;/span&gt;',\n'&lt;div style=\"text-align: center;\"&gt;$1&lt;/div&gt;',\n'&lt;span style=\"font-family: $1;\"&gt;$2&lt;/span&gt;',\n'&lt;div style=\"text-align: $1;\"&gt;$2&lt;/div&gt;',\n'&lt;a rel=\"nofollow\" href=\"$1\"&gt;$1&lt;/a&gt;',\n'&lt;a rel=\"nofollow\" href=\"$1\"&gt;$2&lt;/a&gt;',\n'&lt;a href=\"mailto:$1\"&gt;$2&lt;/a&gt;',\n'&lt;a href=\"mailto:$1\"&gt;$1&lt;/a&gt;',\n'&lt;img src=\"$1\" alt=\"\" /&gt;',\n'&lt;img height=\"$2\" width=\"$1\" alt=\"\" src=\"$3\" /&gt;',\n'\"&lt;img \". str_replace(\"&amp;#039;\", \"\\\"\",str_replace(\"&amp;quot;\", \"\\\"\", \"$1\")) . \" src=\\\"$2\\\" /&gt;\"',\n'&lt;blockquote&gt;$1&lt;/blockquote&gt;',\n'&lt;blockquote&gt;&lt;strong&gt;$1 wrote:&lt;/strong&gt; $2&lt;/blockquote&gt;',\n'&lt;pre&gt;$1&lt;/pre&gt;',\n'&lt;sub&gt;$1&lt;/sub&gt;',\n'&lt;sup&gt;$1&lt;/sup&gt;',\n'&lt;p&gt;$1&lt;/p&gt;',\n\"&lt;object width=\\\"425\\\" height=\\\"350\\\"&gt;&lt;embed src=\\\"https://www.youtube.com/v/$1\\\" type=\\\"application/x-shockwave-flash\\\" width=\\\"425\\\" height=\\\"350\\\"&gt;&lt;/embed&gt;&lt;/object&gt;\",\n\"&lt;embed src=\\\"https://video.google.com/googleplayer.swf?docId=$1\\\" type=\\\"application/x-shockwave-flash\\\" style=\\\"width: 425px; height: 350px;\\\"&gt;\",\n'&amp;bull;',\n'&amp;copy;',\n'&amp;reg;',\n'&amp;trade;',\n);\nprivate static $lineBreaks_search=array(\n'/\\[list(.*?)\\](.+?)\\[\\/list\\]/sie',\n'/\\[\\/list\\]\\s*\\&lt;br\\&gt;/i',\n'/\\[code\\](.+?)\\[\\/code\\]/sie',\n'/\\[\\/code\\]\\s*\\&lt;br\\&gt;/i',\n'/\\[\\/quote\\]\\s*\\&lt;br\\&gt;/i',\n'/\\[\\/p\\]\\s*\\&lt;br\\&gt;/i',\n'/\\[\\/center\\]\\s*\\&lt;br\\&gt;/i',\n'/\\[\\/align\\]\\s*\\&lt;br\\&gt;/i',\n);\nprivate static $lineBreaks_replace=array(\n\"'[list$1]'.str_replace('&lt;br&gt;', '', '$2').'[/list]'\",\n\"[/list]\",\n\"'[code]'.str_replace('&lt;br&gt;', '', '$1').'[/code]'\",\n\"[/code]\",\n\"[/quote]\",\n\"[/p]\",\n\"[/center]\",\n\"[/align]\",\n);\nprivate static function process_list_items($list_items) {\n$result_list_items=array();\npreg_match_all(\"/\\[li\\](.*?)\\[\\/li\\]/is\", $list_items, $li_array);\n$li_array=$li_array[1];\nif (empty($li_array)) {\n$list_items_array=explode(\"[*]\", $list_items);\nforeach ($list_items_array as $li_text) {\n$li_text=trim($li_text);\nif (empty($li_text)) {\ncontinue;\n}\n$li_text=nl2br($li_text);\n$result_list_items[]='&lt;li&gt;'.$li_text.'&lt;/li&gt;';\n}\n} else {\nforeach ($li_array as $li_text) {\n$li_text=nl2br($li_text);\n$result_list_items[]='&lt;li&gt;'.$li_text.'&lt;/li&gt;';\n}\n}\n$list_items=implode(\"\\n\", $result_list_items);\nreturn $list_items;\n}\npublic static function parse($string) {\n$s=(string) $string;\nif (empty($s)) {\nreturn '';\n}\n$s=preg_replace('/\\[url\\=([^( http)].+?)\\](.*?)\\[\\/url\\]/i', '[url=http://$1]$2[/url]', $s);\n$s=preg_replace('/\\[url\\]([^( http)].+?)\\[\\/url\\]/i', '[url=http://$1]$1[/url]', $s);\n$s=nl2br($s);\n$s=preg_replace(self::$lineBreaks_search,self::$lineBreaks_replace, $s);\n$s=preg_replace(self::$simple_search, self::$simple_replace, $s);\n$s=preg_replace('/\\[list\\](.*?)\\[\\/list\\]/sie', '\"&lt;ul&gt;\\n\".self::process_list_items(\"$1\").\"\\n&lt;/ul&gt;\"', $s);\n$s=preg_replace('/\\[list\\=(disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman|lower-greek|lower-alpha|lower-latin|upper-alpha|upper-latin|hebrew|armenian|georgian|cjk-ideographic|hiragana|katakana|hiragana-iroha|katakana-iroha|none)\\](.*?)\\[\\/list\\]/sie',\n'\"&lt;ol style=\\\"list-style-type: $1;\\\"&gt;\\n\".self::process_list_items(\"$2\").\"\\n&lt;/ol&gt;\"', $s);\nreturn $s;\n}\n}\necho bbcode::parse('[b]Test[/b]\n')\n?&gt;\n</code></pre>\n<p>输出的结果是<code>&lt;strong&gt;Test&lt;/strong&gt;&lt;br /&gt;</code>，我想使它他转成</p>\n<p><code>&lt;strong&gt;Test&lt;/strong&gt;</code></p>\n<p><code>&lt;br&gt;</code></p>\n</div></div>", "<div class=\"topic_content\">结贴， nl2br 后面需要跟个参数</div>"], "reply": "目前尚无回", "tittle": "请教个关于 BBCode 转 HTML 的问题。", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我现在的想法是希望控制器里面的目录格式是这样的：</p>\n<pre><code>Controllers/v1_1/IndexController.php\nControllers/v1_1/ListsController.php\n...\nControllers/v2_1/IndexController.php\n...\n</code></pre>\n<p>因为版本号是在 Accept 里面传过来的，通过中间件进行校验和获取，那么在路由里面应该怎么去做才能做到根据中间件设置好的参数去不同版本里面呢？</p>\n<p>（ 1 ）</p>\n<pre><code>preg_match(\"/; version\\=([0-9\\.]+)$/\", $request-&gt;server(\"HTTP_ACCEPT\"), $params);\nif(isset($params[1]) &amp;&amp; isset($this::$versions[$params[1]])){\n    $appVersion = $this::$versions[$params[1]];\n    $request-&gt;attributes-&gt;add(compact(\"appVersion\"));\n    $return = $next($request);\n}else{\n    $return = response(null,406);\n}\nreturn $return;\n</code></pre>\n<p>（ 2 ）</p>\n<pre><code>$app-&gt;get('/index',[\n    'as'=&gt;'index',\n    'uses'=&gt;'IndexController@index'\n]);\n</code></pre>\n<p>想把（ 2 ）实现为</p>\n<pre><code>$app-&gt;get('/index',[\n    'as'=&gt;'index',\n    'uses'=&gt;appVersion.'\\IndexController@index'\n]);\n</code></pre>\n<p>但是在（ 2 ）这样的时候中间件还没执行，只有（ 3 ）的时候能做到，但是（ 3 ）的形式又怎么去路由给我希望的控制器？</p>\n<p>（ 3 ）</p>\n<pre><code>$app-&gt;get('/index',[\n    'as'=&gt;'index',\n    function () use ($app) {\n        return $app-&gt;request-&gt;attributes-&gt;get(\"appVersion\");\n    }\n]);\n</code></pre>\n<p>是直接在里面 new 吗？还是有什么我没找到的更好一些的方法？\n或者是大家在这样的情况下（版本号在 Accept 中传输）是怎么处理的？</p>\n</div></div>"], "reply": "10", "tittle": "laravel 需要实现版本管理，应该怎么去做比较好？", "comment": ["用 group 然后设置默认参数", "Laravel 的路由支持 namespace ，请看这里： ", "建议你直接使用 dingo ，不但解决你这个问题。\r", "\r", "也会解决你将来可能出现的问题。", " dingo 是什么东西", " 搜一下。。。", "直接全量管理吧\r", "\r", "  /apps/1.1.0/source\r", "  /apps/1.1.1/source", " \r", " \r", "很感谢两位提供的思路，把中间件的逻辑放到这就可以了，非常感谢。\r", "\r", " \r", "dingo 看了下，需要点时间去熟悉，这个可以搞，感谢感谢。", " \r", "这个，不太明白全量是什么意思。", " 我看了下你现在的方法实际上是每个 Controller 一个版本？\r", "\r", "全量更新就是整个 laravel 一个版本，每次发布新建不同版本的 laravel", " 也不是说每个 Controller 一个版本，是这样：\r", "```\r", "Controllers/v1_1/IndexController.php\r", "Controllers/v1_1/ListsController.php\r", "...\r", "Controllers/v2_1/IndexController.php\r", "Controllers/v2_1/ListsController.php\r", "...\r", "```\r", "是从 Controller 这里去控制版本。"]},
{"content": "", "reply": "27", "tittle": "大家都是怎么调试代码的？", "comment": ["Ide", "log", "简单粗暴点就直接 print xxx", "print echo", "xdebug  error_log() var_dump()", "小的项目就 print ，比较复杂的 log", "我是写一点调试一点 请问这种做法正确吗？", "写的过程 会设置好 debug 模式的 log\r", "然后关键地方会预留 log\r", "遇到问题 直接看 log\r", "看不出来 就断点", "1.简单粗暴的方式打印到页面\r", "2.框架如果支持 composer ，如 Laravel 有个很好的 debug 工具\r", "3.日志\r", "4.xdebug 断点\r", "5.单元测试", "前端，少不了 chrome 开发者工具", "gdb", "- printf() \r", "- IDE 自带的调试工具\r", "- valgrind", "print", "脑补 意念 debug", "  \r", "1. echo,exit / var_dump / dd\r", "2. laravel-debugbar [已放弃]\r", "3. laravel > storage/logs/*.log\r", "4. phpstorm + xdebug + chrome plugin[xdebug helper] [推荐]\r", "5. phpunit\r", "\r", "帮你补充, 微笑脸.jpg", "log ？一般低级错误能调试出来。有些 bug 和数据结构或者硬件性能有关，这就要经验了", "每一个方法都做好了边界判断，所以经常连续写几百行才想起来运行一下。逻辑比较复杂的，就在一个单独的文件里，硬编码参数， print 打印一下结果。跑通了，才用一个 function 包起来，拷回去。", "装个 jsonview ， echo json_encode()", "var_dump();", "服务器搭建一个 kibana ，出错了会有错误提示", " debugbar 为什么已废弃", "log\r", "二分", " 只会用 console.log 哭晕", "console.log()", "  JavaScript", "Laravel 自带的帮助函数 dd()", "哎呀没看清，原生 PHP 的话一般是 var_dump(); exit; 过来的"]},
{"content": ["<div class=\"topic_content\">&lt;p&gt;观看作者“&lt;a href=\"http://www.xxxxxx.com/tag/&lt;?php $name = get_post_meta($post-&gt;ID, 'author', true); if ($name) { echo \"$name\";}?&gt;\"&gt;&lt;?php $name = get_post_meta($post-&gt;ID, 'author', true); if ($name) { echo \" $name \";}?&gt;&lt;/a&gt;”的其他作品&lt;/p&gt;\r<br>\r<br>这是 wordpress 中(自定义栏目)自定义字段的 ，$name 中输出的内容也就是 author 栏目里的内容， 最终输出的效果就是： <a target=\"_blank\" href=\"http://www.xxxxxx.com/tag/%24name\" rel=\"nofollow\">http://www.xxxxxx.com/tag/$name</a>   但如果 $name 内的内容 有空格的话输出的链接 就会无法访问 会出现 404 。\r<br>\r<br>比如： <a target=\"_blank\" href=\"http://www.xxxxxx.com/tag/The\" rel=\"nofollow\">http://www.xxxxxx.com/tag/The</a> Frostbite Project\r<br>改为： <a target=\"_blank\" href=\"http://www.xxxxxx.com/tag/The-Frostbite-Project\" rel=\"nofollow\">http://www.xxxxxx.com/tag/The-Frostbite-Project</a>\r<br>\r<br>现在就想解决如何把 $name 的内容中的 空格  自动由 php 替换成 “-”符号 这样就可以正常访问，  之所以不再  $name 里直接加上 - 是因为 这样调用出来前端显示不美观。\r<br>\r<br>急着解决，现在大量 404</div>"], "reply": "8", "tittle": "请教如何转换链接中的空格为“-”符号", "comment": ["果然大家都是懒得回答", " 既然你都这么说了 那你上吧", "为什么不直接用空格，直接 urlencode 就行了。", "urlencode +1 ， 或者手工将空格转换为 %20", "urlencode+2", "拜托大家，现在出现很多 404 。", "```php\r", "echo $name ? str_replace(' ', '-', $name) : null;\r", "```", " 真是太谢谢你了，对于我这样不会程序的人，一直苦恼了很久，太感谢了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>ThinkPHP V5.0.2 版本发布，祝 TPer 程序员节快乐，事业顺利，身体健康^_^</p>\n<p><img alt=\"\" src=\"http://box.kancloud.cn/2015-12-12_566b6a10506a4.png\"></p>\n<p>V5.0.2 版本修正了一些社区反馈的问题，并完善了路由和模型。</p>\n<h2>主要调整：</h2>\n<ul>\n<li>数据库和模型完善；</li>\n<li>路由功能完善；</li>\n<li>增加<code>yaml</code>配置格式支持；</li>\n<li>依赖注入完善；</li>\n<li>Session 类完善；</li>\n<li>Cookie 类完善；</li>\n<li>Validate 类完善；</li>\n<li>支持反射类的异常捕获；</li>\n<li>修正社区反馈 BUG ；</li>\n</ul>\n<p>值此 5.0.2 版本发布和 1024 节之际，官方文档今日限时特惠 10.24 不要错过哦 包括 《<a href=\"http://www.kancloud.cn/thinkphp/thinkphp5_quickstart\" rel=\"nofollow\">ThinkPHP5.0 快速入门</a>》 和最新的《<a href=\"http://www.kancloud.cn/thinkphp/route-master\" rel=\"nofollow\">ThinkPHP5.0 路由完全指南</a>》 两本书^_^ 仅限今天一天~ 赶紧秒了吧</p>\n<h3>[ 请求和路由 ]</h3>\n<ul>\n<li>依赖注入的类如果定义了<code>invoke</code>方法则自动调用</li>\n<li>Request 类的<code>header</code>方法增加自定义 header 支持</li>\n<li>Request 类禁止直接实例化调用</li>\n<li>改进 Request 类 ip 方法</li>\n<li>路由变量规则支持闭包定义</li>\n<li>路由参数增加<code>ajax</code>和<code>pjax</code>判断</li>\n<li>别名路由增加允许和排除操作</li>\n<li>改进路由域名绑定后的 url 生成</li>\n<li>路由生成改进对路由到类的支持</li>\n<li>路由生成支持<code>url_param_type</code>配置参数</li>\n<li>路由生成支持别名路由</li>\n<li>Route 重定向规则支持更多<code>schema</code></li>\n<li>别名路由支持定义单独方法的请求类型</li>\n<li>改进路由分组的 url 生成</li>\n<li>路由规则的组合变量支持可选分隔符定义</li>\n<li>改进路由合并参数的获取</li>\n<li>路由规则支持单独设置 url 分隔符，路由参数为 <code>param_depr</code></li>\n<li>自动搜索控制器支持自定义访问控制器层的情况</li>\n<li>改进路由标识不区分大小写</li>\n<li>改进路由地址是否定义过路由规则的检测</li>\n</ul>\n<h3>[ 数据库和模型 ]</h3>\n<ul>\n<li>改进 Query 类的 join 方法</li>\n<li>改进 Query 类分页方法的参数绑定</li>\n<li>修正软删除方法</li>\n<li>修正 Query 类 parseOrder 方法一处错误</li>\n<li>修正 sqlsrv 驱动 parseOrder 方法</li>\n<li>修正 Query 类 setInc 和 setDec 方法</li>\n<li>改进 Model 类的 save 方法支持非自增主键的处理</li>\n<li>整型字段的参数绑定如果为空写入默认值 0</li>\n<li>改进 Model 类 has 和 hasWhere 方法</li>\n<li>改进 Query 类的 value 方法缓存判断</li>\n<li>改进 Query 类 join 方法对子查询支持</li>\n<li>改进 Query 类的 table 方法和 alias 方法用法</li>\n<li>关联预载入支持<code>hasOne</code>自关联</li>\n<li>改进 Builder 类的 parseKey 方法</li>\n<li>改进 Builder 类的 join/alias/table 方法的解析</li>\n<li>改进全局查询范围</li>\n<li>改进 Query 类的聚合查询方法的返回值</li>\n<li>改进关联属性的读取</li>\n<li>改进聚合模型主键和关联键相同的情况</li>\n<li>改进模型在开启<code>class_suffix</code>参数情况下的 name 属性的识别</li>\n</ul>\n<h3>[ 其它 ]</h3>\n<ul>\n<li>Cache 类增加<code>remember</code>方法 用于当获取的缓存不存在的时候自动写入</li>\n<li>Session 类增加<code>flash</code>方法用于设置下一次请求有效的值</li>\n<li>Session 类增加<code>flush</code>方法用于清空当前请求有效的值</li>\n<li>Session 类增加<code>push</code>方法用于更新数组数据</li>\n<li>增加 yaml 配置格式支持</li>\n<li>改进 App 类的反射异常无法捕获问题</li>\n<li>修正 session 助手函数的清空操作</li>\n<li>改进验证类的<code>image</code>方法</li>\n<li>改进验证类的<code>activeUrl</code>方法</li>\n<li>改进自定义验证规则的使用</li>\n<li>改进控制器自动搜索后的控制器名获取</li>\n<li>修正 import 方法加载 extend 目录类库</li>\n<li>修正 json_encode 时 \"Failed calling XXX::jsonSerialize()\" 的异常</li>\n<li>改进 Loader 类 model 和 validate 方法的单例问题</li>\n<li>改进方法执行的日志记录</li>\n<li>改进模板引擎的 Think 变量解析</li>\n<li>改进 Lang 类<code>load</code>方法</li>\n<li>验证错误信息支持多语言读取</li>\n<li>改进 ROOT_PATH 常量</li>\n<li>改进语言包加载</li>\n<li>改进模板 session 和 cookie 变量获取，自动判断前缀</li>\n<li>缓存驱动统一增加 handler 方法用于获取操作对象的句柄（某些缓存类型可能为 null ）</li>\n<li>File 类增加<code>__call</code>方法用于兼容 5.0 版本的<code>md5</code>和 <code>sha1</code>方法</li>\n<li>改进文件缓存驱动的<code>clear</code>方法</li>\n<li>Lang 类增加<code>setLangCookieExpire</code>方法设置多语言 cookie 过期时间</li>\n<li>增加<code>route_complete_match</code>配置参数</li>\n</ul>\n<h3>[ 调整 ]</h3>\n<p>下列模型属性和方法由原来的静态（ static ）定义改为动态定义：</p>\n<ul>\n<li>聚合模型的<code>relationModel</code>属性</li>\n<li>Model 类的<code>useGlobalScope</code>属性</li>\n<li>全局查询范围方法<code>base</code>改为动态方法</li>\n<li>软删除属性 <code>deleteTime</code>属性</li>\n</ul>\n</div></div>"], "reply": "7", "tittle": "ThinkPHP 发布 5.0.2 版本 官方教程系列限时特价 10.24 —— 1024 程序员节的福利", "comment": ["支持 ThinkPHP ，给开发带来了很大的方便。 流年威武。", "支持支持", "TP 最近很频繁啊", "以为 10.24 两本呢,先买一本看看.", "这不是官方文档吗？怎么还要钱的。。。。", " 官方手册是免费的 收费的是教程系列", "国内唯一坚持下来的 php framework ，赞！"]},
{"content": ["<div class=\"topic_content\">标题内项目的链接\r<br><a target=\"_blank\" href=\"http://phptester.net/\" rel=\"nofollow\">http://phptester.net/</a>\r<br><a target=\"_blank\" href=\"http://jsfiddle.net/\" rel=\"nofollow\">http://jsfiddle.net/</a></div>"], "reply": "4", "tittle": "有什么可以部署到本地，沙盒内测试 php、js、css 的项目吗？类似于 phptester、jsfiddle 的，最好是它们的合体", "comment": ["php cli 就能跑， js 、 css 浏览器就能跑", "jsbin?", "勉强推荐 CodeRunner ，浏览器调试不趁手外，其他都还 OK 。", "找到了这个，欢迎大家推荐\r"]},
{"content": "", "reply": "7", "tittle": "css 中的 line-height 属性如果是 100%,这个百分比是谁的百分比", "comment": ["%\t基于当前字体尺寸的百分比行间距。", "当前字体尺寸。", "没打完就出去了。。。。\r", "具体在这里：\r", "% \t基于当前字体尺寸的百分比行间距。\r", "从来没用过 line-height 的 100%", "<percentage>\r", "Relative to the font size of the element itself. The computed value is this percentage multiplied by the element's computed font size.\r", "Percentage and em values may have unexpected results, see \"Notes\" section.\r", "\r", "已经很清楚了", "尽量用 1 ，而不是 100%，因为设定 line-height 会影响到设定元素的子元素， 100%是根据父元素字体计算出尺寸子元素继承，而 1 是根据子元素字体计算出尺寸子元素继承，所以根据百分比设定的时候很有可能得不到自己真正想要的尺寸", " 我其实想设置不定高度的垂直居中...最后还是通过计算等到高度给 line-height 设置固定的值"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>看到了一篇文章 <a href=\"https://laravel-china.org/topics/2460\" rel=\"nofollow\">https://laravel-china.org/topics/2460</a></p>\n<p>但却有些不理解的地方</p>\n<p>例如说:一个 update 操作或者 delete 操作,应该是捕获异常还是 ifelse 判断</p>\n<p>应该如何正确的使用 PHP 的捕获异常?</p>\n</div></div>"], "reply": "9", "tittle": "请问,PHP 如何合理的使用异常捕获", "comment": ["上 php 7 ，可以全部用异常捕获(Exception 和 Throwable)\r", "\r", "php 5 的话，可以参考一下文档，然后全部用异常捕获（ Exception ）\r", "\r", "从调用方来讲：调用一个方法，如果不能返回预期结果，是期望抛出一个异常的。而不是其他 -1 -2 之类的特殊值。", " 为什么要全部使用异常捕获呢,有什么优点? 我是在框架内开发的,框架是有自己的异常捕获的,我需不需要在控制器内使用异常捕获呢", "BTW ， update 或 delete 操作既要 catch 也要 if else\r", "\r", "try {\r", "    这里是关于 update 或 delete 执行成功或失败的逻辑，如\r", "    update user set active = 0 where id=123 and active = 1;\r", "    影响行数可能是 0 也可能是 1 ，这就得用 if else 来判断， delete 同理\r", "} catch (Exception $e) {\r", "    这里 catch 的更多的是服务器错误或者 SQL 语法错误（不应该发生，至少在测试阶段就应该消灭掉这类错误）\r", "    比如 SQL 服务器突然挂掉，或者连接超时，或者某个命令导致服务器 CPU 占用 100%导致命令执行超时\r", "    或者哪个 SB 线上修改了表结构\r", "}", " 那么对于接口的调用方呢,能接受 500 错误还是我捕获后告诉他\"xxx 错了\"", " 明白啦!感谢!", "在 PHP5 里面捕获全部异常是一个伤心的话题\r", "\r", "所以现在我基本用 Java 了", " 框架自己的异常捕获更多是为了让你调试方便的...不是让你抛出异常给最终用户的....", " 嗯,明白了,最终不能直接返回异常给用户"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>公司给了一个任务，再我们的多用户商城里面给每个用户五个名额，可以绑定用户的微信作为客服，可是我找了好久也没有找到可以再网页里面调用微信聊天的方法，那位尝试过？给个方案，如果不行我就回复说做不了了。</p>\n</div></div>"], "reply": "17", "tittle": "php 调取微信作为客服", "comment": ["\r", "这个地方难道不是客服么?", "做不了。如果有解决方案了。请艾特我。好人一生平安。", "不是这个吗？\r", "下发任务的是谁？ CTO ?项目经理？\r", "微信能实现什么官方文档帮助写的非常明白\r", "要实现也可以啊  成为 腾讯业务超级 VIP 客户  有人专门给定制接口\r", "月千万以上在腾讯平台的流水满足即可", "目前唯一的办法  给二维码  用户 自己扫描加好友\r", "或者土豪客户可以申请 5 个服务号  然后你们对接  配置\r", "用户也得用微信交流  但是可以实现自动转接", "还有 h5 支付什么的，你只要钱多，都不是问题…", "可以的，我设计了一个需求，将微信客服集成于内部 BOSS ，实现了。", "可以的，我设计了一个需求，将微信客服集成于内部 BOSS ，实现了。。", "多客服功能不是早就有么？\r", "\r", "消息转发到多客服\r", "消息转发到指定客服", " 不是多客服，不需要客户做那么复杂的工作", " 需要主动给客户发消息的", " 项目经理，但是对代码不是很懂，是美工出身，我已经回绝了他好几个需求了", " 人家还收是要给客户最简单的体验，绝对不能让客户做这些", " 求详细点的思路", " 多客服是需要公众号的，而让客户申请公众号就又麻烦了", " 模板推送吧，体验差点，用户回复就能聊上了", " 好吧，我试试"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>PHP 提供<code>exec()</code>/<code>system()</code>等函数去执行 shell ，那么 PHP 通过这些函数执行 shell 的时候会存在哪些风险，又该如何避免呢？有什么好的解决方案吗？</p>\n</div></div>"], "reply": "34", "tittle": "PHP 执行 shell 有哪些潜在风险？", "comment": ["不用安全", "其他语言也存在的问题", " 但是最打算写个 php 程序可能需要执行系统的 shell 命令，因此请教下有没有其它好的解决方案？", "和 sql 一样防止注入", "php 执行 shell 没什么问题。", "不安全的是怕你的 php 脚本有漏洞，被别有用心的人利用了，后果严重程度不一。", "应该有其他方案吧，不建议这么搞", "执行的命令写死，不接受外界接受动态参数，做好过滤", "外部程序漏洞被利用然后提权？", "如果参数写死的话没有问题", "不要用 root 跑 php 。", "能写 extension 就写 extension", "主要是要防止\r", "I. 任意命令执行\r", "II. 利用被执行的程序进行攻击\r", "\r", "任意命令执行也可以分两种情况\r", "1. 直接从外界接受命令名，这是一定要避免的\r", "2. shell 语言注入。理想情况下，如果能直接用 execve 搞定的事情，就不要调用 shell, 这样就不会有注入问题。我写 python 的时候也是这样做的。可 php 这智障没有 execve 接口，只能调用 shell. 一定要调用就做好 escape 啦。\r", "\r", "第 II 点就是说，你调用的外部程序可能设计和编写的时候没考虑那么多安全问题。尤其是 DOS 攻击，面向本地用户的程序是不会考虑这个问题的。", " 用的 www 跑 PHP ，但是 php 执行 shell 的时候我加了 sudo", " 感谢您的耐心解答，非常有帮助。顺便再请教下 escape 是什么意思？", " 好的，谢谢。就调用一个 shell 命令，都是写死的。", " 转义，把 | 换成 \\|, $ 换成 \\$ 等。我记得 php 里面自带了转义函数，但具体效果怎么样不清楚\r", "\r", "另外看到你上面说用 root 执行外部程序，最好不要这样做，很危险。除非你的 php 程序就是用来修改系统配置的（如路由器的 web 配置界面）", " 服务器上会去读一个 json 文件， php 修改这个 json 后我需要服务器去重启某个服务重新载入 json 生效。", "最近要用 root 执行些脚本！然后没辙，只能 php 了", "你需要用 php-cli 去重启服务，不用在 php-fpm 里执行 shell", "在 cron 里面定期调用 php-cli 脚本。。。或者你 php-cli 做成一个 daemon 也行啊", "escapeshellarg + esacepshellcmd", "用 inotify 监控文件更新，符合条件就重启服务好了。", " 感谢提供的思路，这个方案似乎可行。", " 把那个配置文件的 group 改成运行 php 的 group, 权限改成 0664 。然后另外用 inotify 监视文件，重启服务就好了。不需要给 php 用户 sudo 权限。", " 这个方案不错", " 另一个思路：写一个 setuid 程序专门去执行重启服务的操作，这样就不需要 sudo 了", " 您看我这样的思路可行吗？\r", "写一个 1.php 文件去检测 abc.json 文件是否更新，如果有更新的话，就通过 system()函数去重启服务，这个 php 文件不对外访问。然后 crontab 使用 php-cli 每隔 5 分钟执行 1.php", " 然后你发现一堆僵尸进程，我试过", "我就在微信公众号上直接用 php 执行 shell 了,没啥问题", "1 、如果你执行 system(sprint_f(\"rm -rf %s\", $_GET['path'])) 肯定是存在安全隐患的，类似 SQL 注入一样\r", "2 、如果你执行 system('/sbin/service restart nginx') 那一般不会有安全问题的，但是一般情况下你 PHP 肯定执行在非 root 用户下面吧，所以其实这个根本执行不了，所以你要加上 sudo ，然后把这条命令加到 sudo 的白名单就好了。千万不要把 php 所在的整个用户加到白名单！", " #30 的 sprint_f 改成 sprintf 。。不小心按到了下划线。", " 这个思路有什么不妥吗？", " 按照你这思路的话，根本不需要用到 php ， shell+cron 就能搞定了，而且还简单\r", "\r", "以前写过个类似的，不过脚本在老家的移动硬盘上…", "\r", "\r", "Example 2\r", "\r", "A short shell script to efficiently wait for httpd-related log messages and do something appropriate.\r", "#!/bin/sh\r", "while inotifywait -e modify /var/log/messages; do\r", "  if tail -n1 /var/log/messages | grep httpd; then\r", "    kdialog --msgbox \"Apache needs love!\"\r", "  fi\r", "done\r", "参考这例子写一个就 OK 了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>面试官问说:请列举你知道的服务器端协议\n我说不知道,他就说 post,我紧接着说 get,他说 get 不是服务器端的,我说 request,他没吭声,最后他说,你说的这几个因为安全性问题都没办法用.\n我想请问各位有做安全相关产品的,你们用 post 和 get 么?不用的话用什么呢?别笑话我,我是菜鸟</p>\n</div></div>", "<div class=\"topic_content\">哈哈哈哈哈哈</div>"], "reply": "48", "tittle": "上班发呆的时候突然想起原来面试的一个问题", "comment": ["个人观点：我觉得这个面试官有点扯淡", "没看明白 json?", "噗，楼主你太逗了。\r", "\r", "晋太元中，武陵人，", "不知所云", "这...", "协议？", "一问一答？", "想了五分钟没明白他想问什么", "协议还分服务器端和客户端，两者用的协议要是不一样如何通信……", "两边都坑，不知所云， get post 只是 HTTP 协议的一种 Method ...", "看错了，我 delete 上面那句话...", "莫名其妙的对话能接在一起… 协议？", "看不懂................", "黑人问号？？？", "socket ？", " 我来 Put 你一下。\r", "\r", "楼主应该跟他说用 QQ ，这样比较安全。", "佩服，你们俩还能这样聊下去。", "「我紧接着说 get, 他说 get 不是服务器端的」\r", "\r", "「我说 request, 他没吭声」\r", "\r", "\r", "敢问 LZ 现在在上什么班？", "你俩对话没协议啊哈哈哈", "他最后没吭声 你俩连三次握手都没完成 谈什么协议", "你们.......", " 哈哈哈,我也很好奇", "这样必须要你啊，两个人默契程度 103 分", "又是 php 程序员，不知道是不是我的偏见.", "哈哈哈哈哈哈哈 TCP/IP HTTP Socket", "谢谢楼主，今天第一次笑出声", " [我说 request, 他没吭声] \r", "\r", "- - - - - \r", "脑海中飘起陈奕迅的歌声：\r", "> 有人问我，我就会讲\r", ">但是没人来...", "这叫协议, 逗我呢, 还是逗我呢?", "晋太元中，武陵人💣🐠为业。", "感觉你们正在创造一个协议，不如就叫 rpg 吧", "你挺适合他们公司", "突然想起这个\r", "我靠,主管也是牛逼,你当初也是牛逼,对话笑喷,噗...", "什么叫做服务端协议？协议一定有双方啊", "逗死了", "你们说的和协议有一毛钱关系么...", "本日最佳，哈哈哈哈哈", "服务器端协议？？？ 哈哈哈哈。他不认识 HTTP 吗？", "不是 http 协议吗？", "你萌在说啥？", "你俩互相不知道对方在说啥。现在帖子里 N 多人不知道你们在说啥。神一样的对话。。\r", "\r", "面试官问说:请列举你知道的服务器端协议 \r", "我说不知道,\r", "他就说 post,（给了你一个提示）\r", "我紧接着说 get,（你以为他要你说的是协议的方法）\r", "（跑偏）", " 还是没看懂，第一个\"post\"不是 http 协议里面的那个 post method 么？", "协议……当然是指双方或者多方的。这是个语文题。", "你应该说 RESTful", "这是有什么我不知道的梗吗？？？", " 小弟还没毕业，看不懂是什么意思。在网上查 post 协议也是一大堆 http 的内容。在这里求问一下， post 协议是什么？望不吝赐教。", "我的理解是 http/socks 等基于 tcp/ip 的."]},
{"content": ["<div class=\"topic_content\">if ( ! function_exists( 'themewich_create_taxonomies' ) ) :\r<br>\tfunction themewich_create_taxonomies() {\r<br>\t\t$labels = array(\r<br>\t\t\t'name'              =&gt; _x( 'Filter', 'taxonomy general name', 'framework' ),\r<br>\t\t\t'singular_name'     =&gt; _x( 'Filter', 'taxonomy singular name', 'framework' ),\r<br>\t\t\t'search_items'      =&gt; __( 'Search Filters', 'framework' ),\r<br>\t\t\t'all_items'         =&gt; __( 'All Filters', 'framework' ),\r<br>\t\t\t'parent_item'       =&gt; __( 'Parent Filter', 'framework' ),\r<br>\t\t\t'parent_item_colon' =&gt; __( 'Parent Filter:', 'framework' ),\r<br>\t\t\t'edit_item'         =&gt; __( 'Edit Filter', 'framework' ),\r<br>\t\t\t'update_item'       =&gt; __( 'Update Filter', 'framework' ),\r<br>\t\t\t'add_new_item'      =&gt; __( 'Add New Filter', 'framework' ),\r<br>\t\t\t'new_item_name'     =&gt; __( 'New Filter Name', 'framework' ),\r<br>\t\t\t'menu_name'         =&gt; __( 'Filters', 'framework' ),\r<br>\t\t);\r<br>\r<br>\t\tregister_taxonomy( 'filter',\r<br>\t\t\tarray( 'portfolio', 'post' ),\r<br>\t\t\tarray(\r<br>\t\t\t\t'hierarchical' =&gt; true,\r<br>\t\t\t\t'labels'       =&gt; $labels,\r<br>\t\t\t\t'show_ui'      =&gt; true,\r<br>\t\t\t\t'query_var'    =&gt; true,\r<br>\t\t\t\t'rewrite'      =&gt; array( 'slug' =&gt; 'filter' ), // This is the url slug\r<br>\t\t\t)\r<br>\t\t);\r<br>\t}\r<br>\r<br>\r<br>使用以上代码新添了自定义文章类型\r<br>目录结构 URL 为 <a target=\"_blank\" href=\"http://xxx.com/filter/aaa(\" rel=\"nofollow\">http://xxx.com/filter/aaa(</a> <a target=\"_blank\" href=\"http://xxx.com/filter/aaa(aaa\" rel=\"nofollow\">http://xxx.com/filter/aaa(aaa</a> 为自定义的目录别名)\r<br>文章结构 URL 为 <a target=\"_blank\" href=\"http://xxx.com/portfolio/xxx\" rel=\"nofollow\">http://xxx.com/portfolio/xxx</a>\r<br>\r<br>现在我想将目录结构的 url 更换为 <a target=\"_blank\" href=\"http://xxx.com/aaa\" rel=\"nofollow\">http://xxx.com/aaa</a> 也就是去除 filter\r<br>文章结构为 <a target=\"_blank\" href=\"http://xxx.com/aaa/xxx\" rel=\"nofollow\">http://xxx.com/aaa/xxx</a>\r<br>\r<br>使用下面代码\r<br>\r<br>if ( $post-&gt;post_type == 'portfolio' ){\r<br>        return home_url( 'one/' . $post-&gt;ID .'.html' );\r<br>    } else {\r<br>        return $link;\r<br>    }\r<br>    \r<br>    文章结构变成了 <a target=\"_blank\" href=\"http://xxx.com/one/xxx\" rel=\"nofollow\">http://xxx.com/one/xxx</a> 而不是 aaa\r<br>    \r<br>求解 谢谢 不胜感激</div>"], "reply": "目前尚无回", "tittle": "如何去除 wordpress 自定义文章类型的 URL 前缀？", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我真是、、、、</p>\n</div></div>"], "reply": "46", "tittle": "leader 一定要我用 array()不让我用[]怎么办？", "comment": ["你的 leader 考虑兼容性吧", "那你为什么一定要用 [] ？", "怼领导有好处？", "兼容性,没毛病", "新特性自己项目用用就行,公司项目如果不知道线上版本,老老实实写旧语法,不然等你遇到坑了你就会知道你 leader 当初让你写旧语法的原因了", "[] 是 5.4 开始的吧，那就是 trait ，命名空间都不能用喽。。那就一点都不好玩了啊。", "[]对于 php 来说不能说是新特性了吧。。。\r", "公司 PHP 版本本来是 5.4 以上的版本。\r", "我喜欢用[]啊。这样写起来舒服，好看。\r", "array 好丑啊。\r", "而且现在 return 我也尽量用 True 和 False 。\r", "这样就不用考虑我是在写 python 还是 php 了。。。", "我一直用 array()\r", "array_column 这个函数我之前也一直避免使用\r", "看到别人的代码没人考虑向下兼容后才开始用的", "如果你项目依赖的库都用了[]和 Traits 等 php5.4 起的特性,那么你项目为什么还不用[]?根本就换不回 5.3 了啊", "各个公司情况不同啊 ... 线上在边边角角还有不少 5.3 的机器的话不这么写还能怎么写 ..?\r", "\r", "说来我倒是强制要求我的团队必须写 [] 不能写 array() ... 但我们的开发环境是 php 7.1 RC ...\r", "\r", "我还要求每个人必须显式声明参数类型和函数返回呢 ...", " \r", "我自己本地跑的也是 7.0 的版本。强制要求写[]真是极好的。\r", "不过参数类型和函数返回值我觉得没必要。\r", "还有我个人认为良好的项目代码，函数前面基本不需要写注释，函数名和参数名就已经说明了一切了。\r", "在每个函数前面加上这么一小坨真的好丑。", "可怕，不知道啥时候能一步到位上 7", "怕增加其他队员学习成本？", " 你是说他可怕还是我可怕。", "你写你的，他还能把你开了不成？我特么最受不了的就是 array()了", "虽然不是你的问题，但是你怼不过你的 leader 啊\r", "话说我这边的环境还是 5.2 ， 12 年的项目，命名空间啥的都没，不过在自己手撸了一套中间件、简单的 ORM 、表单验证之后，用起来也没那么差", "公司一定要有一个统一的代码规范要求。\r", "\r", "要么你说服 leader 改规范，\r", "要么你就按照 leader 要求走", "这么点事也要上来说，能接受就用，不接受就走人。", "同意 19 楼啊, 在团队中就按照团队要求来.", " 看了下你的回帖,整个都是我喜欢我习惯,团队开发不是一个人瞎折腾,其他不想多说,跟 19 楼一个观点,不接受就走了,就这点事也要上来说.", " 你不知道很多遗留或者有点历史的项目的 PHP 版本,算了说多了都是泪...", "建议离职 说明这样的 loader 根本不懂 php  像楼主所说的 php 的 7.1 了还必须用 array  不让用[]可能真是有毛病吧 哪些说新特性的够了,[]还新特性？都出来好几年了", " ", " 参见 2.5 『 The PHP constants true, false, and null MUST be in lower case.』", "估计是考虑兼容性吧，但是生产环境真的要用这么低版本的 PHP 吗？所以我都是直接[]", "你偷偷用呗[:dogge]", " 题主已经说了运行环境就是 5.4 以后啊，难道谁有魄力把 php 环境改回 5.3 以前？", "程序嫒？", "preg_replace('/[(.*)]/', 'array($1)', $fileContent);", "谁是 leader 谁负责，他负责你们就都听他的，什么叫团队啦。\r", "他说什么就是什么，马上执行就行了，如果他说一个要求，下面人还要来回扯皮几个回合，最后再上 V2EX 发一帖，这效率可想而知了，也别程序员了，去国企做办公室主任好了。", "确保项目只会在 5.4 以上环境跑就用这个， TL 不愿意接受新事物就炒掉他。", "那你倒是问问他啊………………", "我说一个\r", "[]的问题不只是兼容性，还有 IDE 兼容性的问题\r", "有些 IDE 或者调试扩展 并不支持[]的内容 尽管支持 5.6 的大量东西", "还以为是 js 。。。", " 必须遵守行业标准和规范，还要身体力行的推广。\r", "顶一个！", "说明你们 leader 水平不够，或者非得弄点大新闻体现自己的存在感。", "代码一致性的规范，要么继续用 array()，要么你把旧代码里所有 array()改成[]。", "我们线上和开发都是 7 了，，，", "为什么要用[] ?  我也不理解为什么有人要用 int 而不用 Interger", "我们线上还是 5.2 有不服的么", "团队要求要服从，就这点。", "你领导也是搞笑的，都什么时候了 PHP7 都出了，还兼容低版本 PHP", "你可以跟你 leader 聊你的看法和见解， but 代码上面最好按照他的要求来。不然一个公司设置 leader 的作用在哪里，大家你一个风格我一个风格，相信我这是噩梦。", " 我说现状可怕", "我是写 ", " 的,我们(之前的)头头要求写 short/int/float,而我习惯写 Int16/Int32/Double,一次加班调试后他也跟着我一样的写法了.", "你领导说的对，尽量不用语法糖"]},
{"content": ["<div class=\"topic_content\">系统是 windows 2008 R2 ，通过 IIS7.5 ，以 fastcgi 模式执行 php ，这两天怀疑遭到攻击， php-cgi 进程可以出现上百个那么多，而且从用户名看出均是 IIS 下某个特定站点启动的。怀疑该站点下是否有某段程序写的有漏洞造成死循环，被外界发现了，然而，该如何进一步定位这个问题？</div>"], "reply": "21", "tittle": "PHP-CGI 进程过多，该如何查找原因？", "comment": ["iis 日志导出，分析访问日志路由和 ip", "僵尸进程，我司有类似情况， Linux 系统，写了一个脚本从 log 里统计特定参数，达到阈值自动重启 php-fpm ，并清理 pid 小于新的主进程的所有 worker 。", "LZ 你 APP POOL 的 max instance 设置的多少", " 你们没有分析为啥会产生僵尸进程？", " 他们是 linux......", " 很粗暴的解决方案，暂时没有深挖。", "如果是死循环，那 cpu 占用应该很高。如果 cpu 空闲，，看一下网络连接情况，是不是一直存在空闲连接。", " 最大工作进程，设置的为 2.不知道为啥就能蹦出那么多来", " 很奇怪的是，这些进程 CPU 占用都不是很高，普遍都是 1-3%晃悠。我们也想不通为啥", " 可能是某些蜘蛛类客户端长时间扫描你的网站，或者它们恶意保持连接", " 可是我的最大进程只是 2 啊，就算是保持连接，难道 php-cgi 不会自动退出吗？", " php-cgi 在超过 实例最大请求数 之前，一般情况不会自动退出", " 不过为什么是 2 ？ fastcgi 默认设置都是 4 的啊...", "还有 LZ 你的活动超时 和 空闲超时 都是多久？", " 空闲超时 20 分钟，活动超时 60 秒", "我操我发现这些 php-cgi.exe 真虎啊，我在 IIS 的程序池手动回收他们都不退出的？", " 记得看过 IIS 的推荐配置，这两项均是 300 秒...", " 你用 process explorer 看一下进程树，看 php 的进程还在不在 w3wp 下面", "老老实实用 linux 就完了……", "linux 下 我一般这么干  找到占用 cpu 最高的 phpcgi 然后用 lsof 和 strace 跟踪 \r", "\r", "HPHP_PID=`ps aux|grep \"php-fpm\"|grep -v 'grep'|awk '{print $3\" \" $2}'|sort|tail -n 1|awk '{print $2}'`\r", "\r", "if [ -n HPHP_PID ]; then\r", "    lsof -p ${HPHP_PID} > \"/home/lsof_${HPHP_PID}\"\r", "    strace -s 256 -p ${HPHP_PID} > \"/home/starce_${HPHP_PID}\"\r", "fi\r", "\r", "看跟踪结果 再解决", " 朋友，你的这个脚本能不能加个判断条件，当 CPU 为 30 以上的时候，再分析？？？"]},
{"content": ["<div class=\"topic_content\">$string = '参赛第[b]5[/b]天';\r<br>\r<br>1.其中 5 是个不确定的数字，需要把它替换成其它数字\r<br>2.[b][/b]这个标签正文第一次出现的时候匹配上，就对了\r<br>\r<br>正则白痴一枚，一条简单的都没写过\r<br>求一段完整语句</div>"], "reply": "目前尚无回", "tittle": "求： php 正则替换 html 标签内容，代码一段", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>简介</h2>\n<p>ArrayAccess （数组式访问）接口：提供像访问数组一样访问对象的能力的接口。</p>\n<h3>提供接口</h3>\n<pre><code>ArrayAccess {\n    //检查一个偏移位置是否存在\n    abstract public boolean offsetExists ( mixed $offset );\n\n    //获取一个偏移位置的值\n    abstract public mixed offsetGet ( mixed $offset );\n\n    //设置一个偏移位置的值\n    abstract public void offsetSet ( mixed $offset , mixed $value );\n\n    //复位一个偏移位置的值\n    abstract public void offsetUnset ( mixed $offset );\n}\n</code></pre>\n<p><strong>如果我们想像数组一样来访问你的 PHP 对象只需要实现 ArrayAccess 接口即可</strong></p>\n<h3>实例运用</h3>\n<p>场景：假如我有一个 User 类，映射的是用户的信息，想通过数组的方式来访问和设置用户信息</p>\n<pre><code>&lt;?php\n/**\n * Created by PhpStorm.\n * User: moell\n * Date: 16-10-30\n * Time: 下午 8:49\n */\n\nnamespace User;\n\n\nclass User implements \\ArrayAccess\n{\n    private $data = [];\n\n    public function __construct()\n    {\n        $this-&gt;data =  [\n            'name' =&gt; 'moell',\n            'sex' =&gt; '男',\n            'email' =&gt; 'moell@gmail.com'\n        ];\n    }\n\n    /**\n     * 检查指定字段数据是否存在\n     *\n     * @param $offset\n     * @return bool\n     */\n    public function offsetExists($offset)\n    {\n        return isset($this-&gt;data[$offset]);\n    }\n\n    /**\n     * 获取指定字段数据\n     *\n     * @param $offset\n     * @return mixed\n     */\n    public function offsetGet($offset)\n    {\n        return $this-&gt;data[$offset];\n    }\n\n    /**\n     * 设置指定字段数据\n     *\n     * @param $offset\n     * @param $value\n     * @return mixed\n     */\n    public function offsetSet($offset, $value)\n    {\n        return $this-&gt;data[$offset] = $value;\n    }\n\n    /**\n     * 删除指定字段数据\n     *\n     * @param $offset\n     */\n    public function offsetUnset($offset)\n    {\n        unset($this-&gt;data[$offset]);\n    }\n}\n\n$user = new User();\n\n//获取用户的 email\necho $user['email'].PHP_EOL;  // moell@gmail.com\n\n//检查 age 是否存在\nvar_dump(isset($user['age'])); // bool(false)\n\n//设置 age\n$user['age'] = 18;\necho $user['age'].PHP_EOL; //18\n\n//删除 age\nunset($user['age']);\nvar_dump(isset($user['age'])); // bool(false)\n\n</code></pre>\n<p><strong>我们的对象可以像数组一样操作了，是不是很神奇呢？</strong></p>\n<hr>\n<h3>实现程序配置化</h3>\n<blockquote>\n<p>在我们构建应用中，经常会通过一个配置文件变更程序的一个行为，通过 ArrayAccess 我们会更轻松的实现。</p>\n</blockquote>\n<p><strong>下面我带你们一起看看我是这么实现的</strong></p>\n<p><strong>1. 在项目更目录下创建一个 config 目录</strong>\n<strong>2. 在 config 目录下创建相应的配置文件，比如 app.php 和 database.php 。文件程序如下</strong></p>\n<p>app.php</p>\n<pre><code>&lt;?php\n\nreturn [\n    'name' =&gt; 'app name',\n    'version' =&gt; 'v1.0.0'\n];\n</code></pre>\n<p>database.php</p>\n<pre><code>&lt;?php\n\nreturn [\n    'mysql' =&gt; [\n        'host' =&gt; 'localhost',\n        'user' =&gt; 'root',\n        'password' =&gt; '12345678'\n    ]\n];\n</code></pre>\n<p><strong>3. Config.php 实现 ArrayAccess</strong></p>\n<pre><code>&lt;?php\n\nnamespace Config;\n\nclass Config implements \\ArrayAccess\n{\n    private $config = [];\n\n    private static $instance;\n\n    private $path;\n\n    private function __construct()\n    {\n        $this-&gt;path = __DIR__.\"/config/\";\n    }\n\n    public static function instance()\n    {\n        if (!(self::$instance instanceof Config)) {\n            self::$instance = new Config();\n        }\n        return self::$instance;\n    }\n    \n    public function offsetExists($offset)\n    {\n        return isset($this-&gt;config[$offset]);\n    }\n    \n    public function offsetGet($offset)\n    {\n        if (empty($this-&gt;config[$offset])) {\n            $this-&gt;config[$offset] = require $this-&gt;path.$offset.\".php\";\n        }\n        return $this-&gt;config[$offset];\n    }\n\n    public function offsetSet($offset, $value)\n    {\n        throw new \\Exception('不提供设置配置');\n    }\n\n    public function offsetUnset($offset)\n    {\n        throw new \\Exception('不提供删除配置');\n    }\n}\n\n$config = Config::instance();\n\n//获取 app.php 文件的 name\necho $config['app']['name'].PHP_EOL; //app name\n\n//获取 database.php 文件 mysql 的 user 配置\necho $config['database']['mysql']['user'].PHP_EOL; // root\n\n</code></pre>\n<p>如果你给我一样热爱 PHP,欢迎加入 QQ 群： 339803849 一起讨论</p>\n<h3>声明</h3>\n<p>文章转载说明出处，本文地址： <a href=\"http://moell.cn/article/29\" rel=\"nofollow\">http://moell.cn/article/29</a></p>\n</div></div>"], "reply": "1", "tittle": "ArrayAccess 使用详解和实现配置化程序", "comment": ["我仿佛又听到有人在背后偷偷 @我"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>已搜索，但没有找到正确答案再来发帖提问的，请大神轻喷。</p>\n<p>目前有个问题需要知道 yii2 的数据库配置信息，比如 thinkphp5 里为 application\\database.php 。</p>\n<p>网上搜索的答案有 /config/main.php 和 /common/config/main-local.php ，可是 github 下载下来的 yii2 源码里根本没有上述的文件夹或文件呀</p>\n<p>求大神请教。</p>\n</div></div>"], "reply": "7", "tittle": "请问 yii2 的数据库配置文件在哪里？", "comment": ["\r", "\r", "\r", "你看看这个包里有没有，先大致并仔细看几遍官方文档，或者中文社区的正规翻译文档\r", "advanced\\common\\config\r", "advanced\\frontend\\config", "用这个 yii2-starter-kit ， 配置都在 \r", ".env 文件里面\r", "\r", "github 下载下来的 yii2 源码需要 init 一下就会有那几个文件了", "  @", "  @", " \r", "感谢几位大神的解答 \r", "\r", "我补充下：\r", "目前遇到的是 github 的官方的版本：\r", "\r", "\r", "目录结构有 yii2\\db\\Schema.php\r", "\r", "不是 advanced 版本或其他版本\r", "\r", "现在的问题就是想知道这个 github 版本数据库配置文件的位置。", "你这个下载的是 yii2 的 core, 实际使用的是 basic 或者 advanced 模板，都会包含这个 core ， 比如 basic 模板里面你可以看到一样的目录结构在下面路径里\r", "\r", "basic\\vendor\\yiisoft\\yii2\r", "\r", "应该下载的是下面的两个，推荐 yii2-starter-kit 建立在 advanced 上面，添加了很多功能，自己要添加会比较费时间，现在我们新项目直接拷贝自己配好的 yii2-starter-kit ， 不用从头开始。\r", "\r", "basic:\r", "\r", "\r", "advanced:\r", "\r", "\r", "yii2-starter-kit\r", "\r", "\r", "yii2-starter-kit's doc\r", " 实在是太感谢了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Hiject 是一款使用 PHP 语言，基于 Kanboard 开发，免费、开源的项目管理系统。</p>\n<h2>废话少说，上截图</h2>\n<ol>\n<li>任务看板</li>\n</ol>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201610/28/2700/7cetS8vVAT.png\"></p>\n<ol>\n<li>我项目</li>\n</ol>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201610/28/2700/kghumYuhXB.png\"></p>\n<ol>\n<li>项目概况</li>\n</ol>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201610/28/2700/UnGmcDKbvL.png\"></p>\n<ol>\n<li>甘特图</li>\n</ol>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201610/28/2700/D5g7ZC4gBo.png\"></p>\n<ol>\n<li>日程表</li>\n</ol>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201610/28/2700/5P1eQrOy7H.png\"></p>\n<ol>\n<li>栏目设置</li>\n</ol>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201610/28/2700/P5Bw70nAvK.png\"></p>\n<ol>\n<li>任务过滤</li>\n</ol>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201610/28/2700/gbKcGCqLj5.png\"></p>\n<ol>\n<li>子任务</li>\n</ol>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201610/28/2700/di5dJ71KuL.png\"></p>\n<ol>\n<li>系统设置</li>\n</ol>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201610/28/2700/mGcHHt59H6.png\"></p>\n<h2>下一阶段要实现的功能</h2>\n<ul>\n<li>通过插件与 Fixhub 集成</li>\n<li>复杂度改进</li>\n<li>多主题</li>\n<li>集成 Phix</li>\n</ul>\n<h2>系统演示</h2>\n<p>体验 Hiject, 请访问 <a href=\"http://hiject.com\" rel=\"nofollow\">Hiject</a>:</p>\n<ul>\n<li><strong>用户名:</strong> hiject</li>\n<li><strong>密码:</strong> <code>hiject</code></li>\n</ul>\n<h2>源码地址</h2>\n<p><a href=\"https://github.com/Hiject/Hiject\" rel=\"nofollow\">https://github.com/Hiject/Hiject</a> or <a href=\"http://git.oschina.net/Hiject/Hiject\" rel=\"nofollow\">http://git.oschina.net/Hiject/Hiject</a></p>\n<p>个人能力有限，肯定存在很多不成熟的地方，欢迎大家拍砖，谢谢。</p>\n<h2>License</h2>\n<p>Hiject is licensed under the license of MIT.  See the LICENSE for more details.</p>\n<p>Hiject is a fork based on Hiject. Kanboard is Copyright Frédéric Guillot and others.</p>\n</div></div>"], "reply": "46", "tittle": "Hiject，一款使用 PHP 语言，基于 Kanboard 开发 ，免费，开源的 Web 项目管理系统", "comment": ["看起来不错", "前排点赞", "手动 mark 看起来很赞", "Mark 不错\r", "又是一个禅道?", "去演示站体验了一下 确实不错哦  已经 start    功能慢慢完善就更好咯", " 感谢，多提建议哦。", "不错，已经 star", " 这个项目用的是什么 PHP 框架", "任务中建议加一个 Checklist 。", "已 star", "很不错，赞一个~~", "赞， mark", "666,已 star", "所以和 kanboard 的区别？", "非常不错,赞一个,mark", "很赞~开源的话估计会更赞。", " 就是开源的，呵呵", "做的挺好，如果前端能用 VUE 就好啦", " 为毛一定要用 vue?\r", "因为 2016 年了?", "高手，求带", "蛮不错的，如果在做做 UI 就完美了", " 对啊，没看到前面一阵子的帖子么。都 2016 年了，没用上几种框架加构建工具都不好意思说自己是搞前端的。。。", " 有何建议？ UI 方面，谢谢。", " 一直在找这样一个系统，刚刚看了演示，非常不错，明天我搭一个实际用用，到时给你反馈", "建议搞一个可以替代 Confluence 的系统，这货编辑器太棒了。。", " 菜单隐藏那么深, 用起来不太方便哦", "不能做团队协作吗？只能有单一用户？", " 可以团队协作，目的就是为了团队协作。演示没有开多账户而已。", " 欢迎并期待。", "太高产了，支持一下", "不错，前端好像是 vuejs", "star+1", "战略性 mark ， star+1", "怎么安装啊，为啥我部署了，直接显示目录了呢？", " 把 nginx 配置好， webroot 指向 hiject/public 目录", "看了下好像就是 kanboard 改了个皮肤", " 嗯，你可以认为。\r", "\r", "1 、在 license 里注明了，是 kanboard 的一个派生版本。\r", "2 、确实是基于 kanboard 开发的， Hiject 现在和以后的“优化”应该已经违背 Kanboard 的“简单”哲学，所以选择与之分道扬镳。\r", "3 、如果能起到推广 Kanboard 的作用，也是极好的。\r", "4 、感谢开源，尤其是使用 MIT 协议的作品。\r", "\r", "谢谢。", " 菜单隐藏的问题确实是个诟病，准备改之。。。", " \r", "\r", "Confluence 的编辑器？", "其他我不说啥，名字太像 hijack 。。。。难免怀疑里面有洞", "login 页的两个 input *号能去掉吗？像侮辱用户智商一样 :)", " 你提起我才发现确实很像，呵呵\r", "\r", "无所谓，名字只是个代号而已，任何一个名字都能被负面解读。比如：百度-》百毒", " 嗯，有道理，把它去掉。", "任务描述能支持 checklist 就更好了， ", "kanboard 不能把拖拽式任务栏组件剥离出来么", "赞"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>ThinkPHP 中支持\nhttp://serverName/index.php （或者其他应用入口文件）/模块 /控制器 /操作 /[参数名 /参数值...]\n这样的 URL 格式</p>\n<p>而 Yii2 开启 urlManager 后仅支持 http://serverName/index.php （或者其他应用入口文件）/模块 /控制器[?参数名=参数值...]</p>\n<p>能否让 Yii2 像 TP 那样支持\nhttp://serverName/index.php （或者其他应用入口文件）/模块 /控制器 /操作 /[参数名 /参数值...]\n呢？</p>\n</div></div>"], "reply": "7", "tittle": "请教一个关于 Yii2 框架的问题。。", "comment": ["nginx apache ？\r", "rewrite 一下", "urlManager 启用自定义规则 url 美化就可以了，虽然比 thinkphp 麻烦了点，但是具备高度自定义性。", "二楼正解  \r", " 'urlManager' => array(\r", "            'class' => 'jii.web.RUrlManager',\r", "            'urlSuffix' => '',\r", "            'urlFormat'=>'path',\r", "            'useStrictParsing'=>true,\r", "            'appendParams'=>true,\r", "\t\t\t'userPatterns'=>array(\r", "\t\t\t\t$pattern1,\r", "\t\t\t\t$pattern2,\r", "\t\t\t),\r", "            'rules' => require 'redirect.php',\r", "            'urlRedirect' => require 'urlRedirect.php',\r", "        ),\r", "    ),\r", "不仅可以配置路由，还可以配置重定向，甚至连 urlmanager 都可以定制,redirect 中如下:\r", "return  array(\r", "    //首页\r", "    '/'=>'entry/index',\r", ");\r", "此时 ", " 就可以访问了 后面啥也没有 美得不要不要的   ~0v0~", "我一般都重写 thinkphp 的 url 生成函数。。。。 key/value/key/value 这样的 url 太丑太长", " 自定义规则貌似只能对某一个 action 有效吧？我希望是所有控制器的所有 action 都生效。。。有些场景需要用到", "[\r", "                    'route' => '<controller>/<action>',\r", "                    'pattern' => '<controller:\\w+>/<action:\\w+',\r", "                    'class' => 'common\\components\\fuckUrlRuleTest'\r", "                ],\r", "   使用通配，然后自己按照你的需求自定义一个 urlRule 类就行了，所有的路由都可以匹配的上。", "这种问题不应该问，看文档中的 urlManager 组件部分即可。"]},
{"content": "", "reply": "目前尚无回", "tittle": "php 入门级小小工程师，代码量远远达不到成长的需要。 有没有 v 友，推荐有趣有项目， coding 起来。", "comment": []},
{"content": ["<div class=\"topic_content\">自己设计了一个数据库 schema ， 是学 wordpress 的结构， 想把 wordpress 里的 sql 查询语句也学来以达到最好的查询性能， 比如首页 list 所有最新文章那种 sql</div>"], "reply": "3", "tittle": "wordpress 源码中， sql 的查询语句在哪里啊？", "comment": ["你在模板的 header.php 写上 global $wp_query; var_dump( $wp_query); 可以看到每个页面的默认的 SQL 查询", "很久前玩的时候写的.\r", "\r"]},
{"content": ["<div class=\"topic_content\">研究了半天。装不来，小白求详细教程</div>"], "reply": "6", "tittle": "Centos6.5 有没有一件安装 roundcubemail 的脚本？", "comment": ["iredmail", " 有具体教程吗", " iredmail 是一键的了……你还要教程……请谷歌", " \r", "可以参考一下我的博客：\r", "\r", "\r", "Part 1 也有相关内容。", " 你的网站打不开", " 博客挂在 github 上。你在试试。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在下最近录了几个关于 Github 的视频（<strong>点开即可观看</strong>）：</p>\n<p>1.Github 鲜为人知的使用技巧： <a href=\"https://laravist.com/series/use-git-in-your-own-way/episodes/14\" rel=\"nofollow\">https://laravist.com/series/use-git-in-your-own-way/episodes/14</a></p>\n<p>2.如何在 Github 上为开源项目贡献代码： <a href=\"https://laravist.com/series/use-git-in-your-own-way/episodes/12\" rel=\"nofollow\">https://laravist.com/series/use-git-in-your-own-way/episodes/12</a></p>\n<p>3.利用 Github Webhook 实现代码自动部署： <a href=\"https://laravist.com/series/use-git-in-your-own-way/episodes/15\" rel=\"nofollow\">https://laravist.com/series/use-git-in-your-own-way/episodes/15</a></p>\n<p><strong>有兴趣的可以看看，我觉得还是很有帮助的。</strong></p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>你们啊，都是偷偷收藏，闷声发大财！</p>\n<p><strong>吼啊吼啊</strong></p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>天啊撸，没想到睡一觉起来，这么多消息通知。</p>\n<p><strong>一一感谢实在忙不过来了,在下对评论留言的各位致以最衷心的感谢</strong></p>\n</div></div>"], "reply": "94", "tittle": "录了几个有关 Github 的视频，我觉得你也应该知道这些...", "comment": ["**mark", "回家看看", "不错  抽个时间看下，感谢分享", "你们哪。。。真的是都是默默在收藏\r", "\r", "闷声发大财，这是坠吼的", "收藏之后顶一个", "收藏了，出差回来之后看一下。", "战略性 mark", " \r", " \r", " \r", "\r", "感谢，厚道啊，你们", "这个网站倒是不错~很好看还一点不卡。（我的火狐没有 flash 一般都看不了视频的（除了 B 站））", " 哈哈哈，感谢感谢， laravist 直接用的 HTML 5 。", "战略马克。。。", "支持一下，说起来每次看楼主的视频我都喜欢用 1.75x 倍速  ", " ", "不支持进度条 -_-   我会告诉你  看一半 断网了？", " 这可能是浏览器兼容的问题了。我这边进度条和播放都是正常的", " 原来 进度条 是白色的  好吧", "谢谢！", "我觉得你应该知道 GitHub 的 H 是大写", "占个位来", "可能有文字版本会更好？", "小学生前来学习，@DaCong 同感", "mark.", "楼主广东人？", " 四川人士", " 听起来不像川普.", "支持下", " 广西人，但是从小是说粤语的。所以普通话就。。。。", "我就说嘛，这锅，盐后。。。", "感谢", "向楼主贡献了我的第一个收藏", "战略 mark 。。。", " 哈哈哈，这个。。。。\r", "\r", "\r", " \r", " \r", " \r", "\r", "感谢支持。", "zici 一个", "感谢分享，好人一生平安。", "支持一下，楼主的普通话听起来好亲切，可是我不是两广人士啊。。", "收藏以后顶一下。", "楼主加油~ +1s", " 法式大写尴尬。。。", " \r", " \r", " \r", " \r", "\r", "感谢兹此", "支持！", "感谢已点，回个帖提醒大家可以点 感谢  按钮。", "战略 mark 。。。", "耳测楼主广东银？._.", "支持一下，好亲切的两广普通话，比之前的说的好。", " \r", " \r", "\r", "Yoshi,非常感谢支持。", " 广西人，说粤语\r", "\r", "\r", " 哈哈哈，同学也说我普通话越来越有进步。想想当初大一的时候，自我介绍就特别尴尬", " 看到广西人，表示很亲切。", " 幸会幸会。", "请问  我通过 Github 登陆  但是 我找不到在哪设置我的邮箱  然后  我改不了密码。。。 肿么破？ ", " ", "马一个回家看", "m", "挺好的  👍", " 目前 github 登录的话，在后面登录的时候，也只能 github 登录", "网速很快，支持", "感谢， mark", "正愁没有 gethub 视频", "mark", "谢谢分享", " \r", " \r", " \r", " \r", " \r", "\r", "感谢支持。", "语音讲解很清晰，没废话。先 mark ，后续认真看", "支持感谢，已收藏。", "感谢，学习了", "楼主 v587", "顶一下再收藏", "支持了", "厉害", "之前在 sf 发的讨论学习 Laravel 的问题你回复过我呵呵，后来搜索 Laravel 视频的时候也关注过你的站点，这段时间我也有试着在做视频。后来还发现你在成都，我是在重庆，最后还发现我们居然还是老乡。就有这么巧，圈子就是这么小呵呵。", "恩~可以学习学习", "谢谢楼主", "mark", "谢谢贡献😍", "谢谢分享 ，支持！", "不错", "谢谢你~", "嗯， mark 上，看了视频列表，就那３个免费的，其他都收费，话说第一集\"安装 Git\"都要收费说不过去了", "mark  顶一波", "已 mark", "谢谢^_^", "谢谢分享", "感谢楼主！  感觉楼主的普通话口音很像电视里的日本人口音", "感谢楼主，学习啦", " mark ，感谢你兄弟，你是一个好人", "感谢分享,挺实用的~", "兹持一个。", " \r", " \r", " \r", "\r", "感谢了，很厚道你们。", " 老乡啊，幸会幸会", "码萌 支持一个", "mark 一下，回头到宿舍看一下，默默收藏，顺便吼吼", " 码萌 是什么鬼", " 吼啊", "mark", "学习了谢谢", "先马后看，多谢楼主。", "收费了 楼主 嘿嘿", " 哎呀，实在不好意思，我前天重写代码的时候，看来把这部分的逻辑搞错了，我改一下，这个是免费的视频"]},
{"content": ["<div class=\"topic_content\">&lt;?php\r<br>session_start();\r<br>\r<br>if (isset($_SESSION['tt'])) {\r<br>    echo '删除 session' . $_SESSION['tt'];\r<br>    unset($_SESSION['tt']);\r<br>    return;\r<br>} else {\r<br>    echo '保存 session';\r<br>    $_SESSION['tt'] = '123456';\r<br>    return;\r<br>}\r<br>\r<br>?&gt;\r<br>\r<br>我页面的代码如上，不断刷新页面，按理说应该是删除和保存轮流切换，但实际上不是，一直是保存，把删除方法注释之后，就会一直是删除，及时把注释撤销，也一直是删除，然后要把赋值方法注释，才能变成保存，但撤销注释之后也一直是保存。\r<br>就这样一直无法正常工作，根本不会每次刷新都 toggle 一次。\r<br>求大神帮忙，谢谢。</div>"], "reply": "8", "tittle": "求助 php session 不会切换的问题。", "comment": ["我觉得不是代码的问题。\r", "把错误输出打开看看有啥错误输出。", "我试了一下代码，没毛病，是可以 toggle 的；\r", "会不会是 php 没法保存 SESSION_ID", "是在浏览器里测的吗？没 Cookie 的环境会导致失败。", "检查下 session 目录存不存在", "我试了一下代码，也是没毛病，是可以 toggle 的", "不会是硬盘空间满了吧", "加个参数试试", "php session 的路径没配置好或者那个路径权限不对"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>    想请教一下各位 V2 的大神们，现在 php 工作的行情怎么样，题主现在坐标深圳，自己是今年是某省的二本毕业，自己当初是自学的 Android ，但是自己当时不知道 Android 的行情，今年 6 月份毕业的时候才发现 Android 的行情的好差，当初投的简历基本都石沉大海了，自己当时找 Android 的工作找了几个星期就几个简历，当时身上的钱都不多，所以找了一家公司做软件的技术支持工作。<br>\n    但是做技术支持的工作每天都是和客户打交道，各种心累，而且这个公司加班也特别严重，每天下班到住的地方都差不多十点了，但是自己还是特别喜欢做软件的开发，所以自己每天都会抽出一点时间来学习 php ，自己是跟着培训班的视频学习的，现在 php 基本快学完了，培训班的电子商城还有 cms 等项目自己现在基本上能够独立的完成出来，因为原来有学习的 java 的基础，学习 php 十分的上手，框架的 mvc 的掌握比较熟练。<br>\n    最近上网看到一些问题，发现 php 的工作行情好像也比较的差，自己本来想这份工作工作到年底的时候就辞职，过完年之后找 php 的工作，但是不知道现在深圳 php 的真实行情，自己在拉钩和一些招聘网站上看 php 的行情，发现和 java 的招聘数量差距好大，所以现在自己现在还有点不敢辞职，怕自己辞职之后又会遇到和当初自己学习 Android 一样的状况，所以想请教一下各位 V2 的大大们，像我这种水平在深圳找 php 工作好找吗？<br>\n自己的技术栈：</p>\n<ul>\n<li>基本的 Linux 操作都会，在 Linux 环境下搭建完整的项目没有问题，简单的 shell 脚本也会一点</li>\n<li>php 的基础感觉还好，培训班视频中的几个项目自己能够较为轻松的独立完成，电子商城， CMS ，微信的后台开发等</li>\n<li>基本的 redis 和 memocached 使用都会，在项目中也有所运用</li>\n<li>ThinkPHP 的操作比较熟练</li>\n<li>前端的一些 HTML/CSS/JavaScript,jQuery ， ajax 基本没有问题</li>\n<li>因为学习之前也学习过 java ，感觉对面向对象什么都还不错</li>\n<li>英语能力还好，六级的水平</li>\n</ul>\n</div></div>"], "reply": "58", "tittle": "PHP 现在市场行情怎么样", "comment": ["如果你以上都会直接 2W", " PHP 行情这么好？", "1 楼是负责搞笑的好吧= =\r", "如果真的只要会用就能轻松拿 2w 以上，现在 985 出来的拿 special 的也没几个高过 2w 的。\r", "别瞎想，与其看什么行情好，不如在一个方向好好努力。。。。", "能不能给个具体的例子，我不太了解你对「 xxx 都会」的定义。", "先把错的英文改一下吧😂", "memocached ？？？", "    \r", "前端的内容  ecshop 里面的一些界面的效果自己独立能够完成\r", "Linux   自己看的是鸟哥的书   文件的操作  权限的管理   因为自己现在的工作天天就是在 Linux 系统下工作  感觉应对基本操作没有什么大的问题\r", "几个项目     只能说自己跟着培训班的教程完成以后   自己能够在不参考原来的代码基础上   自己能够从头到尾的重新独立的完成", " 打错了   memcached", " 打错了     memcached", "    大哥   别逗我   我期望 6.5k 就知足了", "PHP 很多小企业用，楼主可以先接一些小项目。大企业还是 Java 用的多。", "   我只是怕又遇到自己当时刚毕业的状况   想想和自己一起毕业的哥们  在培训班学了四个月   现在在华为外包   一个月 12k     对比自己的工资   感觉好心塞   自己当初要是和他一起学 JAVA   现在也不会这么惨", " 那现在怎么还不赶紧学 Java ，学什么 PHP …", " 你那哥们是做 Java 哪方面的？", "我也在深圳，去年毕业（统招的普通一本，但是在深圳很多公司把我的学校算二本的那种很一般的学校）。\r", "之前是写 C/C++的，业余学了 Python ，前段时间跳槽了，然后现在的公司 PHP 、 Python 都会用到，目前我正在学 PHP ，如果楼主说的那些东西是真的都会的话，不开玩笑的说，在深圳怎么也得有 1w 的薪资。\r", "但楼主却说 6.5K 就满足……是不是楼主学的不到位然后有些心虚呢？\r", "不管怎么样，多加油吧，我从 C ／ C++转过来，需要学习的东西还有很多，对很多东西我其实只知道个大概，不明白其所以然，共勉吧", "再说一下，讲真，不要太纠结行情，不同的语言作用的领域不一样，选择自己喜欢的语言一直学下去，肯定可以找到工作的，再努力提高姿势水平，待遇也肯定会上来的。\r", "我当初就是一只很喜欢 C/C++，后来听说了 Python 也很喜欢，于是学了 Python ，虽然现在因为工作需要学 PHP ，但是我不怎么喜欢 PHP （变量名前面都有一个$ 符号能忍？？？），当然才学了一周，或许学到后面， PHP 也有它的令人喜欢的地方呢？是吧。\r", "总之吧，不要太纠结语言，重要的是解决问题，以及语言用的顺不顺手、喜不喜欢（同样一个问题，很多语言都能解决的时候选择自己喜欢的语言😄），然后就是努力找工作了，找工作要有耐心！加油吧，我之前跳槽的时候也没想到会从 C++转向 Python 和 PHP ，都是偶然的。", "不是 php 安卓行情差。现在大环境都差", "lz 没经验， 6k 都难", "如果都是从零开始 建议 java", "微信小程序 感觉 PHP 又会热一把", "新手村选错了，就会觉得难度很大", " 微信小程序跟 PHP 没有半毛钱关系！", " 为嘛", " 说的好像贴膜的 卖手机的有关系一样", "比我懂得多， 2w 没问题，就看你怎么挣", "其实，确定好一个方向，深耕下去，你在这方面技术越好，市场导向影响就会越弱（大部分时候……）", "同在深圳,到今年为止,五年没有投过简历.也不清楚当前的环境.\r", "\r", "但是每隔一段时间就会有猎头来聊骚,而且工资都很高.行情应该还是过得去吧.\r", "\r", "不过对于没有什么经验来讲,找个理想的工作确实有点难.\r", "\r", "但是讲到 PHP 市场行情,觉得还算是可以的.", "这很 V2,只要有人问薪资必有随口 2W 的.在 V2 2W 就是一条薪资基线.", "oop 扎实的话，基础应该是默认为不错的，出几个基础以上的自检题吧，随手想到的可能不专业。\r", "\r", "1 ， factory 和 repository 都是用来取得对象的，它们的区别是什么。\r", "2 ，状态机的几种实现方式。\r", "3 ，斐波纳契数列的计算方式，你首选什么。\r", "4 ， get_class 和 __CLASS__ 区别。\r", "5 ，举例说明组合为什么优于继承，又在什么情况下你会首选继承。\r", "6 ，实现两个随便什么排序。\r", "7 ，说出 3 个以上的 spl 迭代器名称， 试着写出迭代无穷子目录文件的代码。\r", "8 ，测试在你眼里的作用是什么 ，什么情况下你才会写测试。\r", "\r", "都比较简单，第一印象能说个大概，找工作应该是不成问题，但是楼上说的 2w 应该还是看机遇。\r", "要是卡壳太多，写什么语言市场也不会太好。", "目测楼主对 29 楼的问题都答不上来", "说说 mysql 索引。介绍下 php 魔术方法。 awk 了解吗？ http 504 是什么呀？求二叉树的宽度？", "总之不要让人感觉培训出来的，基础要扎实", "大环境都差， php 相对是好的， 6.5k 应该没问题，再高有困难，哪怕你技术值更多钱，没实际经验学历也不高也会暂时限制你，过段时间再跳槽，才会更具的技术有明显提升。至于 2w 那个，我只能说不是搞笑就是幸存者偏差。", " @", " 说小程序带着 PHP 火，不如说前端😀", "php 快速构建 API 很高效啊！这是她火 原因之一。\r", "还有就是，她的生态圈在国内和国际上都挺大的。", "一线城市的话， 1W 以上是有的", "我公司除了实习 PHP （只要本科未毕业和毕业一年内）一律 20K 起", "PS 玩 ThinkPHP 的和玩过二次开发的，基本面试提到就直接毙了", "你投一下 php ，你会发现一样简历石沉大海！", "上海 php 起薪 8k 到 12k ，中级 12k 到 18k ，高级 18k 到 30k ，再高就要看实力和机遇了。 6.5k 的互联网行业程序员，有公司敢用吗？", "工作都是熟人推荐， PHP 行情还行吧", " 为啥歧视 TP...用什么框架加分呢", " \r", "不是歧视 TP\r", "统计表明，基本用这玩意的且把这个当做自己技能表列出的， [ [ [大部分] ] ] 代码质量较烂，最后到达高度有限\r", "以此为标杆筛选，误伤率极低能有效降低招聘成本。还有什么开口就来我的经验就是精通 discuz phpcms dedecms 的 直接可以走人了。\r", "\r", "另外，我司项目代码有些会用到 ThinkPHP ，不存在歧视。且并非绝对一刀切，看项目经历、公司经历，之前在运营自己 web 项目的公司或者原创类 app 、公众号后端且主能力 ThinkPHP 的，会拿两个 thinkphp 的底层问题试探一下，如果不能说的条条是道那也直接走人", "现在是 16 年了，为啥还 ecshop ， php 框架建议起码学习过 laravel,sy,ci,yii 这些", "安卓市场也并不差\r", "\r", "同样作为主流工种，安卓也好 php 也好， ios 、前端、 java 也好，市场容量都是很大的，大到没必要质疑行情，找不到合适的机会很大概率问题还在自己", "仅考虑楼主 php 部分,来武汉顶多 3500", " 为啥不提 phalcon 。。。", " 那你对 PHP 框架好感度排名怎么排？", " \r", "没啥好感度排 看各人熟练度 了解度\r", "\r", "我个人来说 看需求 确定使用轻型还是重型框架\r", "重型框架主要用 yii2 ， laravel\r", "轻型框架主要用 CI\r", "\r", "这是我个人，公司其他人都有自己熟练掌握的排行，而且我们的基本要求就是每个人都熟悉主流框架，真要搞项目用啥都不能现学不是。各种框架的适用、不适用场合精通，各种框架里面的大坑都了解即可", "能把标点符号打好吗.. 看着好难受..", "  我的错，欢迎补充..", "不知道会的定义，如果是极其熟练的话，那还是很好找一份好工作的", " 我也感同身受，感觉就是今年开始的，你是在哪里啊？", "讲真， 楼主说自己能力的时候过于轻松，实际工作经验欠缺，面试的时候可能会吃亏。", " 是行情 容不下新人了，现在移动开发缩水了", " 他们不会 phalcon", " 帝都", "我看了下 29 楼的  \r", "恩,大部分我都答不出来...\r", "恩,看来我还是很识相的!", "互联网注定会成为不是那么热门的行业.毕竟现在行业火热,泡沫多一方面,很多其他行业的人才也拥挤进入这个行业追求高收入.而互联网的门槛比金融低,但是薪资却低不了多少.可以预见的是未来几年会有大量的互联网从业人员,但是楼主如果真的对编程感兴趣就努力提高自己成为资深工程师.这样才能在大浪淘沙中生存下来."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>这个是 mac 自动的 php ，有 gd 库但是不支持验证码。少了 FreeType 。</p>\n<p>（ phpinfo 打印的 gd 信息）\nGD Support\tenabled\nGD Version\tbundled (2.1.0 compatible)\nGIF Read Support\tenabled\nGIF Create Support\tenabled\nJPEG Support\tenabled\nlibJPEG Version\t9 compatible\nPNG Support\tenabled\nlibPNG Version\t1.6.20\nWBMP Support\tenabled\nXBM Support\tenabled</p>\n<p>========================================================================\n然后我到网上找相关信息，这了这个简单的方法进来进安装添加。但是一直到这个地方就没有动过了。\n所以想问一下大家关于这个情况是不是没有安装成功还是在那里编译呢？</p>\n<p>这个是我安装的代码：\ncurl -s <a href=\"http://php-osx.liip.ch/install.sh\" rel=\"nofollow\">http://php-osx.liip.ch/install.sh</a> | bash -s 5.6</p>\n<p>在这里就一直不动了:</p>\n<hr>\n<p>[WARNING]\nDetected macOS Sierra 10.12. As this is quite new, there may be issues still. Your mileage may vary.</p>\n<hr>\n<p>Get packager.tgz\nUnpack packager.tgz\nPlease type in your password, as we want to install this into /usr/local\nPassword:\nStart packager (may take some time)\ndownloading <a href=\"https://s3-eu-west-1.amazonaws.com/php-osx.liip.ch/install/5.6-10.10-frontenddev-latest.dat\" rel=\"nofollow\">https://s3-eu-west-1.amazonaws.com/php-osx.liip.ch/install/5.6-10.10-frontenddev-latest.dat</a>\ndownloading <a href=\"https://s3-eu-west-1.amazonaws.com/php-osx.liip.ch/install/5.6-10.10/frontenddev/5.6-10.10-frontenddev-5.6.25-20160831-101628.tar.bz2\" rel=\"nofollow\">https://s3-eu-west-1.amazonaws.com/php-osx.liip.ch/install/5.6-10.10/frontenddev/5.6-10.10-frontenddev-5.6.25-20160831-101628.tar.bz2</a></p>\n</div></div>"], "reply": "9", "tittle": "mac 自带 php 版本， GB 库中的 FreeType 安装", "comment": ["有遇到过的大神，请帮忙看一下。谢谢", "扶个墙再试试？", " 本身就已经代理了。还有这个 curl 地址不要翻也是可以访问的。<-_<-", " AWS 在国内访问速度相当慢", "你需要安装 brew 进行安装。然后指定编译就行了。最简单", " 有相关资料吗？我 mac 不是很熟悉哦！ @", " 我这代理就是美国的哦！还有，根据你的意思来说我这个情况是在那里下载吗？", " \r", "官方文档", "我前几天装的， 5.6 然后 brew 装的 7.1 可以正常用， 建议多试试吧。", "参考这里 "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>网站程序： wordpress\n联盟：百度联盟\n网站类型：自适应网站\n说明：想让网站广告根据设备判断显示不同的广告</p>\n<p>请大佬提供具体代码 本人略小白 谢谢 不胜感激</p>\n</div></div>"], "reply": "10", "tittle": "在手机和 PC 上分别显示不同的联盟广告？", "comment": ["首先....你得通过百度联盟  再回来问这个问题...", "没有代码，只有思路，看你的 wordpress 支持不支持 pc 和移动端两种模板，如果支持，分别写联盟代码就好，如果不支持，需要手工在代码里面判断，一般都是根据浏览器判断，然后加载不通联盟代码", "wp 有判断是否是移动端的函数.\r", "\r", "wp_is_mobile();", "if(wp_is_mobile()){\r", "// 移动端广告\r", "}else{\r", "// PC 端广告\r", "}", " 通过了 不通过我也不会问这个。。。", " 自适应网站这个能用？", " 自适应网站", " 可以，这和自适应无关。", "css @", " max_width", " 卧槽, 不行啊,我要转百度黑......tnnd,为啥我的就过不了呢......"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>9 月中旬离职了,到现在都还没找到工作\n离职期间也都在投简历,但是面试邀请收到的很少\n大部分工作要求 2-3 年的工作经验,但是我只有 1 年的工作经验\n自我感觉除了项目经验略低,其他的技能点都还不错\n比如代码质量啊,思维逻辑什么的(和之前公司里面的程序员比较起来说)</p>\n<p>当然也是有收到一些公司的面试邀请\n但是最终都没能面试上\n发现自己嘴巴不是特别会说,如果面试官问一些技术上的问题还好\n但是问道类似人生规划,梦想,以后准备...这类的我就会懵逼</p>\n<p>上周也去了一家公司面试,面试期间感觉还行\n期间讲过自己会一点网络安全和渗透方面的技能\n但是因为那个面试是当天就约到后去的\n时间匆忙,没有对他们公司进行一些安全检测</p>\n<p>面试完后,回到家就对面试的公司官网进行了一些简单的检测\n发现了几个重大的漏洞吧</p>\n<ul>\n<li>任意账户密码修改漏洞</li>\n<li>任意文件上传漏洞</li>\n</ul>\n<p>第二个漏洞直接就把公司官网的服务器也拿下了</p>\n<p>第二天就给面试的公司打电话,最后联系到了昨天的面试官\n然后是通过 QQ 的远程桌面给面试官演示了我上面发现的两个漏洞\n当时我感觉面试官应该会满脸惊讶;)\n但是面试官说给我看这个漏洞干嘛......</p>\n<p>妈蛋,今天我又去那个公司官网看了下\n居然还没修复我说的漏洞\n而且我测试的时候上传的木马都没有删(免责声明:本人只是检测漏洞,并未通过漏洞进一步获取网站内容进行任何牟利行为)</p>\n<p>哎,话说这家公司面试的时候\n聊得还可以啊,而且我都把他们网站发现了几个高危漏洞\n这也不要我...</p>\n<p>不算其他的,如果这类网站去白帽众测的话\n拿到服务器的漏洞,应该可以拿接近 5k 了吧...</p>\n<p>这都快两月了,还好中间接了点爬虫单子\n勉强维持生活</p>\n<p>所以我想问问各位前辈\n像我这种工作经验略低的程序员怎么才能找到工作?</p>\n<p>个人博客:( <a href=\"http://www.wd0g.com\" rel=\"nofollow\">http://www.wd0g.com</a>)\n邮箱:root@wd0g.com(0 是数字哦)</p>\n<p>如果有成都的大大要招 php 的,可以联系邮箱哦\n感谢!</p>\n</div></div>", "<div class=\"topic_content\">文中所讲到的安全部分并不是用来炫耀的,而且也没什么值得炫耀的地方</div>", "<div class=\"topic_content\">我博客用的证书就是沃痛的...我也对 linux 不是很熟悉</div>", "<div class=\"topic_content\">各位大大说的我也不好意思了...\r<br>宝宝会努力的;)</div>", "<div class=\"topic_content\">证书已经去掉沃痛的了...</div>"], "reply": "64", "tittle": "php 程序员找不到工作怎么办啊?", "comment": ["你干嘛要跟不识货的公司死磕。。。", " 我只想找份 php 的工作,实在是找不到了", " 先别怀疑自己的能力，你只是没找对平台。你有没有试过远程 Freelancer 模式？英语沟通能力如何？可以试试国外的自由职业者平台。", " 英语沟通简单的还行,但是用在工作当中还是够呛,目前也在努力背单词~~~", "熟人", " 这个就是文中讲到的任意文件上传漏洞 ", "之前乌云那事应该还有人记得吧，你这算不算人赃并获。\r", "\r", "祝找到合适的工作。", " 谁?", " 我并没有做任何损害贵司利益的任何事情,数据库都没碰", " 我就跟你开个玩笑啦", " 所以我严肃的回答下撒;)", "lz 可以先检查下 blog 里的文章， ", "\r", " 你干嘛要用别人的脚本安，还是 777 权限给目录\r", "你 blog 里也提 非最小权限的危害，但自己还是没有最佳实践", "我只要上传的文件不位于服务器下能彻底杜绝这种漏洞吗？使用单独的静态资源服务器来保存上传的文件。", " LZ 说的这种漏洞太低级了，随便一个框架都有机制杜绝这种事情。\r", "上传文件都能搞定，只能说他提及的这个公司太差了。\r", "哪怕不用框架，做一个后缀检查或者 mime_type 就能搞定。", " 单独静态是可以（如果不会被 copy 或者读取的情况下 比如你想读了然后缩放万一有漏洞还是不能完全保证 oss 可以 \r", "\r", "检查 mime 然后目录没有运行权限也能防止一些\r", "\r", "to lz 我还见过 CHRO 教底下的 hr 的面试题什么是主键 什么是外键的奇葩呢 （奇葩的是他们的程序 数据库 mysql 里完全看不到外键） 你也许可以关注一下运维安全方面的工作", " 漏洞虽然低级，但是影响很大", " 对 Linux 不是很熟悉啦", " 死脑筋，是谁规定说有漏洞就一定要修复！！！", " {{12L}}: 那篇博客，我補充一下：\r", "\r", "1. <code>chmod -R 777 /server</code> 這行裡面 <code>/server</code> 應該改成 <code>./server</code> 否則改的是根目錄下的 <code>server</code>。\r", "2. HTTPS 證書是自己簽的吧…… 還不如沒有 TLS 呢。", "同是 PHP 没找到，感觉现在随便一个公司都要求高，一个几人的公司，要千万级 pv 开发经验，我去，也不想想自己能不能达到，现在有点不想找了，自己做项目不是更好，干嘛非要去看那些臭老板的逼脸", " 个人感觉刚工作不久就去走 freelancer ，不太合适。事倍功半，\r", "\r", "还是等到了专家级再做 freelancer 会比较好。", "现在的网站技术已经很多年了。该占位的公司都占了，该垄断的垄断了，每年几百万毕业生。。。不是你不够好，而是挑选余地太多了，走移动端吧。机会更多点~", "这个漏洞太 low 了，这样的公司不去也罢", "楼主，下次别这么干，人家不理你是轻，人家要是报警了你就掉的大", "其实说真的，看到这个文章 ", "\r", "\r", "我就不敢苟同你的代码质量。", "通篇都是在抱怨这个世界不识货自己这么牛逼找不到工作 ... 所以你开的多少月薪说来听听 ..?\r", "\r", "还有 ... 职业方向呢 ..? 口口声声说要做 PHP 却一直在讲自己的安全实力 ... 所以你还要不要开发 ..?\r", "\r", "至于标题的问题 ... 或者你独行于世 ... 或者在你觉得别人都傻逼的时候先停下来看看自己 ...\r", "\r", "P.S. 不用沃通的证书难道还没有成为一个常识吗 ...", " 这是微博 sdk 里面写的代码，我直接 copy 的当时只是测试下，没太注重质量", " \r", "月薪： 5k\r", "我讲安全实力和我做开发很矛盾吗？", "沃通证书。。。。我这里直接拦截了", " web 狗那点东西 说实话，拿出来炫 真搞安全的笑掉大牙了，搞开发的不是不注重安全，而是国内大环境就是\r", "中小公司根本不注重这些玩意，你哪怕是把人家整个内网服务器全拿下了，人家技术主管也不会鸟你，真的触及到对方利益的话 直接就报警了，上次某云那位仁兄， 32 岁的大叔了 居然还想搞个大新闻，结果呢？把自己送进去不说，还害了家里的父母亲\r", "\r", "上传漏洞这玩意，其实很多年前就有了（最早有 fckeditor 以及很多著名的在线编辑器 asp 有动力论坛之流）， 最保险的办法 就是文件全保存为 二进制 不留后缀，将后缀名写进数据库，在返回的时候 通过 IO 写进 http 输出流", " 做开发和搞安全是两个不同的方向啊，做事的时候这俩的思路都不一样…… \r", "别人招你是去做开发，以及说公司规模稍微大点，有安全要求的项目，上线的时候都有专门的安全部门做安全测试", " 并不矛盾但是要分清主次 ... 掌握安全技能自然是极好的 ... 但首先你开发实力要过硬 ...\r", "\r", "以及一年经验 5k 这价格并不过分 ... 成都居然惨成这样了我也是没想到 ...\r", "\r", "所以现在的建议 ... 在简历里写几个自己之前独立完成的项目 ... 然后勤投投吧 ...", " \r", " \r", "都在说我炫耀安全,我只是把整件事情讲出来而已.", " 反正我个人觉得这样的代码和态度简直了。。。\r", "\r", "把你觉得你写得最优雅的代码放出来看看？", " 不是炫耀安全，而是 现实是 安全根本就不是一回事", " 我也不是很完美的人啦~~~", "可以转渗透", "这 tm 是什么公司，对技术根本就不重视好吧？随随便便黑盒就能找到这么明显的漏洞？我擦，这 tm 明显公司人就不 care 安全嘛！！！", "千万别去！！！", " 爱情和面包只能选一个啊;-(", "不用太焦虑，总有一段时间是迷茫的过了就好了。", "只能降薪了", " 在看你的博客，我感觉最好加一个 你自己的介绍，如果有 github 最好，也方便别人了解你的特长。", " 行吧，当我没说", " 能回复下关于商城 SKU 表结构数据的那篇么？", "广州一样 很多出 1k 的 都不让人活了", " soga,了解 !", " 出 1k 是什么鬼。。。", "不错啊，挺有前途的啊。\r", "\r", "问题不在炫不炫安全，而是光有这个意识就很不错了。这跟安全无关，而是跟有没有想把东西做得更好的意识有关。\r", "\r", "以前我面试 php 程序员的时候，面试了半个月才有一个能把一个 http 从请求到响应都干了啥说清楚的，心塞…", "两个漏洞不值 5K 。", " 50 块钱一天…", "官网而已！都是随便找的 cms 改改而已！只要没被拿去挂广告就行！", " 主要之前喜欢玩这方面的东西,现在学了 php 之后能用\"黑客\"的角度来写点代码而已,..", "可以来杭州。。", " 广州哪家公司 PHP 开一千？搞笑呢吧？只会 MS Office 也不是这个价啊……", " 在国内的时候大部分时间都是 Freelancer 的状态，个人觉得这种工作方式更锻炼人。", " 是锻炼人。但是工作才一两年，没有养成良好的工作习惯和思维模式。会走很多弯路吧。", "厉害啊 我的哥 跑这上面来了  （滑稽）", "爆裂狗？", "虽然不是 PHPer ，但是翻了翻你的博客，感觉没什么亮点，对于一年的程序员，公司可能更看中的是你拥有一个扎实的基础。", "没事学学写框架或者商城，有自己的东西比较好证明实力。祝楼猪早日找到满意的工作！", "所别字看着好难受，沃痛 -> 沃通", "我玩了 4-5 年入侵类的~~~~ 现在没玩这个也 4-5 年了~", "burpsuite ？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>说明一下情况：</p>\n<p>在这之前，慕课网找过我很多次了，希望我过去当讲师，就是录视频那种吧。然后我都是比较忙，没有答应，然后今天想起，要不去 慕课网 看看，结果登录的时候就 <strong>尴尬了</strong>：</p>\n<p><img alt=\"laravist\" src=\"https://o0dpls1ru.qnssl.com/imooc.gif\"></p>\n<p>是因为我一年前在问答那里放过几个链接么？</p>\n<h2>搞笑啊</h2>\n</div></div>"], "reply": "88", "tittle": "慕课网找了好几次去做讲师，然后今天一看，这就很尴尬了。。。", "comment": ["害怕...", "额。。。。尴尬了", " \r", " hhh 。。。只取一乐", "看到大神了，哈哈， RP 太好了吧", "情人间分手肯定拉黑", " 这，，，\r", "\r", "\r", " 好像很有道理。但是前提是我没跟对方眉来眼去啊", " 头像好评，救命魔法卡。", "厉害了我的哥", "先联系他们客服看看，哈哈", "你应该进“全球工单”系统，听说那里很多很多甩锅和背锅的人 ", " ", "虫合虫合虫合，这就很 尴尬", " excited ！", "想向楼主请教一下，你是怎么录制的？用的是什么软件，方便分享一下吗？谢谢了", " screenflow", "厉害~(˘▾˘)~", "之前看过你的视频，然后现在看到这个帖子。。\r", "雾～哈哈", "这 tm 就尴尬了...不过说归说，慕课网的视频也该是时候增加些难度高点的了", "蛤蛤蛤，搞事情", "哈哈，出来搞事了", "momentum 好评", " 难度？慕课一大批视频的内容都是在误人子弟啊，至少我发现很多 PHP 的视频是这样的。", " \r", " 一颗赛艇\r", "\r", "\r", " 哈哈哈，不错。就是这个插件\r", "\r", "\r", " 哈哈哈，尴尬了", "这 TM 就很尴尬了。。。", "自己给别人录帮别人赚钱，自己录放网站上不但可以卖还可以增加网站流量", "我的慕课网账号 曾经也出现过这种情况   重新登录一下就好了  \r", "推测是慕课网的数据库出现问题  混乱了   233333333333333", " 我擦，惊现超神", " 重新登录不了的。。。。试了很多次的，就是有点尴尬，放出来乐一乐", "厉害", " 好方法", " 向客服反映一下", "  大哥 那你说 初级 php 该怎么学习 怎么进价啊 慕课网还行啊 可能对于你们这个老手来说不咋滴 请各位大佬不要吝啬 一起发表一下 初级 php 该怎么学习 怎么进价", "当初是你要分开 分开就分开\r", "现在又要用真爱把我哄回来\r", "爱情不是你想卖 想买就能卖\r", "让我挣开 让我明白 放手你的爱", "完全，懵逼。", " 额，我觉得还是看文档，多写就好，每个人都有自己的学习方法。\r", "\r", "至于为什么说慕课上存在那些误人子弟的观点，是因为每次我看到那些视频出现 test1 test2 test3 这些方法的时候，还有就是活生生把 laravel 写成 tp 的时候。。。到处都是，就冲上面这些，我给零分", " 哈哈哈哈，这尼玛", " 无所谓，不进去也罢。也没啥， just do a good job ，做好自己就行。", " 哈哈哈，就是很尴尬", "我就想知道 gif 动图怎么制作的， ", " ", " licecap 。。。超好用", " 哈哈哈，别人帮我问了我要问的问题。。", " Good Job, THX ", " ", " \r", " 你们这。。。看重点啊", "楼主好，我是慕课网的，路过看到你的贴子并核实了一下，楼主账号确实已被冻结，原因是你在慕课网发布了一些广告链接。由于慕课网的免费视频课程是具有公益色彩的，为了给用户提供一个纯净的学习环境，免费课并不支持任何形式的广告，所以把一些发布广告的帐号做封停处理，为此我深表遗憾。", " 重点都知道了，哈哈，以前也看过慕课网，现在经常逛 v2 ，感觉这里的大神都不咋滴看视频，都认为看官方文档学习更快，也就不咋滴看视频了，我个人还是很喜欢看视频的，尤其是 YouTube 的视频，灰常不错。也看了你的关于 phpstrom 和 github 的视频，说实话还是不错的，有 Peter 哥的范儿，就是那个关于 webhook 的，没大看懂，可能你是针对你已经做好的项目来讲解的，没有从头开始一个项目把 流程走一遍，自己再跟着做一遍，这样我感觉效果会更好。", " 我不得不想问一个问题，你们有明确警告过用户不得发布任何带有广告性质的链接吗。如果任何通知手段都不采用而直接封停账号是不是太极端了，这样的话，你们对用户的态度，我只能说呵呵。", " 可以的啊，后面我录个完整的 GitHub 系列吧。", " \r", "\r", "第一，慕课有说明或者警告过用户不得发布任何带有广告性质的链接吗？\r", "\r", "第二，仔细看动图最后一页，我被删的下面就有一个 51CTO 的广告。\r", "\r", "第三，不用感到什么遗憾。", " 是的呢？我也比较赞同这个，无规则，不成方圆。", "刚刚确认了一下，项目注册页连协议都没有……是不是可以默认为除当地法律法规外无限制呢……", "大神被坑了，哈哈", " 恩，我也注意这个了", " 并不是大神，但是被坑得还是有点尴尬。。。", " 所以你的视频在哪里看？", " ", " 哈哈哈", " 误人子弟 还是好的， python 相关的都是不堪入目", " 所以你有没有推荐的相对质量较高的中文学习资源", " 哈哈哈，真心不敢认同某些视频的内容", "看过 lz 的视频 感觉相当的不错", " hhh..感谢兹此", " 非中文很多，中文很少", " 这个满分 哈哈哈哈", " 看了几节视频，就是对为什么选择 Ubuntu 而不选择 CentOS 有怨念哈哈哈哈", " 这个个人选择吧，而且就这方面来说， Ubuntu 的市场占有率未必比 CentOS 低", " 我倒是看了一下 java 的，其中一课程：为了方便，我们就直接用 public 好了。这样确实有点误人子弟…", "这图里特么不是我给慕课网做的教程吗，有种躺枪的感觉", " 这还算好的了吧。。。看看 PHP 的那些。。。哎", " 学 php 哪里比较好，或者说看什么书？", "你不去  他气不过就给你拉黑了  没把评论删了  估计是技术不够硬！", " 1.看文档 2.看一下这本书 ", " 3. ", "   讲真，你天天翻译外国人的视频有意思吗", "大佬 你慕课网的视频是哪个啊", " 谢谢", " 不是大佬，也没在慕课上有视频。", " licecap 确实好用", "慕课网除了可以看基础视频外，本身就不是啥好东西啊。", "慕课网都很基础,想学精湛还是要自己去看文档实践！", "截图工具很赞", "blocked", "block 了慕课网,不是楼主.", " 比起其他一些视频网站，慕课网还是相对比较好的了", " 嗯哼，感谢支持", " 比如说，其他的是？", " 极客，麦子这些", " 好吧，孤陋寡闻了，没看过这些视频", "登陆是啥插件.. 挺牛逼的样子", "支持下　群主", " 哪里可以看 jellybool 的 phpstrom 和 github 的视频", " 兄弟不点头像的，自己要主动点啊。 ", " "]},
{"content": ["<div class=\"topic_content\">我们目前团队不大，但是公司的业务已经有盈利，所以虽然也算是创业团队，但是已经过了要靠投资活着的阶段，而且目前账面资金还非常充裕。我们的项目是做网文，主要有两块：一块是文学网站，另一块是网文社区，移动 APP 。\r<br>\r<br>目前我们争寻 PHP 攻城狮，薪资好谈，优秀的同学可以谈期权。\r<br>\r<br>我是直招，不是 HR ，欢迎有兴趣的把简历砸过来，或者离得近的直接过来聊聊。 <a target=\"_blank\" href=\"mailto:hdl@huiwenliye.com\">hdl@huiwenliye.com</a></div>", "<div class=\"topic_content\">补充一下 JD 哈：\r<br>\r<br>一、岗位职责： \r<br>1 、负责公司网站后台、 PC 及移动产品的服务端开发和维护； \r<br>2 、参与系统设计、需求分析、接口设计、程序开发以及技术文档编写的相关工作。 \r<br>\r<br>二、任职要求： \r<br>1 、工作经验三年以上，不限学历，只要你足够自信以及足够勤奋好学，来吧，没问题。 \r<br>2 、精通 PHP 面向对象编程，掌握或者熟悉 MVC 的开发模式，至少熟悉一种主流的模板引擎，比如 Smarty 等、代码编写规范，具有良好的编程习惯； \r<br>3 、熟悉 MySQL 使用，能编写可用高性能 SQL 语句； \r<br>4 、不求精通，但至少有一定的 C 语言基础； \r<br>5 、参与过大型的项目或维护过大数据； \r<br>6 、抗压能力强，心思细密，拥有良好的团队合作精神和客户导向意识。 \r<br>\r<br>三、加分项： \r<br>1 、熟悉 Lua 或 Python 编程者； \r<br>2 、有过基于 Redis/MongoDB 开发经验者； \r<br>3 、有过大负载网站编程经验者； \r<br>4 、 Github 上有开源项目、 Stack Overflow 上有积分者； \r<br>5 、自己写过哪怕是最简单的 PHP 框架者。</div>", "<div class=\"topic_content\">昨天招聘贴发出去之后，有同学说创业公司就是苦逼啊，连个 HR 都没有，哈哈。。虽然我们团队不大，但至少我有能力保证这个团队的每一个人都有足够的成长空间，这个成长空间既有职业上的也有能力层面上的，我希望这个团队的每一个成员都有一定的 Geek 精神，喜欢去钻研一些刁钻的问题，喜欢去钻研一些新的有应用价值的技术。因为我本人也是这样的性格和风格。所以以下是隐性福利时间：\r<br>\r<br>一、公司层面提供翻 Wall 路由，我们希望你默认使用的搜索引擎是 Google ，而不是百度。\r<br>二、创新性前沿技术的研究支持，所需要的设备及相关资源公司买单。\r<br>三、如果对开源硬件有兴趣，可以提供 Arduino 相关传感器购买支持，技术层面给予一定的指导，我也是比较早期（ 2010 年开始）的 Arduino 开发者。\r<br>四、其它的需求我们一起探讨如何？</div>"], "reply": "24", "tittle": "地标北京立水桥，天通苑旁边，寻 PHP 攻城狮，有兴趣的简历砸过来， 20~35K，直招，非 HR 发的招聘信息。", "comment": ["暗夜文学网  \r", "  \r", "\r", "是你们的么？", "jd 发一下啊", "真巧，我就住地铁立水桥南站边上，可惜我不做 php 开发", "帮顶\r", "招人难啊,不行找找猎头", "讲道理，喜欢自称是创业团队的公司一般去了都很苦逼，而且连 hr 都没。", "是在塞纳维拉里面吗。", " 呃，不是没有 HR ，是没让 HR 来 V2EX 发贴。：）", " 多谢多谢。", " 您找什么样的职位？我们也有技术岗的其它职位要招哦。", "刚好在立水桥南 & PHP", " 来聊聊？：）", " \r", "可以， qq?", " 能否麻烦给我留的邮箱里发一封邮件，顺带上简历，我在邮件里把 QQ 回复给您。：）", " 是的。", " 估计是我原来公司对面。", " 哈哈，您是做 PHP 的么？", " 不是", "可惜在北京，北京的霾。。。。。。", "我就在你们旁边，可是我是个吃瓜的", "我就在立水桥南边上诶。。。\r", "4 年 php 。 2 年 android 。 1 年 js 。全栈一枚。。但是不想跳=。=！", "隐性福利难道不应该是妹子成群么= =~忧伤", " 调戏我么不是，写得这么深合我意，末尾加上一句“不想跳”，你灯都关了也把我按倒在床上了却不告诉我手表其实不是夜光的，流氓啊。。。。。如此英雄，不管你跳不跳，想见，啥时候来这边的 798Coffee Town 请你喝咖啡。。联系方式邮件沟通可好？", " \r", "就是调戏一下啊= =！难得在 V2EX 看到一个合意的。。\r", "但是不是太想跳。。干的蛮好的。。>.<\r", "想动弹了再说。。留个邮件是可以滴。\r", " 这样了啊。。。 5555555 ，既然情投意合，要不要考虑一下呢？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>双十一剁手也剁完了，该静下心来好好看书了，为了反馈看云忠实用户，看云联合机械出版社推出了分享赠书活动。</p>\n<h2>图书介绍</h2>\n<p>本次活动的图书是：《 PHP 与 MySql 高性能应用开发》\n<img alt=\"\" src=\"http://box.kancloud.cn/document_2016-11-11_58252c749fd56.png\"></p>\n<h3>内容简介</h3>\n<p>本书内容主要围绕 PHP 应用的性能、可扩展、可伸缩性、可靠性等主题展开，详细讲解和分析了这些主题涉及的技术细节和原理。除此之外，书中还讲解了 PHP 的编程思想、底层原理、编程技巧、开发规范等方面的内容。是面向有一定基础的开发者的进阶之作，是作者在 PHP 领域近 15 年开发经验的盘点和总结。另外，本书也希望帮助你避免在开发时遇到坑，简单问题复杂化，进而提高编码效率。</p>\n<h3>作者简介</h3>\n<p>杜江，资深 PHP 技术专家和架构师，有近 15 年 PHP 开发经验。精通 LAMP 、 Perl 、 Java 、 iOS 、 Swift 等开发技术和语言，对分布式系统以及亿级并发、高负载、高可用架构有较深入的研究，积累了丰富的实战经验。\n21CTO （ <a href=\"http://21cto.com\" rel=\"nofollow\">21cto.com</a> ）社区创始人&amp;CEO ， 21CTO 是国内第一家服务于 CTO 和架构师等高端 IT 技术人员的学习和交流平台，在行业内有一定的影响力。在赶集网、今日头条、好乐买、正和岛等多家企业担任过技术工程师、技术总监和 CTO 等职位。\n乐于分享，著作颇丰，著有《 PHP5 完全攻略》和《 PHP5 与 MySQL5 Web 开发技术详解》等 PHP 专著。</p>\n<p>京东购买地址： <a href=\"http://item.jd.com/11977137.html\" rel=\"nofollow\">http://item.jd.com/11977137.html</a></p>\n<p>图书样章下载： <a href=\"http://share.weiyun.com/508d3ca2474707e6efe19752adc5d861\" rel=\"nofollow\">http://share.weiyun.com/508d3ca2474707e6efe19752adc5d861</a></p>\n<h2>活动时间</h2>\n<p>2016 年 11 月 11 日~2016 年 11 月 20 日</p>\n<h2>活动内容</h2>\n<p>活动期间点击本文右上角的分享按钮，分享本内容到你的微博并 <a href=\"http://www.weibo.com/kancloud\" rel=\"nofollow\">@看云 kancloud</a></p>\n<p>或者把本内容分享到朋友圈的截图发送到官方微信</p>\n<p><img alt=\"\" src=\"http://static.kancloud.cn/Static/home/image/qrcode.jpg\"></p>\n<p>加上你的感言就可以参与抽奖活动。</p>\n<h2>获奖规则</h2>\n<p>活动结束后（ 11 月 21 日），选取<strong>5 位幸运用户</strong>，奖励《 PHP 与 MySql 高性能应用开发》图书一本，届时会在官方网站和微博公布获奖名单。\n（本次奖品由机械工业出版社提供赞助）</p>\n</div></div>"], "reply": "4", "tittle": "看云《PHP 与 MySql 高性能应用开发》分享赠书活动", "comment": ["我最讨厌写感言了,其他的还好............", "不提 composer 不大好吧", "无感，想看还得自己买", "所以  php7 呢？？？？？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有爱之家   团队氛围轻松   无上下级之分    互联网金融公司\n公司简介\n钱生钱（ <a href=\"http://qianshengqian.com\" rel=\"nofollow\">qianshengqian.com</a> ）是国内领先的高科技网络金融服务公司。自成立以来，钱牛牛利用互联网技术，通过先进的商业模式和交易结构，为广大用户搭建了一个安全、高效、透明的专业网络投融资平台，为个人及企业用户提供全面的金融服务。\n钱牛牛核心团队成员曾分别供职于腾讯、百度、点评等大型互联网公司及权威金融机构，拥有丰富的互联网和金融领域专业经验。钱牛牛团队以“诚信”为本，以“专业”为根，以“服务”为基，致力于优化传统金融领域的陈规，树立行业新规范。\n钱牛牛通过自行研发的多套业界领先系统，拥有海量信息处理和分析能力，可以帮助投资用户在第一时间找到优质的投资产品，帮助企业级机构更精准、快速的匹配投资用户。更好地解决了目前国内理财难、融资难、信息不对称等问题。\n钱牛牛现已和国内众多权威金融机构、互联网平台达成深度合作协议，在投资用户、企业、银行之间构筑了一座坚实的共赢平台，服务广大投资用户更不忘初心，方得始终。钱牛牛现已和国内众多权威金融机构、互联网平台达成深度合作协议，在投资用户、企业、银行之间构筑了一座坚实的共赢平台，服务广大投资用户更好投资及高效对接企业的融资诉求是我们永远追求的目标。 我们真诚期待与广大用户朋友及合作伙伴共同发展！\n招聘职位\nPHP 后端开发工程师\n岗位职责：\n1 、负责后端业务系统的开发工作；\n2 、参与系统的需求分析、设计、编码；\n3 、负责相关运营数据的分析，挖掘和可视化展现，为产品运营提供决策支持；\n4 、负责相关系统的运营和维护工作，保证系统稳定可靠运行；\n5 、负责组内迭代，并参与其他组之间的工作协调。\n职位要求：\n1 、专科及以上学历，计算机相关专业毕业，计算机基础、算法数据结构知识扎实， 2 年及 2 年以上工作经验；\n2 、快速学习能力好，能在短时间内成长为业务的“专家”；\n3 、对用户体验和效率有执着的追求，对技术痴迷，能够自我驱动地寻求精进；\n4 、具备需求分析和系统设计能力，以及较强的逻辑分析、独立解决问题能力和良好的沟通能力;\n5 、对敏捷软件开发模式有所了解，有相关经验者优先；\n6 、有 php 或 c 语言相关经验者优先;\n7 、熟悉 PHP 开源开发框架者优先;</p>\n</div></div>"], "reply": "2", "tittle": "{常年招聘}腾讯 T4 团队创业公司招聘高潜力的 PHP 种子选手", "comment": ["# 可以改一下，排版么。看着眼睛疼。", "复制--->粘贴"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>适合新手的。不求界面漂亮，功能强大。框架易上手就好。</p>\n</div></div>"], "reply": "28", "tittle": "php 的后台管理框架，用啥比较好", "comment": ["laravel   后台 界面都写好了!\r", "\r", "注册 登陆也有现成的!  改改就能用!\r", "\r", "权限啥的,只要不复杂,有 包!\r", "\r", "国内文档多!\r", "\r", "只是用的话,看看就会用了!", " 我听说 laravel 比较复杂，学习时间有点长是么。我这里是新手， 只准备快速做个项目就完了。不考虑长时间的使用。", "不妨试试这个 ", "  只是不适合新手", "CI ，非常轻量级，照着官方文档就可以使用了", "来吧 骚年 TP 搞起来 虽然推荐你 laravel Yii CI 等等 不过 还是 TP 上手快 毕竟国人开发的", "  刚看了下 TP ，对 N ， F 这种命名实在接受不能。", " 一些辅助函数的名字而已，何必呢.......\r", "\r", "再说， tp5 已经和之前的 tp 确实有些不一样了，还兼容 php7 ，确实很适合新手用用， laravel 新手入门确实不是很容易", " 我一直在用 tp ， laravel 的目录结构个人感觉太乱了，没有 tp 结构清晰", "laravel 都复杂了， 我大 symfony 怎么办？", "yii2 安全可靠性能高，各种组件功能都有封装的 我个人觉得很不错哦！如果是因为学习成本问题，推荐你看看​​ yii2 系列的实战教程​​，写的蛮不错哒 ", "我隐约感觉到 为什么一些大佬没回复你了 你爱用哪个用哪个吧 反正我们的提议你也挑三拣四的。。。   矫情", " 请问 laravel 哪里有写好的后台？", "我这有用 yii2 写好的后台，登录注册，权限都集成好了，可以直接拿来开发", " 上 github 上,很多............", "\r", "\r", "什么框架好？很明显了。\r", "Laravel 重， CI 轻， CI 比较适合新手。", " 不错啊，希望大家多写这些教程，帮助后来者", "所以楼上 s 开启了框架争夺战", " 谢谢， CI 体量轻上手快， 刚好我们的功能也简单。决定就用它了。", " 赞", " 完全是瞎扯， tp 那个目录才叫乱", "slim", " 这个没啥好讨论的，可能是我以前搞 net 的缘故，习惯了控制器，模型，视图等文件夹在同一个目录里，还有 tp 的模块概念和 net mvc 的区域有点类似，所以好上手。还有框架不重要，做出东西才重要", "零云是最新出来的积木式后台框架，可以试一试 ", "yii", "禅知呢？", "AdminLTE\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有爱之家 团队氛围轻松 无上下级之分 互联网金融公司</p>\n<p>公司简介</p>\n<p>钱生钱（ <a href=\"http://qianshengqian.com\" rel=\"nofollow\">qianshengqian.com</a> ）是国内领先的高科技网络金融服务公司。</p>\n<p>自成立以来，钱牛牛利用互联网技术，通过先进的商业模式和交易结构，为广大用户搭建了一个安全、高效、透明的专业网络投融资平台，为个人及企业用户提供全面的金融服务。</p>\n<p>钱牛牛核心团队成员曾分别供职于腾讯、百度、点评等大型互联网公司及权威金融机构，拥有丰富的互联网和金融领域专业经验。钱牛牛团队以“诚信”为本，以“专业”为根，以“服务”为基，致力于优化传统金融领域的陈规，树立行业新规范。</p>\n<p>钱牛牛通过自行研发的多套业界领先系统，拥有海量信息处理和分析能力，可以帮助投资用户在第一时间找到优质的投资产品，帮助企业级机构更精准、快速的匹配投资用户。</p>\n<p>更好地解决了目前国内理财难、融资难、信息不对称等问题。</p>\n<p>钱牛牛现已和国内众多权威金融机构、互联网平台达成深度合作协议，在投资用户、企业、银行之间构筑了一座坚实的共赢平台，服务广大投资用户更不忘初心，方得始终。</p>\n<p>钱牛牛现已和国内众多权威金融机构、互联网平台达成深度合作协议，在投资用户、企业、银行之间构筑了一座坚实的共赢平台，服务广大投资用户更好投资及高效对接企业的融资诉求是我们永远追求的目标。</p>\n<p>我们真诚期待与广大用户朋友及合作伙伴共同发展！</p>\n<p>招聘职位</p>\n<p>PHP 后端开发工程师</p>\n<p>岗位职责：</p>\n<p>1 、负责后端业务系统的开发工作；</p>\n<p>2 、参与系统的需求分析、设计、编码；</p>\n<p>3 、负责相关运营数据的分析，挖掘和可视化展现，为产品运营提供决策支持；</p>\n<p>4 、负责相关系统的运营和维护工作，保证系统稳定可靠运行；</p>\n<p>5 、负责组内迭代，并参与其他组之间的工作协调。</p>\n<p>职位要求：</p>\n<p>1 、专科及以上学历，计算机相关专业毕业，计算机基础、算法数据结构知识扎实， 2 年及 2 年以上工作经验；</p>\n<p>2 、快速学习能力好，能在短时间内成长为业务的“专家”；</p>\n<p>3 、对用户体验和效率有执着的追求，对技术痴迷，能够自我驱动地寻求精进；</p>\n<p>4 、具备需求分析和系统设计能力，以及较强的逻辑分析、独立解决问题能力和良好的沟通能力;</p>\n<p>5 、对敏捷软件开发模式有所了解，有相关经验者优先；</p>\n<p>6 、有 php 或 c 语言相关经验者优先;</p>\n<p>7 、熟悉 PHP 开源开发框架者优先;</p>\n</div></div>"], "reply": "12", "tittle": "{常年招聘}腾讯 T4 团队 创业公司 招聘高潜力的 PHP 后端开发种子选手", "comment": ["标题党…", "地点，薪资呢", "不会是培训班吧", "\r", "不知道有没有关系", "看到是美女的份上，我只说，鹅厂会不会告你", "我才不会被你活捉呢", "哪里要活捉，等你自己送上门。 @", "哪个字是标题了，简历发来，马上约面试。邮箱： ", " @", "工作地点：上海市长宁区淞虹路 207 号明基商务广场 C 座 2 楼\r", "薪资： 15-26k\r", "天下没有培训班会发工资的 @", "公司创始人团队确实是腾讯工作背景，没有违法，哪里有被告之说。 @", "公司管理团队年轻，扁平化。\r", "首批加入中国互联网金融行业协会\r", "希望有志之士加入。\r", "简历接收邮箱： ", "\r", "QQ 联系： 3188963905"]},
{"content": ["<div class=\"topic_content\">各位 V 友，晚上好，我从 <a target=\"_blank\" href=\"http://www.golaravel.com/download/\" rel=\"nofollow\">http://www.golaravel.com/download/</a> 下载了一键安装包(v5.2.15)，然后丢进了 htdocs ，然后访问 <a target=\"_blank\" href=\"http://localhost/laravel/public/\" rel=\"nofollow\">http://localhost/laravel/public/</a>  显示一片空白，请问这可能是什么原因引起的呢？我在 windows 下也是一样的方式都可以访问，我随便写了一个路由去访问也是一片空白，错误消息是有开启的，不知道各位是否遇到类似的问题呢，还请指点一二。\r<br>\r<br>系统环境： os x\r<br>集成环境： xampp\r<br>php 版本： 5.6.24</div>"], "reply": "13", "tittle": "Laravel 安装之后访问一片空白，是什么原因呢？", "comment": ["嗯。。。是不是加载 google 字体时间太长了", "依稀记得有几个目录需要可写，不然就是白的，配下权限吧", "权限", "看 log 然后主目录应该是 public 下面 而不是 laravel 根目录", "chmod o+rwx 你的项目名称 /storage -R\r", "chmod o+rwx 你的项目名称 /bootstrap/cache -R\r", "\r", "如果 public 有其他自己创建需要上传或删除文件的文件夹，记得也弄上权限  如图片上传用的 upload", "laravel 最好使用的时候设置一个虚拟域名\r", "\r", "<VirtualHost *:80>\r", "\r", "\tDocumentRoot /var/www/html/laravel/public\r", "\tServerName laravel.app\r", "\r", "\tErrorLog ${APACHE_LOG_DIR}/error.log\r", "\tCustomLog ${APACHE_LOG_DIR}/access.log combined\r", "\r", "\t<Directory \"/var/www/html/laravel/public\">\r", "\t\tallow from all\r", "\t\tAllowOverride all\r", "    \tOptions Indexes FollowSymLinks MultiViews\r", "    </Directory>\r", "\r", "</VirtualHost>\r", "\r", "记得把重写模式打开\r", "\r", "sudo a2enmod rewrite\r", "\r", "hosts 也修改一下，这个不需要告诉怎么做了吧\r", "\r", "最后记得把服务器重启一下", "一般步骤：\r", "1.分析问题（可能是什么问题：比如：写入权限、路由配置、服务器 500...）\r", "2.确定问题（ chrome 查看 network 情况，服务器日志...）\r", "3.解决问题\r", "\r", "情况 1-2 步 自己做好，大部分情况自己都能够解决\r", "\r", "实在解决不了 发问", "看 apache 和 php 的 log", "上面兄弟说的都排除后，试试执行", "上面兄弟说的都排除后，试试执行\r", "php artisan key:generate", "首先竟然没人说添加.env 开 debug 模式", "解决问题的楼上说了好多了，然而说点别的~ 既然都用 mac 了，不是 windows 了，为啥还要用 xampp 这种集成的东西。。。 homebrew 把 Nginx 等环境搞起来啊", "1.  storage 文件夹 要有写权限\r", "2. .env 打开 debug\r", "3.  在你的 php 环境里 把错误提示打开!\r", "4.  请选用 composer 等方法安装"]},
{"content": ["<div class=\"topic_content\">本地 vagrant box 开发的时候没有任何问题， push 到远程 vps （ debian ）上面，一直出现这个问题。 看了下 sessions 目录，似乎每请求一次都会生成不同的 session ， 无法登录，注册， 表单提交的完全没法进行。\r<br>\r<br>google  没找到满意答案，冒昧这里问题，谁遇到同样的问题，最佳解决方案是？</div>"], "reply": "2", "tittle": "Laravel TokenMismatchException 68 问题怎么解决？", "comment": ["###CSRF 防护###\r", "<p>在 web 路由文件中所有请求方式为 PUT 、 POST 或 DELETE 的 HTML 表单都会包含一个 CSRF 令牌字段，否则，请求会被拒绝。关于 CSRF 的更多细节，可以参考其文档：</p>\r", "<pre><code><form method=\"POST\" action=\"/profile\">\r", "    {{ csrf_field() }}\r", "    ...\r", "</form></code></pre>", "CSRF 防护\r", "在 web 路由文件中所有请求方式为 PUT 、 POST 或 DELETE 的 HTML 表单都会包含一个 CSRF 令牌字段，否则，请求会被拒绝。关于 CSRF 的更多细节，可以参考其文档：\r", "<form method=\"POST\" action=\"/profile\"> \r", "{{ csrf_field() }} \r", "... \r", "</form>\r", "\r", "跨站请求伪造是一种通过伪装授权用户的请求来利用授信网站的恶意漏洞。 Laravel 使得防止应用遭到跨站请求伪造攻击变得简单。\r", "\r", "Laravel 自动为每一个被应用管理的有效用户会话生成一个 CSRF “令牌”，该令牌用于验证授权用户和发起请求者是否是同一个人。\r", "\r", "任何时候在 Laravel 应用中定义 HTML 表单，都需要在表单中引入 CSRF 令牌字段，这样 CSRF 保护中间件才能够正常验证请求。想要生成包含 CSRF 令牌的隐藏输入字段，可以使用辅助函数 csrf_field 来实现"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><strong>ThinkPHP V5.0.3 版本发布，祝 TPer 双十一早日脱单^_^</strong></p>\n<h2>主要调整：</h2>\n<ul>\n<li>请求缓存增强；</li>\n<li>路由增强；</li>\n<li>数据库和模型完善；</li>\n<li>支持反射的异常捕获；</li>\n<li>File 类改进；</li>\n<li>修正社区反馈的一些 BUG ；</li>\n</ul>\n<h3>[ 请求和路由 ]</h3>\n<ul>\n<li>资源路由自动注册的路由规则的时候会记录当前使用的资源标识；</li>\n<li>增强请求缓存功能和规则定义，支持全局自动缓存</li>\n<li>修正控制器自动搜索的大小写问题</li>\n<li>修正路由绑定到命名空间后 类的自动定位</li>\n<li>改进 Route 类的 parseRule 方法 路由地址中的变量替换不自动去除路由变量</li>\n<li>改进控制器自动搜索</li>\n<li>Route 类增加 setOption 和 getOption 方法 用于记录当前路由执行过程中的参数信息</li>\n<li>优化路由分组方法</li>\n<li>改进分组路由的 url 生成</li>\n</ul>\n<h3>[ 数据库和模型 ]</h3>\n<ul>\n<li>一对一关联查询方法支持定义<code>field</code>方法</li>\n<li>聚合模型支持设置<code>field</code>属性</li>\n<li>改进 Query 类的<code>alias</code>方法</li>\n<li>改进 Query 类<code>join</code>和<code>view</code>方法的 table 参数</li>\n<li>改进 Query 类<code>where</code>方法</li>\n<li>改进 Query 类的<code>paginate</code>方法，支持<code>order</code>方法</li>\n<li>改进 Query 类的<code>min</code>和<code>max</code>方法支持日期类型</li>\n<li>修正软删除<code>withTrashed</code>方法</li>\n<li>优化 Connection 类的<code>getRealSql</code>方法生成的 sql</li>\n</ul>\n<h3>[ 其它 ]</h3>\n<ul>\n<li>增加 request_cache 和 request_cache_expire 配置参数用于配置全局请求缓存；</li>\n<li>修正 input 助手函数的数组过滤</li>\n<li>cache 助手函数支持清空操作</li>\n<li>改进 Config 类 load 方法 一级配置名称强制转为小写</li>\n<li>修正 Url 多次生成的问题</li>\n<li>File 类修正某些环境下面无法识别上传文件的问题</li>\n<li>改进 App 类的空操作方法调用</li>\n<li>域名部署 URL 生成不依赖 url_domain_deploy 配置参数</li>\n<li>修正 Url 类域名部署的问题</li>\n<li>视图文件目录支持集中式存放 不放入模块目录</li>\n<li>cache 助手函数支持 remember 方法</li>\n<li>Request 类的 input 方法或者 input 助手函数的<code>filter</code>参数支持传入 null 表示不过滤</li>\n</ul>\n<h2>[ 文档 ]</h2>\n<p>官方开发手册已经同步更新到 V5.0.3 版本\n[ <a href=\"http://www.kancloud.cn/manual/thinkphp5\" rel=\"nofollow\">5.0 完全开发手册</a> | <a href=\"http://www.kancloud.cn/thinkphp/thinkphp5_quickstart\" rel=\"nofollow\">5.0 快速入门</a> | <a href=\"http://www.kancloud.cn/thinkphp/route-master\" rel=\"nofollow\">5.0 路由完全指南</a> ]</p>\n<h2>[ 下载地址 ]</h2>\n<ul>\n<li>GitHub ： <a href=\"https://github.com/top-think/think.git\" rel=\"nofollow\">https://github.com/top-think/think.git</a> （主要维护仓库 官方核心团队）</li>\n<li>Composer ： composer create-project topthink/think tp5 --prefer-dist</li>\n</ul>\n<h2>[ 扩展包 ]</h2>\n<p>下面是针对 ThinkPHP5 的扩展包 需要使用 Composer 安装</p>\n<ul>\n<li>应用单元测试： <a href=\"https://github.com/top-think/think-testing.git\" rel=\"nofollow\">https://github.com/top-think/think-testing.git</a></li>\n<li>验证码： <a href=\"https://github.com/top-think/think-captcha.git\" rel=\"nofollow\">https://github.com/top-think/think-captcha.git</a></li>\n<li>图像处理： <a href=\"https://github.com/top-think/think-image.git\" rel=\"nofollow\">https://github.com/top-think/think-image.git</a></li>\n<li>队列： <a href=\"https://github.com/top-think/think-queue.git\" rel=\"nofollow\">https://github.com/top-think/think-queue.git</a></li>\n<li>MongoDb 支持： <a href=\"https://github.com/top-think/think-mongo.git\" rel=\"nofollow\">https://github.com/top-think/think-mongo.git</a></li>\n<li>angular 模板引擎： <a href=\"https://github.com/top-think/think-angular.git\" rel=\"nofollow\">https://github.com/top-think/think-angular.git</a></li>\n<li>助手库： <a href=\"https://github.com/top-think/think-helper.git\" rel=\"nofollow\">https://github.com/top-think/think-helper.git</a></li>\n<li>数据库迁移工具： <a href=\"https://github.com/top-think/think-migration.git\" rel=\"nofollow\">https://github.com/top-think/think-migration.git</a></li>\n<li>Workerman ： <a href=\"https://github.com/top-think/think-worker.git\" rel=\"nofollow\">https://github.com/top-think/think-worker.git</a></li>\n</ul>\n<p>通过支付宝捐赠支持我们：</p>\n<p><img alt=\"\" src=\"http://thinkphp.cn/Uploads/editor/2016-07-08/577f852e40237.jpg\"></p>\n<p>2016 年 11 月 11 日\nThinkPHP 官方团队</p>\n</div></div>", "<div class=\"topic_content\">庆祝新版发布和双十一 官方入门系列文档特价 11.11\r<br>预购从速^_^ <a target=\"_blank\" href=\"http://www.kancloud.cn/special/thinkphp5_quickstart\" rel=\"nofollow\">http://www.kancloud.cn/special/thinkphp5_quickstart</a></div>"], "reply": "18", "tittle": "ThinkPHP V5.0.3 版本发布——双十一祝 PHPer 早日脱单", "comment": ["路过帮顶，支持 TP", "支持 thinkphp ！", "支持", "很喜欢 TP ，支持", "庆祝新版发布和双十一 官方入门系列文档特价 11.11 预购从速^_^ ", "支持", "不买", "tp 是垃圾代码高发区……", " 开心不", " 垃圾代码和框架没有直接关系 我用 laravel 也能写出垃圾代码来，好么~哈哈", "这框架都是哪些公司在用？不是外包专用的吧", "除了 TP 就没见过 patch version 做 minor 级变化的框架， semver 都被你们玩坏了。所谓 TP5.0 正式版发布，实际上连文档都没写齐全，就是个 Alpha 质量的框架而已。", " 3.2 到 5.0 转变很大， 5.0 正式版发布的时候，官方已经做了大量的测试和完成了基本的文档，很抱歉官方人员有限，国内开源的国情决定了我们不得不做出权衡。不过无论如何，时至今日，版本和文档已经基本稳定了。我们自认为 TP 的文档向来是负责任的，最终的框架也不会让开发者失望。\r", " 对 TP 还停留在 3.2 时代的认知的朋友也不妨亲自体验下再来做出评论。国内使用 TP 开发的应用和产品数量，百度的指数和谷歌的趋势数据都可以去比较。只有鼓励和参与贡献才会让我们走的更好！", "哈哈， Thinkphp 每次发布新版本都是在一个特殊的节日，上次是中秋节，在上次忘了。。。\r", "\r", "但是还是有不好的话要说，就是 Thinkphp 的 Loader.php 加载器的源码不知道是很多人一起写的还是网上 copy 了几段别的框架的源码？注释和标识符非常不规范，而且 private 方法 product 方法和 public 方法没有归类摆放，而是混插，如果作为很多初学者第一次用的框架，阅读源码的时候会带来很多不便。希望这些官方都能改进一下。\r", "\r", "另外就是一些 vendor 组件的用法文档里面能不能再详细一点，很多地方连示例源代码都不是完整的，让初学者摸不着头脑，我都是看源码才知道怎么用，但是不是所有人都会花时间去看源码。\r", "\r", "最后我发现了一个不知道算不算 bug 的地方，就是 model 助手函数无法实例化 common 公共模型，具体问题看这里 ", "\r", "\r", "还是很看好这个框架，谢谢开发者，支持中。", "大规模招聘 PHP 啦~~~~~有木有年底换工作的，简历砸来， ", " 确实不太了解 tp ，可能宣传还不够到位。比如官网的案例介绍，政府网站可以去掉了，个人小作品也可以下架，增加一些市值 10 亿以上互联网公司的项目，大互联网公司里一个项目的广告效果胜过一箩筐外包网站。再比如 php 大会，可以邀请用 tp 框架的创业团队去分享。在框架产能过剩的年代，酒再香也怕巷子深。", " 从来就没有推广过 TP 10 年来都是用户自发口碑。你说的大互联网公司 新浪、腾讯、 360 算是么？这些都用 TP ，你在案例里面看到的都是我们的用户自己发布的，问题就在于国内的大公司用了 TP 都不太愿意被别人知道自己用的是 TP ，如果不好用为什么要用呢？总之一个道理，不管黑猫白猫，能抓耗子就是好猫。 TP 是向来注重实用，而 TP5 兼具优雅。", "喜欢 TP ，顶！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我就看见我的 cpu 使用率 上下上下的跳动 你还别说蛮好玩的  汗。。。各位大佬怎么办</p>\n</div></div>"], "reply": "3", "tittle": "谷歌浏览器占用 CPU 过大 忽高忽低的", "comment": ["Shift + Esc", "难道不再看一眼内存吗", " \r", " \r", "查了半天 总结一句话：硬件配置不行。。。。。"]},
{"content": ["<div class=\"topic_content\">现在有个需求，必须输出 xls 或 xlsx 因为 csv 没有样式。\r<br>PHPexcel 这个东西的最大弱点，在于它写入一个 excel 文件之前，必须把这个文件读入内存，不能像写文本那样，简单的续写就行了，则就导致这玩意处理不了大文件，当一个文件本身就很大的时候，载入就要花很长时间。因为内容的列非常多，而且样式复杂，所以大约在 10000 行的时候内存就要爆炸。爆炸还是其次，关键是分批写入随着文件越来越大会变得越来越慢</div>"], "reply": "16", "tittle": "PHP 下有啥东西能解决对大 xls、xlsx 文件的写入问题的吗", "comment": ["头像不错", "我记得可以设置缓存区", "这个需求不应该用 php 来解决吧", "phpexcel 我记得能设置硬盘缓存来替代默认的内存缓存；然而好久不用，不知道设置了。上 github 找找吧", "可以折中一下, 用 php 写入到数据库, 另外找个 python 从数据库读取 写到 excel 里面去", " 如何设置呢，缓存区的原理是啥", "用 python 吧", "可以试下这个\r", "可以通过 Excel Driver 用 ODBC 的方式读写 xls 、 xlsx 文件，不过你需要 专门一台 Windows 来做 ODBC 源。", "XLS 是结构化数据，在对象生成的过程中必定需要耗费大量的内存存放数据，最后再输出成 XLS 文件\r", "建议加内存，能简单用硬件解决的问题不应增加程序复杂度", "如果 Excel 本身不存在这个问题，你可以装个 Excel ，然后通过 COM / ODBC 之类调用。", "没什么好的办法，我们后来改成 nodejs 处理这种任务。 6 万条数据 10 秒内导出。", "phpcli 或者 python 异步完成即可", "可以试试这个 ", " ，比 phpexcel 要好点，官方测评截图 ", "  ， 地址  ", "可以设置内存缓冲区，使用硬盘，但是速度尼玛贼慢！我现在是 php 生成 json 文件然后使用 python 来做。", "PHPExcel_CachedObjectStorageFactory::cache_to_discISAM;\r", "\r", "缓存到磁盘。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>新新手，看了 thinkphp 框架和 jquery 库，想练习写个小网站。</p>\n<p>比如写了一个登陆模块，接下来应该写后台主页，菜单，各项功能（用户管理、文章管理）等，大脑构思比较混乱，有种无从下手的感觉。</p>\n<p>我想问前辈们的正确是做法应该如何规划的呢，比如数据库设计有 ER 图，那么有没有类似的规划功能模块及开发流程的设计工具或方法呢？</p>\n<p>不懂专业的词汇，不知道这样有没有描述清楚问题。希望前辈们不吝指教。</p>\n</div></div>"], "reply": "16", "tittle": "一个人开发个小网站如何规划和设计", "comment": ["一般来说，“规划和设计” 的前提是 “你有经验”，\r", "\r", "如果 “你没有经验”，那应该直接上手，然后 “边做边重构”，\r", "\r", "这样你就可以 “积累经验”，然后当你遇到下一个项目的时候，你才可以进行 “规划和设计”。\r", "\r", "当然，如果**你很有空**，那么可以：\r", "1. 看看设计模式相关的书\r", "2. 在 github 上翻翻别人的项目", "从简单的入手，从直观的入手，然后有问题就解决，有需求就满足，就这样了----来自一个野生的编程爱好者😂", "一个软件，要大规模底层重构两次，到 3.0 才能成熟。\r", "\r", "一只开发者，要 quick and dirty 两年，到鼻青脸肿才能胸有成竹。\r", "\r", "反正现在给你说设计模式，说 TDD ，说 AOP ，说 RESTful ，说 CI ，说 DevOps ，说一堆最佳实践你统统只能哦哦哦根本听不懂我在说什么。\r", "\r", "所以想那么多干嘛呢？ JUST DO IT ！😂", "没有现成的。\r", "新人也没必要想太多，随便找一个点先做，开始做就是了。", " Just do I.T 😏 反正大家都是做挨踢的", "找个模仿目标，从最基本的功能开始，逐渐丰富。", "把逻辑像清楚，就开始撸代码就行了", "看！你就缺一个产品经理。", "想到哪做到哪。想怎么做就怎么做。想怎么作就怎么作。\r", "我记得有个微博转 RSS 的网站，站长还弄个哆啦 A 梦到处乱蹦。。人家做站目的还是插广告赚钱呢，都不在乎按自己心情乱整着玩。", "wordpress + theme", "我觉得你相反了。登录和后台涉及的东西略多。建议先做前台那部分，业务相对简单。\r", "\r", "比如你做登录，要考虑加密啊 session 啊 发送邮件验证啊，权限控制啊，最后搞不好还要弄个手机验证码什么的。写到这这个网站的前台业务部分还没开始做呢。挫败感比较强。", "用 qibocms ，不用规划", "个人觉得你可以安装一个开源 CMS ，例如 ecms 、 phpcms 、 dedecms 、 discuz 、 wordpress 等，然后按它的思路来一步步学着做，它不一定是最好的，但是可以让你也形成自己的思路。", "先考虑这些，你准备什么时候动手？！\r", "\r", "JUST 　 DO    IT ！！！", " \r", "然后就陷入二次开发深坑再也出不来了", "先把前端页面全部撸出来，然后后台在慢慢配置，慢慢撸，一个人一边前端页面，一边后台逻辑，我觉得累人，而且没有页面的展示，后台逻辑表示不好写。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>class a{\n\n    public $a = 5;\n\n}\n\nfunction &amp;load_class(){\n\n    static $_classes = array();\n    \n    if (!isset($_classes['a'])){\n    \n        $_classes['a'] = new a();\n        \n    }\n    return $_classes['a'];\n    \n}\n\n$obj = &amp;load_class();\n\necho $obj-&gt;a;\n\n$obj-&gt;a = 1;\n\n$obj2 = &amp;load_class();\n\necho $obj2-&gt;a;\n\necho PHP_EOL;\n\nexit;\n</code></pre>\n<p>这段代码为什么会输出: 51 而不是: 55 ?</p>\n</div></div>"], "reply": "32", "tittle": "php 返回引用的疑问", "comment": ["因为$obj2==$obj", "考察的就是那个 static 关键字，翻文档去吧", "屎一样的代码。。。", "这事情跟返回引用其实一点关系都没有 ... 你去掉这段程序里所有的 & 依然可以得到一样的结果 ...\r", "\r", "我试着改一下这个代码看看会不会看起来更清晰 ...\r", "\r", "```php\r", "<?php\r", "class a { public $a = 5; }\r", "\r", "function load_class(){\r", "    static $_c = [];\r", "    \r", "    if ( ! isset( $_c['a'] ) ) {\r", "        echo 2;\r", "        $_c['a'] = new a();\r", "    }\r", "    return $_c['a'];    \r", "}\r", "\r", "$obj = load_class();\r", "echo $obj->a;\r", "$obj->a = 1;\r", "$obj2 = load_class();\r", "echo $obj2->a, load_class()->a, PHP_EOL;\r", "\r", "```\r", "\r", "假装支持 markdown ... 能明白这段程序为什么输出 2511 么 ..?\r", "\r", "如果实在想不明白 ... 看这里 ", " ...", "看到 php 就头大", "。。。。。", "这个应该有！", "有必要用这么脏的代码把自己绕进去么。。", " 你这种回答跟屎有什么两样", "各位 统一回复下 是我逗逼了\r", "我是理解 static 的 脑子短路了  一直把输出结果想成了 55 而在想为什么不输出 51  其实它本来就输出的 51", " 说真的 我并不觉得这个代码混乱 这是 CI 框架中的一个方法 只是 我为了测试 把我不需要的代码去掉了 应该不难看出  这个方法(被我去掉一部分代码之前)本来是用注册表模式和单例结合起来返回一个类的实例 你觉得哪里不太好 可以讲出来探讨探讨啊 ~", " 这个看下我 10 楼的回复", " 另外 在顺带看你发的 PHP 手册链接时  又看到一个内容 不太理解 你看能否解释下\r", " 这个页面的 \"全局和静态变量的引用\" 小节里面的代码:\r", "```\r", "<?php\r", "function test_global_ref() {\r", "    global $obj;\r", "    $obj = &new stdclass;\r", "}\r", "\r", "function test_global_noref() {\r", "    global $obj;\r", "    $obj = new stdclass;\r", "}\r", "\r", "test_global_ref();\r", "var_dump($obj);\r", "test_global_noref();\r", "var_dump($obj);\r", "```\r", "为啥会输出: \r", "NULL\r", "object(stdClass)(0) {\r", "}\r", "按我理解的话 应该都输出 object(stdClass)(0) {}才对啊", "对 13 楼作如下补充: \r", "13 楼的问题或许可以直接描述为:\r", "$a = new stdclass;\r", "$b = &new stdclass;\r", "这两种生成对象的方式有什么本质上的区别\r", "感觉 php 的引用概念好模糊 C 的就相对清晰", "static 在 php 中还是很常用的", " 你要知道 Assigning the return value of new by reference 已经不复存在了 ...\r", "\r", "也就是说这是段过时的代码 ... 为什么这么表现手册上已经说的很清楚了 ... 四个字历史遗留 ...\r", "\r", "这段代码在 php5 全系列都会有报错提醒 ... 所以其实了解这个对你学习 php 没什么用处 ...\r", "\r", "不过如果你要是想深入研究 php 的话我也可以解释给你 ... 不过不确定你是否能听懂就是了 ...", " 以上你解释的这些其实我都知道的 \r", "关于函数返回引用值在 PHP5 中的变更;\r", "关于这段代码是过时的代码;\r", "我觉得这个问题这样打字不太好描述  同样 你给我解释可能也不太好描述 另外 我有点 C 基础 有指针的概念 如果你方便的话 我还是很希望你能跟我解释下的", " PHP 的引用和指针式两码事，不要和指针联系起来。我觉得只要简单的记住不要使用 & 来 rebind 不在 scope 内的 reference 就行。 test_global_ref 中    global 申明的引用 $obj 不在 test_global_ref 的 scope 内。\r", "\r", "另外， 13 楼的代码在 Ubuntu14.04 PHP 5.5.9 上没有任何错误提示，运行结果和示例中的一致。", " 这个问题打算到此为止  可能像你说的 只能先避免这样的问题吧 \r", "我个人觉得 PHP 官方文档不足以解释这个问题了 要真的弄明白它 可能看 PHP 的源码比较靠谱\r", "\r", "总之 谢谢大家的回复!", " php 的引用确实和指针是两码事这点没错 ... 其他完全不是你说的这样 ...\r", "\r", "不过既然问题都结了我也就懒得再解释了 ... 另外你确定下开了 E_DEPRECATED 级别的报错 ...", " 确实没有开启 E_DEPRECATED ，开启后可以看到提醒。\r", "\r", "不过弃用提醒并不影响代码的执行，我其他关于 scope 的回答是针对 13 楼楼主问 test_global_ref 执行后 $obj 为什么仍然是 NULL ，与  Assigning the return value of new by reference 这个特性被弃用无关，可以把 &new stdClass 换作其他的类型，比如对一个字符串的引用。如果我这部分理解有误，希望可以给出正确的回答，我很愿意详细了解具体的缘由。", " 补充一个示例\r", "\r", "php4 里赋值是复制， 所以才需要&load_class, php5 除了基本类型是写时复制外返回引用， 这种已经不用了.\r", "\r", "php5 没比 php4 晚发布多久， 但早期主要充当试验田， 社区想直接跨到 6 ， 后来计划改了, 所以到了 5.2~5.3 期间才逐渐开始在生产环境铺开, 因此很多 php5 中早期产生的代码里会保留很多兼容 php4 的写法, 这种东西不用看了.", " 官方文档其实完全足以解释这个问题， 前提是你看懂了每一个字，参见： ", " @", "  那段示例代码之所以会报错只是因为它的确使用了一个过时并且已经被移除了的特性，然而关于 global/static 的原理到现在(PHP 7)也依然没有变化。 此外， global 目前的确一般情况不再使用，但 static 还是丢不掉的。。。", "楼主引用和引用计数要分开", " 你说的这个我早就看懂了 就如你博客中说的一样 这个层面其实好理解 问题在于对象赋值与对象引用赋值 你去看下官方文档中对象与引用相关内容 如果有人愿意探讨这个问题可以与我电话联系 感觉码子效率太慢。很难表述 我个人感觉是理解不了这个问题了", " 引用计数指的是？", "  sorry 是我粗心了了 没仔细看，这道题无关 引用 与 static 关键字 ，其实更像单例模式或者就是单例模式。\r", "obj2 和 obj1 用的是同一个被实例化的类。 你可以 var_dump $obj 来看 可以看到类似这样的状态 \r", "\r", "```\r", " /Users/laputa/Desktop/pattern/static.php:24:\r", "class a#1 (1) {\r", "  public $a =>\r", "  int(5)\r", "}\r", "5\r", "/Users/laputa/Desktop/pattern/static.php:31:\r", "class a#1 (1) {\r", "  public $a =>\r", "  int(1)\r", "}\r", "```\r", "\r", "a# 后面的数字是在同一生命周期下被实例化的对象个数 同时也可以认为是标记 ,从同一个 1 可以看出 他们引用的是同一实例化对象 . 希望能帮到你", " 对你误导了 是在对不起", " 你先定义一下『对象赋值』与『对象引用赋值』", "如果觉得饶了，可以看看这个（很清楚明了的）： "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>比如论坛帖子，怎么只根据阅读量字段，取出阅读量最大的 10 张贴</p>\n</div></div>"], "reply": "4", "tittle": "sphinx 搜索问题", "comment": ["这个 sphinx 有啥关系？", "居然不用数据库来做.....", "$cl->SetSortMode(SPH_SORT_ATTR_DESC,'yourReadCountField')\r", "$cl->SetLimits(0, 10)\r", "$cl->AddQuery('')\r", "$cl->RunQueries()", " 谢谢～查出来了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在 sf 上看到一个问题，$str 是从网页获取的字符串，以下为代码，大家可以在线测试，地址 <a href=\"https://tools.vaptu.com/online/shared/1644b15ce95ce0d62de85aa47cd73fdd\" rel=\"nofollow\">https://tools.vaptu.com/online/shared/1644b15ce95ce0d62de85aa47cd73fdd</a></p>\n<pre><code>$str=\"&lt;script&gt;\nwindow.shop_config={\n        userId: 0,\n        shopId: 11576689,\n        shopName: \\\"优尼牙科\\\",\n        cityId: 2,\n        power:5,\n        shopType:85,\n        map:{\n            power:5,\n        manaScore:0\n        },\n        licensePics:['http://mss.sankuai.com/v1/mss_bccd2477df9e492ca0baeb67e4eb3491/qualification/8723a20a-a40c-11e3-8fb0-a254baaa25bb?temp_url_sig=c17ff6525cfabce9e5f94b46ca3f9ee5115a1309&amp;temp_url_expires=1479364038',],\n    mainCategoryId:182,\n     defaultPic:\\\"http://qcloud.dpfile.com/pc/hhF4nWJIwWw4FXmGBaW39dKYr5NdlHLz5G64Lx3QSTypRKzSBzQnLPwzWURFZUAvtOnd3gXQdDYlAqlaVaAFeZ0rYYyiRo_EhzufqWWjTjs.jpg\\\"\n    }\n&lt;/script&gt;\";\n\npreg_match('#&lt;script&gt;\nwindow.shop_config=([\\s\\S]*)&lt;/script&gt;#',$str,$match);\n\nprint_r($match[1]);//匹配出 shop_config 变量\n\n$res=preg_replace('#\\s*(.*):\\s*(.*),#','\"$1\":\"$2\",',$match[1]);//补充双引号，但是 js 对象里有的值已经有双引号了，而且 licensePics 里面是个数组，加双引号没用\n\nprint_r(json_decode($res,true));//解释失败了，怎么办？\n</code></pre>\n</div></div>"], "reply": "1", "tittle": "php 如何将 javascript 对象解析为 json", "comment": ["如果不涉及安全问题\r", "用 eval 啊， context.window={}"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在网上找了很多资料都试过了不行，现在遇到的问题是在接口地址参数里的参数值怎么生成</p>\n<p><a href=\"http://live.qq.com/swf_api/room/10000014?cdn=ws&amp;nofan=yes&amp;_t=24647342&amp;sign=3fe92e7658b0e304e55f144630145063\" rel=\"nofollow\">http://live.qq.com/swf_api/room/10000014?cdn=ws&amp;nofan=yes&amp;_t=24647342&amp;sign=3fe92e7658b0e304e55f144630145063</a></p>\n<p>这面这个是接口地址每次刷新 t 和 sign 的参数都会变化，请教怎么获得这里参数，或者生成出</p>\n<p>我之前在网上找到的 Python 语言写的抓钱改成 PHP 的生成出来的地址访问接口提示出错</p>\n<p>function getmd5($str){</p>\n<pre><code>$m=md5($str);\nreturn $m;\n</code></pre>\n<p>}</p>\n<p>function l_request($action){</p>\n<pre><code>$baseUrl = \"http://www.douyutv.com/api/v1/room/\";\n$midReq = \"?aid=android&amp;cdn=ws&amp;client_sys=android&amp;time=\";\n$t=time();\n\n\n$md5_url= $action . $t . 1231;\n//$auth = getmd5($md5_url);\n\n$requrl= $baseUrl . $action . $midReq . $t . \"&amp;auth=\" . getmd5($md5_url);\nreturn $requrl;\n</code></pre>\n<p>}</p>\n<p>echo (l_request(10000346));</p>\n</div></div>"], "reply": "3", "tittle": "PHP 怎么获得斗鱼 TV 源地址", "comment": ["规律很难找的,谁知道他怎么加密的", "看到有很多网站都有规可循，怎么办呢", "t 一般都是 unix 时间戳\r", "sign 就 md5 之类的吧"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>服务器 curl 偶尔 http_code 返回 302 redirect_url 是 54.218.31.246/r.html</p>\n<p>然后 54.218.31.246/r.html 其实就是这个 gen.xyz</p>\n<p>被劫持了吗?</p>\n<p>并不总是出现 偶尔会出现 没什么规律.</p>\n</div></div>"], "reply": "4", "tittle": "php curl http_code 返回 302", "comment": ["也许是运营商干的", "被劫持\r", "抓包看 TTL", "应该是被运营商劫持了，如果是托管在机房里的服务器，可以跟当地运营商投诉，如果是云服务器，也是直接找商家投诉。。。然而很多情况下并没什么用，因为被劫持的情况可能有很多，国内的网络情况确实很糟糕，很多网站比如百度这样的，也是因为被运营商劫持得多了，现在全部改用 https 了。所以，如果抓取的是自己的系统，能升级 https 自然是最好的。\r", "\r", "说回你的问题，如果你是用 php 的 curl 写的抓取脚本的话，可以用 CURLOPT_FOLLOWLOCATION 属性设置自动跳转。\r", " \r", "https 忙完这段吧 我并不想跟随跳转 因为要获取 curl 内容用 日志里看 偶尔会出现 很是奇怪"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><hr>\n<p>之前对抛出的作用的理解是，是逻辑处理层和异常处理层分离。如果不是这样，那么直接用 if...else 语句或者自己写一个不用继承 Exception 的类都可以达到目的了（比如记录日志）。</p>\n<p>但是 php 中异常要 throw 才能 catch ，但是 throw 的时候感觉避免不了 if...else ，这样感觉这个 throw 有点多余啊？还是我的理解有问题 ？</p>\n<p>比如这两种，有什么区别？</p>\n<pre><code>try {\n\tif (...) {\n    \tthrow new Exception();\n    }\n} catch (Exception $e) {\n\t...\n}\n</code></pre>\n<pre><code>if (...) {\n\tMyException::log() // 记录或者处理\n}\n</code></pre>\n<p>如果不用 throw 就确实能把逻辑处理层和异常处理分离开</p>\n<pre><code>try {\n\t...\n} catch (AException $e) {\n\t...\n} catch (BException $e) {\n\t...\n} ...\n</code></pre>\n</div></div>"], "reply": "16", "tittle": "PHP 为什么只能用 throw 才能 catch 异常", "comment": ["你理解有问题，我肯定，至少看着我都觉得你混乱。所谓的 throw 就是触发异常，这个 php 没有啥特别之处。", "try {\r", "\tif (...) {\r", "    \tthrow new Exception();\r", "    }\r", "} catch (Exception $e) {\r", "\t...\r", "}\r", "if (...) {\r", "\tMyException::log() // 记录或者处理\r", "}\r", "\r", "区别在于第一种你不需要立即处理异常。这个 php 没关系...", " 哈哈，可能我表达的有些混乱吧，我的意思就是为什么不能自己主动抛出异常，比如在内核层次 throw", " 贴这两段代码的意思是为什么不能自动 throw ，这样是有什么好处么？", "虽然我不懂 PHP 但是异常当然要 throw 才能 catch.\r", "一些语言看似自动抛出异常,但是我觉得应该理解为特定的异常在标准库中为你 throw 了,比如 IO 接口的异常,因为用户代码接触不到 IO 接口的状态,所以 IO 接口的异常由 IO 标准库 throw.\r", "但是用户自定义的异常,自然用户自己 throw.\r", "\r", "另外,我认为异常处理不是为了避免 if...else...,而是为了减少多层次的使用 if else.\r", "假设 d 库调用 c 库,c 库调用 b 库,b 库调用 a 库.如果没有异常处理的话,a 库,b 库,c 库和 d 库都要用 if 判断状态是否正确.但是有了异常处理,可以谁都不用判断状态,只要 a 库 throw 异常,用户代码 catch 异常就可以了.", " 运行时异常一般都是自己抛的，楼主显然不了解 throw 是干嘛的。。", " 以 javaer 观之,是否是受检异常和非受检异常的问题(受检异常被认为是不好的设计,所以 C#抛弃了受检异常的设计", "异常机制初衷就是自行触发来转移程序流程， 解决逻辑嵌套太深时错误处理的困难。\r", "标准库触发的异常只是补充啊。至于 php 的 catch 不捕获系统异常。\r", " ", " \r", "Note:\r", "\r", "Internal PHP functions mainly use Error reporting, only modern Object oriented extensions use exceptions. However, errors can be simply translated to exceptions with ErrorException. \r", "\r", "看起来是历史原因。", " 所以即能自动抛出系统异常，也能自定义是最好的", " 我还以为除了 java 别的语言也是这么干的。。。无知了", " 涨姿势了，原来是这种思路的区别。\r", "\r", "自动捕获异常可能比较方便，但容易麻痹大意。我看现在好多 java 代码都是一个 try catch 到底，异常捕获没有细分\r", "\r", "PHP 一般用不上异常捕获，因为 cgi 的运行模型，一次请求挂了就挂了不会影响其它服务。不过开发大的系统还是要做异常处理。现在 php 做常驻进程的也有很多。（ php7 的异常捕获能捕获系统异常了）", " @", "  然而 PHP 7 changes how most errors are reported by PHP. Instead of reporting errors through the traditional error reporting mechanism used by PHP 5, most errors are now reported by throwing Error exceptions.    ", " 很好，这很 PHP7", "如果有一个异常是你主动抛出来的，当然可以用 if else 结构来简化。\r", "\r", "但是很多情况是：在你的逻辑里只是把参数丢给其他类来处理， Exception 在处理过程中由其他的类抛出来，这时你必须要用 try catch 来抓了", "难道 java 不需要先 if?????我收到一个参数 a=1  然后我有一个判断    a 必须大于 3           ， java 难道不用判断就知道收到 1 不对然后抛个异常？？？？", " 其他语言也是一步步进化过来的,C#也是在 3.0(没记错的话)后去掉的受检异常,还有下面 @", " 说的 PHP7 也是去掉了受检异常,只是 java 进化非常缓慢,有种说法是 C#3.0 约等于 Java 8.0.Java 还是生态好~~Android,大数据,,,,"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最好是权威的，外国人写的</p>\n</div></div>"], "reply": "12", "tittle": "求推荐一本 php 的书", "comment": ["随便翻了翻 ... 感觉这两本还行 ...\r", "\r", "\r", "\r", "\r", "这两本我自己都没细看 ... 纯直觉推荐 ...", "我买的这本  里面都是 PHP 的面向对象、设计模式的   个人觉得含金量挺高的\r", "推荐个 bt 网站给你： ", "\r", "里面去搜吧，这个网站是 kickass 挂了之后的替代品，号称没有加种子，虽然种子数量少了点", "少年，你犯了最基础的错误，别人又不知道你武功修到了第几层，练什么会是更合适的呢？", "modern PHP", "PHP 还要什么书？把 PHP 手册过一遍，能把基本的功能搞清楚就没有太大问题。\r", "当年参加培训班就是按手册把主要的函数和逻辑运算一个个练习一遍， PHP Certification 很轻松就过了。", "感觉 PHP 不用看什么书", "php 从入门到脱鞋", "  PHP Certification 是啥。。。", " ", "有基础了再研究买书看。。。刚开始就看手册", "把 PHP 的官方文档和下面的评论都看完一遍，你就很 NB 了！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>表单 HTML ：</p>\n<pre><code>&lt;form method=\"post\" enctype=\"multipart/form-data\"&gt;\n    &lt;input type=\"file\" name=\"file[]\" multiple=\"multiple\"&gt;\n&lt;/form&gt;\n</code></pre>\n<p>php 端通过 $_FILES 获取到的值：</p>\n<pre><code>Array\n(\n    [file] =&gt; Array\n        (\n            [name] =&gt; Array\n                (\n                    [0] =&gt; 1.jpg\n                    [1] =&gt; 2.jpg\n                )\n            [type] =&gt; Array\n                (\n                    [0] =&gt; image/jpeg\n                    [1] =&gt; image/jpeg\n                )\n            [tmp_name] =&gt; Array\n                (\n                    [0] =&gt; /tmp/php330E.tmp\n                    [1] =&gt; /tmp/php330F.tmp\n                )\n\n            [error] =&gt; Array\n                (\n                    [0] =&gt; 0\n                    [1] =&gt; 0\n                )\n\n            [size] =&gt; Array\n                (\n                    [0] =&gt; 59420\n                    [1] =&gt; 300300\n                )\n        )\n)\n</code></pre>\n<p>请问 html 元素里有什么属性可以让 php 端通过 $_FILES 获取到的值变成这样，或者 php 里有什么非常简便的方法、函数可以变成这样：</p>\n<pre><code>Array\n(\n    [file] =&gt; Array\n        (\n            [0] =&gt; Array\n                (\n                    [name] =&gt; 1.jpg\n                    [type] =&gt; image/jpeg\n                    [tmp_name] =&gt; /tmp/php330E.tmp\n                    [error] =&gt; 0\n                    [size] =&gt; 59420\n                )\n                \n            [1] =&gt; Array\n                (\n                    [name] =&gt; 2.jpg\n                    [type] =&gt; image/jpeg\n                    [tmp_name] =&gt; /tmp/php330F.tmp\n                    [error] =&gt; 0\n                    [size] =&gt; 300300\n                )\n        )\n)\n</code></pre>\n</div></div>"], "reply": "9", "tittle": "请教 php 上传多个文件的问题", "comment": ["一般都是用 name 属性吧 ...", "我也想知道一下。\r", " 这些字段是文件的信息，没法通过指定 name 来改...", "楼主，提个问题，这样你会丢失掉传过来的 name 名。", " \r", "我就只能做到这样了，效率什么的。。懒得管了\r", "<form method=\"post\" enctype=\"multipart/form-data\">\r", "<input type=\"file\" name=\"f1\">\r", "<input type=\"file\" name=\"f2\">\r", "<input type=\"submit\">\r", "</form>\r", "<?php\r", "if (count($_FILES) != 1) {\r", "$filekeys=array_keys($_FILES);\r", "for ($i=0;$i<count($filekeys);$i++) {\r", "$nowfile=$_FILES[$filekeys[$i]];\r", "$files['file'][$i]=['name'=>$nowfile['name'],'type'=>$nowfile['type'],'tmp_name'=>$nowfile['tmp_name'],'error'=>$nowfile['error'],'size'=>$nowfile['size']];\r", "}\r", "unset($filekeys,$nowfile);\r", "}\r", "print_r($files);\r", "?>", "你可以把它用 function 写成一个函数，然后传出数组来", "不过似乎。。忘了考虑单文件下的了， if 后面加个 else 来直接 print 或者拼起来吧", "不用自己写，用现成的组件 ", "PHP 手册上有解决方法 "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题，存储的并不是图片</p>\n</div></div>"], "reply": "2", "tittle": "php 如何从 mysql 读取出 longblob 类型，并解析相关的数据", "comment": ["和一堆的 pack / unpack 打交道? 用全宇宙最强大的语言处理二进制数据不怕被恶心死吗？", " 我是第一次碰到，以前也没有处理过，毕竟存这个的很少，情况是这样的:是其他部门 c++的同事存在数据库里，然后我再去读，原本的做法是 c++的同事那边解析好二进制数据，生成一张新的表我去读的，但是他们觉得这样有点复杂，所以是想我这里直接去处理二进制的那张表的数据。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><strong>问题一：</strong></p>\n<p>假如我已有一段文字：</p>\n<pre><code>V2EX 社区\n</code></pre>\n<p>我想给它加上链接，于是我在它前面输入</p>\n<pre><code>&lt;a&gt;\n</code></pre>\n<p>此时 IDE 会自动补全，变成</p>\n<pre><code>&lt;a&gt;&lt;/a&gt;V2EX 社区\n</code></pre>\n<p>请问怎样可以方便地使得补全的 <code>&lt;/a&gt;</code> 出现在 <code>V2EX 社区</code> 的后面呢？</p>\n<p>问题二：</p>\n<p>假如我已有一段代码：</p>\n<pre><code>$a = $b + $c;\n</code></pre>\n<p>我想给这段代码加上条件语句 <code>if...else...</code> 于是在我它的上一行输入：</p>\n<pre><code>if(.....){\n</code></pre>\n<p>然后 IDE 自动补全了后面的花括号，变成：</p>\n<pre><code>if(.....){}\n$a = $b + $c;\n</code></pre>\n<p>请问怎样可以方便地使得补全的花括号自动跑到那段代码的后面呢？</p>\n<pre><code>if(.....){\n    $a = $b + $c;\n}\n</code></pre>\n</div></div>"], "reply": "6", "tittle": "phpstorm 编写 php 代码时的自动补全的疑问", "comment": ["第一个用 emmet 写法，比如写了\r", "\r", "V2 社区\r", "\r", "然后在前面写 a{，后面补}\r", "\r", "a{v2 社区}\r", "\r", "然后在结尾按 tab 就行\r", "\r", "至于第二种忘了。", "$a = $b + $c;\r", "\r", "先在前面加上 if 以及左括号\r", "\r", "if (.....) {$a = $b + $c;\r", "\r", "然后光标放在左括号后面，按回车，就变成你要的了\r", "\r", "if (.....){\r", "    $a = $b + $c;\r", "}", "ctrl + w \r", "\r", "根本停不下来。", "现在竟然还有人不用 emmet ，又可以秀一下优越感了", "phpstorm 支持 emmet ，可以去看看 emmet  的语法吧。。。", "第二个问题， Windows 下快捷键 ctrl+alt+t  或 导航菜单 -> Code -> surround with\r", "选中要包含的区域，按快捷键弹出菜单中选择 if 就可以了。"]},
{"content": ["<div class=\"topic_content\">想用一款轻论坛来搭建一个摄影社区，重视手机版，因为现在推广 WEB 访问比较难，用手机的人多，想请教还有没有类似的程序，简单而效率高的。\r<br>\r<br>支持 PHP7 的就更好了，知道的朋友麻烦介绍一下，谢谢。\r<br>\r<br>- link -\r<br><a target=\"_blank\" href=\"http://hifone.com/\" rel=\"nofollow\">http://hifone.com/</a></div>"], "reply": "8", "tittle": "还有哪些类似 hifone 的轻论坛程序？", "comment": ["感觉在仿 V2EX", " 是 Ruby China", "\r", "Stack Overflow 的联合创始人的项目", "多多多，这些都是新型论坛\r", "\r", "flarum ， esotalk ， nodebb ， discourse ， laravel-china/phphub ， cnodejs/nodeclub ， ruby-china/homeland ， hacpai/symphony ， simpleforum ， carbon forum ， rocboss ， xiuno ， youbbs", "重新整理一下，以后我会发个总结帖。\r", "\r", "首先！ V2EX 是开源的！  ", "\r", "\r", "然后各大语言社区\r", "laravel-china / phphub\r", "ruby-china / homeland\r", "cnodejs / nodeclub\r", "golangtc / gopher\r", "python-china / zerqu + qingcheng\r", "\r", "然后主流轻论坛\r", "flarum ， nodebb ， discourse\r", "\r", "其他轻论坛\r", "hacpai / symphony ， carbonforum ， hifone ， simpleforum ， collipa ， rocboss ， xiuno ， youbbs\r", "\r", "欢迎补充！", "感谢各位，道出了一些我所不知道的程序，其实 hifone 我个人也比较喜欢的，只是基于 Laravel 我不太熟悉，所以在观望。我重视的是程序的可持续性，因为没有二次开发能力，有很多程序荒废了很久，有些则迭代不提供升级，又或者直接放弃前一个版本，突然又出新的程序，我很怕这种，对营运打击会很大。我再根据各位推荐再考察一下决定。", " 有空又再次看你的推荐，很多好东西，不过有些对我来说部署和维护有困难，学习一下，谢谢你。"]},
{"content": ["<div class=\"topic_content\">要做一个抢红包的功能，环境是使用红包接口， 10 万用户在同 1 秒种进行抢红包的操作，红包只有 10 个，在高并发的情况下，就无法控制了。\r<br>一般是先从数据库 count 红包记录，大于 0 个的话，就调用红包接口，然后在数据库写一条记录。\r<br>10 万用户在同一毫秒请求，数据库读写间隔时间太长了，导致 count 出来都是 0 ，没法限制 10 个。\r<br>请问该怎么锁？\r<br>网上有很多锁，试过大部分用 cache 锁或文件锁实现，我试了，在压力测试下，cache读写间隔时间比数据库少很多，但还是有间隔时间，仍然没有办法限制 10 个红包。\r<br>求解决办法。谢谢。</div>"], "reply": "42", "tittle": "求完美的 PHP 并发锁机制", "comment": ["数据库读锁", "redis incr", "redis 生成一个 10 个元素的队列", "二楼说的对， redis incr 可以", "同 2 楼，十万用户还是交给缓存来处理。", "让请求只能进来 10 个，不直接操作数据库，我看别人做秒杀也是这个思路", "无脑写入，把前一百的用户请求存起来，排个序，前十的给个红包 (逃...", " 怎么做才能让请求只进来十个？", "JS 上做个处理，提交的时候截掉一部分，请求到后台了再截掉一部分，剩下的到业务逻辑的就不多了，再去进行秒杀", " redis 的 ordered set 当 set 里有 10 个的时候，其他请求就可以不用处理了吧，没意义了。\r", "\r", "zadd 添加 /zcard 计算有多少个", " 代码层上控制百分 90 的请求直接 return 失败。", "先抽奖，中奖的话再去 count 数据库，再确认是否真的中奖，可以很大很大的降低数据库请求量。", " 正如楼主所说, \"cache 读写间隔时间比数据库少很多，但还是有间隔时间，仍然没有办法限制 10 个红包\", redis 也一样吧?", " 代码层上控制百分 90 的请求直接 return 失败。\r", "用户数并不是固定的啊", "。。。。。。 很简单吧\r", "\r", "INSERT 发布的红包 (id, count) values(1, 10)\r", "\r", "result = UPDATE 发布的红包 SET count = count － 1 WHERE id = 1 AND count > 0;\r", "if (result === true) {\r", "  INSERT 已经抢了的红包 .....\r", "}", "这样绝对不会多  可能会少一个进程异常中断等。。造成 \r", "\r", "如果要绝对的强一致性 可以用 sql 事务", " 做排序的剁死喵", "很明显你那个锁就是错的\r", "对的锁只有慢的没有不一致的\r", "这种需求不要用 SQL ，反正数据量不大，加内存用 Redis", "redis 队列正解", "Nginx 控制请求数量,然后 redis 的 incr 保证处理的正确性.这样可以最大程度的处理高并发了", "对于这种大并发抽奖, 注意 3 点\r", "1. redis incr 使用原子计数可以解决, 并发情况下不会超发的问题\r", "2. 用户锁, 解决同一用户同时多次秒杀, 除非你不 care 一个用户中了多次奖品\r", "3. 防人机, 简单的方案是图形码 或者是 CSRF 都可以", "补充一下\r", "注意一下流控, 不要让大流量冲垮你的系统, 宁愿让用户看到系统忙, 也不要让用户看到 500", "使用 Redis 两个思路，楼上都提到了。\r", "\r", "因为 Redis 支持原子操作，所以你可以使用 Redis 做。\r", "\r", "1. 比如 redis incr ，因为是原子操作，你不需要担心并发的问题，你只需要判断每次 incr 后的值是否小于等于 10.\r", "\r", "2. 使用有限资源的模式，比如使用 redis list ，先创建好 10 个资源，然后每次操作都是 pop ，因为只有 10 个资源，不会 pop 出来 11 个资源的，谁拿到资源谁就中奖。\r", "\r", "另外，一般的配置， Redis 并发几万的请求一点问题也没有。", " @", " @", " @", "  哈哈,插个题外话, 阿里云的开发职位不知道你们是否有兴趣, 我是阿里云的开发, 不是猎头, 如果有兴趣可以发我 email: ", ", 我们可以电话聊一聊.", " 这个是乐观锁的思路吧，加个版本号。\r", "控制超卖。\r", "但是高并发的情况下，可能限流更明显一些。可以用计数器也可以用令牌桶。\r", "限速的情况可能令牌桶更好一些，可以控制发令牌的间隔，不至于都是前面的人抢到。", "1. 用 Redis 的 queue ，开奖前 enqueue 10 个元素进去，开奖后 dequeue ；\r", "2. 用 Redis 的 setNx ，预定义 10 个 key ，能 setNx 成功表示得奖了\r", "\r", "cache 读写间隔时间比数据库少很多，但还是有间隔时间，仍然没有办法限制 10 个红包。 \r", "-----\r", "你把更新和读做成原子的不就行了， redis 的 incr ，数据库的 update 都行啊。可是如果你要是先 get 再减一，再判断，然后再 set 这样自然不行了。。", "2 楼正解, 原子性的操作就可以了", "感觉在 nginx 上用 lua+redis 控制更好.冲到 server 上,如果服务器少得话还是有可能跪..", "redis incr", "0 ，请求直接进 mysql 肯定是不对的，文件锁在单机上是可靠的，但有风险。\r", "1 ，说了很多 redis 的方案，都是对的，用 redis 通过计数器和队列模式都可以, incr, decr, lpop 都行，不会有超发的情况\r", "2 ，应该要有流控设计， 10 次红包、秒杀，可以按一定比例，控制流量，只放 1000 个进来，减少后端的计算压力", "9 楼正解, 其实现在大多数秒杀都在用这类方法, 其实不光是 js 上, 页面刷出来的时候就预先决定了你能不能真正进入\"抽\"的环节, 就没有那么大的流量冲击了, 再加上用 redis 的方案, 上亿级别的秒杀都轻松搞定啊", " 他这个其实把所有压力放到 MySQL 上了 通过锁阻塞来实现. 个人感觉不是很合理. MySQL 的锁不应该这样应用", "数据库层面的话，可以预先将红包分成 10 个，然后中奖者 id 留空，抢的时候 update set 中奖者 id=用户 id ， where 红包=这个抢的红包，且中奖者 id=空（暂时我还没测试过可行性）\r", "缓存上面都说的差不多了，自行参考吧", " 谢谢了,有朋友在阿里,觉得还是不太喜欢里面的氛围.现在我的团队不错,还想继续和我的小伙伴一起奋斗,可以做个朋友一起探讨技术", "我来说说我司的思路吧。把「抢」红包这个操作分成 2 个。先拿着红包 id 抢，这层业务只做拦截。然后再拿着红包 id 去拆红包。这时就是具体的资金业务了。当然也会拆失败。\r", "\r", "还有就是使用 redis 。", " 一般我们设计的原则是，凡是涉及到库存的，基本上都用乐观锁比较保险一点，但是那个已经是数据库层面的了。这种高并发的抢购，前面就要在请求数，缓存等拦截住请求了，然后再分批次的提交扣库存就保险了。\r", "\r", "Guava 的 RateLimiter 类，能很方便的实现令牌桶，对抢购甩红包这种场景很实用。", "var random = 生成 0-999 之间的一个随机整数\r", "if (random == 0) {\r", "（此处按照中奖率 10%编写抽奖代码，无需考虑高并发）\r", "}\r", "return 没抽中", "参照 redis benchmark ：\r", "\r", "10 万 qps 很有可能超出 redis 能力\r", "\r", "在不同的业务情形下，总有一种妥协方式\r", "比如不严格保证先到先得\r", "或者让用户看五秒动画再反馈结果\r", "在某个方面妥协一下，就能很容易实现啦", "额， 10w 人在同一秒操作，保守估计 100w 人打开这个页面，就为这 10 个红包，想想也是心累:(", "Redis 双队列，每次抢红包， rpoplpush 原子操作 A POP 、 B PUSH ，执行发红包处理：若有失败， B lRem 、 A lPush ；若成功， B lRem 。\r", "\r", "\r", "我们是小产品哈，并发其实没很高。", "\r", "\r", "当时自己看了这篇文章，感觉帮助挺大的。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Hey, folks!\nTo the annoyance of marketers everywhere, I almost never email you. But I hope you won ’ t mind this quick heads up.</p>\n<p>It's becoming a tradition at this point: I offer exactly one Laracasts coupon each year, and it just went live! You have exactly two days to get Laracasts at 40% off (including the coveted lifetime plan).</p>\n<p>Do not miss this one, folks! In the coming months, we'll be reviewing Laravel 5.4, Vue 2.0, and a variety of interesting techniques to bump your code to the next level.\nGet it now, or hold your peace for 365 days. :)</p>\n<p><a href=\"https://laracasts.com/sales/2016\" rel=\"nofollow\">https://laracasts.com/sales/2016</a></p>\n<p>As always, I hope you ’ re doing well.</p>\n<p>Take care,\nJeffrey</p>\n</div></div>"], "reply": "5", "tittle": "laracasts 大促， 40% off，需要的小伙伴不要错过了哇", "comment": ["买了一年~", " \r", "\r", "重新订了一年，话说人民币跌的有点凶", "有没有人定永久的？", " 刚入手，才 210 美刀", " 1452 元人民币，想买永久，囊肿有点羞涩"]},
{"content": ["<div class=\"topic_content\">有如下文档：\r<br>\r<br>xxxx abcdefg();\r<br>xxxasdfs a\".\"bc\".\"def\".\"g();\"\r<br>xxxasdfs abc\".\"def\".\"g();\"\r<br>xxxasdfs abcdef\".\"g();\"\r<br>xxxxxxx\r<br>xxxxxxx\r<br>\r<br>类似这样，\r<br>要匹配\r<br>xxxasdfs a\".\"bc\".\"def\".\"g();\"\r<br>xxxasdfs abc\".\"def\".\"g();\"\r<br>xxxasdfs abcdef\".\"g();\"\r<br>\r<br>这三行\r<br>\r<br>我写的这个正则这样可以匹配，\r<br>'a[\\s\\\"\\.]*b[\\s\\\"\\.]*c[\\s\\\"\\.]*d[\\s\\\"\\.]*e[\\s\\\"\\.]*f[\\s\\\"\\.]*g[\\s\\\"\\.]*'\r<br>\r<br>\r<br>但是会包含\r<br>\r<br>xxxx abcdefg();\r<br>\r<br>这一行，   怎么能把这一行给排除掉呢？</div>"], "reply": "16", "tittle": "求一个正则表达式", "comment": ["不说原始需求。正则没法写。\r", "你这正则还能匹配一堆不在你例子里的东西呢", "看你的字面意思就是要匹配一个点，那就\r", ".*\\..*", "(xxxasdfs a\"\\.\"bc\"\\.\"def\"\\.\"g\\(\\);\")|(xxxasdfs abc\"\\.\"def\"\\.\"g\\(\\);\")|(xxxasdfs abcdef\"\\.\"g\\(\\);\" )", "完全滿足題主描述的需求（逃）。", "   你赢了。。", "    我这需求就是检查 php 代码中利用拼接生成的函数 ，比如查找后门什么的，\r", "比如  eval() 函数 在 php 中就可以变形为\r", "$str = \"e\".\"v\".\"a\".\"l\";\r", "$str = \"ev\".\"al\";\r", "$str = \"eva\".\"l\";等等。\r", "但是我又不能直接查   eval 关键字， 误报太多。    只想查询这种通过字符串拼接的函数。   这就是需求，看有什么好的实现方式没？", "其实没搞清你的需求\r", "那三行不都是 xxxasdfs 开头的么？\r", "^xxxasdfs.+$\r", "不就行了？", " 感觉可以帮到你。", "先匹配出所有引号对中的字符串，然后把它们拼接起来，最后通过该字符串的特征来进行过滤。", " 哈哈哈", "先不说别的，楼主的头像……", " QAQ", " 好暴力的正则", " \r", "\r", "楼主你来匹配一下这个试试\r", "\r", "$func = implode(md5('z')[2], [chr(101) . base64_decode('dg=='), str_rot13('y')]); //eval", "Sublime 测试通过\r", "\r", "xxxasdfs\\s((a\\\")|(abc\\\")|(abcdef\\\")){1}(\\.\\\"bc\\\"){0,1}(\\.\\\"def\\\"){0,1}\\.\\\"g\\(\\);\\\"", "正则没用的，他可以写\"\\x65\\x76\\x61\\x6c\"，还可以用其它很多方式在运行时生成，目前唯一靠谱的手段，就是比对每个文件的 hash 值，只要不一致，管它有没有问题，一律视为被污染过。被挂过\r", "\r", "马\r", "                   .-' _..`.\r", "                  /  .'_.'.'\r", "                 | .' (.)`.\r", "                 ;'   ,_   `.\r", " .--.__________.'    ;  `.;-'\r", "|  ./               /\r", "|  |               / \r", "`..'`-._  _____, ..'\r", "     / | |     | |\\ \\\r", "    / /| |     | | \\ \\\r", "   / / | |     | |  \\ \\\r", "  /_/  |_|     |_|   \\_\\\r", " |__\\  |__\\    |__\\  |__\\\r", "的机器，必须离线格盘重装系统，方能清除彻底。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>背景：想做一个公众号文章资源 APP ，发现搜狗有搜索公众号文章功能，果断开撸。 <a href=\"http://wxiread.com\" rel=\"nofollow\">http://wxiread.com</a> (用 CMS 搭了个简易的站)。 详情点击 <a href=\"http://www.jianshu.com/p/6bd1b08bd903\" rel=\"nofollow\">http://www.jianshu.com/p/6bd1b08bd903</a></p>\n</div></div>"], "reply": "8", "tittle": "[造轮子]爬取搜狗微信公众号文章", "comment": ["暖贴，你这个还是很好玩的，哈哈，不过属于根据搜狗的推荐去爬了，要是能够制定微信公众号去爬更好吧~？", " 嗯，是的；回头看下 =_=", "不错", "没点进去看...    我记得那个传送门 好像也是扒取的 推荐的  不能定制抓取制定的..(现在不知道还是不是,不过那个网站现在排行非常靠前.且收录量特别大...)..   我曾试过...  有串加密  就没研究了...\r", "\r", "祝好运   如果可以  求解决办法", "厉害了，居然用的 php ，赞", "服务器去取图片的地方，我试了一下你似乎给图片加了缓存？", " 没有哈，避免防盗链，图片走 api.php, 直接把原图输出的。", "请问如何解决从搜狗爬取公众号文章时无法获取文章原始地址的问题，从搜狗爬取的文章都是临时地址，在页面源码里面的 msg_link 变量多数为空，但从微信进入的公众号文章源码里面 msg_link 是有值的，且就是公众号文章的原始地址"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>所谓前人种树后人乘凉，闲暇之余，想给“曾经的自己”们留下点东西。\n于是就想整理一份主流编程语言的“自学入门导向图”。\n主要针对群体的就是想通过努力自学快速进入这个行业学弟学妹们，原则是“不走捷径，不走弯路，不走远路”。\n然而本人是 C++出身，工作几年虽说对行业比较熟悉，然而别的语言方向的学习只是外行，所以希望借助大家的力量。本人会先列出一份自己研究的草稿，然后希望大家指正和补充一些内容，然后本人再进行迭代。</p>\n<p>推荐的内容会分三种优先级：\n★ 工作面试基本用不到，暂时没必要掌握的内容\n★★ 工作面试可能会遇到，尽量要掌握的内容\n★★★ 工作面试经常会遇到，一定要掌握的内容\n每个内部包括基础和进阶教程（网站，书，视频）</p>\n<p>图片地址\n<a href=\"http://www.coderluan.com/wp-content/uploads/2016/11/php.jpg\" rel=\"nofollow\">http://www.coderluan.com/wp-content/uploads/2016/11/php.jpg</a></p>\n<p>之前弄的 JavaEE 的，也在 v 站发过，结果收藏数是回复数的二倍，日了汪了。\n<a href=\"http://www.coderluan.com/wp-content/uploads/2016/11/%E6%8D%95%E8%8E%B7.jpg\" rel=\"nofollow\">http://www.coderluan.com/wp-content/uploads/2016/11/%E6%8D%95%E8%8E%B7.jpg</a></p>\n</div></div>", "<div class=\"topic_content\">请大家把关注的重点放到这个图的本身，本人只是个整理者，不懂 PHP ，这点说的很清楚。\r<br>\r<br>十分感谢各位对技术方向的指点，你的名字会出现在最终版本上。</div>", "<div class=\"topic_content\">请大家移步新帖 <a target=\"_blank\" href=\"https://www.v2ex.com/t/323102\" rel=\"nofollow\">https://www.v2ex.com/t/323102</a></div>", "<div class=\"topic_content\">请大家移步新帖 <a target=\"_blank\" href=\"https://www.v2ex.com/t/323102\" rel=\"nofollow\">https://www.v2ex.com/t/323102</a></div>"], "reply": "47", "tittle": "弄了个 PHP 自学向导图，希望大家帮着修正一下", "comment": ["没学过 PSR 规范的 php 程序员是在坑后来人， composer 也基本上是必须的吧？", " \r", "\r", "PSR 这个很好，提醒我了，不光 PHP ，别的编程语言也应该有编程规范相关内容。\r", "composer 这个不是很清楚，我需要去了解一下。", "PSR  必须的  但是 phpstorm 格式出来的不美观  自己调的还是有些数组换行不满意", "多翻翻 modern php", " 《 modern php 》我感觉不太适合自学的初学者吧，有一定经验了用来进阶比较好", "内心好强大， composer 都没听过就去指导`后来人`了...\r", "也不是嘲讽，就是觉得有点奇怪，读下先....\r", "呃，看来没看过别人嘲讽 w3school ", "\r", "wamp 也是个坑 不推荐新的技术 docker 什么的 还在提 wam p....", "额...这个图...额...楼主几年 php?", "是 school. 不是 w3shool......\r", "另外感觉 lamp lnmp 什么的，看你想学多深，单独拿出来一个 Nginx 或者 Apache 想学明白就挺费劲的了。不亚于半个 PHP 啊。 MySQL 分量就更重了。只是很多复杂的平时用不上，大家把能改配置当作 “能够熟练使用”了", "已经有参天大树了， ", " \r", "\r", "\r", "我原文说的很清楚了\r", "\r", "想 [整理] 一份自学向导，本身是 C++出身，所以需要大家的 [帮助] 。\r", "\r", "诸位这么回复说明你感觉这个图的问题应该很大，如果能帮指正一下，个人会十分感激。", " 十分感激，我会浏览一下，下个版本进行更新。", "看起来楼主尚未对一门语言进行深入过。对任何一门语言有过稍微深入研究的，应该知道学习一门新语言，除了基础语法，首先要关注的是规范、包管理、框架、组件、社区这些属于语言生态层面的东西。\r", "\r", "学习一门语言简单，深入这门语言的生态很难。\r", "\r", "不过楼主的分享精神仍然值得赞赏。", " \r", "手滑了。\r", "你说的那些，我说的随便百度篇博客大概就是能改配置的程度吧。", " \r", "\r", "自认为 C/C++还是深入过的，这个导向只是新手入门，个人认为入门阶段就学习管理框架组件的话是很难掌握的，规范社区是我有所遗漏。", "smatry 还是算了吧，我做了 6~7 年 php 了，从来没用过", " 不好意思 smarty 还拼错了", "感觉这个导图基本上诠释了如果在学习 PHP 的道路上走偏", "你这是培训班向导图....", "这大部分都推荐的什么渣渣玩意、误人子弟", "搜索引擎都不是默认 Google 。。。。。", " \r", " \r", "我原文说的很清楚了 \r", "\r", "想 [整理] 一份自学向导，本身是 C++出身，所以需要大家的 [帮助] 。 \r", "\r", "诸位这么回复说明你感觉这个图的问题应该很大，如果能帮指正一下，个人会十分感激。", " 确实参考了培训班的课程，毕竟不是 PHP 出身", "还是从这里开始 PHP 吧： \r", " 我感觉对新手入门来说百度更合适一些，等工作了就自然就慢慢抛弃百度了", " 我反倒觉得，越是新手， Google 越合适", "你也说了，原则是“不走捷径，不走弯路，不走原路”\r", "百度搜东西，明明是走弯路。而 ThinkPHP 是歧路啊亲！！！", "  所以我也说不是 PHP 出身，需要大家帮助啊。 tp 的在面试中不常见吗？虽然我知道他名声不好。\r", "搜索引擎这个我暂时持保留态度，新手我感觉百度会更习惯，当百度满足不了，自然会转向 Google 的怀抱", " rightway 那个确实很好，我之后会参考它改正一些，不过我感觉还是需要一定掌握一定基础内容，之后再拿这个查漏补缺，直接上这个，新手会懵逼", " 额。 首先没有什么 PHP 出身这一说，也不应该有 PHP 程序员， C++ 程序员， Java 程序员这种分法。我一直觉得根据使用场景，快速掌握一门语言语法和最佳实践是程序员应该有的态度。我也是从： C++  ——> 数据库开发 ——> Web 开发 一路走过来的。\r", "\r", "\r", "另外，很多人提出一个问题的时候，往往不是真正的在寻求建议，而是希望别人验证自己内心已有的答案，所以，不多说啦，开心就好。", " \r", "\r", "我要是自己想学 PHP ，肯定是按你说的来，不过我就是想弄一些方便快速入行的路线，让那些基础不好又想当程序员的孩子少被培训班坑。\r", "\r", "这个问题我真心不知道答案，所以是诚心诚意希望得到大家的帮助。\r", "\r", "不过其实这个帖子到这里我其实并不是很开心，有些人不看描述，上来就喷我，我也不生气，好言好语让他给我点建议，结果都不吱声了。不过还好你和别的一些 V 友态度很好，感谢你们。", " 老实说你这个帖子我们看着都不是很舒服。\r", "\r", "打个比分，有人给我推荐一只股票，我怎么验证他的推荐靠不靠谱？我要看他自己有没有买这只股票呀！！你说你不会 PHP 但是想做一份 PHP 自学向导图，你这已经严重打脸吾等淫渐 PHP 许久，但是完全不知道怎么总结一份通用的自学向导图的使用 PHP 的 Web 工作者，好么。\r", "\r", "很多事情的复杂度，是你深入接触之后才会才会意识到。先变成 PHP 大师，你说什么我们都听你的。", " \r", "\r", "等下，你也搞错了，我不是给你们推荐股票，是在说\r", "\r", "“各位股票大神，小白我弄了股票走势图，希望大神们指点一下，将来帮助更多的人”\r", "\r", "像你这样指出，“大神也弄不好走势图，小白还是别弄的好”。我也能理解，虽然不会接受，我相信多次迭代之后会有一定价值的。\r", "\r", "我想整理的方向很多，但是真心没办法挨个学一遍甚至工作一段时间，只能借助网络的力量了。\r", "\r", "有些事，大师们不去做，只能小白去做了。\r", "\r", "如果你看着不舒服，就请帮助我，咱们一起整理一份让人看着舒服的内容。", " 已经推荐目前最好的 PHP 走势图， PHP The Right Way ，该文档随相关技术发展而持续更新。建议关注英文版，因为中文翻译有滞后。\r", "\r", "你非说这也不是新手向的话，我只能讲这是门槛，修行靠自身。", " 我还是表示这门槛对有些孩子比较高，我想帮他们走到这个门槛前，跨不跨过去，确实看他们自己。", "我只学过 Web 前端，我表示我学的时候 w3school 看得头大， mdn 才是正解", " 嗯，我打算改成 mdn 了。", "The right way, PSR, composer, modern php +1", " PHP 之道 这个入门不可能懂后面那些啊。依赖注入 这些怎么入门会懂啊。", "fuck off this and go ahead for symfony.", "我觉得几个必须弄明白的东西， PSR phpcs php-cs-fixer phpmd symfony", "这跟 HR 自己罗列一堆名词有什么区别？", " 请看下 append", "编程入门先走萧井陌的编程入门 1.4 ，再走 php 之道", "能想到总结和学习，就已经很好了诶……\r", "\r", "感觉这些基础知识固然重要，也要到 GitHub 上找代码看，看到多了，遇到不懂的自己查。", "哈哈，我自学的就是和楼主差不多，好尴尬，完全不敢说话，", " \r", "PSR 之类的《 PHP 之道》里边有相关内容\r", "\r", " @", " \r", "\r", "symfony 那个我有疑惑，但是我有点顾虑，就是这么多框架，他们的市场需求是怎么样的，也就是找工作，笔试，面试哪个最常见。 不能面试时，对方说我们公司之前框架是 tp ，你熟悉吗？咱们说 fuck off this and go ahead for symfony.", " \r", "\r", "哈哈哈，脸皮厚的天然优势。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>偶尔看到别人的 laravel 写成这样子，很是优雅</p>\n<img src=\"http://ww1.sinaimg.cn/large/de90b49cgw1fa269zmihxj212t07zq7b.jpg\">\n</div></div>"], "reply": "18", "tittle": "phpstorm 怎么格式化做到下面的效果", "comment": ["... 只是看起来好看而已，后面维护代码的人如果要保持风格的话，一个空格一个空格地手动对齐的时候不知道心里会想些什么东西...\r", "\r", "\r", "说回主题吧，我一般用 vim 这个插件做这事： ", " ，你这个格式比较简单，直接按照逗号对齐就行了，可以再自己录一个宏\r", "\r", "phpstorm 本身的 formatter 不支持这种样式的对齐，需要用一个插件： String Manipulation ，选中一段代码，右键 -> string manipulation -> align -> align columns ，估计要重复操作几次才行，而且这个插件有问题，处理后的段落都没有缩进了，还需要自己手动再调整下", "你这不符合 PSR 系列标准", "st 有这个插件，但是忘记叫什么了", "方法名后的空格策略都不一致也能叫优雅？\r", "\r", "restful 风格就改按 convention 来直接注册 resource ，按 convention 自动找方法来注册， crud 一个个手动注册路由也叫优雅？", "配置一下 code style", "我也很不喜欢这样，万一后面有更长的话为了对齐就需要全部再格式化一次了吧。", "建议使用常见 format 功能，如果需要团队合作的话", "没有大屏显示器的时候你就知道优不优雅了", "plugin 里搜　 align 　有相关三方插件。", "设置里用四个空格代替 tab ，写代码的时候直接按 tab 就能这样对齐（不足四个空格的地方会用 1-3 个空格补齐）", "一看就是 laravel", "明明有 restful controller 可以这么做，却还要一条一条手写。。。", "这种风格我是接受不了的", "可以自己写一个插件... 应该不会太难 只是让他们对齐", "谢谢各位热心解答", "我也觉得这个样子对齐特别好看\r", "下面是 phpstorm 设置的地方\r", "File->setting->Editor->code style -> php ->other ->Align key-value pairs 打勾就好了\r", "\r", " ", "  \r", "\r", "写完代码之后用 phpstorm 格式化一下就 ok 了 Ctrl+alt+L\r", "\r", "还有既然大家都觉得这种风格不好的话。。。 建议楼主还是不要学习这种风格了。。我也尽量改。。", "   这个是数组的，我已经打勾了 哈哈，但是没办法实现这样子的效果，\r", "的确这种效果的确是比较好看，但后面的人维护比较困难", "感觉有语言格式洁癖一样。。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>从 iOS 软件 Workflow 里下载了一个基于 Google 短链接服务的短链接生成 Workflow ，它的语法很简单，进入「 <a href=\"http://is.gd/create.php?format=simple&amp;url=%EF%BF%BC%E5%8E%9F%E9%93%BE%E6%8E%A5%E3%80%8D%E3%80%82%E7%84%B6%E5%90%8E%E6%8A%93%E5%8F%96%E8%BF%99%E4%B8%AA\" rel=\"nofollow\">http://is.gd/create.php?format=simple&amp;url=￼原链接」。然后抓取这个</a> URL 里面的短链接即可。</p>\n<p>但是 Google 有墙啊，短链接分享给没梯子的小伙伴都打不开，求问微博短链接服务有没有类似 <a href=\"http://is.gd/create.php?format=simple&amp;url=%EF%BF%BC%E7%9A%84\" rel=\"nofollow\">http://is.gd/create.php?format=simple&amp;url=￼的</a> URL ？</p>\n</div></div>"], "reply": "11", "tittle": "短链接生成服务 URL", "comment": ["第三方服务提供: 985.so 955.cc dwz.cn suo.im", "   自己搭建一个吧", " 这是什么鬼啦😂", "\r", "这种么", "微博有 API ", "\r", "自己建也是个选择", " 感谢，我正在尝试", " 尝试一下", "微信也有", "之前写过 Short Menu 的新浪微博接口，就是要求的这种形式，用新浪自己的接口非常容易的\r", "但是有个非常大的缺陷：\r", " 比如这个网易云音乐的地址，#后边的东西在请求的时候根本传不到服务器上，导致生成出来的链接实际上是指向 ", " 的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在 2016 年做 PHP 开发是一种什么样的体验？（一）</p>\n<p>嘿，我最近接到一个网站开发的项目，不过老实说，我这两年没怎么接触编程，听说 Web 技术已经发生了一些变化。听说你是这里对新技术最了解的开发工程师？</p>\n<blockquote>\n<p>你算是找对人了。我对今年的技术别提多熟了， VR 、机器学习、守望先锋……你尽管问吧。我刚去了几个热门的技术大会逛了一圈，没有什么新技术是我不知道的。</p>\n</blockquote>\n<p>厉害。是这样的，我要开发一个网站，用来展示用户的最新动态。我想我应该通过后端接口获取数据，然后用一个 table 来展示数据，用户可以对数据进行排序。如果服务器上的数据变化了，我还需要更新这个 table 。我的思路是用 jQuery 来做。</p>\n<blockquote>\n<p>可别用 jQuery ！现在哪还有人用 jQuery 。现在是 2016 年了，你绝对应该用 React 。</p>\n</blockquote>\n<p>等等，这句话之前已经有一位前端大神和我说过了，我今天主要是想问你后端该怎么做。</p>\n<blockquote>\n<p>哦原来是这样，你提到了 Smarty ？你后端语言是 PHP 对吧，现在哪还有人用 Smarty 。现在是 2016 年了，你绝对应该用 Twig 。</p>\n</blockquote>\n<p>Twig ？也是一个模板引擎吗？</p>\n<blockquote>\n<p>是的，但是 Twig 的语法更加优雅，使用更方便，速度也快，而且许多开发框架都支持把 Twig 作为模板引擎，和框架的整合也做得更好。</p>\n</blockquote>\n<p>好吧那我用 Twig ，请问在哪里下载？</p>\n<blockquote>\n<p>你不用自己下载安装，只需要在你项目的 composer.json 文件中添加一个依赖，然后 Composer 会帮你安装。</p>\n</blockquote>\n<p>等等， Composer 是什么？</p>\n<blockquote>\n<p>Composer 是一个以 PSR-4 标准进行自动化包管理的工具，用它可以方便的进行各种第三方软件的依赖管理和下载、更新等操作</p>\n</blockquote>\n<p>PSR-4 ?</p>\n<blockquote>\n<p>对， PSR-4 是 PHP-FIG 组织提出的多个为了统一项目规范的标准之一，是用来规范 PHP 项目的 Namespace 、目录结构、加载规范的。</p>\n</blockquote>\n<p>那除了 PSR-4 之外还有什么？</p>\n<blockquote>\n<p>还有用来规定代码风格的 PSR-1 ，以及 PSR-1 的扩展版本 PSR-2 ，还有用来规定日志的 PSR-3 ，用来规定缓存的 PSR-6 ，用来规定 HTTP 头消息的 PSR-7 ，以及……</p>\n</blockquote>\n<p>等等，怎么没有 PSR-5 ？</p>\n<blockquote>\n<p>有的，但 PSR-5 还处在草稿阶段，没有正式发布，所以我没有讲给你听。</p>\n</blockquote>\n<p>有 PSR-8 吗？</p>\n<blockquote>\n<p>有的，现在一共是到 PSR-0 到 PSR-17 ，但我没提到的那些大部分都在草稿阶段，所以同上，我没有讲给你听。</p>\n</blockquote>\n<p>好吧好吧，我用 Composer 行了吧。</p>\n<blockquote>\n<p>等等，在你用之前，我建议先配置一个镜像，因为 Composer 的服务器在国外，直接使用经常会出现问题，对了如果你的项目比较大的话，可能第一次使用要 FQ 才能使用。</p>\n</blockquote>\n<p>为什么？</p>\n<blockquote>\n<p>因为虽然软件的版本信息是存在 Composer 的服务器上的，但有大部分软件的 zip 文件是存放在 github 或者别的什么地方的。</p>\n</blockquote>\n<p>好吧这些我都搞定了，我想开始写代码了，听说 Zend Framework 挺有名的？</p>\n<blockquote>\n<p>现在是 2016 年了，没人再用 ZF 了。现在比较流行的 PHP 框架有 Symfony 、 Laravel 、 YII 、 Codeigniter 这些，如果你对性能要求比较高或者想开发一些 Socket 相关的功能的话，可以试试看 Phalcon 、 Yaf 、 Swoole 、 Workerman 、 ReactPHP 这些，对了最近还有个叫 Kraken 的框架在 Github 上比较火，但我还没有试过。</p>\n</blockquote>\n<p>有没有国内用的比较广泛的框架？</p>\n<blockquote>\n<p>ThinkPHP 刚刚推出了支持 Composer 的 5.0 版本，但我建议你再观望一下再决定是否用。</p>\n</blockquote>\n<p>我以前听说最新版本是 3 ，怎么现在是 5 了，请问 ThinkPHP 4 去哪里了？</p>\n<blockquote>\n<p>这个套路你还不明白吗？请问你用过 Java 2/3/4 或者 Windows9 吗？</p>\n</blockquote>\n<p>好吧，确实没用过，不过我懂你的意思了。我可以开始写代码了吧？ Editplus 我早就装好了</p>\n<blockquote>\n<p>可别用 Editplus ！现在哪还有人用 Editplus 。现在是 2016 年了，你绝对应该用 PHPStorm ，非常好用，同类的还有 NetBeans 、 Zend Studio 但现在已经没什么人用了，如果你喜欢简单一些的工具，可以用 Sublime 、 Atom ，或者像我们公司的程序员 MM 一样直接用 VIM 。</p>\n</blockquote>\n<p>程序员 MM ？</p>\n<blockquote>\n<p>是的，对了我们公司在漕河泾，有兴趣可以投个简历给我 hongt@xieche.net ，有机会在面试时和程序员 MM 直接交流。</p>\n</blockquote>\n<p>好吧好吧…随便问问，反正我有女朋友。对了请问代码该怎么调试呢？我以前用 Editplus 的时候都是在代码里写 var_dump 和 die 的。</p>\n<blockquote>\n<p>现在哪还有人 var_dump() + die()。现在是 2016 年了，你绝对应该用 Ladybug 。</p>\n</blockquote>\n<p>Ladybug?</p>\n<blockquote>\n<p>对，类似 var_dump + die ，但是更加好用，能够把要 dump 对象里的内容展示的清清楚楚，配合 Xdebug 你甚至可以在 IDE 里进行断点调试、临时更改变量的值等等</p>\n</blockquote>\n<p>Xdebug?</p>\n<blockquote>\n<p>是的，一个 PHP 的调试工具，安装之后可以像调试 Java 、 C 那样调试 PHP 。</p>\n</blockquote>\n<p>看起来好高级的样子，但我程序还没开始写呢，我听人说写代码第一步是要建数据库？</p>\n<blockquote>\n<p>没错，但现在已经是 2016 年了，没有人直接用客户端连上数据库去建表了，大家都在用 ORM 工具管理数据库。</p>\n</blockquote>\n<p>什么是 ORM ？</p>\n<blockquote>\n<p>ORM 可以让你像操作类一样去操作一个数据库，知名的 ORM 工具有： Doctrine 、 Propel 、 Eloquent 这些。</p>\n</blockquote>\n<p>难道我不能直接写 SQL 吗？</p>\n<blockquote>\n<p>可以当然是可以的，但现在是 2016 年了，没人直接写 SQL 了。而且如果直接写 SQL 的话，安全性怎么办？如果字段做了变更怎么更新所有现存的 SQL ？代码的部署回滚怎么和数据库绑定？而且用了 ORM 之后你可以很简单的就创建出一个表的 CRUD 表单，甚至可以很简单的写几行代码就实现对这个表的各种 API 操作。</p>\n</blockquote>\n<p>听上去很不错啊，能举个例子吗？</p>\n<blockquote>\n<p>比如我最常用的 Doctrine ，只要我用 PHP 类去定义一个表的实体结构（ Entity ），我就可以让 Doctrine 自动生成这个表的 DDL ，即使我的表结构有变更， Doctrine 也会帮我生成所对应的 update 表结构的 DDL 。 Entity 在每个字段上都可以进行设置，设置完我就可以生成一个对这个表进行操作的 CRUD 表单，假设某个字段我设置的是日期类型，这个字段在 HTML 里就会被自动生成并映射成为一个包含三个下拉框的组件，而这三个下拉框分别是年月日。</p>\n</blockquote>\n<p>好酷炫，那还有别的用处吗？</p>\n<blockquote>\n<p>多了去了，每个网站都有后台吧，使用了 Doctrine 的话配合一些工具，只要写几行代码就可以生成基于表的后台管理界面，实现一个基本可用的网站后台。但需要注意 Doctrine 一般是以 Service 的方式被用在项目中的，你直接用 Doctrine 并不会很方便。</p>\n</blockquote>\n<p>Service ？</p>\n<blockquote>\n<p>是的，你可以理解为一系列的你代码中可能会用到的第三方应用，他们都通过 Service 的方式被注册到程序中，你在用到某个功能的时候，只需要对他们进行调用即可，就像调用一个函数那么简单。 Service 一般都会支持 IoC 和 DI ，所以对你将来程序的升级也会很有帮助。</p>\n</blockquote>\n<p>IoC 和 DI ？这不是 JavaEE 里面经常用到的东西吗？</p>\n<blockquote>\n<p>没错，但 PHP 项目中现在也在大量使用 IoC 和 DI ，比如 Symfony 和 Laravel 中就都有非常强大的一套 Service 系统，实现了 IoC 和 DI 。</p>\n</blockquote>\n<p>好吧不明觉厉，但是我的开发环境还没有呢，是不是先装一个 XAMPP 吗？</p>\n<blockquote>\n<p>现在是 2016 年了，没人还在用 XAMPP 了。你至少得用个 Vagrant 或者 Docker 吧？不然你的代码准备怎么部署？开发环境和生成环境怎么保证统一？难道你准备直接用 FTP 传源代码文件吗？</p>\n</blockquote>\n<p>er ……是的，难道不应该用 FTP 传代码吗？</p>\n<blockquote>\n<p>现在是 2016 年了，没人还在用 FTP 直接传代码了，最差你也得用个 rsync 吧？你可能没有 Vagrant 或者 Docker ，但至少应该尝试用一个部署工具并配置一套部署脚本，比如 Deployer 、 Capistrano 、 Ansible 、 Fabric 等等，如果配合 CI ，自动检查代码、部署那就更完美了。</p>\n</blockquote>\n<p>CI ？</p>\n<blockquote>\n<p>对， Continuous Integration ，指的是自动化处理分支的合并、运行测试用例、代码检查、部署等操作，你可以用 Jenkins 自己搭一个，也可以用 Bamboo 或者 <a href=\"http://CircleCI.com\" rel=\"nofollow\">CircleCI.com</a> 。为了及时知道代码的 CI 结果，你可以把你的 CI 系统和 Slack 、零信等 IM 工具做整合，这样的话你就可以灵活的在团队里分享并自动化处理各种信息。</p>\n</blockquote>\n<p>能举个例子吗？</p>\n<blockquote>\n<p>比如代码如果在线上出了错，系统可以自动定位到某一次提交，并且发送邮件给改动人。比如服务器负载高了可以自动水平扩展服务器架构。</p>\n</blockquote>\n<p>水平扩展服务器架构？</p>\n<blockquote>\n<p>水平扩展的意思就是服务器配置不变，但是数量增多，相对应的垂直扩展就是服务器的性能变高，但是数量不变。</p>\n</blockquote>\n<p>那具体是怎么做到的呢？</p>\n<blockquote>\n<p>首先你的程序架构要支持水平扩展，比如 session 和数据库不能存放在单机上，当然还有一些复杂的注意事项暂且不提。其次是你的服务器架构要支持水平扩展，如果你用的是云服务，一般都会有水平扩展的 API ，直接调用就是了。</p>\n</blockquote>\n<p>听起来好复杂，我的网站暂时应该不会有流量问题，但如果程序出现问题怎么办，有什么办法能及时通知到我吗？</p>\n<blockquote>\n<p>现在是 2016 年了。一般的做法是搭建一套 ELK 系统进行日志的存储、搜索、展示。</p>\n</blockquote>\n<p>ELK ？</p>\n<blockquote>\n<p>对，就是 Elasticsearch 、 Logstash 和 Kibana 三个软件的缩写，因为大家都经常固定用这三个组合，所以缩写成了 ELK 。当然如果你不想那么麻烦，可以用 Sentry ，或者再简单点自己搭建一个 <a href=\"http://Log.io\" rel=\"nofollow\">Log.io</a></p>\n</blockquote>\n<p>你别扯远，我就想简简单单跑一个 PHP 的运行环境，听说 Facebook 公司曾经出了个叫什么 HipHop for PHP 的东西？</p>\n<blockquote>\n<p>没想到你还懂得挺多， HipHop 是 Facebook 出的一款用来加速 PHP 运行的软件，核心原理是把 PHP 代码编译成为一个可以直接执行的程序。而且现在已经是 2016 年了，没人再用 HipHop 了。现在至少你得用 HHVM ，或者 PHP7</p>\n</blockquote>\n<p>HHVM ？</p>\n<blockquote>\n<p>是的 HHVM ，因为 HipHop 需要编译才能用，每次 PHP 代码改动都需要重新编译，非常麻烦，所以 Facebook 转而做了 HHVM 。核心原理差不多，但 HHVM 不再需要编译过程，可以直接执行 PHP 文件了，基本上你可以理解为 HHVM 是一个超级加速版的 PHP 。</p>\n</blockquote>\n<hr>\n<p>未完待续，再往下写我感觉我收不住了，所以先放出来大家看着一乐吧，有时间再继续。</p>\n</div></div>"], "reply": "133", "tittle": "在 2016 年做 PHP 开发是一种什么样的体验？（一）", "comment": ["赞，好广告", "技术点太多,  很多表示不会..", "不得不上来回复一下， MDZZ ，我要收藏该帖子了！！！", "看个热闹，又见到好多新名词。", "为什么没有再最后随便再黑下别的语言", "可以发一个硬广吗？关于前端的原生 Javascript 知识，发一个我的 github 项目地址；\r", "\r", "\r", "\r", "我把自己总结的 Javascript 原生知识，放在 github 上的，现在总结的越来越系统了，有对原生 Javascript 感兴趣的欢迎 star 啊；欢迎一起补充完善！\r", "\r", "新技术要学，基础的东西也要打牢固哦，基础不好，很容易颠覆在前端发展的大浪潮中；", "前端表示看的一脸懵逼\r", "\r", "JavaScript 的那个起码大部分都还用过", "然而并没有什么牛逼东西，都是大路货，你再写一篇 java 的出来，有经验的 java 一看都是常识。只能吓唬新手。", "我是一个讨论 THINKPHP 框架的群 谢谢. THINKPHP  最好的 PHP 框架", "MARK", "2016 的 CMS 用什么？界面简单优雅即可。", "很懂 php 嘛", "看到 fq 那里我以为要开始卖梯子了 233", "跟不上时代的发展了..", "好广告👍", "这个好，哈哈", "不错, 技术点差不多都 get 到了", "跟上次看到的一个说 JS 的文章差不多，哈哈哈哈😆", "很好的广告， 有水平。。。## ", "还好大部分都知道，不然还真落伍了。。", "666 ，这节奏是要活到老，学到老了啊", "2016 年， lumen 居然没连名字都没被提（虽然老大 laravel 出现了很多次）", "真是众多招聘贴中的一股清流,为众多招聘 /广告贴树立了一个新的标杆.", "不错不错", "哪里提到 Smarty 了 （ー㉨ー|||）", "年度最佳招聘信息", "服务端要承受的压力比较大，所以扩展的就比较早。\r", "\r", "像什么 orm ioc 集群 负载均衡 都应该是常识了吧。", "收藏了，面试的时候拿去装逼用", "100 个赞", "1024 个赞", "1024 个赞", "MARK", "这些都了解过部分再用，程序猿就是应该有这种不保持新鲜敢于尝试新事物敢于创新的精神"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\">&lt;script src=\"/assets/53f4cf03/js/select2-krajee.js\"&gt;&lt;/script&gt;\n&lt;script src=\"/assets/53f4cf03/js/i18n/zh-CN.js\"&gt;&lt;/script&gt;\n&lt;script src=\"/assets/c05fb3b6/js/kv-widgets.js\"&gt;&lt;/script&gt;\n&lt;script src=\"/assets/9cdc5b79/yii.js\"&gt;&lt;/script&gt;\n&lt;script src=\"/assets/9cdc5b79/yii.activeForm.js\"&gt;&lt;/script&gt;\n<p>页面尾部加载有 yii 字眼的文件，为了网站安全想去掉或者隐藏 yii.js 和 yii.activeForm.js 如何实现？</p>\n</div></div>"], "reply": "1", "tittle": "有熟悉 yii 的童鞋么", "comment": ["在 assets 里面把这两个依赖去掉就可以了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>搞了一个在北京的 Laravel 线下聚会，有兴趣请移步：</p>\n<p><a href=\"https://laravel-china.org/topics/3314\" rel=\"nofollow\">https://laravel-china.org/topics/3314</a></p>\n</div></div>"], "reply": "2", "tittle": "「Laravel Dinner 01 期」线下聚会开始报名啦， 12 月 3 号在北京四合院一起吃火锅", "comment": [":+1:", "已报名"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>现在平台要加入会员机制，会员每个月 5 元钱，最低一个月，想问下如何计算这一个月时间，是将到期的时间计算出来，到了那个时间执行还是如何操作？用户量比较大，大概几十万会员。</p>\n</div></div>"], "reply": "34", "tittle": "想咨询个 PHP 定时的问题", "comment": ["没有会员的有限时间这个字段咩", "加索引(is_member, expire_time)，每次查 is_member=1 and expire_time < 当前时间的，关闭会员资格。可以每 5 分钟检查一次，每批 limit 10000 条，处理到没有为止。", "会员到期一般不都是专门一个字段存储到期日期么？   使用某功能前线判断是否到期", "不知道你用什么数据库，但是大致思路差不多，我认为根本不要，定时去排查到期的，除非你需要去通知到期用户，所以提一下我的一些愚蠢的想法：\r", "\r", "sql:设置一个到期，每次用户登录的时候去检查这个字段就行了，如果他花钱了钱不登录，也就是根本没用你服务，你也不用管他，要考虑一个例外就是用户可能没有付费，这个字段就是-1 或者其他，要去通知的话就是： expired != -1 and today > expired,这样就可以了\r", "nosql ：更好办了，直接弄个 collections ，设置一个到期日期，到时间了 token 自动 drop 掉了，找不到 token 的都是到期了的全是到期了的", "1 设置一个到期时间 遇到功能限制的地方 先判断会员等级 再判断时间 如果时间到了 但是会员等级还是高级 update\r", "2 设置一个任务计划,每天检查一次所有会员是否到期", "付费会员单独一张表记录", "4 楼的不错\r", "1.只有当这个用户登陆 /操作时才执行查询命令，看会员是否到期\r", "2.如果是需要会员功能来达到某个功能，那么在实现这个功能之前可以检查一下会员是否到期", "如果你使用了 redis ，可以用 redis 缓存用户信息，然后支付 vip 时候，使用 redis 命令 EXPIRE 设置一个 vip_key 的过期时间为一个月，然后每次都会检查 redis 缓存里面的这个 vip_key 是否消失了， get 这个 vip_key 为 null 就证明 vip 已经到期了，后续可以做更多操作", "最古老最普通的实现方式，请求时判断。", " 支付类信息放在 redis 的话，记得在数据库里做好冗余或者做好持续化。想想 redis 宕一下的话，那酸爽 😂", "是持久化 上条指误", "这就是用 Model 的好处：\r", "\r", "添加一个字段 expire_time ，然后\r", "\r", "function isExpired(): bool {\r", "return $this->expireTime < time();\r", "}\r", "\r", "后面的操作用这个方法就好了。", " redis 和数据库都会冗余的，并且肯定做持久化，这是可用性问题", "请求时验证。\r", "定时任务跑。", "记一个用户到期时间，然后记一个是否开通了 vip 标志，然后 2 分钟去数据库执行一次 update 表 set a=非会员  where time<=当前时间！几十万数据毫秒级别完成！", "在表中增加用户的会员到期时间，在用户登录和使用会员服务时检查即可。\r", "还可以写个 cron 脚本，每天午夜扫一次数据库，去掉过期会员的会员标志。", "有这么复杂吗，用户表加个会员到期时间字段，每次登录和当前时间判断一下", "请求时验证吧。。逻辑设计好没什么太大问题的", "定时任务+redis 跑", "几十万用户应该会发通知的吧", "我猜你们肯定是要发短信或者微信模板或者是邮箱之类的提示用户该交钱了，所以可以再服务器上跑个定时查询！用户开通会员的时候插入一个到期时间的字段，判断这个字段就 ok 了", "可以考虑授权，通过验证会员接口获得授权 token 然后再去请求会员服务，这样就可以在验证会员接口进行会员到期验证了。那些花了钱不用会员服务的，其实你也不用管他。", "至于检查的话完全可以跑一个 crontab 检查，反馈到 redis", " 你们是不是从来都不考虑如果这个用户永远不登录,别人看这个账号永远都是会员的问题?", "分布式解决这个问题\r", "每次请求自动执行 update user set vip=0 where expire<= {now} limit 1", " 显示会员状态的时候也要先判断啊，不然你在界面上怎么区分会员和非会员？？？", " 你的意思是账号 A 去看账号 B 的状态,还得刷新一次账号 B 的信息?\r", "账号 B 比如发布了 10 个文章,每个文章都有显示这个人是不是会员的,还得每次都刷新?\r", "肯定不可能啊", " 就想问你怎么在页面上判断一个用户是否为会员并显示出来？你不每次在渲染视图的时候判断一下吗。还肯定不可能，麻烦你自己做一遍就知道原理了。", "不想每天都要刷新占用内容啊 毕竟每天都需要定时查询的话还是挺麻烦的", " 重点不是判断用户是不是会员,而是判断会员过期时间更新会员的信息.", " 如果不考虑性能，加一个会员到期时间字段解决一切问题，是我没说清楚还是你理解有问题？", " 不考虑性能他还问什么问题?", " 求你别说了，我没时间跟你玩文字游戏，我说的是逻辑，你连基本的常识都没有就不要主动跟人讨论问题，免得自取其辱，屏蔽不谢。", " 你神经病吧?一个用户如果是会员的话会有勋章,加亮等等的数据,通过一个到期时间就能解决你这个会员是多简单?你脑路真的这么简单?是我该屏蔽你吧大神?"]},
{"content": ["<div class=\"topic_content\">提交提示这个？  调试错误，请回到请求来源地，重新发起请求。错误代码 ILLEGAL_PARTNER_EXTERFACE\r<br><img src=\"http://ww4.sinaimg.cn/mw690/62c5393fgw1fa820hd0kdj21eg09idgb.jpg\" class=\"embedded_image\" border=\"0\"> \r<br>RSA 公钥跟私钥校验是通过的\r<br><img src=\"http://ww2.sinaimg.cn/mw690/62c5393fgw1fa820hqjfrj20ab02r3yf.jpg\" class=\"embedded_image\" border=\"0\"> \r<br>公钥跟私钥\r<br><img src=\"http://ww1.sinaimg.cn/mw690/62c5393fgw1fa820iasqvj21gy09m0vd.jpg\" class=\"embedded_image\" border=\"0\"> \r<br>就是不行，搞一下午了？大神们帮忙看下。</div>"], "reply": "6", "tittle": "支付宝手机网站支付？", "comment": ["这种事不是问支付宝的技术客服最快么，\r", "没碰到过 搜索的第一个结果\r", "\r", "\r", "Q:\r", "\r", "调试接口的时候报错，提示为：调试错误，请回到请求来源地，重新发起请求。错误代码 ILLEGAL_PARTNER_EXTERFACE ，请问是什么原因？\r", "\r", "\r", "A:\r", "\r", "含义：没有权限访问该服务。\r", "有以下的几种原因：\r", "1 、没有签约这个接口的合同；\r", "2 、签约了相应的接口合同，但没有生效；\r", "3 、签约了相应的接口合同，但由于违规违法等原因被审核部门强制关闭；\r", "出现这种情况最常见的原因是：接口用错。如，签约的是即时到账接口，但实际上调试的是其他接口，因此会报这个错误；\r", "请确保您使用的接口类型和您支付宝账号申请的接口类型保持一致！", "按照官方文档 I 的要求配对了 就行了  ,申请一个 商户号 把商户后台的 PARTNERID 配进代码里面, 然后签名对上 就行了 这个没什么难度的 第一次弄的话 多倒腾倒腾 就出来了", " 搜过了，没解决在来问的，是哦，忘记问支付宝的技术客服了 @", " 各种试就是不行？哎。", " 那你先不忙检查代码，先看看签约对得上不啊-。-\r", "\t“手机网站支付\t商户在网页中调用支付宝提供的网页支付接口调起支付宝客户端内的支付模块，通过网页跳转到支付宝中完成支付。\t需签约 ”\r", "手机网站支付 不是 web 支付的一部分，要另外签约的。。\r", "当然沙箱里貌似也有 --》但有个相关的通知 “为保证沙箱稳定， 2016 年 11 月 26 日至 11 月 28 日沙箱环境进行维护，期间可能出现不可用，敬请谅解。”", " 手机网站支付签约过了，沙箱这个我还真没看到，非常感谢。", " 是没签约，搞成无线端的了， 2333 昨天我们看的是第一个，应该看下面的那个才对，没搞过手机网站支持的不清楚，坑爹啊\r", " "]},
{"content": "", "reply": "16", "tittle": "请问 laravel+dingo 构建 restful api 怎样做压力测试才最接近生产环境，有什么工具能测接口的性能，如何才能优化接口的性能？本人刚刚捣鼓后端不久，希望大家能给点帮助。", "comment": ["我们压力测试都是自己用 gevent 模拟一个客户端，不断请求", "supervisor 有个 ab 用于压力测试", " 不是 apache-utils 有个 ab 么", "laravel 性能不太好吧，怎么优化 1000 多个并发就到极限了。", " 实际使用中 1000 到不了吧， rps", " 接口的性能瓶颈一般不在语言上面", "用 wrk 吧, 可以使用 lua 模拟 post, 添加 headers 的...\r", "\r", "直接上 php7,生产环境把 opcache 的 validate_timestamps 关掉\r", "\r", "最后,还是会发现瓶颈是在数据库这边...", "谢谢大家的帮助，我在折腾折腾。", " 一定要开 opcache ，我用 siege 测试的\r", " validate_timestamps 是干啥用的？(原谅这个 RTFM 问题...)", "阿里云有一个这样的产品。可以看看是否满足你的需求", "试试 jmeter", "HP 有个软件叫 什么 runner", "jmeter", " loadrunner 写个脚本跑一周看看效果", "压力测试有 Jmeter ， loadrunner ，这个两个用的比较多,但是需要自己部署。\r", "阿里云有个压测服务 PTS ，可以直接使用，非常方便。", "简单粗暴的方法，就是利用 curl for 循环"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>目前使用的是 rabbitmq 作为队列服务，比如有系统 A 和 B ，目前使用方式是：<br>\n系统 A 先把消息放在自己的 redis 里面，然后每分钟起脚本，读取（ lpop ） 300 条，调 B 系统的 curl 接口;<br>\n系统 B 的接口接到消息，放在自己的 MQ queue 里面，然后起脚本消费 MQ 消息处理<br><br></p>\n<p>我倾向的方案：<br>\n按照之前的工作经验，系统 A 和系统 B 共连一个 MQ 地址，定义一个 vhost.exchange.queue_name ， A 有消息就朝里面塞， B 可以定时取就可以了啊<br><br></p>\n<p>求各位老司机的方案！</p>\n</div></div>"], "reply": "16", "tittle": "问一个关于 MQ 正确合理使用方式的问题", "comment": ["感觉就是一个异步队列模型啊， A 是 Producer ， B 是 Consumer 。\r", "\r", "直接 A 发送到 Broker ，然后 B 消费就好了。", "  其实目的就是：异步通知 B 系统某个业务状态变化。。", "  A 加一个 redis ，我个人觉得会拖垮正常的 redis 服务", "楼主，本来就是这么做啊。。。", "奇葩的使用方式。。", "A 、 B 直连方案对你们来说有任何问题么？安全性 or 其他？", "没能理解楼主为什么要加一层 redis , 哈哈", " 首先要确认一下是不是内网调用，如果是内网的，完全没必要，直接在 B 起一个 Consumer 的长连接就可以了。", "  A 、 B 、 MQ 均是在外网，三个系统间均单独的外网 ip", "  因为内部刚刚使用 MQ", "redis 放中间没啥用？", "  放中间只作为 push 和 pop ，没有其他作用，有作用的话：作为 A 的队列使用了", " 外网调用 MQ 。。。这个还是比较猛烈的。。。带宽限制太多了。。。\r", "\r", "因为不了解具体业务，从“异步通知 B 系统某个业务状态变化”  和 “ A 、 B 、 MQ 均是在外网，三个系统间均单独的外网 ip ” 来看，其实就是一个简单的 http 调用就好了， A 通过 http 请求 B ， B 处理请求。至于 A 、 B 内部的处理逻辑，如果是内网的 MQ 可以用，外网的，就别用了吧。", "  AB 直连的话，考虑到了外网：\r", "1 、 MQ 连接超时，一个在国内，一个在国外\r", "2 、带宽流量", " 外网的话，你可以理解就是两个公司间的调用了。 MQ 理论上来说应该 A 的内部有一套， B 的内部有一套才是正常的套路。", "redis 本身也支持发布订阅模式呀"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>PHP manual 里， <a href=\"http://php.net/manual/en/function.filter-var.php\" rel=\"nofollow\">http://php.net/manual/en/function.filter-var.php</a> ，有好几个 note ，都不推荐使用 PHP 自带的 FILTER_VALIDATE_EMAIL 对 email 地址进行验证（ validation ）。</p>\n<p><strong>其中一个 note 是这样的</strong>：\nDo not use FILTER_VALIDATE_EMAIL in production!\nIt's not compatible with mail standarts</p>\n<p>我给此 note 的作者写邮件，他回复说：</p>\n<p>For moment I use regex \"\\S@\\S\" and validation by DNS query (MX).</p>\n<p>I have some valid examples to test:\nandrey.k.p@gmail.com\nadmin@шина.рф\n9test+issue12@test15</p>\n<p>You should analise a lot of RFC about mail and DNS subsystem before filter creation.\nAlso there are interesting idea to use validation by UTF8 diapasons (in coments <a href=\"http://php.net/manual/en/function.filter-var.php)\" rel=\"nofollow\">http://php.net/manual/en/function.filter-var.php)</a>.</p>\n<p><strong>那么，我有 3 个问题：</strong>\n<strong>1 、什么是 validation by DNS query （ MX ）？啥意思？</strong>\n<strong>2 、各位高人都是处理 email 地址的 validation 的呢？</strong>\n<strong>3、有没有现成的轮子，直接可用的？</strong>\n<strong>谢谢</strong></p>\n</div></div>", "<div class=\"topic_content\">做了一番调研\r<br>email validation 竟然还是一个巨大的难点，几乎所有方法都有缺陷。\r<br>所以竟然还有专门的公司提供付费 api 做 email validation\r<br>涨见识了</div>"], "reply": "7", "tittle": "怎样对 email 地址进行验证（ validation）？ PHP manual 上，有好几个警告，不建议使用 php 自带的 filter， FILTER_VALIDATE_EMAIL。", "comment": ["1. 通过网络请求 验证 mail 服务器是否可访问\r", "2 3 .请 google  symfony validator", "1. 理想很美好，现实很惨烈。如果不做异步验证，把你程序拖慢几秒钟都是很正常的。\r", "2. [", "\r", "    // 随手写的正则式，没测试过\r", "    // 能满足 99%的需求就够了，不考虑那 1%的人。", "其实好简单， email 验证码或者激活链接不就是干这个的？", " 不支持中文邮", " 我竟无言以对。。。。。", "看你要验证格式还是验证有效性还是验证唯一性了……", "嗯 整那么复杂干啥，正则验证格式，发送邮件验证有效性就满足多数需求了吧"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>想在网站上搞个两部认证提高安全性，就是扫个二维码然后出 code 那种。然后研究了下发现似乎现在所有的类似功能的 PHP 库全是用的 google 提供的生成服务，这个严重怀疑国内因为墙的问题会不好用啊</p>\n<p>有没有什么办法自己搭建个本地服务器然后生成 token ，然后进行二步验证？</p>\n</div></div>"], "reply": "5", "tittle": "有没有不依赖于 google 的 PHP 的 2 步认证库？", "comment": ["发个电子邮件或者短信就行了", "Google Authenticator 只不过是实现了  HOTP 或者 TOTP 协议\r", "你也可以自己实现搞个 app ，或者用让用户用国产的一些 2fa 工具\r", "按理来说 你说的生成的 php 库虽然谷歌提供的 但这协议是不需要联网的", "洋葱", "随手搜了一个 ", "\r", "这个库里只用生成二维码那一步调用了 googleapi ，自己下载个二维码生成库然后重写这个 getQRCodeGoogleUrl()函数就行了。", "哪里需要用到 google 服务了？最后生成二维码的地方替换一下分分钟的事\r", "我用 4 楼放的 github 都几年了"]},
{"content": ["<div class=\"topic_content\">如题，我按照官方文档安装了 PHP7 ，但安装 phalcon 时无法 apt-get insall php7.0-phalcon ， 提示一个依赖无法安装。尝试从源码编译安装，但官网命令都是针对 PHP5 的（路径目录等和 PHP7 不太一样），我也不知道哪一步有问题，总之是 phalcon 还是不在 PHP info 里面，用不了。有没有 V 友遇到过类似的情况？（ google 找不到可用解决方案）</div>"], "reply": "目前尚无回", "tittle": "[求助] ubuntu14.04 php7 phalcon 环境搭建", "comment": []},
{"content": ["<div class=\"topic_content\">使用 api.weibo.com/2/statuses/update.json?access_token=access_token&amp;status=test\r<br>通过 POST 请求 JSON 。 test 内容已经经过 URL encode ，但是仍然返回了如下，求帮助：\r<br>{\"error\":\"unsupport mediatype (application\\/json)\",\"error_code\":10007,\"request\":\"\\/2\\/statuses\\/update.json\"}\r<br>\r<br>文档解释 10007 ： 不支持的 MediaType (%s)\r<br>参考 - 微博 API ： <a target=\"_blank\" href=\"http://open.weibo.com/wiki/2/statuses/update\" rel=\"nofollow\">http://open.weibo.com/wiki/2/statuses/update</a></div>"], "reply": "5", "tittle": "调用新浪微博 API 发布微博，返回错误值 10007？", "comment": ["字段要求是 string 。我试过纯数字字母，都返回 10007", "你这是请求头有问题吧", "不是写着 unsupport mediatype (application/json) 了嘛", " Headers 里， OAuth2 授权 Authorization:OAuth2 access_token", "请求必须用 POST 方式提交，并且注意采用 multipart/form-data 编码方式；"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>现有一张原始图,例如:</p>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201611/16/5161/3Z2GbDbZai.png\"></p>\n<p>想要从图中指定位置抠出来一个五角星,并得到这样的一张图:</p>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201611/16/5161/RmF0rybzbJ.png\"></p>\n<p><strong>注:五角星周围是透明的</strong></p>\n</div></div>"], "reply": "13", "tittle": "[悬赏 50] 如何用 PHP 抠图", "comment": ["六角形是 60 吗", "简单办法， 用遮罩图", "抠个正方形给 40 行不", " 遮罩并不能使背景透明", " 正方形有点儿简单,跟这个处理思路不太一样", "  用遮罩图来扣像素呀， 不在遮罩内的就让他透明。", "楼主这五角星竟然还带了点弧度… 普通的可以不？", "别打 php 图形库的主意啦 可以考虑使用 canvas api", "\r", "\r", "遮罩图是灰度图。\r", "\r", "如果真有悬赏，麻烦捐给 krita 。", " 我试试", " 多谢,我试试", "css clip-path", "也可以写个算法，然后 copy 像素..."]},
{"content": "", "reply": "24", "tittle": "php 入库前需要用 htmlspecialchars 把特殊字符\"比如<等\"转换吗？还是说原样入库，显示的时候用 htmlspecialchars？", "comment": ["原样入库，输出转义", "原样入库，保存攻击样本，输出做处理", "入库不需要吧？不过记得转义引号。显示的时候用 htmlspecialchars 以防止有人插入不在预期内的标签。", "strip_tags 去掉 script ， nl2br 转一下换行，再 pdo 绑定插入，爱咋注入咋注入", "原样入库，输出转义。\r", "否则，用户要编辑他的内容时，你没办法给他原来的内容。", "原样入库 输出转义\r", "搞不懂 ueditor 的傻逼逻辑 所有空格转成 nbsp 最后英文都不会换行", " 找人问了问， getContent 有一个 ignoreBlank 参数，设为 true 就不会转了", " \r", "求详细\r", "文档我都翻烂了\r", "blank 相关的东西我也直接下载了整篇文档搜过了 只有 htmlPaser 里面有个跟 blank 相关的 是忽略内容里的 blank", " 我从 demo 上看似乎 getContent()本身就能获取你想要的内容，是否有些什么配置不大对？\r", "\r", " ", " \r", "你嵌入一个直接提交表单试试 都没用 getContent 直接提交表单的", "url 转义， html 转义， xml 转义， sql 转义，正则转义，需要转义的地方很多，如果入库前就过滤，跟为了不得性病把自己阉了有什么区别？", "原样入库，并使用默认打开转义的模版引擎来渲染前端。", " 你这个比喻很准确。。。", "原样入库！！！！\r", "输出时，根据业务需求转义\r", "省逻辑，省力", "我是先转义在入库的。要是输出时没做过滤，不就产生了安全问题么。", " 年轻人，听前辈们一句吧~~", "你不原样入库就产生了很多逗逼应用的问题：在 app 看的时候多了很多&nbsp;之类的奇怪的东西 233\r", "而且你的数据也可能会因为前端改版什么的需要以 JSON 之类的格式出现，到时候你准备怎么办 233", " 反正我做了这么多年开发，没遇到过 先转义 有什么让人困惑的问题。", "在看到这帖子之前都是入库前过滤，现在改成了出库过滤了。。。\r", "现在想了想，重点看业务，一般情况下输出过滤吧，比较好控制各种输出需求。不然把原始信息都丢了，到时候处理误报之类都没的搞了", " 首先你怎么转译？转成 HTML 要你输出 JSON 怎么办？\r", "你做了这么多年开发，不会没碰过 HTML 以外的格式吧。", " 输出 json 前转换过来不就可以了吗？我做 web 除了 html 之外，其次就是 xml 。不知道有什么好疑惑的。", "thinkphp 好像是转的", " 服", "我目前就是入库时转实体，\r", "\r", "如：\r", "1 、一个 title 值，对应 varchar 的 mysql 字段，这时候用 htmlentities 转为实体，然后入库\r", "2 、一个 ue 数据，对应 text 的 mysql 字段，这时候用正则 preg_replace_callback 找到<script>标签，并将标签转为实体，然后入库\r", "3 、以上只考虑都是 utf8 格式数据的情况，考虑入库时转实体也是为了输出不用每次都处理\r", "\r", "以上，不知道对不对。也没读懂上面说的输出时在转译，是为了什么。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><code>Guzzle</code>觉着对于小项目来说有点“臃肿”，但是不得不承认是他的异步非常厉害</p>\n<p>目前找了一个看 <a href=\"https://github.com/rmccue/Requests\" rel=\"nofollow\">https://github.com/rmccue/Requests</a> 貌似不错</p>\n<p>问下大家用的有哪些  我想参考下。</p>\n</div></div>"], "reply": "20", "tittle": "PHP HttpRequest 类库 中小项目你们用哪个库", "comment": ["httpful", "curl 足够好了，虽然有时啰嗦了点", "我自己封装 curl 若然跟 low 但还是觉得挺开心。", "不用\r", "基本 curl", "我也自己封装 cURL ，简单好用，轮子顺手就好。", "curl 路过。。。\r", "最近哪里潇洒啊？北京？", "比较常用的就是 Guzzle ，然后是 Unirest 。\r", "最简单的话 file_get_contents", "curl 功能强大，定制方便", "rmccue/requests 回调不能传自定义参数,很鸡肋\r", "mashape/unirest-php 连回调都没有\r", "果断上 guzzlehttp/guzzle,光是 star 数都秒其它库几条街,还遵循 psr7", "httpful", "小项目 php-curl-class 和 httpful 用得多点", "臃肿是啥意思呀，文档不是挺简单的么，一个基本请求三五行就搞定，而且楼上说的好， guzzle 几乎就是 psr 7 的制定者，没记错的话，活跃维护者是 aws 的，无论是质量还是要活跃度都是很赞的，这样的一个库摆在眼前偷着乐都不够，还换什么。😂", "当然了，你要是陷入灯塔国程序员常见的“文件多就是重量级，少就是轻量级，对象越少心理感觉越爽”的逻辑怪圈，那就当我没说好了。😇", " \r", " 谢谢", " 一直在北京呀", " Unirest  试用了下 https 直接报错  还么有继续深入", " 这个 也关注了  用了下 还不错", "guzzle 为啥臃肿。。。。。你又不会把 guzzle 的代码提到到你自己的项目中。\r", "\r", "听我劝，用 guzzle 吧。", "整个 guzzle 也就几百 K ，一个图片随随便便都赶得上它了，优化一下图片，能腾出好几个 guzzle 的位置"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>想自己做个小项目练练手,发现根本就没有思路,一是没有需求,二是我根本就不会设计页面,发现我的设计能力特别差,哎,谁给指指路,接下来该学啥</p>\n</div></div>"], "reply": "15", "tittle": "自学 php 半年了,会前端 js 和 jquery,有疑问", "comment": ["同样作为一个自学 WEB 前后端的初学者，有几个小建议：\r", "\r", "如果说没有项目思路，建议你做一个个人博客， 博客作为一种 CMS ，一般需要各种前后端的知识，先搭上基本框架，然后不断往上面加功能，相信这个过程你会学到很多，比单纯学语言进步更快。\r", "\r", "至于缺乏设计能力方面，我相信大部分人都不是设计师出身，想靠自己设计出好看好用的前端并不容易。建议初期可以借鉴一些前端框架，如 Bootstrap ，这些框架一般都有自己的组件，按着框架来，一个个组件往上搭，做出来的页面应该不会太丑。\r", "\r", "你可以看看我的博客， ", " ， 实际上就用了 Bootstrap 的几个组件（导航栏、按钮等），再加上 Jinja2 作为模板引擎，基本上可以看得过去。", " blog 界面真的很好看", " 哈哈，谢谢支持", " 我提几个建议，你的博客配色不好看，正文也不容易阅读，字体颜色也选的不太好，这种字体感觉也不太合适阅读，另外行高也相对高了点\r", "导航栏的下拉组件不连贯，让人觉得非常奇怪，而且和正文混在了一起", "建议你这样，你去看看国外一些设计的好的网站看样式，然后自己抄，各种风格都抄一些你就知道你该怎么做了。", " 吹毛求疵了吧，各有审美而已，我就觉得挺好看啊", "必须提醒一句，初学者开始就尝试做博客系统很容易放弃，毕竟需要学习前后端整套知识体系，没那么简单。\r", "如果确实喜欢写博客，简单的用 github page 搭一个，平时写写心得就好了，坚持写下去，面试时扔给 HR 几十篇文章，那也是加分的。\r", "\r", "真正想要靠做项目学习，还是建议从很简单的小需求做起，那种灵感一现的需求。\r", "比如我无聊时写的这个：可以为你的网页添加快捷键的一个 js 小组件 [链接]( ", ")\r", "\r", "你还可以尝试写个弹窗，写个浮动通知，写个拖拽等等。\r", "\r", "顺便留个博客地址吧：[链接]( ", ")", "没项目？你先做一个自己的博客出来？再改成支持多用户的博客？再改成有主题功能的博客？够你折腾一两年了", "随便找个网站仿制呗, 比如这个网站, 就是你面前的 V 站", "学习路径错了吧。\r", "PHP 本身没有什么好学的，把文档粗略看一遍，就可以上手写点东西了。然后半年时间足够做个精致的小项目。\r", "平时再了解一下网上的接口，比如短信和支付什么的，虽说只是查下文档就能用，但你没看过的话，万一聊起来，就很尴尬了。\r", "高并发缓存 nosql 都可以先放放，知道有就行了，不一定非要用过，框架可以了解一下，暂时不用去深入。\r", "关于项目说两句吧，很多年来都是推荐新人写个博客系统，但是博客的重点其实是内容，你有博客却没内容，就很尴尬了。可以考虑做个功能性 Demo 、公众号之类的，都不需要什么设计。仿站就不要做了，别把自己整得跟培训机构刚出来的一样。\r", "如果小项目要拿来面试，你需要在介绍这个项目的时候，尽量描述一些实现细节。引导面试人员往技术实现上聊，对双方都有利。\r", "做到以上这些，就算有拖延症也半年也足够了。", "一般设计和前端是不同人做的，你做不来设计没必要勉强，去分工明确的岗位就好了\r", "\r", "如果你只是单纯想学设计那你这标题就不合适了", "如果说只是为了练手，做个博客是个很好的选择，毕竟前后端都齐了，虽然初期会有些难受，但是克服下来对整个网站架构会有比较清楚的了解。不用害怕没有内容可写，毕竟你总是可以填充一些 Lorem ipsum dolor sit amet......的嘛", "找个容易上手的框架!  \r", "\r", "然后自己去网上找个 自己喜欢的 前后端的源码!   \r", "\r", "然后自己套! 自己改!\r", "\r", "不会设计还不会改么", "14 年 自学了一个多月就出去找工作了\r", "\r", "少说多做，找个工作比你自己学更加快。\r", "\r", "----\r", "因为工作有压力啊，不完成老板吊打你", "写博客、 cms 、框架"]},
{"content": ["<div class=\"topic_content\">有过一点编程基础。学习过 Html,JS 等。\r<br>ThinkPHP5 快速入门 从这个入门合适吗？</div>"], "reply": "47", "tittle": "求助，学习 php 从 Thinkphp 学起可以吗？", "comment": ["从 ", " 入门", "laravel", "我觉得初学应该裸奔，不用任何框架", "学习 php 从改 bug 开始，我在某电商网站实习的时候就是这样学会 PHP 的", " 这个是 php 的官网吧，拿来入门有点太笼统了吧 == \r", "\r", " 感谢，去 gayhub 上看了。这种一步一步来的正好比较适合我。有动力能学下去。", "推荐 laravel", "如果自己做项目，可以。\r", "如果去找工作，不可以，因为要考 php 基础知识。", " 可是好多基础东西都是差不多的，从框架学起来会快点吧。\r", " 哈哈哈 已经决定从 laravel 开始学些了，感谢建议~", " 自己做项目的~", "先这歌爬虫，然后把爬的数据展示，再考虑存数据库，中途可以学习 composer 和 namespace.", "终于到我贴广告的时候了。\r", "\r", "喜欢视频学习方式的话，可以看看 ", "可以，但是我建议考虑一下 CI 框架", " 就知道你会出现，哈哈", "入门不要急着上框架，先学好基础吧。", "同意楼上。打好基础 再学框架", "第一次 v2 发帖，大家都很热情😁。感谢各位的帮助。就不一一回复了。", "从 CI 入门，真的。", "基础很重要,但是学习基础的时候记得要找新的教程,不要找老教程,多看 php 新特性", "从 tp 入门其实也是 OK 的。。。。", "希望你能早日登上顶峰 ——  Symfony", "别想这学框架 先把基础看完 要不然去找工作  用的不是那个框架咋办?", "建议从 ci 开始， tp 会把你写代码的习惯搞坏， laravel 装逼的就不说了。", "自己写一些增删改查 之类的小东西入门应该更合适", "一开始不要用框架。学框架的时候建议从 CI 入门， laravel 到后面再看吧。", "框架的话建议是学习他是如何实现的，而不是去学习如何使用，初学的话。例如自动加载，数据库连接，增删改查 orm 这些在框架中的实现，希望有帮到你", " +1", "不推荐", "从 CI 开始\r", "千万别碰 thinkphp 大坑\r", "一旦遇到问题 然后你一百度 就被带入深坑", "裸奔", "可以从 CodeIgniter 开始学，熟练到一定程度然后阅读他的代码，然后工作中积累经验，然后自己写框架。", " 可以说说 laravel 为什么装逼吗？", " 不好意思，我的意思是那些给楼主一个 php 新手推荐 laravel 的人在装逼，看了下 3 楼那个链接，不就是那个写了一个什么最适合中国人学习的 laravel 教程的那人吗，怎么讲，那个教程我也看了，真心写的一泡污，完全是培训班思维， laravel 本身在 php 的框架里学习难度算中等偏上的，根本不建议新手学习。", "培训班思维-->前些天在 swiftv 上看到个讲 swift3 的 被吹捧的很凶的一人， IB 拖也就算了 居然还弄不出来的情况下还在录...感受下 ", "不学 PHP 基础 就去学框架是给自己找罪，就算看起来懂了，其实最终要还的~\r", "如果有 PHP 基础了，学习 ThinkPHP5 当下是最好的时机，版本相对稳定，文档已经完善的差不多~\r", "无论功能还是性能都不比 Laravel 差 关键考虑什么最适合自己和投入的学习成本", "ThinkPad 入门吧", "入门，裸奔，别用框架", "就算从 Slim Framework 学起都不要用 ThinkPHP 。。。 CI 也不推荐", "推荐 CI", "楼主是想学 php 的框架，还是想学习 php 这门语言。\r", "基础当然是看 php 原生的文档，其次做项目在选择框架。", "slim Laravel CI 都可以。最不可以就是 ThinkPHP", "强烈反对楼上所有推荐楼主初学者去学 Laravel 的。\r", "\r", "我敢保证你连第一步安装 Laravel 都会感到恐惧的，还有那黑乎乎的 Artisan 你绝对会对 php 丧失耐心。\r", "\r", "虽然很多人喷 ThinkPHP ，但是我真心觉得它是最适合新手学习的框架，问我原因是什么，我用他的宣传语回答：大道至简。\r", "\r", "还有楼上有个用户发 [2016 版 Laravel 系列入门教程（一） [最适合中国人的 Laravel 教程] ] ，我觉得这个很标题党，如果把 [最适合中国人的 Laravel 教程] 改成 [最适合已经玩转过其他框架的中国 PHP 老手的 Laravel 教程] 才比较合适。\r", "\r", "上来就是 composer ，上来就是构建 auth 服务，构建 auth 服务失败了原因是要做数据库迁移，请问多少初学者就能明白数据库迁移是什么？为什么要用迁移？培训机构还是网上的教程大多都是教你手动建库，高端一点的是 create table user 输入 sql 建库。\r", "\r", "Laravel 真心不适合初学者，我曾经也是一名初学者，我入门的第一款框架其实是某连培训机构的 brophp ，为什么我学的是这个呢？因为我看的就是细说 php 这本书入门的 php 。总之 Laravel 这种概念太多，工程化思想深的框架不适合初学者去学习。", "应该先用 php 能写出个能用的东西之后再考虑学习使用框架", "谢谢各位楼上详细的解答了 = =\r", "学习什么都不能一蹴而就的 。\r", "我还是从最基础的学起，基础打扎实后再来学习各种框架完善~", " zhuanlan.zhihu.com/codes 有空你可以关注关注我的专栏，有可能后面我会写一些学框架的文章。。。", "我晕，直接上框架的你们几个意思。还是老老实实学基础，自己裸奔留言板、博客开始", "先学好基础在来上框架吧~！老老实实从 ", " 入门"]},
{"content": ["<div class=\"topic_content\">前几天看了一篇帖子 《 php 的爬虫经验分享》 <a target=\"_blank\" href=\"https://www.v2ex.com/t/324309\" rel=\"nofollow\">https://www.v2ex.com/t/324309</a>\r<br>里面说到用 Guzzle 来抓取内容很不错，\r<br>但是 Guzzle 需要 Composer 才能安装。\r<br>请问不用 Composer 可以在 php 项目里 include Guzzle 吗？</div>"], "reply": "5", "tittle": "请问不用 Composer 如何在 PHP 里使用 Guzzle？", "comment": ["实现自动加载，注册命名空间和路径，然后就可以使用了", "问一句哈，为什么不用 Composer ？", "- -!  还是安装一下 Composer 吧。\r", "\r", "不用的话吧文件里面的所有 ../src/文件包含进去就行了，如果不嫌麻烦", "可以直接下 phar ，然后 include", " 正解"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>把字符串使用上传文件的方式上传</p>\n</div></div>"], "reply": "1", "tittle": "PHP 中如何使用 cURL 将一个字符串当作 TXT 文件上传到远程服务器?", "comment": []},
{"content": ["<div class=\"topic_content\">刚学 Laravel 对 ORM 操作有点不熟悉,\r<br>想请教一下,\r<br>我有两个表,分别为 posts,users \r<br>并在 posts model 做了关联.\r<br>\r<br>public function author(){\r<br>    return $this-&gt;belongsTo('App\\User','user_id','id');\r<br>}\r<br>想要写一个搜索功能,透过搜索作者,找到所有发文, \r<br>ORM 方式该怎做呢? 下面方式似乎找不到\r<br>$posts = Post::query();\r<br>$posts-&gt;orWhere('name', '=', \"{$keyword}\");\r<br>\r<br>还是只能用查询构造器方式来写呢?  \r<br>$posts = Post::leftjoin('users', 'posts.user_id', '=', 'users.id');\r<br>这样虽然是能运行,也能加入 where 条件做搜索.\r<br>但感觉似乎是用 Query Builder 完成的,并非使用关联\r<br>这样关联似乎是否就没意义了.</div>"], "reply": "6", "tittle": "Laravel ORM 如何查询关联表", "comment": ["user 的 model 加上 hasMany 关系", "加上楼上的，然后获取 $user ，然后用户下的所有文章就是 $posts = $user->posts;", "我觉得楼主想问的是 hasManyThrough: ", "那如果要可以搜索 users 的 name 或 posts 的 title  呢 ? \r", "用 leftjoin 可以直接在下面加两 Where 来解决.", "我在练习写一个文章列表,\r", "搜索列表可以用 作者名称 或 标题.\r", "目前只会用 Query Builder 来写.\r", "\r", "relationships 方式还是不清楚.", " \r", "$user = User::with(['posts' => function($query) {\r", "    $query->where('title', 'like', '%标题%');\r", "}])->where('name', '=', '姓名')->first();"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://open.weibo.com/wiki/2/statuses/upload_pic\" rel=\"nofollow\">http://open.weibo.com/wiki/2/statuses/upload_pic</a>\r<br>\r<br>前面都是一样的，主要是上传后获得 946308c5jw1dv288whtylj.jpg 这个文件名</div>"], "reply": "4", "tittle": "现在很多图片都是外链微博的图片， PHP 能不能写个程序上传图片到 WEIBO 并返回相关地址？", "comment": ["weibo 图床 不要太多", "当然可以了了  另外在 csdn 发现前几天发的一个连文件名都一样的帖子", "可以可以"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在上篇中，我主要讲了用 PHP 写爬虫时的一些经验，在下篇中我会对 Selenium 进行展开，把我总结的 Selenium 技巧和一些坑的处理方法介绍给大家。</p>\n<p>上篇： <a href=\"https://www.v2ex.com/t/324309\" rel=\"nofollow\">https://www.v2ex.com/t/324309</a></p>\n<p>我博客原文：<a href=\"http://qsalg.com/?p=488\" rel=\"nofollow\">《最好的语言 PHP + 最好的前端测试框架 Selenium = 最好的爬虫（下）》</a></p>\n<h1>为什么是 Selenium</h1>\n<p>在简单的爬虫中直接用 httpclient 就可以爬了，但是反爬虫比较厉害的情况下，有很多反爬虫的机制，比如：各种 302 跳转、 js 检测、种 cookie 、 iframe 、 captcha 等等。去逻辑分析这些机制成本太高了，就算分析出来了用 httpclient 模拟也会写一大堆，代码也很难重用，于是不得已只能增加成本上浏览器了。浏览器也得分有界面浏览器和无界面浏览器，无界面浏览器不用渲染自然 CPU 和内存消耗低适合爬虫，也有人在 linux 下用 Xvfb 来把有界面浏览器运行在虚拟屏幕上来降低的消耗。</p>\n<p>Selenium 作为事实上的前端测试标准，其完整的 API 是为大量的前端测试需求而成熟，这是前端给我们爬虫工程师的馈赠。 Selenium 和 phantomjs 、 HtmlUnit 、 <a href=\"http://ghost.py\" rel=\"nofollow\">ghost.py</a> 之类的 headless 浏览器（这些 headless 浏览器一般都提供了原生的 API ）不是一类东西，你可以把它理解成可以驱动包括 phantomjs 、 HtmlUnit 、 Chrome 、 IE 等主流浏览器的统一接口。至于原生的 headless 的 API 方案，比如你直接用原生的 phantomjs 完成稍微复杂一点的操作会很困难，因为你看不见也很难 debug 。实际上 phantomjs 、 <a href=\"http://ghost.py\" rel=\"nofollow\">ghost.py</a> 、 HtmlUnit 之类的比较小众的原生 API 的 headless 方案在大多数场景下，是无法和 Selenium 相提并论的。由于 Selenium 统一了和浏览器交互的标准，客户端基本上包含了主流语言。也就是说你可以在你喜欢的编程语言下用 Selenium 在 Chrome 上开发好了爬虫，然后在生产环境直接把浏览器换成 phantomjs 就 ok 了， API 提供统一的 dom 、 js 注入、 cookie 管理、事件等待、浏览器控制和输入等操作，完整且成熟。而且由于我用的是最好的语言，实际上用 PHP 的话选择似乎就只有 Selenium 没有别的选项了，所以 Selenium 还有个优势就是 PHPer 除了它没得选。</p>\n<h1>PHP 下 Selenium 开发环境</h1>\n<p>虽然说 Selenium 本身用啥语言都行，考虑到我们的主题是用 PHP 来搞爬虫，所以这里把我的 PHP 下的 Selenium 开发环境的一些基本点介绍一下，方便刚入门的同学。</p>\n<p>我以开发环境 win7+XAMPP+eclipse(with PDT)举例，大家可以用自己喜欢的 PHP 开发套件，我只说一下其中一些注意点。新的项目我建议都用 PHP7.0 ，基本上所有的第三方库和扩展都支持 PHP7.0 了。另外 windows 下安装扩展的时候，去 pecl 下载 dll 的时候注意区分线程安全和非线程安全版本，而且扩展之间依赖关系，比如你要安装 php_event.dll 扩展，你会发现它依赖 php_sockets.dll 扩展，而且你在 php.ini 中必须把 php_event.dll 放在 php_sockets.dll 的后面。</p>\n<p>PHP 下的 Selenium 的客户端<a href=\"https://github.com/facebook/php-webdriver\" rel=\"nofollow\">php-webdriver</a>由 Facebook 维护，在 composer 添加依赖安装即可，需要注意的是 PHP 下需要一个<a href=\"https://github.com/SeleniumHQ/selenium\" rel=\"nofollow\">Selenium 官方</a>的 java 的命令行的应用（负责管理浏览器和分发来自 Selenium 客户端的命令，也就是所谓的 Selenium RC ）。 Selenium 在今年 8 月推出了 Selenium3.x 大版本，我依然在使用 2.x 版本也暂时无升级打算，所以如果你需要一些 3.x 支持的新特性的话可以试试 3.x 版本。如果使用 2.x 版本的话，安装好 java 运行环境，然后下载官方 build 好的最新 selenium-server-standalone-2.53.1.jar ，启动参数请读官方文档（目前我试过 chrome 、 firefox 和 phantomjs 都是没问题的），需要注意的是官方的 2.x 版本的代码（官方 repo 称之为 leg-rc 分支）有个比较重要的 bug 没有修导致 selenium-server-standalone-2.53.1.jar 存在 bug ，后面我会讲这个 bug 。</p>\n<p>这一切都搞定后，就可以按照 php-webdriver 官方 github 的 example.php 例子跑个 hello world 了，然而 php-webdriver 并没有那种一步一步教初学者入门的文档（它的 API 也只是类自动生成的），很多特性需要使用者看源码或者去读 Selenium 官方文档。我个人觉得 php-webdriver 虽然文档缺乏，但写得很漂亮，大量使用类来克服脚本语言弱类型的缺点，写起来像用 java 那样鲁棒又不失脚本语言的速度， Facebook 不愧是 PHP 的大厂。</p>\n<h1>开发 Selenium 的模式</h1>\n<p>我不会给大家长篇累牍的介绍 Selenium 的 API 或者贴上几块爬 xxx 页面的 example 代码，因为这些东西官方文档（ Selenium 官网被墙了）/源码里面就有贴出来真的没啥意思。所以这里主要讲 Selenium 的运用模式，大家熟悉了 Selenium 的 API 了觉得如果爬虫干不下去了，可以试试直接转 web 前端测试（笑）。</p>\n<p>一旦采用了 Selenium 就意味着必须开个浏览器，而速度就成了一个很大的问题，这也是很多人比较关心的。一个解决思路就是并发，我可以开很多爬虫进程来驱动很多浏览器，然而这种模式有个缺点是对 CPU 、内存和带宽的消耗特别大，毕竟用 Selenium 就意味着开始拼成本了。为了降低对 CPU 和内存的消耗， phantomjs 等似乎是一个很不错的选择，我在 windows 下的经验是每个 phantomjs 进程内存消耗 90M 左右， i7 的 CPU 单机并发可以跑到 100 个 phantomjs 进程，所以说内存和 CPU 都是可以接受的。另外请务必打开 phantomjs 的静态资源缓存（缓存图片、 js 和 css 等静态资源，参数看 phantomjs 官网文档），或者干脆禁止加载图片，做完这些以后每次 http 请求基本只会下载 html 和一些 ajax 动态请求而已，加快速度的同时非常节省带宽。</p>\n<p>当然了 phantomjs 并发有一个神坑，如果你给 phantomjs 设置了--disk-cache=true 并且有并发，由于所有的 phantomjs 进程实例会使用同一个系统默认的缓存目录，所以时间久了以后会导致缓存文件会被破坏（并发越多重现越容易）。此时 phantomjs 的表现很诡异：访问别的 url 可以正常访问，但是访问一直在爬的站点 url 就会在 GET 的时候卡住（我猜测静态缓存文件是根据 url 的 hash 来存储的），此时 CPU 占用 100%，你知道当初发现这个状况后很难怀疑是 phantomjs 自己的问题，觉得肯定是目标网站用了黑科技。用 fiddler 抓包发现 tcp 没有建立连接，后来用 wireshark 抓包发现 phantomjs 连 tcp 的连接请求都没发，最后才发现是 phantomjs 的缓存问题，也就是说你一旦指定了--disk-cache=true 并且有并发，请一定给不同的 phantomjs 实例指定--disk-cache-path 为不同的缓存目录。</p>\n<p>另一个加速的方法自然就是在拿数据的时候，把 cookie 从 phantomjs 中取出来，然后用 httpclient 带上 cookie 去嗖嗖的取就 ok 了，不过很多时候请求参数的构造很复杂导致这种办法比较困难。然而 Selenium 强大的 API 提供了一个在浏览器中同步 /异步注入 js 代码的功能，这个功能如果发挥想象力的话在很多时候可以克服请求参数构造复杂的问题并且速度还很快。</p>\n<h1>Selenium 的一个神坑</h1>\n<p>大家直接看这个 PR ： <a href=\"https://github.com/SeleniumHQ/selenium/pull/2031\" rel=\"nofollow\">https://github.com/SeleniumHQ/selenium/pull/2031</a> ,关于这个 bug 我还需要给大家讲一个故事。由于我之前花了很长时间在搞一个私人的兴趣项目，到今年 4 月份的时候发现还有接近 2W 的学杂费欠着学校，我们可爱的辅导员经常很和蔼的关心我聊些答辩啥啥啥之类的，我没办法就找到我厂打算打点杂在毕业前挣点学杂费。打了一个星期杂以后，有一个比较难的爬虫没人搞我就接手了，当时也没怎么正式搞过爬虫，于是凭着一点技术直觉选定了 Selenium+phantomjs 的技术栈，花了 20 多天把并发爬虫调度+爬虫业务这些东西打通了（其实后来队友直接用 httpclient 模拟也能搞定的样子）。结果发现 phantomjs 进程存在无法回收的问题，并发多了以后跑着跑着内存就炸了，这个问题没法解决一切无从谈起。我还尝试了 C++写了个 daemon 检测无法回收的 phantomjs 进程来着，然而 Selenium 不对客户端暴露浏览器的进程号，导致做起来效果不太好。当时算是实习，干了 1 个月啥成果都没有我也比较郁闷。 4 月干完后就是五一，当时觉得干不下去了，然后没事逛 github 看到了 4 月 29 号开的那个 PR ，这尼玛不就是我遇到的 bug 么，而且这个 bug 在 google code 那边几年了前就被提出了，这么巧刚好在我卡住的时候被解决了？于是觉得要不把这个 bug 解决试试，于是用 Selenium 的 repo 自己 build 了一份已经 fix 好了的驱动，然后问题就解决了，之后什么都比较顺利了。磨合久了后比我小三岁的 Leader 可以在很短时间做出正确的判断给了我很深的印象，所以之后毁了杭州蘑菇街的三方留在冰鉴科技继续搞爬虫也是后话了。</p>\n<p>然后这个 bug fix 官方很不负责的只是 merge 进了 master （对应后来的 3.x ），这个 bug fix 没有 cherry-pick 到 2.x 版本，于是官方发布的 2.x 版本的驱动依然有这个 bug 。这个 repo 很大下载下来要花很久，用 2.x 版本的同学觉得 build 麻烦的话可以用我 build 好的 2.x 版本的： <a href=\"http://pan.baidu.com/s/1kUQsBAZ\" rel=\"nofollow\">http://pan.baidu.com/s/1kUQsBAZ</a> ，你可以把它当做 selenium-server-standalone-2.53.1.jar 修复 bug 之后的版本。然后就是无限感叹，这个 bug 在 selenium rc 中才存在，如果你用来做爬虫时挂上代理时由于基本上代理不靠谱肯定会经常 timeout 然后触发这个 bug ，因为 Selenium 主要为前端测试存在所以这种 bug 没人关注也不奇怪，在 php 下用 selenium 做爬虫的并发场景下，这个 bug 没有解决前是不是就没人打通过呢。</p>\n<h1>一些可注意的地方</h1>\n<p>如果大家在 php 下用 Selenium 驱动 phantomjs 没有并发的话，其实可以完全抛弃 selenium-server-standalone-2.53.1.jar 这个服务端，因为 phantomjs 自带的 ghostdriver 自己就是个 Selenium 服务器端，调用方法见： <a href=\"https://github.com/MergEye/phpSelenium\" rel=\"nofollow\">https://github.com/MergEye/phpSelenium</a> 。其实如果可以这么玩的话，那我 php 的并发爬虫进程中开一个 phantomjs 的子进程绑定一个该进程独有的端口，然后进程内部再用 Selenium 客户端去连接 phantomjs 子进程的端口，这样不仅可以绕开烦人的 selenium-server-standalone.jar ，还可以保证 php 进程退出后 phantomjs 子进程一定会退出。我这么测试了一下发现是可行的，但是有个问题就是 i7 下 phantomjs 的并发从 100 个降到了 15 个，所以这个方案适合无并发且不想单开一个 java 命令行应用的同学，因为它并发性能太差了。</p>\n<p>由于 phantomjs 的依赖被静态编译进了二进制中（这一点做的非常好），在 win/linux 下使用时就是一个绿色版的二进制，非常方便。另外 phantomjs 的某些 Selenium API 存在一些 bug ，以及存在崩溃问题（实际上在 CPU 比较高的时候，别的浏览器也存在崩溃），这些问题我只能在业务上容错考虑进去，毕竟没有银弹。需要注意的一个 Selenium 的 session 对应一个浏览器实例，这些实例不是线程安全的，所以任何时候都只能有一个 Selenium 客户端在控制一个浏览器。</p>\n<p>生产环境我实践过 Windows 和 Linux （ docker 下）， Windows 下没啥好说的， docker 下由于爬虫需要经常更新所以我建议通过 git 来做（更新一点源码就重新 build docker 镜像然后分发是不值得的）。我们在 docker 的系统中安装好 git ，然后每次更新代码 exec/attach 后进入源码目录 git 手动更新代码就好了（ build 镜像的时候把.git 目录 copy 进去，因为.git 目录下的东西是跨平台的，不过请务必注意<a href=\"http://stackoverflow.com/questions/39700531/using-docker-for-win10-to-build-image-and-found-the-copy-command-changed-the-ne\" rel=\"nofollow\">autocrlf 问题</a>），当然你也可以开 cron 定期更新。由于我的爬虫代码需要对源码目录有较多的写操作，而 docker 镜像的文件系统写消耗比较大，所以我采取了比较 dirty 的办法就是把源码挂载到主机目录上了（没用专门的数据卷纯粹觉得数据卷比较坑）。对了，用 compose 在生产环境 build 镜像是不对的。</p>\n<p>我已经把 php 下 selenium 驱动 phantomjs 的并发方案都分享给大家了，更深入的东西实在是不好再说了，毕竟厂里养着我搞出来技巧也不能都分享了。如果有友商 /同好有 app 反编译爬虫相关的经验的话，非常愿意私下里多交流互补一下（我博客下联系），我们目前这块打算积累起来。</p>\n<h1>提高生产效率的几点</h1>\n<p>还有几个我认为对提高效率比较重要的点：</p>\n<p>1 、把 xdebug 环境配置好。我把配置好 xdebug 环境放到了第一位是觉得这个可以大幅度提高开发效率，我们知道在 php-fpm 中的 php 进程是不能做长期爬虫的（就算使用 ignore_user_abort(true);set_time_limit(0);之类的也是没法保证稳定的），所以我们要用 php-cli 来开发爬虫。然而就我接触的大部分同学都知道在 web 开发中使用 xdebug 调试功能来开发，但是不知道在 php-cli 中也是可以使用 xdebug 的，具体可以参考： <a href=\"http://stackoverflow.com/questions/1947395/\" rel=\"nofollow\">http://stackoverflow.com/questions/1947395/</a> 。因为 Selenium 操作是一步接一步的，很多时候我们只有通过单步调试就可以非常愉快的找出 bug ，以及继续往下写逻辑。</p>\n<p>2 、开发时设置 fiddler 抓包。和 python 不同， PHP 的默认 http 不走系统默认的代理（至少 windows 下是这样的），所以如果你在开发爬虫的时候就算开了 fiddler 也是没法抓到包的，所以你需要在你使用的 httpclient 中显式设置代理为本地 fiddler 的代理端口。这么做的好处就是开发的时候每一个 http 请求都在掌控之中，如果可以的话可以把浏览器也设置为 fiddler 代理抓包，可以大幅提高开发效率。</p>\n<p>3 、确保 IDE 的 typehint 可以用，使用第三方库的时候没 typehint 完全没法干活。另外许多 php 的 web 框架都带有为 php-cli 写的 console 应用脚手架，由于 web 框架本身把配置、路由和很多组件都包含进去了，如果在这些 web 框架的 console 应用脚手架上开发应该会省力很多。</p>\n<h1>最后谈谈我对爬虫工程师的理解</h1>\n<p>爬虫是任何内容提供商都需要面临的问题，据说在 Web 流量中有 60%是由爬虫贡献的，当然了如果是搜索引擎爬虫的流量那肯定是收到欢迎的。然而非搜索引擎的爬虫带来的流量让网站的内容流失，而且消耗服务器带宽和 CPU 甚至影响正常访问，简直百害无一利，所以反爬虫基本上大家都在做。作为一个爬虫工程师（我回去翻了一下我当初 offer 的 title 的确是“高级爬虫开发工程师”，虽然有时候我也打打杂干点别的），我相信入这一行的同好们很快就可以体会到，我们和网站搞反爬虫的后端们是谁也离不开谁得关系。后端不反爬虫的话，那扒东西随便找个刚毕业的菜鸟三下五除二就搞完了，我要感谢辛苦反爬虫的后端们。没有我们的话，后端的 KPI 和竞争力不是也会减少么，其实我老本行就是 PHP 后端来着，自己和自己相互理解了（笑）</p>\n<p>然而爬虫工程师比较悲催的是，这是一个市场需求比较小的业界，技术很难积淀（比如两个要价 25K 的简历，一个写着 5 年 iOS 经验，一个写着 5 年爬虫经验，你觉得后者是不是比较搞笑），也很难拿出来和人交流，大部分工作也是体力活没啥技术含量，给人比较 low 的印象。业界搞得很出名的梁斌，你能找出比梁博还出名的搞爬虫的么？我基本上一和人谈起来梁博马上就有人跳出来说梁博水（梁博自己也在微博自嘲过），这其实也反映了我前面所说的爬虫工程师的悲催。</p>\n<p>还有朋友总结说爬虫很难处于一个核心的业务，而且爬虫需要人长期维护（爬和反爬此消彼长，最后拼成本，对抗技术更新也比较快），比较累，而且觉得写爬虫好玩靠这个入门的新人一大堆，这块感觉很饱和。这些我觉得说得还是很有道理的，不过有一点我想补充的是简单的爬虫的确是体力活没啥技术含量，但是比较困难任务还是很难做的，因为业界没有通用的解决方案，你得自己摸索。我也很难把自己局限在“爬虫工程师”这么一个 title 上，只是码业务的话用别人做的基础组件经常觉得这么漂亮的工作别人都做好了，我去做的话肯定做不了这么好，所以缺乏去重复别人工作的动力也讨厌造轮子。不过转念一想，基础组件的存在就是为业务为需求服务的，所以在业务中沉淀技术，寻找有可能性的需求，说不定哪天能做出很漂亮的工作？</p>\n</div></div>"], "reply": "24", "tittle": "最好的语言 PHP + 最好的前端测试框架 Selenium = 最好的爬虫（下）", "comment": ["\r", "\r", "来大战 Selenium 了", "不错 ,加油", "phantomjs 的神坑我也踩过，还有内存泄漏的坑，我也不知道新版本有没有修复，反正 10 分钟 kill 一下已经习惯了。。", "以前看过一个帖子说有的网站也可以检测到你在用 selenium", " 理论上来说可以做到，不过大多数网站没有那个成本来做。。。而且你能检测到我，我也会想办法绕过你的检测，最后拼技术成本了。。。", "老老实实做好技术多好， v 站上现在也是太多为了博人眼球的主题了", "再来一篇讲各种验证码破解的，最后出一篇 app 破解就齐全了。\r", "\r", "梁斌是做搜索的那个吗？他的功力可不止在爬虫。", "来了来了", "写的挺好，很多实际经验，不过把写爬虫的说的好 low 的感觉，我到觉得会写爬虫很厉害", "666", "不错不错", "selenium 一直没弄懂怎么避开验证码，先登录然后读 cookies ？", "（抓取公开内容）爬虫有点类似于安全攻防，只不过不犯法。反爬我最服亚马逊，今年 9 月份不知道出了个什么大招，反正最后我老老实实读了一天文档走 API 了", " 你好啊，亚马逊 api 可以获得价格吗", " 验证码这块一开始我们也以为很重要，往后面做发现这块和代理一样只要出钱买就完了，自己搞成本还高。。。\r", "\r", "梁博的功力还包括自建机房来着（逃", " 没法避开验证码，不过你装得越像人类就越不容易遇到验证码。。。从某种程度上来说，你被弹验证码就已经输了", "不错，学习收藏了以后试试", " 我们招了个人专职破验证码，因为有的地方 100%出验证码，作为表单必填项的，不是反爬虫的", "  \r", "你好，请问 taobao 平台爬虫可以做吗？  希望可以交流下，谢谢（手机微信 18652040516 ）。", " docker 环境怎么配置的？ 能分享一下 dockerfile 么？", " \r", "\r", "```\r", "FROM daocloud.io/php:7-fpm\r", "MAINTAINER gouchaoer <", ";\r", "\r", "RUN mv /etc/apt/sources.list /etc/apt/sources.list.bak && \\\r", "    echo \"deb ", " jessie main non-free contrib\" >/etc/apt/sources.list && \\\r", "    echo \"deb ", " jessie-proposed-updates main non-free contrib\" >>/etc/apt/sources.list && \\\r", "    echo \"deb-src ", " jessie main non-free contrib\" >>/etc/apt/sources.list && \\\r", "    echo \"deb-src ", " jessie-proposed-updates main non-free contrib\" >>/etc/apt/sources.list\r", "\r", "RUN apt-get update && DEBIAN_FRONTEND=noninteractive apt-get --yes install \\\r", "        net-tools \\\r", "        htop \\\r", "        iftop \\\r", "        nano \\\r", "        libicu-dev \\\r", "        libfreetype6-dev \\\r", "        libjpeg62-turbo-dev \\\r", "        libmcrypt-dev \\\r", "        libpng12-dev \\\r", "        libicu-dev \\\r", "        libssl-dev \\\r", "        libevent-dev\r", "\r", "\r", "RUN docker-php-ext-configure gd --with-freetype-dir=/usr/include/ --with-jpeg-dir=/usr/include/ \\\r", "    && docker-php-ext-install gd\r", "\r", "RUN docker-php-ext-install exif intl mcrypt sockets pdo_mysql\r", "RUN pecl install mongodb\r", "RUN echo \"extension=mongodb.so\" >> /usr/local/etc/php/conf.d/mongodb.ini\r", "RUN pecl install event\r", "RUN echo \"extension=event.so\" >> /usr/local/etc/php/conf.d/event.ini\r", "RUN docker-php-ext-install opcache\r", "RUN pecl install apcu\r", "RUN echo \"extension=apcu.so\" >> /usr/local/etc/php/conf.d/apcu.ini\r", "\r", "RUN apt-get --yes  install git cron\r", "\r", "COPY . /app_src\r", "\r", "RUN mkdir -p /root/.ssh\r", "RUN chmod 0700 /root/.ssh\r", "COPY id_rsa /root/.ssh\r", "RUN chmod 0700 /root/.ssh/id_rsa\r", "\r", "RUN crontab /app_src/mycron\r", "\r", "COPY php.ini /usr/local/etc/php\r", "COPY ", " /usr/local/etc/php-fpm.d\r", "COPY php-fpm.conf /usr/local/etc\r", "CMD cron && php-fpm\r", "```\r", "这是一个 php-fpm 的 docker-file ， php-cli 一样可以用。。。因为我开发环境没用 docker （其实用 docker 更好，但是我懒得改），把 php 和 php-pm 的一些配置加进去了你自己删改吧。。。\r", "\r", "cron 的地方可以自己实现自动化开 php-cli 的。。。", "这样个镜像 6 、 700m ，没有新的阉割镜像小，不过软件比较齐全，也是 php 官方的系统，所以不折腾，小规模用比较合适。。。", "对了，要跑 selenium 的话，把基础镜像装上 jre ，然后一个 container 把入口改成那个 jar 的应用，一个 container 改成 master 命令行应用，源码目录 copy 到 host 的 /app 下面（我镜像里最初放到 /app_src 下纯粹为了初始方便，第一次把 /app-src 复制到 host 的 /app 下后，以后走 git 更新源码了）， master 的 container 就 link 到 jar 应用就完了， 2 个 container 源码目录都 host 的 /ap 下。。。。\r", "\r", "手机打字乱", "也可以不用另开一个 master 容器直接通过 cron 来开 php-cli ，查看运行状态进入容器查看，不过看不到 master 输出，所以可以从定向 cron 开的 php-cli 的输出，类似：* * * * * cd /app && /usr/local/bin/php console/yii app/cron >> /app/console/runtime/cron.log 2>&1"]},
{"content": ["<div class=\"topic_content\">求告知\r<br>正确，有些软件不准备，比如頭髮  頭發</div>"], "reply": "8", "tittle": "PHP 有没什么高效的简繁转换函数或者什么的？", "comment": ["你这个和软件无关，这两个转化为简体都对", "记得有人用 js 也实现过，一般情况下效果还行", "用大神的 opencc 啊", "必须是 opencc 呀  以前一个项目用 nodejs 程序源码全转成繁体的了", "在用 ", " \r", " \r", " \r", " \r", "\r", "大神们好，我是新手不懂这个 opencc 怎么用\r", "小白 PHP 只会点基础，要怎么下载到源码呢，感谢各位大大", "chinese_conversion  \r", "做个记录\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>网上查了一下给 PHP 类动态添加方法需要类中自带__call 魔术方法<br>\n如果类 class A{}<br>\n就这样 那怎么动态添加方法呢<br>\n支持这样:<br>\n$a=new A;<br>\n$a-&gt;test=function(){};<br>\n$a-&gt;test();<br></p>\n</div></div>"], "reply": "8", "tittle": "怎么给 PHP 对象动态添加方法", "comment": ["call_user_func($m->test);", "想来你应该是需要这个的。\r", "\r", "我觉得结合 __set 和 __call 魔术方法可以实现\r", "\r", "class Test{\r", "    public $_methodContainer = [];\r", "\r", "    public function __call($method,$value)\r", "    {\r", "        if(isset($this->_methodContainer[$method])) {\r", "            return call_user_func_array($this->_methodContainer[$method], $value);\r", "        }\r", "        throw new Exception(\"The specify method cannot be found\", 1);\r", "    }\r", "}\r", "\r", "// define a new method.\r", "function newMethod($s) {return $s.'hello world';}\r", "\r", "$test = new Test;\r", "$test->_methodContainer['test'] = 'newMethod';\r", "echo $t->test('你好 ');", "class Test\r", "{\r", "    private $dynamicMethods = [];\r", "\r", "    public function __get($name)\r", "    {\r", "        return isset($this->dynamicMethods[ $name ]) ? $this->dynamicMethods[ $name ] : null;\r", "    }\r", "\r", "    public function __set($name, $value)\r", "    {\r", "        if ($this->isClosure($value)) {\r", "            $this->dynamicMethods[ $name ] = Closure::bind($value, $this, self::class);;\r", "        }\r", "    }\r", "\r", "    private function isClosure($value)\r", "    {\r", "        return is_callable($value) && get_class($value) === \\Closure::class;\r", "    }\r", "\r", "    public function __isset($name)\r", "    {\r", "        return isset($this->dynamicMethods[ $name ]);\r", "    }\r", "\r", "    public function __call($name, $arguments)\r", "    {\r", "        if (!isset($this->dynamicMethods[ $name ])) {\r", "            trigger_error('Call to undefined method ' . self::class . \"::{$name}\", E_USER_ERROR);\r", "        }\r", "\r", "        return call_user_func($this->dynamicMethods[ $name ], $arguments);\r", "    }\r", "}\r", "\r", "$a = new Test();\r", "$a->test = function () {\r", "    var_dump($this->dynamicMethods);\r", "};\r", "$a->test();", "找到正解了 我的意思是 class A{} 类里什么都没有也支持动态添加类方法 且支持$a->test();这样调用\r", "方法如下:\r", "class merge_objs{ \r", "\tprivate $classArr = array(); \r", "\r", "\tfunction __construct() { \r", "\t\t$this -> classArr = func_get_args(); \r", "\t} \r", "\r", "\tfunction __get($s) { \r", "\t\tforeach($this-> classArr as $c) { \r", "\t\t\tif (property_exists($c, $s)) { \r", "\t\t\t\treturn $c -> $s; \r", "\t\t\t} \r", "\t\t} \r", "\t} \r", "\r", "\tfunction __call($fn,$args) { \r", "\t\tforeach($this-> classArr as $c) { \r", "\t\t\tif (method_exists($c, $fn)) { \r", "\t\t\t\treturn call_user_func_array(array($c,$fn),$args); \r", "\t\t\t} \r", "\t\t} \r", "\t} \r", "} \r", "\r", "class A{}\r", "\r", "class B{\r", "    public function test(){\r", "        echo test;\r", "    }\r", "}\r", "\r", "$a=new merge_objs(new A,new B);\r", "$a->test();", "可以学习一下 Laravel Macroable 的思想\r", "```php\r", "class Test\r", "{\r", "    use Macroable;\r", "}\r", "\r", "Test::macro('say', function ($word) {\r", "    echo $word;\r", "});\r", "\r", "$test = new Test();\r", "\r", "$test->say('hello');\r", "```", "$a = new A;\r", "$b = function(){\r", "    //...\r", "};\r", "\r", "$b->call($a);\r", "\r", "php7 的用法，匿名函数的 call()"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>和大家分享一位深圳程序员的视频—— PHP API 开发.https://<a href=\"http://www.livecoding.tv/imfromchina/videos/yYowL-php-api-dev-26\" rel=\"nofollow\">www.livecoding.tv/imfromchina/videos/yYowL-php-api-dev-26</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "分享一个深圳程序员的视频—PHP API 开发", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>目前工作中一直用 Yii ，那么再去研究 Larval 意义有多大？目前工作用不到。把时间用来学习其他的是否会更好点儿？\n了解多个框架是有一定的好处，可以了解各个框架的设计方法和优点。但是对于使用上来说意义又有多大呢？一般来说一个公司只会使用一种框架，在不跳槽的情况下，即便学习了新的框架，也应用不到具体的生产中，没有真正商业软件开发的历练，学习的知识都是浮在空中，没有落地的那种。\n如果在这一部分时间去学习一些与工作相关的知识，是不是更好点？如： Linux ， nginx ，各种缓存设计等。</p>\n<p>不知道大家的看法是怎么样的？</p>\n</div></div>"], "reply": "19", "tittle": "学习研究多个开发框架是否值得？", "comment": ["Nothing's forever", "学和工作有关的，学那么多框架，感觉不如看框架代码，自己写框架。", "用不到的话，去锻炼编程、思考能力，而不是学习知识", "我也喜欢没事跑跑别人的项目，可以让自己产生工作充实的幻觉。😎", "如果不是工作需要的话 没必要深入研究吧   有需要用的时候 google + 看手册也能解决大部分问题的", "我觉得是值得，框架会让你了解更多知识，新的 /不同的思想，不同的代码风格，不同的。。。。。 即使是我非常不看好的 TP 也是有很多值得学习的地方", "赞同楼上，一切都值得~", "只要是自己学，一切都是值得的，毕竟学到的东西是自己的，即使现在用不上，说不定哪一天用上了呢", "会用就行，关键学习原理对比差异", "我和楼主一样 也是工作用 Yii 的  想玩玩 Larval 学学其他框架和 Yii 的相同 和不同之处 为以后吹逼打好基础", "我建议学 linux 这个不怕过时", " 你不就是个框架！", "laravel", "多学一些框架实现外的东西。\r", "lara 我个人觉得没 yii2 好。", " ", "有精力不如多学几个不同风格的语言", "建议去研究 Larval ， Larval 是非常适合自学的框架，首先更新非常快，各种前沿的新技术都在用。其次不怕历史包袱，敢舍弃 php 5.59 之前的版本没谁了吧！ Yii 是相对保守的框架，比较稳定，坑也少，每个新特性加入都是慎之又慎。所以你熟悉 Yii 的话，研究 Larval 也花不了多长时间。", "建议你深入学习，而不是水平方向拓展你的技能。\r", "深入学习，会让在需要的时候，做水平方向的拓展极其轻松。\r", "Linux, C ，甚至阅读 PHP 源码，阅读 Yii 源码，都很好。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题:这样方便我开发后把代码直接传到磁盘 上传到服务器</p>\n</div></div>"], "reply": "45", "tittle": "我有一台阿里云服务器，我想把服务器的 web 目录挂载到我笔记本的磁盘上该怎么做", "comment": ["Transmit 可以挂载。 forklift 好像也可以。", "Webdav", "如果两边都是 Linux 就用 sshfs", "等等~同志们~这个需求不应该推荐走 git 吗？", "开发后，传到磁盘，所以说你不在笔记本上开发？", "典型的 xy 问题。", "感觉是没有一点运维思维的程序员想出来的问题", "你把代码放到 git 上， git 一般有个 webhook ，你配置一下，以后每次提交的话就自动拉一下代码。\r", "你如果直接改代码，以后有哭的时候。", "监控本地文件变更，让后 rsync", "写完测试完 filezilla sftp 传一波是最常见\r", "你难道没想过有 bug 的时候么？", "这需求思路好八奇……", "sshfs", "resilio sync 也可破。\r", "\r", "下一题", "Git 是比较常见的思路", "楼主这种方法要把自己害死的，有过切身体会", "如果是开发后 Deploy 通常都是 Git 比较推荐，当然如果一定想要挂在的话楼上说的都可以\r", "重点是，你笔记本是什么系统", "楼主写代码比较厉害，每次 CTRL+S 都能保证代码能跑通……", "如果某天你要重构代码...", "可以用 samba ，做项目最好用 git...", "Git + Docker + CD/CI", "git 不能解决所有的问题，说 git 的，你们知道为什么会有.gitignore 吗？数据文件，比如用户上传的图片在开发环境跟正式环境是不一样的。如果楼主需要修改的是这些文件， git 无能为力", " 一个用 ftp 的解决方案", "有这个想法就不正确", "NFS", "![]( ", ")", " 没人说 git 能解决数据问题…", "  web 目录挂载到笔记本的磁盘 ，自己体会", "sshfs", " 代码用到的静态资源文件，应该和代码一起入 git 库。用户创建的数据在数据库里以及独立的存储空间里，跟 git 没关系", " 没说不能用 git, 但是 git 的实现能达到的效果跟挂载到本地的效果有区别。明白不？", "sshfs+1", "觉得 owncloud 可以", "你们没用过 dropbox ？", "肥答楼主问题：\r", "git + webhook 可破\r", "\r", " \r", "赶脚用户提交的文件本来就不应该同步和修改吧？如果你有酱紫的需求，是不是因为 web 规模太小？如果数据量大了呢？\r", "所以，如果真的非得要用到用户提交的文件和线上资源，我觉得本地开发环境运行 proxy 把需要的资源代理到服务器查看就好了。", " 用户数据只是一个方面，配置文件也是，本地跟正式环境是有区别的，比如数据库配置，典型的如 WordPress 的 wp-config.php, 需要 ignore 。你就没遇到过需要 ignore 文件的时候？可能你只是做前端开发吧，那样确实不怎么需要 ignore 。", " git+webhook 很早在用了，我甚至还写了个插件和文章，只不过我觉得这跟挂载是两回事。\r", "\r", " inotify 和 git-pull-实现网站自动部署附 wordpress 插件 /", "就需求看用 samba 自己机子上映射网络磁盘？", " \r", "\r", "呃， glhf...\r", "\r", "1. 其实也有好几年前后端开发经验...我的意思就是，这些本来就需要 ignore...\r", "2. 前端开发也很多地方也需要 ignore...\r", "3. 我要表达的就是...不应该同步的本来就应该 ignore ，例如用户产生的文件，和 config 文件等...\r", "4. 我上一条 @你的原因，是因为你说要同步用户产生文件，好在本地修改，这个场景。针对这一点，首先，代码仓库中肯定不能同步这些用户产生的文件。其次，你如果真有要同步用户产生的文件下来，修改完再同步上去这种需求，我觉得还是该整理好业务逻辑，这种 Bad practices 还是要避免的\r", "5. 讨论不带攻击性，就事论事...互相学习...\r", "6. dota2 秋季赛中国队没有一个进 4 强好心塞...wings 开始乱打了， LGD May 皇内战 gg 心碎...， ig.v 签证官 double kill...\r", "7. 越说越心痛，共勉...", " \r", "\r", "其实，我是觉得，楼主不应该为了方便开发，把服务器的 web 目录挂载到本机...", "没人回复 rsync 吗 简直云端同步神器", " rsync 神神神", " 语死早，非要钻牛角尖有意思？阅读原文，理解含义\r", "如题:这样方便我开发后把代码直接传到磁盘 上传到服务器", " 呵呵，你再看看", "古老的文件共享服务:Samba,可实现文件实时刷新。\r", "ISCSI 也可实现类似功能,但不能实现文件实时的刷新。", " +1 其实最简单最方便的反而是 samba 。。。毕竟只是自己测试代码用的"]},
{"content": ["<div class=\"topic_content\">一天时间就这样过去了~</div>"], "reply": "51", "tittle": "php 7.1 发布啦 下午作死试了下 又回到 7.0 13", "comment": ["有什么区别吗", "为什么要换回去啊", "把坑说出来啊。。。", " 感受到了深深的怨念......", " 好多扩展装不上", " 区别就是一个报错一个不报错。", " 你用了什么 module ？", " 就 redis mencache mcrypt 扩展不兼容", " memcache 好久不用，都用 memcached 了。。不过更新不及时。\r", "redis 应该可以才对啊。。\r", "\r", "你是 git clone 最新的 php7 版本么？\r", "\r", "这么坑爹。。", "还是 beta 嘛 等 stable 吧", " 最新的 在等一个月在装看看", " 嗯，", " 说的对，在等等", "坚持 5.6 基本方针不动摇", "PHP 的向后兼容不至于这么差劲吧。", " 这不是叫向前兼容吗。", "还是没 JIT 啊", " 拓展每次都要用 phpize 重新编， 很麻烦的", "我打赌 php7.0 升级到 7.1 的人会很少很少，因为 7.1 性能没有提高，新的 feature 大部分人也不需要，也就是说 7.1 的存在意义只是每隔一年总的放出个新版本而已。。。", "用 Docker 来编译，写过 Dockerfile 的话应该不需要折腾一天吧？", "7.1.0 = 7.1 RC7\r", "7.1.1 = 7.1 GA\r", "\r", "很多软件、系统都是同理，当版本号出现 .1 的时候才意味着 stable", " 这个没用过下次折腾看看", " ?", "PHP 版本间的兼容性就算不错了\r", "你看隔壁家两条腿走路的 Python", " sorry ，手机屏幕误触 -_-", " 没关系~", "Java6 升 8 ， spring3 升 4 ，只花了半个小时样子，测试环境运行良好，准备下周往集群里扔一台试试", " 其实绝大部分项目日 pv 连 1000 万都不到， php5 性能也够使了。 7 以后特性越来越多，语言越来越复杂，也许不太适合 PHP 的定位了。", " php7 又不是给旧的应用准备的，能升级的只有大厂才有那个钱。 php7 新加的特性不多，总体再往静态类型靠拢，方向是对的。\r", "比起 php 本身，我觉得 laravel 这种才不适合 php 定位", " laravel 的项目做了一半了。。你说不合适。。我犹豫了", " 你这样说 我很慌 为什么不合适啊？", " 只考虑语法本身兼容性，怎么会去考虑扩展的兼容。。", " \r", " \r", "只是我个人试用起来有 3 点觉得不太好，第一是性能实在太差了： ", " 。。。 helloworld 也能反应很多东西，实际上的 http 调用大多数走缓存。。。第二个就是为了优雅的理念和优美啥的过度封装，请求包含进总线 closure ，我用 xdebug 无法单步调试一次 http 请求，很多概念。。。。然而我是实用主义者，闻到 bad smell 后就撤了\r", "\r", "当然了 laravel 很会宣传也很流行， star 也多，库也多，很多人认同其理念吧。。。。。", " 笑岔气！😂", " 还好， laravel 还可以，我是个懒人，我没追求理念，我只追求速度。。。\r", "骚年，我的理念就是 复制粘贴！！～～ 啊哈哈", "mencache opcache 都用不了，又回到 7.0.13 了", " 我觉得 Laravel 的理念并不差，在 URL mapping 上很主流，如果 php 也有 annotation 的话 API 可以设计的更美。 functional 式的 controller ，可以去掉一个无意义的方法命名，即将发布的 Java 框架事实标准 Spring 5.0 ，也引入了这个方式。\r", "\r", "性能绝大部分情况下都不是首要考虑的问题， Laravel 支撑个 300 万的日 pv 毫无压力。\r", "\r", "hello world 式的微评测没有意义，那并不能体现真正的业务复杂度。假设每个 HTTP 请求， A 框架开销是 1ms ， B 框架是 10ms ， rps 是 1000 vs 100 ， 10 倍的差距看起来很大。但是一旦融入业务逻辑，比如耗时 10ms 的 db 和 cache 访问，那么就变成 11ms 和 20ms ， rps 变成 90 vs 50 。把宝马 i8 和奇瑞 QQ 放到高峰期的堵路上，速度不会有太大的差别的。", "mcrypt 不兼容什么鬼？", " 你升级一下看看。", " 脑补了一下画风，哈哈哈哈", " 你说的这是真的吗，我用 ab 测试， laravel 一秒只能处理三十个请求，而 slim 框架可以处理 200 个。同样是连接了 mysql 数据库，取一条记录在页面上。", " 哪请问你推荐什么性能高的，又易用好用的 retsul url 路由框架呢。", " 像 yaf ， swoole 这种肯定是最快的，但是它们基于 php-cli 开发和维护没有跑在 PHP-FPM 中的一般的框架方便，小厂还是推荐一般框架。 symfony 是企业级的框架，做了很多很棒的组件； yii2 在速度和封装上也非常棒，我个人用 yii2 比较多， thinkphp5 刚出来我看了一下源码，理念基本上和 yii2 是差不多的。你说得 restful 路由如果指的这种的话： ", " 。。。我个人感觉 restful 太理想化了，很多 api 就用一般的 controller 就够了，看个人喜好了。", "生产 7.0 ，开发 7.1 尝尝鲜呗", " thinkphp5 并没有参考 yii2 如果说有类似的东西，那只能说明一个实事，框架很多设计思想的发展趋势是一样的，只不过速途同归罢了。事实上在用法和语法上 thinkphp5 更多参考的是 laravel 但本质上 thinkphp 还是自己的架构和实现，所以性能和优雅并存 这一点应该算是相对于 laravel 的优势之一。", " 自己写一个", " 三条腿  还是 Django", "你确定看过 laravel 和 tp5 源码吗?", " \r", "thinkphp 都敢说 [性能与优雅并存] 了\r", "呵呵，呵呵呵呵，呵呵呵呵呵呵呵呵\r", "中国男足勇夺世界杯有望了", " 你 out 了 看过 TP5 再来下结论不迟"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近在学 PHP ，遇到一个问题，就是 ob_flush 和 flush 的区别。手册中说, 都是通过刷新输出缓冲区, 并且还需要配套使用, 对它们的不同感到有些迷惑。</p>\n<p>比如：</p>\n<p>ob_start();</p>\n<p>echo 'aaa';</p>\n<p>sleep(2);</p>\n<p>echo \"111\";</p>\n<p>ob_flush();</p>\n<p>等待 2 秒会同时输出 aaa111 。然后下面的：</p>\n<p>ob_start();</p>\n<p>echo 'aaa';</p>\n<p>ob_flush();</p>\n<p>sleep(2);</p>\n<p>echo \"111\";</p>\n<p>则会立即输出 aaa ， 2 秒后输出 111.</p>\n<p>这两个函数使用上有什么区别？求解答，手里有个阿里云免费套餐邀请码，能开云服务器数据库，可以作为奖励。</p>\n</div></div>"], "reply": "6", "tittle": "求解答， PHP 里的 ob_flush 和 flush 有什么区别？（急求，有奖励）", "comment": ["前者刷 PHP 缓冲, 后者刷 Server 缓冲", "感谢帮忙解答，已给铜币，手里的两个码也给大家，没办法私信，发在这里了，需要请自取", "zy16dy   dy3hpm\r", "\r", "使用方法在这里  ", " \r", " 这玩意对我无用, 有需要的朋友可以拿走"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre>function mysql_(){\n  $con=mysql_connect(\"localhost\",\"root\",\"xxxx\");\n  if (!$con)\n  {\n  die('Could not connect: ' . mysql_error());\n  }\n  mysql_select_db(\"xxx\", $con);\n  return $con;\n  }\n  $con=mysql_();\n  do(\n  //插入数据代码\n  if(mysql_error()==\"MySQL server has gone away\"){\n   mysql_close($con);\n   $con=mysql_();\n   echo \"Reconnect\\n\";\n  }\nusleep(400000);\n  )while(true);\n  </pre>\n<p>经常就是运行一个小时左右（时间不定）就断开了  显示 MySQL server has gone away ，应该不是超过了空闲时间，因为没到 8 个小时而且一直在写入数据。\n我如上重新连接无效，还是一直显示 MySQL server has gone away ，断开可以肯定是 mysql 闪断了，因为这个 php 是收集数据的，我用 nodejs 广播数据，和 php 一起断开。\nnodejs 检测重连已经解决， php 一直没解决，重连的判断是正确的，已经重连也没有提示连接错误，就是一直输出MySQL server has gone away，请问我这样写是否有什么错误呢？</p>\n</div></div>"], "reply": "2", "tittle": "求助！ mysql 突然断开 PHP 重新连接无效的问题", "comment": ["一旦连接失败就 die,循环也没有", "你可以用 mysql_ping 函数来重连\r"]},
{"content": ["<div class=\"topic_content\">在只有 PHP 和 mysql 的环境下，做一个简单的发券、核销程序。其中券的**兑换码必须为 12 位数字**，数据量不会超过千万。如何生成不重复且乱序的券码？\r<br> \r<br>最糟糕的方案是纯随机，然后到表里查一遍是否重复，重复则重新生成；不重复则插入\r<br> \r<br>一个自认为好点的方案是用户 id 加一位随机数加截取时间戳后 x 位\r<br>例如用户 ID 为 123 ，则是 3 位，加随机数 4 位。此时剩余 8 位则截取时间戳后 8 位补上。重复概率应该就很低了\r<br>\r<br>在尽可能不遍历表的情况下，还有更难以重复的生成算法吗？求不吝赐教</div>"], "reply": "34", "tittle": "12 位纯数字兑换码的生成算法，如何尽可能保证不重复？", "comment": ["安利一波 大数异或\r", "\r", "纯随机重复的概率比你想的方法更低。用时间戳等于缩小了取值范围，增加了重复概率。", "说一下我的做法，仅限于每种券只允许一个用户领一张，比如“双 11 满 100 减 20 ”，“双 11 满 100 减 20 ”这种券生成一个不重复券号，给每个用户的都一样，验证的时候直接去这个用户的所有券里找有没有这个券号就行。", "固定前缀+递增 id 拼接字符串后对称加密", "单纯随机是不可能做到不碰撞的，就像你不可能造出一个物理骰子使第二次扔的数一定不等于第一次扔的数。\r", "下手点有三个，查重、提取和生成。\r", "查重指的你第一个想法的优化，即缩短查重时间。可以利用散列表来做，用 mysql 做可持久化存储。\r", "提取指的预先将千万个号码随机出来。随机方式可以为每次随机一个起始值和步长，保证步长不超过某个值不低于某个值使最后不会大于 1e12 。之后只需要每次从表中随机提取出来一个数就好。\r", "生成指的并非随机，而是利用现有信息，例如你的最后一个想法。还可以做比如拼接一个字符串为姓名+时间+乱七八糟的什么，做个哈希生成一个 12 位数。只要哈希函数好，碰撞概率基本为 0 。", " +1\r", "\r", "用各种奇技淫巧改造随机数，都是白费功夫，只会影响原本随机算法的随机性。", "预先生成一个不重复的兑换码表， lpush 到 redis\r", "每次从 redis lpop 取个兑换码\r", "\r", "性能最佳，且绝对不重复", "  +1", "MySQL 的自增 ID 就能解决你说的唯一性问题，而且是百分百唯一。还不到千万的数据， MySQL 的 IO 损耗可以忽略。", "找一个千万级的质数 p ，然后费马小定理，加一个一一对应的 hash ？", "> 最糟糕的方案是纯随机，然后到表里查一遍是否重复，重复则重新生成；不重复则插入 \r", "\r", "这种方法是最好的。", "我记得有个商业提供随机数生成的网站，用的是 alpha 粒子？", "生成一个随机数然后 Hash (比如 SHA2) 然后截取 10 个字节\r", "检查数据库是否历史发行过如果没有就发布有则重新生成", "上面说错啦是 5 个字节 转换成 integer 即可", " 为啥不试试 Bloom Filter ？最佳的时间、空间效率啊，况且千万数据量就更合适了，比数据库里一条一条查不知道快到哪里去了。", " 并不是所有的优惠券系统都是每个用户只能用一张或者只能用几张的\r", "\r", "\r", " \r", "我做过字符形式的，后来因为字符存储比较占数据库空间（数据库几个字符串占空间都考虑了你自己衡量一下商城量级吧不能透露更多了），最后变成存储纯数字，显示是字符串的（自己写了个一对一的算法把数字翻译成字符串），最后本质也是纯数字的优惠券\r", "\r", "变更过多种生成方案，然后进行综合执行速度、还有重码分析，最后得出的方案还是单纯的 rand(1000000000000,9999999999999)的综合开销最低，远低于其他几种方案综合开销，重复率其实很低\r", "\r", "另外，你说的没一个先 select 冲突之类的，说明你对 mysql 运用还不够精\r", "\r", "直接用 INSERT IGNORE INTO 一大批，然后记录实际插入量，比计划的少的就是重复的，再次进行插入即可。\r", "\r", "记录实际插入量，单点 MYSQL 可以用 AFFECTED ROWS ，我们这边是分布式的后面数据架构比较乱， AFFECTED_ROWS 不太好用，所以使用的方法是每次插入生成一个 job 做一个批次号，然后去查询这个批次已经生成多少，缺的继续补足", "lz 建一个 pool 放好 id ，随机抽不就好了", "如果量不大的情况下楼主说的：『最糟糕的方案是纯随机，然后到表里查一遍是否重复，重复则重新生成；不重复则插入』就是最快最好的方法了。", " 同意", "以前用这个。虽然是自己乱拼凑的方法。但经测试， 1000 万条数据重复率为 0 。随机生成则有 20+个重复。\r", "你自己对比测试一下。\r", "function testnum(){\r", "\t$arr = explode(' ',microtime());\r", "\t$num = $arr[0]*10000000000 + $arr[1] - $arr[0]*1000000;\r", "\t$num = str_pad($num,11,mt_rand(0,9));\r", "\t$num = str_pad($num,12,mt_rand(0,9));\r", "\treturn $num;\r", "}", "uniqid()不可以么?", "我也来个思路， 12 位分成 8+4 ， 8 位账号＋ 4 位密码，前 8 位可以按照一定规则直接递增，因为你要求 1000w 这个量级，然后用组合的方式来做验证。\r", "\r", "从加密学角度出发，可以使用浮动的 账号密码位置模式，比如 8+4 ， 4+4+4 根据一定的规则把数字拆开，具体还是位数太短， 1000w 量级， 16-20 位会比较方便一点。\r", "\r", "\r", "其实上面也有很好的思路\r", "1. 预先生成不重复的方 redis ，如果在生产环境我会这样做， 1000w 应该很快\r", "2. 记录单据和所有者的关系，这样做一个 link 就可以了。", "有索引的话，数据库查重速度很快的。数据库是树形存储的，查询单个记录秒查的，不是瓶颈。", " 自增 ID 不是随机的，有被爆破的可能性。", "我觉得随机数 8 位，时间戳取 4 位不错。\r", "如果重复就改用备用算法重新生成，就按照最糟糕的纯随机？\r", "然后循环检查是否重复", "先说下是否是分布式部署。。。\r", "其实可以不用查库直接生成不重复的。。。\r", "基本原理推荐查考：[twitter 的 id 生成]( ", ")", " 鄙人愚钝……看不是很懂，但是这个兑换码要求**乱序**且**纯数字**，你回复的这个看起来似乎不那么贴近需求，谢谢\r", " 主要是希望利用算法尽可能减少查询的次数，谢谢\r", " 这项目后期要允许单用户多个券的，所以没有采用你所说的这种方法，谢谢\r", " 请问有哪种对称加密算法加密后的结果是 12 位纯数字的？我暂时还没听说过，请指教，谢谢\r", " 沃日 dalao 亲自回复，萌新瑟瑟发抖……我暂时不清楚如何哈希出 12 位纯数字来， dalao 可以给个思路吗？谢谢\r", " 那个……没有 redis\r", " 自增 ID 不是乱序的，很容易被他人猜出来，作为兑换码的话绝对不行\r", " 愿闻其详，看不是很懂，谢谢\r", " 刚毕业的萌新给 dalao 跪下了。看不是很懂你所说的“ INSERT IGNORE INTO 一大批”，因为这个项目里券是用户主动领取的，也就是服务端被动发券，每次一张，动态生成券码这样的\r", " 感觉原理上和纯随机没有本质区别，稍后试一下重复率，谢谢\r", " 不行，需要 12 位纯数字\r", " 你这里所说的账号可以理解为用户的 id 吗？\r", " 看不懂嘤嘤嘤……\r", "\r", "感谢各位的关注及回复", " \r", "主动领取模型，都没有集中插入的负载，那不是更简单\r", "INSERT IGNORE INTO 一个随机码\r", "返回 affected_rows 是 1 就成功了 不是 1 再生成一个往里插", "我觉的楼主自己的方案在产品的生命周期中出现重复的概率可以说为 0 ，如果这系统不是准备用上几百年，就没必要将简单的问题搞这么复杂。", "这不是可以用 RSA 来做吗.\r", "12 位数字就是万亿级别,那就取一百万左右的质数 2 个:\r", "p = 997207 , q = 997219\r", "则 n = p * q = 994433767333\r", "然后取尽可能小的 d = 107 ,则 e = 9293754887\r", "\r", "然后设自增 id 为 a,则有和 a 一一对应的 b\r", "b = (a ^ d) % n\r", "\r", "这样可以保证 id 从(2-994433767333)都不会重复\r", "\r", "(2-10)的 ID 对应的卡号如下:\r", "2 = 899396353970\r", "3 = 781336638737\r", "4 = 874206977826\r", "5 = 756065937681\r", "6 = 515322322794\r", "7 = 538347577421\r", "8 = 17370581741\r", "9 = 812852944487\r", "10 = 643487003155", " 大数异或肯定是乱序的\r", "纯数字只要拿字母转数字就行，最基本就是直接变成对应的字母序。。建个映射嘛", " 以 PHP 为例：\r", "hexdec(substr(md5(\"Hello\"), 5, 10))", " 不對吧，拼接上時間戳是縮小了可能重複的區域，而不是縮小了取值範圍。", "最糟糕的方案里面，检查部分工作可以由数据库自己做 unique 完成。\r", "\r", "或者先生成足够数量，然后 distinct 到目标表"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>项目主体采用 php ，正在逐步向服务化过度。</p>\n<p>服务采用 java 实现，部分基于 http ，还有一部分采用 apache thrift 。</p>\n<p>后被 finagle 的特性吸引，想把整个服务体系迁移到 finagle 框架之下。</p>\n<p>当 php 和 finagle thrift 结合的时候，遇到了如下问题：</p>\n<p>用 Twitter 的官方工具 scrooge 可以方便的生成 finagle thrift 代码，然而并不能生成 php 版本的 finagle thrift client 。</p>\n<p>虽然 apache thrift php client 仍然可以正常与 finagle thrift sever 通信，但是不能提供 finagle header 信息，其中包括 traceid 。 finagle sever 在接收到 php client 传递过来的请求之后，找不到 traceid ，就会默认生成一个，并且会把这个 traceid 保存到 sever 的上下文环境当中。所有的请求，都会共享相同的 traceid ，这就导致发送给 zipkin 的所有 trace 请求都在同一个 trace 当中。</p>\n<p>server 端默认的 traceid 是通过 TraceInitializerFilter 生成的， trace 的操作是请求到达时最先触发的，没办法通过附加其他的 filter 来改变 traceid ，似乎 finagle 也没有提供扩展，让我们能自定义 server 端 traceid 的生成方式。</p>\n<p>不知道是否有人尝试过 php + finagle thrift 这种搭配，有没有遇到过类似问题，\n除了改写 finagle 的代码之外，是否还有什么更好的解决方案呢？</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "php + finagle thrift + zipkin，所有的请求都在一个 trace 当中，怎么解？", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>正在练习用 CI 框架练习小项目， controller 和 model 层写起来没问题；\n但不会前端，请问如何完成 view 视图层呢？</p>\n<p>从头学？用现成的模板套？还是放着？</p>\n</div></div>"], "reply": "15", "tittle": "不会前端如何完成 view 视图？", "comment": ["套静态模板+JQuery 吧，前端技术太复杂了，各种框架  各路大神 各显神通，\r", "你要是用 ES6+某个前端框架 开发应用 估计有一段不少的时间 进行学习 各种框架 工具的使用\r", "\r", "自己的玩具，就是 Jquery easyUI 配合 bootstrap 玩玩就好了", "套阿..会真正写的很少的 大概都是这挪一点那挪一点", "同意一楼， CI 的模板引擎很好用的，照着 bootstrap 套就行了，学习一下 Jquery 的简单用法就哦了", "Bootstrap 搞一下，就不难看了", "貌似大家误解了楼主的意思\r", "楼主想表达的应该是：我不会 html 和 css 如何写 view 层？", " \r", "这个你就搞错了，任何教程 只要涉及到 PHP 肯定会讲 HTML \r", "CSS 会不会 其实没多大关系，花两天学习下 bootstrap \r", "像我这种残疾人，都能做点稍微能看的页面出来", "我是先会 html+css 的，\r", "那么你问我我会前端吗？\r", "我不会", "为什么练习 CI? \r", "如果是学生在找个技术学起那我推荐你趁现在放弃 PHP 改用 nodejs 做后端, JS 同时也能帮助你搞好前端, 以后就是全栈工程师了\r", "如果是已经用 PHP 工作了那么也推荐你学一下 JS, 至少能帮助你和前端工程师沟通, 如果你学的比较深入那还能让你成为全栈工程师\r", "无论你那边是什么样的情况, HTML 和 css 都不会花你很多时间去学, 精通 JS 会比前者难, 但是非常值得一学, 如果让我选的话, 我真希望当初第一门语言就是 JS 而不是 PHP", "通后端的，学习前端，很上手", " 会 JS 当然是好，作为 Web 开发人员会 JS 也是应该的，但是会 nodejs 就算全栈工程师了？？这全栈的要求也忒低了点吧", " 所以说你我要在这里就\"全栈\"一词做一次定义讨论?", " \r", "\r", "会 nodejs 怎么就不能算全栈了，超栈都能做给你看 /w\\\r", "\r", "区别在于你对这个 “会” 的要求定的太低了，跟 “精通” 一个级别了", " 快来劝劝楼主和楼上", "只会写代码的话试试 ExtJS ， 还有 gwt", " 我与你相反  ", "   ", " "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>题主是搞(Pai)(Huang)(Pian)的，最近做单元测试的话，很容易就陷入一些思考，这样做对不对呢？所以就想到上来问问 V 友，借鉴学习。我个人比较强迫症，追求自己写的代码完美。</p>\n</div></div>"], "reply": "7", "tittle": "各位 V 友们对 单元测试 有什么心得？", "comment": ["PHPUnit 可以试试", " PHPUnit 的话现在就是在尝试中，就是不知道自己写的测试用例如何合格", "不要问泛泛而谈的问题。", "我不知道对不对，反正写了单元测试以后我发现效率比以前高了不止一两倍。\r", "有人说写了更多的代码。但是我想说的是，写点儿代码把手动验证的流程交给计算机来做，并且可以快速重复做很多遍，到底是省事儿了还是麻烦了自己琢磨。", "首先要明确你为什么要写单元测试？你希望它解决什么问题？回答了这个问题之后写测试的思路可能就比较清晰了\r", "\r", "对于我来说，单元测试主要的作用是提高代码的可维护性，确保以后修改代码能及时发现影响范围，重构是否破坏了原有的业务逻辑？修改是否影响到了其他业务逻辑？如果程序写完之后就不需要维护了，那就完全没必要写测试\r", "\r", "那么由此再说说我的一些体会\r", "\r", "1. 测试代码要简洁清晰\r", "测试代码比业务代码更追求可读性，它唯一的用户就是维护者，不需要考虑性能之类的问题，而混乱的测试代码比混乱的业务代码更让人不想维护。一个测试应该遵循三段论: 初始化场景，执行被测试方法，验证执行结果，所以一个理想的测试方法应该只有三行（ clean code 书里已经说得很清楚了）\r", "\r", "2. 测试范围\r", "所有 public 方法，重要的 protected 方法，几乎不测试 private 方法\r", "public 方法是类的公开 api ，可能被各种业务调用，所以一定要保证任何改变了 public 方法行为的修改都被检查到\r", "同样 protected 方法是对子类公开的，对于被很多子类使用的 protected 方法，需要确保对它的修改不影响子类的行为\r", "private 方法很不稳定，可能经常被修改，它只在类内部被调用，对 public, protected 方法的测试已经把它覆盖到了\r", "\r", "3. 针对方法特性测试，而不是针对实现测试\r", "可以把被测试代码当成一个黑盒，给它一个需求要求的输入，然后验证它是否返回了期待的输出。不需要去验证它在处理这个东西的过程中干了什么，没必要，因为具体实现可能会因为各种原因而修改，我们只要确保测试能检查到修改后的程序是否满足需求要求就行了\r", "同时，又要保证测试覆盖了方法的所有的需求点，包括异常情况都需要写测试覆盖到。一个测试用例写一个测试方法\r", "比如这个测试文件，这些测试方法都只在测一个 public 方法（不要吐槽方法命名...）\r", "\r", "4. 其他\r", "- PHPUnit 的 DataProvider 慎用，不是它不好，是它很容易就搞出一些特别难维护的测试代码，比如把正常流程和异常流程的测试都放到一个测试方法里，然后用 DataProvider 提供的参数来进入不同的测试流程，整个测试方法一大坨， DataProvider 里面的数据又是一大坨，看得人想死\r", "- 很多时候写测试会反向地要求你优化你的程序设计，最常见的例子就是依赖注入了，这里是之前 google 的一个 guide ， ", "我感觉楼上的都是复制粘贴的，没必要看。\r", "DataProvider 该用还是可以用的，个人觉得很好用，数据容易维护。\r", "单元测试用什么写，怎么写不重要，既然是白盒测试，衡量标准自然是代码覆盖率，这个覆盖率你应该有个预期，覆盖核心代码还是全部代码。\r", "至于实施上，看你是设计驱动的还是开发驱动的，自己调节。\r", "不要管那么多没什么用的，关键在于你写单测的态度和出发点是什么。\r", "有上来问的时间，足够你写好多单测了。", "我在 v 站的回复还真没怎么复制粘贴过别人的东西。昨天吃饭的时候看到这个问题，用手机打了一点字，吃完回来在电脑上编辑了一下，删掉了附图，因为是项目的测试代码不应该发出来\r", "\r", "我的回复里一直在强调测试代码的可维护性，因为这是切身的体会，我们团队早期对单元测试也不熟悉，照着文档就开写，追求 100%的覆盖率，每个 private 方法都用反射搞出来把测试写了，这样做了之后覆盖率报告 x 是很好看了，全是绿色，但是到了之后需求来了要修改代码的时候就很难过了，不仅要改业务代码，还要修改大量的测试代码，这对开发来说是个很大的负担，并且由于每个测试代码写得也很庞杂，导致理解和维护这些测试代码变得比维护业务代码还麻烦，进而就导致了开发人员消极对待单元测试\r", "\r", "因为我们项目在上升期，每期迭代都有很多需求要做，也发生过新需求的修改影响到别的业务的正常使用的问题。所以我们团队对于单元测试最大的期望就是能及时发现新的代码修改对整个系统的影响，同时尽量减少开发人员的负担，所以我们现在基本只测试 public 方法，虽然如此，因为类写得比较内聚，对 public 方法完善的测试其实也已经覆盖到了大部分代码\r", "\r", "关于 DataProvider ，为什么我烦它呢？也是在早期，大家基本上就是按照一个业务方法对应一个测试方法这样来写，对于复杂的业务方法，有很多异常情况处理，这些都需要测试，于是就在 DataProvider 里面弄上十几条各种数据，然后在一个测试方法里面对所有这些场景编测试代码，一堆的 if ，等于是把十几种测试用例一股脑地揉在一个方法里面，你可以想见这种测试代码在维护的时候是什么感觉。所以之后我们一般就按照一个测试用例一个测试方法这样来组织测试，很少用 DataProvider 了\r", "\r", "关于为什么追求测试代码的简洁性，因为我改过几个之前我自己写的测试，这些测试方法或者是依赖于一些外部接口，或者是会调用一些重型操作，我们测试的时候是通过向被测试方法注入 MockObjectBuilder 构造出来的 Mock 对象来做的，于是出现了一个测试方法前面几十行都在构造测试环境，后面几十行各种 assert 检查数据细节是否达到了要求，很不好看，一眼看不出测试，所以基本上现在测试代码就写成这个样子:\r", "\r", "    /**\r", "     * 成功调用 add 方法后，应该持久化消息数据\r", "     *\r", "     * @", " void\r", "     */\r", "    public function testShouldPersistMessage_afterAdd()\r", "    {\r", "        $this->assertMessageNotExist($this->message);\r", "\r", "        $this->service->add($this->message, new SampleDataProvider());\r", "\r", "        $this->assertMessageExist($this->message);\r", "    }\r", "\r", "\r", "\r", "所以上一条的回复都是我近些日子里实际的一些体会，不一定对，也不适合所有人，权且当作一个参考吧"]},
{"content": ["<div class=\"topic_content\">代码如下：\r<br>$json['terId'] = $terId;\r<br>$json['businessOrdid'] = $businessOrdid;\r<br>$json['orderName'] = $orderName;\r<br>$json['tradeMoney'] = $Gold;\r<br>$json['selfParam'] = $selfParam;\r<br>$json['syncURL'] = $syncURL;\r<br>$json['asynURL'] = $asynURL;\r<br>$json['payType'] = $payType;\r<br>$json['appSence'] = '1001';\r<br>$data = json_encode($json, JSON_UNESCAPED_UNICODE);\r<br>openssl_public_encrypt($data,$encrypted,$pu_key);//公钥加密  \r<br>$encrypted = base64_encode($encrypted);  \r<br>echo $encrypted ,\"&lt;br&gt;\"; \r<br>\r<br>在输出$encrypted 的时候毛都没有， 但是把$data 随便赋值一个字符串上去就有东西了。。 \r<br>是不是不能对 JSON 加密？？</div>", "<div class=\"topic_content\">问题解决了，的确如同 @<a target=\"_blank\" href=\"/member/xqin\">xqin</a>  @<a target=\"_blank\" href=\"/member/zhouheyang0919\">zhouheyang0919</a> 说的那样 是字符串太长 RSA 只能加密最长 117 位的数据\r<br>\r<br>附上分割代码：\r<br>$Split = str_split($data, 64);\r<br>        ForEach($Split as $Part)\r<br>        {\r<br>            openssl_public_encrypt($Part,$PartialData,$pubkey);//服务器公钥加密\r<br>            $t = strlen($PartialData);\r<br>            $encParam_encrypted .= $PartialData;\r<br>        }\r<br>\r<br>同时感谢各位热心磕瓜群众\r<br>@<a target=\"_blank\" href=\"/member/lslqtz\">lslqtz</a> @<a target=\"_blank\" href=\"/member/fhefh\">fhefh</a></div>"], "reply": "15", "tittle": "PHP 使用 RSA 公钥对 JSON 对象进行加密，加密不了？", "comment": ["那说明 data 是空的？", " 不是空的  是一个数组", "数组不能 json_encode ？\r", "打印 json ， data 变量。", "直接使用 RSA 算法加密数据是有长度限制的。\r", "可以用 RSA 加密一个随机生成的 AES key ，再用这个 AES key 加密数据。", "Notice: Undefined variable: pu_key in D:\\phpStudy2016\\WWW\\1.php on line 6", " \r", "我成功了。\r", "建议开启报错看看？\r", "<?php\r", "$json['terId'] = '1'; \r", "$json['businessOrdid'] = '2'; \r", "$json['appSence'] = '1001'; \r", "$pu_key='crt 公钥';\r", "$data = json_encode($json, JSON_UNESCAPED_UNICODE); \r", "openssl_public_encrypt($data,$encrypted,$pu_key);//公钥加密 \r", "$encrypted = base64_encode($encrypted); \r", "echo $encrypted ,\"<br>\"; \r", "?>", "这贴笑死我了，你 openssl_public_encrypt 函数左边少了个变量", " 应该没少呀，这段是 COPY 一个实例下来的", " \r", "-----BEGIN PUBLIC KEY-----\r", "MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCabJDz/66tGW6J0SBHI3zTqz+v\r", "B7lkBwEcSnnaNJ6mAZ64Garc4Ax9lcFV9aUI3/v/w7LRnhPRnMCHc9HeBFS66jPi\r", "xlvk3cB/TYsVoxuQInTE/VmQDv+9cRlKYpemULGr6VoeOzAoEHz68g/YUZCjFBxb\r", "hTyOKutBoCorsAmQeQIDAQAB\r", "-----END PUBLIC KEY-----\r", "这一段是服务器公钥， 我用在线 RSA 加解密发现可以加密普通字符串 但是加密 JSON 数组的时候就是空的\r", "是这一段的问题吗??", " 感觉你这个是私钥啊，不是 key 么。\r", "你开启报错的话不对应该会报错的。\r", "试试看 openssl_private_encrypt ？。。", " 而且你贴出来的代码都是变量，不太清楚你变量里是啥，如果能打印 json 的话可以考虑贴一下", "我用 phpseclib 这个库  ", " ", " 你笑错了, 确实不用返回", "  不是 JSON 数据的问题, 而是你的源数据串太长.\r", "就像 4 楼 @", "  说的那样, 不能加密太长的数据.\r", "附完整的测试代码:\r", "\r", "```\r", "<?php\r", "\r", "$public_key = '\r", "-----BEGIN PUBLIC KEY-----\r", "MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC6BzEdnKKNifTOGk33p8+Sp4En\r", "OEsprSqbsTZgVRDmg2aLP5XhhSBlu4PPurMEz2W0tj1TyhkfJvdtkHuA629/760g\r", "HExMOaNHzJdwvkTJW7ZlBi4+KoI0F/48Y4i71kuXY6V6niIZjzypnEfMPyo2+CCE\r", "d1VeXOFqnjYmOHsG0wIDAQAB\r", "-----END PUBLIC KEY-----\r", "';\r", "\r", "$private_key = '\r", "-----BEGIN RSA PRIVATE KEY-----\r", "MIICXAIBAAKBgQC6BzEdnKKNifTOGk33p8+Sp4EnOEsprSqbsTZgVRDmg2aLP5Xh\r", "hSBlu4PPurMEz2W0tj1TyhkfJvdtkHuA629/760gHExMOaNHzJdwvkTJW7ZlBi4+\r", "KoI0F/48Y4i71kuXY6V6niIZjzypnEfMPyo2+CCEd1VeXOFqnjYmOHsG0wIDAQAB\r", "AoGALhD7265fHpesFKG07wASSenK9NBe5IoqQ/XFVmOaVMrzSMZNMlSKKkceJAHC\r", "tQ06zV5Xn3krcWhv2yTtQIaMzH/LAqNvisGrS8W5S/i9rGECXINNmmym0yYzHyvW\r", "TrTuFvABiO9jAPe7a26hY2SibJ7/rbRykxmm69EvimuKoakCQQD2JpR8dcgEmqNk\r", "q+m4RifXDFet5grvjX/6Ow9Cb+ZnUDKu1jEmqtebBorVFka3adCfcmyaeVQvol4D\r", "4pDVne3dAkEAwXjAfhgSNBYjUzkgLMHuBztPDMDQbqjtZGEeKQIUJetCKMI2CLdH\r", "luqfRjHSKUBC/Vu5j/i1axCubdJeBHA0bwJAOrVi7vhsl2SGmglCulfJQspH00st\r", "yor2Pil97zufOX7wR7EAkhdnSytZS49/mFldj9oLuyA7Cw1v3P9Zyglb5QJAZG1s\r", "5kdSc60mKxYVKIaGK0TTFNilmTug9qEfCcRldwV2szeU2tNgmusxQDuuTvFnlKJf\r", "YWeFrIzdLm6rlPw1iwJBAKM33BIVC1QSRHrpC1kUHGPFSC7R2ISaT8Mjfh/shRn9\r", "Lmsv3CzXRPZRfxxt4fyYp8rIllo97Gd/xWWNAMlnXBQ=\r", "-----END RSA PRIVATE KEY-----\r", "';\r", "\r", "$pi_key =  openssl_pkey_get_private($private_key);\r", "$pu_key = openssl_pkey_get_public($public_key);\r", "\r", "\r", "$terId = 1111111111;\r", "$businessOrdid = 222222222;\r", "$orderName = '$orderName 带空格,带汉字,带，全半角内容';\r", "$Gold = 100;\r", "$selfParam = '234lkajsdfasdf';\r", "$syncURL = '", "';\r", "$asynURL = '", "';\r", "$payType = 'test';\r", "\r", "\r", "\r", "$encrypted = '';\r", "$json = array();\r", "$json['terId'] = $terId;\r", "$json['businessOrdid'] = $businessOrdid;\r", "$json['orderName'] = $orderName;\r", "\r", "/*\r", "$json['tradeMoney'] = $Gold;\r", "$json['selfParam'] = $selfParam;\r", "$json['syncURL'] = $syncURL;\r", "$json['asynURL'] = $asynURL;\r", "$json['payType'] = $payType;\r", "$json['appSence'] = '1001';\r", "*/\r", "\r", "$data = json_encode($json, JSON_UNESCAPED_UNICODE);\r", "\r", "\r", "$r = openssl_public_encrypt($data, $encrypted, $pu_key);//公钥加密\r", "\r", "if($r === FALSE){\r", "  echo \"加密失败!\";\r", "  die();\r", "}\r", "\r", "\r", "$encrypted = base64_encode($encrypted);\r", "echo $encrypted,\"\\n\";\r", "\r", "echo \"private key decrypt:\\n\";\r", "openssl_private_decrypt(base64_decode($encrypted),$decrypted,$pi_key);//私钥解密\r", "echo $decrypted,\"\\n\";\r", "```\r", "\r", "把上面代码里注释的那部分数据打开, 你就会发现它会加密失败.", " 我回答错了，已感谢。\r", "可为什么会导致这个问题呢。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在 php_redis.h 里面看到了如下的定义,但是在使用相关函数时永远返回 false</p>\n<pre><code>/* Geoadd and friends */\nPHP_METHOD(Redis, geoadd);\nPHP_METHOD(Redis, geohash);\nPHP_METHOD(Redis, geopos);\nPHP_METHOD(Redis, geodist);\nPHP_METHOD(Redis, georadius);\nPHP_METHOD(Redis, georadiusbymember);\n</code></pre>\n<p>另外在分支里找到一个叫 geocommands 的分支,php7 下没法编译.</p>\n<p>相关环境</p>\n<pre><code>PHP 7.0.8\nRedis server 3.2.5\nphpredis Version 3.1.0\n</code></pre>\n<p>请问有什么办法可以解决, 或者可有其他的解决方案(LBS 应用)</p>\n</div></div>"], "reply": "4", "tittle": "phpredis 里如何使用 GEO 系列的功能?", "comment": ["试试这个 ", "用 phpredis  调用 lua .", "用 rawcommand 方法\r", "\r", " 非常感谢"]},
{"content": ["<div class=\"topic_content\">来源：\r<br><a target=\"_blank\" href=\"https://www.oschina.net/question/2896879_2212316\" rel=\"nofollow\">https://www.oschina.net/question/2896879_2212316</a>\r<br>\r<br>jit 能在 php7.2 放出来么？\r<br>以及鸟哥委婉的吐槽了 Laravel ，还有很多干货，说到心坎里去了。</div>"], "reply": "80", "tittle": "php 的 jit 真的要来了", "comment": ["从哪儿解读出来吐槽了 Laravel ？", "说的挺好的， PHP 还是简单点好。", " ，比如一些很优雅的框架。有些框架我自己看半天也会觉得还挺复杂的，学起来费劲。\r", "\r", "Laravel 不是说自己优雅吗。", " 优雅的框架是说明 PHP 也不简单，后面断句了。本身人家也没影射什么，没必要按照自己的意愿去解读。\r", "反正我一直觉得 Laravel 挺简单的，比大多数框架都简单。", "稍微熟悉 php 的人都会对框架源码或自己实现框架感兴趣，刚碰到 Laravel 这种用的组件多，抽象层次多的。对比其它看一眼目录结构就能快速定位的框架， Laravel 算是复杂了。\r", "\r", "当然了，排除源码层面这点，用起来舒服就好。", " 是简单，但是设计算复杂了。\r", "\r", " 我怎么觉得 Laravel 目录结构分类挺细挺好的啊...", "这就尴尬了", "如果几个月能能合并到 master 的话那么 7.2 应该是能赶上的，毕竟现在半年一个版本。\r", "\r", "至于吐槽 laravel ，哪怕点名吐槽又如何呢？ 7.1 里通过的 rfc 大部分不也投的是反对么。。。", "PHP 再这样搞下去，让 Python 很尴尬啊", " 如果 php 框架都抛弃 fpm 用 cli 跑，性能上应该可以碾压 pure python 了。不过 Python 的库比 PHP 更全，比如说机器学习或者科学计算和统计，甚至还有 micropython 这种可以用 python 驱动的单片机。", "都要 JIT 了，为什么不用 Java", " 都编译了, 为什么不用 C", " 。。 php 就是 php ， 有了 JIT ，这 和 Java 又有什么关系呢。。", " \r", "你这是抬杠，没心情回复\r", " \r", "PHP Java 都有各自的领域， PHP 最初的设计，就不是针对 大规模 高并发 集群 等玩意的\r", "\r", "JIT 是很久以前 JVM 标准下就已经成熟的技术，如果你真的需要 JIT 这种针对性能优化的玩意，直接用 Java 得了，\r", "\r", "选 PHP 大多是针对业务需求  都是考虑 PHP 的 快速开发，动态类型等优点，\r", "\r", "在现有的机器性能下，如果你的 PHP 做的业务 到后面都需要 JIT 来优化性能的时候，公司架构师的技术选型 \r", "肯定会直接切到 Java ，而不是继续使用 PHP", " ", " 淘宝的并发不小吧\r", "\r", "\r", "虽然我本身用.net,不过我现在越来越觉得大公司之所以使用 java/.net/python,并不是这些语言有多好,而是高层就会这几种.", "是的， php 核心开发组成员里已经有人证实 了\r", " 不说了，你去淘宝看下后台 阿里的 Java 系 是有多牛逼", "  对头， 高层技术人员喜欢用他们没有过的新东西或语言， 程序员的通病！", "Laravel 都嫌复杂的话，你叫我大 Symfony 怎么办？", "在国外 php 的性能问题得不到重视，毕竟他们的网站才多少并发，而我们国家的人口基数大，并发自然也比国外高很多，自然要考虑到性能方面。", " 语言本身就没有好坏，\r", "大家用不用 针对某个领域，只取决两点\r", "1.生态 2.生态\r", "\r", "没有生态环境的语言，再牛逼也只是牛逼而已，\r", "Java 那么蛋疼的泛型，不还是有人用么？\r", "JDK7 里面 要实现很多高级语言特性，十分繁琐，大家不还是忍了\r", "大家为什么要忍 Java ，因为 Java 轮子多啊，满大街的 Java 程序员 便宜啊\r", "\r", "PHP 那么蛋疼的运行时环境，，但是在针对某些业务场景， PHP 有奇效啊，开发上手速度贼快，\r", "我不用 PHP 我傻啊", " java 是静态类型语言，和脚本语言没法比的， jit 实现上也一样。另外社区生态 java 也是没的说，但是你的观点不对。。。。对性能的追求是没有止境的，况且这些提升对用户来说是透明的。。。至于 php 不适合集群高并发，这是错误的。。。只是 php 的性能比 java 差而以， php 写起来快部署简单耐艹，二者需要一个平衡。。。大厂继续用 php 支撑业务的又不是没有，而且纠结用啥真的没意义，后端 crud 根本不是难点。。。", "都什么年代了还有人认为一个 stack 能够通吃所有业务。看到淘宝首页是 php 的扩展名真以为淘宝是 php 做的么？", " \r", "国内 用 Java ，企业领域用的很多，无非两点， Java 成熟的早，企业框架发布的早， PHP 还在玩泥巴的时候\r", "Java 已经针对企业 BS 应用开发 提供了一套完善的解决方案， 而且很多 企业应用 业务逻辑 十分繁琐，架构十分繁杂， PHP 早期还没有面向对象等特性，\r", "\r", "后来的互联网浪潮，小型软件 居多\r", "php 的轻量 动态类型的优点就出来了， Java 像 Struts2 等重量级别的框架 已经不适应这个时代了，但轻量级的框架 像 SpringMVC 之类的还是很符合时代特性的", " 身在福中不知福， jvm 和 java 的生态好我也同意，但是 java 语言本身我认为做的很好了，规规矩矩的够用了。", " 看到淘宝首页是 php 的扩展名就以为淘宝是 php 做的的那种人肯定是没得救了的,不过恰好淘宝前台用了 php,有趣啊", " 没有，只是业务需求真要到代码执行速度层面上来优化性能的时候，直接 Java 上，来得实在点\r", " Agree", " 其实政府，银行才是 java 大户", " 我给出淘宝使用 php 是想说明,php 虽然性能不如.net,但是还是能应对大并发的,就算淘宝不够看,那 fb 总算大佬了吧", " 这种情况之前看 BA 的员工在 b 乎都有吐槽,但基本没见过鹅厂的人抱怨,看起来鹅厂内部很自由?", " 淘宝不是从 php 切到 nodejs 了么", " 语言本身确实没有好坏,黑 java 的那么多,也说明了用 java 的人多,但是 php 追求性能并无不妥,换句话说,java 那么好用了,为什么还是有人要学 C#,java 能做 web 也能做 desktop.", " 没有吧,你指哪个部分?", "啥时候能出个官方的 reactor 框架", "还以为撕点会停在 laravel 上呢\r", "我真是太年轻了", " 机智啊，不过应该没人买吧，目测是交学费了。", "语言不就是, 英国人说英语好, 法国人说法语, 中国人说中文好? 有啥好争的", " 要怎么看出一个网站是否用了 php ？ index.php 可以访问不能代表什么吧，也许只是匹配了路由规则。", " 历史遗留代码，说换 java 就能换? 有了 php7+jit ，几百台规模的部署，可以减少到几十台，每年省百万。", " 直接问员工啊...难道要像楼上那样靠猜的?", " 淘宝首页早就不是 php ，后端全线 java", " 淘宝很早就后端 java 了,不过淘宝首页早就不是 php 是从哪打听到的?", "都要 JIT 了，为什么不用 Java , ， ，都编译了, 为什么不用 C\r", "\r", "-----\r", "各种撕 B ， 好无聊。", "JIT 我不评论,因为不知道是啥...特别百科了一把...就不评论了\r", "\r", "不多 laravel,难道只有我 这个菜鸟觉得,  laravel 用起来很简单,而且 有助于我 代码质量 和 规范的吗?\r", "\r", "举个栗子吧.....记得国内入门框架都是用 TP,一个分页写上我一堆代码,laravel 两三行搞定!  不挺好的嘛....\r", "\r", "明明要 拔起一颗钉子,  有锤子你不用,嫌他重,自己用木头去撬...那也没办法..木头确实轻...\r", "\r", "不过对于高级的 拍簧片攻城狮 ,他们的感受我就不知道了...  毕竟我还在菜鸟级混...", "尼玛,一行一个错别字...  怪 linux 上的 搜狗输入法吧.....", " 不用打听 ", " 淘宝搜索页面，源代码中有 Yii 关键字", " 哈哈 ，让我想到了紫光", " 我看完了,看来可能是我信息落后了,晚上有时间再去核实一下.不过淘宝首页到现在也仅做了 /index.php 的路由,是故意的?", "  (<!--<?php Yii::app()->wm->runWidget('debuginfo') ?>-->)这个?\r", "除此之外还有:\r", "```\r", "<p>\r", "    <a href=\"//www.taobao.com/about\">关于淘宝</a>\r", "    <a href=\"//www.taobao.com/about/partners.php\">合作伙伴</a>\r", "    <a href=\"//pro.taobao.com\">营销中心</a>\r", "    <a href=\"http://jubao.alibaba.com\">廉正举报</a>\r", "    <a href=\"//service.taobao.com/support/main/service_route.htm\">联系客服</a>\r", "    <a href=\"//open.taobao.com\">开放平台</a>\r", "    <a href=\"//www.taobao.com/about/join.php\">诚征英才</a>\r", "    <a href=\"//www.taobao.com/about/contact.php\">联系我们</a>\r", "    <a href=\"//www.taobao.com/sitemap.php\">网站地图</a>\r", "    <a href=\"//www.taobao.com/go/chn/tb-fp/2014/law.php\">法律声明</a>\r", "    <em>&copy; 2003-2016 ", " 版权所有</em>\r", "</p>\r", "```\r", "\r", "等等...\r", "上面那篇文章也仅仅提到了\"淘宝首页\".\r", "\r", "其实说这么多,php 作为 web 开发肯定是合适的,在此之上提高性能有何不妥?\r", "如果哪天宇宙第一 IDE 原生支持 ", " 项目用 php 重写了", " 為什麼一定要換呢", "喜欢 PHP ，期待 PHP 成为第一流行语言！！！！！", "PHP 是世界上最好的语言~", "为什么要 jit ？", "听说越来越重了，虽然我也没用过 哈哈哈", "我就想问下 以及鸟哥委婉的吐槽了 Laravel  楼主是怎么推断的？还是楼主先入为主？", "为什么要吐槽 laravel ？大公司追求高性能，小公司追求高开发效率，不同的场景有不同的需求，这不是很正常么？", "  都有大众汽车了，还要啥奔驰。都有汇编语言，还要啥别的语言。", " 作为一个长期使用 PHP 写 CLI 程序的人必须站出来说一下， PHP 在 CLI 模式下内存是个问题。目前似乎还不会主动收缩用于内存分配的链表（没看源码，所以只是猜测）。另外还存在第三方组件的内存泄漏问题。\r", "\r", "虽然并不影响 CLI 程序发挥效果，大不了就重启进程呗。", "我喜欢的\r", "乐队是 muse, pulp,他们在国内\r", "都不火\r", "亦如我写代码用\r", "php,它也不是世界上\r", "最好的语言\r", "可是有什么能挡住\r", "我对生活\r", "的热情呢？", "PHP 最初的设计如何并没有关联吧,每个语言都是在发展的,互联网的环境也是在变的.PHP 最初设计的时候,互联网的规模和并发数和现在能比么?语言随着时代的变化而跟进有什么不妥?\r", "\r", "就如同加入可选的类型系统,可以让 PHP 开发者更加没有选择 Hack 的理由一样,\r", "当 PHP 的业务大到需要 JIT 优化性能的时候,如果这个时候 PHP 已经有了 JIT,公司还有什么理由付出重构的成本来切到 Java?", " PHP 最初的设计如何并没有关联吧,每个语言都是在发展的,互联网的环境也是在变的.PHP 最初设计的时候,互联网的规模和并发数和现在能比么?语言随着时代的变化而跟进有什么不妥?\r", "\r", "就如同加入可选的类型系统,可以让 PHP 开发者更加没有选择 Hack 的理由一样,\r", "当 PHP 的业务大到需要 JIT 优化性能的时候,如果这个时候 PHP 已经有了 JIT,公司还有什么理由付出重构的成本来切到 Java?", "```\r", "某女：你能让这个论坛的人都吵起来，我今晚就跟你走。\r", "某软件工程师： PHP 是最好的语言！\r", "某论坛真的就炸锅了，各种吵架……\r", "某女：服了你了，我们走吧，你想干啥都行。\r", "某软件工程师：今天不行，我一定要说服他们， PHP 必须是最好的语言……\r", "\r", "```\r", "\r", "还是这个笑话!", " 我用 php-cli 循环 3400w 次往 redis 里面插数据，内存泄露退出过，不知道是第三方库的锅还是扩展的锅。。。。我基本上也是写 php-cli ，别的情况下 php-cli 倒是很稳定，我 win 下 php-cli 几个月的跑也没问题。。。链表你是说 array 么？这个是基本数据结构不会有问题的", " \r", "不是指 Array 类型的实现。按照之前看的鸟哥关于 PHP 源码对动态数据类型实现的一些介绍， Hashtable 会自动做扩张处理，但是有没有回缩就不知道了。即使不存储数据，空的 Hashtable 也会占用不少的数据，特别是大量创建并销毁变量的情况下。\r", "因为之前写过的 CLI 业务程序占用过高达 GB 级的内存，所以对这个现象比较在意（虽然后来也是通过重启进程来释放资源）。\r", "\r", "PHP 编写的 CLI 程序其实本质上和 C 写的程序并没有区别。稳定性也不用担心。\r", "\r", "主要是第三方扩展是一个很大的不确定因素，特别是之前用 pthreads 库，各种退出。现在基本不考虑第三方扩展了。", " GB 绝对是内存泄漏（第三方扩展泄漏，第三方库泄漏，或者你自己存了变量没释放），第三方扩展也分稳定和不稳定的， krakjoe 维护的 apc 、 pthreads 都是那种不稳定的，没必要一刀切", " 额，泄露不是内存占用大的主因。一部分内容（比较大的数据）确实是需要存入内存。我的意思是在频繁创建并销毁变量之后，用于存储这些变量的 Hashtable 只扩张不收缩（猜测），结果是即使销毁了这些变量也没有彻底回收掉消费的内存。\r", "\r", "另外 curl 的内存泄漏也是一个坑，直到现在还没修。", "论性能，我查到的 benchmark 都证明 PHP 干不过 JAVA.\r", "不过目前这个阶段， WEB 领域， JAVA 能干的 PHP 也都能干。\r", "\r", "淘宝的案例，只看当下，蜻蜓点水说那么两句，这是孤立的看问题，没有触及实质。\r", "淘宝的技术栈选择，跟其业务规模发展密不可分，是个螺旋上升的过程。\r", "\r", "我前几个月写了一篇文章，论证了为什么说 PHP 目前还是一门有生命力的语言：\r", " 每个 array 或者 object 变量都是单独的 hashtable ，变量超出作用域了肯定回收了，所以说你的猜测是不存在的。加载了大量 object 情况下内存变大是很正常的，比如 composer 安装一个库动则几百 M 上 G 。\r", "\r", "至于 curl 扩展内存泄漏，我用的 Guzzle ，底层包装的就是 libcurl 扩展，我每个 php 进程会发起几千上万次 http 请求我并没有观测到泄漏，所以你如果观测到泄漏把代码样本贴出来，不可能不修的", " 5.3 以前的 php 没有 gc ，所以循环引用会导致内存泄露， 5.3 之后，没关闭 gc 的话，合适的时机会释放内存的，不过也不保证短时间内触发，跟 java 一样，系统决定该不该触发。加上 php 很多扩展都是 C 写的，质量也良莠不齐， cli 模式下有泄露也是很常见的，不像 Java 那样可控。", "  php 的垃圾回收指的是检测循环引用的那个算法， php 本质上还是基于计数引用的简单垃圾回收，这和 jvm 不太一样。。。而且触发条件也很明确，性能在非极端情况下影响不大： ", " 本质上没什么不同，都是系统自身决定是否需要来一发 gc ，正常代码逻辑中，无法准确预测下一发 gc 什么时候发生。细抠的话，光 oracle 一种 jvm 就有 4 种常用 gc ，每种 gc 又有参数控制和运行时环境输入值。从功能和成熟度比较， php 的 gc 只是个小玩具。", "啧啧啧，\r", " 给你点赞，什么东西到我大天朝，都得变样。我大天朝就是新技术的试验田。", "有点惊讶 php 竟然还没有 jit", " php 的 jit 在 5.x 时代就做了尝试，虽然在 cpu 密集 benchmark 上提高巨大，但是在 wordpress 之类的真实场景下看不到提升，所以一直没并入分支，这次是真实观察到提升后的结果。。。", " 估计上 JIT 是为了和 HHVM 竞争。", "laravel 多优雅", "php7.2 的 opcache 扩展还用不了啊， 用不了 jit"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Array (\n[14] =&gt; Array ( [ok] =&gt; 1 [err] =&gt; 1 )\n[15] =&gt; Array ( [ok] =&gt; 1 [err] =&gt; 0 )\n)\n这是是我$record 变量 print 出来的\n1. 循环 [当前学生所有学过的试题的对错记录数组] {\n2.判断当前循环到的这条试题的错误率是否 大于或等于  [传来的错误率] {\n3.如果是那就把当前循环到的这条试题的 ID 加入$arr_id 数组；\n}\nforeach ($record as $values) {\nforeach ($values as $data1) {\nif($data1['err']/($data1['ok']+$data1['err'])*100&gt;=$errrate){</p>\n<pre><code>\t      }\n   \t    }\n帮忙看看我的第一，二步对不对，第三步怎么写\n</code></pre>\n</div></div>"], "reply": "目前尚无回", "tittle": "php 的问题", "comment": []},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://www.zimuzu.tv/\" rel=\"nofollow\">http://www.zimuzu.tv/</a>\r<br>这个网站往下拉有个“热门话题”，就是不断滚动最新的评论。\r<br>哪位能帮忙看一下这个是用什么做出来的效果？\r<br>\r<br>我搜到有类似的 js 组件，叫 vTicker   <a target=\"_blank\" href=\"http://richhollis.github.io/vticker/\" rel=\"nofollow\">http://richhollis.github.io/vticker/</a>\r<br>看着挺好的，准备试试。\r<br>但不知道这个网站用的是不是也是 vTicker 。</div>"], "reply": "5", "tittle": "能否帮忙看看这个网站用到了哪个轮子？谢谢", "comment": ["无聊看了下 在这个 js 里面  ", "\r", "\r", "GLOBAL.JQUERY.Scroll({obj:$('#commentList')});\r", "\r", "```js\r", "GLOBAL.JQUERY.Scroll = function(a) {\r", "    var b = {\r", "        obj: {},\r", "        time: 500\r", "    };\r", "    b = $.extend(b, a);\r", "    _obj = b.obj;\r", "    if (_obj.outerHeight() <= _obj.parent().outerHeight()) {\r", "        return\r", "    }\r", "    _obj.wrap(\"<div></div>\");\r", "    _parent = _obj.parent();\r", "    _parent.data(\"time\", b.time);\r", "    b.parent = _parent;\r", "    scroll_create = function() {\r", "        b.parent.css(\"marginTop\", 0).children().eq(1).remove();\r", "        $copy = b.parent.children().first().clone();\r", "        $copy.prependTo(b.parent);\r", "        b.parent.css(\"marginTop\", \"-\" + $copy.outerHeight() + \"px\");\r", "        b.order = 1\r", "    }\r", "    ;\r", "    scroll_autoStart = function(c) {\r", "        timer = setInterval(function() {\r", "            _obj = c.children().eq(0);\r", "            _size = _obj.children().size();\r", "            _order = b.order;\r", "            c.animate({\r", "                marginTop: \"+=\" + _obj.children().eq(_size - _order).outerHeight() + \"px\"\r", "            }, c.data(\"time\"), function() {\r", "                _order = b.order;\r", "                if (_order == b.parent.children().eq(0).children().size()) {\r", "                    scroll_create(b.parent)\r", "                } else {\r", "                    b.order = _order + 1\r", "                }\r", "            })\r", "        }, 3000);\r", "        b.parent.data(\"timer\", timer)\r", "    }\r", "    ;\r", "    scroll_autoStop = function(c) {\r", "        clearTimeout(c.data(\"timer\"))\r", "    }\r", "    ;\r", "    _parent.bind(\"mouseover\", function() {\r", "        scroll_autoStop(b.parent)\r", "    }).bind(\"mouseout\", function() {\r", "        scroll_autoStart(b.parent)\r", "    });\r", "    scroll_create(b.parent);\r", "    scroll_autoStart(b.parent)\r", "}\r", "```", "chrome 有个扩展， BuiltWith Technology Profiler\r", "Find out what the website you are visiting is built with using this extension.", " 意思说，他们自己写的一个小组件？", " 好的，我试试，谢谢", "不是最新的吧。永远都是那几个来回轮"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近在重构代码的日志部分代码，想实现自动输出正在运行的是那个 function ，便于调试。\n目前的实现大约是这样</p>\n<pre><code>trait log_helper {\n   protected function simple_log($msg, $func=__FUNCTION__) {\n   \t\t....\n   }\n}\nclass Foo {\n   use log_helper;\n   public function bar() {\n       ...\n       $this-&gt;simple_log($msg);\n       ...\n   }\n}\n</code></pre>\n<p>但是这样的话日志输出的$func 永远是<code>simple_log</code>,于是只能这么用：</p>\n<pre><code>\t$this-&gt;simple($msg, __FUNCTION__);\n</code></pre>\n<p>有没有别的方法可以简单的输出函数名称，而不用想上面调用的时候都要传一个__FUNCTION__？</p>\n</div></div>"], "reply": "7", "tittle": "关于 PHP 的__FUNCTION__的作为默认参数的问题", "comment": ["debug_backtrace 是一个思路.", "debug_backtrace :  ", "debug_backtrace 也用过，但是只敢在 debug 上的时候用...日志一多会非常卡....", "debug_backtrace(options,limit);   后面的参数呢 ? 试过吗?", "php5.3 木有 limit(哭", "get_called_*", "楼主，重构完成后，开源出来，我也用一下。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>最好的语言 PHP + 最好的前端测试框架 Selenium = 最好的爬虫（上）</h1>\n<p>入职冰鉴科技做爬虫开发已经半年多了，陆续开发维护了几个爬虫以后终于在 web 端爬虫这一块有了登堂入室的感觉。中间踩了许多坑，也对爬虫的许多细节有了自己的认识，所以今天希望能分享一些爬虫经验。虽然爬虫的很多东西不好说太细，因为说太细了别人马上有针对性的反爬虫了，而且很多技巧业界没用通用的解决方案（别人就算做出来了也不太愿意分享），都是我自己慢慢摸索出来的。但是我认为适当的业界 /友商之间的技术交流是必要的，不能闭门造车，我也渴望能和业界 /友商有更多私下的深入交流，大家多切磋才能进步嘛。最近我在研究 app 反编译爬虫相关的，所以对这块特别感兴趣。个人博客： <a href=\"http://qsalg.com\" rel=\"nofollow\">qsalg.com</a></p>\n<h2>为什么是 PHP</h2>\n<p>其实就目前业界来说， python 下的爬虫轮子是最多的，我厂大多数同学都用 python 搞爬虫。我由于原来搞 web 后端用 PHP 比较多，对 PHP 下的生态和第三方库啥的如数家珍，厂里对使用的语言也不做强制要求，所以我就用最拿手的 PHP 开搞了。有同学可能会觉得 PHP 下爬虫轮子似乎不多，甚至有部分做惯了 PHP 后台的同学在需要完成爬虫任务时也拿起了 python ，难道 PHP 就不适合搞爬虫么？我认为恰恰相反， PHP 在 web 领域积累了大量成熟的第三方库，而且其强大的内容处理能力使之在需要琐碎处理的爬虫任务中如鱼得水。爬虫从运行时间上大致可以分为两种： 1 、实时的爬虫：一个请求来了我就开一个爬虫去爬取结果，一般情况下这种爬虫直接对外提供 API ； 2 、长期爬虫：这种爬虫一般会一直运行或者定期运行，把数据更新入库。一般来说这 2 种爬虫都需要比较频繁的维护更新， PHP 作为一门部署简单的脚本语言，可以实施热更新爬虫代码，非常方便。</p>\n<h2>使用第三方库</h2>\n<p>用 PHP 搞爬虫请利用好 composer 下的第三方库。 PHP 在 web 领域积累了大量成熟的第三方库，基本上你想得到的库都能在 github 上都能找到，如果你不用第三方库的话，那么你就等于放弃了 PHP 在 web 领域的巨大优势。爬虫相关的 PHP 第三方库我用的比较多的有：</p>\n<p>1 、 Guzzle ：功能很完善的 httpclient ，带异步并发功能，别的脚本语言找不到这么好的 httpclient</p>\n<p>2 、 Goutte ：对 symfony 的 dom-crawler 和 css-selector 的简单封装，你也可以直接用 symfony 的 css-selector 来抽取 html 的 dom 元素</p>\n<p>3 、 symfony/process ： symfony 出品的 php 开进程的库（封装的 proc_open ），兼容 windows ，要知道 pcntl 扩展不支持 windows 的</p>\n<p>4 、 php-webdriver ： Facebook 官方维护的 selenium 的 php 客户端</p>\n<p>前段时间有一个《我用爬虫一天时间“偷了”知乎一百万用户，只为证明 PHP 是世界上最好的语言》，这个 repo 很受关注也一直在维护。我也研究了一下他的代码，质量很高，但是有一个缺点就是没有使用现有的第三方库而选择自己封装。我们应该把精力花在爬虫业务上而不是去从新造轮子，我平时直接无脑的使用现有的 composer 下的各种第三方库。我从今年 4 月份入职到现在 8 个月时间只写了 3 个爬虫（除了爬虫业务外，基于 redis 的分布式爬虫调度、单机多爬虫并发、报警+监控+参数控制、 selenium 多浏览器匹配+特性定制、代理策略定制 and so on ）一套下来，所有代码都加起来只有 6000 行 PHP 代码。已经有现成的成熟稳定的第三方库不用，自己造轮子是得不偿失的。</p>\n<h2>多线程、多进程和异步</h2>\n<p>爬虫不能不说到并发，爬虫作为一个 IO 密集型而不是 CPU 密集型的任务，一个好的并发的爬虫应该满足： 1 、尽量可能高的下载带宽（下载带宽越高，爬的数据越多）； 2 、尽可能小的 CPU 消耗和尽可能小的内存消耗。\n多线程似乎是实现并发的不错的方式，经常有人说“ PHP 没有多线程”让广大 PHPer 直不起腰。作为 web 后端的时候 PHP 没法使用多线程，但是作为命令行运行的话 PHP 是支持多线程的。我们知道 PHP 分为线程安全（ ZTS ）和非线程安全版本（ NTS ），后者其实是为了兼容 win 下 IIS 的 ISAPI ，这也就逼着 PHP 下的扩展基本上都提供的线程安全和非线程安全版本。也就是说从理论上来说命令行的 PHP 多线程是真的多线程，没有像 py 或者 ruby 那样的全局锁（实际上同一时刻只有一个线程在跑），但是实际上 PHP 命令行多线程不太稳定（毕竟它的多线程不是为 php-cli 设计的），所以我建议命令行应用还是使用多进程来做并发。\n而异步也是实现并发的重要方法，爬虫需要并发的大多数情况是我想是同时去爬多个 url ，这种情况无须使用多进程 /多线程，直接在单进程中使用异步就可以了。比如 PHP 的 Guzzle 异步支持非常好用， Guzzle 默认异步是包装的 curl 的 curl_multi 的几个函数来做的，如果你想用性能更好的异步事件库可以设置 Guzzle 的 adapter 为 react-guzzle-psr7 （当然了你得安装 Event 之类的异步 pecl 扩展）。我个人试用下来觉得 Guzzle 默认的异步就够用了，单进程并发几十上百的 http 请求跑满小水管那是不成问题的， cpu 和内存消耗还很小。总之，把 php 的多进程和异步合起来用，实现良好的并发不是问题。</p>\n<h2>关于爬虫框架</h2>\n<p>开箱即用封装好的爬虫框架不是银弹。我一开始也研究了 java 和 py 下的一些比较著名的框架，企图先把这些框架学会然后把自己的爬虫任务整合进去，后来发现这么做很困难。诚然用爬虫框架基本上改两行就可以跑起来了，对简单的爬虫任务来说很不错。但是用别人封装好的框架会导致爬虫的定制性变差（要知道爬虫是需要灵活处理各种情况的），而我们知道爬虫的本质就是开着 httpclient 取回 html 然后 dom 抽取数据就完了（并发的话再加个多进程管理），就这么简单的任务为了尽可能满足所有人需要被封装成了一个复杂系统的框架，并不一定适合所有的情况。有一次 V2EX 上也有人出来质疑说我直接用 requests 也很简单啊， scrapy 的优势在哪里呢？我的理解是爬虫框架的优势就在于把爬虫的并发调度都做了，而我们直接单进程来写爬虫的话只能是一个单进程爬虫没有并发调度。其实爬虫的多进程并发调度没那么复杂，也不需要搞太复杂，我说说我的 php 爬虫是怎么做并发调度的（ python 下一回事）。</p>\n<h2>爬虫多进程调度</h2>\n<p>我的 PHP 爬虫多进程调度比较简单粗暴，爬虫分为管理爬虫进程的 Master 进程和负责具体爬取业务的 worker 进程，而 redis 负责对爬虫进行控制以及显示爬虫的状态。</p>\n<p><img alt=\"图片\" src=\"http://ww1.sinaimg.cn/mw690/63a9e398gw1faa075sqlij20p50bwabh.jpg\"></p>\n<p>比如我有一个爬取 A 站点的爬虫任务，我开发好爬虫 Worker A 以后，我可以在 redis 中设置在服务器 Node1 上我开 2 个 Worker A 来爬，而 Node1 上的 master1 进程会定期去 redis 中读取控制参数，如果发现 Node1 上的 Worker A 进程不足 2 个的话就会新开 Worker A 进程补充。当然了，控制参数需要包含哪些你可以自己定制，比如我就定制了每个节点的 Worker 上限、使用的代理策略、是否禁止加载图片、浏览器特性定制等等。 Master 进程新开 Worker 进程有 2 种方式，一种是通过类 exec （比如在 Master 进程中 proc_open(‘ php Worker.php balabala ’, $descriptorspec, $pipes)这样）调用来开一个新的命令行 php 的 Worker 进程，另外就是通过 fork 机制来做。我采用了类 exec 调用的方法（其实是 symfony/process 库，它封装的 proc_open 函数来开的进程）来开 Worker 进程（如果要传命令行参数给 Worker 进程注意使用 base64 编码一下，因为命令行可能会过滤某些参数），这么做的好处就是解耦。需要注意的是，现在 Worker 进程都是 Master 进程的子进程，所以 Master 进程退出的话所有 Worker 进程也会退出，所以 Master 进程注意异常的 catch ，尤其是 redis 、数据库和别的有网络 io 的地方。如果你希望 Worker 进程 damonize 的话请按这篇文章的方法来（ php 下也是一样的，不过不兼容 windows ）。\n我不建议 Master 进程通过 IPC 机制对 Worker 进程进行控制，因为这么做一下子就让 Master 进程和 Worker 进程耦合起来了， Master 进程应该只是简单的负责开 Worker 进程而已。对 Worker 进程的控制可以通过 Redis 来完成，也就是说 Worker 进程每隔一段时间（可以是完成了一次 http 请求，或者每隔几秒）可以去 Redis 读一次控制参数（如果需要的话，也可以到汇报一下自己状态，参数比较多的话用好 redis 的 pipeline ），在实践中这种方法工作的很好。\n我的 PHP 爬虫中都采用了这个简单粗暴的方案，我认为它的好处有 4 个：</p>\n<p>1 、支持分布式且依赖简单，参数控制+状态汇报直接通过单一的 redis 节点。我推荐你用一个好的 redis 的 GUI 工具来管理 redis ， redis 的 5 种数据结构用来做爬虫参数控制+爬虫状态显示非常方便</p>\n<p>2 、 Master 进程和 Worker 进程解耦，而且可以解决爬虫较多发生的内存泄漏问题（ Worker 进程跑完直接退出），也可以热更新代码</p>\n<p>3 、实时爬虫可以通过 Master 进程抢占 push 到 redis list 中的请求来做，而长期任务的爬虫在 Worker 进程意外退出后 Master 进程立刻补充，能适应各种爬虫任务</p>\n<p>4 、开发爬虫只用去写 Worker 进程就 ok 了，开发方便，不用关心调度问题</p>\n<p>缺点当然就是这一套机制都需要你自己写，高度可定制性的代价就是自己动手。</p>\n<h2>总结</h2>\n<p>把我的 PHP 下爬虫经验的几个方面拿出来讲了一下，由于篇幅有限 Selenium 相关的经验就留到下次再说了。</p>\n<p>以上</p>\n</div></div>", "<div class=\"topic_content\">忘了说了，我这个办法在 windows 下和 linux 下都可以工作的很好。。。我的一部分爬虫是跑在 windows 下，除了运维简单以外，还因为我的浏览器只在 win 下打通了。。。不过 phantomjs 倒是随便 windows 还是 linux ，在 linux 下我是用的 docker</div>"], "reply": "73", "tittle": "php 的爬虫经验分享", "comment": ["好文，赞", "我就看看我不说话", "不错不错，赞", "我就看看我不说话", "表示之前是用的 PHPquery ，我还以为没有 php 的爬虫框架了呢", "再牛逼的框架 别人出个铁道部的验证码一样干掉你", "大神文章先马后看", " 我想说的就是这个，比如处理验证码的情况，框架里面要处理也可以不过扩展比较麻烦。。。如果你不用框架，自己检测验证码，简单的用现有的大码工具，复杂的上打码平台，这样就容易很多了。。。", " dom 选择器 php 有好几个库，捡顺手的就完了。。。其实 selenium 的 dom 选择器也是非常成熟的", "一直觉得 dom 选择器很难用，不如直接用正则提取内容方法", " 其实 html 的元素是为前端准备的，前端用 jquery 之类的 dom 选择器那爬虫用同一套工具肯定是最优的。。。正则我更多的是用在拿到元素文本内容后提取关键字啥的。。。而且在比较复杂的爬虫里面，光是不同的 dom 选择操作就几十上百个，每天还得盯着人家 html 变化没，变了赶紧更新代码，用正则会绝望的", "我明明是来看 selenium 和 phantomjs 的。。。", "其实应该来份 DEMO 也不错哦。", " selenium 和 phantomjs 打算下次分享，里面有的几个坑很有趣的（其中有一个坑让我差点不干了），这块我透漏一下我 i7 的 cpu 能跑 100 个 phantomjs 进程（长期稳定）", " 贴代码多没意思啊，这个东西也不复杂我也就写了个基类 1k 行也没啥技术含量，简单粗暴的", " 爬虫这块其实是不限语言的  因为不同语言的实现原理都类似  从开始实习到现在也一直在搞爬虫的事  `phantomjs`这块我是调命令行实现的 但是解析动态页面(AJAX 生成的 URL 这些) 还是不太给力  所以很期待楼主的分享啊  记得更新了圈下我啊 233", "谢谢分享", "分布式的轮子有没有开源出来？", "分享不错\r", "因为你说了，用第三方库，能否分享几个好的库？比如 dom 的话，哪个库？其他呢？", "楼主你好，看了你的文章收获很多，请问能否分享一下你的 github ？\r", "\r", "我也是 phper ，但是由于我开始也和你说的很多人一样以为 php 的多线程能力很弱，虽然知道 php 用 pthreads 扩展可以实现多线程，但是编译和安装扩展的时候出现了各种坑，因此只好转 python 了。\r", "\r", "关于 php 的 nts 和 zts 我有一个疑问，就是你说的 nts 是为了兼容 iis 下的 ISAPI ，那么请问为什么 linux 下的 php 版本也区分 nts 和 zts 呢？还有就是我看 python 和 java 里面仅仅是在模块级别上区分是否为线程安全版本（比如说 py 的 queue 队列这种数据结构就是线程安全版本，还有 java 下的 Vector 和 arraylist ），为什么 php 是整个版本就开始做区分呢？\r", "\r", "还有关于全局锁的问题，我发现我 python 写的爬虫如果开 10 个线程，那么命令行输出就是一次性输出 10 条抓取日志然后突然停顿 0.5s 左右，请问这 0.5s 是不是就是你说的由于全局锁的关系，导致它内部在做线程调度从而产生这 0.5s 的卡顿时间？\r", "\r", "谢谢楼主的分享。", "对了，还有就是我现在写的爬虫大多数都是这种需求，就是有一个获取 list 的接口（文章列表），先去这个接口获取一批 id ，再去一个通过 id 获取详情的接口（文章内容）来获取具体要抓取的数据。\r", "\r", "我现在在 python 下是用 threading 和 queue 队列来实现的抓取，请问 php 下是如何做类似需求呢？", " 为了服务于 php-cli 的多线程吧，毕竟多线程支持都做了……一般大家都选 NTS ，没有多线程支持的性能要好点\r", "\r", "至于 java ，你要知道它是一门工业级的静态类型语言， jvm 是非常强大的 runtime ，原生支持多线程是必然的。 php 整个版本区分是因为 ZTS 版本性能更低，为了性能。。。\r", "\r", "python 的多线程。。。我用 py 不是很多。。。。\r", "\r", "\r", " 其实爬虫的难点在于别人反爬虫，具体去爬的业务没啥难度也没啥好说的。。。你的这个需求 php 下单进程异步应该可以吧？ ", "\r", "你对并发感兴趣的话我有 2 篇博客你可以参考一下，写的比较乱：\r", "\r", "恩! 文章很赞!   最近正有想法 想研究研究这个!  \r", "\r", "楼上也有提出 PHPquery 的 有用过..     snoopy 也用过!  还有 github 上的这个 ", "  \r", "\r", "都用过,不过不是很适合自己! \r", "\r", "一旦遇到验证码 我就懵逼了...\r", "\r", "甚至 模拟登陆都有点坑....\r", "\r", "膜拜楼主", "关注下，关于多进程执行调度可以看看 resque 库", "我也写过一个基于 perl 语言的多线程爬虫框架，一直没有机会跟大家讨论。<br />\r", "地址： ", " <br />\r", "我把抓取过程分为四个阶段：网址入库，抓取，解析，数据入库。其中 1 、 3 步需要根据情况编码。<br />\r", "多线程分为两级，第一级在 DB ，每个线程领取任务，更新状态，完成任务；第二级在运行时的代码，维护一个地址池，是个”生产者-消费者“模型。<br />\r", "<br />\r", "我觉得组织一个通用的“用户级”的框架是很难的，所谓爬虫框架都是 coder 级的产品。", "针对 4 个 php 第三方库，可能\r", "1. python 的 requests 库封装的非常好\r", "2. beautifulsoup 和 lxml 也非常好\r", "3. python 标准库的 multiprocessing 和 threading 很好用\r", "4. python 是 selenium 官方支持的 5 种语言之一\r", "\r", "我用 15 寸球面 CRT 也能写代码，然后对外宣称\r", "最好的显示器 15 寸 CRT + 最好的 cherry 键盘 = 最好的开发设备", " resque 的代码我研究过，我没有用的原因还是过度封装，直接用 redis  list 的 blocking pop 足够了", " httpclient 中非常重要的异步并发请求功能 requests 没有， py 的几个支持异步的 httpclient 都不太好用（我们这边有个 py 爬虫需要异步并发，我研究了一段时间的这个东西）。。。\r", "\r", "至于 selenium 客户端，用啥语言都差不多， py 调用浏览器不需要单独开一个命令行的 stand-alone 的 java 的 selenium 服务端这点比较方便。。。。 php 需要单独开一个命令行的 stand alone 。。。不过论代码质量， facebook 的 client 质量不错，很强调强类型，不过没有文档需要自己去看源码。。。。\r", "\r", "说 php 是最好的语言只是想起个比较吸引眼球的题目而已， php 的优缺点和 py 的优缺点场景不一样的话体现也不一样，其实最好的语言就是你最熟悉的。\r", "\r", "我喜欢 windows ，喜欢 eclipse ，讨厌 vim ，对屏幕 /键盘完全无所谓。。。。", "  哈哈~，确实有点", " 爬虫这种 IO 密集型的工作，用多线程再合适不过了，如果实在想要异步， requests 的作者还写了个 grequests ，本质上是用 gevent 打的鸡血补丁。", " IO 密集型的工作用异步是常识啊……\r", "grequests 我之前就研究过，你去读读它的只有 150 行的源代码， ", " ，质量如何以及这个 httpclient 好不好用，我觉得和它那么多的 star 不相配", " 常识不是先开个几百个线程试试吗？多线程扛不住的时候，也不该用脚本语言了。最次也要考虑用 Java 或者 Go ，研发团队够强就上 C++。", " 关于这个常识没啥好说的了……其实只要是按照异步（毕竟底层都用了各种差不多的事件库）来写各个语言的性能跑出来差别不会太大，而且也没必要迷信用静态类型语言，论异步的 http 性能，在某些场景下 php 都是可以打 Go 的：\r", "\r", "韩天峰-Rango \r", "11 月 7 日 10:17 来自 微博 ", " \r", "PHP7+Swoole 的 http 服务器和 Go 的 Http 服务器，在我的电脑上进行基准测试， Swoole 的性能总是 Go 的 2 倍。 \r", " \r", "\r", "\r", "至于为啥不用静态类型写，我个人干活也是比较喜欢静态类型的，因为强类型写出来更鲁棒性能更好，用脚本语言纯粹是写起来快，尤其是爬虫这种全是内容处理+细节处理而且需要常常改的东西", " micro benchmark 性能确实差不太多，不过 swoole 并没有比 go 快，在 go1.6 和 php7+swoole 下面，并发 10 个的时候，两者性能差别在 1%左右，当并发提高到 1000 的时候， go 比 swoole 快不到 10%，换成 go1.7 ，比 swoole 快 10%。比 go 快 1 倍，是跟 go1.4 比的吗？用 C 扩展还跑不过没有一行 C 代码的 Go 。如果稍微加一点儿逻辑进去， php 自身慢一个数量级的缺陷就暴露了。", "本人也是 phper 。\r", "\r", "楼主用的到轮子，我也折腾过，其实在请求、解析、清洗这个层面， php 和 python 都差不多，都有很好的轮子。\r", "\r", "说到效率， python 可能还不如 php 。(忘记在哪里看到的非官方资料)\r", "\r", "小规模的 PHP 都能支持，没啥大问题。但是规模大起来后，就尴尬了。\r", "\r", "php 调度一直都没有一个很好的解决方案。楼主的也比较粗糙，我自己实现的是用队列+数据库，也没办法很好的解决失败重连、暂停继续等问题。\r", "\r", "这个是个痛点，有机会可以一起折腾下，说不定就有惊喜了。", " 我完全是为了满足厂里的业务需要，现在这样也够用了，其实单纯的怎么更好的爬数据不是我的工作的重点，我精力在于和反爬虫较量上面，这里面很多东西就不好说太细了。所以目前暂时没有折腾轮子的想法，感谢邀请。\r", "\r", "至于说 php 的性能，在脚本语言里许多场景下下， php 数一数二的信心还是有的， php 本来就把性能和兼容看的很重： ", "好文，学到了很多，大赞", "撸主，我只是听说过爬虫，能带我入门不？ 而且我现在有一个相关的问题需要解决，能不能聊一下 @", "最近做的业务也是跟爬虫有关，只是选择器用的是 phpquery ，觉得也是很不错，和 jq 语法基本一致，关于分布式和多进程的问题用的是 php-resque", "表示 已经用 php 每天爬几 T 的数据了，哈哈，要想效率高，还是自己写框架比较好，好多第三方都不靠谱，例如 simple html dom", "好文 感谢分享", "写得不错", "楼上撕的也漂亮！！！", "速度怎么样？ phantomjs + webdrive 好像效率蛮低的说。 \r", "\r", "phpquery 稳定吗？ 与 python 的 beatifulsoup 相比怎么样？", "我也是 phper ，虽然基本不写爬虫，但是还是觉得用 python 写爬虫最大的优势就是在于 python 是 linux 的预装软件。如果只是想在一台机器上跑 worker ，这样的优势是巨大的。", "谢谢分享，有几个问题。\r", "您这种框架是针对每一个要抓的站点写一个 worker 程序吗？\r", "对一个站点起多个 worker 同时抓取时，多个 worker 是怎么通信避免重复抓取的？", "写的挺详细的。。给楼主点赞~  已收藏 ~", " 针对同一个站点，多个 worker 可以设置不同的范围，这样就避免重复了。", "感觉最大的问题是流量问题而不是语言的效率问题。如果是反爬措施牛逼的网站，只能通过降低访问的频率+换代理的解决。这就是流量最大的瓶颈。用 PHP 还是 python 的效率还是内存占用，在这个瓶颈面前几乎可以忽略不计。\r", "python 的分布式爬虫可以用 supervisord 来管理的。\r", "reuqests 听好用了的，最大的问题就是跟 gevent 目前搭配还不好。虽然作者写了例子教大家怎么玩。\r", "或者用 genvent+urllib2 来玩高效率了", " 划分范围也是需要通信的。比如 worker1 抓到一个属于 worker2 范围的 url ，他需要传递给 worker2 。", " 有啥问题可以直接这里说或者到我博客下留言，我比较倾向于把问题放到大家都看的到底地方\r", "\r", "\r", " 其实 dom 选择器捡个顺手的用就 ok 了，没啥区别。。。至于速度，驱动浏览器当然更慢，不过有一些技巧可以使之做到和 httpclient 速度差不多。。。这个我以后可能回分享一下自己的经验\r", "\r", "\r", " 这种就是需要高度定制的地方了，比如有 url 作为区分的、有关键字作为区分的，把区分字段加上索引每次爬的时候去查一下看爬过没，这种比较简单粗暴，我目前有个长期爬虫库里 7kw 用这种方法也没啥问题。。。。。", "要异步  直接上 node.js", " IP 池的确是个大问题，我们弄了几百个才勉强够用。除了网络资源外，真正的门槛是 APP 包的破解和验证码的破解，其它都是体力活。", " url 搞得好不好都能看出一个人认真程度。比如遇到 302 的跳转，最终的 URL 不是最初的 URL ，这个时候就需要开发者来以最终的 URL 来定。\r", "问题是，有工程师居然不检查这个然后说我们需要去重算法。这一点我 TM 都服了。\r", "至于去重问题，可以通过 simhash 来玩。如 mongo 的时候加上 simhash 字段。\r", "最后去重的时候，可以设置汉明距离在设置去重的尺度。最后基本上就能做到实时去重。\r", "抛砖引玉，不知道有没有达人有更好的玩法。", "非常高质量的文章。我也分享几点：\r", "1 、 Master 进程常驻的时候要注意内存占用和泄漏问题，及时 unset 一些没用的大变量\r", "2 、 Selenium 用来应对如淘宝一类的登录模拟很好用，取到 cookie 后就可以结束了，这方面我用 Python 来做，只是有时会捕获一些奇怪的异常（ ChromeDriver ）\r", "3 、 IO 密集的场景下异步的复杂度显然是低于多线程的，而且 curl_muti 系列函数的性能已经够用\r", "4 、抽取 HTML 内容我用 XPath ，直接从 Chrome 开发者工具复制路径就可以用\r", "5 、复杂验证码就交给打码平台，大把廉价劳动力日夜兼程\r", "6 、 IP 不够可以先用爬虫扫一扫网上的免费代理，再不够就去租\r", "7 、 35 L 提到了一些现在还不太好处理的问题， PHP 对爬虫集群的控制依赖于 Redis 确实比较粗糙，如果有别的思路可以交流交流", "我也写了一个爬虫帮公司爬对手网站得信息。我没做楼主这么细。\r", "我的方案比较简单：\r", "CURL 做一个 模拟多线程请求。 将要爬的 URL 每一进程划分为 10 批次。\r", "结合 linux cron  去 php-fpm 执行 脚本。\r", "脚本确保每 10 分钟跑一次和强制结束。", "这里应该线程： 将要爬的 URL 每一线程划分为 10 批次。  也就是每次运行爬 10 条 URL 。防止对手发现异常封 IP （当然，我做了动态的代理设置）。 10 分钟内 基本可以爬对手 100 个 URL 。基本 1 天时间内可以把 几个对手的内容都全爬了。", "很好很强势 但是 PHP 和其他语言不同的地方就是 PHP 开头要写<?PHP 什么时候才能去掉这个标签(-_-)", "  历史原因  必须要", "爬虫的难点在于反爬", " 关于你的第一点，我认为这是不对的，在长期运行的 php-cli 中老是有人说用 unset 及时释放变量来回收内存，这是典型的 micro-optimization 是邪恶的，变量超出了生存范围会被自动回收的。我们知道 php 变量回收是简单的基于引用计数， php 自从 5.3 开始解决了循环引用，也带来了一些负面影响( ", " php 的默认垃圾回收已经基本上能处理非极端情况，所以我个人认为在 php-fpm 中和 php-cli 中都没必要去 unset 。比如老有人说`$len=count($arr);for($i;$i<$len;$i++){balabla}`比`for($i;$i<count($arr);$i++){balabla}`强，的确要强一点，但是我们知道 php 的数组回记录其大小，也就是说 count($arr)是 O （ 1 ）的，两种代码的复杂度都是 O （ N ），没有本质区别，后者还要紧凑一点， micro-optimization 没必要。\r", "\r", "另外看来 chrome 作为一个有界面浏览器比 firefox 好，不知道你 chrome 有没有单机并发以及缓存定制之类的？ firefox 下又许多坑现在我都没法很好的解决。", " 你的观点是对的，使用 5.3 以后的版本不用考虑那么多内存问题。不过复杂场景下还是要根据具体情况区别对待。比如非标量类型的回收可能还是不及时等。\r", "\r", "你说的 chrome 单机并发我没明白是指什么。", " 单机 selenium 驱动多个有界面浏览器，并且不同的浏览器实例可以定制特性（比如代理、 user-agent 、图片加载，静态资源缓存之类的）", "现在用的还是 PHP Simple HTML DOM Parser ...", " 那倒没有。我只用来取登录后的 cookie ，最多开多个 tab ，没有定制到那么细致。", "写了个豆瓣图书的爬虫， ", " ，未完待续..", "马克，我一直都是瞎🐔写的", " 好文，赞一个！听说 PhantomJS 有内存溢出的问题， i7 跑 100 多个 PhantomJS 长期稳定，内存是多大呢？碰到过内存溢出问题么？", " 你说的 phantomjs 内存溢出是指单个 phantomjs 的内存溢出还是指 phantomjs 进程没法回收呢？如果是前者， phantomjs 内存消耗在 90M 上下，我的经验的（其实爬消耗比较大的网站 100 多 M 也可能）；如果是后者，你看一下你的 Selenium 驱动是不是 2.x ，然后去看看是不是我再下篇中的那个 bug ： ", "IO 密集？异步？我怎么感觉是 node.js 的菜呢？？", " 谢谢解答，已加关注，我们目前还没碰到过 100+PhantomJS 同时在内存跑的实例，不过以后肯定会用到的，有机会多交流。", " 这个国产的不错", "赞，还请介绍使用 phantomjs 的坑"]},
{"content": "", "reply": "80", "tittle": "你为什么/因为哪些方面不喜欢 ThinkPHP 框架？", "comment": ["因为培训班都在教，恨屋及乌。", " 你 out 了  据传培训班 现在教 laravel.", "ThinkPHP 小型应用开发首选\r", "php 不流行自己写框架么", "因为面试那些简历上出现 TP 的人，还有框架只写 TP 一种的人实在浪费太多时间，每次都抱着“不能对 TP 有偏见，还是面一下试试吧”的心态然后每次都后悔得不行", "😂表示不懂", "> @", " \"据传培训班 现在教 Laravel.\"  \r", "想看看他们坑不坑（网上只搜到个 5 天的 应该只是讲基础—— google 的， baidu 上可能坑学校多，但我直接当无视了）", "没有喜欢不喜欢，只有适合不适合！", "不是因为 thinkphp, 而是因为 php", "用过 3.X 的 thinkphp ，各种命名奇怪的全局函数， U 函数， i 函数之类的，命名空间混乱， MVC 划分不清晰，模块化也不好，其他的不太记得了\r", "\r", "反正印象很不好，被人要求用的", "先问是不是，再问为什么。(", "thinkphp 坑挺多，但是不至于因为这点东西而极端的不喜欢 thinkphp\r", "重点是用 thinkphp 的人里面渣太多", "我用过很长时间的 TP\r", "有很多个坑\r", "1.U 方法生成不按路由\r", "2.关联模型 create 自动验证不生效\r", "3.自动验证有很多莫名其妙的坑（明明是对的但是不好用）\r", "4.where 如果用字符串不用数组去写 会有注入（手册上没有任何说明，只是推荐使用数组形式  很多人都用字符串）\r", "5.where 或者 order 等 orm 链式操作 有一定几率 出现问题  用数组功能失效 必须用字符串\r", "6.模板引擎太丑，还得记模板引擎的语法，逻辑判断比较多的情况下特别乱，分不清 html 和模板引擎\r", "7.模板引擎解析总是出问题，特别是 js 写到页面上的时候\r", "8.如过不改目录结构 日志会暴露\r", "9.命名空间混乱（感觉 TP 的命名空间毫无意义，特性完全没用到），会有两个同名文件用同样的命名空间，导致各种 ide 的代码提示功能失效\r", "10.按照官方的说明，添加第三方扩展的时候要放到 TP 框架的文件夹，以后升级什么的比较麻烦（基本也不要指望 TP 更新了）\r", "11.框架不自带 .gitignore 每次提交 git 的时候 都得自己写这些忽略文件 十分麻烦\r", "12.官方并不经常更新，一些 BUG 也得不到及时修复\r", "13.框架不带用 redis 存放 session 的功能，如果自己网上找办法还得再 TP 框架的文件夹中添加文件\r", "14.Model 的关联模型什么的基本是个残废，手册看不懂，只能用 join  等着被注入\r", "15.。。。。。。。。。。。。。。。。。。。。。\r", "不说了 还有很多  一时想不起来了，这是刚才能想起来的这些\r", "\r", "\r", "我很喜欢 laravel  \r", "主要原因（跟 TP 比 除了臃肿一些，我基本没找到任何缺点）\r", "1.有 composer ，第三方 vendor 非常全并且好用\r", "2.更新非常快  基本紧跟 PHP 版本更新 ，能让你了解并且使用更新，更优秀的 PHP ，写出更优秀的代码。\r", "3.语法写起来非常舒服\r", "4.简单的联表特别方便，查出来的值不会像 join 一样 混在一起。\r", "5.多看 laravel 的代码  写法，会让你的代码写得越来越漂亮\r", "6.。。。。。。", "没有不喜欢，只是有更多的选择，为什么要不喜欢 ThinkPHP ，都是为开源世界做贡献，难道开源界也有二等公民的说法？？？", "别说了 现在培训机构都教 Yii2  Laravel 这些流行框架了 \r", "TP 只是基础过一遍的 \r", "多用用其他框架就是知道 TP 好不好了", " 我想问个问题 大家项目代码中还会允许使用 JOIN 查询?", "  为啥不允许 join", "文档？\r", "\r", "我也喜欢 Laravel ，过去用 CI 也觉得很棒。", "不喜欢 TP 的是因为他们还不知道 TP5 ^_^ 喜欢 TP 的用户是一直在享受 TP 带来的好处 和 见证 TP 的成长", " 现在的培训班都这么屌了啊………………", "我之前也很喜欢 Thinkphp ，尤其是出了 5.0 之后觉得会有很大起色，但是看了一些人写的代码，后来我想错了。\r", "\r", "Thinkphp3.2 已经有 @", " 吐槽过了，我就谈谈其他的吧。\r", "\r", "首先 Thinkphp5.0 号称模型层有巨大改进，然而我发现连用 model 工厂函数生成 common 公共模型都是错的。我去提 issus 被其他用户告知要手动按命名空间生成。\r", "\r", "其次这个模型层的官方文档非常简单，很多用法连例子都没有，如果不用 ide 的话都不知道某些方法的参数是什么。总之用 Thinkphp 的话不是很熟练的情况下不能用编辑器，否则等着踩坑吧。不仅仅是模型层，其他文档也一样，文档还是太简单了，可能是刚发布不久还在修订中。\r", "\r", "接着就是缓存了， Laravel 中缓存有个 remember ，可以以很优雅的方式写缓存的存储+获取，而 Thinkphp 中我得先判断缓存是否有，有的话直接 get ，没有的话得先 set 然后输出，写法非常不优雅。不仅仅是缓存，其他相关的服务也一样不优雅。\r", "\r", "然后还有他的源码，看 5.0 的源码看到第一个加载的核心类 Loader.php 我就看不下去了，整个类文件里面所有的方法连 docblock 注释都是有的有有的没有， private 方法和 public 方法混合摆放，让我们阅读代码的时候无法以一种自顶向下的方式轻松的阅读，给人的感觉就像是这个代码是由几十个人没有用版本控制系统写出来一样。私有成员也没有用_下划线标明，代码毫无规范性。某些类库头部连作者，包名，修改时间都没有（难道开源项目就没有责任到人的说法嘛？）。可能我说的现象现在有些代码改了，但是确实是有这种情况的。\r", "\r", "最后也是我最想表达的一点： Thinkphp 框架即使本身已经很优秀了，但是由于它简单上手，导致使用它的人群平均水平比较低，写出来的代码质量非常差，体现到实际项目中很多人就认为这是框架的锅。相反用 Laravel 的人由于本身更具有好学，主动进取，对英文掌握良好（这点非常重要，英文好的人，他们变量名，标识符都写的非常规范），所以导致我们看起来 Laravel 写的项目整体都非常漂亮优雅。", " 我刚把挑 TP 毛病的这一段看了一半就点了感谢，妹想到后面还有吹 Laravel 的，有点后悔了。。。\r", "\r", "说实话， Laravel 那个臃肿啊，我真不如直接上 java 。最后，给私企小老板干活儿，碰到那种我要两周做个像 xx 一样的网站这种需求，用 TP 是最合适不过的了。\r", "\r", "最后， PHP 是最好的语言， TP 是最好的框架，都没有之一的。 ", " ", "因为不会拍黄片", "虽然说说 TP 是二流作品有点不好听，但两个东西比较总是要好坏之分的， TP 相比其他框架就是差，再有人怎么说适合小项目， TP5 有很大进步之类的，它还是一个很差的框架", "不知道为什么，可能是水平比较低，反正接私活用 tp 因为快，给公司做项目或者重要项目用 laravel 因为喜欢。\r", "\r", "哦对了我是不喜欢 tp 的。主要原因可能是看大家吐槽看多了。\r", "\r", "其实 laravel 的坑也有一些。但是熟悉了之后回避一下，大部分功能还是用起来很舒服。所以喜欢 laravel 。", " \r", "\r", " \r", "\r", "从两位回复的内容一看就能知道真相。\r", "\r", "国人开发的框架，哪里有坑，大家清清楚楚明明白白。遇到问题要么看下代码，要么看看文档都能解决。\r", "一个稍稍用心的人，一两周就能把 TP 搞得非常熟悉，了然于心。\r", "\r", "这也是大家喜欢或者同时不喜欢 TP 的原因：\r", "1 ，简单，国人思维，用的人也不少\r", "2 ，不为设计而设计，不追求过度优雅，真正是入门技术人员的框架\r", "3 ，国内的开发团队，新技术新应用相对滞后\r", "\r", "回过头来说， Laravel 正好相反。\r", "\r", "对于新人，或者项目不复杂的团队来说，一个能控制的框架才是最合适的。对于团队，随便招个人就能接着干活的，才是最企业级的。\r", "\r", "我诚恳的建议，一些自认为技术很牛逼的高手们，不要向新人灌输某某技术不行，某某框架不行的言论。\r", "\r", "因为：\r", "1 ，新人大多盲从，一开始就挑一个复杂度高的框架，可能会影响到入门，甚至放弃；\r", "2 ，不负责的言论会很打击开源团队的奉献精神。 TP 开发了 10 年，我可以保证这十年， TP 的团队每天都有几个小时的精力放在这个框架上。这样的团队和精神在国内真是数一数二，请大家去翻阅 TP 的 commit 记录，值得你感动。\r", "3 ，理性对待技术，不是你使用了某个新技术傍上了某个新框架，就显得你技术牛逼有内涵。基于 TP 我们也能跑出 10 亿级的业务。", "我公司就用 tp 3.x ， 一句话评价： 几个（ 3 以内）中专以下学历的人弄的小作坊作品。\r", "\r", "各种自作聪明的东西其实是脱裤子放屁，甚至画蛇添足：\r", "0. 恶心的.class.php 文件命名(PHP4 时代的习惯)， 导致没法使用第三方库\r", "1. 自动生成一个 compile 文件，没听说过 op cache 吗？\r", "2. 丑陋的模板标签，嵌套过多经常会莫名出错\r", "3. 运行过程中，日志先保存在一个全局变量里却没有检查日志大小，且无法关闭。 所以如果需要 php 程序常驻进程的话，会因超过最大内存限制而终止。\r", "4. 无法支持单元测试", "喜欢就用，不喜欢就别用，没有那个框架好那个不好，重点看自己的熟练程度", " \r", "\r", "别忘了 TP 至少有 10 年历史了，历史遗留的特性很正常。\r", "而且 ThinkPHP 还要兼容各种建站空间。\r", "所以现在新版本直接跳到 5.X 了", " \r", "1 ，新人大多盲从，一开始就学一个组织混乱的框架，影响他一辈子，说不定一辈子都只能写 tp 了；\r", "2 ，不负责的言论会很打击优秀的开源项目的奉献精神。开源不只是奉献，开源的世界也有优胜劣汰，好的东西喜欢的人多，差的东西讨厌的人多，不因为开源而改变，作品看好坏，不看感动值， TP 的开发有付出，但他们也获得了回报，并且成功将一大批人的 php 水平拉低一个等级\r", "3 ，基于 TP 能跑出 10 亿级的业务我佩服你，当我什么也没说，希望早日看到你们关于 TP 支持 10 级业务的技术分享", " 现在 Java 也可以很简洁了，因为有了\r", "spring boot ，适合快速开发了。", "没 Laravel 看着舒服", " 你觉得 Laravel 一开始就是完美的么 那是 Laravel 团队以及大量贡献者参与而完善的，你举了个 remember 的例子，事实上这个 TP5 方法已经有了，说明什么，说明每个框架都在不断的进步和完善，那我也可以举很多 laravel 没有的例子，这个不能代表什么。我感到悲哀的是明明知道怎么才能更好，却不会去建议和贡献，却只会抱怨。\r", "\r", "其实 TP 错就错在太简单了（谁说简单的框架就不能优雅了），所以用之者众，很多人写出的代码（尤其是培训班出来的 这个只能怪培训机构的讲师）乱七八糟，这能代表框架的好坏么？ 我用 C 语言也能写出垃圾代码，你能说 C 语言不行么。大家对国内开源的要求太高了，不是鼓励，不是建议，而是遇到问题就抱怨。\r", "\r", " 我不太赞同你的说法， TP 没有也不可能拉低一个人的 PHP 开发水平， TP 是让更多的人会 PHP 开发了，也不是只有会 Laravel 开发的才叫 PHP 开发，不要把 Laravel 给神话了，将来一样会有其它的框架取代它。 TP 只是做好自己力所能及的事情，让开发变得更简单，无论外界怎么评说，官方还是自己的产品态度，大多数人都停留在历史版本上看 TP ，那也是不公平的，优胜劣汰、适者生存的道理大家都明白， TP 是自然选择的结果，我们也有自己的发展权利，也在进步。\r", "\r", "最后，无论你是否喜欢 ThinkPHP 不会影响和改变任何东西，因为世上本来就没有完美！", " 我确实两年左右没碰过 tp 了， laravel 其实我用的也不多，没必要神话，但是 laravel 比 tp 好我觉得这是事实， tp 想要进步就得多向优秀的框架学习\r", "\r", "什么 TP 错就错在太简单了，这是不成立的，我用 tp 的时候， tp 只是看起来的简单，提供一些大写的单字母的全局函数就是简单吗？命名空间不明不白是简单吗？ MVC 模糊不清是简单吗？这是偷懒。且不说那莫名奇妙，逻辑混乱的模版引擎了，还有那些质量奇差，表现奇怪，基本没法修改的第三方的 widget\r", "\r", "”无论你是否喜欢 ThinkPHP 不会影响和改变任何东西，因为世上本来就没有完美“ 这我就不开心了，感情开这一帖子大家讨论半天不改变任何东西，那还有什么意思，我就是希望更多的人能选择一个好的框架，而不是 TP ，能改变一个人也好\r", "\r", "估计以后因为很少用 php 了，不过有时间我还是试试看 TP5 到底水平怎么样了", " 说句实话 这种话题 在 V2 和 知乎大把，年年有，月月新，能改变啥？ 你去看看 tp laravel yii 的百度指数 谷歌趋势 TP 照样在增长 你数一下国内的网站 是 laravel 的多还是 TP 的多 你不去看不去学 怎么知道 TP 没有向优秀的框架学习呢？ TP 凭啥就不能成为一个更好的选择呢？本来就是不同的框架定位，宝马奔驰车是好，可每个人都需要宝马么 只是不要带着有色眼镜看世界，根本看不清楚。 \r", "\r", "再奉劝一句那些曾经或者还在用 TP3 或者更低版本的， TP5 已经出来了 你们的思想 OUT 了 如果不明白 我给个传送门 ", " 好吧我承认我的确没有为 tp 贡献什么，也承认 tp 在后来几个小版本的发布中多出了很多优雅特性。", "至于你说的我没有建议我就有点不高兴了，我记得每一次你在 v2 发布新版本的 tp 我都有过大量回复建议，不信你可以去找找。", "还有你说的贡献，我想说一段往事，记得 tp 还在 rc 版本的时候，当时加了一个群，提了一个小问题(查了手册解决不了，没查源码)，群里面有个管理员当时对我说了一句，滚去看手册，我说就是因为手册没有，论坛发帖没人回复我才来群里面问的啊，然后又有个管理员说你问完了吗？问完了你就可以走了，然后我就被 t 了。在我被 t 之前我也无数次看到管理员和群里面的一些人不停的争吵，甚至还有人在论坛说 tp 手册收费，结果一群人各种贴吧式的花样嘲讽，穷鬼玩什么框架之类的言论。", "我不知道是不是国外的开源社区也都戾气那么重，反正 tp 给我的印象就是，劳资花了十年开发的框架，我无私开源，慷慨奉献，你们爱用不用不用别 bb 。", "大家能在这里吐槽，说明用过的人和关注的人很多，希望你们能整顿好社区，营造粉丝效应，不要求你做出情怀，至少别伤了我们这些普通用户的心。", "看了一下 tp5 ，官方文档竟然是收费的，而且没有英文版，这点就不如 yii 和 vuejs 了，同样是中国开源软件，文档各种语言齐全而且免费。去年某个项目想画图表，我推荐了 echarts ，但是 team 里有个别不懂汉字的外国人，只能放弃，花几千块钱买了 highcharts", " 不要在意某些人的态度，你们很棒！\r", "\r", "那些装 B 党，手机 iPhone 、电视大法、电脑 MAC 、邮箱 GMAIL ……否则就是非我族类。殊不知，他们才是少数派。嗯，他们肯定会说，少数派才是真理！", "因为我用 ThinkPHP 写的贼 6.\r", "不过个人爱好还是会用下 symfony 、 laravel 。\r", "另外写的 6 的也有 Yii ，不过那是 2 年前的事了，现在用的不多。", "你要轮子，又嫌 TP 简陋，还不如直接上 Java ，跑车多，半成品少， Maven CtrlC CtrlV 大法好，\r", "\r", "除了吃点内存外，真不比 PHP 一些重量级框架要差", "建议想学 PHP 框架的，先从自己 CI 入门，再学 CakePHP ，再到 TP5 ，再到 Laravel ，由简入深，这个路径绝对可以尝到进步的乐趣。\r", "\r", "再多说一点： TP5 的文档是免费的， PDF 以及在线都可阅读，但并不全面，我当时用 TP5 写小项目的时候，是下了一个开源的项目，结合文档和搜索引擎，东拉西扯完成的。", "我最后表明我的观点，每个框架都有优劣，至于英文文档问题，为啥有人热衷翻译 Laravel 就没人翻译 TP 呢，官方目前主要服务国内用户也并没有国际化。有人提到官方文档的收费问题， yii/laravel 都有收费书籍 TP 为啥不能有自己的收费书籍和教程（官方的完全开发手册一直都是免费的）。而且我也没觉得 Laravel5 能比 TP5 高出多少分，而且人家团队和参与贡献多少人， TP 团队多少人，如果有那么多人参与贡献 TP 会发展的更快更好。我们已经在尽可能做的更好，起码在这个只看结果的时代，我们还是交出了 TP5 ，照理 V2 和知乎天天有人说 TP 不好用，我们还瞎折腾啥呢，赶紧放弃呗，好像做开源能赚钱似的。我们就是想证明国产也能有好用的框架，也能解决大部分用户的快速开发需求，大家觉得 Laravel 好用，这个很正常，没必要贬低和抨击其它框架，一个框架产品是否好用，还在于有多少人在用，生态如何，否则再好也是一个小众产品，另外从使用者的角度来说，关键在于你是否能驾驭，一个真正的高手，根本不会在乎用什么框架 甚至不需要框架，都能驾驭自如，框架本来就是为某些用户群而设计的，那么就青菜萝卜各有所爱吧，你管别人喜欢啥，人家凭啥要告诉你！", "thinkphp3.2 到 thinkphp5.0 完全没有升级指南。。官方说直接重写比较好。。\r", "无力更新到 5.0 。。但愿官方会一直维护 3.2", "“一个真正的高手，根本不会在乎用什么框架 甚至不需要框架，都能驾驭自如”\r", "讲真，要是 TP 都是以这个思路做框架的，我连试都不想去试 。都是国产，学学 vue 做框架、做开源的思路吧\r", " 如果你是代表官方开发组的，建议你发言的时候还是注意一下影响", "  青菜萝卜是各有所爱，但狗屎人人唾弃", "还是忍不住来说下\r", "楼上某些人还是去写 java 吧\r", "讲真 我遇到的的坑跌的 java 程序员比写 php 的多太多了", "个人觉得还是没必要互相攻击，互相伤害。\r", "任何一个市场都是遵循优胜劣汰的法则。好的东西总是会在历史的进程中存留更长的时间。\r", "\r", "--------------------------------------------------------------------------------------------------------------------\r", "\r", "说不定，我们一边在喷着 TP ，一边还在写着 TP 的代码。喷完后该干嘛还是得干嘛，不是么？:)", " .......你们自己内部吵吵就好 ,  拉上 java 干嘛啊", " 就是啊，还嫌黑 PHP 的不够多所以想要拉仇恨吗", "这种引战贴也是够了，爱用不用", "tp 和 php 一样，都不收待见。真的，爱用不用。闷声发大财不知道吗？\r", "这种帖子除了挑起争吵有什么意义。", " 哎\r", "人生苦短\r", "我用 Python\r", "又是一个争论贴，实用就好了", "就是不喜欢这个名字。一看到就想起来 Think Java 、 Think C++ 之类的。", "一个框架，竟然会存在 SQL Injection 的漏洞，也足够奇葩了。\r", "\r", "这种垃圾让人怎么放心用！！！！！！！！！！！！！！！！", "提个小问题： ThinkPHP ，开发这框架的公司怎么赚钱呢？我对各种开源框架到底维持下去一直存在非常大的困惑。这也是我不敢用 tp 的一个重要原因。不敢说大公司的轮子一定好，一定活得久，但小公司的轮子，肯定让我不放心。", "因为 php", " laravel 是真的强，越了解它，越喜欢它。代码优雅，每次用 laravel 都不觉得累。", "预防性 Block LZ", " laravel 臃肿确实是的，这点也是我一直觉得非常蛋疼的。。  给私企的小老板干活 还是得用 laravel,比 thinkphp 高不知道哪里去了，主要是第三方类库特别全， ueditor ， RBAC ， datatables 啊 等等，引个好用的包直接就能用，特别方便。 TP 要是实现这些东西都得手动论坛找然后复制进去，你也不知道论坛的代码对不对，论坛的代码有了 BUG 你也没办法帮他们修复。", "还要说那么多了， Symfony  一步到位～", "我觉得很好用啊，就是做点小东西时有点重", "短时间写个小东西不错，唯一觉得坑的就是路由了", " laravel 这玩意好归好，但是它最大的弱点就是，我如果要用它，我为啥不去用 java 的那堆 mvc 呢。论严谨漂亮， PHP 写成的东西先天就不如 java 。搞的和 java 一样臃肿，开发效率降到和 java 一个水平了，那 php 的优势就没了啊", " \r", "1.我从来没听说过从框架开始学习的，如果他们会被一个框架搞的云里雾里，他们这辈子也就这样了\r", "2.一个框架成功的把一群开发者的 PHP 的水平拉低了？你确定你是在黑？ TP 有你这么大的影响力吗？如果他们的水平低，那是真的低，不是被拉低，任何一个框架都是基于特定需求设计的，不可能没缺点，但都有自己独到的优点，我觉得你过分欣赏 Java 那套 MVC ，所以心里老是对框架标准过高，但是设计都是有代价的。你有兴趣的话，真应该去 java 那边呆几年，然后你就会明白设计的代价是什么，就不会求全责备了\r", "3.10e ？你指高并发吗？高并发业务和和语言级框架有什么关系啊。说这话优点故弄玄虚的味道，绝大部分高并发的瓶颈并不在语言级框架上，尤其是 PHP 的绝大部分业务都是基于脚本模型的前提下。更何况，有多少业务能搞到 10e 这个数量级啊？你确定你不是过早考虑优化了吗", " TP 应该向 laravel 学习这点我认同，但是认为有个度，不能“过度学习”， laravel 的哲学和 TP 是不一样的，如果 TP 放弃了简单的话我觉得那是失败，不要觉得简单和丑陋就一定是坏事。之前就曾经有国外技术大牛讨论，设计严谨精美的 haskwell 路线为啥最后败给了 C 语言这种既不优雅又不严谨的路线。根源就是，你想严谨，想要优美，是有代价的，而大部分人是凡人。所以 TP 的路线选择的非常对，简单化，让水平一般的人也能快速上手。是的，你们觉得简单带来丑陋，但是 who care ，对中国的现实来说，用的人越多越好。这些人中有一部分终将脱颖而出，有一部分一辈子也就停留在那水平了，这不是框架的错", "A B C D E ................", "那么问题来了。。最近想开始学习 php ，应该从什么学起来比较好。", "路上的都让开， phalcon 来了", "公司在用禅知，有了解的么？", "thinkphp5 以前的版本，开始时我有看过，很难受，所以我后边一直用的是 codeigniter ，现在由于工作需要，现在才认真开始用 thinkphp5 了，还比较顺利，但是说好的 composer 自动加载，我刚才要用一个验证码 dapphp/securimage ， composer 安装的，在 controller 里边用不了，这是什么鬼？ codeigniter 完全没问题。 @", " 知道问题了，要 \\ 开头使用。", " 不想一条一条讨论了，我的观点还是 TP 说自己简单，以此为卖点，但其实一点都不简单，而是一种无设计或者设计混乱的表面简单，这是 TP 3.x 给我的印象，不知道 5 现在是什么样子，看了上面 TP 的人的回复，我也不想去试用了\r", "不是简单带来丑陋，是简单带来优雅，糊弄人的简单才丑陋", " TP5 的路由相当强大\r", " 这是老版本了而且是历史遗留问题，新版本已经彻底废弃了单子母，改为助手函数\r", " TP 虽然此次重构借鉴了 Laravel 的部分思想，但并非照搬，我们仍然保持简单易用的特性，设计也有所精简，但仍然实现了 80%的 Laravel 核心功能，但不会让开发者觉得门槛很高而且性能、文档方面的优势我们仍然会保留。\r", " 我其实并非针对你说的那句话，请不要介意，毕竟还是有很多用户一直在支持和贡献的 至于你在群里面受到的遭遇，我深感抱歉，群管也并非代表官方，都是社区义务帮忙，必然有时候有失妥当在处理问题的时候\r", " 如果我的言语有过激的地方 请包涵，确实是每次看到类似的帖子，心中是鸣不平的\r", " 你说的是生态问题 我们一直在努力，尤其是 TP5 拥抱 composer 之后，这个问题会更好的改善\r", " 关键是你见过国内哪家大公司愿意好好的做一个开源产品么，起码我们还坚持了十年，开源产品是属于社区的，不是属于某个公司或者个人的，这是很多人的误区，所以觉得开源产品的完善和自己无关", " 居然说开发效率不如 java ？黑的够可以的", "垃圾 tp,垃圾 Laravel\r", "Symfony 是 PHP 最好的框架", " \r", "公开的文档比 tp3 还少,可以说,比起看文档,可能看源码来得要快.\r", "目前有个需求给做一个公文签收系统,里面包含论坛 /文章,我拿蝉知的博客模块改成了公文模块,按用户真实姓名限定是否可以查看.\r", "不过蝉知的 zentaophp 框架和 ci 比较像,有 ci 基础的很快就能知道怎么用", "3.x 还是很招人喜欢的，但是 5.x 就把其他框架有的几乎不懂的就 copy 过来，文档弄得也不是很详细，感觉乱糟糟的，他那不是不喜欢，就是现在有些乱而已，慢慢来吧，希望会好起来", " 嗯\r", "\r", "关于 链式操作 这个正式名称叫 Fluent interface\r", "（这个词大概是 ThinkPHP 自己生造的）\r", "\r", "see ", "不太喜欢 tp ，那种函数命名太坑了！看着都不习惯！不过我入门的时候还是用 tp ，所以新手还是用 tp 比较好！我现在用的是 laravel ！感觉上比 tp 舒服一下！~", "培训班教 laravel? laravel 涉及的东西那么多,让新手学,估计十不存一"]},
{"content": ["<div class=\"topic_content\"> <a target=\"_blank\" href=\"/t/328375\">/t/328375</a></div>"], "reply": "15", "tittle": "```return true !== $result ? $result : true;```是什么 Trick？不等价于```return $result;```吗？", "comment": ["result = 1 的话返回 1 ， result = true 的返回 true", " 你看，仍然是完全没区别。\r", "\r", "对的，就是没区别。这不是 Trick ，只是习惯。", "不谈黑点，这句 return 的意思是只有在 $result 严格等同于 true 的时候才返回 true ，否则原样返回 $result 。\r", "\r", "这样写应该更容易看懂： return $result === true ? true : $result;\r", "\r", "可以简写成： return $result === true ?: $result;", "一样 ， over", "写这样的代码该打。", "不等价。\r", "\r", "result = ['a'=>1,'b'=>2]  的话返回 ['a'=>1,'b'=>2] ， result = true 的返回 true", "`return true !== $result ? $result : true; 这个写法确实继承了 thinkphp 一贯的脱裤子放屁的传统\r", "\r", "直接 return $result 就行，他们的脑洞不是常人能理解的。", " 所以和 return $result 到底哪里不等价了。。", "没区别。", " 所以哪里不等价了？。。。。", "他们是为了配合上面的 false !== $result 和 true !== $result ,其实没有区别", "一样的  result 和 true 一样就返回 true   如果不一样就返回 result  \r", "\r", "想起一个段子 \"和女朋友意见一样就听我的，意见不一样就听她的\"\r", "\r", "a === b ? a : b;", "哈哈 我脑残了 看错了。 等价的。", "确实等价，同样想歪了。", "可能是从一个别的什么奇怪的表达式改了逻辑变成这样的， 233"]},
{"content": ["<div class=\"topic_content\">在学 php ，拿 WeCenter 进行研究。\r<br>很好奇他们计划任务怎么做的，貌似并没有依赖外部的服务。\r<br>研究了下发现 app/crond/main.php 用来管理控制定时任务，但并没有找到是在什么时机触发它允许的。\r<br>有人能来讲讲工作原理么？非常感激</div>"], "reply": "7", "tittle": "WeCenter 的计划任务是怎么实现的？", "comment": ["就那么几种，系统的 crontab ，或者用户每访问一次就执行一次任务", "几种实现计划任务的方法 ", " \r", " 并没有发现 WeCenter 调用 linux 系统服务，所以很好奇他们怎么实现的。用户访问去触发的话很不规律啊。但看 wecenter 后台，能够很精确的控制任务的执行频率", "很久以前看 dz 的源码，计划任务是用户触发后 ignore user abort 同时设置不超时，就常驻后台运行了。几年前用过这个原理写过一个说说的爬虫，找出过周围同昵称的美女。好用。", "好像是：\r", "用户访问时，随机调用 cron 接口实现的😂😂", " 找到了， PC 端页面模板中有一端 js ，通过建立 img 标签去请求 crond/main.php\r", "谢谢大家", "这不还是靠用户访问去触发"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h3>一哥们想搭建个站点， V 站的童鞋有熟悉 phpcms 的吗？</h3>\n<p>要求：用 phpcms 搭建一个站点，并且一个类似的网站抓取数据放进数据库，页面稍微调整一下（主要是换一些 logo 图片之类的）</p>\n<p>多长时间 多少钱？\n有意向的童鞋联系企鹅号 MTAxNzEwOTU4OA==</p>\n<p>（不喜勿喷，不接勿喷，谢谢大家）</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>已经有人接单了　谢谢大家</p>\n</div></div>"], "reply": "9", "tittle": "小项目估价", "comment": ["节点发错了  管理员大大 能帮忙移动一下吗？  3Q", "500 不能再多", "这年头采集站 ，不赚钱 ，估计你成本都拿不回来 ，", "  OK  朋友想做的   我帮忙问问", "顺手一搭就完了，就别收人钱了，让他欠你个人情，还随时可以撂挑子。这个世界，甭管你多牛 X ，拿人钱都是孙子", "这个项目 要看爬取难度，网站只收搭 建 费，费用不会太高\r", "爬取这价格差别就很大了，小到几百，大到上十万都会有\r", "如果他跟你要的是《我查查》的数据库呢？？\r", "500??", "楼主你转给 @", " 把，只要 500", " 支持，哈哈", " 同意"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>ThinkPHP V5.0 ——为 API 开发而设计的高性能框架</h2>\n<p><img alt=\"\" src=\"http://box.kancloud.cn/2015-12-12_566b6a10506a4.png\"></p>\n<p><strong>V5.0 版本由<a href=\"http://www.qiniu.com/\" rel=\"nofollow\">七牛云</a>独家赞助发布</strong></p>\n<h2>V5.0.4 主要更新：</h2>\n<ul>\n<li>关联模型重构并增加多态一对多关联；</li>\n<li>数据库支持一个字段多次调用不同查询条件；</li>\n<li>增加数据库 CURD 事件支持；</li>\n<li>路由到类和控制器的方法支持传入额外参数；</li>\n<li>支持全局模板变量赋值；</li>\n<li>模型支持独立设置查询数据集对象；</li>\n<li>日志针对命令行及调试做出改进；</li>\n<li>改进 Hook 类的行为方法调用</li>\n</ul>\n<h3>[请求和路由]</h3>\n<ul>\n<li>请求缓存支持模块单独开启</li>\n<li>Request 类<code>post</code>方法支持获取<code>json</code>方式的请求数据</li>\n<li>路由到类的方法和控制器方法 支持传入额外参数，用于方法的参数</li>\n<li>改进控制器自动搜索的目录规范</li>\n<li>改进请求缓存</li>\n<li>改进自动参数绑定</li>\n<li>修正路由的请求缓存设置</li>\n<li>改进 Route 类 name 方法</li>\n</ul>\n<h3>[数据库和模型]</h3>\n<ul>\n<li>增加数据库查询（ CURD ）事件</li>\n<li>改进多表更新的字段不存在问题</li>\n<li>改进 Model 类的<code>useGlobalScope</code>方法</li>\n<li>修正子查询作为表名查询的问题</li>\n<li>Model 类增加<code>resultSetType</code>属性 用于指定模型查询的数据集对象（默认为空返回数组）</li>\n<li>Model 类增加<code>toCollection</code>方法（自动调用）</li>\n<li>关联模型架构调整</li>\n<li>改进预载入<code>with</code>方法的参数支持小写和下划线定义</li>\n<li>修正关联多对多一处错误</li>\n<li>改进关联多对多的查询</li>\n<li>关联模型支持多态一对多关联</li>\n<li>预载入关联查询支持关联对象属性绑定到当前模型</li>\n<li>支持追加关联对象的属性到当前模型数据</li>\n<li>一对一关联预载入支持 JOIN 和 IN 两种方式（默认为 JOIN ）</li>\n<li>改进多对多查询</li>\n<li>改进模型更新的数据变化比较规则</li>\n<li>查询支持一个字段多次查询条件</li>\n<li>改进 sql 日志的 sql 语句</li>\n<li>修正<code>join</code>自身表的别名覆盖问题</li>\n<li>模型类的<code>connection</code>属性和数据库默认配置合并</li>\n<li>改进<code>in</code>和<code>between</code>查询条件的自动参数绑定</li>\n<li>改进 Query 类对数据集对象以及关联字段排序的支持</li>\n<li>增加模型的快捷事件方法</li>\n<li>改进 Query 类的<code>getTableInfo</code>方法缓存读取</li>\n<li>model 类的<code>saveAll</code>方法支持调用<code>allowField</code>方法进行字段过滤</li>\n<li>修正关联查询的时候 <code>whereTime</code>方法的 bug</li>\n<li>改进 Query 类的聚合查询</li>\n<li>table 方法支持字符串方式的子查询</li>\n<li>修正<code>count</code> <code>avg</code>方法使用<code>fetchsql</code>无法正确返回 sql 的问题</li>\n</ul>\n<h3>[其它]</h3>\n<ul>\n<li>改进命令行下的日志记录</li>\n<li>部署模式下简化日志记录</li>\n<li>增加 debug 日志类型 仅限调试模式记录</li>\n<li>改进 Template 类<code>parseTemplateFile</code>方法</li>\n<li>改进 Validate 类的<code>getRuleMsg</code>方法</li>\n<li>控制器的<code>error</code>方法在 AJAX 请求默认返回 url 为空</li>\n<li>Validate 类架构方法增加<code>field</code>参数 用于设置验证字段的描述</li>\n<li>改进 App 类<code>invokeMethod</code>方法对架构函数依赖注入的支持</li>\n<li>增加 RedirectResponse 的<code>restore</code>方法返回值</li>\n<li>View 类增加<code>share</code>静态方法 用于静态赋值模板变量</li>\n<li>验证类增加<code>hasScene</code>方法判断是否存在某个场景的验证配置</li>\n<li>修正 redis 和 session 驱动的<code>destroy</code>方法返回值</li>\n<li>空操作方法的参数传入去掉操作方法后缀</li>\n<li>在控制器中调用 request 和 view 增加类型提示</li>\n<li>改进<code>input</code>助手函数支持多维数据获取</li>\n<li>Cache 类增加<code>pull</code>和<code>remember</code>方法</li>\n<li>改进验证类的<code>confirm</code>验证规则 支持自动规则识别</li>\n<li>改进验证类的错误信息定义</li>\n<li>增加 Validate 类自定义验证错误信息的替换规则</li>\n<li>Cookie 类增加<code>forever</code>方法用于永久保存</li>\n<li>模板渲染支持从视图根目录读取模板</li>\n<li>改进 Hook 类的 exec 方法</li>\n</ul>\n<h3>[调整]</h3>\n<ul>\n<li>Db 类查询不再支持设置自定义数据集对象</li>\n<li>废除 Query 类的<code>fetchClass</code>方法</li>\n<li>控制器的<code>error</code>方法在 AJAX 请求默认返回的 url 为空</li>\n<li>关联方法定义不支持使用小写下划线，必须使用驼峰法</li>\n<li>行为类的方法必须使用驼峰法命名</li>\n</ul>\n<h2>[ 文档 ]</h2>\n<p>官方开发手册已经同步更新到 V5.0.4 版本 [ <a href=\"http://www.kancloud.cn/special/thinkphp5_quickstart\" rel=\"nofollow\">5.0 快速入门系列教程</a> ]</p>\n<h2>[ 下载地址 ]</h2>\n<p>Composer 安装 ： composer create-project topthink/think tp5 --prefer-dist</p>\n<h4>[ Github ]</h4>\n<ul>\n<li>应用项目：<code><a href=\"https://github.com/top-think/think\" rel=\"nofollow\">https://github.com/top-think/think</a></code></li>\n<li>核心框架：<code><a href=\"https://github.com/top-think/framework\" rel=\"nofollow\">https://github.com/top-think/framework</a></code></li>\n</ul>\n<h4>[ 码云 ]</h4>\n<ul>\n<li>应用项目：<code><a href=\"https://git.oschina.net/liu21st/thinkphp5.git\" rel=\"nofollow\">https://git.oschina.net/liu21st/thinkphp5.git</a></code></li>\n<li>核心框架：<code><a href=\"https://git.oschina.net/liu21st/framework.git\" rel=\"nofollow\">https://git.oschina.net/liu21st/framework.git</a></code></li>\n</ul>\n<h4>[ Coding ]</h4>\n<ul>\n<li>应用项目：<code><a href=\"https://git.coding.net/liu21st/thinkphp5.git\" rel=\"nofollow\">https://git.coding.net/liu21st/thinkphp5.git</a></code></li>\n<li>核心框架：<code><a href=\"https://git.coding.net/liu21st/framework.git\" rel=\"nofollow\">https://git.coding.net/liu21st/framework.git</a></code></li>\n</ul>\n<h2>[ 扩展包 ]</h2>\n<p>下面是针对 ThinkPHP5 的扩展包 需要使用 Composer 安装</p>\n<ul>\n<li>应用单元测试： <a href=\"https://github.com/top-think/think-testing.git\" rel=\"nofollow\">https://github.com/top-think/think-testing.git</a></li>\n<li>验证码： <a href=\"https://github.com/top-think/think-captcha.git\" rel=\"nofollow\">https://github.com/top-think/think-captcha.git</a></li>\n<li>图像处理： <a href=\"https://github.com/top-think/think-image.git\" rel=\"nofollow\">https://github.com/top-think/think-image.git</a></li>\n<li>队列： <a href=\"https://github.com/top-think/think-queue.git\" rel=\"nofollow\">https://github.com/top-think/think-queue.git</a></li>\n<li>MongoDb 支持： <a href=\"https://github.com/top-think/think-mongo.git\" rel=\"nofollow\">https://github.com/top-think/think-mongo.git</a></li>\n<li>angular 模板引擎： <a href=\"https://github.com/top-think/think-angular.git\" rel=\"nofollow\">https://github.com/top-think/think-angular.git</a></li>\n<li>助手库： <a href=\"https://github.com/top-think/think-helper.git\" rel=\"nofollow\">https://github.com/top-think/think-helper.git</a></li>\n<li>数据库迁移工具： <a href=\"https://github.com/top-think/think-migration.git\" rel=\"nofollow\">https://github.com/top-think/think-migration.git</a></li>\n<li>Workerman ： <a href=\"https://github.com/top-think/think-worker.git\" rel=\"nofollow\">https://github.com/top-think/think-worker.git</a></li>\n</ul>\n<h2>[捐赠]</h2>\n<p>通过支付宝捐赠支持我们：</p>\n<p><img alt=\"\" src=\"http://thinkphp.cn/Uploads/editor/2016-07-08/577f852e40237.jpg\"></p>\n<p>2016 年 12 月 20 日 ThinkPHP 官方团队</p>\n<h2>[福利]</h2>\n<p>最后新版发布福利：\n由阿里云提供的 50 个免费套餐邀请码</p>\n<p>领码地址&gt;&gt; <a href=\"http://click.aliyun.com/m/8306/\" rel=\"nofollow\">http://click.aliyun.com/m/8306/</a> （数量有限 先到先得）</p>\n</div></div>"], "reply": "39", "tittle": "喜迎双“旦”， ThinkPHP V5.0.4 版本发布^_^——文末有福利", "comment": ["无论怎么洗， TP 会以一个“自带 SQL 注入漏洞”的框架被铭记", "最近看到了好多批判 TP 的帖子，到底应不应该学啊", " 看问题要客观些嘛，那是上个世纪的事了 不要始终停留在老版本的认知上 认真了解下 TP5 孰好孰坏，自有用户来评断！", "话说 LZ 是和 ThinkPHP 有一腿？这么帮着洗\r", "\r", "anyway ，反正我是不会用的", " 这个是 TP 的\"官方号\", 说话还是客气一点吧", " 看云是 ThinkPHP 官方出品的 文档在线写作和托管、电子出版平台，所以我代表的就是官方（可以看我的发布记录），是一体，没有一腿^_^ 这不是洗，是重新定位！ \r", "\r", " 在 V2EX 上所谓的批判不过是小题大做或者是对新版的认识不够~", " 只要相互尊重 善意和客观的批评和建议 我们是欢迎的 看不惯的是没头脑的吐槽，再说我们也不是第一天被人说 ^_^", "反正我是不会用的", "TP 还是很用心在更新和维护的   也是很多 PHP 程序猿的入门框架", " 希望半年后还有人这么评价 TP", "我 composer 了之后，\r", "Fatal error: Uncaught Error: Class 'think\\Config' not found in D:\\upupw\\htdocs\\server\\o2o\\thinkphp\\library\\think\\Route.php:294 Stack trace: #0", "天天吵吵吵的 技术圈搞的跟娱乐圈似的", " 发现跟验证码 think-captcha 里边的有关，我把验证码这个 composer 包去掉又正常了", "ThinkPHP 是对 OOP 的亵渎。", " 兄弟 有问题和建议尽管提 本来就是开源项目~ 还有这里是 TP5 新版发布 不是 TP3", " 就一个项目就亵渎了你的 OOP 神明，逢年过节你是不是还得拜上一拜烧上点什么东西？ 23333", "没用过 tp 也没读过框架代码。\r", "但我觉得楼上几位扯什么亵渎什么自带注入最好还是拿出代码来批判。\r", "老拿黑历史来说不太好吧。", "新版源码还么看，所以不置评", " 我说的也是 5 ，代码大概内测之前看过，忘了是几个月之前了：）", " 你要来咬我么 lol", "支持 TP!", "虽然没有用过 TP ，也没看过 TP 的代码，但楼上的一帮傻叼们，亮出你们的代码看看你们是不是有资格嘲讽别人？", "我预测有人要吐槽了", "支持！", "吐槽不可取，要支持新版本的推广~", " \r", " \r", " \r", " \r", " \r", " 感谢大家 ^_^ \r", "多一些了解 就会多一些认可 抱着偏见是看不到真相的 在国内坚持做 10 年不容易 多少年风雨都过来了 国产开源当自强", "我倒是一直在用 thinkphp3.2 ，用了几年了，期间用 TP 也出现过一些莫名其妙的问题。正在选定新框架，看了 laravel 还有 YII2 ，对比 thinkphp3.2 还有 thinkphp5 ，最终选定 TP5 （核心代码没有看，简单看了下文档）。\r", "我处在小城市，选一个框架不能只自己用的舒服，需要考虑到新入团队人员的学习接受能力，我们的业务一般都不算太复杂，所以 TP 足够，而且 laravel 入门太难，一个新手花一个月了解，几个月熟悉，周期有点太长，而且一个月都不一定可以了解， YII2 和 TP 的话感觉差别对于我们不大，同样也考虑好久 YII2 ，但是最终考虑到 TP 会的人多，相对入门也容易，而且 TP5 很多新特性也不错，和 workerman 也有结合，对我们的项目来说，已经很完美了！", "想当年大学毕业设计用的 ThinkPHP ， 现在想起这个框架，满满的青春回忆啊！一转眼 4 年过去了啊！\r", "\r", "V 站怎么染了逼乎的风气，吐槽 TP 还自带优越感的感觉。。。越是战五渣，越是能吐槽", "珍爱编程生命，远离 ThinkPHP\r", "程序员入此坑，基本 80%就没了后续自身职业发展了。\r", "让他带歪了了路，以后再想走直可就难了……\r", "\r", "PS 利益无关。", " 现在的公司技术选型是 thinkphp5 ，也只能硬着头皮先上了。", "想折腾的话，可以考虑 ThinkPHP 5 。不想加班就用 Yii 2 。", " 如果你身边真见到被框架带歪的 那学什么都学不好 那是自身的问题 不要怪到框架头上来，这年头被培训班坑的不在少数， BAT weibo 当当的开发都不用混了 有本事有事说事 不要说这些不着边际的~", "黑来黑去有意思吗？用 tp 的人自然明白", "三个程序员一台戏（手动滑稽\r", "请开始你们的婊演", "我就知道有\"大神\"来吐槽 tp ，哈哈", "吐槽 TP 的可以拿出点干货吗？也让我们提高一下姿势水平", "本来发这个贴是一个框架新版发布和福利贴，结果硬生生的被 V 友做成了吐槽贴。\r", "\r", "我不得不给一些吃瓜群众正声！\r", "\r", "其实每个框架都各有优缺点 没有完美，所以优缺点就看开发者的角度和认识（因为你熟悉了一个框架 用起来顺手本身就是一个优点），对于有些用户（尤其是新人）觉得文档好、上手容易是优点，有些用户觉得性能好是优点，又有些用户可能觉得方便扩展才是优点。但往往一个缺点会掩盖所有的优点，这就是很多用户抱怨的原因。喜欢一个框架一定有喜欢的地方，讨厌一个框架也总能找出理由。\r", "\r", "以往的版本我们就不说了（已经过了维护生命期了 大家也没有必要揪着历史说事，事物都在发展），毕竟和 LV 相提并论的最多也是 TP5 。\r", "\r", "我们在开发 TP5 的时候 一方面吸收了以往版本的用户反馈和抱怨，一方面也吸收了国外主流框架思想的洗礼（例如 Laravel ，很多用户说 TP5 参考了 yii2 ZF2 其实并没有 如果你看到了只能说明主流的现代思想是速途同归的），并秉承了 TP 一贯的大道至简的开发思想，经过了长达十月的开发测试才诞生了第一个 TP5 的正式版本，并且已经迭代到了 V5.0.4 版本了。应该来说表面上沿用了 Larave 的很多方法和思想，其实本质上的实现差异很大或者完全不同。 沿用（或者说是在有些人眼中的抄袭也好）的目的主要包括： 1 我们找不到更适合的英文单词（但 LV 很多单词是用的很生僻， TP5 主要的单词都是四级之内词汇） 2 我们在为吸收转化 LV 开发用户做铺垫^_^\r", "\r", "因此在上手难度和性能上相比较 laravel 是占优势的，加上从正式版发布后的文档教程系列一直在完善（主要是迎合国内的新手），因为从 TP3.2 版本到 5.0 版本跨度非常之大，我们也认识到存在不可避免的用户流失（相比较 TP3.2 引入了很多的主流现代开发思想，需要补课很多 包括 composer 、面向对象、依赖注入等），但我们也相信，我们的新版本也会俘获另外一批懂我们的用户，从而转向 TP5 （事实上确实如此）。\r", "\r", "TP5 并非只是单纯的借鉴，一样有大量的创新，尤其在路由、日志、控制器和模型的一些细节方面，这些只有真正去用过才能体会。 TP5 的底层架构和 LV 是完全不同的设计，但都遵循一些规范（包括 PSR-2 ， PSR-4 ， RESTFul ），并都在往主流的设计思想靠拢。\r", "\r", "但作为一个新诞生的孩子路还有很长，生态之类的还不够完善（ LV 也不是靠官方团队做大的 有大量的人在为生态贡献），所以从我们的角度来看， TP5 和 LV5 孰好孰坏，没有绝对，从长远来看， TP5 在国内替代 LV5 的可能性越来越大，至少在国内我们的优势非常明显（可以参考百度指数和谷歌趋势数据），包括性能、文档以及社区（如果是盲目崇拜 LV 的我也无话可说，毕竟国内也有盲目崇拜 TP 的^_^）。\r", "\r", "因为 LV 的架构和内部实现相当的复杂，相比较而言 TP 的代码和文档 都非常容易阅读和理解，那么扩展起来自然就会轻松很多， LV 主打的就是优雅、现代编程思想以及优秀的扩展生态。但 TP5 一样优雅，并且功能不会缺失太多，至于扩展生态方面就需要靠社区和用户的参与和贡献了。在国内 PHP 开源框架这块，我们风风雨雨走了十多年，我们了解我们的用户的想法，同时也在学习吸收国际的现代开发思想。\r", "\r", "总结来说， TP5 更简单实用，文档丰富， LV 更严谨，生态成熟。性能在这个时代其实已经不是最关键的了，所以我并不想强调性能方面的，国内的企业更关注的是开发周期和开发成本。", "还是建议 ThinkPHP5 如果真真切切是为了做成一个新手友好型框架，那么之后的版本能够同步把文档写的完整一点，到现在模型层的文档还是缺胳膊少腿，比如说把对象的方法原型贴出来，或者在一些容易采坑的地方加上 tag （这一点 ci 的官方文档做得非常好），毕竟不是每个新手都会使用 IDE 或者正确使用 IDE 的。\r", "\r", "我当然知道开源社区有句话叫做 you can you up ，所以我在这里只是提一个小小的建议，文档对于新手来说无比的重要，求不重喷。", " 就是需要更多这样的反馈和建议 才能让我们做的更好，完全手册覆盖面广，所以很难面面俱到的说的很细（其实路由、数据库和模型章节已经写的很多了 ，只是不一定通俗罢了），而教程会就某一方面做更多的深入和示例，这就是官方的快速入门系列的宗旨。新手不适合看手册，我发现他们连搜索都不会，而完全开发手册的章节非常之细，以至于他们不知道去哪里找，还有一些用户看文档 断章取义，以偏概全。这种问题 我们在 3.2 版本的时候就发现了 ，所以 5.0 版本除了手册之外，还单独花心思写了快速入门系列教程，当然教程的收费问题导致争议很大，我也不想在这里讨论这个问题。 TP 框架的细节就是注释和文档针对新手，完全容易阅读和理解。很多人对 TP 要求很高，我们也一直在努力，事实上我也并没看到 Laravel 官方的文档有多优秀，倒是不少第三方的教程比较给力。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>转发，这是个用 PHP 做控制、物联网、智能化的东西（串口通信、串行总线通讯、 SOCKET 通信、 WINDOWS 进程守护）</h1>\n<p>（写于 OHSCE_V0.1.25 ）</p>\n<p>终于等到这篇文章了吧，其实之所以先写了 TCP/UDP 的是因为在现在的环境下它俩是相辅相成的，其实在控制领域我们所说的 TCP/UDP 和串口总线应用非常接近，和普通的互联网网络应用还是有着很大区别的，毕竟绝大部分网络控制产品都是从总线控制产品升级而来或沿袭了可靠的设计而产出的，本质上基本是一样的（这也就是为什么在使用 OHSCE 完成您的需求能够让您“稀里糊涂”的顺利躲过了很多使用其它办法时的坑）。控制领域是个很宽的领域，它包含了或有交集于时下热门的物联网万物互联、工业 4.0 智能制造、行业智能化、人工智能、各种与控制相关的云等云云种种。</p>\n<p>有人表达说\"控制的世界没有异步\"，这句话说来也对也错，一个继电器或是开或是闭同一时间只有一种状态，每一步逻辑都是缜密的，工艺越复杂系统越庞大对可靠性的要求越高。随着系统集成的需求越来越深，互联网+的概念侵入和发展，事情被诠释的越来越多元化。不过话又说回来，对高可靠性的要求是永远一成不变的，毕竟是控制。虽然现在一些诸如采集手环，随身血压采集等物联网应用因业务场景简单所以一些不可靠的问题暂时不会酿成事故，但随着业务复杂度的提升和系统集成度的提高开发者很快就会意识到这个道理。</p>\n<pre><code>一、 OHSCE 中的封装函数。\n\n主要分为封装函数和基础函数，绝大多数的需求使用封装函数即可完成，但是 OHSCE 也提供给您了操作更接近底层的基础函数库。\n\nOhsce_eng_serial_X 是您在构建串口总线应用时主要应用的封装函数。\n</code></pre>\n<p>绝大多数情况，任何串口设备或总线网络在上位机 /网关的角度上看，通信的门就是那几个电气接口首先你先要高清你使用的是哪个串口，我们演示使用 COM7 （由 USB 转发 485 ）。</p>\n<p>（*设备上常见直接有的接口:RS232&lt;俗称 9 针&gt;、 RS485 、 RS422 、 USB&lt;通用串行总线基本是机器都有&gt;、 TTL （常见于单片机）等等等等等....）</p>\n<pre><code>想使用 OHSCE 中的所有函数很简单，只需要引入 OHSCE 的加载文件即可。\n</code></pre>\n函数参考\n\nOhsce_eng_serial_creat(&amp;$OHSCESerial,$com,$flags=\"1\",$mode=0,$baud=9600,$parity='n',$data=8,$stop=1,$fc='none',$xon='off',$to='off',$octs='off',$odsr='off',$idsr='off',$dtr='on',$rts='on',$space=0)\n   当您创建完成这个资源的时候其实默认载入了 3ms 的发送延迟，这是一个全局值，在创建时被写入资源。若要改变这个间隔除了改变 space 参数外（注意为 0 时失效），需要使用 Ohsce_eng_serial_setspace 函数（ 0 值有效）。但是不建议您消除这个间隔，近乎任何情况下它的存在只会有益无害。\n\n    三、打开一个串口资源并占用这个接口\n\n    非常简单的一行，就可以让您的进程打开一个资源并占用所指定的串口。\n\n    Ohsce_eng_serial_open (内置函数)\n\nOhsce_eng_serial_open($hscecom); \n   值得注意的是，一般情况下一个串口同一时间只能被一个资源所占用，当您需要在两个进程之间交替时需要先使用 close 释放。（_M_X 系版本提供的多进程共同占用一个串口实际上是提供了一个缓冲进程做到，本质上还是一个由一个进程占用。）\n\n   四、写与读的操作\n\n  大部分总线设备均是上位机轮询的模式，虽然也有一些设备是主动上报但是我们认为轮询的模式设计更为合理故我们演示的也是先写后读。\n\n   此时我们演示一次在 RS485 总线上使用 MODBUS-RTU 协议读取设备保持寄存器的操作。\n\nOhsce_eng_serial_write($hscecom,\"01030001000415c9\",true);\n  向串口设备发送数据，后面的 true 表示是以 16 进制发送。（这个以 16 禁止发送的意思是您发送的数据输入的是 16 进制格式的\"01030001000415c9\"而不是\"100000011000000000000000100000000000001000001010111010000\"的意思。）\n\n   读取设备的返回。\n\nusleep(3000);\nOhsce_eng_serial_read($hscecom,$data,null,true); \n   读取串口数据 返回数据长度为未知 以 16 进制返回。其中$data 变量中存的就是返回的数据。\n\n   五、记得关闭您的串口资源。\n\nOhsce_eng_serial_close($hscecom);\n   关闭一个资源并不会将这个资源清空删除，只是释放了此串口的控制权方便另一个进程继续调用使用此串口。当然如果您需要让您的这个进程保持占有此接口的话就不要调用这个函数啦。\n\n   六、花絮函数\n\n   Ohsce_eng_serial_comwr  -进行一次连续的写读操作\n\n  Ohsce_eng_serial_npcomwr-使用额外的全新的进程进行一次连续的写读操作（基础环境必须运行中）。操作结束后额外的进程会立即结束。\n\n   （ OHSCE 的 PRO 扩展也会带来一些函数如 ohsce_ext_modbus_x ohsce_ext_profibus_x 等等，我们会在扩展的说明书详细阐述。）\n\n   七、打磨您的工艺细化您的控制流程，并保持更新您的 OHSCE 框架至最新的稳定版本。\n\n   OHSCE 愿每一名控制工程师都可以搭上互联网+的翅膀，每一名 PHPWEB 工程师都可以冲在物联网的前言，我们的程序是您可靠的基石。\n\n\n\n     官方网站:<a href=\"http://www.ohsce.org\" rel=\"nofollow\">http://www.ohsce.org</a> &amp; <a href=\"http://www.ohsce.com\" rel=\"nofollow\">http://www.ohsce.com</a>\n\n     开发者 QQ 群： 374756165\n\n     GITHUB:<a href=\"https://github.com/OpenIBC/Ohsce\" rel=\"nofollow\">https://github.com/OpenIBC/Ohsce</a>\n\n     手册地址:<a href=\"http://www.ohsce.com/index.php/book/\" rel=\"nofollow\">http://www.ohsce.com/index.php/book/</a>\n</div></div>"], "reply": "1", "tittle": "OHSCE 入门教程（三）-PHP 串口通信、构建高可靠性的总线应用", "comment": ["v 站写教程可读性差了点 推荐写到看云吧 ^_^"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>这究竟是何等的 PY 交易……</p>\n</div></div>"], "reply": "8", "tittle": "今天用 Composer 更新 Yii2，发现 Vendor 里居然有 symfony", "comment": ["laravel 里各种 symfony 的组件", " symfony 好伤心哟……看着这些用着自己组件占有量逐渐赶上甚至超越自己的……", "好多里面都有 symfony 的组件啊  thinkphp 里面也有", "symfony 组件化做的好，我也发现 laravel 和 yii2 里用到了不少他的组件。像 yii2 里的组件只能用在自己的框架内", "composer --no-dev install\r", "看下", " laravel 的组件是满足 composer 标准的组件，而 yii2 的组件因为要去匹配 yii2 的 di 所以必须包装成一个 object/component ， so 。。。。", "站在巨人的肩膀上  走得更远", "我也发现了，不过似乎只有 phpunit 测试方面的东西引用了 symfony 的组件"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>问下菜单的权限控制，就是显示与否选择哪种，菜单不是很多，基本固定。\n1.写死然后通过是否具有权限来判断是否显示 就是加 if 哪种\n2.遍历出具有的权限构造菜单显示\n-。-求教</p>\n</div></div>"], "reply": "14", "tittle": "刚接触 thinkphp", "comment": ["菜单数量较少的情况下可以选择第一种。", "目测有\"大神\"要来喷了", " haode", " 为啥", " 都喷 TP\r", "\r", "菜单肯定有菜单表吧，再做个权限表联查再缓存就好\r", "另外，你的提问后半句连起来看都看不懂，只能看前半句回复了", "Thinkphp 有一个权限管理好像 你可以自己查查 看下 自己再改改.\r", "当然一会来喷的\"大神\"饶过我.", "如果菜单不是很多,而且是固定不变的,我觉得最简单的办法就是在代码写死. 如果菜单项很多,而且还会变动,那就需要 用菜单表关联 权限表来查询,就像 @", " 说的,thinkphp 有缓存机制,缓存下数据即可", "将菜单 ID 与用户 绑定。然后依据绑定的 ID 输出对应的菜单。\r", "如果可以通过菜单的链接 获取对应的权限，那么可以将权限赋予一并整合。 反之就可以分开一个菜单设置，一个权限设置。", "菜单写到数据库  然后连表查数据库后循环出导航", "  e 菜单表去掉了 菜单也相当于权限的一部分", " 那就是第二种了", "为啥要喷， tp 挺好的呀。初学 php 必须要学会自己造一套 tp 来练手啊。", "你的需要和 thinkphp 无关", "参考： "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近在抓取一个网站内容大概有 400 多万条数据<br>\n用的是 php 的 curl 但是抓了大概 800 多条就出现 couldn`t connect to host<br>\n谷歌了下有说伪造 IP   curl_setopt($ch,CURLOPT_HTTPHEADER,$header);<br>\n但是也是没用 出现这个错误时等过段时间又可以访问 不清楚这是为什么<br>\n还有棘手的问题就是网站没有接口 它使用 thinkphp 模板生成 只能抓网页<br>\n太频繁访问会有验证码 v 友有这方面的经验吗 求指教</p>\n</div></div>"], "reply": "6", "tittle": "php curl 出现 couldn`t connect to host", "comment": ["挂代理", "如果手头上没有稳定的代理池，还是不建议上代理了，超时和不稳定等问题让你更头痛。\r", "可以试试淘宝上的拨号 VPS ，随时换 IP ，可以日租，很便宜。\r", "另外 400 多万总数、 800 条就挂，这样的频率用 PHP 抓取真的好吗…", " 不用 php 是用 py 吗 求指教", " \r", "确实是有很多爬虫用 py ，不过… 我不会…… \r", "考虑到我上面说的那种 VPS ，一般都是 windows 系统，这种需求我习惯用 .net 写…", " 那可以说下抓取的思路吗"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>= =</p>\n</div></div>"], "reply": "3", "tittle": "php 有啥好用的工作流吗", "comment": ["没有，弃坑换 JAVA 可解", " ...这", "homestead 、 org-mode"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Jitamin (读作 /ˈdʒɪtəmɪn/) 是一款免费、开源，使用 PHP 语言开发的项目管理系统。</p>\n<p>Jitamin 这个名字的灵感来自于 Vitamin ，并结合了 Just In Time(准时)和<code>敏</code>的拼音<code>min</code>，意指<code>效率</code>与<code>敏捷</code>是项目管理过程中起重要作用的维他命。</p>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201612/22/2700/99HaAtZKrf.png\"></p>\n<h2>最近实现的 feature</h2>\n<ul>\n<li>任务进度</li>\n<li>复杂度改进</li>\n<li>多主题</li>\n<li>支持邮箱和用户名登录</li>\n<li>支持 Memcached 缓存</li>\n<li>可对项目进行按赞(亦可当收藏夹使用)</li>\n<li>支持在线预览 PDF 和 Log 文件</li>\n</ul>\n<h2>系统演示</h2>\n<p>体验 Jitamin, 请访问 <a href=\"http://jitamin.com\" rel=\"nofollow\">Jitamin</a>:</p>\n<ul>\n<li><strong>用户名:</strong> <code>jitamin</code> or <code>jitamin@jitamin.com</code></li>\n<li><strong>密码:</strong> <code>jitamin</code></li>\n</ul>\n<h2>项目源码地址：</h2>\n<p><a href=\"https://github.com/jitamin/jitamin\" rel=\"nofollow\">https://github.com/jitamin/jitamin</a></p>\n<p>其他方面的功能就不在此赘述了，请参考： <a href=\"https://pagespeed.v2ex.com/t/316185\" rel=\"nofollow\">https://pagespeed.v2ex.com/t/316185</a> 。</p>\n<p>谢谢。</p>\n</div></div>", "<div class=\"topic_content\">更新页面布局为左右结构。</div>"], "reply": "6", "tittle": "PHP 开发的开源项目管理系统 Hiject 正式更名为: Jitamin", "comment": ["不知道为啥有 JIRA 的既视感。看起来有点意思。", " 呵呵， jira 功能太复杂了。", " 可能是名字有点像，加上这个玩意儿的任务看板界面也有点像吧。\r", "至今还是不会用 JIRA", "很棒，谢谢分享", "已集成 phinx 进行数据迁移管理。", "最新页面结构：\r", "\r", "![Screenshot]( ", ")"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>现在公司要实现用 php 做服务端，做 mdm server.\n1.现在进行到 已经安装了证书，已经支持了 ssl. 用了 symantec 的证书。</p>\n<p>2.checkin 已经可以接收 ios 设备发来的 token 值</p>\n<p>3.现在用 pushMagic 和 token 发送管控指令时\n命令格式为{\"aps\":{},\"mdm\":\"996ac527-9993-4a0a-8528-60b2b3c2f52b\"}</p>\n<p>4.发送成功，但是不知道 apns 是否收到指令，并且把指令传给 ios 设备， ios 设备回来调用 serverURL ，这一步根本不知晓。 serverURL 也没有被 ios 设备调用。</p>\n<p>请问各位：有遇到这种情况吗？问题出现在哪，证书问题，代码问题都被排除，请问有人做过这个吗？求教</p>\n</div></div>", "<div class=\"topic_content\">已经解决,有兴趣留言。</div>"], "reply": "目前尚无回", "tittle": "php ios mdm 实现管控", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>详情： <a href=\"http://mp.weixin.qq.com/s/6ZoHlXWIuMBk3f3hvS2Tgg\" rel=\"nofollow\">http://mp.weixin.qq.com/s/6ZoHlXWIuMBk3f3hvS2Tgg</a></p>\n<p>我怎么就在标题里多写了个<code>的</code>字……</p>\n</div></div>"], "reply": "7", "tittle": "一个新的查询 PHP 手册的 alfred workflow", "comment": ["那个，其实 Dash 的 Alfred 插件也挺好的。。", "我用的是 PHPStorm 的 DASH 插件，只需要在函数上按下 cmd+shift+d 就直接调出 dash 显示该函数用法。", "我用的是 Coda2 的 Dash 插件，按下 ctrl + H 自动跳到 Dash 对应的函数内。\r", "另外大家如果遇到中文手册错误、不通顺、常用函数未翻译的情况，请联系我。", "PhpStorm 自带 function 提示，连 Dash 我都不用了。", " \r", " \r", " \r", "\r", "我平时不用 dash ，就是 sublime+alfred 搞定", " 我是用 sublime", "ideavim 插件模式下，直接按 gd 就可以跳转到函数说明"]},
{"content": ["<div class=\"topic_content\">找了很多地方，发现这东西是 php 的死穴啊。 PHP 要想异步就得学 swoole 和 workman 那样把自身变成服务器，只要是走 CGI 这条线就没有异步这回事，就没有办法了吗？</div>"], "reply": "5", "tittle": "基于 CGI/FastCGI 模式的 PHP 就没有好的异步方案吗？", "comment": ["cgi 本来就是请求- 响应模式的同步接口。。你怎么变异步。。。\r", "\r", "py 的 wsgi 也是这个坑。所以有人挖了 wsgi 2.0 或者 asgi 这个坑。", "消息队列-后台 worker", "用消息队列处理耗时操作", "phpresque", "reactphp"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>/**\n* 验证单个字段规则\n* @access protected\n* @param string $field 字段名\n* @param mixed $value 字段值\n* @param mixed $rules 验证规则\n* @param array $data 数据\n* @param string $title 字段描述\n* @param array $msg 提示信息\n* @return mixed\n*/\nprotected function checkItem($field, $value, $rules, $data, $title = '', $msg = [])\n{\nif ($rules instanceof \\Closure) {\n// 匿名函数验证 支持传入当前字段和所有字段两个数据\n$result = call_user_func_array($rules, [$value, $data]);\n} else {\n// 支持多规则验证 require|in:a,b,c|... 或者 ['require','in'=&gt;'a,b,c',...]\nif (is_string($rules)) {\n$rules = explode('|', $rules);\n}\n$i = 0;\nforeach ($rules as $key =&gt; $rule) {</p>\n<pre><code>            if ($rule instanceof \\Closure) {\n                $result = call_user_func_array($rule, [$value, $data]);\n            } else {\n                // 验证\n                if (is_numeric($key)) {\n                    if (strpos($rule, ':')) {\n                        list($type, $rule) = explode(':', $rule, 2);\n                        if (isset($this-&gt;alias[$type])) {\n                            // 判断别名\n                            $type = $this-&gt;alias[$type];\n                        }\n                        $info = $type;\n                    } elseif (method_exists($this, $rule)) {\n                        $type = $rule;\n                        $info = $rule;\n                        $rule = '';\n                    }else {\n                        $type = 'is';\n                        $info = $rule;\n                    }\n                } else {\n                    $info = $type = $key;\n                }\n\n                // 如果不是 require 有数据才会行验证\n                if (0 === strpos($info, 'require') || (!is_null($value) &amp;&amp; '' !== $value)) {\n                    // 验证类型\n                    $callback = isset(self::$type[$type]) ? self::$type[$type] : [$this, $type];\n                    // 验证数据\n                    $result = call_user_func_array($callback, [$value, $rule, $data, $field]);\n                } else {\n                    $result = true;\n                }\n            }\n\n            if (false === $result) {\n                // 验证失败 返回错误信息\n                if (isset($msg[$i])) {\n                    $message = $msg[$i];\n                    if (is_string($message) &amp;&amp; strpos($message, '{%') === 0) {\n                        $message = (substr($message, 2, -1));\n                    }\n                } else {\n                    $message = $this-&gt;getRuleMsg($field, $title, $info, $rule);\n                }\n                return $message;\n            } elseif (true !== $result) {\n                // 返回自定义错误信息\n                return $result;\n            }\n            $i++;\n        }\n    }\n    return true !== $result ? $result : true;\n}\n</code></pre>\n<p>我的天 这是啥~</p>\n<p>尤其是下面这几行代码  我感觉要是在公司里写类似的 会被别人打死的</p>\n<p>if (is_numeric($key)) {\nif (strpos($rule, ':')) {\nlist($type, $rule) = explode(':', $rule, 2);\nif (isset($this-&gt;alias[$type])) {\n// 判断别名\n$type = $this-&gt;alias[$type];\n}\n$info = $type;\n} elseif (method_exists($this, $rule)) {\n$type = $rule;\n$info = $rule;\n$rule = '';\n}else {\n$type = 'is';\n$info = $rule;\n}\n} else {\n$info = $type = $key;\n}</p>\n</div></div>", "<div class=\"topic_content\">楼主只是深夜重构 TP 的代码顺便吐槽一下 淡定~</div>"], "reply": "115", "tittle": "Thinkphp 5.0 的代码我真是没法说了 太渣了吧 写框架的人不懂 OOP 思想?", "comment": [" @", " \r", "这两句话本来是完全等价的，不用考虑 $result 的类型。\r", "拆开看：\r", "if ($result === true) return true;\r", "else return $result;\r", "第一个分支和 return $result 是等价的。\r", "\r", " \r", "你也要考虑到 TP 本身的年代久远。对一个十年前的框架提出现代的要求，是不是有些太过了。\r", "如果你要现代化的框架，直接用 L 家，或者直接改用 Rails 好了。", " 其实 rails 出来也已经十多年了……", " \r", " \r", " \r", "\r", "你们说的好有道理，是在下错了，我重点在关注 !== 这个符号的含义了。", "thinkphp5 抄袭 laravel5 的，连快速入门文档都是抄的，只是把变量名改了，有一处还把 laravel 的一个函数直接复制过来，然而 thinkphp5 里面根本没有这个函数。", "  发个链接 发个截图 瞅瞅", "TP 还是国内很用心维护的一个开源框架", "想看看懂 oop 的人是怎么写这个函数的", "看了一眼好多歪楼的", " 很明显  你不懂", " 我写的 php 代码不超过 1000 行，不懂是正常的。 就想看懂的人是怎么写的。", " 十年前的 Rails 用起来也一般般，只不过 Ruby 社区比较偏向集中推一个东西，而不是自己搞十个不同的，所以发展得更快一些。我最近 1 年半都在用 Rails 1.x ，感觉和 4.x 差距还是非常大的，很多地方都做得不太顺滑。", "你是没见过更牛逼的，有个框架叫 OHSCE ，是做 PHP 物联网工控智能化通信的。是我在找所谓互联网+工控时发现的，整个框架里没有一个类 没有一个命名空间 没有所谓静态，只有变量和,常量,函数三种东西，而且还有一些 GOTO 语句，所以命名都是驼峰很长但不会和其它框架冲撞。你会发现拿市面上任何云云种种的 PHP 通信框架， SOCKET 框架在严谨的 NCS 控制工艺中都会或多或少的引发一些问题，但是唯独它没事。和作者交流过，作者是 C/汇编启蒙的人，你让一个一直做单片机的人写出 OOP 风格的代码是有悖于人家的思考习惯的。不同程序员都有自己的习惯自己的风格，不同的风格都能有顶级运行效果的代码出现，你会发现很多风格的思想都是超然于 OOP 存在的 OOP 只是降低了门槛很大程度上。 OHSCE 的 GIT ， github.com/openibc/ohsce", " 这个问题入门时会碰到", "又有人在黑 TP 了，搬个凳子过来看热闹。大家继续讨论。我只会 TP3.1", " 这是三目运算符吧，我小学毕业了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"http://img.my.csdn.net/uploads/201111/26/0_1322294474kar5.gif\" rel=\"nofollow\">http://img.my.csdn.net/uploads/201111/26/0_1322294474kar5.gif</a></p>\n<p><a href=\"http://wiki.mbalib.com/w/images/c/c8/%E4%B8%89%E7%BB%B4%E5%AD%A6%E4%B9%A0%E7%AB%8B%E6%96%B9%E4%BD%93%E6%A8%A1%E5%9E%8B.jpg\" rel=\"nofollow\">http://wiki.mbalib.com/w/images/c/c8/%E4%B8%89%E7%BB%B4%E5%AD%A6%E4%B9%A0%E7%AB%8B%E6%96%B9%E4%BD%93%E6%A8%A1%E5%9E%8B.jpg</a></p>\n</div></div>"], "reply": "5", "tittle": "如何用 php 画类似的立方图，哪些库能实现？", "comment": ["GD 库一类的东西就好吧\r", "\r", "这图随便什么东西都能画啊", "看起来是立方体，其实就是个 平面图", "找个画直线跟斜率的 api 就完事了", "图形库很多，如果就是几个图形，自己写一个就行吧。", "如果楼主找到的话，@我一下"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我博客原文： <a href=\"http://qsalg.com/?p=549\" rel=\"nofollow\">http://qsalg.com/?p=549</a></p>\n<p>著名的 php 框架 phalcon 为了更好的用 C 语言开发 php 扩展而发明了语言 zephir ，编译时 zephir 会被翻译成 C 语言然后编译成 php 扩展，我个人很喜欢这门语法朴素+规规矩矩+不装逼的语言。</p>\n<p>我平时在 windows 下工作，目前网上搜索到的在 windows 下用 zephir 写扩展的教程都已经过时了，我花了点时间打通了一下。我环境 windows 7 + VS2015 + php7.0 ，大体上按照官方文档来： <a href=\"https://github.com/phalcon/zephir/blob/master/WINDOWS.md\" rel=\"nofollow\">https://github.com/phalcon/zephir/blob/master/WINDOWS.md</a> ，我只把其中的一些需要注意的细节说一下。</p>\n<p>1 、去 <a href=\"http://windows.php.net/download/\" rel=\"nofollow\">http://windows.php.net/download/</a> 的 PHP 7.0 (7.0.14)的 zip 包，解压出来就是 php-7.0.14-nts-Win32-VC14-x86 文件夹，里面是编译好的 php 二进制。通过 setx path \"%path%;c:\\path-to-php\"来把该目录加入环境变量，或者手动把该目录加入 path 环境变量，总之你的 path 环境变量中应该有类似这样的目录： F:\\gouchaoer\\cms\\zephir\\php-7.0.14-nts-Win32-VC14-x86</p>\n<p>2 、去 <a href=\"http://windows.php.net/downloads/php-sdk/\" rel=\"nofollow\">http://windows.php.net/downloads/php-sdk/</a> 下载 php-sdk-binary-tools-20110915.zip 这个包解压。通过 setx php_sdk \"c:\\path-to-php-sdk\"来把该目录加入环境变量 php_sdk ，或者手动建立 php_sdk 环境变量并且把该目录加进去，注意不要自作聪明把该目录下的 bin 子目录加进去了（ zephir 调用 sdk 的命令的时候是%php_sdk%\\bin\\balabala 这样来调用的），最后你的 php_sdk 环境变量类似： F:\\gouchaoer\\cms\\zephir\\php-sdk-binary-tools-20110915</p>\n<p>3 、下载 PHP Developer Pack(NTS!)，也就是 <a href=\"http://windows.php.net/downloads/releases/\" rel=\"nofollow\">http://windows.php.net/downloads/releases/</a> 里的 php-devel-pack-7.0.14-nts-Win32-VC14-x86.zip 这个包，解压里面还有一层目录 php-7.0.14-devel-VC14-x86 。通过 setx php_devpack \"c:\\path-to-extracted-devpack\"加入环境变量，或者手动添加，最后你的 php_devpack 环境变量看起来类似： F:\\gouchaoer\\cms\\zephir\\php-devel-pack-7.0.14-nts-Win32-VC14-x86\\php-7.0.14-devel-VC14-x86</p>\n<p>4 、 clone 或者下载 zephir 的 master 分支： <a href=\"https://github.com/phalcon/zephir\" rel=\"nofollow\">https://github.com/phalcon/zephir</a> ，我们看到 zephir 是 php 写的（目前 repo 的最新 tag 是 0.95 版本，我直接用的 master 分支，目前位于 75a6939 的 commit 上，如果你按照我的方法来走不通可以试试 checkout 到这个 commit 上）。然后把 zephir 源码目录下的 bin 子目录加入 path 环境变量： setx path \"%path%;c:\\path-to-zephir\\bin\"，或者手动把该目录加入 path 环境变量，总之你的 path 环境变量中应该有类似这样的： F:\\gouchaoer\\cms\\zephir\\zephir\\bin</p>\n<p>5 、打开开始菜单（如果你是 win8 我无能为力），在 visual stdio2015 下的 visual studio tools 下的 windows desktop command prompts 中找到\"VS2015 x86 本机工具命令提示符\"，打开。执行 %PHP_SDK%\\bin\\phpsdk_setvars ，你会看到 REM phpsdk.bat 这样的回显</p>\n<p>OK ，环境配好了，来写个 zephir 的 hello world 吧， zephir 的语法请参考官方文档，给我们的扩展命名为 mitsuha 。</p>\n<p>\"VS2015 x86 本机工具命令提示符\"中进入一个空的工作目录下，这里我是 F:\\gouchaoer\\cms\\zephir\\gc 目录， zephir init mitsuha ，然后在 mitsuha 目录下生成了 ext 子目录、 mitsuha 子目录和 config.json 文件，在 mitsuha 子目录下，我们建立一个 taki.zep ，然后里面随便写点东西：</p>\n<pre><code>namespace Mitsuha;\nclass Taki\n{\n\tpublic static function kataru()\n\t{\n\t\techo \"what's your name?\";\n\t}\n}\n</code></pre>\n<p>然后回到\"VS2015 x86 本机工具命令提示符\"中，注意此时你的工作目录中有 config.json ，执行 zephir build 。如果 zephir 官方还没有处理这个 bug 的话，你会遇到这个问题：</p>\n<pre><code>Preparing for parser compilation...\nCompiling the parser...\n\nMicrosoft (R) Program Maintenance Utility Version 14.00.24210.0\nCopyright (C) Microsoft Corporation.  All rights reserved.\n\nNMAKE : fatal error U1077: '\"C:\\Program Files\\Microsoft Visual Studio 14.0\\VC\\BI\nN\\cl.exe\"' : return code '0x2'\nStop.\n\nBalabala\n</code></pre>\n<p>问题见 issue ： <a href=\"https://github.com/phalcon/zephir/issues/1366\" rel=\"nofollow\">https://github.com/phalcon/zephir/issues/1366</a> ，官方并没有把文档适配到 php7 ，现在我们需要一点 hack 。如同那个 issue 中的办法，在 zephir 源码的目录找到 zephir\\parser\\parser\\build_win32.bat ，把 php5 的地方改成 7 ，最后像这样：</p>\n<pre><code>REM Build Lemon\ncl lemon.c\ndel parser.c parser.h scanner.c\nre2c -o scanner.c scanner.re\nlemon -s parser.php7.lemon\ntype parser.php7.c &gt; parser.c\ntype base.c &gt;&gt; parser.c\n</code></pre>\n<p>完成再次尝试 zephir build 就可以成功的在 mitsuha\\ext\\Release 目录下看到 php_mitsuha.dll 扩展了。你上面下载的 php-7.0.14-nts-Win32-VC14-x86 这个 php 二进制里面没有默认 php.ini ，你需要自己建立一个 php.ini ，其中内容如下：</p>\n<pre><code>extension_dir = \"ext\"\nextension=php_mitsuha.dll\n</code></pre>\n<p>而 php_mitsuha.dll 复制到 F:\\gouchaoer\\cms\\zephir\\php-7.0.14-nts-Win32-VC14-x86\\ext 目录下就可以了。（这里看出 windows 版本的 php 二进制是绿色版无依赖的，随便 copy 超级方便）</p>\n<p>然后 php -m 可以看到 mitusha 扩展已经加载了，然后写一个 keisei.php 内容为：</p>\n<pre><code>&lt;?php\necho Mitsuha\\Taki::kataru();\n</code></pre>\n<p>然后 php keisei.php 就可以看到输出： what's your name?</p>\n<p>说起 zephir 就不得不啰嗦一下 phalcon ， phalcon 框架和鸟哥的 yaf 框架一样，都是针对纯的 php 框架加载导致的性能损耗，采用了 C 语言来写框架从而让性能接近纯的单页 php 应用。 phalcon 和 yaf 最开始思路相同，而且性能是一样，参考鸟哥的压测： <a href=\"http://www.laruence.com/2012/09/16/2791.html\" rel=\"nofollow\">http://www.laruence.com/2012/09/16/2791.html</a> 。而另一种思路则是类似 Swoole 和 phpdaemon 等 php-cli 常驻内存的异步方案（你可以理解成 php 版本的 nodejs ），然而这种方案 php-cli 本身就是一个 http 服务器（一些地方肯定没有 nginx/apache+php 方案那么成熟稳定，比如 https 支持之类的），而且常驻内存也会导致稳定性问题（和 nodejs 那样某个请求挂了应用就都挂了）没有 php-fpm 那么耐操，而且性能和 phalcon/yaf 一样： <a href=\"http://rango.swoole.com/archives/254\" rel=\"nofollow\">http://rango.swoole.com/archives/254</a> 。因此除了需要 websocket 等异步功能情况下，我认为追求性能还是 yaf/phalcon 方案更好。而把 yaf 和 phalcon 这两个框架进行比较的话， phalcon 组件更丰富且社区更强大，我个人觉得 phalcon 的工作更漂亮。而后来 phalcon 把越来越多的组件用 C 扩展写，甚至还发明了 zephir 来缓解用 C 写 php 扩展的麻烦，让人眼睛一亮。</p>\n<p>其实我认为 yaf/zephir 提高性能的关键还是把框架用 C 扩展的方式，这样就大大减少了框架加载的时间使性能接近纯的单页 php 应用，至于用 C/zephir 把更多的 PHP 基础组件替换掉能否提高性能，还是个未知数： <a href=\"https://github.com/phalcon/zephir/issues/694\" rel=\"nofollow\">https://github.com/phalcon/zephir/issues/694</a> （可以看到 zephir 脸都被打肿了，当然了也有很多 benchmark 表示 zephir 的确提高了性能）。有部分同学认为 hello world 的压测无法反映真实的业务逻辑（尤其是 laravel 的用户就特别喜欢说瓶颈在数据库之类的），但是我认为恰恰相反，真实的业务逻辑恰恰是命中缓存的情况最多，降低 cpu 消耗的同时减小处理时间是很诱人的。而 zephir 的另一个很大的用处我认为就是简化了我们开发 C 扩展的难度，你知道扩展里一堆宏一堆 zend api 让人很烦，而大多数情况下我只是想集中精力写逻辑业务而已。如果你想对 php 代码加密 /限制授权，代码混淆和商用加密方案都不算完美，用 zephir 直接把关键代码编译成扩展可以说是雪中送炭。而且 zephir 还提供了 Optimizer （官方比较推荐这种方式）和 CBlock 两种方式来让我们嵌入 C 代码，也提供了机制来添加别的第三方库依赖。前面说过我很喜欢 zephir 的朴素使用的语法，如果真的要说哪点不喜欢的话，那就是它的内建的几个面向对象的方法： <a href=\"https://docs.zephir-lang.com/en/latest/builtin-methods.html\" rel=\"nofollow\">https://docs.zephir-lang.com/en/latest/builtin-methods.html</a> ，我认为 zephir 的 string 和 array 性质应该尽可能的像 php ，这几个方法最后还是会编译成面向过程的 php 的方法，本质上是就是语法糖。</p>\n</div></div>"], "reply": "1", "tittle": "在 windows 下使用 zephir 写 php7 扩展", "comment": ["跟 cython 一个类型"]},
{"content": ["<div class=\"topic_content\">网站根目录 index.php 中\r<br>\r<br>include \"/test.php\";\r<br>在 5.4 以及 5.6 下正常执行\r<br>在 7.0 下则 failed to open stream: No such file or directory\r<br>\r<br>include \"test.php\";\r<br>在 3 个版本下都正常没问题\r<br>\r<br>从早上 google 到现在都没找到 php7 的哪部分新特性和遗弃功能里有讲这个的 求教!</div>"], "reply": "27", "tittle": "php5.4+和 php7.0 的包含路径问题 实在找不到原因啊啊啊啊啊啊", "comment": ["get_include_path() 看看", " 5 和 7 下都是.;C:\\php\\pear", "忘了哪時開始\r", "我都養成習慣寫\r", "`include implode(DIRECTORY_SEPARATOR, array(dirname(__FILE__), 'test.php'));`\r", "因為要假設控制不了環境\r", "短一點\r", "`include implode(DIRECTORY_SEPARATOR, [__DIR__, 'test.php']);`\r", "實在不知何時能找到 何時會找不到", "不应该是 ./test.php 吗……", "实在不行就用绝对路径呗", " 我也同你一样，第一反应是./xxx.php\r", "但是我没用过 7 ，没把握回答不敢乱写。。", " 这也是一个不错的办法 预定义根目录路径常量也行 但就是以前写的一部分代码里面使用了 /这种 想找一条捷径都支持而不必再去修改代码\r", " ./跟不加 /是一样的 都指向当前所在目录路径 我的疑问在 7 为什么不支持 /的根目录绝对路径用法", "/ 指向的是文件系统根目录吧？", " 但 5.4 和 5.6 都会在 index.php 所在的 E:\\desktop\\www 下找到 test.php 唯独 7 会报出错误", "nginx 里 root 配的不一致吧", " 使用的是 windows 下的 apache FreeBSD 中 Caddy+php7 下加 /报错 不加正常执行 个人感觉跟 web server 关系不大 与 php 版本有关", " 这个写法本来就不对，就不应该这么写。之前能用也许是 bug ，新版修复了", "把 php-fpm 开成一个，然后 strace -p fpm 子进程 id ，看一下到底加载的那个文件", " 后面会避免这种错误写法 只是想看看官方或者一些正式的说法 毕竟这情况至少在 5.2.10 就出现了", "这也怪 php ？\r", "先搞清楚 URL 路径和文件系统路劲", "ubuntu nginx php-7.0.13 下面没有问题", " \r", "才疏学浅 不敢怪 一点小疑问 还请不吝赐教\r", "/是作为 url 路径表示网站根目录而不能作为文件系统路径表示 DocumentRoot 的\r", "那么 为什么 5+可以依据这个符号包含进来文件 而 7 不可以?\r", "求相关的官方或者非官方文档解释都可以 谢谢", " 谢谢 我也去 vmware 个试试", "你想 /test.php 指向当前 运行目录的根目录，那么你就的让 apache 、 nginx 、 PHP 添加对应的配置信息。 具体配置你可以网上找一下。\r", "一般来说，这种写法有很大问题，因为太过依赖配置的信息，一旦换了一个人或者一个服务器新的配置，那么你的程序就黄了。", " ... 吓我一跳，你以为搞前端呢，/ 在 php 服务器端表示服务器上的根目录， 网页上你可以用 / 访问网站目录下的资源，服务端不可以。", " 写法是不对 但在 windows 的同一个 apache2.4.7 下分别加载了 5.2/5.4/5.6/7.0.12 针对 /符号 7 出现了错误 就想搞明白这个是为啥", " \r", "\r", "Files are included based on the file path given or, if none is given, the include_path specified. If the file isn't found in the include_path, include will finally check in the calling script's own directory and the current working directory before failing. The include construct will emit a warning if it cannot find a file; this is different behavior from require, which will emit a fatal error.\r", "\r", " 因为你的 include_path 配置 指定了当前目录可以被当做搜索目录， php7 的配置可能没有这个而已\r", "\r", "你可以看看 几个不同版本的 php.ini 里面的 include_path 选项。", " php.ini 中 include_path 选项均未打开", " 你在二楼不是回复了吗，没打开不可能有你在二楼说的那个设置，你看的可能是 php.ini 的模板，而不是真正的配置文件。\r", "\r", "总之，这种写法肯定不对，网站 url 和系统路径不是一回事。", "使用相对路径不好吗？", "7.0 版本将 Windows 环境下这样的路径视为绝对路径：\r", "\r", "#if PHP_WIN32\r", "\t\t/* This should count as an absolute local path as well, however\r", "\t\t   IS_ABSOLUTE_PATH doesn't care about this path form till now. It\r", "\t\t   might be a big thing to extend, thus just a local handling for\r", "\t\t   now. */\r", "\t\tfilename_length >=2 && IS_SLASH(filename[0]) && !IS_SLASH(filename[1]) ||\r", "#endif"]},
{"content": ["<div class=\"topic_content\">刚看到 <a target=\"_blank\" href=\"https://www.v2ex.com/t/331037\" rel=\"nofollow\">https://www.v2ex.com/t/331037</a> 大家讨论很热烈 \r<br>\r<br>laravel 如果想做页面缓存， cookie 策略是个大坑：\r<br>\r<br>laravel 试图 动态控制 cookie 的有效时间 以保证 session 的有效期（同时 session 本身也有 ttl ）\r<br>结果导致每个 response 都有带上 set-cookie 字段，反向代理或者 upyun 之类的 cdn 会认为这个请求“不可被缓存”，导致设置的缓存策略没有效果。\r<br>\r<br>5.0 还是 5.1 的时候就提过 pr ，但是被拒绝了（影响太大），结果现在 5.3 了还有这个问题（ 5.2 以后可以拆分 api 后好多了，很多请求可以作为 cookieless 缓存）。</div>"], "reply": "1", "tittle": "说说 laravel 缓存的大坑", "comment": ["既然你的页面完全是静态的，大可不必走 web 中间件"]},
{"content": ["<div class=\"topic_content\">最近需要使用 ueditor 上传视频文件，但是小视频还好，一旦视频上传的时间超过 30s ，就会提示上传失败。\r<br>chrome 给的错误是 net::ERR_CONNECTION_RESET\r<br>换了别的浏览器也不能上传。\r<br>\r<br>考虑过是 ueditor 或者 nginx 或者 php 的配置有问题，但是修改了相关配置，如：\r<br>nginx:\r<br>keepalive_timeout:60\r<br>\r<br>php:\r<br>max_input_time=300\r<br>max_execution_time=300\r<br>post_max_size=300M\r<br>upload_max_filesize=300M\r<br>default_socket_timeout=60\r<br>\r<br>ueditor:\r<br>没有见到有时间相关的配置项\r<br>\r<br>请问这是什么原因？</div>"], "reply": "6", "tittle": "我使用 ueditor 上传视频文件时，传输时间不能超过 30s，一到 30s 左右就传输失败。", "comment": ["配置没有排好版：\r", "nginx: keepalive_timeout:60\r", "\r", "php: max_input_time=300 \r", "max_execution_time=300 \r", "post_max_size=300M \r", "upload_max_filesize=300M \r", "default_socket_timeout=60\r", "\r", "ueditor: 没有见到有时间相关的配置项", " set_time_limit=max_execution_time", " \r", "ERR_CONNECTION_RESET 感觉是 Nginx 的问题。\r", "fastcgi_connect_timeout 600;  链接\r", "fastcgi_read_timeout 600;   读取\r", "fastcgi_send_timeout 600;   发请求\r", "网上抄了一段，建议你试试看在内网传文件试试看。", "PHP 下也可以使用命令行，不依赖 Nginx 判断问题。\r", "-S 参数指定监听地址和端口，<addr>:<port>\r", "-t 参数指定目录", "Nginx:\r", "client_max_body_size 25m;"]},
{"content": ["<div class=\"topic_content\">ab -c100 -n100 aaa.com/\r<br>ab -c100 -n100 aaa.com/mysql\r<br>ab -c100 -n100 aaa.com/pgsql\r<br>\r<br>返回的每秒响应数，第一列是执行 phpinfo 返回的\r<br>第二列，三列，是对 mysql 和 pgsql 同一数据表，随机产生一百个查询条件，\r<br>用 for 语句做原生 sql 语句查询。\r<br>\r<br>klein:       596 77 66\r<br>lumen5:   489 72 63\r<br>slim3:      390 75 65\r<br>laravel5:  202 59 57\r<br>\r<br>那么可以得出什么结论，在同一条件下，各框架性能差异大，在数据库的查询字段值每次都变化的情况罡，各框架的性能差别不大？\r<br>\r<br>综合起来，为了显示美观的 url 和更小的硬件，更高的性能,到底该用哪款框架和数据库好？</div>"], "reply": "6", "tittle": "最新 php 主流框架性能测试", "comment": ["这个不是很重要，业务很重要，开发速度也很重要。", "url 美观的话最好 laravel ，可以随意调整", "晕。。。。", "知乎：论大多数人的努力程度，根本轮不到比智商\r", "WEB ：论大多数网站 MySQL 的瓶颈，根本轮不到比 php 框架性能", "这不是搞笑么，你把数据库和 php-fpm 装同一个弱主机，根据你的数据库才是瓶颈的思路，那 qps 上升了数据库问题解决不再是瓶颈后，是不是要换掉 laravel 呢。。。\r", "\r", "\r", "鸟哥昨天微博表示 laravel 最新版直接 php7.0 了，表示这很激进，因为 laravel 是 php 生态下的重要成员鸟哥肯定不会多说，之前吐槽某优雅框架其实学起来很难也是。但是，易用性的提高伴随性能的降低，我并没看到这种特质在 laravel 身上。", " 看到这个消息特地去翻了下微博，感觉并不算激进啊\r", "\r", "新闻是这个： ", " 。虽然 laravel 目前没有公布 5.5 的正式的时间表，但是按照惯例在 2017 年 7 月出。根据 ", " ， php5.6 的日常维护现在已经终结了（不同于一般版本， 5.6 的安全维护会持续到 2018 年底）。选择一个还在维护的版本不是很正常么，不然就意味着底层的一些 bug 需要自己去进行规避了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>网上也查了一堆资料 没搞定</p>\n<p>大致流程是：</p>\n<p><a href=\"http://www.123.com/Celebration-Lamps-+10%-Everyone.html\" rel=\"nofollow\">http://www.123.com/Celebration-Lamps-+10%-Everyone.html</a></p>\n<p>这个链接的 url 里面有特殊字符 + % 这两个 请求直接 报 400 bad request</p>\n<p>转义之后</p>\n<p><a href=\"http://www.123.com/Celebration-Lamps-%2B10%25-Everyone.html\" rel=\"nofollow\">http://www.123.com/Celebration-Lamps-%2B10%25-Everyone.html</a> 还是 400 bad request</p>\n<p>请问怎么回事？ 两个链接都报 400</p>\n<p>ps:%2B(+) %25(%)</p>\n</div></div>"], "reply": "3", "tittle": "url 特殊符号 400 bad request", "comment": ["我觉得这是你的浏览器过于只能的锅(bug)，不要尝试用手工编辑 URL 栏\r", "直接生成 a href 然后去点击可能就没问题了", "。。。。。谷歌浏览器", "看看是不是 Nginx WAF 之类的规则屏蔽了"]},
{"content": ["<div class=\"topic_content\">如题\r<br>比如框架采用 MIT 协议 \r<br>题主开发使用 GPLv3 是否合适呢</div>"], "reply": "11", "tittle": "GPLv3 是否适合 php 呢？", "comment": ["为什么不合适。。", " 上游开源协议使用 MIT Apache 之类的不知道合适不", "MIT 几乎没有限制吧，你修改后闭源都可以，看看 os x", "可以", " 我倒不喜欢 MIT 的协议.GPL 挺好.", "MIT APL 都兼容 GPL", " 你是要修改框架的协议吗？如果只是用框架，可以保持原来的协议吧，只是你写的代码用 gpl", "我基本上都是用 GPL3.0 协议。", "GPL 在 PHP 上意义不是那么大。要严格的话试试 AGPL 。", " 好的\r", " 原框架部分 MIT 修改和新增部分 GPL\r", " 3q", "啧啧 贴仓库出来 没毛病吧\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>老板要把公司的 PHP 代码加密，说是为了防止别人盗用， Gayhub 上找了 php-beast 和 screw ，前者不支持 64KB 以上文件，后者搞出来之后变成乱码了， Zend 和 ionCube 就别说了，太抠舍不得，找了下破解版好像还不支持 5.6 ，妈的这铁公鸡真的抠的没话说，服务器为了省钱都是让去买搬瓦工之类的 VPS ，超过 200 块钱的就心疼的 BB 半天。唉！我只是个小运维，大神知道该怎么加密或混淆么？</p>\n</div></div>"], "reply": "9", "tittle": "求个 PHP 源码加密或混淆的方案", "comment": ["用 C 写 php 扩展", "用 Bandwagon Host 的公司居然请得起运维！\r", "\r", "跑题了，目前来说其实除了 ionCube 真没其他可以用的。\r", "\r", "相信我，等你逛一圈回来，你最后还是会选择你这里让别说的 ionCube ... \r", "\r", "线上加密挺划算的，还支持压缩包。几块钱都不愿意出的公司一定抠成精了 ...", " ionCube 和 Zend 我都试过了，然后把价钱报给老板的时候就被否定了，老板抠的没话说，估计很快就会变成上家公司了", "有 screw 还不满足？", " ?", " screw 加密出来的浏览器显示乱码了，我们这边开发写的代码里边有 HTML 代码，好像不支持", "ic9 是目前最佳选择。\r", "如果业务代码本身没啥保密，只是为了恶心人的话，可以用魔方加密。\r", "另外还有一种用大量 goto 来混淆的方案，忘记名字了。", "\r", "再试试看,前几天修复了个 bug ，可能会导致乱码\r", "如果还有问题我可以帮忙查看解决下", "另外你能告诉我 Gayhub 什么鬼?"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>萌新一枚求解</p>\n</div></div>"], "reply": "47", "tittle": "问一下各位 phper,你们公司生产环境的 php 版本是多少?", "comment": ["客户是 5.3 ~ 7.1 都有。\r", "你要是选择的话，能用 php7 就尽量 php7 。", "现在 7.0 支持最好，过一段时间就可以考虑 7.1", "刚升到 7", "5.6 公司暂时没有升级的打算， python 用的也是 2.7", "5.6.19", "新的项目尽量上 7\r", "普遍 5.4", "5.3 到 7", "7.0.12", "php8", "大部分都是 5.6.10 ，还有少量 5.3.X ， Java 被我从 6 升到了 8", " 厉害了我的哥，你自己发明的 php8 么？", "7.0.14", "就 yum 官方版本， 5.3 。那天 yum 升级了，也就升级了。", "7.0.14 。。。", "自己的几个主机都是 7.1", "最近半年做的项目全部用 7", "公司说不好 刚把我们组的升上 7.0", "5.6\r", "跟着 laravel 的支持版本来，当然如果不用这个框架，能上最新都上最新，尤其是重构的。", "\r", "laravel 其实更新很快啊，难道都是追着走的吗， 5.2->5.3 路由大改而且 php 要求提升直接应用到生产环境没有问题吗\r", "现在好像 5.4 又要来了？\r", "这个感觉很纠结啊，开发到一半，升级还是不升级= - =", "5.5", "5.5 看着 7.0 的性能提升很眼馋啊 但是升级 risk 很大", "尽量 7", "PHP5.6 ，如果我要说遇到了 redis+php7 的 bug ，你们信嘛。", "yum 没有源，花了一晚上自己在官网下载编译，安装拓展，从 5.3 升级到 7\r", "爽的不行。", " 是 phpredis 扩展？ 不奇怪，看到有人说过。用纯 PHP 的 Predis 没遇到问题。", " php8.0 已经在今年 4 月 1 号 release 了稳定版本了，我生产环境用的 php8.0.8 的。\r", "\r", "php8 比起 php7.6 改进了多线程对 php-cli 的支持，现在 php 的 runtime 跑多线程已经很撸棒了；然后由于 php7.2 集成到 opcache 的 jit 在 php-fpm 中运行的各框架提高不是特别大，因为第三方库不能使用强类型（为了兼容 5.x ），所以 php8 库基本使用强类型有利于 jit 所以运行效率把群；其实最振奋人心的是 php8 增加了对显卡的支持，我昨天在 centos8.1 下挂了 1 块 gtx2048 的卡跑了一下 benchmark.php ，单机提高 300%；为了更好的支持 vr 的 web 应用和 app 应用， php 加入了显卡支持真是雪中送碳，而且对深度学习库支持也很有帮助；当然了推荐你使用 eclipse pdt vr 插件，我在 htc vive 下开发很舒服，强烈鄙视 vim 的 vr 插件；", "5.2 hahahaha", "7.0", " 道理我都懂，我就想知道下一期的彩票是多少号", " 不法分子炸鱼！", " 66666666666666666666666", " 下次请你给我用针在硬盘上刻一个 win 10 red stone", "5.4 以下的 PHP 连 SSL 都不是完整支持的，这东西就应该是越新越好", " 说下啥 Bug", "php7.0 最新版。 7.1 还没时间看新特性和废弃的东西", " +1", " 用 php9.1 主线版的不说话", "  我也服你，说的差点我就信了", " \r", " \r", "\r", "phpredis + php7 内容压缩出错\r", "你们都不关注一些重要更新的吗？ 5 的版本至少要 5.6.23 ， 7 的话>=7.0.8 。你可以去看 centos 的 webtatic 源，最低版本都”恰好“是这个，之前的版本 GC 有 BUG ，带安全隐患。 ", "\r", "\r", "你们自己跑下下边的代码，跟你想的结果不一样，说明就是有 GC 缺陷的版本，原因是漏写了个 array 的 gc 方法。。。\r", "\r", "```\r", "$serialized_string = 'a:1:{i:1;C:11:\"ArrayObject\":37:{x:i:0;a:2:{i:1;R:4;i:2;r:1;};m:a:0:{}}}';\r", "$outer_array = unserialize($serialized_string);\r", "gc_collect_cycles();\r", "$filler1 = \"aaaa\";\r", "$filler2 = \"bbbb\";\r", "var_dump($outer_array);\r", "```", " docker 合理指定版本号，这种问题就基本不关注了。", "5.6", " 噢，那是扩展的问题啊，我用 predis 包~", "4.3.9 有人信吗？", "7.0 = =", " ..上古时代的版本,为什么?", "稳定的话， 5.6 基本足够了， 7 的性能好些， 有一两个用了 php 7.0 了"]},
{"content": ["<div class=\"topic_content\">接口需要 basic 认证，但是 Php-Auth-Pw 这项被截取成了 255 个字符\r<br>\r<br>apache ， php ， curl 或者是哪里的问题？困扰一天了感激不尽\r<br>\r<br><img src=\"http://ww2.sinaimg.cn/large/0060lm7Tgw1fba4kbbx85j30mf06g0tv.jpg\" class=\"embedded_image\" border=\"0\"> </div>"], "reply": "17", "tittle": "Request 数据被截取了，跟什么有关？", "comment": ["在服务器上用地址 localhost 测试，如果还有截取应该就是服务器的问题", " 是服务器的问题，但我不知是 apache 还是 php 的问题，也不知道大概是哪里的配置限制了长度", "php 的问题大一些。可以查看 apache 日志，在日志中都记录下来。之前碰到过 nginx 没有写临时目录权限导致 body 被截取的情况， apache 不是很熟", "不过貌似 apache 的默认限制远大于 255 ，应该是其他原因", " 是的，这个选项我设置过了，并没有起到作用", " 你给的信息太少了。你在哪里看到的长度是 255 ？是用过 php 原生方法获取，还是通过框架获取？", " 请求接口用的 curl 方法，为了测试我在另一个页面直接打印出了 Request ，然后请求这个页面\r", "我本地，和另一台测试服务器（都是 windows+apache ）请求这个页面都是正常的数据，目前这台服务器环境是 linux+pache\r", "\r", "\r", " ", "始终未能重现楼主的问题，奇怪。我拿到的都是完整的数据。", "怀疑环境的问题", "哥们。过年了。别这么拼命还在学习。 relax yourself.。", " \r", " \r", " \r", "应该排除 PHP 问题了，之前是编译安装的，改用 yum 安装了一遍还是不行，我一会儿重装 Apache 试试看", "我都开始怀疑是 idc 防火墙问题了", "Apache LimitRequestFieldSize 设置的是多少？", " 8K", "\r", "\r", "找到一点资料，他说\r", "On the Windows platform, passwords encrypted with htpasswd are limited to no more than 255 characters in length. Longer passwords will be truncated to 255 characters.\r", "\r", "问题是目前 windows 没问题，反而 linux 被截断了", " 16 楼这条无关\r", "\"passwords encrypted with htpasswd\"\r", "htpasswd 是用生成 ncsa 格式的用户密码文件的\r", "相当于 passwd"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>安装配置好 aira2 后[<a href=\"http://aria2c.com/usage.html\" rel=\"nofollow\">http://aria2c.com/usage.html</a>]\n<br>\n<a href=\"https://github.com/maysrp/webdir\" rel=\"nofollow\">https://github.com/maysrp/webdir</a>\n<br>\n只要把其中的 wadir.php 丢在网站根目录即可：\n<br>\n登入密码设置\n<br>\n<br>\ndefine(\"PASS\", \"admin\");\n<br>\n<br>\n设置禁止显示文件\n<br>\n<br>\n$this-&gt;notex=array(\"php\",\"js\",\"tgz\");//不允许显示的后缀名文件\n<br>\n$this-&gt;notdir=array(\"a\",\"phpmyadmin\");//不允许显示的文件夹\n<br>\n<br>\n支持磁力链接下载以及简单的操作。\n<img alt=\"231.png\" src=\"http://inory.net/images/2016/12/22/231.png\">\n<img alt=\"121212.png\" src=\"http://inory.net/images/2016/12/22/121212.png\">\n<img alt=\"1212.png\" src=\"http://inory.net/images/2016/12/22/1212.png\">\n<img alt=\"9a0d9c0ad93e4577.png\" src=\"http://inory.net/images/2016/12/22/9a0d9c0ad93e4577.png\"></p>\n</div></div>"], "reply": "67", "tittle": "aria2+在线磁力链接下载在线查看播放", "comment": ["第一会所新片😂😂😂😂", "Like!", "一眼就扫到了好多片子", "滴,学生卡~", "楼上好多老司机都不刷卡", "再次证明：录影带， DVD ， Blue-ray 等技术的推广和应用离不开大人片。", "楼主你真的不考虑打个马赛克么。😂😂😂😂", "有没有那种可以在播的同时把视频动态转成标清的轮子。。", "滴", "滴，敬老卡", "这技术不错", "看样子不错啊，回去试试看", "移动宽带 BT 没速度", " 安装个 ffmpeg ，写脚本          然后调用就可以了 \r", "非常耗 cpu ！！！！     \r", "非常耗 CPU ！！！\r", "\r", "你需要一颗强劲的 cpu ！", "滴滴，学生卡", "滴，员工卡", "滴，萨瓦迪卡", "滴，老年卡😏", ".me", "滴,昆卡", "收藏比回复多，好多老司机改开潜艇？ ", " ", "点播功能耗 CPU 吗？ 1Ghz CPU 的 openwrt 能跑起来不？", "竟然不标明转载地址。               \r", "         \r", "目前还有新功能增加，例如:多用户管理。", " 这个，去掉视频预览，就基本不耗费 openwrt 的 cpu 了，浏览器解码。", " 他们头像长得蛮像的", "冬月", "遇到了路径编码问题...播放视频和预览的时候 / 被转义成了%2F...", " 改了代码解决了...我就想问问是不是只有我一个人", "楼主你最近迷上冬月了吗", "好东西啊", "我都是直接 nginx 文件管理器加个 basic auth 。虽然难看点，不过蛮方便的。", "mark", "看着很 6 ，先点个赞", "滴，司机卡", "上车了", "转载的吗？", "赞", "圣诞买 vps 的理由是啥", "看着好厉害，但是不会用😩", "发现自己不会用。。。", "滴，学生卡\r", "\r", "已 star", "滴滴，抄水电煤卡", "滴，请重新刷卡~", "mark", "滴，您的卡已欠费，请尽快充值", "滴，您的卡已经刷爆了", "滴～老年卡。", "第一次看到这么耿直的 up 主", "滴， 先刷个卡再说", "VPS?会不会因为版权原因被封？", "di xueshengka", "问题来了  大部分国产磁链  aria2 如何下的动。。。。", "问题来了 大部分国产磁链 aria2 如何下的动。。。。", "滴~ 请充值。。 ps: 冬月不错 [手动捂脸]", "滴，余额不足\r", "问题是非国产的磁力链接 aria2 它也下不动……", "115 付费，脱脱的。", "滴，成人卡", "LZ 对接一下 transmission 啊。这个 aria2 对 PT 支持的不友好", "滴 会员卡", "收藏，看帖要回帖", "我与另外 200+人一样默默点了收藏。。。", "刚买了一年 115 的路过~~~", "雪中送炭😂", "厉害了", "Aria2 现在下载百度 已经不行了", "难怪 php-aria2 几年没动静，最近突然开始涨 star 。感谢 lz 还记得给个链接。😁", " 膜拜\r", "大佬的 php-aria2  真好用 !", "还可以增加一个东西， TX 的旋风可以取到离线文件，这样比 P2P 快多了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>具体需求如下：\n写个 Class ，需要可以直接使用，比如下面的 class 可以直接使用\\cache::get($key)， \\cache::tag('name')-&gt;get($key)等</p>\n<pre><code>class Cache\n{\n    public function get($key)\n    {\n        // ...\n    }\n}\n</code></pre>\n<p>有人对这个有兴趣吗？</p>\n</div></div>"], "reply": "6", "tittle": "如何直接调用写好的 Class，类似 Laravel 的 Facade 的效果", "comment": ["__callstatic", "***全部继承一个父类***  \r", "1.使用__callstatic 和 call_use_array($callable,$args)来实现静态访问\r", "2.避免多个 new Class,将类缓存在静态变量中\r", "\r", "如果不用继承,引入一个 trait 也可以", "```php\r", "echo ?\r", "```", "门面？", "名字是叫门面，但不是设计模式的门面，具体实现是代理模式", "你是想说 factroy,工厂模式？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>/*------------------------------------------------------ */\n//-- 登陆界面\n/*------------------------------------------------------ */\nif ($_REQUEST['act'] == 'login')\n{\n    header(\"Expires: Mon, 26 Jul 1997 05:00:00 GMT\");\n    header(\"Cache-Control: no-cache, must-revalidate\");\n    header(\"Pragma: no-cache\");\n\n    if ((intval($_CFG['captcha']) &amp; CAPTCHA_ADMIN) &amp;&amp; gd_version() &gt; 0)\n    {\n        $smarty-&gt;assign('gd_version', gd_version());\n        $smarty-&gt;assign('random',     mt_rand());\n    }\n\t\n\tif(!empty($_REQUEST['qq']) &amp;&amp; $_REQUEST['qq']=='www'){\n    \t$smarty-&gt;display('login.htm');\n\t}else{\n\t\theader( \"Location:../\");\n    \texit;\n\t}\n}\n</code></pre>\n<p>以上代码摘自 ecshop /admin/privilege.php</p>\n<pre><code>if(!empty($_REQUEST['qq']) &amp;&amp; $_REQUEST['qq']=='www')\n</code></pre>\n<p>关键是这句话。要怎么解决才能正确登录呢？\n有偿！</p>\n</div></div>"], "reply": "3", "tittle": "[PHP] 关于修改之后无法登录的问题！", "comment": ["是不是没有'qq'就算登录成功？", "这和登录业务有什么关系，凭名称分析充其量我只读出来一部渲染登录页面  ", "请求参数中包含 act=login&qq=www 时渲染登录页面", "你先去看这个 qq www 到底是什么参数"]},
{"content": ["<div class=\"topic_content\">我在看 PHP COOKBOOK 3rd\r<br>里面在 388 页，有个$dom = new DOMDocument;\r<br>在 420 页，又出现了$doc = new DOMDocument();\r<br>我又搜索了半天，这两个分别出现多次。\r<br>\r<br>所以我就郁闷了，这俩到底啥区别？\r<br>什么时候用那个括号，什么时候不用？\r<br>\r<br>哪位高人能指点一下？\r<br>谢谢</div>"], "reply": "13", "tittle": "到底是 new DOMDocument 还是 new DOMDocument() ?", "comment": ["构造函数 __construct() 需要传入参数的时候就用(), 不需要传入参数的时候可有可无", " 豁然开朗啊，谢谢！！", " 那这样说，实例化其他的 Class 的时候，也是这样的规则喽？我也见过其他的 new Person() 和 new Person 。不传入参数的话，括号可有可无，是嘛？", "只要需要传参数都是需要带括号的，并且传入参数 例如   __construct($param1)  就需要 new ClassName('参数')\r", "\r", "__construct($param1='')  或 __construct()  则 new 的时候带不带括号都可以。\r", "\r", "看样子楼主是刚学 PHP ，加油吧", " 确实刚学。有点晕。谢谢大侠！", "楼上已经说得差不多了。不过还有一个，代码规范。一般的话不管是否需要参数都 new class()", " 那看来 PHP Cookbook 的代码规范也不咋滴。经常不加括号。", "倒不是加不加括号的问题，别一会加一会不加。 space 和 tab ，左大括号放行后还是下一行。。。等等等等，这些都是同一个问题。", " 没参数的情况下，这本书就是一会加括号一会不加括号。有参数的那就没得说了，肯定加。", "不加括号总感觉不清真", " 是，我第一次发现竟然可以不加括号，就觉得很震惊。", ">>> new stdclass==new stdclass()\r", "=> true", " 谢谢！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>希望大家能多提提意见。</p>\n<p><a href=\"https://simpleforum.org/t/632\" rel=\"nofollow\">https://simpleforum.org/t/632</a></p>\n<p>GitHub 地址： <a href=\"https://github.com/yujiandong/simpleforum\" rel=\"nofollow\">https://github.com/yujiandong/simpleforum</a> （目前还是 v1.1.5 ）</p>\n<p><strong>升级内容</strong></p>\n<ol>\n<li>Yii 框架升级到 2.0.10 版本</li>\n<li>图片点击放大效果 (效果： <a href=\"https://simpleforum.org/t/361\" rel=\"nofollow\">https://simpleforum.org/t/361</a> )</li>\n<li>关注 /点赞功能采用 ajax 实现 （效果： <a href=\"https://simpleforum.org/t/354\" rel=\"nofollow\">https://simpleforum.org/t/354</a> ）</li>\n<li>用户充值功能+点赞感谢功能 （效果： <a href=\"https://simpleforum.org/t/562\" rel=\"nofollow\">https://simpleforum.org/t/562</a> ）</li>\n<li>插件系统（有待完善）</li>\n<li>发表主题，增加权限设置（回复可见，登录可见）</li>\n<li>第三方登录： qq 登录 /微博登录 提到首页（效果： <a href=\"https://simpleforum.org/t/355\" rel=\"nofollow\">https://simpleforum.org/t/355</a> ）；添加 github 登录</li>\n<li>论坛管理后台：添加标签管理功能 （效果： <a href=\"https://simpleforum.org/t/563\" rel=\"nofollow\">https://simpleforum.org/t/563</a> ）</li>\n<li>论坛管理后台：可以修改用户头像显示方式（圆形或圆角方形）</li>\n<li>论坛管理后台：用户一览页添加用户检索功能，用户信息页添加用户注册 IP 和最近登录 IP 显示</li>\n</ol>\n<p><img alt=\"\" src=\"http://7xnug4.com1.z0.glb.clouddn.com/upload/201604/25/1_AvtV81.png\"></p>\n</div></div>"], "reply": "5", "tittle": "SimpleForum v1.2 发布", "comment": ["last commit ， 5 month ago 。。我只看到一个主分支啊", " \r", "github 还没更新", "浏览了一下，写的很干净。。。配置里面， cookieValidationKey 这个 key 应该在 install 的时候自动生成吧。。。 install 完了干脆把自己删了算了，依赖 runtime 的 lock.install 啥的（逃", "和 v2 挺像", " \r", "恩，以后会慢慢完善的。"]},
{"content": ["<div class=\"topic_content\">见到有些程序用长整型数据存储时间，中间实现需要数据的转化，特意转化成长整型，出库时又要转换一次，这么做的目的是什么？有效率还是其它优势 /方便？</div>"], "reply": "28", "tittle": "长 LONG 型储存时间的意义是什么？", "comment": ["你说的是 timestamp ？", "没看懂你到底问的是什么，只能说\r", "1 部分数据库，用数字类型的字段存储时间戳，比用日期型的字段， sql 性能好一些\r", "2 多年没看过 php 了，记得好像是没 long 类型，只有 float 类型？ 32 位 php 的 int 存储当前时间的毫秒位数不够，有诸如此类的问题。\r", "3 也有可能是部分码神瞎胡写", "是说用 int64 来表示时间么？", "时间戳无关于时区", "1. 没有歧义\r", "2. 省空间\r", "3. 某些情况下进行运算的时候省时间", "因为有的时候你的却搞不懂每个数据库的 datetime 倒是是个什么玩意儿 有的是 date 有的是 string\r", "long 的话你能搞清楚\r", "而且比较大小、做差的时候 long 更简单一点点", "问题是用数字还是长整？", "不好意思，我在自学 PHP ，概念说得不准确，已在物色合适的图书购买。\r", "\r", "说回问题，其实 ip2long 和这种将时间转化为 INT(11)的格式存入数据库，它的作用是什么？如果要进行输出或者对比不是更麻烦？ MYSQL 本身就有时间型，为什么他们不用呢?\r", "\r", "为了描述问题，我放了两张图片，谢谢。\r", "\r", "数据类型设置情况：\r", "\r", "\r", "转化后保存到数据库的情况：\r", " \r", "\r", "你好\r", "用的:\r", "INT 或 INTEGER\t4 字节\t(-2 147 483 648 ， 2 147 483 647)\t(0 ， 4 294 967 295)\t大整数值\r", "\r", "保存后的情况请看 8 楼的第二张图片。", " 抛开需求看问题通常都是没有结论的, 这个设计直接问这个项目的设计者不就好了, 无论是 时间戳 还是 datetime 都是各有利弊的, 三个字 `看需求`", " @", " 我描述得不够好让你误会，不是时间戳的问题，请看 8 楼补充。", " 是的，大概是这意思，我当时浏览的程序用了 MYSQL 大整数值（数据类型）_int(11)", " \r", "\r", "你这截图就是时间戳啊，估计你看的教程也不准确，\r", "1. 存储时间戳只需要 10 位不需要 11 位，\r", "2. 因为时间没有负数形式（准确的说是 1970 年 1 月 1 日到现在不存在负数）所以勾选 unsigned 这样可以得到更大的最大值。\r", "\r", "时间戳（ timestamp ）指的是 1970 年 1 月 1 日开始到某个时间点的秒数，不记录时区等信息。数据量庞大的情况下，如果需要计算一些时间差、时间范围等，数字形式比日期形式更好直接计算。\r", "\r", "估计是你用的 mysql 编辑器自动把 int 加上了逗号分隔，让你有了疑惑（这点是结合你之前的帖子猜测的）。", "因为从一开始，时间就是整形，那叫 Unix Time 或者说 Epoch Time （创世纪？）。但是 unix time 用的 int32 ，精度不够（精确到 s ），后来大家都觉得应该用毫秒啊！于是换了 int_64 来存，记得以前自己算过，按照毫秒够用几百万世纪。（当时我的疑问是“为什么要用 signed ，少了一半的可用区间啊？！”）", "外，转化为整形对比更简单啊。直接做差，然后用 / 和 % 就可以算出每个时间精度的量。", " mysql 里的普通 int 不够要用 big int 级别的 大整和长整。。翻译问题吧", "你精度只到秒，目前来看 int32 是够的，到毫秒不够", "不同的需求，用不同的存储格式，比如我要找出距今 2 小时内的所有记录，是不是用整形记录的时间（时间戳）更方便", " \r", "估计是你用的 mysql 编辑器自动把 int 加上了逗号分隔，让你有了疑惑（这点是结合你之前的帖子猜测的）。\r", "RE:对，可能有这个情况，因为数据库内逢千位打逗号我一时间没缓过来，以为搞财务呢。\r", "\r", "我查到了\r", "\r", "是时间戳的问题，谢谢。", "1. code 方便\r", "2. 规避可能出现的时区问题，用 datetime 的话，到时候碰到时区问题就麻烦了", " 不用 signed 怎么表示 1970 年以前。。", "\r", "\r", "1 、楼主说的长整型应该是指 32 位的 long 吧。\r", "2 、对 c 语言来说，在不同的编译器或平台， int 可能是 16 位或 32 位的；从这个角度来说，统一使用 long 可以保持统一。", " 现在才反应过来原来有表示 1970 年前的时间这个需求……", " 一般的平台上 long 是 64bit int 才是 32bit", " 非也。 long long 才是 64 位的。", " 在 64bit Linux 环境下， int 是 32 位， long 和 long long 都是 64 位", " nice"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>实习时面试面到这个问题，当时还不知道斐波那契数列，讲给同学听时，他说，这不就是斐波那契数列吗？！\n(尴尬脸）</p>\n<p>然后这是我面试的回答:</p>\n<pre><code>$total = [0, 1];\n\nfor ($i = 2; $i &lt; 100; $i++)\n{\n\t$total[] = $total[$i - 1] + $total[$i - 2];\n}\n</code></pre>\n<p>今天看到别人（书本）的实现，需要定义几个变量来交换当前值、上一个值，感觉好麻烦。</p>\n<p>还有我的代码应该没啥问题吧</p>\n</div></div>", "<div class=\"topic_content\">感谢大家提供的不同的思路和看法，本来只是一个秀代码的帖子，竟然引发了诸多讨论。\r<br>\r<br>我没有怎么在意内存消耗、时间复杂度的问题，看来这方面确实还需要学习一个啊。\r<br>\r<br>@<a target=\"_blank\" href=\"/member/loggerhead\">loggerhead</a> 的文章让我大开眼界，谢谢！</div>"], "reply": "48", "tittle": "我是这么实现斐波那契数列的", "comment": ["新年刚开始又来黑 PHP 。。总之不用递归都是好的", "性能低！应该创建一个缓冲数组存贮之前的值", "还行，不过不是非得用数组吧", "中学学数列的时候都会讲到斐波那契数列的啊，你是不是当时没好好听课。。。", " 没仔细看，之前说错了", "不用数组只用两个变量可以省空间→_→", "算法没啥问题啊。\r", "\r", "前面的存下来没啥意义， echo 输出了吧，换成俩变量，节省空间。", "矩阵快速 mi", "fib 不应该这样么？ a, b = b , a+b", "没毛病\r", "为啥不用递归呢\r", "PS ：递归也可以不是 O(2^n)", "没问题。只是当 N 比较大的时候，会略尴尬", " 空间复杂度为 O(2^n) 递归过深，直接爆栈，所以才有了 ", " 递归调用每一次 call ，按照计算机的函数堆栈模型，栈帧要向下延伸，然后栈容量不够用的时候，就直接爆了", "一般问菲波那切数列的话，都会接着问 栈溢出的问题，\r", "如果不知道函数递归调用过深导致的爆栈问题，就会略显尴尬了", "可以看看我这篇文章——求 Fibonacci 数列的 N 种算法： ", "没有问题", "import numpy\r", "\r", "def mm_fib(n):\r", "    return (numpy.matrix([[2,1],[1,1]])**(n//2))[0,(n+1)%2]\r", "\r", " [mm_fib(i) for i in range(20)]", " \r", "\r", "> 重复平方技术也可以用在求 Fibonacci 数上。\r", "\r", "可行吗？？ 我想了一下，好像没有什么思路。 求指点。", " 文章中有写。比如： 2^8 = 2^4 * 2^4 就只用算一次 2^4 和一次乘法，时间复杂度降到了 O(logn)", " 文章中下面的矩阵乘法和代数方法就是“重复平方”（其实就是乘法结合律）的具体实现", "话说如果只是要求求出某一个 Fibonacci 数而不是整个数列的话，可以直接用公式在 O(1)的时间内求得。", " 线性递推先构造出矩阵，然后用矩阵乘法结合律降次", "我记得高一时上课时无聊吧这玩意儿通项公式求出来了。。😂", " 公式里面全是无理数，计算机直接算不好吧", "  重复平方，我懂。\r", "\r", "  @", "  GET 到了。 矩阵方法确实神奇。 至于代数方法，感觉是像是把矩阵方法拆开些而已。\r", "\r", "完蛋了，现在看博客都专心不了了。", "这个面试比较蛋疼，他是要考察你什么呢？斐波拉契数列的定义？还是高效的代码实现？", " 我想了一下没想出来怎么在 O(1)时间内求出来。通项是无理数，比如 n 很大，算出来的精度就很可疑了。有什么好方法吗？ O(1)", " 尾递归打开优化 没区别", " 可能是忘记了吧，不过大学确实很少上课。。。", " 快速矩阵幂， O(logn)", " 应该是如何实现“后面一个数等于前两个数之和”吧，至于如何高效实现我还需要花点功夫。", "会 Google ，你就离大牛近了一步。", " 弱弱问一下，你的博客文章中矩阵为什么乘在向量的右边？", "看下 sicp 里面就有，树形递归和线性迭代，书上讲两种过程的优缺点说的很清楚", " 这么浅显的问题要是面试官顺着你的思路真的问了那只能恭喜你局面被你控制了😄", " 这不是矩阵乘法吗？ 1x2 乘以 2x2 的矩阵 = 1x2 的矩阵。你可以看看这个： ", "用矩阵，斐波那契的复杂度是 O （ log （ n ））", "用通项公式...", " 我会说很多程序员 并不知道 程序堆栈这回事么？", " 尝试尾递归呢", " 主要看汇编层面的优化吧，毕竟生成机器码，底层是怎么运作的，高级语言很难解释清楚\r", "一般是不推荐使用过深的递归，", "说到斐波那契数列，大家肯定记得“生兔子问题”。题目很绕。\r", "\r", "一只小兔子，出生三个月变大兔子，变成大兔子后每个月生一只小兔子；\r", "小兔子三个月后也能变成大兔子开始生小兔子。\r", "问 n 个月后一共有几只兔子。\r", "\r", "我完全被搞蒙了——这尼玛什么鬼。\r", "我还觉得这题目有歧义啊，比如说长成大兔子的当月就能生小兔子吗还是下个月才能生小兔子。\r", "你想啊，这个月长成大兔子，难道不需要怀胎一个月吗？\r", "然后生兔子我们是不是按一半男一半女算？两只兔子一个月生一只才对吧？\r", "然后我还在想兔子真的繁殖能力这么强吗？\r", "\r", "然后我画了一下午“生兔子”的图。\r", "然后我还用了各种奇怪的方法模拟兔子成长过程什么的，总之这题没写出来。\r", "\r", "后来才知道这就是斐波那契数列。迭代 a, b = b, a + b 就行了。\r", "然后我就觉得，要考斐波那契就老老实实的说你要考斐波那契，我会就是会，不会我就学。\r", "求你不要搞些奇奇怪怪的描述来忽悠人了😂😂😂😂", " 按照阮老师的写法，变换矩阵乘在向量左边的，高中数学书上也这么写......", " 没搞懂你什么意思……矩阵乘法不满足交换律的，所以如果我写反了，那么我就写错了，但是我仔细看了看，好像没问题啊……", " 抱歉我看错了，原来是横着写的😂", " 哈哈😂", " 这种题目考察的是语言理解能力，这么 简单的描述都没看懂，以后读产品经理的需求怎么办？（手动滑稽", " fib 要求 n-1 和 n-2 ，不是尾递归\r", "如果是存在尾递归，则必然可以重写为循环，因为编译器就是这么干的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>php 或 python 实现都可以的</p>\n</div></div>"], "reply": "2", "tittle": "能否推荐个类“内涵段子”的开源项目？", "comment": ["能够同步 app 和 web 端", "万能的 wp"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>$data = call_user_func($this-&gt;callback, $file);\nif ($this-&gt;callback &amp;&amp; $data) {\nif (file_exists('.' . $data['path'])) {\n$info[$key] = $data;\ncontinue;\n} elseif ($this-&gt;removeTrash) {\ncall_user_func($this-&gt;removeTrash, $data); //删除垃圾据\n}\n}</p>\n<p>错误提示： call_user_func() expects parameter 1 to be a valid callback, no array or string given\n我按照文档来的 这边 callback 默认是 false 为什么还会提示错误啊</p>\n</div></div>"], "reply": "4", "tittle": "Thinkphp 上传文件的一段代码问题", "comment": ["试试 call_user_func(array($this, 'removeTrash'), $data)", "  是我上传的时候 upload 里有这个方法 老是提示错误 我看别人那边也没设置 callback 没报错。。", "跟 thinkphp 没关系\r", "\r", "call_user_func() expects parameter 1 to be a valid callback, no array or string given\r", "\r", "\r", "call_user_func()需要第一个参数是合法的 callback ，你给的参数不是数组或者字符串\r", "这么明确了你先搞明白你传进去的东西是啥再说 trace 一下你传的第一个参数到底是啥", " 传的是默认的 upload 里面的 callback false ，问题好像出在 whoops 上 会对这个报错。"]},
{"content": ["<div class=\"topic_content\">2.0 支持 php7 和 coroutine 了，要上天了</div>"], "reply": "20", "tittle": "Swoole 终将一统高性能 php 场景", "comment": ["只能在 websocket 之类的异步情景有优势，在一般的 http 应用中比不过 phalcon/yaf 的", "而另一种思路则是类似 Swoole 和 phpdaemon 等 php-cli 常驻内存的异步方案（你可以理解成 php 版本的 nodejs ），然而这种方案 php-cli 本身就是一个 http 服务器（一些地方肯定没有 nginx/apache+php 方案那么成熟稳定，比如 https 支持之类的），而且常驻内存也会导致稳定性问题（和 nodejs 那样某个请求挂了应用就都挂了）没有 php-fpm 那么耐操，而且性能和 phalcon/yaf 一样： ", " 。因此除了需要 websocket 等异步功能情况下，我认为追求性能还是 yaf/phalcon 方案更好。", "楼上确定用过 swoole 吗？", " 没有", "swoole 还是吊吊的", "和 phalcon/yaf 这类 web 框架是两个概念\r", "我也用 yaf~", "我们为了追求性能，直接 php7+swoole 代替 nginx+php-fpm ，如今已经连续跑了几个月了。\r", "推荐 api 类的服务使用，性能是真不错。", "和 nodejs 那样某个请求挂了应用就都挂了？？？？ 什么鬼， node 表示一脸问号好吗", " 您真率真坦诚", "我 X ，支持协程！屌屌的赶脚\r", "去年面试过一家游戏公司，他们就是用 swoole 做后台的", "我厂生产线部分场景已使用了 swoole,目前运行良好", "个人认为 swoole 主要作用应该是拓展了 php 的应用范围。性能的比重不是那么大。", " 嗯，确实。现在很多东西还是适合常驻内存的进程来使用。比如一直诟病的连接池", "我本身写 php ，但是我感觉写 swoole 比写 go 还麻烦...", "还没有用过", " Zephir 有什么好的 IDE 插件吗？准备给 Phalcon 贡献点代码，特别是 ORM 部分，它不支持临时表和 MySQL 的 JSON 语法，还有一些小 Bug 。\r", "如果 Phalcon 放弃全栈理念的话，它可以做到最好的 PHP 后台框架。我们的项目就用它来写 API 接口，基本上只用到了 MVC 、 ORM 、 Annotation 这几个功能。", " php 下有支持 mysql 的 JSON 比较好的库么？", " 不怎么清楚，以前用 Java 几年了，现在很喜欢 PHP 。\r", "用 Phalcon 的时候， JSON 列取出来都是字符串，自己转成关联数组的，存的时候也自己确保是字符串。\r", "希望 PHP 越来越好。。。", " 个人觉得用 zephir 写业务没法提升性能， phalcon 提升的性能来自于 mvc 弄成了扩展在简单的 api 请求中达到单页 php 性能。。。。 ", " 。。。。", " 不是用 Zephir 来写业务，没有好的 IDE 插件，修改 Phalcon 的代码不方便。\r", "它的 PHQL 解析部分代码，一个文件就有 3000 多行。"]},
{"content": ["<div class=\"topic_content\">能满足下面需求：\r<br>1 ，支持 oauth2\r<br>2 ，支持 perMinute,perHour,perDay 的限制\r<br>3 ，支持 IP 调用次数限制\r<br>4 ，支持各种 header\r<br>\r<br>最好类似于 kong 的这种代理型的。。\r<br>这样感觉开发 API 可以省很多事儿。</div>"], "reply": "9", "tittle": "有没有好用的 PHP API 框架？", "comment": ["slim framework", "lumen", " \r", " \r", "建议二位了解一下 ", " \r", "不是说微框架可以做 API 就叫 API 框架。。。", "有个叫 dingo 的 基于 laravel", "lumen + dingo + rest 。推荐个自己写的例子 ", "有个专为 API 而生的 [π 框架]( ", "在用 Laravel 写 API ......", "= = 用 YII2 写的 API 。。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我在 callback 页面存了 session ，之后跳转到了首页</p>\n<pre><code>$request-&gt;session()-&gt;put('wechat_user', $user-&gt;toArray());\nreturn redirect('web/home.html');\n</code></pre>\n<p>另一页面</p>\n<pre><code>$request-&gt;session()-&gt;get('wechat_user', false)\n</code></pre>\n<p>值是 false ，如果注释掉跳转，第二页就可以正常获取到用户信息，\nsession 驱动是 file ，是因为 session 存储完毕之前就跳转的原因么？</p>\n</div></div>"], "reply": "4", "tittle": "请教一个 laravel 的 session 和跳转一起使用的问题", "comment": ["是的，使用 Redirect 会导致无法存储会话，以前让我纠结了半天。", "> 使用 Redirect 会导致无法存储会话\r", "\r", "从我的记忆来看，这个应该是错的。 redirect 跟 session 应该没有什么关系。这样使用出错基本上就是哪里不对吧，以下代码亲测可用：\r", "\r", "```php\r", "session()->put('laravist','laravist.com'); // 广告， ", " 是一个学习 laravel 的好地方\r", "\r", "return redirect('/session');\r", "\r", "\r", "Route::get('session',function (){\r", "    return session()->get('laravist');\r", "});\r", "\r", "```", "手动 save 下", " 同样的问题，跳转至后 session 失效，在返回数据的 header 中根本就没有 set-cookie\r", "问题直接导致了无法登陆。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题目所述，</p>\n<ul>\n<li>轮子仅用于数据表内的 CURD 操作，不涉及数据表以及数据库的操作；</li>\n<li>无过滤</li>\n</ul>\n<p>请诸位大大帮我看看</p>\n<p>项目地址： <a href=\"https://github.com/mateor95/ORM\" rel=\"nofollow\">https://github.com/mateor95/ORM</a></p>\n<p>文档地址： <a href=\"https://mateor.me/archives/61\" rel=\"nofollow\">https://mateor.me/archives/61</a></p>\n</div></div>", "<div class=\"topic_content\">诸位大大的关注点都在于这货不像个 ORM\r<br>\r<br>这个轮子本意是造成 ORM 的，但是后来做项目的时候越改越像一个操作类了：)\r<br>\r<br>这个操作类用于实现 ORM 时，用一个实体类 extends ，然后重载魔术方法即可\r<br>\r<br>`\r<br>\tpublic function __call($action, $parm) {\r<br>\t\t$test = $this-&gt;$action( $parm );\r<br>\t\treturn $this;\r<br>\t}\r<br>`</div>", "<div class=\"topic_content\">难道各位大大之中没有人觉得 ORM 的操作太麻烦了吗？任何一个库都要重新定义实体类？</div>"], "reply": "74", "tittle": "实习程序员用世界上最好的语言造了一个 ORM 轮子", "comment": ["楼主需要先理解什么是 ORM", "我原先也试图造过这一类的轮子,想弄个小框架出来,然后半路用上了 laravel......", "这只能叫做 数据库操作工具类。。", "这个不是 ORM ……", " laravel 里叫 查询构造器", "ORM 即 Object Relation Mapping 的简写，指的是“对象关系映射”。对象在哪里？", "这个时候是不是应该有人来推荐 symfony 的 doctrine", "将对象属性映射到数据库字段，才是 ORM 的套路\r", "更改属性值， save 即更改数据库值，一切都在操作对象", "看成了\"造了一个最好的 ORM 轮子\"，所以特意点进来围观的。。。\r", "\r", "1 楼说得对，楼主需要先理解什么是 ORM 。。。", "你还没明白什么是 ORM 。。。", "说句不好听的，没有 SQL 过滤的话这东西连 shit 都不如，连手写 sql 的 mybatis 默认都带关键字过滤\r", "无过滤连 util 都称不上\r", "因为 php 的 pdo 都支持 sql 预编译和关键字过滤了", "补充一点，当年 thinkphp 被人批判一番的原因，其中一点就是放着 php 自带的 pdo 不用，自己实现了一套 sql 转义和过滤，结果被人大抓漏洞\r", "总有新人不信邪，想自己搞个大新闻，最后还是 naive\r", "啥时候程序员才能改掉动不动就想造个轮子的习惯呢。。", " 话不能这么说,谁能造个好用的 v8 的轮子给窝，我会很开心的", " 为啥要改，就算写的不好，楼主的下一份工资也因为这个至少加了 200", " v8 的竞品不就蜘蛛猴子和原来的三叉戟引擎现在不知道叫啥了。。这轮子一个人能造出来么", "然而 ORM 本身就是 shit ，楼主的数据库操作类才是实用的好东西", " 个人项目用自己的轮子撸着玩，成型项目还是用 laravel 撸呀", " 谢大大哈哈哈，目前大三上学期，还没有工作，等找工作一定写上（ ORM 轮子 +200 金）", " 最重要的安全部分没实现，不想自己实现也没关系，为什么不在 pdo 上做呢，我看他用了 pdo 的 excute ，但是是手拼参数真的一点过滤没有\r", "新人有时候还是打击一下比较好\r", "我以前自己魔改别的前端框架，改了将近 200k 的定制代码，加了一大堆定制功能，虽然 bug 都改完了，后来，发现还是别人写的好，稍微一点风吹草动别人的啥事没有，参数检查什么妥妥的扛过去，自己写的就开始报错了\r", "翅膀没硬就不要学飞么，是不是这个道理", " 窝是说 ", " 这样的……\r", "虽然这个已经满好用了（和直接用 v8 比起来），但是用来做 embedded 还是挺蛋疼的……", " 我知道 php 界喜欢自己从 0 开始造框架，但是要知道项目越大越需要 orm 框架保证代码的规范和可读性\r", "如果按照现在的风气，小项目上什么 mysql ，用 mongo 不就好了么\r", "mybatis 都到现在还被批判，就是因为 orm 实现的不彻底，每一行 sql 都要自己去写", " 轮子预留了过滤空间的，所有 SQL 执行之前都是会先执行 checkParam ()，之所以用 pdo 但是却不用 pdo 的过滤，是因为考虑到换库或者跨库的时候可能用的不是 MYSQL", "mybatis 是有点麻烦，任何一个库都要重新定义实体类？不需要，使用代码生成。", " 原来我一直 ORM 的用法用错了...", " 哦那不错哦，连这点都考虑到了，但是我印象中 php<5.4 的时候似乎是有本地过滤的 bug （对于 gbk 编码？年代久远记不清了，我那时候还用的 php5.2 ），必须通过配置强制转到 mysql 上做参数处理\r", "现在这个 bug 早改了吧， pdo 新版不能对所有数据库用统一的参数过滤么", " 啊，这个我不清楚啊，我接触 PHP 的时候版本已经 5.6 了...", "实体类有个好处就是 对于 java 这种语言 他拿掉 bean 之后 直接打一个.就知道里面有什么字段了 每种字段也带了类型 这个从数据库读数据可以强转 反过来从前端接数据也可以做过滤和校验操作\r", "更彻底一点，接口中带上 bean ，用接口的人也知道该传啥玩意进来，要不现在为啥 ts 都跟着凑热闹搞强类型\r", "要不为啥会有 bean validatition 这些东西\r", "java 风雨中走来 一路被批判 从未倒下 这些设定不是白做的", "楼主可以看看 medoo - ", " PDO 又不是和 mysql 绑定的： ", "  『 PDO 提供了一个 数据访问 抽象层』", " 感谢大大", "naive\r", "1 、不懂什么是 ORM ， 居然还在博客里面写了 ORM 的介绍。 6666\r", "2 、就想问问，你的 sql 从来没用过 OR ？？ 你的 where 只能用 AND 相连？？？", " 好像是这么回事，我研究下怎么改", " \r", "\r", "过奖了 :) \r", "就是觉得楼主这东西既然不是完整的 orm ，那跟这个 medoo 还挺像的，大概可以描述为 “数据库对象式操作类” 吧，这个 medoo 很轻很好用，我在很多微型 app 中直接用的，据说是开发团队用于从 ", " 这个项目中剥离出来的。", "果然是最好的语言", "话说 PHP 有反射了么？没有反射 ORM 个鸡巴啊， Java 的 ORM 是直接告诉框架 我这里有个实体类，\r", "框架你自己看着办，给老子反射一下吧 自动映射字段", "你要是用过 Hibernate 等 Java 重型 ORM 框架就知道了，\r", "这些类，只要 在字段上做好了 @声明， ORM 框架会自动根据\r", "实体类之间的映射关系 生成 SQL 而且基本的增删改查都不用自己写，\r", "框架给你自动生成了 最原始的十几种增删改查\r", "\r", "而这些玩意的实现都依赖反射技术， php 如果没有反射，自然没有 ORM 一说", " php 有反射。\r", "doctrine 就有你说的，字段注解……", " \r", "\r", "连 Js 都有 orm 了，为什么 Php 会没有。\r", "\r", "java 需要 orm 需要反射是 java 自己的问题，和其他语言没关系。\r", "\r", "要是你看了 js 的类是什么东西，你还不得懵逼了……", " PHP 有反射 ", "\r", "\r", "估计你也对 PHP 不了解，另外 ORM 不一定要反射模型，也可以通过解析 schema 的方式做。\r", "\r", "楼主还没弄懂什么是 ORM ， ODM ， ActiveRecord ， ModelRelation ，就开始装逼了，结果失败了。", " 厉害了，真的是世界上最好的语言", " 估计你对 Java 和 Hibernate 也不怎么了解。早期的 Hibernate 是需要手写 mapping schema 的，完全不需要反射。", "先学会走再去跑。。。我承认我也是看标题进来的", "😅尴尬，我也是堪称了最好的 ORM 框架，吓得我点进来了 - -", "这里贴一个没有反射的 C++ 实现 ORM 的例子，不过很糙 --> ", "我觉得楼主开个帖挺值的，在各位老师的帮助下，水平一下就提高了", " 正是此意", " 这就是反射。然后 relation 给你吃了？", "“造轮子”这个词算是不当翻译的一个模范了，“发明滚轮” 才是最准确的翻译", "只有我在意没有类型检查么……\r", "\r", "没有 schema 的 ORM 和咸鱼有什么区别？楼主你改成 mongo 的 ORM 算了", " 去看看 ORM 的鼻祖 ActiveRecord 吧，我谢谢您了。", " 不想看 ruby 也可以看 laravel 或 django 的 ORM", "楼主可能做的项目比较不规范，很多表？\r", "\r", "一个表一个实体类已经很轻松啦。数据库不也得 create table 各种定义么。\r", "\r", "知足吧，某语言的 ORM 们，要定义类，要自己写 repository ，要写 xml ，还可能要在代码里写 sql 。\r", "\r", "当然 JPA 还是很好的。", "字符串拼接哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈", "\"任何一个库都要重新定义实体类？\"\r", "\r", "> 去看一下 Ruby on Rails 吧。", " 手写 sql 是一种情怀，要不为啥 mybatis 现在能火，给我 sql 模板给我字段过滤就敢干活了", " \r", " \r", "\r", "不管 xx ， orm 的本质是告诉 框架一些信息，然后让框架帮我们去做一些重复又脏累的工作，\r", "如果我 xx 还要自己拼接 sql ，或者让库来拼接 sql\r", "如果简单的增删改查什么的，都得自己来映射结果集与对象 还要 orm 框架干吊？我自己手撸不行？\r", "Mybatis 只解决了一部的问题，但是把查询方式暴露了出来，\r", "你们知道 JPA 标准是可以直接写接口定义 让框架来代理实现的么？简单的博客之类的业务逻辑 \r", "我可以一行 sql 都不写就完成，连分页都不用写了，框架全给你做好，你只管定义接口就行", "自从有了 spring boot 和 idea ， java 撸 web 比 PHP 还方便", "Javascript 才是世界上最好的语言。浏览器端就不说了，写数据库，写编译器，写 web 框架，写爬虫没有不能做的。", "Orm 还是看看 ActiveRecord 吧", "楼主写了一个 SQL Statement Builder\r", "接下来还需努力，才可以造出一个 ORM", " 出现了一个温和的程序员...", " 类型检查指的是什么？", "大兄弟，看一下这个玩意 ： ", "LZ ， 5 铜币收好，刚出来工作不要怕，被喷才有提升空间\r", "等工作个 2 、 3 年你再回头来看这帖，你会感激喷你的人，然而...这帖也会是你很想让其消失在网络上的帖\r", "\r", "BTW ， V2EX 上木有删帖功能！", " 看来是有相同经历的人啊", " 大家都是这么爬上来的。", " ActiveRecord 不过是把 schema 放在了 migration 的信息里，我还觉得不方便查看呢。", " 没记错的话 schema 是 migration 用的。 ActiveRecord 本身不依赖 migration 和 schema 。", "楼主可以参考一下 ActiveRecord", " \r", "JAVA 党总是这样 呵呵呵呵", "还好啦楼主，你被喷的不惨。我被喷的才惨，还被喷了好几次，看我刚注册的时候发的帖子就知道了，还好我脸皮厚，挺了过来。\r", "\r", "话说我也写过一个 ORM ，上次更新是 2015 年。不过哪怕按照当年的标准都是很烂的，拿过去当反例吧：\r", "\r", "\r", "// 话说层主我也喜欢从 0 开始造框架，我就是喜欢这样怎么地了。", "对象关系映射（英语： Object Relation Mapping ，简称 ORM ，或 O/RM ，或 O/R mapping ），是一种程序技术，用于实现面向对象编程语言里不同类型系统的数据之间的转换[1]  。从效果上说，它其实是创建了一个可在编程语言里使用的--“虚拟对象数据库”。\r", "\r", "PHP 本身对面向对象的支持就是半吊子", "这个真不是 ORM ，只是用函数拼成简单的 sql 语句，文档还写得有模有样的"]},
{"content": ["<div class=\"topic_content\">新人问题，大家请别笑，不是 ITer ，想撸个轻论坛，一切从概念学起。\r<br>\r<br>我了解了一下，常见加密方式可能有： escape 、 md5 、 sha 、 base64\r<br>escape 和 base64 好像可逆？\r<br>\r<br>那么我应该采用哪种方式为密码加密？\r<br>用户登录时验证，是对输入的密码从新加密一次，然后对比数据库已加密的字符是否一致来判断是否放行吗？\r<br>\r<br>麻烦一下各位，给个思路，然后我又继续找资料学习，感谢。</div>"], "reply": "54", "tittle": "密码加密与登录验证的原理是怎样的？", "comment": ["关键字：加盐", " 一般情况下，有没有必要混合加密？", "md5 是不可逆的\r", "\"用户登录时验证，是对输入的密码从新 md5 加密一次，然后对比数据库已 md5 加密的字符是否一致来判断\"是可行的\r", "\r", "还可以将用户的登录状态存入到 session 中", "看了下， LZ 发在了 PHP 节点，那就用 `password_hash` 和 `password_verify ` 吧", "escape 是啥？从没听说过\r", "md5 sha 是散列函数，不是加密。\r", "base64 是编码，就像把汉字转换成电报代码，根本不能加密。\r", "\r", "标准做法：网站强制 ssl ，用户名密码原样提交至服务器。服务端使用 bcrypt 生成散列指纹，存入数据库。\r", "\r", "还有个比较接近中国特色的，打死不用 ssl ，服务端返回 RSA 公钥，客户端用 cryptoJS 处理密码加密提交，服务器那边再来解密。缺点是完全不可防御中间人攻击。还有直接用 AES 加密的，密钥就藏在代码里。 189 网上营业厅好像就是这么干的", "1.通过哈希算法存储用户口令。哈希算法不可逆。\r", "\r", "2.因为用户会在各个站点使用同样的口令，防止别的地方泄露的密码被暴力破解后影响到你的站点。给每个用户的口令加上一段随机生成的字符串凑在一起通过哈希算法来存储密码。保存好密码和这段随机生成的字符串，这段字符俗称『盐』。", "如果用的是 PHP ， PHP 不是古董版本，就按照 4 楼提到的那两个函数操作即可。非常符合行业标准。最靠谱", " 没错，因为我准备用 PHP+MYSQL ，其它需要容器、 APP 什么的语言对我来说太难。\r", "\r", "想知道现在程序员通常会用什么方案处理？", " 不好意思，我自己也比较乱，概念名词不一定说得准，有时会影响理解。\r", "\r", "\r", "我想说的是 JavaScript escape() 函数", " 明白，谢谢。", " 考虑尽量用 PHP7 ，图速度快。", " 了解，谢谢。", "登录时验证是验证输入的字符加密后和数据库中的加密字符是否相匹配，一般的加密算法如 MD5 ，网上都有代码，建议楼主可以先搜索了了解下", " 找了一个叫“ ph pass ”的类库来了解，据说 YII 和 wordpress 都在用， MD5 不知道破解的事是不是真……", " 真的假的？ 189 这么厉害？", "一种可行的思路，每次登录都用一个 Token ，服务端在 sesion 中保存 Token\r", "客户端提交的是 hash(token,hash(hash(pwd),salt) 在数据库中保存的是 hash(hash(pwd),salt)\r", "在服务端计算 hash （ token,保存的值)，然后比较， 不管对错，清除 token 。\r", "\r", "自己不是做安全的，不知道这样还有什么问题。\r", "一般这样应该差不多了，毕竟 https 要钱。", " \r", "这是一个 CHAP 协议\r", "你把 hash(hash(pwd),salt) 当做一个变量，你会发现，其实服务器这样做以后保存的是 明文，\r", "\r", "普通的 CHAP 协议的一个问题吧，必须保存明文密码。", " \r", "先去 ", "\r", "会包含这样的 JS ： ", "\r", "beautify 一下，有如下代码：\r", "\r", "$.fn.aesEncrypt = function(n) {\r", "    var t = CryptoJS.MD5(\"login.189.cn\"),\r", "        i = CryptoJS.enc.Utf8.parse(t),\r", "        r = CryptoJS.enc.Utf8.parse(\"1234567812345678\"),\r", "        u = CryptoJS.AES.encrypt(n, i, {\r", "            iv: r\r", "        });\r", "    return u + \"\"\r", "};\r", "$.fn.aesDecrypt = function(n) {\r", "    var t = CryptoJS.MD5(\"login.189.cn\"),\r", "        i = CryptoJS.enc.Utf8.parse(t),\r", "        r = CryptoJS.enc.Utf8.parse(\"1234567812345678\");\r", "    return CryptoJS.AES.decrypt(n, i, {\r", "        iv: r\r", "    }).toString(CryptoJS.enc.Utf8)\r", "};", "\r", "\r", "我找了一篇知乎的文章，各位有兴趣可以看看。\r", "现在有点困惑“随机盐值”，如果盐值随机，那么验证的时候怎么跟生成的时候一样？", "   可以把 salt 存起来， salt 作用主要就是防止彩虹表", "好多都是 sha1.返回公钥或者内置固定公钥。", "   就是比如 你的密码进行 md5 散列之后，会得到一个固定的值，虽然这个值不能逆向，但是只要你有足够的数据，就能直接索引了，加盐就是稍稍阻止一下这个过程", " \r", "\r", "找了一篇文章，跟你说的思路相同的。", " 明白，还有个问题，如果盐值随机，那么验证的时候怎么跟生成的时候一样？（ 19 楼）", " 仔细想想确实是，但是其他的也一样的了。只要被拖库了，密钥都是明文的。", "   盐值 的话  是可以存在同一个库里面，当然也可以分库， MD5 的彩虹表很少有计算非常长的字符串的，因为穷举非常长的字符串特别耗费时间，盐值足够随机足够长就可以了，其实存哪里不是很有必要考虑", "各位大佬方法都好多 我一般写小程序就是先验证字符串是否有特殊字符 有就返回错误 然后没有的话就 md5 后存数据库 登录就把用户输入的密码 md5 后和数据库的对比 通过后存个 SESSION 存个 Cookies 两边一边一个随机密钥 判断的时候首先判断服务器端和客户端的 Cookies 是否存在 如果不存在肯定是没有登录 存在的话就验证两面的密钥 一样就代表登录 不一样就清空然后跳转到登录界面 各位大佬轻喷 用习惯这种做法了 有什么不对的还望指出", "建议先搞清楚编码、散列、加密的区别", "\"用户登录时验证，是对输入的密码从新加密一次，然后对比数据库已加密的字符是否一致来判断是否放行吗？ \"   一般来说 就是这样 就是一个密码的生成过程  我现在是这样的处理的  根据用户注册的主键 ID 和密码 按照一定方式混合之后去加密  登录的时候 对密码按照我的加密方式加密之后和数据库对比", "   彩虹表不会计算特别长的字符串，比如你的密码＋盐值是   64 的长度，那么彩虹表的计算就穷举   64 位长的所有字符组合，这就非常恐怖耗时间了，所以盐值足够随机，足够长就 ok 了", "来, 我给你一套完整方案, 专做移动安全的", "escape 和 base64 不是加密，是混淆， md5 和 sha 是哈希，登录密码一般就是比对哈希值。", "腾讯、京东，是 RSA 。\r", "如果你有意留存一份用户密码明文数据，那就 RSA 一下。私钥自己收好。", "再说一遍 MD5 不是加密算法，用户口令也不需要加密。那叫散列、哈希、摘要算法。\r", "\r", "至于保持用户登录状态，一般都是通过 cookie 存储 session token ，一般的 web 框架都会有相应的处理功能。", "单向散列，加盐", " 明白，我有些概念名词和功能可能会说错，会抓紧学习。", "md5 简单密码的会被暴力破解  建议", "一定自己手动加盐的话建议 hmac", "想起来三周前偶然听了一节密码学选修课，，，", " 看到中国特色笑出声，这么麻烦直接上 SSL 多好……\r", "公私钥用错地方了喂", " 可不是咋的，如果死活不用，这就就是个凑合着能加密的方法。根本不能防中间人", "php 的话通过 4L 挺好的，只要你无需跟前台或其他后端程序交互，完全没必要哈希，哈希我觉得更多为了协同。", " 可是四楼的 password_hash 不就是创建密码的哈希吗？我的理解，哈希和加盐主要是防止被脱裤后被暴力，而我觉得这个影响极坏，所以比较重视这一块，而我完全没有实操经验，欢迎各位多多分享实战经验和个人看法。", " LZ 没啥实操经验直接用 4L 的不就行了，业界通用方案， PHP 官方推荐，还能坑你不成", " salt 可以是生成一段随机字符，然后跟密码一起哈希。 salt 可以保存在数据库中，也可以跟哈希值以一定规则编码在一起，就不用单独存 salt 了，用的时候再反向把 salt 从混合编码中提取出来。", " 赞", "去看看 Key derivation function", " 谢谢，这个中文文献比较少。", " \r", "我写了一批文章，专门讲讲这个事：\r", "\r", " 已拜读，感谢如此有心之人。\r", "学习 PHP ，路漫漫其修远兮～", " 那些所谓的“慢函数”如何理解？为什么执行得慢～", " 本来就想写，很早就埋了坑，无非这次是机缘巧合，你这个问题给了我动力罢了", "  \r", "\r", "1. 盐是需要存下来的，比如 bcrypt 前 22 个字符就是盐，参见 ", " 的示例说明\r", "2. MD5 破解是用彩虹表\r", "3. 慢函数可以扛暴力破解，做到破解之后信息已经没有用了\r", "\r", "如有错误欢迎纠正\r", "password_hash 的 $algo 参数设为 PASSWORD_BCRYPT 即是 bcrypt\r", "我平常也是用 bcrypt 算法", " 谢谢介绍，我继续去了解。"]},
{"content": ["<div class=\"topic_content\">大致是这样的:  \r<br>有一组数是 36*36 的(0-9a-z),然后我有一串字符,比如 ab+cde12+3,我想从数组中取一个数(一共两个,可以相同)到这串字符里面的两个+号处,  \r<br>比如在第一个加号处取 0 ,第二个加号处取 a 新的字符串就是 ab 0 cde12 a 3 ,   \r<br>然后第二次在第一个加号处继续取 0,第二个加号取不同于第一次的,比如 1,构成新的字符串:ab 0 cde12 1 3,  \r<br>然后这样依次把这 36*36=1296 种情况都打印出来,PHP 该如何写啊,刚学,无从下手...快急哭了...\r<br>跪求前辈赐教 -_-</div>"], "reply": "1", "tittle": "各位大佬帮忙看一下,谢谢 关于 PHP 取数组随机数问题", "comment": ["快来人 帮忙看一下啊"]},
{"content": ["<div class=\"topic_content\">想用 json 特性，但是用的时候各种手动拼接 sql 字符串啊，有好用的库么？\r<br>有schema最好，至少支持直接把array插入json字段吧，或者select json字段出来就是array这样。。。</div>"], "reply": "2", "tittle": "针对 mysql5.7 的 json 特性， php 下有好用的客户端么？", "comment": ["= = 最近也在操心这个问题。。", "碰到一个 JFinal 写的工程也是这样直接用"]},
{"content": ["<div class=\"topic_content\">这几天被一个巨傻逼的问题折磨死了。\r<br>\r<br>我在 IDE 里面，把一个文件名字改为驼峰形式，感觉看起来漂亮点。\r<br>然后尼玛我就发现 push 到 github 之后，竟然有两个文件。\r<br>比如 github repo 和本地都有一个文件 abc ，版本号是相同的\r<br>然后我在本地把 abc ，改为 Abc ，\r<br>然后本地只有 Abc ，但 push 之后， github repo 里，会有 abc 和 Abc 同时存在！\r<br>而且我每次修改更新本地的 Abc ， push 之后， github repo 里 abc 有更新， Abc 没更新！\r<br>你要说既然 github 上有 2 个文件，那我就 pull 一下， 看能不能把两个文件都拉下来，然后删一个不就行了？\r<br>pull 不下来！\r<br>\r<br>后来只好在vps里新建一个文件夹，git init，git pull之后，用“git rm abc”删了这个老文件，然后commit，再push到github上，这时github上的abc才算删除了。\r<br>\r<br>然后，如果不删除本地repo，直接git pull，会把本地Abc给删了。我感觉日了狗了，只好把本地repo删干净，重新在本地新建一个文件夹，再git init，git pull，这才搞好。\r<br>\r<br>这个问题让我搞得觉得自己智商都下降了。\r<br>\r<br>有谁有啥经验的，帮忙指点一下这为啥出现这么奇葩的问题么？</div>", "<div class=\"topic_content\">谢谢各位的解释。\r<br>\r<br>今天搜到这个帖子，似乎完满解释了我的疑惑：\r<br>\r<br><a target=\"_blank\" href=\"http://stackoverflow.com/questions/572549/difference-between-git-add-a-and-git-add\" rel=\"nofollow\">http://stackoverflow.com/questions/572549/difference-between-git-add-a-and-git-add</a>\r<br>\r<br>总之，以后用\"git add -A\"，就可以避免这个问题了。\r<br>\r<br>当然， ignorecase=false 设置也是有必要的。</div>"], "reply": "26", "tittle": "下次想改文件名或者删除文件，务必不要在 IDE 里面直接改，而要在 shell 里使用 git mv 或 git rm", "comment": ["目测你用的 Linux/Mac", "看起来像 git add 时候 add 没 add 删除的部分吧？", " Windows", " 我每次 git add 的时候， \r", "都是直接省事，很懒，直接用“ git add .”\r", "会不会是这个问题？", "感觉你用的是 windows\r", "如果是的话，应该跟 windows 路径大小写不敏感有关", "开启 git 大小写敏感设置即可。", "我大致看了一下，我认为是这样的：你改了名字，实际上是相当于你删除了 A 文件，又新建了 B 文件，于是你又 git add .，这导致 git 没有追踪到你 A 文件的删除事件，只认为你新建了 B ，然后 commit push 了，然而此时的远端是认为你有 AB 文件，而本地是只有 B 文件的，所以历史冲突，不能直接 pull 。\r", "解决办法就是 git rm A 或者 git mv A ，其实更方便的方法是换个 IDE 吧。。\r", "因为我之前也遇到这种问题，后来用 Atom 的时候发现直接在 Atom 里删除，重命名他都会帮我在 git 中留下记录。\r", "当然了 Atom 只是个编辑器不算 IDE 。。", "很明显 lz 用的 windows ， windows 不区分大小写。所以会出现这个问题。", "我的 IDEA 没有出现这种情况啊。\r", "我把 A.java 文件 rename 成 B.java 。然后 git status 显示 delete A.java 和 add B.java 。", "ignorecase=false", " 对，就是这么回事。用 git add . 仅仅记录了增加或修改的文件，要用 git add -A\r", "\r", "git add -A = git add .  +  git add -u\r", "\r", " \r", "这帖子写的很清楚\r", "\r", "还是我对 git 不熟啊\r", "不过，这好好折腾一番，也算熟了，哈哈", " 我用 Hbuiler ，这破 IDE 唯一的好处是写 javascript ， html 和 css 的时候比较省事，其他目前没看到什么优势", " 我用 Hbuiler ，这破 IDE 唯一的好处是写 javascript ， html 和 css 的时候比较省事，其他目前没看到什么优势", "我的经验是，如果一个人用不好 Git 的基本功能，我会塞给他一个好用的 GUI 。", "直接用 GUI 压根不会遇到这种问题", " 我大 phpstom 面前其他的 php IDE 都是渣渣", "我的建议是，换个 ide ，我在 pycharm 下执行你描述的操作没有出现任何问题。", " 实际上 Git v.2.x 中 `git add .`会跟踪删除记录，如下所示：\r", "\r", "```\r", "{ New folder }  » git init               /cygdrive/c/Users/Explorare/Desktop/New folder\r", "Initialized empty Git repository in /cygdrive/c/Users/Explorare/Desktop/New folder/.git/\r", "{ New folder } HEAD » echo Change me > change-me\r", "{ New folder } HEAD » echo Delete me > delete-me\r", "{ New folder } HEAD » git add change-me delete-me\r", "{ New folder } HEAD » git status         /cygdrive/c/Users/Explorare/Desktop/New folder\r", "On branch master\r", "\r", "Initial commit\r", "\r", "Changes to be committed:\r", "  (use \"git rm --cached <file>...\" to unstage)\r", "\r", "        new file:   change-me\r", "        new file:   delete-me\r", "\r", "{ New folder } HEAD » git commit -m initial\r", "[master (root-commit) 4b1ff0d] initial\r", " 2 files changed, 2 insertions(+)\r", " create mode 100644 change-me\r", " create mode 100644 delete-me\r", "{ New folder } master » echo OK >> change-me\r", "{ New folder } master » rm delete-me     /cygdrive/c/Users/Explorare/Desktop/New folder\r", "{ New folder } master » echo Add me > add-me\r", "{ New folder } master » git status       /cygdrive/c/Users/Explorare/Desktop/New folder\r", "On branch master\r", "Changes not staged for commit:\r", "  (use \"git add/rm <file>...\" to update what will be committed)\r", "  (use \"git checkout -- <file>...\" to discard changes in working directory)\r", "\r", "        modified:   change-me\r", "        deleted:    delete-me\r", "\r", "Untracked files:\r", "  (use \"git add <file>...\" to include in what will be committed)\r", "\r", "        add-me\r", "\r", "no changes added to commit (use \"git add\" and/or \"git commit -a\")\r", "{ New folder } master » git add .        /cygdrive/c/Users/Explorare/Desktop/New folder\r", "{ New folder } master » git status       /cygdrive/c/Users/Explorare/Desktop/New folder\r", "On branch master\r", "Changes to be committed:\r", "  (use \"git reset HEAD <file>...\" to unstage)\r", "\r", "        new file:   add-me\r", "        modified:   change-me\r", "        deleted:    delete-me\r", "\r", "{ New folder } master » git --version    /cygdrive/c/Users/Explorare/Desktop/New folder\r", "git version 2.8.3\r", "```", " 我用 1.9.2 。。。。。。。明白了，下次我直接升级 git 2.X 版本吧，谢谢", " \r", " GUI 还是拉倒吧，我发现我对命令行更敏感。别提了。我曾经下载过 GUI 版本的，根本看不懂。", " 我是说「好用的 GUI 」，不是「看不懂的 GUI 」。", " 哦。能推荐一个么？我上次真的没看懂。也忘了上次下的 GUI git 是啥名字了。谢谢", " 可以试一下 SmartGit 。\r", "不一定适合所有人，不过我们团队里大家用了感觉都不错， Git 操作比命令行时候精细了许多。\r", "拿来做复杂的分支 Merge/Rebase 功能也非常舒服，不再像命令行下那样 Rebase 一时爽，○○×××了。", " windows 下 tortoisegit 挺好用。 smartgit 也不错，还跨平台", "不关 IDE 的事吧, windows 的锅", " \r", " 谢谢，既然都推荐 smartgit ，那我试试吧。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>想去掉代码里面的 yii.js 其次 activeform 这个有好的组件取代吗？最主要的原因就是不想让别人知道是什么框架做的，安全点。</p>\n</div></div>"], "reply": "16", "tittle": "有熟悉 yii 底层的大神么", "comment": [" 你完全不用 yii 的 widget 就完了， yii 的理念是方便后端写出能看的前端，你有前端的话可以不用 yii 的那一套啊", "安全性倒不是问题，他只是框架", " 主要一个表单验证 还有一个是 yii.js 这个屏蔽不了 还有那个缓存随机生成的字符串 简直头疼 表单验证确实方便 没想好其他的有这么棒", "'components' => [\r", "        'assetManager' => [\r", "            'bundles' => false,\r", "        ],\r", "        'request' => [\r", "            'enableCsrfValidation' => false,\r", "        ],\r", "],", "这种问题还来发帖，只能说你学习能力基本为 0", " 可以看下问题 这个问题不好解决的 是修改 yii 核心代码", " 那问下表单验证使用什么方式呢 activeform 确实很方便 可惜带了 yii 的关键词", "我想起了 mingge 体", "自己定义一个 Asset 别用自带的", "知道是 yii 就不安全了？ 而且 前端一般都会考虑放弃 yii 原生插件吧", "不用 form 这个 widget 就是了\r", "\r", "yii.js 是一个 asset 依赖而已 不引用就行了", " 总结的真好，我一直就觉得 yii 那框架现在有点过时了，但又说不出它那里不对。", "= = 框架只是给你摆放了那么多东西在台面上。。愿意用那个就用那个呗。。\r", "Yii2= = 并没有说一定要用 widget 。。本身 JS 与 PHP 代码结合在一起= = 就有利有弊。\r", "\r", "你可以用 twig 。。 ", "  \r", "获取 smarty 。。 ", "\r", "\r", "widget 如果开发后台还是挺好的。。配合 gii 。。如果再定制下 curd 模板,速度哇哇的。。", "你不用这个 widget 就行了，直接写 form 或者 自己封装个 widget 就可以了"]},
{"content": ["<div class=\"topic_content\">之前搜索过相关的 php 定时任务的实现，比如用 corntab 的，但是并没有找到类似可以动态管理定时任务的。\r<br>或者不需要自己造轮子，有没有第三方云提供类似动态管理定时任务的服务😃，新浪云的定时任务只是个定时器，还没有接口。。。</div>"], "reply": "11", "tittle": "如何用 php 实现类似微信红包过期自动退回的功能", "comment": ["别沉。。别沉。。", "用消息中间件队延时 24 小时触发就好。轻量级， Redis 也能做。", "Redis 吧,它的数据结构+自动过期应该能满足你需求,性能也好.", "2 楼是一种方案\r", "\r", "主动或者被动更新红包状态即可", "定时任务，每分钟或每十五分钟执行一次（或者其他事件），自己用数据库实现一个简易的红包消息队列（如果是只有 php+mysql 的虚拟主机的话），把红包事件写入队列，每次定时任务检查队列是否已经有红包超时。\r", "\r", "逻辑上不复杂，可能自己实现都算不上是造轮子吧。。", "关注，我也想要管理 crontab 的东西。。现在 crontab 出错了都不知道。", "突然想到 Laravel 框架里有个任务调度器  ", "  Laravel 的任务调度，也是依赖于 crontab 的，需要 crontab 每分钟执行 Laravel 的任务调度", " 你说的对，我只是觉得这样可能管理起 crontab 来会简单点", " 嗯嗯，这个确实是！", " 这个可以"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在官方文档中说道</p>\n<blockquote>\n<p>If the redirect path needs custom generation logic you may define a redirectTo method instead of a redirectTo property:</p>\n</blockquote>\n<p>下面是我 LoginController 中的代码：</p>\n<pre><code>&lt;?php\n\nnamespace App\\Http\\Controllers\\User\\Ui\\Auth;\n\nuse App\\Http\\Controllers\\Controller as Controller;\nuse Illuminate\\Foundation\\Auth\\AuthenticatesUsers;\nuse Illuminate\\Support\\Facades\\Redirect;\n\nclass LoginController extends Controller\n{\n    /*\n    |--------------------------------------------------------------------------\n    | Login Controller\n    |--------------------------------------------------------------------------\n    |\n    | This controller handles authenticating users for the application and\n    | redirecting them to your home screen. The controller uses a trait\n    | to conveniently provide its functionality to your applications.\n    |\n    */\n\n    use AuthenticatesUsers;\n\n    /**\n     * Where to redirect users after login.\n     *\n     * @var string\n     */\n//    protected $redirectTo = '/';\n\n    /**\n     * Create a new controller instance.\n     *\n     * @return void\n     */\n    public function __construct()\n    {\n        $this-&gt;middleware('guest', ['except' =&gt; 'logout']);\n    }\n\n    public function index()\n    {\n        return \\Auth::user();\n    }\n\n    protected function redirectTo()\n    {\n        die('ok');\n        //return Redirect::route('index');\n    }\n}\n</code></pre>\n<p>但是登录成功收任然跳转到 /home</p>\n<p>这是为啥？</p>\n</div></div>"], "reply": "14", "tittle": "laravel 5.3 自定义登陆成功后的跳转路由无效？", "comment": ["大 phper 在哪呢？", "你开一个隐身窗口（排除 session 影响），然后直接打开登录页，登录试试？应该是从别的页面跳转到登录页的时候会在 session 里记录一个来源页的 url ，有这个 url 的时候是不会用这个 redirectTo 方法获取跳转目标 url 的", "protected $redirectTo='/your/path';", " 我试试哈", "不好意思 看错了 你应该复写 redirectPath 方法", " 在隐身模式还是登录还是跳转到了 'your/path/home' 。。。", "默认不给参数 就是自动跳转到 /home  \r", "去看  Illuminate\\Foundation\\Auth\\RedirectsUsers;\r", "第十八行\r", "\r", "        return property_exists($this, 'redirectTo') ? $this->redirectTo : '/home';", " 是 redirectPath() 记错方法了。。\r", "\r", "不过 seesion 里的 url 确实会影响到跳转位置，要在这个方法里去分不同的跳转的位置要注意一下", " 可是文档说 写一个 redirectTo 方法就可以，为什么我这里不生效？ redirectPath 重写还是可以的，难道是文档错了？", " 恩恩，改这个确实有用。我之前也试过，但是不清楚为什么文档里写的不好使。下面是我重写的 redirectPath()方法。\r", "\r", "```php\r", "    public function redirectPath()\r", "    {\r", "        return redirect(route('index'));\r", "    }\r", "```\r", "\r", "出现了如下问题截图\r", "！[]( ", ")\r", "\r", "我跳转的地址和登录的地址不在一个二级域下（跳转到首页，登录在 login 二级域下）", " 返回一个 url 字符串即可，比如 return route('index');", " 恩，直接返回 url 字符串不出错了，但是登录之后页面刷新，还是 ", " 。。。。一脸懵逼", " 一个比较拙劣的方式 return '", "';", " \r", "<?php\r", "\r", "namespace Illuminate\\Foundation\\Auth;\r", "\r", "trait RedirectsUsers\r", "{\r", "    /**\r", "     * Get the post register / login redirect path.\r", "     *\r", "     * @", " string\r", "     */\r", "    public function redirectPath()\r", "    {\r", "        if (method_exists($this, 'redirectTo')) {\r", "            return $this->redirectTo();\r", "        }\r", "\r", "        return property_exists($this, 'redirectTo') ? $this->redirectTo : '/home';\r", "    }\r", "}\r", "\r", "若自定义 redirectTo 成员函数 需要返回值为 string 类型。\r", "可以这样写\r", " protected function redirectTo()\r", "    {\r", "       // die('ok');\r", "        return '/index';\r", "    }"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>Medoo</h1>\n<p><a href=\"http://medoo.in/\" rel=\"nofollow\">Medoo</a> 是一个轻量级的 PHP 数据库框架，具有诸多优点。</p>\n<h1>特性</h1>\n<ul>\n<li>轻量级，只有 20KB 左右，且是单文件</li>\n<li>简单易学，框架结构友好，很容易上手</li>\n<li>功能强大，支持各种常见或复杂的 SQL 查询</li>\n<li>支持广泛，支持 MySQL, MSSQL, SQLite, MariaDB, Oracle, Sybase, PostgreSQL 等数据库引擎</li>\n<li>安全，防止 SQL 注入</li>\n<li>免费的 MIT 开源协议</li>\n</ul>\n\n<h1>入门代码</h1>\n<pre><code>// 只需下载 medoo.php 并放置到项目目录中，然后 require 即可。\nrequire_once 'medoo.php';\n \n// 初始化\n$database = new medoo([\n    'database_type' =&gt; 'mysql',\n    'database_name' =&gt; 'name',\n    'server' =&gt; 'localhost',\n    'username' =&gt; 'your_username',\n    'password' =&gt; 'your_password',\n    'charset' =&gt; 'utf8'\n]);\n \n// 开始使用\n$database-&gt;insert('account', [\n    'user_name' =&gt; 'foo',\n    'email' =&gt; 'foo@bar.com',\n    'age' =&gt; 25,\n    'lang' =&gt; ['en', 'fr', 'jp', 'cn']\n]);\n</code></pre>\n<h1>中文翻译</h1>\n<p>今天把花一整天时间把整个官网的文档都翻译成了中文。<br>\n地址：<a href=\"http://lonewolf.oschina.io/medoo/\" rel=\"nofollow\">http://lonewolf.oschina.io/medoo/</a></p>\n<p>打算今后会快速跟进官网的更新。</p>\n</div></div>"], "reply": "20", "tittle": "Medoo 中文文档", "comment": ["这个库感觉最近不怎么活跃了。估计是大家都用框架去了吧", "这不是喵大写的么？", "我用过，还可以。", "有人做过相同的事情了吧，不过好像好久没更新了  ", "想要的都有，感谢", "insert 的时候有个坑， exec 后没有做判断，直接返回的 lastInsertId();", " 这个我知道，之前也是看这个，不过不经常更新，有些函数都变了，有时看他的导致程序错误，又得看原版的。\r", "我是看到内容并不多，就想翻译一下了，反正经常用。", " 这个倒没碰到过。", " 就一个简单的框架，我觉得挺完善的了，主要用在一些小项目中。", " 可以在代码里面看到， insert 方法。一般情况是不会踩到这个坑的，只有前面 insert 成功，后面再 insert 失败的时候才会被坑", "恩，这个用过，整体还是很好用的，对楼主的精神表示支持~", " 嗯，是的，这个得在开发过程中留意，但这个出问题的话在开发中应该会被发现。\r", "我用了好长时间，还没被坑过：）", "挺好的，支持支持，最近也在用", " 你这网站编码有问题吧， safari 打开后都是乱码，要手动切换到 utf8", "可以可以 先收藏一下。", " 官网里的页面没有指定编码，后面我翻译之后用 chrome 打开没有问题就没有设置。\r", "现在加了 UTF-8 编码了。多谢提醒！", " 第二次失败返回的是第一次的 id ？", " 是的， lastInsertId() 返回的是最后一次成功的 id", "原谅我刚刚才知道 Medoo 是国人的一个开源项目，都用了这么久了。。。\r", "翻译国人的项目，听起来总感觉有点别扭：）", "赞楼主"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>现在我进行模糊查询是靠字符串的拼接，代码如下：</p>\n<p>$sql = \"SELECT * FROM pdns.rdata_copy WHERE rdomain LIKE '%\".$_GET['domain'].\"'\";</p>\n<p>$ccdomain = $db-&gt;rawQuery($sql);</p>\n<p>但是这样不就成了 SQL 注入了么，能否可以有一些库函数进行  预编译的那种分离的 可以直接调用呢？</p>\n</div></div>"], "reply": "8", "tittle": "PHP 如何进行 mysql 的模糊查询？ 有成熟的库没？", "comment": ["对获取的参数封一层 addcslash 呗", "pdo", "楼主看一下 pdo 的预处理语句和参数绑定", "pdo", "找个 ORM 把。。\r", "官网:http://www.doctrine-project.org/\r", "Github:https://github.com/doctrine/doctrine2", "Mysqli 的 Prepared 语句\r", "PDO 的 Prepared 语句\r", "都可以完全解决注入问题。\r", "例如\r", "$sqli = new mysqli();\r", "$sqli->connect(host, username, password, database);\r", "$stmt = $sqli->prepare('SELECT passhash FROM users WHERE username=?');\r", "$usn = $_POST['User'];\r", "$stmt->bind_param('s', $usn);\r", "$stmt->execute();\r", "$stmt->bind_result($queryResult);\r", "$stmt->fetch();\r", "if (strtolower($queryResult) == strtolower($_POST['pass']))", "字符串拼接可以用。但不能直接把外部数据拼进来。必须处理一下。\r", "最古老的函数是 addslashes ， mysql 对应函数是 mysql_real_escape_string 。\r", "mysqli 对应函数是 mysqli_real_escape_string ， PDO 对应方法是 quote 。\r", "前两者在 GBK 编码下会间接产生漏洞。推荐后两者。", "1 、模糊查询： PDO 首选，楼上已经给出方法了，我就不写了。\r", "2 、成熟库：网上到有一个据说是 TP3.1 框架内挖出来的库，不晓得楼主能不能使用得习惯。好像还有一个近似 CI 用的 DB 库。我就知道这两个在网上能找到。这些都是用 PDO 的。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>从 php5.6 升级到 Php7 ，连接 mysql 也从 php-mysql 升级到 php-mysqli 了，结果发现连接不上数据库</p>\n<p>后来发现把</p>\n<p>$_config['db']['1']['dbhost'] = 'localhost:/tmp/mysql.sock';</p>\n<p>改成\n$_config['db']['1']['dbhost'] = 'localhost';</p>\n<p>就正常了</p>\n<p>unix sock 的默认 path 就是 /tmp/mysql.sock'，按理说两种写法一样啊，为什么会出问题呢？</p>\n</div></div>"], "reply": "1", "tittle": "PHP -mysqi 和 PHP -mysql 连接 mysql socket 的区别？", "comment": ["...呃...`localhost:/tmp/mysql.sock` 好像不太對?\r", "\r", "> mysqli_connect ($host, $username, $passwd, dbname, $port, $socket)\r", "\r", "host 跟 socket 不是分開的嗎"]},
{"content": ["<div class=\"topic_content\">我主要想了解，如果做了一爬虫，跑了一会，被封了，然后必须换一个 IP 吗？\r<br>\r<br>我就 2 个 vps 。要是都被封了，岂不是要去买代理服务器？</div>"], "reply": "20", "tittle": "大家玩过爬虫吗？如果爬了一小会，就被封了 IP，那么这个 IP 以后过多久可以解封？还是说永远不解封了？", "comment": ["大哥，爬虫一定要用网上的免费 ip 池啊。\r", "另外 ip 解封时间是对方网站自己设置的，一般默认不超过 24 小时。", "有专门卖代理的", "跑一小会就被封了，你没设置间隔时间啊\r", "\r", "被识别成恶意流量了吧", "很多免费 ip 啊  拿质量好的用。做好模拟", "很多公司都是用公有云，然后一个月换一次 ip ， ip 一次只买一个月的。", "你要是个人，摸清规律后，可以买按配置付费的那种，封了就重新买一个新的。", "可以试试我写的爬代理的爬虫\r", "\r", "首先肯定需要弄个 ip 池\r", "抓取间隔不要过短\r", "抓取时间加入一定随机性", " \r", " \r", " 谢谢，我去试试 ip 池。菜鸟问题也能得到大家的回复，非常感谢！", "你需要代理池～ site 搜一下   Github IP ProxyPool", " \r", " 已关注，正在研究，谢谢", " 其实这个也在我的 TODO list 里面…", "爬虫的第一步,先爬代理池.", "应该很快就会解封的，试想一下如果一个办公室几十个人用同一个 WIFI ，因为某人恶意访问而将 IP 封掉会影响另外几十个人的。", "也可能永久封掉", " 有道理哈，即便是国外，普通居民家里也是动态 IP 。所以我猜除了封 IP 可能还有什么别的方式鉴别是否是“上次那个爬虫”", " 把 cookies 禁掉", " 了解，谢谢！", "除了封 ip 会出现验证码之类的吗"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><img alt=\"1.jpg\" src=\"https://ooo.0o0.ooo/2017/01/10/5874647f29493.jpg\" title=\"1.jpg\">\n</div></div>"], "reply": "44", "tittle": "PHPer 相亲笑话，不笑你来打我呀。", "comment": ["卧槽，女孩脑洞真大", "老段子了，类似的还有 HTML 、 ASP+PHP+JSP 。", "how to make love, 3 p", "那写 c 艹的。。。", "既然以这么问了, 那么我就大发慈悲的告诉你.\r", "\r", "拍黄片是这个世界上最好的语言!", "致远星战况如何？", "PHP 的悲剧在于天天写$,然而没有多少钱，我先去哭一下", "笑的话笑点也太低了点", "php 有一年 50w ？", " 50w$", "这个梗一点也不好笑。", "请 lz 把你的坐标发给我", "真羡慕这些有两个手机的人", "上次看到这个梗时，我还是处男", " 现在还是处男 2333", "第四个相亲对象了，还这么笨！", " 哈哈，超哥你好。", "这个是微博程序员李雷的把  注意版权噢.. 而且 感觉一点也不好笑", "PHP 一年 50W ，哪里还要人。。。", " \r", " \r", "永远不要吧 语言与工资挂钩，他只是工具而已。", " 下次看到都还是", "拍黄片从来不缺女朋友\r", "找个类别 在 new 一个", "这样的女孩子不能要，见识太广了", "PHP 一年 50W 是写 50W 个$吧", "我知道有大于这个数的。你们也知道，写 PHP 的。没错，写 PHP 的。\r", "\r", "用 C 语言写 PHP 的。", "内容不好笑，倒是备注不错，“相亲对象三”  ， 系统 调用 对象 3 ，哈哈哈", "靠写 php 当上 cto 或者总监差不多就是这个数了", "→_→\r", " \r", " \r", " 哈哈哈，你这个好冷。", "请问要去哪里打你？可以用器械吗？", "惠普电脑不服", " 这个梗不错！哈哈", "看来这女孩不正经啊", "python 不是更惨：我是搞 py 的...", "搞 py 交易的怎么办？ （手动滑稽", "完全没有笑，楼主过来，我保证打不死你。", "好老的梗", "肮脏的 PY 交易", "相亲是什么样的感觉啊？说实话还是蛮想体验一下的", "python   py 交易 通红。。。逃", "大清。。亡了？", "我就是进来看看楼主被没被打死的", "上次看到這個段子，我還不會 PHP", "医学狗在此谢过大家的不杀之恩～哈哈哈～"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>官网上愣是找不到，非要跳到另一站去花 20 块钱买。\n然后免费手册都是 404</p>\n</div></div>"], "reply": "32", "tittle": "牛逼的 ThinkPHP5.0 连个文档都没有", "comment": ["本来想吐槽，因为去年 11 月我刚下载过 5.0 的完全开发手册。本着严谨的精神我也去找了找，果然看云上 404 了，也是奇葩。\r", "\r", "\r", "楼主你咬咬牙上 Laravel 吧。", "看云今天出问题了。其实参照 3.2 系列依旧可以开发，只是少了那些乱七八糟函数", "有啊。。需要付费购买", "爱用不用", "TP5.0 不是开源的了？", "\r", "是这个么....虽然我用 laravel.", "我来说个笑话：中国的开源软件", "  ", "新项目不建议使用 tp5 框架，因为它就目前来看并不是很成熟", " 环境使然", "国产新型开源方式？开源代码，手册付费？爱用不用 233\r", "来 laravel 吧", "官方文档： ", "\r", "快速入门： ", "\r", "\r", "官方文档就是你要的文档，快速入门算是教程了，收费无可非议。\r", "楼上一堆人连看都没看过就开喷，我都不知道说什么好了，还“中国的”，还“环境使然”，还“新型开源方式”。。。", "看云的官方文档免费的 而且可以下载。为喷而喷？", "ThinkPHP5.0 有免费开源的文档，在看云上面。\r", "ThinkPHP5.0 有官方作者出的收费的快速入门。\r", "\r", "楼上的黑水平太低还是为喷而喷？", "用 Yii 吧", "哈哈，我只想说，楼主是来钓鱼的吗？", " 看头像+推崇 YII ，难道是 simpleforum 的作者？", " 恭喜你，答对了，加十分", "看云上的 thinkphp 文档买了好几个，然而，我还是入坑了 laravel 。", "日常黑 TP 系列", "日常黑 TP 系列", "TP 是官网和看云被 DDOS 攻击了", " 请尊重每一个开源开发者，不分国籍。除非，你不打算用开源的产品。毕竟，他们完全可以不开源", "看云和 ThinkPHP 官网最近被 DDOS 了", "用框架也能用出优越感黑框架也能黑出优越感不知道你们早餐吃包子配豆浆能不能吃出优越感", "还用 TP ？快来用 Laravel 吧~~特别是你经验越丰富能读懂越多源码后就越能体会到两者的差距~~", " 有啥不适用的，框架只是个工具而已，核心还不都是 php", " 我说的是不成熟啊，这东西发布没多长时间网上资料都没多少，稳定性等各方面也没有太多人出来评价，贸然往实际项目里用很危险啊", " 要啥资料啊，社区是中文的，官方文档也有，代码都开源了，至于稳定性跟框架关系不大吧，归根结底都是 php 写的。", " 我不想一边做项目一边读框架代码帮他们修 bug", " 说的像你比 tp 开发组技术好一样，请问你说的框架不成熟的依据是什么？麻烦你先去用了再来说话。", " 首先需要说明我是 newbie 我不是什么大牛，前段时间的一个项目就是用 tp5 做的，当时有一个需求是需要写一个单表自连接的一对多，然而我这里写好了之后无论怎么折腾都翻来覆去报错。习惯性的谷歌，但是由于 tp5 才面世不久网上资料少的可怜所以并没有找到什么有价值的信息，然后一筹莫展的我就跑去 github 上提交了 issue ，顺便还附带了一个出问题的 demo ，然后他们团队也修改了几次，然而我 pull 下来之后发现依然不行， github 上回 issue 也不搭理我，后来无奈放弃了他自己带的一对多改用两次查询的方式写了一遍，由此不成熟性可见一斑  ", "我这里指的不成熟的意思指的是资料稀少，无大量实战经验、社区支持不足等方面。框架出正式 release 也没多长时间还没有经历过太多项目检验，如果现在贸然去用的话就好比进了一块雷区一样很容易“踩雷”。框架这类的工具存在的意义，我的理解是简化其他繁琐的封装，让开发者专注于逻辑设计等关键方面，按照这样的思想我理应该去选择一个更成熟，有着更多实际应用检验和社区支持的轮子，而不是去盲目追新去使用新轮子。这一点我是用亲身体验总结出来的。当然我并没有贬低 tp 框架，相反我也很希望我们能够拿出一个我们国人开发，应用性广，尤其是有着完备社区支持的框架，但目前来说还是太早了。。", " 不用说这么一大堆，我们之间有代沟"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我实际上是一名产品经理（手动捂脸），只是爱好开发。\n产品的方法论：先实现，再优化。但我现在实际上是在学习……所以希望能从多产品线，业务复杂度很高的角度出发去尝试着开发。\n基于LARAVEL的开发架构，看了很多的文章，比如</p>\n<ul>\n<li>（点灯坊）<a href=\"http://oomusou.io/laravel/laravel-architecture/\" rel=\"nofollow\">http://oomusou.io/laravel/laravel-architecture/</a></li>\n<li><a href=\"http://blog.zhuanxu.org/2016-12-06-eloquent-6.html\" rel=\"nofollow\">http://blog.zhuanxu.org/2016-12-06-eloquent-6.html</a>\n等等</li>\n</ul>\n<hr>\n<ul>\n<li>单纯的使用l5-repository，貌似很多的业务逻辑会放在Controller层？</li>\n<li>Criteria层用http://<a href=\"http://blog.zhuanxu.org/2016-12-06-eloquent-6.html\" rel=\"nofollow\">blog.zhuanxu.org/2016-12-06-eloquent-6.html</a> 的描述，每单个的复杂业务逻辑就要有一个文件？</li>\n</ul>\n<p>按照点灯坊的架构，会有一个Service层来处理业务逻辑。</p>\n<ul>\n<li>合理的架构是否应该将l5-repository的repository层注入Service？</li>\n</ul>\n<p>l5-repository通过</p>\n<pre><code>php artisan make:entity Xxxx\n</code></pre>\n<p>会在Repositories目录下，分别生成</p>\n<ul>\n<li>XxxxRepository.php</li>\n<li>XxxxRepositoryEloquent.php</li>\n<li>这两个文件的使用场景有何区别？</li>\n</ul>\n<p><a href=\"http://blog.zhuanxu.org/2016-12-19-doctrine1.html\" rel=\"nofollow\">http://blog.zhuanxu.org/2016-12-19-doctrine1.html</a></p>\n<ul>\n<li>这篇文章看的我有点蒙逼</li>\n</ul>\n<p>恳切的请各位以 [多开发组]  [多产品线]  [业务复杂性高（如 <a href=\"http://blog.zhuanxu.org/2016-12-19-doctrine1.html\" rel=\"nofollow\">http://blog.zhuanxu.org/2016-12-19-doctrine1.html</a> ）] 等纬度，基于Laravel和l5-repository帮我解惑。谢谢。</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "关于 l5-repository 开发架构的问题", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>比如:</p>\n<p><a href=\"https://github.com/rmccue/Requests\" rel=\"nofollow\">Requests for PHP</a></p>\n<p><a href=\"https://github.com/php-curl-class/php-curl-class\" rel=\"nofollow\">php curl</a></p>\n<p><a href=\"psysh.org\" rel=\"nofollow\">psysh</a></p>\n<p><a href=\"https://github.com/symfony/var-dumper\" rel=\"nofollow\">var-dumper</a></p>\n</div></div>"], "reply": "1", "tittle": "有什么值得推荐的 PHP 库或工具", "comment": ["php 日志库  ", "\r", "Convert HTML to a PDF ", "\r", "PHP 调用 phantomjs "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>这样的，有个公司搞年会，要求呢，员工完个在一共时间段玩游戏，然后大屏幕显示游戏结果。</p>\n<p>卤煮给的方案是：\n主持人说开始的时候，后台人点击游戏激活按钮，然后员工点开游戏界面，进行游戏，游戏内容就是数钱，游戏时间 20 秒，游戏完成后提交服务器，然后，大屏幕会持续刷新游戏结果（定时去扫数据库）。</p>\n<p>现在那个公司突然提出一个需求（在产品开发完毕的情况下）：\n要求大屏幕做倒计时， 20 秒倒计时，然后所有员工玩游戏也必须在倒计时这 20 秒内开始，完成，我现在整个蒙圈了，这么大的同步量，还要同步开始和结束时间，同步游戏，而且 3000 人如果用手机网络，这么多人在同一个地点的话，网络延迟的锅谁背，一下子几秒就出去了。</p>\n<p>哪个兄弟有解决方案，我现在的初步想法是，不给改：爱咋地咋地。</p>\n</div></div>"], "reply": "68", "tittle": "聊一个公司的年会开发需求， 3000 人同时游戏", "comment": ["tg gamebot...🙈🙈🙈", "答非所问…没看清楚😑😑", "在客户端限制 20 秒啊，服务器只管接收客户端统计好的 20 秒内的结果。当然这样也比较容易发生作弊情况~", "数钱不是单机游戏吗 ？ 3000 还算多？", " 这样应该可以了。程序先不放出来，提交的参数干扰下。应付一次性年会够了", "websocket 主动推送开始结束标识，拿到结果结束。", "不是有时间同步服务器吗，为什么要自己同步时间", "每客户端每秒 3 ～ 4K 的数据量，要 9 ～ 12M 左右的总带宽， 只要举办地点的移动基站覆盖完善就应该没问题，\r", "\r", "可以让大家提前 2 分钟打开数据网络，与游戏服务器建立连接，并发送 3k 每秒的模拟包，便于基站负载均衡。\r", "\r", "这种高并发的简单任务适合用 node.js 来实现服务器\r", "\r", "这个任务还是能学到一些东西的，挺好玩的～", "可是， 20 秒，万一基站延迟问题，这雷背起来，有点大啊", "按三楼的方法应该可以凑和，只获取用户提交的结果就好了", "客户端页面打开的时候，用 js 纠错一下时间，然后所有的倒计时画面，游戏，都在客户端做了。只上传游戏结果就好了。", "不是太明白具体的要求，推荐用 Node.js+socket.io ，用 Websocket 同步游戏数据， PHP 的话推荐 Swoole ，数据库直接用 Redis ，这种就适合 node.js 或者 Swoole 这种非阻塞的模型", " +1", "服务端只给出开始信号，客户端收到信号后开始， 20 秒后结束，加密上传结果，服务端收齐结果进行展示。\r", "会场千万不要提供 WIFI ，网络问题让电信公司背锅。\r", "\r", "就怕领导再提出来要实时显示 top10 。", "服务器端没啥问题呀\r", "逻辑在客户端完成，必须得到密钥游戏才能开始。\r", "开始前客户端定期刷新服务器，到时后拿到开始的密钥。\r", "客户端定期（每秒）上报游戏数据即可，时间到就游戏结束。\r", "php 的简单逻辑， 3000 req/s 我感觉玩儿似的。", "关键问题在于用户的网络肯定会出现问题，一个大厅那么多人，估计很多人上不了网，这个锅谁来背呢？", "不行的。。肯定很多人都上不了网。", "3000 Client 的话 WiFI 也得几十万块的设备……", "楼主，别考虑那么多，客户端只上传结果就行了。\r", "\r", "做一个网页显示地址，用于进入游戏，游戏开始前一分钟才放正式地址，让作弊的人没有足够的时间作弊（当然开始游戏前要在 PPT 上介绍一下怎么玩，不然蒙圈了，最好能检查一下各种手机是否适配，加载资源的延迟是否满足）", "3000client 的话 你需要人民大会堂那么大的场地 还要保证每个人的网速 电信设备才是大头", " \r", "应该提前半小时放出游戏地址，网页下载好所有的资源\r", "但是需要得到加密的密钥游戏才会开始\r", "上报的请求可以是这样子: score=xxx&t=yyy&sign=zzz ，其中签名算法可以是 md5(score+secrect+t)", "客户端计算，提前声明：作弊者取消资格", " 恩恩，这个想法非常好，赞！", "服务器倒计时结束后 接到的请求不记录到数据库当中", "为啥还考虑作弊\r", "这个不是该 HR 负责的么", "给楼主提醒一下：我们 4000 多人年会，当时是完全上不了网", "需求有点像，我们是 300 人左右 。\r", "\r", "现在我用的 apache + php + redis  ，服务器是 阿里云的 4 核 8G ，准备了 plan b ，挂了就用预备方案 。", "你们有没有看到，国家会议中心的门口，随时都有两三个移动基站车？？！！！\r", "\r", "\r", "因为很多密集的地方，基站根本无力支撑数千人的联网请求。\r", "\r", "\r", "做过五千人会议和活动的团队表示，跟你们说话真费劲。", "apache benchmark  、 redis benchmark 都测试了，应该不会挂。\r", "\r", "已经提示不要用 wifi ，网络问题的锅就让电信公司背", " 300 人如何 ？", "这种业务同步需求不是交给牛逼的野狗么 ", "开发速度快，同步的功能都不需要自己开发了", "你这活可以不用干了， 3000 人的高密度 WIFI 需要顶级的网络公司来接外包租设备，大把的钞票啊。直接用移动网络就更别想了，应急通信车不来的话估计连电话都打不通。", "这个微信小程序能做吗", "代码需求是小事，网络问题才是问题", "   这哥们说了个大实话。", "同步时间差 下发客户端带上结束时间 让客户端自行结束", " 微信搞，自己弄个公众号，里面有摇一摇的游戏，谁手速快就是谁了，我们部门刚搞过，效果不错感觉，也不是自己开发的，我看页面上写的是 “ Hi 现场”提供技术支持，简单方便，不过我们是 600 多人，规模比较小", "若你不联系运营商在活动时间增大该位置的基站信号，手机是上不了网的。要通讯车当天也不可能约到的，要提早联络。网络是大问题，程序很简单。", "3000 人网络铁定崩。我们当年五六百人的年会，饭店提供的 wifi 直接崩了，然后全部走流量，刚开始还好，后来现场发支付宝红包，结果支付宝红包页面都刷不出。。。", " 帅哥， 1000 快得预算，要求实时展示游戏结果，给这么复杂的解决方案，而且员工的网络，是 wifi ，还是联通、电信、移动， 2 ， 3 ， 4G ，我根本没法控制", " 对的，用户网络复杂，鬼知道弄这么短时间触发这么大量，服务器没阻塞，用户网络阻塞算谁的啊", " 网络情况未知，有 wifi ，有联通，有移动，有电信，而且还有 2 ， 3 ， 4G ，特别复杂，没法控制", " 谢谢，我的意思主要在于，同一秒集中上传数据，如果服务器不考虑阻塞问题，用户网络环境复杂造成阻塞，这个雷让服务器背，有点大，客户并不懂", " 额，你没明白我的意思，这里不考虑作弊的问题，只说服务有没有阻塞，服务器没阻塞，用户网络环境负责，如果 3000 人同时触发，万一用户网络阻塞，让服务器背，锅有点大", " 应该能上网，他们头年年会的时候，弄了 3000 人摇红包，但是微信没开支付功能，弄得自己分发金额，然后去财务领，结果网络是没问题的，头年弄了个体育馆，太大了，空一半", " 恩，移动车不知道有没有，场地是专门的会议中心，貌似某个地方台的什么春节晚会，录播的部分，就在这弄得，也是小几千人吧", "感谢大家的回复，我补充一下，这个游戏预算呢，就给 1000 快，微信公众号，他们是要求 3000 人在 20 秒进行摇一摇的动作，要把这所有人同时 20 秒内的动作，同时提交给服务器，而且大屏幕同步， ok ， websocket ，的确能解决，不过我不想给改了，预算太低了，而且要求同步都是后来才加的，如果 20 秒。\r", "\r", "还有，不想改 3000 人同时触发也跟员工手机网络有关系，我不想因为员工手机网络问题造成雷让我背，太大了，背不起来。\r", "\r", "补充会场网络情况应该凑合，但是肯定会复杂， WIFI ，移动，电信，联通（ 2G ， 3G ， 4G ）肯定都有，而且啥手机都会有，高级的 iphone ，低级的， 500 的安卓，所以你们的解决方案太高大上，哈哈。", "为什么不考虑直接搬服务器到会场现场，用局域网，多个 wifi 来搞呢， 20 秒的时间一次性不需要考虑作弊。加密好就够了", " 北京专业的会场，部分地方电视台有些节目也在这里录制，所以网络承载应该有解决，但是不能保证所有员工都用会场的网络", " 没预算，哈哈，这玩意就给 1000 快预算，服务器用阿里云的，用完就删除，哪里来的那么牛的服务器还能搬现场，这硬件都不好租到吧", "领导就没有考虑到使用功能机的员工吗。这方案默认前提所有员工都发一台智能设备或者电脑？", " 是管不过来吧，他们年会找了我朋友公司给接的，预算 100 多万，然后一大堆其他的，到这个微信游戏这就没预算了，基本都是想了各种需求后，然后就是++++++++，各种加需求，但是预算卡死了", " 就这预算那还是刷锅给 4g 吧，网速才是关键。", " 哈哈，主要是别的项目吧预算用了，到这来就剩下这么点了，哈哈", " 这样把网络问题甩锅给微信就好了，让 3000 人加同一个微信号好友，游戏开始后让用户 1 2 3 4 5 6 7 8 地按需给这个微信号发信息。然后弄个大屏幕实时把 3000 人的信息显示出来就好了。怎么样", " 哈哈，已经做完了，是用户点开始，计时 20 秒，然后计时结束，上传成绩，只是做完了之后客户又想增加大屏同步时间，想让他们控制游戏开始，不让用户触发，大屏同步，被我给否了，忽悠他们别改了看，就这么点预算，时间紧迫，还来回改。", " 哈哈", " 预算 1000 块? 你的意思是你做完了这个程序然后拿 1000 块?", "楼上的程序员，这个软件根本不用连网。展示一下动画效果就行", " 正解", " 6666666666666666666666666", "纯 nginx 搞定。", " 这个方法最实际.屏幕直接随机给出结果，客户端只给游戏不给结果.", "我们公司年会大概 1000 人年会，那移动 4G 就跑不起来，难道你们年会还要请求移动基站支援？", "3000 人的会场……\r", "除非移动给你派个应急通信保障车，额，室内进不去，基本约等于所有人都掉线状态……", "1. 如果不做特殊处理，怀疑网络会出问题，\r", "2. 游戏过程让客户端来限制（只能玩一次、某个时间点才能开始的一大堆问题都扔给客户端），服务器只管接受结果 ...", "同学 你上过 12306 买过票么？"]},
{"content": ["<div class=\"topic_content\">&lt;?php\r<br>namespace core\\base;\r<br>\r<br>use yii\\db\\ActiveRecord;\r<br>\r<br>class BaseActiveRecord extends ActiveRecord\r<br>{\r<br>}\r<br>\r<br>我创建了一个 BaseActiveRecord 类 放在 core\\base 文件下\r<br>当用 gii 生成时， Base Class 填写为 core\\base\\BaseActiveRecord 一直提示 Class 'core\\base\\BaseActiveRecord' does not exist or has syntax error.请问是为什么呢？</div>"], "reply": "9", "tittle": "yii 使用 gii 的 Model Generator 生成不了代码", "comment": ["真的有人用 activerecord 做 rest 的基类啊，我一直以为纯 rest 的 api 是不存在的", " 新手不太了解，请问为什么生成不了呢？", "刚回答的是另一个人格，不要在意，解决办法很简单。。。 xdebug 单步调试 gii 就完了", " 好", " yii 2.0 用 AR 写 restful 很舒服", " 用。用过之后能蛋疼。因为没办法完全抽象成资源。。年轻时不懂事呜呜呜。", " = = 啊。。感觉回答错了。。你说的是 AR 做 REST 的基类？ REST 是 yii\\base\\Controller 的子类。。跟 AR 没啥关系的。。不过就纯 RESTFUL 风格的 API 。。我觉得资源型的接口是 OK 的。。但是= = 如果牵扯到过程式的请求 就会很蛋疼。。因为有些情况很难抽象成资源。我觉得我好痛苦。。", "至于楼主所提到的问题是这样的。。\r", "Yii2 有两套模板一套叫 basic 一套叫 advanced\r", "basic 模板只有一个应用。。所以它的根命名空间 默认是是 app 。目测你用的不是这个。\r", "详细代码在 yii\\base\\Application preinit 。你会发现框架默认给项目根目录设置了一个别名叫 app 。。\r", "如果你要修改命名空间，你可以重写设置一个别名。。\r", "\r", "如果是用的 advanced 的话,需要看下入口文件\r", "index.php\r", "```\r", "<?php\r", "// comment out the following two lines when deployed to production\r", "defined('YII_DEBUG') or define('YII_DEBUG', true);\r", "defined('YII_ENV') or define('YII_ENV', 'dev');\r", "\r", "require(__DIR__ . '/../vendor/autoload.php'); \r", "require(__DIR__ . '/../vendor/yiisoft/yii2/Yii.php');\r", "require(__DIR__ . '/../config/bootstrap.php');//这个是重点。。\r", "\r", "$config = yii\\helpers\\ArrayHelper::merge(\r", "    require(__DIR__ . '/../config/main.php'),\r", "    require(__DIR__ . '/../config/main-local.php')\r", ");\r", "$application = new \\yii\\web\\Application($config);\r", "$application->run();\r", "```\r", "common/config/bootstrap.php\r", "```\r", "<?php\r", "Yii::setAlias('@common', dirname(__DIR__));\r", "Yii::setAlias('@frontend', dirname(dirname(__DIR__)) . '/frontend');\r", "Yii::setAlias('@backend', dirname(dirname(__DIR__)) . '/backend');\r", "Yii::setAlias('@console', dirname(dirname(__DIR__)) . '/console');\r", "Yii::setAlias('@core', dirname(dirname(__DIR__)) . '/core');//加上这句就可\r", "```", " 感谢可以了，回复那么长辛苦了"]},
{"content": "", "reply": "目前尚无回", "tittle": "用 PHPExcel 怎么读出 excel 里面的单元格带下拉列表的内容?", "comment": []},
{"content": "", "reply": "24", "tittle": "求问有没有好的 PHP 手册，官网的手册看着太蛋疼了", "comment": ["你这。。。我都不知道应该以什么姿势看手册了", "dash", "PHP 的手册应该是全宇宙最好的了吧，官方的例子看不够下面评论里还有，而且还帮你按评分高低排序好了，简直初学者助学神器。\r", "\r", "楼主先去看看 C 、 C++、 Java 的手册体会下，然后就会觉得官网手册不蛋疼了。", "刚开始看确实有点 习惯就好了", "RTFM", "php 的官方文档真心比萎软的 C#高几个裤腰带,实在看不惯官网的可以试试这个 ", "如果是 Windows 环境， chm 的手册更好用点。", "底部的评论有的很给力，你能碰的坑下面很大概率能找到答案。", "Windows 上可以用 Velocity\r", "php 的手册真的很好了啊", "PHP 官方手册都嫌蛋疼，骚年，你真的不适合搞编程！", "权威，准确，时效，翻译，排版。。。。好像找不到几个比 PHP 强的了", "人不能娇气成这样啊… PHP 手册已经很好了", " @", " @", " 我其实是希望能像 vue ， laravel 这种最好了，左边导航右边内容，但是手册好像一页没多少链接跳来跳去", "laravel 的 API 手册就是个变量说明而已，这叫好？\r", "（显然那玩意是源码里面的注释抽出来自动生成的）", " \r", "我猜你是在找入门书籍？？\r", "有事请右上角，这是文档不是入门书籍", " 同感， laravel 做得手册太简陋了， PHP 手册秒它几条街，还有评论和 example ，感觉不要太好。", " laravel 和 vue 才多少内容。。。 php 多少内容。。。 windows 的话去下个 chm 版本，就能左边导航右边内容了。。。", "卧槽，还有人嫌弃 PHP 手册。详细解释，变更历史，使用示例。还有强大的评论(前人踩的坑、高级用法)。到哪儿找更好的\r", "\r", "你要的导航在右边，或者后退到章节目录。实在不喜欢下载个 chm 吧，那个有左侧导航", "框架和语言能一样么， php 光函数就 3000+，像 laravel 一样全在左边给你列出来岂不是疯了~", "看了一下，楼主想要的其实就是个 CHM 版。网上传烂了。随便下个就行。", " 感觉像是。 php 官方也有下载的，还是最新版", "你只需要 dash", "官网很牛 X 了啊，不行就用 CHM 的更方便点。平时绝对够用了。"]},
{"content": ["<div class=\"topic_content\">补充：图片已前端压缩处理，上传组件是用的 plupload 。</div>"], "reply": "42", "tittle": "有这个一个需求，客户上传的图片都是手机拍摄的工地现场图片很大（ 3M+），客户要求上传的速度快点，请问要怎么处理？有什么好的优化方案？", "comment": ["加上七牛近源上传", "让他们 通过微信发 , 自动压缩处理", "不需要清晰度就把图片压缩一下上传。", "拍摄照片，可以对图片进行压缩再上传，自己控制好压缩比例，不是太糊就好，如果他们对这个方案不满意，跟他们说换 4g 卡就好了。", "加速是不可能加速的了，只能靠后台异步上传才能维持得了现在的体验。", "当然是先本地处理下的好", " \r", "qiniu +1\r", "\r", "But ，  还是受限本地带宽。", "cavnas 压下图片啊，很简单的操作。\r", "\r", "手机拍 3m+的图片什么鬼。分辨率明显太高。", "前端压缩，配合第三方让客户端直接上传。", " \r", "3M 还高？高清大图不是 10M 起？", "1.用异步多线程吃满带宽 ~~\r", "2.压缩后上传", " \r", "\r", "3mb 不高？\r", "\r", "反正我 a7r2 的图， 4200w 像素也不过 5m 左右。\r", "\r", "抬杠请先注意自己的专业熟练度。", " \r", "\r", " ", " ??? 6D 2000w 像素一张已经接近 5M 了， 为什么 4200w 也是 5M ？", " \r", "你没看见我两句话都是用的问号.", " \r", "\r", "前 6d 用户表示。\r", "\r", "6d 的 raw 也不过 20m 左右。请注意自己生成的图片格式。", " 突然记起来了，好像是精细度的设置 ， 看来遇到老司机了；记得高中那会，校运会，用了一天 （配 28 ～ 300 ） 手指各种痛，之后就对单反无爱了。", "webp~", "线路优化，包括更换 4g ，工地部署 wifi 热点，使用近点机房，对该手机运营商线路更友好的机房等\r", "数据优化，包括图片压缩，嗯，这个没什么可以处理的点了\r", "体验优化，包括后台上传，异步上传等\r", "\r", "差不多就这些了吧", "我不会告诉你让他传 qq 相册的。。。自动压缩，完全够用。。速度还快。。", " QuQ 我 MX5 拍一张 2K 照片都几十 M", " 我试过在 iphone 和安卓自带的浏览器里用 cavnas 压缩照片，不行，可能是照片太大。至于出错的现象是什么我忘记了。用小一些的图片就可以。", " tos 吓死人还是 qq 相册", "分辨率跟格式得考虑，再说大小吧", "之前我们有个需求接近，后来定的方案是一次性拍完了，回公司再统一导入上传。。", "4G 也有近 30Mbps 的上行了，买流量卡吧。", " \r", " \r", "\r", "有些工地比较偏远手机信号很差劲的", "先传一张尽量压缩的预览图，连上 wifi 了再后台默默传清晰的。微信为了用户体验，都提供了预览和查看原图。", " \r", "\r", "Canvas 可以调图片大小啊", " 将原始片 load 到 Canvas 的过程中会挂掉，不知是不是图太大了", "如果是应用的话比较好办能拿到的权限多。\r", "我曾经做过一个方案就是会开蓝牙和热点，跟附近的其他开蓝牙或者热点的后台运行服务的手机通信，将文件分割成比较小的块，将文件快传递给其它的手机，其他的手机后台服务收到后，通过移动蜂巢网络上传收到的部分，然后服务端在收齐所有部分后组合成原文件。理论上只要手机够多能榨干基站的带宽。", "前端压缩，异步上传", "前端压缩，异步上传，安利一个插件 lrz ，之前用过效果很好", " \r", "\r", "好奇你的业务逻辑。\r", "\r", "做过保修系统。\r", "\r", "一般手机的照片， cavans 调整大小再上传，没什么问题啊。\r", "\r", "手机拍的照片本来就没 3mb 吧。", " 我用 3 年前的 Nexus 5 都能拍出 4M 左右的 JPEG...\r", "虽然大部分照片尺寸都在 1M-2M....\r", "这个不好说的....", "直接通过微信上传不就好了？服务器部署 python 用微信库接……", "让他们发到微信服务号，或者做个客户端，调用 imagemagick 压缩， JPEG 质量 60%-70%，调整分辨率。", "加个上传进度的提示，或者动画效果，就可以让人主观里等待时间缩短 80%。", "js 压缩上传。", "七牛，都不是事！", "html5 支持断点分传\r", "利用这个特性加上进度显示\r", "客户就会觉的 ok 了", "主要看需求吧,建议不要轻易压缩图片,万一以后用户需要高清原图呢?\r", "\r", "建议异步后台上传,其实用户讨厌的是上传时的进度条,还没有办法取消,让他们很焦躁,做成类似文件同步盘,后台做上传,重传的逻辑."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>场景：</h2>\n<p>我的 PHP 数组定义了键名，情况如下：</p>\n<pre><code>array(\n    'filed1'=&gt;array(1,2,3),\n    'filed2'=&gt;array(a,b,c),\n    'filed3'=&gt;array(x,y,z),\n);\n</code></pre>\n<h2>预期：</h2>\n<p>我根据这个数组要生成 sql :</p>\n<pre><code>INSERT INTO `contents` (`filed1`,`filed2`,`filed3`) VALUES ((1,a,x) ,(2,b,y) ,(3,c,z) ) ;\n</code></pre>\n<h2>问题：</h2>\n<pre><code>    $value_str='(';\n\tfor($i=0;$i&lt;count( $data[ 0 ] );$i++) // 记录数\n\t\t{\n\t\t\tfor($j=0;$j&lt;count($data);$j++)\t// 字段数量\n\t\t\t{\n\t\t\t\t$value_str.=\"'\".$data[$i][$j].\"',\";\n\t\t\t}\n\t\t}\n\t$value_str.=')';\n\t$filed_str='(`'.implode(\"`,`\",array_keys($data)).'`)';\n</code></pre>\n<hr>\n<p>就在记录数哪里，使用了索引值，$data[0]这样的方式，结果，就出问题了！数组越界 <code>Undefined offset: 0</code></p>\n<h2>SO:</h2>\n<p>定义了键名的数组，就不能用索引来取值了吗？</p>\n</div></div>"], "reply": "23", "tittle": "PHP 的数组定义了键名，就不能使用索引了吗？", "comment": ["有没有大神顺手回复一下问题的 ^_^", "现有方案：\r", "```\r", "$data_array_keys = array_keys($data);\r", "$value_str='(';\r", "for($i=0;$i<count( $data[ $data_array_keys[0] ] );$i++) // 记录数\r", "{\r", "\tfor($j=0;$j<count($data);$j++)\t// 字段数量\r", "\t{\r", "\t\t$value_str.=\"'\".$data[$i][$j].\"',\";\r", "\t}\r", "}\r", "$value_str.=')';\r", "$filed_str='(`'.implode(\"`,`\", $data_array_keys ).'`)';\r", "```", "array_values", "for 改成 foreach ?", "我回复的太着急了，$value_str.=\"'\".$data[$i][$j].\"',\";   这里也有问题，不过简单做下标的调换就可以 。$j 这里直接无法使用，需要根据 key 的值来取，", " 还有个计数的功能。\r", "如果使用 foreach ，可以先循环字段名，然后循环字段的值。\r", "\r", "就问题还存在，用了键名，就无法用下标了吗？以前都没注意过(⊙﹏⊙)b", " 把键名直接去掉，新的数组只含键值，再用下标，可以！好方法", "代码风格倒腾明白了或许能帮你看看，这大 tab 在手机上都缩进到地平线了。", " 不谈这个代码，简单一个问题，就问：对于有键名的数组，就不可以用索引的方式取值了？", " 我的理解， php 里没有把数组和字典没分开。键值对的字典，需要用键去访问。在 php 里如果刚好键是从 0 开始的数字，就是数组了。\r", "\r", "所以用 foreach 更简单一致。", "关联数组和索引数组的区别，关联数组不支持索引访问", " 是的😽", "你数组里哪有 0 => ？\r", "0 和 field1 都是索引，或者叫键。\r", "[5] 就是 [0 => 5]，所以你才能用 0 键去访问啊。", "你标题里说的：索引和键名，在 PHP 里是一个东西。", " 是的。\r", "还有个坑，索引比如 0 和数字字符串键名比如‘ 0 ’ 是一个东西，不做区分", " 虽然实现上有些不一样，但理解上，你就是没有键的数组理解成所有键都是'0'，'1', '2', '3'就好了", "实际上你这样 data 是一个 map 了，不能用下标索引了。而且楼主你这实现有点挫。且不论拼 SQL 这件事。其实你 filed 应该是确定的，没必要做 key 。 data 存成[[1,a,x] ,[2,b,y] ,[3,c,z]]不是更好？", "文档里已经解释的很详细了\r", "楼主的实现方式就不吐槽了.\r", "但是单论有索引的数组,还是有些方法可以取第几个元素的\r", "比如 array_slice , length 置为 1, 偏移量 offset 作为序号", " 感谢，是自己学艺不精，以前真没认真考虑过；\r", " 握手握手，感谢，可能跟其他语言的使用习惯有点混淆了。\r", " 只是一个 BAE 上的 php-worker 单文件抓取工具，场景单一相对来说不想复杂化，全手工实现一个小工具而已，可能在其他环境下这做法确实很挫；另外， filed 这里确实是固定的，但是正则匹配出来的东西，就是我给出的样子，没有再做加工；\r", "\r", " 感觉你的方法更加复杂了，，，对于一个百十行左右完整抓取、保存的小工具来说，我喜欢简单粗暴。 如果不在乎繁复，循环解千愁，也不是一定要取索引，只是偶然遇到这个问题，感觉有点奇葩。", " thanks ！\r", "-----------------------\r", "此外 key 会有如下的强制转换：\r", "\r", "包含有合法整型值的字符串会被转换为整型。例如键名 \"8\" 实际会被储存为 8 。但是 \"08\" 则不会强制转换，因为其不是一个合法的十进制数值。\r", "浮点数也会被转换为整型，意味着其小数部分会被舍去。例如键名 8.7 实际会被储存为 8 。\r", "布尔值也会被转换成整型。即键名 true 实际会被储存为 1 而键名 false 会被储存为 0 。\r", "Null 会被转换为空字符串，即键名 null 实际会被储存为 \"\"。\r", "数组和对象不能被用为键名。坚持这么做会导致警告： Illegal offset type 。\r", "如果在数组定义中多个单元都使用了同一个键名，则只使用了最后一个，之前的都被覆盖了。\r", "\r", "Example #2 类型强制与覆盖示例\r", "\r", "<?php\r", "$array = array(\r", "    1    => \"a\",\r", "    \"1\"  => \"b\",\r", "    1.5  => \"c\",\r", "    true => \"d\",\r", ");\r", "var_dump($array);\r", "?>\r", "以上例程会输出：\r", "\r", "array(1) {\r", "  [1]=>\r", "  string(1) \"d\"\r", "}\r", "上例中所有的键名都被强制转换为 1 ，则每一个新单元都会覆盖前一个的值，最后剩下的只有一个 \"d\"。\r", "\r", "PHP 数组可以同时含有 integer 和 string 类型的键名，因为 PHP 实际并不区分索引数组和关联数组。\r", "-----------------------------\r", "这些定义，感觉很神奇！ ^_^", "其实要处理数组，不一定要套 for 循环，有一些很好用的数组函数啊，比如：\r", "```\r", "$data = array(\r", "    'filed1' => array(1, 2, 3),\r", "    'filed2' => array('a', 'b', 'c'),\r", "    'filed3' => array('x', 'y', 'z'),\r", ");\r", "\r", "$result = array_map(function ($filed1, $filed2, $filed3) {\r", "    return \"('{$filed1}','{$filed2}','{$filed3}')\";\r", "}, $data['filed1'], $data['filed2'], $data['filed3']);\r", "\r", "echo implode(',',$result);\r", "```", " 十万个赞！我以前对 array_map 有用过，但是没有这么用过。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>之前抓数据 都是简单的 for 循环加 curl 但是现在有 800 多万条 url 要抓取\n这样做就不行了 下面是一个总监给的方案</p>\n<pre><code>get_task.php 拿任务， post_task.php 反馈任务\nget_proxy.php 拿代理， post_proxy.php 反馈代理\n然后做 单线程  无限循环\n1. echo  \"\\x00\"; 维持跟浏览器不会断开；\n2. 检查 “ timeout.txt ”存在, 则 sleep(5) continue\n3. 检查 “ stop.txt ”存在,  则 break 离开无限循环，或直接 die\n4. 调用 get_proxy, get_task 获得 代理 和 任务\n5. 抓数据\n6. 被屏蔽，通知代理被屏蔽 从头开始\n7. 拿到数据代码，更新 任务 为 完成，保存 耗用时间\n10. 其他异常，记录在 任务不再执行\n\n继续循环\n</code></pre>\n<p>谷歌了好多 php 任务队列和多进程的文章还是没搞明白<br>\n如何生成队列 是数组吗 如何派任务 怎么记录任务完成情况<br>\nphp 的 worker 和 threads 如何配合使用<br>\n因为抓取的网站会封 ip 所以要用代理 怎么评估记录代理的效益 代理是否被封 被封后切换代理<br>\n本来想用框架做的  但是总监说作为一个后台这些高级编程要自己玩一边要懂 就没去搞<br>\n但是现在没什么思路 希望 v 友可以从任务队列和线程方面指点下 不要用框架和 redis</p>\n</div></div>"], "reply": "21", "tittle": "请教爬虫问题", "comment": [" ", "用数据库存任务队列不行么", " 可以解释下任务队列吗 不太懂 如果可以用数据库最好 应该抓的数据就是存数据库的", "为什么上来就 selenium", "这个方向是错的，首先不能在 php-fpm 里面跑，需要命令行里面跑\r", "\r", "第二 800 多万 url 不多，而且看起来就是简单封 ip 连反爬虫都没做，这个单机几十个并发爬慢点一周内搞定\r", "\r", "别一上来就任务队列，爬了的 url/id 存数据库加索引去重就完了，不要把问题复杂化。。。代理这块估计你们没经验，买\r", "\r", "用 guzzle 别用 curl 了。。。别用 zts 的多线程，并发老实用多进程写最简单。。。 ", "为了看小说，然后用这个库做了一个采集，\r", "\r", "用 cli 模式跑，测试采集两千章标题加内容的时间是 8 秒左右", "好像说错了，是这个， ", "用 golang 啊", " 我买了一个动态代理 但是抓了几百条后出现验证码 这种情况怎么处理好", " 体现技术的地方来了，如果让菜鸟三下五除二就把数据爬了，那后端靠什么吃饭，爬虫工程师靠什么吃饭", "推荐开源项目 pyspider ，分布式的，连 js 渲染都可以做。\r", "项目地址： ", "不过你要做实时更换代理的话   需要二次开发，   修改的代码不超过 10 行", " 不单单换代理还要对付验证码", "爬什么网站", " ", " 所有商品详情", " \r", "\r", "看了几个都是空的啊", " 查料号 首页搜索框下面有个参数选择", " ", "关注这个帖子。我也遇到同样的问题， foreach 对少量数据 OK 的，没问题。但我要爬 3000 万条数据，再用 foreach 就傻逼了。我也没有解决方案。", " 如果有解决方案的时候 可以分享下", "强烈建议多线程抓取别用 php ，效率真心低，学下 JAVA 最多半天到一天就可以做一个请求器， PHP 负责任务分发和管理， java 只负责请求，或者用其他的真正多线程编程语言"]},
{"content": "", "reply": "2", "tittle": "centos PHP exec 返回 127 怎么处理？", "comment": ["查看错误， exec('command   2>&1')，重定向标准错误到标准输入", "到标准输出"]},
{"content": ["<div class=\"topic_content\">看下面格式，第一行有 2 个 冒号，\r<br>看着像 JSON ，但又不是啊\r<br>搞不懂\r<br>\r<br>我看这网站的 API guide ，似乎是 XML version2.0 ，但我觉得写错了\r<br>\r<br>请高人 过目。\r<br>\r<br>我只粘贴了一部分，后面的数据太多 ，结构也是一样的。\r<br>\r<br>Pubmed-entry ::= {\r<br>  pmid 11850928,\r<br>  medent {\r<br>    em std {\r<br>      year 2002,\r<br>      month 2,\r<br>      day 19\r<br>    },\r<br>    cit {\r<br>      title {\r<br>        name \"Zirconium granuloma following treatment of rhus dermatitis.\"\r<br>      },\r<br>      authors {\r<br>        names std {\r<br>          {\r<br>            name ml \"LoPresti PJ\",\r<br>            affil str \"Department of Dermatology, School of Medicine,\r<br> University of Pennsylvania, USA.\"\r<br>          },\r<br>          {\r<br>            name ml \"Hambrick GW Jr\"\r<br>          }\r<br>        }\r<br>      },</div>"], "reply": "6", "tittle": "请问这是什么格式的数据？看着像 JSON，但似乎又不是", "comment": ["Pubmed-entry ，这不是文献数据库的入口吗？估计是它自有的数据结构", " 他们自己没有 数据结构。", "明显是 GraphQL 阿：） Facebook 的开源的 API 查询语言。", " 虽然我不懂 GraphQL ，但这很有可能不是，\r", "这是 Pubmed 的返回数据，他们开发人员很少，代码示例还用 Perl ，而且这么大一个文献数据库也不会用到最新的技术的。", " 检查了下，确实不是。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>随机取 10 条不同的数据</p>\n</div></div>"], "reply": "2", "tittle": "laravel 随机取 10 条不同的怎么取", "comment": ["随机 10 个 id 不就行了", "SELECT * FROM `table` ORDER BY RAND() LIMIT 10;"]},
{"content": ["<div class=\"topic_content\">云服务的: 阿里云 MQ,  亚马逊 SQS, IRON.IO\r<br>开源的: beanstalkd, php-resque, gearman\r<br>\r<br>我知道的大概是这些, 国外的云服务应该是不用考虑的, 网络是最大的障碍.\r<br>beanstalkd 最后一个 release 居然是 2014 年的, 但是 github 上还有今年的 pr. 也不知道是什么情况\r<br>一般用作延时关闭订单, 定时推送任务这种需求, 轻量级的用什么比较好?</div>"], "reply": "55", "tittle": "规模不大的项目大家用什么做延时消息队列?", "comment": ["beanstalkd", "activemq/rabbitmq", "beanstalkd", "beanstalkd+1", "Azure 有 Event Hub", "rabbitmq 推荐", "laravel 自带的队列服务", "nsq", "那专门挑一个不一样的， redis", "我也是用 redis", "第一次看到 beanstalkd ，看了下文档感觉小而强大啊", "redis + 自己写的 node 定时器，定时触发 web 请求。", "redis", "kafka", "httpsqs", "redis 就行了", "所以楼上这么多说 redis ， nsq 的是怎么实现延迟消息队列的...", " 可能是定时任务吧。", " 量小自己做个定时器就好了", " 一样，比较好奇 redis 怎么实现延迟的", " sort set 哈哈", "直接用数据库嘛， 查询时加个执行时间条件。", "rmq 。 httpsqs 也挺好的", " 按执行时间戳排序？取第一个然后自己等待？", "延时关闭订单 /定时发送邮件和队列关系不大不啊？\r", "\r", "主要是 Cron 吧？", " 值是时间戳，然后和现在的时间对比，找过期的时间啊，有一个任务不到扫描，看频率需求多高。", "定时的消息处理对时间精度要求不高的话，完全可以轮询", " 如果用 cron 的话会比较尴尬...\r", "因为一般有多台服务器,不可避免的需要用 Quartz 这种分布式调度系统\r", "然后如果数据量大,还得多台消费者.\r", "这种情况下用消息队列会方便很多,可以横向扩展....\r", "redis 当然可以实现,sorted set 就很简单\r", "不过 redis 有问题啊= =\r", "作为一个 kv 存储.有事务,但是不能回滚...\r", "细节上有各种问题,例如保证不被重复消费,消费失败让其他节点接着重试....", "rabbitmq +1", " \r", "\r", "关闭订单为啥要多台服务器……", " 好吧，那些都是要延迟一小时的任务，突然有个新任务需要插队立即处理。", "celery? 算不算？", " 数据量大怎么办 =w=...\r", "哦不对,我错了,楼主已经写了规模不大的项目....\r", "不过健壮的服务一般都会避免单点,大小型服务都得做下保障...", " \r", "\r", "数据量大到一台单独的只跑关闭订单服务的服务器都不够么。。。", "数量不大 redis ，用 lpush ， rpop\r", "数量大用 kafka\r", "目前的最佳实践", " 时间值设置 0 啊……", " 数据完整性，参考数据库怎么保证，再增加一个消费 set ，处理前把消息放在 set 里面，处理完把 key 清除，办法有很多。然后就是消费信息的唯一性了要幂等操作。", "epoll_wait 有个 timeout 参数，在一组任务中取 timeout 最小的值作为 epoll_wait 的参数\r", "\r", "把任务用查询树的结构来存储比如红黑树和跳表就可以实现延迟消息队列", "fastcgi_finish_request();", " 比如说,需要精确到秒级延迟的一些系统,1s-2s 左右执行一次\r", "其实处理不了几条数据的....还有各种乱七八糟的外部调用之类的...", " 可以啊,但是这些相当于都需要在 client 处理,只是需要自己去实现\r", "就看怎么写的简单易用了...\r", "都是细节问题...又不是不能做", " 延时，延时", "ruby  resque", "既然规模不大，直接 cron 触发 数据库要发送的数据不就好了么", "httpsqs", "看楼上说得都好高端\r", "用 cron 的都瑟瑟发抖不敢说话了……", "表示 cron 取出所有数据后挨个队列的路过。\r", "\r", "cron 取出后扔队列要求很快的而且 worker 不需要再验证其他逻辑了直接走关闭即可。", "规模不大我以下想到的是用 job ，结果看回答没人用，吓死了", "redis 吧，我们就是这么弄的", "用 java delay queue 写一个", "带延迟的，貌似 redis 的 list 功能不行吧？\r", "beanstalkd 我知道可以带。其它的不了解", "pyrq", "看你语言。。。\r", "静态语言单实例直接在进程内实现", "之前看到的一个纯 redis 实现的消息队列\r", "\r", "不过按时间准时触发", "LZ 所指规模不大是什么概念？比方说每小时多少条？\r", "我司用 AWS 做架构，所以用 SQS 做队列。 200 条 /小时左右，很稳定。"]},
{"content": ["<div class=\"topic_content\">我试了半天， google 说是用 ajax ，但总是搞不定。\r<br>有什么样的类似的帖子，能分享一下么？</div>"], "reply": "13", "tittle": "可以达到这样的效果吗：提交表单，数据传到另一个文件去做计算，但页面不跳转，同时页面显示计算结果？", "comment": ["flask flash 消息", " 用 PHP 哦， flask 是 python 的框架吧", "你需要一个隐藏的 iframe", " iframe 已经有了，但 form submit 之后，总是 跳转，这个一直搞不懂", "ajax ，随便找个 ajax 的例子一改就行了，", "我刚学的时候也遇到这个问题，\r", "建议楼主看下 ajax ，不要用 iframe", "新手可能忽视的关键点：用 ajax 时提交 form 不要用默认的 submit 方式", "jquery form", " 用 click ？", " 嗯，把表单提交逻辑用你自己写的 js 来处理", " 行啊，我去复习一下 ajax ，谢谢了哈", "ajax 提交到 PHP ，计算完 PHP 返回 json ， js 解析，然后操作 dom 把结果写上不就行了？", " 我其实第一步都还没搞定。更别提怎样返回 json 了。不过您的思路完整，我记下了，一个个问题解决吧。新手，经验不足，感谢！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>基本想实现的需求是这样的\n判断是否登录-》然后判断是否在微信里 没登录去静默获取 baseinfo 然后拿到信息去查数据库 如果已经是用户了 就写入 seesion 登录 如果不是就获取 userinfo 然后生成用户 写入 seesion 如果不在微信里就跳到登录页 如果登录了 就不授权微信也不做任何事 直接继续下去了</p>\n<p>微信的开发包用的是安正超大大的微信包</p>\n<p>因为刚接触 laravel 不太清楚这样的需求用 laravel 风格应该怎么写？比如用中间件之类的\n路由里中间件该怎么搭配</p>\n<p>这个是工具包里面提供的需要授权的路由的写法 就是怎么和登录这些结合起来不太清楚\nRoute::group(['middleware' =&gt; ['web', 'wechat.oauth:snsapi_base']], function () {\nRoute::get('/testweixin','HomeController@weixin');</p>\n<p>});</p>\n<p>还请各位大大指点</p>\n</div></div>"], "reply": "1", "tittle": "新接触 laravel 想问下微信授权和登录该怎么用比较 laravel 风格的写法来实现？", "comment": ["补充一下 我想实现的是比如已经写好了登录中间件 有工具包大大的微信中间件 那么如何把这 2 个整合起来满足我的需求\r", "虽然重新另外专门单独写一个中间件好像也可以 但是总感觉好像哪里不对 有点不复用的感觉"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><strong>就是写着写着代码，突然中二了，然后给自己写的代码配上喜欢的背景音乐</strong></p>\n<p><strong>一分钟感受超带感背景音乐：</strong> <a href=\"http://www.bilibili.com/video/av8088158/\" rel=\"nofollow\">http://www.bilibili.com/video/av8088158/</a></p>\n</div></div>"], "reply": "28", "tittle": "在我的背景音乐里，写代码没人能超过我", "comment": ["哎你直接说洛奇不就好了。", "你就是你自己的王［滑稽］", "你就是你自己的神在你活的地方", "你就是编辑器中的 Vim (:doge)", " 明明是 emacs （逃", " 哈哈哈，飞一般的感觉", " I think so", " 哈哈哈，正好我准备转 vim 党", " 哪个城的背景音乐..塔拉？", "想起了某个著名 DJ 的名言：没人能阻止我！", " 话音没落就被对方 DJ 推下了悬崖", "这是什么编辑器，像 ATOM", "啥软件， Sublime ？看着不错啊", "哈哈哈  敲击嗨啊兄弟~", " PhpStorm \r", " 写代码，不多说，就是干", "推荐这个\r", " 我歌单有这个", " \r", "\r", "Vim  编辑器之神\r", "\r", "Emacs 神之编辑器\r", "\r", "所以要是 Emacs 的话，得这么说： 你是 Emacs 的使用者。。。。", "哥 搞个 phpstorm 写代码的技巧指南啊 不过是不是以前出过一个配置视频了?", "这就是心流啊", " 其实我一直想搞一个系列的...但是又没有新环境，所以暂时算了", " 去听一下 Subtitle", "铁们，这旮旯就是长坂坡，咋样房间不错吧！啊，刀 怒斩雪翼雕。我是曹魏主播晏明 ID75898 我今天给大家表演一个活吞青蛙，噢力给！刀 怒斩雪翼雕。这是我们老总曹操的宝剑，叫青釭剑一般我是不拔的，因为见过此剑的人都死了，刀 怒斩雪翼雕。", "彩虹室内合唱团。", " 哈哈 敦巴伦！ 好久没上线看看了。  开玩笑，其实我说的是电影。", " 洛奇 电影系列", " \r", " 哈哈 还以为游戏呢"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>$funcList = array(\n    'foo' =&gt; function(){},\n    'bar' =&gt; function(){}\n);\nforeach($funcList as $funcName=&gt;$closure){\n    // 循环将 funcList 里面的函数抽取到外面!\n    // function $funcName{ $closure(); }\n}\n</code></pre>\n</div></div>"], "reply": "2", "tittle": "PHP 有没有花式定义函数的办法？", "comment": ["```\r", "<?php\r", "\r", "class a {\r", "    protected $x = \"x\";\r", "\r", "    public function xy() {\r", "        $funcList = array(\r", "            'foo' => function() { echo \"a\"; },\r", "            'bar' => function() { echo \"b\"; }\r", "        );\r", "\r", "        foreach ($funcList as $funcName => $closure) {\r", "            $closure();\r", "        }\r", "    }\r", "}\r", "\r", "$a = new a();\r", "$a->xy();\r", "```\r", "\r", "\r", "或者\r", "\r", "\r", "```\r", "<?php\r", "\r", "class b {}\r", "\r", "$obj = new b();\r", "$obj->yz = function () {\r", "    return 'b';\r", "};\r", "echo($obj->yz->__invoke());\r", "```\r", "\r", "不过。。。。有啥意义么", " 绕过 WAF -＿－"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近想把 php-leveldb 的扩展升级到 PHP7 （作者很久没维护更新了），渣渣第一次改扩展，碰到很多问题， 比如：\n<a href=\"https://github.com/reeze/php-leveldb/blob/master/leveldb.c\" rel=\"nofollow\">https://github.com/reeze/php-leveldb/blob/master/leveldb.c</a> 这个文件 82 行的 <code>php_leveldb_obj_new</code></p>\n<pre><code>#define php_leveldb_obj_new(obj, class_type)\t\t\t\t\t\\\n  zend_object_value retval;\t\t\t\t\t\t\t\t\t\t\\\n  obj *intern;\t\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\\n  intern = (obj *)emalloc(sizeof(obj));               \t\t\t\\\n  memset(intern, 0, sizeof(obj));                          \t\t\\\n                                                                \\\n  zend_object_std_init(&amp;intern-&gt;std, class_type TSRMLS_CC);     \\\n  init_properties(intern);\t\t\t\t\t\t\t\t\t\t\\\n                                                                \\\n  retval.handle = zend_objects_store_put(intern,\t\t\t\t\\\n     (zend_objects_store_dtor_t) zend_objects_destroy_object,\t\\\n     php_##obj##_free, NULL TSRMLS_CC);\t\t\t\t\t\t\t\\\n  retval.handlers = &amp;leveldb_default_handlers;\t\t\t\t\t\\\n                                                                \\\n  return retval;\n</code></pre>\n<p>中调用 <code>zend_objects_store_put</code> 函数，在 PHP5 中我看了下第三个参数的类型是  <code>zend_objects_free_object_storage_t</code>，</p>\n<pre><code>ZEND_API zend_object_handle zend_objects_store_put(void *object, zend_objects_store_dtor_t dtor, zend_objects_free_object_storage_t free_storage, zend_objects_store_clone_t clone TSRMLS_DC)\n{\n\tzend_object_handle handle;\n\tstruct _store_object *obj;\n\n\tif (EG(objects_store).free_list_head != -1) {\n\t\thandle = EG(objects_store).free_list_head;\n\t\tEG(objects_store).free_list_head = EG(objects_store).object_buckets[handle].bucket.free_list.next;\n\t} else {\n\t\tif (EG(objects_store).top == EG(objects_store).size) {\n\t\t\tEG(objects_store).size &lt;&lt;= 1;\n\t\t\tEG(objects_store).object_buckets = (zend_object_store_bucket *) erealloc(EG(objects_store).object_buckets, EG(objects_store).size * sizeof(zend_object_store_bucket));\n\t\t}\n\t\thandle = EG(objects_store).top++;\n\t}\n\tobj = &amp;EG(objects_store).object_buckets[handle].bucket.obj;\n\tEG(objects_store).object_buckets[handle].destructor_called = 0;\n\tEG(objects_store).object_buckets[handle].valid = 1;\n\tEG(objects_store).object_buckets[handle].apply_count = 0;\n\n\tobj-&gt;refcount = 1;\n\tGC_OBJ_INIT(obj);\n\tobj-&gt;object = object;\n\tobj-&gt;dtor = dtor?dtor:(zend_objects_store_dtor_t)zend_objects_destroy_object;\n\tobj-&gt;free_storage = free_storage;\n\tobj-&gt;clone = clone;\n\tobj-&gt;handlers = NULL;\n\n#if ZEND_DEBUG_OBJECTS\n\tfprintf(stderr, \"Allocated object id #%d\\n\", handle);\n#endif\n\treturn handle;\n}\n</code></pre>\n<p>但是这边是 <code>php_##obj##_free</code> ,这个有点理解不能了\n在 PHP7 里这个好像要放在<code>custom_object_handlers.free_obj</code>中，有点不明白，求指点</p>\n</div></div>"], "reply": "2", "tittle": "求助关于 PHP -leveldb", "comment": ["他有个 php7 分支不知道你看到没， issue 里已经有人能编译出来了，当然只是能 work 估计还要很多工作要做", " 嗯嗯，谢谢，昨天没发现，二了，昨天自己改了一整天，还是有很多错误没编译通过， PHP7 底层变化实在是有点大"]},
{"content": "", "reply": "10", "tittle": "老板说是要做几款拜年的工具，目前想出来一个海报功能，一个 H5 功能，求思路", "comment": ["一个可以把老板银行账户的钱拿出来给大家发红包的功能", "在我家大门上贴个收款码，发的红包达到 100 以上就开门", " 如果这样我就直接拿钱辞职了", "小程序  不过现在时间应该来不及了  审核很慢", "就 h5 咯，这种东西还真不能说是 HTML5-.-\r", "里面集成微信支付的红包 ", "这都啥时候了，来不及了吧。", " ", "呵呵", "易企秀。 10 分钟搞定，转发给老板", " 所以要简单，快速搞定走人", " 好主意"]},
{"content": ["<div class=\"topic_content\">我要构建一个 class ， class 里面有一个数组，\r<br>\r<br>&lt;?php\r<br>\r<br>class Person {\r<br>        \r<br>    protected $ages = array('Liming'=&gt;23);\r<br>\r<br>    public function getAge($name){\r<br>            $age = $ages[$name];\r<br>            echo $age;\r<br>   }\r<br>\r<br>\r<br>}\r<br>\r<br>$p = new Person();\r<br>$p-&gt;getAge('Liming');\r<br>\r<br>?&gt;\r<br>\r<br>这代码死活运行不起来。报错信息： Undefined variable: ages\r<br>\r<br>但如果把这代码改为过程式，立马就运行起来了。\r<br>\r<br>所以我就纳闷了，这个 OO 方式，是不是哪里不对？实在是 google 都不知道用什么关键词，不好意思了。\r<br>\r<br>求赐教。</div>"], "reply": "12", "tittle": "请教一个关于 class 的问题", "comment": ["$age = $this->ages[$name];", "运行起来了，只不过没结果报了 notice", " 谢谢。你给的解决方案是对的。果然是这里出了问题，我之前也试了$age = $this->$ages[$name];也报错，看来是多了个$符号。说真的，这个$一会出现一会不出现，也是让人感觉实在 有点难以捉摸啊。", " 面向对象的基础：类", " 对象和数组的区别", " 哎，实在抱歉，问了这么个啥问题。谢谢。我刚才看了 php 手册，确实是这个问题。是在 class 里可以找到。", "弄个 IDE 吧，减少很多错误，例如 PHPSTORM", " 好的，我觉得似乎我真的要试试好一点的 IDE 了，现在用的是 HBuilder ，不知道你们听说过没有。反正我目前觉得写 html ， css ， JavaScript 还是挺方便的，其他的就不好说了。", " 用 PHPSTORM 吧，配置好点的话， code 速度加成 666", " phpstorm 写 JS 和 CSS 代码方便吗？毕竟写代码肯定不是纯 php ，里面肯定有 js 和 css 的代码。是不是加个插件就可以了？", " PS 是目前用过最好用的 IDE ， JS 啥的该有功能还是有的，没有就插件", "Undefined variable: ages   英语翻译是   未定义变量 ages"]},
{"content": ["<div class=\"topic_content\">看了书，也写了不少代码，但总感觉很浅。想深入一下。谢谢</div>", "<div class=\"topic_content\">截止 2017 年 1 月 19 日下午 3 点，被收藏 12 次，但只有 2 个回复。\r<br>大家都分享一下吧\r<br>虽然问题是我提的，但每个人都可以用得上。</div>"], "reply": "19", "tittle": "能推荐几个小型的 PHP 项目，方便阅读源代码的？谢谢", "comment": ["slim 框架+PHP 之道+Modern PHP 看完之后豁然开朗", "楼上说的不错，不够可以考虑把 slim 换成 flight ，更粗暴", " 恩， flight 比 slim 更小，更容易看。谢谢二位\r", "感谢各位，碰巧我也想学一学比较深入的技巧", "我之所以推荐 slim+后面两本书是因为三个的作者是同一人,看完后更能理解作者要传达的意思,而且更能知道现在的 php 已经到了什么阶段了,我没看过 flight,我强烈推荐 slim,不是哪个更容易哪个更小的问题,而是哪个更优秀更让你受益匪浅的问题 @", " @", " 我主要怕我的能力不足，看不懂那么多的代码。我的假设是代码少一些，就会简单一些。不过我也肯定会看 slimphp ，作者写的 modern php 确实非常靠谱。", "楼上谁安利一个 db 库， orm,ar 都可以~ \r", "\r", "我在用 medoo.in / pixie @", " @", "composer ， PHP 必会", "    ", "\r", "简单粗暴好用安全稳定，非常符合我这类直接裸写 sql 的人。", "php-curl-class", "typecho 很小很小", " 我用的就是 typecho ，不过还是 slim 框架写得比较好", "小框架可以看源码", " 感觉 WP 功能太多花哨了", " sentur.online 这个真的是用手机写的吗", " nodejs", " 棒棒哒", "有个叫蝉知的开源系统，那一套好像很简单。 我目前自己能二次开发的。 公司的框架不算。", "我自己最近写了个简单的框架， github.com/war1644/MF\r", "一切都是从简风格，自荐一下喽哈哈哈"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>ThinkPHP V5.0 ——为 API 开发而设计的高性能框架</h2>\n<p><img alt=\"\" src=\"http://box.kancloud.cn/2015-12-12_566b6a10506a4.png\"></p>\n<p><strong>V5.0 版本由七牛云独家赞助发布</strong></p>\n<p>5.0.5 版本是年前最后一次发布版本，也是 5.0 系列的最后一个功能版本。</p>\n<h2>主要调整：</h2>\n<p>本次更新主要改进了数据访问层和模型关联：</p>\n<ul>\n<li>增加快捷查询及设置方法；</li>\n<li>增加关联统计功能；</li>\n<li>增加关联查询延迟预载入功能；</li>\n<li>增加关联一对一自动写入和删除；</li>\n<li>改进存储过程查询；</li>\n<li>改进关联数据输出；</li>\n<li>优化查询性能；</li>\n<li>模型时间字段自动格式化输出；</li>\n</ul>\n<h3>[请求和路由]</h3>\n<ul>\n<li>改进路由定义的后缀检测</li>\n<li>Route 类的<code>rest</code>方法支持覆盖定义</li>\n<li>改进 Request 类的<code>put</code>和<code>post</code>方法对<code>json</code>格式参数的接收</li>\n<li>Request 类增加<code>contentType</code>方法</li>\n<li>改进 Route 类<code>setRule</code>方法</li>\n<li>改进 Request 类的<code>create</code>方法</li>\n<li>改进路由到控制器类的方法对默认渲染模板的影响</li>\n<li>修正 Url 类<code>build</code>方法定义路由别名后的 BUG</li>\n</ul>\n<h2>[数据库和模型]</h2>\n<ul>\n<li>增加关联统计功能</li>\n<li>增加一对一关联自动写入功能</li>\n<li>修正聚合模型的<code>delete</code>方法</li>\n<li>改进 Model 类的<code>useGlobalScope</code>方法</li>\n<li>Model 类的日期类型支持设置为类名</li>\n<li>Query 类增加<code>data</code>/<code>inc</code>/<code>dec</code>/<code>exp</code>方法用于快捷设置数据 <code>insert</code>和<code>update</code>方法参数可以为空 读取<code>data</code>设置数据</li>\n<li>优化 Connection 的查询性能</li>\n<li>修正 Builder 类的<code>parseOrder</code>方法</li>\n<li>修正 BelongsToMany 类的<code>attach</code>方法</li>\n<li>BelongsToMany 类的<code>attach</code>方法改进 支持批量写入</li>\n<li>改进 BelongsToMany 类的<code>saveall</code>方法 增加第三个参数 用于指定额外参数是否一致</li>\n<li>Query 类的<code>order</code>方法支持多次调用合并</li>\n<li>改进<code>count</code>方法对<code>group</code>查询的支持</li>\n<li>增加时间戳自动写入的判断</li>\n<li>改进 Model 类<code>writeTransform</code>方法</li>\n<li>改进 Model 的时间戳字段写入和读取</li>\n<li>写入数据为对象的时候检测是否有<code>__toString</code>方法</li>\n<li>改进 Mysql 驱动的<code>getFields</code>方法</li>\n<li>改进自动时间字段的输出</li>\n<li><code>like</code>查询条件支持数组</li>\n<li>自动时间字段的获取自动使用时间格式化</li>\n<li>改进单个字段多次 Or 查询情况的查询</li>\n<li>修正<code>null</code>查询的条件合并</li>\n<li>改进 Query 类<code>paginate</code>方法第一个参数可以使用数组参数</li>\n<li>改进数据集对象的返回，由 Query 类的 select 方法进行数据集转换，原生查询不再支持返回数据集对象</li>\n<li>增加<code>whereNull</code>、<code>whereIn</code>等一系列快捷查询方法</li>\n<li><code>fetchPdo</code>方法调整</li>\n<li>改进对存储过程调用的支持 改进<code>getRealSql</code>的调用机制 改进数据表字段使用中划线的参数绑定支持</li>\n<li>数据库配置参数增加<code>result_type</code> 用于设置数据返回类型 方法参数名称调整</li>\n<li>改进 Query 类的<code>whereTime</code>方法支持更多的时间日期表达式（默认查询条件为大于指定时间表达式）</li>\n<li>取消<code>min</code>/<code>max</code>/<code>sum</code>/<code>avg</code>方法的参数默认值</li>\n<li>Query 类增加<code>getPdo</code>方法用于返回<code>PDOStatement</code>对象</li>\n<li>改进<code>today</code>的日期表达式查询</li>\n<li>改进关联属性的获取</li>\n<li>改进关联定义中包含查询条件后重复执行的问题</li>\n<li>改进参数绑定支持中文字段自动绑定</li>\n<li>改进 Builder 类的<code>insertall</code>方法 增加对 null 和对象数据的处理</li>\n<li>改进参数绑定类型 支持<code>bit</code>类型自动绑定</li>\n<li>Connection 类<code>model</code>方法更改为<code>getQuery</code></li>\n<li>优化 Connection 类<code>__call</code>方法</li>\n<li>修正聚合模型</li>\n<li>一对一关联预载入默认改为 IN 查询方式</li>\n<li>增加<code>collection</code>助手函数用于数据集转换</li>\n<li>增加<code>load_relation</code>助手函数用于数组的延迟预载入</li>\n<li>改进 Model 类的<code>has</code>方法第二个参数支持使用数组和闭包，无需再使用<code>hasWhere</code></li>\n<li><code>relation</code>方法支持嵌套关联查询</li>\n<li>增加<code>think\\model\\Collection</code>作为模型的数据集查询集合对象</li>\n<li>取消关联定义的<code>alias</code>参数（仅<code>morphTo</code>保留）</li>\n<li>Model 类的<code>delete</code>方法，支持没有主键的情况</li>\n<li>Model 类的<code>allowField</code>方法支持逗号分割的字符串</li>\n<li>改进写入数据的自动参数绑定的参数名混淆问题</li>\n<li>关联预载入查询的属性名默认使用小写+下划线命名</li>\n<li>Query 类的<code>with</code>和<code>relation</code>方法支持多次调用</li>\n<li>Collection 类增加<code>hidden</code>、<code>visible</code>和<code>append</code>方法</li>\n<li>修正软删除的强制删除方法</li>\n</ul>\n<h2>[其它]</h2>\n<ul>\n<li><code>unique</code>验证规则支持指定完整模型类 并且默认会优先检测模型类是否存在 不存在则检测数据表</li>\n<li>改进<code>Loader</code>类的<code>model</code>、<code>controller</code> 和 <code>validate</code>方法 支持直接传入类名实例化</li>\n<li><code>Session</code>类增加安全选项</li>\n<li>可以允许自定义<code>Output</code>的 driver ，以适应命令行模式下调用其它命令行指令</li>\n<li>改进<code>loader</code>类<code>action</code>的参数污染问题</li>\n<li>Validate 类的<code>confirm</code>验证改为恒等判断</li>\n<li>改进<code>Validate</code>类的错误信息处理</li>\n<li>修正<code>Validate</code>类的布尔值规则验证</li>\n<li>改进<code>cookie</code>助手函数对前缀的支持</li>\n</ul>\n<h2>[调整]</h2>\n<ul>\n<li>Connection 类<code>model</code>方法更改为<code>getQuery</code></li>\n<li>原生查询不再支持返回数据集对象</li>\n</ul>\n<h2>文档</h2>\n<p>官方开发手册已经同步更新到 V5.0.5 版本\n[ <a href=\"http://www.kancloud.cn/manual/thinkphp5\" rel=\"nofollow\">5.0 完全开发手册</a> | <a href=\"http://www.kancloud.cn/special/thinkphp5_quickstart\" rel=\"nofollow\">5.0 快速入门系列</a> ]</p>\n<h2>下载</h2>\n<ul>\n<li>GitHub ： <a href=\"https://github.com/top-think/think.git\" rel=\"nofollow\">https://github.com/top-think/think.git</a> （主要维护仓库 官方核心团队）</li>\n<li>Composer ： composer create-project topthink/think tp5 --prefer-dist</li>\n</ul>\n<h2>捐赠我们</h2>\n<p><img alt=\"\" src=\"http://www.thinkphp.cn/Uploads/editor/2016-07-08/577f852e40237.jpg\"></p>\n<p>2017 年 1 月 23 日\nThinkPHP 官方团队</p>\n</div></div>"], "reply": "8", "tittle": "ThinkPHPV5.0.5 版本发布——祝大家新春快乐，“鸡”祥如意！", "comment": ["年前发布的最后版本  很不错  正在做项目中", "可以可以， tp5 比 tp3 的提升不是一星半点，已经是天差地别了，正在用，就思想来说相比 laravel 也不差了。", "不错不错", "感觉是来化缘的\r", "开玩笑:)", "支持  减少很多代码量", "不错，一直用 thinkphp", "哇，又发布新版本了，可惜已经有一段时间不写 php 了。有空再看看", "扫了一眼更新日志，\r", "『取消 min/max/sum/avg 方法的参数默认值』\r", "这种 bc break 的改动放在小版本更新里大丈夫？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>话说这个微博床图 URL 怎么使用？</p>\n<p><a href=\"http://picupload.service.weibo.com/interface/pic_upload.php?mime=image%2Fjpeg&amp;data=base64&amp;url=0&amp;markpos=1&amp;logo=&amp;nick=0&amp;marks=1&amp;app=miniblog\" rel=\"nofollow\">http://picupload.service.weibo.com/interface/pic_upload.php?mime=image%2Fjpeg&amp;data=base64&amp;url=0&amp;markpos=1&amp;logo=&amp;nick=0&amp;marks=1&amp;app=miniblog</a></p>\n<p>要向这个 URL 提交什么数据？</p>\n</div></div>"], "reply": "2", "tittle": "话说这个微博床图 URL 怎么使用？", "comment": [" \r", "\r", "\r", "\r", "当初也准备用这个接口做点啥 后台解密的时候出问题了 于是我就去百度图片的接口了 ", "   ", " ", " 你说的百度图片的接口地址是？"]},
{"content": ["<div class=\"topic_content\">@<a target=\"_blank\" href=\"/member/cxbig\">cxbig</a> 不会痛苦啊，函数都是写在一个文件里的，如果需要，某个加个 function_exists 便可。 类其实是有 namespace 的，但是在配置文件中，都加了 shortcut ，如果要改也很简单，把 shortcut 一行去掉，然后整个项目搜索替换便可，比如\\cache:: 替换成\\MyProjectNameSpace\\Cache:: 分别类似 Laravel 的 helper 和 Facade</div>", "<div class=\"topic_content\">V2EX 应该有什么关键字过滤，现在不能回复别人了。。。</div>"], "reply": "20", "tittle": "PHP , 我们自己的函数，需要 function_exists 判断吗？", "comment": ["啥意思 ？", "你是担心什么？和系统或者其他类库的函数冲突还是担心不存在？ 前者的话你使用 namespace 就行，后者的话函数不是公共引入的嘛，真的不放心就 function_exists 判断吧，不过个人觉得没必要", "如果是作为一个包，建议使用，毕竟不确定是否会跟第三方包冲突\r", "\r", "如果只是用于自己项目，可以不使用", " 自己的项目，倾向于不使用，不然要写好多 if", " #4 问题是，你也不会有这么多全局方法吧，面向对象编程为主", "自己写一个类的时候，会把，但是不至于每个都写", "是的，用命名空间， \\vendr\\package\\funcname();\r", "\r", "不过这个年代最好还是面向对象编程吧，配合一个好的 ide （当然我是在说 phpstorm ）， autocomplete 、 type inspect 等不要太爽。", "还有 git integration ，（额，听说说英文有提升逼格...）", " 自己常用的函数，用命名空间，觉得太累。比如， ip() , 用上命名空间后，可能就是 \\MyProject\\Helpers\\ip()", "从代码健壮性来考虑，要！", "最好别,到时候你等你用了,如果真有 2 个重名的方法,返回值不一样,你都不知道是什么错,你不写 function_exists 至少会报致命错误!!!!!", "如果，为了兼容性是要的， PHP 有些版本不支持某些函数，但是你又想要实现一模一样的功能的话", "哪怕自己写 binary 做 so 文件，最好也用 Object 封装，图方便可以全用 static 。\r", "单纯的 fn 集合至少要加个唯一的前缀，如 FANN 系列\r", " 因为引用别人的库都会有前缀，加入的 class 也会有 namespace ， 所以自己的项目里独有的东西倾向于不加前缀。", "防御式开发“不应”用于此处。\r", "代码问题就该老老实实抛出异常。\r", "\r", "就像不应使用 try catch 来捕获因代码文件缺失而导致的异常，这样会隐藏问题的准确位置。", " 除非你有信心一个项目做到底。不然当下图省事，后续接手的人就很痛苦。\r", "个人不建议直接写全局 fn ，哪怕只有一个也要放进 Object 里。", " 做到底也不行的。我们这边的几个元老就是这么干的。后来他们自己也看不懂自己的代码在做什么了。", " \r", "所以我们团队代码审查里的一个重要指标就是检查 PHPDoc ，会严格要求开发者把所有类里的方法和属性的用途描述清楚。命名规范这些更是挑剔。\r", "甭管你多大牌，只要有团队成员不能理解就不给过。\r", "长期看可以节省了很多维护成本。", " 真好。我进公司那会儿毛都没有。没注释没代码审查，一个文件七八千行的业务逻辑，现在就呵呵了。", "我觉得不应该做 兼容老版本的话可以在函数里用一个特定的来根据版本“转发”自带函数\r", "冲突问题应该让代码抛出致命错误"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>$a['test'] = 'hi';\n$a['test'] = 'hello';\n\n得到的结果是\n[\n    [test] =&gt; hi\n    [test] =&gt; hello\n]\n而我实际想要的是：\n[\n    [test] =&gt; hello\n]\n</code></pre>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>大家感兴趣可以这样测试，我这边出现重复：</p>\n<pre><code>$keys = ['meta_description'];\n\n$ret = array_combine($keys, $keys);\n\n$ret['meta_description'] = 'tom';\n\necho '&lt;pre&gt;';print_r($ret);echo '&lt;/pre&gt;';die;\n\n# 得到结果\nArray\n(\n    [meta_description] =&gt; meta_description\n    [meta_description] =&gt; tom\n)\n</code></pre>\n<p>@haiyang416\n@neilwong\n@skydiver\n@skydiver\n@zi</p>\n</div></div>", "<div class=\"topic_content\">你们没有重复吗？</div>", "<div class=\"topic_content\">最终解决办法，给键值加 md5</div>"], "reply": "64", "tittle": "PHP 7.1 数组兼职竟然可以重复，如何去掉这个特性？", "comment": ["按理说这样的情况不可能出现，能不能贴一下完整的代码！", "感叹号应该是？", "特意在 PHP 7 测试了一遍，没有遇到你这样的问题。", " 嗯，我测试了，没有出现，但是确实有：\r", "[1111] => Array\r", "        (\r", "            [meta_description] => meta_description\r", "            [meta_description] => blalbal\r", "        )", "你逗呢？能测试好了再发帖么。", "请给出完整的可重现测试用例", "\r", "\r", "不懂楼主结果怎么弄出来的。。", "key 里面有不可见字符的话，也会有这种结果\r", "比如：\r", "\r", "$a = [];\r", "\r", "$a[\"hell\\u{2060}o\"] = 1;\r", "$a[\"hello\"] = 2;\r", "print_r($a);\r", "\r", "输出\r", "Array\r", "(\r", "    [hell ⁠ o] => 1\r", "    [hello] => 2\r", ")", "v2ex 自动排版了，输出是看不出空格的", " \r", " \r", " \r", " \r", " \r", "\r", "问题解决了，本来的代码是这样的：\r", "$ret = array_combine($keys, $keys);\r", "后面会对$ret 赋值（键值重复），\r", "这样修改后没有重复的问题了：\r", "$ret = $this->combineArr($keys);\r", "\r", "protected function combineArr($arr)\r", " {\r", "        return array_combine($arr, $arr);\r", " }\r", "\r", "不知道为什么会出现这种情况。", " 眼睛都看花了，这修改前后有区别吗。。", "小学生都会上网了", " 确实没什么区别，但是确实修复了我提到的 bug ，也是困惑中。。。", "总想搞个大事情", "你可能安装了假 PHP", "这是想搞个大新闻啊，是不是什么隐藏字符在里面了。你要是代码能跑出来可以去官方报 bug 了", "```\r", "~ # php t.php\r", "Array\r", "(\r", "    [meta_description] => tom\r", ")\r", "~ # ls\r", "t.php\r", "~ # php -v\r", "PHP 7.1.0 (cli) (built: Dec 15 2016 21:09:42) ( NTS )\r", "Copyright (c) 1997-2016 The PHP Group\r", "Zend Engine v3.1.0-dev, Copyright (c) 1998-2016 Zend Technologies\r", "    with Zend OPcache v7.1.0, Copyright (c) 1999-2016, by Zend Technologies\r", "```\r", "\r", "无法复现", " 我按照这个方法确实重复的，要不你也跑跑看：\r", "$keys = ['meta_description'];\r", "\r", "$ret = array_combine($keys, $keys);\r", "\r", "$ret['meta_description'] = 'tom';\r", "\r", "echo '<pre>';print_r($ret);echo '</pre>';die;\r", "\r", "# 得到结果\r", "Array\r", "(\r", "    [meta_description] => meta_description\r", "    [meta_description] => tom\r", ")", "你用 array_keys 获取最后数组的键数组后，判断一下两个键是否相同", "楼主你新建一个 php 文件，然后从本帖复制代码过去，如果不重复，那就说明你之前的代码里有隐藏字符，在你贴到本贴时，隐藏字符已经丢失了，所以我们其他人测试不会出现你这个问题。", " 我也无法复现\r", "\r", "~# php test.php\r", "<pre>Array\r", "(\r", "    [meta_description] => tom\r", ")\r", "</pre>\r", "\r", "~# php -v\r", "PHP 7.1.0 (cli) (built: Dec  2 2016 15:44:02) ( NTS )\r", "Copyright (c) 1997-2016 The PHP Group\r", "Zend Engine v3.1.0-dev, Copyright (c) 1998-2016 Zend Technologies", " 晕了，我再去测测看，我的 PHP 有问题？", " ", " 你应该是用了假的编辑器和解析器解析了一个假的 PHP ，所以给了一个假的结果", "楼主在下面再来几句代码！我就不信 KEY 是一样的。老衲不信这个邪了。\r", "foreach($ret as $key=>$value){\r", "\tvar_dump($key);\r", "\tvar_dump(bin2hex($key));\r", "}", "楼主你这是要搞大新闻啊……", " 新建文件测试确实没有重复了，可能如你所说，含有隐藏字符，这个是哥哥语言的翻译键值，或许是加其他语言翻译导致的，感谢，我再具体看看", " 你可能装了假 PHP7 ，我测试本地后还专门去网上找各个 PHP sandbox 粘帖运行你给出的代码，结果全是：\r", "<pre>Array\r", "(\r", "    [meta_description] => tom\r", ")\r", "</pre>\r", "\r", "没有复现，没办法。", " 嗯，感谢，那应该是隐藏字符吧。", "重复使用的 key 就用一个变数存起来吧.重复使用$k 的方式可避免手残输入了神奇的文字.", "或者是里面的字符看起来一样，其实不一样，我就被这两个坑过：[…] 和 [...]", " \r", "报一下你的 PHP 版本， PHP 安装方式", "可能是 linux 下带了\\r 之类的，你比较一下两个 key 肯定不一样，退一万步。。。 array 本质上是 hash ， key 怎么可能相同", "楼主，建议你将出错的文件上传一下，这样大家可以帮你分析一下到底是怎么回事。", "哈哈哈 sublime 这些隐藏字符会标出来~ 安利一波", " 我用 Docker  升级到 PHP7.1.0 来执行你的代码，并没有重现出你的结果。", "建议你用能显示隐藏字符的编辑器查看下你本地的源码。", "用 010editor 等 16 进制编辑器打开你的源码找找隐藏字符？", "不可见字符....", " \r", " \r", " \r", " \r", " \r", " \r", " \r", " \r", "\r", "系统是 ubuntu16.04 ， php7 ，法国源\r", "\r", "meta_description 是内部用户输入的键值，是各个翻译语言的键值，我上面贴出的结果，确实是我测试代码出的结果，但是后来 comment/uncomment 后测试又没有了，但是正式的代码，还是有重复的键值。哎，也不折腾了，通过对 meta_description 做特别处理解决了，不信还有第二个键值重复。能解释通的估计就是内部用户输入的键值 meta_description 含有隐藏字符了。\r", "Array\r", "(\r", "    [meta_description] => meta_description\r", "    [meta_description] => tom\r", ")", " 请将能复现的数组按照 24 楼输出一下", " \r", "\r", "“估计”是不能真正解决问题的。你必须提供样本，问题不但无法准确定位，而且未来很有可能会在不经意的地方出现，比如那些效验用户输入的函数里。", " \r", " \r", "string(16) \"meta_description\"\r", "string(32) \"6d6574615f6465736372697074696f6e\"\r", "string(16) \"meta_description\"\r", "string(32) \"6d6574615f6465736372697074696f6e\"\r", "string(16) \"meta_description\"\r", "string(32) \"6d6574615f6465736372697074696f6e\"\r", "string(16) \"meta_description\"\r", "string(32) \"6d6574615f6465736372697074696f6e\"\r", "string(16) \"meta_description\"\r", "string(32) \"6d6574615f6465736372697074696f6e\"\r", "string(16) \"meta_description\"\r", "string(32) \"6d6574615f6465736372697074696f6e\"\r", "string(16) \"meta_description\"\r", "string(32) \"6d6574615f6465736372697074696f6e\"\r", "string(16) \"meta_description\"\r", "string(32) \"6d6574615f6465736372697074696f6e\"\r", "string(16) \"meta_description\"\r", "string(32) \"6d6574615f6465736372697074696f6e\"\r", "string(16) \"meta_description\"\r", "string(32) \"6d6574615f6465736372697074696f6e\"\r", "string(16) \"meta_description\"\r", "string(32) \"6d6574615f6465736372697074696f6e\"\r", "string(16) \"meta_description\"\r", "string(32) \"6d6574615f6465736372697074696f6e\"\r", "string(16) \"meta_description\"\r", "string(32) \"6d6574615f6465736372697074696f6e\"\r", "string(16) \"meta_description\"\r", "string(32) \"6d6574615f6465736372697074696f6e\"\r", "string(16) \"meta_description\"\r", "string(32) \"6d6574615f6465736372697074696f6e\"\r", "string(16) \"meta_description\"\r", "string(32) \"6d6574615f6465736372697074696f6e\"\r", "string(16) \"meta_description\"\r", "string(32) \"6d6574615f6465736372697074696f6e\"", " \r", " 这是所有的 meta_description 键值", " \r", "\r", "那么这个问题很明显就不是“不可见字符”的问题了。\r", "\r", "你还是准备一个最小可复现的样本然后压缩好上传到能公开下载的地方吧。只有看了文件才能进一步排查问题。", "也有可能是启用了啥 PHP 扩展造成的", "同意楼上，估计是什么扩展", " 其他翻译也出现问了，键值也是 meta 开头 meta_description_detail ， 测试了其他重复键值的，确并没用这样的错误。给键值加了 md5 后不再重复。", " \r", " 但是加 md5 作为键值，不再出现重复的情况，啥情况？", "应该是环境配置问题，贴 php -v, php -m", " \r", "PHP 7.1.0-5+deb.sury.org~xenial+1 (cli) ( NTS )\r", "Copyright (c) 1997-2016 The PHP Group\r", "Zend Engine v3.1.0-dev, Copyright (c) 1998-2016 Zend Technologies\r", "    with Zend OPcache v7.1.0-5+deb.sury.org~xenial+1, Copyright (c) 1999-2016, by Zend Technologies\r", "\r", "[PHP Modules]\r", "calendar\r", "Core\r", "ctype\r", "curl\r", "date\r", "dom\r", "exif\r", "fileinfo\r", "filter\r", "ftp\r", "gd\r", "gettext\r", "hash\r", "iconv\r", "igbinary\r", "json\r", "libxml\r", "mbstring\r", "mcrypt\r", "memcached\r", "msgpack\r", "mysqli\r", "mysqlnd\r", "OAuth\r", "openssl\r", "pcntl\r", "pcre\r", "PDO\r", "pdo_mysql\r", "Phar\r", "posix\r", "readline\r", "Reflection\r", "session\r", "shmop\r", "SimpleXML\r", "sockets\r", "SPL\r", "standard\r", "sysvmsg\r", "sysvsem\r", "sysvshm\r", "tokenizer\r", "wddx\r", "xml\r", "xmlreader\r", "xmlwriter\r", "xsl\r", "Zend OPcache\r", "zip\r", "zlib\r", "\r", "[Zend Modules]\r", "Zend OPcache", "第一反应就是不可见字符。。然而 42 楼开始事情变得有趣了起来😭关注一下", "OPcache 的锅\r", "\r", "\r", "楼主激动得连标题中的错别字都不顾了", " 哈，高人，果然是 Opcache 的原因。竟然中招了，花了几乎一天时间就为了解决这个问题。不知道什么时候会修复。", "刚点进这个帖子的时候我是不信的....涨姿势了", "昨天等到现在，终于有答案了", "这属于严重 BUG 了吧!", " 6666666666", " \r", "\r", "你试试看禁用你的 OPCache ，看看问题是不是消失了。", " 看 bug 描述，应该就是 opcache 导致的，我用循环生成数组，且键值加 md5 解决了。", "看 bug report 裡寫的 7.1.1 應該已經修復了？", " \r", "\r", "你 54 楼表示“果然是 Opcache 的原因”，但在 60 楼却表示“ bug 描述，*应该*就是 opcache 导致的”。\r", "\r", "如果有人告诉你是因为天冷机器着凉导致的你会不会也就相信了？", "还以为楼主想搞大新闻呢， 涨姿势了", "...不用 op"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>事情是这个样子的： laravel 大会在本年的 7 月份于纽约举行，之前跟 laravel 作者 Taylor 邮件沟通，拿到一张票（听众票）。</p>\n<p>虽然去纽约的机票钱和住宿等都是自费，但是本着“人生就是怼”的态度，我毫不犹豫地上！</p>\n<p><strong>本帖目的</strong></p>\n<p>然后本帖的目的就是：如果 V 友们有在纽约或者有认识的人在纽约，并且到时候在纽约愿意做一下向导的话，在下感觉不尽，因为目前在下的情况，还不能提供实质性的回报。</p>\n<p><strong>如果有向导意愿的，请发邮件到 jellybool ，用的 outlook 邮箱。</strong></p>\n</div></div>"], "reply": "32", "tittle": "大年初一立个贴： 7 月份我要去纽约参加 laravel 大会了", "comment": ["凭票即可申请到签证？商务签？", " #1 \r", "美签商务和旅游是一种签证", "7 月去 New York 铁定晒死 ...", "浪费时间……", "如果你的英文很好，或者顺便旅游，去是完全值得的，但如果只是学下最新的技术，过后看现场的视频录像我感觉不出太大的差别。去那边主要是 networking ，认识人，有机会肉翻或者弄个远程项目搞搞也好。", " #5 FYI:lz 弄了一个关于 laravel 的在线教学视频 （类似 laracast ）\r", "所以， lz 有可能是去获得社区支持的(networking)", "有钱就去呗。纽约很好玩，远非一个技术大会能比。", "大兄弟。那去了一趟，是不是你会很开心，然后那几天所有视频免费看几天     🤓     认真脸", "呃，忘了，不知道楼主毕业了没。要是学生党，那签证可有些麻烦。", " 已毕业，感谢", " 阔以", " 多方面原因吧…出去见见世界也好", "我只知道 php 是宇宙最好的语言，以及想做的事情，有机会一定要去做。", "有钱任性", "赞，我这个英语渣渣这辈子没机会了~", "有个正当理由拿 B1/B2 会容易些，但是这种自费项目面签的时候可以说旅行是由父母出资，让那个 officer 相信你没有能力在美帝黑下来 23333", "给你个建议，七月份很多留学生回国，可以加几个纽约大学的群，短租下来比住酒店便宜多了。", " 阔以，这个不错", " 不是有钱任性...", " 23333", " 哈哈哈，我就是这样", "资持！有想法就要行动！", " #17 \r", "珍爱钱包，在国外少与非熟悉或者网上熟悉的中国人打交道。", " 这位大哥感觉老司机", " 哈哈哈，人生就是说怼就怼", "可以搭车吗 老司机求带", "这个可以有\r", "可以肉身体验真正的互联网", " 不是老司机啊…带不起，不然可能会翻车", " 嗯哼，说干就干", "去玩玩还是可以的。", "人肉代购一波，然后楼主的外包工作室就又可以维持运行了", "支持哈,之前在你的网站还是学了很多东西"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>今天升级了 MAMP 到 4.1 版本，但是 MAMP / MAMP Pro 升级到 4.1 版本之后会提示 Mcrypt 等 extension 都提示未安装的异常。重新安装了之后问题还是存在，查看了它的模块路径下，可以看到 Mcrypt 文件，并且也可以看到有 <code>--with-mcrypt=shared</code> 的正常参数，然后又查看了 MAMP 的 Apache-php 的配置文件 php.ini ，同样也存在 <code>extension=<a href=\"http://mcrypt.so\" rel=\"nofollow\">mcrypt.so</a></code> 这一行未被注释。</p>\n<p>打开空文件，查看 <code>phpinfo()</code> 也可以看到 Mcrypt 模块存在，但是 Mcrypt 的模块没有详细信息。这让我猜测是模块没有被成功载入。于是我又尝试了一些其它的 Memcache 等模块发现同样无法正常载入。</p>\n<p>再次检查 php.ini 后发现，引入模块目录的路径为</p>\n<pre><code>extension_dir = \"/Applications/MAMP/bin/php/php7.1.0/lib/php/extensions/no-debug-non-zts-20151012/\"\n</code></pre>\n<p>然而，高能的部分是，这个路径不存在，然后到上层目录才发现，<strong>实际模块路径为</strong></p>\n<pre><code>/Applications/MAMP/bin/php/php7.1.0/lib/php/extensions/no-debug-non-zts-20160303/\n</code></pre>\n<p><strong>修改了这个路径之后，重启 MAMP 就可以正常使用基本的自带模块了</strong>。这次 MAMP 开发组犯的错误有点傻。</p>\n<p>原文发布： <a href=\"https://www.vexio.net/archives/1069.html\" rel=\"nofollow\">https://www.vexio.net/archives/1069.html</a></p>\n</div></div>"], "reply": "15", "tittle": "解决 MAMP / MAMP Pro 4.1 升级后无法使用 Mcrypt 等模块", "comment": ["不用这么麻烦，图形界面 Cache 设置那边切换一下 Cache 就好了", " Cache 我设置了，它似乎并不会更改插件的路径，也不会更改配置文件，测试模块依旧不可以用诶", "说起 MAMP Pro 4.1 我也吐槽\r", "1. 启动速度没上个版本快\r", "2. 竟然出现程序崩溃 (可能和 OS X SIERRA 不兼容)\r", "3. 更新频率太大..三天两头更新一次.", "折腾，用 brew 多简单。。。", "建议 mac 不要用集成环境，稍微有一点搞不好就是血的代价", " 同意。\r", "\r", "让我想起十二要素里指出的「去除本地环境和线上环境的差异」", " 也确实因此经历过血的代价…", "为了时间漏洞 坚守 4.0.6", "话说 MAMP 有自带 xdebug 么\r", "\r", "文档上写着有，但是 beta 版本 装了就是没找着", " xdebug 好像是 PRO 上有吧，我只在这里看到了 xdebug\r", " 不过我记得我之前好像看到过那个路径下有 xdebug 。现在我把 MAMP 删了换成了 brew 套装，迁移完了。。\r", "/Applications/MAMP/bin/php/php7.1.0/lib/php/extensions/no-debug-non-zts-20160303/\r", "这里好像有 xdebug.so ？", "\r", "orz 发现我下的是 ", " 上的,好像和楼主的不一样。。。", " 一起卸载用 brew 装 233333", " 实际上可以去看看 php.ini 在哪里，然后去 php.ini 里面找 extension 的路径，进一步排查。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"http://php.net/manual/zh/function.mcrypt-encrypt.php\" rel=\"nofollow\">http://php.net/manual/zh/function.mcrypt-encrypt.php</a></p>\n<pre><code>Warning\nThis function has been DEPRECATED as of PHP 7.1.0. Relying on this function is highly discouraged.\n</code></pre>\n<p>那么请问在 php7.1 里 mcrypt_encrypt()该用什么函数代替？</p>\n</div></div>", "<div class=\"topic_content\">感谢回复，已决定用 openssl_encrypt()了</div>"], "reply": "6", "tittle": "请问在 php7.1 里， mcrypt_encrypt()该用什么函数代替？", "comment": ["mcrypt_generic", "openssl_encrypt", "我们线上用 bf-cbc ，转换后\r", "\r", "mcrypt_decrypt(MCRYPT_BLOWFISH, $passphrase, base64_decode($data), MCRYPT_MODE_CBC, $iv);\r", "openssl_decrypt($data, \"BF-CBC\", $passphrase, 0,  $iv);\r", "\r", "base64_encode(mcrypt_encrypt(MCRYPT_BLOWFISH, $passphrase, $data, MCRYPT_MODE_CBC, $iv));\r", "openssl_encrypt($data, \"BF-CBC\", $passphrase, null, $iv);\r", "\r", "已经在线上跑了几个星期了，没有问题。", "openssl\r", "\r", " ", " 恩，果然"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>这篇就当是备忘录或以后开发 app 接口的规范参考吧。</p>\n<p>1.关于加密</p>\n<p>在抓包一些 app 之后，发现很多 app 对数据加密比较请示尤其是初创公司。如果没做好加密可能导致用户信息泄漏。</p>\n<p>加密方式： MD5 、 RC4 、 RSA ，根据我们业务场景选择。</p>\n<p>2.关于 app 版本</p>\n<p>我们 app 一般一周一更新，部分功能也可能是热更新。\nandroid 和 ios 的差异性。\n有时候也要做好渠道和版本相关统计，运营或推广可能会用到。</p>\n<p>3.关于 json 规范\n如：</p>\n<p>{\n\"error\": false, //false 表示接口没有错误 true 表示请求异常\n\"data\": { //服务器与客户端交互的数据</p>\n<pre><code>  }, \n  \"message\": \"\" //提示消息 如：参数错误\n</code></pre>\n<p>}</p>\n<p>4.请求方式\nget:选则 get 一般是把一些验证信息放到 http 请求的 head 中的\npost:post 可以发送大量数据， php 的 post_max_size 默认值一般是 8MB,这时候验证信息可以放到 post 数据里面\n5.开发文档\n文档是服务器开发与客户端开发人员接口交流的重要途径，可能用 word/excel,或自己开发在线的文档\n如： xx</p>\n<p>转自： <a href=\"http://www.guodev.cn/archives/172\" rel=\"nofollow\">http://www.guodev.cn/archives/172</a></p>\n</div></div>", "<div class=\"topic_content\">其实 app 接口开发涉及很多细节问题。\r<br>微信 /支付宝 /支付 友盟统计 消息推送（单人推送，群发，按标签推送，按版本推送等，有时候运营要知道到达率等等）\r<br>渠道统计，广告统计，针对单用户的各种统计。\r<br>包括客户端服务端异常监控等。\r<br>大家互相学习，不喜勿喷，谢谢！</div>"], "reply": "30", "tittle": "关于 app 接口开发", "comment": ["md5 不是加密算法", "MD5 ， RC4 已经不安全", "我选择倒叙加密 #滑稽", "get 请求是把信息放在 head 中的？谁告诉你的？", "  \r", "楼主是说：把一些验证信息放到 http 请求的 head 中的  \r", "请注意是验证信息  \r", "head 里加形如 X-Access-Token: xxxxxxxxxxxxxxxxx 的加密信息无误", "\"error\": false \r", "\r", "这一条不是多余吗\r", "\r", "有错误返回错误,没错误不返不就好了", "\"error\":false ，换成 retCode 之类的状态码更好些。", " #6 \r", "可能是客户端有实体", "https", " 唔...没接触过客户端开发,刚搜索了下实体对象,应该也可以在判断 HTTP status codes 为失败的时再创建,也就是说,成功是还是可以省略的", " 有时候并不是要返回错误，如：去获取一个商品时，由于某些原因商品 ID 没获取的，这时间我们返回一个提示性的数据“商品 ID 错误！”\r", "实际项目的根据自己的需求来定格式就行了，这不是一个规范。", "jwt", "每个开发者都需要这些东西，只是一般人想不了这么多，技术上也实现不了", " \r", "不是说 get 请求要把信息放在 head 中，是说有些信息可以放到 head 里面\r", "如： app 版本是 1.0 的，在请求服务器接口时 head 中加入 App-Version: 1.0\r", "这是我们的做法，对您只是一个建议。", "jwt.io", " 嗯,我只是觉得 api 的返回应该尽量减少必要的数据.\r", "就比如说商品这个例子,我觉得错误时应该是返回:\r", "{\r", "    \"error\":\"该商品不存在\"\r", "}\r", "或者加一个`errorCode`:\r", "{\r", "    \"errorCode\":\"10086\",\r", "    \"errorMessage\":\"该商品不存在\"\r", "}\r", "\r", "成功时就可以直接返回数据了啊:\r", "{\r", "    \"id\":\"1\",\r", "    \"name\":\"x 商品\"\r", "    ......\r", "}\r", "而没有必要加上 `error=false` 或者是 `errorCode=0` 来表示成功:\r", "{\r", "    \"errorCode\":\"0\",\r", "    \"id\":\"1\",\r", "    \"name\":\"x 商品\"\r", "    ......\r", "}\r", "\r", "成功或失败的表示应该存在于 HTTP status codes", " 虽然可以暴力破解，但现在应用的依然很广泛。", " 学习了^v^", "又来了。 V2EX 能发投票贴么？", " 不懂为什么还要用这种能被破解的算法。顺便说下， RC4 已经能被破解了（不是遍历）。", "有更好性能，更安全的算法不用，一定要等到被脱裤了才来哭，才来抱怨？", " 恩都可以，我们想定义统一的格式，这样客服端只解析一种格式然后做业务判断，而不是兼容的去解析很多种格式。\r", " 不是说非要用 md5 或 RC4 ，也不是说不能用，关键看你要怎么用。", "看习惯了，还是喜欢先来一个统一的定义码，后面跟着信息", "  请教下，关于产品迭代过程中后端和移动端的版本兼容你们是如何处理的呢？", " 后端接口以兼容为主，如果业务逻辑变化比较大，会新开接口", " 针对业务逻辑变化较大的新开了接口后，用户 App 没更新至最新版（同时没法做热修复），是强更客户端还是后端部署 2 套代码靠路由来控制请求版本？", " 强制让用户更新体验不太好，我们规定在客户端请求接口时都要在 head 中加入版本号，如果接口有变化，服务端判断版本号后转发到对应接口上处理，客户端不需要做判断，这样做是因为一旦一个版本发布后更新是很困难的。", "jwt +1", "状态码我一般这样设计\r", "\r", "Success:\r", "\r", "    {\"status\": 0}\r", "\r", "Success with result:\r", "\r", "    {\"status\": 1, \"result\":<object>}\r", "\r", "Faild:\r", "\r", "    {\"status\": -n, message: \"xxx\"}\r", "\r", "至于消息加密，个人认为 HTTPS 足矣。", "以前我也用 true 和 false ，不过后来发现分辨错误还是不够用， errorMsg 也不是总能提示给用户的，而且总觉得这种提示信息由前端小伙伴控制比较好～～\r", "还是用 errorCode 错误码比较棒。\r", "最近刚用的:\r", "0-没错误\r", "1-9 服务器错误\r", "10-99 前端参数错误\r", "100-用户输入错误～～", " 恩恩，很好。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"\" src=\"http://www.thinkphp.cn/Uploads/editor/2015-12-12/566b67e2496ac.png\"></p>\n<h3>ThinkPHP V5.0 ——为 API 开发而设计的高性能框架</h3>\n<h2>喜迎元宵佳节， ThinkPHP V5.0.6 版本发布^_^</h2>\n<h2>主要更新</h2>\n<p>本次更新主要为 BUG 修正及优化（可无缝升级）：</p>\n<ul>\n<li>数据库支持断线重连机制；</li>\n<li>改进查询事件的回调参数；</li>\n<li>改进数据自动缓存机制；</li>\n<li>增加时间字段自动格式转换设置；</li>\n<li><code>MongoDb</code>和<code>Oracle</code>扩展更新至最新核心框架；</li>\n</ul>\n<h2>升级指导</h2>\n<p><code>V5.0.5</code>可以无缝升级到<code>V5.0.6</code>。</p>\n<p>由于数据库缓存策略的改进，之前如果使用了数据缓存，请先清空下数据缓存。</p>\n<p>之前因为升级到 5.0.5 版本后 时间字段使用整型后也会自动格式化输出的问题，现在可以设置数据库的配置参数 <code>datetime_format</code>值为<code>false</code>即可关闭自动转换。</p>\n<p>另外，注意，如果使用了 MongoDb 数据库扩展的话，请删除数据库配置文件中的<code>query</code>参数。</p>\n<h2>安装</h2>\n<ul>\n<li>GitHub ： <a href=\"https://github.com/top-think/think.git\" rel=\"nofollow\">https://github.com/top-think/think.git</a> （主要维护仓库 官方核心团队）</li>\n<li>Composer ： composer create-project topthink/think tp5 --prefer-dist</li>\n</ul>\n<h2>文档教程</h2>\n<p><a href=\"http://www.kancloud.cn/special/thinkphp5_quickstart\" rel=\"nofollow\">官方快速入门系列文档</a></p>\n<h2>捐赠我们</h2>\n<p><img alt=\"\" src=\"http://www.thinkphp.cn/Uploads/editor/2016-07-08/577f852e40237.jpg\"></p>\n<p>ThinkPHP 官方团队</p>\n<p>2017-2-7</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "ThinkPHP 发布 5.0.6 版本——主要为修正和优化，并完善了对 MongoDb 的支持", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我在 Yii2 框架里装个包经常需要 20-30 分钟，就很气。你们呢？</p>\n<p>已配置<a href=\"https://pkg.phpcomposer.com/\" rel=\"nofollow\">国内全量镜像</a></p>\n<p>而且最近还老是会出现这个错误\n<img alt=\"错误截图\" src=\"https://ww2.sinaimg.cn/large/647b8589gy1fcgvo3b5qwj20ma01h3yd.jpg\"></p>\n<p>也不知道这个错误会不会影响到什么，网上（ Baidu/Google ）能试的方法都试过了，依旧错误，就很气</p>\n</div></div>", "<div class=\"topic_content\">我所说的耗时是指敲完命令到命令执行完毕的耗时\r<br>\r<br>例如 install \\ remove \\ require 随便都要 20-30 分钟，不知道是否跟我公司机械硬盘有关</div>"], "reply": "9", "tittle": "各位用 Composer 装一个包大概需要多长时间？", "comment": ["yii2 不光有 composer 还有 bower", "可以仓库地址的，比如阿里", "我是用的国内 composer 镜像，一般不大的话几十秒的样子，可以按 ", " 这里设置数据源。", "换个仓库.. 或者 git clone? 我 composer 装 symfony 大概 5 分钟 laravel 大概 2 分钟？", "vpn 翻墙之类的呢？   其实我在国外也是差不多那个时间的，是不是机制问题呢？", "一个的梯子就行，我这边感觉基本两三分钟最多。。。", "折腾一堆镜像服务器，不如引用科学上网方式。", " 已表示感谢，再同意不过了", "我用的国内的镜像就挺快的呀"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>本人菜鸡，对 Composer 不熟，用的是官方源，非国内镜像</p>\n<p>今天发现这个 yii2 导出组件 <a href=\"https://packagist.org/packages/kartik-v/yii2-export\" rel=\"nofollow\">kartik-v/yii2-export</a> 的 1.2.5 似乎有个 BUG ，想升级到最新的 1.2.6 版本试试修复了没</p>\n<p>清空缓存\n<code>composer clear-cache</code></p>\n<p>进行升级\n<code>composer update kartik-v/yii2-export</code></p>\n<p>却提示\n<strong>Nothing to install or update</strong></p>\n<p>show 了一下，版本还是 1.2.5 没有升级，奇怪了，删了 lock 文件再试问题依旧</p>\n<p>执行 require\n<code>composer require kartik-v/yii2-export \"@dev\"</code></p>\n<p>依然是<strong>Nothing to install or update</strong></p>\n<p>然后我把这个包 remove 掉，再 clear-cache ，然后\n<code>composer require kartik-v/yii2-export:1.2.6</code>，却提示如图：\n<img alt=\"\" src=\"https://ww2.sinaimg.cn/large/647b8589gy1fch227uv0xj20hr0463yd.jpg\"></p>\n<p>然后我手动 require 了 <a href=\"https://packagist.org/packages/kartik-v/yii2-dynagrid\" rel=\"nofollow\">kartik-v/yii2-dynagrid</a> 这个包，成功了，再 require kartik-v/yii2-export 时还是报同样的错误</p>\n<p>接着我把这俩包都删了、 lock 文件删了、缓存清了，执行\n<code>composer require kartik-v/yii2-export \"@dev\"</code></p>\n<p>然后如图：</p>\n<p><img alt=\"\" src=\"https://ww2.sinaimg.cn/large/647b8589gy1fch229bbk4j20hs04yq2v.jpg\"></p>\n<p>TMD 又给我装了 1.2.5 版本</p>\n<p>这问题折腾了半个下午+晚上了，来回试，就是死活不肯给我装 1.2.6 ，求各位 dalao 看看到底是怎么回事？</p>\n</div></div>"], "reply": "3", "tittle": "关于 Composer 组件升级的问题，求解到底怎么回事？", "comment": ["* 看看你的 composer.json 里怎么写的，是否有指定版本\r", "* 你的其他包，依赖，导致必须装 1.2.5", "非要硬上的話\r", "可以在 composer.json 里加 /改這個到 dev 再試試\r", "\"minimum-stability\": \"dev\"", "yii2-export1.2.6 需要 yii2-dynagrid 版本大于等于 1.4.5 ，但是 yii2-dynagrid 最高到 1.4.4"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"QQ 截图 20170131174338.png\" src=\"https://ooo.0o0.ooo/2017/01/31/58905c7c2f928.png\"></p>\n</div></div>", "<div class=\"topic_content\">哈？！！！ gakki 突然就说要做男主的女朋友\r<br>\r<br>\r<br>\r<br>\r<br>导演果然就是程序猿转行的吧！</div>", "<div class=\"topic_content\">后面果然也是狗粮无情的甩在了我这个单身狗的脸上\r<br>\r<br>很不错的剧，推荐大家看看</div>", "<div class=\"topic_content\">转自豆瓣短评：和新垣结衣睡在一床还要带眼罩的男人，死后会下地狱的吧</div>"], "reply": "94", "tittle": "春节假在家咸着，看《逃避虽可耻，但有用》，发现男主是 PHP 的，特来水一发", "comment": ["男主还写 Objective-C 呢，看起来是一个万能码农", " 哈 我刚看到第三集，才看见男主写的代码", "原来你们 PHP 这样写代码的啊（滑稽", "这代码有点..恩.. 不过配色不错。", " 咳咳，男主被 GAKKI 弄得胡思乱想，最后还全删了", " 配色确实不错，不过我有点奇怪为什么注释上面的还是白色的", "只要能和 Gakki 在一起，写什么语言我都愿意啊！！！\r", "\r", " 快去写 PHP ，或许就在一起了！（毕竟全宇宙 sdkjgfdhgklbhxcjkv", "这代码风格看着有点吓人啊-。-", "我也刚刚看完！", "秒速五厘米的男主好像也是 php 的", "拔刀吧？\r", "\r", " ", "我刚刚一直点击播放按钮，你个骗子", " 爱上愚蠢吧 ！(๑⁼̴̀д⁼̴́๑)", "咦 我怎么记得是 iOS 呢", " 听说后面也有的，男主会的应该比较全面吧，我还没看到那里\r", "\r", "\r", " :-D\r", "\r", "\r", " 额，秒五没看过，看来日本程序员很多啊", " 第一集就在写 iOS 了吧……改需求就跑的产品经理（手动微笑）", " 确实有这么个镜头，是我忘记了", "话说!你们的变量都那么长吗?", "男主后面被辞掉的理由真是蛋疼", " 啊哈 都在吐槽代码，我发之前也没有仔细看，看见熟悉的 ·$· 就发上来了", "日本的码农工作好～", "你们在哪看的啊，有在线的吗？", "诸君，亮剑吧！ /滑稽", "gakki 可爱得翻天了，拔剑吧！", "/害羞 我也喜欢新垣结衣", " 看的百度云在线，在这里就不分享了，不过百度上随便搜一搜就有的", " \r", " \r", " \r", "你们这是要引起世纪大战啊，亮兵器吧！", "拔刀吧  gakki 我老婆！！！！！！！！！！！！！！！！！！！！！！！！", "找不到的可以搜 fix 字幕组", "码农的意淫片。", " 优酷上有人上传的， 11 集全", " ╮(╯▽╰)╭", "php 和 objc 他都写\r", "客户端和服务器全能的，专业擦屁股", " 怪不得加班都找他，新婚都要加班\r", "\r", "引以为戒啊！", "说的叫系统工程师", "这代码为什么没有\r", "?>\r", "\r", "边上也没有回车标示,说明已经到底部了.\r", "\r", "也就是竟然有人写完所有 php 代码才写\r", "\r", "?>", " 哈？纯 PHP 文件没有写 结束符的啊", " 可以,我无法反驳.", "拔刀吧", "Gakki ！！！", " 一个高级工程师，不帅但是干净整洁，生活上有点追求，人品也可以，这比得过 90%的男人了吧，为什么老是有人说是意淫", "他不是写 Objective-C 的吗！！！\r", "不过这都不重要。。\r", "关键是\r", "Gakki 超有情商的啊！！！阿西吧。。。", " 关键是现实哪有 Gakki 这样完美的女性闯入你的生活啊！", "他的书架上好像还有 windows..", " ", " 我看他公司和家里也是 win 的", " 无论是 Gakki 还是剧中的角色，都不是完美的人呀，剧中有很明确的交代女主的问题是什么", "48 楼了，居然没人吐槽这 PHP 写得把变量赋值给$_POST\r", "\r", "PHP 是全世界最好的语言", " 恩，有交代的，因为是心理学专业的，所以喜欢分析人，还喜欢矫正别人，“小聪明”\r", "\r", "但是！在我眼里不是缺点啦 ~\\(≧▽≦)/~", "秒五里面男主就是写 PHP 的，而且还是转行自学 PHP ，重构了他们公司的系统，最后辞职搞工作室。", "初恋也结婚了，他还在写 PHP", "看完三遍的路过。。。", "这配色看着好难受", "我们这边写 Php 的都找到女朋友了，我想入门来得及吗？", "分享一波呗谢谢了", "细节处理不错，至少真的是代码，不穿帮。", " \r", "php 可以没有?>", " 可以", " ", " 你会发现这不是个问句。神奇的 php", "其实秒速五厘米男主也写了 php ，不过好像还有 vb 。", " 非 HTML 混合 PHP 的文件，官方推荐不加结尾标识。", "php 是最好的语言", " [谷阿莫] 8 分鐘看完 495 分鐘單身狗夢想成真的電視劇《逃避虽可耻但有用》 1-11 集\r", " 这部剧不适合谷阿莫解说，弹幕都很不满..", "但有一点可以一点可以肯定的，主角不会是个韩国野生动物。", "楼主难道被腌了吗？还咸着，我还酸着呢（手动滑稽", " 哈，在家里完全变成了一条咸鱼，不思进取，天天刷日剧~~", "\r", "\r", "我只能帮到这里了！", "是时候来锤猪了", "男主是全干工程师", " 全干，所以加班最多，看来工作中追求全栈就是给自己找负担啊", "点了半天播放按钮。结果发现是张图片。。。。", " thx", "他们公司竟然没有出现一个中国码农，这点太假呀！", "小林家的龙女仆是写 python 的", " 配图是哪个里面的？", "不错,", " legal high 第二季最后一集", " R#60 /尴尬", " 你真关注你的初恋= =", "有人算过他的薪水吗？ 304 万 /年雇一个妻子，住还算不错的 1/1 ，每年还有存款。", " 转自知乎 李月 的回答\r", "\r", "\r", "\r", "我记得倒数第二集平匡算过他的收入，他一年付给老婆 20W 软妹币的薪水之后，再有一些杂七杂八的生活费和各类开销不算，最后一年可以存款 11W 多软妹币。平匡一年的收入起码在 50W 以上", "将爱情进行到底里也是程序猿。", " 居然这么高的薪水？记得<不能结婚的男人>中桑野给出的数据貌似年薪 600 万一般要过 50 岁。（不过该剧是 06 年左右的片子）", " 男主水平很高的,是公司主力,貌似还有提到过是他们公司年薪最高的 (因为水平高.不怕找不到工作,所以被裁员了......)", " 哈哈哈这就是辞退的理由么？？！！！！", " #6 \r", "因为多个 /* 一个 */", " ......注释符里放注释符,还缺斤少两!\r", "\r", " 对啊!男主也很萌,被裁员了,别人都以为他在找工作,结果他在找求婚地点!", "我咋觉得女主一点也不漂亮", " 萝卜白菜嘛", "拔刀吧，小伙子们， gakki 是我的", " =。=!"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>想用 php 开发一个在线记事本,记录一些非常私密的东西,首要要求是服务器被入侵后黑客也无法读取到我的文章内容.<br>\n所以想要找一个支持加密功能的单文件数据库,例如 sqlite3,但是免费版本的 sqlite3 不支持加密功能.<br>\n请问有没有类似 sqlite3 的其他的免费的支持加密功能的数据库呢?<br>\n性能不重要,自己一个人用的.</p>\n</div></div>", "<div class=\"topic_content\">初步决定用 4 楼的方法，加密入库，搜索的时候遍历一次数据库，逐条记录解密后查找，因为个人使用数据量不会太大，并且搜索不会很频繁，所以搜索的性能问题可以接受</div>"], "reply": "41", "tittle": "请问有没有支持加密功能的单文件数据库?", "comment": ["keepass 数据库格式？", "非对称加密就可以了吧", "换个思路，在 php 做加解密？", "php 加密后入数据库，缺点是不能搜索，但由于是一个人用数据量很小，可以每次把整个数据库读出来解密后放进一个临时数据库，这样就能搜索了，用完删除临时数据库。", "DES 加密后密文存进数据库呗，你自己掌握 key", "换个思路， luks\r", "自己要用再挂载", "只要 PHP 能读写，入侵的人就能读写，这种场景谈什么加密", "最简单的办法，在网页端用 JS 加密，密码自己掌握即可，就算破了你的服务器也拿不到有用的数据", "额~~  最近也在构思自己的一个日记应用   有类似场景的需求  LZ 找到好的解决方案 记得分享一下哈~", "基于 sqlite3 的 sqlcipher 有免费版本的", " DES 加密后密文存进数据库呗，这样在数据库里就无法全文搜索了，就无法搜索文章了", " 在 php 做加解密，这样在数据库里就无法全文搜索了，就无法搜索文章了", " sqlcipher 有看过，但我不太熟悉 linux 配置，试过编译 sqlcipher 没成功", " 请问网页端用 JS 加密是什么意思？可以再说说吗？", " 发送的是加密后的内容啊", " 你说的方案我也有考虑过，但我怕数据量太大。另外放进一个临时数据库，万一没来得及删除服务器就被黑了。。。。", " 这样在数据库里就无法全文搜索了，就无法搜索文章了", " 微信就是用这个加密的，以前有老外写过详细的技术文章", "全文搜索你怎么做？分词做索引啊", "BerkeleyDB", " 全文搜索，直接用 like ，因为数据量小性能不是问题", "用移位加密或者替换加密就好了", " 一个人用数据量应该不大，临时数据库可以放在客户端 js 里，服务器的数据库一直只储存加密后的文本。", " 我看了我的谷歌文档，几年来一共有 100M 的 word 文档，如果换成 txt ，估计至少要 20M 吧， 20M 的东西塞在 js 里可以吗？ 另外放 js 里似乎更不安全吧，有时在别人的电脑上网， js 会留在别人的电脑缓存里。", " 就是你在浏览器端用 JS 来进行 AES 加密之后再保存到服务器，这样谁拿到服务器都没啥用，当然，这样你就没法在服务器端全文搜索了", " 20M 小意思，现在宽带下载也很快，但是用手机流量访问时太费流量。缓存的问题应该可以通过设过期时限来解决吧（未确认），不过如果能在服务端用原生支持加密的数据库当然是最好的。", "ms access ???", "Windows BitLocker\r", "要用的时候 exec 解密，否则加密\r", "根据传入的密码来，但是也不是绝对安全的，因为可以修改文件抓密钥", " 拿到服务器修改 JS ，将密码发往服务器一份。", "建议用 HTML+AES+Chrome 扩展（读取 /写入本地文件）或 localStorage （注意备份）做成单机版的", "免费版本的 sqlite3 其实是预留了加密、解密接口的。\r", "给你一个我大二时候写的密码管理器，代码乱七八糟的别吐槽，但其中有 sqlite3 的加密实现，这个软件的登录密码其实就是 aes 的密钥。\r", "\r", "这个库就是一个 dll ，理论上用什么语言操作都不影响，但我没试过用 PHP 行不行。", "HSQLDB?", " 这个是收费的", "请问 LZ 的密钥如何存储呢？是由用户在每次加密 /解密时提供还是存在服务器上？", " 密钥由用户在每次登录网站的时候输入，也就是网站的登录密码，登录成功后将密钥加密存放到 cookie 里。网站启用 https 。", " cookie 容易被盗用，用服务端的 session 会不会更好一些？", " 用 session 好些", "SQLCipher +1", " 这个思路很不错啊，我第一反应也是这么做。每次修改数据后把加密后的数据全量备份到 vps 上去，甚至扔 github 上都行", "ABC.li 这个网站的思路估计和你的差不多"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有什么好的方案吗，\n我一般总是 curl_init-curl_close 这样循环执行，效率不高吧？、</p>\n<p>求高效方法</p>\n</div></div>"], "reply": "5", "tittle": "PHP CURL 循环执行", "comment": ["\r", "往下拉到:\r", "$multi_curl = new MultiCurl(); 这", "如果实时性不是要求很高，处理量也不是很大，单线程慢慢跑就行了。\r", "\r", "如果要求快速处理，就像楼上说的开多线程来异步处理。只不过异步的复杂度就高了。", "可以用 guzzle", "单线程 curl 效率?", "楼主威武"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"WX20170210-204118.png\" src=\"https://ooo.0o0.ooo/2017/02/10/589db5ad7f65f.png\"></p>\n<p>spl_autoload_register 了加载函数之后，只干了一件事就 spl_autoload_unregister 了，这是为何？</p>\n<p>为何不直接 require ，是有什么思想在里面吗？</p>\n</div></div>"], "reply": "3", "tittle": "Composer 的 Autoloader 为什么要这样写？", "comment": ["用来确保 $loader 是用 **自己的 method 的实现** require 进来的吧？最后一个参数是 true ，意思就是说先用老子的去找。\r", "\r", "既然找到了，就可以 unregister 了。", "找到原因了\r", "\r", " 看来不用 class_exists 判断再 require 是为了解决 APC 在高负载下的问题。\r", "不过现在都用内置 zend opcache 了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>使用 drupalgap 调用 drupal 开发的网站，想封装成 app\n然后在搭建好全部的环境，在 Chrome 进行模拟的时候，发现页面无法显示出来一直在 loading\nsettings.js 中的连接网站我修改为我的开发网站\n我是参照 <a href=\"https://jamesqi.com/%E5%8D%9A%E5%AE%A2\" rel=\"nofollow\">https://jamesqi.com/博客</a> /以 Drupal 网站为基础创建 App 这个教程一步步做的\n不知道哪里出错了\n请各位大神教教我</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "在使用 drupalgap 的时候，求救，急！", "comment": []},
{"content": ["<div class=\"topic_content\">[{\"fupdz\":\"36\",\"data\":[{\"id\":\"37\",\"fup\":\"36\",\"name\":\"\\u5546\\u5bb6\\u70b9\\u8bc4\",\"px\":\"4\",\"icon\":\"a5\\/common_37_icon.png\"}]},{\"fupdz\":\"36\",\"data\":[{\"id\":\"38\",\"fup\":\"36\",\"name\":\"\\u623f\\u5c4b\\u79df\\u552e\",\"px\":\"5\",\"icon\":\"a5\\/common_38_icon.png\"}]},\r<br>\r<br>\r<br>如何改成\r<br>[\r<br>{\"fupdz\":\"36\",\"data\":[\r<br>{\"id\":\"37\",\"fup\":\"36\",\"name\":\"\\u5546\\u5bb6\\u70b9\\u8bc4\",\"px\":\"4\",\"icon\":\"a5\\/common_37_icon.png\"}，\r<br>{\"id\":\"38\",\"fup\":\"36\",\"name\":\"\\u623f\\u5c4b\\u79df\\u552e\",\"px\":\"5\",\"icon\":\"a5\\/common_38_icon.png\"}\r<br>]\r<br>},\r<br>\r<br>的这个形式  前面相同然后合并在一起</div>"], "reply": "14", "tittle": "关于一些 json 的问题", "comment": ["转换成数组处理", "最后面的\r", "},\r", "前面有？", " 源代码是数组  但是不知道数组怎么搞", " fupdz 前面那个{就是   只是后面忘记加了个]", "唯一方式：遍历重构", "循环，然后判断 fupdz 一致则放一起", " 循环采用的是数据库的 while", "function convertFupdzData($source) {\r", "\t$fupdz_arr = [];\r", "\r", "\tforeach($source as $item) {\r", "\t\tif(array_key_exists($item['fupdz'], $fupdz_arr)) {\r", "\t\t\t$fupdz_arr[$item['fupdz']][] = $item;\r", "\t\t} else {\r", "\t\t\t$fupdz_arr[$item['fupdz']] = [$item];\r", "\t\t}\r", "\t}\r", "\r", "\t$result = [];\r", "\tforeach($fupdz_arr as $fupdz => $data) {\r", "\t\t$result[] = [\r", "\t\t\t\"fupdz\" => strval($fupdz),\r", "\t\t\t\"data\" => $data\r", "\t\t];\r", "\t}\r", "\r", "\treturn $result;\r", "}", " 我试试", " \r", "\r", "$query = DB::query(\"SELECT * FROM \" . DB::table('forum_forum') . \" WHERE type='group' and status=1 ORDER BY fid ASC\");\r", "\t\t$ar=array();\r", "\t\twhile ($soft = DB::fetch($query)) {\r", "\t\t\t$querys = DB::query(\"SELECT * FROM \" . DB::table('forum_forum') . \" WHERE fup=\".$soft['fid'].\" and status=1 ORDER BY fid ASC\");\r", "\t\t\twhile ($softs = DB::fetch($querys)) {\r", "\t\t\t\t$queryss = DB::query(\"SELECT * FROM \" . DB::table('forum_forumfield') . \" WHERE fid=\".$softs['fid'].\" ORDER BY fid ASC\");\r", "\t\t\t\twhile ($softss = DB::fetch($queryss)) {\r", "\t\t\t\t\t$ar[] = array(\"fupdz\"=>$soft['fid'],\"data\"=>array(array(\"id\"=>$softs['fid'],\"fup\"=>$softs['fup'],\"name\"=>iconv('gb2312','utf-8',$softs['name']),\"px\"=>$softs['displayorder'],\"icon\"=>$softss['icon'])));\r", "\t\t\t\t}\r", "\t\t\t}\r", "\t\t}\r", "\r", "\r", "如何添加你刚发的那个  这是源代码", " #10 我只能说你这个代码写的真是 666 啊", " \r", "\r", "。。。。你这直接改数据库查询不就完了", "```javascript\r", "const sort = (arr) => {\r", "  let hash = {}\r", "  let newArr = []\r", "  let i = 0\r", "  for (let item of foo) {\r", "    if (hash[item.fupdz] == undefined) {\r", "      hash[item.fupdz] = i\r", "      newArr.push(item)\r", "      i++\r", "    } else {\r", "      const idx = hash[item.fupdz]\r", "      const data = item.data\r", "      data.forEach(item => newArr[idx].data.push(item))\r", "    }\r", "  }\r", "  return newArr\r", "}\r", "```\r", " 这样写应该没问题，楼主试试", "v2 的回复功能太坑，不支持 markdown 还把代码缩进给吃了...."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><ul>\n<li>新版本使用全新 APP 代码组织结构</li>\n<li>全新的且简便的数据库操作方式</li>\n<li>更加优雅的 HTML 处理机制</li>\n<li>更加方便地添加和调用第三方代码库或框架</li>\n<li>框架逻辑更加简单清晰</li>\n<li>可方便地管理数据库结构，并加入版本控制中</li>\n<li>更加直观优雅的路由管理</li>\n<li>更加专注于 WEB 开发</li>\n</ul>\n<p>项目地址 <a href=\"https://github.com/chopins/toknot\" rel=\"nofollow\">https://github.com/chopins/toknot</a></p>\n<p>最后请不吝 fork 和 star, 谢谢</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "元宵佳节, 祝大家快乐！ Toknot 4.0-beta 版本发布", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我想定义个可变的 class</p>\n<pre><code>&lt;div class=\"content@yield('content-class')\"&gt;\n</code></pre>\n<p>这样不行会直接输出\n必须</p>\n<pre><code>&lt;div class=\"content @yield('content-class')\"&gt;\n</code></pre>\n<p>中间一个空格\n有什么办法可以不空格</p>\n<pre><code>@section('content-class', 'A')\nclass=contentA\n</code></pre>\n</div></div>"], "reply": "7", "tittle": "求助一个 laravel5.2 blade 模板的问题", "comment": ["那就得在传递 content-class 的时候前面加空格了", "  <div class=\"content@yield('content-class')\"> 这样写的话模板是不会解析\r", "html 源码就是这样 我是想如果没有设置 content-class 的话 class=content \r", "设置了就是 contentA", "<div class=\"content{{ $more ? \" contentA\" : \"\" }}\">", "('content-class', 'contentA')", " 不是设置默认值\r", "如果这样写的话<div class=\"content@yield('content-class')\"> 在 html 里面查看源码就是默认输入 laravel 没有解析 @", "\r", "必须在前面<div class=\"content @", "('content-class')\">空格模板才会解析\r", "但是这样就变成了 class=content A", "用 @", " 来控制 class ，未免有点小题大作了吧...", "既然是一个 class 名，就把整体 contentA 做 yield 好了"]},
{"content": ["<div class=\"topic_content\">如题\r<br>\r<br>有了解的么。。。</div>"], "reply": "2", "tittle": "tcpdf 生成 文档的时候，如何翻页", "comment": ["$TCPDF->AddPage();\r", "\r", "一般情况下是依靠 $TCPDF->SetAutoPageBreak(TRUE, n) 自动分页的", " 你说的是页面长度到一定情况自动分页吧？\r", "\r", "我说的是，比如文章比较长，到某个章节的时候，翻新一页开始打印下一章节的内容"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>set_time_limit(0);\n//省略代码\n$path=\"照片\";\nwhile($row = $query-&gt;fetch()) {\n    $image_arr.=$row[1].$row[2];\n}\n$image_array=explode(',',$image_arr);//获得一个数组，类似('a00001','a00002')\n\nforeach($image_array as $v){\n    $image=file_get_contents(\"http://111.11.11.111:80/IMG_\".$v.\"_2122.jpg\");//拼接图片地址\n    file_put_contents(iconv(\"UTF-8\", \"GBK\", $path.\"/\".$v.\".jpg\"),$image);//下载图片\n\n}\n</code></pre>\n<p>一共大概有 2000 张图片，为什么总是到中途（三四百张）就会中断了，报 500 错误</p>\n</div></div>", "<div class=\"topic_content\">对了，服务器网站程序是 java,这个是在本地 php 环境运行的，这样有什么影响吗？</div>"], "reply": "12", "tittle": "PHP 批量下载图片总是中途断开？", "comment": ["目标服务器 WEBSERVICE 短暂挂了", " 请问怎么解决呢", " 要是是按照 @", " 的说法，那应该让程序歇一歇，等对方服务器恢复正常再开始抓取图片。另外，您一件事情发三个帖子是不是不太好？", "给对方的站长打个电话，告诉他网站被你搞挂了，让他赶紧起来修服务器。", "#3 说的对，以前我在公司也有相同的案例，我也是不停地去拿数据，但是对方服务器是做了限制的，因为都是自己公司，好沟通，后来还是要让我这里做改动，让你这里每下载到一定的量就歇一歇，或者就是每过一段时间歇一歇，我当时是选择前者的，虽然我不是下载图片。。", "楼主的代码，异常情况都不考虑一下？\r", "\r", "建议加入重试机制，异常捕抓。", "如果没有其他需求， php 保存图片列表，然后用 wget 下载", "请继续等待。\r", "最近我正好在搞这个东西，下载 1200 多张图片， Nginx 已经报 502 还是 504 了。但是观察文件夹，文件还在继续增加。可能是因为我设置了 php-fpm 的运行终止 timeout=0", " 好像是卡了，记得没点提交多次……想删也删不掉……", " 每次浏览器中断报 500 错误的时候确实服务器挂掉了一样（应用无法访问），要在服务器的 tomcat 命令行窗口随便按一下键盘才会恢复……不知道是怎么回事", "如果是我来做的话，我会将文件名和状态写入一张数据表，然后 php 依次读取状态为未完成的文件。脚本下载成功则修改状态，直到所有文件状态为完成则结束，且成功下载一次就刷新脚本页面一次防止脚本执行超时。", "**告诉我哪里报 500 了**  \r", "如果是被抓取的 URL 返回 500 那无可或非是对方那边出的问题  \r", "但如果你是在浏览器中跑这个脚本浏览器返回 500 那只能说明是这个脚本运行报错了  \r", "诸如抓取过程中内存爆炸，或者 IO 错误，都有可能造成致命错误，如果是在浏览器里就肯定会直接返回 500 了  \r", "需要强调的一点是，对于抓取这种耗时长的操作，**尽量使用 CLI 模式运行脚本**（说白了就是在命令行下`php script.php`这样直接执行脚本而不是通过浏览器）  \r", "同时建议`error_reporting(E_ALL)`"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>公司拓展这部分业务，想收一套 wap 联盟源代码，从来没在 V 站求过啊，不清楚源码这里价格范围，需可以做二次开发，有合适的请 V 友帮忙推介下，谢谢！~</p>\n<p>Email ： eGluanVlY2hlbjExQGdtYWlsLmNvbQoK （ Base64 ）</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "bj 公司 求一枚 wap 联盟源代码", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>为什么写它</h1>\n<p>    现在市面已经有很多优秀的 PHP 框架，但开发一些中小型的项目的话感觉有点“重”，索性就写了个“轻”框架，非常适用于开发后端接口。</p>\n<br>\n<h1>它的那些事儿</h1>\n<ul>\n<li>不需重复造轮子，框架已经提供了一些可直接调用的类(如:缓存类)。</li>\n<li>不需花精力去处理底层的东西(如:接收并格式化参数、设置头部信息、格式化并返回结果)。</li>\n<li>Api 文档的生成，在对应的控制器的注释中提取信息，再生成一个统一格式的 Api 文档，并在文档页面中提供调试功能。</li>\n</ul>\n<br>\n<h1>怎么使用它</h1>\n<p>    大家若对它有兴趣，可以查看它的文档，推荐是先快速简单地过一遍前面的文档，再仔细地跟着看 Demo 那块的文档，这样可以快速入门哦~ 若有什么疑问或者发现问题可以提交 Issue 或 Email : me@zeffee.com . 您的支持是我最大的动力~</p>\n<p>    Github 传送门： <a href=\"https://github.com/sostuts/Zereri\" rel=\"nofollow\">https://github.com/sostuts/Zereri</a></p>\n<br>\n</div></div>"], "reply": "10", "tittle": "撸了个 PHP 轻量级框架，适用于后端接口开发", "comment": ["怎么把 vendor 也上 git 了", "喜欢用 FlightPHP 做小项目", " +1", "有 composer.json => 合格\r", "有 vendor 目录 => 扣分\r", "点开 composer.json => require smarty? excuse me? 不是说用于开发后端接口么？ 大叉，差评\r", "\r", "以上。", "小项目 flightphp + medoo", "顶\r", "能够造轮子的程序员都是大神", " \r", "1. vender 目录是我的问题，刚开始想的是提供完整包的下载和 composer 安装的，现在弄好了，感谢提醒。 \r", "2. smarty 主要用于 api 文档生成的页面,  亦提供用户多种回复格式的选择(json 、 xml 或 smarty render tpl)。", " vender 目录是我的问题，刚开始想的是提供完整包的下载和 composer 安装的，现在弄好了，感谢提醒。", "搭个车 "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>本周日我们准备组织个 ThinkPHP 电商的交流会，  <a href=\"http://t.cn/RJOZBIb\" rel=\"nofollow\">http://t.cn/RJOZBIb</a>   大家觉得可以交流些啥？</p>\n</div></div>"], "reply": "103", "tittle": "用 ThinkPHP 开发电商系统咋样？", "comment": ["  97# \r", "\r", "  11#\r", "\r", "楼上两位大神， ", " 是用 ThinkPHP3.1 来写的，漏洞很多，还有些功能没做完，来黑站吧。\r", "\r", "\r", "   PHP 高版本还有借鉴 JS 的闭包功能特性的，要不要说 PHP 好烂呀，还借鉴 JS 。\r", "\r", "PHP4 ， PHP5 ， PHP7 在它们各自的时代都有借鉴其它语言特性，同理，同时代的框架也会借鉴其它符合时代的框架的特性，这个没什么要说的，任何事物都会向着更好的方向发展。", "我居然看完了。。。", " 冒昧问一句：看云也是 TP 家的？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在 ie8 ，很奇怪的现象， host 设置了 ip 到域名后，是能拿到请求数据的。但是不设置 host ，服务器有 cdn ，再访问 php 就拿不到请求参数了，谁知道这是为什么吗？</p>\n<p>js 代码：</p>\n<pre><code>var requestData = JSON.stringify(formData);\nxdr = new XDomainRequest();\nxdr.open(\"post\",url);\nxdr.timeout = 10000;\nxdr.onprogress = function(){};\nxdr.onerror = function(){};\nxdr.ontimeout = function(){};\nxdr.onload = function(){\n    alert(xdr.responseText);\n}\nxdr.send(requestData);\n</code></pre>\n<p>php 相关代码：</p>\n<pre><code>header('Access-Control-Allow-Origin:*');\n$arrRequest = json_decode(file_get_contents(\"php://input\"),true);\nvar_dump($arrRequest);\n</code></pre>\n</div></div>"], "reply": "11", "tittle": "XDomainRequest 发送 post 请求， PHP ://input 都拿不到值", "comment": ["先别急着 json_decode ，看看你拿到的是什么值", " var_dump(file_get_contents(\"php://input\"));也是空的", "少了 setRequestHeader ，但 XDomainRequest 正好不能执行 setRequestHeader ，所以，还是 get 吧。", "用 fiddler 抓包，看到底有 POST 过去数据没", "enctype=\"multipart/form-data\" 的时候  php://input 是无效的", "三楼好像是长长短短大神", "赞同 4 楼 看是否发送请求了", " @", " 抓包了，请求参数是发出去了，但是到 php 就是没有东西", "var_dump(file_get_contents('php://input'))；这样也没有数据吗？", " 问题解决了，被新加的网站安全系统拦截了我的请求", " ...."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>前言</h2>\n<p>redis 等 nosql 简单高效的解决了高并发场景下的一系列问题，并很大程度的解放了持久化 DB 的业务压力。</p>\n<h2>实战</h2>\n<ul>\n<li><a href=\"https://github.com/TIGERB/easy-tips/blob/master/redis/cache.php\" rel=\"nofollow\">基于 redis 字符串 string 类型的简单缓存实战</a></li>\n<li><a href=\"https://github.com/TIGERB/easy-tips/blob/master/redis/queue.php\" rel=\"nofollow\">基于 redis 列表 list 类型的简单队列实战</a></li>\n<li><a href=\"https://github.com/TIGERB/easy-tips/blob/master/redis/pessmistic-lock.php\" rel=\"nofollow\">基于 redis 字符串 setnx 的悲观锁实战</a></li>\n<li><a href=\"https://github.com/TIGERB/easy-tips/blob/master/redis/optimistic-lock.php\" rel=\"nofollow\">基于 redis 事务的乐观锁实战</a></li>\n<li><a href=\"https://github.com/TIGERB/easy-tips/blob/master/redis/subscribe-publish\" rel=\"nofollow\">基于 redis 的发布订阅实战</a></li>\n</ul>\n<h2>测试用例</h2>\n<p>5 种使用场景都提供测试用例，使用方法：</p>\n<ul>\n<li>克隆项目： git clone git@github.com:TIGERB/easy-tips.git</li>\n<li>运行脚本： php redis/test.php [实例名称]，\n例如测试悲观锁： 运行 php redis/test.php p-lock</li>\n</ul>\n<pre><code>运行结果：\n\n执行 count 加 1 操作～ \n\ncount 值为： 1\n</code></pre>\n<pre><code>运行 php redis/test.php 获取参数列表\n\n参数列表：\n\n参数有误，正确示例： php redis/test.php p-lock \n====================================== \n参数列表： \nArray\n(\n    [缓存] =&gt; cache\n    [队列] =&gt; queue\n    [悲观锁] =&gt; p-lock\n    [乐观锁] =&gt; o-lock\n    [消息订阅 /推送] =&gt; Array\n        (\n            [订阅] =&gt; sub\n            [推送] =&gt; pub\n        )\n\n)\n\n</code></pre>\n<h2>源码</h2>\n<blockquote>\n<p>源码地址 <a href=\"https://github.com/TIGERB/easy-tips\" rel=\"nofollow\">https://github.com/TIGERB/easy-tips</a></p>\n</blockquote>\n<p>这是我的一个关于《一个 php 技术栈后端猿的知识储备大纲》的知识总结，目前只完成了“设计模式”。</p>\n<h2>纠错</h2>\n<p>如果大家发现有什么不对的地方，可以发起一个<a href=\"https://github.com/TIGERB/easy-tips/issues\" rel=\"nofollow\">issue</a>或者<a href=\"https://github.com/TIGERB/easy-tips\" rel=\"nofollow\">pull request</a>,我会及时纠正， THX ～</p>\n<blockquote>\n<p>补充:发起 pull request 的 commit message 请参考文章<a href=\"http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html\" rel=\"nofollow\">Commit message 编写指南</a></p>\n</blockquote>\n</div></div>", "<div class=\"topic_content\">纠正 标题《 redis 五种常见使用场景下 PHP 实战》\r<br>\r<br>为\r<br>\r<br>《 redis 五种常见使用场景下 PHP 实现》</div>"], "reply": "19", "tittle": "redis 五种常见使用场景下 PHP 实战", "comment": ["前排...", "收藏待看", "PHP 都这么多花样了", "恕我直言，这真的不是实战。。。\r", "实战应该有具体的业务场景。\r", "改为示例更为稳妥。", "\r", "\r", "这里抢锁的时候是不是应该设置为$microtimeout 而不是$microtime ？", " 没毛病～ thx~", " 我看看， thx~", "没有异常捕获，没有返回值判断，不及格", "感谢分享", " 哈哈～ 批评的好，受教了～ \r", "\r", "thx~", " 互相学习～ thx~", " 已纠正， thx~", "虽然不是真正意义的实战，但足够用来学习了！", "关于 redis 锁，分布式建议看 redlock ", " ，而单机锁参考 ", " 的后半部分\r", "\r", "使用 PHP 本地时间的话，如果 PHP 有多台机器会乱", " ", "1. 不和别的系统共享缓存的话，序列化使用原生的 serialization 是否更好？\r", "2. list 做队列有个问题，当数据量很大的时候（消费速度赶不上生产速度） redis 会蹦，而且原生不支持分布式，扩展性较差。 PHP 原生支持异步回调不是太好，不然使用 BRPOP 指令消费更加合适，使用 RPOP 的话相当于轮训了\r", "3. 演示发布订阅的话，是不是多启动几个订阅者更加好，体现广播的效果", " \r", " 好的，认真学习下，非常感谢～", "segmentfault 上经常看见楼主，哈哈", " 哈哈～"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>mail 函数使用方法：</p>\n<pre><code>\\mail::to('tom@example.com')\n        -&gt;subject('test subject')\n        -&gt;body('&lt;p&gt;hi world&lt;/p&gt;')\n        -&gt;embed(['img/ban.png', 'img/about.png'])\n        -&gt;attach('img/test.pdf')\n        -&gt;send();\n\n</code></pre>\n<p>如果没有 phpdotenv, 需要把相应的 env()改下。</p>\n<p>推荐封装一个 css_inline 函数。</p>\n<p>如果没有 Facade ，使用方法：</p>\n<pre><code>\n$mailer = new \\Classes\\Mail;\n\n\n$mailer-&gt;to('tom@example.com')\n        -&gt;subject('test subject')\n        -&gt;body('&lt;p&gt;hi world&lt;/p&gt;')\n        -&gt;embed(['img/ban.png', 'img/about.png'])\n        -&gt;attach('img/test.pdf')\n        -&gt;send();\n\n</code></pre>\n<p>源码</p>\n<pre><code>&lt;?php\n\nnamespace Classes;\n\nclass Mail\n{\n    /**\n     * Array to store email info\n     * @var array\n     */\n    protected $info = [];\n\n    /**\n     * Initialize PHPMailer\n     * Destory it after each email sent to avoid previous info left for next send\n     * @return object PHPMailer\n     */\n    protected function mailer()\n    {\n        $mailer = new \\PHPMailer;\n\n        $mailer-&gt;isSMTP();                                      // Set mailer to use SMTP\n        $mailer-&gt;Host     = env('mailer_host');                 // Specify main and backup SMTP servers\n        $mailer-&gt;SMTPAuth = true;                               // Enable SMTP authentication\n        $mailer-&gt;Username = env('mailer_user');                 // SMTP username\n        $mailer-&gt;Password = env('mailer_password');             // SMTP password\n        $mailer-&gt;Port     = env('mailer_port');\n\n        $mailer-&gt;CharSet = 'UTF-8';\n        $mailer-&gt;isHTML(true);\n\n        return $mailer;\n    }\n\n    /**\n     * Set email sender to $this-&gt;info['from']['email'] and $this-&gt;info['from']['name']\n     * default is support@example.com\n     * @param  string $email sender email\n     * @param  string $name  sender name, optional\n     * @return object        self object\n     */\n    public function from($email, $name = null)\n    {\n        $this-&gt;info['from']['email'] = $email;\n        $this-&gt;info['from']['name'] = $name;\n\n        return $this;\n    }\n\n    /**\n     * Send email to addresses\n     * @param  string|array $to send to email addresses\n     * @return object     self object\n     */\n    public function to($to)\n    {\n        $this-&gt;info['to'] = $to;\n\n        return $this;\n    }\n\n    /**\n     * cc address. But actually sent separately, can be seen as set multiple to addresses\n     * @param  string $cc email address\n     * @return object     self object\n     */\n    public function cc($cc)\n    {\n        $this-&gt;info['cc'] = $cc;\n\n        return $this;\n    }\n\n    /**\n     * Set email reply to address\n     * @param  string $email reply to email, stored as $this-&gt;info['replyTo']['email']\n     * @param  string $name  reply to name, optional, $this-&gt;info['replyTo']['name']\n     * @return object        self object\n     */\n    public function replyTo($email, $name = null)\n    {\n        $this-&gt;info['replyTo']['email'] = $email;\n        $this-&gt;info['replyTo']['name'] = $name;\n\n        return $this;\n    }\n\n    /**\n     * Set email subject\n     * @param  string $subject email subject, $this-&gt;info['subject']\n     * @return object          self object\n     */\n    public function subject($subject)\n    {\n        $this-&gt;info['subject'] = $subject;\n\n        return $this;\n    }\n\n    /**\n     * Set email body\n     * @param  string $body email body, $this-&gt;info['body']\n     * @return object       self object\n     */\n    public function body($body)\n    {\n        $this-&gt;info['body'] = $body;\n\n        return $this;\n    }\n\n    /**\n     * Set email attachments\n     * @param  string|array $file email attachments\n     * @return object       self object\n     */\n    public function attach($file)\n    {\n        $this-&gt;info['attach'] = $file;\n\n        return $this;\n    }\n\n    /**\n     * Set embed images\n     * embed 图片需要和 body 中的保持一致，会自动替换\n     * @param  string|array $images images to embed\n     * @return object         self object\n     */\n    public function embed($images)\n    {\n        $this-&gt;info['embed'] = $images;\n\n        return $this;\n    }\n\n    /**\n     * Send email\n     * @return integer send email result, 1 for success\n     */\n    public function send()\n    {\n        // only send email when have to,subject and body\n        if (@$this-&gt;info['to'] and @$this-&gt;info['subject'] and @$this-&gt;info['body']) {\n\n            // get initialized mailer\n            $mailer = $this-&gt;mailer();\n\n            $this-&gt;localSend();\n\n            if (@$this-&gt;info['from']['email']) { // use offered sender email&amp;name\n                $mailer-&gt;setFrom($this-&gt;info['from']['email'], @$this-&gt;info['from']['name']);\n            } else { // use default sender email and name\n                $mailer-&gt;setFrom('support@example.com', 'Send Name');\n            }\n\n            // set email to addresses\n            $to = (array) $this-&gt;info['to'];\n            foreach ($to as $one) {\n                $mailer-&gt;addAddress($one);\n            }\n\n            // set email cc address\n            $mailer-&gt;addCC(@$this-&gt;info['cc']);\n\n            if (@$this-&gt;info['replyTo']['email']) { // use offered reply to address&amp;name\n                $mailer-&gt;addReplyTo(@$this-&gt;info['replyTo']['email'], @$this-&gt;info['replyTo']['name']);\n            }\n\n            // $body = css_inline($this-&gt;info['body']);\n            $body = $this-&gt;info['body'];\n \n            // set attachments\n            if (@$this-&gt;info['attach']) {\n                $attach = (array) $this-&gt;info['attach'];\n                foreach ($attach as $oneAttach) {\n                    $mailer-&gt;addAttachment($oneAttach);\n                }\n            }\n\n            // set embed images\n            if (@$this-&gt;info['embed']) {\n                $embed = (array) $this-&gt;info['embed'];\n                foreach ($embed as $oneImage) {\n                    $mailer-&gt;AddEmbeddedImage($oneImage, $oneImage);\n\n                    $cid[] = 'cid:' . $oneImage;\n                }\n\n                $body = str_replace($embed, $cid, $body);\n            }\n\n            $mailer-&gt;Subject = $this-&gt;info['subject'];\n            $mailer-&gt;Body    = $body;\n\n            // flush used info, or next send email would be polluted\n            $this-&gt;info = [];\n\n            // send email and return success mark: 1 for success\n            return $mailer-&gt;send();\n        }\n    }\n\n    /**\n     * if in dev mode, send all addresses to mailer_recipient\n     */\n    public function localSend()\n    {\n        if (dev()) { //使用你自己相应的判断环境的函数\n            $email = env('mailer_recipient');\n\n            $this-&gt;info['to'] = array_fill(0, count((array) $this-&gt;info['to']), $email);\n\n            $this-&gt;info['cc'] = @$this-&gt;info['cc'] ? $email : null;\n        }\n    }\n}\n</code></pre>\n</div></div>"], "reply": "6", "tittle": "PHPMailer 封装，让发邮件更简单", "comment": ["被 java @ \r", "被 Python @ \r", "被 ruby @ \r", "今天终于被 php @了", " 贴这个代码还能 @到你?, 这算是 v 站的 bug 了吧", " 你的 id 我服", " 故意注册的用户名哈哈", " 我纳闷他什么意思呢，原来这个样子。", " 喜闻乐见"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>ThinkPHP V5.0 ——为 API 开发而设计的高性能框架</h2>\n<p><img alt=\"\" src=\"http://box.kancloud.cn/2015-12-12_566b6a10506a4.png\"></p>\n<p><strong>V5.0 版本由<a href=\"http://www.qiniu.com/\" rel=\"nofollow\">七牛云</a>独家赞助发布</strong></p>\n<p>V5.0.7 版本主要是 BUG 修正和一些细节改进，可以从 5.0.6 版本无缝升级，主要包含：</p>\n<h2>主要调整</h2>\n<ul>\n<li>改进全局请求缓存对子域名的支持；</li>\n<li>改进数据缓存自动更新机制；</li>\n<li>关联统计支持指定统计属性名；</li>\n<li>模型嵌套关联支持数组方式；</li>\n<li>HasOne 关联支持<code>has</code>和<code>hasWhere</code>方法；</li>\n<li>路由的<code>ext</code>和<code>deny_ext</code>参数允许设置为空（表示不允许任何后缀或者必须使用后缀访问）；</li>\n</ul>\n<h2>修正如下</h2>\n<ul>\n<li>修正 IN / NOT IN 型查询条件为空导致的 sql 语法错误</li>\n<li>修正分页类的<code>toArray</code>方法对简洁模式的支持</li>\n<li>修正 Model 类<code>delete</code>方法对多主键的处理</li>\n<li>修正软删除对<code>Mongodb</code>的支持</li>\n<li>修正<code>Connection</code>类一处可能的错误</li>\n<li>改进 Query 类的 find 方法的缓存机制</li>\n<li>修正 BelongsTo 关联</li>\n<li>修正 JOIN 方式一对一关联预载入闭包查询</li>\n<li>修正 Query 类的<code>insert</code>方法一处可能存在的警告错误</li>\n<li>修正 Model 类一处 Collection 的<code>use</code>冲突</li>\n<li>修正 Model 类<code>hasWhere</code>方法</li>\n<li>修正 URl 生成对<code>ext</code>参数的支持</li>\n<li>文件缓存<code>clear</code>方法会删除空目录</li>\n<li>修正 Route 类的<code>parseUrlPath</code>方法一处问题</li>\n</ul>\n<h2>调整如下</h2>\n<ul>\n<li>默认关闭 session 的安全参数<code>secure</code>，此选项仅能在 HTTPS 下设置开启</li>\n</ul>\n<h2>下载</h2>\n<p>核心版本： <a href=\"http://www.thinkphp.cn/down/927.html\" rel=\"nofollow\">http://www.thinkphp.cn/down/927.html</a></p>\n<p>composer ： composer create-project topthink/think tp5  --prefer-dist</p>\n<h2>文档</h2>\n<p>官方完全开发手册已经同步更新</p>\n<p><a href=\"http://www.kancloud.cn/manual/thinkphp5\" rel=\"nofollow\">完全开发手册</a> <a href=\"http://www.kancloud.cn/special/thinkphp5_quickstart\" rel=\"nofollow\">官方快速入门系列教程</a></p>\n<p>ThinkPHP 官方团队</p>\n<p>2017-2-24</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "ThinkPHPV5.0.7 版本发布——小版本修正和改进", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>目前实践一个项目。有些小问题。可能想法错了，还望大家指点一下。\n目录结构：</p>\n<pre><code>---vue-laravel\n  |\n  | ---- client #这是纯的 vue 目录\n  | ---- server #laravel 放在这里\n</code></pre>\n<p>laravel 提供 api 并且通过 CORS 解决跨域的问题。</p>\n<p>目前认证这块是正常的。</p>\n<p>但是我想把注册的模块也通过 vue 来实现页面展示， laravel 来存入数据库。但是，我使用 CORS 来提交数据会报 422 的错误。好像应该我没有把 CSRF 值传入的问题。</p>\n<p>代码如下：\nvue 提交注册数据</p>\n<pre><code>handleRegisterFormSubmit () {\n        const postData = {\n          grant_type: 'client_credentials',\n          client_id: clientId,\n          client_secret: clientSecret,\n          email: this.register.email,\n          password: this.register.password,\n          password_confirmation: this.register.password_confirmation,\n          name: this.register.name,\n          scope: ''\n        }\n        this.$http.post('http://localhost:8000/api/register', postData)\n          .then(response =&gt; {\n            console.log(response)\n          })\n      }\n\n</code></pre>\n<p>laravel Api 路由：</p>\n<pre><code>Route::post('/register',\"Auth\\RegisterController@register\");\n\n</code></pre>\n<p>请问应该怎么来处理这种没有认证之前的前后端数据交互呢？谢谢</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>  this.$http.post(loginUrl, postData)\n          .then(response =&gt; {\n//   设置客户端认证\n            if (response.status === 200) {\n              console.log(response)\n              clientAuth.access_token = response.data.access_token\n              window.localStorage.setItem('clientAuth', JSON.stringify(clientAuth))\n            }\n// 携带客户端认证信息和要post的数据\n            this.$http.post('http://127.0.0.1:8000/api/register',\n              postDataRegister, {headers: getHeaderClient()})\n              .then(response =&gt; {\n                console.log(response)\n              })\n          })\n\n</code></pre>\n<p>header</p>\n<pre><code>\nexport const getHeaderClient = function () {\n  const tokenData = JSON.parse(window.localStorage.getItem('clientAuth'))\n  const headers = {\n    'Accept': 'application/json',\n    'Authorization': 'Bearer ' + tokenData.access_token,\n  }\n\n  return headers\n}\n\n</code></pre>\n<p>客户端认证成功，但是提交数据就401</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>经过一下午反复思考，最终还是决绝了。但是如果laravel中register的validator如果出现，比如两个密码不一致或者密码长度小于6，反者就是这个验证过不了就会出现 422 (Unprocessable Entity)的错误。这一块准备在前端这边进行一个判断然后再post请求。</p>\n<p>code如下：</p>\n<pre><code>    methods: {\n      handleRegisterFormSubmit () {\n        const postData = {\n          grant_type: 'client_credentials',\n          client_id: clientId,\n          client_secret: clientSecret,\n          scope: ''\n        }\n        const postDataRegister = {\n          grant_type: 'client_credentials',\n          client_id: clientId,\n          client_secret: clientSecret,\n          email: this.register.email,\n          password: this.register.password,\n          password_confirmation: this.register.password_confirmation,\n          name: this.register.name,\n          scope: ''\n        }\n        const clientAuth = {}\n        this.$http.post(loginUrl, postData) // 获取客户端认证\n          .then(response =&gt; {\n            if (response.status === 200) {\n              console.log(response)\n              clientAuth.access_token = response.data.access_token\n              window.localStorage.setItem('clientAuth', JSON.stringify(clientAuth)) // 本地存储认证信息\n            }\n            this.$http.post('http://127.0.0.1:8000/api/register',\n              postDataRegister, {headers: getHeaderClient()})\n              .then(response =&gt; {\n                console.log(response) // post请求创建\n              })\n          })\n      }\n\n    }\n</code></pre>\n<p>一些常量：</p>\n<pre><code>export const apiDomain = 'http://localhost:8000/'\nexport const loginUrl = apiDomain + 'oauth/token'\nexport const userUrl = apiDomain + 'api/user'\n</code></pre>\n<p>总算解决了。</p>\n</div></div>"], "reply": "21", "tittle": "Laravel+Vue 前后端分离", "comment": ["Laravel 5.4 里面用的是 axios 发请求，原理如下：\r", "\r", "把变量传到页面中：\r", " ```   \r", "<script>\r", "      window.Laravel = {!! json_encode([\r", "            'csrfToken' => csrf_token(),\r", "      ]) !!};\r", "</script>\r", "```\r", "在 axios 的 header 中设置 csrfToken ：\r", "```window.axios.defaults.headers.common = {\r", "    'X-CSRF-TOKEN': window.Laravel.csrfToken,\r", "    'X-Requested-With': 'XMLHttpRequest'\r", "};\r", "```\r", "用 Vue 的话同理。", "不好意思，没看清是前后端分离，这样的话我只知道设置 CSRF 中间件的 $except ，可以排除掉某些路由，或者直接在 Http\\Kernel.php 中禁用 CSRF 中间件了。", "你确定走了 api 的 middleware 了么，如果走 api 的 middleware 的话默认是不会启用 csrf check 的", " 谢谢。但是新的问题是 401 但是我明明已经取得客户端授权了。请问这个怎么解决呢？我将新的情况补充在问题上。", "分离不是应该写在视图里面吗?", " 视图这里完全交给 vue 。 laravel 的视图就不去写了。", "和我想的一样，前端就只做前端的事，让 vue 控制数据与 api 调用。 支持!", "我觉得你阔以看看这个", "硬广 ", "\r", "\r", "Laravel + Vuejs 实战开发知乎", " 你的视频要付费啊，，，", " 是的", " 出示学生证可否优惠？学生，没什么钱", " 这个暂时没有，不好意思", " 价格有点小贵了。但是能分享一下，您是这样写的吗？我新的附言。", "\r", "\r", "FREE", "都分离了 csrf 还有用么？", "scrf 没有用了。是传入 access_token 。", "scrf 没有用了。是传入 access_token 。\r", "\r", "都前后端分离了，直接把 csrf 的 middleware 关掉就行了", "一看就是 auth 中间件的问题！", "为什么没人说 \r", "client_id: clientId,\r", "          client_secret: clientSecret,\r", "同时存在在 js 代码中，是否有问题。限制该 client_id 只能使用特定的 grant_type ？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>中专学历，想去培训 php ，以后工作好找吗？前途怎么样？</h1>\n<p>中专毕业，学校只教了一些基础的知识。现在朋友推荐去兄弟连培训 php ，这是他们的课程 链接: <a href=\"http://pan.baidu.com/s/1eSMdlWA\" rel=\"nofollow\">http://pan.baidu.com/s/1eSMdlWA</a> 密码: 6ws8 ，听说 php 是世界上最好的语言，而且还挺简单。以中专学历 php 好找工作吗？</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><h1>看了各位大佬的指点，我决定还是继续升大专吧</h1>\n<p>我们学校也算是一个大专院校，学校说我们中专的如果再在学校上两年，会给我我们发一个大专毕业证。好像是自主招生，3+2 大专之类的，这样的大专证含金量怎么样？</p>\n</div></div>"], "reply": "106", "tittle": "中专学历，想去培训 PHP ，以后工作好找吗？前途怎么样？", "comment": ["吓得我感觉换了个头像", "兄弟连还可以，去培训一下吧。至少能带你入门，其他的就需要你自己努力了", " : 给你一个鼓励鼓励，我一个朋友，人家学历比你还低，后端是自学的，现在是主攻前端： div+css （ css 手写），写 JS", " 自主招生本科吗是？刚好有位关系挺好的同学跟你的情况差不多，想参考下晋升的方法", " #104 目前还没有可以自主去本科的（中专学历），只能去大专然后插本到本科，共花费五年时间，而且插本号称第二次“高考”，难度颇大。听朋友消息，深圳职业大学（另外一个学校改名的），有自主招生（中专学历），貌似是本科，不过确切消息要等下年招生才知道。", "我也分享点 PHP 学习材料和 PHP 面试题目给楼主\r"]},
{"content": "", "reply": "2", "tittle": "有一款名叫 TBUI 的 WordPress 主题，有大神知道么？", "comment": ["求源码", "哪里看到的，发来看看"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"https://bbs.pku.edu.cn\" rel=\"nofollow\">https://bbs.pku.edu.cn</a>\r<br>\r<br><a target=\"_blank\" href=\"https://bbs.pku.edu.cn/v2/home.php\" rel=\"nofollow\">https://bbs.pku.edu.cn/v2/home.php</a>\r<br>\r<br>大致感觉是 discuz 魔改。。</div>"], "reply": "15", "tittle": "北大未名 BBS 用的是什么程序？", "comment": ["不知道呢，从不关心这个", "0.0 前几年还不长这样，咋变化这么大。", "应该是 Firebird 或 Phoenix 之类的吧", "telnet ？", "字体： Font Awesome\r", "Javascript 库： jQuery 1.11.3\r", "Web 服务器： lighttpd 1.4.28\r", "后台开发语言： PHP 5.2.13\r", "Javascript 库： Underscore.js\r", "\r", "目测是自己开发的", "为啥不自己在 BBS 里面问技术站务 = =\r", "\r", "BBS 支持 term 登陆，应该很难是市面上常见的论坛改的吧。\r", "\r", "据我所知是为了能够和旧版本兼容自己写的。", " 3 楼的正解", " 不仅是这样，现在同步还在开发 ios 安卓客户端。", "楼上的你们在那说什么？未名论坛不是这个吗\r", "firebird 。一个用户连上来 fork 一个进程的玩意。", "所以为什么有两个末名论坛", " 你这不是叫未名空间吗", "firebird 把？", "大陆的高校 BBS 基本都是 Firebird ，台湾的 BBS 基本都是 Maple", "真没想过，只记得 telnet 上去玩的时候了，原来的网页比这丑多了"]},
{"content": ["<div class=\"topic_content\">我用 window.location.reload(true)不能刷新，但iOS版微信可以刷新。\r<br>\r<br>我说的是安卓版微信 6.5.4\r<br>\r<br>哪位能知道这个怎么做到兼容安卓版微信，也能刷新？</div>", "<div class=\"topic_content\">感谢大家的回复！\r<br>\r<br>我尝试了所有的方案，最后用了 15 楼提供的方法解决了。\r<br>\r<br>就用这个链接里的代码： <a target=\"_blank\" href=\"https://segmentfault.com/a/1190000006753455\" rel=\"nofollow\">https://segmentfault.com/a/1190000006753455</a>\r<br>\r<br>再次表示感谢！</div>"], "reply": "21", "tittle": "微信内置浏览器是不是有问题？我搜了一下，看着似乎很多人在骂。我遇到了一个不能刷新的问题。", "comment": ["iOS 微信内置浏览器是 webkit 内核，安卓下跟随系统 web view", "安卓下用的是腾讯 X5 内核", "之前遇到过，请查看我的博客 ", " 微信在安卓 7 上用的是系统 webview", "   ", "说白了全都是 WebView", "看下 UA 就知道是 WebView 还是 tbs", "\r", "在微信 /QQ 中打开可以调试", "腾讯 x5 内核，挺不错的，我自己的 app 也有用", " X5 有部分修改，会遇到一些莫名其妙的问题", "跑个题，最近发现小程序各种安装 x5 ，而且还装了不止一次......", " 不错个啥啊，经常出 bug\r", "当然，比 uc 还是不知道强哪里去了", "我也遇到过这个问题，后来用的 window.location.href=window.location.href", "做个公用方法，然后刷新直接在当前链接上加当前时间戳", "加时间戳", " 我直接用的这个。。", "各位有没试过 ios 微信内置浏览器打开微博网页或 youku\\bilibili 视频时没有声音的?", " \r", " 两位的思路肯定是对的，奈何我 javascript 学的比较水。。。。其实 15 楼里的代码，也没怎么看懂，只是拿来就用了。", " 谢谢，按照你的方法搞定了。", " 同学可以说一下机型吗？", " Moto X 魔趣 6.01 。", " 据说下一个版本会修复"]},
{"content": ["<div class=\"topic_content\">目前我遇到了一个问题，体积 1*浓度 1 = 体积 2 * 浓度 2\r<br>求浓度 1\r<br>浓度 1 = 体积 2 * 浓度 2 / 体积 1\r<br>看似很简单\r<br>但是，这 3 个未知数，每个都含有 3 个不同的单位\r<br>这三个不同的单位，是可以自由组合的。\r<br>\r<br>我真的不想写 27 个 if （ 3*3*3 ）\r<br>\r<br>有哪位大侠推荐一个好点的数学 lib ？\r<br>\r<br>主要需求是要单位可以约分，比如浓度单位， g/L * L ， 等于 g 。有这样的库吗？谢谢\r<br>\r<br>我刚才模拟了一遍我自己做的数学计算，处理单位不一致的时候，我就是把单位约分了，这样就非常快速得得出结果了。应该说这是人的正常思维。可惜不知道PHP能不能做到把单位也约分了。</div>"], "reply": "6", "tittle": "PHP 有什么样的数学 lib 可以解决数学计算的时候计量单位不一致的问题？", "comment": ["度量衡换算？做出来一个就是大新闻了\r", "\r", "更有意思的是 google 能识别一部分\r", "比如\r", "3inch * 3dm * 3cm * 20g/cm3 = 13.71600 kilograms", "先把值的单位统一到标准单位上再计算咯", "单独写一个函数去统一单位，在运算，这样你只用写 6 个 if", " 对啊，完全不懂难点在什么地方", "估计要用到科学计算  你可以试试 scipy 这些不过这些都是 python     你有时间 可以顺路学学   linux 下应该还有一些科学计算包  你可以都找找", "这个是否可以理解为算法问题 把每个单位设置为 1)一个质素 2)单位与数字运算 3)最后来个因数分解"]},
{"content": ["<div class=\"topic_content\">即：\r<br>先使用 Laravel 写简单的项目架构，包括用户登陆注册、插件接口等\r<br>\r<br>然后再使用包开发的形式丰富功能。\r<br>\r<br><a target=\"_blank\" href=\"https://laravel-china.org/docs/5.4/packages\" rel=\"nofollow\">https://laravel-china.org/docs/5.4/packages</a></div>"], "reply": "2", "tittle": "使用 Laravel 构建大型后端，是否使用包开发的形式更为方便和易于维护？", "comment": ["除非以后有共享给其他项目使用的需要，不然没必要", "用 Modules 更合适吧，记得 ", " Modules 。使用方法可参考 "]},
{"content": ["<div class=\"topic_content\">网站用了 cdn 服务，要刷新指定链接的缓存，有两种方式，一个是登录他们的后台，输入链接提交刷新；一个是在浏览器中打开页面，然后按 CTRL + F5 来刷新缓存。\r<br>这两种方式不管怎么说都要手动，想知道是否可以通过 php 或什么方式自动执行 js 来自动刷新缓存，在发布文章等操作后自动刷新页面缓存。\r<br>由于cdn网站登录框使用了验证码，php直接登录后台提交链接的方式不可行。</div>", "<div class=\"topic_content\">是 html 页面的刷新缓存哦，不是 js ， css ，图片等静态内容。目前准备尝试发送一个 no-cache 的 http 请求试试。</div>", "<div class=\"topic_content\">缓存机制是，只要不过期，页面内容缓存到 cdn 服务器后就不会再读取源站。如果源站页面内容更改后，要么等 cdn 缓存过期后从源站抓取，要么使用上面说的那两种方式刷新缓存，通知 cdn 服务器从源站抓取新内容，替换 cdn 服务器上缓存的旧内容。</div>"], "reply": "31", "tittle": "PHP 或 js 能否在后台实现自动 CTRL+F5 刷新", "comment": ["一般不都是链接后面加个时间戳吗？", "如果是要通知 cdn 清缓存。\r", "应该是调用 api", " 加时间戳就直接回源了", "并不提供 api", " \r", "\r", "我的意思是加更新的时间戳啊，不是说当前的。\r", "\r", "我的理解你不就是要能够控制回源吗？", "模拟登入 输入链接 刷 手工版 api", "浏览器按 Ctrl+F5 本质上就是发 HTTP 请求\r", "所以你把那个 HTTP 请求抓出来自己用 php 发就好了", " \r", "\r", "如果觉得加时间戳太 low 或者不方便，那加个 md5 hash?", " 目的是通知 cdn ，源站内容已更新，请速来抓取最新内容，替换 cdn 服务器上旧的内容。访客访问到的是缓存在 cdn 上的内容。加时间戳的是不缓存的，失去 cdn 的作用。", "Ctrl+F5 这个是无缓存重新请求， Curl 按标准 http 请求带上有效登录 cookie 就行。", " 这个可以，试试", " #9 加修改那一刻的时间戳，而不是实时时间戳，这样 CDN 也就回源一次，实现你想要的效果", "location.reload(true)", "你要更新的是整个页面，还是单个图片或者 JS 文件？\r", "整个页面最好走 CDN 的接口通知更新缓存\r", "单个图片或者 JS ，直接在文件名后变换尾巴就好了。", "CTRL-F5 怎么可能能刷新 CDN 缓存？难道每个新用户访问都会导致 CDN 重新缓存吗，那要他何用？", "等等， ctrl+F5 能把 cdn 的缓存也刷了？那要是有个用户按着 ctrl+F5 不撒手你家 cdn 的缓存功能不直接失效了", "可以用 console ？直接执行脚本", "ctrl+F5", "1. 在你修改完上传到 cdn 后，修改页面中引用该静态资源后面的时间戳，只在你修改文件时才改时间戳\r", "2. 将上传的每个静态资源都进行 hash 命名，然后替换页面中的静态资源路径", "(自动回了， 接上)清的是本地浏览器缓存， 正规点的 CDN 服务应该有 purge 的 API 吧", "输入链接提交的时候  把请求抓下来  然后自己模拟这个请求", "我觉得你的解决思路有问题  ", "你的意思是，前面的 CDN 缓存了后端渲染的 html ？  ", "这样的话我感觉真的思路有问题  ", "页面 html 缓存的实现，按照我的理解，应该在后端进行而不是交给前面的 cdn ，不然肯定一堆麻烦  ", "当页面发生更新之后，通知在后端的缓存逻辑清除缓存，当有新的请求时载入页面至缓存，这样或许比较好吧  ", "  ", "我也是新萌，如果哪里说的有问题希望其他大牛不吝赐教", "缓存资源名中包含 hash （不能是链接后缀形式，必须是文件名中），改了 hash 自己就刷新了。", "CDN 一般会忽略请求头的 no-cache\r", "正确方法是改变 arg", "我觉得楼主的意思是他把静态页存到了 cdn ，然后更新内容了。需要刷新 cdn 的缓存…", "\"一个是登录他们的后台，输入链接提交刷新；一个是在浏览器中打开页面，然后按 CTRL + F5 来刷新缓存\" 这两个不一样啊……前面那个确实刷新了（延后生效），后面那个……就啥也没干。", " 实际上这个 cdn 支持 ctrl +f5 来刷新 cdn 服务器上的缓存", " 13 楼正解，顺便给出文档： ", "我以前的解决办法是，加截取后三位的时间戳， math.round(timestamp/1000)*1000", "你也可以这么做（丧心病狂一点），以野狗为例，每个文章页面都发起一个 websocket 到野狗惟一对应的文档。你在后台更新文档后，用 php sdk 向野狗的该文档发送一个时间戳。然后所有前台浏览中的页面会收到这个 ws 消息，然后用 HTML5 API 刷新带时间戳的页面就可以。因为你有新的时间戳了， CDN 也默认回源。\r", "当其他用户打开这个页面的时候，发现时间戳和最新版本是匹配的，就不用再刷新了。", "这个问题更像是管理缓存机制的策略。\r", "最优策略肯定是利用 CDN 自带的刷新缓存服务去通知各地 CDN 缓存服务器刷新，这才是百分百有效的刷新缓存页面机制。\r", "联系 CDN 服务商，要求开有鉴权主动刷新缓存的 API ，避免验证码这种诡异的请求数量限制。\r", "如果 CDN 节点不支持主动刷新缓存，最好是改缓存策略，只用 CDN 缓存带 hash 标注的静态文件和几乎不会再修改的 HTML 页面。需要更新的 HTML 界面的请求带宽由服务器来抗。只传输 HTML 界面的代码带宽消耗已经很小了，可以通过多开服务器分摊流量负载。至于页面数据解析和请求数据库的负载，可以考虑用 Redis 按 URL 整体打包缓存。\r", "\r", "在后台模拟强制刷新网页的请求属于歪门邪道，那样顶天了只能刷新服务器所在地区的缓存。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"image\" src=\"http://ogoaycri6.bkt.clouddn.com/QQ%E5%9B%BE%E7%89%8720170228155015.png\"></p>\n<p><strong>感觉费用有点贵，想找一个靠谱小伙伴，爱学习的小伙伴一起分担，两个人也最好管理!真心求！！！</strong></p>\n<blockquote>\n<p>骗子 all family go die!</p>\n</blockquote>\n</div></div>"], "reply": "17", "tittle": "想购买 laracasts 终身会员，求一位靠谱小伙伴", "comment": ["这玩意是干啥用的", " 学 web 开发的，主要框架是 PHP 的 laravel", "看文档应该够吧。", "这种本身是违反站规的事情，你这么公然就不太好了，况且 jelly bool 也在 V2  ", " ", "早干嘛去了，去年年底六折的时候就入了", "我还是洗洗就睡吧~~买终身的好贵~ 我本想撸一个月的~~然后放弃了 youtube 上视频一大堆", " laracasts 不是 laravist 。\r", " 去年感恩节 6 折，买了一年。做 laravel 这两个都值得买。你可以先买个 laravist 看看。", " 为什么违法站规呢？我觉得老外讲的挺好的，这又不是非法广告。", " 最年年底不知道， 6 折是针对终生会员么？", " #8 看错网站了，尴尬", " 感觉视频里干货比较多，文档涵盖的点很多，记不住，除非用到了，再回头翻", " youtube 上的确也有好多， Jeffrey way 讲的比较好，更新快，感觉权威一点。 1000 多挺好， 2400 我有点吃不消。哈哈", " 刚好年底黑五期间包年到期，他们推出终身会员 6 折， 210 刀入的。", "慕课网上面一些视频讲的都还可以，再结合文档看看，真心觉得没必要买课程，主要是本人觉得看视频太浪费时间。", "真心佩服楼主。 3 年后回头看自己，会觉得自己 nc 吧...", " 哇。黑五真好", " 呵呵"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>比如</p>\n<pre><code>$id = $name != '' ? $key : (is_numeric($key) ? $key : '');\n\n</code></pre>\n<p>歌词大意</p>\n<pre><code>如果 $name  != '' $id  等于 $key  否则\n如果 $key  是数字, $id  等于  $key,否则 $id  等于空\n</code></pre>\n</div></div>"], "reply": "37", "tittle": "PHP IF 简写怎么写多个条件", "comment": ["小括号是我瞎编的,我不知怎么连续写.", " 就是小括号   但是不是很推荐吧   读起来有点费劲 😆", "这种情况慎用三元运算符", "这种三目表达式 写那么复杂干嘛呢。。\r", "\r", "其实也就是 \r", "\r", "··\r", "  $id = $name != '' && is_numeric($key)  ? $key : '';\r", "\r", "就可以了。", "拖出去剁了", "你这么写你自己看的懂么？看你代码的其他人看的懂么？\r", "如果你想看着简介（简短，易懂），可以看看这段：\r", "$id = '';\r", "$name && is_numeric($key) && $id = $key; // 如果 name 不为空，并且 key 是数字，则 id=key", " 真相帝。", " \r", " \r", "我觉得外国佬都是这么写的.", " 666 我思路太死板了.", "如果是三元的话 可以 exp ? ret1 : exp2 ? ret2 : exp3 ? ret3 : exp4 ? ret4 : ret5 ; 这种一直续下去的，当然你的代码更适合上面大神们说的 && 和 || 来解决问题， 我建议如果不是简单三目的话 宁可多写几行代码也不要用三目偷懒，因为对可读性是相对比较差的", " 你写错了\r", "```\r", "$id = $name == '' && is_numeric($key) ? $key : '';\r", "```\r", "$name 要 == '' 才行.", " 不知道你遇到过，维护自己几年前的代码时候想抽自己。", " ...维护确实有点麻烦,但是我觉得照常写很 Low?", " 看目的：只是为了酷炫，爱怎么写怎么写；如果需要维护很多年，可读性是第一位的。\r", "\r", "想要代码漂漂亮亮，我个人倒建议可以试试其他某些语言，比如 Ruby 。", "  php 的三目不能这么些，你这么些不管前面是否为真都会一直执行到最后一个三目表达式", "这种情况我宁愿多写几个 if else ，看起来舒服些", " #13 \r", "敢这么写一次的员工我都开除了……\r", "仅供参考", " 那就加个括号 2333 一般不会写那么多 超过两层判断就直接上 if else 了", "三元一般够用，如果你有多个 if ，建议使用常规 if else", "这个可以的，这样写没有问题，能阅读。只是容易不小心写错。", "写多个条件就不是简写了", " 不是应该用 || ?", "你入错行了，来 Python ，人生苦短我用 python", " \r", " \r", " \r", "我的错,是我一时蒙蔽了自己的心智.以后再用打断自己手.", "这年头，为了装逼也是蛮拼的", "你见哪个外国人这么写赶快拉黑\r", "Ternary Operator 嵌套不符合 Best Practice 原则。他人很难看清楚逻辑结构\r", "在我们公司，写成这样绝对过不了代码审查\r", "写成一行也不代表跑起来就快", "老老实实 if else", "代码优先给人读，次之再给机器读", "代码可读性很重要", " wordpress 程序中有大量的简写...", "wordpress 出了名的烂代码，背了那么多年的历史包袱，你居然作参考。。", "论代码可读性的重要性\r", "a == b && c = d ，我同事总这样写，每次看到这样的代码脑子都要短路一下", " a==b && c = d? c=d 不是賦值嗎?", " 是赋值啊", " 这种简写中逻辑运算符我一律写成 and or  ，阅读的时候就很自然地和条件判断中的逻辑运算符分开对待了", " 这不是重点，重点是可读性差，逻辑判断应该和赋值分开。\r", "if (a == b) {\r", "    c = d;\r", "}\r", "一目了然", " ……联想英语中 or/and 用法"]},
{"content": "", "reply": "目前尚无回", "tittle": "哪位 v 友有莎莎源码的帐号，帮忙下载个源码，谢谢", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题，求方案</p>\n<p>PECL上有几个库，倒是。有做过类似需求的朋友吗，求个经验</p>\n</div></div>"], "reply": "6", "tittle": "求方案： PHP 读取 PDF 文件里的文本信息，或者用 PHP 操控把 PDF 的信息全导出来（不用考虑格式）", "comment": ["还有看到网上说有用 xpdf 转换什么的", "看到一个 pdfparser  有用过的朋友吗？   ", "PHPExcel", " PHPExcel 能读取 PDF ？", " #4 抱歉.看错了", "laravel 有个 pdf package 不记得叫什么了"]},
{"content": ["<div class=\"topic_content\">以稳定和高效率为目标，应该安装哪些软件形成开发环境？</div>"], "reply": "4", "tittle": "PHPER 的新电脑应该装哪些软件？", "comment": ["啥操作系统", "apache+sublime 足矣", " ,可以安装虚拟机，所以不考虑操作系统了", "Homestead+PhpStorm"]},
{"content": ["<div class=\"topic_content\">php 的 try catch 很多异常和错误根本兜不住，网上很少有说 php 如何优雅的处理各种异常 error 的方法，请有经验的前辈指点一下</div>"], "reply": "42", "tittle": "PHP 有没有什么办法能兜住异常别抛 404？", "comment": ["404 为啥要兜住。。。？不存在就是不存在啊。。。", "PHP7 有个新特性，只要 catch Exception 就能捕获所有异常", "活捉，站长-。-", " 你要是用用过 java ， C#这类语言就明白有异常处理在 IO 的时候能省多少事了", " 我靠，你这样一说，我突然发觉，我这可能不是异常，而是比异常更高级的东西，因为我用的就是 php7.0.14 ，我用了你说的 catch Exception 。反正就是读个 excel ，那个 excel 文件是有问题的。然后代码就完蛋了，根据日志的结果，到那行代码直接不往后执行了，就像那行代码变成了 die()一样", " 我仔细看了一下这个 sentry ，它好像不能抓住错误现场并立即处理啊？", "404 什么的不是可以在 nginx 那层解决么。。", "set_exception_handler\r", "set_error_handler\r", "register_shutdown_function", "大兄弟， catch Error 试试", "\"很多异常和错误根本兜不住\"\r", "比如那个异常或错误？\r", "兜不住怎么理解？\r", "\r", "“ PHP 有没有什么办法能兜住异常别抛 404 ”\r", "404 是指 http code 404 吗？ 这个一般都是 web server 抛的，还没到 php 处理。", " 我需要在出现错误后进行逻辑处理，在 nginx 那块处理 404 仅仅是对客户端友好，不能解决逻辑问题", "我个人见解是因为 PHP 的错误提示机制 和后面引入的异常 存在定位重复，所以 PHP 的异常机制一直比较不实用。参考#9 的做法，自定义一个全局的异常机制，可以比较优雅解决。\r", "但是呢，有些错误必须手动 throw 。不像其他语言自动去抓取。", " 请教如何 catch error", " 我描述不准确吧，应该是 php error 了， http server 就抛出 404 了，我是希望能把 php 的 error 都兜住，并且进行善后处理（避免下次到这继续 error ，因为有些 error 是用户故意上传某些文件造成的，要把这些垃圾删掉），别的语言很简单， try catch 就行了， php 就不行", "404 不应该是找不到的时候抛出的么 就算你 error handling 不对也是 500 吧", "php5 没法 catch error 只能通过 set_error_handler ， php7 可以，见 ", "404 有两种吧，一个是请求静态资源，那应该在 Nginx 处理；另一个是动态资源，那就 catch 到错误（或许应该算 500 ）", "自己写 router ，匹配不到转向 404 处理页面", "404 是异常或则错误么？\r", "\r", "难道不是个 header ？", "你说的是框架找不到路由时抛出的 404 ？", "搭车问一个问题，使用某个库，这个库出错了以后返回错误码，并且 echo 了一串错误信息。这个能捕获到吗，我不想把这个东西 echo 出去啊。", " php.ini 中有个 display_errors 指令，设置为 off 就可以不显示错误了，线上环境一般都会这样设置吧。", "404 再跳转首页", "if 单入口, 在 Php 里设置异常处理的勾子\r", "else 修改 php.ini", "404 不是 php 扔出去的吧，是 web 服务器", "自己设置 http 协议响应头就可以了呀, 想根据 业务 跑出具体的响应头 一般会在 php 层做的。", "有时候 php-fpm 进程会崩掉，出现过两次这种情况了。", "程序出错不是 5 开头吗？ 4 也算？是我学错了么", "等一下……一直懵逼 404 不是 webserver 抛出的么…", "就算 php 是抛出的也是 500 啊，老实说你是不是用的 thinkphp3.*    他家的框架全局抛出异常直接给 404 状态码。。。之前坑我一次。", "可以自定义异常类， response 之前直接捕获进行处理", "何不考虑把 404 页面做得漂亮一点？", " 我没写过 php ，但不管 C# Java Golang Nodejs 不管任何写 Web 的语言， 404 就是 404 not found ，你可以做个漂亮的 404 页面，你可以 404 之后再做跳转，但是绝不是把它“兜住”隐藏起来\r", "\r", "况且什么样的“异常”会导致 404 我也是很好奇", "catch Error", " 你说对了，就是 TP3.x", " 我跪了，太奇怪了，我本来就是 PHP7.0.10 ，无论是 catch error 还是 set_error_handler 我都试过了，这个 php_reader 读取错误 xls 格式引发的错误，还是抓不住，这难道既不是 expection ，也不是 error 吗，这到底是什么东西啊", " 有示例吗", " 谢谢各位为了回答了这么多，今天研究了半天，终于发现自己其实是被框架坑了，并不是抓不住异常，而是在这个框架里，所有的类都必须基于命名空间所对应的路径来调用， PHP 的 Exception 是基类，所以必须写成\r", "catch (\\Exception $e)；写成 catch (Exception $e)，这个框架就认为不存在这个类，但是它不报错，直接把异常甩到上层去了。。。我在这卡了两天。直到刚才左想右想不对于是用原生代码来试才发现这个坑", "```\r", "register_shutdown_function();\r", "error_get_last();\r", "\r", "\r", "set_error_handler();\r", "```", " 不是不报错，是 tp3.x 直接把全局捕获的异常写了 404header 。然后你的 nginx 设置接管 404 页面。所以你没看到错误信息。这个真的是坑爹，上次我以为我们线上网站被人删除了。。。 真的坑"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>1.业务需求是要让客户端永远不登录,每次请求当 token 的时间到了之后，就自动刷新并返回给客户端,查了老半天,发现这个中间件的机制,<a href=\"https://github.com/tymondesigns/jwtauth/blob/master/src/Middleware/RefreshToken.php#L30\" rel=\"nofollow\">refreshToken</a>,一直出现 token 无效,看了一下 issues 也没得到合适的解决方案,希望能得到一些帮助.</p>\n</div></div>"], "reply": "2", "tittle": "在做 laravel+dingo 做接口时,jwt.refresh 无法成功的执行问题？", "comment": ["这个中间件就是重新生成了一个 token 但是也有过期时间 超过时间就不能刷新了 我记得是这样", "基本上已经解决了。\r"]},
{"content": ["<div class=\"topic_content\">最近要做招聘面试，因为面试安排的时间不是很长，想知道问些什么问题最能看出一个 PHPer 的水平？</div>"], "reply": "35", "tittle": "面试问什么问题比较容易看出一个 PHPer 的水平", "comment": ["求公司招聘链接", "什么水平", "怎么调试代码，怎么排查程序性能问题", "老问题了。\r", "问 get 和 post 的区别。。。", "有个很经典的问题：从浏览器里面鼠标点下去，到一个新的页面呈现出来，当中发生了哪些事？\r", "\r", "这个问题可详可略，可以 interactive 也可以让对方一说到底。很容易听出对方对于整个 web stack 熟悉的侧重点，也可以听出他对问题的理解深度。", "不写代码谈水平都是耍流氓\r", "\r", "我招聘的时候 很多简历牛逼\r", "结果一个循环逻辑 都写不出来\r", "\r", "好多培训班出来的 都没经验开口就要求 5k\r", "就算招了 亲自带  干 3 个月 认为自己能干活了 跳槽跑路了\r", "差不多给就算花钱给大厂培训了", "给台没有任何 php 框架的电脑，不让上网查资料，写个增删查改的功能。", "问数据库和队列还有运维（监控、部署）方面的东西比较容易知道是什么 Level 的。", "从浏览器请求到最终数据库拿数据库的整个的流程，估计就能倒一批。。。基本增删改也就那样", "什么是最好的语言\r", "\r", "上面是灌水的\r", "\r", "问他对 thinkphp 什么看法，这个就能筛掉一大片不知所以然的了\r", "\r", " 这过分了。。难道还要把 pdo 的语法全背下来", " \r", "\r", "《从在浏览器中输入网址到页面载入完成：一个不为人知的神秘故事》\r", "第 0 章\r", "--- 第 0 节、一场较量：电磁力是什么以及为什么我们能够触摸东西", " 第 1 节、触发器如何表示成了 bit    哈哈哈，开玩笑啦", "我又来啦\r", "\r", "\r", "**1.考察 http 例如常见 http 状态码的区别**\r", "1.2xx 3xx 4xx 5xx 分别是什么意思? \r", "2.http/https 的区别\r", "\r", "\r", "**PHP 方面**\r", "1.什么是 php? 鸟哥知道是谁不? 当前 php 最快的版本是多少? \r", "2.正则表达式\r", "3.自动加载机制是如何实现的,你觉得可以如何优化\r", "4.如何对比 2 个数组是否完全相等?\r", "5.array_map 和 foreach 的区别\r", "6.如何用 catch 捕获 php 中的错误\r", "7.laravel 的依赖注入是如何实现的\r", "8.如何实现注释解析?\r", "9.影响 php 性能的主要原因?\r", "10.cookie 和 session 的区别,如何自己实现一个 session?\r", "11.你一般使用哪几种 PHP 规范?\r", "12.php 的 gc 垃圾回收机制的优缺点?\r", "13.如何接收外部变量($_EVN SESSION COOKIE $_REQUEST)\r", "14.php-cli 和 php-cgi 的区别?\r", "15.如何防止 sql 注入?\r", "16.说出几个常用的魔术方法\r", "17.php 的 Curl 是如何实现的\r", "18.不用 mb_*  如何正确截断汉字\r", "19.如何将数组转换成对象\r", "20.字符串函数 xxx\r", "21.数组函数 xxx\r", "22.$computer(100)('x')(100)  简易计算器功能\r", "23.$_SERVICE 从何而来\r", "24.前端发送的 base64 php 如何接收?\r", "25.php 匿名函数变量如何传递？以及如何更改其作用域\r", "26.php 在使用 nginx 或 apache 的时候有什么不同的地方?\r", "\r", "**框架方面**\r", "1.Laravel 的 Facades 门面模式如何实现的\r", "2.Laravel 的路由如何实现的?如何是你自己感觉应该怎么写?\r", "3.Laravel 中的 ORM 中有哪几种设计模式\r", "5.聊聊后期静态绑定的使用场景\r", "7.什么时候用静态关键字修饰? 什么时候不该用?\r", "8.Event 是如何实现的?\r", "9.如何要你实现一个兼容多个数据库的 ORM 如何实现?\r", "\r", "\r", "**前端**\r", "0.浏览器页面是如何渲染的\r", "1.如何优化页面加载速度\r", "2.ajax 中为啥无法更改外部变量？\r", "3.事件冒泡和阻止传递\r", "5.css 优先级问题?\r", "6.异步加载的内容为啥无法绑定事件?\r", "7.如何跨域?cors 和 jsonp 倾向哪个?\r", "8.position 相关\r", "9.如何判断变量类型\r", "10.异步头像上传伪代码\r", "11.作用域巴拉巴拉\r", "\r", "\r", "**服务器**\r", "\r", "巴拉巴拉 @#$%^&\r", "\r", "\r", "\r", "**设计模式**\r", "\r", "\r", "巴拉巴拉 @#$%^&", "我个人经验也不是很多，不过想了一下，我会出如下问题：\r", "\r", "1. 什么是 composer, composer install 和 composer update 的区别\r", "2. 什么是 psr, psr-4 和 psr-0 的区别\r", "3. static 关键字可以用在什么地方，分别是什么含义\r", "4. 讲出一到两个 php7 与 php5 的区别\r", "5. 传实参跟传引用的区别\r", "\r", "\r", "题目都很『浅』，不需要说太多废话。", "对了 楼主是什么公司  ？", "     请教一下 $_SERVICE 是怎么来的？", " ...被你发现了", " 其实这是个钓鱼题目 😂", " 好吧，原来还有这么多套路啊", "myisam innodb 什么区别\r", "Apache nginx 什么区别\r", "php 执行流程是什么\r", "常用设计模式是什么\r", "工作中遇到 php 最坑的一次是什么\r", "mysql 优化手段有哪些\r", "性能优化有哪些\r", "php7 相比 5 有哪些优化\r", "redis 怎么用的\r", "trait 怎么理解", " 小公司，不提也罢。\r", "\r", " 我也不清楚，人事找的，我只负责面试。一上午约了六七个人，感觉都面试不过来了。但还是想认真筛选一下。所以问问大家", " 请问这个是什么薪水级别的", " 中级", " 感觉不好定级别啊 我感觉 3 年的至少得懂这些才行", "快速鉴定一个程序员靠不靠谱的方法： ", "\r", "\r", "一般来说十几分钟就能把这五个问题都覆盖到了，最长也不会超过半小时", " 面不过来搞个笔试，筛一下。", "最近也要找 PHP 的工作, 正好看到这帖子, 先学习一波", "可以出个笔试题 [PS ：网上百度] ", "一般写有 3 年经验的人~就直接给情景题，让他给出数据库，服务器设计思想，基本上够不够 3 年就能看出来水平了", " 上海行情真好......", "1.说说你对 session 和 cookies 的理解，尽可能把你所知道的全部说出来。\r", "\r", "2.说说你对 get 和 post 的理解，尽可能把你所知道的全部说出来。\r", "\r", "3.说说你对 PHP 命名空间的理解？\r", "\r", "4.从用户在浏览器输入一个网址：比如 ", " ，按下 enter ，到用户最终看到相对应的网页（ laravist 首页），尽可能描述此过程发生了什么事情。\r", "\r", "5.依赖注入你怎么理解？它有什么优缺点？\r", "\r", "6.你赞同面向接口编程么？同意的话，说出理由，不同意的话，也说出原因。\r", "\r", "7.你的 GitHub 地址是哪个？没有 GitHub 的账号的话，可否粘贴两小段你觉得你写得最优雅的代码？ \r", "\r", "8.谈谈你当初进入编程这一领域的契机或者是决定？还能描述一下当时的心情么？\r", "\r", "9.在写代码的这一段时间，说三个有关代码的并且让你记忆特别深刻的事（小插曲也可以）。", "难道就只有我会问『如何写一个支持亿级请求的留言本』么", " 我想问什么样的简历算牛逼。。。本帖问题基本都能解答出来，但是好像简历直接就被刷了", "github 上很多星，还要被问这些题目吗？", "说到 PHP 面试这个问题，我要帖下这个帖\r", "PHP 常见面试题及答案 "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>当初的承诺与期待现在看起来特别讽刺</p>\n</div></div>", "<div class=\"topic_content\">此贴核心不在 composer 翻墙方法，而是想反映镜像站倒闭的现象</div>"], "reply": "38", "tittle": "回过头来看，国内的 composer 镜像全倒了", "comment": ["一直是 SET HTTP_PROXY=http://127.0.0.1:1080", "  这个还可以吧", " #3 你看看更新时间", " #2 现在 git 也学会 -c HTTP_PROXY=http://127.0.0.1:1080", "这个问题其实应该换成 为什么 composer 还不支持 proxy 参数, ssh 有 , git 有, curl 都有, 为什么 composer 不可以有!!", " #9 因为这帖子的主题不在于 composer 的翻墙问题，而是想反映镜像站站长不能坚持维护的现象", " 想办法尽量减少中间环节, 因为每一个环节都会影响成功率", "最后还是自己搞一个自用靠谱，毕竟维护镜像站靠是不一时的热情", " #12 相信这么多镜像站关闭的原因就是没有那么多精力，自己也同理", "比较巧的事情是 ThinkPHP5.0.7 发布当天 composer 就死活更新不了 一直以为包有问题了 一周后来看 ", " 的更新时间才明白了 立马换了其它国内镜像", "毕竟成本摆在那，存储和国内国际带宽都不是小数字，更别说这么多包的缓存策略优化了。", "流量贵啊", " #14 还有其他国内镜像？\r", "\r", " #15 拿 phpcomposer 来说，它有两个赞助商， UCloud 云计算 和 UPYUN ， 然并卵", " #16 有赞助的也是这样。", " 有需求就有动力", " #19 但现实就摆在眼前，都倒闭了  ", " ", "不知道 有没有 composer 镜像 列表 /导航 这样的东西", "倒是有闲置的带宽和机器资源，这几天抽个空自己搞个镜像来共享好了，看了下 Toran Proxy 的 Support 版本也不贵。\r", "不过说实话也担心能不能坚持下来，对磁盘、带宽都是不小考验啊。\r", "如果看 phpcomposer 很久之前说的每天 10G 流量，倒是轻松无压力，要是超过 100M 带宽的承受极限，就扛不住了。\r", "要是前级上 CDN 的话，每个月费用感觉会爆炸（不过看每个月），不上 CDN 倒是无所谓。\r", "姑且先做做看吧，电信直接走自己机器，其他的途径就通过 CDN 分担好了=。=", "\r", "先用这个吧，魔改了下 toran 先占个位吧，用了自己的暂时闲置的服务器资源外加 upyun 做 CDN 。\r", "不过刚开始应该会比较慢，还有一大堆东西需要被缓存下来。", "composer config -g repo.packagist composer ", "\r", "用上面的命令可以替换 repo ，不给过分的承诺，至少撑到不干这行之前吧😀\r", "不过连接 packagist 源服务不是特别快，后面考虑用香港阿里云做一下反代去取 packagist 源站数据吧。", " 谢谢！！！", "没时间打理是一方面，更多的应该是成本问题吧，毕竟镜像也没有什么利润，而且宽带 存储费用也不小，不是谁都能够支撑的下来的", "我几乎没用过国内镜像。翻墙可以解决的问题，总比依赖国内的好。尽管国内的速度快，但一般国内提供的镜像（从稳定性来看），除非是大公司级别提供支持，否则出问题是早晚的。", "Python PIP 国内几个镜像倒是挺稳定的", "～～ 毕竟局域网", "自己关闭的具体原因是 ... 不写 PHP 了，没有太多精力来管理了 :-(\r", "带宽和机器成本其实没多少", " #26 冒昧问下，你是哪个国内源的作者？", " toran.reimu.io 挂很久了 ...", " 1 楼已经给出 proxy 的方法了。。。  ", "这种还是大公司来干比较好，比如各大互联网公司的 linux 镜像，阿里的 ruby 、 cnpm", "这货不是 upyun 和 ucloud 赞助的服务器吗 为什么不维护了？", "呼吁鸟哥的链家网搞下吧", "  最后同步时间： 2017/2/24 上午 5:47:39 。", " 为什么既然有了 1 楼的方法, git 或者 ssh 或者 curl 也给出了自己支持 proxy 的方法呢", " composer 是 php fig 那帮人搞的吧，鸟哥他们是写 php zend 引擎的，和玩框架的不是一路人，我谨慎估计鸟哥 lerdorf 还有 zend 那哥俩估计都没听说过 composer 这个玩意", " 国内还有其它镜像 ThinkPHP 目前推荐的是 ", " 感谢", "    phpcomposer 已经恢复  撒花"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>看 v2 上说 <a href=\"http://phpcomposer.com\" rel=\"nofollow\">phpcomposer.com</a> 的 composer 镜像挂掉了，自己之前也是一直用这家提供的镜像，还是挺感激的。</p>\n<p>不过感激归感激，挂了的话，还是需要自己动手丰衣足食。</p>\n<p>目前是一台电信服务器外加 upyun 分担其他运营商流量，感觉后面应该要加上香港阿里云做中转，要不然取东西速度还是不太喜人，先用着吧，不给自己瞎立 Flag 说撑到啥时候吧，尽量坚持下去吧，镜像这东西怎么说呢，好好用的时候大家都注意不到存在，挂的时候还是免不了一堆怨言，希望有一天（希望不会到来）真挂了的时候，还有另外的兄弟出来顶上（不过至少转行之前是不会挂的，短期内大概实现不了 23333 ）。</p>\n<p>使用姿势如下：</p>\n<p><code>composer config -g repo.packagist composer <a href=\"https://p.staticq.com\" rel=\"nofollow\">https://p.staticq.com</a></code></p>\n<p>有任何问题请发我邮件 id + <a href=\"http://gmail.com\" rel=\"nofollow\">gmail.com</a></p>\n</div></div>", "<div class=\"topic_content\">这两天速度不太对劲，做了一个改进，直接把国内的服务器改成反向代理+缓存的形式。\r<br>然后具体的服务全部丢香港阿里云去跑，这回速度应该没问题了。</div>"], "reply": "27", "tittle": "折腾了一个 Composer 国内镜像", "comment": ["那么，我也只好 1024 了😄", "附言：我并不用 PHP ，以后可能要用", "感谢分享。", "还是要发邮件请一些高校开个镜像比较好，毕竟高校的带宽足", "能分享一下做镜像的原理就更好了", " ", "支持", "赞", "  运行几天帮忙看一下 空间占用 有多大.. 如果不大 我也准备自己弄一个", "laravel-china 社区好像也在跟进这个问题，估计也弄一个", "嗯,为了以防万一!我假装的收藏了一下!", "其实我觉得还是某些做镜像的高校来做这些比较合适...", " \r", " \r", " \r", " \r", " \r", " \r", " \r", " \r", " \r", " \r", "\r", "hello everybody\r", "\r", "\r", "\r", "\r", "是我搞的，目前上线了 前端静态资源库的 CDN\r", "一直在计划后续做 pypi 、 composer 、 rubygems\r", "\r", "so~ 如果这种需求急迫，如果愿意的话，能详细告诉我一下 composer 全量镜像 的方法吗？省着我消耗更多时间和精力。\r", "\r", "***\r", "\r", "gmail\r", "\r", "aGVsYW50YW9AZ21haWwuY29t\r", "\r", "***\r", "\r", "google voice\r", "\r", "KDYwMSkgNjUxLTA4ODg=\r", "\r", "***\r", "\r", "所有资源我来提供\r", "\r", "ps: DNSPod 给赞助了 29800 元 /年的 企业旗舰版 VIP-DNS", "顺便去 tuna 请求一下镜像？", "  toran 是个人用的吧", " 楼主就是用的 toran proxy,  Free for personal use", " #13 用的 Toran ，稍微改造下就可以了，不过要求你服务器上有 PHP 环境", "未来党", " ok ，抽空我研究一下！顶上！", "感谢分享", "楼主可否写篇博客讲下安装过程  不知道什么情况 我这边安装官方帮助  安装完成总是提示 502 (PHP 7.1 NGINX1.10)", "感动", "感动+1", " 我不太懂做镜像的原理，你发的 ", " pod 的镜像，供我们公司内部局域网内使用，我该咋办呢？我是小白一个。", " #21 \r", "\r", "php 开启报错然后看下具体的错误？\r", "按 ", " 的方式一步步来了么，确定创建了 app/config/parameters.yml 并正确配置了么？\r", "\r", "\r", "\r", " #24 \r", "\r", "这里有下载，下载完之后按下面的 Initial install 一步步配置就好了，如果想简化地址，只提供 packagist 的代理服务的话，进 src 里面把程序自带的 route 和 ProxyController 稍微改改就行了。", "昨天跑下来发现国内直接取速度真的不太行，感觉直接反代墙外机器好了，这回速度大概有保障了", " 是的  都是按照官网来的  也许是 nginx 配置不对吧  始终找不出毛病  现在直接是 nginx 反代整个网站 （美国洛杉矶 cn2 ）  速度还可以。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>select * from a,(select b,count(1) from c) as d\nwhere a.b=d.b\n</code></pre>\n<p>像这样的 Sql 语句如何用查询构建器？</p>\n</div></div>"], "reply": "5", "tittle": "laravel 复杂 sql 语句用查询构建器编写？", "comment": ["laravel 查询结构器　 ", "我上次也是多重查询 sql, laravel 自带的查询结构器实现不了, 最后干脆写原生的, 楼下有解决办法的 @我一下谢谢", "laravel 支持 join", " 有个 DB::raw() 可以试下", " \r", " \r", "好像都实现不了像楼主这样的 sql 语句"]},
{"content": ["<div class=\"topic_content\">Apache 中规则如下：\r<br>\r<br>     RewriteEngine On \r<br>      RewriteCond %{REQUEST_FILENAME} !-d\r<br>      RewriteCond %{REQUEST_FILENAME} !-f\r<br>      RewriteRule (.*)$ index.php/$1 [L]\r<br>  \r<br>  \r<br> 那么放到 Cherokee 中规则该怎么写，直接在后台 Web 页面添加还是改配置文件？</div>"], "reply": "1", "tittle": "如何将 Apache 的伪静态规则移植到 Cherokee web server？", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>本来想用 ucenter 的，但是两个网站异地，效率可能不行，就想到 oauth2.0 ，而且还更加灵活。</p>\n</div></div>"], "reply": "4", "tittle": "我想给我自己的网站 A 加一个 oauth2.0 之类的功能，让用户再另一个站 B 能用 A 的账号密码登录，有什么解决方案吗？", "comment": ["1 在 B 站 跳转到 A 站去登录, A 站用密码用户名登录成功之后跳转回 B 站, 同时带着一个 token \r", "2 B 站根据这个 token 去问 A 站 当前用户是哪个, A 站会告诉你 token 代表的用户 userid username 之类\r", "3 B 站通过这个 userid 去 实现自己的登录逻辑", "如果搞懂了 OAuth 的原理，那么可以自己写个简化版的。", "jwt 最方便", "一楼把原理大概讲清楚了，几年前我在 GAE 上简单实现过，可供参考：\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有这样的流量按道理这些应该都懂</p>\n<p>事实是我一直在用阿里云美国节点的服务器，当前配置为 2G 2 核 带宽峰值 20M ，应该是足够了</p>\n<p>WINDOWS 2008 ， IIS7+MYSQL,从数据库读取次数较多和 sql 查询较多，写入次数较少（很少），</p>\n<p>平常 CPU 使用在 30%-40%，可是我用多款测速工具全球范围测试速度均发现有一些瑕疵</p>\n<p>打开速度和美国本土网站有明显差别。所以我现在想换到微软云或者亚马逊云。</p>\n<p>请问需要什么样的配置？</p>\n</div></div>"], "reply": "63", "tittle": "网站日 IP 12000， pv 35000，全球访客，美国偏多，该使用什么样配置的服务器？", "comment": ["linode 随便一个 vps 都可以", "一天 PV35000 竟然需要 20M 带宽这么多！", "  按流量计算的，只是设置一个峰值， 20M 是峰值", " linode 不是都是 linux 系统吗", "   linode 是不错，但是 linux 不会用......这个这个站数据估计有 2g 内容，迁移也不好迁移.....", " 是的  linode 全部是 linux ，想找一款 windows ，微软云和亚马逊云有推荐的配置吗", "linode 512 M 的都可以", "这不是该上 cdn 吗？\r", "\r", "慢的应该是连接速度吧？", "阿里云不变。\r", "\r", "\r", "然后 Cloudflare 免费版 就可以镇压你一切需求了，要是还虚就买 20 刀的 Cloudflare 。\r", "\r", "\r", "反正把还 AWS 和 Azure 的钱砸到 Cloudflare 就对了", "vultr 有 2012 ，最低 36 刀一个月", "都懂什么？是懂怎么选服务器还是懂你做的是大姐姐站？", "  上了 cloudflare 的 cdn ，但是是免费的，我测试同样使用该 cdn 的其他网站，速度也比这个快不少", "外面的 cdn 好像没有很贵", " 大姐姐站是什么？", " 我估计都是大姐姐", "要分清是服务器速度还是网速的原因", "很好奇大姐姐站", "上台独服啥问题都解决 阿里云超售到编译个 gcc 死机", "linode windows 2008 ， cp.ivpser.com/buylinode 支持自动安装", " 大哥你语文堪忧", "放个网址大家帮你诊断", "什么是大姐姐站？这种算吗？\r", "\r", " Linode 可以装 Windows", " #22 里面真的有好多大姐姐，嘎嘎嘎……", " \r", "\r", " \r", "\r", " \r", "\r", "虽然不知道说的大姐姐站是什么，但是显然不是违法甚至擦边球的，纯正规的站哈，不然也不可能能用阿里云\r", "\r", "之前用 cloudflare 的免费版，测速较其他网站慢许多，通过谷歌分析和国外多款测速工具查询都有瑕疵，加载时间过长\r", "\r", "有一部分是因为放了分享代码和 adsense 广告代码，我曾测试过去掉分享代码和谷歌广告代码，速度立马飙升，这里证明阿里云没啥问题\r", "\r", "我对阿里云不放心的原因在于通过全球几十个节点 ping 这个站，看到一些节点极慢，甚至超过 10 秒，这我觉得可能就是阿里云的原因了\r", "\r", "综上：现在添加了 cloudflare 20 刀每个月的 plan ，连接速度飙升，网页全部加载速度从 25 秒变成 5 秒， ping 我等会测试看看", "老哥发站看看哈", "  请问你还有什么办法分析是连接的速度和服务器速度吗", " \r", "\r", "去掉 adsense 速度立马飙升，那是因为 adsense 在大陆的访问速度不行，说明只是在你这里访问慢，可能美国的用户访问的时候速度杠杠的呢\r", "\r", "优化的方式有太多，但看到你说 Windows 迁移到 Linux 都不愿意，那也没啥好说的了，先找个在美国的用户帮你测一下实际访问速度吧", "IP 12000 ， pv 才 35000 ？这 PV 比也太低了", "  你可能没看清楚，测速工具都是用国外的测速网站测的，有些还是付费测试的，他们都是全球各个节点测试，我提交我的站和别人的站，发现别人的站比我快很多，并不是说我在大陆测试就得出这样的结论，所以我才诧异于问题到底出在哪\r", "\r", "我不熟悉 linux ，怎么搭建都不知道，迁移一旦出问题，我没信心马上恢复，对网站有伤害", " 站点性质不一样，这算很正常的", " 果然威力彪悍，到处都秒开，连 adsense 广告代码和分享代码都不带转圈圈连接的", "米国廉价 vps 不是挺多的么", "一万多 IP ，不错", "提醒一点就是你 windows 不像是 linux 对带宽还是有要求的. 因为涉及到自己操作的问题 如果一直丢包或者延迟太高的话你部署和维护也是非常麻烦的. 不用一味的追求低 ping 值这没什么卵用.", " 要是 yellow 网站 PV 就大了！", " 你这样发车，我的鼻血控不住啊。", " #37 没事多看看，习惯就好了……", "我 ip 25000 pv40000\r", "do 5 刀加 cloudfare 免费版跑得顺风顺水\r", "用的是 Django,套上 memcached,静态全走 cdn ，美国、德国、日本、台湾网页基本秒开\r", "感谢 cloudfare", "我记得我手里维护的一个论坛， IP 5w ，每天动态请求数要上百万了，不知道这个 PV 是怎么算的。", "换 Linux 吧。", " 能发一下你的网站吗？", "单机总计 3wip hinet 最低配", "你有搭配 CDN 么？类似 akamai / aws cloud front 全球服务的 CDN 服务。\r", "\r", "没有的话，各地不同地点访问速度较大差异很正常。", " #40 有这样的流量按道理这些应该都懂 ", "  pv 应该是浏览量", "1w2ip adsense 收入多少？ 3000 人民币 /月？", " 不到 3000 刀", "   pv 我们通常指 page views", " 之前是 cloudflare 的免费 cdn ，今天升级为每月 20 刀的付费 cdn ，有明显变化", " #48 PV(page view)，即页面浏览量，或点击量；用户每 1 次对网站中的每个网页访问均被记录 1 次。用户对同一页面的多次访问，访问量累计。 ----zhihu\r", "\r", "wikipidea ：单页点阅率（ Page View ），简称 PV ，是全球资讯网数据连接数的单位，网页自服务器呼叫后，被读者浏览的次数。\r", "说浏览量应该没错吧", "请发网址", " 对 就是所有用户浏览量", "这点量，我用我白菜价的搬瓦工都搞得定", "PV 只有 IP 的一倍左右，应该都是来了就走的网站。", "cloudflare 不行，对访问速度影响很大，在 google webmaster 中很明显，裸奔反应 60ms ，用 cloudflare 套套，反应 400ms ，我马上把 cloudflare 删了，", "内容站还是工具站？", " 访问人数使用桌面多，还是手机多？", " 我来收集大姐姐网站的。", "不知道是什么样的子的网站，静态多还是动态多，以前有一万 IP 的，其实配置不用太高就可以搞定了", "之前维护的一个论坛， 5 万 IP ， 40 万 PV ，请求数已经是千万级别了（包括静态请求），腾讯云，配置清单如下\r", "2 核 2G 主机\r", "MySQL 数据库， 1G 内存 1000QPS\r", "Redis 1G\r", "整站再套一层百度云加速，流量成本立马就降下来了\r", "\r", "百度云加速不按流量计费，简直良心", "1 核 2g 外加 2m 带宽， cdn 加速妥妥的", "不想迁移的话就上 CDN 。", " 这个是 money site 不方便放出来"]},
{"content": ["<div class=\"topic_content\">这句话是我老板说的。\r<br>各位觉得我老板对么？\r<br>那么问题来了，读几遍手册才能成为高手？</div>"], "reply": "4", "tittle": "一个没有熟读过手册的 PHPER 不可能是高手", "comment": ["用在别的语言的话我可能会反驳，但是 php 的话我承认了， php 的手册太强了", " ， pyrhon 也应如此", "你要是想专精 PHP 的话，背 PHP 手册是最快的道路，问题是我可没兴趣只静 PHP 一门，所以还是啥都会， php 手册看一遍，知道问题去哪里查就行了，我会说我大部分 php 函数都要查手册才会写吗？", "没错。你老板说得对。\r", "来来来，大家一起来温习下 PHP 基础语法。\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://github.com/garveen/imagist\" rel=\"nofollow\">https://github.com/garveen/imagist</a></p>\n<p>克隆即可使用，需要与 crontab 或者计划任务协作以同步数据。</p>\n<p>建议第一次先 dumpall ，以后就可比较容易地维持镜像为最新。</p>\n<p>整个镜像大小为 1.7G ，随着时间推移可能会变大，本人估计一年内不会超过 5G 。</p>\n<p>已提供一个新加坡低速镜像以供展示。</p>\n<p>composer config [--global] repo.packagist composer <a href=\"https://imagist.garveen.net\" rel=\"nofollow\">https://imagist.garveen.net</a></p>\n</div></div>"], "reply": "3", "tittle": "Composer Packagist 镜像搭建工具", "comment": [" 又活了", " 这个服务中断过吗", " 三天两头停止更新"]},
{"content": ["<div class=\"topic_content\">关于这个提示我有好几个疑问，既然连接不上服务器，那么这个提示必然不是 mysql 服务器返回的，跟本地 mysql 也没关系，只可能是 php 的 mysql 模块，或者通过操作系统 windows 返回的，而我在网上搜了这句话，和 php ， mysql 关系都不大，应该是 windows 系统返回的，但是为什么这句话是 gbk 编码呢？</div>"], "reply": "2", "tittle": "请教关于 PHP 连接 mysql 错误提示“由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。\"", "comment": ["mysql client", "66"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>之前有 V 友说 phpcomposer 挂掉了。。然后我去看了下真的挂掉了。。</p>\n<p>写了封邮件问了下站长</p>\n<p>停掉的那段时间他们在升级服务器了</p>\n<p>详情：</p>\n<p><a href=\"http://www.phpcomposer.com/what-has-chaged-over-the-last-two-weeks/\" rel=\"nofollow\">http://www.phpcomposer.com/what-has-chaged-over-the-last-two-weeks/</a></p>\n</div></div>"], "reply": "5", "tittle": "phpcomposer 复活了", "comment": ["赞一个，微信赞赏了 5 块", "changed ？", "这货实在太慢了，，，", "还是直连比较爽", " 测了下，比原来还慢了。。。\r", "\r", "\r", " 放弃了。现在直接挂 ss 。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>即使在处理海量数据时，内存占用也不会太多</p>\n<p>下载地址：\n<a href=\"https://github.com/chopins/toknot/blob/master/vendor/toknot/Toknot/Share/SimpleXlsx.php\" rel=\"nofollow\">https://github.com/chopins/toknot/blob/master/vendor/toknot/Toknot/Share/SimpleXlsx.php</a></p>\n<p>注意：</p>\n<ol>\n<li>生成 xlsx 文档，需要 php 安装有 zip 扩展</li>\n<li>代码需要简单修改即可使用</li>\n<li>处理 10 万条数据、每条 100 列数字的时间是 real ： 1m8.926s ， user ： 1m8.358s ， sys:0m0.465s ，内存可以忽略</li>\n</ol>\n</div></div>"], "reply": "2", "tittle": "分享一个简单生成 Excel2007 xlsx 文档的 PHP 类，主要解决了内存占用问题", "comment": ["原理是啥，这个比那几个大的扩展改进在啥地方呢？", " 主要改进就是：在创建表格时，不管有多少数据，占用内存都十分少。\r", "我写这个主要是方便做数据导出操作，而且不用担心内存不够用."]},
{"content": ["<div class=\"topic_content\">网站有调用一些发送邮件 API 的，之前一直是 OK 的，本地测试都 OK ，但是最近升级了服务器，到最新的 PHP7.1 ，速度飞起来，但是调用 API 总是出错，最后发现是因为线上服务器太快了，请求太频繁导致错误。给设定一些 sleep 就好了。</div>"], "reply": "4", "tittle": "调用其他 API 注意访问频率", "comment": ["你这该上消息中间件做队列吧？", "楼上说的对 应该用消费队列来处理，如果请求设定 sleep 会导致请求堆积", " \r", " 是个定时运行脚本，处理批量数据， sleep 一些时间无大碍。即使用消息队列，估计也要做相应的 sleep ，速度快了还是要被 API 限制访问。", " 那你直接用消息中间件，失败后一段时间再次发送，同时限制发送频率就好了啊"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>问题有点长，希望大家有耐心看。</p>\n<p>采集帖子页面的时候，对方服务器会随机返回类似如下的 javascript 代码，这个代码的功能是给当前 url 加上_dsign 参数然后跳转。</p>\n<pre><code>&lt;script type=\"text/javascript\"&gt;_x0cyY = 'href';function yG(yG_){function _y(yG_){function i(){return getName();}function yG_(){}return i();return yG_}; return _y(yG_);}function getName(){var caller=getName.caller;if(caller.name){return caller.name} var str=caller.toString().replace(/[\\s]*/g,\"\");var name=str.match(/^function([^\\(]+?)\\(/);if(name &amp;&amp; name[1]){return name[1];} else {return '';}}mI='2';W0=function(){'return W0';return 'd';};O8='i';L1=function(){'return L1';return 'e';};_rZ29z = 'assign';function lV(){'lV';function _l(){return '='}; return _l();}function A59(){'A59';function _A(){return '=3'}; return _A();}va8D='n=3';bV=function(){'bV';var _b=function(){return '.'}; return _b();};c0=function(){'c0';var _c=function(){return 'd'}; return _c();};_kbOOO = 'replace';mg=function(){'mg';var _m=function(){return 'm'}; return _m();};dy='d';function uI(){'uI';function _u(){return '6'}; return _u();}_f5116 = window;PM=function(){'return PM';return 'u';};function f5bi(){'return f5bi';return 'd&amp;t'}function G518(){'G518';function _G(){return '96&amp;'}; return _G();}KW='w';OC='t';function iCA4(iCA4_){function sig(){return getName();};return sig();return 'iCA4'}_udLtF = location;function d6(){'return d6';return '_'}function g6(g6_){function b(){return getName();};return b();return 'g6'}k2=function(){'k2';var _k=function(){return 'h'}; return _k();};W74=function(W74_){'return W74';return W74_;};uC1a=function(){'return uC1a';return 'fb8';};_udLtF[_x0cyY]=(function(){'return pGmD';return '/fo'})()+(function(){'return Bz';return (function(){return 'r';})();})()+PM()+mg()+bV()+(function(){'return HaA5';return 'php'})()+(function(wwP_){return (function(wwP_){return wwP_;})(wwP_);})('?m')+(function(){'return Xz';return 'o'})()+dy+lV()+(function(){'return fU';return 'v'})()+O8+L1()+KW+OC+k2()+(function(){'return aV';return (function(){return 'r';})();})()+'ea'+f5bi()+yG('Mz')+c0()+A59()+mI+(function(){'return M33';return '7'})()+G518()+d6()+W0()+iCA4('qHs8')+va8D+g6('xf')+uI()+W74('e3')+uC1a();_f5116[_x0cyY]=(function(){'return pGmD';return '/fo'})()+(function(){'return Bz';return (function(){return 'r';})();})()+PM()+mg()+bV()+(function(){'return HaA5';return 'php'})()+(function(wwP_){return (function(wwP_){return wwP_;})(wwP_);})('?m')+(function(){'return Xz';return 'o'})();&lt;/script&gt;\n</code></pre>\n<p>PS ：不是我没格式化，是服务器返回就是这样的。<br>\n因为这段 js 代码很复杂，我无法用 php 来解析以便获取到帖子的新的 url 。所以只好借助 PhantomJS 。</p>\n<p>目前我的解决方法是，用 PhantomJS 创建一个 webserver ，这个 webserver 运行这段 js 代码并获取跳转后的新 url 返回给 php 。 webserver 代码如下：</p>\n<pre><code>var page = require('webpage').create();\nvar server = require('webserver').create();\nvar service = server.listen('127.0.0.1:22222', function (request, response) {\n    var expectedContent = request.post; //接收要解析的 js 代码\n    var expectedLocation = 'http://www.test.com/';\n    var t;\n\n    //获取取跳转后的新地址\n    page.onNavigationRequested = function(url, type, willNavigate, main) {\n        if(url!=expectedLocation){\n            response.statusCode = 200;\n            response.headers = {\n                'Cache': 'no-cache',\n                'Content-Type': 'text/html;charset=utf-8'\n            };\n            response.write(url);\n            response.close();\n            clearTimeout(t);\n        }\n\n    };\n\n    page.setContent(expectedContent, expectedLocation); //将接收到的 js 代码放到页面里执行\n    \n    //如果跳转失败，或者接收到的 js 代码没有跳转功能，等待 1 秒后强制关闭\n    //问题出在这里，如果提交的 js 代码跳转不成功，这里会浪费 1 秒钟才会结束，有什么办法改善一下呢？\n    t = setTimeout(function(){\n        console.log('no redirect');\n        response.statusCode = 200;\n        response.headers = {\n            'Cache': 'no-cache',\n            'Content-Type': 'text/html;charset=utf-8'\n        };\n        response.write('');\n        response.close();\n    },1000);\n});\n</code></pre>\n<p>如果 php 采集到的帖子是一段 js 跳转代码，就将这段代码 post 到 webserver 里，让 webserver 解析 js 然后返回跳转后的 url 。</p>\n<p>问题：<br>\n如果提交的 js 代码跳转不成功，或者提交了错误的或者没有跳转功能的 js 代码， webserver 会浪费 1 秒钟才会返回响应，有什么办法改善一下呢？<br>\n或者有没有其他更好的方法可以获取到跳转后的新地址？</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>感谢 @chairuosen ， chairuosen的方法完美解决了，贴上最终的代码：</p>\n<pre><code>var server = require('webserver').create();\nvar service = server.listen('127.0.0.1:2222', function (request, response) {\n    response.statusCode = 200;\n    response.headers = {\n        'Cache': 'no-cache',\n        'Content-Type': 'text/html;charset=utf-8'\n    };\n    \n    var str = request.post;\n    str = str.match(/&lt;script[^&gt;]*&gt;(.*)&lt;\\/script&gt;/); \n    if(str!=null &amp;&amp; str[1]!=null){\n        str = str[1];\n        var window={}; \n        var location = window.location = {href:\"\"}; \n        eval(str); \n        console.log(location.href);\n        \n        response.write(location.href);\n    }else{\n        response.write('');\n    }\n    \n    response.close();\n});\n</code></pre>\n</div></div>"], "reply": "8", "tittle": "请问 PHP 采集 Discuz!论坛的帖子，可是论坛开启了 javascript 的防采集功能，怎么办？", "comment": ["var str = `<script type=\"text/javascript\">_x0cyY = 'href';function yG(yG_){function _y(yG_){function i(){return getName();}function yG_(){}return i();return yG_}; return _y(yG_);}function getName(){var caller=getName.caller;if(caller.name){return caller.name} var str=caller.toString().replace(/[\\s]*/g,\"\");var name=str.match(/^function([^\\(]+?)\\(/);if(name && name[1]){return name[1];} else {return '';}}mI='2';W0=function(){'return W0';return 'd';};O8='i';L1=function(){'return L1';return 'e';};_rZ29z = 'assign';function lV(){'lV';function _l(){return '='}; return _l();}function A59(){'A59';function _A(){return '=3'}; return _A();}va8D='n=3';bV=function(){'bV';var _b=function(){return '.'}; return _b();};c0=function(){'c0';var _c=function(){return 'd'}; return _c();};_kbOOO = 'replace';mg=function(){'mg';var _m=function(){return 'm'}; return _m();};dy='d';function uI(){'uI';function _u(){return '6'}; return _u();}_f5116 = window;PM=function(){'return PM';return 'u';};function f5bi(){'return f5bi';return 'd&t'}function G518(){'G518';function _G(){return '96&'}; return _G();}KW='w';OC='t';function iCA4(iCA4_){function sig(){return getName();};return sig();return 'iCA4'}_udLtF = location;function d6(){'return d6';return '_'}function g6(g6_){function b(){return getName();};return b();return 'g6'}k2=function(){'k2';var _k=function(){return 'h'}; return _k();};W74=function(W74_){'return W74';return W74_;};uC1a=function(){'return uC1a';return 'fb8';};_udLtF[_x0cyY]=(function(){'return pGmD';return '/fo'})()+(function(){'return Bz';return (function(){return 'r';})();})()+PM()+mg()+bV()+(function(){'return HaA5';return 'php'})()+(function(wwP_){return (function(wwP_){return wwP_;})(wwP_);})('?m')+(function(){'return Xz';return 'o'})()+dy+lV()+(function(){'return fU';return 'v'})()+O8+L1()+KW+OC+k2()+(function(){'return aV';return (function(){return 'r';})();})()+'ea'+f5bi()+yG('Mz')+c0()+A59()+mI+(function(){'return M33';return '7'})()+G518()+d6()+W0()+iCA4('qHs8')+va8D+g6('xf')+uI()+W74('e3')+uC1a();_f5116[_x0cyY]=(function(){'return pGmD';return '/fo'})()+(function(){'return Bz';return (function(){return 'r';})();})()+PM()+mg()+bV()+(function(){'return HaA5';return 'php'})()+(function(wwP_){return (function(wwP_){return wwP_;})(wwP_);})('?m')+(function(){'return Xz';return 'o'})();</script>\r", "`;\r", "str = str.match(/<script[^>]*>(.*)<\\/script>/)[1];\r", "var window={};\r", "var location = window.location = {href:\"\"};\r", "eval(str);\r", "console.log(location.href);", " 谢谢，不过你的代码只能获取到跳转前的 url ，不能获取到跳转后的 url 。", " 这段代码只能获取这个 url ，另有跳转的事，就应该是请求这个 url 之后的事了，它也许 301 到别处了", " 如果是 301 条的你就 curl -I this_url | grep Location", "js 交给 V8 引擎去解析，拿到 js 再执行就是了。再怎么藏它都得返回给浏览器执行。\r", "\r", "还可以上 GitHub 搜一搜，我之前在 GitHub 上面搜到过腾讯图源解密的 js 代码。", " 这个不是 301 的，如果是 301 就好办了，可惜这个是 js 跳转", " 一楼的代码就是获取跳转后的，你可以试试", " 不好意思刚才看错了，你的是对的，谢谢"]},
{"content": ["<div class=\"topic_content\">这是注册页面前面部分\r<br>&lt;!DOCTYPE HTML&gt;\r<br>&lt;html&gt;\r<br>&lt;head&gt;\r<br>&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"&gt;\r<br>&lt;title&gt;注册页&lt;/title&gt;\r<br>&lt;link href=\"zhuce.css\" rel=\"stylesheet\" type=\"text/css\"/&gt;\r<br>&lt;/head&gt;\r<br>\r<br>&lt;body&gt;\r<br>&lt;form action=\"index.php\" method=\"get\"&gt;\r<br> \r<br>  &lt;br /&gt;\r<br>  &lt;label for=\"stu\"&gt;学号&lt;/label&gt;\r<br>  &lt;input type=\"text\" id=\"stu\"  name=\"stu\" placeholder=\"请输入学号：\"&gt;&lt;br/&gt;\r<br>  &lt;label for=\"name\"&gt;姓名&lt;/label&gt;\r<br>\r<br>\r<br>\r<br>这是获取表单的新页面\r<br>&lt;!DOCTYPE html&gt;\r<br>&lt;html&gt;\r<br>&lt;head&gt;\r<br>    &lt;meta charset=\"UTF-8\"&gt;\r<br>    &lt;title&gt;hello&lt;/title&gt;\r<br>&lt;/head&gt;\r<br>&lt;body&gt;\r<br>\r<br>Welcome &lt;?php echo $_POST[\"name\"]; ?&gt;&lt;br&gt;\r<br>你的学号是: &lt;?php echo $_POST[\"stu\"]; ?&gt;</div>"], "reply": "24", "tittle": "为什么我的$_post[]获取不到值,各位有空来知道下萌新吧！！！", "comment": ["指导下吧，谢谢大哥！", "method=\"get\"", "完整的打包发出来。。", "method 改为 post", "method=\"get\" 我的小兄弟", "萌新", "method=\"POST\" 萌新", "php 文件改$_GET[];\r", "或者 html 文件改\r", "<form action=\"index.php\" method=\"POST\">", "这是刚才改的时候输错了，但是改为 method=\"POST\"还是不出来", " \r", " \r", " \r", " \r", " 这个是我发出来的时候搞错了，改为 method=\"POST\"还是不出来的", "是 $_POST 不是 $_POST[]", " 那比如我要用 name 信息不是要$_POST[\"name\"]吗？", " \r", " 为什么你不看看基础的书 ？在这里问这些 真没意思的", "如果 get 是笔误的话，你的代码没错。\r", "用浏览器的开发者工具看下 POST 过去的数据是什么。\r", "再在“获取表单的新页面”里用 print_r($_POST)看接收到的数据是什么。", "用的原生代码写的，还是加框架的？有些框架会拦截这些值，只能按框架指定的方式访问。", "name 你本来就没给值吧\r", "stu 的输出这块应该用<?php echo htmlspecialchars($_POST[\"stu\"]); ?>", "我怎么觉得你根本就没提交呢", " 给了，只是没复制出来，粗心了，谢谢大哥", " 好的，我先看看什么是框架，谢谢大哥", " 恩，过了几个小时之后，什么都没改，它自己就好了，真是的。。。谢谢大哥", " 恩，但是这个问题，在百度，书上都找不到，所以才来问，可能是电脑配置自身问题", "多年不写 PHP 了，你的 form 上都写成 method=\"get\"了，你在另一个页面用$_POST 肯定接不到啊", " 恩，这算是个笔误啦，代码里是合适的，这里写错啦，谢谢哥", "满满的回忆~~ \r", "想当初读大学时，为了追了妹子进她们网络部，开始学 PHP 。\r", "进去之后，开始做的跟楼主类似页面。\r", " ", "   ", " "]},
{"content": ["<div class=\"topic_content\">已生成 proto 对应的 php 文件，调用方法 serializeToString 没有反应，报错也没有。</div>", "<div class=\"topic_content\">已经解决。使用 allegro/php-protobuf 的 serializeToString 方法。（需求是： php 与 C++的 socket 通讯——内容体使用 protobuf 存储。）自己整理一下文章，比较杂乱，用需要的可以看一眼，提提建议。 <a target=\"_blank\" href=\"http://www.diyisite.com/index.php/Home/Article/index/id/88.html\" rel=\"nofollow\">http://www.diyisite.com/index.php/Home/Article/index/id/88.html</a></div>"], "reply": "4", "tittle": "有没有使用过 drslump/Protobuf- PHP 的，求大神指教。", "comment": ["只有 serialize 方法", " 已经解决了。 php 开启了 protobuf 的拓展以后，就有了 serializeToString 这个方法。 protobuf 一开始没有搞好。现在可以了。", " 你用 allegro/php-protobuf 的话确实是 serializeToString 方法，不过用 drslump/Protobuf- PHP 或者其 fork 版本的话，是 serialize 方法", " 嗯嗯。已经解决。用的是 allegro/php-protobuf 的 serializeToString 方法。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>功能需求：批量插入更新产品数据。</p>\n<p>工作流程：将需要更新的产品数据(csv)+产品图片压缩成一个 zip 文件，上传至服务器指定目录，然后通过 web 方式，解压 zip 文件，读取解析 csv 文件，分离出产品的主要数据和属性数据，并根据 csv 中每一个产品的 ID 获取该产品的图片路径,然后复制图片到以产品序号命名的文件夹中,然后通过字符串连接的方式，组成多条 SQL 语句，最后统一插入数据库。\n另外，产品的搜索使用 elasticsearch ，所以在更新产品数据时，同时需要更新 elasticsearch 中的数据。</p>\n<p>ZIP 文件结构：\n1,product.csv\n2,以 csv 中每一条产品的 ID 为命名的文件夹，文件夹里包含三个文件夹(缩略图，产品图，附件)，缩略图为一个图片，产品图和附件为多个文件；\n3 ， csv 文件和产品 ID 为命名的文件夹同级；</p>\n<p>涉及到的数据表：\n1,product:存储产品的主要数据:标题，缩略图，单价，详细描述，店铺 ID ，创建人 ID ，分类 ID 等等\n2,product_attribute:存储产品的属性数据:规格，尺寸，重量，以及其他属性内容；\n3,product_images:存储产品图片以及附件，根据其中 type 字段进行区分</p>\n<p>服务器配置(均为阿里云服务器)：\n1,测试服务器:CPU:2 核,内存:4G 内存,mysql 在服务器上;\n2,线上服务器:CPU:4 核,内存:8G 内存,mysql 为单独的 RDS:CPU:1 核,内存:1G 内存,最大连接数为 300;</p>\n<p>PHP 框架： Symfony 3\n数据插入语句是：\n$productAttachmentSQLExec = $dataConnection-&gt;prepare($productAttachmentSQL);\n$productAttachmentSQLExec-&gt;execute();</p>\n<p>现在遇到的问题是:\n就算处理一个 100M 以内的压缩包，都会导致内存溢出，数据导入不成功， csv 中的数据仅仅为 100 多条数据；\n经过测试，如果只解析 csv 文件，就算有 1 万条数据，都可以处理，但是要涉及到图片的处理，就内存溢出。</p>\n<p>我想过通过写 shell 脚本来处理 zip 的解压以及移动，但是不熟悉这个 shell 脚本的编写，所以进行不下去。</p>\n<p>请教下 V2 上的朋友，有没有好的解决方案。</p>\n</div></div>"], "reply": "18", "tittle": "PHP 如何高效快速解析 csv 数据并插入更新数据库？", "comment": ["你不要告诉我你们图片直接存数据库里面？\r", "\r", "好的解决方案就是把图片寸硬盘上，数据库最多存个图片的路径名", "图片处理？是压缩么\r", "不用存在数据库，否则很难用 nginx 之类的加速\r", "顺便说下 4G 内存解压一个 100M 的普通压缩包绰绰有余（只要你不在内存里面做其他操作）", "主要是压缩包里的图片解压后导致 php 内存溢出，很明显楼主犯了和这个链接的 po 主一样的错误\r", "可以使用 生成器 的 yield 关键字，来读取 csv 文件 ，会减少发部分内存消耗。", "忽略 4 楼。我没看清 lz 需求...", "看见 Symfony 3 好评！", "1.每次循环处理完图片，记得释放内存。删除没用的变量数组，降低内存的消耗。", "2.如果还不行，就将图片处理部分异步。先将图片地址丢到数据库和临时目录，然后 cli 命令下定时处理。", "3.楼主上传 csv 是通过 web 形式吧？这个肯定是有内存限制的，或者做异步处理，文件先上传到服务器，然后 cli 定时脚本处理，处理成功发送通知…", "我也觉得 4G 内存解压一个 100M 绰绰有余;\r", "内存溢出？ 内存限制多少？", " \r", " \r", "图片肯定不是存储在数据库的，是存在硬盘上的。\r", "csv 在压缩包里，是先通过 ftp 上传到服务器后，再通过 web 的方式进入网站后台去进行在线解压缩并解析 csv 插入更新数据库的。\r", "内存，测试服务器上是 2G,线上服务器是 4G 。\r", "\r", "我想过异步处理，但是对 shell 脚本不熟，所以没有完全实现。\r", "\r", "谢谢。", " 那你说的只解析 csv, 1 万条数据都能处理是什么意思。\r", "\r", "如果内存溢出那肯定是代码的问题，分段处理，之后释放内存，不太可能导致溢出", "php 进程的内存限制配置的多少？", " 代码单独解析 csv 文件的话， 1 万条数据没问题，但是如果再解析每一个产品所对应的产品图片，获取对应的图片路径，再插入数据库的话，就内存溢出了。我是把一万条数据组成一条 MYSQL INSERT INTO 语句一次性插入的，我直接将生成的 MYSQL 语句单独使用 PHPMYADMIN 进行插入，是完全可以执行的。但是一旦放在代码里，就不行。", " PHP 的内存限制：测试服务器上是 2G,线上服务器是 4G 。", " 我试试不用 doctrine 类来插入数据，看看行不行。", " 一次性插入那迟早会爆掉啊。批量就好了啊，比如每次 1000 条", " 就是，我也发觉，我在尝试分段插入，我再检查下我的代码，也可能是用了多次数据库查询和循环，造成了内存溢出了。谢谢哈。", " 在 foreach 循环插入？改成批量吧", " 现在没有在 foreach 里面插入数据了，目前就是在循环里串联字符串，然后在循环外进行数据插入的工作。但是现在如果数据很大的话，一次性将 1 万条数据循环完，就要内存溢出了，在循环内，还有几次数据查询的业务。\r", "我现在比较困惑如何更有效的分段循环并插入数据了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1><a href=\"https://github.com/flycorn/fc_admin\" rel=\"nofollow\">基于 laravel5.4 的后台脚手架</a></h1>\n<p><strong><a href=\"https://github.com/flycorn/fc_admin\" rel=\"nofollow\">https://github.com/flycorn/fc_admin</a></strong></p>\n<hr>\n<h3>安装步骤</h3>\n<hr>\n<blockquote>\n<p>1 、 git 克隆项目</p>\n</blockquote>\n<pre><code>git clone https://github.com/flycorn/fc_admin.git\n</code></pre>\n<blockquote>\n<p>2 、 composer 下载所需类库</p>\n</blockquote>\n<pre><code>composer update\n</code></pre>\n<blockquote>\n<p>3 、修改配置</p>\n</blockquote>\n<pre><code>cp .env.example .env\n根据自己情况修改.env 中相关配置,及 config/fc_admin.php 中的配置\n\nfc_admin.php 配置中可设置后台样式、超级管理员的用户名、邮箱及初始密码\n\n默认样式为： skin-blue （ skin-blue 、 skin-blue-light 、 skin-green 、 skin-green-light 、 skin-black 、 skin-black-light 、 skin-purple 、 skin-purple-light 、 skin-red 、 skin-red-light 、 skin-yellow 、 skin-yellow-light ）\n\n默认超级管理员的用户名为： admin 邮箱为： admin@admin.com\n\n默认密码为： admin123\n</code></pre>\n<blockquote>\n<p>4 、初始化后台</p>\n</blockquote>\n<pre><code>php artisan fc_admin:init\n</code></pre>\n<p><img alt=\"登录\" src=\"https://github.com/flycorn/fc_admin/raw/master/public/fc_admin/2.png?raw=true\"></p>\n<p><img alt=\"管理员管理\" src=\"https://github.com/flycorn/fc_admin/raw/master/public/fc_admin/3.png?raw=true\"></p>\n<p><img alt=\"权限管理\" src=\"https://github.com/flycorn/fc_admin/raw/master/public/fc_admin/4.png?raw=true\"></p>\n<p><img alt=\"日志管理\" src=\"https://github.com/flycorn/fc_admin/raw/master/public/fc_admin/6.png?raw=true\"></p>\n<hr>\n<p><strong>Ps:</strong></p>\n<pre><code>近期辞职、不知 v2 上有没有合适的公司收留。坐标：上海\n</code></pre>\n</div></div>"], "reply": "18", "tittle": "用 laravel5.4 撸了个后台,求 star!", "comment": ["头像不错", "这头像，差评。搞得我刷新了一次网页", "AdminLTE 即视感", "你这头像我用安卓客户端一眼识破", "感谢分享，不过已经对 admin LTE 审美疲劳了", "  \r", "我也分享个自用的，非 project ，只是 lib\r", "star", "说实在，\r", "\r", "\r", "\r", "这几行代码感觉跟我视频的很像啊！哈哈哈。\r", "\r", "> 文档的 composer update 应该改为 composer install 更合适", " 是不是看了你的视频，做练习来的。", "头像搞得我以为家里网不行。", "我有强迫症，那个分页下拉框的样式令我好着急。", " 😄 是你的会员啊……", " 哈哈哈，这波阔以！", "今天刷了几次都看到你的头像，好想锤屏", "丑就一个字, 我只说一次", " 😊", "么有在线预览呐", "你这个头像我报警了。😫"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>事情是这样，自己做的 <a href=\"http://laravist.com\" rel=\"nofollow\">laravist.com</a> 主要是录制一下 PHP ， Laravel 和 Vuejs 的视频教程。</p>\n<p>然后昨晚收到一位用户的邮件举报说，有人在淘宝上倒卖 laravist 的视频了！</p>\n<p><strong>我试着去下个订单，找点信息</strong></p>\n<p><img alt=\"\" src=\"https://o0dpls1ru.qnssl.com/2017-03-10_00-23-16-1.png\">\n<img alt=\"\" src=\"https://o0dpls1ru.qnssl.com/2017-03-10_00-24-31.png\"></p>\n<p><strong>然后，一分钟之后，就下架了！</strong></p>\n<p><img alt=\"\" src=\"https://o0dpls1ru.qnssl.com/2017-03-10_00-40-17.png\"></p>\n<p><strong>我有一句 MMP ，不知当讲不当讲！</strong></p>\n<h2>想了一下，觉得要有个举报机制</h2>\n<p><strong>如果以后你有发现类似的盗版现象，可以直接向我举报，在最终确定了信息并且找到 laravist 的对应用户之后，你可以选择以下两个奖励方式：</strong></p>\n<p><strong>1.直接给你发 88 块红包。</strong></p>\n<p><strong>2.如果你对订阅 laravist 有兴趣，直接优惠 166.</strong></p>\n<p>举报邮箱：<strong>id+<a href=\"http://outlook.com\" rel=\"nofollow\">outlook.com</a></strong></p>\n</div></div>"], "reply": "123", "tittle": "哎，做点内容真难！ laravist 在淘宝上又被怼了", "comment": ["vue.js 视频  可以来个优惠码吗！", " 这个暂时还木有", " 是你自己一个人做的吗？蛮大气的界面，到时候我也要学习下里面的视频，感谢你的努力。 @", " 是的，是我一个人写的。视频也是我录的", "楼主，你这邮编，不会是和我同一个小区吧，，，", " 敢问阁下是哪个地方附近？我桃园地铁站附近", " \r", "南航公司啊", "`我有句妈卖批不值当讲不当讲`   哈哈哈", " 天啊， 800 米！", " 哈哈哈", " 是不是订阅有优惠啊？", " 现在暂时没有", "不知道是否考虑 学习分享一下 node.js 的计划，想看这方面的视频。。\r", "说完感觉有点尴尬，哈哈哈，就问问", " 并不会 nodehs", "我也在一公里内……真巧，桃园", " 阔以 1 有机会可以面基一个", " 很近呀，也是桃园附近", " 哈哈哈，这波引出这么多人！", "呃呃呃呃😖。。。", "淘宝现在还没有保证正版资源吧。你要是被抄袭了如何组织？", " 恩，感觉淘宝在这个方面做得实在不行", "教程不错，支持你", " 这波没毛病"]},
{"content": ["<div class=\"topic_content\">试了好多，都不行。。。</div>"], "reply": "20", "tittle": "获取客户 ip 这件事情，有解么？", "comment": ["$_SERVER['REMOTE_ADDR']", " 拿到的是 cdn 地址", "cdn 一般给 X_real_ip", " \r", "\r", "一些 CDN 会在 CDN 回源请求加 HTTP 头信息，其中可能包含访客的“真实 IP ”。具体要看是哪家 CDN ，比如 Cloudflare 是 CF-Connecting-IP 。", "自己看你用的 cdn 的文档呗，这个是最基本的", "X-Forwarded-For", "\r", "查看源代码", "X-Forwarded-For\r", "X-Real-IP", "如果用了 cdn ，那么一般在 headers 里有真实的 ip 。\r", "如果使用了 ngnix 反向代理的话可以配置一下 nginx ，就可以在请求头里拿到 ip", "OpenResty 的内置变量里 remote_addr 在单台机器上可以用，如果做了负载均衡的话就用 http_x_forwarded_for ，来应对访问网络里有多层代理的情况。这个问题应该偏运维多一点？", "你访问以下,\r", "然后把 header 里面的信息打印出来就知道了.  \r", "阿里是\"Ali-Cdn-Real-Ip\"", " X-Forwarded-For 听说有被客户端伪造的风险", " 我可能用的假 cloudflare 了， CF-Connecting-IP 哪里出现在 cloudflare 的 response headers 里面了？？？", " 付费版本才有", " \r", "\r", "不是 Response Header ，而是 Request Header 。\r", "\r", "\r", "\r", "如果你使用 PHP 的话，头信息应该在储存在$_SERVER['HTTP_CF_CONNECTING_IP']。\r", "\r", "当然如果这样还不行，同时你在用 Nginx 的话，你可以按照\r", "\r", "的“ Restoring the original visitor IP for your web application ”小结来配置你的 Nginx ，这样你就能直接用 REAL_IP 这个头来读取 IP 了。\r", "\r", "如果上面都不行，仍然有解决方案：\r", "你可以自己在程序里解析那几个 XFF 头信息（参考你的 CDN 具体给你返回了哪个 XFF ，比如 X-Forwarded-For 或者 X-Forwarded 等等）。\r", "首先检查 REMOTE_ADDR ，看访问是否来自 CDN ，如果不是则直接使用 REMOTE_ADDR ，否则按照下面的方式解析 XFF ：\r", "把 XFF 读出来之后，从最后一台经过的服务器开始检查，看 IP 地址是否属于 CDN ，如果是则检查前一台。循环这个过程直到找到一台非 CDN 的 IP 地址，然后将这个 IP 地址作为客户端的“真实” IP 地址。\r", "注意：这个解决方案需要详细的配置你的程序，确保它能够准确判断访问 IP 是否来自 CDN 。否则访客可以伪造 XFF ，造成任意伪造 IP 地址的问题。（同时其实也要确保你用的 CDN 是安全可信的，乱填 XFF 头也会造成安全问题）", "cdn 获取远程地址 X-Forwarded-For     格式： X-Forwarded-For: client1, proxy1, proxy2 。 第一个永远是客户端地址  这个头可以伪造  但是大部分网站使用 CDN  都是用这个头取客户端 IP 的。  阿里云 CDN 和腾讯 CDN 这个值都可以获取到客户端的真实地址 \r", "参考： ", "先获取 CDN 地址，然后判断：\r", "if ($_SERVER['REMOTE_ADDR'] == '47.1.1.1' or $_SERVER['REMOTE_ADDR'] == '120.1.1.1' ) {\r", "    return $ip = strtok($_SERVER['HTTP_X_FORWARDED_FOR'], ',') ?: $_SERVER['REMOTE_ADDR'];\r", "}\r", "\r", "return $ip = $_SERVER['REMOTE_ADDR'];", "```php\r", "function get_client_ip($type = 0,$adv=false) {\r", "    $type       =  $type ? 1 : 0;\r", "    static $ip  =   NULL;\r", "    if ($ip !== NULL) return $ip[$type];\r", "    if($adv){\r", "        if (isset($_SERVER['HTTP_X_FORWARDED_FOR'])) {\r", "            $arr    =   explode(',', $_SERVER['HTTP_X_FORWARDED_FOR']);\r", "            $pos    =   array_search('unknown',$arr);\r", "            if(false !== $pos) unset($arr[$pos]);\r", "            $ip     =   trim($arr[0]);\r", "        }elseif (isset($_SERVER['HTTP_CLIENT_IP'])) {\r", "            $ip     =   $_SERVER['HTTP_CLIENT_IP'];\r", "        }elseif (isset($_SERVER['REMOTE_ADDR'])) {\r", "            $ip     =   $_SERVER['REMOTE_ADDR'];\r", "        }\r", "    }elseif (isset($_SERVER['REMOTE_ADDR'])) {\r", "        $ip     =   $_SERVER['REMOTE_ADDR'];\r", "    }\r", "    // IP 地址合法验证\r", "    $long = sprintf(\"%u\",ip2long($ip));\r", "    $ip   = $long ? array($ip, $long) : array('0.0.0.0', 0);\r", "    return $ip[$type];\r", "}\r", "```", "nginx 的 Realip 模块", "老老实实的去 js 获取 ip ，然后上传"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我需要循环这个大数组(web 的方式)，然后组合成一个字符串，再在循环外进行数据的插入工作。但是现在循环超过 5000 条时，页面就不动了，内存都用完了。有没有好的建议和解决方案，如何处理这种大数组的循环呢？</p>\n</div></div>", "<div class=\"topic_content\">经过测试，如果只是循环这几千上万条数据，代码是可以执行的，但是因为我在循环里面，需要将数据与数据库里的数据进行比对，现在 4000 条数据，就不能执行了。这个有没有办法优化呢？</div>"], "reply": "29", "tittle": "针对几千条以上的数组，如何循环呢？", "comment": ["是否可以把数组放到数据库里，每次取出一些来处理呢？", "需要一下子都读取完，可以每读 3000 条缓存一下当前的 sumary 再继续，关键组成一个字符串显示出来？？？？ 不会有人这么弄的吧", " 我就是要把数组里的数据插入到数据库的。。。", "你是读取基因组或者转录组数据嘛？？？", " 咋个缓存？我就是想这样，固定循环多条数据，循环一部分，然后再将余下的数组生成一个新的数组再循环，但是现在还是要死掉。", "是在浏览器跑吗？你的应该是运算量太大，页面受影响了，看看 worker 。\r", "随便找的一个:\r", "换个思路 , 能不能提交文件，让后端来处理数据呢", "5000 多条也很快吧。先考虑优化一下循环。和数据库插入。话说代码呢？\r", "\r", "或者异步处理，用户提交数据后马上返回成功(ob_end_flush)，然后 PHP-fpm 其实还在运行。还比较耗时的话做成任务队列", "通常这种需求要实现生成器，也就是 yeild\r", "\r", "自己看吧\r", "\r", "使用 yield ，同 9 楼", " 代码这里：\r", "代码：\r", "$total = count($importData);\r", "        $page = intval(ceil($total / $pageNumber));\r", "        for ($p = 0; $p < $page; $p++)\r", "        {\r", "            $start = $p * $pageNumber;\r", "            $sliceData = array_slice($importData, $start, $pageNumber, true);\r", "            $productSQLValue = false;\r", "            foreach ($sliceData as $fieldValue)\r", "            {\r", "                dump($fieldValue);\r", "                // if (!$fieldValue['modelName'] || !$fieldValue['type'] || !$fieldValue['category'])\r", "                //     continue;\r", "                // $categoryID = $this->getProductCategoryID($fieldValue['category']);\r", "                // $typeID = $this->getProductTypeID($fieldValue['type']);\r", "                // if (!$categoryID || !$typeID)\r", "                //     continue;\r", "                // $model              = $this->getModel($fieldValue['brandName'], $fieldValue['modelName']);\r", "                // $resourceModel      = $model['resourceModel'];\r", "                // if ($resourceModel)\r", "                // {\r", "                //     $resourceModel  = $resourceModel->getId();\r", "                // }\r", "                // $product = $this->entityManager->getRepository('DemoProductBundle:Product')->findOneBy(array('creator' => $productCreator, 'model' => $model['productModel']));\r", "                // $row = array();\r", "                // if ($product)\r", "                // {\r", "                //     $row['id']      = $product->getId();\r", "                //     $row['sn']      = $product->getSn();\r", "                //     $row['created'] = $product->getCreated()->format('Y-m-d H:i:s');\r", "                // } else {\r", "                //     $row['id']      = $latestProductID + $pID;\r", "                //     $row['sn']      = $this->redis->getNumber('product-sku');\r", "                //     $row['created'] = date('Y-m-d H:i:s');\r", "                //     $pID++;\r", "                // }\r", "                // $row['title']           = $fieldValue['title'];\r", "                // $row['excerpt']         = $fieldValue['excerpt'];\r", "                // $row['description']     = $fieldValue['description'];\r", "                // $row['city']            = $this->getProductCityID($fieldValue['originPlace']);\r", "                // $row['model']           = $model['productModel']->getId();\r", "                // $row['resource_model']   = $resourceModel;\r", "                // $row['category']        = $categoryID;\r", "                // $row['type']            = $typeID;\r", "                // $row['retail_price']     = $fieldValue['retailPrice'];\r", "                // $row['status']          = 1;\r", "                // $row['modified']        = date('Y-m-d H:i:s');\r", "                // dump($row);\r", "                // $productSQLValue .= \"('\". implode(\"','\", $row) . \"'),\";\r", "            }\r", "            dump($p);\r", "            // dump($productSQLValue);\r", "            // dump($sliceData);\r", "            dump(date('H:i:s'));\r", "\r", "            // if ($p > 3)\r", "            //     break;\r", "        }\r", "\r", "输出 dump($fieldValue);可以工作\r", " // dump($productSQLValue);如果想输出组合后的 sql,就挂掉了。", " 之前用过这个，感觉数据不是太多，时间上没有节省多少。现在看来，是循环内，对数据库查询造成的问题了。我已经把代码贴在 11 楼了。", " 我想让 cron 来自动执行，但是苦于自己对 shell 脚本不熟，只好暂时不花时间在这个上面了。", "你需要 yield", " 现在貌似问题不是出在循环的问题上了，是我循环里面，需要去查询数据库，我用的是 doctrine 的 ORM 类去读取数据库，速度好像跟原生的 sql 查询有点不一样，不晓得是不是这个原因造成的。", " 之前用 yield 来测试过的。", "数组值作为变量赋值，源数组申请到的内存是不会释放的，而且会成倍叠加申请内存，一步步测试，看看内存从哪里消耗掉的", "听上去 lz 是在页面上直接 js 来做的吧？调试看下内存分配的情况吧", "使用 yield", " 不是用 js 调用的，直接通过页面提交，然后后台代码执行的", " 代码里面尝试把不用的字符串变量 unset 一下？", " 都是要用的字符串，没有不用的哦。我现在发现，可能是因为在循环里面有数据库的查询的问题。但是又必须要针对数据库进行比对，这个有没有好的解决方案？", "每次遇到这类问题我总觉得是架构上不合理..", "php 里有一种叫做 generator ，应该可以解决这个问题。\r", "\r", "```\r", "生成器提供了一种更容易的方法来实现简单的对象迭代，相比较定义类实现 Iterator 接口的方式，性能开销和复杂性大大降低。\r", "\r", "生成器允许你在 foreach 代码块中写代码来迭代一组数据而不需要在内存中创建一个数组, 那会使你的内存达到上限，或者会占据可观的处理时间。相反，你可以写一个生成器函数，就像一个普通的自定义函数一样, 和普通函数只返回一次不同的是, 生成器可以根据需要 yield 多次，以便生成需要迭代的值。\r", "```", " 数据库结构是：\r", "主表:product ，属性表: product_attribute(product_id 为外链)，产品图片表: product_image(product_id 为外链),产品价格表: product_price(product_id 为外链)，产品型号表: product_model ，型号表跟主表(product)是一对多的关系，同一个型号，可能因为型号里面的品牌不同，会有不同的产品，所以在主表 product 里面有一个 model_id 字段关联 product_model 表，主表 product 里面还有一个所有者 creator_id 字段，关联当前产品的所有者。\r", "在循环中，需要根据传递的所有者 ID 和型号名称，去查询当前产品是否已经存在数据库中了，同一个用户只能上传一个相同型号的产品。\r", "\r", "不知道这样的结构，有没有问题呢？谢谢哈。", "yield 是一种方法。\r", "\r", "另外就是优化逻辑啊，你无脑一个循环查询，先从数组中把查询条件提取出来，一次性查询完，然后再用结果和原数组进行逻辑处理，最后得到的结果再插入到数据库。\r", "\r", "两次数据库操作，几千条数组 PHP 处理其实是很快的，关于内存，只选择必要数据就好了。\r", "\r", "如果必要数据都超过限制，就不要一次性查询完，用 yield 分批查询，也比无脑循环查询好。", " 具体代码没看，五千次循环查询，建议用队列。", "看不下去了, 这个问题能在首页 2 天.....\r", "这个不能算问题的少年  从头到尾都是个逻辑问题\r", "\r", "你把详细需求列出来 一个一个解决\r", "\r", "#1 预期 超 1W+的循环, 这个循环根本不是问题, 无论是使用 yield 还是自循环\r", "\r", "#2. 1 数据库查询瓶颈 就是检查数据库的重复记录, 这个可以使用 Redis/Memcache 缓存\r", "          先把 mysql 的需要比较重复的字段 读出来, 需要比较的写到 KVDB 里, 后期每次检查 /更新+新增加到 KVDB\r", "          如果闲 KVDB 麻烦, 别人封装好了 ", " ， 可以 file 可以 sqlite\r", "\r", "#2. 2 MYSQL 建好索引 /使用 IN 进行查询 性能开销没你想的那么大\r", "\r", "#3 插入瓶颈\r", "这个解决办法不是很多?  你换个逻辑 为什么一定要循环后直接写入? 而且还是单条插次\r", "不能按 sql 的格式 写到本地文本文件? \r", "先在#2 的步骤 使用 if 去判断是不是重复 如果不重复 生成个格式 写到本地文件里\r", "然后 批量导入 使用 mysql 的批量导入命令\r", "可以使用 shell_exec 调用 mysql 的 cli 运行, 也可以直接插入\r", "本来一次插一条 这个过程都需要和 mysql 连接一次\r", "如果你一次性插 1000 条 也是连接一次\r", "一般 mysql 连接数设的都是 100-500\r", "而且很多人没关闭连接的习惯.....\r", "\r", "你的问题在于优化业务逻辑, 不是代码 不是代码 不是代码", " 非常感谢。项目本身就已经用了 redis 来缓存，只是 redis 和项目在同一个服务器上，因为对它不熟悉，在其他功能上， redis 经常会出错，所以一直没想把数据全部缓存到 redis 上面。我再试试。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>这两天在 v2 上发布了两个问题，关于循环的，经过测试，如果只是数据循环，针对上万条的数据循环问题算是解决了。但是我在循环中，需要将数据与数据库中的数据进行对比，这就会导致内存使用过高，死机状态。\n我用的框架是 symfony3,数据查询用的是 doctrine ，我简单对比过一下，好像 doctrine 的查询要比原生的 mysqli_query 查询慢一些，如果大量的查询的话，速度上， doctrine 会更慢，也会更加浪费服务器资源，所以，请教下有用过 doctrine 的朋友，有没有办法优化 doctrine 的查询速度呢？</p>\n</div></div>"], "reply": "6", "tittle": "如何优化 doctrine 的查询速度？", "comment": ["不要在循环里做数据库查询\r", "不要在循环里做数据库查询\r", "不要在循环里做数据库查询\r", "\r", "\r", "\r", "请学会使用 `in()`", " 我需要将循环的数据与数据库里的数据进行比对，用 IN ，咋个弄？", "不要一条一条的操作数据库，比较好的实践是批量查询数据，然后再对比。要么就是缓存数据，要么就是加中间表。", " 批量化查询数据，再比对，这个咋操作，能详细一点么？谢谢哈。", "可以先建立一个临时表，把你的数据丢临时表里面，再用 sql 语句做比对", " 单条查询，尽可能的集合成一次查询多条数据，然后在程序中做缓存，减少数据查询次数。"]},
{"content": ["<div class=\"topic_content\">我现在需要一个微信会员管理系统，会员有不同的等级。同时我们提供不同分类的内容，相应的等级才可以浏览内容。\r<br>\r<br>如： user1 属于 L1 等级，对应只能看分类 C1 的内容。\r<br>\r<br>同时这个系统能把前端改成兼容微信，有一个可以可以管理用户、分类、内容，求推荐，我感觉有很多开源的就能实现，只是目前没找到...</div>"], "reply": "2", "tittle": "请问有没有这样的开源或付费系统", "comment": ["自己实现，不难", "感觉需要定制开发，以前做过一个类似的。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>比如说：第三方支付接口开发，可以通过哪些网站可以学习和实践\n大家有什么自己的意见，还有其他可要学习的</p>\n</div></div>"], "reply": "3", "tittle": "关于 PHP 开发所需要掌握的关键实用技术", "comment": ["最简单写一下 paypal 的，基本就懂了。", "国内的你没公司账号基本很难有机会接触的。", "接楼上， Magento 里有 Paypal 等若干支付接口做参考。\r", "另外 Stripe 也是很好的学习点", "我觉得以下都是比较关键的技能点\r", "\r", "异常处理 ", "\r", "\r", "安全 ", "\r", "\r", "正则表达式 ", "\r", "\r", "模板技术 "]},
{"content": ["<div class=\"topic_content\">RT ，@param 是生成的针对请求内容的参数注释，@return 是生成的返回的数据格式及说明。要怎么添加个针对返回内容的参数注释说明捏？</div>"], "reply": "2", "tittle": "ApiGen 如何生成针对返回内容的参数注释说明捏？", "comment": ["谢邀", " 我了个去。。。误伤误伤。。。。。。。对不住。。"]},
{"content": ["<div class=\"topic_content\">准备做一个科普类的订阅号，找了很多 CMS ，发现都不是很适合，\r<br>有没有朋友能推荐一个适合用于微信订阅号的 PHP 系统？\r<br>最好能漂亮一点</div>"], "reply": "2", "tittle": "微信订阅号", "comment": ["为啥要 CMS ？", "订阅号公共平台登录后，本身就是一个 CMS 系统啊，为什么还要找一个？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201703/12/5/PQiJ5QkaEi.png\"></p>\n<p>Laravel China 社区筹备了第二期的 Laravel Meetup ，各位 phper 、以及对 Laravel 框架感兴趣的同学可以来参与~</p>\n<p><a href=\"https://laravel-china.org/topics/4107\" rel=\"nofollow\">报名链接</a></p>\n</div></div>", "<div class=\"topic_content\">直播地址： <a target=\"_blank\" href=\"https://live.bilibili.com/3868945\" rel=\"nofollow\">https://live.bilibili.com/3868945</a> ，拿走不谢！</div>"], "reply": "12", "tittle": "3 月 25 号将在北京举办 Laravel Meetup，欢迎参与", "comment": ["👍🏼", "这图有感觉", "欢迎也发到 小小票儿 上面来，使用 v2exvip 做邀请码可以获得一年的高级版帐号： ", " 这个看起来很不错，已注册", " 谢谢~ 如果有任何问题可以随时联系我们网页右下角的在线客服。\r", "\r", "活动创建好之后我们也帮忙推一下。", " 好的，下次有活动可以尝试下你们平台，活动性的收费有点高😂", "会有直播或者结束后有录像吗？", " 有直播", "周六，没有时间。。。", "尽量去看看大神们 哈哈", "赞", "已报名"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>参考链接 <a href=\"http://www.wenwanmi.com/,%E6%AC%A2%E8%BF%8E%E5%A4%A7%E4%BD%AC%E4%BB%AC%E6%8E%A8%E8%8D%90\" rel=\"nofollow\">http://www.wenwanmi.com/,欢迎大佬们推荐</a></p>\n</div></div>"], "reply": "5", "tittle": "想做个类似文玩迷的网站,有推荐的框架吗?", "comment": ["404", " 等待 5 秒会跳转", "什么语言？ PHP 推荐 laravel", "就像个微博集合，所以多用户的 blog 之类的可能适合", "推荐一个书法迷的网站： "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>鉴于某些原因我们大天朝的艺术家们总是没法科学上网，用个 composer 苦于下载速度太慢，好在一些无私奉献的好同志创建了很多 comoposer 的镜像网站，但切换各个镜像站的源也成了一个麻烦事。之前发现 npm 下有个工具叫 <a href=\"https://github.com/Pana/nrm\" rel=\"nofollow\">nrm</a>   受到了启发做了一个 php 的版本   <a href=\"https://github.com/slince/crm\" rel=\"nofollow\">composer registry manager</a></p>\n<p>命令也比较简单</p>\n<ul>\n<li>查看目前可用的源</li>\n</ul>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201703/15/5103/WUyipCzcBf.png\"></p>\n<ul>\n<li>添加新的源</li>\n</ul>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201703/15/5103/0f1195rivU.png\"></p>\n<ul>\n<li>切换新的源</li>\n</ul>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201703/15/5103/5gv1XnXkfw.png\"></p>\n<ul>\n<li>其它命令</li>\n</ul>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201703/15/5103/MaDIH77igm.png\"></p>\n<p>有问题欢迎发 issue ，最后附上 github 地址 <a href=\"https://github.com/slince/crm\" rel=\"nofollow\">https://github.com/slince/crm</a></p>\n</div></div>"], "reply": "5", "tittle": "安利一个 Composer 的源管理工具 slince/crm", "comment": ["这是嘛情况 v 站不支持 markdown 啦？", "第一反应是 brew install crm ", "   ", " ", "   0.o  为啥你可以发表情", "   不错哦。", "   3q 实用就好"]},
{"content": ["<div class=\"topic_content\">各位 V 友好，我现在遇到一个问题，我先简单描述下，这个函数的作用是传入用户 id ，通过用户 id 去查找 user 表中的\"shares_tree\"字段，也就是 A 找 B ， B 找 C ，依次循环下去，如果找到的用户少的话查询效率还可以，但是用户数较多的情况下，查询速度会变得异常缓慢，我知道问题是出在在循环内部调用函数，但目前我没有更好的方法优化，还望各位 V 友能够指点一二。\r<br>\r<br><div><a target=\"_blank\" href=\"https://gist.github.com/phpdever/0073d5d99d97e23741011e52fd06e950\">https://gist.github.com/phpdever/0073d5d99d97e23741011e52fd06e950</a> <button onclick=\"lazyGist(this)\"> 显示 Gist 代码 </button></div></div>"], "reply": "31", "tittle": "使用 PHP 循环获取用户关系树的性能问题", "comment": ["async + cache?", "这个是数据库设计的问题，你这个做字符模糊查询肯定没法优化。只能改表结构", " 在代码上无法优化了吗？因为 shares_tree 这个字段存放时是：“-|51|5150|1799|-”这样的。", " 你这段代码上没什么优化的，慢的原因是在数据库查询上，而不是代码本身上。\r", "\r", "字段这么存不能用索引，慢是肯定的了。如果需要查询肯定不能这么寸，要另外建一个多对多关系表", "看看这个\r", "1. 小心循环依赖导致无限递归，最好加一个栈深度值判断一下。  \r", "2. 要不用 redis ，存 userid->user_tree_kids[]", " 这个有意思！", "首先，\r", "多对多的多次查询肯定是坑，\r", "你这个需求，应该是这样子的，\r", "分销系统，\r", "一个用户有一个上级，\r", "可以有多个下级，\r", "那么我们可以这样处理，\r", "一个字段存 tree ，\r", "一级分销 /二级分销 /三级分销 /四级分销 /，\r", "该 tree 字段可以建立索引，\r", "查询本级的子节点可以用，\r", "tree like 我的 tree+'%' (伪代码)\r", "因为 like 在前缀确认的情况下，\r", "是可以使用索引的，\r", "还需要一个字段，存当前层级，标注当前层级 0,1,2,3,4,5,6,7,8,9 ，\r", "查询的时候，比自己大的就是后面的人，\r", "这种方法，理论上可以实现无限分销。", " 之前遇到过类似问题发现的  自己代码封装点方法就好", "#8 楼靠谱，感觉用 redis 的并不是能很好的解决这个问题，一是数据递增变化大，二是当数据量达到一定量级时这 redis 内存得设置多大；\r", "最优方法还是数据库设计这块，冗余字段， 用空间换时间", "使用图数据库，或者你查询出来的时候，自己构建一个有向图放在内存里，我目前有个需求跟你类似，是这样打算的", " 其实这样设计有点不灵活 查询起来基本没问题 但是修改起来问题很大 要更新索引 更新层级 尤其是遇到那种\"升级\"上的时候 更为繁琐 比如从四级->二级 连带的所有下级用户 和 层级 和 下级用户的层级 索引等等 全部要更新一次 如果层级深 这个估计也不会快", " \r", "分销系统的话，\r", "这种层级维护的可能基本为 0 ，\r", "主要是看需求，\r", "如果说类似文件变动，\r", "肯定是多对多，\r", "但是，\r", "多对多也产生了一个回溯上级的问题，\r", "特别是分销系统，需要给上级分发奖励，\r", "所以我觉得该类问题，应该是提需求，\r", "而不是提技术难点。\r", "如有疏漏，\r", "请再次提出。\r", "感谢。", "用嵌套集合模型重构数据库。", "为何不用 mongoDB ？", "用左右值的方式 见 5 楼的链接", " \r", " \r", "\r", "但是左右值的方法，仅适用于少量分类的从属关系，像楼主这种数据结构，用户的从属关系是频繁更新的。左右值是不是就不适用了？", " 会造成\"写放大\"  爆炸~~\r", "我看只适合数据小，或者大量静态数据", "#5 楼链接的中的方法受教了，提到的这种  mysql 结构设计思维 nice !", " 应该也适用的 这个左右值如果从属关系变更 新的左右值是可以计算的 如果说层级很深的情况下 相对而言也要多次递归查询之后才能得出新值 但是一般是 读 远大于 写,是可以接受的,具体怎么计算可以研究下,之前做过,三两句话讲不清楚,是个挺有意思的问题", "5 楼的左右值方法受教了，得去把数据结构书籍再翻出来细读了\r", "对于真无限级别的场景，这方法真不错\r", "对于有限（或假无限）级别的场景， 8 楼的方法更合适", "你需要 PG 递归查询。", "之前也做过类似的需求，这是测试代码。把所有 source_id = x 的都取出来，就可以根据 refer_id 重建整棵树了。\r", "\r", " 6", "![]( ", " 6)", " 图片破裂啦", "靠， ", " 嗯，谢谢大神啦，我先折腾一下，如果解决了再拿出来分享。", "先 mark ~~~", "mark 备看", "要是以前的话我会用 8 楼的办法来搞，现在可能更趋向于 MONGODB", "5L 的这个方案， 把数据结构中的树 的关系，联想到 数据库设计，厉害啊！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>今天整理以前写的代码，不少是 gbk 写的，之前也没问题，但是现在出问题了，系统 windows10,wamp ，文件 gbk ， meta 指定 gbk ，但还是按 utf8 去显示，其中如果为静态文件， html 或者 txt 都正常，但是 php 就出错，猜测是 apache 或者 php 的原因，但在 apache 中没找到相关代码，在 php.ini 中找到如下代码 default_charset = \"utf-8\"，改成 gbk ，可以正常显示，注释这行代码，又变成 utf-8 ，也就是说，还有文件指定了 header 里的 Content-Type:text/html; charset=UTF-8\n，请问怎么正常显示？由 html 代码的 charest 解释文件编码？而不加干涉呢？</p>\n</div></div>", "<div class=\"topic_content\">标题有点不恰当，解决的办法有很多种，但是这个问题是出在环境身上，所以只考虑环境的问题。</div>", "<div class=\"topic_content\">问题已解决，是我对 php 里这个参数配置理解有误引起的，如果由 html 代码中 charset 去解析文档编码， php 不去干涉,php 网站写的是 default_charset='';这样便不会再出现 header 中（实际上还是出现了，不知道是 php 还是 apache ，相当于检测到了文档的真实编码），如果注释了代码则和 default_charset='utf-8'是同样的效果，而我以为 default_charset 是编码不明的情况下才会启用的，而实际上，不论你是 utf8 还是 gbk 对作者和编辑器是能检测到的，对 php 而言总是不明的，所以 default_charset 总是启用的，即这里写的什么就按什么显示，从某种意义上来说类似与 BOM 。</div>", "<div class=\"topic_content\">（实际上还是出现了，不知道是 php 还是 apache ，相当于检测到了文档的真实编码）上面这段文字应该去掉，后来在测试，已经真的没有了。</div>"], "reply": "13", "tittle": "PHP 引起乱码，强制 UTF-8 如何解决？", "comment": ["apache 中的配置文件里", " 我用 charset 河 utf 用关键词搜索过了，并没有，而且.html 文件不受影响，只有.php 文件受影响。", "default_charset = \"utf-8\"，改成 gbk\r", "建议改用 ini_set", "应该要把目录下*.php 文件格式全部转换 UTF-8 。", "光指定 charset=UTF-8 没有用，一定要转换文件格式的。", " 我说了，改成 gbk 当然正常，但是 utf8 文件又出错了\r", " 可能是我描述的混乱，没让你明白我的意思，这个网站是用 gbk 做的，而且没有任何问题，但是 wamp 却把当作 utf8 了，不是我的文档出错了，是环境出错了，明白了吧，我想知道是环境哪里出错了。", " 仔细看了下说明， default_charset = \"\"，设为空值，即为禁止发送编码。\r", "=====================================================\r", "\r", "; By default, PHP will output a character encoding using\r", "; the Content-type: header.  To disable sending of the charset, simply\r", "; set it to be empty.\r", ";\r", "; PHP's built-in default is text/html\r", "; ", "\r", ";default_mimetype = \"text/html\"\r", "\r", "; PHP's default character set is set to UTF-8.\r", "; ", "\r", "default_charset = \"\"", " 那你先批量把文件转成 utf8 再把这些统一设置不就好了。。", "文件又没错，为什么要改？发给你个 doc 文件，结果关联成 pdf 了，你就要转成 pdf 再看？", "我已经解释的很清楚了，能不能关闭问题？", "其实，无时无刻都使用 UTF8 ，是个好习惯。。\r", "PHP 入门学习之网站处处使用使用 UTF8 编码，传送门\r", " 看你中毒不浅。。。", " 都是踩坑踩出来的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>点击型验证码</h1>\n<p><img alt=\"\" src=\"https://workspace.v2ex.com/file/2cf55c12-0978-11e7-98d0-90b11c50e3c5/README-CLICK.jpg\"></p>\n<p>具体使用请查看 \"demo\" 文件夹</p>\n<br>\n<h1>混合型验证码</h1>\n<p><img alt=\"\" src=\"https://workspace.v2ex.com/file/31169a18-0978-11e7-98d0-90b11c50e3c5/README-MIX.jpg\"></p>\n<p>如：请输入图中的\"中文\" ， 答案：\"扇\"</p>\n<br>\n<h1>数字型验证码</h1>\n<p><img alt=\"\" src=\"https://workspace.v2ex.com/file/334fedd4-0978-11e7-98d0-90b11c50e3c5/README-NUMBER.jpg\"></p>\n<p>如：请输入图中的\"答案\" ， 答案： 68</p>\n<br>\n<p>传送门： <a href=\"https://github.com/sostuts/Vcode\" rel=\"nofollow\">https://github.com/sostuts/Vcode</a></p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>图片加载错误了，请大家直接点进  <a href=\"https://github.com/sostuts/Vcode\" rel=\"nofollow\">github</a>  里面看吧</p>\n</div></div>"], "reply": "7", "tittle": "分享个 PHP 写的验证码类", "comment": ["支持支持，建议写成 composer 包，支持 yii2 laravel tp5 更好😄😄😄", "//字体自定义\r", "$this->font_family = $font_family ?: \"c:\\\\windows\\\\fonts\\SIMYOU.ttf\";\r", "\r", "这个是什么鬼", " 哈哈， windows only 。", "  只要服务器装了字体就可以 ( Centos 上测试过 ) ， font_family 是字体路径， 可以参考 demo 里面的设置。", " 只要服务器装了字体就可以， Centos 上测试过没问题，那个只是赋个默认的 windows 字体而已", " 感谢支持", "图片红叉了啊，显示不出来。\r", "我也分享个 PHP 验证码的文章\r", "PHP 高级特性之实现验证码操作 "]},
{"content": ["<div class=\"topic_content\">有什么区别...</div>"], "reply": "8", "tittle": "null == $code 和 $code == null", "comment": ["没区别", " 不信", "真没区别", " 你骗人...", "有一天你把==打成=就知道区别了", "既然别人回答机你都不信，那你还来问什么？\r", "\r", "如果非要说有区别，那也仅仅是字面上的区别。", " 有区别,一个报错一个不报错.", "把上下文的代码贴出来看看"]},
{"content": ["<div class=\"topic_content\">调用接口时 GET,PUT,DELETE 都可以使用唯独 POST 返回 500 错误。试过 Apache5.2 版本同样有这问题,但是服务器的是 5.4.3 版本找了很多资料都没得到解决方法。大家有什么建议吗?</div>"], "reply": "2", "tittle": "调用百度云接口遇到的问题", "comment": ["如果他只让你用 get ，限制了 Post ，那你就只能用 get 啊。。 500 ，服务器内部错误？", " 但是我在服务器使用 phpStudy 时是可以用 POST 的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题第一次接触 PHP 。\n我用 clone 关键字克隆后有错误：\n$copy_of_object = clone $object;</p>\n<p>请教一下 V 友，如何正确克隆一个 RecordSet 对象</p>\n</div></div>", "<div class=\"topic_content\">我在修改 ADODB 下面 adodb.inc.php 文件的 function Execute($sql,$inputarr=false) 函数。\r<br>我想在这个函数里把$ret 对象克隆一下，或者重新构造一个新的 Recordset 对象跟$ret 一样。\r<br>请问我应该怎么做？</div>", "<div class=\"topic_content\">或者说：如果在 adodb 中 exccute 函数里修改 recordset 对象里的内容</div>"], "reply": "5", "tittle": "PHP 语言 如何克隆一个 RecordSet 对象", "comment": ["see ", "\r", "\r", "请善用搜索", " 我就是看了这个网页，不过还是没搞定，也有可能其他地方出错了吧", "贴代码吧", "麻烦你把问题描述详细点，看着完全在自问自答，然而我表示一脸懵逼", " 已经搞定了~谢谢"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题，假如现在有一些数据，想构造一个新的 recordset 对象，应该如何写？</p>\n</div></div>"], "reply": "3", "tittle": "PHP 中如何构造一个 recordset 对象", "comment": ["这是把 V2EX 当作 qq 群来用了？", " 霸气", " \r", " qq 群里都是吹逼的，给你推荐培训的~\r", "\r", "莫非我在 qq 群里问被你看到了：)"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>一直都是 WAMP 环境下开发，上手 LNMP ，照着网上教程，出了一点 Error ， 都要折腾个吧小时 google 解决</p>\n</div></div>"], "reply": "102", "tittle": "搭建 LNMP 环境， 你们用的是一键的，还是 自定义一点一点安装的啊？", "comment": ["我是纯手动安装， nginx ， php-7.0  php-7.0-fpm ，光配置就花了 10 小时各种 google 。\r", "但我还是不喜欢一键安装包，把什么狗屎都安装到 /local/usr/bin", " 是授权 IP 的。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><em>学校小霸王老是宕机，用这个方法来给同学查询是个好方法。\n收录待用，修改转载已取得<a href=\"https://www.qcloud.com/\" rel=\"nofollow\">腾讯云</a>授权</em></p>\n<hr>\n<p>我叫李宜东，是一名华中科技大学的大二学生，一名网站开发的萌新，在大一上半学期，就想做一个我们班级专属的网站，方便同学们（方便我这个学委偷懒）。\n下面放出我的网站信息架构、技术组合和从一个小白成长到现在一个小小工作室负责人的一些经验分享。</p>\n<h2>一.当前网站信息架构</h2>\n<p><img alt=\"\" src=\"//mc.qcloudimg.com/static/img/652279c14bf94b2711ba14c8c7c5ff7a/image.png\"></p>\n<h2>二.网站运行环境及技术组合</h2>\n<p><img alt=\"\" src=\"//mc.qcloudimg.com/static/img/e9bb8afc0422c3d8e0a6a01d8cc4ba2b/image.png\"></p>\n<p>注：左侧为现在的技术组合，右侧为未来可能选择的组合</p>\n<h2>三.腾讯云上环境的搭建和代码托管：</h2>\n<ul>\n<li>Windows ： UPUPW ， WAMP 或者按<a href=\"http://pan.baidu.com/s/1i52mj33\" rel=\"nofollow\">文档手动安装</a></li>\n<li>CentOS7 ：我们的工作室的同学写的<a href=\"http://pan.baidu.com/s/1nvCTt9Z\" rel=\"nofollow\">完整安装文档</a></li>\n<li>代码托管：<a href=\"https://github.com/ArrayZoneYour/TP_END\" rel=\"nofollow\">GITHUB 项目地址</a></li>\n</ul>\n<h2>四.经验分享</h2>\n<blockquote>\n<p>从一个大一小白开始，我是如何在不到一年的时间从前端到后端搭建起自己的网站呢，又为何选择这个技术组合，踩过什么坑呢？</p>\n</blockquote>\n<h4>学习及开发经验</h4>\n<ul>\n<li>利用网上平台，慕课网，实验楼，极客学院等等许多免费的学习平台都是很好的学习途径。</li>\n<li>会用插件，多 Google ， StarOverFlow 上有很多问题的解答</li>\n<li>最重要的还是保持对编程的热情，做编程会占用你大量的时间，如果没有兴趣是很难坚持下来的，多做点自己想做的，往往可以带来学习的动力。</li>\n<li>……</li>\n</ul>\n<h4>如何偷懒</h4>\n<ul>\n<li>环境配置篇：一键化安装，注意留存或收藏环境配置的文档，开发环境更新做好备份。</li>\n<li>团队协作篇：使用团队协作工具如 GITHUB ，良好的版本控制和工作流会减少冲突的代价，重要的是别人的代码不乱改：）</li>\n<li>轮子篇：合理利用现有的开源组件而不是一味造轮子，基于模板 /框架的开发会迅速很多。</li>\n<li>重构、封装篇：不要老想着重写代码，可以尝试将已有的服务封装为服务，在不改动底层的情况下进行开发：）</li>\n<li>编辑器篇：好的编辑器的代码补全，快捷键可以省不少时间。</li>\n</ul>\n<h4>选择当前技术组合的原因:</h4>\n<ul>\n<li>前端的变化:现在 HTML5 和 CSS3 使用越来越广，同时出于这学期响应式设计的需要，前端从最初的 HTML,CSS,JavaScript 转向了 HTML5,CSS3 和 jQuery ，也开始使用更多的插件。</li>\n<li>后端语言及框架选择:在性能要求不高的前提下， php 无需编译，学习成本也比较低，容易上手，但是也因为这个原因，所以需要使用框架来使项目结构和编码规范更清晰一些，而 ThinkPHP 作为流行，文档较完善的国内 PHP 框架被我作为首选。</li>\n<li>数据库选择 MySQL 的原因： PHP 的良好支持， phpmyadmin ，开源免费. 最后由于一些校内网站数据的收集和四六级成绩的查询使用了 Python 来做网络爬虫</li>\n<li>服务器的选择：<a href=\"https://www.qcloud.com/product/cvm\" rel=\"nofollow\">腾讯云服务器</a>学生 1 元支持 : )，访问快，稳定性比较好</li>\n</ul>\n<h4>技术上踩过的坑：</h4>\n<p>1.最初使用 MVC 框架时，没有模型的概念，把数据库操作也写在了控制器，维护、复用和扩展都很麻烦。\n2.数据库最初设计没有考虑扩展性，最近数据库向高版本迁移时懒得导出 sql ，复制了 data 目录到高版本 MySQL,然后数据异常，至今个人论坛还没来得及恢复数据。\n3.最初密码设计只做了简单的 md5 加密，导致现在也没能加字符 md5 。\n4.开发文档和项目文档的编写，有一天，突然翻到之前的文档，发现我写的代码已经偏离最初设计(软件课设作业:学生管理系统)，成了班级网站:)， mark ：<a href=\"https://github.com/ArrayZoneYour/TP_END/blob/master/update.md\" rel=\"nofollow\">更新日志</a></p>\n<h2>五.网站截图：</h2>\n<h4>首页</h4>\n<p><img alt=\"\" src=\"//mc.qcloudimg.com/static/img/268d00a077a8628544e698b72d824129/image.png\"></p>\n<h4>学生登陆页面</h4>\n<p><img alt=\"\" src=\"//mc.qcloudimg.com/static/img/342da27dba69ebe95cc5dfe9195cc992/image.png\"></p>\n<h4>个人信息页</h4>\n<p><img alt=\"\" src=\"//mc.qcloudimg.com/static/img/73016a0840bd6d037b032f2fec8c76ed/image.png\"></p>\n<h4>部门招新</h4>\n<p><img alt=\"\" src=\"//mc.qcloudimg.com/static/img/76742f9bde3822a529b405a76a6dd18c/image.png\"></p>\n<p><a href=\"http://hustliyidong.cn/\" rel=\"nofollow\">官网地址链接</a></p>\n<h2>六.结语</h2>\n<p>这样，我上学期在一元服务器上折腾出了班级网站，这学期，我想将全站做成响应式网站，做出更多方便同学的功能。最后，感谢腾讯云给了同学体验云服务的机会，也希望其他同学也可以在云上做出自己想要的网站 /App 。</p>\n<hr>\n<p><em>原文来自:<a href=\"https://www.qcloud.com/community/article/164816001481011828\" rel=\"nofollow\">https://www.qcloud.com/community/article/164816001481011828</a></em></p>\n</div></div>"], "reply": "3", "tittle": "玩法收藏/云服务器/如何偷懒地用 PHP 搭建一个班级网站", "comment": ["心疼好好的 bootstrap 混搭上了 qq 空间风", "这个帖子好像很早就看过。。。\r", "又拿出来发一次？", " 哈？我不知道诶，就是在腾云阁看到感觉还行，所以收录下以后试试"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://doc.open.alipay.com/doc2/detail?treeId=54&amp;articleId=103419&amp;docType=1\" rel=\"nofollow\">官方的 sdk</a></p>\n<p>各种槽点。没法 composer ，没有命名空间，引用 lotusphp_runtime...</p>\n<p>微信支付都有了 <a href=\"https://github.com/wxpay/WXPay-SDK-PHP\" rel=\"nofollow\">wxpay/WXPay-SDK-PHP</a> （话说这个是官方的吧？）<a href=\"https://github.com/wxpay\" rel=\"nofollow\">wxpay</a></p>\n<p>求问大牛们：你们在一些使用命名空间的框架里是怎么优雅的使用官方的 alipay-sdk-PHP 的？</p>\n<p>PS ：虽然也有这种第三方修改过的版本 <a href=\"https://github.com/fishlab/alipay-sdk-php\" rel=\"nofollow\">fishlab/alipay-sdk-php</a> ，但不是官方的总不是很放心（不是针对该作者的意思，作者辛苦了），另外官方更新的话也不一定能及时更新。</p>\n<p>蚂蚁金服是不是很少 php 程序猿了 0 0</p>\n</div></div>"], "reply": "31", "tittle": "吐槽一下支付宝 alipay-sdk- PHP", "comment": ["官方的 sdk 都是零几年写的吧", " 最早应该是零几年，不过现在也还在维护（因为最新下载的文件名是 alipay-sdk-PHP-20170307171629.zip ）\r", "\r", "时代都在进步了，为何他们不打算重构，这么一个大公司的 sdk 搞的辣么...\r", "\r", "隔壁 wxpay 都拥抱 github 了。", "我用的 lokielse/omnipay-alipay   简单又好用", "并不觉得不好.", "我们这边弄过蚂蚁金服的 呵呵 当时也是恶心的不行呢 后来干脆不用它 sdk 自己动手丰衣足食", "我用着倒是没啥问题……可能是因为我没用 composer 的缘由", " 问题倒是不会有啥问题，就是感觉太落伍了，而且编程规范乱七八糟，另外加载了另一个框架 lotusphp 大丈夫？", "这个其实不算是 sdk 啦，就是个 example code …各大框架有第三方开发者写的库可以用。", "我记得当时是用 composer 的 autoload 来弄个命名空间用的，现在根本不记得怎么用了，那时候还是照着别人的写法参考来的，有空得补补，这些知识不能丢啊", "你知道 python 连 SDK 都没有吗。。。。\r", "连验签都要自己做，还得抓包，用官方的 java 工具验签都报失败，我硬是自己给调过了。。。", "  嗯  是用 composer 的 classmap 属性 强制 autoload", "难道是因为阿里没有 PHP 程序员的原因？", "接触的几个阿里云 sdk 好像也是不支持 composer.", "不要依赖官方 SDK ，接触过很多 SDK ，官方的都不叫 SDK ，那叫 DEMO ，给你示范一下怎么用，能跑通，就扔给你了，去 github 搜索，如果没有可以考虑自己写个 SDK 了", " 用过，很赞", " 谢谢推荐。不过好像里面封装的 api 不够完整？只封装了一些常用的？", "我用的这个＋ yii2 框架，  github 上的， 其他框架也应该类似\r", "阿里的 php sdk 感觉质量都很差，没有 namespace ，命名不规范，不能 compser ，大部分依赖 lotus 这个早就不维护了的东西", "支付宝和微信基本上都是给一个 demo ，后面还是需要自己配合自己现有的框架重构。", "其实就是一堆 class 文件，自带的框架直接扔了，不用 composer 的话自己 require 就行。", "阿里的 sdk 就这样", "为什么一定要 composer ？为什么一定要命名空间？\r", "不瞒你说我们公司还是 php5.2 每次看到命名空间就头疼没法使用它们的 sdk ，只能找对方要 5.2 的。", " 我觉得贵公司使用汇编更好 ^ ^", " 无法 get 到点，因为古老么其实现实中，很多代码 线上跑的没有问题 不去纠结版本问题。", " 你已经 get 到点了。\r", "已经在线上跑的项目我个人也认为不好去纠结版本，但是我们不能排斥新事物是不是？\r", "你不能否认 5.6 （ 7.0/7.1 ）相比 5.2 的好处吧？", "上周也被这个 SDK 折腾了，可以不用管 lotusphp 框架， lotusphp 框架主要就是自动加载类的作用，直接找 aop/request 里面的类文件，大约 500 多个，看你需求，如果单是支付查询退款操作，用到的也不多，参考文档集成到项目里面就好了。但是这样不利于日后更新维护，看你取舍了。", " 我打算不改动原有 SDK ，把包放到 vendors/alipay/alipay-sdk-php ，再用 composer.json 里的 classmap 属性\r", "后面应该可以直接 use 命名空间？（还没实践过，按手册说的应该是可以）", "想起了那个自动加载类和某文件冲突..然后我有次不知道什么鬼 demo 都跑不过..最后没办法求救那个客服 客服说我密钥生成错了..折腾一下午..", "经实践，最终我的做法是：\r", "1 、在 vendors 下新建 alipay\r", "2 、把 SDK 里的 aop 目录拷到 alipay 下（抛弃原来 SDK 目录下的 lotusphp_runtime 和 AopSdk.php ）\r", "3 、最终目录结构是 vendors/alipay/aop\r", "4 、 composer.json 的 autoload 节点里加入：\r", "``` \r", "        \"classmap\": [\r", "                \"vendor/alipay/aop\"\r", "        ]\r", "```\r", "5 、运行``composer dump-autoload``\r", "6 、这样在项目里可以不用 require ，直接：\r", "```\r", "        // 仅测试能使用命名空间，忽略参数设置吧。。。\r", "        $a = new \\AopClient();\r", "        $b = new \\AlipayAppTokenGetRequest();\r", "        $c = $a->execute($b);\r", "```", " #29 咦？不是支持 MD 语法么？ ``` 的写法怎么不行？ `` 的写法也不行？", "其实它只是给你一个示例代码而已。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>用什么前段框架，直接用 simple_html_domsim 多简单。</p>\n<p>D:\\spider\\www&gt;casperjs s.js\nSetProcessDpiAwareness failed: \"COM error 0x80070005  (Unknown error 0x0ffffffff80070005)\"\nFirst Page: 缃戞槗鏂伴椈\nSecond Page: 缇炲-鎺㈣鐢峰コ涔嬮棿閭ｄ簺浜?</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "casperjs s.js 不知道为何那么慢呢，另外老是出错，不知道 casperjs 和 phantomjs 区别在哪里呢？怎么用合适呢？\r\n我就是想当用户输入一个地址的时候，我就去爬去内容，我这样做，是不是画蛇添足了", "comment": []},
{"content": ["<div class=\"topic_content\">打开 <a target=\"_blank\" href=\"http://120.24.244.77/phpinfo.php\" rel=\"nofollow\">http://120.24.244.77/phpinfo.php</a> 可以看到 swoole 成功运行，但是运行下面的这个代码没效果：\r<br>&lt;?php\r<br>$http = new swoole_http_server(\"0.0.0.0\", 9503);\r<br>$http-&gt;on('request', function (swoole_http_request $request, swoole_http_response $response) {\r<br>    $response-&gt;end(\"&lt;h1&gt;Hello Swoole. #\".rand(1000, 9999).\"&lt;/h1&gt;\");\r<br>});\r<br>$http-&gt;start();\r<br>\r<br>bash 运行： http_server.php 后访问 <a target=\"_blank\" href=\"http://120.24.244.77:9503\" rel=\"nofollow\">http://120.24.244.77:9503</a> 没任何效果，服务器是 nginx ， php 是 5.6 ， SSH 的账号是： root ，密码是 <a target=\"_blank\" href=\"http://CS88.com\" rel=\"nofollow\">CS88.com</a> ，文件目录在 /data/wwwroot/default</div>"], "reply": "19", "tittle": "新手求助： swoole 安装成功但是 http_server 没效果（提供阿里云账号）", "comment": ["9503 这个端口打开了？ 怎么什么也没扫到", "web 和 cli 不是一个配置， php -m 看看有没有 swoole 模块？", " 有的啊", " ]# firewall-cmd --query-port=9503/tcp;\r", "FirewallD is not running", "nginx 里面 swoole 的端口设置和你一样吗？ 默认是 9501", "把`0.0.0.0`换成你的服务器 IP(`120.24.244.77`)试试", "netstat -nltp 看看有没有监听端口 0.0.0.0:9503\r", "iptables -L -n 看看防火墙有没有把这端口拦掉\r", "如果是 centos 的话， sestatus 看看 selinux 有没有关", "阿里云在界面里面不是还有一套防火墙？ 那个端口没开？", " > 安全组\r", "看一下你的 ecs 是否加入了安全组，如果加入了，配置规则，把公网入方向加入 9503 端口。", " 那授权对象怎么设置为无限制呢？", "swoole 框架入门小 demo ", " 开发框架 swoole/", "想植入木马的朋友想多了，呵呵。", " tcp        \r", "netstat -nltp\r", "0      0 0.0.0.0:9503            0.0.0.0:*               LISTEN      2020/php\r", "\r", "# sestatus\r", "SELinux status:                 disabled\r", "\r", "实在不行我给账号您进去看看可好？", "安全组配置：\r", "允许\t自定义 TCP\t\r", "9501/9501\t地址段访问\t\r", "0.0.0.0/0\r", "1\t\r", "克隆|删除\r", "允许\t自定义 UDP\t\r", "9502/9502\t地址段访问\t\r", "0.0.0.0/0\r", "1\t\r", "克隆|删除\r", "允许\t自定义 TCP\t\r", "9502/9502\t地址段访问\t\r", "0.0.0.0/0\r", "1\t\r", "克隆|删除\r", "允许\t全部\t\r", "-1/-1\t地址段访问\t\r", "0.0.0.0/0\r", "110", "终于能访问成功了，内牛满面啊~.~", "怎么解决的？", "是端口的问题吗？", " 把服务器换成 centos6.8 ，设置 iptable 开放相应的端口， OK", " 404 啊"]},
{"content": ["<div class=\"topic_content\">sspanel v3 魔改版，为啥 mailgun 总是提示没有传入 enough required api parameters ， config.php 里配置好了，只是 mailgun-name <a target=\"_blank\" href=\"mailto:%E9%82%A3%E9%87%8C%E5%A1%AB%E7%9A%84%E6%98%AF'xxxx@xxx.xn--com',?-gr7iu5gkwpiwmsono0el91an73f\">那里填的是'xxxx@xxx.com'，有大佬帮忙吗？而且</a> mailgun 端已经是 active.</div>"], "reply": "目前尚无回", "tittle": "mailgun PHP 提示传入的参数不足", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>好气啊， Windows 下的 Memcache 扩展只支持到 PHP5.6</p>\n<p>用 Linux 虚拟机又嫌不方便</p>\n</div></div>"], "reply": "7", "tittle": "Windows 下就没有支持 PHP7 的 Memcache 扩展吗？", "comment": ["自己用 php 封装一个😳", " #1 那得用 C 吧……", "github 上有别人编译的，看你想不想用了……", " #3 还真有，感谢提醒。这个是如何做到的呢？自己写的？", "你所说的“没有”无非是指官方没有给你提供编译好的 dll ，官方没有编译你可以自己编译啊", "什么叫“自己写的”……源码都在那，自己想编译就可以编译", " #5 意思是官方已经写好了支持 PHP7 的源码，只是没有编译而已？", " 哈哈，不然为什么 linux 会有呢"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>1.在内网有两个 SQL server 数据库 ，两个数据库没有在同一个服务器下。<br>\n2.这两个数据库分别客户的消费数据和客户的详细资料，现在需要将这个两个数据库进行联合查询，查询出的结果既有客户的资料，又有客户的消费数据。<br>\n3.这两个数据库有一个相同内容的字段-&gt;手机号 <br></p>\n<p>我尝试了我尝试了 Db::connect 和模型关联 都失败了，请教一下各路大神该怎么处理？</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "thinkphp5 怎么进行跨库关联查询?", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我在写一个 ajax post 控制器的时候想到了需要做 csrf 防御。看网上说 ajax 发请求的时候可以加_token 字段或者设置请求头来解决身份问题。我在\nIlluminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken 中也看到了相关的代码：</p>\n<pre><code>protected function tokensMatch($request)\n    {\n        $sessionToken = $request-&gt;session()-&gt;token();\n        //使用_token 字段或者请求头中的 X-CSRF-TOKEN 做$token\n        $token = $request-&gt;input('_token') ?: $request-&gt;header('X-CSRF-TOKEN');\n\n        if (! $token &amp;&amp; $header = $request-&gt;header('X-XSRF-TOKEN')) {\n            //没有的话使用 cookie 中加密的 X-XSRF-TOKEN 解密之后作为$token\n            $token = $this-&gt;encrypter-&gt;decrypt($header);\n        }\n\n        if (! is_string($sessionToken) || ! is_string($token)) {\n            return false;\n        }\n        //判断是否相等\n        return hash_equals($sessionToken, $token);\n    }\n</code></pre>\n<p>好了，下面说我的疑问，</p>\n<pre><code>Route::group([\n    'prefix' =&gt; 'api'\n], function(){\n        Route::post('/collection/collect', 'Collection\\Rest\\CollectionCollectController@post')\n        -&gt;name('collectionCollect');});\n</code></pre>\n<p>以上是路由，以下是控制器</p>\n<pre><code>&lt;?php\nnamespace App\\Http\\Controllers\\Mass\\Collection\\Rest;\n\nuse App\\Http\\Controllers\\Controller;\nuse Illuminate\\Http\\Request;\nuse Illuminate\\Support\\Facades\\DB;\n\nclass CollectionCollectController extends Controller\n{\n    public function post(Request $request)\n    {\n        DB::table('collection_product')-&gt;insert([\n            'c_eid' =&gt; $request-&gt;get('c_eid'),\n            'p_eid' =&gt; $request-&gt;get('p_eid')\n        ]);\n\n        return [\n            'status' =&gt; 'ok'\n        ];\n    }\n}\n</code></pre>\n<p>我在使用使用 js 异步访问该路由的时候在上面说到的<code>tokensMatch</code>方法中试图打印出$token\n但是发现程序并没有走这个中间件。</p>\n<pre><code>protected function tokensMatch($request)\n    {\n        $sessionToken = $request-&gt;session()-&gt;token();\n        //使用_token 字段或者请求头中的 X-CSRF-TOKEN 做$token\n        $token = $request-&gt;input('_token') ?: $request-&gt;header('X-CSRF-TOKEN');\n\n        if (! $token &amp;&amp; $header = $request-&gt;header('X-XSRF-TOKEN')) {\n            //没有的话使用 cookie 中加密的 X-XSRF-TOKEN 解密之后作为$token\n            $token = $this-&gt;encrypter-&gt;decrypt($header);\n        }\n\n        if (! is_string($sessionToken) || ! is_string($token)) {\n            return false;\n        }\n        //打印$token,但是发现这里没有执行\n        dd($token);\n        return hash_equals($sessionToken, $token);\n    }\n</code></pre>\n<p>这样看来，是需要自己将 VerifyCsrfToken 中间件加到 Kernel.php 中的<code>$middlewareGroups</code>中吗？</p>\n<pre><code>protected $middlewareGroups = [\n        'web' =&gt; [\n            \\App\\Http\\Middleware\\EncryptCookies::class,\n            \\Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse::class,\n            \\Illuminate\\Session\\Middleware\\StartSession::class,\n            \\Illuminate\\View\\Middleware\\ShareErrorsFromSession::class,\n            \\App\\Http\\Middleware\\VerifyCsrfToken::class,\n            \\Illuminate\\Routing\\Middleware\\SubstituteBindings::class,\n        ],\n\n        'api' =&gt; [\n            'throttle:60,1',\n            'bindings',\n        ],\n    ];\n\n</code></pre>\n<p>加入到<code>'api'</code>中？</p>\n</div></div>"], "reply": "4", "tittle": "laravel5.3 中 ajax post 请求需要自己将 VerifyCsrfToken 加入到 Kernel. PHP 中吗？", "comment": ["看你路由注册在 web.php 还是 api.php", "取消就行。 往这各类上面看 有个变量是控制哪些路由可以取消", " 注册在 api 里面", "结帖，是需要的。"]},
{"content": ["<div class=\"topic_content\">准备用 PHP 定时请求一个大文件观测性能，但是查了查都没有找到关于 fopen ， file_get_contents ， curl 之类的函数如何得到实时速度，所以来问问各位有没有实现过的，应该如何实现？</div>", "<div class=\"topic_content\">通过 CURLOPT_PROGRESSFUNCTION 成功解决了问题， PHP-CLI 可以实时返回当前下载大小。\r<br>看起来是一秒一次，但实际我也不太清楚，不过完全够用。\r<br>用 CURLOPT_WRITEFUNCTION 时似乎直接调用了 curl ，没得到结果。\r<br>fread 循环没试过，效率应该会比 curl 高很多，但是 curl 的效率已经够用了~</div>"], "reply": "8", "tittle": "用 PHP 请求大文件时，如何得到实时速度？", "comment": ["AJAX + fastcgi_finish_request ?", "用 fread 循环，就可以读取时间差和内容长度，计算出速度了", " 然而不是用浏览器，是一个常驻命令行脚本", "可以设置 CURLOPT_PROGRESSFUNCTION\r", " 一次读多少比较好呢…\r", "有些麻烦，不过是一个好的解决方式。\r", "感谢已发！", " 也比较麻烦，不过比起自己实现方便很多。\r", "感谢已发～!", "curl 可以设置回调函数， 在里面计算当前速度。\r", "CURLOPT_WRITEFUNCTION", " 不行，在 PHP-CLI 中执行直接给调用 curl 了。\r", " 有用，十分感谢！\r", " 十分感谢，效率应该会比 curl 高，不过懒的实现啦 w~"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>用 satis 来搭建 composer 私有仓库\n在自己的项目里面 require 设置的是</p>\n<pre><code>\"require\":{\n    \"test\":\"dev-master\"\n }\n</code></pre>\n<p>但是每次在本地 update 都不是 git 上面提交的最新的代码，需要在 satis 里面重新 update 过之后才可以\n请问各位有什么解决办法么</p>\n</div></div>"], "reply": "2", "tittle": "关于 satis 私有镜像每次 update 更新不是 git master 分支最新代码的问题", "comment": ["试试 update 时加上--prefer-source 参数 \r", "\r", "更多详见： ", "\r", "更新-参数\r", "\r", "--prefer-source: 当有可用的包时，从 source 安装。\r", "--prefer-dist: 当有可用的包时，从 dist 安装。\r", "--dry-run: 模拟命令，并没有做实际的操作。\r", "--dev: 安装 require-dev 字段中列出的包（这是一个默认值）。\r", "--no-dev: 跳过 require-dev 字段中列出的包。\r", "--no-scripts: 跳过 composer.json 文件中定义的脚本。\r", "--no-plugins: 关闭 plugins 。\r", "--no-progress: 移除进度信息，这可以避免一些不处理换行的终端或脚本出现混乱的显示。\r", "--optimize-autoloader (-o): 转换 PSR-0/4 autoloading 到 classmap 可以获得更快的加载支持。特别是在生产环境下建议这么做，但由于运行需要一些时间，因此并没有作为默认值。\r", "--lock: 仅更新 lock 文件的 hash ，取消有关 lock 文件过时的警告。\r", "--with-dependencies 同时更新白名单内包的依赖关系，这将进行递归更新。", " 谢谢 prefer-source 试过了 没用 应该还是 satis 我哪里配置错了"]},
{"content": ["<div class=\"topic_content\">都说这个 ORM 工具是 laravel 慢的根源，本人从 java 过来的，先用过 hibernate ，然后过度到 mybatis ，因为有这个经历，从来不觉得硬需要一个 ORM 工具，只要数据库访问的接口方便好用灵活就行。 Laravel 的数据可基本操作可有什么非上 ORM 不可的地方吗？如果没有，能不能把 ORM 拆掉以增加速度</div>"], "reply": "24", "tittle": "Laravel 可不可以不用那个 ORM", "comment": ["你可以根本不用， DB 这个 facade 提供了足够的操作数据库的方法", " 那如果我不用这个 ORM ，在一次请求过程中 Laraval 还会加载和 ORM 相关的组件吗？", "可以不用。 equolent 太灵活，刚开始觉得很好用，越来越觉得不好用。", "你的代码你做主~", "autoload 还是会加载到类吧，但是你不用的话不会实例化他的（大概？", " 如果把『加载』定义为去 include/require 对应的文件，以及实例化对象。那么你不用到相应的功能，是不会加载的。\r", "\r", " 参见 spl_autoload_register ， autoload 具体的规则是自己实现的。 composer 所实现的 autoload 的逻辑，在你没有去用到那个类的时候，是不会去读对应的文件的", "DB:raw('raw sql command');", "可以只用 illuminate 的查询构造器", "考虑换一个轻量级的框架？", "LZ 说的太模糊，你用什么方式发现 ORM 慢的？拿数据来说话好么？能不能发代码来让大家看看？", "我只用查询构造器，主要还是简单方便，而且我对原生 sql 的阅读和理解更加快速。", "另外说一下， laravel 是按需加载。而且我有用过 xhprof 测过 laravel 的执行流程，最慢的是路由，当然 orm 也不是很快。", "可以，建议 lz 试试看 lumen", "相比于数据库的查询时间而言， ORM 的耗时其实也不算多少。\r", "当然对于高级 DBA 来说，就是喜欢一点点的玩坏 SQL 。", "本身不是提供原生 SQL 写法吗？", "慢的不是 orm,是路由什么的.  php 和 java 特性差很多.", "不用 laravel ，但 orm 只用 equolent", "那为什么要用 laravel 呢", "ORM 用过 propel 和 doctrine  ,  你没有理解 ORM 才会认为它慢， 简单的说你还不会用", "eloquent 经常拆出来单独使用", "慢是怎么得出的？", "我写复杂的 sql 不用 ORM ，太复杂了，直接用 DB::raw", "LZ 用 Phalcon 框架的 ORM 组件吧", "在 laravel 框架上做过测试，结果很意外， eloquent 是最快的，但是耗费内存也是最高的。", " 用这个吧。想换啥都行。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>问下 PHP 学到什么程度才能去找个工作呢？独立把一些前端文件开发成一个后台控制的网站还是，独立做一个后台出来？</p>\n</div></div>"], "reply": "12", "tittle": "PHP 学到什么程度才能去找个工作呢？", "comment": ["独立做一个简单的 cms 出来就差不多了。最终都要在公司项目中成长的。", "我当年看了 3 天 php 的语法,然后写了一个小玩具就去找了个工作上班了", "学习基本的 PHP 知识，了解 1 ， 2 个框架，\r", "\r", "有问题可以加我们的群问，这样效率更高，这个群是一群工程师组建的面向初学者的 \r", "Python Linux 学习群， qq 群号： 278529278 ，\r", "Php Linux 学习群， qq 群号： 476648701 ，\r", "非商业性质，拒绝广告，只接收真正想学这方面技术的朋友，交流学习，申请请说明来自 v2ex", "考了一个 PHP Certification ，入了一个外企。", " 哈哈，这个就是个坑", " 额,然后是不是拿了一个月工资回家了", "我第一份 PHP 工作入职的时候，一行 PHP 代码都没写过", "可以独立做一个博客系统就可以了，如果不学前端那就写个框架出来", " 写个框架出来，请不要误导别人 OK ？  你牛逼你实习的时候能写框架。", " 没有啊, 后来转正了. 然而...还是被辞退了==,因为那会儿我还只会 jQuery, 让我和一个刚从培训机构出来的童鞋一起撸一个巨复杂的 SPA, 当年的 JS 水平不够, 通宵了一个月 boss 还是不满意, 最后我不爽, 他们也不爽, 然后就被辞退了. 那个刚从培训机构出来的哥们儿更惨, 转行做销售去了, tmd 原来程序猿就是天天通宵,笑死我了,哈哈哈", " +1 ，我刚开始入职的时候只会 html,css ，然后 php 是边工作实践边学的，不过那一个月也没容易熬过来。", "在 nb 的系统也是基本方法写的，熟练基本方法和一些算法就可以了"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://media.weibo.cn/article?id=2309404087675895317455&amp;jumpfrom=weibocom&amp;lfid=1001018008633021200000000&amp;luicode=10000370\" rel=\"nofollow\">http://media.weibo.cn/article?id=2309404087675895317455&amp;jumpfrom=weibocom&amp;lfid=1001018008633021200000000&amp;luicode=10000370</a>\r<br><a target=\"_blank\" href=\"http://devlink.cn/\" rel=\"nofollow\">http://devlink.cn/</a>\r<br>坐标帝都，不知有多少人在关注。</div>"], "reply": "6", "tittle": "第三届 PHP 全球开发者大会要来了！", "comment": ["交友为主..", "广告为辅", "全无干货，当然了，比 swift con 还是强一点的，毕竟没有 tinyfool", "门票太贵了...", "屌丝大会？站长大会？", "还是到时看 PPT 吧"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Github: <a href=\"https://github.com/phwoolcon\" rel=\"nofollow\">https://github.com/phwoolcon</a></p>\n<p>简介: <a href=\"https://github.com/phwoolcon/bootstrap/blob/master/README-zh.md\" rel=\"nofollow\">https://github.com/phwoolcon/bootstrap/blob/master/README-zh.md</a></p>\n<p>一开始目的是打算做一个高性能的两栖框架（兼容 php-fpm 和守护进程模式），后来顺带解决了模块化和简化 composer 部署的问题。</p>\n<p>目前公司内部新项目都在使用这个框架进行开发。</p>\n<p>由于文档严重欠缺，思路也还没有完全定型，来这里骗 star 实在有点不好意思。</p>\n</div></div>"], "reply": "20", "tittle": "自荐一个 phalcon + swoole 框架", "comment": ["用的是 phalcon 的那个版本？？？？", "swoole 可以升级到 2.0 了，自带 coroutine", "复杂要死，最好是开箱即用把。还得弄半天，结果感觉也不是很好", " 如果太过复杂，就不如切换到 Go 或者 Java ，性能天生好，解决方案也更成熟，轮子也远远的多", " 作者出发点很好，只是希望能降低使用成本，小白 PHP 很多，目前这样的，上手还是有点难度", " PHP 的解决方案也不赖。 Go 呢，现在是啥都有，感觉开发 Web 还是 PHP ，对于个人开发者，小型企业首选。", " 从 phalcon 2.0 开始开发，一路跟随 phalcon 版本升级，单元测试用的是最新版本（ 3.0.4 ）， 2.0 现在没做测试，应该也支持吧……", " 嗯， swoole 现在用的也是最新版本， 1.9 的兼容性问题已经解决了。\r", "\r", " 不过对协程，我是只知其一不知其二，还不敢用。", "只想要一个独立的协程实现，可以简单在现有业务中使用，不需要换框架装扩展", "\r", "\r", "因为要执行“模块化”的理念，还要方便跟进版本，不更改框架目录结构，也不碰 composer.json ，所以我引用了 `wikimedia/composer-merge-plugin`，割裂了工作目录和真正的项目代码仓库（因为我把项目作为一个 composer 组建引进来），使得整个架构变得复杂。\r", "\r", "后面我会增加一些工具，尽量做到开箱即用，至少初始化、创建本地 composer 仓库，不用那么多手动操作。", " 我对协程还不得要领，欢迎分享！", "这个模块化的方式很特别，非常受启发，感谢。", " 是的，这点是我误打误撞中想到的办法（看到有赞，正在洋洋得意中）", "说个题外话，关于单元测试的。\r", "\r", "我是从这个框架开始认真做单元测试的，感觉测试的好处其实不在于测试本身，而是你要迫使自己写出可测试的代码时，这个过程会让你重新组织你的思路，对自己要做的事情，对业务逻辑会有更清晰的认识。", " 现在已经没有比较纯粹的 web 项目了，页面的生成往往由客户端完成，服务端只负责 API 和吞吐数据。从开发效率，和生态上看， PHP 已经不是首选了， python 更胜一筹， rails 的开发效率更高。 Java 框架也在进化，有了 spring boot 之后，简化了很多，加上静态语言的 IDE 能力，开发效率也得到了极大的提高。当下， Go 语言也是非常不错的选择了。", "phalcon 是个巨坑，可能比 lumen 还大，要慎重", " 方便分享一下你的故事吗？我也踩了一些坑，有些是用自己实现方法去避开，有些避不开就提交 pull request 给 phalcon ，感觉还可以吧。对 phalcon 有些不喜欢的地方，例如 phql ， redis/memcache cache 部分，还有 di 里面的 Closure::bind()。\r", "\r", "swoole 也踩过，也提了 pull request ，不过 swoole 我现在只用到很少一部分。\r", "\r", "\r", " 现在做 web 的实在是五花八门，尤其是 js ，感觉要一统天下。", "phalcon 除了性能和相对使用简单，其它就是半吊子的 DI ，半吊子的模板引擎，半吊子的 ORM ，坑略多。\r", "\r", "\r", "DI 没有实现自己的配置表达式，本来配置新类替换老类，只需要一行 yml ， phalcon 需要手写 PHP ，容易出错。\r", "\r", "volt 模版引擎不知道现在有没有实现安全沙盒、局部 render 等功能，体验就是个阉割版的 twig ，不如直接用 twig 。\r", "\r", "\r", "ORM 不知道现在能否通过类 annotation 自动生成到数据库中，自动把数据库表状态映射到类代码中，数据迁移 migration 当时我用的时候也没提供。\r", "\r", "到后期项目膨大后，维护起来还是有点苦恼的，什么都是半吊子， feature 说起来都有，但用起来没有老牌的专业，反正我当时做完项目后就不想用了。\r", "\r", "\r", "\r", "支持 swoole ，比我以前手撸 libevent 好多了 大大提高生产力。", " 非常感谢分享！我不擅长归纳总结，看到你说的是眼前一亮！\r", "\r", "你遇到的问题我基本上也遇到了，我也说一下感受。\r", "\r", "DI 我倒是喜欢用 php 来配置，用 ::class 关键字写类名，可获得 IDE 自动完成加持，反而不容易错。例如替换 User 类：\r", "\r", "use Phwoolcon\\Model\\User as PhwoolconUser;\r", "use My\\Project\\Model\\User as MyUser;\r", "\r", "// Inject front user model\r", "$di->set(PhwoolconUser::class, MyUser::class);\r", "\r", "模板我直接用 php 。\r", "\r", "ORM 的数据表字段和对象属性映射，我是反过来，从数据表里面读出来然后生成的，放在一个 ModelTrait 里面（ ", " ）。\r", "\r", "phalcon 的 console 不敢恭维，我是用了 symfony 的。\r", "\r", "migrate 是仿照 laravel 的那一套自己开发的。\r", "\r", "config 也是仿照 laravel 那一套，做了 environment config ，然后增加了 override config 和 db config 。"]},
{"content": ["<div class=\"topic_content\">或者有别的靠谱的培训机构推荐吗？顺便问下目前 PHP 的就业形势咋样？</div>"], "reply": "1", "tittle": "有在传智播客培训过的 phper 吗？", "comment": ["1"]},
{"content": ["<div class=\"topic_content\">在网上搜索 PDO 相关信息，基本上清一色看到能避免拖库风险，最多再说一句诸如某个版本以下的 PDO 有风险，要用更高版本的。\r<br>\r<br>那么假如说现在有一个网站，所有数据库操作全是基于 PDO 的，没有任何手动拼接 SQL 语句的操作，对外只开放 80 端口，不考虑内鬼往代码里加后门这种情况，是不是就不存在注入风险了？会不会依然被拖库呢？</div>"], "reply": "11", "tittle": "一个 PHP +mysql 网站，只用 PDO 方式连接数据库，还会被拖库吗？", "comment": ["然后被旁注了（逃", "只能说会好很多", "我记得是 5.3.8 及以上版本就没问题了，并且要禁止本地模拟 预处理。基本可以防止注入了。\r", "但是还有 XSS ，其他软件端口公开，弱口令，禁用高权限账号什么的。。", "如果数据库所在的服务器 ...........", "注入与被脱裤不能划等号", "接上，而且跟 PDO 没有直接关系，防注入是依赖参数绑定，这个不止 PDO 支持， mysqli 也支持。", "入侵网站的本质是拿到 webshell 或者提权，如果还有上传漏洞或者其他方式可以写入 webshell ，或者 ssh ， 3389 的密码都是弱口令，那也不安全。", "不拼接 sql 能解决百分之 99 的注入", "PDO 基本能解决注入问题，脱裤不止注入", "你项目的价值还没有安全的价格高。。。", "比如 redis 绑定了 0.0.0.0 有漏洞的版本一样可以脱裤 pdo 只是防止注入而已"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我叫做 eid 好像不好使啊。\n是用在 product 和 tag 这两个实体之间。\n这是定义在 product 模型上的</p>\n<pre><code>public function tags()\n{\n\treturn $this-&gt;morphToMany(Tag::class, 'taggable');\n}\n</code></pre>\n<p>相关表结构</p>\n<ul>\n<li>\n<p>products</p>\n<ul>\n<li>eid (主键)</li>\n<li>...</li>\n</ul>\n</li>\n<li>\n<p>tagables</p>\n<ul>\n<li>id (主键，递增)</li>\n<li>tag_id</li>\n<li>taggable_type</li>\n<li>taggable_id</li>\n</ul>\n</li>\n</ul>\n</div></div>"], "reply": "2", "tittle": "请问使用 laravel 的多对多的多态关联父表主键必须是叫做'id'吗？", "comment": ["\r", "MorphToMany morphToMany(string $related, string $name, string $table = null, string $foreignKey = null, string $relatedKey = null, bool $inverse = false)", " 好像不太对啊，这里是第几个值来设置父表的键？我试了$foreignKey 不太对啊啊"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近开发的时候用 compsoer 安装一些包的时候突然就没用了.\n输入任何 composer 指令在终端都没有输出, 有人遇到过这种情况吗?\n另外我的 php-cli 好像有的时候也会有类似问题, 例如 <code>php artisan</code> 也无法执行.\n关键是我都不知道怎么去找问题啊!!!!! 只能重启机器, 不过好像用了一段时间之后又会出现.\n知道的小伙伴帮帮忙, 谢谢.</p>\n</div></div>"], "reply": "8", "tittle": "OSX 系统下 composer 为毛老是坏掉", "comment": ["这种情况你得去看日志，不然别人也不知道是因为什么原因。", " 没做过这种事情, 还请指教, 我想知道应该去看哪些东西的日志? php 吗?", "估计是被墙了吧，改源了么？", " 连 php artisan 也不能执行，那就自己随便写个脚本用 PHP 执行试试，看下 php-cli 有没有正常运行。", "反正我曾经因为 opcache 开了 cli 模式经常卡死", "人生苦短, 我用 docker 😂\r", "\r", "docker run --rm -it -v $PWD:/www -w /www hteen/php composer install", "$ which php\r", "$ which composer", " 多谢建议"]},
{"content": ["<div class=\"topic_content\">请输出该结果\r<br>echo '6+5' . 9+7;</div>"], "reply": "74", "tittle": "给 phper 出一道基本的面试题, 做错了得加强基础了/", "comment": ["6+516\r", "不知道对不对", " 面壁去了", "13", "126 么- -", "你离挨喷还有三十米。", "不懂为什么是 13 ，能解释下吗？", "13 实际 计算为 6+7\r", "和 “ 123abc ” +1 输出结果为 int  124 一个性质", " 那么快揭晓答案 , 没意思啦, 我就像看看有多少人会做错", "这道题考的应该是运算符的优先级和类型的转换的吧，然而我做错了。", " 字符串类型和数值类型 做运算 只能取到 第一个非数字字符串前的数字进行计算  如果是 “ a6+5 ”.9+7 结果就变成 7 了。", " 啊哈哈哈 能删吗。 ( ⊙ o ⊙ )！", " 你把加法换成乘除  又得错一批。 哈哈哈。", " 也就是说 \r", "echo '6+5' . 9+7\r", "// ‘ 6+59 ’+7=6+7=13", " 对头。 不过就加减法 有用。 乘除法输出的结果 又不一样 优先级的问题。", "为什么有人会写这种屎一样的代码呢？", "..捂脸", "服!", "echo '6+5' . (9+7) \r", "echo '6+5' . 9*7\r", "\r", "+-.  这 3 个运算符就不该设定为同一优先级。字符串连接符的优先级设置到最低的话，少好多事情", "现在这种面试题都喜欢考歪门邪道的代码写法。看看 c prime plus 之类的书籍会有考 i+++++i 等于多少之类的习题吗？", "碰到代码可能出现结果歧义的坑尽可能用 intval ， strval 解决，碰到可能出现优先级歧义的坑用括号括起来这些都是国外很多优秀书籍会强调的地方。而不是写这种含糊不清的代码然后作为坑留给下一个接手的人。", "你知道“茴”字有多少种写法吗？\r", "不知道，反正用不上。", "我觉得出类似的这种题最为笔试题的都是 213\r", "谁特么会写这么烂代码", "解： '6+5' . 9+7\r", "\r", "知识点：\r", "1.  运算符优先级：这里“. +”运算符的优先级一样，所以从左到右依次运算\r", "2. 字符串做算数运算，字符串会从左到右开始直到不是数字的字符为止转为 int 类型进行算术运算 \r", "\r", "step 1: '6+5' . 9 => '6+59'\r", "step 2: '6+59' + 7 => 6 + 7 => 13", "然后回答正确，哈哈。", "我觉得这个语句就应该直接报错， ERROR ：代码出错啦，字符串不能加数字！", "看到这样的面试题不应该是扭头就走吗？ --引用一位 V 友的话", "还要说一句，这样的代码真的是反人类的代码。不过我还是默默的弄清楚原理吧...溜", "虽然知道考的是运算符优先级的问题，但还是做错了= =\r", "\r", "其实每次遇到这种题的时候都很纠结：\r", "一边想吐槽实际项目敢写这种代码的肯定在 review 的时候会被打死；\r", "一边也想所谓的知己知彼，弄清楚原理自己遇到才不会踩坑；\r", "\r", "然而踩得坑多了很多时候也只是记起来“哦，这一块有坑”，遇到的时候还是会手动求证一下...\r", "\r", "或许这也是这类题目总是会被喷又不断有人出的原因？", "这种代码和 i=++i++i++i++ 一样吧？", "出这种题的，必然是傻逼喽。", "括号键坏了？", "这种奇技淫巧弄出来是找喷的", "面试官就算不是公司技术水平最高的人，至少也是核心骨干吧，出这种面试题的公司我选择筛掉它，要么连面试的目的都不知道，要么什么是真正的基础搞不清楚", "哪个 sb 公司出这种题，扭头就跑", "考校这种东西有意义么？工作中有谁会这么写逻辑。。。", "那为何不问 echo '6+5' . 9+7 和 echo '6+5'.9+7 及 echo '6+5' .9 + 7 的区别？", "intval('123abc')===123 ！！！\r", "跟 JS 的 parseInt 返回一样的。", "出这题的，中谭浩强的毒太深 没救了 直接拉太平间火化了吧", "茴字的六种写法，你会么？", "没任何意义，写出这样的代码，基本也不用混了🙅", " \r", "\r", "不觉得。\r", "\r", "我倒是觉得这原因是 PHP 花样坑人，因为这里在拼接字符串的时候又引入了 PHP 自动类型转换的规则。而 PHP 的转换规则很多时候就是在造坑。\r", "\r", "比如例子里的 ((int)'6+1') == intval('6+1') == 6 。从其他语言的叫都上来看完全属于设计不合理，因为会导致混乱。\r", "\r", "试想如果你想严格判断整数输入的话，只能在 intval 转换前再加上一些格式判断，否则甚至可能就会导致安全问题（比如 var_dump('0e1' == '0e2') => true ）。\r", "\r", "在语言这么坑的情况下，想写出安全稳定的程序真是如履薄冰。", "楼主是来黑最好语言的吧", " #40 \r", "就运算符优先级这种问题来说，合格的 PHPer 的套路是 不去管它优先级，显而易见的加法乘法不算，其他能括号就括号，能拆开写就不连一起写 没必要炫技 就算你现在写的优先级对，万一哪天 PHP 大升级调整优先级规则 那之前历史代码全得一点点改", "看不懂", " 来来来，楼主请答一下这题\r", "class A{\r", "  public $bar = 1;\r", "  public $c = 2;\r", "}\r", "$a = new A();\r", "$bar = ['baz'=>'c'];\r", "echo $a->$bar['baz'];\r", "\r", " \r", "js 嘛，坑多了去了\r", "比如这个\r", "if([]){alert(0);};\r", "if([]==false){alert(1);};\r", "if(![]==false){alert(2);};", "没有意义，写这种代码的人会被打死", "看到 LZ 被喷我就放心了   --  加个括号会死啊！", " 走对第一步，却走错了第二部，是不是要重新回炉下基础知识 /苦笑", "看到楼主被喷我就放心了", "这种题目的意义不在于程序员为什么会写出这种代码，而在于 phper 要关注代码的安全性。如果大家做过 web 渗透或者代码审计的话，就不会喷了，因为很多情况下可以通过这种强制类型转换绕过一些判断。", " 然后就没有人接你这个话了。\r", "\r", "```\r", "php -r 'echo '6+5' . 9+7 . PHP_EOL;';\r", "126\r", "```", "有几种情况：\r", "\r", "1. 126\r", "\r", "php -r 'echo '6+5' . 9 + 7;'\r", "\r", "相当于 intval('11' . '9') + 7\r", "\r", "\r", "2. 13\r", "\r", "php -r \"echo '6+5' . 9 + 7;\"\r", "\r", "相当于 '6+59' + 7 = 6 + 7 ，运行会报警 Notice: A non well formed numeric value encountered ，说明有碰到这种非预期的数值转化，可能有 bug 。\r", "\r", "\r", "3. syntax error\r", "\r", "php -r \"echo '6+5'.9 + 7;\"\r", "\r", "报错 PHP Parse error:  syntax error, unexpected '.9' (T_DNUMBER), expecting ',' or ';' in Command line code on line 1\r", "『.9 』 被当成符号了， echo 后面只支持 『,』和『;』。", " 赞。", " 第一种情况，单引号里面内容是不会被解释的，肯定错了", "为什么要写这样的代码？炫技？", " 跟语言没太大关系的，真心想死的人，没人拦得住", "不好意思。报错了。 Parse error: syntax error, unexpected '.9' (T_DNUMBER), expecting ',' or ';'  你们是怎么运行的？", "遇到坑就不能绕道走吗？非要在上面拉条钢丝去走。", "echo '6+5' . 9+7;\r", "考察 内容有：\r", "运算优先级\r", "隐式转换\r", "1.按照优先级  从左到右\r", " '6+5' . 9  ：  左边是字符串 所以字符连接 是“ 6+59 “\r", "2.隐式转换 （整型）\r", "“ 6+59 “ 按照规则 转化为 6 因为出现了 + 所以只转换 6 为数字\r", "3.加法运算\r", "6+7 = 13\r", "\r", "不清楚问题的可以 看看《 php 编程》这本书 对这些讲解还是很清楚的 \r", "\r", "不过私以为  作为面试题 不是很合适  因为好久没练习了", "真是 13 ，没报错， PHP7 环境\r", "果然没记住算数+和字符串.是同一个优先级", "为什么要写这样的代码？🤔🤔🤔", " \r", " \r", "\r", "我的意思是，对 字符串 => Integer 转换进行这样设计，会造成很多问题。\r", "\r", "如果能让无法转换成目标类型的值在转换时返回 Mismatch 之类就好了，就算退一步来说也可以丢出异常让程序停止运行。\r", "\r", "而 PHP 现在的处理方式是将问题压制下去，自己尝试解析字符串给出一个结果。但是它解析出的结果在很多时候都不是合理的。\r", "\r", "'6+5' . (9+7) 是能单单解决这一个问题没错，但是原因只是因为“.”运算符将后面那个 integer 转换成了 string 然后才与字符串'6+5'进行了拼接而已。但是缺陷仍然存在：每次你尝试将一个 string 转换成 integer/float 的时候都冒着风险。", "#bash> php -r \"echo '6+5' . 9+7;\"\r", "PHP Notice:  A non well formed numeric value encountered in Command line code on line 1\r", "PHP Stack trace:\r", "PHP   1. {main}() Command line code:0\r", "\r", "Notice: A non well formed numeric value encountered in Command line code on line 1\r", "\r", "Call Stack:\r", "    0.0001     352568   1. {main}() Command line code:0\r", "\r", "13\r", "\r", "如果你说你关了报错，我无话可说", " 第二步错了哈，哈哈，求详解", " 我是说我自己走错了第二步，并非说你…哈哈哈", "Parse error: parse error, expecting `','' or `';''", " 哈哈", " 有 notice 级别的提醒的。没说程序员只看 error 别的不管，你看例如 laravel 的项目默认就是哪怕 notice 级别的信息也不能忽略", " 厉害了，哥", " （假定你是回复我的） @", " \r", "\r", "首先，其实，我说的是哪怕 echo intval('6+5' . 9) + 7;的情况。\r", "\r", "另外，奇怪：\r", "[nick@localhost]~% php -r \"phpinfo();\" | grep \"Loaded Configuration\"\r", "Loaded Configuration File => /etc/php.ini\r", "[nick@localhost]~% cat /etc/php.ini | grep \"error_reporting =\\|display_errors =\" \r", "error_reporting = E_ALL\r", "display_errors = On\r", "[nick@localhost]~% php -r \"phpinfo();\" | grep \"error_reporting\\|display_errors\"\r", "display_errors => STDOUT => STDOUT\r", "error_reporting => 32767 => 32767\r", "[nick@localhost]~% php -r \"echo E_ALL;\"\r", "32767%\r", "\r", "// 让 PHP 报告 Notice\r", "[nick@localhost]~% php -r 'echo $a;' \r", "PHP Notice:  Undefined variable: a in Command line code on line 1\r", "\r", "Notice: Undefined variable: a in Command line code on line 1\r", "\r", "// 没有报告 Notice\r", "[nick@localhost]~% php -r \"echo '6+5' . 9 + 7;\"\r", "13%\r", "\r", "[nick@localhost]~% php -v          \r", "PHP 7.0.17 (cli) (built: Mar 15 2017 07:25:27) ( NTS )\r", "Copyright (c) 1997-2017 The PHP Group\r", "Zend Engine v3.0.0, Copyright (c) 1998-2017 Zend Technologies", " \r", " \r", "\r", "我发现了，这是 7.1 修正的内容：\r", "\r", "\r", "> Version 7.1.0\r", "> .....\r", "> Number operators taking numeric strings now emit E_NOTICEs or E_WARNINGs when given malformed numeric strings.\r", "\r", "们那么貌似就是在说正在做我所希望的那些变更。\r", "\r", "另外我搜索了一下 \"A non well formed numeric value encountered\" 这段字符串。发现很多的项目中招了，所以你看，楼主的问题可能并不是完全没有启发作用？", "“比如例子里的 ((int)'6+1') == intval('6+1') == 6 。从其他语言的角度上来看完全属于设计不合理，因为会导致混乱。 ” 其实这不属于设计不合理。这是人类的认知 bug 。举例: 红色的“蓝色”，和蓝色的“红色”，问你这是什么颜色， php 说前者是蓝色，后者是红色，完全没有错啊！人之所以被误导，因为你自己过多解读了。而且从实现难度上， php 那种 string 解析为 int 的方式更简单， c 不也是这样吗？ php 错在不同类型还可以用加法。这一点上， Java 做得最好。", " java 里数字之间可以相加，字符串之间可以相加（字符串连接），字符串数字之间也可以相加（同样也是字符串连接）； php 至少把数字相加和字符串连接区分开来了。", " Sorry ，试了下 Java 确实可以。", "这种问题。。唉。。捂脸"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>LZ 正在学用 Lumen 做 API 。如果一个博客里面访客 POST 每条评论都需要填写图片验证码， Lumen 里应该如何优雅的实现？（新的 Lumen 已经抛弃了 Session 支持）</p>\n</div></div>"], "reply": "2", "tittle": "lumen 表单图片验证码的正确姿势", "comment": ["Session 没了，你可以用缓存代替，至于用文件缓存还是 Redis 可以自己选择\r", "验证部分你可以用验证类实现或者中间件，如果你以前实现已登录用户评论，那么实现这个也是类似，只是把 token 之类换成验证码而已。", "在 redis 中维护一个 token 对应验证码图片本身字符的键值对。提交的时候去 redis 里面判断"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"http://www.yunbaogong.cn/%E7%B1%BB%E4%BC%BC%E4%BA%8E%E8%BF%99%E7%A7%8D%E7%9A%84%EF%BC%8C%E8%B0%81%E5%81%9A%E8%BF%87%EF%BC%8C%E6%B1%82%E6%8C%87%E5%AF%BC\" rel=\"nofollow\">http://www.yunbaogong.cn/类似于这种的，谁做过，求指导</a></p>\n</div></div>"], "reply": "8", "tittle": "谁开发过微信公众号的商城", "comment": ["  看看人人商城的源码吧", "做过一个类似的，联系 ", " 聊聊吧", "公司几个同事一起做过一个。这种又没啥特别的，就普通的公众号加一点电商的内容", "看看 鲜咖啡 的，偷笑：）", " 加下好友，聊聊? 我的微信是 wang851090500", " 去弄个 https 证书啊 -.- \r", "微擎也是收费的吧？貌似漏洞很多的样子", " 是收费的吧。移动端 https 有何好处？"]},
{"content": ["<div class=\"topic_content\">刚看了一下 github 上有人写的博客程序，用 ci 框架写的，\r<br>里面有个类似 {SELECT * FROM  `article` LIMIT 参数 1 , 参数 2}的控制器，其中的参数 2 居然是 0 ，按道理参数 2 为 0 的话，数据读不出来，机子上运行了一下，居然可以，我就打开 ci 的核心库看看函数是咋写的，居然没看懂！里面有这样一段\r<br>\r<br>public function limit($value, $offset = 0)\r<br>\t{\r<br>\t\tis_null($value) OR $this-&gt;qb_limit = (int) $value;\r<br>\t\tempty($offset) OR $this-&gt;qb_offset = (int) $offset;\r<br>\t\treturn $this;\r<br>\t}\r<br>函数中间两行我没看懂，第一次见这种写法， bool 运算后转 int ？？\r<br>大家麻烦看一下</div>"], "reply": "5", "tittle": "看了一下 ci 源码，有一段没搞懂什么意思", "comment": ["你就把 OR 看成 else 好了", "or 表示有 true 就是真，所以如果 or 左侧是 true 的话，就会忽略右侧的语句。\r", "\r", "比如第一句的意思， is_null() 检查 $value 是否为空, 如果是空的, 返回 true; 既然是 true 的, 那么不在执行后面的赋值语句", " 谢谢你们的耐心解答\r", "if else", "记得有个叫什么运算符短路说法，谷歌一下这个关键字吧。"]},
{"content": ["<div class=\"topic_content\">找了近 2 个星期工作，看拉钩发布的职位给的薪资范围都是 10-15 ， 15-20. 中间也面试了几个，感觉聊的挺好，问的技术问题也能答上来 80%左右吧。但是目前没接到 offer 呢。本人专科\r<br>\r<br>\r<br>虽然没有什么牛逼的技术，正常的业务感觉都可以写，什么 linux 、 redis 、 docker 这些也能用起来。\r<br>\r<br>想问下帝都的朋友们，目前技术水平中级的码农， 13K 是否要高了。我自己觉得不高，但是看了今年就业不景气啊</div>", "<div class=\"topic_content\">老铁们，我记得我刚找工作那会，一天都能面试个 2 家，最多的 4 家。但是这 2 年貌似不行了啊。所以我想知道的是近期的一些情况。</div>"], "reply": "149", "tittle": "将近 3 年工作经验，在帝都报 13K-14K 感觉高了吗", "comment": ["翻页", "next page", " 大兄弟，现在正规考本科应该就自考吧。其他没路子了吧。不太了解这块", "听了你说的情况，我觉得薪水还行。现在有很多公司都缺人呢。估计是 3 月是离职高峰期，一些企业想多一些选择吧。你才找 2 个星期就失望了啊，我之前可是找了一个多月呢。每次找工作不仅仅是对企业负责也是对自己负责。所以好好准备哈，祝你好运哟", "有人三年上清华，有人三年上____，时间不能说明什么\r", "\r", "一个无产阶级，给资本家出卖时间，当然要对方愿意买才行。而现实就是如此", " 谢谢大兄弟的鼓励。继续加油", " 你好像太过乐观了，学历基本都是指的统招，成人自考什么的都没什么大用", "我知道的应届生在北京有 20K, 当然是比较厉害那些", " 准备两份简历！你懂我的意思\r", "\r", "我和另外一个人 同样卖草莓，他的 10 块  我的 20 ，我真不一定比他卖得少", "一半是能力，一半是运气。 13K 没毛病", "不多,不过有的公司看学历..", " 差不多吧 我知道一个很厉害的应届 40w", " 要是学历基本都是统招，那其他的怎么办。", "不高啊， 13K 感觉有点低...", "很可能是你要低了", "都是大佬", " 毕业前在学校专门搞 ios ， 16 年毕业了等于失业，移动开发根本没人要，然后转 php 了", " 很想请教下你 自考本科的学历认可度如何（听闻是基本没人看 搞的考的也很纠结）。 我也在考，感觉前半部分经历有点像=-=", " 感觉 boss 比拉勾更不靠谱", "我日，看大家的留言，今年行情是真的不好，或者说除了大厂外行情都不好", "1 年工作经验 50k/月我也是见到过的。", "不应该啊 帝都 13k 啊  帝都不是毕业都起码 15 起吗", "现在环境这么差，各档程序员都溢出了", "毕业好几年了还看学历吗？", "Ios ，前端等不是一毕业就有这个价格了吗？", "有简历么哥们 throw 一个过来?", " \r", " \r", "没什么人看~但是去大公司这是敲门砖~要不然你过不了 HR 这一关~过了 才能聊技术~", "今年行情就是不好，去年的时候，我去 boss 上挂了简历，一天得有 5\\6 个找我聊的，今年挂上了，一个找我聊的都没", "3 年 Android 也没人要 坐标杭州", "除开学历，这 3 年没混的话这价可以了", " 楼主 3 年经验, 开的这个价格在两三年前那时候是可以了... 现在的行情和两三年前还是有点区别...", "小公司都已经黄了，大公司需要真正有本事的人，而不是螺丝钉，所以兄弟，想留下，就别跟以前的行情比了。", " 是的。所以不在去大公司的情况下，我确实没怎么多报", " 谢谢兄弟。", "好久不见啊。\r", "你这个感觉写少了，正常应该是 15k 以上啊。", "最近几个朋友换工作，都反映今年行情不好。。。", "个人觉得 2-3 年工作经验的 phper, 没有什么牛逼的经历的, 13K 就是一个普遍的薪酬.", " 我没用过 Boss ，但是我用拉勾的感觉是这辈子再也不会用了。。。我们之前待的公司，就是在拉勾上长年挂着招聘，其实很多都不招，只有很少的几个职位招", "扎铁了，老心。\r", "\r", "最近势头不好，按理说这价格帝都没问题，但如果看重公司前景，少点也可以的。", "经济下行，行情很不好，这时候就要拼干货了（学历），很遗憾", " 行业不景气啊现在", " 同感", " 怪自己了。上学的时候没好好上，玩心太重。老大徒伤悲，怨不得别人。", " 扎心了，老铁。\r", "没办法了，只能现在努力了。", "有好多公司都把研发部门放到二线城市降低成本。。。", "感觉地了？", " 今年行情确实不好，大环境的问题", "有没有做兼职的，我这里有活儿。 PHP 建站，微信开发，商城网站等，有意向可以加下我微信  wang851090500 ，备注 v 站好友", "坐标广州， PHPer 也很难找，奇怪了"]},
{"content": ["<div class=\"topic_content\">小城市 小公司 干了快一年了 平时就写写一些主页 oa 财务 系统之类的 公司既不是软件也不是外包 \r<br>\r<br>  由于小城市工资比较低 而且活太少 想去北上广这种一线看看 无法确定自己的水平带底跟不跟的上\r<br> \r<br>  搜了很多地方 重点： 无法确定怎么对自己的知识面差缺不漏以及自己一年的水平（去一线）究竟能拿多少\r<br>\r<br>  ps ：自学的 没系统学过 有时感觉自己好像什么业务逻辑都能写 有时候又觉得自己好像啥都不会</div>"], "reply": "2", "tittle": "如何评判自身的技能水平和差缺补漏", "comment": ["求各位大佬给给建议", "面试时成长是最快的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"http://LiveEdu.tv\" rel=\"nofollow\">LiveEdu.tv</a> 改版后第一个与 PHP 相关的优质项目教程直播将在今天（ EST 时间）开播喽。一起来学习如何用 PHP 创建 Web App:</p>\n<p>Premium Project Tutorials: How to Create Hotel Booking web app in PHP\nTime: 3PM EST\nDate: March 27</p>\n<p>教程的具体介绍和直播链接： <a href=\"https://www.liveedu.tv/onko/lN60A-how-to-create-hotel-booking-web-app-in-php/\" rel=\"nofollow\">https://www.liveedu.tv/onko/lN60A-how-to-create-hotel-booking-web-app-in-php/</a></p>\n</div></div>"], "reply": "6", "tittle": "如何用 PHP 创建酒店订房的 WEB APP", "comment": ["要钱的，肿么办", " ：优质项目教程的直播是要收费的，但每个月只需 9.99 美金。", "太贵了，买不起", " : 做个小调查，大家觉得对于国内用户，什么样的价格大家觉得更能接受？", " 我不知道你跟这个 web 有啥利益关系，可以肯定的是这个网站在国内推广不起来，首先，网速不行，其二，贵。其三，过不了多久国内就有人山寨了。所以你也很难推广。", " ： 谢谢你的意见。网速的问题的确是存在的，对国内用户是个硬伤。所以现在他们让用户在观看视频和直播时选择不同的像素。关于价格，肯定会有人觉得可以接受，有人会觉得贵，所以会有一个调节过程。其三，山寨的问题，这也是无可避免的，每一个平台要成长起来，是要有一个很艰难的过程。但遇到困难，是要想去办法解决，而不是放弃。"]},
{"content": ["<div class=\"topic_content\">有个表，三百万数据，又必须使用模糊查询，但是模糊查询经常吧 cpu 占满（ 1 核 2G ），这种怎么解决为好？</div>"], "reply": "8", "tittle": "CPU 被 sql 语句占满有什么办法？", "comment": ["扩容", "上 elasticsearch 做查询", "本来想说上 es ，但是这配置太差。。。 es 估计够呛", "没对比过 mongo 的 text 索引和 mysql ，可以试下 mongo 的", "不多加其他资源的情况下，可以切分数据拆为多行，在执行模糊查询。可以按标点符号切分，如果数据允许也可以中分。", "看样子最直接的办法就是提升配置了", "配置太低了", "为什么必须模糊查询？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>开源研习社 组织的针对各类开源项目的实战和在线交流：</p>\n<p>本主题为：</p>\n<p>PDF 处理类  <a href=\"http://www.pdfparser.org/demo\" rel=\"nofollow\">http://www.pdfparser.org/demo</a></p>\n<p>看可以用这个库做啥有意思的事情，或者应用。</p>\n<p>交流、提问，入 QQ 群 ：  337211942</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "PHP 开源实战主题： PDF 处理类 pdfparser", "comment": []},
{"content": "", "reply": "14", "tittle": "请问 PHP 里边<? PHP .... ?> 这样才行,否则不解析\r\n我看有的是<? ...?> 这样就可以, 不用加 PHP 三个字母\r\n怎么配置的?", "comment": ["php.ini 里面改 short_open_tag=On", "如 1#，还有 asp 风格，脚本风格。\r", "_(:з」∠)_默默的说，这个风格问题在我的 php 书最开始就讲了…", "php7 好像不再支持短标签了", " 来来，介绍一下你的书~", "很早以前就不推荐用短标签了。。。", " \r", "我 03 、 04 年学 php 时看的第一本神书整本用的都是<script language=\"php\"></script>风, 依稀记得是清华出的, 算是被坑的里焦外嫩, 后来在蔚蓝淘到一本其他渠道都绝版的 Programming PHP 才算爬出了坑...", " 不再支持的是 asp 风格和脚本风格。。。", "没有 PHP 就用默认的脚本解释，服务器基本上都是 PHP ，当然遇到 Perl 有可能出错", " php7 支持短标签", " 震惊了，你学的是假的 PHP", "上面已经说了在配置文件改就行，不过现在官方推荐的只有<?php ?> 和 <?= ?>这两个。", "现在一般都不推荐用短标签了吧\r", "<?=..?> 这个好像是模板渲染的输出标签,跟短标签<?...?>是有区别的,在关闭短标签的情况下,<?=..?>还是可以用的", " 就是那本 php 从入门到精通…"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>WAMP 环境下， test.php 文件内容如下：</p>\n<pre><code>$python_path = 'D:\\\\Program Files\\\\Python\\\\Python35-32\\\\python.exe';\n$python_script = 'F:\\\\Website\\\\test\\\\test.py';\n$command = '$python_path $python_script';\nexec($command, $output, $result);\n</code></pre>\n<p><a href=\"http://test.py\" rel=\"nofollow\">test.py</a> 文件中只有一句：</p>\n<pre><code>print('ok')\n</code></pre>\n<p>目前执行情况是$result 的值为 1 ，应该是命令正常执行了吧</p>\n<p>但是$output 是个空的 Array ，看文档输出结果不是应该存在这个 Array 里面吗，为何这里是空的</p>\n<p>请大神指点一下，非常感谢</p>\n</div></div>"], "reply": "4", "tittle": "请教一下 Windows 下用 PHP 调用 Python 的问题", "comment": ["1 代表正常吗？再想想呢", "执行成功，$result 的结果是 0 ，为 1 是执行没成功的\r", "\r", "存在的问题如下：\r", "1. 前两行的路径，\\\\ 完全可以写作 /\r", "2. 第三行单引号字符串可以内插变量？谁教你的", "为啥要开 exec 函数  为啥就不能让 python 开个端口然后使用 curl 进行访问", "json rpc"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>PHPStorm 无疑是开发 PHP 项目的神器，秉承着 JetBrains 家族的优良传统，是用来写世界上最好的语言的不二选择。在今天迎来了最新的 2017.1 版本，一接到通知邮件，我就迫不及待的更新了新版本，并查看了新特性，整理成中文分享给大家。</p>\n<ul>\n<li>Codeception 支持</li>\n<li>PHPUnit 6 支持</li>\n<li>参数提示</li>\n<li>更好的 PRS-0 支持</li>\n<li>字符串形式的 PHP 类名解析</li>\n<li>改进 PHP 代码风格</li>\n<li>更好的自动导入</li>\n<li>PHP 7 统一变量语法</li>\n<li>当前作用域突出显示</li>\n<li>更好的 PHP 7.1 支持</li>\n<li>新代码高亮</li>\n<li>PHP 运行时配置</li>\n<li>新的检查</li>\n<li>PHP 调试</li>\n<li>Web 技术</li>\n<li>IDE 改进</li>\n<li>数据库工具</li>\n</ul>\n<p>详细内容请移步： <a href=\"https://panlatent.com/archives/phpstorm-2017-1-features\" rel=\"nofollow\">https://panlatent.com/archives/phpstorm-2017-1-features</a></p>\n</div></div>", "<div class=\"topic_content\">关于参数提示功能：用了一天，挺好用的功能，实用性不是特别高。一般函数其实都记载脑子里并不需要提醒，忘记了可以 Command + P ，甚至可以 Command + B 。因为内嵌参数提示，代码整体看起来不是很连贯（这种嵌在代码里的带圆角的小块奇石挺好看的），也会对正常的代码阅读有影响。所以个人建议初学者和新手开启此功能，老鸟跟自己的感觉走</div>"], "reply": "23", "tittle": "PHPStorm 2017.1 发布，新功能介绍", "comment": ["最近打算换 phpstorm 用用.之前一直用 zendstudio", "IntelliJ IDEA 2017.1\r", "Build #IU-171.3780.107, built on March 22, 2017\r", "Licensed to XXXXXX\r", "Subscription is active until January 22, 2018\r", "JRE: 1.8.0_121-8u121-b13-0ubuntu1.16.10.2ppa1-b13 amd64\r", "JVM: OpenJDK 64-Bit Server VM by Oracle Corporation\r", "Linux 4.10.0-14-generic", "已经更新  👍", "老更新也没啥意思。说实话，每次更新，至少折腾 3 天。配色最麻烦。老的用用也挺好。", "PS 是我遇到过最好用的 PHP IDE", " 折腾什么啊？点升级后重启就行了。不能 patch 的大更新，解压后运行，会自动导入原有的插件和配置，根本不需要花时间操作的，连 3 分钟都不需要。", "付费用户表示欢迎更新\r", "\r", ": )", "多少钱？还是用 pojie ？", "刚刚申请学生认证，美国人这时候应该在睡觉吧", "不知道世界上最好的语言+世界上第二牛逼的 IDE 会碰撞出什么火花\r", "我只升了 idea 和 webstorm", "参数提示怎么关闭 真伪和啊", "Webstorm 2017.1 也比较爽，对 vue 支持挺不错的", "有人共享个配色方案吗    感觉不习惯默认的", "盗版用户 不好意思升级  到好意思用盗版的", " 感觉提示参数挺不错的，可能是还没习惯。", " \r", "\r", "关闭方法\r", "\r", " ", "pycharm 还没升级......", " 调整配色，非常好的功能", "为什么我升级后感觉有点卡？又默默的退回了 2016.3", " 为啥我感觉流畅很多？ = = ？", "话说这软件有没有个人免费版的，收费好贵", " 破解版有的是，学生可以申请教育办。已经工作了建议买正版，一般 400 左右", "各位大神有什么好用的 主题推荐吗？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>非广告，请版主高抬贵手</p>\n<p>想从事这方面业务，需要这样的系统一套，不知道我圈有没有朋友手上有现成的系统，付费求之。</p>\n<p>mobile: 13265520430</p>\n<p>.</p>\n</div></div>"], "reply": "6", "tittle": "求金融、现货、贵重金属交易平台一套", "comment": ["你预算多少？", "正在做 bitcoin 交易平台", "这个好多现在的", " 电话详聊", " 这个好，电话聊", " 求推荐"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>首先展示一下其他主要框架的测试：</p>\n<p><a href=\"https://github.com/kenjis/php-framework-benchmark\" rel=\"nofollow\">https://github.com/kenjis/php-framework-benchmark</a>\n<img alt=\"\" src=\"https://github.com/kenjis/php-framework-benchmark/raw/master/img/php-framework-benchmark-20170214.png\"></p>\n<p>框架地址：</p>\n<p><a href=\"https://github.com/chopins/toknot\" rel=\"nofollow\">https://github.com/chopins/toknot</a></p>\n<p>测试用例是仓库中<a href=\"https://github.com/chopins/toknot/tree/master/app/admin\" rel=\"nofollow\">app/admin</a>应用</p>\n<p><strong>我的测试环境：</strong></p>\n<p>与上面用 apache web 服务器不同，我用的是 nginx</p>\n<p>php 版本： 5.6.0</p>\n<p>php 扩展情况：</p>\n<pre><code>[PHP Modules]\nCore\ndate\nereg\nmysqli\nmysqlnd\npcre\nPDO\npdo_mysql\nReflection\nsession\nSPL\nstandard\nZend OPcache\n\n[Zend Modules]\nZend OPcache\n</code></pre>\n<p>php-fpm 配置：</p>\n<pre><code>pm.max_children = 8\npm.start_servers = 4\npm.max_spare_servers = 4\npm.min_spare_servers = 2\n</code></pre>\n<p>测试命令：</p>\n<p><code>ab -n 10000 -c 4 http://127.0.0.1/account/signup</code></p>\n<p>业务：</p>\n<ol>\n<li>构造和输出了一个 HTML 表单</li>\n<li>查询了一个 MySQL 空表</li>\n<li>初始化了 session, session 存在了数据库的一个 memory 表中</li>\n<li>路由用的是 symfony 的路由器</li>\n</ol>\n<p>测试结果：</p>\n<pre><code>Server Software:        nginx/1.10.2\nServer Hostname:        127.0.0.1\nServer Port:            80\n\nDocument Path:          /account/signup\nDocument Length:        36 bytes\n\nConcurrency Level:      4\nTime taken for tests:   11.643 seconds\nComplete requests:      10000\nFailed requests:        0\nTotal transferred:      2600000 bytes\nHTML transferred:       360000 bytes\nRequests per second:    858.89 [#/sec] (mean)\nTime per request:       4.657 [ms] (mean)\nTime per request:       1.164 [ms] (mean, across all concurrent requests)\nTransfer rate:          218.08 [Kbytes/sec] received\n</code></pre>\n<p><code>858.89</code> RPS 比 CI-3.0 的 <code>753.09</code> 略高，比 fatfree3.5 的 <code>965.16</code> 略低</p>\n<p>内存占用：</p>\n<ol>\n<li>usage  2.4M</li>\n<li>peak    2.4M</li>\n</ol>\n<p><strong>PHP 7.0 测试情况</strong></p>\n<p>opcache 版本：</p>\n<pre><code>Concurrency Level:      8\nTime taken for tests:   7.578 seconds\nComplete requests:      10000\nFailed requests:        7\n   (Connect: 0, Receive: 0, Length: 7, Exceptions: 0)\nTotal transferred:      102427973 bytes\nHTML transferred:       100177973 bytes\nRequests per second:    1319.60 [#/sec] (mean)\nTime per request:       6.062 [ms] (mean)\nTime per request:       0.758 [ms] (mean, across all concurrent requests)\nTransfer rate:          13199.60 [Kbytes/sec] received\n</code></pre>\n<p>无 opcache 版本：</p>\n<pre><code>Concurrency Level:      100\nTime taken for tests:   190.636 seconds\nComplete requests:      50000\nFailed requests:        41\n   (Connect: 0, Receive: 0, Length: 41, Exceptions: 0)\nTotal transferred:      512146699 bytes\nHTML transferred:       500896699 bytes\nRequests per second:    262.28 [#/sec] (mean)\nTime per request:       381.271 [ms] (mean)\nTime per request:       3.813 [ms] (mean, across all concurrent requests)\nTransfer rate:          2623.55 [Kbytes/sec] received\n</code></pre>\n<p>有无 opcache 相差好大</p>\n</div></div>"], "reply": "36", "tittle": "今天用 ab 工具测试了一下框架，高效的性能让我吃惊", "comment": ["优雅的框架连垫底都是这么的优雅", "up 主可以添加个 pure php 做完基准，还有可以添加测试下 Yaf 的性能", " 纯 PHP 的没有可比较性", "laravel 惨不忍睹", " 我的意思是用纯 PHP 的性能做为基准，比较各种框架的性能损失，或者性能达到原生的百分比。当然了，框架的主要目的并不是在性能。", "7.0 的对比呢？", "如果有 xdebug profiler 的记录就更有意思了", "居然没有 thinkphp ！老外的视野不够开阔 =。=", "laravel 那复杂的优雅我欣赏不来", " #8 是个鬼子啊，而且它的头像。。。。", "第一的应该是 Silex", "好久没写 php 了，我以前用的 Codeigniter 怎么都看不到。。。", " ci-3.0", "啥功能都没有，当然快了", " MVC 功能都有，满足一个常规网站开放了，另外支持跨语言的服务功能正在开放中", "opcache 对于 Laravel 性能提升是非常大的，之前我在服务器上通过 Laravel 执行一条简单的 SQL 要 200ms ，现在安装以后这个请求只要 20ms 。", " 多谢~ci 还没垫底哈哈哈", " laravel 惨不忍睹是因为它**默认**启用了 session 支持，但其他框架一般默认是不启用的", " 启用 session 支持也不应该对性能造成如此大的影响啊。", " 估计大部份消耗都是在 autoload 上，我用 xdebug 分析了一下，总共 83 次的 autoload 调用消耗了我经 48%的时间", "好低啊", "没看懂，楼主的意思是社区的性能测试结论是在 apache 做 web 服务器的情况下得出的，而你是用 nginx 来做测试并试图与社区的结论进行对比？", "讨论 laravel 垫底意义不大， laravel 算是全功能框架了，要看理论上应该先看 lumen.", "laravel 垫底", "空框架？有意义么？实际的产品快不快不完全是框架的问题。", "追求速度 脚本 请用 lua", "关于性能， laravel 框架作者这么说： ", "“ Before beginning, know that all of these frameworks are fast enough to handle any application you are ever likely to build. I hesitated to even write this post because I think PHP ’ s unique obsession with benchmarking on this level is really, really silly. My only goal is to show how to perform a fair comparison between the three.”", "yaf 秒杀全场", "我大 ci 就是牛逼", "框架对比性能的意义不大，就像是对比卡车的速度和超跑的载重一样，如果真的那么追求性能，就不要使用框架，甚至不要使用 php ，另外 Laravel 优化之后性能并没有那么差。", "你重新定义了高效", "你就是 c 原生写，一个 sql 堵 2s ，吞吐也不可能上去", "这么多年还在吐槽框架性能。。。。你要性能怎么不去写 C 呢", "一个流行框架有性能总比没性能好，否则怎么能进步？", "建议你看下 yaf 框架"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>功能暂时比较简单，主要就是列出配置文件列表和切换配置文件。原理也比较简单，建立软连接。比较适合 Nginx 网站配置比较多的情况，本人懒癌晚期。</p>\n<p>虽然说得这么轻松，但还是写了一晚上。因为花了半天的时间在 GitHub 上寻找可用的能读取 Nginx Conf 的类库，找到的都不理想，所以暂时还没用做读取配置文件这块。</p>\n<p>项目地址 <a href=\"https://github.com/panlatent/site-cli\" rel=\"nofollow\">https://github.com/panlatent/site-cli</a></p>\n<p>可以直接下载 phar 文件 <a href=\"https://github.com/panlatent/site-cli/releases/download/1.0.0/site-cli.phar\" rel=\"nofollow\">https://github.com/panlatent/site-cli/releases/download/1.0.0/site-cli.phar</a></p>\n</div></div>"], "reply": "6", "tittle": "用 PHP 写了一个管理本地 Nginx 网站配置文件的命令行小工具", "comment": ["一个符号链接就搞定了，意义何在?", "赞一个，要有生成配置文件就好了，不同分支代码版本切换", "这有个 shell 案例参考\r", "\r", "\r", " \r", "1. 为何要在$HOME 多开配置？这样权限略乱，本地还好，服务器上有风险。\r", "2. Group 那个功能独立出来有点怪，我以为你有配置好的组 cfg ，整组操作，但是看上去是扫描文件夹下的配置文件。那干嘛不直接单一使用 enable/disable 做多参数支持？支持单文件或多文件，同时用*适配所有。\r", "\r", " \r", "你可以在-available 下准备多套，按需 ln 到-enabled 即可，用 Git 过于麻烦。我们服务器有.online 和.maintenance 两套配置，按需 ln 过去 reload 即可", " @", "   \r", "\r", "目前只是初步实现了一个 ln -s / ls 功能，后续功能会有开发，但我想看看别人会有哪些想法和需求。\r", "\r", "+ 生成配置文件方面，准备做，但我觉得想搞一个大而全的方案不太可信，所以打算预定义一些简单的模板。\r", "+ 另外一个功能是读取配置文件，初步做到 server 级别的 enable / disable\r", "+ 还有想搞一搞 shell 自动补全\r", "\r", " \r", "\r", "这个工具本来母殿就是为服务本地开发环境，类似 HostSwitch 。\r", "\r", "分组组这个概念，我觉得更好管理。我觉得直接使用 * 可能会有一定危险性。在我自己的本地场景中，很少出现整个子文件夹都禁用的情况\r", "\r", "------\r", "\r", "这只是一个很偏门的小工具，但我觉得比单纯的命令更有趣味性", "  错字， 第 3 行「可信」应为「可行」", " 嗯，支持，生命在于折腾。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>PPT 来源为： 2016 年 DevLink 主办的 PHP 大会，其中 PPT 为：  （黄敏）安全编码实战经验.pdf</p>\n<p>这张 PPT 的信息，到底是什么意思？ 说是比较低级的漏洞， 这样的问题在哪儿？</p>\n<p><img alt=\"\" src=\"http://ww1.sinaimg.cn/large/4b7b98f0ly1feb2khzpjqj20io0di3z7.jpg\"></p>\n</div></div>"], "reply": "4", "tittle": "PHP 安全的一张 PPT 谈到的一个（读写权限）问题的判断，啥意思？", "comment": ["低级错误，$method == 'POST' 的时候没检查权限", "想说的被楼上说了……\r", "另外，这绿油油的 PPT ，扎眼", "现在看来这代码好蠢", "搜索了下，是这个 ppt 吧 ", "\r", "\r", "get 为读 post 为写，可以绕过 get 直接 post 修改任何人的帖子"]},
{"content": ["<div class=\"topic_content\">事情是这样，我看见百度的 JS 自动推送代码，就想用 PHP 也实现一下，成功了，但我忘记百度是第二天才放数据，我去百度站长平台看发现没时间，我就把代码删除了，第二天登录才看见数据，但我已经删除了删除了删除了。。。这两天试着记忆还原代码，无数次失败，现在来求助各位大 V 帮助。。。\r<br>---------------------------------------------------------------------\r<br>&lt;script&gt;\r<br>(function(){\r<br>    var bp = document.createElement('script');\r<br>    var curProtocol = window.location.protocol.split(':')[0];\r<br>    if (curProtocol === 'https') {\r<br>        bp.src = '<a target=\"_blank\" href=\"https://zz.bdstatic.com/linksubmit/push.js\" rel=\"nofollow\">https://zz.bdstatic.com/linksubmit/push.js</a>';        \r<br>    }\r<br>    else {\r<br>        bp.src = '<a target=\"_blank\" href=\"http://push.zhanzhang.baidu.com/push.js\" rel=\"nofollow\">http://push.zhanzhang.baidu.com/push.js</a>';\r<br>    }\r<br>    var s = document.getElementsByTagName(\"script\")[0];\r<br>    s.parentNode.insertBefore(bp, s);\r<br>})();\r<br>&lt;/script&gt;\r<br>-------------------------------------------------------------------------\r<br>&lt;?php\r<br>function baidu($url){\r<br>\tshuffle($url);\r<br>    $cip = rand_ip();\r<br>    $header = array(\r<br>        'CLIENT-IP:' . $cip,\r<br>        'X-FORWARDED-FOR:' .  $cip,\r<br>    );\r<br>\t$ch = curl_init();\r<br>\tcurl_setopt($ch, CURLOPT_URL, '<a target=\"_blank\" href=\"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif?r='.rawurlencode(%24url%5B'0'%5D).'&amp;l='.%24url%5B'1'%5D\" rel=\"nofollow\">https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif?r='.rawurlencode($url['0']).'&amp;l='.$url['1']</a>);\r<br>\t$cookie_file = dirname(__FILE__).'./baiducookies';\r<br>\tif(is_file($cookie_file)){\r<br>\t\tcurl_setopt($ch, CURLOPT_COOKIEFILE, $cookie_file);\r<br>\t\t//@unlink($cookie_file);\r<br>\t}else{\r<br>\t\tcurl_setopt($ch, CURLOPT_COOKIEJAR,  $cookie_file);\r<br>\t}\r<br>    curl_setopt($ch, CURLOPT_HTTPHEADER, $header);\r<br>\tcurl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);\r<br>    curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false);\r<br>\tcurl_setopt($ch, CURLOPT_REFERER, $url['0']);\r<br>\tcurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\r<br>    curl_setopt($ch, CURLOPT_USERAGENT, 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit (KHTML, like Gecko) Chrome/50.0.2661.102 Safari/537.3'.mt_rand(0,88888));\r<br>    curl_setopt($ch, CURLOPT_TIMEOUT, 8);\r<br>    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);\r<br>    $contents = curl_exec($ch);\r<br>    curl_close($ch);\r<br>\tclearstatcache();\r<br>\tunset($contents);\r<br>    return $url;\r<br>}\r<br>\r<br>baidu(array('http://www.baidu.com','http://www.baidu.com'));</div>"], "reply": "4", "tittle": "用 PHP 写了一个百度提交，结果我就懵了", "comment": ["话说为什么又要用 php 实现?\r", "用 php 实现主动推送就好了,百度有接口.\r", "和 js 的自动推送配合使用.", " 为了方便，我想把 JS 自动推送修改成和主动推送一起用，这样 JS 每次推送就不用打开每个页面了，但 JS 好像有超时还是什么，我现在想不起来当初是怎么成功的，按照记忆还原代码试了几天还是失败。", "所以说 版本控制系统 是很有用的啊\r", "我一般写什么小的测试代码 都会用 git 保存一下", "百度论坛有现成的工具啊，直接去论坛下载就行了"]},
{"content": ["<div class=\"topic_content\">服务器是 centos 的，所以电脑就装了 centos desktop 。 eclipse 安装都安装不上， netbean 运行 xdebug 会出现 step over 失效的情况,Phpstorm 建立项目后就假死了而且略复杂。\r<br>现在来求救，不知道建立个开发环境这么难，在 WIN 下面一切都正常。</div>"], "reply": "1", "tittle": "求推荐个能在 centos 桌面中运行的 ide 用来 xdebug！！！", "comment": ["vscode 可以试一试～"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>下载驱动就出来一个正在下载的框，然后就几秒后框就关闭了。。。\n实在是不知道怎么整。。。求助各位兄弟！！！</p>\n</div></div>"], "reply": "8", "tittle": "求助！！！ phpstrom 2016.2 下载不了 mysql 驱动，怎么解决？", "comment": ["重装试试？", " 试过了，不行。。", "升级一下吧，现在已经到 2017.1 了，实测下载 mysql 驱动没有问题", "这种问题就不要放上来问了吧，就一个现象，连个日志都没有，鬼知道怎么回事，甩给你一个鸟哥语录", "我猜你应该扶个梯子", "我这边连个框都出不来 就是不能下", "解决了\r", "\r", "去掉中文包\r", "\r", "然后就能下载了", " 这就试试！"]},
{"content": "", "reply": "3", "tittle": "PHP .net 访问不了了？？？", "comment": ["请检查网络", " 恢复了 ", "   ", "  不知道什么情况呢", " 可能是临时工 233"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近用 lumen 做一个留学机构的网站后端。打算用基于权限的访问控制，请问有没有比较好的解决方案。</p>\n</div></div>", "<div class=\"topic_content\">已经使用 access-token 搞定了 Authentication</div>"], "reply": "6", "tittle": "Restful API 如何做权限控制", "comment": ["jwt", "如果是给人用的页面就 cookie ，如果是供服务器调用的接口就 api key + secret key", "一句话： Authentication + Authorization\r", "\r", "首先是身份认证，使用 JWT 规范生成的 token ，搭配中间层做请求（ api key + secret key ），不过要注意，尽可能不要使用 cookie 存储 token ，注意防范 CSRF 攻击。\r", "\r", "然后就是访问授权，通过访问控制列表，将 User 分类到不同的 Role 来管理，有对应权限的 Role 才可以执行对应的操作。", "也可以考虑在网关鉴权，比如 ", " 感谢指点。 Authentication 已经搞定了。对 Authorization 有一些疑问。\r", "\r", "我想按照 RBAC 方式，一个用户有多个 role ，每个 role 有多个权限。那么这样以来用户，角色，权限各需要一张表，连接用户和角色，角色和权限各需要一张表，一共需要 5 张表，感觉有些麻烦。\r", "\r", "对于权限比较少的请情况，我能否把不同操作的权限 hardcode 在代码中呢？", " 如果权限确实比较少，可以考虑用 ACL 机制，不用 RBAC 机制，去掉角色，也减少了表的数量。\r", "\r", "两种机制都有利弊，需要自己根据实际业务场景去权衡，但是有一点可以确定，团队开发中，一定要尽可能避免 hardcode"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我想做一个‘一星期内自动登录’功能，后端登录代码如下：`</p>\n<pre>class loginController extends core\\lib\\Controller{\npublic function login()\n{\n    if($_POST['autoLogin']==1)\n    {\n        ini_set('session.gc_maxlifetime', \"604800\"); // 秒\n        ini_set(\"session.cookie_lifetime\",\"604800\"); // 秒\n    }\n    session_start();\n    if(strtolower($_SESSION['vCode'])!=strtolower($_POST['vCode']))\n    {\n        echo 'vCode_error';\n        exit(0);\n    }\n\n    $model=new mongoModel('wind','users');\n    $name=$model-&gt;findOne('name',$_POST['username']);\n    if(!empty($name))\n    {\n        if($name['password']==$_POST['password'])\n        {\n                $_SESSION['username']=$_POST['username'];\n                echo 'success';\n        }\n        else\n            echo 'password_error';\n    }\n    else\n    {\n        echo 'user_error';\n    }\n}\n\n}`\n</pre>\n<p>通过前端传来的‘ autoLogin ’值来判断用户是否选择了‘一周内自动登录’这个 checkbox,如果选择，则更改 session 和保存了 sessionid 的 cookie 的最大保存时间为 1 个星期。但是我发现这样不行， cookie 的有效期依然为结束会话时销毁，但是我把：</p>\n<pre>ini_set('session.gc_maxlifetime', \"604800\");<br>\nini_set(\"session.cookie_lifetime\",\"604800\");</pre>\n<p>这两段代码放到项目入口文件里， cookie 的有效期成功到了一个星期以后，这是为啥呢？作用域的问题吗？\n新手求问。</p>\n</div></div>"], "reply": "7", "tittle": "PHP 的 ini_set 函数无法在类方法内使用吗？", "comment": ["好像 LZ 对 session 的用法产生了一些理解上的偏差......", "为什么用户的登录选项代码里你要修改服务器的综合配置？", " 难道除了修改服务器配置还有其他办法修改 session 的保存时间吗", " 刚接触 php 不久，是哪儿出问题了呢？谢谢！", " \r", "session 之所以称之为 session ，就是给当前会话用的，浏览器关了会话就结束了。\r", "你要做自动登录，信息是需要存在 cookies 里，而不是 session 里的。\r", "更不是通过 session 存在 cookies 里...", " 你这也是解决方法，信息都放在 cookie 里很容易实现自动登录，但很不安全，还是放服务端安全一些，你不可能通过判断是否存在 cookie 就自动登录吧。客户端是靠存在 cookie 里的一个 session id 与服务端 session 通信的，一个 seeion id 对应一个连接，要用 session 存信息就离不开 cookie ，假设要把信息保存一星期，除了设置 session 最大保存时间外还要设置存放了 session id 的 cookie 的最大保存时间，我这写法没错，我也找到了原因所在，原来我在首页的控制器中用到了 session,这个时候 session_start()这个函数已经把默认 session 配置加载进来,而我在登录的时候去再去改默认配置已经不行了，我把首页的 session-start()去掉，果然可以保存一星期了", " 查了好多资料，果然是我搞错了，一直想把信息存 session 里，谢谢指点！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有个文档网站（ php ），想给用户增加打赏功能。用于激励他们写文档。\n该如何实现？</p>\n</div></div>"], "reply": "11", "tittle": "打赏功能如何实现？", "comment": ["只需要一张二维码图片即可", " 2333 这个可以的", "让作者自己贴微信、支付宝的收款二维码\r", "贴进文章里", "参考简书，申请支付接口，弄一个余额系统，然后打赏的钱到你账上，你在后台再加一个提现功能，谁提现你就转给谁。简单点的就是让用户自己贴二维码转账。", "没有接口只能是一张 JPG 了，虽然寒酸点， UI 上高级点喽。", "贴二维码阿 要不然你就自己注册支付宝..搞订单..", "图片。。。", "建议搞个余额系统，这样会有沉淀资金，也是一部分收益", " 这样会简单", " 这样小心被挂上非法集资的帽子", "  脑洞真大 看看非法集资的定义"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>比如：\n'/[猜拳|石头|剪刀|布]/iUs'这条正则表达式，我输入别的字也能有匹配结果（乱码），请问这个的原因是什么，如何解决这个问题？</p>\n</div></div>"], "reply": "4", "tittle": "PHP 正则表达式匹配中文的问题", "comment": ["首先确保页面编码一致，然后使用 UTF8 的编码 \\x{XXXX} 这样的格式代替你的中文", "PHP 的版本，正则表达式的实现里，需要实现对 unicode 匹配的支持才能做到正确匹配中文，我记得 php 是在某个版本之后才支持的", "'/[猜拳|石头|剪刀|布]/iUsu'", " @", " @", " 解决了 原因是我把[]和|用重了，直接'/猜拳|石头|剪刀|布 /'就行"]},
{"content": "", "reply": "1", "tittle": "Homestead 能 ping 通 192.168.10.10 但无法连接,give 502 bad gateway,只能 127.0.0.1:8000 访问,求大神解答", "comment": ["已解决，结贴\r", "通过更改适配器 ", "\r", "IP 地址为 192.168.10.1"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>网页上是可以的，但是导出后 ♥︎却是？？</p>\n</div></div>"], "reply": "4", "tittle": "求助 ♥︎ 这种类型的文字如何在 excel 中显示？", "comment": ["数据库字符集 mysql 的话要 utf8mb4 utf8 不支持 emoji", " OK  感谢", "问题不应该出在 utf8mb4 上面。标题给的“♥︎”本身只是个 U+2665 U+fe0e ，即强制使用非 emoji 模式的 U+2665 爱心。 utf8mb4 的问题只有在操作超过 U+FFFF 的码位的时候才会出现，和这个♥︎扯不上什么关系。", "也许是 cp936 的问题吧"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>public/?\nstorage/?</p>\n</div></div>"], "reply": "13", "tittle": "那个，大家用 lumen 上传图片的时候，存放目录会放在哪里？", "comment": ["内部人员才能看到的图片，放到 storage 。其他随意", "又拍云 /七牛云\r", "\r", "\r", "此处是不是应该收一波广告费？", "我是猜想他的问题  如果是放 storage 域名怎么访问到？", " 可以问一个问题么，上传的最佳做法是直接传到云存储上还是通过服务器中转传过去?", " 本地最好有，这样迁移起来方便吧？", " \r", "我看阿里云 OSS 官方文档建议直接通过客户端 H5/APP 直接传图片 /文件到云，而不要再通过服务器中转一下了。\r", "但是好像直接传程序上有点小复杂。因为客户端表单提交时会带有其他字段信息，服务器全部接收过来然后只需要再简单的往云上转一下就好了。\r", "而直接往云上传，只能传文件，所有其他的字段只能等文件传到 OSS 成功返回以后存储的地址以后再把这个地址和其他字段一起往服务器上再提交吗？\r", "求指点下", "爱放哪里就放哪里，能访问就行", " 最佳做法当然是直接传到云存储服务。\r", "\r", "简单说一下吧。\r", "通过应用服务器传的话，主要会占用应用服务器的流量，如果对性能有点要求的话，肯定是不可以这么做的。\r", "直接传到云存储，不仅省心省力省贷款，对于后端接口开发也是极有利的，不必再处理文件类型的资源了。\r", "\r", "另外就是，通过封装好的组件，开发新项目时也大大省心，部署也大大省心（不会遇到图片传不上去的问题），也不用担心磁盘爆了等各种奇葩问题。", " 直接在前端上传的话，会不会造成上传权限泄露之类的问题啊", " 上传权限问题应该如何处理呢", "放到 stroage   如果是 laravel 的话 可以执行  php artisan stroage:link 软连接 stroage 到 public\r", "lunmen 要是没有这个命令的话可以手动软连接过去  ，\r", "当然最好是放到七牛  upyun 这种云储存", "别放本地了，放 CDN 吧", " \r", " \r", "\r", "采用类似 form token 的机制。服务端根据账号 /密钥信息生成一个  token ，交给客户端，客户端据此 token 进行上传。\r", "\r", "具体可以参考各家的文档。 \r", "又拍云 ", "\r", "七牛云 "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Domain Name: <a href=\"http://dada.com\" rel=\"nofollow\">dada.com</a>,<br>\nRegistry Domain ID: 102993_DOMAIN_COM-VRSN,<br>\nRegistrar WHOIS Server: <a href=\"http://whois.pairNIC.com\" rel=\"nofollow\">whois.pairNIC.com</a>,<br>\nRegistrar URL: <a href=\"https://www.pairNIC.com\" rel=\"nofollow\">https://www.pairNIC.com</a>,<br>\nUpdated Date: 2014-02-03T19:00:24+0000Z,<br>\nCreation Date: 1995-03-04T05:00:00+0000Z,<br>\nRegistrar Registration Expiration Date: 2018-03-05T05:00:00+0000Z,<br>\nRegistrar: pairNIC INC,<br>\nRegistrar IANA ID: 99,<br>\nRegistrar Abuse Contact Email: abuse@pairnic.com,<br>\nRegistrar Abuse Contact Phone: +1.8887247642,<br>\nDomain Status: clientDeleteProhibited,<br>\nDomain Status: clientTransferProhibited,<br>\nDomain Status: clientUpdateProhibited,<br>\nRegistry Registrant ID: ,<br>\nRegistrant Name: Juan-Carlos Sobrino,<br>\nRegistrant Organization: ,<br>\nRegistrant Street: 47 Saint Mark's Place ,<br>\nRegistrant City: New York,<br>\nRegistrant State/Province: NY,<br>\nRegistrant Postal Code: 10003,<br>\nRegistrant Country: US, <br>\nRegistrant Phone: +1.6465551234,<br>\nRegistrant Phone Ext:,<br></p>\n<p>就类似这样的数据，有的冒号后面还是空的值。。。怎么解决。。。。求助</p>\n</div></div>"], "reply": "7", "tittle": "怎么吧一个字符串冒号前面的值当做数组的键，把冒号后面的值当做数组的值", "comment": ["```php\r", "$data = explode(\"\\n\", $str);\r", "$res = array();\r", "\r", "foreach ($data as $item) {\r", "\tlist($key, $value) = explode(\":\", $item);\r", "\t$res[trim($key)] = trim($value, ' ,');\r", "}\r", "\r", "var_dump($res);\r", "```", "lines = data.split(',')\r", "res = {}\r", "for line in lines:\r", "    line= line.split(':')\r", "    k = line[0]\r", "    v = ''\r", "    if len(line) > 1:\r", "        v = line[1]\r", "    res[k] = v\r", "\r", "print res", " 谢谢，完美解决", "#2 ，格式丢了，不好意思。", "php 的数组 key 还能用空格啊", "let a={}\r", "data.split(',')\r", "       .map((t)=>{\r", "              let l=t.split(':')\r", "               a[l[0]]=l[1]\r", "         })\r", "console.log(a)", "…楼上用 Python 和 JS 回答的是在想啥。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://git.oschina.net/takashiki/Ourls\" rel=\"nofollow\">https://git.oschina.net/takashiki/Ourls</a></p>\n<p>V2EX 里发现这个短网址程序，就下载试了下，，苦逼不懂 PHP ，我本机是 win7 系统，装的 wamp ，修改了 config 配置数据库信息后，依然无法使用。。哪位大大知道如何本地 win7 下安装调试这个程序？</p>\n</div></div>"], "reply": "2", "tittle": "求问！这个短网址程序 Ourls 怎么破？？", "comment": ["yours", " yourls"]},
{"content": ["<div class=\"topic_content\">一个微信商城类的项目，用户浏览页面的时候可以通过点击加号和减号按钮添加和删除商品。\r<br>购物车的数据都是使用 document.cookie 写入 cookies 里面的。\r<br>现在需要通过 PHP 在后端清空购物车的数据，完成的代码在 Chrome 和 Firefox 等浏览器都可以正常工作，唯独微信内置浏览器（安卓版）不管怎么设置 cookie 过期时间都没有任何作用， Google 了一下相关的关键词，也没有找到什么有价值的内容。\r<br>目前已陷入僵局，请问各位有没有遇到类似的问题，最后是怎么解决的？</div>"], "reply": "31", "tittle": "如何通过 PHP 删除在微信内置浏览器中用 Javascript 创建的 cookie？", "comment": ["x5 的 bug ？ x5 还有一些别的 bug 来着。。。", "简单来说不能有效操作对方 cookies 的话，放 server 端处理行不行？\r", "\r", "我们的项目比较复杂，都是专有 API 处理添加删除操作，返回更新的的购物车信息。\r", "各种税、打折等计算都是 server 端完成的。", " 搜索结果都说是 x5 的问题，不过我也不太确定。\r", "\r", " 这个代码是同事以前写的，数据都放到 cookie 里面，现在这个不是主要需求，全部重写的话时间上来不及，如果实在没办法，也只能先挂起以后再改了。", "实在不行就把键值写为空呗", " 也试过，没用。", "确定 path/domain 之类的都一致？", " 随便写的无效的值也不行？那最开始是怎么赋值的", " 都是直接在页面上直接用 document. cookie 操作的，后端目前只是读取 $_COOKIE 获得对应的值。", " 嗯，专门看过， domain 和 path 都没错，电脑上的各种浏览器都没有问题。\r", "唯独微信完全不理会 setcookie 设置的内容。", "这样呢，再写个新接口，针对微信是设置 cookie 内容，微信的话就多发几次请求，对整体业务没影响", "返回段 js 代码如何？", "实在不行把购物车放 session 里呗", "实在没辙就临时在前端删 cookie 咯 应该是 BUG 或者 “特性”", "document.cookie 是在客户端执行的， php 设置 cookie 是在服务端执行的，\r", "\r", "后端 php 先在服务器上解析运行完，把客户端代码返回给浏览器，在浏览器中执行客户端代码，\r", "\r", "你顺序弄错了， php 怎么也不会处理的了客户端设置的 cookie 。", " cookie 是可以被服务端返回同名 cookie 覆盖掉的 比如服务器把 cookie 时间设置成以前的时间 就会使 cookie 到期而被删除  而提交时带的那个 cookie 都是带了 session 的 这个一般也是服务端返回来的", " 纠正一点 不是提交时带的 cookie 脑子不好使了。", " 当然可以同名\r", "\r", "服务端设置的 cookie 是从 HTTP header 中设置的，\r", "\r", "而浏览器 document.cookie 是在页面的脚本里面设置的，\r", "\r", "浏览器接收到一个 response 的时候会先处理 HTTP header ，（也就是在这里浏览器会根据 response header 设置各种参数，包括 cookie ）\r", "\r", "然后解析 DOM 和运行 js 脚本，（其中也包括对 document.cookie 的处理）\r", "\r", "这两个顺序不一样， HTTP header 在先（也就是 php 的服务端在先）， js 的 document.cookie 在后，你在服务端的设置覆盖不了客户端的设置，\r", "\r", "至于里面说在其它浏览器里可以做到，可能是浏览器解析的时候没有用你服务端给的过期时间，不同的浏览器版本会有不同的差异\r", "\r", "\r", "-----\r", "\r", "\r", "\r", "解决这个问题，我不知道楼主具体是在用什么样的环境，不知道为什么客户端的购物车为什么要用 cookie 存储商品，为什么不提交到服务端，或者在用第三方的系统，如果你有权限处理客户端，可以用 localStorage", " \r", "客户端保存购物车状态是很正常的实现吧\r", "否则服务器就是有状态的,既然有状态,要么服务器自己在内存存着,要么通过其他存储来实现,例如数据库 /KV\r", "当然也有的电商就是保存在服务器的,可以实现各端共享购物车......", " 你可能理解错了。 他本地操作 cookie 是有条件的 比如 你点击加入购物车以后添加 cookie  并不是访问页面就会加 cookie 所以并不会发生冲突", "∵ 我相信微信不会蠢到出这种 bug\r", "∴ 楼主自己蠢", " 我没有说 “有冲突” 啊，只是后一个操作会覆盖之前的操作。\r", "\r", "服务端之前设置的 cookie ，在客户端页面上可以被重新设置一个值覆盖掉。", " 保存在客户端肯定不是一个好的方案，就算你的应用只支持一个客户端，也不是好的方法，\r", "\r", "就像你说的客户端有很多种，你只在安卓手机的客户端里添加了商品，打开 ios 发现没有这个商品了，\r", "\r", "就算支持一个客户端，那天你的商品下架了，而你客户端里还显示这个商品可以购买，而不提示已经下架，\r", "\r", "当用户支付的时候发现根本买不了，这种用户体验很不好，这种肯定是放到服务端的，所以不清楚是什么需求，为什么这么做。", " 然而服务器保存只有多端需求才会有 单端本地 cookie 就足够了  至于商品下架  参考淘宝  你存的只是 id 购物车显示的时候服务器返回商品状态就是了", "我以前本地存储数据时候是有 localStorage 用 localStorage, 没有才用 cookie\r", "\r", "x5 应该支持 localStorage 吧，并且和 cookie 的接口一样 get put remove clear", " 我觉得你自己的观点或者表述有点问题   你刚开始说  \"php 怎么也不会处理的了客户端设置的 cookie 。\" 我回复了可以通过同名 cookie 达到覆盖和删除的效果 而你后面反驳我的观点 我又补充了\"客户端添加 cookie 是有条件的: 添加购物车操作才会添加 cookie\" 再到后面又说 \"服务端之前设置的 cookie ，在客户端页面上可以被重新设置一个值覆盖掉。\" 你的观点有点矛盾 或者说你还是没理解我说的 只是纯属在反驳我的观点 希望能看一下刚开始的问题和回答 不要继续歪下去 \r", "\r", "------\r", "\r", "现在就是在客户端不会立即重新覆盖 cookie 的情况下 服务端返回的 cookie 无法完成覆盖和删除的操作 只发生在微信内置浏览器里 所以微信内置浏览器有 BUG 就成了可能性之一 LZ 说这个是以前同事写的 所以现在就是想以“最简单”的方式去解决这个问题  所以提那么多后端解决方案明显不符合简单的概念啊", " 可以尝试不要将值设为空 而是设为一个其他值 看看本地有没有改变 cookie 值", " \r", "\r", "我之前说的 \r", "\r", "“你顺序弄错了， php 怎么也不会处理的了客户端设置的 cookie 。”\r", "\r", "我说这句的时候是有前置条件，就是 “顺序弄错了”\r", "\r", "header 返回的 cookie 客户端能不能改掉？\r", "\r", "而你只看后面那句 “ php 怎么也不会处理客户端设置的 cookie ”", "域没用对吧！", " 在我这边看来 我认为你第一句 “你顺序弄错了” 已经否定了 “添加购物车才会添加 cookie ” 这个前置条件  所以 话题终止 吃了文化的亏 (逃", "是不是微信的问题，你在页面上同样用 js 删 cookie ，在微信里试试就知道啊", "不放服务器端，怎么做统计？怎么根据浏览记录、加购物车记录做推荐？"]},
{"content": ["<div class=\"topic_content\">阿里云 ecs ， windows 2012  php+IIS7+mysql ，网站本地测试一切正常，升级的时候某个表新增了一个字段 score ，类型 int ，但是死活 update 无效，比如我同时更新两个字段， paid 和 score ，将语句打印出来是这样：\r<br>\r<br>UPDATE `us_user` SET `paid`=158 WHERE ( `id` = 1 )\r<br>\r<br>score 莫名其妙不见了，重启 mysql 都不行，快崩溃了</div>"], "reply": "16", "tittle": "要不要这么诡异，就某个字段无法 update", "comment": ["重启 IIS 呀", "  重启了，甚至整个服务器都重启了，还是不行，其他字段都能更新，就这个不行", "如果确认 mysql 里字段已经加上了, 那么看你的 model 里是否增加了字段 score 的定义, 否则...常见的 mvc 架构的框架会被过滤掉的, 最好贴出来你的框架什么的", " thinkphp ， 我直接用 phpmyadmin 添加了该字段，直接原生 sql 语句更新该字段也自动消失", "自作聪明系列……", " 但是我直接 phpmyadmin 给该字段添加数值的话，又是能读出的，就是不能 update", " 啥意思啊 大神？", "thinkphp  扒手册了吗?\r", "说得这么神奇，感觉就是代码呢，你去 mysql 命令行客户端执行一下也会消失？", " 没什么神奇的, model 的缓存在手动增加字段之后没有更新, 简单的说就是用框架不扒手册", "命令行里执行 sqlSQL 也不行？", " 多谢批评，其实有清缓存的习惯，这次是本地没清缓存一切都正常，所以没往这方面想，多谢", " #7 \r", "额 我搞错了 thinkphp 就是缓存问题\r", "以为是某致命框架……那个要从脚本重建数据库结构", "换框架吧 (逃", "thinkphp 改这些之前先把 debug 打开", "  - -#"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>RT\n场景是这样的:</p>\n<pre><code>Mission 表存任务\n{\n   id, \n   count 最大订单数\n}\n</code></pre>\n<pre><code>Order 表存订单\n{\n   user,  接单用户\n   status 订单状态  分别有 created 、 processing 、 finished 、 canceled\n}\n</code></pre>\n<p>一个用户接受一个任务 就新增一份订单 状态为 created</p>\n<hr>\n<h1>Q1: 获取任务列表额外返回每个任务的完成数量和可接数量</h1>\n<p>任务订单数(条件为 status 必须为 created 、 processing 、 finished)\n任务订单完成数(条件为 status 必须为 finished)</p>\n<h1>Q2: 在 Q1 的基础上判断可接任务</h1>\n<p>这个时候要获取条件 (任务订单数 &lt;= Mission.count) 的任务列表</p>\n<h1>Q3: 是否能将 Q1 、 Q2 的语句拆分到 ActiveQuery | Query 来实现复用</h1>\n<p>RT</p>\n<p>暂时就想到这三个</p>\n<ol>\n<li>如何在能确保可复用性的情况下实现更为优雅的写法</li>\n<li>尽量在任务和订单过多的情况下产生较少的查询语句</li>\n</ol>\n<p>Ps: 在发这个帖子之前我是有做过一定量相关查询的，但是由于关键字用的不好、英语不好查不到太多国外例子等原因导致我并没有找到任何方案 所以想发个帖子讨论一下 如果能有相关的链接(中英都可以)也可以发上来学习一下 最好是有相关有质量的开源项目可以做参考</p>\n<p>PPs: 排版比较辣鸡轻喷。一定抽空学 MarkDown</p>\n</div></div>"], "reply": "4", "tittle": "Yii2 中在复杂查询的时候有没有更为优雅的写法", "comment": ["增加几个计数字段不可以吗?", "两个表关联关系，外键都没有，别人怎么给你回答", "看标题说有没有更优雅的写法我还以为已经写了一版让人来改呢……结果是还没写想要别人写现成的是吧……", "你根本就是不会！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>phpstorm 有何优惠？\n手贱 今天升级了下以前激活的 今天失效了，干脆就买了吧，怎么买有优惠？</p>\n</div></div>"], "reply": "14", "tittle": "phpstorm 有何优惠", "comment": ["如果你是学生，有学生优惠。", "edu 邮箱免费用全线产品 1 年", " 不止一年，我这已经第二年了了", " 只要还有学生邮箱就可以一直续 1s", " 嘘，闷声。。。", "似乎之前本站和 jetbrain 搞了个特价活动，不知道有没有了", "edu 邮箱+1....\r", "另外还有如果你有开源项目主页，也可以打折还是免费来。。忘了。。。", "还能这样。。", "学生优惠飘过。。", "学生优惠，还有 3 个月以上的开源项目，都可以免费申请。\r", "偶尔会有打折活动", " 打折活动 多么？ 趁打折入手一个。", " 貌似不多，不过正价买入也很值。", " @", "  为什么我用了一年就不能续了", " 到期前会发一个邮件到你的邮箱，里面有个链接可以续"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有这么个需求，就是应用程序依赖两个 composer 类库 A 和 B ， AB 都挺重量级的因此加载时间会稍长。</p>\n<p>目前有个数据库操作类 DB （其实例名称为$db ），该类会在特定条件下调用 A 或者 B ，因此我想将 A, B 生成的对象 a, b 赋予数据库类，如<code>$db-&gt;a, $db-&gt;b</code>。\n但是，并不是所有场合下 A 或 B 内的方法都会被调用，因此在 DB 类的构造函数内预先将 a, b 初始化好的话会再大量请求中浪费掉二者的初始化时间（尤其再 AB 还是重量级类库的情况下）。</p>\n<p>我原先的做法是以类中方法返回对象的途径实现的懒加载，如下</p>\n<pre><code>class DB{\n\tpublic $a, $b;\n    \n\tprivate function get_a(){\n    \treturn isset($this-&gt;a)?$this-&gt;a:new A($init_params);\n    } \n    \n    //使用 a 的时候便可以如下：\n    public function use_a(){\n    $this-&gt;get_a()-&gt;methods_of_a();\n    }\n}\n</code></pre>\n<p>然后我又改成了使用 PHP 魔术方法__set()来进行，但是有点臃肿。</p>\n<p>因此请问大家有什么好的建议么？</p>\n</div></div>"], "reply": "5", "tittle": "PHP 如何优雅地实现类中变量的懒初始化（ Initialized when visited）", "comment": ["我遇到过类似的需求，也是用你这样的方法解决", "__get 里面写也很好啊", "典型的依赖注入单例需求嘛，可以参考 yii2 的 component 机制", "策略模式。", "第一次回复，这种懒加载可以用闭包哦\r", "\r", "class DB \r", "{ \r", "    private $binds = []; \r", "    private $instances = []; \r", "\r", "    public function __construct() \r", "    { \r", "        $this->bind('a', function ($config) { \r", "            return new A($config); \r", "        }); \r", "        $this->bind('b', function ($config) { \r", "            return new B($config); \r", "        }); \r", "    } \r", "\r", "    private function bind($key, Closure $closure) \r", "    { \r", "        if (!isset($this->binds[$key])) { \r", "            $this->binds[$key] = $closure; \r", "        } \r", "    } \r", "\r", "    public function make($key, array $params) \r", "    { \r", "        if (isset($this->instances[$key])) { \r", "            return $this->instances[$key]; \r", "        } \r", "        if (!isset($this->binds[$key])) { \r", "            return false; \r", "        } \r", "        $this->instances[$key] = call_user_func_array($this->binds[$key], $params); \r", "        return $this->instances[$key]; \r", "    } \r", "} \r", "\r", "class A \r", "{ \r", "    private $config; \r", "\r", "    public function __construct($config) \r", "    { \r", "        $this->config = $config; \r", "    } \r", "\r", "    public function foo() \r", "    { \r", "        echo \"Class A:\\n\"; \r", "        var_dump($this->config); \r", "    } \r", "} \r", "\r", "class B \r", "{ \r", "    private $config; \r", "\r", "    public function __construct($config) \r", "    { \r", "        $this->config = $config; \r", "    } \r", "\r", "    public function foo() \r", "    { \r", "        echo \"Class B:\\n\"; \r", "        var_dump($this->config); \r", "    } \r", "} \r", "\r", "$db = new DB(); \r", "$a = $db->make('a', ['config for a']); \r", "$a->foo(); \r", "$b = $db->make('b', ['config for b']); \r", "$b->foo(); \r", "\r", "这确实是单例+依赖注入的问题 \r", "DB 类一般是要做单例的，这里只是写个例子就直接 new 了，不对的话请指教"]},
{"content": ["<div class=\"topic_content\">例如：\r<br>A laravel 发送消息给第三方队列， B laravel 从队列中获取到 A 发的消息进行处理。</div>"], "reply": "8", "tittle": "两个 laravel 之间如何用队列通信？", "comment": ["laravel A  -> Redis -> laravel B", " 试了这方法， A 的消息只有 A 能接收。", "如果直接用 Laravel 的 Queue ， Laravel 会把序列化后的任务对象（一般是 Job 或 Event Listener 之类，这里面实际上包含了数据和任务处理器）推到队列里，接收方需要能正确反序列化才能执行。这样就需要两个项目共享代码，可行性不高。\r", "可以考虑自己实现一套消息队列系统，只把数据入到队列里，接收方根据数据做不同处理。这样可以做到 Laravel -> Queue -> Any 。显然会麻烦很多，可以找找有没有写好的开源实现。", "laravel 文档太简单了，我一直没有悟到队列应该怎么用。", "a 只 push 到队列 不进行队列监听  b 用对应配置监听就行了", " 两边监听的对象要保持一致 否则取出 job 的时候无法反序列化", "larvel 中一般会配置 redis 的前缀，看看前缀是不一样", "很简单的应用场景，有啥好讨论的。。。。。。只要 AB 里面都有相同的 Job ， 队列使用相同的数据源就可以了"]},
{"content": ["<div class=\"topic_content\">手机码字不容易，全在标题了</div>"], "reply": "3", "tittle": "对于 workerman、swoole 之类的用 php 做服务端 socket 长连接服务有什么忠告吗？", "comment": ["主要看你们运维吧 如果 linux 肯定改内核参数 比喻 timewait 等的参数 连接端口复用\r", "再牛的 就是 前面 nginx 只能的做 tcp udp 的反向代理 后面多台负载均衡", " \r", "现在用 haproxy 做负载，后面多台 swoole", " 狗逼 英晨 nodo.js ZeroMQ 很简单 socket"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>由于业务拓展升级，想寻求不错的外包公司，电商行业的公司，如果是专门做电商解决方案的外包公司那就最好了</p>\n</div></div>"], "reply": "7", "tittle": "在杭州和上海有没有好一点的外包公司推荐", "comment": ["加我 QQ 联系吧， 我推荐你几个", "QQ 三四五七七二五三零", "hz 有资源 Q 柒柒捌肆肆柒陆壹贰", "php 节点.. 外包 不过专注 app 开发。", "上海知道有两家，电商外包做了蛮久的，宝尊和大宇宙", " 大宇宙，日本那个公司么？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>刚接触正则，想实现一个类似 UBB 的“简码”功能，不知道思路对不对。</p>\n<p>直接贴代码吧</p>\n<pre><code>function shortcode_parse($text) {\n$atts = array();\n$pattern = '/([\\w-]+)\\s*=\\s*\"([^\"]*)\"(?:\\s|$)|([\\w-]+)\\s*=\\s*\\'([^\\']*)\\'(?:\\s|$)|([\\w-]+)\\s*=\\s*([^\\s\\'\"]+)(?:\\s|$)|\"([^\"]*)\"(?:\\s|$)|(\\S+)(?:\\s|$)/';\nif ( preg_match_all($pattern, $text, $match, PREG_SET_ORDER) ) {\n    foreach ($match as $value ) {\n        if (!empty($value [1]))\n            $atts[strtolower($value [1])] = $value [2];\n        elseif (!empty($value [3]))\n            $atts[strtolower($value [3])] = $value [4];\n        elseif (!empty($value [5]))\n            $atts[strtolower($value [5])] = $value [6];\n        elseif (isset($value [7]) &amp;&amp; strlen($value [7]))\n            $atts[] = $value [7];\n        elseif (isset($value [8]))\n            $atts[] = $value [8];\n    }\n}\nreturn $atts;\n}   \n\n$atts = '[test id1=\"xxx\" id2=\"xxx\" id3=\"xxx\" id4=\"xxx\"]';\n$attx = shortcode_parse($atts);\n\nprint_r($attx);\n</code></pre>\n<p>现在实现出来是这样的：</p>\n<pre><code>Array\n(\n    [0] =&gt; [test\n    [id1] =&gt; xxx\n    [id2] =&gt; xxx\n    [id3] =&gt; xxx\n    [1] =&gt; id4=\"xxx\"]\n)\n</code></pre>\n<p>希望实现下面这样的效果：</p>\n<pre><code>Array\n(\n    [0] =&gt; [\n    [1] =&gt; test\n    [id1] =&gt; xxx\n    [id2] =&gt; xxx\n    [id3] =&gt; xxx\n    [id4] =&gt; xxx\n    [2] =&gt; ]\n)\n</code></pre>\n<p>希望各位 dalao 可以为小弟解惑，谢谢。</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>好像没说清楚，就是我想把下面这段“简码”用正则替换成数组。</p>\n<p>上面的代码已经简单实现了，可是并没有达到我需要的效果</p>\n<p>简码：</p>\n<pre><code>[test id1=\"xxx\" id2=\"xxx\" id3=\"xxx\" id4=\"xxx\"]\n</code></pre>\n<p>数组：</p>\n<pre><code>Array\n(\n    [0] =&gt; [\n    [1] =&gt; test\n    [id1] =&gt; xxx\n    [id2] =&gt; xxx\n    [id3] =&gt; xxx\n    [id4] =&gt; xxx\n    [2] =&gt; ]\n)\n</code></pre>\n</div></div>"], "reply": "4", "tittle": "求组一个正则的问题，希望各位 dalao 赐教", "comment": ["额…能稍微说的再清楚一点吗，下面那个效果是什么意思=  =", " 喵", " 追加了信息，大概描述出来了。", "(\\[)(\\w*) id\\d=\\\"(.*)\\\"(\\]) \r", "是不是这种效果？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>从当前 PHP 脚本获取执行的 MySQL 语句柄</p>\n</div></div>"], "reply": "5", "tittle": "不借助框架，怎么去获取当前脚本中执行的所有 mysql 语句柄", "comment": ["语句柄是啥？", "用一个函数把 mysql_connnect 包裹起来，每连接一次就纪录一次", " 写错了是 mysql_connect", " 都是 mysql 查询语句，我想获取到这些语句", "你要弄个统一的执行入口，每次执行 sql 语句之前，将 sql 语句写到 log 里面。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>是我太孤陋寡闻了吗？</p>\n<p>今天和一个同事聊，他说 PHP 是前端范畴的了</p>\n</div></div>"], "reply": "80", "tittle": "PHP 是前端的范畴了？在大公司里面", "comment": ["大公司不是用 node 替换了前端的 php 嘛？", "的确是前端, php 主要业务 底层交互都是 C++开放的接口", "相对来说是前端", "显然不是，参考。\r", "说 PHP 是前端，就相当于是说 HTML5 是 WAP 。\r", "都是错误的表现。\r", "技术上的前端肯定不算啊，毕竟还是要跑在服务器上的，只用浏览器肯定不行\r", "估计是在整个产品结构里，偏向展现给用户那一块的，所以在公司内部被叫做『前端』", " 这么说是有道理~~\r", " 哈哈我一直是这么觉得，所以才发了这么问题\r", "\r", " 大概明白了\r", " 恩 相对来说的话 就比较好理解了", "需要区分项目前端与 Web 前端。\r", "Web 前后端的区分依据是浏览器与服务器。\r", "项目前后端区分的依据是所在项目的位置。\r", "不能混为一谈。", "这个前端和传统意义上说的 web 前端不太一样。\r", "html/js/css  ==>  node/php/python  ==>  java/c++， 一般现在大型网站架构的层次和语言是这样的关系。\r", "在大企业， java 的比重越来越大，脚本语言基本上只会用来处理模板渲染等跟 view 有直接交互的内容，所以就有被归类到前端去的说法。", " \r", "\r", "嗯。为了概念的正确而努力。", " \r", "\r", "但是这样的归类是错误的。\r", "项目前端因公司不同而不同。 Web 前后端是确定的。\r", "\r", "任何语言都可以处理 VIEW ，那么我问你，那个语言是专门处理后端的？", "相对而言", "可能是因为 web 前端都会 PHP 的缘故吧", "html/css 才是前端", "怎么会有这种说法？\r", "感觉现在都玩坑里去了，前端还是原来的概念，只不过现在前端可以能做更多罢了。", "现在前端不都必须会一门后台语言么", " 我感觉越大的公司越不会轻易用 node 做主要后端。。。", "很多 php 框架都是 MVC ， 他这里应该指的是这里的‘ V ’吧。", "相对而言，淘宝原来就是", "前后都是相对的，许多业务中的前端指的是更靠近用户的那部分，不一定指的是 GUI 部分。", "在我们公司， java 是底层做数据的， php 就是前段配合 html5 做用户展示数据的", "在百度好像 PHP 真算前端的", "C 说 php 是前端\r", "html css js 说 php 是后端。。", "狭义算后端，广义算前端", "不是哇，既有偏前端也有偏后端的啊", "\r", "\r", "前端扩张了， PHP 大概处于蝙蝠的位置", "看你用来做什么了，做页面展示部分的逻辑，算前端吧", "我觉得，应该处于中间层吧。\r", "用 nodejs 替代 php ，很大一部分原因是为了省钱吧。", "前端后端跟语言关系不大，而且前后也总是相对的。有人用 Java 写 Web ，有人用 Java 写桌面，有人用 Java 写中间件，有人用 Java 写数据库。 Java 是前端还是后端？", "看 PHP 用来承载什么业务了吧。习惯 Java 、 Node 等后台的公司， PHP 会叫做前端，顶多叫中间层。整个业务就是一个 PHP 网站的公司， PHP 自然可以叫后端了。叫法其实不重要。", "每个人都有自己对前后端的概念。\r", "Web 工程师觉得 html/js/css 是前端， php 是后端。\r", "架构师觉得 web 是前端，核心逻辑是后端。\r", "库的维护者觉得应用是前端， infrastructure 是后端。\r", "硬件工程师觉得软件是前端，硬件是后端。\r", "电路设计人员觉得芯片内布局布线是前端，电路逻辑表达是后端。\r", "硬件工艺研究人员觉得电路逻辑是前端，半导体物理是后端。", "每个公司业务不同都嘛， Java 也阔以写前端呀，只是比较丑而已。", "看完帖子觉得应该有一个中端的概念", "我们虽然小公司 但 php 也是前端", " 叫中间层语言比较合适", "概念不一样。。不过很老的梗了。。而且不少地方都不用 php 用 node.js 来替换了。。", "显然，，，，对于 web 来说，后端只是 API 了， ios android 也都是前端。", "是前端还不好，都说前端天花板", "php 在小公司是全栈，在大公司是中间件", " \r", "\r", "显然你又错了。\r", "ios android 是客户端。\r", "与前后端完全是两个概念。\r", "\r", "看来一个概念建立起来很难，混淆很容易。", " 我说的是替换了前端的 php ，没有说做主要后端啊。。。", "架构上是，但技术上不上", "架构上是，但技术上不是", "看你怎么用咯", "在我们公司，浏览器 + web 服务器（ PHP ）称为前端（有时候也称 Web App 客户端，与 ios, andrioid 平级），后端是数据库+服务器。", "是又如何, 不是又如何? 快速切换自己的位置才是王道", "我在公司就是, 不用 java 做后端我就用 PHP 写, 一旦 java 上后端, 我就去写 js.....", " \r", "\r", "Web 服务器不属于服务器？\r", "\r", "将 Web 前端与其它的前端混淆的基本都是基本概念不清楚的人。\r", "\r", "概念清楚不会说 PHP 之类的为前端的。", " Web 服务器是属于服务器，但现在前端的工作已经从浏览器往 Web 服务器延伸了，并且与数据服务器有了很明显的界线，所以出了一个新名称：“大前端”。", " 其实吧，就是些用着跑在服务器 /强类型语言的人写着千篇一律的 curd 的自我安慰吧，不涉及并发，不涉及多线程，不涉及底层调用 /开发的即便是跑服务器说是后端的都是耍流氓。假如有用 c++写 nose/php 扩展的，这个成为后端，我服。\r", "以上，仅代表作为一个页面仔的我的观点，没有针对任何人，也不代表雇主。", "php 作为接口提供方", " \r", "\r", "大前端就是错误的胡扯的结果。大前端试问大在那里？既然有大前端，试问什么是小前端？\r", "中国的 IT 界的可恨之处在于喜欢制造错误的名词，然后传播错误的理念。\r", "\r", "正确的叫法其实就是全栈工程师。\r", "\r", " \r", "\r", "后端与前端并没有那个更高大上的差别。差别只在于位置的不同。\r", "你对前后端的理解本身就是错误的。\r", "你的意思是前端必然比后端要弱？显然实际情况并非如此。\r", "\r", "可见基于以上多位对于前后端的讨论，基本上都是源于错误。\r", "\r", "所以我认为将前端扩大，与将后端缩小都是因为错误与无知。\r", "即无法界定前端，也无法界定后端。所以稀里糊涂的人云亦云。\r", "\r", "因为对于前端后分不清，然后才会搞出什么前后端分离这种可笑的提法。\r", "\r", "这种提法的前提是根本不知道什么是前后端，也不知道分了什么。\r", "然后分离的是什么也没有搞清楚。\r", "\r", "前后端分离与大前端，还有将 PHP ， JAVA ， NODEJS 叫做前端。本身就是中国 IT 界最大的耻辱。", " u win", "如果是同构型的架构那后端的一部分工作属前端", "哇塞 感谢大家的回答，大体都了解了，我是一个 web 小前端，所以才觉得说 php 是前端比较惊讶，如果说相对而言的话就好理解了  ~~~", " 一部分人概念上把 PHP 列为前端，是因为在架构上 PHP 在项目设计里不涉及数据的操作，仅仅做 view 和 helper 的缘故吧，你也别急着灌注给别人概念的对和错。\r", "\r", "PS ：「全栈工程师」不是会那么点就算的。\r", "PPS ：前端和后端的区分，也不是绝对性的，方便工作理解即可。\r", "PPPS ：「耻辱」二字别乱用。", "管它是什么端，工资不低就对了", "前后端是相对的。。", " \r", "小前端就是纯浏览器，在大前端中， web 服务器相当于 model 层（控制逻辑与交互逻辑），只不过不是与数据库交互，而是通过 API 与数据服务器（业务逻辑）交互。如果是全栈，那是需要包括数据库操作的。\r", "\r", "所以现在有种前后端的看法就是：不涉及数据库的就划分到前端。 所以有时候会称：“前端服务器”，“ web 服务器”，与之对应的：“后端服务器”，“数据服务器”。\r", "\r", "淘宝的前端服务器语言是 node ，后端服务器语言是 java ，之所以前端服务器的语言使用 node ，正是为了把这部分工作归到前端。\r", "\r", "我之前公司的前端服务器语言是 php （与页面结构较紧密，方便操作），后端服务器语言是 golang （性能高）。\r", "\r", "所以呢，现在前后端概念可能如果你所说，但工作的范围已经不局限于原来的概念了。", " \r", "\r", "你的意思是涉及数据的操作的就是后端？\r", "HTML5 里支持多种数据库与数据操作，是不是表示 HTML5 是后端？\r", "这种思路得好好检讨自己了，这种简单，基本的逻辑错误通常应该默认不会出现的。\r", "你没有搞清楚什么是前端，什么是后端。\r", "从上面的分析来看，数据还是划分前后端的依据吗？\r", "答案显然是否定的。\r", "\r", "这种么简单的逻辑这么多人搞不清楚，难道不是一件很可耻的事情。\r", "\r", "显然你并没有搞清楚。\r", "\r", "因为操作数据根本不是前后端的划分依据。\r", "\r", "前后的划分本质上是依据调用层次来看的。\r", "\r", "作为数据通常是需要持久化的，所以与 OS 与文件系统的联系比较紧密的。\r", "\r", "也就是相对来讲处于整个调用链的末端，只不过是一个存储业务或者数据业务而已。\r", "\r", "由于大多数据库也是基于 TCP/IP 连接的，跟 Web 服务器基于 TCP/IP 是一样的。\r", "本质上并没有明显的谁前谁后的界线。\r", "\r", "所以认为数据库比 Web 服务器更后面，本身就是错误的理解。\r", "\r", "关于你回复的两点，再统一回复下：\r", "\r", "1. 关于全栈工程师不是以技能多少来论的，而是以涉及的技术领域来论的。如果没有涉及前后端，就算技能再多，也不见得是全栈工程师。如果认为全栈工程师技术少了。你可以说说少在那里了。\r", "2. 前后端不是完全绝对的，但是 Web 前后端是绝对的。大部分的前后端虽然不绝对，但是也是有基础的区分的。所以持不可知论的人是可耻的。如果前后端你分不清楚，你为什么能分清楚 NODEJS 与 PHP ？从更无耻的角度，我还可以认为 PHP 与 NODEJS 无法区分。\r", "3. 耻辱这两个字用的还是恰如其分的。体现了国内技术不可知论者太多，混淆视听的人太多的现状。", " \r", "\r", "看你的回复，好象你对 MVC 的理解是错误的。\r", "\r", "model 层（控制逻辑与交互逻辑）\r", "\r", "这个显然应该是 C 层。\r", "\r", "麻烦先好好看看 MVC 是什么。。", " \r", "\r", "\r", "麻烦你区分下 Web 前后端与业务的前后端。\r", "\r", "不要混为一谈。\r", "\r", "将 Web 前后端与业务前后端混为一谈的人就是基本概念不清的表现。\r", "\r", "我一样可以将你分成前后端。前端是肚皮，脸皮，后端是背与臀。\r", "\r", "当我说你的前端与你的后端时，你也可能理解我说的是什么，但是这样是没有意义的，可笑的。\r", "\r", "因为我们讨论不在一个层面。\r", "\r", "我说你有一个全栈的身体，你有一个大前端的肚子？\r", "\r", "\r", "将 Web 前后端与业务的前后端混淆，本质是没有逻辑的表现。无它。", "c++提供接口拿数据的话， php 只是 MVC 中的 C 层，可以说是属于前端的了\r", "\r", "腾讯很多是用 C++写后台， protobuf 协议  可以用 php 去拿数据然后显示这就属于前端范畴了\r", "\r", "当然 pb 协议也支持 js 了", "逻辑没问题 说的通", " \r", "\r", "麻烦通读一下这个帖子，然后看下我分享的链接。\r", "\r", "你们的错误在于没有分清楚 Web 前后端与业务前后端。", " 没必要分那么清啊 就比如我们前后端分离一般是用 js 通过 json 去拿数据 然后才做 view 操作\r", "\r", "就拿 protobuf 来说 c++写好后台  但不提供 http 协议接口只提供 pb 接口 需要一个中间层（ php ）来解释 pb 协议 然后进行 view 操作 \r", "\r", "你让后写后台的来操作的 html 代码是不是会更乱？ php 做为 C 层也是我们前端来写是不是也前后端分离了？\r", "\r", "最后我说一句 php 作为 C 层很简单 不用操作数据库那些，写 php  跟写 js 代码没差多少  语法很像  \r", "\r", "艺多不压身", "我们公司除了与数据库直接打交道的中枢，其余都称之为前端展示。。。哈哈，哪怕你是写 csharp 的", "为何我们老喜欢纠结于这些概念？这，相对而言是不是又反映了我们的浮躁？\r", "\r", "每一种语言的设计者，各有各的野心，而这些野心，会慢慢随着发展共荣和趋向相同呈现得不可思议，甚至一些语言能够把前后端都能揽入怀中，不足为奇，那就能一概而论地说这是前端这是后端？用什么做前后端，关键还得看项目，看到底你要解决或达到哪个层级的优化吧？当然，还得看市场人力资源的招募成本", " ", "\r", "\r", "你开心就好，顺带一提， THRIFT 这个框架， Facebook 对它实践里说的是「 PHP is used for the front-end 」。\r", "\r", "PS: 一口一个层面，这种对话习惯很不好。", " 另外，你的对话有大量的二元论，非此即彼的逻辑其实是不好的思考习惯。\r", "\r", "如果尝试着思考的时候加上「不同的场景」作为预设判断，那会想得更全面些。", " node 代替 php 普遍吗现在？", " \r", "\r", "科学技术就是要讲求唯一性的，消除二义性的。\r", "如果无法消除，那就别个限定条件。\r", "比如我说 1+1 = 3 ，你说 1+1 =5 。\r", "难道我们就是对的？\r", "显然科学技术不是这样的，科学技术不是民主自由。\r", "科学技术并不会因为相信的人多就对，相信的人少就错。\r", "对于科学技术来说，通常需要有一个明确的结论。\r", "\r", "\r", " \r", "\r", "我们讨论的问题并不是简单不简单的问题。而是如何区分前后端的问题。\r", "任何时候 我们做的事情都是去复杂化。变简单是应该的。\r", "现在的问题是应该好好区分前后端。\r", "\r", "将 Web 前后端与业务前后端混淆对于目前来讲是很常见的错误。\r", "\r", "前后端是一个泛与相对的概念。\r", "而我主张要区分开是因为混乱导致概念不清，导致理解的错误。\r", "\r", "将 PHP 当成是前端就是扯蛋的结果。\r", "\r", "因为 PHP 本来就不是前端。\r", "\r", "PHP 只是可以在后端里从事相对比较靠前的业务。\r", "\r", "当然称为服务器前端也是可以的。但是这个前端与我们通常意义的 Web 前端完全是两码事。\r", "\r", "所以通常我们说前端是指 Web 前端，而不是服务器前端。\r", "\r", "如果说 PHP 是服务器前端，我不会有意见，但是将 PHP 称为前端，那就是对概念的混淆。", " \r", "你这样说我就不乐意了，这个「唯一性」是错误的，严厉地说，是愚蠢的。\r", "如果 1 + 1 一定等于 2 ，咱不需要哥德巴赫猜想，不需要 Sierpinski-Mazurkiewicz 悖论，只需要知道 1 + 1 等于 2 ，事实上只是在特定语境和条件下， 1 + 1 等于 2 ，这个特定语境对于大部分人而言是普适语境罢了。\r", "\r", "另外你在遣词酌句的死胡同里快出不来了，专业名词的用处，是为了让我们更好地工作，而不是用来提升优越感。\r", "\r", "总而言之，我不会再往下说了，日安，祝你今天过得好。", "PHP 世上最好语言^_^", " \r", "\r", "刚好是你在表现优越感。 \r", "\r", "限定就是为了说明问题。\r", "\r", "唯一性当然不是在任何时候都是对的。\r", "\r", "但是只有有了唯一性，问题才是可解的。\r", "\r", "如果 1+1 不是等于 2,那任何的数据计算都没有意义。\r", "\r", "别跟我扯什么哥德巴赫猜想，跟 1+1 等于 2 没有任何关系。\r", "\r", "哥德巴赫猜想本身就是试图找到唯一性与确定性。\r", "\r", "你用一个科学家试图寻找确定性的事件说明事情是不唯一的？这不是很可笑的事情吗？\r", "\r", "如果科学不是寻找唯一性，他就没有必要猜了。因为如果结果都是不确定的，猜也是没有任何意义的，。\r", "\r", "所以说谁愚蠢呢？ 祝你一生都过得好。\r", "\r", "既然真理掌握在你手里，为什么就不能有点优越感呢？优越感难道不是求真的动力之一吗？呵呵。", " 看到了真爱", "各位长老，收了神通吧。", "后端的前端，可以这样理解", "没错！", "php 是属于套 html 展示 ui 层的语言\r", "而后端更多的是一个一个的服务 是没有 ui 的\r", "比如搜索服务\r", "分布式文件存储服务\r", "\r", "当然 php 也可以写一些服务，但并不是优势\r", "比如 c++ 可以写更底层的东西", "php 更多的是调用这些服务，实现一些表层的工作"]},
{"content": ["<div class=\"topic_content\">是不是超过 50w 就已经无法承载了？有人进行过具体的压力测试吗？</div>"], "reply": "2", "tittle": "WordPress 可以承受多少“文章”与“标签”？", "comment": ["你机器什么配置呢？", "可以找我优化，主要是服务器环境，但限于 centos 环境。"]},
{"content": ["<div class=\"topic_content\">rt ，网站想要实现一个统计浏览量（类似 segmentfault ）的功能，要求是，多个用户访问同一个帖子浏览量算作一次，为登录用户浏览不算次数。该如何实现？\r<br>同样的，收藏应该如何实现？\r<br>谢～\r<br>PS 百度上搜索的结果一堆是采用第三方统计的。。并不考虑。\r<br>另外有人说可以用 MySQL 单独设计一个表统计浏览量，但是感觉这样数据库会爆掉。\r<br>怎么办。\r<br>是不是需要上类似 Redis 这样的内存数据库？</div>", "<div class=\"topic_content\">打错字了。。\r<br>一个用户多次访问一个帖子浏览量算作一个</div>"], "reply": "17", "tittle": "如何实现帖子浏览量统计功能？", "comment": ["“多个用户访问同一个帖子浏览量算作一次”，不是很理解这句，既然如此，还统计啥？", "多个用户访问同一个帖子浏览量算作一次???", "“多个用户访问同一个帖子浏览量算作一次” 这个就是发一个帖子有人访问就为 1 ，没人访问就为 0 ，时间日期都不用考虑了，没意义", "数据库没你想的那么脆弱吧", "估计楼主写错了，是一个用户在不同的时间浏览同一个帖子都只算作一次\r", "如果是这样的话，你就需要在某个地方存储，某个人是否浏览过某个帖子的数据\r", "然后这又是需要长期存储的数据，所以直接放数据库里就行了，没必要放 redis", "访问量多少？数据库多少数据量？\r", "1000w 以下不用考虑数据库", "直接上 influxdb 吧，自从解决 timezone 问题后很好用了。", "提供另外一个思路：\r", "假设用户通过 nginx 访问你的 web 服务，你阔以修改 nginx 日志记录设置，记录用户的 cookie 信息（只要能够表示用户唯一身份即可），添加到 access_log 信息中。\r", "\r", "如果你需要及时计算，可以使用 Spark streaming ，如果你不需要及时计算，可以定时一段时间计算一次日志内的信息，利用 Spark SQL ，可以像 MySQL 一样起送自如。\r", "\r", "计算后的日志就可以存储到文件 or 数据库。\r", "\r", "以上方式的好处是不影响用户体验，只对 web 服务器日志进行分析，只要保留用户日志，随时都可以重新计算。", "o , PHP 节点，如果会一点 Python 的话就可以轻松使用 spark SQL 了。", "建张用户帖子表，用户 ID 和帖子 ID 作为唯一索引，更新帖子点击数前往这个表插记录，能插进去才更新点击数。\r", "\r", "\r", "为防止数据爆掉，加个条件，帖子最后回复时间超过 60 天就不算点击数，同时维护脚本加入定期清理用户帖子表。\r", "\r", "除非你的每月活跃用户有过十万，每个用户读取帖子数过千，否则没必要用非数据库的解决方案", "PV vs UV\r", "\r", "低访问量分表就行\r", "\r", "至于高并发情况下\r", "内存计数器+定时持久化\r", "Redis+MySQL 就是相对常用的组合\r", "也可以自己建其他内存缓存方案", "谢大家回答。\r", "访问量基本为 0 。。。\r", "先用 MySQL 做一个用户-帖子表来记录就好。。\r", "等用户量大了再换吧。。\r", "总之，谢大家回答", " 我觉得，可以改为每天计一次。\r", "否则你的 MySQL 压力会崩的，用 Memcache 或者 Redis ， 86400 秒。", "piwik", " 没多大压力一个 uid ，对应一个或多个帖子的访问 ID ，说实话压力真心不大，如果你有一百万用户和 50 个帖子，这些用户每天一发消息全部上线，日 update 次数也就是 5 千万次，分布到一天下来每秒查询没多少流量，我之前用 mysql 做游戏数据库每天就 100 多个人玩大概日流量 100G 流量稳稳的没崩溃跑了三个月， mysql 真心没你想的那么脆弱", "hset article:id userid time()\r", "\r", "count = hlen(article:id)", "数据库会爆掉。。电信、银行交易数据都是放在数据库的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>另外 php -m 是显示已经加载的扩展的吗？</p>\n</div></div>"], "reply": "8", "tittle": "请问 php 扩展编译到 php 解释器中的是自动加载的吗？", "comment": ["不是，是", "不是\r", "需要加到 php.ini 里引用  ext 什么的=xxx.so \r", "But 一定要记得\r", "重启 apache or nginx 才会生效 或者 reload\r", "\r", "不然你\r", "Cli 运行 php -m  显示有\r", "但是 Web 访问没\r", "\r", "\r", "At \r", "php -m = 显示所有 php 已载入的 module 列表\r", "这个 php doc 有很详细的说明\r", "觉得没必要问的", "设定 php.ini 的路径之后 pecl 装模块可以自动帮你加", " 可能大家都理解错我的意思了，我是是说扩展直接静态编译到 PHP 中，不是同过动态链接库的形式", "\r", "一样道理\r", "如果你希望静态编译 做成 pacth 的形式 改 php.ini 文件 在 copy php.ini 之前\r", "非原生的模块我记得不主动载入的 \r", "\r", "php7+不知道", "full-static 太麻烦了，没人会这么坑爹的做法，当然最近确实遇到了一个情况是这样的，但是这是作死。\r", "reload 的时候会重新加载", "   别这么干，维护太麻烦，操作系统都建议用 extension load ，就是为了方便管理。", " 只是平常开发时这么使用，只是新装 PHP7 ，不是自己编译的，使用包管理工具装的，以前也是使用动态链接库的方式"]},
{"content": ["<div class=\"topic_content\">请教 PHP 入坑 4 年后的发展路子；\r<br>突然发现找不到发展方向，不知道重点在哪儿。想在 php 上面有新的突破，那么应该在哪个方面多学习。</div>"], "reply": "18", "tittle": "PHP 进阶", "comment": ["想必你已经用了很多个框架，肯定没有一个框架是完美的。那么，按照自己想要的，自己写个框架出来", "写一本<php 从入门到放弃>", "我是个厨子，擅长电饭煲烧菜，想知道用更高级的进口纳米涂层压力锅值不值得入\r", "\r", "PHP 只是个工具啦，不用刻意盯着工具的突破，不如多想想要做出什么样的产品给别人用。\r", "就像厨子应该研究更好吃的菜式，而不是过于纠结在锅子铲子上面，除非你定位就是个锅匠\r", "\r", "PS, 我们招聘 PHP 开发： ", "在哪里？要不要来我司？杭州。", " 这个说法好。是做厨子，还是做工匠（深入底层）？", " 他说的工匠应该是做出一个好的产品来，比如自己写一套框架之类", "没打怪是升不了级的", "深圳市保利物业管理集团招聘 php2 名，工作地点：深圳市南山科技园\r", "岗位要求：\r", "    1 、计算机或相关专业,本科及以上学历， 3 年以上研发相关开发经验， 1 年以上手机 APP 接口开发经验；\r", "    2 、专业经验要求：\r", "    1 ）精通 PHP 程序开发，熟悉面向对象编程，有 PHP 框架如 ThinkPHP 、 YII 、 CI 等使用经验；\r", "    2 ）精通 mysql 、 nosql 数据库，精通数据库优化，并具备优秀的数据库设计能力；\r", "    3 ）熟悉 memcached 、 redis 等缓存技术，对大并发量下的数据缓存、系统优化有着自己的理解；\r", "    4 ）熟悉 Ajax 、 JSON 、 JQuery 、 Smarty 、 Javascript 、 CSS3 等技术；\r", "    5 ）熟悉 LNMP 架构，对 web server 调优有实操经验者优先，有运维经验者优先；\r", "    6 ）熟悉 TCP/IP 、 HTTP 协议者，，有大访问量系统开发或数据库优化经验，了解至少一个大型互联网产品的架构设计，架构设计经验优先 ；\r", "    3 、拥有良好的代码习惯，要求结构清晰，命名规范，逻辑性强，复用率高，代码冗余率低。\r", "    4 、逻辑思维能力强，责任心强，工作积极主动，具备强烈的进取心和良好的团队合作精神，有较强的沟通及协调能力，有独立解决问题能力。", "自卖自夸 MKII ... ", "#reply25 ... 如果只是说 php 进阶的话 ... 这个链接就足够了 ...\r", "\r", "但我很在意一件事是在顶楼除了四年经验之外其他什么技术细节都没有 ... 所以我很好奇这四年来你都干了啥 ..?\r", "\r", "逐行完整读过任何一个框架的源代码了没 ..? 思考过为什么这么写了没 ..? 自己写过框架了没 ..? 写过扩展了没 ..?\r", "\r", "如果都没有 ... 大概你根本就没入行 php ... 你只是会用某个框架而已 ... 满足于实现 ... 知其然而不知其所以然 ...\r", "\r", "就好像有些前端号称自己懂 JavaScript 但没有 jQuery 连最基础的选择器都写不出一样 ...\r", "\r", "当然你可以安慰自己「反正有 jQuery 」「大家都用 jQuery 」「只要会 jQuery 就好了」 ... 可这样真的好了吗 ...\r", "\r", "一直机械的重复同样的事情无非只能增加熟练度而已 ... 不去钻研和思考是不能获得境界的提升的 ...\r", "\r", "当然这个提升不是必要的 ... 关键你自己觉得合适就好 ... 只是四年时间说短也不短了 ... 一直这样不无聊吗 ...", "发展方向？你有用 PHP 7 么？代码中用了新特性么？有写 Hack 么？现在用的东西可能下一个版本就被废弃了……", "用 php 玩玩数据挖掘，绝对是一番新天地。", "先问问自己， PHP 已经熟练到什么样的程度了\r", "单讲后端部分，能不能独立的根据某个需求熟练的搭建出一个完整的平台，包括和其他组件的衔接\r", "能做到上面这一步，就可以开始选择方向了：\r", "- 走纯技术路子可以考虑下 php 源代码，或者做漏洞发掘\r", "- 走商业路子可以找喜欢的生意种类，把 php 作为一个辅助工具帮助你做生意", "动静结合，再学一门静态类型的编程语言。\r", "或者 swift", "我最近在思考的，因为想要试着总结一个快速理解其它语言做 web 开发的思路，整理了一下做 web 开发可能会涉及到几个模块的东西。\r", "如果这些功能都可以自己用代码实现一遍，应该就可以完成一个简单的 web 框架了。退而求其次就是能够看懂实现这些功能的代码，那也应该可以改一个 web 框架了，再次一点就是能够看懂这些功能的接口文档，那也足够用一个 web 框架开发了。\r", "\r", "route\r", "路由 url 到对应类或文件的机制\r", "global\r", "全局变量，用于保存运行中必须的公共参数，例如数据库连接参数和状态，各种 web 系统配置参数\r", "evernt driver\r", "事件驱动模型，用于根据请求处理的状态调度任务。常见于非阻塞 web 框架。\r", "hook\r", "处理请求生命周期的过程自动调用的唤醒处理函数，例如请求处理前、请求完成后\r", "signal\r", "通知消息，用于在处理某个业务的时候发出消息和参数，由接收方决定如何处理消息。\r", "import/call\r", "引入通用函数，或调用某个子类函数\r", "session/cookie\r", "用于缓存用户态数据，做客户端数据隔离和权限审查。 session 可选择内存数据库或文件形式读写， cookie 需要了解 set_cookie/get_cookie 的操作和 http 编码\r", "header\r", "http 请求处理的协议头，读写 header 字段，可能会用来传递公共参数， restfull 的 web 服务会用到。\r", "upload/file\r", "接收用户上传文件，需要处理文件类型，保存文件路径等内存数据与文件系统的交互\r", "get/post/put/delete\r", "http 几种请求形式，接收不同请求形式的参数和数据。\r", "template\r", "渲染返回页面模板，用于将不同参数渲染到模板中返回给浏览器\r", "parse\r", "解析各种正则匹配规则，用于提取数据\r", "message queue\r", "消息队列机制，用于处理系统内异步处理的业务消息通知，需要完成收发消息、存储、调用指定函数功能，基于 signal 、 import/call 完成的功能\r", "extent\r", "扩展，安装其它扩展功能或者其它应用的协议扩展。\r", "connect to other server\r", "连接其它服务，例如借助 extent 扩展协议支持，连接 mysql 、 memcache 、 mongodb 、 redis 等独立应用开放的服务。\r", "task pool\r", "任务进程管理池，用于创建连接池便于加强与外部请求的通信效率，常见有数据库连接池，或者配合 message queue 实现的任务管理池。\r", "httpclient/TCPClient/UDPClient\r", "发送 http 请求所需功能,通常集成 curl 向外部 http 服务发送请求的处理，或者通过其它扩展与其它服务器进行 tcp/udp 协议的通信。\r", "convert image\r", "用于解析或生成图片数据。常用于生成验证码、打水印等基础图片处理功能。", "把技能点都点亮吧", " 把技能树都点亮吧", " 非常好的参考啊！", " 说得好"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>是否是这样？代码如下：\n$url=\"https://apiurl\";</p>\n<p>$headers=array('Authorization:aaa',\"X-API-KEY:bbb\");</p>\n<p>$ch = curl_init();</p>\n<p>$timeout = 5;</p>\n<p>curl_setopt ($ch, CURLOPT_URL, $url);</p>\n<p>curl_setopt ($ch, CURLOPT_HTTPHEADER, $headers);</p>\n<p>curl_setopt ($ch, CURLOPT_RETURNTRANSFER, 1);</p>\n<p>curl_setopt ($ch, CURLOPT_CONNECTTIMEOUT, $timeout);</p>\n<p>curl_setopt($ch, CURLOPT_HTTPGET, true);</p>\n<p>$file_contents = curl_exec($ch);//获得返回值</p>\n<p>dump($file_contents);          返回的是 false</p>\n<p>dump(curl_errno($ch));         返回的是 60      网上 60 说的是同侪凭证不能与已知的 CA 证书进行身份验证。</p>\n<p>dump(curl_error($ch));         返回的是 SSL certificate problem: self signed certificate in certificate chain</p>\n<p>curl_close($ch);</p>\n</div></div>"], "reply": "1", "tittle": "php 如何设置头部参数去访问 一个 url？（之前也问过，但是帖子沉了）", "comment": ["curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>2016 应届生一枚，目前在武汉。</p>\n<p>个人热爱编程，开源分享，用 laravel 创建 <a href=\"http://learner.video\" rel=\"nofollow\">learner.video</a> 来交流分享技术。博客地址: <a href=\"http://rrylee.github.io\" rel=\"nofollow\">http://rrylee.github.io</a> ， github: <a href=\"https://github.com/RryLee\" rel=\"nofollow\">https://github.com/RryLee</a></p>\n<p>熟练使用 php laravel 和 slim 框架， nodejs 爬虫， ubuntu 重度用户(lamp 环境就不用说了)</p>\n<p>另外，日常使用 vuejs, bootstrap 。对 react 和 angular 均有涉猎。</p>\n<p>真心实意求靠谱公司一起成长，具体简历请查看下面链接。</p>\n<p><a href=\"http://cv.qiaobutang.com/r/55a4b50e0cf232cfd8c4874d\" rel=\"nofollow\">简历链接</a></p>\n</div></div>"], "reply": "22", "tittle": "[北上深] laravel 技术栈，诚意求聘，详情请进", "comment": ["首先 google 没写对==", "我也是来吐槽 google 没写对的= =", "学长……", "  @", "  感谢，太重要了，这个东西，难怪昨天说好的面试看了我的简历后就不了了之了。", " hi.", "真是个牛逼的学弟呀", " 里面标题和下面都有拼写错误", "有会 C 语言 数据库的么 求带啊", " 数据库只能用用啊， c 语言 hehelloworldworld ，你看成吗", " 感谢指正", "试试拉勾+Boss 直聘？", "很想招新人啊，但业务复杂度跟新人的成长速度又是比较头疼的事情，怎么去平衡", "想来上海发展吗？ ", "  有试过，但是我投的好像都没理我", " 公司内部权衡吧。", " 好吧，之前 boss 上被洪大师 pass 了", " 我记得是叫你发简历了，但你后来没法给我啊，然后就没有然后了", "已经在 ", " 发过, 就不要重复了.", " 确实，之间应该直接找到 php 节点的，没有处理好。", " 来上海聊一下吧，车票报销，微信 yixtan", "支持下，经常在 B 站看到楼主直播 PHP 和 node 。\r", "靠谱！", " 谢谢"]},
{"content": ["<div class=\"topic_content\">客户端通过 post 方式发送 json 到服务器，我这里用$_POST 方法接收，但是打印出来却为空。第二种办法我用 file_get_contents(\"php://input\");方式接收，但是我能直接返回 json 给他，但是还是打印不出来。请问下这是怎么回事</div>"], "reply": "35", "tittle": "php 无法获取客户端传来的值，求大婶", "comment": ["$_POST 接受到的参数不是 application/json, 而是 url-encode 。打印可以啊，不过你要变为 json 的话得注意 json_decode 的第二个参数。默认 false 解析为 Object ， true 解析为 Array", " 打印不了，客户端那边传过来没有键值对，我这里根本无法打印$_POST[]也就是方括号里面的值不知道是什么， 直接 echo $_POST 也无法打印", " $_POST 是数组，你当然 echo 不了了，你贴点代码吧，这样空说谁知道怎么回事。", " 你使用 php 输入流 试试看 file_get_content('php://input')", "`file_get_contents('php://input', 'r');`", "你可以看下这个：\r", "\r", "\r", "但也有些服务端语言还没有支持这种方式，例如 php 就无法通过 $_POST 对象从上面的请求中获得内容。这时候，需要自己动手处理下：在请求头中 Content-Type 为 application/json 时，从 php://input 里获得原始输入流，再 json_decode 成对象。一些 php 框架已经开始这么做了。", " \r", " \r", " 这些使用过了，<?php$c = file_get_contents(\"php://input\");echo  ($c);>我这样子打印出来，客户端那边就能收到我打印出来的乱码了，但是我这里网页上显示不出来。   使用 var_dump 打印也一样没有数组为 0", "dump 呢？", " 一样 完全没有信息显示在网页上 ，我是用谷歌浏览器", "抓包看请求有响应没。\r", "\r", "网页不显示，不一定是没数据，如果用 jquery 一类的 ajax 发请求，响应的 content-type 不对也不解析。", " 你客户端怎么传数据的？", "content-type 问题， php post 只处理 application/x-www-form-urlencoded 。可以参看 laravel yii restful 实现方案。", " 用 http 协议 post 请求", "没太明白你说的意思，他调你因为他给你 post 了，所以他能看到你的 echo ，你自己运行自己代码没传参数，所以啥都没有，不正常吗？", "他调你的时候你 error_log 下，或者断点下", "  无码无真相,请提供你提交数据至后端的 JS 代码,以及你后端的 php 代码.", "试下这个： json_decode(urldecode($_POST['data']),true);", " 根据你的描述做了一个简单的 Demo, 没发现有什么不能输出的.\r", "Demo:  ", "\r", "\r", "html 代码:\r", "```\r", "\r", "<script src=\"//js.xqin.net/jquery-1.7.1.min.js\" type=\"text/javascript\"></script>\r", "<script src=\"//js.xqin.net/jquery.json-2.3.min.js\" type=\"text/javascript\"></script>\r", "\r", "<script type=\"text/javascript\">\r", "\t$.ajax('json_test.php', {\r", "\t\ttype: 'POST',//POST\r", "\t\tcontentType : 'application/json',//发送 JSON 格式的数据\r", "\t\tdata: $.toJSON({t: Math.random()}),// $.toJSON 在 jquery.json 中定义\r", "\t\tsuccess: function(v){\r", "\t\t\talert(v);//输出服务器返回的内容\r", "\t\t}\r", "\t});\r", "</script>\r", "```\r", "\r", "php 代码\r", "```\r", "<?php\r", "echo file_get_contents('php://input');\r", "```", "基本上，我有点看明白了， LZ 一次请求，想在两个地方看到。", "贴码吧，这样我们怎么猜", "Content-Type:application/x-www-form-urlencoded", "楼上各位，我好想看明白楼主的脑袋里想啥了\r", "看到了这段代码： echo $_POST ，我觉得首先就不能把事儿想复杂了\r", "\r", "看来看去感觉是这样的：\r", "\r", "楼主写了个：\r", "\r", "然后他有一个客户端(json,app,服务器推送之类)，往\r", "\r", "POST 了一个 json 参数，然后 recieve.php 会返回一个响应内容给客户端，但是应该是这个协议出了啥问题跟他设想的不一样，他想看这个通信的记录\r", "\r", "于是他用浏览器打开了\r", "\r", "为啥不显示之前通信的内容呢……", " 我也这么觉得...", "楼主根本没有懂 POST 的流程，都是自己在猜吧，仔细看看 php 的文档： ", "是在黑 php 嘛 -_-", "\r", "\r", ";;;\r", "\r", "哪里来的习惯喜欢在网页向服务器发送 JSON.", " 不是这样的  是客户端发给我一个值，我要接收然后存在数据库中，但是数据库中没有数据显示 ，我就想着先打印客户端发过来的值看看，结果发现打印不出来。\r", " \r", " \r", "  你是不是用的 ajax 啊, 那玩意不能直接在服务端打印,看不到的.", " 你所谓的打印是怎么打印？你又是在哪里查看打印的输出？", " \r", " \r", "说的对，你是 print_r 还是 var_dump ，打印输出到哪了。\r", "\r", "可以直接输出到日志中\r", "error_log(print_r($_POST, 1), 3, '/tmp/anyfile.log');", " 先检查一下是不是客户端问题......?", "这个乱哟，贴码吧，省得大家陪你瞎猜", "遇到这种说不清的问题，搭建一个能复现问题的最小 demo ，大家都省事", "这种简单的问题建议大家不要浪费时间。第一个楼主问题描述能力不够，第二个基础太差还没有学会走路就想跑。", " 看到这个回复 觉得瞬间乐了  哈哈哈哈哈哈"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>原来用 python+django ，现在正在学习 php+Laravel 。</p>\n<p>一个地方想不明白， Laravel 为什么不像 django 一样统一在模型处定义数据库结构，而自动生成迁移脚本？</p>\n<p>目前 Laravel 需要手写迁移及撤销迁移的变更。多次迁移后，想知道当前数据库结构只能查看多次的迁移记录或者去数据库查看当前的数据库结构了。如果将字段定义放到模型里面能清楚知道当前代码需要的数据库结构了，迁移及撤销迁移脚本是能自动生成的。</p>\n<p>目前外键关系即需要在迁移脚本里面指定，还需要在模型里面指定，而且模型里面还需要指定两次，很奇怪的做法...</p>\n<p>ThinkPHP 和 Laravel 都是一样的做法，在模型里面定义字段是不是有什么坑？如果没有坑的话 Laravel 有没有计划将字段定义移动到模型里面？是不是已经有开源插件实现了自动生成迁移了？</p>\n</div></div>", "<div class=\"topic_content\">主要是觉得麻烦，一个外键变更需要分别在迁移、撤销迁移、两个模型处做 4 次修改... \r<br>想问一下是不是已经有现存的插件可以解决这个问题。\r<br>\r<br>Laravel 在哪里提 issue ？很奇怪 github 未提供 issue 功能...</div>", "<div class=\"topic_content\">好吧，我说一下希望达到的效果：\r<br>\r<br>1.再增加一个新的模型类型，这个新的模型定义里面需要写上这个模型包含的字段(数据库结构)，每个字段的类型，是否建立索引等内容。\r<br>\r<br>增加一个命令，运行后会自动的根据新的模型生成原来的模型(包括外键之类的东西)及迁移脚本。\r<br>\r<br>生成原来的模型没什么麻烦。\r<br>\r<br>主要是生成迁移脚本麻烦些，如果不考虑导入之前的迁移脚本，那么可以完全仿 django 来实现，保存每次的变更历史，然后每次生成迁移脚本时读取之前的变更历史来获得之前的数据库结构，和当前的数据库模型作比较即可获得模型的变更，根据变更生成迁移脚本即可。\r<br>\r<br>当然实际上肯定会碰到一些坑。而且 Laravel 本身迁移功能已经实现了多种数据库的底层支持，应该不用再去适配各种数据库了。</div>"], "reply": "39", "tittle": "为什么 php 的框架(Laravel、ThinkPHP)都不是在模型处统一定义数据库字段？", "comment": ["Laravel 实现的是 Active record pattern 。", ">一个地方想不明白， Laravel 为什么不像 django 一样统一在模型处定义数据库结构，而自动生成迁移脚本？\r", "更正\r", "一个地方想不明白， Laravel 为什么不像 django 一样统一在模型处定义数据库结构，自动生成迁移脚本？\r", "\r", "  我之前说的不太明白。主要意思是为什么是手工写迁移、撤销迁移代码，手工写外键查询方法(而且两个相关表都需要分别写一个方法)，运行时生成当前模型，代码里面没有当前数据库结构，想看当前的数据库结构只能去数据库查看。\r", "\r", "而不是手工定义模型字段，自动生成迁移、外键查询方法，代码内可以统一的管理当前的数据库结构呢？至少我感觉统一管理模型字段更好些。", "反正我设计系统都是数据库结构驱动的，先设计表结构在写模型，反过来不习惯", "migration 是个优点，多个平台的时候，数据库结构发生变化时， git pull 然后 auto migration 就好了，秒杀鸡", "错了。。。是多人开发时", "自动生成迁移是怎么处理数据迁移的？", "php 语法的原因，如果说在模型里定义了字段属性，那么 ORM 的一些特性就无法实现了，比如 getXXXAttribute/setXXXAttribute ，文档译作“属性读取器与修改器”，还有一些其它特性都是依赖于 php 的魔术方法实现的。所以这应该是语言层面决定的吧。", " migration 你可以当做是数据库的版本控制。自动生成的迁移在表结构发生变化时能够处理所有情况吗？", "什么都得像 django ？或者说什么框架都得像你觉得好的语言框架？不是人参攻击，我觉得是病得治", "   数据库结构直接保存到模型里面， pull 后不需要 auto migration ，检出代码后直接看模型代码，里面就是代码当前版本的数据库结构。不需要手写迁移脚本，修改模型后直接执行 manage.py makemigrations app 会自动根据模型字段的变化自动生成迁移脚本。提交代码时同时将迁移脚本一起提交，部署时和现在一样执行迁移脚本即可完成数据迁移。\r", "\r", " django 模型里面包含了字段定义，修改了字段定义后执行 manage.py makemigrations app 会自动生成迁移脚本。没看代码，猜测是比较将当前模型字段和迁移脚本比较，找出变更后根据变更生成迁移脚本。提交代码时同时将模型字段和迁移脚本一起提交，实际部署时和 Laravel 一样需要执行迁移命令。\r", "\r", "主要好处是打开模型代码就能看到代码当前版本的数据库结构，而不需要在开发环境下执行数据库迁移，然后再到数据库查看当前代码的数据库结构。\r", "而且外键关联也可以根据模型字段自动生成，不需要在迁移里面写一份，在模型里面再写一份。\r", "\r", "我主要是想问一下是不是已经有第三方实现了？\r", "还没开始写项目，看 Laravel 文档就觉得麻烦，一个外键变更分别需要在迁移、撤销迁移、两个模型处做 4 次修改...", " 主要是觉得麻烦，一个外键变更需要分别在迁移、撤销迁移、两个模型处做 4 次修改... 如果能只写一次自动生成 4 处不方便？ \r", "\r", " 目前没发现不能处理的情况，添加、编辑、删除字段都能正常识别。有些破坏性迁移会给出提示，例如将允许 null 的字段修改为不允许 null ，并且没有设置默认值，生成迁移脚本时会给出多个选择。\r", "\r", "  有一个简单的实现方法，现存的模型、迁移都不动，直接另外增加一个新的模型，在新模型里面保存字段，每次提交代码时运行命令自动根据新模型生成原来的模型及迁移代码。也就是替换掉 php artisan make:migration 命令。", "你可以看看 symfony 嘛", " 原因就是数据库版本控制", " 在 Rails 中有一个 schema.rb 文件，会自动记录当前数据库版本和结构， Laravel 好像并没有这个，所以在 Laravel 中要观察数据库的结构，还是得到数据库里看。。", "然并卵。\r", "很多实际需求的变化和扭曲使得你根本用不到如此多高大上的特性。", "Laravel 怪我咯。", "如果两个 PHP 系统要访问同一个数据库或者数据表怎么办？你迁移到底跑哪边的。\r", "PS: 你要 DRY 你得试试原厂 Ruby on Rails 。别家怎么说都是移植，把一个框架从高灵活性语言移植到低灵活性语言，总会丢掉一些灵活性的。", " \r", "那我给你还原一个最基本的应用场景你告诉我怎么做。\r", "我这有一个公共数据库，有三十多个 PHP WEB 项目使用，这个库的结构和迁移在哪里定义？", "Laravel 提 issue 去 laravel/framework ，不在 laravel/laravel", "  多个 php 系统之类的不是主要问题，这种情况关闭一个系统相关表的迁移即可。\r", "迁移功能是本来就有的，我只是希望能自动生成迁移脚本。 刚刚看了一下 Ruby on Rails ，每次迁移会将数据库最新结构保存到 db/schema.rb ，能清楚知道当前版本代码的数据库结构。而 Laravel 想知道当前代码的数据库结构需要应用所有迁移后再到数据库查看结构，感觉好坑啊...\r", "\r", "我新学 Laravel ，来这里问这个问题是想看看是不是已经有解决方案了。", " 从 java 转过来的吧，刚开始我也这么想，不过 migration 的作用不是模型，而是迁移，迭代开发的时候，更改数据库特别好用。可以方便的 migrate or rollback ，这是模型与数据库对比做不到的。\r", " 多个系统访问同一个数据库本来就不是好事， migration 不是 orm 如果使用 migrateion 只要在一个项目利用就好了。", " 不是所有数据库都有对应模型的，也不是所有模型都有一个数据库， Laravel 可以处理多个模型对应同一个表。", " 另外 laravel 没有约定模型目录，只要符合 autoload 就可以使用模型，原则上 laravel 并不知道你有多少模型，放在哪里，所以没有第三方的库帮你生成模型文件。\r", "php 是不能申明成员类型，所以 eloquent 不知道 relation 类型，也不能自动帮你生成外键。", "Migrations 用 Schema 类来定义、管理数据表的版本。\r", "Eloquent ORM  使用类来操作表，传说中的增删改查。\r", "\r", "\r", "两个不一样的事儿，搞在一起干嘛？", "  共用的表当然只有一个所有者开启迁移(也就一个选项的事)，手写迁移脚本的时候也不会在多个项目里面都写迁移脚本啊。数据结构也一样，原来就也需要每个项目里面都写模型的外键关联，原来多个项目共享模型的外键关联现在一样共享。", "  是从 python +django 转过来的，原来修改了模型字段，运行一下命令会自动根据当前模型字段定义及之前的迁移脚本生成这次修改的迁移脚本，外键关联之类的更是自动生成的。现在做个修改还需要自己写迁移脚本，写外键关联，好麻烦啊。\r", "\r", "  想偷懒啊，搞在一起我只用写一遍数据库定义，迁移、外键之类的东西能自动生成当然更省事啊。", " php 应该没办法做到 code first ，或者说 laravel 没办法做到（因为没有约定 model 目录）,忍吧。\r", "不过 migration 确实不是用来做这个的。 migration 的好处是强制程序员声明数据库更改，可以回溯数据库修改。协作开发的时候如果涉及数据库修改会很方便，出错了也可以回滚。", " \r", "建议去大厂核心数据看看。非要说 PHP 的话，有代表性的比如鹅厂的 BQQ 相关，数据库结构，设计，查询审计都是 DBA 的活，程序层可以访问完整结构去查询，但是每个查询都要审计。\r", "很多业务，数据库是亘古不变就存在的，而 webapp 则是满地跑。\r", "\r", "我并不支持 php 的这种类 ror 设计，我觉得 django 这种方便，但是什么都要设计成这种就有点强制洗脑了。", "也许你可以试一下 mongodb ，这样你就没有 migration 的困扰了 😂😂😂", " \r", "强制程序员声明数据库更改\r", "\r", "这个有点牵强吧,还不是有人直接 navicat 改", "竟然没人提 doctrine 😂", "因为自由", " 明明你这么熟 RoR 你就不要这样子嘛，楼主的意思就是生成 migration 文件的意思，这个迁移文件当然只是一个手脚架，不含数据迁移的过程嘛。", " migration 也可以迁移数据的啊。\r", "\r", " Rails 下几乎没有人会直接改数据库结构。", " 这个初衷就是开发自建本地数据库，而不是大家连一个公共数据库。测试的时候重新 migration and seed 如果直接修改本地数据库，提交测试上去,如果数据库不一致，则测试必然失败，不允许发布。", " 对，比如新增 Entity 来做字段映射， Model 就是现有的 Model 。 也有人这么玩的。哈哈", "  有现成的开源实现吗？有的话就方便多了。", " 但题主明显就不是想要手写的 mirgation 嘛，仅机器生成的又不可能做到数据迁移嘛。", " 有的，上面有人提到了，叫 doctrine 。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有人在吗，请教个问题，跨域调用验证码，在两个域名存放的 session 设置成同域后，调用的验证码是可以调用到的，但是验证的时候总是提示验证码出错</p>\n</div></div>"], "reply": "2", "tittle": "thinkphp 验证码跨域调用", "comment": ["jsonp 载入图片解决", " 搞定了，设置同域后，添加 Access-Control-Allow-Origin 这个就可以了"]},
{"content": ["<div class=\"topic_content\">不知道 txtcms 大家听说过吗?一款无需数据库的 cms ，抗 cc 有奇效。\r<br>我现在想用 txtcms 建站，但是苦于是 php 菜鸡，有几个功能做不到，恳请老司机帮助。\r<br>一个是添加视频功能。原版是没有播放器的。我自己整合了一个播放器进去，但是每次发布新文章都要自己往文章里加代码，很麻烦。希望能直接做个一键上传功能。\r<br>另一个是广告系统。官方原版只有两个广告位。说明文档里说只要把 myad 标签加入到你想插入广告的位置就能直接加广告了。但是这个 cms 的结构我一直都看不懂，因此也不知道该去哪加标签。恳请大手子扩展一下。\r<br>就这两个问题。当然我不会白占用老司机的时间的。请报出你的价格来，价格合适的话我会立刻支付报酬的。谢谢了</div>"], "reply": "12", "tittle": "想请大手子们帮我修改一个源码", "comment": ["  一键上传是上传视频还是只是填写视频链接?", " 看原文应该是希望可以上传视频", "淘宝有很多修改程序的，你可以在上面找找。这里的话大家不一定熟悉你的程序。", "建议你换成 thinkcmf", "php 内核代码在线查看工具， ", " 。", "刚刚稍微看了下源码~\r", "\r", "在 txtcms /  Core /  Action /  Plus / EditorAction.class.php 已经包含视频上传和 Ajax 消息了\r", "\r", "在 txtcms /  Core /  Txtcms /  Libs /  Template /  smarty / plugins / 里面写个  function.html_video.php \r", "\r", "解析 video 标签到 HTML\r", "\r", "然后是编辑器 txtcms /  static /  Admin /  Article_edit.html\r", "\r", "然后还有其他不少东西。。。\r", "\r", "建议 Taobao ，或者直接在编辑器插入外部视频应用接口\r", "\r", "这样只要改个 js", "广告那部分太简单了，这里不多说。\r", "至于视频楼主没有说清楚，你需要的是在文章中外链视频还是上传本地视频？", "  都行，最好是有一个直接上传的按钮", "   牛逼！我去研究研究", " 不~我只是看了个大概，如果要完整提供视频上传+解析接口\r", "改动还是很大的\r", "\r", "不如直接把插入的作为模板字符串，用 JS 插\r", "\r", "以及我并不怎么熟悉 PHP", "  上传视频文件+其他 1000   外链视频播放大+广告位 600", "视频不知，添加广告很简单，在模板里改就是了，后台生成新的广告位标签，将标签放到你需要的位置（模板）\r", "\r", "这东西只适合少量文章，轻量小型专题的小网站，不适合大量文章。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"\" src=\"https://cloud.githubusercontent.com/assets/2197005/14338716/85ef00a2-fc4f-11e5-8ae8-7a0d5be74723.gif\"></p>\n<p><a href=\"https://www.hackerhot.com/s/37/php-gui-php-gui\" rel=\"nofollow\">https://www.hackerhot.com/s/37/php-gui-php-gui</a></p>\n</div></div>"], "reply": "30", "tittle": "让 PHP 走向跨平台 GUI 开发的新工具——PHP-GUI", "comment": [":crying_cat_face:", "有点厉害啊！！！", "卧槽", "php 要走向桌面了～", "意义不大", "桌面端有.net 那堆顶着，即使没有.net py 配 qt 听说也是蛮不错的，要一个最开始设计的初衷就是服务器脚本的语言干什么", "做个 Qt 的 binding 之类就行了，这跟 php 本身有什么关系。。", "没记错的话在 PHP4 时代就有 PHP-GTK 的 Binding 了，然而并没有太大作用，比起 Tcl-tk 来说甚至更弱，至今没看到大项目中使用。", "卧槽。。厉害啊", "PHP 做桌面不行，不如 aardio 方便，桌面软件跨平台也没多大意义， 95%以上市场占有率是 Windows ，跨平台的解决方案体积臃肿、且不能发挥 Win 的优势。", "关键是怎么打包成 可执行文件", "看了一下，其实就是用 Lazarus 写了个 GUI ，然后通过 PHP 去调用", "PHP 写 GUI ？为什么我记得我小时候就折腾过了。", "被 nw.js 坑过一次的再也不相信这种东西了 宁可 c#，再宁可 vb 也不碰这个东西", "还不如 VS 控件来的爽快,", " 你不是一鹤吧？", " 我也觉得是", "这都多少年前的东西了，怎么还有人在炒冷饭？", "啊？", "这是网页吧", " Electron 欢迎你😀", "很久以前就是 PHP-QT 之类的了，结果不还是一样", "我记得还有过 PHP 写安卓吧，不是特别看好这种东西。", "终于可以写真的 MVC 了……", "  那么你是？一鹤走丢的孩子？！要不留个联系方式有机会一起喝个茶？！", "本身跨平台 GUI 框架已经很完善了~至于 webkit+js 是因为好看+容易~所以感觉 php-GUI 并没有什么用~？", " 你真会说话，我是一鹤走丢的爸爸。七八年前我收到过你群发的邮件。", " 不知道你受了什么刺激，你爸爸丢了，你要找爸爸这都跟我没关系，我不是你爸，你要咬谁是你的事，没人拦着你，麻烦你不要乱认亲戚。特别讨厌你这种莫名其妙就过来拉关系、套近乎的家伙，跟这帖子主题有一毛的关系？踩到你尾巴了 /", " 你真是条疯狗，我只是问问你是不是一鹤你就这么大反应。", " 反应太大的好像是你自己吧，我以为你是要急着找亲人都找上 V2 来了，所以我理解你的心情，即然你这么积极，那么我就好心让你留个联系方式看看能不能一起喝个茶，帮你找亲人......，如果你不是要找亲人，你可以好好说话，但是你居然敢自称我爹  - 换了任何人都会抬手给你一个大嘴巴，你做人这么没有礼貌，我担心你迟早要被人打死。\r", "\r", "另外我压根就不认识你，你莫名其妙就赖着说我给你发过邮件，我不知道是什么七八年前的一封邮件也能刺激到你这么久，但这跟我没什么关系，谁的邮箱每天不收到几十上百的群发邮件，谁有空去理你七八年前收的一封什么邮件？！\r", "\r", "本人只对技术讨论感兴趣，对你的私事不感兴趣，已 Block 你，请自重！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>大家探讨探讨！最近在做一个 app 可我是个 php ！用了一个工具也不知道做出来以后效果会不会很 LOW</p>\n</div></div>"], "reply": "14", "tittle": "大家有用 php+js 撸过 APP 吗？", "comment": ["JS 就能撸, 不要 PHP", "开源中国找 eechen", "直接 js 上 electron", "移动平台就 react native 或 ionic", "js 就可以+1 ，如果是 PHP+JS 的话，其实就是一个前后端分离的思路咯，好像也无所谓， Low 不 Low 看 UI╮(╯▽╰)╭", "和 PHP 有必然联系吗？", " 好像没什么关系。。哈哈", "服务端 php ，客户端 angular 或是 react ， 很成熟了。可以一用。", " 哈哈哈  他他他就是他", "可以 electron 用 node exec 个 php 服务端进程出来…实在蛋疼", " @", "  ", "  我用的这个做的", "Appcan 或是 APIcloud ，给网页套个壳就行， PHP 只是做后端的，可以用 Ajax 交互……", " 这个是什么？用 PHP 咋弄？", " php 写接口 在里面写样式 然后平台生成安卓和 ios"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>客户说不让用现有的框架需要原生的写 意思大概是不用 ecshop 这类的,php 框架应该没事</p>\n<p>功能\n美团:团购,电影,大部分美团该有的功能</p>\n<p>淘宝:有店铺入住的,商城网站</p>\n<p>招聘和租房:发布信息</p>\n<p>一元购:一元购功能</p>\n<p>那么问题来了,有没有用户看不出是什么商城框架的系统可以用或者适合开发的 php 框架推荐?</p>\n<p>有没有相关的架构文件可以参考的?</p>\n</div></div>"], "reply": "51", "tittle": "集美团,淘宝,一元购,这几个功能的网站 该怎么做?", "comment": ["收购", "个人觉得还是直接投资淘宝比较靠谱", "这个问题问的有深度 我选择 angry", "这种需求一般都是直接扔，否则后期累死人", "为什么不让客户直接收购淘宝？", "建议打包收购上述公司", "让客户洗洗睡吧 ", "   ", "   ", "   ", " ", "已经签下来了,现在老板想让我们找个商城框架改改,能让客户的技术看不出是商城框架之类的...\r", "\r", "我描述的功能对比这些大网站会简化一些,但是也差不了哪里去...\r", "\r", "所以想问问有什么方法推荐的吗", " 直接换套 UI", "鄙人刚刚做了一个一元购", " 一元购现在还有钱景么", "ECSHop/Mycacart", "请参考狗东，狗东基本啥都参一脚，然而还是[亏损]( ", ")", "我觉得你做这个会后悔的。。", " 接了 3 个了！你说呢！苦了我啊", "500 元写个淘宝", "ecshop 之类的， UI 重做了吧……\r", "anitoys 用的就是 scshop 看不太出来", "LZ 保重", "默默给楼主点上蜡烛……", "这就好比是 500 元帮我写个淘宝。", "20w 能下来吗。。。", "钱给够了啥都好说。。", "楼主可以试试 mangento ，然后换上皮肤之类的。\r", "\r", "话说，客户为什么非得让用『原生』的写？有什么顾虑么？\r", "感觉这个得沟通好，因为后面指不定就露馅是说是用的 xxx 框架，然后让甲方觉得不爽。\r", "\r", "道理我们作为开发都懂得，那怎么让客户也能够理解这个，我觉得问题不应该出在怎么找框架『糊弄』过去，而应该是让甲方理解为什么要基于第三方开发。\r", "\r", "他们的顾虑我觉得无非是两点：『安全，投资议价能力(觉得用第三方让他们不好融资)』。一切都在沟通好。", "要是真从头做，建议楼主辞职算了:)", " magento", "老板愿意分你一半的钱再考虑", "报价？", "这个项目大概 30w 吧分三期给,尾款大家都懂的.但是要做安卓,ios,php 都要原生写...(我也准备到手上了就 引咎了)\r", "\r", "设计已经在设计页面了,不过客户要求太多让他在列需求\r", "\r", "客户说要第三方框架还要我们什么用,他们自己的技术就可以搞定了\r", "\r", "我还看过客户的原先的网站,没啥销量不知哪里来的自信...", " 有钱就是这么傲娇 ,哈哈", "客户是国企么？国企就好说了。", " \r", "你们团队多少人啊？\r", "30w 还得做 php ， iOS ， Android ？\r", "我看够呛啊。", "让客户滚", "外包给其他公司- -我之前公司就是做这个的。。", "让你客户跟马云研究研究收购一下淘宝或者干脆把阿里巴巴收购了吧", "凶地啊,快点辞职走人吧.", " 国企真的好？为啥我们公司做国企的一个小网站才 1W 多块。都拖半年了还有一半款没收到。", " 我不是这个意思哈。这种需求不靠谱的项目给国企做的话很多可以不按合同来的，一期的项目可以做成三期，最初 30w 的项目最后没准可以做到 300w ，最后还不一定完成，完成了还不一定去用，用了有问题一般也不会较真，会给你继续签后续的维护项目，你说爽不爽。\r", "\r", "别问我为啥知道，我不会告诉你以前给国企做项目时就是这么干的。。", " 这种项目一般是领导拍脑袋想出来的，他不懂里面具体的难度和工作量，国企里下面人立项的时候要不也没真懂的，要不就是懂了也不会戳破，大家都明白的，关键是要有项目，可以批下来钱。\r", "\r", "这种活先接下来，然后做的时候一点一点把需求给他们铺开，让他们明白里面的难度和工作量，当然这个过程对开发人员是痛苦的，漫长的。一般情况下，国企的领导都还是“通情达理”的。当他们明白里面的工作量时，只要为他们提供合情合理的理由，他就可以让这个项目变大，摊子变大，时间变长，申请到更多的钱。 最终，一般这个项目就烂掉了。你也不用担心后续维护，一般领导也快到换任调转的时候了。下任领导是不会背锅的，原来那摊子就扔掉，另起炉灶。", " 卧槽！！！ 神回复 我得拿本记上", "看不出是什么平台 /框架这个简单啊，把所有的原产品名字全部替换，再做个皮肤就好了。另外膜拜 38 楼，这个行业就是被这样玩坏的。", "这个问题真的很有深度啊", " 哈哈", " 不能同意更多了", " 抓住了事情的本质", " 有理有据让人信服", " 说出了事情的真相", " 可是不是国企,是私企", "首先,你需要一个程序员", "就差一个程序员系列", "叫客户滚", "改 CSS"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>今天调试 php 的时候，刚学到那个 smarty 模板的使用，其中有个变量调节器的示例代码（我在培训机构的 ftp 上面下载的），调试的时候发现不能运行，报错如下（那种黄颜色的在网页上面的报错）：</p>\n<p>Fatal error: Call to undefined function smarty_modifier_capitalize() in D:\\wamp\\www\\bbs_smary_02\\templates_c\\2258888f4c05573ede9683c1e81aecf6442868a9.file.var.html.php on line 52</p>\n<p>Call Stack</p>\n<h1></h1>\n<p>Time</p>\n<p>Memory</p>\n<p>Function</p>\n<p>Location</p>\n<p>1 0.0080 138176 {main}( ) ..\\var.php:0\n2 1.0671 788136 Smarty_Internal_TemplateBase-&gt;display( ???, ???, ???, ??? ) ..\\var.php:23\n3 1.0671 790296 Smarty_Internal_TemplateBase-&gt;fetch( ???, ???, ???, ???, ???, ???, ??? ) ..\\smarty_internal_templatebase.php:377\n4 1.0691 831992 content_570c90b263ae12_11093913( ??? ) ..\\smarty_internal_templatebase.php:182</p>\n<p>我在 zendstudio 里面按住 crtl 键能进去这个模板里面的方法，但是运行起来却找不到，这是为什么啊？？？？</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "找不到方法 smarty_modifier_capitalize，但是明明有。zendstudio 里面按住 crtl 键能进去这个模板里面的方法。", "comment": []},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://octobercms.com/docs/cms/ajax#introduction\" rel=\"nofollow\">http://octobercms.com/docs/cms/ajax#introduction</a> 关于这个 cms ，我以前做过二次开发，基本上都是以插件的形式开发上去的，很多东西并没有使用它那一套，对于它文件系统那部分的代码不是特别清晰，求大神告知！</div>"], "reply": "12", "tittle": "求救！ Laravel 的一个国外开源 CMS Octorber CMS", "comment": ["。。。。。\r", "嘿 楼下的 ， 你知道他到底在问什么吗？", "重启一下就好了", "论医生与修电脑的区别？", " 兄弟你了解吗？", " 。。。。。", "...不了解。。。 我想很多人都不太明白你描述的是什么问题", "哪部分你也不说。。。既然你是自己开发的。。你现在遇到的问题在哪？", "问非所答", "其实很多人都不知道 OctoberCMS 这东西吧…你就这么想，文档没有的东西，就翻源代码，源代码都看不懂，只能说这 CMS 没法用…我当初也打算用这东西写个小网站来着，但是学习成本太高了，比从头用原生 PHP 写一个都花精力…", "这货 bug 好多, 不建议用.", "轻度用过一段时间，感觉设计思路还是不错的", "国外另外还有个 laravel cms ， microweber, 做简单网站挺好，"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>作者: Lonnie Ezell (CI 理事会成员)<br>\n翻译: Hex<br>\n原文: <a href=\"http://forum.codeigniter.com/thread-62615.html\" rel=\"nofollow\">CodeIgniter 4 Proposed Roadmap</a><br>\n原文发表于 2015 年 8 月 5 日，截止目前 CI 4 正在开发中，尚未发布</p>\n<hr>\n<p>我们综合考虑了社区的愿望和意见后，也对什么样的未来对 CI 是最合适的做了一些思考，然后， CI 理事会对框架的未来做出了一些决策。预告一下，未来将会有重大变化，但我们相信他们不仅为我们的未来做准备，也会保持 CodeIgniter 的一贯特点 - 简洁、快速和灵活。</p>\n<p>这篇文章是对未来的一个简单概述。请记住，这仅仅是最初的计划。任何信息都可能会随着开发的进行而发生变化。</p>\n<h2>核心变化</h2>\n<p>从 CodeIgniter 第一版发布以来， PHP 社区发生了巨大变化。 CodeIgniter 的许多核心要素在当时是必须的，但当 PHP5 发布后， CodeIgniter 的核心几乎没有任何变化。如果未来 CodeIgniter 想要继续保持高水准并巩固其在 PHP 框架中的地位，则必须进行大改变。</p>\n<p>这意味着系统必须全部重写。新的 CI 将在独立的代码库中开发以保持代码的清晰。我们设想会复用一些以前的代码，但重点是 <em>现代的</em> 清晰的代码。</p>\n<p>自从我们以 <em>PHP 7</em> 为目标以来， PHP 5.6 已进入安全维护模式，并将在几个月后完全停止支持。 CI 暂时不会为一个即将停止支持的 PHP 版本发布新版本。我们知道主机的环境千差万别，那么一些程序可能就无法完全支持 PHP 7 ，所以 3.x 分支将继续维护一段时间 - 将远远长于 3.x 发布后的 2.x 分支的 EOL 时限。</p>\n<p>application 和 system 目录都将支持 PSR-4 自动加载。 CodeIgniter 将使用自己的自动加载器，并将会整合 Composer 。</p>\n<p>我们将封装一些组件，以便在大多数情况下可以用于 CodeIgniter 以外的项目。</p>\n<h2>包 /模块</h2>\n<p>我们将丢弃应用程序包和模块的概念。不必惊慌！因为你可以用名字空间来处理大多数情况 - 至少控制器和模型是这样的。对于其他的例如视图、配置文件和 Helper 等，我们相信可以让这些东东支持名字空间。你也可以把所有包的功能和模块的路由能力放到任意目录中，只需告诉自动加载器如何找到他们。</p>\n<h2>路由</h2>\n<p>路由功能将被更新。 URI 直接映射到控制器 /方法这个『魔术路由』功能将可关闭，以便让你选择自己喜欢的路由方式。在路由配置文件中你可以选择使用『魔术路由』或者单独指定每个路由。</p>\n<h2>改进的日志系统</h2>\n<p>日志系统将被改进，但具体细节尚未确定。</p>\n<h2>测试</h2>\n<p>我们将继续使用 PHPUnit 做测试。这也意味着你需要自己测试应用程序，但我们将为你准备好所需的工具。</p>\n<h2>向后兼容性</h2>\n<p>正如上面讲到的那样，这一定是一个和老版本不兼容的版本。我们认为这应该是框架最好的未来。对于这次的重大变化，我们已经做了很多年的基础工作，我们将尽可能的使过渡更平滑，但是对于我们能提供一个怎样的现代化的基础代码仍有待观察。</p>\n<p>我们将尽最大努力保持让 CodeIgniter 多年来流行的特性，即快速、简洁和『优雅』。</p>\n<h2>开发时间表</h2>\n<p>整个开发过程将分为三个阶段。</p>\n<p>下列类库将从内核删除，改为按需下载：排版类、 FTP 类、 ZIP 类和 XML-RPC 类。</p>\n<p>购物车类、 Javascript 类、单元测试类和 Trackback 类将被删除。</p>\n<p>我们期望在一年内能完成一个内核基本成型的 Alpha 版本。之后，我们将把重点放在改进内核与开发剩余软件包的工作中。确切的时间表可能会有所不同，因为，与大多数开源项目一样，这取决于社区贡献的数量与质量，以及核心开发者的时间和精力。</p>\n<h3>第一阶段</h3>\n<p>第一阶段将侧重于抓住框架最重要的部分。这将是框架其他部分的基础。他们包括：</p>\n<ul>\n<li>自动加载器</li>\n<li>依赖注入</li>\n<li>日志</li>\n<li>异常处理</li>\n<li>HTTP 请求 /响应层（或输入 /输出）</li>\n<li>路由</li>\n<li>控制器</li>\n<li>模型</li>\n<li>数据库层</li>\n<li>配置</li>\n<li>安全</li>\n</ul>\n<h3>第二阶段</h3>\n<p>第二阶段的重点是完善一些 CodeIgniter 用户喜闻乐见的类和特性。他们包括：</p>\n<ul>\n<li>Helper</li>\n<li>语言 /国际化特性</li>\n<li>缓存</li>\n<li>Email</li>\n<li>加密</li>\n<li>表单验证</li>\n<li>图像处理类库</li>\n<li>分页</li>\n<li>上传类</li>\n<li>Session</li>\n<li>视图</li>\n<li>调试和分析工具</li>\n</ul>\n<h3>第三阶段 - 可选类库</h3>\n<p>第三阶段将主要用来扩充可选软件包。在这个时间点，框架应该可以发布了，不需要等到所有类库都准备就绪。</p>\n<ul>\n<li>FTP</li>\n<li>XML-RPC</li>\n<li>Zip</li>\n<li>排版类</li>\n<li>模板解析器</li>\n</ul>\n<p>框架迎来了新的机遇使我们很兴奋，并迫不及待的希望框架为新版迈出第一步。不要在一旁围观了，赶快来构筑框架的未来吧。</p>\n</div></div>"], "reply": "2", "tittle": "PHP 框架 CodeIgniter 4 开发路线图", "comment": ["希望新版 CI 4 对提高 phper 的开发效率有帮助。", "CI 是我学习 PHP 框架的第一个框架，给我帮助很大，赞！！现在我们公司后台管理系统也是 CI 搭建的。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"这是大象\" src=\"http://ww1.sinaimg.cn/large/bd52288agw1f2x87e0kvqj20n80ge76q.jpg\"></p>\n<p>想买只 PHP 大象公仔，发现淘宝、京东、亚马逊都没有卖</p>\n<p>好像只能到 👉 <a href=\"http://elephpant.com/\" rel=\"nofollow\">http://elephpant.com/</a> 订购</p>\n<p>请问有没有其他的渠道呢</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "国内有什么渠道可以买到 PHP 大象公仔", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>网站的数据库连接信息原本存在一个静态的 config.php 文件里，现在需要一个页面让用户输入 dbname ， dbuser ， dbpass ， dbhost 等信息(页面需要 admin 权限)，实现数据库的随意转换。 现在能做到获取用户输入的信息并且测试链接，但是不知道如何保存这四个变量长期使用。唯一想到的方法是使用 php 在服务器上再创一个静态的文件(dbinfo.php)保存这些信息。但是目前遇到一些权限问题导致无法使用服务器上面的 php 文件写 php 文件。想问问大家还有没有什么别的更好的方法？</p>\n</div></div>"], "reply": "9", "tittle": "php 网站通过前端 form 更改数据库连接，如何实现？", "comment": ["建议直接黑了吧~！", "把他输入的数据库信息存你数据库里", "好奇怪的需求。。。\r", "\r", "每次都需要用户输入， 为什么不用 session cookie~~\r", "只需要一次， 可以存入数据库。。。。\r", "\r", "最后， i2ex 水得比较多， 这种问答类 还是到 问答 社区 比较好~~  比如 国内的 ruby china,  segment", "数据库另外一个表存这四个变量呗。不停维护就行。", "存数据库，或者存其他格式的配置文件啊，比如 .ini ，.conf ……", "加上一个数据库连接表,和用户关联,每次执行查询都先使用相关用户存到的数据库连接表的数据连接.", "我不是写 php 的\r", "但是以前大学学 php 的时候有用过一个叫 phpMyAdmin 的工具，和你描述的需求好相似", " phpmyadmin 可是个大工程。。。", "感谢大家的回复，已经跟 boss 讨论并且决定更改这个需求了，之前找到一段话我觉得是这个问题的标准答案，这里贴出来跟大家分享：\r", "\r", "This is a bad idea. You should not be modifying configuration file like this. If you you have configuration that can be administered by the user, you should be storing it in a database or, worst case scenario, in a generic file format (ini, XML etc). A configuration file that stores the database connection details should never be modified by an application, only manually by the administrator - because it is important that the file is secure and it is an event that should be very rare.Calling include/require on a file that is dynamically modified is asking for trouble."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>请问谁用过比较靠谱的开源微信管理后台 ， 想选一个来做二次开发！</p>\n</div></div>"], "reply": "10", "tittle": "关于开源微信管理后台", "comment": ["mark 同求", "早先用过微擎，感觉还可以吧\r", "不过现在弄的授权挺讨厌的，类似苹果在试图封闭生态圈\r", "当然对开发者来说这不一定是坏事，破解成本提高和交易平台的统一化，收益会尽可能得到保障\r", "\r", "但对用户来说换个服务器还得交钱这个就比较恶心人了", "java 的么？可以出售一个给你，虽说简单，但广州一些中学已经使用我开发的系统了！", " 不好意思， java 目前不是很需要", " 确实是这样", " \r", "+1,目前转用自己开发的了,而且 WE7 的一些 code 不符合 PSR 规范", " 感觉自己开发一个，很多地方要好控制些", " 花了多长时间？如何完备地测试，不想在线上出现问题"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>@author  Author Name [&lt;author@email.com&gt;]      代码编写人(负责人)\n@version xx.xx                                 当前版本号\n@param   datatype $v_name[,...] description    函数相关联的参数，含有,...表示可传入不定数量的其他参数\n@return  datatype description                  函数或方法的返回值类型\n@var     datatype                              在类中说明类变量(属性)的类型\n@example [path|url] description                举一个例子，以阐释使用方法\n@todo    description                           待完成的工作信息或待解决的问题信息\n</code></pre>\n<p>现在已经通过反射获取到方法的文档注释，要怎么获取文档注释的特定内容，比如我现在要获取所有 @param 的，怎么获取？</p>\n</div></div>"], "reply": "9", "tittle": "如何获取 php 文档注释的某个字段？", "comment": ["我用的是 phpdocumentor 的 reflection-docblock 包\r", "如果你没法用 composer 的话可以看看它的实现参考一下", "地址：\r", "\r", "反射 + 正则", "还有个办法，不需要依赖，自己 parse\r", "\r", "$class = new \\ReflectionClass($class);\r", "$methods = $class->getMethods();\r", "\r", "获取每个 method 的注释，再正则取\r", "$method->getDocComment();", "这样就能创造 PHP 的装饰器 yu   fu", "\r", "可以参考下 Typecho 的写法", "function getDocComment($str, $tag = '')\r", "    {\r", "        if (empty($tag))\r", "        {\r", "            return $str;\r", "        }\r", "\r", "        $matches = array();\r", "        preg_match(\"/\".$tag.\"(.*)(\\\\r\\\\n|\\\\r|\\\\n)/U\", $str, $matches);\r", "\r", "        if (isset($matches[1]))\r", "        {\r", "            return trim($matches[1]);\r", "        }\r", "\r", "        return '';\r", "    }\r", "\r", "$falg = getDocComment($doc, '@flag');", "以上方法和 @", "  方法联合使用"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>先说一下自己的情况：</p>\n<p>Web 开发，偏后端，主力语言是 PHP ，现在是 laravist 的站长，有个想法是组个团队方便以后做点有意（ wai ）思（ bao ）的事。</p>\n<p>这些事包括：开源项目的贡献，接受靠谱外包等</p>\n<p>希望是找一个靠谱前端，还有一个不错的设计师。</p>\n</div></div>", "<div class=\"topic_content\">目前的想法是：都是远程组的队，所以得靠谱，靠谱</div>", "<div class=\"topic_content\">联系方式留微信的吧：微信 搜 v 站的 id</div>"], "reply": "67", "tittle": "有兴趣组个团队么？", "comment": ["不留个联系方式吗… UVElMjA3MTAxMzY2MTE=", " 微信 我的昵称。。", "靠谱 app 就这样被排斥了。。。", "我想，但估计没到你那级别，我的 laravel 也是在你网站学的...", "有兴趣！", "教主大人，我有兴趣！！！但是再等我半年时间成长 o(╯□╰)o", "留下联系方式啊 楼主 我这边的小伙伴有安卓,前端,后端 . 就是接不到活", "我也有兴趣", "你这个网站自己开发的 还是用的什么程序的", " 算是自己写的吧", " 哈哈，方向不一样而已", "后端 python 路过…… 请老司机带路", "需要静态页制作么<(￣︶￣)>", "渣渣 IOS 收么", "小前端一枚收么", "laravist 这网站挺好的", "需要 CEO 吗", "我在 laravist 上学 laravel 呢，不过都是看文章和看免费视频\r", "iOS 开发一枚有兴趣可以一起做点有意思的", " 目前还不需要", " 方向不一样咯，还不需要\r", "\r", " 谢谢谢谢\r", " 看水平", " 哥们，刚刚加了你微信…没有回应…我的微信号 plutonist", " 已加已加", "我会写 <?php echo \"Hello World\"; ?>\r", "\r", "可以加入你的团队吗？", "站长又熬夜写代码了？", "为啥不是 yii2", "我有近 10 年的网页 /APP/UI 设计工作经验，但我现在只想写 python", "做外包不累吗..", "前端新手要吗........", " 转战 laravel 了", " life is short and you got a best choice bro !", " 累，还是得要赚点钱，不然怎么活下去。。", "教主要打杂小弟吗=。=", "没用过 Laravel 老司机带路啊", " 敢问是哪个群过来的？", "然而我也是后端_(:з」∠)_ 肿么办", "不靠谱的也想加入", "c++收不？ ^ ^", "约吗？", " 大神不要这样", "约吗?+1", "需要打杂么，教主（ 0 . 0 ）", "真的有项目吗？不需要项目经理？", "php 2 年 有意约嘛", " Laravel Phper 一枚， 愿意收么？ Laravel 有几个成品线上项目了。", "世界太小了，到哪里都能看到熟人！", "两年 php 约么", " 哈哈哈", " 有，目前不需要", " \r", " \r", " 看价值观吧", "楼主需要 Java 的吗？", "约吗?", "laravist 很不错", " \r", " \r", " 我们公司在杭州，目前在招 Laravel 开发，有意的话可以联系我邮箱 ", " 我们招 python 有兴趣么", " 北京就好了，最近在找工作", "需要 PM 吗？", "加我一个吧", " 我有兴趣", "需要全能折腾的么 233", "我的这个：有兴趣来吗？\r", "关键字：语义网 /semantic web ，知识\r", "  欢迎加入", "渣渣 phper 要么 poi~\r", "ZW1haWw6IHNhaTkzNzVAaG90bWFpbC5jb20sIHFxOiAyODYwNjU5MTA=", " 有兴趣啊， ", "If u want pls contact me, ", " / Designer", "一起搞出点动静吧，设计师       ", " 最佩服的就是高大上的设计师了", "交互、前端还孔雀不？可以扯一下搞点啥"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>项目的旧版是用 CI 2 写的，最近打算大更，重写代码库，于是想换一个更现代、优雅的框架。\n从接触 PHP 开始就看到有人提 Laravel ，确实单论流行程度来说 PHP 框架里面像 Laravel 这样的也是凤毛麟角吧？看了几集<a href=\"http://laracasts.com\" rel=\"nofollow\">Laracasts</a>上面的视频，感觉写起来还是很爽，至少比起过气、文档混乱、 deprecated 的 CI 2 来说。\n不过搜了一下就看到各种争论，框架之间的辩论暂且不提（个人项目， PV 什么的 10K/天都是峰值了），还有很多人说入门成本高昂，不适合初学者之类的。说实话我现在也没有多少后端开发的经验，在我看来 Laravel 写起来很爽，不过确实给人一种 magic 的感觉（用 Type Hint 来 Data Binding ，各种 Helper 什么的（大概是我没有搞懂或者是见得太少了，求解释和指正））。\n听起来很像小马过河，但在各位看来 Laravel 需要多少“前置知识”？以及纯靠用在项目里面学习足够吗？学习曲线有多陡峭？</p>\n</div></div>"], "reply": "33", "tittle": "Laravel 的入门成本到底有多高？", "comment": ["这问题实话说无解，因为别人就是别人，你就是你。\r", "有些东西可能你已经知道，带一句就明白了；有些怎么反复看都看不懂。其他人也许正好和你相反。\r", "倒不如从实战出发，开始重写你的项目，遇到问题无论多痛苦都要去克服，这样会比较好。\r", "而且就算用新框架也不是所有人都能做到一步到位的完美，都是根据个人经验慢慢优化推进的。", "Ci 都能精通的， laravel 更不在话下了", " 实话实说也算不上精通……而且我感觉 Laravel 的架构要更加复杂一点", "自己写个框架", " 没有造轮子的水平", "前置知识？ Ruby on Rails ？但是 Rails 用完就回不去 PHP 的世界了。", "ci 转 laravel 学习曲线不会太陡。\r", "熟悉 composer 即可，其它方面虽有差异，但没太多门槛，适应就好了。", "直接上 ROR 吧", " \r", " \r", "\r", "问题来了，上 ROR 要懂 ruby 不？", " 突然有试试的冲动。😃", "我一移动端开发人员看官方文档 Laravel 都能上手写点东西莫说你会 CI 了", "rails 走起", " \r", "要啊，然而 Ruby 不算很难。\r", "入门是跟着之前单位老大学的，一下午学完 Ruby 语言（元编程除外），一周开始改程序。\r", "最近在教我们公司客服小哥写 Ruby ，也是一下午学完语言，一周开始写系统。\r", "\r", " 小心回不去（", " 客服小哥那么 nb ，给客服小哥点赞。。。", "很赞同一楼的一句话：别人就是别人，你就是你。个人觉得，如果你学习 PHP 都是按照 PHP 的行业标准来的话， laravel 的文档是再清晰不过了。如果是连 composer 都没听说过的，那文档必然很乱。", " 我们这位客服小哥还是很猛的，会 PHP MySQL HTML CSS JS ，现在 Rails 和 Coffee 加入了豪华午餐。正准备转职到技术部来干，无奈招不到新客服所以不让他转……", "成本就是 30 分钟", "谢谢各位，感觉大胆地去写就好了", "相对还是喜欢 CI 3 ，要不 phalcon 也好", "Laravel 现在用着还行啊 入门还是挺快的，自己写点东西感受下吧。有些功能你并不会用到可以先无视掉了", "确实很陡，里面还有很多 magic", "分别用过 CI 和 Laravel 写了个简单的博客，感觉学习成本不太高吧，难道我遗漏了什么？", "Namespace composer 匿名函数还有什么", "你可以用 CI3 啊 ...然而转 laravel 的话 大概 30 分钟吧 恩就是这样...", " CI3 感觉比起 CI2 提升很有限啊……还是要写一堆啰啰嗦嗦的代码呢", " 求问一下除了我提到的还有什么 magic?", " 这位楼主在 laravel 世界已经是老司机，“如果是连 composer 都没听说过的，那文档必然很乱。”  - prs-* \r", "\r", "  可以去 ", " Study Laravel !", "高吗？我觉得不算很高吧，还是比较容易使用的，大概 14 年的之前，我一直都在用 CI ，但一直准备换个对 Namespace 支持比较好的框架， C 系的框架不感冒，因此主要看了 Laravel （当时还是 4.1 ） 和 Symfony2 ，就使用两个框架分别定了个留言版测试一下，最终选择了 Symfony2 ，不得不说，这两个框架都很强大，比起 CI （即使是 CI3.0 ）不知道高到哪里去了，现在用 Symfony2 也写了好几个项目了，感觉很不错，至于我说的入门成本，我觉得还行吧，不算太高！", " 能说说 Laravist 比起 Laracasts 的优势是什么么？我能想到的可能就是不用翻墙（一直挂梯子）和用中文（ Laracasts 上面的英文也不难），毕竟粗略看来 Jeffery 讲课的水平很高，视频的编排也比较好。", "这个就取决于你的技术积累有多低了。", " Laracasts 上免费资源比 Laravist 多。。。", " 对啊，像我现在看 Laravel from Scratch 全套都是免费的，有点想入年订阅", "每个控制器都需要写个路由，受得了？我反正是受不了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>简单 demo 能写，也能懂，但还是搞不懂这玩意是干嘛的..求推荐点精华帖</p>\n</div></div>"], "reply": "8", "tittle": "php 的闭包函数有什么用", "comment": ["应该是可以绑定当前作用域下的变量并且甩锅给其他程序吧（？", "   刚搜到的，感觉还不错", "网友帮你搜系列", "用来搞高阶函数的\r", "习惯用高阶函数的会用的很爽，不会用的其实一般也不影响你实现自己的东西", "最常见用法应该算是配合 usort array_filter array_map 吧。", "在 preg_replace_callback 中也很好用", " 完全没头绪。。", "大部分 php 初学者大部分时间都在使用框架 如 tp ， laravel 等，会发现很多之前学的东西例如设计模式， oo 思想，魔术方法__call 等等几乎用不上，框架给你提供了一套类似友好的模式，你一直再熟悉这样的模式，完成你的工作。经验积累。。 up..up...up 然而当你自己开始写框架的时候你会发现提供一种良好的写法例如： App\\User::find(1)->where(1)->get(),会用到之前所学的所有知识，你要让你写的框架给使用者提供一种好看优雅省事的写法，例如 foo(function(){ do sometings ! });这个时候你就要考虑为了实现这样“好看的”写法我们要在框架中怎么实现，闭包？魔术方法？我为了实现更加好看的写法这些东西能帮助我。\r", "1.上面说明了你为什么单独把闭包拿出来，还有为什么闭包在你看来这么不解的原因。\r", "2.说一下闭包我的见解：一个 A 函数里面有一个变量$a, 当执行这个函数以后函数体 以及 函数内部的所有东西全部释放，当这个函数又增加了一个函数 B ，这个时候 A 函数就有 2 个东西变量$a 和函数 B ，但是这个时候函数变量$a 传入了函数 B ，当执行完 A 的时候 函数体 释放了，然而$a 变量却不能释放，因为 B 函数在用，当 B 函数也用完了就可以释放了。\r", "闭包是一个思想， php 中使用匿名函数实现闭包，也就是说匿名函数可以做别的事情， php 开发者跟匿名函数说你在帮我实现一下闭包吧，好呀。如果 php 开发者是你你可能说， C{}  这种写法就是闭包。随便你."]},
{"content": ["<div class=\"topic_content\">例如有 user 和 post 两个模型， user 和 post 是一对多关联，现想通过 user 模型得到对应 post 的数量，应该如何写？</div>"], "reply": "3", "tittle": "laravel 中如何得到一对多的关联模型中记录数量？", "comment": ["user->posts->count()", "Laravel 的 Eloquent 返回的都是一个 Illuminate\\Database\\Eloquent\\Collection 对象的实例。包含很多有用的操作，你的问题通过 Collection 很用解决。\r", "Eloquent ORM 关联查询，最后对结果进行 count()"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>微信认证写在中间件里，当中有个<strong>SaveUserAvatar</strong>的操作，是下载用户头像的。打算把这个操作放在队列中执行，但在中间件中如何推送队列？按文档的方法<code>$this-&gt;dispatch(new SaveUserAvatar($user))</code>会报错，提示信息为<code>Fatal error: Call to undefined method App\\Http\\Middleware\\Authenticate::dispatch()</code>。</p>\n<p>Laravel 5.1</p>\n</div></div>"], "reply": "3", "tittle": "请问 Laravel 中间件如何推送队列？", "comment": ["RTFM ，然后可以节省彼此的时间\r", "> Of course, sometimes you may wish to dispatch a job from somewhere in your application besides a route or controller. For that reason, you can include the `DispatchesJobs` trait on any of the classes in your application to gain access to its various dispatch methods.", " 谢谢提点！已解决。", "查缺补漏，感谢"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>现在从事室内设计工作，打算转行 IT,了解了一下之后，打算主要从 PHP 入门，之前折腾过无线破解， FQ ，在 github 部署基于 Jekyll 的博客,所以也稍稍有点了解，再穿插看一些 python 和安卓开发的教程，但是不知道 PHP 要到什么水平，才能出去找工作，坐标厦门。</p>\n</div></div>"], "reply": "39", "tittle": "自学 PHP 到什么水平，才能出去找工作？", "comment": ["hello world", "懂那些知名的 cms 系统，能开发插件，会一个 php 框架，就差不多了。", "自己自学找到工作，表示还是在工作中学到的更多。", " 哪些 cms 比较热门 话说需求都是二次开发么？", "会用 ThinkPHP 就行（逃", "我有个同事是反着来，去搞室内设计去了", "会用 redis ， memcache ， MySQL 基础， PHP 基础，+一个框架，基本的 htmlcss 知识， Linux 基本操作（ phpcli+shell_exec,个人比较迷信这个，用她解决了好多东西）。", "话说我一个外包狗，自己都没有打过工，为啥要来说这些呢？楼主你参考就好。", "我想问， 30 岁的农民工开始学 php 能找到工作么？", "已经不是 10 年前在 HTML 里写个表单的时代了， PHP 也不是了。\r", "\r", "建议该干嘛干嘛，明明能在另一行混得风生水起的，非要当码农，很多人是不是都被设计个淘宝然后能跟马云一样的迷魂汤喝多了", " \r", "我的一朋友，昨天（ 15 号）打电话问我 win8 下装个 nginx 后，怎么用 localhost 访问，端口怎么设。\r", "这哥们之前跑业务（非互联网），有点类似坑蒙拐骗。 32 岁时自学 1 个月 php ，后来到北京找工作，前几份工作都是工作一两个月被开，经过这几年打拼，这个公司上班三四个月了，目前还在职，今年 35 岁，现在工资 30k 。", " 人才。他现在从事 coding 工作？", " 应该是产品经理", " 码农手活好，产品经理口活好的意思？", " 做什么工作，能拿 30k 。。。。", " 坑蒙拐骗程序员的工。。。", "逃", "会用 ThinkPHP 就行（逃+1", " 不需要会前端吗？ javascript 呢？", " 基础的东西最好懂，但是在公司上班的话不是有专业前端么？当然啦，我个人认为不想做 fullstack 的 php 程序员不是好程序员。（个人观点）", "当年找 PHP 工作的时候，还没写过 PHP （", "看来学无止境", " JavaScript 不是必选。但是个人感觉 jQuery 及相关的插件最好用熟练，其实写多了 jQuery 原生 JavaScript 语法也会熟悉起来。", "这么跟你说吧，如果你是妹子你要还长得还不错。最少要是 985 学校出来的，熟悉 PHP 虚拟机原理例如：二进制翻译啊， opcode 执行啊，对各种语法函数了如指掌，能熟练开发 PHP C 扩展，性能调优，熟悉 Apache 、 nginx 容器，并且 sql 或 nosql 数据库并懂得调优，什么 Ajax HTML/CSS 基础是必须的！\r", "   什么你说你都不会，你在开玩笑嘛？你什么都不会来我们公司，我们全部都可以教会你啊！如果你也不愿意学，我们也坚决支持！！只要你肯来！\r", "   如果你是个汉子，还长得不好，这些基础你都不会你来干什么！", "能熟练掌握吹牛装逼技能\r", "\r", "任务下发时，可用 2000%的效率去不断 Google 解决问题\r", "\r", "在规定时间内完成任务。", "半路出家非毕业生的话，没作品很难找工作。\r", "建议你自己便血边做做一个网站出来，一定要自己写不能用第三方的程序，然后把这个网站写到你的简历里，列出你用了哪些技术，做了哪些工作，用了多长时间等。这些可以反映出你的技能树、上手能力以及学习能力。相信很快可以得到面试机会。", " 每个公司的招聘和他们对人生的理解有关，如果是我的公司，因为我没有毕业，大学也不好，走了很多弯路，可能我就会尝试不一样的要求，其实这很自然，我实习过的一家公司管理者和员工加起来有好几个口吃，可见某个重量级人物 ... 如果老板愿意给机会，没有什么不可能，就算你是在创业，就算你是 Google Facebook YouTube 只能接受精英程序员，-- 从失败者的角度看待招聘", " Get shit done 哈哈", "其实在自学到你认为自己小有所成的时候试试去投几份简历面几次试就知道了\r", "面多了你也就差不多知道企业要人是个怎么样的标准了，更有助于你去做针对性的准备。", "你可以看看各种招聘网站上的 PHP 程序员的要求，最后自己投简历面试试试呗。", "作为程序员，我还对 UI 设计 /室内设计很感兴趣呢。利用业余时间涉猎一下相关知识。\r", "但是目前并没有转行的打算。\r", "\r", "so ，设计那么棒的工作，为什么要转？", "hellow word 水平 然后会框架  html  css 会至少能写页面啊  兼容不兼容另说  服务器懂点 80 8080 是吧  其余的倒是没啥了  就是没 1w 的水平别去想 1w 就好了", " 你这理解能力这个样子，我首先第一个不会用你", " 这么高大上我不会去", " 笑尿，哈哈", " 还有人能看懂的，不像有些人自卑感太强了", "会点 PHP 也只能做基层码农，很苦的。漫漫长路，考虑清楚吧。", "看你能把自己放多低了，有的公司你能干活就行，给你个任务不管你怎么实现，实现就行，脏活累活都是你来上，比如录数据，比如测试，一月没多钱，这种公司很容易把你带跑偏，但是你利用好的话是进入行业的最快办法。", "二楼加 1 ，我感觉也是这样"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>这特么什么意思。。。</p>\n<p>$this-&gt;{$path.'Path'}()</p>\n<p>这是什么用法</p>\n</div></div>"], "reply": "6", "tittle": "PHP $this->instance('path', $this->{$path.'Path'}());", "comment": ["$path 是个字符串变量", "$this->{$path.'Path'}() = 調用名為 $path.'Path' 的方法", "假设  $path = 'x';\r", "\r", "整句话 = $this->instance('path', $this->xPath());", " nice"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我是 mac 系统，装了 PD 最新版，然后我安装了一个 windows7 的系统，想用来测试网站的兼容性。\n然后我发现一个针对 ie8 优化的 css 样式总是加载不出来，接着我看了下我判断用的</p>\n<p>$_SERVER[\"HTTP_USER_AGENT\"];</p>\n<p>然后我懵逼了。在 windows 中任何浏览器输出的内容都是</p>\n<p>Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.110 Safari/537.36</p>\n<p>怎么办- -</p>\n</div></div>"], "reply": "12", "tittle": "虚拟机中获取的 HTTP_USER_AGENT 是...", "comment": ["用的国产壳浏览器？", " IE8 和 Google", "楼主想表达什么意思？这跟虚拟机有什么关系？你不会看到了 AppleWebKit 和 Safari 这两个词就以为跟虚拟机有关系吧？\r", "Windows NT 6.1; WOW64 已经反映了你的系统。至于如何从中获取其他信息，请 google", " 重点是在后面的 AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.110 Safari/537.36 。虚拟机里面没有这些东西", " 感谢，已解决。", "前端开发大忌是用 useragent 来识别客户端，你应该换成特性检验，这个特性不对就用另外一种方法解决这一的思路，还有就是推荐使用 modernizer", " IE8 也输出你说的那个 UA ？那可能是你的浏览器被劫持了 或者网络被劫持了\r", "\r", "反正虚拟机里的系统就是一个普通的电脑", " 如何解决的、是什么原因可以说一下嘛？", "AppleWebKit/537.36 (KHTML, like Gecko) Chrome/45.0.2454.101 Safari/537.36\r", "就是 chrome 的默认 ua …… windows 下的 chrome 也一样。", "不说下如何解决方便后人？\r", "\r", "社区交流最讨厌这种行为，以后提问题会没人管的，反正你能自己解决。", "chrome 当初为了兼容设计了个这么丧心病狂的 UA ……包含了各种主流浏览器的信息\r", "\r", "而且， UA 这东西，本来就是个可以随便填的东西……", " 很愚蠢的答案啊\r", " 真的很愚蠢啊\r", "\r", "\r", "\r", "\r", "…\r", "网站缓存…"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"Microweber\" src=\"http://laravelacademy.org/wp-content/uploads/2016/04/home-microweber-screenshot.jpg\"></p>\n<p>Microweber 是新一代的 CMS 生成工具，允许你使用拖拽方式创建网站、操作内容以及管理页面布局，而不需要你具备任何编码能力！</p>\n<p>更多详情请点击：<a href=\"http://laravelacademy.org/post/3876.html\" rel=\"nofollow\">http://laravelacademy.org/post/3876.html</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "基于 Laravel 拖拽式生成 CMS 及在线商店利器 —— Microweber", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>##情景描述</p>\n<p>现在手头有一台电脑，连接着打印机，且驱动已经安装正确。\n本地搭建了 php 的环境，有没有办法通过执行 php 文件来控制打印机打印本台电脑上的 PDF 文档？</p>\n<p>##思路</p>\n<p>使用 cmd 下命令</p>\n<pre><code>NET USE LPT2 \\\\{本机局域网 IP 地址}\\{本机 php 程序路径}  \nPRINT /d:LPT2 D:\\test.pdf\n</code></pre>\n<p><strong>成功打印</strong></p>\n<p>但是使用 php 的 exec()时错误提示“无法初始化 LPT2 ”。。。</p>\n<p>请问各位有没有什么办法解决此问题，非常感谢！</p>\n</div></div>"], "reply": "8", "tittle": "[求助]是否有办法使用 php 控制本地打印机打印文档？", "comment": ["JS 模拟 ctrl+p?", "把命令放到.bat 文件里，然后 php 运行外部文件就行了", " 不行呀， ctrl+p 是打印当前页面，而我需要打印的东西在电脑硬盘中呢~", "如果你直接命令行执行也有问题那就是命令的问题。如果命令行可以 PHP 不行那就是 PHP 的权限问题。先缩小范围再仔细寻找问题点呗", " 谢谢大神！搞定！跪谢呀~~", "顺带一提 ... php 有个叫 printer 的扩展是专门用来干这事儿的 ... 比用 exec 优雅点 ...\r", "\r", "不过既然你已经实现了就当个额外的参考知识听吧 ...", " 这个扩展好像资料不是很多呀，方便顺手给个地址吗", " 喏 ... ", " 这套函数 ..."]},
{"content": ["<div class=\"topic_content\">&lt;?php\r<br> \r<br>$db_connect=mysql_connect(\"localhost\",\"root\",\"root\") or die(\"Unable to connect to the MySQL!\");\r<br>\r<br>//选择一个需要操作的数据库\r<br>mysql_select_db(\"emp\",$db_connect);\r<br>mysql_set_charset('utf8',$db_connect);\r<br>//执行 MySQL 语句\r<br>$result=mysql_query(\"SELECT * FROM tianqi\");\r<br>\r<br>//提取数据\r<br>$row=mysql_fetch_row($result);\r<br>$n = 0;\r<br>$result = mysql_query(\"SELECT * FROM tianqi\");\r<br>while ($row = mysql_fetch_array($result)) {\r<br>    $arr[$n++] = array(\r<br>        \"id\" =&gt; $row['id'],\r<br>        \"location\" =&gt; $row['location'],\r<br>        \"oxygen\" =&gt; $row['oxygen'],\r<br>        \"negative\" =&gt; $row['negative'],\r<br>        \"humidity\" =&gt; $row['humidity'],\r<br>        \"temp\" =&gt; $row['temp'],\r<br>        \"pm\" =&gt; $row['pm'],\r<br>        \"createtime\" =&gt; $row['createtime']\r<br>    );\r<br>}\r<br> \r<br>echo json_encode($arr,JSON_UNESCAPED_UNICODE);\r<br>\r<br>以上代码是我发送给客户端的代码   在网页上打印出来的 json 数据是正确的，但是在客户端接收的数据中，有中文的就变成乱码了</div>"], "reply": "8", "tittle": "PHP 发送 json 代码，客户端接收乱码问题", "comment": ["去掉 JSON_UNESCAPED_UNICODE", "JSON_UNESCAPED_UNICODE\r", "这个参数大多是为了显示好看，数据要传输的话还是去掉吧", " 如果是 iOS 设备使用接口最好不要去掉 JSON_UNESCAPED_UNICODE 。\r", "设置一下 header 为 utf8 试试", "json 标准要求是全部 unicode 传输的，如果设置 header 的话就要设置成 unicode 而不是 utf-8 吧。\r", "php 并不支持 unicode 串，所以一楼的意见没错。", "注意编码", " 需要传输到安卓和 ios 设备上的", " 感谢指正，查了一下确实是这样。当初做外包的时候 iOS 那边告诉我不要在 json 里用\\u 这种格式，不然他们解析不了 囧", "伟大的 PHP 返回 json 大多不设置 Header 的 Content-Type ，也不注意字符的编码问题"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我的博客是采用的 typecho 搭建的，一直都很欣赏 typecho 的简洁与轻量。</p>\n<p>我本人也是一枚 phper ，想学习一下 typecho 的程序架构。</p>\n<p>目前正在看 typecho 的程序源码，但是感觉和普通的开源程序（ MVC 结构）不太一样~</p>\n<p>所以只是看了一个大概，并没有能完全了解 typecho 的架构是怎样的？</p>\n<p>不知 @joyqi   大大可否分享一下 typecho 的程序架构之类的？</p>\n<p>也望各位朋友不吝赐教， 有资源的分享资源，没资源的捧个人场:)</p>\n<p>万分感谢~</p>\n</div></div>"], "reply": "16", "tittle": "typecho 的程序架构是怎样的？想学习一下~", "comment": ["我博客用的也是 typecho  欢迎来访 ", "代码都给你了，还搞不懂？\r", "开数据库再看看。", " 哈哈，纯粹看代码，可能完全领略不到项目中的精髓， 以及作者的思路~", " 你这个站不是 JSP 么？", " 请看这个文档 有助于了解数据库的设计", "看代码看不到作者的思路？\r", "怪我咯", " 有说怪你么？这结论从哪得出来的？", " 这只是个梗，大可不必多虑。", " 好的，谢谢~", "Typecho 是有开放他们的架构的： ", "\r", "\r", "Segmentfault 听说也是基于 Typecho Framework 开发的。", "同 te 的， ", "附主题， ", " 谢谢~~", "  非常感谢~", " 博客主题不错~~  赞！", "同 typecho~: ", "主题:  "]},
{"content": ["<div class=\"topic_content\">之前公司服务器上采用了 lamp ， PHP 是 5.2.17 ，放了很多只兼容 PHP5.2 的网站(要改成支持 lnmp ， php5.6 不现实)，现在服务器老化需要更换了，需要配置 lnmp 环境，因为要支持最新开发的其他网站系统。\r<br>那么问题来了，服务器只能用一台新服务器，老服务器要下架，我怎样在新服务器上将原来的老网站迁移过来，然后同时也支持 lnmp 的新网站系统</div>", "<div class=\"topic_content\">原 lamp 上还有虚拟主机管理系统，要继续接着用，所以无缝迁移最好了</div>"], "reply": "41", "tittle": "服务器上如何存在多个 PHP 版本环境？", "comment": ["其实就是开不同的 php-fpm 监听不同的 sock 。\r", "重命名，一个命名为 php5.6,另一个命名为 php5.2", "用虚拟机分成 2 台", " 楼主用的 apache ，哈哈\r", "\r", "所以只能 Apache 使用多个 vhosts", "为什么不用 docker 呢，这不就是 docker 解决的问题吗", "装两个虚拟机。", "老网站继续用 Apache + php 5.2 ，然后用 Nginx 反代", "一开始 docker 会有点折腾，入门后会觉得轻松很多。", "不同版本的 php 开不同的 sock ，用 APACHE+vhost 处理不同版本 php 做后端，再用 Nginx 做代理根据域名分配到不同的后端处理", "安装在不同的目录，监听不同的端口", "楼上有解了。\r", "\r", "另外， Kangle 也可以实现", "docker", "同推荐 docker\r", "新的服务器搭一下 docker ， 想要多少个 php 版本都可以", "稻壳儿", " 如果是安装 docker ，应该有一个主 docker ，接受所有的域名访问，然后代理到其他子 docker 吧？", " 所有域名访问都是 80 端口，不同端口有什么用？", " 好久没听到 kangle 这个玩意了……", " 根据 vhost proxy 哪里的端口呗", "一个词： docker", "docker", "docker 感觉打开了新世界的大门", " \r", "\r", "you know nothing 。\r", "\r", "跑 php 的形式你都不了解\r", "\r", "fastcgi_index index.php;\r", "fastcgi_pass 127.0.0.1:9002;\r", "include fastcgi_params;\r", "fastcgi_read_timeout 1200;\r", "fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\r", "fastcgi_param SCRIPT_NAME $fastcgi_script_name;\r", "\r", "默认是 9000 ，你可以跑 9001  9002", " 看可是原来的是 Apache 模块加载 PHP 的，根本没有用 PHP-fpm", "题主搜下 phpbrew 吧， php 版本管理的", "80 跑 nginx, A 域名反向代理监听另一个端口的 apache+mod_php5.2.17+mod_remoteip,  B 域名正常服务器静态文和 fastcgi php5.6 。 不过建议把 5.2.17 的迁到高版本 php,  5.2 分支 php 官方停止安全维护五六年了。", " 不要纠结 apache 了，扔掉 apache 。 nginx 跑 php5.2 也可以，好像方法也一样", " Apache 上跑着上百个网站，针对 Apache 写了的伪静态各式各样，你让我扔掉，扔不掉啊", " Nginx 反代 Apache 就好了。无非就是 LANMP 的架构。新系统运行在 Nginx 上就行。\r", "而且这样迁移也方便，你可以一个一个把网站从 Apache 搬进 Nginx 里。（当然也可以就这么放在原处）", " 原来的 lamp 耦合太高了，还有个虚拟主机管理系统在上面", " 我说个恶心的做法。\r", "装上 ESXi ，开俩虚拟机，做 p2v 把原来的环境打包进来，另一个做新环境，然后内网打通以后反代。", " 开虚拟机 性能折扣了很多啊", " 折扣了多少？对访问速度影响多大？", "docker", " \r", "\r", "前端 nginx 接管 80 端口", " 你说的宿主安装 nginx 接管 80 ，然后安装一个 docker ，里面安装 lamp ？", "KVM 建 2 个虚拟机，桥接+NAT ，宿主机装 NGINX 只做反代，虚拟机该装什么装什么\r", "不喜欢 docker", " \r", "\r", "对的\r", "\r", "我公司的 gitlab 就是这样处理的。\r", "\r", "gitlab 的 docker 自带 nginx,然后由我负责接管 443 的 Nginx 带上证书后统一转发。", "Docker", "难道只有我觉得早跳槽早超生么？", "换大构架无缝几乎是不可能的，尤其是换引擎，除非原来的管理系统有 nginx 分支。\r", "\r", "多版本实现可以参考 a 某 h(不是安利)的实现方法，监听不同的 sock ，但是要会写规则。\r", "\r", "换引擎如果有伪静态那还比较麻烦把。。要重写规则。\r", "\r", "瞬间觉得又是虚拟机解决方案了(笑)", "1 ， docker+nginx proxy\r", "2,  多版本的 php-fpm + nginx upstream\r", "\r", "难道 docker 不是最好的姿势么"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>基于 Slim Framework 3 构建的骨架，快速开发轻量级 Web App 。</p>\n<p>以基本实现了 Authentication 可作为开发例子或改造属于你自己的果实。</p>\n<blockquote>\n<p>你可以用 Laravel 的 Homestead 运行，各种环境各种运行，不多说，拉下去看看，就这么简单。</p>\n</blockquote>\n<p>GitHub Stared This: <a href=\"https://github.com/HavenShen/slim-born\" rel=\"nofollow\">https://github.com/HavenShen/slim-born</a></p>\n<p><a href=\"https://packagist.org/packages/HavenShen/slim-born\" rel=\"nofollow\"><img alt=\"Latest Stable Version\" src=\"https://img.shields.io/packagist/v/HavenShen/slim-born.svg?style=flat-square\"></a>\n<a href=\"https://packagist.org/packages/HavenShen/slim-born\" rel=\"nofollow\"><img alt=\"Total Downloads\" src=\"https://img.shields.io/packagist/dt/HavenShen/slim-born.svg?style=flat-square\"></a>\n<a href=\"https://packagist.org/packages/HavenShen/slim-born\" rel=\"nofollow\"><img alt=\"License\" src=\"https://img.shields.io/packagist/l/HavenShen/slim-born.svg?style=flat-square\"></a></p>\n<h2>Installation</h2>\n<pre><code>composer create-project havenshen/slim-born [my-app]\n</code></pre>\n<h2>Use Packages</h2>\n<ul>\n<li><a href=\"https://github.com/illuminate/database\" rel=\"nofollow\">illuminate/database</a> - It also serves as the database layer of the Laravel PHP framework.</li>\n<li><a href=\"https://github.com/Respect/Validation\" rel=\"nofollow\">Respect/Validation</a> - The most awesome validation engine ever created for PHP.</li>\n<li><a href=\"https://github.com/slimphp/Slim\" rel=\"nofollow\">slimphp/Slim</a> - Slim Framework created.</li>\n<li><a href=\"https://github.com/slimphp/Slim-Csrf\" rel=\"nofollow\">slimphp/Slim-Csrf</a> - Slim Framework created.</li>\n<li><a href=\"https://github.com/slimphp/Twig-View\" rel=\"nofollow\">slimphp/Twig-View</a> - Slim Framework created.</li>\n<li><a href=\"https://github.com/slimphp/Slim-Flash\" rel=\"nofollow\">slimphp/Slim-Flash</a> - Slim Framework created.</li>\n</ul>\n<h2>Directory Structure</h2>\n<pre><code>|-- slim-born\n\t|-- app\n\t\t|-- Auth\n\t\t|-- Controllers\n\t\t|-- Middleware\n\t\t|-- Models\n\t\t|-- Validation\n\t\t|-- Routes.php\n\t|-- bootstrap\n\t\t|-- app.php\n\t|-- public\n\t|-- resources\n\t....\n</code></pre>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>来脑补一下</p>\n<ul>\n<li>如果把 1000 做成 Y轴的初始值，这样对比图表，效果更夸张 @littlehz。</li>\n</ul>\n<p><img alt=\"脑补\" src=\"http://ww4.sinaimg.cn/mw690/6b813934gw1f344n5okcyj20rg0q9djn.jpg\"></p>\n</div></div>"], "reply": "6", "tittle": "Slim Framework 3 骨架更快的撸一个 Web App", "comment": ["lumen 快 还是你这个快？", " 一体化的东西不出意外都比组件话的快", " Look APPEND 以后有更快的。\r", "\r", "跟聊 IDE 哪个好有啥区别，结果还是一样。", "排版弄的挺好的", " 0.0", "你那 1800 哪来的，官网是 1300.。。。"]},
{"content": ["<div class=\"topic_content\">由于最近流量暴涨，以前的老站后台没有设置静态文件的 CDN 接口。于是就想在入口文件加入一个用正则替换的静态文件的功能。自己参照网上写了下面的替换函数，能够解决大部分的静态文件，但是一旦遇上了以 http 、 https 或者 //开头的数据的数据就出错了。我知道咱站里面的技术大牛多，所以想请大牛们帮我下面这个函数改成能够除非以 http 、 https 或者 //开头的数据，也是排除原来本身就引用了外链的部分。\r<br>\r<br>另外不要让我用全站 CDN 加速，因为业务限制，不太方便。我只想把特定后缀的文件的流量转移到 CDN 上面去。\r<br>\r<br>function cdn_replace($html){\r<br>\t$cdnurl = \"http://www.zishuo.net/\"; //cdn Url\r<br>\t$exts   = 'jpg|jpeg|gif|png|bmp|webp|css|js'; //扩展名（使用|分隔）\r<br>\t$regex\t= '/([^\\s\\?\\\\\\'\\\"\\;\\&gt;\\&lt;]{1,}.(' . $exts . '))([\\\"\\\\\\'\\s\\?]{1})/';\r<br>\t$content  =  preg_replace($regex, $cdnurl. '$1$3', $html);\r<br>\treturn $content;\r<br>}</div>"], "reply": "15", "tittle": "求正则高手帮忙解决一个正则表达式的问题", "comment": ["能给出具体要求吗？比如说运行环境。原始文本。期望结果等。\r", "比如： js\r", "原始文本： ", "\r", "期望文本： ", " （不获取协议头）", "前端外部资源，无非就这两类： href 、 src 。（周一脑子就像浆糊，是否还有其它实在想不起了）。\r", "以这些标识开头，以指定 CDN 资源类型结尾， replace 一下就好了。", " \r", "$cdnUrl = '", "';\r", "$exts = 'jpg|jpeg|gif|png|bmp|webp|css|js';\r", "$pattern = \"/((?:src|href)=[\\\"\\']?)((?:http|https)?\\/\\/[^\\/]+\\/)(.+?\\.(?:{$exts}))/\";\r", "//preg_match_all($pattern, $html, $matches);\r", "$html = preg_replace($pattern, \"\\\\1{$cdnUrl}\\\\3\", $html);\r", "\r", "另外，简单点可以用 preg_replace_callback 来处理的，简单正则找到要替换要位置后，用 callback 来判断一下是否需要处理。", "我还算熟悉正则表达式。\r", "但是对 PHP 不熟悉，对你的业务（想替换的文件是哪一些）也不熟悉。\r", "\r", "我猜你想要的是找人帮你修改一下正则表达式，能更好地匹配。\r", "\r", "麻烦你把规则说清楚，给一些例子，哪一些是匹配的，哪一些不需要匹配。\r", "\r", "然后我们把修改好的正则表达式贴给你。", " \r", " \r", " \r", "\r", "是 PHP 的，举个例子吧？\r", "\r", "我原本网页里面的图片地址是以下这种路径:\r", "\r", "xxx/logo.jpg\r", "/xxx/logo.jpg\r", "./xxx/logo.jpg\r", "\r", "现在我想将网页里面所有这种路径的都替换成下面这种 url ：\r", "\r", "简单来说就是将", "简单来说就是将\r", "\r", "<img alt=\"\" src=\"index/a14.jpg\" width=\"320\" height=\"207\" />\r", "替换成\r", "<img alt=\"\" src=\"http://www.zishuo.net/index/a14.jpg\" width=\"320\" height=\"207\" />\r", "\r", "但是不仅仅限于图片，整个替换资源的类型为：\r", "\r", "jpg|jpeg|gif|png|bmp|webp|css|js", "感觉在 http sever 做 redir 跳转更简单些\r", "./ 这种是相对路径，确定直接换成 CDN 的根？", " 基本上是可以确认我就是那三种路径，即使替换成 CDN 的根也是没影响的。我现在自己的那个替换函数是可以用的，但是要是存在 http 、 https 、//这种开头的外链路径就出错了，所我希望像 @", " 说的一样，请人帮我修改一下正则表达式，能更好地匹配。排除以 http 、 https 或者 //开头的外链地址。", "^(?!http|//).*jpg$\r", "中间.*部分自己举一反三吧", "这种需求不应该 PHP 来做吧？在 Nginx 或 Apache 里写规则快多了。", "((\\.)?(/)?\\w+/\\w\\.(jpg|jpeg|gif|png|bmp|webp|css|js))这个正则可以匹配你的资源。然后你替换下就行了.\r", "\r", "不满足的稍微调试下就行了", " 能帮忙写个完整的替换函数吗？我用你那么替换上去后什么都匹配不出来了。", "我跟你 @", " 讲，需求要这样表达才算清楚明了， 请你确认一下，然后朋友们帮你出正则表达式和替换了。\r", "1 ）资源一定是被“” ‘’（双引号，单引号）来包围括起来的\r", "2 ）资源结尾是 .(jpg|jpeg|gif|png|bmp|webp|css|js)  ()括起来是限定“或者“的范围\r", "3 ）文件名肯定是 x/y.jpg 等 ， x,y 可以是 1 个或者多个字符， x 表示目录名， x 可能是为空（没有目录，直接 y.jpg ）或者多重目录(x/y/z.jpg 这样的）\r", "   字符的话， 是大小写字母和数字和-_（横杠和下划线）字符\r", "4 ）资源的协议，有可能是无协议，比如只是 src=\"index/a14.jpg\"； \r", "   但是也有可能是 ", " (请你考虑好这种情况的可能性，没有的话最好)", " 我不会写 php 的。我给你写了一个 js 版本的。你根据你的语法进行具体转换下吧\r", "\r", "result = ", ", \"http://www.zishuo.net/$1\");\r", "\r", "将 ", " 换成你的匹配串就行了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>鉴于之前用户在社区问的问题，下午撸了一个 Vuejs 和 Laravel 的分页，基本上满足需求</p>\n<p><img alt=\"\" src=\"https://wt-prj.oss.aliyuncs.com/0d06af79c49d4e08abb1ab3f7ab6e860/ca791fed-8e49-4b7e-93ce-1c8d133dc167.gif\"></p>\n<p>Github 地址： <a href=\"https://github.com/JellyBool/laravel-vue-pagination\" rel=\"nofollow\">https://github.com/JellyBool/laravel-vue-pagination</a></p>\n</div></div>"], "reply": "6", "tittle": "撸了个 Vuejs 和 Laravel 的分页，有需要的请进", "comment": ["这个 几句", "接上面，几句 Ajax 就搞定了有必要上框架吗？", " 嗯。。。大神请无视在下渣比。我只是想如果有人正好使用 laravel 和 vuejs ，在分页上有一个小小的例子而已", " 不错，几小时就 10 几颗星了。", " 这个貌似主要是 twitter 上的用户来 star 的", "跟 laravel 有关系吗?"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>var_dump('a'.0);//语法错误</p>\n<p>var_dump('a' . 0);//点连接左右加上空格就不会语法错误是为什么？</p>\n<p>//为什么下面输出不是 a-z?</p>\n<p>for ($i='a';$i&lt;='z';++$i){<br>\necho \"$i \";<br>\n}\n//精度为什么丢失?</p>\n<p>$f=0.58;</p>\n<p>echo intval($f*100);</p>\n<p>echo intval(strval （$f*100))//这样就不会</p>\n<p>if(9&gt;09){</p>\n<pre><code>echo 'ok';  \n</code></pre>\n<p>}</p>\n</div></div>", "<div class=\"topic_content\">谢谢各位解答</div>"], "reply": "13", "tittle": "求教几个 php 问题", "comment": ["我都不知道。。。", ".和数字挨着就是小数点了， var_dump('a'.0);在 0 前边打个空格就不会报错了\r", "你可以试试 var_dump(.0);和 var_dump(. 0);", "在 0 前面敲两个 .. 就不会错了，应该是优先级的问题", "第二个问题官方文档有写\r", "PHP follows Perl's convention when dealing with arithmetic operations on character variables and not C's. For example, in PHP and Perl $a = 'Z'; $a++; turns $a into 'AA', while in C a = 'Z'; a++; turns a into '[' (ASCII value of 'Z' is 90, ASCII value of '[' is 91). Note that character variables can be incremented but not decremented and even so only plain ASCII alphabets and digits (a-z, A-Z and 0-9) are supported. Incrementing/decrementing other character variables has no effect, the original string is unchanged. \r", "\r", "参考 ", "9>09 是因为 0 开头的数字在 PHP 里是表示八进制数的，你 var_dump(07)和 var_dump(08)看看", ".0 是 0.0 \r", "然后成了 “文本 数值”\r", "\r", "机智的类型转换，你做完 ++ ，  $i 就成 数值了 。\r", "\r", "浮点数被转换为整数，精度丢失应该正常状况，这应该怪 C ？\r", "\r", " 手册下的 UCN ，基本都是这种东西。 \r", "\r", "--- ---\r", "\r", "以上都是口胡， PHP 是最好的语言。", " 好吧，看了下文档并不对，果然还是应该看文档，请无视我的回复。", "var_dump(.0);  结果是 double(0)\r", "\r", "var_dump(.  0); 报语法错误", "精度损失的问题无非就是其中一个先把 double 转成了 string ，所以归根结底是 double 的 58 被转成 int 为什么会变成 57 。建议先学习下精度损失是怎么造成的，再考虑要不要把帽子扣在 PHP 头上\r", " ", "我补充下 @", " 的回答，为什么不是 'a' - 'z'，是因为 `for(AA;BB;CC)` 是相当于\r", "```\r", "AA;\r", "while(BB){\r", "  //stmt\r", "  CC\r", "}\r", "```\r", "\r", "那么当累加到 'z' 后，再累加一次就成了 'aa' （参照文档说明），而根据字符串比较规则， 'aa' < 'z'。只有一直累加到 'za' 才是大于 'z' 的。\r", "\r", "如果想要 a 到 z 直接 range('a', 'z')吧", " 不是优先级的问题，你 LS @", " 给出了正解。至于敲两个就不报错是因为 `'a'..0` 被解释成了 `'a'` `.` `.0`，也就是字符串 'a' 和数字 0 进行拼接\r", "\r", "btw ，介绍个函数： ", "\r", "以 LZ 所说的为例\r", "```\r", "$arr = token_get_all(\"<?php var_dump('a'.0);\");\r", "var_dump(array_map(function($a){\r", "\tif(is_array($a)) {\r", "\t\t$a[4] = token_name($a[0]);\r", "\t}\r", "\treturn $a;\r", "}, $arr));\r", "```\r", "结果为\r", "array(7) {\r", "  [0]=>\r", "  array(4) {\r", "    [0]=>\r", "    int(379)\r", "    [1]=>\r", "    string(6) \"<?php \"\r", "    [2]=>\r", "    int(1)\r", "    [4]=>\r", "    string(10) \"T_OPEN_TAG\"\r", "  }\r", "  [1]=>\r", "  array(4) {\r", "    [0]=>\r", "    int(319)\r", "    [1]=>\r", "    string(8) \"var_dump\"\r", "    [2]=>\r", "    int(1)\r", "    [4]=>\r", "    string(8) \"T_STRING\"\r", "  }\r", "  [2]=>\r", "  string(1) \"(\"\r", "  [3]=>\r", "  array(4) {\r", "    [0]=>\r", "    int(323)\r", "    [1]=>\r", "    string(3) \"'a'\"\r", "    [2]=>\r", "    int(1)\r", "    [4]=>\r", "    string(26) \"T_CONSTANT_ENCAPSED_STRING\"\r", "  }\r", "  [4]=>\r", "  array(4) {\r", "    [0]=>\r", "    int(318)\r", "    [1]=>\r", "    string(2) \".0\"\r", "    [2]=>\r", "    int(1)\r", "    [4]=>\r", "    string(9) \"T_DNUMBER\"\r", "  }\r", "  [5]=>\r", "  string(1) \")\"\r", "  [6]=>\r", "  string(1) \";\"\r", "}\r", "\r", "可以很直接的看出 .0 被识别为一个数字了", " 我说的优先级不是运算优先级，是解析优先级", "新手表示 涨姿势了！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>格悦科技是一家为传统企业提供互联网+解决方案的技术初创公司，致力于用技术的手段，促进传统行业的转型。官网： <a href=\"http://www.GeYueTech.com\" rel=\"nofollow\">www.GeYueTech.com</a></p>\n<p>我们希望招聘一批 PHP 研发的潜力新星，与我们一起成长。</p>\n<p>管培生实习期间薪资： 100-300 元 /天</p>\n<p>职位要求：</p>\n<ol>\n<li>\n<p>对技术有强烈的热爱和信仰</p>\n</li>\n<li>\n<p>对 PHP 和 MySQL 有熟练的掌握，用过 Yii 、 ThinkPHP 、 Laravel 等框架之一，对 Linux 服务器、 Git 有基础的掌握</p>\n</li>\n<li>\n<p>有 WEB 项目经验者加分，有 Github 、 OSChina 开源平台项目者加分</p>\n</li>\n<li>\n<p>有研究过大型网站项目经验者加分</p>\n</li>\n</ol>\n<p>职位优势：</p>\n<ol>\n<li>\n<p>格悦科技致力于为中国企业提供互联网+技术支持，格悦科技赞助有 PHP 研习社、技术研习社等开源社群，在格悦你可以接触到一线的优秀商业公司项目案例。</p>\n</li>\n<li>\n<p>我们全员实行小组式的开发，实行谷歌式的 80/20 制度，每位成员都可以拿出 20%的工作时间用于自己感兴趣的项目。同时，公司还会给予资源和融资的支持。</p>\n</li>\n<li>\n<p>格悦科技的创始人 BAT 一线互联网公司，在格悦你可以随时跟一线技术大牛交流，同时公司支持成员参加各类技术大会和交流活动。</p>\n</li>\n</ol>\n<p>简历投递方式（以下方式，选择其中之一即可）</p>\n<ol>\n<li>\n<p>简历投递平台：  <a href=\"http://www.shixiseng.com/intern/inn_ke0klsy43j60\" rel=\"nofollow\">http://www.shixiseng.com/intern/inn_ke0klsy43j60</a></p>\n</li>\n<li>\n<p>投递邮箱： geyue@acyun.org</p>\n</li>\n</ol>\n</div></div>"], "reply": "6", "tittle": "格悦科技招聘 PHP 研发管培生，开发小组， 20%自由支配时间，欢迎来切磋", "comment": ["研发管培生？这个概念很清奇啊", "哇，感觉很不错啊", "研发管培生是个什么概念。。", "这和管培生有什么关系", "总觉得是坑", "管培生，这个概念用在技术上真的好么？\r", "现在的企业真是脑洞大开呀。"]},
{"content": ["<div class=\"topic_content\">ios 端使用的是 afnetworking 框架   php 服务器的代码如下\r<br>&lt;?php\r<br>$con = mysql_connect(\"localhost\",\"root\",\"root\");\r<br>if (!$con)\r<br>  {\r<br>  die('Could not connect: ' . mysql_error());\r<br>  }\r<br> \r<br>\r<br> mysql_select_db(\"emp\", $con);\r<br> mysql_set_charset('utf8',$con); \r<br>   $c = file_get_contents(\"php://input\");\r<br>  $de_json =  json_decode($c);\r<br>  \r<br>\r<br>  $aa=array();\r<br>  $sql= mysql_query(\"SELECT * FROM tianqi WHERE location='$de_json-&gt;location'\");\r<br>  while($row=mysql_fetch_object($sql))\r<br>  \t $aa = $row;\r<br>    echo json_encode($aa);\r<br>    exit;\r<br>mysql_close();\r<br>\r<br>还有就是 ios 客户端可以收到用 jsp 编写的服务器发送的 json 。</div>"], "reply": "19", "tittle": "请问下为什么安卓客户端可以接收服务器发送的 json， ios 客户端的却不能接收服务器发送的 json", "comment": ["那肯定和服务端无关啊，是你客户端的问题吧", "看到 php 打了一段话，又删了", " = =为什么。这个 php 服务器应该是正确的吧= =", " 嗯的，是正确的", "什么叫“不能接收服务器发送的 json ”？可以接收发送的 html 吗？首先要判断一下客户端和服务器是否相通，再判断接收的内容是否一致，然后。。。", "为什么呢？   因为 ios 程序员不行\r", "\r", "既然安卓没问题说服务端是没有问题的吧", " 可以相通的", " 但是 ios 端那边却可以和 jsp 编写的服务器连接成功     我的 php 服务器和另外一个服务器需要接收和发送的东西都是一样的", "差一个题外话，这种查询不怕被 SQL 注入么？ location 如果输入 1=1 or 之类的怎么办？ 不能能做参数化查询么？ 我有强迫症", "print \"Content-Type: application/json; charset=utf-8\\n\\n\";\r", "\r", "你不如把两者的代码都发出来看看，看看是不是如你所说，发送的东西都一模一样，连头部都一样。", " 感谢提醒    只是我现在还是初学者     还不懂怎么保护系统漏洞      这上面是我们老师让我们做的一个项目      = =想着把功能实现了先", "为什么呢？ 因为 iOS 程序员不行。\r", "可以对两个平台抓包证明。", "afnetworking 要设置 responseserializer ，或者像楼上说的， response 里要给出 content  type", " \r", "PHP 代码 在 echo 上面加一行\r", "header('Content-type:text/json');", "客户倒霉", "打了一大段话又删了。国内现在的学校还在用 PHP4 做教学范例么？ mysql_* 现在还在用？", " 我是在用 php5.4", "  在上大三  不过是自学 php 的。 = = 还有其他能代替 mysql 的吗", "  `MySQLi`和`PDO_MYSQL`  5.4 也太老了"]},
{"content": ["<div class=\"topic_content\">提交订单后，没有收到对应的邮件提示\r<br>通过后台查看错误日志\r<br>PHP Notice:  Error: EHLO not accepted from server!\r<br>google 了相关信息，可惜都是千篇一律的配置，有问题，特此记录一下\r<br>邮件协议： SMTP\r<br>邮件参数： SMTP 的情况下可以不填\r<br>SMTP 主机： <a target=\"_blank\" href=\"http://ssl://smtp.exmail.qq.com\" rel=\"nofollow\">ssl://smtp.exmail.qq.com</a>\r<br>SMTP 用户： <a target=\"_blank\" href=\"mailto:admin@xxxx.com\">admin@xxxx.com</a>\r<br>SMTP 密码：*******\r<br>SMTP 端口： 465\r<br>SMTP 超时： 5\r<br>注意以上填写的 SMTP 用户的邮箱，要和后台网店设置－编辑项目里的 电子邮箱地址一致 不然后台会报错误信息\r<br>PHP Notice:  Error: MAIL FROM not accepted from server!\r<br>另外 你的服务器如果是 linux 的话，记得 iptables 开启 465 端口\r<br>以上的环境是 lnmp ， opencart 中文版 Version 2.0.1.1</div>"], "reply": "目前尚无回", "tittle": "记录 opencart mail 配置", "comment": []},
{"content": ["<div class=\"topic_content\">/* Application Router */\r<br>var Views_Edit = Vue.extend({\r<br>    template: 'test'\r<br>})\r<br>\r<br>var App = Vue.extend({})\r<br>var router = new VueRouter()\r<br>router.map({\r<br>    '/user/edit': {\r<br>        component: Views_Edit\r<br>    }\r<br>})\r<br>router.start(App, '#app')\r<br>\r<br>/* Application Router END */\r<br>\r<br>\r<br>\r<br>这是目前的路由代码，我想把它改成用 vue-resource 请求 /user/api/edit 获取视图数据，然后赋值到 Views_Edit 的 template 中，再展示在用户浏览器中，请问应该怎么改？</div>"], "reply": "8", "tittle": "Laravel && Vue.js 路由视图问题", "comment": ["直接在 Views_Edit 加个 data () 获取数据，看文档。", " 具体地址？", " 额。。这看下文档目录就知道了吧。 ", " 那么有什么方法能让 vuejs 实现类似于 angularjs 的 templateURL 功能？", "给 template 取个 id", " 不太懂……", "请细看 ", "\r", "你应该在 Views_Edit  的对象中添加\r", "\r", "```js\r", "\r", "route: {\r", "            data: function (transition) {\r", "                    return {propsData: data}\r", "                }\r", "            }\r", "\r", "```", "大概就是这样 return 的对象 会自动赋值到当前组件的 data 上去"]},
{"content": ["<div class=\"topic_content\">上一个 phper 走了，客户反映说用户在网站上选择融宝支付完成后没有选择返回网站，而是直接关了支付页面，造成支付完成，但是网站并没有收到用户支付成功返回的信息。。。所以在网站上并没有任何显示。你们如何解决这个问题的</div>"], "reply": "5", "tittle": "谁使用过融宝的支付接口？求解 [php]", "comment": ["难道你们没实现异步回调用的接口？", "异步回调", " \r", " \r", "鬼知道是什么情况，我想去看融宝的支付文档，但是没有文档，官网也没有下载的，支付宝好歹还有一个异步回调，这个我没有接触过，目前啥情况还不知道，给这个的客服打电话，半天没人接，我也是服了，最起码给我一个文档看看啊", " 你找他们的开发者支持啊 联系融宝和你们对接的商务啊", "我以前做过融宝接口 他是有文档的 而且有相关的技术人员支持"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>成都 PHP 一枚，已经工作4年，自己比较熟练的技术包括：php、mysql、前端、drupal、linux！现在想自由的工作，可以接受远程办公，如果是在成都的公司，也可以去公司，如有需求，请留下阁下 QQ ，可以详细聊，或者给你简历</p>\n</div></div>"], "reply": "1", "tittle": "PHP 一枚，坐标：成都", "comment": ["请问你熟悉 smarty 模板引擎吗？ 有没有 WHMCS 模块的开发经验，我们有相关模块需要升级， PHP+MYSQL+smarty\r", ",请问可以做吗，如果可以请提供的你的 QQ"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>    /**\n     * Allow all the methods of BladeInstance to be called.\n     *\n     * @param string $name The name of the method to run\n     * @param array $arguments The parameters to pass to the method\n     *\n     * @return mixed\n     */\n    public static function __callStatic($name, array $arguments)\n    {\n        return static::getInstance()-&gt;$name(...$arguments);\n    }\n</code></pre>\n</div></div>"], "reply": "2", "tittle": "看 Blade 源码看到这样的语法，这是语法糖么？", "comment": ["是\r", "\r", "laravel 中大量的使用 __call 和 __callStatic 的两个魔术方法 `...` 操作是 5.6 之后新填的特性，和其他语言一样，很酷的特性"]},
{"content": ["<div class=\"topic_content\">因为不支持全文转载，所以直接贴出链接，希望可以帮助初学者，欢迎指正 ：）\r<br><a target=\"_blank\" href=\"https://solarhell.com/post/2016/04/homestead\" rel=\"nofollow\">https://solarhell.com/post/2016/04/homestead</a></div>", "<div class=\"topic_content\">可以 alias 一条命令来快速 ssh 进入开发环境\r<br>ssh <a target=\"_blank\" href=\"mailto:vagrant@127.0.0.1\">vagrant@127.0.0.1</a> -p 2222 -i ~/.vagrant.d/insecure_private_key</div>"], "reply": "40", "tittle": "使用 Homestead 来打造舒适的开发环境", "comment": ["然后你会发现 打开你的 homestead.app 会出现 502", " 不会呀 0.0  ", " ", "楼主是个坑货 为什么不 讲一下那个 /etc/nginx/sites-enabled/ 那个 php5 要改成 php7.0", "你这个是 php5.6 啊", " 不不不 不用配置的 默认就是 php7-fpm", " ", "  我装好后是\r", "\r", "root@homestead:/etc/nginx/sites-enabled# cat homestead.app\r", "server {\r", "    listen 80;\r", "    listen 443 ssl;\r", "    server_name homestead.app;\r", "    root \"/home/vagrant/Projects/laravel/public\";\r", "\r", "    index index.html index.htm index.php;\r", "\r", "    charset utf-8;\r", "\r", "    location / {\r", "        try_files $uri $uri/ /index.php?$query_string;\r", "    }\r", "\r", "    location = /favicon.ico { access_log off; log_not_found off; }\r", "    location = /robots.txt  { access_log off; log_not_found off; }\r", "\r", "    access_log off;\r", "    error_log  /var/log/nginx/homestead.app-error.log error;\r", "\r", "    sendfile off;\r", "\r", "    client_max_body_size 100m;\r", "\r", "    location ~ \\.php$ {\r", "        fastcgi_split_path_info ^(.+\\.php)(/.+)$;\r", "        fastcgi_pass unix:/var/run/php5-fpm.sock;\r", "        fastcgi_index index.php;\r", "        include fastcgi_params;\r", "        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\r", "        fastcgi_intercept_errors off;\r", "        fastcgi_buffer_size 16k;\r", "        fastcgi_buffers 4 16k;\r", "        fastcgi_connect_timeout 300;\r", "        fastcgi_send_timeout 300;\r", "        fastcgi_read_timeout 300;\r", "    }\r", "\r", "    location ~ /\\.ht {\r", "        deny all;\r", "    }\r", "\r", "    ssl_certificate     /etc/nginx/ssl/homestead.app.crt;\r", "    ssl_certificate_key /etc/nginx/ssl/homestead.app.key;\r", "}", "运行 vagrant box list 后，我的输出是 laravel/homestead (virtualbox, 0.4.4) 。或许你的 box 版本旧一点?", "☁  manage  vagrant box list\r", "laravel/homestead (virtualbox, 0) 我的是这个呢", " \r", "这个应该不是用官方源添加的 box ，估计是旧版本的", " 你这个是手动下载添加的吗", "最新的 0.4.4\r", "\r", "这是七牛存储下载，我从我的美国 VPS 传到七牛的。", " 感谢。我拜托过教育网的同学帮我下载过，确实能正确执行 vagrant box add xxx.box 但是 homestead 不认--", " 那该怎么办？等它几十 KB 的速度？我这似乎也是不认，我以为是操作不对。", " \r", " \r", "\r", "Homestead 对 box 的版本号有要求（>= 0.4.0 ），手动添加的 box 的版本号是 0 （下载下来的 box 文件不含 metadata ），所以会出问题。\r", "\r", "解决方法就是创建一个 metadata.json 文件指明 box 的版本号，具体可以看这里：\r", "\r", "  我把箱子弄到 美国的 VPS 上的 弄到本地 加上的", "想弄过 不过网速不行阿   你既然下过了 你不弄个网盘分享下。。= =", " 感谢 马上更新到文章里", "今天才被这个配置坑过", " 对 所以写在博客备忘", "看了楼主的博客 给 folder 加了 type ： nfs 打开雅黑探针速度嗖嗖的\r", "之前安装好环境后 用雅黑探针 感觉好慢  ", " ", " 多谢分享，正愁这个呢哈哈哈", "用国外的服务器下好 每秒 1MB 的速度拉到本地 感觉不错", "嗯，我爱 Homestead 这个单词，感觉瞬间眼前有种田园风", " 一定是 Mac ！\r", " 你的域名单词也很不错！ bismarck 很酷的那种", " 不不不， bismarck.moe 只是因为舰娘里的俾斯麦才买的。。。", "我觉得，我在折腾技术的过程中，很大一部分时间都花在了翻墙上！！！\r", "GFW 谋财害命！！！", " 请问你用的什么梯子？尝试了多次，都报错\r", "An error occurred while downloading the remote file. The error\r", "message, if any, is reproduced below. Please fix this error and try\r", "again.\r", "\r", "SSL read: error:00000000:lib(0):func(0):reason(0), errno 60\r", "\r", "搜了一下，有个说，换一个好的网络。真的是网络问题？", " 是因为 G*W 吧，我是挂的日本 SS （你看我截图也是尝试了好几次都失败）。前面几楼有朋友下载了镜像，你可以通过那个链接下载再来，再手动创建 metadata.json ，也是完美添加。", " 网络问题，试了好几次终于可以了！谢谢！不过还是不怎么清楚怎么用！只能用 laravel 吗？还是只要是 php ，就可以用？", " 感谢分享,之前我用 init 来初始化,然后用默认的 Vagrantfile 文件 up 了展开,再替换回 homestead 的 Vagrantfile 文件,但是这个方法一直不完美...\r", "\r", "如果能早点看到就好了", " 都可以（也可以开发 node 程序），程序放在 Code 这个目录里面，在本机开 IDE 开发，然后注意配置下 nginx 里的程序目录就可以了。", " 就是开发什么，就在里面配置什么，对吗？非常感谢！", " 嗯，只要注意修改下默认的 /etc/nginx/sites-enabled/ 里面的配置文件，甚至可以添加多个域名。", "为什么配置完了之后，虚拟机的 /home/vagrant/Code/里，没有 Laravel/public 路径呢？\r", "Nginx.conf 里也没有生成像你们上面贴的内容。\r", "\r", "按照这个安装步骤有遗漏嘛\r", " 一样的步骤 你可以手动配置一下 或许没能自动创建好项目", "为什么是 7.0 啊，我想用 5.5 的怎么办", " 有人打包了这样的 vagrant box 搜索看一下", " 有个 5.6 的\r", "\r", "PHP56 Instead of PHP7 in Laravel Homestead\r", "\r", "\r", "\r", "部分 readme 操作步骤\r", "\r", "Copy Sites From Original Homestead\r", "\r", "git clone ", " ~/Homestead56\r", "\r", "cd ~/Homestead56; cp -rv ~/.homestead/ ~/.homestead-56/; vagrant up\r", "\r", "试用了一下可以和官方的 homestead 灵活切换。具体操作见该项目 readme", " 3Q ，已 star ，抽空折腾下"]},
{"content": ["<div class=\"topic_content\">社区类的网站用什么 PHP 框架合适,我比较熟悉的有 ThinkPHP,Laravel,Yaf 。。还有,前台的话，页面应该 PHP 和 HTML 混合写，还是只是让 PHP 只写接口，前端用 JS 调好点。</div>"], "reply": "21", "tittle": "社区类的网站用什么 PHP 框架合适", "comment": ["Laravel", "前台有专门前端的话就写接口吧，没有就混合着来吧，除非你前端也还 ok.    至于框架 不追求性能的话就 Laravel,  否则就用 yaf 吧", "discuz 配一下就完了。。还要自己开发么", "会什么 用什么\r", "什么框架到我手里都合适", "yii2 可以试试哦", "WordPress", "域名注册形的网站（二级域名）自己在用 html5up+php ，其他不会玩 hhhh", "wecenter 拿过来试试", "yii2", " Laravel 性能堪忧吗", " wecenter 怎么回事？卖了？\r", "\r", "安徽辛普信息科技有限公司（由深圳市微客互动有限公司全权委托处理 WeCenter 产品相关事宜）", "symfony", "我的爱码士论坛 ", " 就是自己写的一个框架实现的，框架并不重要，自己写的框架才是全世界最好的框架", "laravel 还不如 phalcon", "Laravel +1", "鄙人觉得语言只是个工具，哪个最熟悉用哪个", "    CTRL+D  隐藏下方萝莉\r", "\r", "\r", "笑 cry ……", "挨个主流框架看一下，看哪个顺眼就用哪个~", " 遥想当年改 WeCenter 的时候简直是痛不欲生……", "推荐 yii + bootstrap", "laravel"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>此次文档的翻译的比较细致，校对上花了很多时间，过了十几遍，阅读体验较之前应该会有很大改善 :beers:  :beers: :beers: 。</p>\n<blockquote>\n<p>欢迎反馈和优化： <a href=\"https://phphub.org/topics/2095\" rel=\"nofollow\">https://phphub.org/topics/2095</a></p>\n</blockquote>\n</div></div>"], "reply": "15", "tittle": "Laravel 5.1 LTS 中文文档翻译完成「精校版」", "comment": ["翻译也有我的份哦，欢迎各位帮忙纠错 😄", "如果是给一 github 连接，我想我会点过去并且关注，结果一看就是来宣传 phphub.吸引用户的，这滋味不太感受，很难有忠实用户", "不过还是非常感谢分享", "感谢翻译\r", "但是 ", " 下有个资源，加载不出来，好多页面都拖到几十秒才出来，能该晒下么？我这里是江西电信", "  window width < 1304px, have a bug, page header offset.", " 这个社区有规定不能照贴内容，所有贴个链接，再说了，给 PHPHub 吸引用户有啥不好呢？", " U a welcome.", " ga.js 已经使用 cdn 加速了，刚刚瞧了一下，应该是 GA 在给谷歌服务器发送统计信息时卡住了。\r", "\r", "今天帮我试试看还有问题不？", " 调好啦，多谢反馈。", " 可以了， ", " 走了 ss ，取消掉正常了，速度很快", " 之前我也遇到过类似的情况，因为是给 GA 服务器发送的请求，除了不使用 GA 统计的话，找不到比较好的优化方法。\r", "\r", "谢谢反馈哈 😄", "  感谢翻译，终于有个查找搜索的功能了", "感恩", "支持 phphub ，支持楼主", "nice 点赞"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h3>为什么使用 Laravel 5.1 ？</h3>\n<h5>长期支持</h5>\n<p>Laravel 官网网站声明的 <a href=\"https://laravel.com/docs/5.1/releases#support-policy\" rel=\"nofollow\">Support Policy</a>  ：</p>\n<p>强烈建议在 2018 年之前使用 Laravel 5.1 来构建项目， Laravel 5.1 是 LTS 的发行版本, 发行于 2015 年 6 月份，自发布起提供两年时间的 Bug 修复（ 2017 年 6 月）, 3 年时间的安全修复（ 2018 年 6 月）。</p>\n<p>LTS 版本是此项目能提供的最长时间维护版本。一般的发行版本, 只提供 6 个月的 Bug 修复支持, 一年的安全修复支持.</p>\n<p>这是非常重要的，你也不希望你今天开发的应用搭建与一个过时（特别是有安全隐患）的框架之上。</p>\n<p>所以，让我们来拥抱 Laravel 5.1 LTS 版本！</p>\n<h5>新的变化</h5>\n<p>Laravel 5 是框架最新的版本，相比 Laravel 4 做了很多的变化，但是大多数功能是后向兼容的，你可以根据 <a href=\"https://laravel.com/docs/5.1/upgrade\" rel=\"nofollow\">Upgrade Guide</a> 进行平滑升级。</p>\n<p>但是 Laravel 的核心理念并没有太多变化(读一读官方文档中的<a href=\"https://laravel.com/docs/5.1/lifecycle\" rel=\"nofollow\">系统架构</a>部分)，在 Laravel 5 中依旧有用，但是在实现方式上可能做了很多改变。</p>\n<p>如何在开发项目中快速应用一些新的变化，这篇文章，或者会是一个几篇的合集来展示 Laravel 项目的开发流程。</p>\n<h5>示例程序</h5>\n<p>示例是学习最好的方式，我们用一个最熟悉的示例，目前我正在敲字的这个程序 PHPhub 为例，当然我们不需要设计的过于复杂。</p>\n<p>我们可以尝试用 Laravel 5.1 来构建一个可以支持 <code>Markdown</code> 格式的博客系统，需要有评论以及后台管理的支持。</p>\n<pre><code>&lt;?php\n\n\nclass Idea extends Eloquent {\n\n\t/**\n\t * 拥有海阔天空的想法?\n\t *\n\t * @with  Laravel\n\t */\n\t public function create()\n\t {\n\t \t// 让我们把它做出来\n\t }\n</code></pre>\n<h3>第一件重要的事： 搭建环境</h3>\n<p>你需要有一台对你友好的计算机，我的意思是指你需要一个痛苦比较少的开发环境，无论是 Window 还是 MacOS ， Linux 。</p>\n<p>假设你理解虚拟机的概念， Laravel 提供了一个集成了相关开发环境的 box ：<a href=\"http://laravel-china.org/docs/5.1/homestead\" rel=\"nofollow\">laravel/homestead</a>，可以理解为一个配置好的虚拟机镜像。</p>\n<h5>为什么要用 homestead ？</h5>\n<p>Laravel 框架的开发哲学之一是让 PHP 开发有趣而且简单。为了达到这个目的， Laravel 打包好了一个开发环境给应用开发者（ Thanks to Vagrant ）。你可以在自己起机器上搭载一个虚拟机程序（比如 Virtualbox ）来使用这个开发环境， homestead 如何安装和使用。</p>\n<p>所以有了它，你之后和工作伙伴协作的时候就不用再折腾开发环境了，一定要安利给同事。</p>\n<blockquote>\n<p>个人经验： Homestead &amp; <a href=\"https://www.jetbrains.com/phpstorm/\" rel=\"nofollow\">PHPStorm</a> 同时运行的时候，如果再加上自动化编译前端的组件的时候， 4G 内存的机器还是有点吃不消，有时候卡到无法正常工作。</p>\n</blockquote>\n<p>不过我们还是要看一下，整个开发环境预装的一些 Software 列表：</p>\n<ul>\n<li>Ubuntu <code>14.04 系统版本</code></li>\n<li>Git <code>代码版本管理</code></li>\n<li>PHP 7.0  <code>Yo ！！</code></li>\n<li>HHVM  <code>即时编译器</code></li>\n<li>Nginx <code>Web Server</code></li>\n<li>MySQL <code>最熟悉不过的数据库</code></li>\n<li>MariaDB <code>数据库，兼容 MySQL</code></li>\n<li>Sqlite3 <code>简单易用的数据库</code></li>\n<li>Postgres `暂时没有用过的数据库·</li>\n<li>Composer <code>依赖包管理工具</code></li>\n<li>Node (With PM2, Bower, Grunt, and Gulp) <code>前端构建工具</code></li>\n<li>Redis <code>缓存管理</code></li>\n<li>Memcached <code>缓存管理</code></li>\n<li>Beanstalkd <code>分布式内存队列系统</code></li>\n</ul>\n<p>所以你可以开始按照英文或[中文的文档](查看这里的<a href=\"http://laravel-china.org/docs/5.1/homestead\" rel=\"nofollow\">中文文档</a>, 在之后的步骤里面我会默认你已经安装好开发环境)开始启动 <code>homestead</code> 的安装了，这是美好开始（ Modern PHP ）的第一步。如果你有更多兴趣，也可以了解一些这些预装的软件都是做什么的，多接触一些概念总是好的。</p>\n<p>当然在 window 配置环境可能需要多费一些周折，可以读读这篇教程：</p>\n<p><a href=\"http://laravelcoding.com/blog/laravel-5-beauty-setting-up-a-windows-machine\" rel=\"nofollow\">http://laravelcoding.com/blog/laravel-5-beauty-setting-up-a-windows-machine</a></p>\n<blockquote>\n<p><a href=\"https://phphub.org/users/1\" rel=\"nofollow\">Summer</a>： 是的， Laravel 的开发中，使用 Homestead 是必须的，不论你是一个人开发项目，还是团队开发，不管你是新手，还是老手，请使用 Homestead 。可参考 Homestead 的<a href=\"https://github.com/laravel/settler/blob/master/scripts/provision.sh\" rel=\"nofollow\">环境部署脚本</a>来实现开发环境和生产环境的统一。</p>\n</blockquote>\n<h5>创建新的项目</h5>\n<p><img alt=\"Create Project\" src=\"http://7xrkvy.dl1.z0.glb.clouddn.com/16-4-21/90162142.jpg\"></p>\n<p>使用浏览器访问应用：</p>\n<p><img alt=\"\" src=\"http://7xrkvy.dl1.z0.glb.clouddn.com/16-4-21/1176900.jpg\"></p>\n<p>创建新项目的方式其实有很多， homestead 和 vagrant 工具也有许多可以深入讲解的地方，不过这些就留给大家自己去探索了，可以先看看每个工具的使用文档之类的，具体场景的时候在去搜搜别人是如何解决的。</p>\n<p>有什么细节问题，就在评论里面尖锐的指出来吧，一直觉得从评论中可以学习到更多东西 ：）</p>\n<h3>Next</h3>\n<p>接下来就要开始敲代码了，下篇文章会写一下使用 TDD 的方式构建应用程序。</p>\n<blockquote>\n<p>声明一下：个人有个缺点，没办法把一件事做完整，所以大家对这个系列也不要抱有太多期待 :<br>\nAbout Me: <a href=\"http://jobslong.com\" rel=\"nofollow\">Jobslong.com</a></p>\n</blockquote>\n<hr>\n<h5>广告</h5>\n<p>个人经常使用的一个图床工具，有点扛不住流量费用了，各位土豪请随意捐赠一下，谢谢！</p>\n<p><img alt=\"\" src=\"http://7xrkvy.dl1.z0.glb.clouddn.com/16-4-21/97634301.jpg\"></p>\n<p>捐赠地址： <a href=\"http://yotuku.cn/\" rel=\"nofollow\">http://yotuku.cn/</a></p>\n</div></div>"], "reply": "10", "tittle": "使用 Laravel 5.1 构建商业项目程序：简要介绍", "comment": ["持续关注...", "个人更喜欢 sf2-3", "关注一下", "运维小白，能问一下如果一直用非 LTS 版本来写会有什么问题吗？", "另外就是 Homestead 为什么一个人在 Linux 环境下开发的时候也是必需的呢？", "不喜 home stead,有那功夫弄它，还不如直接原生", " 我主要考虑的是框架层面的安全漏洞问题， LTS 版本修复更及时一点 ：）", " 在自己电脑上面搭建环境难道不痛苦嘛？有时候开发需要你在不同的开发环境下进行开发，在本地安装多版本管理工具之类的东西也很不便。我觉得协作的时候，统一开发环境会让整个团队协作更好，不会出现因为开发环境不一致导致的问题，浪费无谓的时间", "这边文章更细致的分析了一下：\r", "\r", "\r", "\r", "其实 homestead 更容易部署，国内折腾花的比较多的时间，主要是因为不可知力量导致的网路不稳定会带来很多不爽的地方", "小小赞助下 "]},
{"content": ["<div class=\"topic_content\">WHMCS 插件的基本功能已经完成了，由于这个插件是老外开发的（插件代码写的很合理，很规范），我现在想在次插件基础上做 2 次开发，要求实现自动续费功能，实现起来应该不算难，因为插件主体架构和功能已经完工。预算 4000RMB ，工期根据你的时间灵活安排\r<br>\r<br>能力要求：\r<br>PHP+MYSQL+Smarty\r<br>\r<br>可以看懂英文文档，有 WHMCS 插件开发经验最好，没有也没所谓了，只能你能开发就可以。\r<br>\r<br>有意向的欢迎邮件我详聊 blueskythanks 艾特 gmail 点 com</div>"], "reply": "2", "tittle": "WHMCS 插件扩展开发", "comment": ["还没说屎什么方面的 Plugin ，\r", "\r", "仅仅是 Product / Services 自动续费吗？", " 你好，没这么简单，不仅仅是 Product / Services 自动续费 ，是 SSL 证书方面的自动续费，应该不算难，因为现有的插件已经实现了基础功能，续费也就是调用 MYSQL 数据库里面存储的数据，再次提交订单到 API"]},
{"content": ["<div class=\"topic_content\">最近想开发一个技术社区，然后就看了看一些社区，有的社区是只有话题这一个 tab ， V2EX 和知乎好像都是这样，我看话题里面好像有问答也有文章，而有些社区是两个 tab,一个问答，一个文章，像 segmentfault 。。搞得我有点头晕，没法下手。。</div>"], "reply": "7", "tittle": "社区类网站里的话题、问答、文章之间的联系是什么，有什么不同", "comment": ["技术上无法下手还是功能上？", " 功能上，没搞清话题的概念，想着怎么加进去", "知乎的话题是 tag ，而 V2EX 的话题（主题）是帖子", "以 ls 知乎为例\r", "话题: tag/问题分类\r", "问答: 问题 /答案\r", "文集: 专栏\r", "文章: 专栏的 item", " ，无论是话题，问答，还是文章， 只是其内容表达形式的不同。\r", "抛开这些形式（我的意思不是说形式不重要），剩下的就是内容。\r", "\r", "你可以考虑一下，针对内容， 你可以，你想做一些什么。\r", "据我了解，针对内容方面， 目前可做的很少， 也很有限，但是内容很重要。\r", "\r", "我抛个问题， V2EX 上无效信息太多，能否在这些方面有改进？", " 好的，谢谢！", " 谢谢！我会认真考虑一下"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>199 刀，好像只限今天\n<a href=\"https://laracasts.com/sales/forever\" rel=\"nofollow\">https://laracasts.com/sales/forever</a></p>\n</div></div>"], "reply": "2", "tittle": "laracasts 今天出了永久观看的购买", "comment": ["Whoops, looks like you missed out on this sale. Better luck next time!", "... 优惠结束了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>要不要作死升到 php7....</p>\n</div></div>"], "reply": "6", "tittle": "php7 和 composer 还有 laravel 兼容吗= =", "comment": ["5.0 就支持 7 了", "另外 php7 和 composer 并没有关系", "并不会作死。。。。早就在生产环境使用 php7 和 laravel 5.1 了。速度提升三倍左右，仅对于我的而已", "早已使用", "Laravel 4.x 完美兼容 php7 ，想要三倍性能得开 opcache", "一直在用 php7 和 laravel 5.2 ，很快"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>RT ， phpstorm 中 php 的格式化都很 ok ，但是遇到很长的,多行 SQL 字符串时，却很丑的顶在了每一行的开头，不能自动缩进，请问有方法么？</p>\n<p>除了手动在 SQL console 里 alt+f8 然后粘贴再 tab ？</p>\n</div></div>"], "reply": "1", "tittle": "如何在 phpstorm 中格式化 php 文件里的 SQL？", "comment": ["用 ideavim ，表示格式化根本就不是问题"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>PHP 本身自带的 socket 套接字连接一直都是尴尬的存在…从 create 到 bind 到 listen 再到 accept 一切连接所需要做的事情都得你有亲手去解决，这可是工作量极其繁重的事情，且必须是对各协议的通信过程了解的情况下才能入手，但是如果你拥有了 swoole 这 PHP 异步、并行、高性能网络通信引擎的话就一切将会变的更加容易！</p>\n<p>以下是我利用 swoole 轻松构建 websocket 服务器,以实现一个在线即时聊天室的 DEMO</p>\n<p><a href=\"http://www.otokaze.cn/post/643.html\" rel=\"nofollow\">http://www.otokaze.cn/post/643.html</a></p>\n</div></div>"], "reply": "6", "tittle": "[PHP]利用 websocket 实现网页版的即时聊天室", "comment": ["源码和效果图都在链接里面", "楼主可以试试用 workman", " workman 纯 php 实现的,效率没 swoole 这个纯 c 写的扩展高", "new memcache 应该在 workerstart 里 new  每一个进程共用一个就 ok 不应该 来一条消息 new 一个。\r", "websocket 本身支持二进制协议 没必要用 json 传了吧。\r", "\r", "另外没太明白你写这么简单的例子就实现了个群发功能连一对一的也没有到底要干嘛。。。例子的话 人作者分享了啊\r", " 感谢提议,本就是试验性的东西,就自己玩玩,公布出来也是为了讨论,兴许就会有人有更好的方案", "接入网关\r", "群组\r", "一对一 都写完了再贴。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Laravel 官方最新推出专门为 Mac 打造的极简主义开发环境——Valet，与 Homestead 相比更加轻量级、速度更快、消耗内存更小（ 7M ），使用 Mac 的同学不妨一试：</p>\n<p>英文版：<a href=\"https://laravel.com/docs/master/valet\" rel=\"nofollow\">https://laravel.com/docs/master/valet</a></p>\n<p>中文版：<a href=\"http://laravelacademy.org/post/4147.html\" rel=\"nofollow\">http://laravelacademy.org/post/4147.html</a></p>\n</div></div>"], "reply": "3", "tittle": "Laravel 推出 Mac 版极简主义开发环境 Valet", "comment": ["valet n. 贴身男仆；用车的人；伺候客人停车\r", "啧啧啧~", "不如自已装个虚拟机 make 自行编译 需要什么安装什么 也不用天天看着人家的更新 天天去下载 vbox 文件.", "为啥同样内容的帖子，另一个的回复比这个多多了，而这个帖子发布时间更早…… \r", "我猜是头像的问题(~_~;)"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>Vagrant assumes that this means the command failed!                                                   \n\nmount -o 'actimeo=1' 192.168.10.1:'/home/yhylord/code/repo' /home/vagrant/Code\n\nStdout from the command:\n\n\n\nStderr from the command:\n\nmount.nfs: access denied by server while mounting 192.168.10.1:/home/yhylord/code/repo\n</code></pre>\n<p>Google 过，尝试<code>exportfs -a</code>和重启 nfs-server 等，均无效。\n手动试了一下那句<code>mount</code>，提示 Mountpoint doesn't exist.</p>\n</div></div>"], "reply": "1", "tittle": "[求助] Homestead NFS Mounting Access Denied by Server", "comment": ["我记得是要安装 virtualbox 的增强工具"]},
{"content": ["<div class=\"topic_content\">编译时参数\r<br>--with-gd --with-jpeg-dir --with-png-dir=/usr/include/libpng12 --with-freetype-dir=/usr/local/freetype\r<br>\r<br>checking for GD support... yes\r<br>checking for the location of libvpx... no\r<br>checking for the location of libjpeg... yes\r<br>checking for the location of libpng... /usr/include/libpng12\r<br>checking for the location of libXpm... no\r<br>checking for FreeType 2... /usr/local/freetype\r<br>（其他省略）\r<br>\r<br>\r<br>phpinfo 输出时 GD 一栏中不出现 Freetype 的选项，求解如何正确配置？\r<br>php 版本 5.6.X</div>"], "reply": "4", "tittle": "请问如何开启 Freetype？编译时已经启用 gd 和 Freetype", "comment": ["带参数是第二次编译么？编译前 make clean, 编译后 make install ，还有是不是忘了重启 php-fpm?(", " 必须重启过啊～没有效果，很诡异，系统是 Centosx64", " 试试看`php -i | less`看看 CLI 里面的 GD 带不带 freetype ，是不是 fpm 配置的问题，或者 fpm 的 php 和你编译的 php 不是一份之类的", " php-fpm -i\r", "FreeType Support => enabled\r", "FreeType Linkage => with freetype\r", "\r", "原来一直是支持的\r", "可是 phpinfo 就是不显示，相应的函数也没法调用。\r", "\r", "php 的安装过程很标准，就是源码编译安装，后启动 php-fpm ， server 是 Nginx"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>今天看 laravel 的视频的时候，里面有个这样的错误提示页面，不知道这个页面怎么开起的？\n<a href=\"http://ww1.sinaimg.cn/mw690/60bde9edjw1f3qhbvb2bvj20rn0hg0wm.jpg\" rel=\"nofollow\">http://ww1.sinaimg.cn/mw690/60bde9edjw1f3qhbvb2bvj20rn0hg0wm.jpg</a></p>\n</div></div>"], "reply": "4", "tittle": "laravel 的这种错误提示页面怎么开启？", "comment": ["conf/app.php debug true", "这个是 4.x 的版本才有的吧", "laravel5 这样设置\r", " 啊，这样啊，谢谢啦~"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>一个简单的 web 服务器，支持 php</p>\n<p>地址： <a href=\"https://github.com/jaykizhou/php-server\" rel=\"nofollow\">https://github.com/jaykizhou/php-server</a></p>\n<p>欢迎 v 友 star &amp; 赐教！</p>\n</div></div>"], "reply": "35", "tittle": "实现了一个简单的 web 服务器，拿出来晒晒", "comment": ["cool", " 哈哈， 3Q", "NBlity", "不会是实验楼的那个吧", "  这都能遇到熟人，~_~", " 抱拳", "star", "牛逼呀", "star,  都是高人", "同时参考 csapp 写的，之前搞了个 wsgi 的，不过还有 N 多 bug 没修。。。\r", "地址 ： ", "\r", "我的[博客](woodrat.xyz)里面有详细介绍", " 同是打成了同时。。。。", "请教一下，写一个类似的 wsgi 服务器的话，应该看些什么呢？并非 c 语言程序员， c 只有学校教的水平", " 感谢", " 抱拳", " 哈哈， see  see", "LZ 是不是参考了 CS:APP 那本书，看着有些函数名很像。", " 我写过一篇关于这个的[博客]( ", " )\r", "主要参考 ", " 和 PEP 333 。\r", "如果你要用 C 写的话可以参考一下 ", " 这个库", "牛，赞楼主！", "  点头", " 感谢，哈哈", "我理解就是把 fastcgi 封装成了 http ？", " fastcgi 定义了 web 服务器与 php 解释器之间的通信协议规范，建立在 tcp 协议上，可以看成与 http 一样同属应用层协议，就像 http 定义了客户端与 web 服务器之间的通信协议规范", "那儿有部署好的可以看看的？", "之前自己也搞了一个，设想在嵌入式设备中运行，现在改成代码同步工具。 觉得 web 服务器重点的实现在于内存管理、连接的管理，如果使用 c 写建议封装字符串的操作。", " 没有现成部署好的， sorry", " 同意，不过我的实现比较简单，没这么复杂", "不错。", "实现服务器支持 PHP 、 Python 等还是挺容易的~ \r", "\r", "支持楼主，希望楼主继续完善~", "已 start ，不错，赞个", "挺牛逼", " 哈哈，谢谢", " 感谢， 抱拳", " 抱拳", " 至少追加个多进程，要不然一个长耗时的连接过来就 gg 了", " 的确是，目前也实现了一个多进程版本的， ", " ，由于实现的比较粗糙，所以没有说明出来，后续完善吧"]},
{"content": "", "reply": "25", "tittle": "请问 WP_Image_Editor_Imagick 漏洞该怎么检测和修复？", "comment": ["Rewordpress WPImageEditorImagick 指令注入漏洞\r", "在 /wp-includes/media.php 的_wp_image_editor_choose 函数内部找到： \r", "$implementations = apply_filters( 'wp_image_editors', array( 'WP_Image_Editor_Imagick' ,  'WP_Image_Editor_GD' ) ); \r", "修改为下面这行：（即调换最后数组的顺序） \r", "$implementations = apply_filters( 'wp_image_editors', array(  'WP_Image_Editor_GD' ,'WP_Image_Editor_Imagick' ) );", "这也叫修复？求别误导别人。\r", "该漏洞真正的原因与 WordPress 无关，是 ImageMagick 的漏洞，也就是\r", "CVE-2016-3714 ， Insufficient shell characters filtering leads to (potentially remote) code execution ，即不完善的 Shell 字符过滤导致（有可能远程）代码执行。\r", "CVE-2016-3718 ， SSRF ，全称 Server-Side Request Forgery ，即“服务器端请求伪造”漏洞。\r", "CVE-2016-3715 ， File deletion ，文件删除。\r", "CVE-2016-3716 ， File moving ，文件位置移动。\r", "CVE-2016-3717 ， Local file read ，本地文件读取。\r", "这些。正确的方法是联系主机商升级 ImageMagick 的版本来修复漏洞，而不是通过调整 GD 库的优先级来做。如果主机没有装 GD 库的话，这个顺序调整根本没用。", " 如果是自己的服务器，请问怎么升级 ImageMagick 呢？谢谢", "我装了 wp 但是我的主机里 rpm -qa |grep ImageMagicK 未显示安装", "在 “/etc/ImageMagick/policy.xml ” 文件中添加如下代码：\r", "\r", "<policymap>\r", "  <policy domain=\"coder\" rights=\"none\" pattern=\"EPHEMERAL\" />\r", "  <policy domain=\"coder\" rights=\"none\" pattern=\"URL\" />\r", "  <policy domain=\"coder\" rights=\"none\" pattern=\"HTTPS\" />\r", "  <policy domain=\"coder\" rights=\"none\" pattern=\"MVG\" />\r", "  <policy domain=\"coder\" rights=\"none\" pattern=\"MSL\" />\r", "</policymap>", " 我的服务器上没有 /etc/ImageMagick/policy.xml 这个文件，怎么办？", " \r", "\r", "我已经在 ", " 回复过了，安装更新即可\r", "openSUSE 13.2 ， Leap 42.1 以及 SUSE Linux Enterprise 可以通过安装发布的安全更新来解决\r", "-  openSUSE Leap 42.1:\r", "     \r", "      zypper in -t patch openSUSE-2016-574=1\r", "\r", " - openSUSE 13.2:\r", "\r", "      zypper in -t patch openSUSE-2016-569=1\r", "\r", "- SUSE Linux Enterprise Workstation Extension 12-SP1:\r", "\r", "      zypper in -t patch SUSE-SLE-WE-12-SP1-2016-733=1\r", "\r", "   - SUSE Linux Enterprise Workstation Extension 12:\r", "\r", "      zypper in -t patch SUSE-SLE-WE-12-2016-733=1\r", "\r", "   - SUSE Linux Enterprise Software Development Kit 12-SP1:\r", "\r", "      zypper in -t patch SUSE-SLE-SDK-12-SP1-2016-733=1\r", "\r", "   - SUSE Linux Enterprise Software Development Kit 12:\r", "\r", "      zypper in -t patch SUSE-SLE-SDK-12-2016-733=1\r", "\r", "   - SUSE Linux Enterprise Server 12-SP1:\r", "\r", "      zypper in -t patch SUSE-SLE-SERVER-12-SP1-2016-733=1\r", "\r", "   - SUSE Linux Enterprise Server 12:\r", "\r", "      zypper in -t patch SUSE-SLE-SERVER-12-2016-733=1\r", "\r", "   - SUSE Linux Enterprise Desktop 12-SP1:\r", "\r", "      zypper in -t patch SUSE-SLE-DESKTOP-12-SP1-2016-733=1\r", "\r", "   - SUSE Linux Enterprise Desktop 12:\r", "\r", "      zypper in -t patch SUSE-SLE-DESKTOP-12-2016-733=1", "修复的具体内容如下：\r", "\r", "This update for ImageMagick fixes the following issues:\r", "\r", "   Security issues fixed:\r", "   - Several coders were vulnerable to remote code execution attacks, these\r", "     coders have now been disabled by default but can be re-enabled by\r", "     editing \"/etc/ImageMagick-*/policy.xml\" (bsc#978061)\r", "   - CVE-2016-3714: Insufficient shell characters filtering leads to\r", "     (potentially remote) code execution\r", "   - CVE-2016-3715: Possible file deletion by using ImageMagick's 'ephemeral'\r", "     pseudo protocol which deletes files after reading.\r", "   - CVE-2016-3716: Possible file moving by using ImageMagick's 'msl' pseudo\r", "     protocol with any extension in any folder.\r", "   - CVE-2016-3717: Possible local file read by using ImageMagick's 'label'\r", "     pseudo protocol to get content of the files from the server.\r", "   - CVE-2016-3718: Possible Server Side Request Forgery (SSRF) to make HTTP\r", "     GET or FTP request.\r", "\r", "   Bugs fixed:\r", "   - Use external svg loader (rsvg)", "如果是自己用的 wordpress ，不用太紧张，因为漏洞需要 author 及以上权限。", "\r", "\r", "使用 imagemagick 前检测文件 signatures （不要用 imagemagick 自身来检测文件类型）\r", "比如使用 php 读取文件前几字节判断是否是你需要处理的图片（ ", " ）\r", "\r", "policy.xml 最好也一并加一下。", "摘自： ", "\r", "0x04 漏洞修复\r", "\r", "关于这个漏洞影响 ImageMagick 6.9.3-9 以前是所有版本，包括 ubuntu 源中安装的 ImageMagick 。而官方在 6.9.3-9 版本中对漏洞进行了不完全的修复。所以，我们不能仅通过更新 ImageMagick 的版本来杜绝这个漏洞。\r", "\r", "现在，我们可以通过如下两个方法来暂时规避漏洞：\r", "\r", "处理图片前，先检查图片的 \"magic bytes\"，也就是图片头，如果图片头不是你想要的格式，那么就不调用 ImageMagick 处理图片。如果你是 php 用户，可以使用 getimagesize 函数来检查图片格式，而如果你是 wordpress 等 web 应用的使用者，可以暂时卸载 ImageMagick ，使用 php 自带的 gd 库来处理图片。\r", "使用 policy file 来防御这个漏洞，这个文件默认位置在 /etc/ImageMagick/policy.xml ，我们通过配置如下的 xml 来禁止解析 https 等敏感操作：\r", "——\r", "\r", "<policymap>\r", "  <policy domain=\"coder\" rights=\"none\" pattern=\"EPHEMERAL\" />\r", "  <policy domain=\"coder\" rights=\"none\" pattern=\"URL\" />\r", "  <policy domain=\"coder\" rights=\"none\" pattern=\"HTTPS\" />\r", "  <policy domain=\"coder\" rights=\"none\" pattern=\"MVG\" />\r", "  <policy domain=\"coder\" rights=\"none\" pattern=\"MSL\" />\r", "</policymap>", "主机里有 wp ，但是 /etc/ImageMagick 根本没有这个文件夹，但是阿里云的什么什么漏洞扫描就扫出来 有 WP_Image_Editor_Imagick 这个漏洞。  请问这咋修复啊。 阿里云这招儿挺操蛋的", " 先看完我上面回复的两篇文章，最重要的是看一下自己是不是用 imagemagick 的，因为一般 wp 、 dz 都是用 gd 来处理的，阿里云误报也不是什么稀奇事。", " 请问怎么看自己是不是用 imagemagick ？", "阿里云扫的应该是 convert 程序，只要安装了 ImageMagick 就会有 convert 程序。\r", "检查办法是执行 convert -v 看看版本。", " 我怎么感觉阿里是直接扫代码目录找 media.php 文件呢->_->", " \r", "convert -v\r", "bash: convert: command not found\r", "这是？", " 但是我有上传头像。。", " 没有安装。", " 我觉得是扫 php 测试完后那个我就删了。", " 你进阿里云的安骑士补丁页面，看一下详细描述，就是采用了楼上所说的让 G D 库进行优先处理的方案。", " 感谢。 看来阿里云就是用这种方式。。。全体扫描了一下，然后收费做这个。。临时修复。", " \r", " 也有可能，不过毕竟我不用阿里云，也没法研究到底是扫什么。不过扫 php 是完全错误的做法，这个漏洞的叫法也是完全错误的。\r", " 这表示你没装 ImageMagick ，不会受漏洞影响。除非你是编译安装的，没装到默认 $PATH 里。"]},
{"content": ["<div class=\"topic_content\">我平时开发中小型项目只用到了单一 Model 层，请问 logic 和 service 层这两个层是干啥用的？\r<br>我百度过相关内容，都是直接照着官方手册抄了一遍，也没具体说清楚这两个层究竟是干什么用的，能否举个例子说明一下？\r<br>另外还有控制器层的 behavior 层又是干啥用的，同求解答。</div>"], "reply": "4", "tittle": "请问 thinkphp 中模型层的 logic 和 service 层是用来放置什么代码的？", "comment": ["同问", "control 层业务逻辑大的时候，做功能逻辑拆分到 logic ，\r", "service 层做 SOA 服务化之类的或者第三方 api 交互的逻辑。\r", "\r", "以上仅为个人当前项目使用规则，不局限，只要达到项目结构更加清晰即可。", "首先手册上应该有交代讲过的呢。\r", "\r", "同意 @", " 楼上！估计也是直接趴的手册哈！", " 请问 service 就是用于写 A 模型调用 B 模型或者 A 模型调用某个 web service 的源代码（类似于 curl 请求等等）在里面吗？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如果说国际上无疑是 laravel ，但是考虑到中国特色，不知道国内足球流行的 php 框架是什么？ thinkphp 吗？</p>\n</div></div>"], "reply": "46", "tittle": "请问现在国内最流行的 php 框架是什么？", "comment": ["thinkphp", "yii 也比较多", "dedecms", " 为什么 thinkphp 比较多呢？仅仅是出现的早吗", "discuz", " \r", "我猜，因为文档是中文的", " \r", "   dedecms  discuz 就不能算是 PHP 框架   它就是个开源程序\r", "\r", "Ci 也不少", "国际也未必， 霓虹应该 cakephp 比 laravel 用得多.", "CI", "ThinkPHP 吧。", "面了一堆 php 开发，都是只用 tp 的。", "tp 吧，入门快 会的人多\r", "ci 也不少", "Ci +1", " 菜逼多 培训机构教 tp", "月经贴", "流行多的就是菜的,不然没法装逼", "竟然还没人说 Laravel ，但是大型项目好多都在用。", "二三线的  thinkPHP 比较多   一线的 正在向 laravel  symfony2 靠拢", "Ci", "主要还是 TP 中文文档多，二三线的城市招个 3k 工资的就能用。\r", "\r", "yii2 应该也不错吧， laravel 还是得看运维配合不。", "我觉得吧,别用 laravel,优雅效率低,yii 还不错\r", "laravel 写接口的还是算了,压测得吐血,用 go 一步到位", "thinkphp 吧，入门简单", " yii 效率也高不到哪里去- -  laravel 本来就不是为了写接口设计的吧。 golang 写接口到时爽", "tp", "中下型 phper 用 tp ，高级 phper 用 laravel", "国内 thinkphp", "thinkPHP 的文档写得极其不专业，\r", "能精通 thinkPHP 实在不容易", "国内足球不是流行 4-2-3-1 吗，楼上说的尽是什么...", "国内依然目前是 tp 横行，但 laravel 逐渐有起色：\r", "\r", "<blockquote class=\"imgur-embed-pub\" lang=\"en\" data-id=\"dlx62xq\"><a href=\"//imgur.com/dlx62xq\">View post on imgur.com</a></blockquote><script async src=\"//s.imgur.com/min/embed.js\" charset=\"utf-8\"></script>", "[Imgur]( ", ")", "CI 已经被踢出框架圈了吗……比 tp 还惨？", " 这是在哪里看的？", "同问楼上", "yii2 ，开发非常快，很灵活优雅，入门简单，不过要深入的话有点门槛", " \r", " \r", "\r", "百度指数。", "laravel 是世界上最好的 php 框架，没有之一。\r", "如果要效率的话，可以用 laravel 的精简版 lumen ，专为效率而生。\r", "lumen 还可以平滑升级到功能多的 laravel 。", "CI 现在跟 laravel 差不多了，毫无特色的感觉", "推荐使用 symfony 2,3  框架王者！", "symfony  laravel", "我猜是因为 thinkphp 有 chm 格式的帮助文档", " 这名字起的，跟持续集成同一个名字。。。。", " @", "  google trend", " 主要还是因为有中文文档", " 具体哪里不是很专业？", " 目前有哪些大型项目在用 laraval ，给个链接我去参观参观，还有就是他们运行效率问题是怎么解决的？", "说 dedecms 的 6666 得不行", "难道没有 kohana ？？？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>今天在群里有同学反映有人在淘宝直接售卖 laravist 的视频，公然盗版。</p>\n<p>然后我做了什么：</p>\n<p>所有我能想到的证据，截图我都收集了，然后在淘宝举报了，再收集了包括卖家的真实姓名， qq 号，手机号，地址等</p>\n<p>实在私下解决不了，对于这种行为，直接走法律程序咯。</p>\n<p>坐等看看你的下架是否迅速。</p>\n<p>盗版链接： <a href=\"https://item.taobao.com/item.htm?spm=a230r.1.14.3.D10YI8&amp;id=530141859139&amp;ns=1&amp;abbucket=6#detail\" rel=\"nofollow\">https://item.taobao.com/item.htm?spm=a230r.1.14.3.D10YI8&amp;id=530141859139&amp;ns=1&amp;abbucket=6#detail</a></p>\n<p>截图：</p>\n<p><img alt=\"\" src=\"https://wt-prj.oss.aliyuncs.com/0d06af79c49d4e08abb1ab3f7ab6e860/d1c25e34-a9a2-4d48-881e-0dfd2e62122d.png\"></p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><h3>事情的第二天</h3>\n<p><strong>昨晚跟对方协商过：提出的要求是停止侵权，并将这22笔的交易额全部赔偿给我。</strong></p>\n<p>然后。。。</p>\n<p><img alt=\"\" src=\"https://o0dpls1ru.qnssl.com/IMG_0483.PNG\"></p>\n<p>目前为止，对方已修改qq头像，清空了空间相册（本来有他本人的照片哦）。</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><h3>不管楼下怎么歪，这个身正不怕影子斜。BTW，我已经申请起诉状了</h3>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><h1>经过协商，双方私下已达成和解。事件算是解决了，感谢大家的关注</h1>\n</div></div>"], "reply": "119", "tittle": "laravist 视频遭遇公开盗版侵权，大伙支支招？", "comment": [" “整顿群内的盗版，有错？\" \r", "这口号喊的，振臂一呼的感觉。\r", "\r", "请问，谁说你有错了？\r", "\r", "\r", "顺便问下，我的逻辑真的不好？\r", "楼主打击盗版---->此人顺藤摸瓜找个楼主弱点，群里没管理好。\r", "\r", "作为一个普通的国人，用正常的思维十分好奇：为啥此人会管那么宽，都管到人家群里了？只有 2 种情况：\r", "1 、此人就是那个倒卖者，在这想混淆视听模糊焦点，想得出楼主其实也不是什么好东西。从而让别人觉得他盗卖行为不是那么无耻。\r", "2 、此人是个道德帝，吃饱了撑的，就喜欢管那么宽。就喜欢没事站在一个“高度”来指出别人的问题。\r", "\r", "其他情况，我真想不出来。灰常正常的逻辑推理， 1 秒钟推测到。\r", "\r", "不过其实我的回复跟逻辑没啥关系，我主要是看到一个人受伤 [的时候] ，另一个人调出来说：其实你以前如何如何 [差] 。我理解就是：落井下石。\r", "\r", "\r", "————————————————————————————————\r", "另外我想问下：成天看着美剧日剧跑出来喊“ “整顿某群内的盗版“的到底是不是道德帝？", "翻页?", " “整顿群内的盗版，有错？\" \r", "这口号喊的，振臂一呼的感觉。\r", "\r", "请问，谁说你有错了？\r", "\r", "\r", "顺便问下，我的逻辑真的不好？\r", "楼主打击盗版---->此人顺藤摸瓜找个楼主弱点，群里没管理好。\r", "\r", "作为一个普通的国人，用正常的思维十分好奇：为啥此人会管那么宽，都管到人家群里了？只有 2 种情况：\r", "1 、此人就是那个倒卖者，在这想混淆视听模糊焦点，想得出楼主其实也不是什么好东西。从而让别人觉得他盗卖行为不是那么无耻。\r", "2 、此人是个道德帝，吃饱了撑的，就喜欢管那么宽。就喜欢没事站在一个“高度”来指出别人的问题。\r", "\r", "其他情况，我真想不出来。灰常正常的逻辑推理， 1 秒钟推测到。\r", "\r", "分隔符\r", "\r", "我想表达的\r", "其实我的回复跟逻辑没啥关系，我主要是看到一个人受伤 [的时候] ，另一个人调出来说：其实你以前如何如何 [] 。我理解就是：落井下石。平生最看不起这种人。\r", "\r", "\r", "————————————————————————————————\r", "另外我想问下：成天看着美剧日剧跑出来喊“ “整顿某群内的盗版“的到底是不是道德帝？\r", "\r", "还想问下：说了一个人一个术语道德帝，就被一个人冒出来说：病得不轻，污染空气，无脑，胡搅蛮缠。这个人怎么了？", " 就算我用盗版，也貌似和楼主的维权行为一点关系都没有。我们讨论的是楼主的维权问题，你口我有什么意义呢。", " 正是因为把原作者几个很高的东西，卖的价格很低，所以说给原作者造成了损失，你别管那些人是否本来愿意买，损失就是损失。", "看了一下评论。。。\r", "双向标准嘛。。对自己是一套，对别人是另一套。。。", " 直接 DMCA 投诉 github 就好了吧", " 这帖子越来越歪了，已经开始对楼主进行“道德”审判了。双重标准这么定义的啊？是这意思么？\r", "\r", "\r", "人家拿了你的代码出售。\r", "你：为啥偷我代码？\r", "对方：你硬盘你那些美剧，动作片都有，我为啥不能拿你代码？你这是双重标准吗。\r", "\r", "对方不能这么说吧？", " 你希望把所有截图放出来？反正我已经正式申请起诉状了", "看了下评论,感觉扣帽子才是咱们的传统文化啊,先扣再说.", " \r", "\r", "你可以将与案件相关的、去除隐私部分的内容放出来。\r", "\r", "起诉的时候你可以按照 22 份视频在官方网站的原价申请赔偿，毕竟你以为这样的盗版行为蒙受了损失，而不应该按照他出售的价格进行赔偿。\r", "\r", "保留好你的证据，证明你视频原本的出售价格并且你是视频版权的所有人，然后找一个版权律师协助你起诉。\r", "\r", "有的时候追回损失不是最重要的，重要的是惩罚作恶的人。", " 恩，到时候再看嘛。", "> 有的时候追回损失不是最重要的，重要的是惩罚作恶的人。", " 嗯，私下解决不了，就基本进入正规的法律程序了", " 同意\r", "有的时候追回损失不是最重要的，重要的是惩罚作恶的人。", " 本来只是表达我看到的东西，无意冒犯和卷入撕逼什么的，事情很简单，解释清楚就好。\r", "\r", "之前给你小窗出于建议，没有管的意思，希望明白，只是想整个事情往正面发展。\r", "\r", "后面思索了我有欠考虑的地方，我应该问下后面的处理结果，对此表示歉意。", " 真不好意思，我真就是用 mac ， windows 也是大学时买的学生特惠 win8 升的 win10.  毛片我有 dmm 月额会员。 还想问什么？\r", "有的人自己吃屎就坚定地认为吃屎对，还以为别人也都吃。", " 真不好意思，我真就是用 mac ， windows 也是大学时买的学生特惠 win8 升的 win10. 毛片我有 dmm 月额会员。 还想问什么？ \r", "____________________\r", "屎都出来了。。满嘴屎尿的，干嘛呢？你想证明什么?憋了多久了，才有个机会告诉别人：你用的是 mac ，从不下毛片，自己有毛片会员？\r", "\r", "既然你满嘴屎啊屎的，我就回复你一句吧，我对着路边只哈士奇说，吃屎的东西，另一只吉娃娃跑出来：老子从不吃屎。", " 心平气和的回复你把。你知道这在谈什么么？你是选择性的挑了一句话 “成天看着美剧日剧跑出来喊“ “整顿某群内的盗版“突然发现可以证明自己了？\r", "\r", "好吧你都花钱，你纯洁无暇，你就可以这样？\r", "\r", "1 、站在一个高度“指点”别人。\r", "2 、在别人“受伤”的时候，“指点”别人。\r", "\r", "\r", "你你有什么用什么，货开哦。你有毛片会员，你就有资格来没事“指点”别人非会员了？开着法拉利可以对着货车司机说你是个撸瘦了？球不是这么踢地，人不是这么做地。"]},
{"content": ["<div class=\"topic_content\">写代码时发现一条 sql 执行不正常，其中一个 where 条件中的反斜杠被当成了转义符，在 laravel 中如何忽略转义执行 sql.</div>"], "reply": "6", "tittle": "laravel 如何处理 sql 转义", "comment": ["DB::raw", "这不是 laravel 的问题吧，可以试着把一个反斜杠替换成两个反斜杠.", "加一条反斜杠", "加一条反斜杠", " \r", " \r", "因为最开始拿到项目的时候权限模块是直接将 laravel 的命名空间以字符串形式保存在数据库里的，所以在做权限判断的时候因为这个反斜杠的问题非常尴尬，除了批量替换数据之外有其他的办法可以处理吗，比如 laravel 是否有忽略字符串忽略转义的方法", "据我所知 \\ 并不影响查询，你的反斜杠真的是被 laravel 转义了吗？\r", "\r", "你可以在 sql 中加入 sleep(10)  然后在 mysql 中只想 show full processlsit; 查看实际执行的 sql 是什么"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>这种方式的配置可以使用 delete ， put 等方法了，但是只能访问 <a href=\"http://rest.website.com/,%E5%85%B6%E5%AE%83%E8%B7%AF%E5%BE%84%E4%B8%8D%E8%83%BD%E8%AE%BF%E9%97%AE\" rel=\"nofollow\">http://rest.website.com/,其它路径不能访问</a></p>\n<pre><code>server {\n  listen        80;\n  server_name   rest.website.com;\n  root          /website/public/;\n  index         index.php;\n  location / {\n    include         fastcgi.conf;\n    fastcgi_index   index.php;\n    fastcgi_pass    127.0.0.1:9000;\n  }\n}\n</code></pre>\n<p>这种方式可以访问其它路径，但是不能用 delete ， put 等方法,只要 nginx 认为是访问的文件，就不能使用 delete ， put 等方法</p>\n<pre><code>server\n{\n        listen          80;\n        server_name     rest.website.com ;\n        index           index.php;\n        root            /website/public/;\n        location / {\n            try_files $uri $uri/ /index.php$is_args$args;\n        }\n        location ~ .*\\.php?$ {\n            try_files $uri =404;\n            fastcgi_index index.php;\n            include fastcgi.conf;\n            fastcgi_pass 127.0.0.1:9000;\n        }\n}\n</code></pre>\n<p>搜索了一大圈没找到要怎么配置</p>\n</div></div>", "<div class=\"topic_content\">昨天搞了一天，第二种方法不行，今天居然又可以了。。。</div>"], "reply": "2", "tittle": "Nginx+PHP-FPM 的怎么配置让它支持 RESTFul？", "comment": ["无责任建议尝试一下 error_page 403 404 /index.php;\r", "\r", "写在 location {} 之外", "全部由 index.php 处理么？\r", "加上\r", "fastcgi_param SCRIPT_FILENAME /full/path/to/index.php;\r", "或者直接全局 rewrite 到 /index.php"]},
{"content": ["<div class=\"topic_content\">工作地点：深圳市山科技园\r<br>网站： <a target=\"_blank\" href=\"http://www.shenzhenpoly.com\" rel=\"nofollow\">www.shenzhenpoly.com</a>\r<br>招聘微信： 437292092\r<br>\r<br>\r<br>职位描述：\r<br>\r<br>1 、参与项目需求分析，负责系统的设计与开发工作；\r<br>\r<br>2 、按照项目进度要求完成功能模块的开发和单元测试工作；\r<br>\r<br>3 、根据公司业务发展需要开发并改进应用平台功能；\r<br>\r<br>4 、能与测试人员协作，对反馈的需求或 BUG 进行相应处理；\r<br>\r<br>5 、参与团队技术交流和分享活动，促进团队共同进步。\r<br>\r<br> \r<br>\r<br>岗位要求：\r<br>\r<br>1 、计算机或相关专业,本科及以上学历， 3 年以上研发相关开发经验， 1 年以上手机 APP 接口开发经验；\r<br>\r<br>2 、专业经验要求：\r<br>\r<br>1 ）精通 PHP 程序开发，熟悉面向对象编程，有 PHP 框架如 ThinkPHP 、 YII 、 CI 等使用经验；\r<br>\r<br>2 ）精通 mysql 、 nosql 数据库，精通数据库优化，并具备优秀的数据库设计能力；\r<br>\r<br>3 ）熟悉 memcached 、 redis 等缓存技术，对大并发量下的数据缓存、系统优化有着自己的理解；\r<br>\r<br>4 ）熟悉 Ajax 、 JSON 、 JQuery 、 Smarty 、 Javascript 、 CSS3 等技术；\r<br>\r<br>5 ）熟悉 LNMP 架构，对 web server 调优有实操经验者优先，有运维经验者优先；\r<br>\r<br>6 ）熟悉 TCP/IP 、 HTTP 协议者，，有大访问量系统开发或数据库优化经验，了解至少一个大型互联网产品的架构设计，架构设计经验优先 ；\r<br>\r<br>3 、拥有良好的代码习惯，要求结构清晰，命名规范，逻辑性强，复用率高，代码冗余率低。\r<br>\r<br>4 、逻辑思维能力强，责任心强，工作积极主动，具备强烈的进取心和良好的团队合作精神，有较强的沟通及协调能力，有独立解决问题能力。</div>"], "reply": "6", "tittle": "保利物业集团诚聘 php 开发工程师", "comment": ["这是来求吐槽的么", "保利不是卖军火的吗！", "保利不是卖军火的吗！", "保利不是卖军火的吗！！", "修电脑都要 php 了！", "物业都开始做开发了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>PHPMySQL重复加载</p>\n</div></div>"], "reply": "4", "tittle": "PHPMySQL 重复加载", "comment": ["favicon.ico ？看看浏览器都发出了什么请求。", " 谢谢，找到了， ajax 后端文件没有简化。", "用的什么浏览器？据我所知某些国产浏览器会以优化页面加载速度为由进行预加载，然后 GET 请求可能会有多次 囧~\r", "以前就被此坑过。  \r", "\r", "LZ 可以看看服务器的 access.log 日志是不是有多条请求？", " 谢谢，原因找到了，有一个 ajax 文件和主程序用的同一个初始代码，导致封号等功能重复加载。感谢回复"]},
{"content": ["<div class=\"topic_content\">import struct\r<br>import binascii\r<br>print struct.unpack('&lt;Q', binascii.unhexlify('b2bf98ce44010000'))</div>"], "reply": "2", "tittle": "请教，如何将 Python 代码： struct.unpack('<Q', binascii.unhexlify('b2bf98ce44010000')) 翻译成 PHP？", "comment": ["\r", "php 也能 unpack 二进制数据啊", " \r", "嗯，忘记说了， unpack 在 5.6 之前不支持 P 参数，也就是 int64\r", "\r", "我一直在 5.5 的环境弄的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>7 个月前为 <a href=\"http://simpleforum.org\" rel=\"nofollow\">http://simpleforum.org</a> 写的 qq/微博 /微信登录程序，\n被人改个作者名原封不动的提交给了 Yii 官方。</p>\n<p>所说是开源的哦，虽说是 MIT License ，你好歹稍微加点自己的东西啊！</p>\n<p>我的\n<a href=\"https://github.com/yujiandong/yii2-authclient\" rel=\"nofollow\">https://github.com/yujiandong/yii2-authclient</a></p>\n<p>Yii 官方的\n<a href=\"https://github.com/yiisoft/yii2-authclient/tree/master/clients\" rel=\"nofollow\">https://github.com/yiisoft/yii2-authclient/tree/master/clients</a></p>\n<p>提交者的\n<a href=\"https://github.com/xutongle/yii2-authclient\" rel=\"nofollow\">https://github.com/xutongle/yii2-authclient</a></p>\n</div></div>"], "reply": "131", "tittle": "今天被恶心到了， Yii 的 qq，微博，微信登录组件程序被人提交到了 Yii 官方", "comment": ["翻页。", "当事人完全没歉意，更可耻的是要理论干嘛不光明正大的理论，却装路人甲为自己伸张，被认出来了还继续硬装。", "我眼睛太模糊了，看不太清，\r", "好像就看到以下关键字\r", "\r", "济南网站建设 \r", "天智软件 \r", "山东益众文化传媒有限公司\r", "zhidc\r", "xutongle\r", "\r", "\r", "另外我很关心这件事情怎么样了， 他们家做的网站好不好，服务态度好不好。\r", "\r", "据说最新又出了一件特别惊动的抄袭事件，是什么呢？", "怎么没人搞个网站，类似 FFmpeg 的耻辱柱，把不遵守开源协议的、品行恶劣的小偷公布在上面，公司永不录用人品有问题的人。", "支持楼主维权。另外这个抄袭者也真是智商感人。", " 哟，您上今日头条了", " 耻辱柱好评！这个主意不错！", " 整个贴看到就是你的稍微有点笑点😄   还有就是剧情有点长，头一次看了这么一个长篇小说", "打脸啪啪啪", "照着键盘 一巴掌拍下去,  一个好马甲就出来了...\r", "\r", "这可倒好 ......", "这直接加上作者就是解决版权问题了 ~~~", " 666 ，现在最新访问已经变为`2016-4-27 06:06`，而且所有信息都删光了", " ", "这个故事告诉我们，没事就去搜一下自己的 ID ，看到有以前的黑历史赶紧想办法处理。。。", "哎呦喂，这绝对要上热门，做错了事情就道歉呗。注册小号还不干净点。笑死我了。", "卧槽。。。济南的， 好丢人啊，还尼玛“网络暴力受不了”。。。整个济南的 it 收入这么低，终于找到原因了。。。 @", " 哥们你们的 leaps 挂了。有空去膜拜下你。。。", " ", " 在这个贴子回复的人都给骂了。", "好欢乐的帖子，解决版权问题笑死了", " \r", "这个人死不悔改，本来还接受他的道歉了。\r", "还满嘴谎言，把所有人都骂了。", "\r", "呃...", "真给济南人丢脸了,82#截图的\"自定义头衔\"\"讯腾软件\"什么鬼?还\"技术总监\".\r", "话说济南的互联网氛围是差一些,也不能就这样堕落吧", "哈哈哈，此地无银三百两，删了 sf 那个帖子不就是自证了嘛。", "这下你们理解站长不允许删帖的良苦用心了吧，哈哈", " 就是就是", "呵呵", "这帖还真是有意思，他是第一次来 V2EX 的吧", " 拜托，这根本不是什么“无意识”“习惯性”动作，你看他那个「解决版本问题」的 commit ，手动把 author 信息改成自己的，这能算“无意识”吗？", "好了好了, @", " 也许只是个未成年人呢, 大家给一点时间让他缓缓... \r", "以后不要再犯相似的错了, 乖, 回家把所有用的邮箱跟账号 id 都换了吧", "做为一个优雅的程序员 这个贴子我一定要回复一下.", "github 官方是否有类似的举报渠道，对于这种用户给予封号和全网亮相惩罚？", "支持博主"]},
{"content": ["<div class=\"topic_content\">province (省份表)\r<br>id \r<br>name\r<br>\r<br>city （城市表）\r<br>id\r<br>name\r<br>province_id\r<br>\r<br>hospital (医院表)\r<br>id\r<br>name\r<br>city_id\r<br>count （医生数量） \r<br>问：\r<br>利用 ORM 查出结果最好为一个树状结构，结构层次为下：\r<br>\r<br>省份\r<br>城市\r<br>医院（为医生数量大于 0 的医院）.\r<br>我自己想用 with （）拼出这个最后的结果，不过不知道怎么做.</div>", "<div class=\"topic_content\">自己已解决 删帖</div>"], "reply": "5", "tittle": "laravel ORM 实现树状结构 省份-城市-医院？", "comment": ["首先得搞清楚最后得到的是什么东西，一个树即有数据又有关系，样子肯定怪怪的。所以最后应该是 4 个东东，一个关系树， 3 个集合。", "eager loading?\r", "要不 LZ 先看看这个章节是不是你要的：\r", "一个表够了，遍历一次可以构造一个三维数组。\r", "不然就用 JOIN 。", "感谢楼上的作答，不过我已经用 laravel 中更加优雅的查找方式解决。", " 能分享下你是怎么解决的吗？非常感谢！顺便推荐个 Laravel 学习交流群 212423075"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>先上 demo 代码(phalcon 框架)：</p>\n<pre><code>    $phql   = \"UPDATE Cars SET price = 15000.00 WHERE name = 'focus'\";\n    $result = $manager-&gt;executeQuery($phql);\n    if ($result-&gt;success() == false) {\n        foreach ($result-&gt;getMessages() as $message) {\n            echo $message-&gt;getMessage();\n        }\n    }\n</code></pre>\n<p>通过监听 phalcon 的底层 SQL 生成，上述示例代码，会被解析成两个 SQL 语句：</p>\n<pre><code>    select * from cars where name='focus';\n    \n    #此处的 id=1 是根据上一条 select 返回记录的主键值\n    update cars set price=15000.00 where id=1\n</code></pre>\n<p>也就是说， PHQL 底层在执行 update 语句时，会先根据条件查询相关记录，再根据相关记录的主键值去更新数据。</p>\n<p>如果从查询优化的角度来说， 若是更新条件没有做索引处理，那必然会引起性能损耗。 PHQL 底层自动转化为以主键为更新条件，这也算是规避了这种风险。\n但是从 SQL 执行的角度来看， 每一次更新操作，都需要执行两条 SQL ，这又算不算是另一种性能损耗了？\n不知道这种处理方式算不算是一个坑 ？</p>\n</div></div>"], "reply": "2", "tittle": "PHQL update 语法解析的疑问（ phalcon）", "comment": ["可以用原生的 SQL 代替", " 嗯。解决方式我知道。只是想探讨一下 phalcon 中 PHQL 这样设计是为什么"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>希望大家能多提提意见。</p>\n<p><a href=\"http://simpleforum.org/t/245\" rel=\"nofollow\">http://simpleforum.org/t/245</a></p>\n<p>github 地址：<a href=\"https://github.com/yujiandong/simpleforum\" rel=\"nofollow\">https://github.com/yujiandong/simpleforum</a></p>\n<p><img alt=\"SimpleForum\" src=\"http://7xnug4.com1.z0.glb.clouddn.com/upload/201604/25/1_AvtV81.png\"></p>\n</div></div>"], "reply": "27", "tittle": "SimpleForum v1.1.3 发布", "comment": ["赞赞", "PHP 方便部署", "很喜欢 很早就 start 了", "PHP 写的吗？", "支持 php7 吗？", "yii2 的框架做的，貌似！", "赞", "是 PHP YII2 框架，支持 PHP7 ，我现在就在用 ", " \r", "\r", " \r", " \r", " 恩，对的。 Yii 框架。", "刚用 go 写了一个 嵌入在闭源业务系统里了 等有时间拆出来开源一下", " \r", "支持，现在就跑着 php7", "赞！很棒", "编辑器很棒", "为啥不支持微信登陆？", " 自己写的 markdown 编辑器", " \r", "网站放在国外=>没法备案=>没法申请微信登录=>没法测试=>没法放出微信登录功能。\r", "其实接口什么都做好了", " 这个功能还是蛮实用的。", " \r", "恩，以后会支持的。", " 我表示作者的软件安装要求太高\r", "\r", "PHP 5.4.0 及以上\r", "必须安装 open_ssl 扩展  (这个要求太高了吧)\r", "很多虚拟主机和小白用户都没搞这个配置的.\r", "PHP 5.4.0 及以上(国内很多空间也没到这个程度).", " 这要求一点也不高好不……", " 相对国内虚拟主机,\r", "当然有 vps 的没问题", " 你的模版下载不了", " 这模板。。。", " \r", " 那是我在默认模板上修改的，可以下载了。\r", "我现在用的是精仿的，暂时没提供", " yii 比起 thinkPHP ，怎么样？", " 你的网站用的是什么程序呀？？？", " 就是楼主的程序啊，我只是仿了 v2 的模板"]},
{"content": ["<div class=\"topic_content\">现想 model 保存时，能将旧值和新值都保存在其它地方，如何写代码？</div>"], "reply": "3", "tittle": "laravel 如何得到 model 的旧值？", "comment": ["仿照一下懒删除，改写那个保存的逻辑，或者钩在保存前作保存旧值的操作。\r", "主要看目的，目的如果是监控变化的话……是吧，这个数据结构你可以简单给 model 扩充个链表结构的位置，新值指向旧值啥的……具体看需求，，，", "mode->getOriginal\r", "\r", "\r", "\r", "看下 model 的类定义就好了", "推荐个 Laravel 学习交流群 212423075"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如果是输出到标准输出为什么通过服务器启动会显示到浏览器中？</p>\n</div></div>"], "reply": "5", "tittle": "PHP 中的 echo 和 print 打印是输出到哪里？", "comment": ["去看下 ob_start 吧", "标准输出重定向到服务器，服务器再把输出通过 http 传输给客户端，客户端通过 Content-type 等 http 头，把结果画出来", "标准输出又不见得会打在屏幕上。你知道重定向么…", "sapi 的不同，标准输入输出也不同"]},
{"content": ["<div class=\"topic_content\">新浪微博图床貌似对 https 支持不咋地啊。经常就显示不出来。\r<br>免费的收费的，图床哪家强？</div>"], "reply": "25", "tittle": "支持 https 的图床推荐？", "comment": ["同问", "qiniu", "把 http 换成 https ww*换成 ws*", " 原来这样 谢谢", "同问支持 http2.0 的图床", "七牛云存储，免费 10G 流量。 SSL 1.2 倍资费。", " 这样支持 http2 吗", " 不兹瓷", "imgur 免费图床第一……", "直接用 AWS S3", "补充：\r", " QQ 空间相册、 Google Site 、 WikiMedia 、 NASA", "\r", "这个用起来请稍微珍惜一下，可别拿来传奇怪的图片（", " QQ 空间不是不支持外链吗？", " 喔喔", "七牛又拍都支持", "ver 1.2.0 Stable\r", "1. 增加 全站和外链的图片 都增加 SSL 协议的支持\r", "2. 增加 Markdown 外链格式\r", "3. 增加 图片 SSL 直链 格式\r", "\r", "\r", "\r", "外链直链\r", "\r", "\r", "\r", "\r", "证书\r", "CN = AlphaSSL CA - SHA256 - G2\r", "O = GlobalSign nv-sa\r", "C = BE", "其实百度就挺好的（支持外链）\r", " 这是从哪边上传的？", " 首页，搜索框的照相机，上传后的地址就是了。\r", "不知道有没有人打算做个「百度是个好图床」😁", " 的确不错，不过试了下不支持 gif 貌似", " 试一下减小体积， 500k 以下试一下。", " 就是 500k 以下的，动图会变成静态图", " 请再减小体积...可能要 100k 以下才可以。不过貌似就不支持 https 了\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"\" src=\"http://ww3.sinaimg.cn/large/4b7b98f0jw1f3zimm24anj208e02sdfu.jpg\"></p>\n<p>由开源研习社组织的 [ PHP 从入门到精通] 公益培训课程继续开课啦~</p>\n<p>PHP 作为使用最为广泛的 WEB 开发语言，在网站开发、 APP 服务端、微信开发等领域占据大部分市场； Facebook 、 Yahoo 、微博、百度、腾讯等公司都在使用 PHP ； PHP 入门简单，可快速实现你的创意想法，你值得拥有，学习！</p>\n<p><img alt=\"\" src=\"http://ww2.sinaimg.cn/large/4b7b98f0jw1f3zinj2eqbj20r90icn03.jpg\"></p>\n<p>[开源研习社] 作为一个致力于推动开源软件、开源硬件和创客运动的社群组织，将不断的推出技术类交流活动。</p>\n<p>[ PHP 从入门到精通] 采取学习小组的形式，公益课程共开两个小班，每个班 5 人。课程体系由 6 个课时组成，由 10 年 PHP 开发经验的大寻老师主讲。</p>\n<p>课程费用：公益免费</p>\n<p>课程时间： 2 周时间讲授+1 个月实战练习巩固。讲授 6 个课时，每次 1.5 个小时。</p>\n<p><img alt=\"\" src=\"http://ww4.sinaimg.cn/large/4b7b98f0jw1f3zinyw8uuj20g30aqgm5.jpg\"></p>\n<p>开课信息：</p>\n<p>小班①（工作日班）： 5 月 23 日晚 7:30-9:00 ，周一、周三、周五连续两周晚上时间。</p>\n<p>小班②（周末班）： 5 月 21 日上午 10:00-11:30 ，周六、周日连续两周白天时间。</p>\n<p>开课地点：北京市海淀区中关村南大街 1 号院苏园 62042</p>\n<p>报名前置条件：学历不限，编程基础不限</p>\n<p><img alt=\"\" src=\"http://ww2.sinaimg.cn/large/4b7b98f0jw1f3ziog9d9oj20em0awgmd.jpg\"></p>\n<p>教学内容：</p>\n<p>课时一： PHP 简介， PHP 开发环境搭建， PHP 语法(基本语法、逻辑控制、系统函数)， HTML 入门</p>\n<p>课时二： PHP+数据库（练习：留言板）</p>\n<p>课时三： Linux 基本操作， GIT 和 SVN 协作、 Github 使用、 PHP 生产环境部署环境（练习：将留言板部署在云端）</p>\n<p><img alt=\"\" src=\"http://ww4.sinaimg.cn/large/4b7b98f0jw1f3zioxg4h8j20n50p0q59.jpg\"></p>\n<p>课时四： Cookie 、 Session 、用户模块（练习：制作用户中心并将留言板改造为 Blog ）</p>\n<p>课时五： PHP 高级语法、面向对象编程（练习：用面向对象的方法重构 Blog ）</p>\n<p>课时六：网站开发和微信公众号开发（练习：开发基于微信公众号的会员管理系统）</p>\n<p>教学教材：  <a href=\"http://book.phpyanxi.com/\" rel=\"nofollow\">http://book.phpyanxi.com/</a></p>\n<p>报名方式：</p>\n<p>1 ） 加入 QQ 群： 204787773</p>\n<p>2 ） 填写报名表： <a href=\"http://baoming.phpyanxi.com/\" rel=\"nofollow\">http://baoming.phpyanxi.com/</a></p>\n</div></div>"], "reply": "5", "tittle": "PHP 编程免费公益培训课北京线下开课报名 (5 月下旬)", "comment": ["赞一个~", "好可惜，想学，却不在那里。", "好屌的样子 ...", "必须线下啊"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><ul>\n<li>业务的需要，现在要计算几个区间，具体是从 x 算出 min-max 。</li>\n<li>目前只想到的方法有两种，但都觉得不完美，不符合处女座程序员的风格。</li>\n</ul>\n<ol>\n<li>拼凑，'1'+'1'+'1'=111</li>\n<li>累加， 1+10+100=111 （ 1,10,100 是通过 10 的(x-1)次方算出来的）</li>\n</ol>\n<p><img alt=\"Alt text\" src=\"http://ww2.sinaimg.cn/large/677f82a7gw1f3zcz1lyy3j204405r3yd.jpg\"></p>\n</div></div>"], "reply": "35", "tittle": "如何从 1,2,3 通过公式得出 1,11,111", "comment": ["x 直接转 Binary 然后转文本？", "在空字符串的左侧填充 x 个 1\r", "str_pad('', $x, '1', STR_PAD_LEFT)", "难道不是 str_repeat 么 :doge:", "直接读表", "str_pad(\"\", 3, 1)", " 对，应该用 str_repeat", "min = (x * 10 - 1)/9\r", "max = min * 10", " \r", "<<< x * 10\r", ">>> x ** 10", " \r", " \r", " \r", "\r", "好吧，你们也是拼出来的字符串，不是一次得出整型。", " \r", "上面还是错了\r", "<<< x ** 10 \r", ">>> 10 ** x", " \r", "\r", "哈哈哈，我就说算了几次没对。。。", "min: (10^x-1)/9\r", "max: min*10", "等比数列求和", "循环左移累加啊\r", "sum=0\r", "for i 0 n\r", "_sum=sum*10+1", "min 和 max 是 2 进制就简单了\r", "min:(1<<x)-1\r", "max:min<<1 或 (2<<(x+1))-2", "for i in range(1, 4):\r", "     m = eval('1' * i)\r", "     M = m * 10\r", "     print(m, M)\r", " \r", "1 10\r", "11 110\r", "111 1110", "填充", "或者\r", "[ (lambda x: (x, x*10))(eval('1'*x)) for x in range(1,4) ]\r", "输出\r", "[(1, 10), (11, 110), (111, 1110)]", "min:", "数列{Ax}", "累加的通项 Ax= 10^(x-1)", "累加和 Sx=A1 + A2 + ... + Ax ，记为①", "把①两边同乘 10 ，得 10Sx = A1 *10 +  A2 *10 +  ... Ax *10", "整理得， 10Sx = A2 +  A3 +  ... Ax+1 ，记为②", "②-①，得 9Sx= -A1 + Ax+1", "Sx = (-A1 +  Ax+1)/9", "Sx = (-1 + 10^x)/9  ", "--------------------", "代入验证， S1=(-1+10)/9=1", "S2=(-1+100)/9=11", "S3=(-1+1000)/9=111", "python 里很容易啊：\r", "\r", "x = 3\r", "\r", "int('1' * x)", "Min(x)= (-1 + 10^x)/9 ", "Max(x)= 10*Min(x) = 10(-1 + 10^x)/9", "min = 2^(x-1)", "min=2^n-1  然后转成 2 进\r", "max=2^(n+1)-2 转 2 进", "查表啊，就算你 int64 ，也就是 18 种可能", "geohash?", "((10^x) - 1) / 9", "一个简单的求和数列嘛。\r", "\r", "n = 1, 2, 3, 4, ...\r", "min = 10^0 + 10^1 + 10^2 + ... + 10^(n-1)\r", "max = 10^1 + 10^2 + 10^3 + ... + 10^n", "27 正解\r", "\r", "FOR 版本\r", "\r", "\r", "for ($i=$x; $i>0; $i--) $min+=pow(10,$i-1);\r", "\r", "var_dump($min);\r", "\r", "\r", "for ($i=$x; $i>0; $i--) $max+=pow(10,$i);\r", "\r", "var_dump($max);\r", "\r", "while 版本\r", "\r", "while ($x) {$min+=pow(10,$x-1);$x--;}\r", "\r", "while ($x) {$max+=pow(10,$x);$x--;}", "明显 12 楼才是正解  构造数列经常用的技巧啊", "f(n+1) = 10 * f(n) + 1\r", "f(n + 1) + 1/9 = 10 * (f(n) + 1/9)\r", "\r", "然后等比数列求解, 好吧我懵逼了算不对...\r", "还是问 wolframalpha: ", " \r", "发现百度的时候眼花把求和公式看成通项...", " 就是，还不如查表呢，真正的`O(1)`时间复杂度！", "12 楼就已经很简洁了啊", "题目我都没看懂， \r", "       \r", "       python \r", "\r", "       >>> “ 1 ” * 1\r", "       >>> \"1\"\r", "       >>> \"1\" * 2\r", "       >>> \"11\"\r", "       >>>\"1\" * 3\r", "       >>>\"111\"", "~~~~~别打我   a=[1,11,111]"]},
{"content": ["<div class=\"topic_content\">问题：怎么用 php ，把数据从 mysql 中取出来，然后送给 javascript ？以前没搞过，求指导。\r<br>目的：数据库中的数据，通过 AwesomeChartJS 画图\r<br>具体描述：下面是 AwesomeChartJS 给的例子，我需要从 mysql 中取数据，然后替换 mychart.data 和 mychart.labels 的数据。\r<br>\r<br>&lt;script type=\"application/javascript\" src=\"awesomechart.js\"&gt;&lt;/script&gt;\r<br>&lt;script type=\"application/javascript\"&gt;\r<br>      function drawMyChart(){\r<br>        if(!!document.createElement('canvas').getContext){ //check that the canvas\r<br>                                                           // element is supported\r<br>            var mychart = new AwesomeChart('canvas1');\r<br>            mychart.title = \"Product Sales - 2010\";\r<br>            mychart.data = [1532, 3251, 3460, 1180, 6543];\r<br>            mychart.labels = [\"Desktops\", \"Laptops\", \"Netbooks\", \"Tablets\", \"Smartphones\"];\r<br>            mychart.draw();\r<br>        }\r<br>      }\r<br>      \r<br>      window. onload = drawMyChart;\r<br>    &lt;/script&gt;</div>"], "reply": "8", "tittle": "怎么把数据从 mysql 中捞出来，送给 javascript？", "comment": ["ajax ， php 写服务器端接口", "可以在 JS 里写 PHP 代码，不过我觉得楼上说的 ajax 比较好", "ajax ，后台返回数据前台解析，建议用 json 格式", "php 读取并计算，结果转换成 json ，然后以下 2 个方案选其一：\r", "- 直接输出到 template ，前端拿来用\r", "- 做成 api ，前端用 ajax 获取", "\r", "可以参考这个绘图我用的是 chartjs,至于那个值怎么获取直接 PHP 连接数据库\r", "不过推荐楼上的 ajax", "PHP 连接到数据库，查询到数据库的数据，做成接口\r", "\r", "前端 JS 通过 Ajax 调用到后台的接口，获取数据", "了解一下 json,然后你就能基本解决所有不同语言之间的交互问题了", "不说 ajax 的情况, 你这个叫 expose, node.js 比较好处理, express-expose / express-state\r", "了解一下, 有轮子就用, 没有可以造个 php 轮子"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>网上看到 2015 年 PHP 框架全球使用率最高的是 Laravel 框架，想学，但是又怕不好找工作，求大神给点意见</p>\n</div></div>"], "reply": "24", "tittle": "现在用 laravel 框架作为公司项目框架的公司多吗？都集中在哪些地区呢？", "comment": ["顺便再问下，如果 laravel 框架用的好的话能快速完成项目任务的话，熟手每月能拿到多少薪水呢", "php 竟然沦为学框架了，其实你大可以自己写一个框架", "认为光学一款框架怕不好找工作是对的，你更应该先把基础打牢固（如果是新手的话），再去学习框架，更重要的是学习其设计思想而不是框架本身，等你掌握了这些再去“用”框架就是捻手即来的事！", "先掌握 php 原生再考虑其他吧，框架和薪资不挂钩。", "想知道国内哪个框架最流行，你把拉钩网最近 100 条招聘信息爬下来，分析下关键词不就知道了。", "真不多，绝大部分是 ThinkPHP ……\r", "\r", "话说 TP 这么简单的框架很多公司都用不好，更何况 Laravel 这种比较难的……", "当然，肯定是有原生 PHP 基础的，要不也不可能学好一款框架", "不用学 laravel 了， thinkphp5 就是山寨的 laravel ，深入学习 thinkphp5 就行了。", "在澳洲 php 恐怕只能找到 laravel, wordpress, durpal, magneto 这几种职位了", " 那用哪个爬虫框架来爬这 100 条信息最好呢？", " “绝大多数”这个数据有依据么？", " 为什么不是学习 laravel 而是学习山寨的？", " ThinkPHP 能有 artisan 这种工具？", " 你没发现，其实我是在嘲讽山寨吗？", " 你看一下拉勾网的招聘，自己再随机投一些简历去面试看看就知道了……\r", "至少我工作到现在只有一家公司用 CI ，其余都是 TP ……", " 我感觉更多的不是 thinkphp 用不好，而是很多程序员对于架构，分层，解耦这种思想不理解导致写出来的代码很水，后期改动很困难。", " 何出此言？", " 那是因为他们学不会我大 thinkphp 吧。", " 会不会和企业类型有关，比如初创公司会考虑先进框架，而类似外包这种延用 tp ？", "Laravel 学习交流群 212423075", " 正确。", " 啥叫何出此言，这里市场就是这样啊", " 那为什么市场会是这样？换句话说：我想问的应该是为什么澳洲 php 只能找到 laravel, wordpress, durpal, magneto 这几种职位？", " 绝大部分 php 职位都是做外包的小 digital agency 。简单的用 Wordpress 复杂一点 Laravel, Drupal 做商城用 Magento 。现在还有趋势都不写代码了直接去 wix 上面画一个网页就完事了"]},
{"content": ["<div class=\"topic_content\">使用函数$nnn=number_format($clientID,'','','');  将科学计数法转化回来，但是转化的结果却和发送的数据不相同了，请问下当数字非常大时，如何才能防止转换为科学计数法。</div>"], "reply": "16", "tittle": "php 接收客户端传来的值，如何防止被转化为科学计数法", "comment": ["用字符串", " 如何使用呢， 请指教     我是这样\r", "$c = file_get_contents(\"php://input\");\r", "  $de_json =  json_decode($c,true);\r", "     $clientID=$de_json[\"clientID\"];\r", "接收整个客户端传来的值， 然后解析出来就直接变成科学计数法。", "$clientID = (string)$_POST[\"clientID\"];", "客户端传过来的本来就是字符串", " 返回的数据还是科学计数法", " 可是接收过来，一打印出来就是科学计数发啊", "我去，客户端传过来的是 json. 我忘记看了，那只有 2 个办法了，一是让客户端改 二是改原串$c 加上双引号", "客户端传过来全是字符串的 json 结构，或者服务端格式化一下。", " = =再问个简单的问题， 请问下如何引用其他页面的函数，而不运行其他文件，只是引用下函数，。", "php.ini 中设置 precision = ，(The number of significant digits displayed in floating point numbers.)\r", "整数超过 precision 位会转化为 precision 位的科学计数法，浮点数超过 precision 位小数部分会被截断\r", "或者用 sprintf", " 建一个 class ，再里面建一个 static function ，然后丢到 autoload 里~", " \r", "\r", "> 请问下如何引用其他页面的函数，而不运行其他文件，只是引用下函数，。\r", "\r", "将那个函数提取出来，然后放在一个单独的文件里。\r", "\r", "比如函数原本在 A.php 里，需要在 B.php 里引用。\r", "\r", "这时候建立一个 C.php 文件，然后将函数移动到 C.php 中。\r", "\r", "A.php 和 B.php 加上 require(\"C.php\")，这样 A 和 B 就都能使用 /引用那个函数。\r", "\r", "但是这样做并不好，建议尝试用更高级封装。比如封装成 Tool Class 然后用 Autoloader ，不过这样我猜测改量会很大。", " 1. 提问的时候你没说清楚客户端传的是 json ，你自己做了一步 decode （这很重要）； 2. RTFM \r", " 不需要， PHP 的 json_decode 支持大数直接转为 string 的，有 option 的", " 还真是", " 果然有 json_decode($json, false, 512, JSON_BIGINT_AS_STRING)"]},
{"content": ["<div class=\"topic_content\">httpd.conf 已经被改的面目全非，而且没有备份。肿么办？\r<br>\r<br>mac 10.11.4 ， apache 2.4.18</div>"], "reply": "8", "tittle": "Mac 自带 apache 被玩儿坏了，肿么办？", "comment": ["\r", "这个文件基本没啥变化，随便 CP 一份就好", "哈哈哈，叫你不拷贝一份，上网找个覆盖吧。", "什么什么怎么办\r", "\r", "不非要用系统自带默认的\r", "\r", "我发一份我的，没改过\r", "\r", "\r", "  \r", "\r", "\r", "```\r", "#\r", "# This is the main Apache HTTP server configuration file.  It contains the\r", "# configuration directives that give the server its instructions.\r", "# See <URL:http://httpd.apache.org/docs/2.4/> for detailed information.\r", "# In particular, see \r", "# <URL:http://httpd.apache.org/docs/2.4/mod/directives.html>\r", "# for a discussion of each configuration directive.\r", "#\r", "# Do NOT simply read the instructions in here without understanding\r", "# what they do.  They're here only as hints or reminders.  If you are unsure\r", "# consult the online docs. You have been warned.  \r", "#\r", "# Configuration and logfile names: If the filenames you specify for many\r", "# of the server's control files begin with \"/\" (or \"drive:/\" for Win32), the\r", "# server will use that explicit path.  If the filenames do *not* begin\r", "# with \"/\", the value of ServerRoot is prepended -- so \"logs/access_log\"\r", "# with ServerRoot set to \"/usr/local/apache2\" will be interpreted by the\r", "# server as \"/usr/local/apache2/logs/access_log\", whereas \"/logs/access_log\" \r", "# will be interpreted as '/logs/access_log'.\r", "\r", "#\r", "# ServerRoot: The top of the directory tree under which the server's\r", "# configuration, error, and log files are kept.\r", "#\r", "# Do not add a slash at the end of the directory path.  If you point\r", "# ServerRoot at a non-local disk, be sure to specify a local disk on the\r", "# Mutex directive, if file-based mutexes are used.  If you wish to share the\r", "# same ServerRoot for multiple httpd daemons, you will need to change at\r", "# least PidFile.\r", "#\r", "ServerRoot \"/usr\"\r", "\r", "#\r", "# Mutex: Allows you to set the mutex mechanism and mutex file directory\r", "# for individual mutexes, or change the global defaults\r", "#\r", "# Uncomment and change the directory if mutexes are file-based and the default\r", "# mutex file directory is not on a local disk or is not appropriate for some\r", "# other reason.\r", "#\r", "# Mutex default:/private/var/run\r", "\r", "#\r", "# Listen: Allows you to bind Apache to specific IP addresses and/or\r", "# ports, instead of the default. See also the <VirtualHost>\r", "# directive.\r", "#\r", "# Change this to Listen on specific IP addresses as shown below to \r", "# prevent Apache from glomming onto all bound IP addresses.\r", "#\r", "#Listen 12.34.56.78:80\r", "Listen 80\r", "\r", "#\r", "# Dynamic Shared Object (DSO) Support\r", "#\r", "# To be able to use the functionality of a module which was built as a DSO you\r", "# have to place corresponding `LoadModule' lines at this location so the\r", "# directives contained in it are actually available _before_ they are used.\r", "# Statically compiled modules (those listed by `httpd -l') do not need\r", "# to be loaded here.\r", "#\r", "# Example:\r", "# LoadModule foo_module modules/mod_foo.so\r", "#\r", "LoadModule authn_file_module libexec/apache2/mod_authn_file.so\r", "#LoadModule authn_dbm_module libexec/apache2/mod_authn_dbm.so\r", "#LoadModule authn_anon_module libexec/apache2/mod_authn_anon.so\r", "#LoadModule authn_dbd_module libexec/apache2/mod_authn_dbd.so\r", "#LoadModule authn_socache_module libexec/apache2/mod_authn_socache.so\r", "LoadModule authn_core_module libexec/apache2/mod_authn_core.so\r", "LoadModule authz_host_module libexec/apache2/mod_authz_host.so\r", "LoadModule authz_groupfile_module libexec/apache2/mod_authz_groupfile.so\r", "LoadModule authz_user_module libexec/apache2/mod_authz_user.so\r", "#LoadModule authz_dbm_module libexec/apache2/mod_authz_dbm.so\r", "#LoadModule authz_owner_module libexec/apache2/mod_authz_owner.so\r", "#LoadModule authz_dbd_module libexec/apache2/mod_authz_dbd.so\r", "LoadModule authz_core_module libexec/apache2/mod_authz_core.so\r", "#LoadModule authnz_ldap_module libexec/apache2/mod_authnz_ldap.so\r", "LoadModule access_compat_module libexec/apache2/mod_access_compat.so\r", "LoadModule auth_basic_module libexec/apache2/mod_auth_basic.so\r", "#LoadModule auth_form_module libexec/apache2/mod_auth_form.so\r", "#LoadModule auth_digest_module libexec/apache2/mod_auth_digest.so\r", "#LoadModule allowmethods_module libexec/apache2/mod_allowmethods.so\r", "#LoadModule file_cache_module libexec/apache2/mod_file_cache.so\r", "#LoadModule cache_module libexec/apache2/mod_cache.so\r", "#LoadModule cache_disk_module libexec/apache2/mod_cache_disk.so\r", "#LoadModule cache_socache_module libexec/apache2/mod_cache_socache.so\r", "#LoadModule socache_shmcb_module libexec/apache2/mod_socache_shmcb.so\r", "#LoadModule socache_dbm_module libexec/apache2/mod_socache_dbm.so\r", "#LoadModule socache_memcache_module libexec/apache2/mod_socache_memcache.so\r", "#LoadModule watchdog_module libexec/apache2/mod_watchdog.so\r", "#LoadModule macro_module libexec/apache2/mod_macro.so\r", "#LoadModule dbd_module libexec/apache2/mod_dbd.so\r", "#LoadModule dumpio_module libexec/apache2/mod_dumpio.so\r", "#LoadModule echo_module libexec/apache2/mod_echo.so\r", "#LoadModule buffer_module libexec/apache2/mod_buffer.so\r", "#LoadModule data_module libexec/apache2/mod_data.so\r", "#LoadModule ratelimit_module libexec/apache2/mod_ratelimit.so\r", "LoadModule reqtimeout_module libexec/apache2/mod_reqtimeout.so\r", "#LoadModule ext_filter_module libexec/apache2/mod_ext_filter.so\r", "#LoadModule request_module libexec/apache2/mod_request.so\r", "#LoadModule include_module libexec/apache2/mod_include.so\r", "LoadModule filter_module libexec/apache2/mod_filter.so\r", "#LoadModule reflector_module libexec/apache2/mod_reflector.so\r", "#LoadModule substitute_module libexec/apache2/mod_substitute.so\r", "#LoadModule sed_module libexec/apache2/mod_sed.so\r", "#LoadModule charset_lite_module libexec/apache2/mod_charset_lite.so\r", "#LoadModule deflate_module libexec/apache2/mod_deflate.so\r", "#LoadModule xml2enc_module libexec/apache2/mod_xml2enc.so\r", "#LoadModule proxy_html_module libexec/apache2/mod_proxy_html.so\r", "LoadModule mime_module libexec/apache2/mod_mime.so\r", "#LoadModule ldap_module libexec/apache2/mod_ldap.so\r", "LoadModule log_config_module libexec/apache2/mod_log_config.so\r", "#LoadModule log_debug_module libexec/apache2/mod_log_debug.so\r", "#LoadModule log_forensic_module libexec/apache2/mod_log_forensic.so\r", "#LoadModule logio_module libexec/apache2/mod_logio.so\r", "LoadModule env_module libexec/apache2/mod_env.so\r", "#LoadModule mime_magic_module libexec/apache2/mod_mime_magic.so\r", "#LoadModule expires_module libexec/apache2/mod_expires.so\r", "LoadModule headers_module libexec/apache2/mod_headers.so\r", "#LoadModule usertrack_module libexec/apache2/mod_usertrack.so\r", "##LoadModule unique_id_module libexec/apache2/mod_unique_id.so\r", "LoadModule setenvif_module libexec/apache2/mod_setenvif.so\r", "LoadModule version_module libexec/apache2/mod_version.so\r", "#LoadModule remoteip_module libexec/apache2/mod_remoteip.so\r", "LoadModule proxy_module libexec/apache2/mod_proxy.so\r", "LoadModule proxy_connect_module libexec/apache2/mod_proxy_connect.so\r", "LoadModule proxy_ftp_module libexec/apache2/mod_proxy_ftp.so\r", "LoadModule proxy_http_module libexec/apache2/mod_proxy_http.so\r", "LoadModule proxy_fcgi_module libexec/apache2/mod_proxy_fcgi.so\r", "LoadModule proxy_scgi_module libexec/apache2/mod_proxy_scgi.so\r", "#LoadModule proxy_fdpass_module libexec/apache2/mod_proxy_fdpass.so\r", "LoadModule proxy_wstunnel_module libexec/apache2/mod_proxy_wstunnel.so\r", "LoadModule proxy_ajp_module libexec/apache2/mod_proxy_ajp.so\r", "LoadModule proxy_balancer_module libexec/apache2/mod_proxy_balancer.so\r", "LoadModule proxy_express_module libexec/apache2/mod_proxy_express.so\r", "#LoadModule session_module libexec/apache2/mod_session.so\r", "#LoadModule session_cookie_module libexec/apache2/mod_session_cookie.so\r", "#LoadModule session_dbd_module libexec/apache2/mod_session_dbd.so\r", "LoadModule slotmem_shm_module libexec/apache2/mod_slotmem_shm.so\r", "#LoadModule slotmem_plain_module libexec/apache2/mod_slotmem_plain.so\r", "#LoadModule ssl_module libexec/apache2/mod_ssl.so\r", "#LoadModule dialup_module libexec/apache2/mod_dialup.so\r", "LoadModule lbmethod_byrequests_module libexec/apache2/mod_lbmethod_byrequests.so\r", "LoadModule lbmethod_bytraffic_module libexec/apache2/mod_lbmethod_bytraffic.so\r", "LoadModule lbmethod_bybusyness_module libexec/apache2/mod_lbmethod_bybusyness.so\r", "#LoadModule lbmethod_heartbeat_module libexec/apache2/mod_lbmethod_heartbeat.so\r", "LoadModule unixd_module libexec/apache2/mod_unixd.so\r", "#LoadModule heartbeat_module libexec/apache2/mod_heartbeat.so\r", "#LoadModule heartmonitor_module libexec/apache2/mod_heartmonitor.so\r", "#LoadModule dav_module libexec/apache2/mod_dav.so\r", "LoadModule status_module libexec/apache2/mod_status.so\r", "LoadModule autoindex_module libexec/apache2/mod_autoindex.so\r", "#LoadModule asis_module libexec/apache2/mod_asis.so\r", "#LoadModule info_module libexec/apache2/mod_info.so\r", "#LoadModule cgi_module libexec/apache2/mod_cgi.so\r", "#LoadModule dav_fs_module libexec/apache2/mod_dav_fs.so\r", "#LoadModule dav_lock_module libexec/apache2/mod_dav_lock.so\r", "#LoadModule vhost_alias_module libexec/apache2/mod_vhost_alias.so\r", "LoadModule negotiation_module libexec/apache2/mod_negotiation.so\r", "LoadModule dir_module libexec/apache2/mod_dir.so\r", "#LoadModule imagemap_module libexec/apache2/mod_imagemap.so\r", "#LoadModule actions_module libexec/apache2/mod_actions.so\r", "#LoadModule speling_module libexec/apache2/mod_speling.so\r", "#LoadModule userdir_module libexec/apache2/mod_userdir.so\r", "LoadModule alias_module libexec/apache2/mod_alias.so\r", "#LoadModule rewrite_module libexec/apache2/mod_rewrite.so\r", "#LoadModule php5_module libexec/apache2/libphp5.so\r", "LoadModule hfs_apple_module libexec/apache2/mod_hfs_apple.so\r", "\r", "<IfModule unixd_module>\r", "#\r", "# If you wish httpd to run as a different user or group, you must run\r", "# httpd as root initially and it will switch.  \r", "#\r", "# User/Group: The name (or #number) of the user/group to run httpd as.\r", "# It is usually good practice to create a dedicated user and group for\r", "# running httpd, as with most system services.\r", "#\r", "User _www\r", "Group _www\r", "\r", "</IfModule>\r", "\r", "\r", "```", "还有一点\r", "```\r", "\r", "# 'Main' server configuration\r", "#\r", "# The directives in this section set up the values used by the 'main'\r", "# server, which responds to any requests that aren't handled by a\r", "# <VirtualHost> definition.  These values also provide defaults for\r", "# any <VirtualHost> containers you may define later in the file.\r", "#\r", "# All of these directives may appear inside <VirtualHost> containers,\r", "# in which case these default settings will be overridden for the\r", "# virtual host being defined.\r", "#\r", "\r", "#\r", "# ServerAdmin: Your address, where problems with the server should be\r", "```", " 你需要 ", "这种组件是开源的，去 ", " 上找", "  嘿嘿`", "原有的禁用了， port 或者 brew 重新安装一个，也行啊"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>上传地址是： <a href=\"http://picupload.service.weibo.com/interface/\" rel=\"nofollow\">http://picupload.service.weibo.com/interface/</a>\n前面成功过 后来就不行了</p>\n<p>上传图片需要带上新浪账号 cookie\n用的 PHP CURL 模拟上传的</p>\n</div></div>"], "reply": "4", "tittle": "上传图片到新浪不成功", "comment": [".....................", "怎么都没人理我啊", "google 找。有很多是 sinaimg 接口的。分享一个给你： ", " 我需要上传大量图片，这接口顶不住"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近 Laravel 发布了一个 Mac 下极简的 Laravel 开发环境 — Valet[<a href=\"https://laravel.com/docs/5.2/valet\" rel=\"nofollow\">https://laravel.com/docs/5.2/valet</a>]。你不需要安装 Vagrant 、 Apache 、 Nginx ，也不需要修改 <code>/ect/hosts</code> 文件。你甚至可以把本地的站点分享到公开的网络进行访问。</p>\n<p>翻译了下官网的文档，在使用 Mac 开发 Laravel 的朋友们不妨试试。</p>\n<p><a href=\"http://9iphp.com/web/laravel/laravel-valet-local-dev-environment.html\" rel=\"nofollow\">http://9iphp.com/web/laravel/laravel-valet-local-dev-environment.html</a></p>\n</div></div>"], "reply": "27", "tittle": "Laravel Valet — Mac 下 极简的 PHP 开发环境", "comment": ["看了一下安装方法，跟极简不挨边吧", "简么？反正我是不懂，文章也比较长。\r", "我只知道， symfony 下，装个 php ，就直接能开发了。。。当然你要 mysql 的话是要自己装的。", " @", "  安装其实只需要 `composer reqiure laravel/valet` 然后执行` valet install`，然后到目录下  `valet park` 就可以了，文章里只不过写的比较详细。而且还写了自定义驱动的方法。", "这个确实好。基本用最小化的方式满足开发测试需求，除非开发需要借助 http 服务器特性的功能。很想试试。", "哦？那 homehost 可以卸载掉了？", "话说没人吐槽撸主给的博客页顶那不断滚动的进度条么？太魔性了，换成蓝色的话用 iOS 就该焦虑了", "打错了（￣▽￣） 是 homestead", " 额 加载完就没了~", " 差不多可以替代了吧。我安装上试了，内存占用很小，用 Homestead 的话，一启用虚拟机 1 个多 G 内存就没了~", "对 8G 内存的 mac 来说，是个利好消息。\r", "\r", "8G 内存，开个虚拟机真心捉急", " 是的  Chrome + Homestead + phpStorm 内存基本就没了~", " nice ", " ", "初次安装之后，开新工程一句 valet park 就好了。被他们的粗口宣传视频惊喜到了。", "Homestead 因为是虚拟机所以和 OS X 的开发环境没影响... valet 在本地安装弱密码的 dnsmasq mysql 等都很不爽 （虽然本来安了 dnsmasq,也可以自己改设置）", "还是喜欢 homestead ", " ", "Valet 不过是另一种 WAMP ， homestead 最重要的地方是能避免脏环境，也能避免出现“我机器上是好的”这样的情况。", "\r", "这个不错， Vagrant 的封装", "-.- 完全不懂 Taylor Otwell 咋想得，不用 docker 的原因是因为 forge.laravel ? （不然就没 forge 什么事了）", " 这倒是，但是对于内存小的机器来说是个不错的选择。而且这个支持分享的功能也不错啊", "Valet 的使用场景：“它非常适合那些只需要 PHP/MySQL 而不需要一个完整的虚拟化开发环境的人”\r", "\r", "然而实际开发环境中不止会用到 PHP/MySQL 这俩，比如 redis ，或者其他数据库，或者 xdebug 或者 xhprof ，不知不觉本地就装了一堆东西，正如 @", " 所说，虚拟机形式的开发环境好处是能避免脏环境，不容易被其他东西干扰\r", "\r", "另外……虽然一直用 homestead ，不过个人还是觉得 docker 才是部署开发环境的未来", "Valet 更像是 \"php artisan serve\" + \"DnsMasq\" + \"mariadb\" 的打包", "最近开始用 Homestead 开发环境,今天需要将 php7.0 降级到 5.6 来用到 memcached 。参考了此方法:\r", "[Back to Homestead with PHP 5.6]( ", "\r", "第二点:\r", " Just build your own Vagrantfile. This will allow you to customise your install ", "\r", "\r", "感觉这玩意挺好用\r", "\r", "\r", "[手册及视频]( ", ")\r", "\r", "正在使用中。", "mac 10.10 装了 valet 后 dnsmasq 没有起作用，还是需要手动绑定 host 才能访问*.dev ，其他功能正常，有人遇到过吗？", "意义不大\r", "改个 hosts 又没多难\r", "求简单不如 php server\r", "和 Homestead 比又不能 100%模拟 Linux Server 环境", " 10.11 试着没问题~", " 跟 Homestead 比是差挺多功能，要不官网定义就是极简主义嘛~~", "mark"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我用 phalcon 做个一个采集站\n数据库使用 mongodb\n发现当采集的时候 php 执行 mongodb 的 find 方法时就报 500 错误\n重启 web 服务器 mongodb 服务都不行\n我把 mongodb 清空后 或者删除一些数据 就正常了\n也不知道是采集的时候插入了什么数据出的错\n有人知道怎么回事不?</p>\n</div></div>"], "reply": "3", "tittle": "phalcon 框架使用 Mongodb 经常 500 错误", "comment": ["看下 log", "搞清楚了 是因为采集时多线程插入数据时造成了重复的 mongob ObjectID 使用单线程操作数据库插入就行了", "哦 错了 是因为当我采集的数量到了一点程度 我想通过 count(find())获取总数量时超时导致的 500 错误 \r", "建立了一个表存储总数量就好了 网页也快多了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>两个都是 php 文件</p>\n<p>测试的代码就是简单的 echo 出字符串</p>\n<p>都在同一目录下</p>\n</div></div>"], "reply": "11", "tittle": "求思路，两个 php 文件在服务器相同的目录下，一个能显示 php 代码一个不行，这是什么原因？", "comment": ["补充一点，本地都可以执行", "有可能是编码问题，确保使用 UTF-8 无 BOM 保存文件。", "用的是什么 webservice ？", "比较一下两个文件的权限呢？", "统一回复，刚查到了，是 php 版本的问题，导致报错了，所有代码无法运行，二楼说的我一开始也这么想，后来复制过好的文件，也不行，后来一行行代码去看，总算发现问题了，感谢大家", " 相同目录下，用不同的 PHP 版本？  我怎么表示看不懂。这样做有好处？", " 还是另一个文件有已经在高本版禁用的东西？", "如果是 linux 的话， ls -all 看下文件权限", " 是本地是一个版本，线上是另一个 php 版本，我写的代码是需要更高级一点 php 版本去执行，而线上识别不了我的一些代码，导致报错，所以什么都输出不了", "同时邀请程序员帮忙回答 .\r", "为什么我的 openvpn 服务端没有生成 log 呢？ ", " 好吧。线上环境的版本低于开发环境，估计你可能还有很多坑要踩。"]},
{"content": ["<div class=\"topic_content\">Wp 用着不错， xmlrpc 很好用，虽然还没搞定添加关键字的问题。\r<br>主要是第二个问题，标题中不好描述，其实就是想自由提取数据生成新页面， wp 可以实现，毕竟有些繁琐，还有啥合适的学习曲线不那么高的 cms 推荐下。\r<br>最好做主题的多，日后打算付费请人搞搞。</div>"], "reply": "4", "tittle": "求推荐 cms，支持远程发布和自定义页面", "comment": ["看你描述 只有 wp 了", " 似乎是这样的，眼馋帝国的接地气，可开放接口方面，还是太小家子气。\r", "scrappy 采集程序挺稳定，不打算换帝国或火车头之类的。\r", "wp 没付费找人做的时候，确实有些弱。", "什么叫“自由提取数据生成新页面”？", "远程发布 几个 api 的事，自定义页面，模板"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>刚学 php 不久，遇到了一个代码错误。望赐教！\n其中 add.php 的错误\nParse error: syntax error, unexpected '{' in E:\\PHPnow-1.5.6\\htdocs\\testsql\\add.php on line 9\n源码：\n<a href=\"http://ww2.sinaimg.cn/large/a15b4afegw1f46z4bkjm4j20lv0bijsj.jpg\" rel=\"nofollow\">http://ww2.sinaimg.cn/large/a15b4afegw1f46z4bkjm4j20lv0bijsj.jpg</a></h2>\n<p>show.php 的错误\nParse error: syntax error, unexpected T_CONSTANT_ENCAPSED_STRING in E:\\PHPnow-1.5.6\\htdocs\\testsql\\show.php on line 15\n源码：\n<a href=\"http://ww2.sinaimg.cn/large/a15b4afegw1f46zpra5j0j20mm0ghjt1.jpg\" rel=\"nofollow\">http://ww2.sinaimg.cn/large/a15b4afegw1f46zpra5j0j20mm0ghjt1.jpg</a></p>\n<p>v2ex 贴代码不方便啊 。所以只能这样 :(</p>\n</div></div>", "<div class=\"topic_content\">换了编辑器：\r<br><img src=\"http://ww2.sinaimg.cn/large/a15b4afegw1f470rayzpgj20ii0akgmi.jpg\" class=\"embedded_image\" border=\"0\"> \r<br><img src=\"http://ww2.sinaimg.cn/large/a15b4afegw1f470rw2d6sj20g80e6gmy.jpg\" class=\"embedded_image\" border=\"0\"> </div>", "<div class=\"topic_content\">代码是 10 年前的代码。应该是我的 php 版本太高了吧。\r<br>算了。结贴！！！</div>", "<div class=\"topic_content\">感谢各大神的回复帮助！！</div>"], "reply": "16", "tittle": "一段 php 代码报错。新手无法解决！请各位大婶帮忙看看。", "comment": ["拿记事本改 PHP 简直是作死\r", "\r", "\r", "目测 SQL 语句中的 ID 变量不存在导致语法错误", "赶紧去找你们家大婶", "另外！\r", "\r", "不要用 mysql 拓展来连接 MYSQL 了，用 PDO 吧，后面的 PHP 版本都不支持 MYSQL 拓展了，编辑 PHP 代码你用 notepad++吧", " 代码没几行。记事本没多大问题吧？\r", "那这些错误要怎么修改？", " PHP 代码不能用记事本修改或者保存 这是铁律 跟代码长短无关 不听拉倒。\r", "\r", "我去睡觉了。太困。", "建议不要用笔记本编辑\r", "你可以用 notepad++或 sublime text 写代码， windows 自带的 notepad 就是个坑\r", "\r", "我个人认为的几个问题：\r", "1. php 里如果想在字符串里引用变量，可以这么写：\r", "\"hello{$name}\"\r", "或\"hello\" . $name\r", "2. show.php 中的第 16 行的前面一点是不是手滑打上去的单引号 ", "  \r", "3.add.php 中会不会是引号有错误，单引号和双引号混淆了；以及 if(){}的写法有没有错误", "\r", " \r", " ", "......题主 我的建议是以后遇到任何报语法错误的,都自己解决吧这是最低级的了自己找找哪里出了问题就好, 下次就能够快速知道错误了,  很明显这里报的是{  就是说缺少 { 或者 }    看后面 缺少一个 }", "好像貌似看错了  不过报 语法错误 应该自己好好找找", "楼主上 phpstorm 吧, 有语法检测, 直接就能看出到底那里有问题了", "代码缩进有问题不看", "楼上几位给的建议也不听", "你就是你来问人的态度？", " 因为我是新手。难免有难理解的地方。请多包涵！", " 研究了 N 久，没发现什么错误的地方。只能怪我还是太菜了。", "建议控制台里看一下 sql 语句的执行情况", "还有..别用 mysql_connect 了"]},
{"content": ["<div class=\"topic_content\">刚学 php 不久，遇到了一个代码错误。望赐教！\r<br>其中 add.php 的错误\r<br>-----------------------\r<br>Parse error: syntax error, unexpected '{' in E:\\PHPnow-1.5.6\\htdocs\\testsql\\add.php on line 9\r<br>------------------------\r<br>源码：\r<br>&lt;img src=\"<img src=\"http://ww2.sinaimg.cn/large/a15b4afegw1f46z4bkjm4j20lv0bijsj&amp;quo\" class=\"embedded_image\" border=\"0\"> t; border=\"0\"&gt;\r<br>-------------------------\r<br>show.php 的错误\r<br>\r<br>Parse error: syntax error, unexpected T_CONSTANT_ENCAPSED_STRING in E:\\PHPnow-1.5.6\\htdocs\\testsql\\show.php on line 15\r<br>---------------------------\r<br>源码：</div>", "<div class=\"topic_content\"><img src=\"http://ww2.sinaimg.cn/large/a15b4afegw1f470rayzpgj20ii0akgmi.jpg\" class=\"embedded_image\" border=\"0\"> \r<br><img src=\"http://ww2.sinaimg.cn/large/a15b4afegw1f470rw2d6sj20g80e6gmy.jpg\" class=\"embedded_image\" border=\"0\"> </div>", "<div class=\"topic_content\">感谢个位帮助。此贴完结！！</div>"], "reply": "27", "tittle": "一段 php 代码报错。请各位大婶帮忙看看。", "comment": ["用\r", "\r", "```\r", "[code]\r", "```\r", "\r", "放置代码，排版和视觉效果更好", " 嗯。正在修改", " 晕啊 。不能编辑了。这是要重新发一篇吗", " 试试吧。这篇或许可以联系管理员删除。记得用好预览功能。", " 请求把这篇删了把。原因是不知道怎么排版。导致看的乱七八糟的。又重新发了一篇。", "已经拥有回复帖子不能删除\r", "不要重复发布相同的帖子\r", "你可以用 gits 或其他方式在评论栏补充帖子\r", "\r", "因为错误使用尖括号导致该错误。", " 好吧。之前没发过代码类的。很抱歉。现在要怎么办？", " \r", "1. 不要 windows 记事本写会有编码问题，也没有行号高亮什么的可以轻松一点的辅助。\r", "2. 你这份教材已经很老很老了，不考虑换个吗？学的都是过时很久的了\r", "\r", "这个属于语法错误，错误提示在 15 行，那应该是在前面没有闭合好或者其他原因", "\r", "\r", "楼主重新开了个帖子  我已经回答了 我晕", " 睡觉睡觉", " 百度随便找了一段。主要是测试 mysql 注射学习用的。所以就将就下了。", "换个 IDE 或 Editor ，现在主流的产品都能把这些基本错误挑出来。", "给楼主推荐 PHP5.6   或者 PHP7 也可以\r", "推荐 IDE PHPstorm", "   用 PDO  从根上防止 MySQL 注入", "小伙子。。你有 3 个{{{  却只有 2 个 }} 自己再仔细看看", "换个 ide 吧，另外学习 php 还是靠中文手册比较好， mysql 已经快要淘汰了，网络上有 2016 的中文手册。 ide 推荐 phpstorm,同是新人 phper", "少了一个}", "mysql 快淘汰是啥意思...", "mysql 快淘汰....????", " 感觉应该是指 mysql 连接件，现在推荐用 PDO", " \r", " 我是说 php 的 mysql 函数...", "如果你复制粘贴代码的话，再加上使用了 notepad ，那极有可能出现换行符不匹配导致奇葩错误。手打一遍可解", " \r", " \r", "\r", "说的是 mysql 这个扩展", " 没有多余的｛｝是刚好的", " 过时的没关系。能学到东西一样有用。", " 这个问题是我的版本太低了？\r", "UltraEdit 也是一样可以编辑啊", " 这代码就是用来注射测试的。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>以前学了些基础，很零星。这学期从三月份开始一直持续学习 php 到现在。前不久用 thinkphp 做了个小的项目，前端界面和功能基本实现了，后台代码大概八九百行吧。但是却越做越没动力了，再看看我写的代码，基本都是简单的 curd ，没有一点技术含量。然后我看了看 onethink 的源码，和一些开源的内容管理系统，基本看不懂。学到现在，我都不知道我能做什么项目，真的不知道该如何继续学习 php 。。。（马山要找实习：亚历山大啊）！</p>\n</div></div>"], "reply": "77", "tittle": "PHP 学习困惑", "comment": ["把你认为重复的 curd 进行抽象，压缩冗余代码量，顺便造个轮子出来，然后就能长进不少。", " 话虽这么说，但是抽象这个东西，没那么简单。压缩冗余代码：写的时候我已经注意过这个问题了，继续压缩的空间不大。", " 那么还有 NoSQL 、缓存、消息队列、横向扩展、容器化以及各种中间件...", " 这些概念，不知道该如何下手，我自己做的一些小项目，不知道该如何去应用这些技术。不过你说的这些，我会去了解的。", "做的小项目不如贴出来看看。", " ", " 这是我昨天贴上的，上面有些介绍。", " 了解以后都可以派上用场的，比如：在数据访问层前面加上缓存，用消息队列来给用户发邮件，把整个应用制作成 Docker 镜像等等。如果能想办法 hold 住高并发就更好了。", " 我会尝试去应用一下，顺便学习一下新的东西", "用 ab 做压测看性能，然后试着提高它。（缓存？ Nginx 上黑科技优化？）\r", "提示消息都是中文的，试着做成多语言版本？\r", "\r", "我看了你的代码，其实写得还是挺不错的。再接再厉。", "同为新手，正在熟悉 laravel ，可以多交流下 ，企鹅 86056380", "比我当时强多了，找到实习，然后在工作中去学习了！！", "做的还不错啊", "不错", "很腻害了,还用上了 onething/..\r", "PHP 的话会增删改查差不多了,", " 谢谢鼓励，我觉得我是有点浮躁了。我还会坚持的。", " 总是重复的 curd ，感觉真的没什么用。还要学的真的太多了", " 我也是这么想的，不过总的有点东西才敢实习啊。不可能一问三不知，别人还要你。", " 实习吗，别人也不会要求太高，况且，你有自己做的东西，多去面试面试，就知道差在哪里了，还要掌握什么，所以，要立马行动", " 实习前掌握 crud 其实就足够了。你的项目还可以加个 sphinx 练练手顺带熟悉下 linux 环境。", "慢慢来，刚开始的时候，学习曲线是比较陡峭的，过几个月就好了，加油！", " 没有面试过，不知道差什么。所以现在感觉什么都想学，什么都没学够。如果现在只满足于实习的水平而不深入，就没什么意思了。", " 的确是入门简单，精通难啊。有点浮躁了", " 你可以参考我写的这篇： ", "\r", "如果实在无聊的话 建议刷几遍 ", " \r", "推荐你读下这本书《 Modern PHP 》", " 我会试试的。再做点其他的小项目再练练", " 感谢你的建议。我会参考的。", "  \r", "除了上面大家说这些闭门造车造轮子，硬生生熬过迷惘期，我还有另外一个建议，你可以参考一下\r", "去参加一些顶级的技术大会，看看最牛逼的人在干什么，关注什么东西，业界有什么新趋势。还有聆听他们分享的经验和业务抽象。总之就是绝对值回门票和机票\r", "\r", "比如我自己，身为一个前端， 就从深圳飞去北京参加了 第二届 php 国际大会。 我们家的 php 后端都没去（我觉得很可惜，错过不是一般的多）\r", "我是会不惜一切抓住能提升自己的机会。\r", "当然业界会有很多大会，也有很多质量差的，我的最主要考量就是看演讲嘉宾。 第二届 php 国际大会邀请到了 php 创始人 Rasmus ，还有 php 第一网红鸟哥，还有几个档次非常高的大神。就冲着他们去，想象他们不会让人失望。", "上面最后的”想象”打错了， 是相信", " 现阶段我接触这方面的机会不大，毕竟水平和能力都还太弱，而且还在校。等以后工作了，我会很有兴趣参加类似的活动的！", " 我想请问一下，现在做 php 开发，用框架多呢还是原生 php 多。我一直很困惑，到底我是花时间学框架，还是花时间了解 php 基础。", "学习 symfony 框架吧 ,可以开拓你的视野，  难度大， 收益巨大！", " 但是目前国内不是 tp 用的挺多的么。而且我现在需要快速熟悉一个框架，先找到实习。", " \r", "\r", "知识能力论，能解决你这个问题， 20%是知识， 80 ％是能力，你可以先看一下我知乎的回答，道理是相同。\r", "你记了很多框架 api ，原生 phpAPI ， 但这些仅仅是知识。\r", "比如你对原生 phpAPI 和 tp 的 api 记得很熟。然后去你 a 公司面试， a 公司业务用 yii ， 你的 tp api 对他们没有意义，只有原生 api 稍微有意义， 这时候你的知识分就会减分，但如果你有能力（能力权重是 80 ），就完全可以把分数拉高了。\r", "\r", "所以原生和框架并不重要，重要的是提高能力，然后偶尔兼顾一下知识。\r", "\r", "问题来了，怎么提高能力，我这里先给个入门版的。\r", "那就是 不挑框架，深入去做一个复杂项目（涉及队列和异步，比如说完成发邮件，发短信的模块，处理到某个时间点会自动改变状态的数据－－>常见的是倒计时商品）\r", "当你完成这些复杂度，你的能力自然就上来了，当你能力上来之后，就无所谓这框架，那框架了，不就是背背 api ，看看源码，写写 hello world 就能熟悉吗", "不建议深入学 thinkphp ，楼主在哪个城市", " 打算在成都找工作。", " 有空你分享一下你的学习路线呀!", " 我就不会 tp ， 我推荐 yaf PHALCON zf2 Laravel  sf2   YII 哪个都行， 唯独不推荐 tp .   这和找工作没关系。\r", "以下引用：\r", "TP 最大的优点兼缺点，是灵活（多快好省？大跃进？率性而为？说白了就是不规范），怎么方便怎么来，力求快速上手，直奔小康，一夜建成社会主义。\r", "当其他框架发誓要让 PHP 程序规范起来的时候， TP 把这种不规范发挥到了新的高度。风骚的 C D F M I 方法，让人心醉。\r", "TP 能在中国流行,根本原因是 TP 公司的商业模式很成功,跟培训机构合作.第二,中文文档全,国内程序员英文能力都不怎么的(大部分是大专本科生).第三,营销模式很成功,社区拉拢新手,洗脑的好。", "CURD 是工具，只会 CURD 就像富士康的工人只会操作流水线上的机器一样没什么区别。\r", "在写代码的过程中学会发现问题解决问题。发现的问题有可能是架构模块的划分，代码的解耦等等，然后进阶到学习设计模式，学习写出高效的，可维护的，高内聚低耦合的代码，我觉得这些东西要比看几个手册学几个 CMS 背几个 API 要更加有用。", " TP 已经推出了 5.0 了，已经没有单字母全局函数了，而且也有人说 CDFMI 之类的方法简洁，认为这种简洁就是优点。", "我也是新手，希望和更多的 php 学习者交流，前面发了企鹅加楼主，没想到有几个 V2EX 的加我，为了方便所以就建了个企鹅群 154283168  有兴趣的就加吧，希望各位大神多多指导。", "自荐一下我写的这篇~  ", "很不错啊, 继续加油", " 已看，很有指导意义。我现在应该是处于第二阶段吧。路还长啊", " 我就是越写越觉得实在重复工作，每个方法都是 curd ，让后读结果，渲染模板，太机械了。所以之前做的项目暂时搁浅了，再深入学习点再继续做。", "首先,楼上说的 XX 框架,不太建议以框架为入门,框架一般都有自己的属性,不一定适合你,也包含了一些错误 /优秀的实践,\r", "楼主学习阶段,最好还是以原生代码为主,同时学编码规范为辅,学到基本的(原生)CURD 能写的很溜,去看框架,学用 IDE,", "补楼上,原生学的好,看个框架源码问题都不大了,就去 github 上面溜源码,各种设计模式都看看.这个时候对框架有个概念了,就基本算是\"可以做事\"的状态了.这个时候可以考虑模拟一些小业务去做,\r", "关于编码规范:\r", "    推荐<PHP 之道>\r", "可以阅读的书也很多,不要买国内培训机构出版的图书就可以了.\r", "下面我觉得你也应该会怎么往下学习了", " 单字母方法，我的解决方式是套一层全局函数上去", " 现在开始补 php 原生语法，之前学的基础都是网上看的，东一点西一点。有答主推荐了 php 和 mysql web 开发，我现在正在看。倒是发现了许多之前没注意过的细节。框架的话，目前我还是用 tp 吧，当前目标还是找工作啊。。。", "PHP 语法和这些框架都是高层的东西， 你要想学下去，要去了解 自动加载，命名空间，魔术方法\r", "\r", "   这个是 php 之道，你从头到尾过一遍\r", "\r", "然后自己练手写个矿建\r", "\r", "\r", "看看这两个连接里面有多少是自己的不会的，一个一个的学", " 谢谢指导。我会花使用这两个链接的。", "自己抱怨“枯燥没技术含量”，别人给你推荐  symfony 你还不愿意。\r", "其实试用下别的东西和你自己的工作并不矛盾，业余或者下班时间就看 symfony 去吧，组件都会用了， php 和 oop 也学差不多了。另外就是 ", " ，一遍遍读文档，不读个 10 来遍写代码会卡壳，除非你过目不忘。\r", "\r", "另外，我十分不赞同， “ XXX 不适合上手” 这种说辞，什么叫上手？ 你自己理解不了就回去补编程基础，老是拉低别人做什么呢。我没觉得 tp 比其它任何东西“更容易上手”。 那么问题来了， 你是愿意用一个让你变成代码猴子的工具， 还是一个真正能提升你技术水平的。", " 为什么最推荐 symfony ？\r", "\r", "如果是以容易找工作为导向， yii 、 tp 会不会是更好的选择", "先搞 Java/C# 再回到 PHP ，会有一种从太空看地球的感觉。一切都清爽了。", " php 地球都没学会，如何去到太空。。。", " 我现在是以找工作为当前目标。 tp3 还是 tp5 ，希望指点。", "看看我翻译的这篇文章  ", "楼上吐槽框架的真是够了。感觉你写的比我好多了页面 - -  symfony2 你可以等到你 2 年经验的时候开始看 会提升很大。会发现和之前的那些东西完全不一样。 TP 有 TP 的好 我司现在就用的  你说哪个 TP 版本 现在一般用 TP3.2 的多一点 5 还是测试没人用 少听瞎扯 多自己看看东西 比如鸟的博客", "你的经历竟然同我如此类似。我也是今年三月份开始辞职（原汽车行业苦逼产品工程师）学习，看完手册上的常用扩展之后也是从 thinkphp 这个框架入手学习的。打算先做一个功能比较完善的博客系统。有时也会迷茫，也不明白自己离能够上手工作还差多远...", "  现在打算开始做另一个项目。但是不知道该如何选择 tp 版本。希望给点建议", " 我之前做的那个小项目就是打算做博客系统的，虽然只做了前台页面和功能。我们可以交流。我 q ： 674310383", " 各种杂，都没有深究...也分享一下你的呗", "再次感谢楼上各位 v 友的意见和建议。从你们的回答中，我得到了很多学习方法和学习资料，我相信会对我有很大帮助。我目前的打算：先用 tp ，因为我想在这个暑假投实习。所以想熟练这个框架。等有了一定基础后，我会学习其他更强大的框架。而且我也没打算一直用 tp 。 laravel and symfony2  都是更强大的框架。鉴于自己的特点，暂时等稳定了再学习。", "   看你实习阿  TP 用多了也就那样 会 CURD 就好了。。 没准你去那个公司就是低头写接口。。闲事可以多看看各种博客 多接触一点 服务器基础 JS CSS3 Html5 这些对你找实习有帮助", "可以看下 php 源码，深入理解 php 的运行机制，这方面可以从研究 php7 的优化上入手。或者熟悉一下其他的 PHP 框架，看里面的源码，了解各个框架的原理是啥。 php 的话肯定是 web 开发，也可以再深入学习一下 HTTP 协议，甚至是网络层的协议。数据库那块也有一大坨东西。对你的项目而言，你有写单元测试吗，你有试过压力测试吗（ Jmeter ），你知道怎么去优化你的代码上的性能问题吗，你是否尝试过用设计模式去优化过你的代码结构，你的 sql 是否优化过（索引，批量），或者你的网站有安全上的漏洞吗（ XSS ， sql injection ）骚年你做的东西很棒，我衷心的建议是在现阶段好好夯实基础，其他复杂的东西了解就行了，静下心来，看好你~祝你找到一个不错的实习~", " 感谢你的建议。我现在也在补基础了。我想的还是一边学习基础，一边做点练手的小项目。", " 好的。我会多多学习的。", "推荐看这本书《深入 PHP  面向对象、模式与实践》，也许能解答一部分你现在的疑惑", " 这本书我买过，这本书偏理论研究，而不是实际运用（甚至有个章节是介绍如何自己设计一个“设计模式”），我觉得这本书更适合已经做了一两年开发然后网上又简单的了解过设计模式的人去看的。", " 所以说这种工作缺乏创造性，你现在应该是想做一些有创造性的工作而不是重复的工作，可以考虑往 PM 方向转啊，没事多了解了解自己在做的项目，或者和 PM 多聊聊，网上多学学。甚至自己创业。", " 现在贴吧你不怎么玩了啊？", "楼主我跟你的情况大致差不多  可以交个朋友抱团取暖吗。", " 可以啊，正想找几个一起学习的人。可以 q 我，上面有我号。", " 我去，你就是加我那个，，，，，", "都是 curd ？先自己写个 orm 喽", " 不是吧，我还没理解到那么深", " 对，只逛 V2 了", " 其实里面的讲的很多模式挺实用，结合框架源码一起看，会有不错的效果。", "fsdafasd"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"https://github.com/\" rel=\"nofollow\">https://github.com/</a>\r<br>\r<br>最近做分布式缓存，后期会把 Twemproxy 源码分析一起附上。\r<br>\r<br>Memcached 新增完善了按业务分析统计功能， Twemproxy 新增 nginx 的高并发机制。如果公司允许，我会一起加进来，现在暂时不提供哈。</div>"], "reply": "6", "tittle": "Memcached 源码分析，带详细注释，附 github 地址，", "comment": ["赞，有心了。", "赞。", "藏得太深了。不如写博客。", "赞", "twemproxy 源码中文分析在这里： ", "\r", "\r", "公司不同意把 twemproxy 的 nginx 高并发机制开源，所以只能提供原始代码分析了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>首页：\n<img alt=\"\" src=\"http://images2015.cnblogs.com/blog/804631/201605/804631-20160528110131444-1994913409.png\">\n文章显示页：\n<img alt=\"\" src=\"http://images2015.cnblogs.com/blog/804631/201605/804631-20160528110256491-966053597.png\"></p>\n<p>问题：自己捣鼓的一个简单 mvc ，原本想的是一个页面用一个方法，\nps:(+_+)，非程序员，下面写的就别吐槽李。\n<img alt=\"\" src=\"http://images2015.cnblogs.com/blog/804631/201605/804631-20160528110646834-112956027.png\"></p>\n<p>但是在写文章那页的时候发现，<strong>侧栏</strong>数据显示部分的代码通用不起来。所以很疑惑应该怎么去设计一下。</p>\n<p>补充：首页显示我是写了三个单独的方法去显示单独的页面，index、search、articles\n目的是为了首页、搜索、文章详情显示，但是这每个页面都有侧栏的公告、分类、最新评论这些，这些数据我想把他们能够写一次就行了，不至于在每个方法里面再次去重复上面的代码。\n感谢🙏</p>\n</div></div>"], "reply": "7", "tittle": "关于 blog 页面设计的小问题", "comment": ["像是 AmazeUI 我没听懂你问题的描述 你详细说下唄", "侧栏再写一个页面 weight 在其他三个页面 include", "前提没描述清楚。\r", "\r", "如果是纯静态页面的，你只能每个页面都复制一下侧边栏的代码。才开始学前端的时候，用 dreamweaver ，里边有一个 template 模板的一个东西，可以只用写一遍侧边栏，然后让每个页面都用这个侧边栏代码。\r", "\r", "如果有后端语言的话，可以如楼上说的把侧边栏抽出来放到一个 html 页面中，然后动态 include 进去", "WordPress 既视感。。。", "感谢各位的回答了，\r", "这个页面是做在 view 层，也就是纯 html 页面， template 模板，有点做不来。＝。＝\r", "今天又学了一下 jquery ，打算做一个接口，然后每个页面去请求数据。", " \r", "用 js 去获取，是舍近求远\r", "而且可能搜索优化很挫\r", "view 层本身就是模板啊", " 噢噢，蠢了，刚刚一直没理解到， Lpl 说的没错， include 一下 template 模板就好了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>PHP 后台开发工程师\n职位描述：\n1 、负责 C2C 平台及后台搭建与维护\n2 、负责相关产品需求讨论、完成技术方案设计及系统开发\n3 、负责相关系统的运营和维护，保证系统稳定高可用\n4 、负责制作及完善相关技术文档\n5 、参与系统架构优化、性能优化\n6、负责APP接口维护和微信二次开发\n任职要求：\n1 、精通 PHP 语言，两年以上 PHP 开发经验，熟悉第三方 MVC 开发框架， CI ， KOHANA ， YII 等\n2 、有良好的 MYSQL 数据库开发、性能优化能力\n3 、对业务有较强的领悟能力,能够快速的准确的将业务需求转化为业务架构,具有创新精神\n4 、有良好的代码习惯，熟悉设计模式和设计原则，结构清晰，代码冗余率低\n5 、有良好的团队合作意识及抗压能力，有强烈的主人翁意识积极推进相关工作的进展\n6 、有海量互联网系统、高并发高可用系统设计及开发经验者优先\n7 、有互联网金融、第三方支付、电子商务等相关行业经验者优先</p>\n<p>前端开发工程师</p>\n<p>岗位职责：\n1 、负责公司网站及产品前端框架搭建，独立完成整体页面结构制作；\n2 、负责公司网站及产品前端页面开发，根据要求功能实现；\n3 、前端需求可行性分析，确定前端开发的实施方案；\n4 、协助后端进行页面及接口调试；\n5 、研究前端技术，不断创新、优化并运用于实际工作中，提升用户体验及网站性能；\n任职要求：\n1 、 2 年以上前端开发经验，有 pc 、移动端开发经验优先考虑；\n2 、精通 JavaScript 、 HTML 、 CSS 、 Ajax 、 Json 、 Jquery 等前端技术，熟悉 W3C 标准。\n3 、了解 PHP 或其他服务端脚本语言、有大型互联网前端开发经验者优先；\n4 、有较好的沟通能力、高度的责任感，有钻研新技术的兴趣和能力；\n5 、具备良好的用户体检思想，熟悉不同浏览器的差异及兼容性；\n6 、善于思考创新，具备良好的快速学习能力和团队合作精神。</p>\n<p>简历请发 hr@homer.cc</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "深圳的童鞋看过来咯 ，氪空间入住团队，找 php 后台和 H5 前端咯 ...", "comment": []},
{"content": ["<div class=\"topic_content\">想自己做一个小项目，比较适合新手的。\r<br>\r<br>前端用 html5+css+js 做，后端用 php 来开发，请问下有什么建议吗</div>"], "reply": "23", "tittle": "想问一下，有没有比较适合初学者做的前端加后端的项目，比较实用的。", "comment": ["比如一个订餐系统的，但是感觉这个订餐系统太多人开发了，没有一点新意，希望大家能给一点建议。", "新意.....\r", " 新意，有点实用，外加有点实用，然后适合初学者的", "一个 todo 即可", "就不能老老实实做一个博客系统出来再说吗？", " 刚去看了下，是一个记录工作、任务，规划时间的网页是吧。", "cms ， bbs", "做博客，好一点也得下功夫的", "<", ";, 无耻的发下我写的博客，你可以用你的技术栈写写看看。。。", " ", " 不错啊哥们   感觉你做得真酷", " 就是一个 任务, 任务内容仅是一句话,之后这句话可以 CRUD", " 额  什么意思", " 费了我老大的尿劲😂...源码在这:https://github.com/penglongli/pblog", " 就是对一条仅有(内容+时间)的数据,进行增查修删", " 非常感谢 实力关注一 be 最近正好在学 spring 学完 mvc 了好好研究下", " 具体有什么用处，需要有一定的用处", " 可以啊，好像我歪了个楼....有问题的话直接提 ISSUE 就行了，看到我肯定会恢复哒~", "做个 V2EX 喽", "你可以做一个小型 ERP 系统…… 那种小型的，比如面向商店的，包括知乎上搜了都没靠谱的（那些大厂有免费级别的，然并卵， Access 数据库，功能也比较少）\r", "\r", "管理商品\r", "安全库存\r", "打印单据\r", "卖货及入库\r", "\r", "这种功能不需要太多 但是需求还是有的", "我说的这个好处是真的有需求，你可以有成就感，而且做起来的话难点不会很大，主要是费时间。但是也不是说非常容易，因为各功能的对接还是要考虑的。", "写一个论坛吧，最基础的，能覆盖的知识点也比较全面", "我们学校是拿购物网站练手的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>if ($_REQUEST['act'] == 'login')</p>\n<p>{\nheader(\"Expires: Mon, 26 Jul 1997 05:00:00 GMT\");</p>\n<pre><code>header(\"Cache-Control: no-cache, must-revalidate\");\n\nheader(\"Pragma: no-cache\");\n\nif ((intval($_CFG['captcha']) &amp; CAPTCHA_ADMIN) &amp;&amp; gd_version() &gt; 0)\n{\n    $smarty-&gt;assign('gd_version', gd_version());\n    $smarty-&gt;assign('random',     mt_rand());\n}\n\nif(!empty($_REQUEST['adm']) &amp;&amp; $_REQUEST['adm']=='sys'){\n\t$smarty-&gt;display('login.htm');\n}else{\n\theader( \"Location:../\");\n\texit;\n}\n</code></pre>\n<p>}</p>\n<hr>\n<p>拷贝来的代码，有些看不懂。\nif(!empty($_REQUEST['adm']) &amp;&amp; $_REQUEST['adm']=='sys')\n这个是 get 的方式的话应该如何构造？</p>\n</div></div>", "<div class=\"topic_content\">问题解决。结贴！！！！！</div>"], "reply": "18", "tittle": "求帮忙看看一段 php 代码！！！", "comment": ["post/get 提交方法都可以用这个，用 get 方式是这样：?adm=sys", "  我这样 get 的。 header( \"Location:../\")这个起作用了。直接跳到根目录！", "if ($_REQUEST['act'] == 'login') {\r", "貌似是?act=login&adm=sys ？", "lslqtz 哈哈。 bingo 。很好。非常感谢你！", "  已感谢", "$_REQUEST 可以获取 get/post/cookie 中的参数", "判断一个 parameter 是不是存在最好用 isset 而不是 empty ，如果恰好这个参数是 0 就没有意义了。", " cookie 也行？感谢补充，一会回去感谢。", " 我写 php 习惯性用 empty 。。是得改改。", " 页面我构造出来了。但是登录的是时候输入帐号密码却提示错误。是不是还漏了什么？\r", "求速回！", " 看这段代码单纯的看不出什么。。", "  你能不能帮我一个忙。你本地有没有环境。搭建一个 ecshop 的网站。然后我把代码发给你。你帮我看看好吗。\r", "有偿。不会让你白忙的！", " 我都不知道搞得定搞不定。。这个是干嘛用的？", "ecshop 购物系统。算是给后台 url 添加双重验证了。", " 这段代码是给 ecshop 的后台添加双重验证用的？明白了。 QQ ： 2143585062 ，来吧。。一起讨论讨论怎么搞，有偿无偿我倒是无所谓，大号群太多太特么卡了 233.", " 好的。等等哈。我忙下其他的东西先。很快！", " 大哥。我加了你了。怎么没回应？", " 因为距离你说的很快已经过了 18 小时。。我都睡醒了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"logo\" src=\"http://img2.rrcimg.com/motion/949203.jpeg\">\n火箭一样的发展速度；最大的真实个人二手车交易平台；超越预期的客户体验；永不停息的执着追求。我们就是人人车。</p>\n<p>公司介绍\n2015 年 11 月 12 日，人人车邀请国民男神——黄渤拍了自成立以来第一支广告！！！ <a href=\"http://dwz.cn/2aKHwN\" rel=\"nofollow\">http://dwz.cn/2aKHwN</a></p>\n<ul>\n<li>谁三个月就做到了在售个人车源数量第一？</li>\n<li>谁是自营二手车零售月销量第一？</li>\n<li>谁运营半年就拿到了雷军 2000 万美元投资？</li>\n<li>谁是二手车行业发展最迅速的公司？</li>\n<li>谁运营一年就拿到了腾讯 8500 万美元投资？</li>\n</ul>\n<p>火箭已经有了，重要的是坐上它！ Now ！</p>\n<h2>php 工程师（有过广告经验的）</h2>\n<h2>工作职责：</h2>\n<ul>\n<li>主要负责营销中心的广告系统的设计和实现；</li>\n<li>沟通业务需求，提供解决方案，促进营销方向的业务的效率，降低成本；</li>\n<li>培养新人，主导完成方案选型和设计；</li>\n</ul>\n<h2>职位要求：</h2>\n<ul>\n<li>从事过广告投放类的平台相关业务，了解各大主流广告平台的 API ，具备实际项目经验。</li>\n<li>3 年以上的大中型软件开发经验，对 LNMP 架构有深入的理解和复杂业务场景下的实践经验，熟悉 php 优先；</li>\n<li>具备系统设计经验，能驾驭复杂系统架构；</li>\n<li>熟悉 Mysql 索引、 Redis 或 Mongodb 优先；</li>\n<li>对工作有热情，对业务数据敏感，愿意深入到汽车 O2O 业务中，用数据+技术为业务发展提供完善解决方案；</li>\n</ul>\n<h2>PHP 高级工程师（架构方向）</h2>\n<h2>工作职责：</h2>\n<ul>\n<li>主要负责营销中心的服务端功能的设计和实现；</li>\n<li>能够迅速理解业务场景，并且能够驾驭大规模、复杂的业务系统，提高整体业务的运营效率；</li>\n<li>持续改进软件系统架构、核心算法或者核心技术等，保证系统高性能、高可用性和高可扩展性；</li>\n<li>培养新人，新技术预研和分享，主导完成方案选型和设计；</li>\n</ul>\n<h2>职位要求：</h2>\n<ul>\n<li>3 年以上 php 语言为主的大中型软件开发经验，对 LNMP 架构有深入的理解和复杂业务场景下的实践经验；</li>\n<li>熟悉 php 主流框架，熟悉 laravel5 ；</li>\n<li>具备完整的架构设计方法论及实践经验，能够驾驭复杂业务，设计出稳定、健壮、高可用的服务架构；</li>\n<li>数据库设计和优化能力，精通 MySQL 优先；</li>\n<li>熟悉 Redis 或 Mongodb 优先；</li>\n<li>对工作积极有热情，对业务数据敏感，愿意深入到汽车 O2O 业务细节中，用技术为业务提供完善解决方案；</li>\n</ul>\n<h2>加入我们</h2>\n<p>PHP 大神小牛们可以发送简历至 wushuiyong@renrenche.com   欢迎你的加入：）</p>\n</div></div>"], "reply": "3", "tittle": "[北京-人人车]php 高级研发 20~40K", "comment": ["要求挺合适的，就是在魔都。", " 没事，推荐朋友也可以啊", "记得人人车是招聘贴出的工资下限打八折……"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://github.com/icbd/junior_framework\" rel=\"nofollow\">https://github.com/icbd/junior_framework</a></p>\n<p>PHP 入门, 写了个简易框架.\n没大项目经验,想把框架丰富起来但是思路不清,恳请各位指点🙏</p>\n</div></div>"], "reply": "26", "tittle": "PHP 入门, 写了个简易框架", "comment": ["写框架之前可以先参考下其他的流行框架是如何弄得，\r", "刚看了下，就当前的代码而言，有两个点可能需要调整下，第一个是应该用 composer 来组织代码，第二个是应该把入口文件 index.php 单独提出来放到 public 目录，目录名随意", "不要为了丰富框架而去丰富，做成插件、扩展的形式怎么样？", " 请问， index.php 放入目录中有什么优点？", " 我的理解，这样的话 web 服务器把 index.php 的目录作为根目录，可以避免客户端访问到其它目录的敏感文件等。", "widdy 正解，能提高安全性", "- 参考一下如 Laravel 的加载机制，用 namespace 和 use ，都 php7 了还在 Hello::index 这样具体的 action 里用 require_once Twig_Autoloader 不合适， controller 应该有个基础类，处理 request 、 response ，加载各种基本组件等，其他实际的 controller 继承即可。\r", "- 另外 model 写成和 view 模板对应的类，那么和数据库对接的类放哪？层级关系怎么处理呢？", "1. ", " 先读一下 FIG 标准吧，关于语法的标准，和自动加载的部分", "1. ", " 先读一下 FIG 标准吧，关于语法的标准，和自动加载的部分\r", "2. 入口文件应该放到 public 或者 public_html 下，其他放在外面\r", "3. 第三方资位置，参考 FIG\r", "4. 框架名叫 Junior ，程序核心目录又叫 focus ，你是想逼死谁么？\r", "5. MVC 各层的抽象呢？\r", "6. 注释写什么 created by, date, time ，谁关心你这个啊，看 phpdoc 文档去", "现在做框架貌似简单多了，用 composer 管理组件，一个路由功能，一个模板功能，就是最简单的框架了，要什么功能就装什么组件", " namespace 和 use 和 SPL 自动加载用起来爽翻天，再也不用担心文件忘记引用或者引用过多文件的问题", "我有个问题...php 写框架很好写么？有个室友做 php 的，他说他写了好多框架了", " 框架这东西想怎么自定义都行，问题在于自己搭的框架别人可能不熟悉，那么团队合作就会有冲突。还有各种安全机制不一定做到位。光能跑起来是不够的。", "define('DS', DIRECTORY_SEPARATOR);\r", "\r", "一直没搞懂这么定有什么意义？难道只是为了短？最早见过它是在 CakePHP 里，后来看过好几个开源项目都这么写，返正我是接受不了紧紧为了短一些就去得复定义一下常量。。。", " \r", "为了避免在 Windows 下可能出现的问题。", " 这跟 windows 下出现问题有毛线关系，这货不就是目录分隔符嘛，我疑问的是为什么不直接使用 DIRECTORY_SEPARATOR 而非要把它再定义一遍？难道只是为了短？", "缺少事件机制，可以加上。", "我还写过一个 cms 呢，就不拿出来秀了", "m", " \r", "谢谢.\r", "\r", "Model 和 Controller 的设计还没想好,.\r", "用 ThinkPHP 的时候把处理全放在 Controller 里了,Model 几乎没用到;\r", "用 Ruby on Rails 的时候 Model 就非常重.\r", "\r", "还有就是 Model 和 DB 之间分工, 这个也还没想清楚.", " \r", "谢谢.\r", "\r", "1. 看了 FIG 的文档, 挺有用. IDE 用的 phpstorm, code format 的默认选项和文档里的建议几乎全部一致.\r", "2. 已修改\r", "3. 本来想用 composer 的, 但在我机器上有些问题(分配了超多的内存然后警告退出)\r", "4. 已修改\r", "5. 各层抽象还是 to do list, 一步步写\r", "6. IDE 默认的", " \r", "解决 Windows 和*nix 的目录分隔符不一致.\r", "环境是 OS X, 主要还是为了简写~", " \r", "- Model 分几个类，放不同的地方： 1. 和 DB 交互的， 2. 和 view template 互动的， 3. middleware 或 utility\r", "- Rails 可以把很多通用的 method 从 model 里抽出来，放 vender 或 lib ，成套的东西还可以自己做 gem", " 这个写法仅仅就是为短方便使用吧，根目录分隔符没一毛钱关系好不？目录分隔符不一致你简写一下一致了？", " ", "不用“ DS ”就用“/”了😂", " 我的问题是为什么要把 DIRECTORY_SEPARATOR 简写成 DS ，没有你直接写 \"/\"", "DIRECTORY_SEPARATOR 这个变量就是为了解决在不同系统差异的,再定义个 DS 没法理解"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>写一个分享链接功能，访问一次增加积分。\n现在发现如果用 QQ 浏览器访问除了正常的用户 IP 以外会多出\n101.228.209.255\nMozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/45.0.2454.101 Safari/537.36</p>\n<p>119.147.146.189\nMozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.95  Safari/537.36</p>\n<p>我估计是手机浏览器有中转站，只用 PHP 有没有办法过滤掉这些？\n这种来源很多,ip 也会改变做黑名单完全不行。</p>\n<p>目前考虑如果 PHP 不能解决，那能不能用 js ？和统计代码一样，这些中转站不可能会执行 js 吧。</p>\n</div></div>"], "reply": "2", "tittle": "分享链接手机浏览器中转站的问题怎么解决.", "comment": ["浏览器在请求的时候就中转了，不管你链接还是 js 。你可以给每次访问的链接上加一个一次性 token ，访问一次就失效，这样可以避免重复请求。", " 加上 token 那不是只是一次性嘛，分享链接目的是推广让所有人点开都算有效的。"]},
{"content": ["<div class=\"topic_content\">边学边写的文章，写的比较简单\r<br>刚刚接触这些，如果哪里不对请指出，想要入门的可以稍微看一看\r<br>\r<br><a target=\"_blank\" href=\"http://moonlib.com/688.html\" rel=\"nofollow\">http://moonlib.com/688.html</a></div>"], "reply": "9", "tittle": "Medoo、Slim、Twig 和 Composer 学习笔记", "comment": ["spl_autoload 其实不用自己写，可以在 composer.json 写，用 composer 的 autoload 就 ok", " 靴靴，我就觉得这么写有点丑", ".htaccess 看到就害怕 现在用 laravel 直接配置一条 nginx rewrite 就行了", "为啥看到照片就想起诚哥。玩过游戏的路过", "推荐使用 idiorm 替代 Medoo\r", " 可能我用 apache 多一点看 nginx 配置文件反倒头疼\r", " 哪里的照片", " 谢谢，我去看看", "头像 桂言叶？", " 不，是境界的彼方里面的名濑美月"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有 PHPer 对 Laravel 感兴趣的吗？本人最近在学习 Laravel 框架，自己做了个小站，总结了一些 Laravel 网站性能提升的方法。因为 Laravel 框架功能强大，但是代码也很庞大，它的易用是牺牲了性能作为代价的，所以要做好优化措施，具体的 tips 请见本文。</p>\n<p>欢迎交流！</p>\n<p><a href=\"http://blog.tanteng.me/2016/06/laravel-optimize/\" rel=\"nofollow\">http://blog.tanteng.me/2016/06/laravel-optimize/</a></p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"开启opache\" src=\"http://blog.tanteng.me/wp-content/uploads/2016/06/opcache.png\"></p>\n</div></div>", "<div class=\"topic_content\">再补充一个：\r<br>\r<br>PHP 7 安装和开启 opcache\r<br><a target=\"_blank\" href=\"http://blog.tanteng.me/2016/06/php7-opcache/\" rel=\"nofollow\">http://blog.tanteng.me/2016/06/php7-opcache/</a></div>"], "reply": "16", "tittle": "优化 Laravel 网站打开速度", "comment": ["你测一下这个站点的速度： ", " 挺快的，如何优化的", "点开看了一眼真心觉得是骗点击的。。。", " 哪里说得不对，或者有补充的地方，欢迎补充！", "最有用的是 php7 opcache 然后 gzip", " 明天试试", "路由的 group 拆粗去", " 为何", " \r", "\r", "![opcache]( ", ")\r", "\r", "刚安装了和开启了 opcache ，就这样可以了吗", " 我的现在也超快", "数据库版本和查询逻辑也是很重要", "“代码也很庞大” 说的好像真的跑了几秒钟一样。打开慢是因为你网络不好，也没有压缩。", "来试一下小站的速度 ", " 打开速度在绝大多数场景下，瓶颈都是在 IO 上，首先是其他人已经提到了的 gzip ，可以减小返回的页面大小，其次还有静态资源上 CDN 等（同一个域名浏览器并发请求有限制，但同一个域名在 SPDY/HTTP2 下有连接复用，各有利弊）。作为网站程序自身，首先优化的肯定是数据库查询。。。\r", "\r", "你所列出的都是自带的方法，其实我认为仔细看文档的人都知道。而且优化计算逻辑能进行的提升实在有限。。。优化还是应该从瓶颈入手。。。", " 实际上我经过优化还是作用很明显的，特别是 Laravel 路由缓存，配置环境， composer 自动优化，以及开始 php7 的 opcache ，页面的打开速度从 120ms 到现在 20ms 左右，不能说这些优化没有作用，而是效果明显！", "有个 FlyLaravel 可以看看，是 swoole  和 laravel 结合的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我就不多说了，能写出这种代码的人，还有人推崇。。。</p>\n<p><a href=\"https://github.com/slimphp/Slim/blob/2.x/Slim/Log.php#L308\" rel=\"nofollow\">https://github.com/slimphp/Slim/blob/2.x/Slim/Log.php#L308</a></p>\n<pre><code>if (!isset(self::$levels[$level])) {\n    throw new \\InvalidArgumentException('Invalid log level supplied to function');\n} else if ($this-&gt;enabled &amp;&amp; $this-&gt;writer &amp;&amp; $level &lt;= $this-&gt;level) {\n....\n</code></pre>\n<p><code>throw new \\InvalidArgumentException</code></p>\n<p>-&gt; then -&gt;</p>\n<p><code>else if</code> ?</p>\n<p>然后，该作者的 slim3 居然还是高度遵循 fig PSR ，我去。。。</p>\n</div></div>"], "reply": "32", "tittle": "有人认真看过 slim 的代码质量吗？", "comment": ["不可饶恕，居然有一个 else if", " 请教， else if 的问题是？", "记得这样可以少写一对大括号，可以用的吧？", "烂得在能够接受的程度内就懒得造轮子", "按我的理解\r", "推崇的本身 并不是代码写的好不好 而是这种造物的精神 以及造出来以后开源给大家使用\r", "避免重复造轮子的问题\r", "\r", "在这个基础上 没人天生什么都会 一次性就能写好\r", "都是慢慢去完善  根据个人喜好 一种逻辑 10 个人可能有 100 种写法\r", "没有必要强加自己的逻辑 认为自己一定是正确的打开方式\r", "\r", "仅仅是个人喜好而已\r", "比如我 就喜欢做简单处理 \r", "强迫症 别人的代码 缩进混淆了我都要修正 不然不舒服", " 这里 throw 出来后后续不会执行， else 是多余的，直接 if 就好了。", "看标题还以为是说 Ruby 的 Slim ……", " throw 要上面的 if 成立才会进入啊， if 不成立就判断接下来的 else if ，跟直接 if 有什么关系？", "看来我跟楼主水平差距太大，我硬是没看出问题在哪。\r", "不过 3.x 的 slim 已经不用他自己的 Log 模块了，扔了很多包袱给其他包。", " \r", "\r", "他的意思是可以直接\r", "\r", "if (!isset(self::$levels[$level])) {\r", "throw new \\InvalidArgumentException('Invalid log level supplied to function');\r", "}\r", "\r", "if (.....\r", "\r", "不过其实没什么，不影响稳定性，后面重构的时候修改下就行了，并不需要惊讶。", " 我解释错了……上面 if 成立就不会到 elseif 而且还 throw 了；如果把 elseif 改成 if 也不会有问题，上面 if 不成立就会到 elseif ，和直接 if 也没区别。", " \r", "明显 else if 更优雅。", " 欢迎你", "不知道这个是 slim2 还是 slim3, 我看过一部分 slim2 代码, 槽点更多.", " PSR2 里面是“应该使用关键词 elseif 代替所有 else if ，以使得所有的控制关键字都像是单独的一个词。”", "意思是 else if 多加了一个空格，所以问题很大？", "正是提 pull request 好机会呀", " 2.x", " 怎么会多余。。。又不一定进 if 流程\r", "看了你后面的解释，还是没明白。。。\r", "\r", " 原来如此，有可能是你说的这个。", " 所以我貌似直接忽略了 PSR （然后 get 错点了（", "psr 是一个问题\r", "另外 elseif 本身不需要 直接 if 不就可以了么\r", "反正我个人的习惯 很少用 elseif\r", "if 要么抛出异常 要么 return 跳出函数 主体流程都是保持在一个缩进里的 这样看起来更舒服\r", "对于实在要用 elseif 的 我宁可转为 switch", "这个槽点明显不正确吧？\r", "\r", "if -> else if 这样的逻辑可以做著名的的火车选路，可以做更好的跳转的。运行起来会比多个 if 更快。", "除非 code style 上有要求，要不然这个 case 里面\r", "if () {\r", "  throw\r", "} else if {\r", "}\r", "和\r", "if () {\r", "  throw\r", "}\r", "if {\r", "}\r", "有啥区别？不能光凭这一点就吐槽“能写出这种代码的人，还有人推崇。。。”吧。", "没啥不好，这种写法完整的描述了一个 state transition", "确实是不用 else if ，增加了理解难度，可以在后面直接 if \r", "but....这么点小瑕疵，就上升到\"能写出这种代码的人，还有人推崇。。。\", 楼主酸味真浓。\r", "要不楼主亮亮你的代码，看看有多少值得推崇的好代码", " 这里只是举个典型的例子，你可以看看其他的代码，比如 Slim.php 之类的，随手翻一下", " 能贴一下自己的代码让我们学习一下吗？", "我也习惯这样写 有问题吗？", "你这是逗我玩么\r", "\r", "\r", "\r", "\r", "are you fucking kidding me \r", "\r", "\r", "\r", "\r", "\r", "\r", "\r", "这 tm 整个框架设计的就有问题，从 slim.php 到 route 到 middleware 到 log 到 能跑起来真是走运", "关于 ", " 和 ", "\r", "\r", "关于 session cookie ", "\r", "关于 log exception ", "\r", "关于 log write ", "\r", "\r", "关于如何设计一个 PHP 框架 ", "\r", "\r", "我敢说作者是个野鸡", "有其他小巧好用的逛街推荐不？", "帖一篇王垠博客的文章，直接拉到页面最后面开始看，第 2 条。\r", "\r", "\r", "然后再读读他的这篇文章，我觉得他说的是很有道理的。\r"]},
{"content": ["<div class=\"topic_content\">设置 5 分钟跑一次数据采集入库,\r<br>如果采集数据太多,5 分钟还没跑完,\r<br>该怎禁止触发下一次 5 分钟执行呢?</div>"], "reply": "13", "tittle": "PHP 数据采集超时怎处理?", "comment": ["額外建立一個文件例如 working.lock ，採集前判斷此文件不存在，採集後刪除？", "拿 Memcached 设置个 Flag 不就好了？", " 为什么我上各种网站都有你", " 其实这里都是我的马甲，不信我拿其他帐号回复给你看。", " 哈哈推特 乌云 V2EX 都能看见熟人", " 因为我无处不在啊。", " 我小号特多", "你用什么来触发 php ？可以检测一下 php 的返回来判断是否下次继续触发，或者把 5 分钟改小，增加 php 的采集线程数，减少单线程的工作时间。用 memcached 设 flag 也不错，但是感觉为了这一个功能就上 memcached 有些大材小用，除非你们业务本身用到这玩意。。", "也可以使用外部工具，比如 flock\r", "\r", "flock -x -w 300 /tmp/task.lock php task.php", "为什么每五分钟跑，一直跑会有问题么？\r", "持久化处理+队列。应该就完全可以解决楼主的问题了，而且效率和可靠性更好", "如果是 cron 定时执行的 请选择 dcron 类似的服务", "放个文件 lock ，这个文件在就不执行，只要 php 不超时，入库完让其删掉文件，下次触发照样可以继续执行。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>现在业务是这样子的，</p>\n<p>需要每 X 分钟执行这一段代码，</p>\n<p>这段代码先从其他服务器上收集数据，然后用 php 整理这段数据，再传送到另外一台服务器。</p>\n<p>但是这段的代码，第一层的 foreach 的元素也许是 20 个，所有的代码执行完成会超过 5 分钟。</p>\n<p>要求是第一个元素要每隔 5 分钟发送给另外一台服务器,但是由于所有执行完超过 5 分钟，</p>\n<p>会导致第一个元素也许要 5+x 分钟才能更新</p>\n<p>Q1:请问这种如何解决？</p>\n<p>Q2:如果说把这 20 个元素分别跑 20 个进程，可不可以？以后会有什么后果？对服务器的压力大不大？</p>\n<p>Q3:如今代码是用 php 同步的方式请求的，领导说可以尝试 php 异步的方式，但是说实话， php 我写到现在都是同步的，也没听人提起过 php 用异步的，网上查了下说很少这么写，想问下你们怎么看？</p>\n<p>Thanks</p>\n</div></div>"], "reply": "7", "tittle": "请教这个问题的解决方案（ web 方向）", "comment": ["生产者消费者模式\r", "弄个队列，把数据插入这个队列\r", "每 5 分钟把这个队列的数据发送过去", "方法 1 ： php 不了解，多进程是个方案，不用开 20 个，只要能减少到 5 分钟一下就满足要求了吧。\r", "方法 2 ：用队列处理，一次处理一个，处理一个发一个，一个要不了 5 分钟吧？\r", "方法 3 ：用 nodejs 写（异步咯）", " . popen 多平台。", " @", " 问题是他需要等访问 url 后才能获取数据，然后再发送，这样子即使后面发送是每 5 分钟一次，但是还要加上读取数据的时间，即是从 url 后访问的数据。", "  定时+任务队列 或者用 async swoole 的异步多进程来做", " 收集数据、处理数据、发送数据分离\r", "收集数据比如 5 分钟取一次？然后丢处理队列。\r", "处理数据部分是持久化处理，一直保持运行检测处理队列，一有新数据就取出处理。处理完丢结果到发送队列\r", "发送数据部分也是持久化处理，检测发送队列，然后按规则比如五分钟发一次推送数据。\r", "处理数据部分先尽可能优化处理逻辑，然后可以开多线程并行加速处理，注意是多线程。目前 php 支持多线程，不过需要安装一个扩展 Pthread", "队列是个方案，就第一个元素必须 5 分内更新，应该可以实现。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>今天给 dz 修锅，结果发现 UCenter 通讯不正常。我做了如下测试：</p>\n<p>1 、按照网上的初级教程重置通讯 KEY 等，无效。</p>\n<p>2 、修改后台 ip+VPS hosts 都指向 127.0.0.1 （但是事实证明就是 127.0.0.1 ）</p>\n<p>3 、把网站的 80 口打开，因为以前都是 https 强制（ 301 在前端 CDN 上）</p>\n<p>4 、试着查查看是不是环境（fsockopen）问题，然后：</p>\n<pre><code>&lt;?php\n\n$fp = fsockopen(\"http://xxxxxxxx\",\n 80, $errno, $errstr, 30);   \nif (!$fp) {   \necho \"$errstr ($errno)&lt;br /&gt;\\n\";   \n} else {   \n$out = \"GET / HTTP/1.1\\r\\n\";   \n$out .= \"Host: xxxxxxxxx\\r\\n\";   \n$out .= \"Connection: Close\\r\\n\\r\\n\";   \n \nfwrite($fp, $out);   \nwhile (!feof($fp)) {   \necho fgets($fp, 128);   \n}   \nfclose($fp);   \n}  ;\n\n?&gt;\n</code></pre>\n<p>(allow_url_fopen:On)\n结果 PHP 给我返回了这么一句： Unable to find the socket transport \"http\" - did you forget to enable it when you configured PHP? (42852192)。更换成 https 后引号内又变成了 https 。\n麻麻，为何别人家的机器不这样 QAQ</p>\n<p>搜索了半天，发现出现这个问题的大多是 windows ， linux 很少见，因而没有找到合适的解决方案（那些提问者也都不了了之）。</p>\n<p>机器内的 curl 正常，不论有没有 s ，也就意味着 openssl 应该没啥问题。——求助广大 V 友们，问题到底出现在哪里？如果需要重新编译 php ，又需要加上哪个参数？（原来是 lnmp 包）</p>\n<p>附： lnmp 编译参数：</p>\n<pre><code>'./configure' '--prefix=/usr/local/php' '--with-config-file-path=/usr/local/php/etc' '--enable-fpm' '--with-fpm-user=www' '--with-fpm-group=www' '--with-mysql=mysqlnd' '--with-mysqli=mysqlnd' '--with-pdo-mysql=mysqlnd' '--with-iconv-dir' '--with-freetype-dir=/usr/local/freetype' '--with-jpeg-dir' '--with-png-dir' '--with-zlib' '--with-libxml-dir=/usr' '--enable-xml' '--disable-rpath' '--enable-bcmath' '--enable-shmop' '--enable-sysvsem' '--enable-inline-optimization' '--with-curl' '--enable-mbregex' '--enable-mbstring' '--with-mcrypt' '--enable-ftp' '--with-gd' '--enable-gd-native-ttf' '--with-openssl' '--with-mhash' '--enable-pcntl' '--enable-sockets' '--with-xmlrpc' '--enable-zip' '--enable-soap' '--with-gettext' '--disable-fileinfo' '--enable-opcache' '--enable-intl' '--with-xsl'\n</code></pre>\n<p>附 2 ：因为是 DZ ，所以不太可能一个一个改成 curl 。</p>\n</div></div>"], "reply": "2", "tittle": "Unable to find the socket transport \"http\"/\"https\"", "comment": ["fsockopen 是个 socket 连接函数，接收的第一个参数是 hostname ，本来就不能 open http:// 啥的吧……\r", "你把 http:// 去掉看看……", "  =。=去掉之后是 400BadRequest （但是我没设置任何验证）\r", "\r", "凭着第六感重新编译了 PHP （原来参数）,UC 通讯正常了。。\r", "\r", "本题结贴。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Lararavel 5.3 目前正在开发中，和所有的新版本 Laravel 发布一样，这一版本将会增加一些新功能和新特性，现在让我们一睹为快:\n<a href=\"http://laravelacademy.org/post/4717.html\" rel=\"nofollow\">http://laravelacademy.org/post/4717.html</a></p>\n</div></div>"], "reply": "14", "tittle": "Laravel 5.3 将会带来哪些新功能，让我们先睹为快", "comment": ["wow ！ 5.3 了，好快", "5.2 还没用透， 5.3 来了", "模板里好多 @,预计未来框架里的一切都会是 Collection 。作者果真是搞.net 的。", "没什么全新功能，基本都是对已有的进行改进优化", "又要看一遍文档了", "5.3 是不是 LTS ？有人知道吗", " 不是", " 半年一个大版本", " 可以了解下新特性 不是一定要换", " 哈哈 他也不是一个人在战斗", " 恩  是的 看正式版出来怎么样", " 看新特性即可", "所以千万别用这玩意", "改动太大，更新太快"]},
{"content": ["<div class=\"topic_content\">我前几天面试了一家公司:该公司说总部在外地，技术在深圳，然后入职时却变成另外一家公司。我想问一下，会不会存在什么安全隐患。</div>"], "reply": "19", "tittle": "求助，我面试了一家公司，", "comment": ["这种公司估计不太好", "这么大的事都能骗你，还有什么事不能骗？走人！", "99.99%是外包公司，连招聘这个环节都外包给其他公司了", "还好了, 建议问下同事\r", "有些公司是把相应部门拆分的, 每块不同的公司做员工的福利待遇处理\r", "你可以查下现有公司的股东是否是你面试公司的股东就行了\r", "\r", "当然, 还要排除下是不是外包..", "工商局网站查一下构成", " 一般外包公司都安排给其他公司面试了，自己面过了没用", " 是不是只要是正规公司，工商局网站都能查到？如果非正规公司，被工商局查到了会怎么样？", "可能是集团吧。。", "可能是拆分的多个公司。我这司有 2 个名称，还有并购的其他公司名称。只是不是外包就好办。", "天眼查 用招聘公司的名字查询一下相关信息。\r", "可能是外包，可能是集团的公司，看你合同签约的情况，外包的话合同也能看出来，这种问题直接开口问就好了。", "搜索网站查询一下 该公司 便可", " 只要是注册公司工商局都能查到，所以查到的不一定正规。但是如果是集团公司的话股东构成肯定都是总公司的。", "算了别去了，将来不一定多少坑吧？", "估计是外包公司。这种公司都会遍很多理由，我遇到过：总部在 A ，以前在 B ，现在要从 B 将研发转移到 A ，所以你入职先要去 B 协助项目转移， 3-4 个月。果断不去，外包公司的小伎俩，拖你几个月，项目差不多了，你要留着就继续去比的地方出差，不去公司就直接裁你", "心感觉不靠谱，就别想着万一不错的公司尼？就这万一，害你费时间，心纠结", "名字贴出来大家看看", "同意楼上 ，要么直接问人事，这事大着呢", "你是哪找到的这家公司啊", "看是不是劳动委派，如果是就坑爹了，\r", "如果是全资子公司这样的公司实体的话，就没什么问题，\r", "现在国内稍微有点规模的公司哪个不是各种实体的，\r", "没几十个子公司都不好意思见人"]},
{"content": "", "reply": "3", "tittle": "Laravel 中服务容器和服务提供者的关系是什么?", "comment": ["Provider 就是把服务注册到 Container 中\r", "坐等被喷", "IoC"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>希望大家能多提提意见。</p>\n<p><a href=\"http://simpleforum.org/t/331\" rel=\"nofollow\">http://simpleforum.org/t/331</a></p>\n<p>GitHub 地址： <a href=\"https://github.com/yujiandong/simpleforum\" rel=\"nofollow\">https://github.com/yujiandong/simpleforum</a> （目前还是 v1.1.4 ）</p>\n<p>新版加入了 V2EX 的积分系统，每日签到功能\n还加入了 用户组，私信，邀请码功能</p>\n<p><img alt=\"\" src=\"http://7xnug4.com1.z0.glb.clouddn.com/upload/201604/25/1_AvtV81.png\"></p>\n</div></div>"], "reply": "7", "tittle": "SimpleForum v1.1.5 发布", "comment": ["不错 0.0", "很棒", "挺好的，我用了这个搭建了一个 ", " 。", "感谢 po 主…收藏了…等有需求的时候拿出来用", "装了一次没装上……", "不错，感谢 lz 之前帮忙安装，不过那个空间已经到期了，回头有空再装", "这个怎么感觉有点像 flarum 啊"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>PHP 研习社是一个技术交流组织，</p>\n<p>6 月线上公益课地址： <a href=\"https://ke.qq.com/course/136934#term_id=100156258\" rel=\"nofollow\">https://ke.qq.com/course/136934#term_id=100156258</a></p>\n<p>QQ 群： 118127305</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "PHP 研习社 6 月线上公益课程直播明天开课", "comment": []},
{"content": ["<div class=\"topic_content\">薪酬: 10-15K\r<br>\r<br>职位描述\r<br>职位要求：\r<br>1 、两年以上 PHP 开发经验，有电商 /O2O 相关项目开发经验优先;\r<br>2 、熟练掌握 LNMP ，熟悉各种 PHP 主流 MVC 框架，熟悉常用的 Cache 组件， 熟悉 Linux 基本运维;\r<br>3 、在后端角度具有丰富项目经验，包括但不限于（安全，数据库、缓存、性能调优、开放平台等）；\r<br>4 、学习能力强，对技术有钻研精神，具有良好的自学能力和独立解决问题的能力；\r<br>5 、熟悉 shopex 优先考虑；\r<br>6 、熟悉前端(包括 jquery/css/html5)和常用缓存技术(memcache/redis)的优先考虑;\r<br>联系方式： 18998819130  林先生\r<br>email:raylam@zhongniu56.com</div>"], "reply": "7", "tittle": "广州初创互联网公司高薪吸纳 php 工程师！", "comment": ["接下来有请楼下的喷神点评一下", "cache 组件？比如说？", "兼职的需要不嘛？ remote work", "shopex ？目测二次开发\r", "熟悉前端？目测全干工程师\r", " [手动滑稽] ", " 需要全职的哦", " 有专业的前端， shopex 是其中一个产品，还有其它产品是用 tp 等其它框架的", " 这个么？\r", "好多基础功能待完善啊。。。比如那个微信登陆授权的东东。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>之前在 windows 平台下做过一点点 PHP ，用的是一键部署的 PHP 环境，根本不用担心这些基本的拓展。</p>\n<p>现在在 Mac 下用 Nginx + PHP5.6-fpm 部署，从头摸索。 PHP 网页已经能运行起来了。但是在<code>php.ini</code>添加上需要用到的拓展就蒙了，提示在我的 PHP 安装目录下找不到相应的拓展。但是我通过 brew 去搜索也只能找到少部分的拓展，求老司机带带路。</p>\n<p>我在 PHP.ini 添加了这一行</p>\n<pre><code>extension=php_mysql.so\n</code></pre>\n<p>运行之后的错误提示</p>\n<pre><code>&lt;b&gt;Warning&lt;/b&gt;:  PHP Startup: Unable to load dynamic library '/usr/local/Cellar/php56/5.6.22/lib/php/extensions/debug-non-zts-20131226/php_mysql.so' - dlopen(/usr/local/Cellar/php56/5.6.22/lib/php/extensions/debug-non-zts-20131226/php_mysql.so, 9): image not found in &lt;b&gt;Unknown&lt;/b&gt; on line &lt;b&gt;0&lt;/b&gt;&lt;br /&gt;\n</code></pre>\n</div></div>"], "reply": "18", "tittle": "UNIX 环境下怎么安装 PHP 拓展呢？例如很简单很普通的 php_mysql.so", "comment": ["你得先安装了扩展，才能有这个文件，在 ini 里启用才有用。", "而且 php56 里已经废掉 mysql 扩展了，现在只有 mysqli 扩展和 pdo 扩展", "1 ：下载 php5.6 源码包， make&&make install 想要的插件；\r", "2 ：编辑成功的插件拷贝到一个目录；建议 /usr/local/Cellar/php56/5.6.22/lib/php/extensions/；\r", "3 ： php.ini 添加。\r", "\r", "\r", " mysql 扩展是 php7 开始废掉的。", "unix 没接触过， linux 下是通过编译 php 的时候通过参数控制扩展的，可以 google 一下 php 的 configure 参数，对于已编译完的，需要的扩展需要通过 phpize 生成 so 文件，具体请 google phpize 安装扩展，教程太多了", " 谢谢，不过感觉有点麻烦～总之用着先\r", "\r", "我在查资料的时候看到 pear 这个工具，是用来管理插件的吗？", " \r", "其实 mac 上 brew 已经很好用，基本插件都会有， brew options php56 ，实在搞不定再自己编译；\r", "pear 这个工具有些老了，现在更流行 composer 。", " composer 没法管理插件吧，只能管理包", " ", " 5.5 里面就已经废弃了", " 如果用 homebrew 的话，安装扩展也挺方便的，比如直接 brew install php56-xdebug 就可以安装 xdebug 扩展了，而且帮你把 ini 也改了，自动生效", "pear 管理 php 写的类库,  历史上没什么人用, 大部分是 php4 时期的， 官方有个 ", " 针对 php5 的， 但是依旧没什么人用。 近年社区更倾向于 composer.\r", "pecl 管理 c 写的 php 扩展.\r", "有些发行版把 pecl 打包进了 php-pear 的包里.", " 人家都说了， 5.5 是 deprecated ，会报 E_DEPRECATED ，但是非要用可以么？当然可以。而 7 里是正式 removed ，想用？不行。", "mac 用 brew install php70-redis\r", "\r", "其他平台如果有 pecl\r", "pecl install redis 就可以\r", "\r", "如果没有 pecl\r", " 下源码\r", "进去 phpize\r", "./configure && make && make install", " deprecated 的意思就是废弃，就是说新项目就不要用了，旧项目尽快迁移。", "看上去你的 php 是用 brew 装的，那么你都不用额外在 php.ini 加配置，直接用 brew 装对应组件就好。", "装额外的 php module ，比方说 xdebug ：\r", "brew info homebrew/php/php56-xdebug\r", "你都不用再写 ini 文件加载该 module ，它安装的时候自动把相关 ini 文件放在\r", "/usr/local/etc/php/5.6/conf.g/ 目录下了\r", "另外如果你做了：\r", "brew link php56\r", "可以用：\r", "php -v 查看版本\r", "php -m 查看 module", " 嗯嗯，谢谢。然而一切来得太 匆匆，我不小心 rm 了我的个人目录，现在有点万念俱灰。手动哭", "1 、 mac 下可以采用 MAMP 这个集成环境的\r", "2 、 mac 下由于自带了 php 环境，但是缺少一些额外需要的扩展，如果 brew 安装能够并入默认的环境中（没尝试 homebrew 安装方式），自然是最好的。安装之后一定记得重启 php-fpm （重点）和 apache\r", "3 、摒弃原有的 PHP 环境，采用 macports 安装，目前本人 mac 就采用这种方式，已经可以成功使用", "在源码包里面编译插件是最快也是最合适的办法"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>看到一行这样的代码，笑抽了</p>\n<pre><code>//去除最后的&amp;\n$str = substr($str, 0, count($str) - 2);\n</code></pre>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>count函数用来计算数组长度，用在string上返回值固定是1而不是字符串长度。</p>\n<p><code>$str = substr($str, 0, count($str) - 2);</code></p>\n<p>实际上相当于</p>\n<p><code>$str = substr($str, 0, -1);</code></p>\n<p>然而这行代码的Niubility之处是计算结果居然是正确的，第三个参数是负数就表示从末尾计算长度，也就是截取掉最后一位。</p>\n<p>这行代码已经在线上运行很久了。</p>\n<p>@500miles 给出的作者的心理历程...</p>\n</div></div>"], "reply": "81", "tittle": "哥们你代码写的真幽默", "comment": ["嗯？我在 JAVA 中就这么干的- -\r", "难道还有更简单的方法？", "为啥笑，不应该是这样嘛", "嗯？我在 PHP 中就这么干的- - \r", "难道还有更简单的方法？", "//去除最后的&\r", "$str = substr($str, 0, count($str) - 1);", "这个拼接参数吧，\r", " PHP 有一对函数叫 implode 和 explode", "为啥是-2,不是-1 吗?", "直接写 -2 就可以了，在 PHP 里", "rtrim?", "rtrim($str,'&');", "php\r", "substr($str, 0, -1);", "//去除最后的&\r", "    $str = substr($str, 0, -1);", "我没看懂，能否帮忙解释一下？", "槽点是 - 2 ， substr 第三个参数应该是 length 。", " 如果$str 其它位上也有&，拼接起来也麻烦。。", " Java 里面推荐 Apache Commons Lang 的一些工具， StringUtils 里面有大量现成的工具。", "忍一忍风平浪静", "也许有个空格也说不定所以用-2", "```\r", "$str[strlen($str)-1]=''; //多简单\r", "```", "count(String) === 1  \r", "count($str) - 2 这个始终等于-1  \r", "so...", " \r", " \r", " \r", " \r", " \r", " \r", " \r", " \r", "\r", "重点在 count...", " 如果含多个&，就不行了吧", " 正解", "不懂 php,php 的 count 不是求字符串长度吗?", "好多人入坑， count 只能 count array 如果非数组 返回的是 1 吧", "醉了,count() 函数返回数组中元素的数目。\r", "\r", "count 还能用在 string 上?这也不报错?我大 java 早报错了.", " 这还是个面试题，” count('1234'); 返回什么？“ \r", "当初有人回答：这逼题目，怎么可能把 count 的参数传为字符串", "python 爽啊。 str[:-1]", "就怕别人看懂自己代码.... ..\r", "\r", "$num = 1 就必须得写成 $num = ( 99 - 199 - 3 + 2 * 55 )  - 20 + 7 * 2", "rtrim 是干嘛用的", "Python 大法好，直接切片器……[1234:-1],前面正着数，后面倒着数，只要不超，就都行", "python 大法好 \"hello&\"[:-1],想不到号称天下第一的 php 写起来如此麻烦，还是不要学了。", "肯定是想 strlen($str) - 1\r", "\r", "但是误写成 count($str) - 1 了\r", "\r", "完了一看, 最后一个 & 没截掉啊,\r", "\r", "于是 又改成 count($str) - 2 了\r", "\r", "结果 歪打正着,  然后就翻篇了, \r", "\r", "这绝逼是 作者当时的心理历程", "* 不管用 count 能不能取到长度，都建议用 strlen,这样能够语意化的体现你的意图，代码即文章嘛。实测确实 count 得不到字符串的长度了...\r", "* 只去掉最后一个&的话 substr('aa&', 0, -1)这样子就行了，很直观，负距离这个词不算污吧？\r", "* rtrim('aa&', '&')我觉得是最好的，毕竟万一后面有两个'&'你就不去掉？", "#面试官筛人参考#", " “啊，很正常嘛，位置从 0 开始所以是-2 嘛”", " 我看你这个看懂了。", "千万不要动稳定运行的代码", " 这个，有理由不改吗？", " 一定就是这样，哈哈哈", "楼主有才", " 厉害厉害！原来是这样，哈", "别嘲笑别人，万一哪天你加班到凌晨，说不定也会这样。", " 高手，原来如此。", "  完美重现 😂", "哈哈哈哈哈哈哈", "蛤蛤蛤蛤懂了", " 开个玩笑，这是代码界的玄学。", "破 php 程序员 鄙视下", "有一种玄学的感觉", "你见过 $num + 0 的写法么, 目的仅仅是为了把字符串转成数字", " js 大法表示 !!var 把变量转成布尔值", "66666 ，这确实是玄学\r", " 我就这样写过~~~对，就是以前加班的时候写的 23333 @", " \r", " \r", "php 也是可以倒着数的。。。你语言再强大也拦不住想 SB 的程序员。。。", "[0, len - 1 - 1]", " 写 JAVA 的时候。。我经常把一个 int+\"\"", " 经常 $num*1", "强烈建议 V2EX 做高赞评论置顶", "奇技淫巧", "完美的双关啊！", "用错误的方法得到正确的结果。", " php 的 strlen 函数才是计算字符串长度", " 用来转字符串的吧。。。以前有个同事在 C#里也这么用", "能正常运行就行何处纠结， php 本来就是弱类型语言，作用一些奇淫技巧达到目的，非得按部就班？  我估计你还没看过 JavaScript 的奇淫技巧。", " 错误使用函数也能叫奇淫技巧了啊？", " 很正常的用法啊， angular 或者 lodash 里面就有，谁叫 js 的 undefined 没办法简单判断", " 我是 JavaScript 新人，請教一下不可以 var == undefined 麼？", " 可能人家就是计算数组长度呢？", " 楼上说笑了， 我已经说得很明白了， php 本来就是弱类型语言，只要没有语法错误，只要能达到自己想要的结果就行，没必要搞定像 JAVA 那样，毕竟每个写 PHP 的人水平和思想都不一样，不然怎么说 php 是世界上最好的语言 ，啊哈哈啊啊哈哈。", " 你也很幽默", "一觉睡醒    这么多赞......\r", "\r", "这是要成网红的节奏啊  233333", " 你不说我也没发现负距离这个词很污", " 可以当然是可以，但是写两个感叹号不是更简洁？", "Ruby 除了能用-1 ，还可以这么搞\r", "str['&'] = ''", " 總還是覺得「簡潔」沒有「明晰」來得重要…… 所以我果然還是比較適合寫強類型語言？", " 果断给赞 233333", " 🐂 233333", "不错 一开始也晃了下小弟", "php 是宇宙最好的语言 虽然我不会", "php 高级黑", "这都能蒙上 233333", "count 居然对了。。。"]},
{"content": ["<div class=\"topic_content\">php 开发，环境不统一难免会出现一些问题，好的环境应该是支持无缝移植，我先说下，我开发环境是， win+vbox +centos+docker, 由于公司有钱了，全部换 mac 了，现在是 mac+vbox+centos+docker ， docker 里面各种环境都集成好了。大家是如何搞的？隐隐的感觉 mac 下用 vbox 有些 low</div>"], "reply": "6", "tittle": "大家平时开发是如何搞自己的开发环境的？", "comment": ["我是 Mac 裝 Linux 用 docker", " 没用虚拟机？那你不上 Q ？", "vagrant 可以吗？", " \r", "對的除開發 都在虛擬機", "本地无环境\r", "开发版本库同测试服务器 webhook 联动", "vagrant \r", "laravel 的 homestead 环境。我用的时候的借鉴的几个优点\r", "1 、将 virtualbox 里面的 ~/.bash_aliases 拷贝一份放到 OSX 里面用\r", "2 、 14.04 的经典环境不用折腾\r", "3 、 Code 目录自动同步\r", "4 、不需要切换 OSX 里面的 php 版本\r", "网上一大堆人在用在加视频教程。缺点是启动有点慢。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>“ Namespace declaration statement has to be the very first statement in the script ”</p>\n<p>像这种一般是命名空间 namespace 位置没紧跟在 php 标签下一行，然而我明明是放在 php 下一行的啊！</p>\n<p>然后将内容全选复制，将源文件删掉重建文件，再粘贴保存，运行，正常。。。</p>\n<p>这有可能是哪里出了问题？百思不得其解</p>\n</div></div>"], "reply": "5", "tittle": "php 里一个莫名其妙的命名空间错误", "comment": ["应该是编码   如果是 utf8 再检查下是否含 BOM 头了。在 linux 下 vim 看下或用 notepad++都可以", "同上 应该是编码问题", "bom 头", "不知道你用的是不是 mac ？应该是你代码里面某个空格是汉语拼音的空格，之前遇到过", "给你一段去 bom 的代码试试， "]},
{"content": ["<div class=\"topic_content\">变得妈都不认识了，而且也没有向前兼容，函数啊类啥的直接删了。\r<br>感觉几个月前的教程都没法看了。</div>"], "reply": "3", "tittle": "新手想学 Laravel，但是 Laravel API 变动太夸张了吧", "comment": ["你看的是 1.0 的教程然后发现现在是 5.2 了？", "想要稳定的推荐 5.1 LTS 的版本，汉化的文档我推荐这一个： ", "\r", "某团体做的精校版", "5.1 LTS"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>SelectNextOccurrence 也不知道该翻译成“选择下一个什么”，默认的快捷键好像是 ALT+J</p>\n<p>netbeans 中有吗？</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "Netbeans 有没有跟 phpstorm 的 SelectNextOccurrence 一样的快捷键", "comment": []},
{"content": ["<div class=\"topic_content\">一个微信电商系统后台外包\r<br>该电商系统采用前后端分离开发模式， api 接口已经定义好，因人手不足需要一名 laravel 开发工程师负责后台！\r<br>\r<br>要求：\r<br>1、全职 soho 开发人员，兼职勿扰；\r<br>2、精通 laravel ，零基础或低基础者勿扰；\r<br>3、有使用 laravel 开发微信项目经验者加分；\r<br>\r<br>对 reactjs 有一定了解，方便与前端对接。\r<br>\r<br>预计 10 － 12 天工作量，预算 20k。\r<br>\r<br>有意者请联系 hr ＃ <a target=\"_blank\" href=\"http://cloud-eagle.com\" rel=\"nofollow\">cloud-eagle.com</a>, 附相关作品及简历，非诚勿扰！</div>"], "reply": "6", "tittle": "laravel 微信电商系统开发外包", "comment": ["第一句干死 99%", "业余时间做不行吗，日投入 4h ，周末全天。上班时间也能够通和讨论", "目测楼主能找到的干 8 小时全职 都赶不上***大部分***想干 4 小时兼职的\r", "\r", "第一个就是 能力基本赶不上\r", "第二个就是 全职干 8 小时的 基本赶不上兼职干 4 个小时完成的工作量和质量", " \r", " \r", " \r", "\r", "如果空闲时间比较多，技术水平高者可以忽略第 1 条 😄", "好像除了 3, 都符合啊... 包括 reactjs....\r", "\r", "帮顶下就是了...", "SOHO ， Laravel ，微信项目也有经验，就是目前手上别的项目还有一周左右，以及是和基友两人一起接。\r", "\r", "所以，急么？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有没多用户商城能支持担保交易的？就是类似淘宝那样的把钱先打到商城运营方账户，然后定期结算给商户的</p>\n</div></div>"], "reply": "4", "tittle": "有没支持担保交易的多用户商城？", "comment": ["这个自己可以做的", " 嗯，自己开发代价太大，客户预算有限，可能也就是个眼子。", "有的，你这个类似京东商城，可以看下 corethink 的商城模块也许可以帮到你"]},
{"content": ["<div class=\"topic_content\">大牛给点建议！自学 了半年 linux 和 UNIX 系统 基本掌握了 DNS CDN 和 web 一些配置\r<br>\r<br>已经成功的把 PHP52 编译到 FB10.2 的系统上 解决了 一些软件不兼容 FB 系统问题\r<br>\r<br>修改了源码当中 configure 和 mp4 文件中不支持 FB 系统代码\r<br>\r<br>成功的把 PHP52 编译到 FB10.2 的系统上！ \r<br>\r<br>\r<br>PS 今天学习 PHP 请大牛推荐一些教程</div>"], "reply": "4", "tittle": "今天开始学习 PHP 了", "comment": ["如果 你感觉这一件很简单的时候  你试试用 FB10.2", "楼主好像记性不太好。。。", "Laravel", "来这个论坛 说点高水平的东西"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>rt ，先谢谢诸位了</p>\n</div></div>"], "reply": "4", "tittle": "请问 PHP 面试时一般问些什么知识？对应届生来说", "comment": ["都是基础，只要在内心深处呐喊:我是最棒的！即可", "字符串函数, 数组函数, MVC, JS, Jquery, html, css, 模板\r", "应该就差不多了吧", " 那一般要多少薪资呢？在北京这样的城市", " 看你自己！内心自信到 b 级，要 5 ，自信到 a 级，要 6 ，自信到 s 级，要 7\r", "曾经足够自信，要了 5 ，在深圳，果然被要了！条件:高中毕业&没有经验"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>1.html</p>\n<pre><code>&lt;form action=\"1.php\" method=\"post\"&gt;\n  &lt;p&gt;content: &lt;textarea rows='30' cols='200' name=\"content\"&gt;&lt;/textarea&gt;&lt;/p&gt;\n  &lt;input type=\"submit\" value=\"Submit\" /&gt;\n&lt;/form&gt;\n</code></pre>\n<p>1.php</p>\n<pre><code>&lt;?php\necho \"&lt;textarea rows='30' cols='200'&gt;{$_POST['content']}&lt;/textarea&gt;\";\n</code></pre>\n<p>post 发送</p>\n<pre><code>&amp;lt;a href=&amp;quot;/tenglong/news/46.html&amp;quot; title=&amp;quot;aa&amp;quot; class=&amp;quot;item&amp;quot;&amp;gt;aa&amp;lt;/a&amp;gt;\n</code></pre>\n<p>希望在后台也接收以上的同样的代码，但是却接收到了如下代码：</p>\n<pre><code>&lt;a href=\"/tenglong/news/46.html\" title=\"aa\" class=\"item\"&gt;aa&lt;/a&gt;\n</code></pre>\n<p>请问为什么我 post 出去的代码都被自动转义回来了呢？\nPHP 版本 5.5\n请问怎么设置呢？ 谢谢！</p>\n</div></div>"], "reply": "7", "tittle": "本来已经转义的标签 POST 后被自动转回来 请教哪里出错了？", "comment": ["求助 -_-!!", "求助 -_-!!求助 -_-!!", "应该类似\\n 和\\\\n 吧", "楼主可以试试看将$_POST['content']写到一个文件里，比如 file_put_contents('file', $_POST['content']);，然后打开那个文件看看内容到底是什么。\r", "\r", "// 其实还可以点击浏览器的“查看源代码”看看 textarea 里的内容是不是真的“转换回来”了。", "php 表示这锅我不背 ... 如果你显示在 textarea 里面的话需要自己手动再转义一次 ...\r", "\r", "你可以把 <textarea>&lt;b&gt;&amp;lt;/b&amp;gt;</textarea> 这段代码存成一个 html 自己试试 ...", "我表示你是用 textarea 显示的，所以你看到的是正常的，你直接看$_POST['content']的内容", " \r", " \r", " \r", " \r", "谢谢解答"]},
{"content": ["<div class=\"topic_content\">function fetchOne($sql,$result_type=MYSQL_ASSOC){\r<br>\t$result=mysql_query($sql);\r<br>\t$row=mysql_fetch_array($result,$result_type);\r<br>\treturn $row;\r<br>}\r<br>我这个函数主要是为了指定得到一条记录，为什么$row=mysql_array($result,$result_type);这条语句会报错？\r<br>报错代码： mysql_arrray()expcts parameter 1 to be resource, boolean given</div>"], "reply": "31", "tittle": "请教个简单的问题", "comment": ["val_dump 打印$result 自己看", "出错了吧， mysql_query 里也没见 connect", "$result 没结果。。参见官方手册： ", " 。\r", "然后，换到 mysqli 吧。。。", " \r", " \r", "    $sql 语句 我是这样写的   $sql=\"SELECT * FROM admin where username='$username' and password='$password'\"", "mysql_arrray 第一个参数必须是资源 resource 类型，结果你给了布尔 boolean 类型\r", "所以 $result 是布尔类型，而且可以推测出是 FALSE ，也就是说 mysql_query($sql) 返回 FALSE 了， sql 语句没有正确执行", "你把 $sql 打印出来看看拼出来的 sql 语句是啥", " 噢，那请问下如何将布尔 boolean 类型改为资源 resource 类型", "  $sql= \"select * from admin where username='{$username}' and password='{$password}'\"", "1. 你的 mysql 连接在哪里?\r", "\r", "2. mysql_*系列函数在 php7 中已经移除\r", "\r", "3. mysql_query 还少个参数", "> 噢，那请问下如何将布尔 boolean 类型改为资源 resource 类型\r", "\r", "噗。\r", "\r", "$result=mysql_query($sql); \r", "\r", "if (!$result) {\r", "return false;\r", "}", " mysql 连接 con = mysql_connect(\"localhost\",\"root\",\"root\");\r", "if (!$con)\r", "  {\r", "  die('Could not connect: ' . mysql_error());\r", "  }\r", " \r", "\r", " mysql_select_db(\"emp\", $con);\r", " mysql_set_charset(utf8); \r", "我现在用的是 php5.4", " \r", "\r", "你应该更仔细的检查一下边际情况。\r", "\r", "`mysql_select_db`，`mysql_set_charset`这两个函数都会在错误的时候返回 false ，你需要检查它们的执行结果，而不是盲目的假定他们执行了而跳过检查。\r", "\r", "建议你还是用一个数据库操作类来处理与 MySQL 的交互，比如用 ", " ，而不要自己手动去做。", "总对用 mysql_query 函数持鄙夷的眼光，我这是什么心态？", " 为什么我也是，用个 PDO 都好", "赶紧换 PDO 吧", "为啥不换 PDO", "只有我觉得 LZ 的问题整个都很奇怪吗 ... mysql 扩展根本就没有 mysql_arrray 这么个函数 ...\r", "\r", "语句报错和错误代码说的应该都是 mysql_fetch_array 的事 ... 我想不通为什么复制都能复制错 ...\r", "\r", "楼上都在说楼主得到这个错误可能的原因 ... 而我根本不打算解释这个 ... 因为说对了也没意义 ...\r", "\r", "一直以来我都在各种时间各种地点反复不停的重申不要用 mysql 系列的函数 ... 看来还是收效甚微 ...\r", "\r", "现在 2016 年都过去一半了我居然还是能看到这么连数据库的新人 ... 略可悲 ...\r", "\r", "说回正事 ... 如果你只是想连数据库的话 ... 把你现在所有跟数据库有关的代码都删了换成下面的 ...\r", "\r", " \r", "\r", "这代码我专门为你写的 ... 我故意没贴文本而是贴的图 ... 你需要照着我写的重新自己手打一遍 ... \r", "\r", "代码不长 ... 我简化了各种东西只留下核心部分 ... 你也过过脑子 ... 别总是复制粘贴吃现成的 ... \r", "\r", "第四行到第七行的四个类常量是配置 ... 需要按你的环境改 ... 其他保持不动就可以 ...\r", "\r", "这是教学类的代码 ... 并不适合生产 ... 不够优化而且 PDO->query 和错误详情什么的我也没写 ...\r", "\r", "总之先学会走再想办法跑起来 ... 等你习惯 prepare / execute 之后再自己来优化我这个例子就好 ...\r", "\r", "使用方法在下面象征性的给你写了几个 ... 虽然不强求但最好养成大小写和使用 backtick 的习惯 ...\r", "\r", " \r", "\r", "大体就是这样 ... 你有什么问题再问吧 ... 以及赶紧把过时的教程扔了 ... 实在太误人子弟 ...", "没有框架的话,建议立刻使用 PDO.", "mysqli   pdo 按自己需要你选一个", " 赞，不过你的代码如何实例化？，好像没有 public 的实例化方法", " 类不是一定要实例化成对象才能用的 ... 我例子里的这个 database 类就是个静态类 ...\r", "\r", "因为准备让 LZ 手抄代码才没写 abstract 上去 ... 毕竟这例子讲的是数据库操作而不是面向对象 ...\r", "\r", "另外针对楼上诸多只留下一句「用 PDO 」的回复我再补一句 ... PDO 和 MySQLi 不是解决方案 ... \r", "\r", "虽然我例子里也用了 PDO 但更重要的是我用了 PreparedStatement ... 这才是我要突出的重点 ...\r", "\r", "不要觉得用 PDO 就没事了 ... 如果你保持这个用户输入直接进 SQL 的习惯 ... 谁也救不了你 ...", " 眼瞎，没有仔细看_query 这个方法", " 私有方法下划线开头 -1", "换 PDO+1\r", "不要浪费时间探讨被淘汰的东西", " 徐大大？我是你的 fans", " 我是看慕课网的视频在学的。= = 这个方法过时了    那请问下该去哪里学习才能学习到不过时的方法。。", " 师傅, 请受徒儿一拜!", "  纳尼？  啥意思？", " 居然是减一吗 ... 不过私有成员名以下划线开头只是我个人习惯 ... 你不用也没什么问题的 ...\r", "\r", " 我并没有说慕课网过时了 ... 我是说你现在看的那个视频关于数据库这块儿过时了 ...\r", "\r", "如果你现在还不能区分一个教程好坏的话 ... 最简单的办法 ... 其他都听教程的数据库操作听我的 ...\r", "\r", "我那段代码写的挺认真的 ... 考虑了你要手抄时的感受 ... 一个字符都不多也一个字符都不少 ...\r", "\r", "那就是准确而且时尚的教程 ... 我把它明明白白的给你摆在上面 ... 这你还要问实在是太伤我心了 ...\r", "\r", " 么么哒 ...", " 感谢  握手     可以加个 QQ  不懂的可以请教下你  可以吗  么么哒", " 有问题直接发在 V2 上就好啦 ... 在这边你随时发问随时都有人答的 ..."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>业务需要生成一张试卷.\n格式是 Word. 供给用户下载.\n目前拿到了题目信息. 如下\n{\n\"question\": \"</p><p>问题:<img>已知 f(x)=x2+bx+c(b,c∈R)(1) 当 b=c 时若函数 f(x) 的图像与 x 轴有两个交点, 其坐标分别为 x1,x2, 求证 x1&lt;-1 且 x2&lt;-1?</p>\",\n\"answer\": \"答案:2\",\n}<p></p>\n<p>需要生成如下格式:\n<img src=\"https://segmentfault.com/img/bVyhOG\">\n现在的问题是</p>\n<ol>\n<li>有没有方便快捷的第三方工具可以用于生成 Word.</li>\n<li>数据插入到 Word 后. 数据里的 html 标签需要被解析. 比如里面有 img 图片标签. 需要在 Word 里显示出来.</li>\n</ol>\n<p>特此寻求大家. 谢谢!</p>\n<p>目前用到了 phpoffice, 但是里面的 html 标签好像不会被解析, 就把 html 当做字符串写进去了</p>\n</div></div>", "<div class=\"topic_content\">现在准备转成 PDF 了~</div>", "<div class=\"topic_content\">自问自答.找到了方法.\r<br>其实很简单.直接把 html 写到 .doc 文件里即可.\r<br>函数\r<br>function word($data,$fileName=''){\r<br>    if(empty($data)) return '';\r<br>    $data='&lt;html xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:w=\"urn:schemas-microsoft-com:office:word\" xmlns=\"http://www.w3.org/TR/REC-html40\"&gt;'.$data.'&lt;/html&gt;';\r<br>    if(empty($fileName)) $fileName=date('YmdHis').'.doc';\r<br>    $fp=fopen($fileName,'wb');\r<br>    fwrite($fp,$data);\r<br>    fclose($fp);\r<br>}\r<br>$str = '&lt;h2&gt;hello daye&lt;/h2&gt;';\r<br>word($str);\r<br>\r<br>效果\r<br>&lt;img src='https://segmentfault.com/img/bVyiYu'&gt;</div>"], "reply": "15", "tittle": "代码里生成 Word 有什么第三方工具吗", "comment": ["感觉文本转公式就只有 latex 了", "有过类似需求……不过还是选择了 html 转 pdf", "公式很难处理吧", "似乎 Pandoc 可以，之前用它把 Markdown 写的东西转成 Word\r", "不过还是觉得转成 LaTeX->PDF 比转成 Word 方便得多", "关键是就算生成了复杂的公式， Word 也无法正常显示啊。除非变成图片", "C#， microsoft word object library", "你需要 pandoc ，或者 latex", " javascript 的话 mathjex 也可以，不好好像也是仿照 latex 的公式语法的。", "歪个楼（为何这帖子用 V2ex+ 打开就奔溃了 ", " ", "我一般生成 txt 可用 wps 打开 ", " ", " 因为正文里有一段 json", "如果是固定格式的，可以做一个格式的 example ，然后用 word 另存为 xml 格式\r", "\r", "用 freemarker 根据内容动态生成这个 xml 文档，就能直接用 word 打开了", "\r", "\r", "apache 的 Office API ，挺强大的，虽然菜鸟感觉不太好用", "\r", "试试这个，原生 c#，但是公式始终是个问题啊", "phpword"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>好了.不废话,有单线移动出口站,win 客户端, vpn 服务器,radius 认证相关,我已撸好.</p>\n<p>搞了这么多我,特么竟然是一个写 android 客户端的!\n哦还有,我是个 wower.</p>\n</div></div>"], "reply": "25", "tittle": "搞游戏加速器了!只差一个熟悉 WHMCS 会写接口的 phper!", "comment": ["php 是世界上最好的语言?!", "什么是单线移动出口站？", "单线移动出海自带游戏加速", " 移动国内渣,跑国外跑得快", " 也不算是吧,像欧服的那种,从广州过去,跟从北京过去差距太大", "图样图森破 ...", "上台拿衣服 ...", "可以聊聊吗，我也准备做游戏线路。", " 企鹅  694270875", " 哈哈,已经在用了.没有售卖而已", "只有单移动有个鸟用，故障了怎么办 ... 都太弱了 :-D", "我有 socks5 + UDP 的服务端代码，但最怕 D 了", "  单移动最难拿,其他想要轻轻松松.", " socks5 方式,我玩了两个月就被我弃坑了.客户端开发量太大.", "WHMCS 的 API 官方文档挺多的（虽然说的并不详细）\r", "\r", "不过如果你如果懂 PHP 的话还是很好做的，不过在大陆做这类电信业务是需要许可的、悠着点儿玩 ...", "不要做这种违法业务……\r", "除非你有增值电信许可", " 淡定,小打小闹.", " 不写 php,也暂时没空去碰.所以得找个人来写后台", " 哎哟卧槽,我发现居然是云朵艾欧的.", " 有很多现成的客户端，都支持 udp 的，不需要自己写", " 然而没有源码", "PHP 果然是世界上最好的语言喵~ -可惜咱不会喵-", "接 WHMCS 插件开发邮箱  ", "同 WOWER （以前的）， PHP 自己撸撸吧。", " 人懒,想找玩外服的小伙伴一起撸"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>##网络在线预约管理系统</p>\n<p>Git地址：<a href=\"http://git.oschina.net/dabpop139/YuYueX-System\" rel=\"nofollow\">http://git.oschina.net/dabpop139/YuYueX-System</a></p>\n<p>@[预约管理系统,预约系统,网络预约管理]</p>\n<blockquote>\n<p>基于 PHP MVC 架构+Bootstrap 前端的高效、简洁网络在线预约管理系统，灵活的交叉权限控制，多样的数据图表，各项数据的分类统计报表。</p>\n</blockquote>\n<p>###环境\nPHP 5.26\nMYSQL &gt;=5.1</p>\n<p>###配置</p>\n<ul>\n<li>sql 数据文件：\\data\\sql_yuyue_lite_db</li>\n<li>系统配置：\\caches\\configs\\system.php</li>\n<li>数据库配置：\\caches\\configs\\database.php</li>\n</ul>\n<p>###登录管理</p>\n<ul>\n<li>地址：/webctrl.php</li>\n<li>用户名： yltuan</li>\n<li>密码： 123456</li>\n</ul>\n<p>###特性</p>\n<ol>\n<li>灵活的权限分配；</li>\n<li>基于 Bootstrap 简洁精巧的管理界面；</li>\n<li>高效的数据查询导出管理；</li>\n<li>高效多样的数据分类统计图表、报表；</li>\n<li>预约数据编辑历史记录查看功能；</li>\n</ol>\n<p><img alt=\"络在线预约管理系统\" src=\"http://git.oschina.net/uploads/images/2016/0514/121052_fc9651b8_84445.jpeg\" title=\"网络在线预约管理系统\">\n<img alt=\"网络在线预约管理系统\" src=\"http://git.oschina.net/uploads/images/2016/0514/121115_155ca39f_84445.jpeg\" title=\"网络在线预约管理系统\">\n<img alt=\"网络在线预约管理系统\" src=\"http://git.oschina.net/uploads/images/2016/0514/121126_5ca91015_84445.jpeg\" title=\"网络在线预约管理系统\">\n<img alt=\"网络在线预约管理系统\" src=\"http://git.oschina.net/uploads/images/2016/0514/121136_52056398_84445.jpeg\" title=\"网络在线预约管理系统\">\n<img alt=\"网络在线预约管理系统\" src=\"http://git.oschina.net/uploads/images/2016/0514/121144_a2b7b238_84445.jpeg\" title=\"网络在线预约管理系统\">\n<img alt=\"网络在线预约管理系统\" src=\"http://git.oschina.net/uploads/images/2016/0514/121152_0c4ffd00_84445.jpeg\" title=\"网络在线预约管理系统\">\n<img alt=\"网络在线预约管理系统\" src=\"http://git.oschina.net/uploads/images/2016/0514/121214_53b3d95f_84445.jpeg\" title=\"网络在线预约管理系统\">\n<img alt=\"网络在线预约管理系统\" src=\"http://git.oschina.net/uploads/images/2016/0514/121223_72b8bd8a_84445.jpeg\" title=\"网络在线预约管理系统\">\n<img alt=\"网络在线预约管理系统\" src=\"http://git.oschina.net/uploads/images/2016/0514/121230_9c15ed95_84445.jpeg\" title=\"网络在线预约管理系统\">\n<img alt=\"网络在线预约管理系统\" src=\"http://git.oschina.net/uploads/images/2016/0514/121238_6b8806ce_84445.jpeg\" title=\"网络在线预约管理系统\">\n<img alt=\"网络在线预约管理系统\" src=\"http://git.oschina.net/uploads/images/2016/0514/121245_d42399ca_84445.jpeg\" title=\"网络在线预约管理系统\"></p>\n<p>Git地址：<a href=\"http://git.oschina.net/dabpop139/YuYueX-System\" rel=\"nofollow\">http://git.oschina.net/dabpop139/YuYueX-System</a></p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"网络在线预约管理系统\" src=\"http://www.uxwin.com/exfiles/121052_fc9651b8_84445.jpeg\" title=\"网络在线预约管理系统\">\n<img alt=\"网络在线预约管理系统\" src=\"http://www.uxwin.com/exfiles/121115_155ca39f_84445.jpeg\" title=\"网络在线预约管理系统\">\n<img alt=\"网络在线预约管理系统\" src=\"http://www.uxwin.com/exfiles/121144_a2b7b238_84445.jpeg\" title=\"网络在线预约管理系统\">\n<img alt=\"网络在线预约管理系统\" src=\"http://www.uxwin.com/exfiles/121152_0c4ffd00_84445.jpeg\" title=\"网络在线预约管理系统\">\n<img alt=\"网络在线预约管理系统\" src=\"http://www.uxwin.com/exfiles/121230_9c15ed95_84445.jpeg\" title=\"网络在线预约管理系统\"></p>\n</div></div>"], "reply": "2", "tittle": "基于现有流行的架构底层+Bootstrap 前端开发的简洁、高效的网络在线预约管理系统", "comment": ["GitOschina 外链图片挂了，补几张图。\r", "\r", "\r", "\r", "\r", "挺好看的~"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>$len = count($arr);\n\nfor ($i = 0; $i &lt; $len; $i++) {\n    for ($j = 0; $j &lt; $i; $j++) {\n        if ($arr[$i] &lt; $arr[$j]) {\n            $temp = $arr[$i];\n            $arr[$i] = $arr[$j];\n            $arr[$j] = $temp;\n        }\n    }\n}\n</code></pre>\n<p>感觉不像冒泡排序：一开始就得到最大值或者最小值</p>\n<p>也不像选择排序，身边找不到人解答，</p>\n<p>就当破事水来一发咯。</p>\n</div></div>"], "reply": "34", "tittle": "请问如下排序到底是什么排序算法？", "comment": ["冒泡啊。。。", " 冒泡不是会在开始得到最大或者最小值吗？这个好像没有啊", " 冒泡的最大值或最小值是在逐次交换中得到的吧? 开始得到最大或最小的不是堆排吗?", "插入排序吧，依次找到剩余的最大的插到前面，就跟打牌时那个插法一样。", "这是插入排序吧", "冒泡…鉴定完毕", "参见维基百科插入排序 java 实现的那一段和这个 php 写的代码结构一样\r", "public static void insertion_sort( int[] arr ) {\r", "    for( int i=0; i<arr.length-1; i++ ) {\t\r", "        for( int j=i+1; j>0; j-- ) {\r", "            if( arr[j-1] <= arr[j] )\r", "                break;\r", "            int temp = arr[j];\r", "            arr[j] = arr[j-1];\r", "            arr[j-1] = temp;\r", "        }\r", "    }\r", "}", "标准的冒泡啊", "明显是插入排序。冒泡只会交换相邻的。", "不知道为什么这么多人认为是冒泡，难道是看到双层循环就说是冒泡？", "插入排序   冒泡的第二个循环 不是 0 到 i", "插入排序", "插入排序，在排列好的几个数里面，后面新的数只需要比最靠左边那个大，就可以插到他后面", "平时大家谈起算法，一个比一个看着牛逼，怎么遇到这种问题一个个的全都懵逼了", "少了个 break ，所以看起来比较古怪", " 我用几个数画了一下发现这不是一个很好的排序，有些比较完全不必要，比如前面是 3 ， 4 ， 8 ，第四个数是 2 ，于是会用 2 （这个数就是 arr[3]）跟前面的数都进行比较，如果比 2 大就交换位置，于是就是 2,4,8,3 ，然后还有两个交换，其实没必要，直接把 2 放在 3 的前面其实可以了，（我算法不是很熟，所以才敢发帖出来问各位）\r", "\r", "ps: 虽然发现不是很好的算法，但是感觉代码是不是最简单的...", "像是一个劣质的插入排序...", " 你说的无用比较确实存在。但是这样代码简洁，适合用于表述插入排序的一般写法。", "- -啊，不对，不是少了个 break ，这东西是把大的往后挤，所以多了很多无用的比较", "插排…", "说是冒泡，却不是比较相邻元素\r", "说是插入，又是通过从前向后交换而不是从后向前插入\r", "所以这大概是冒插算法吧", " 仔细看了下，这个并不是无用的比较，你想想，如果直接吧 3 ， 4 ， 8 这一段后移，你还得写一个带控制变量 i 的 for 循环， for 循环中 i 也需要比较啊！而且还会产生额外的临时变量。 ", "一大堆$，怪不得 PHP 是最好的语言，有钱", " 嗯是的， a[j] = tmp;后面加一个 break;就好了，防止继续比较。哎，要睡觉了", " 哎呀，忘记 break 了，已修改。也睡觉了", "排序 推荐 看下 这个 ", "插入排序嘛", "其实更像选择排序", "插入排序，始终维护的是一个有序的序列。\r", "\r", "把第一个循环的$i = 0 换成$i = 1,第二个循环的$j = 0 换成$j = $i - 1 就是冒泡排序", "这是插入排序。\r", "arr[0->j](j < i)是已经有序的子序列(升序)；\r", "arr[i]是当前待排元素,和有序子序列依次比较寻找插入位置。", " 只是没有优化，没有利用已排好数据！交换次数比较多而已！", "可以结帖了，总结各位+自己的分析这是插入排序，插入排序的原理是维持一个排序的数列，然后 拿新的数字跟里面的逐一比较，网上找到的比较是从新数字的左临边向最左边比较，我的是总最左边开始比较，附上`常见的`插入排序：\r", "\r", "```\r", "for ($i = 1; $i < $len ; $i++) {\r", "    $temp = $arr[$i];\r", "    for ($j = $i -1 ; $j >= 0 ; $j--){\r", "        if($arr[$j] > $temp){\r", "            $arr[$j + 1] = $arr[$j];\r", "        }else{\r", "            break;\r", "        }\r", "    }\r", "    $arr[$j + 1] = $temp;\r", "}\r", "```", " 被你发现了，哈哈，不过这个原理来说应该算是插排", " 加上一个 break 就完全不一样了"]},
{"content": ["<div class=\"topic_content\">这个标红范围的 gutter 如何隐藏，找来半天没找到。\r<br><img src=\"http://ww2.sinaimg.cn/large/62831495gw1f5231inbjhj20a608qglq.jpg\" class=\"embedded_image\" border=\"0\"> </div>"], "reply": "12", "tittle": "有用 phpstorm 的么", "comment": ["没人回答，好孤单。\r", "我用 webstorm 的，试着回答一下。\r", "File -> Settings -> Editor -> General -> Appearance -> Show line numbers\r", "或者\r", "File -> Settings -> 搜索 Show line numbers", "去掉行号？那里是功能区吧，打断点什么的，为什么要去掉？", "去不掉。", "不过只能隐藏行号，又发现个快捷的设置方式，在行号右边点右键，可以快速设置", "楼上的回答同样适用于 phpstorm", "强迫症太严重了吧→_→", " JB 家的 IDE 应该都适用", " @", " @", " 谢谢。不是去掉行号，而是隐藏显示行号的整个区域。\r", " 看能去掉不： ", "那是 Distraction Free Mode", " thx 。仔细看了下视频，中间的确没去掉，还是存在的。", "顺带问个类似的，想去掉那个折叠，怎么去？", "View->Active Editor->Show Line Numbers"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>公司有个 dz 的论坛，用户附件放在了另一台服务器上，包括用户头像，头像访问的时候直接远程 url(如： <a href=\"http://static.abc.com/avatar/000/00/37/98_avatar_middle.jpg)%E3%80%82\" rel=\"nofollow\">http://static.abc.com/avatar/000/00/37/98_avatar_middle.jpg)。</a>\n如果用户没有上传头像的话默认使用本地头像 <a href=\"http://bbs.abc.com/uc_server/images/noavatar_middle.gif\" rel=\"nofollow\">http://bbs.abc.com/uc_server/images/noavatar_middle.gif</a> 。\n由于 dz 用户头像没有存数据库，访问头像直接用用户 ID 拼接成的固定的 url,原程序中判断图片是否存在使用 file_exists ，但现在头像放在了另一台服务器，无法使用这个函数，使用 curl 判断效率很低，请问下各位有没有什么好的办法？\n多谢！！！</p>\n</div></div>"], "reply": "19", "tittle": "php 如何高效率的判断远程图片是否存在", "comment": ["听过 QUERY 请求没有", "get_headers", "别折磨服务端了，放前端做吧， img onerror 事件", "img.onerror", "file_get_contents get_headers", "<?php\r", "error_reporting(0);\r", "header('content-type:application/json');\r", "$data='vssfafsa=dgastgdagda&xfafafaf=tgfdfdsafa';\r", "$opts=array(\r", "'http'=>array(\r", "'method'=>'POST',\r", "'header'=>\"Content-type:application/x-www-form-urlencoded\\r\\nContent-length:\".strlen($data),\r", "'content'=>$data\r", "));\r", "file_get_contents('http://www.baidu.com',false,stream_context_create($opts));\r", "if ($http_response_header[0] == 'HTTP/1.1 302 Moved Temporarily') {\r", "echo '{\"code\":200}';\r", "} else {\r", "echo '{\"code\":403}';\r", "}\r", "?>\r", "这样？", "HTTP 有个 HEAD 方法，只会返回头信息。然后我不见得有多低效率……", " 赞同，但是 curl 效率就够低了。\r", "在我的 vps 上性能差距 5 倍（保守），实际 15 倍（和 file_get_contents 对比）。\r", "HEAD 是个好方案，楼主可以根据我上面的改 HEAD ，减去 GET 所需时间。", "直接把远程服务器上这个域名的 404 请求改为返回默认图片", "跟 php 半毛钱关系都没有， html 就能搞定了\r", "\r", "<img src=\"xxxxx\" data-localsrc=\"yyyyy\" onerror=\"... ...\">", "或者用 Web 服务器反代 avatar 服务器，并替换 404 结果", "。。。。。", "百毒忘了哪个地方的 onerror 是重载图片，图片不存在，结果就……", "1 、 Web 上所有的头像都使用远程 URL ；\r", "2 、远程服务器上做个 rewrite ：当访问的头像文件不存在的时候，返回默认头像的内容。\r", "\r", "onerror 的做法会造成一次 404 ，不建议使用。", "感谢各位，由于这个头像地址 app 也在调用，考虑到旧版兼容性，客户端无法做处理。\r", "nginx 改 404 的方法，运维说用了什么云， nginx 改不了。\r", "用了 @", " 、 @", " 的方法，加了个超时时间，测试了响应速度还不错，感谢！！！\r", "以下是改后的代码：\r", "function exit_file($url){\r", "\t$opts=array( \r", "\t\t'http'=>array( \r", "\t\t\t'method'=>'HEAD',\r", "\t\t\t'timeout'=>2\r", "\t)); \r", "\tfile_get_contents($url,false,stream_context_create($opts)); \r", "\tif ($http_response_header[0] == 'HTTP/1.1 200 OK') { \r", "\t\treturn true;\r", "\t} else { \r", "\t\treturn false; \r", "\t} \r", "}", "全部用户扫描一遍比较省事", "改表改代码", "nginx 不存在返回一个默认图片 。", " lslq2z 一脸懵逼"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>想问下有没有考过的, 难度如何, 需要做些什么准备? 考试的形式等等.</p>\n<p>本来对各种认证都都持无所谓的态度: 含金量小的考不考意义不大, 含金量大的也真的难考. 另外能力一般也不是只凭证书就能证明的. 但是从小到大连小红花都没得过几朵的人, 突然有了考这个认证的想法, 无关能力和学历, 只为\"信仰\", 哈哈. 就好像我喜欢并且熟悉 PHP, 就想用它实现一切, 就会花钱去买 PHPStorm 这种心情差不多(对学生来讲, 买正版软件还是挺肉疼, 虽然有教育版).</p>\n<p>网上搜得的资料太老了, 求 V 友帮助. 欢迎吐槽和批评! :D</p>\n</div></div>", "<div class=\"topic_content\">----------\r<br>\r<br>看了下考题, 兴趣突然又削减了</div>"], "reply": "5", "tittle": "有考过 Zend PHP 认证的吗? 想咨询下", "comment": ["还么见过招聘 phper 的公司要求 zend 认证的", " 2333  我并不是为了面试和找工作, \"玩\"心略大吧.", "目前我见过的招聘 phper 的公司需要 zend 认证的只有 zend 一家……还不是强制的可以入职后考\r", "2333333", "还有 ZEND 认证?  第一次听说   原谅我的孤陋寡闻", " 很早就有了, 但我也是刚刚了解到."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题，本帖收集使用 Laravel 框架开发的网站，最好是开源的附带 github ，大家共同学习。</p>\n<p>我先来</p>\n<p><a href=\"http://www.tanteng.me\" rel=\"nofollow\">http://www.tanteng.me</a></p>\n<p>Github:<a href=\"https://github.com/tanteng/tanteng.me\" rel=\"nofollow\">https://github.com/tanteng/tanteng.me</a></p>\n<p>正在慢慢学习完善，还处于初步学习中，不吝赐教！</p>\n</div></div>"], "reply": "10", "tittle": "Laravel 网站收集", "comment": ["meizi.us use laravel", " 老司机开车猝不及防啊", "  营养有点跟不上了", " 对了，有空整理一下所需的安装步骤，现在还没完善", "\r", "mark", " 你这个 LOGO 稍微小那么一点点、上下空出一点点的边距，那么看起来就会特别协调了。", " 感谢建议！稍后调一下试试"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Slim 不带 ORM</p>\n<p>Twig 模板引擎有点不太习惯\n<code>{% extends('xxx') %}</code>   相比 Blade    <code>@extends('xx')</code>    感觉有点复杂了（多敲几次键盘   o(￣┰￣*)ゞ   好矫情）</p>\n<p>路由倒是不错   （ 其实灰常喜欢这种预定路由规则的框框 ヾ(´∀`o)+</p>\n<p>难道一定要自己用 fastrouter+ORM 造轮子么……</p>\n<p>再吐槽一下，Laravel文档太太太太太太太太太弱</p>\n</div></div>", "<div class=\"topic_content\">更关键的是这货对 IDE 貌似不怎么友好。 Storm 木有提示……</div>", "<div class=\"topic_content\">或者有木有什么让 laravel 支持 IDE 的方法</div>"], "reply": "85", "tittle": "感觉 Laravel 还是太重，有没有什么更加 [小] 却又不失 [优雅] 的框架", "comment": ["Lumen", " 木有 blade", "你确实很矫情，选框架不能凭感觉", "li3.me", "用 slim + orm", "重是因为依赖了很多库的原因吧，看看隔壁 node.js?", "我和楼主的感觉一样。。  感觉 laravel  笨重 乱七八糟让我这种矫情的人挺不爽\r", "然后其他的框架 总是各种地方让我很不爽 。。。\r", "准备自己写个框架吧  。。。还有严重拖延症，而且好些想法写着写着就变了 然后越拖越久。\r", "\r", "\r", "打完了上面这些字 我发现  我真 TM 矫情", "flask", " 明明是有 blade 的", " 框架就是拿来用的，用的顺手基本都差不多。\r", "\r", "就好比你买把锤子，是用来敲钉子的，结果你矫情半天锤子重量要合适，手感还要好，重量分配也要适中等等不相关的东西，真是本末倒置。", " 道理我都懂。现在也在用 laravel 。但是我的强迫症总是逼着我选择更好的。", "phalcon ，很轻，就一个 so 扩展文件", "自己用 composer 搭一个，喜欢用什么组件就用什么", "Flight", "rails", "php 作为一个以巨大而混乱的库为卖点的语言，本身就可以独立写东西的…", " 刚刚看了一下。貌似确实没有。 View 对象不存在", "   好吧，我错了。有。", " 有的， lumen 的组件要自己手动在 bootstrap/app.php 里面初始化，默认只有 exception handler 和 kernel. \r", "\r", "不会吧 你想多了 laravel 只是安装包大 用起来真是身轻如燕呢。 建议找找感觉。别先入为主", "CI", " CI 现在也是 laravel 风格", " Lumen 最新不是为 API 而生去掉了用户模块吗", " 貌似是的，不过你不提我都差点忘了。为毛一个框架要接管用户验证逻辑？", "Lumen + Vue.js  所有功能全部暴露成 API ，用 Vue.js 做 SPA", " 另外一个话题， vue 是不是就不能让爬虫爬了？", "目前是用 laravel 做管理后台， lumen 做 API", " .....还两个框架。。", "Codeignitor 3.0", "简单的看了下 laravel ，感觉那些依赖注入，反转控制，有点像 spring 那套。\r", "对于个人而言，假如 php 也整这么复杂的话，不如直接就用 spring boot 了。", "果断上 phalcon 啊。。就编译一个 so 文件就行了。。", " 不是，有数据请求可以直接爬接口，即使没接口也可以 phontomjs", "不知道为什么 laravel 框架要用优雅来形容，所谓的优雅到底是什么概念？", "相比 Java 或者其它语言来说， Laravel 真不算重，只是由于 PHP 语言特性，相比 PHP 其它的框架稍微有点吃性能而已。", "但是看完了别的框架，你还是会用 Laravel （一个能打的都没有）", " \r", "\r", "变量 方法名等 起的性感一点...  反正起名字翻字典半小时以上就是了........ \r", "\r", "隐藏细节, 给程序员最直观, 简洁的接口", "感觉楼主就想挑快递，又要快又要好又要便宜，最后的结果是：...", "  ", " ", " Laravel 的核心是让开发者开发时更省心，追求开发速度，优雅指用了很多 PHP 新的特性和其他框架优秀的概念和组件，让你在 Web 开发是专注于去打造应用，而不是折腾工具。\r", "\r", "这应该是 Laravel 的 console 命令 artisan 的含义：\r", "\r", "> 工匠应该专注于作品的创意，不应该浪费精力，没限制地在折腾自己的工具。", "楼主可以看一下 ", " 的视频， Laravel 的文档不清晰吗？感觉楼主应该只是缺少一些开发技巧而已 ：）", "slim + eloquent orm + twig ，再自己写个 service provider 。\r", "\r", "用 slim 还没遇到不能集成的组件，微框架+组件，优雅时髦短小又高效。", "phpstorm 有 laravel 的插件，另外 laravel 添加 laravel-ide-helper 这个 package 之后就会有提示了，很好用", " 我去装一下。话说有洁癖，怎么让 git 部署的时候自动去掉。", "yaf 咋样？", "如果 laravel 还是觉得重， 我建议你 slim \r", "\r", "\r", "用来用去我还是觉得 Yii 2 更对我的脾气。", "Yii2 +1", "不要因为大就不用 除非这个庞大真的影响了你系统性能 上缓存都没用\r", "java 那一套 spring 全家桶+hibernate 估计很多人看不顺眼 但是就这一套东西能把就算是弱智都能组织起来做出点什么来还能跑的不错", "新版有 bug 没提示，旧版有提示", " Yii2 的 logger 为什么要那么设计？", "用着用着发现又拼出了一个 Laravel [doge]", " 放到 require-dev 里面，然后只在 local env 下加载，这样就不影响部署了。", "L 有 ide-helper ，虽然我就是因为看到有 ide-helper 所以完全对这个东西绝望了（还要那么脏的 hack 才能做到 IDE 支持，和重度依赖 IDE 的我实在三观不合）\r", "\r", "关于 ORM ， L 的 Eloquent 其实还是能独立拉出来使的，有些脏项目我还会直接用 NotORM => ", " 简单直接粗暴爽\r", "\r", "关于自己玩，建议看看 PSR-7 ，我觉得有潜力干趴 symfony/http-foundation 的，嗯， slim3 也算\r", "\r", "***广告时间***\r", "\r", "自己撸的 psr7 middleware organizer (嗯，类似 node 家的 connect)\r", "\r", "\r", "\r", "基于它和 pimple 容器，反射依赖注入的轻型框架\r", "\r", "\r", "\r", "自用感觉良好，文档和 example 什么的拖延中……", "ci 用了三年，源码都能背了。不合适就自己改框架源码", " 太懒不想造轮子   ", " ", "ruby on rails", "多了你嫌多了，少了你嫌少了。\r", "\r", "其实具体看你做什么， 2000W 的跑车去耕田，连一头 2000 块的驴都不如。\r", "\r", "segmentfault 上看过一个简单的总结：大项目用小框架，小项目用大框架", "竟然没有一个人提   Yaf", " 怎么只在 local dev 加载", " yaf 不也是自动路由咩？", "说 Thinkphp 应该会被喷吧", "  ", " ", "YAF +10086", "phalcon 美妙得不要不要得", "听到说小，还有比 CI 优雅的吗？", "slim", " 我也喜欢这个，源码都看了，太全了，开发起来坐火箭一样", "yaf 只有路由，而且很死板，也不支持命名空间。", "个人见解，不喜勿喷", "slimframework 你值得拥有", " 评论一下 yii2 ？", " \r", "这是因为一开始 API 也在 laravel 里，觉得太重了就把 API 单独拿出来，稍改下就顺畅移到 lumen 里了，管理后台反正内部使用，就继续 laravel 不改了。", "感觉和 rails 一样。", " 美妙在哪里。。。学习成本和使用范围广么", "laravel 安装 ide_helper 扩展就能自动提示了", " \r", "\r", "用过一段时间 slim+Eloquent+twig ， Eloquent 确实好用，我正好用到 slim 里了。\r", "最开始用感觉轻量的框架（ slim ）确实好，很多东西像搭积木一样可以自由选择，但时间久了发现，很累，每需要一个新组件，就要再去 composer 里找，要想办法组装到自己的项目里。。\r", "后来就有这样的感觉，虽然我感觉自己的项目只需要一个轻框架就能搞定，但随着慢慢开发，我就发现其实拼拼凑凑自己的项目也不轻了。这个时候还不如用 laravel 更简单，好维护。\r", "后来还是用回 laravel 了，但保留了一个 api ， api 用的还是 slim 。\r", "我感觉 slim+Eloquent+twig 还是不错的，楼主可以参考一下。", "跟着 laravel 5.1 成为更好的 PHP 开发者 -  台湾 Laravel 社群的分享 [PDF Download]( ", ")", "phalcon", " \r", "我前面明明提到了 yaf 啊，为什么说没有人提到呢？", " \r", " \r", "\r", "贴不了图片，郁闷。\r", "\r", "    //路由规则\r", "    'bagua163.com'=>array(\r", "        'xingming/:xingming/:danfuxing' => 'Index/xingming',\r", "        'xingming/:xingming' => 'Index/xingming',\r", "\r", "        'meizhuang/:page' => 'Cate/index?cate=meizhuang',//\r", "        'meizhuang' => 'Cate/index?cate=meizhuang',\r", "    ),\r", "    'shouji.bagua163.com'=>array(\r", "        ':mobile' => 'Index/shouji',\r", "    ),\r", "\r", "你让 Yaf 实现上面的路由试试，我把它的路由改得和 TP3.1 差不多了，但换到了 PHP7 ，莫名其妙的问题。干脆放弃了 Yaf ，以后再看它吧。\r", "\r", "而且多个二级子域名在路由相同的情况下， yaf 会指到第一个匹配的上面去。弄得我心烦。\r", "\r", "本来匠人就应该注重产品，而我却把焦点放在了工具上。错一次，不想再错第二次。选一个你熟悉的框架就行。", " yaf 可以实现上面的路由", " 实现起来很困难吧。我试了一下，各种问题。随后就停止使用 yaf 开发，使用熟悉的 thinkphp3.1 开发。", "你可以试一下 corethink ，很轻量，它是基于 tp 的，不过比 tp 功能更全，", "laravel 真的好重，看代码都绕来绕去的。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>为了学习 Laravel 5.2 参照 V2EX ， PHPhub 和 Ruby-china 做了一个 BBS ，取名叫 Hifone （ Hi + Forum + One ）。非常感谢 V2EX ， PHPhub 和 Ruby-china ， Hifone 从中汲取了不少养分。</p>\n<p>废话少说，上图：</p>\n<p>1 、前台</p>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201606/13/2700/wMdl7cmBrX.png\"></p>\n<p>2 、发帖</p>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201606/13/2700/SQ5QNWQXHw.png\"></p>\n<p>3 、管理后台</p>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201606/13/2700/pRm3uvoDT7.png\"></p>\n<p>4 、广告(推荐位)，广告位可以根据路径定向投放</p>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201606/13/2700/TIDxPZf6Cq.png\"></p>\n<p>5 、 OAuth 登录（支持新浪微博、 QQ 、 Gitlab 等）</p>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201606/13/2700/iLAfzGOblt.png\"></p>\n<p>演示地址： <a href=\"http://hifone.com/\" rel=\"nofollow\">http://hifone.com/</a>  源码地址： <a href=\"https://github.com/Hifone/Hifone\" rel=\"nofollow\">https://github.com/Hifone/Hifone</a> or <a href=\"http://git.oschina.net/hifone/Hifone\" rel=\"nofollow\">http://git.oschina.net/hifone/Hifone</a></p>\n<p>个人能力有限，程序肯定存在很多不成熟的地方，欢迎大家拍砖，谢谢。</p>\n</div></div>", "<div class=\"topic_content\">Hifone 目前处于开发状态，安装过程需要有一点 PHP 和 Laravel 的基础知识。</div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>简化了安装步骤。</p>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201606/17/2700/L2YrBiyToG.png\"></p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>新增积分功能。</p>\n<p><img alt=\"file\" src=\"http://hifone.com//uploads/images/201606/21/1/xxHBVqLEZ4.png\"></p>\n</div></div>"], "reply": "57", "tittle": "基于 Laravel 5.2 开发的一个 bbs，参考 V2EX， PHPHub 和 Ruby China", "comment": ["做的还不错 已经 star", "已 Star 。", "不错哦 star", "说真的，顶头的广告位和那四个大方框实在太影响用户体验，至少我觉得不舒服。", "不错 ,赞", "已 star", "工作量有点大啊，赞一个楼主", "太好了 正好我是新手学习 Laravel 谢谢楼主!!!", "star ed", "人工置顶，支持一个。", "已 tart", "已 star", "首页 Ruby-China 我一脸哪。\r", "\r", " 还好吧。人的视线本来就比较容易集中在中间区域，顶部撑开以后眼睛正好从中间的帖子列表看起。", "Safari 上，点击帖子里的图片后，会弹出 n 个模态框出来。", "少年你的 pjax 用的是什么实现的", "\r", "或者我比较特别，我习惯看网页从顶部的大标题看起，看美女也是从脸往下看，哈...", " jquery-pjax + laravel middleware", " ekko-lightbox 没用好，下次修复，谢谢。", "已 Star", "楼主可以给 phphub 加个后台，会员注册功能么？", " 楼主发的不就是有后台，有会员注册？", "赞", "不错啊，要是能接入 WordPress 就最好了，这样市场前景广阔。", "我执行了 php artisan migrate 之后报了 Database (E:\\www\\xxx\\database\\database.sqlite) does not exist.的错误，请问哪里出错了", " 没有在 win 下跑 sqlite 测过。 travis-ci 上的单元测试用的是 sqlite.", " 准备接入 discuz 。用户密码加密算法已经与 discuz 保持一致。", " OK ，明白了", " 同样是论坛为什么要接入 discuz ？", "不错！虽然我不用 PHP", "不错，赞。", " discuz 海量用户等待你的拯救计划。", "good", " 所谓的接入是 convert ，并不是并存。主题、回帖导入做转换相对简单，用户的导入关键还是用户密码算法不一致的问题。我是这么想的，可能考虑不周，请赐教。", "不错 已 start", " 哦我的意思不是导入是提供可以做成插件的接口，方便做成其他知名产品的扩展，或者方便其他插件扩展你的论坛。比如 Wordpress 的中文论坛扩展少得可怜，往往要外连到另一个独立的论坛系统，要是有现成的好论坛能做成插件，这个用户量很快就上去了。", "已 star", "准备注册，填写资料之后提交怎么都变空白了？", "不错的 风格很清新", "已 start\r", "\r", "搜索是要登录咩，跳到了 ", "风格不错", "看起来很不错的样子", "赞", "后台模板是第三方的吗？叫什么？还是自己写的？", "改为 python-china 吧，为什么 ruby 有。（逃", "不错， 1 年多之前我用 Yii2 也写过一个项目： ", "有没有压测一下 作为 BBS 的话需要这种数据", "来自 d 版带着爱啊", " 你懂的。欢迎去 D 版推荐下，嘿。", "我看好楼主---UGlee", "好棒的 bbs ，配一个好米就可以玩起来了！已 star", "5 天时间，真棒，想学 Laravel 的表示 Laravel 还是很大很复杂的", "楼上说了这么多都没装装试试。。\r", "很不错呦~", "不错不错，现在玩的是 phalcon ，以后有空了玩玩 laravel 。", "楼上说了这么多 能跑起来么 500 错误。", " 已修复", "赞 laravel"]},
{"content": ["<div class=\"topic_content\">看了百度。转发是服务器操作！重定向是客户端操作！那么我从页面上 index.php?Id=22 类似这种，传过去的应该属于服务器转发还是客户端重定向？</div>"], "reply": "11", "tittle": "求大神解答！转发和重定向的区别", "comment": ["这通常是转发。\r", "\r", "以后自己打开浏览器 F12 切到网络，然后输入地址回车，返回的第一个状态码是 3XX （比如 301 302 之类的）就是重定向。否则就是 rewrite 或者什么也不是", "转发通常是让 URL 更好看一些，比如\r", "/blog/post/22 -> /blog/post.php?id=22\r", "转发发生在服务器收到请求后。客户端不知道实际地址。\r", "\r", "HTTP 重定向在客户端是可见的。比如用户登录成功后服务器执行 header('Location: /welcome'); 客户端收到回应后会立即再往 /welcome 这里发一个请求，地址栏上可以观察到。\r", "\r", "你举的例子只是普通的 GET 参数传递，没有涉及到转发或重定向。", "URL 转发 和 URL 重定向没有区别。都是服务器向客户端返回 HTTP 301 或 HTTP 302 响应而已。\r", "\r", "百度搜索技术问题最令人无语的地方就是，总会有一堆自己都没弄明白怎么回事的人过来教你。让你怀疑自己智商有问题。", "你所說的轉發和重定向是 Forward 和 Redirect 嗎？分別是很大的。\r", "Redirect - 是使用瀏覽器進行重定向。 It sends an http response with code 3xx ，然後瀏覽器會發出另外的 request 去到新的頁面。\r", "Forward - 這是內部的操作。瀏覽器是不知道頁面發生了什麼改變，因此 URI 是不會發生改變的，你還是在原來同一個頁面。\r", "\r", "理論上來說， Forward 會更快，因為瀏覽器沒有參與到操作，還是原來的 URL 。 Redirect 會相對慢，瀏覽器參與到操作中，你會得到新的 URL 。\r", "\r", "你從頁面發出 index.php?Id=22 ，到底是 Forward 還是 Redirect 是視乎 server side 最後如何執行你的 request 。而使用哪一個是需要根據不同的 scenario 。", "这种问题随手谷歌一下，任何一个结果都比这要详细仔细得多→_→", " \r", " \r", " \r", " \r", "因为全栈的大牛告诉我，重定向可以防止表单重复提交！而我因为对安全也不懂，所以对这方面格外注重吧！", "重定向是会产生 2 个 http 请求。\r", "转发是 1 个 http 请求（在服务端）被 route 到了另外个 controller 处理逻辑。", " 全栈的大牛。。。。\r", "\r", "不管重定向还是 rewrite ，都不能防止表单重复提交吧？重定向点几次后退不就可以重新提交了吗？\r", "\r", "而且把这个归为安全问题貌似太勉强了，应该是概念问题。\r", "\r", "是有哪本脑残教材或者视频把重定向和转发拿出来比较了么？感觉几天前还有人在 sf 上问几乎一样的问题。", "重定向：基于 HTTP 协议\r", "转发：程序内部的数据转移", " 这大牛一定不是全栈...你可以找个 PHP 框架，看看它的重定向和 URL 路由分别是怎么用的，自己感受一下。", "轉發：敲門之後直接把人給你找來\r", "重定向：敲門後告訴你那人真實住址"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><strong>系统语言</strong>：简体中文</p>\n<p><strong>PhpStorm 版本</strong>： 2016.1.2</p>\n<p><strong>操作系统</strong>： Ubuntu 16.04 LTS</p>\n<hr>\n<p>PhpStorm 修改字体后关闭重新打开、字体就又恢复了。</p>\n<p>这个问题挺奇妙的，<strong>这两天什么也没动，就这两天开始这样的</strong> 。</p>\n<p>现在每次打开软件，字体都会变为如下这个：</p>\n<p><img alt=\"PhpStorm_Font_Error01\" src=\"http://i.imgur.com/FlpcuRy.png\"></p>\n<p>语言包使用的是 <a href=\"https://github.com/ewen0930/PhpStorm-Chinese\" rel=\"nofollow\">https://github.com/ewen0930/PhpStorm-Chinese</a> 这位作者的。</p>\n<p>我查看了系统设置的确是没有错的，如下图、字体设置的确还是我自定义的字体：</p>\n<p><img alt=\"PhpStorm_Font_Error02\" src=\"http://i.imgur.com/TEi2QNn.png\"></p>\n<p>大前天都还是好的没有问题，因此我认为并不是语言包的问题、因为语言包很久前就在使用了。</p>\n<p>就这两天突然这样了，也 <strong>没有任何的错误提示</strong> 。不知道有没有人和我一样遭遇的？</p>\n<p>如果有，应该如何解决这个问题？</p>\n</div></div>"], "reply": "8", "tittle": "PhpStorm 无法自定义字体", "comment": ["这还不简单，关掉插件再试试，就知道是插件问题还是别的设置不对。", " 什么插件都没用 。。。用了一个主题，删了也还是这样 ....", "1. 试试其他字体能不能用\r", "2. 试试不在项目内设置，而是在退出项目而没有退出软件的那个页面进行设置\r", "3. 直接使用英文版", " \r", "\r", "1 、 2 都试过，不想 ...\r", "\r", "3 、高中就辍学了的我表示英语句子长一点我就看的心累了", "大概是 fontconfig 的锅。。。", " 全新的系统，就装了 phpstprm 和 virtualbox ...\r", "\r", "唉，目测这个问题很奇特，打算重装好了。", "关了中文呢？", " \r", "关了中文那么这个主题就没意义了，\r", "\r", "因为他本身显示英语就是这个字体。。。\r", "\r", "而且不知道这个字体到底是哪个、在哪里。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Mac OS X 的早期版本里其实自带了配置非常完备的 Apache ，所以那个时候如果要在 Mac OS X 上使用 phpMyAdmin ，只要打开 Personal Web Sharing 然后将 phpMyAdmin 安装到一个目录中即可。</p>\n<p>但是后来这个组件被去掉了。在最新的 OS X El Capitan 中，你需要安装 Server.app 来获得 Apache + PHP 。但 Server.app 是一个巨大的软件包，带有太多组件，安装之后会影响 OS X 的关机和重启速度。所以为了能够继续通过轻量级的方式用 phpMyAdmin ，研究了下面的这个步骤。</p>\n<p>请确定你机器上已经装好 Xcode ， Command Line Utility 及 Homebrew 。</p>\n<h2>NGINX</h2>\n<p>首先通过 Homebrew 安装 NGINX ：</p>\n<pre><code>brew install --with-http2 nginx\n</code></pre>\n<p>Homebrew 中的 NGINX 默认会在 8080 端口启动，这不是很方便，所以我们首先把这个地方改掉：</p>\n<pre><code>vi /usr/local/etc/nginx/nginx.conf\n</code></pre>\n<p>然后将第 36 行附近的 <code>listen 8080</code> 修改为 <code>listen 80</code>。</p>\n<p>因为我们将端口修改到了需要 root 特权的 80 ，所以无法再通过 brew services 来使得 NGINX 自动启动。你需要执行以下步骤将 NGINX 的 launchd 配置文件复制到系统目录并更改所有者：</p>\n<pre><code>sudo cp -v /usr/local/opt/nginx/*.plist /Library/LaunchDaemons/\nsudo chown root:wheel /Library/LaunchDaemons/homebrew.mxcl.nginx.plist\n</code></pre>\n<p>然后通过 <code>launchctl</code> 加载：</p>\n<pre><code>sudo launchctl load /Library/LaunchDaemons/homebrew.mxcl.nginx.plist\n</code></pre>\n<p>如果一切顺利的话，那么此时 NGINX 就已经成功在 80 端口启动了：</p>\n<pre><code>$ curl -I 127.0.0.1\nHTTP/1.1 200 OK\nServer: nginx/1.10.1\nDate: Fri, 10 Jun 2016 00:59:17 GMT\nContent-Type: text/html\nContent-Length: 612\nLast-Modified: Tue, 31 May 2016 13:47:07 GMT\nConnection: keep-alive\nETag: \"574d95db-264\"\nAccept-Ranges: bytes\n</code></pre>\n<p>然后我们继续安装 PHP 。</p>\n<h2>PHP-FPM</h2>\n<p>因为 Homebrew 没有自带 PHP 的安装包，所以你需要先导入一个外部的仓库地址：</p>\n<pre><code>brew tap homebrew/php\n</code></pre>\n<p>然后安装带有 FPM 和 MySQL 扩展的 PHP 5.6 版本：</p>\n<pre><code>brew install --without-apache --with-fpm --with-mysql php56\n</code></pre>\n<p>因为 PHP-FPM 将运行在 9000 端口，所以无需特殊设置，直接使用 Homebrew 设置自动启动：</p>\n<pre><code>brew services start homebrew/php/php56\n</code></pre>\n<h2>在 NGINX 中启用 PHP-FPM</h2>\n<p>默认情况下，所有的 NGINX 虚拟主机配置会从 <code>/usr/local/etc/nginx/servers</code> 这个位置读取，所以假设你把 phpMyAdmin 安装在 <code>/www/tools</code> 下的话，那么这里是一个示例配置文件：</p>\n<pre><code>server {\n    listen 80;\n\n    server_name tools;\n\n    root /www/tools;\n\n    location / {\n        index index.php index.html;\n    }\n\n    location ~ \\.php$ {\n        try_files      $uri = 404;\n        fastcgi_pass   127.0.0.1:9000;\n        fastcgi_index  index.php;\n        fastcgi_param  SCRIPT_FILENAME $document_root$fastcgi_script_name;\n        include        fastcgi_params;\n    }\n}\n</code></pre>\n<p>然后只要在 <code>/etc/hosts</code> 将 <code>tools</code> 这个主机名指向 <code>127.0.0.1</code> 即可通过 <code>http://tools/</code> 来访问你放在 <code>/www/tools</code> 中的所有 PHP 工具。</p>\n</div></div>"], "reply": "16", "tittle": "在 Mac OS X 上安装 NGINX 1.10+ 和 PHP-FPM 5.6", "comment": ["曾经我也是直接在 mac 上直接部署环境..回来.我放弃了.直接使用 mamp 很爽", "似乎系统自带的 Web Server 还是可以使用的\r", "\r", "不如拿手机做环境，做个目录同步", "Brew 里面的 Nginx ，能不能让我看看编译了哪些模块？", "MAMP Pro 用起来爽", " 是一个非常精简的版本：\r", "\r", "$ nginx -V\r", "nginx version: nginx/1.10.1\r", "built by clang 7.3.0 (clang-703.0.29)\r", "built with OpenSSL 1.0.2h  3 May 2016\r", "TLS SNI support enabled\r", "configure arguments: --prefix=/usr/local/Cellar/nginx/1.10.1 --with-http_ssl_module --with-pcre --with-ipv6 --sbin-path=/usr/local/Cellar/nginx/1.10.1/bin/nginx --with-cc-opt='-I/usr/local/Cellar/pcre/8.38/include -I/usr/local/Cellar/openssl/1.0.2h_1/include' --with-ld-opt='-L/usr/local/Cellar/pcre/8.38/lib -L/usr/local/Cellar/openssl/1.0.2h_1/lib' --conf-path=/usr/local/etc/nginx/nginx.conf --pid-path=/usr/local/var/run/nginx.pid --lock-path=/usr/local/var/run/nginx.lock --http-client-body-temp-path=/usr/local/var/run/nginx/client_body_temp --http-proxy-temp-path=/usr/local/var/run/nginx/proxy_temp --http-fastcgi-temp-path=/usr/local/var/run/nginx/fastcgi_temp --http-uwsgi-temp-path=/usr/local/var/run/nginx/uwsgi_temp --http-scgi-temp-path=/usr/local/var/run/nginx/scgi_temp --http-log-path=/usr/local/var/log/nginx/access.log --error-log-path=/usr/local/var/log/nginx/error.log --with-http_gzip_static_module --with-http_gunzip_module --with-http_v2_module\r", "\r", "更多的模块你可以用 brew search nginx 看到。", "目前用 brew search nginx 看到的可以安装的模块列表：\r", "\r", "$ brew search nginx\r", "nginx ✔\r", "homebrew/nginx/accept-language-nginx-module\r", "homebrew/nginx/accesskey-nginx-module\r", "homebrew/nginx/ajp-nginx-module\r", "homebrew/nginx/anti-ddos-nginx-module\r", "homebrew/nginx/array-var-nginx-module\r", "homebrew/nginx/auth-digest-nginx-module\r", "homebrew/nginx/auth-ldap-nginx-module\r", "homebrew/nginx/auth-pam-nginx-module\r", "homebrew/nginx/auto-keepalive-nginx-module\r", "homebrew/nginx/autols-nginx-module\r", "homebrew/nginx/cache-purge-nginx-module\r", "homebrew/nginx/captcha-nginx-module\r", "homebrew/nginx/counter-zone-nginx-module\r", "homebrew/nginx/ctpp2-nginx-module\r", "homebrew/nginx/dav-ext-nginx-module\r", "homebrew/nginx/dosdetector-nginx-module\r", "homebrew/nginx/echo-nginx-module\r", "homebrew/nginx/eval-nginx-module\r", "homebrew/nginx/extended-status-nginx-module\r", "homebrew/nginx/fancyindex-nginx-module\r", "homebrew/nginx/geoip2-nginx-module\r", "homebrew/nginx/headers-more-nginx-module\r", "homebrew/nginx/healthcheck-nginx-module\r", "homebrew/nginx/http-accounting-nginx-module\r", "homebrew/nginx/http-flood-detector-nginx-module\r", "homebrew/nginx/http-remote-passwd-nginx-module\r", "homebrew/nginx/log-if-nginx-module\r", "homebrew/nginx/lua-nginx-module\r", "homebrew/nginx/mod-zip-nginx-module\r", "homebrew/nginx/mogilefs-nginx-module\r", "homebrew/nginx/mp4-h264-nginx-module\r", "homebrew/nginx/mruby-nginx-module\r", "homebrew/nginx/naxsi-nginx-module\r", "homebrew/nginx/nchan-nginx-module\r", "homebrew/nginx/nginx-full\r", "homebrew/nginx/notice-nginx-module\r", "homebrew/nginx/php-session-nginx-module\r", "homebrew/nginx/push-stream-nginx-module\r", "homebrew/nginx/realtime-req-nginx-module\r", "homebrew/nginx/redis-nginx-module\r", "homebrew/nginx/redis2-nginx-module\r", "homebrew/nginx/rtmp-nginx-module\r", "homebrew/nginx/set-misc-nginx-module\r", "homebrew/nginx/small-light-nginx-module\r", "homebrew/nginx/stream-lua-nginx-module\r", "homebrew/nginx/subs-filter-nginx-module\r", "homebrew/nginx/tcp-proxy-nginx-module\r", "homebrew/nginx/txid-nginx-module\r", "homebrew/nginx/unzip-nginx-module\r", "homebrew/nginx/upload-nginx-module\r", "homebrew/nginx/upload-progress-nginx-module\r", "homebrew/nginx/upstream-order-nginx-module\r", "homebrew/nginx/ustats-nginx-module\r", "homebrew/nginx/var-req-speed-nginx-module\r", "homebrew/nginx/vod-nginx-module\r", "homebrew/nginx/websockify-nginx-module\r", "homebrew/nginx/xsltproc-nginx-module", "顶！\r", "不过如果是 PHP 开发，还是建议用 vagrant+VirtualBox 装虚拟机", "其实用 Docker 更好，或者 Vagrant", "纯粹为了使用 phpMyAdmin 的话，装好 php 之后 php -S 127.0.0.1:8888 -t webroot 就可以了， php 自带一个轻量级 web server ，在 win 下， i5 4200u 简单压测 qps800+", "为什么不用 DataGrip ，哪怕是 Sequal Pro ？", "直接上 docker,开发部署都很方便\r", "开源的解决方案:laradock", "楼上的各位，想掌握一门技术，还是知其所以然，自己动手配置一遍比较好。\r", "\r", "否则，都是别人配置好的东西拿过来用，可以节省时间，但是学不到技术。出了问题束手就擒。", "为什么我用 brew 安装的 Nginx 是 1.8.1 ？", "好吧，升级 homebrew 后解决。", " 表示我也是这么干的."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>###前言</p>\n<p>安装 Laravel 到底有多难、有多复杂、有多神秘，接下来我们来探讨一下，踩一踩安装 Laravel 的一些坑，在这里主要的目的就是，弥补网上搜不到简单详细的安装过程，第二个就是让大家能简单快速地体验一下 Laravel ，不至于被拦在门外，同时也为不少小白研究 Laravel 提供方便。</p>\n<p>###Composer 和 Git</p>\n<p>像我这种长期不能科学上网的老菜鸟，平常不怎么用 Git ，我相信像我这样的老菜鸟还是有的吧，为什么提到 Git 呢，因为标准的 Laravel 安装过程要用到 Composer ，而 Composer 又依赖于版本管理库工具，也就是类似 Git 这样的版本管理工具。所以首先你要安装一下 Git 工具，如果你本地之前没有安装过的话。安装 Git 的过程在这里我要说一点就是不能科学上网的话，就在百度 Git 搜索结果的百度软件中心下载就可以了，虽然版本可能会比官方最新发布的要低一些但是能用就行。我为了在官方下载最新的 Git 版本，也折腾了不少时间，可能是因为我的 VPN 不太好用老断线，建议大家没有耐心的话就不要去折腾 Git 官方的最新版本了。</p>\n<p>###安装配置过程</p>\n<p>我是在 Windows 的环境下折腾的，这里我使用的一键环境是 phpStudy2016 ，里面已经集成了 Composer 的工具环境。还有官方提到的 Laravel 要运行在 PHP5.5 以上的环境，我这里选用的 PHP7.0 。另外还有，你的 PHP 环境路径里最好不要有空格，我一直习惯把软件安装在 D 盘的 Program Files 目录下，因为目录有空格的问题让我也踩了不少坑，具体原因我也没有去了解过。还有就是 Composer 要通过 HTTPS 去下载相关的依赖包，所以 PHP 的 php_openssl 扩展要开启，有一些资料还提到了开启 php_mbstring 这个扩展，括展启用的具体步骤我就不多说了，应该都知道，网上资料也很多，设置一下 PHP.ini 配置文件就可以了。</p>\n<p>一切就绪我们可以开始折腾了。有可能 Composer 需要更新一下，执行一下</p>\n<pre><code>composer self-update\n</code></pre>\n<p>更新了 Composer 就可以了。因为 Composer 要用到命令，我推荐使用 PowerCmd ， PowerCmd 是 Cmd 的增强工具。</p>\n<p>如果报\"composer 不是内部命令\"的错误的话，需要配置一下系统环境变量，在 Path 系统环境变量里把 composer 所以的目录添加上去，我的是 D:\\Program\\phpStudy2016\\tools ，还有 Git 所在的路径也是要添加上去我的是 C:\\Program Files\\Git\\cmd 。</p>\n<p>在 phpStudy2016 的 tools 目录下有一个 setpath.bat 的文件，里面有一个命令，在当前命令窗下执行一下那个命令，来添加临时的 Path 环境变量：</p>\n<pre><code>SET Path=D:\\Program\\phpStudy2016\\;D:\\Program\\phpStudy2016\\apache\\bin;D:\\Program\\phpStudy2016\\tools;D:\\Program\\phpStudy2016\\php70n;D:\\Program\\phpStudy2016\\mysql\\bin;%Path%\n</code></pre>\n<p><strong>注意上面的路径是否和你本地的相对应。</strong></p>\n<p>把你下载好的 Laravel 项目放到你的项目文件夹里，我是放到了 D:\\Program\\phpStudy2016\\WebRoot\\Laravel5.2 下，在 Laravel 初始化安装之前，如果你是不能科学上网的，需要在 composer.json 设置一下仓库地址改成国内的 composer 镜像仓库，这里确实要感谢大神的无私奉献。配置如下：</p>\n<pre><code>\"repositories\": {\n\t\"packagist\": {\n\t\t\"type\": \"composer\",\n\t\t\"url\": \"https://packagist.phpcomposer.com\"\n\t}\n}\n</code></pre>\n<p>提代码放在配置文件的最外层大括号面就可以了。</p>\n<p>接着配置一下 Laravel 的基础配置， Laravel 的项目根里有一个.env.example 的文件，复制一下重命名为.env 就可以了， Windows 系统会提示请输入文件名，在文件重命名时后面再加一个点就可以了像这样“.env.”，以下是我的配置文件，你可以根据自己环境的具体情况来配置：</p>\n<pre><code>APP_ENV=local\nAPP_KEY=708d31EB88e315E1b7Cc6886Adf16445\nAPP_DEBUG=true\nAPP_LOG_LEVEL=debug\nAPP_URL=http://192.168.1.100:6064\n\nDB_CONNECTION=mysql\nDB_HOST=127.0.0.1\nDB_PORT=3359\nDB_DATABASE=sql_laravel\nDB_USERNAME=root\nDB_PASSWORD=root\n\nCACHE_DRIVER=file\nSESSION_DRIVER=file\nQUEUE_DRIVER=sync\n\nREDIS_HOST=127.0.0.1\nREDIS_PASSWORD=null\nREDIS_PORT=6379\n\nMAIL_DRIVER=smtp\nMAIL_HOST=mailtrap.io\nMAIL_PORT=2525\nMAIL_USERNAME=null\nMAIL_PASSWORD=null\nMAIL_ENCRYPTION=null\n</code></pre>\n<p>APP_ENV=local 中的 local 是本地模式，是在本地开发用的模式。 DB_PORT 是 MySQL 的端口，默认的是 3306 ，DB_DATABASE=sql_laravel 我这里的数据库sql_laravel是提前在MySQL里新建的空库， APP_DEBUG=true ，开启调试模式， APP_LOG_LEVEL=debug 日志级别， APP_URL=http://192.168.1.100:6064 是配置的本地站的 URL 。</p>\n<p>###进入 Laravel 初始化安装工作</p>\n<p>配置完成了我们就可以执行初始化安装的工作了，命令指示符合里切换到 Laravel 项目目录我的是：</p>\n<pre><code>cd D:\\Program\\phpStudy2016\\WebRoot\\Laravel5.2\n</code></pre>\n<p>然后执行：</p>\n<pre><code>composer install\n</code></pre>\n<p>执行完命令后会进入一系列的依赖包下载和初始化工作。</p>\n<p>完成之后把 Apache 的站点目录指向到 Laravel 下的 public 目录，以下是我手工用 vhosts.conf 配置文件配置的：</p>\n<pre><code>&lt;VirtualHost *:6064&gt;\n    DocumentRoot \"D:\\Program\\phpStudy2016\\WebRoot\\Laravel5.2\\public\"\n  &lt;Directory \"D:\\Program\\phpStudy2016\\WebRoot\\Laravel5.2\\public\"&gt;\n      Options FollowSymLinks ExecCGI\n      AllowOverride All\n      Order allow,deny\n      Allow from all\n      Require all granted\n  &lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n</code></pre>\n<p>httpd.conf 里要设置一下端口监听</p>\n<pre><code>Listen 80\nListen 6064\n</code></pre>\n<p>当然 Apache 的站点目录配置都可以通过界面操作来完成。</p>\n<p>以上配置好之后就可以访问了 Laravel 了。</p>\n<p>后面就可以按 Laravel 中文网的教程来了：</p>\n<pre><code>php artisan make:auth #激活内置的 Auth 用户权限管理的系统\nphp artisan migrate #执行数据库迁移，通俗的理解就是相当于自动建表、导入数据，前提是你前面配置了数据库连接\n</code></pre>\n<p>完成之后你就可以访问 http://192.168.1.100:6064/login 进行注册登录了。\n上面用到 Artisan 命令，这里简单提一下：</p>\n<blockquote>\n<p>Artisan 是 Laravel 框架的内置的命令行接口。它为开发应用程序提供了一系列的有用的命令。它基于强大的 Symfony 命令行组件。</p>\n</blockquote>\n<p>@(进阶)[Laravel 安装,Laravel 配置,折腾 Laravel 安装过程]</p>\n<p>鉴于本人写作水平、技术水平有限，有写得不妥的地方请指正。</p>\n<p>出处： <a href=\"http://blog.uxwin.com/wp/163.html\" rel=\"nofollow\">http://blog.uxwin.com/wp/163.html</a></p>\n<p>赞赏通道： <a href=\"http://blog.uxwin.com/aboutus\" rel=\"nofollow\">http://blog.uxwin.com/aboutus</a></p>\n<p>微信号： ioiplay</p>\n<p>注：请尊重别人的劳动成果转载请务必注明出处以及保留作者附加信息。</p>\n</div></div>"], "reply": "2", "tittle": "小白如何快速上手的 Laravel 安装过程分享!!!", "comment": ["帮楼主声明，以上教程适用于 Laravel 5.2", " Laravel 低版本的安装过程还不一样么，我都还不知道。"]},
{"content": ["<div class=\"topic_content\">求小伙伴呀小伙伴呀~\r<br>\r<br>2 年前去有基友陪着, 今年只剩一个人了.</div>"], "reply": "24", "tittle": "有 V 友这周末去上海参加 PHPCon 么?", "comment": ["占楼问一下这个票的正确购买方式~ 优惠码哪里得？", " 应该是没有什么优惠码的, 这个票的正确购买方式就是早买, 早买折扣很大.  晚买就只能这样了. \r", "\r", "以我上次的经验, 工作餐就算了, 反正我上回吃的还不如在学校食堂吃的好.", " 额，好吧。我是看了你的帖子才知道这个活动。。。会一点点 phper 路过，大概是信仰不够高吧", " 还好,  远可以开阔视野, 近可以学习经验.  要是人在上海建议一去, 我都是从辽宁往上海跑, 来回光机票就够受了!", " 哇！！！辽宁啊，信仰呀！我再犹豫一下，大概可能会去，不过我去的话也是买最便宜的票，你呢？", " 我买的优质的, 因为路费吃住远远大于票价的缘故,", "我也是一个人去看，几个星期前就看到了，就是不确定时间没买，前几天确定好时间没优惠了，就买了普通票过去听听。", "那个票能转让吗。。。", "三张优质, 周六早上青浦到闵行, 早点到", " 转让应该没啥问题", " 有朋友一起挺好, 没事还能交流交流", " 部门教育基金, 想去听听韩老讲连接池", "屌丝永远距门十万八千里，为啥。没票", "听说门票要 4,500 ，太贵了", "我也有票", "买了屌丝票,过去凑凑热闹\r", "虽然每年都是那几个人", " \r", "永远在讲 php7 新特性的鸟哥\r", "永远在安利 swoole 的韩天峰", " 哈哈, 确实是这样的.  还有 xxxx 的那些事系列的梗", " 但如果鸟哥不讲 php7, 韩天峰不讲 swoole 反而没啥意思了.", "+1", "没有", " 一边去, 周六请我吃大餐", "哈哈，我也是一个人去", " 已经到达会场"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>刚刚接触 laravel ，使用 auth 验证用户登录态时，跳转登录都是指向默认路由\n下面是 laravel 默认的路由\npublic function auth()\n{\n// Authentication Routes...\n$this-&gt;get('login', 'Auth\\AuthController@showLoginForm');\n$this-&gt;post('login', 'Auth\\AuthController@login');\n$this-&gt;get('logout', 'Auth\\AuthController@logout');</p>\n<pre><code>    // Registration Routes...\n    $this-&gt;get('register', 'Auth\\AuthController@showRegistrationForm');\n    $this-&gt;post('register', 'Auth\\AuthController@register');\n\n    // Password Reset Routes...\n    $this-&gt;get('password/reset/{token?}', 'Auth\\PasswordController@showResetForm');\n    $this-&gt;post('password/email', 'Auth\\PasswordController@sendResetLinkEmail');\n    $this-&gt;post('password/reset', 'Auth\\PasswordController@reset');\n}\n</code></pre>\n<p>我想改下这些路由，例如 login 改成 admin/login,请教能不能改，怎样修改</p>\n</div></div>"], "reply": "1", "tittle": "laravel5 auth 验证路由如何重写", "comment": ["Route::group(['prefix' => '/admin',], function(){\r", "    Route::auth();\r", "});"]},
{"content": ["<div class=\"topic_content\">， order 表有 drug_provider_id ， provider_id ， order_type 字段，当 order_type=3 ， provider_id  取 drug_provider_id ，否则取 provider_id 。 provider 表有 id 字段，\r<br>我要用字段\r<br>if(t1.order_type = 3 ,t1.drug_provider_id,t1.provider_id) as provider_id  去左连 provider 表的 ID 字段具体语句怎么写</div>"], "reply": "2", "tittle": "求大神， mysql 根据条件用不同字段连表问题", "comment": ["应该是 order 表是主表， provider 表要去左连 order 表，还有其它表要左连 order 表", "用 union 吧, 举个例子:\r", "\r", "\"\"\"\r", "SELECT\r", "\to.id AS order_id,\r", "\tp. NAME AS provider_name\r", "FROM\r", "\ttest.order o\r", "INNER JOIN test.provider p ON o.order_type = 3\r", "AND o.provider_Id = p.id\r", "\r", "UNION\r", "\r", "SELECT\r", "\to.id AS order_id,\r", "\tp. NAME AS provider_name\r", "FROM\r", "\ttest.order o\r", "INNER JOIN test.drug_provider p ON o.order_type != 3\r", "AND o.drug_provider_id = p.id\r", "\"\"\""]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>依赖注入，有什么用呢？请教大神？</p>\n</div></div>"], "reply": "17", "tittle": "php 的依赖注入到底是怎么实现的？", "comment": ["解耦依赖用。", "懒加载", " 可以看看 slim 的实现", "反射", "反射类", "你不知道有什么用，说明你还用不到，安心去干活吧，别没事研究这些奇技淫巧", "我说 数组 有人会打我吗。", " 能详细说下吗？", "主要是反射。看看 Laravel 的 Container 里怎么写的就知道了。", "我说下我个人理解的简单的依赖注入：\r", "比如你一个方法需要一个文件句柄，你方法参数当然可以写文件地址，然后方法内自己 fopen 。依赖注入的话就是文件句柄当做参数，这样的好处方法内不用处理文件打开的逻辑，而且之后所在的文件系统换了(这只是举个例子)等情况，方法不用做修改。还有一个好处是方便写单元测试，可以 mock 一个文件句柄参数传给方法。", "如果只是想自动引入类文件的话\r", "可以用 namespace 和 SPL 就可以实现", "__invoke() 函数", "控制翻转", "  ", " 欢迎关注专题 :)", "方便进行测试", " 已经收藏了，但是依赖注入的用法和目的，说的不是很简单。", "理解依赖倒置，就知道什么是依赖注入了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>批量名单导入</p>\n<pre><code>一次 5 万条的数据导入，都需要入数据库。 （一行一个 QQ 号码，有 txt 与 excel 格式） 要考虑的问题有，如果导入的数据中在数据库有记录就做加分或者减分。 没有就新增到数据库中。  应该怎么操作或者实现？ 或者解决的思路应该来...   \n\n\n个人的解决思路也只能一个一个对比数据库，有就加减。没有就新增。 这样可以?\n</code></pre>\n</div></div>"], "reply": "11", "tittle": "求思路遇到项目的一些问题。php", "comment": ["你的思路没错。\r", "5 万这么少，有问的功夫，写个逻辑都导完了。\r", "如果数据量大，嫌慢加个索引就好。\r", "我这边每天一千万条都是这么入库的", "3-4 行 bash 搞定。。", "php 脚本", "才 5 万，直接按你的思路来也没多久吧。除非你数据库原来有很多数据", "是一次导入 5 万，后面还有数据。 主要是如果数据库有记录的话就做加减，只能一个个对比。 这里怎么操作？", "if mysql\r", "\r", "CREATE TABLE `qq` (\r", "`qq` BIGINT UNSIGNED NOT NULL ,\r", "`score` INT UNSIGNED NOT NULL ,\r", "PRIMARY KEY (  `qq` )\r", ") ENGINE = INNODB;\r", "\r", "\r", "INSERT INTO `qq` (`qq`,`score`) VALUES (`{$qq}`,0) ON DUPLICATE KEY UPDATE `score` = `score` +1;", "五万条数据 IO 好一点的 PC 机服务器也用不了一秒……", "5W 阿 你就照瞎里写  没啥事。。", "数据重复量大吗？先用 php 跑一遍把该加减都处理了，然后直接插数据库", "数据量应该不会很大，思路有了些. 别学别想... 上面那个 SQL 不错学习了。", "excel 转成 csv 应该速度还更加快一点"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"http://i1.piimg.com/4851/91b55579234e8ef1.jpg\" src=\"http://i1.piimg.com/4851/91b55579234e8ef1.jpg\"></p>\n<p><img alt=\"http://i1.piimg.com/4851/3ca4825580ace6a6.jpg\" src=\"http://i1.piimg.com/4851/3ca4825580ace6a6.jpg\"></p>\n<p>当前网站已经重置</p>\n</div></div>", "<div class=\"topic_content\">7 层 提醒 部分地区看到的黑页挂马了</div>"], "reply": "68", "tittle": "thinkPHP 被黑，尚不清楚源码受没受影响", "comment": ["似乎所有二级域名都关闭了？", "访问正常啊。", "好像是域名解析被修改了。。。", "噗，\r", " -> 182.61.4.117\r", " -> 182.61.4.117\r", "无言以对\r", " CDN 同步的乱七八糟，我这里看不到这些", "注意: 页面被挂马,谨慎访问\r", " ", " ", " 我也发现了，不知道是做这个 html 的人电脑中毒了还是故意的 233333333 。用 Chrome 访问应该不会中马。", " \r", "上面那个 URL 打开吓死了。。", " ", "哪个？\r", "我这里打开 3gsec 已经提示找不到 DNS 服务器了", " 顺便都能艹了站。。我猜是故意的", " ", "入侵的人会不会帮他们把 ThinkPHP 源代码里的漏洞补了？", " 3gsec 神奇的又能打开了", "根域名不解析也就算了，前端搞那么差连字都重合一起这我就不能忍了", " 根域名没解析。。。", "尼玛 还没修复呢", "一打开 3gsec 这个网站，感觉整个人都年轻了十岁...", " 同感，本以为 10 年前的“黑”客都死光光了，没想到前仆后继。", "不过， 10 年前“黑”客的装逼效果还是不错的，现在嘛，装逼效果还不如买个二手 iphone", "还没修复，已经截图， 2333", "广东 时 代 互 联 科技有限公司能信？\r", "\r", "如果非要把域名注册在国内，就选万网吧，这种注册商和客服说个几句话就给你改 dns （貌似之前 exo 官网也是这样", "可以，这很装逼", "qq 群都留下，一逮一个准...果然是无脑装 B", "已经恢复了。", "我还挺期待官方给说明的，很期待...\r", "直接影响我还有没有后续动力学 TP5", " 确实是，这 B 装得溜", " 直接报警，按 QQ 查，一查一个准", "去吧，互相伤害吧！", "反正我只用 composer 版……", "\r", "\r", "看了这博客。。。我整个人都不好了、\r", "\r", "小学生吗", "\r", "这孩子连手机、家庭地区都 Post 在上面了， GG", "主要是，主要是太吵了。。。", "这是一群智障啊~", "然而“ 1997.04.28 ”并不是小学生、孩纸…大家都是成年人了 2333😂", " @", "。。无力吐槽", " +1", "这伙小学生我知道，整天 cc 这个 dd 那个的，没什么新新鲜的", "这伙「黑客」都是小孩，资料就挂在自己博客上，可以考虑报警抓起来教育教育。", " SAO 被黑得最惨的一次", "那个网站碉堡了………实在是…………无言以对啊………", "棒子害人不浅", "复古的画风。。", "thinkPHP 有公司可以报警。看到了 kangle...", "简直就是，可以，这很嘿嘿嘿…", "- - 博客的画风看起来像是黄钻贵族", "这姓名，住址，电话都有，也是醉了", "看留言就知道是小屁孩干的，估计也就是整天没事干拿着个老工具、老技术到处撞，还以为自己很牛逼（不排除真会有几个真正有技术的小屁孩）", "抓起来打屁股-。-", "是不是他们把网页给下架了啊，怎么只有 kangle is OK ？\r", "\r", "顺便，那个叫“男孩欧巴”的同学真心碉堡了", "曾经的 51 空间即视感", " 人没开站\r", "\r", "小鸟云。。。正巧手上有小鸟云的库。。。碰碰运气能不能日了这帮小屁孩", " 日日日，快日下站 233.", "TP 官方说是  DNS 服务器被攻击了    很无聊的骇客干的", " \r", "    果然是小学生    想起了初三时间的我", "社工 3 人组的  两个网站都关了    是不是被日了?    我还想看看他们的网站呢    找回年轻的感觉!", "那些年的我们，哈哈哈哈", "只想说，截图 Low 爆了\r", "骚狗浏览器，还是小粉红配色，然后又是瑞星，又是 360 ，然后又是什么加速球……", "mdzz", "黑帽子。", " SAO? Sword Art Online ？刀剑神域？本子娜万岁~\\(≧▽≦)/~", "= = 一下年轻了 10 岁... 浓浓的黄钻贵族的既视感", "吐槽粉色浏览器的人好少", "有没有打算在成都找工作的 phper 呢？地点是高新区天府新谷这边", "也是醉了（", "社工的吧  骗客服改解析", "源码去 Github 下载", "最烦这类小黑，简直个杀马特煞笔"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>简单来说，我有两个链接给移动端进行交互</p>\n<p>1 、 <a href=\"http://www.a.com/index.php?test=1\" rel=\"nofollow\">http://www.a.com/index.php?test=1</a>\n2 、 <a href=\"http://www.a.com/index.php?testTwo=1\" rel=\"nofollow\">http://www.a.com/index.php?testTwo=1</a></p>\n<p>第一个链接 post 结果会得到一个$a 和 $b</p>\n<p>但是只有$a 是给移动端看的数据 而$b 是额外的数据，但是第二个链接里面需要$b 这个变量结果</p>\n<p>目前要求是移动端不用存储$b 再 post 给我 而我自己可以保存下来直到第二次继续 post 第二条链接拿来用</p>\n<p>这个变量不能存数据库 session 也没法用 global 好像也不能用 现在咋办？？</p>\n</div></div>"], "reply": "1", "tittle": "两个不同脚本怎么传参？", "comment": ["既然不能放 session 那就放本地文件呗"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><blockquote>\n<p>初衷：技术的快速更新迭代，让我们应接不暇，为了更好的提高自己，不断的技术追求，为兴趣而执着，为当初那一份热情而苦苦追寻，希望有共同愿景的朋友一起组队共同学习提高。</p>\n</blockquote>\n<p>有没有折腾的 PHP 和前端方向的朋友，诚心求组队，共同探讨折腾研究，加快进化速度，减少学习成本。本人不才，有多年的工作经验和开发经验，欢迎诚心的朋友共同学习提高。</p>\n<p><strong>开发平台：</strong>\nPHP,JavaScript,JQuery,BootStrap,HTML/CSS,Python,PhotoShop</p>\n<p><strong>语言学习历程：</strong>\nasp&gt;actionscript&gt;javascript&gt;c#.net&gt;php&gt;python</p>\n<p><strong>专长领域：</strong>\nWEB 开发，网站运营 /站长</p>\n<p><strong>非诚勿扰。</strong></p>\n<p>我的联系邮箱 dabpop139@163.com</p>\n</div></div>"], "reply": "25", "tittle": "有没有爱折腾的 PHP 和前端方向的朋友，诚心求组队？", "comment": ["正好，这边有一个单子，你接吗？ asp 的", "这是要做什么", "我特烦在句子后面乱加问号的", "问一下是要一起接点外包什么的么，有意向", " 前期应该是不会共同接单子什么的，主要是交流学习为主。", " 你吓我吧，现在还有 asp 减 net 的做的项目，都什么年代了~~", " 2333 ，这是真的，我不会 asp ，就没接，你要是可以就接，改一些东西，给的价钱很高", "需要打杂的吗，我愿意免费服务，只求一个锻炼提升的机会︿(￣︶￣)︿", " 目前组队不共同接单子，你要不是太基础的话，都可以共同学习，只是不能经常问一些基础性的问题。", " 需求发我邮箱看看，不一定改得了，其实 PHP 和 ASP 差不多语法上。", "asp 就是 vb 的语法，上手容易", " 已发送", "怎么还用 asp 啊，我都后悔自己浪费时间学 asp 了", " javascript 什么是闭包?实现继承?", " 人家钱甩出来，你不做当然有别人做咯。这是供需关系决定的。", "我跟你差不多，喜欢折腾 PHP 和前端，欢迎关注： ", "python +windows 转 php+linux ，完全变成新手了。。。。", "有兴趣，难道用邮箱交流？", " 为啥不建一个群呢？", " 目前打算建立的 10 人以内的小群，人多了达不到很好的交流效果。", " 已经发了邮件给你了，朋友。", "我想加入你们的群，希望和大家一起学习", "前端可以么, 写过 PHP ， 爱好各种语言，除了 JAVA ，爱折腾。", "  我接  qq 276026712", "前端，但是 PHP 弱鸡，最近想研究 PHP ，我的博客 idevs.cn 。如果可以，十分希望可以一起学习进步。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我是标题党，你们鞭策我吧！开个小玩笑\n各位看官，标题提到的文档管理系统， 小弟我在市面上寻觅了一番，终于找到了合意的对象[PPM Doc 文档管理系统]\n官方： <a href=\"http://www.ppm123.cn/pages/doc/detail.php\" rel=\"nofollow\">http://www.ppm123.cn/pages/doc/detail.php</a>\n功能方面也正合心意，但是苦恼的就是，这个系统是 jsp 开发的，小弟不才，不懂这方面的，本来想着能对这个系统进行二次改造，但是这个梦现在破灭了。\n所以问题来了，请问各位大哥们对市面上的文档管理系统有了解过吗，开发语言 php 的，功能方面支持文档版本控制，用户管理，权限控制，支持上传 doc 。 pdf 等文档，在线查看的，可对该文档进行评价，共同交流改进等，扩展性强的，因为想着二次开发，希望各位大哥大姐能给点解决方案，再次谢谢了！</p>\n</div></div>"], "reply": "14", "tittle": "php 文档管理系统 - 开源征婚，各高富帅大哥来点建议", "comment": ["给钱让你帮人开发\r", "----------------------\r", "完。", "只是假装高富帅过来看看", "掏钱吧，绝对有人做。", "我知道 svn/git 开版本库很适合你", "各位大哥辛苦了，其实我是想在已有的方案中，去完善需要的功能，节省开发周期！！！", "这个其实用 git 就可以解决了吧。。。。\r", "至于在线查看可以使用 flexpaper ，配合转换工具 pdf2swf 之类的转换工具", " 因为公司某个部门需要，文档方面很多，又不好保存，所以想放到系统中，方面各部门查看什么的！！！", "话说为什么不选择 ownCloud 之类的系统？", " 因为我们有个 web 系统，打算是搞个文档管理系统整合为其中的一个模块使用的！！！所以选择 php 开发，一是都是一个语言，二是可二次开发，毕竟自己熟悉", "Seeddms ，你看下。也是个坑，不过是 php 的", "我正在开发一个 discuz 版的文档管理插件，刚开始", "Talk is cheap, show me the money! [dogge]", "\r", "\r", "开源中国上的东西，还是很全的。不知道目的的时候可以去翻一下"]},
{"content": ["<div class=\"topic_content\">$text='a\\tb';\r<br>\r<br>$text1='a'.\"\\t\".'b';\r<br>\r<br>QRcode::png($text);\r<br>\r<br>最终输出 TEXT 和 TEXT1 是不一样的</div>"], "reply": "6", "tittle": "这两种字符串有什么区别？", "comment": ["双引号 \\t 会被解析成 tab\r", "单引号 \\t 不解析", " 现在有个问题了，我一个很长的字符串，中间有 N 多；号，数量不定，要怎么把他们替换成可以被解析的 tab ？", "正则表达式啊， preg_replace.", " 搞定，原来正则里也要双引号，感谢两位", " \r", "\r", "$str = str_replace('；', \"\\t\", $str);\r", "\r", "\r", "\r", "PHP 里，使用双引号包裹的字符串意味着 **解析器** 会对其进行解析，包括将转义字符转义。\r", "\r", "单引号则表示原字符，其中的内容不会被解析器解析。这就是为什么你那两个字符串“看起来”一样，其实不一样。", "有 php 之前、至少从 shell 开始就是双引号转义单引号不转义了"]},
{"content": ["<div class=\"topic_content\">本人入行 php 刚一年，经验尚浅，在加上上一份工作的原因，辞职后一心想找一个技术实力比较强的团队，感觉这样对自己技术实力的成长会很有帮助。但是经过这一段找工作的情况，发现这样的团队确实可遇不可求。想问一下对于此你们怎么看？</div>"], "reply": "6", "tittle": "技术团队的实力是否应成为新工作的关键考量？", "comment": ["作为一个工作了两年的后端研发，我的想法和你差不多，毕竟刚工作，感觉团队氛围第一，钱其次。不一定要追求技术实力非常强的团队，有时候差距太大并不容易融入其中，但是在一两年以内，是否能够有足够的东西让你去学习这一点很重要。你觉得这样的团队可遇而不可求，可能是你的要求过高了吧，话说技术实力很强的团队也未必能看上你。个人觉得现在这个阶段踏实学习，积累经验比较重要，没事也可以多研究研究开源项目。", " 确实如此，我的计划也是前几年专注于技术。", "跟什么人做什么事，有时候第一个什么比第二个什么还重要", "无论哪个团的，自己学习都是很重要的", "要避免把别人的牛逼当成自己的成绩，和牛逼的人一起做事情，有时候是人家牛逼导致你觉得你做的事情很牛逼，离开人家啥都不是。\r", "说白了，靠的还是自己的学习能力。有能力不在乎什么团队，甚至你自己就可以打造一个那样的团队。\r", "重点是学习牛人的学习和思考问题的方式，能学到你就成功了。", "编程很难，一向如此。\r", "1.团队的技术实力和你本人的关系可能并不大，团队实力强，也并不意味着你就很强。\r", "2.团队有牛人，但牛人不一定会给你很多的指导，相反可能由于实力差距，甚至在一个公司都会处于不同次元。\r", "3.个人的成长始终是靠自己。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>首先  本地环境      wnmp   和虚拟机   lnmp 跑下来都没问题</p>\n<p>但是放到了线上，突然报了这个错误</p>\n<p>FastCGI sent in stderr: \"PHP message: PHP Parse error:  syntax error, unexpected '@'</p>\n<p>而且不仅仅是一处，这个 @是用来加载文件的，本身是没有语法错误的。</p>\n<p>所以没有思路，所以发帖求助</p>\n</div></div>", "<div class=\"topic_content\">import(\"@.ORG.IpLocation\");\r<br>\r<br>报错的是这句。。\r<br>\r<br>说 @有错</div>"], "reply": "26", "tittle": "关于一个 php 报错的问题", "comment": ["我是感觉不像代码的问题，更像配置的问题，但是 lnmp 的环境虚拟机也跑了，也没发现这个问题", "不贴代码么？", "php 的版本跟你本地不一致，你用了某个比较旧的函数", "代码报错不贴代码……", "我瞎猜一下 allow_url_fopen", "我猜是 curl 要改成 curlFile", " 你是说我本地环境比较高？线上的环境低？", " 没代码贴啊，因为这个只是所语法错误，但是并不是语法错误，而且去掉这个还有其他的", " \r", "先把双引号改成单引号看看", "我想了好久 php 有 import 这个函数么？后来意识到这是 ThinkPHP 吧？？", " 是的", "我之前以为你的 @ 是为了频闭函数的报错信息，所以猜你用了某个比较旧的函数，而你的线上环境是比较新版本的 PHP", "  \r", "这行报错会消失，但是又会有其他报错\r", "报错信息\r", "5 FastCGI sent in stderr: \"PHP message: PHP Parse error:  syntax error, unexpected '' . __URL__ . '' (T_CONSTANT_ENCAPSED_STRING)\r", "报错行\r", "$str .= ' <a href=\"' . __URL__ . '/tag/name/' . urlencode($tag) . '\">' . $tag . '</a>  ';\r", "\r", "我觉得不是语法的问题，因为毕竟其他环境是 i 没影响的", " 那现在觉得是什么问题呢？", "用单引号试试 import('@.ORG.IpLocation');", " 这个的确可以，但是会一直报下去其他错误，难道全都有错？", "先看 php 版本有没有不同\r", "从错误看很可能用了特殊字符\r", "看看代码在什么系统下写的，如果是 windows 要特别小心，建议用 sublime text 等编辑器， utf8 无 bom 存一遍。\r", "或者用 PhpStorm 之类的 IDE 做一次静态代码分析", "应该就是线上 PHP 版本问题，初步怀疑是线上版本较低", " 恩，我用的就是 phpstorm ，是没有语法报错的，在虚拟机的环境是 ubuntu 和线上是一样的，我先 check 下 php 的版本吧。", " \r", " \r", "看了下版本，虚拟机和线上都是 5.5.9   ubuntu 都是 14.17\r", "这下又没有头绪了~~~", " \r", "检查一下 php-fpm 版本和各系统的文件编码\r", "然后有没有什么相关的缓存系统？清空或重启一下", " \r", "1. phpinfo() 看一下当前生效的 php.ini 在哪里\r", "然后去掉所有解释性注释把有效配置（包含注释的有用配置）贴上来", "权限呢，可以把应用目录权限改改看看。", " 权限是所有的， chmod 777 -R 过了", "这么弱智的问题.... 我都不好意思说你\r", "你玩 PHP 文档看过吗?\r", "\r", "import(\"@.ORG.IpLocation\");\r", "这里的 . 因为双引号的关系 被解析为连接符 所以报 @开始的错误\r", "只有单引号 才可以不解析内容 直接输出\r", "\r", "问个问题代码还藏着掖着 指望别人猜?\r", "什么本地能运行 线上不能运行, \r", "你这么写 如果 php.ini 和安装的 php 源一致 能运行的纯粹是灵异问题\r", "\r", "<?php\r", "class MemberModel extends Model {\r", "    \r", "    public function recordqq($nickname,$figureurl,$gender)\r", "    {\r", "        $ip = get_client_ip();\r", "        import('@.ORG.IpLocation');// 导入 IpLocation 类\r", "        $Ip = new IpLocation('UTFWry.dat'); // 实例化类 参数表示 IP 地址库文件\r", "        $area = $Ip->getlocation($ip); // 获取某个 IP 地址所在的位置    \r", "        $user = $this->getByNickname($nickname);\r", "        print_r($user);\r", "        if(!empty($user)){\r", "            $data['lastloginip'] =   $area['ip'];\r", "            $data['logincount']    =    array('exp','(logincount+1)');\r", "            $data['lastloginaddress']=$area['country'];\r", "            $data['lastlogintime'] =   time();\r", "            $this->save($data);\r", "        }else{\r", "            $data['nickname']  =   $nickname;\r", "            $data['avatar'] =   $figureurl;\r", "            $data['gender'] =   $gender;\r", "            $data['lastloginip'] =   $area['ip'];\r", "            $data['lastloginaddress']=$area['country'];\r", "            $data['lastlogintime'] =   time();\r", "            $this->add($data);\r", "        }\r", "    }\r", "}\r", "?>", " 额。。并不是你想的这样，这个错其他地方并没有报，也是 linux 的环境，所以觉得和代码是无关的，是希望注意力集中在不是代码的地方，这个代码 apache 是 ok 的， windows 上的 nginx 也是 ok 的，虚拟机的 nginx 也是 ok 的，但是线上的 nginx 是不 ok 的，就是这样子，如果报错的话，我想起码虚拟机的 nginx 也会报同样的错吧,所以觉得会不会是什么配置文件的问题。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我写一个 css 样式，有 1 2 3 ，用 id 来运算最终结果只有 1 2 3 这三种怎么写？ （ id 是纯数字）</p>\n</div></div>"], "reply": "20", "tittle": "php 怎么写判断最终只在三个值之中", "comment": ["<style>\r", ".style-0 {...}\r", ".style-1 {...}\r", ".style-2 {...}\r", "</style>\r", "<div class=\"style-<?php echo $id%3?>\">...</div>", "不知道你说什么", "1 楼正解，对 3 取余数。", " 取余数怎么写？貌似你那种不行吧，不完整", " 万一是无限不循环呢", "不懂什么意思", "不对 id 取余，而是对序号取余", " 上面都说余数了（ mod ），还无限不循环...", "rand(1,3);\r", "笑，逃……", "纯数字是什么？自然数？整数？实数？虚数？", "不管任何整数，对 3 取余得到的一定是 0/1/2 ，所以如果你需要得到 1/2/3 ，那么结果再加一就行", "其实我不知道你问的是啥，瞎写的，你忽略吧。", "楼上说出了真相， 2333", "我猜想楼主的需求可以用 :nth-child 直接实现，无需 PHP 介入", " :nth-child 遇到无限不循环整数怎么办啊（逃", " lz 想问的问题应该是类似于以下场景：\r", "渲染一个表格，第一行红色，第二行蓝色，第三行黄色，然后第四行又变成红色，后边依次类推。。", "你可以写三个样式 然后余数不会写 你就 rand  你要是还不会我也没办法了。。或者我们都听差了 你说仔细点。", "1 楼已经给出正解了，还来个无限不循环是什么鬼？", "没人吐槽楼主说的不完整么.楼主需要的是完整实现,少一个分号也是不行的,因为拷过去没法用.", "楼主明显是不知道 % 号是取余操作的吧。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>岗位职责：\n负责网站安全产品的后台开发工作。</p>\n<p>岗位要求：\n1 、 3 年以上 LAMP/LNMP 的程序开发的经验。\n2 、熟悉开源框架： Phalcon, Yii, ThinkPHP 等。\n3 、了解 Mysql 数据库查询优化、 mvc 、面向对象程序设计及设计模式。\n4 、熟练使用 Nignx 、 Mysql 、 Redis 、 Memcached 等。\n5 、掌握一些常见场景设计。如：消息队列、缓存、高并发、高可用、高负载等（有千万级流量网站开发经验优先）。\n6 、具备 linux 操作系统的常用命令操作和应用系统部署、运行维护。\n7 、具备了好的编码习惯和技术文档编写能力。\n8 、能积极主动地思考问题、总结经验、工作态度认真负责。\n9 、熟悉 python 者优先。</p>\n<p>有兴趣的同学可以发简历到： xudong-s@360.cn\n有想了解更多的也可以发邮件。\n千万不要担心有条件不满足或者担心打扰到我们。只要满足我们的需要，一切都不是问题。\n薪资和待遇，大家不用担心，只要面试通过。尽管开口要，哈哈。</p>\n</div></div>"], "reply": "21", "tittle": "[内推] 360， php 开发", "comment": ["岗位职责： 负责网站安全产品的后台开发工作。\r", "\r", "岗位要求： \r", "    1 、 3 年以上 LAMP/LNMP 的程序开发的经验。 \r", "    2 、熟悉开源框架： Phalcon, Yii, ThinkPHP 等。 \r", "    3 、了解 Mysql 数据库查询优化、 mvc 、面向对象程序设计及设计模式。 \r", "    4 、熟练使用 Nignx 、 Mysql 、 Redis 、 Memcached 等。 \r", "    5 、掌握一些常见场景设计。如：消息队列、缓存、高并发、高可用、高负载等（有千万级流量网站开发经验优先）。\r", "    6 、具备 linux 操作系统的常用命令操作和应用系统部署、运行维护。 \r", "    7 、具备了好的编码习惯和技术文档编写能力。 \r", "    8 、能积极主动地思考问题、总结经验、工作态度认真负责。 \r", "    9 、熟悉 python 者优先。\r", "\r", "有兴趣的同学可以发简历到： ", " \r", "\r", "有想了解更多的也可以发邮件。 \r", "\r", "千万不要担心有条件不满足或者担心打扰到我们。只要满足我们的需要，一切都不是问题。 \r", "\r", "薪资和待遇，大家不用担心，只要面试通过。尽管开口要，哈哈。", "工作经验不够 3 年   \r", "学习能力强    爱思考  爱学习\r", "贵公司考虑吗?", "  学习能力强，爱思考，爱学习就足够了。\r", "\r", "里面的要求都不是硬性要求。\r", "\r", "来聊聊吧。发个简历到我邮箱吧。我找公司约个时间。", "   简历已经发您邮箱了", " 好的。已收到。我马上转交。", "   好的   谢谢", "专科 对学历有要求吗", " 没有要求，只看实力。", " 工作地点在哪里啊，啊哈哈，挺想去碰个运气的。", "  非常欢迎来投递简历。工作地点在北京朝阳区酒仙桥这里。地铁 14 号线望京南站附近。\r", "\r", "不过，公司在东直门，亮马桥，望京西，四惠地铁站都有班车。所以，其实不管在哪儿，坐地铁上班都挺方便的。", "我除了没实力，啥都有，看来我是没机会了。。。", " 太谦虚了，哈哈。感兴趣，就放心来。", "360 应该在新盖的那栋楼里面。挨着 798 艺术区", " 是的。周围帅哥，美女很多的。总有一个适合你。哈哈。", "2 、熟悉开源框架： ThinkPHP 等。 \r", "3 、了解 Mysql 数据库查询优化、 mvc 、面向对象程序设计及设计模式。 \r", "6 、具备 linux 操作系统的常用命令操作和应用系统部署、运行维护。 \r", "7 、具备了好的编码习惯和技术文档编写能力。 \r", "8 、能积极主动地思考问题、总结经验、工作态度认真负责。 \r", "9 、熟悉 python 者优先。 \r", "都多少会些，也学习能力强 爱思考 爱学习 。就是没毕业 hhh", " 可以来实习。也是热烈欢迎。", "还有同学有兴趣的么？还在热招中。", "实习, 简历已投. :D", "   楼主  \r", "简历已投   可是就木有消息了   也木有收到回复邮件或者电话", " 哈，明年吧，今年已经在实习啦", " \r", "本人有丰富的 C/PHP 开发经验，重构过完整的网站项目，也从头开发过线商城，擅长服务端性能优化。\r", "简历已投，请查收！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>例如淘宝\n打开的时候会有 <a href=\"https://www.taobao.com/?spm=a21bo.50862.201857.1.l0DJSM\" rel=\"nofollow\">https://www.taobao.com/?spm=a21bo.50862.201857.1.l0DJSM</a>\n其中的?spm=a21bo.50862.201857.1.l0DJSM 不是固定的值\n请问这是干什么的，还有， php 怎样弄出这样的效果</p>\n</div></div>"], "reply": "6", "tittle": "https 的乱码后缀", "comment": ["防止 Cache 吧", "简单来说就是个记录来源的参数, 常见于淘宝客分享出来的链接.\r", "可参考: 淘宝 SPM 流量跟踪体系", "阿里系所有产品都有这个，一旦被阿里收购就会被加，比如虾米音乐。我猜是用来做用户跟踪统计的", "楼上正解", "这是用来做用户跟踪统计的……\r", "你确定都还没知道用来干嘛的就要实现这个效果吗哈哈哈哈哈哈哈感觉楼主好可爱", "这不是乱码。。这是类似自来也死后在蛤蟆身上写的木叶忍者才能看懂的密语！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>PHP 5.5  中最重要的特性之一就是对协程（ coroutine ）和生成器（ generator ）的支持。生成器的特性已经由<a href=\"http://de2.php.net/manual/en/language.generators.overview.php\" rel=\"nofollow\">官方文档</a>和许多博文（比如<a href=\"http://blog.ircmaxell.com/2012/07/what-generators-can-do-for-you.html\" rel=\"nofollow\">这一篇</a>和<a href=\"http://sheriframadan.com/2012/10/test-drive-php-5-5-a-sneak-peek/#generators\" rel=\"nofollow\">这一篇</a>）讲解得很充分了。另一方面，协程受到的关注则较少。这是因为协程的功能相较而言更加强大，但却难以讲解。</p>\n<p>本文会使用协程实现一个任务调度器，以此帮助你理解协程的概念和用法。我会先用几个段落做一些介绍。如果你觉得你已经对生成器和协程的基本概念掌握得很牢固了，那么你可以直接跳至“多任务协作”这一段开始阅读。</p>\n<h2>生成器</h2>\n<p>生成器背后最原始的想法就是一个函数不仅仅返回一次数据，而是能够返回一系列的数据，并且这些数据是挨个返回的。也可以理解为，生成器使你能更方便地实现迭代器。<code>xrange()</code> 函数就是一个生成器的简单例子：</p>\n<pre><code>function xrange($start, $end, $step = 1) {\n  for ($i = $start; $i &lt;= $end; $i += $step) {\n    yield $i;\n  }\n}\n\nforeach (xrange(1, 1000000) as $num) {\n  echo $num, \"\\n\";\n}\n</code></pre>\n<p>上例中的 <code>xrange()</code> 函数与内置函数 <code>range()</code> 函数的功能相同。唯一的区别在于 <code>range()</code> 会返回一个包含了一百万个数字的数组，而 <code>xrange()</code> 则返回一个可以吐出这些数字的迭代器，不会去老实地计算出一个包含所有数字的数组。</p>\n<p>这样做的好处是显而易见的。它使得你可以处理超大规模的数据，而无需一次性将它们载入内存。你甚至可以处理无穷无尽的数据流。</p>\n<p>当然并不是只有生成器能做到这一点，你也可以通过实现一个 <code>iterator</code> 接口来完成同样的工作。生成器只是更加方便，避免你为了生成一个迭代器而不得不去实现该接口的五个不同方法。</p>\n<h2>将生成器用作可中断函数</h2>\n<p>要从对生成器的理解过度到协程的概念，理解它们内部的工作方式是非常重要的：生成器是可中断的函数，而 <code>yield</code> 语句则构成了这些中断点。</p>\n<p>接着刚才的例子，当你调用  <code>xrange(1, 1000000)</code> 时，实际上 <code>xrange()</code> 没有执行任何代码。取而代之地， PHP 仅返回了一个 <code>Generator</code> 类的实例，它实现了 <code>Iterator</code> 接口：</p>\n<pre><code>$range = xrange(1, 1000000);\nvar_dump($range); // object(Generator)#1\nvar_dump($range instanceof Iterator); // bool(true)\n</code></pre>\n<p>只有当你调用 iterator 接口相关的方法时代码才会执行。例如，你执行 <code>$range-&gt;rewind()</code> 时，<code>xrange()</code> 函数中的代码就会执行，直到流程中的第一条 <code>yield</code> 语句。如此一来，就意味着 <code>$i = $start</code> 和 <code>yield $i</code> 被执行了。任何传递给 <code>yield</code> 语句的数据都能通过 <code>$range-&gt;current()</code> 来获取。</p>\n<p>你需要调用 <code>$range-&gt;next()</code> 方法来继续执行生成器中的代码。这样它就会继续执行下去，直到下一条 <code>yield</code> 语句。所以只要连续地调用 <code>-&gt;next()</code> 和 <code>-&gt;current()</code> 方法，你就可以从生成器中获取到所有的返回值，直至最终不再遇到 <code>yield</code> 语句。对于 <code>xrange()</code> 函数来说，就是 <code>$i</code> 超出 <code>$end</code> 的时候。如此一来，流程会继续执行完剩余的代码，直至函数的结尾。若此时调用 <code>-&gt;valid()</code> 方法则会返回 false ，这个迭代过程就结束了。</p>\n<h2>协程</h2>\n<p>相对于上述功能，协程最主要的一点就是加入了向生成器中发送数据的能力。这使得从生成器到调用者的单向数据流，变成了两者彼此往来的数据通路。</p>\n<p>将数据传递给协程的方法是调用 <code>-&gt;send()</code> 方法，而不是 <code>-&gt;next()</code>。下面的这个 <code>logger()</code> 的例子展示了它是如何工作的：</p>\n<pre><code>function logger($fileName) {\n  $fileHandle = fopen($fileName, 'a');\n  while (true) {\n    fwrite($fileHandle, yield . \"\\n\");\n  }\n}\n\n$logger = logger(__DIR__ . '/log');\n$logger-&gt;send('Foo');\n$logger-&gt;send('Bar');\n</code></pre>\n<p>如你所见，在这里 <code>yield</code> 没有被用作一个语句，而是作为一个表达式，也是就说它有一个返回值。这个返回值是通过 <code>-&gt;send()</code> 语句传过来的。此例中 <code>yield</code> 会先返回 'Foo' 再返回 'Bar'。</p>\n<p><a href=\"https://log.zvz.im/2016/07/01/PHP-Coroutine/\" rel=\"nofollow\">继续阅读请点击此处</a></p>\n</div></div>", "<div class=\"topic_content\">翻译自：[Cooperative multitasking using coroutines (in PHP!)]( <a target=\"_blank\" href=\"https://nikic.github.io/2012/12/22/Cooperative-multitasking-using-coroutines-in-PHP.html\" rel=\"nofollow\">https://nikic.github.io/2012/12/22/Cooperative-multitasking-using-coroutines-in-PHP.html</a>)\r<br>原文作者：[Nikita Popov]( <a target=\"_blank\" href=\"https://nikic.github.io/aboutMe.html\" rel=\"nofollow\">https://nikic.github.io/aboutMe.html</a>)</div>", "<div class=\"topic_content\">突然发现大神翻译过了： <a target=\"_blank\" href=\"http://www.laruence.com/2015/05/28/3038.html\" rel=\"nofollow\">http://www.laruence.com/2015/05/28/3038.html</a></div>"], "reply": "22", "tittle": "狂拽酷炫吊炸天：用 PHP 协程实现多任务协作", "comment": ["支持一个先", "支持~", "php 也是不容易，这样就要七个字", "感觉很强大但是然并卵，应用场景不多吧。", " 小胡你又黑我 PHP", "涨见识了", " 目前稍微有点用的是，看完后去看 Tencent Server Framework （ ", " ），会容易理解一些。其实有可能在此基础上产生一个不太一样的框架。", "比起 go 的协程简直若爆了", "PHP 想学好，比 C++都难。", " 你不是转 js 了嘛", "用生成器模拟协程总觉得怪怪的", " 生成器 只是协程实现的一种功能..   只能说用协程实现生成器", "点赞 但是在官方看到过这样的栗子==", " 本来就是翻译的人家（ PHP 开发人员）的文章，看来我得把相关信息放进来。", " PHP 里一直将这个称作生成器， PHP5.X 的生成器并不能很好地模拟协程，直到 PHP7 实现了 yield from 后，生成器才能真正地模拟协程", " mo'ming 莫名笑了", "真优美。", "还是有一定应用范围的，目前主要是易用性的问题。腾讯和百度都在搞相关的框架。", "我去，看着跟 python 好像\r", "用法简直不能在像了", " yield from 似乎解决了文中实现的 stacked coroutine 问题", "PHP 的资料，目前还是比较少，特别是在多任务多线程这块。", "我突然觉得自己看不懂 PHP 了"]},
{"content": ["<div class=\"topic_content\">公司简介：\r<br><a target=\"_blank\" href=\"http://www.lagou.com/gongsi/112696.html\" rel=\"nofollow\">http://www.lagou.com/gongsi/112696.html</a>\r<br>\r<br>职位简介：\r<br><a target=\"_blank\" href=\"http://www.lagou.com/jobs/1568846.html\" rel=\"nofollow\">http://www.lagou.com/jobs/1568846.html</a>\r<br>\r<br>简历投递：\r<br><a target=\"_blank\" href=\"mailto:like@wesai.com\">like@wesai.com</a></div>"], "reply": "3", "tittle": "招聘 PHP 工程师（中高级）", "comment": ["这个帖子简单粗暴，  赞 1 个。", "这个帖子简单粗暴， 赞 1 个。", "简单粗暴，但貌似发错节点了。\r ", " ？"]},
{"content": ["<div class=\"topic_content\">主要是因为是 1.1.1.1 这种形式的，脑子直接抽了。\r<br>想输出全部 IP 地址，包括保留地址和内网地址，姿势越优雅（逃）越好～～</div>"], "reply": "24", "tittle": "用 PHP 如何实现输出所有 IP 地址？", "comment": ["for($i=0; $i <= 4294967295; $i++) {\r", "    print long2ip($i);\r", "}", "已感谢，真-优雅", "$ip:0~2^32-1  long2ip($ip)", " 但是我发现会输出 0.*.*.*的 IP 。。", " \r", "0.0.0.0\r", "0.0.0.1\r", "0.0.0.2\r", "0.0.0.3\r", "0.0.0.4\r", "0.0.0.5\r", "0.0.0.6\r", "0.0.0.7\r", "0.0.0.8\r", "0.0.0.9\r", "0.0.0.10\r", "0.0.0.11\r", "我试着执行了。。", "for($i=0; $i <= 255; $i++) {", "for($j=0; $j <= 255; $j++) { ", "for($k=0; $k <= 255; $k++) { ", "for($l=0; $l <= 255; $l++) { ", "print sprintf(\"%d.%d.%d.%d\", $i, $j, $k, $l); ", "}", "}", "}", "}", "0.0.0.0 - 0.255.255.255 是保留地址，你不是要包括保留地址么", " 好评，本来我也想用 for ，但我感觉自己写没思路，写出来估计全会是连着的。。", " 长见识了，感谢。", " 这个输出的是所有的 IPv4 的地址", " 明白， IPv6 还暂时碰不到", "友情提示， 1 楼的代码需要 真-64 位 PHP 执行", " +1", "for($n1=0; $n1 < 256; $n1++) {\r", "    for($n2=0; $n2 < 256; $n2++) {\r", "        for($n3=0; $n3 < 256; $n3++) {\r", "            for($n4=0; $n4 < 256; $n4++) {\r", "                echo $n1 . \".\" . $n2 . \".\" . $n3 . \".\" . $n4 . \"\\n\";\r", "            }\r", "        }       \r", "    }\r", "}", "4 层 for\r", "0..2**32 再转成 ip 的格式", " 忘了一个点。。", "不就是加强版的 99 乘法表么", " 还好我不用 win 。。", " win 下又不是没有 64 位的 php ", " 里不是就有么，你也可以自己编译一份，这黑的真是莫名其妙", " 知道啊。。 win 很多环境库是 32 位， 64 位用过，不是黑。。", " \r", "你看到#12 特意强调“真” 64 位\r", "因为 windows 的 64 位 php 是伪 64 位\r", "自己测试一下就知道了", "补充\r", "\r", "echo (($i >> 24) & 0xff) . '.' .(($i >> 16) & 0xff) . '.' . (($i >> 8) & 0xff) . '.' . ($i & 0xff) . \"\\n\";", " \r", "C:\\>php -v\r", "PHP 7.0.8 (cli) (built: Jun 21 2016 15:15:15) ( ZTS )\r", "Copyright (c) 1997-2016 The PHP Group\r", "Zend Engine v3.0.0, Copyright (c) 1998-2016 Zend Technologies\r", "\r", "C:\\>php -i | find /i \"Architecture\"\r", "Architecture => x64\r", "PROCESSOR_ARCHITECTURE => AMD64\r", "$_SERVER['PROCESSOR_ARCHITECTURE'] => AMD64\r", "\r", "\r", "test script:\r", "```\r", "$i=4294967295;\r", "echo long2ip($i),\"\\n\";\r", "var_dump($i);\r", "\r", "var_dump(PHP_INT_SIZE, PHP_INT_MAX, PHP_INT_MIN);\r", "```\r", "output:\r", "255.255.255.255\r", "int(4294967295)\r", "int(8)\r", "int(9223372036854775807)\r", "int(-9223372036854775808)\r", "\r", "没有看出你所指的问题？", " \r", "PHP7 已经修复这个问题\r", "太久不用 windows 没关注这个已经修复\r"]},
{"content": ["<div class=\"topic_content\">求推荐！</div>"], "reply": "8", "tittle": "学 PHP 求推荐一些比较好的书籍！新人第一次发帖", "comment": ["供参考入门：\r", "\r", "PHP 核心技术与最佳实践\r", "适合有一定开发基础后看", "PHP 核心技术与最佳实践  开阔视野", " 2013 年的了！现在弄来看。真的有用吗", " 2013 年的书现在弄来看。真的有用吗", " 比现在 90%的新书有用", " 好，准备入手一本", "看云上面有很多入门的 这里有一份 PHP 书单： "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>一开始我还以为他们之间有什么过节<br>\n后来才发现</p>\n<p>Lar<strong>av</strong>el</p>\n</div></div>"], "reply": "52", "tittle": "终于知道为什么 QQ 上搜不到 Laravel 相关的群了", "comment": ["。。。。", "噗", "噗 噗 噗   噗 噗 噗", "没懂。。", "文字狱 挺好的 , 支持, 有希望了..", "23333 好像有一个 262244299", "QQ 签名不能写白色情人节。恩，前几年不能写，现在不知道了…", "渣浪微博搜索 Laravel 也是提示未找到相关结果", "所以 avos 改成 leancloud 了。。", " 这才是真相么", "java", "if( s.like 'av' && s.upper().equal 'JAVA'){\r", "  //return something\r", "}\r", "\r", "return null;", " 哈哈哈", "J av aScript", "真相.jpg", " 你这段代码让我突然意识到一个问题，我们似乎习以为常地用 upper() / lower() 然后比较相等性，忘了它们会产生 allocation....", "Lar**av**el", " av QAQ", "上次就看到有人说 QQ 群简介里面不让打 \"this is ...\"", "连自家的 ava 都被屏蔽了……", " 有道理", "想起了昨天看到的一个图：%￥#师卡德加", "闲鱼搜不到 64g tf 卡。。。", "腾讯铭感瓷过滤难道不做分词处理？", "文字狱……", "它们可以干女主持人，你不能看 av", "补充一个，腾讯视频，简介里有写“捆绑”销售，捆绑，捆绑，捆绑... 害我找了半天，一个句子一个句子试出来的！", " 笑了", "可以可以，关键字屏蔽我只服腾讯", " \r", " \r", "你们根本就不是噗噗", "资慈", ">_< cry", "JAVA 为撒就可以？不过真的笑尿 ", "   ", "   ", " ", "啥意思啊 不太懂啊", " 莫非是白名单？", "64g 也是亮了···", "试试这个链接  ", "laravel 有啥好，不就是一坨屎么。", " 好神奇，原理是什么？ ", " ", " 字不一样的。复制下， ord 看下。", "以前还是功能手机的时候, 淘宝上的支持 jar 程序的手机介绍都是支持 J**a", " 64g tf 是什为什么", " @", " 哈哈是特殊 Unicode 字符，见 ", " 这个项目太逗了，已 F**K", "问题来了 怎么样能搜到呐。？", "这个国家大有希望", "微博也搜不到\r", "\r", " 64 呗。。", "这有什么，百度贴吧前天还是大前天，还打不出'令'这个字呢", "哈哈哈，微博不能搜 av 但是可以搜 porn 😂", "这个我给满分。", "我都提交好几次反馈了， 根本不给开。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>来来来，让我们为 Laravel 点赞，祝 Laravel 生日快乐：<a href=\"http://laravelacademy.org/post/4840.html\" rel=\"nofollow\">http://laravelacademy.org/post/4840.html</a></p>\n</div></div>"], "reply": "61", "tittle": "Laravel 5 岁了， Happy Birthday！", "comment": ["嗯 我用 symfony", "我用 yii", "我用 phalcon", "我用 tp[只是为了排队]", "我用 lazyPHP", "我用 ci", "我用 slim", "我用 Java", " 话题终结者。。。", "我用 golang", "我用 express 和 koa", "我用 nodejs", "我用 yaf", "我也用敷腌介", "我用汇编 ：）", "我用 doitphp", "我用 koa", "反正我不用 Laravel.\r", "不过， Laravel 生日快乐:)", "Laravel 功能强大，方便快捷，是个很好用的一个 php 框架", "我用 python", "我用 大 symfony !", "yii2 飘过", "不得不说，用了 Laravel 之后，再也不想用 Django 了。\r", "诸多细节考虑得比 Django 周到。", "喜欢 Laravel ，也感谢学院君的付出", "我用 Laravel , Laravel 生日快乐", "我用 kohana", "我用 Thinkphp", "Laravel 好是好，但是感觉在国内发展不起来啊。", "我不用 php", "我用 ecstore", "有用 laravel 开发的高并发网站嘛，一直在找，可是一直没找到。", "赞", "goLaravel.", "见到学院君了~", "我用 mysql_connect (哭瞎", "  ", "   懂球帝应该并发不小，目测是用 Laravel 开发的", "flask 路过。", "自己写 web 框架的路过。", "我用 yaf", "赞！学院君棒棒哒", "我用 php_study", "我用 AutoPHP", "Laravel 逼格高，生日快乐！", "生快，我用 CI 的。。。", "学院君加油~", " 同好真是少见。", "我用 ruby on rails", "现在我们都在用 ThinkJS", "我搬砖", "我用 ror", "我……", "springmvc", "tp 路过", "当你在使用 Laravel 的时候，请记住背后有 Symfony 在撑腰！", "才开始学习 Laravel 生日快乐!!!", "我啥都不用", "我用 Symfony3 !", "我用 laravel", "Laravel (PHP) + Django (Python 3)\r", "\r", "祝生日快乐！\r", "\r", "感谢 Laravel, Symfony, PHP!", "我用 rails", "生快～\r", "\r", "顺便推荐下 Sequel Pro bundles "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>例如\nhttp://127.0.0.1/myfuck/index.php/Home/Index/delUser/user_id/2</p>\n<p>但是 /user_id/2 这个是怎么实现 get 传参的？</p>\n<p>如何能实现能使用$_get 来接收传递的 pathinfo 模式下传递的参数？</p>\n</div></div>"], "reply": "13", "tittle": "thinkphp 里的 pathinfo 里是怎么实现 get 传参的？", "comment": ["好吧，竟然没人回答，是不是 v2er 都不屑于回答这种问题。\r", "\r", "最简单的做法就是对$_SERVER[\"REQUEST_URI\"]进行字符串切割，然后给$_GET 添加新的元素，当然我不确定 tp 是否用的此\"最简单的做法\"", "为啥不看看源码呢（", "首先你要先让 webserver 把这个地址 route 到对应 php\r", "然后就可以通过$_SERVER['PATH_INFO'] ||$_SERVER['REQUEST_URI'] 得到了\r", "然后根据自己的逻辑给$_GET append ，因为这个是 kv 的，和整个 string 不同，规则要自定", " 我也是在用这个方法 但是太低端了。。实现不了", "建议别用 thinkphp \r", "\r", "用 laravel 等其他框架 ~", " 人家问怎么实现，你这建议...要不你来讲讲 laravel 的超优越的地方？", "Dispatcher 你可以看下这个类 的 dispatch 方法", " 我是认真的建议，你脾气好大。。。", "看源代码", " 多谢提点", " 跟你说的方法一样，已经实现了，想想，是我脑袋短路了两天 囧", "NoBrain  fuck 你这都是啥关键词啊……", "3.2 版本的 TP 对于 pathinfo 变量的处理是合并到了 get 请求变量里面，但最新版本的 ThinkPHP5 对于 pathinfo 以及路由参数 不再通过 get 方式获取 而是建议使用 Request 对象的 param 方法统一获取当前请求的参数。 参考： "]},
{"content": ["<div class=\"topic_content\">由于 password_hash 只能用 php 验证，那客户端提交是不是用要配合 https 才行\r<br>如果没 https 的情况下， js 本地加密一下再 post 给 php 验证这样安全么？没用过这种加密，是不是应该这样用</div>"], "reply": "43", "tittle": "请教一下关于 password_hash 的密码安全问题", "comment": ["现在两层的 md5 和 sha1 都比较容易被撞库", "「 js 本地加密一下再 post 给 php 」这样除了增加前端的复杂度修改了最终提交的密码有什么不一样吗", "不安全， http 情况下可以修改源文。", " 不然呢？ post 明文？\r", "\r", " 就是说能上 https 还是上呗", " 那我直接抓取你的密文当作密码用行不行呢", "没有 https 那么传输过程都不可信，谁都能看。 md5/sha1 也不安全了，建议前端 bcrypt 然后 https 。", "  我觉得可以 https+js 加密密码的时候考虑进去时间戳", " 嗯 这样没有啥作用，需要劫持的可以直接把你的 js 改成先明文发送其他机子，再用你自己的 js 加密发送到你服务器。", "吃力不讨好，该改还是改，还占资源。。要安全还是上 https 。", "如果 js 只是单纯的加密密码是没用的，黑客也不用知道你原始密码，知道你加密后的密码就行，传给服务端服务端自己会解密成原始密码。 js 加密要和服务端结合才行，做到一次一密。先从服务端拿个动态 token(初始向量)然后再加密传输到服务端，这样那种一般的抓包就不行了，必须要拿到你的 js 来解密。\r", "\r", "当然一切前端的东西都是不可信的，不过也能提高黑客的成本，能上 https 还是上 https 吧。\r", "\r", "还有楼上有些同学可能对 PHP 不了解， PHP 的 password_hash 函数就是专门搞这个事情的，把密码 hash ，还可以自己加 salt ，还能保证不同密码长度完成加密时间一样。非常可靠和安全。如果后端是 PHP 的话就不要自己造轮子了。", "建议上 https 。\r", "只前端加密的话，唯一的用处是中间人不能直接看到明文密码，但拦不住重放攻击，直接再发一遍这个包就破了。\r", "或者你加个动态验证，比如时间或者服务器发的 token 。", "这问题都讨论烂了\r", "前端加密有任何意义吗？\r", "即便你都要用上非对称加密了， rsa 吧\r", "走 http 的话中间人直接换掉你的公钥，那就和明文没区别了\r", "即便不换掉你的 key\r", "都中间人了\r", "直接捕获你的密码输入，旁路提交到另一个地方又怎么了", " 抱歉我可没看到其他关于 password_hash 的讨论帖子", " 这个问题跟 password_hash 无关，而是如何安全的传输密码ˊ_>ˋ", " \r", "\r", "其实还是有一点用的，如果中间人只嗅探不改包，那么他只能拿到密文，只能用于这一个网站登录。对于不同网站使用同密码的用户来说，能提高一点安全性。\r", "\r", "能上 HTTPS 还是直接上 HTTPS 吧。\r", "\r", "抛开安全性不谈，浏览器也在逐步淘汰 HTTP ： ", "password_hash 只不过是加盐与 hash 的打包解决方案。", " 不，我本意是问一下是不是不用 https 用了 password_hash 也没啥意义", " 怎么会没有意义，假设你网站被脱裤，这个时候 password_hash 的作用就提现出来了嘛，不管你用的是不是 https 。", "password_hash 的意义在于很多程序员无法正确实现 hash 和加盐。比如拿用户名去加盐就是错误实现方式的一种。", " 加盐可以防止被撞。。。。\r", "\r", "还有，楼上的你们怎么不说别人直接在你电脑种个木马，键盘记录你密码？", " 当有一个可用账号的时候，可以根据社会工程学，把盐给猜出来。。", "  这么看不起 HTTP? 建议你去研究一下 QQ 网页登陆( ", ").\r", "另外前端的加密是用于解决 HTTP 请求中的数据在被别人获取之后的安全性问题的,\r", "你所假设的 替换公钥, 篡改 HTTP 响应包的数据, 这种问题不是 前端 加密所要解决的事情, 这是 HTTPS 的事.\r", "不能把这两者混为一谈.\r", "\r", "\r", "  @", "  说拦不住重放的,我也建议你去研究一下 QQ 的网页登陆.\r", "\r", "\r", "QQ 网页上的登陆,在登陆时的流程如下:\r", "在用户输入完账号之后, 会有一个 ajax 请求, 服务器会根据当前账号的登陆环境等数据, 决定是否要用户输入验证码,\r", "在不需要输入验证码的情况下,服务器会自动返回一个验证码以及 salt.\r", "\r", "\r", "在登陆时,提交的密码为:(注: QQTea 第一个参数为 key, 第二个参数为 要加密的内容)\r", "RSA(QQTea(md5(QQ 密码 + 验证码) , md5(QQ 密码) + salt + 验证码长度 + 验证码))\r", "\r", "验证码是一次性的, 如果对请求进行重放, 这个验证码肯定是不对的, 且你没有腾讯的 私钥,你也解不开这个加密后的内容.\r", "\r", "QQTEA 的加密 key 是由用户的密码 和验证码构成了, 而这个密码是只有 用户自己和腾讯知道的.\r", "从截获的 HTTP 请求中,你是找不到这个 KEY 的,所以就更谈不上解密了.\r", "\r", "\r", "另外再重申一下, HTTP 协议下, 前端加密 是为了保证数据传输过程中在被第三方截获之后,不能破解(直接看到你的密码)/重放等行为的.\r", "\r", "拿篡改 HTTP 响应来做为否定 前端 加密必要性, 这两者完全都不是一个层次的, 没有什么可比性.", " 反驳我之前先看看我说的最后一句。", "  你一边说拦不住,一边又说加 token, 我不知道你想表达什么, 所以就 @你一下.", "好了好了大伙儿别吵了，我也了解差不多了就这样吧", " 我写的“拦不住”指的是只进行加密（比如只对密码进行 md5 加密），这种情况下每次加密结果都是一样的，和明文发送唯一的区别只是无法直接得到明文但依然可以重放。（别笑，我们学校至少有四个系统是用的这种加密方式）\r", "所以我后面加了一句服务端先发送 token 再进行加密。\r", "另外，直接上 HTTPS 省时省力，加密的话需要改写前后端的代码。不能说 HTTP 就是做不到安全传输的，但考虑下成本以及趋势，我依然建议上 HTTPS 。", "除了随机盐值， password_hash 的另一个意义是实现了加密算法和业务逻辑的分离。 \r", "hash 中带了加密算法类型，这样不管用什么算法， password_verify 都能验证。 \r", "\r", "随着 PHP 版本升级，会淘汰不安全的旧算法更换为新算法，这中间甚至不需要修改代码。", "这年头上 https 不是很容易么？ ", " 前端加密为什么没有意义？", " 是的, 有条件的都建议上 HTTPS  :P \r", "现在的 ISP 太流氓了.", "js 本地做的东西都是欺骗自己而已.", "password_hash 解决的是密码存储问题， https 解决的是密码传输问题", " 只嗅探不改包，那这个中间人真是太良心了，如果真的存在有不可篡改，那么因为密钥可以做到一次有效本来就可以防止重放攻击，通过 df 协议交换密钥甚至连非对称加密都不需要\r", "\r", "\r", " 你开心就好", "你想前端加密，难道后端明文保存密码？\r", "或者后端保存的是和前端同一方式加密的密码？\r", "那样没有意义，破解者直接提交加密后的密码一样玩。", " 一般不会“只嗅探不改包”，而是因为“只能”……这种场景下还是没法否定前端加密的存在价值的\r", "\r", "但是话说回来，一次性用 HTTPS 解决问题更好啦", "能上 https 最好，但是也不是说上就上啊。。\r", "大站上 https 要考虑的东西太多了，肯定是要逐步迁移的。 http 前端散列虽然可以被以各种方式截取，但也不能说没有用。\r", "腾讯就是个例子，前几年腾讯用的就是 http 前端加动态盐的散列，这几年改成了 RSA ，然后再逐步启用 https 。", "楼主这样做貌似是为了防范中间人导致的密码泄露？如果是这样的话，直接 post 明文 跟  js 本地加密一下再 post 给 php 验证  都不能有效的防范中间人。直接 post 明文，中间人攻击的时候会抓到明文密码。 js 本地加密一下再 post 给 php 验证 ，虽然抓不到明文密码，但是能抓到 post 包，直接重放攻击就行了。", "你们都忘记了 password_hash 的初衷。\r", "它不是为了解决中间人啊， JS 加密啊什么鬼的。\r", "他只是为了解决彩虹表+对抗 timing attack 而设定。\r", "\r", "以前 md5(xxxx)生成了哈希是唯一且固定的。\r", "现在用 password_hash(xxxx)生成的哈希理论上放大了几亿倍可能。\r", "然后黑客要用彩虹表来对抗 password_hash 加密的密码，基本上不可能了，只能靠穷举。", " \"只嗅探不改包，那这个中间人真是太良心了\"\r", "\r", "黑客在一个公共 wifi 下，的确只能嗅探，不能改包啊。大量的密码截取，都是基于海量嗅探包来提取的，又不是真的通过实时修改。\r", "\r", "JS 加密在目前 HTTP 网站大大多于 HTTPS 的情况下，还是有存在的意义。就如前端都痛恨 xp, 但国内的 XP 普及率还是要让写前端的同学，兼顾一下，不管内心是否愿意。\r", "\r", "  严重支持！", "似乎没人提过这个？ ", " 不懂呗。\r", "安全其实是个无底洞，抛开应用谈安全都是耍流氓。", " password_hash 还引入了“代价”，生成 hash 需要大量的 CPU 和内存，使得暴力破解的变得非常不经济。", "从服务器传个 token 下来浏览器，提交的时候拿 token 当做盐来算 md5 。登录成功后这个 token 便失效，这样避免重放攻击。\r", "但要劫持的话，可以直接给你加一段 JS ，让密码先提交到他的网站，这段 JS 甚至还能在各个网站通用，完全不需要人工劫持。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>php 怎么自动将图片地址转换为图片，已有 img 标签的则跳过</p>\n</div></div>"], "reply": "11", "tittle": "php 怎么自动将图片地址转换为图片", "comment": ["哈？\r", "$filename = '", "';\r", "\r", "$exts = ['jpg','jpeg'];\r", "\r", "$ext = end(explode($filename,'.'));\r", "\r", "if(in_array($ext,$exts)){\r", "$fp = file_content($filename);\r", "\r", "fopen () //...去保存吧... \r", "}", "```\r", "str_replace('图片地址','<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAASCAIAAADHZSmzAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABd0lEQVQ4jdWUIXSCUBSGLzsLrhFZmm1E1zBJ8zVpugRLo42lYbNh22uzyRJElySyBE2aNmm8Jo3X3oIHFEF3PMfin+/93n//+97jGGNwad1cnHh1UOIq3H9SXJK3EFfhxmGJEo73C3KnPSdhjDGWLadq53ORsZISp3e208KCZyL55fv3/eluz+OBqbOgxNMVm9cMVZ0ut0aT+Ue3awW6VNM2bJfCaQ/h5/m+iOo2LxPQJEQAAGimy4iKsKII254kAACpQK2AmXWHbZVDqY+R6zdoyouKZBiiQOMotHXZJHE6wOaZ82/3kC+KJU7/saO+fTnzxXqT7RZVFBxfmxXkFYf3VBjYoWsOBOpPdGnk05pmurssOwVWzfgAABFuoQkvCsCLkiy2NCxCFKdSky8z4zCWNeHU9PvQlhERPU0pJasVoWkcRR5NmwdQMsO+NsKnmHmmp2ugGHjt9B9e5xtWUWBVM62GVPui4tBr4BHijx8OAADc1fynf/rGIz1Q4jX7AAAAAElFTkSuQmCC\">',$str);\r", "```", " 幽默", "莫非是我语文老师死的早？我怎么看不懂楼主的需求", "楼主是想实现类似 V2EX 的发图功能，用户直接贴图片地址，显示的时候转成 <img> 标签。\r", "这个你用正则去提取然后替换就可以了。", "不过楼主，结合你最近的几个提问来看，你描述问题的能力堪忧。\r", "如果你不会描述问题，那么就换一种方式，把你的需求完完整整的写出来，大家就能够根据你的需求给你解决方案。", "先取出 URL ，再逐一判断。\r", "是的话转成标签，替换进去。\r", "以上", "正则查找替换", " 原来楼主是这个需求呀。基本上核心就是正则替换了。已经是 img 标签的话再查找一把 src=\"http://\"的结果找出来，从之前的结果里面剔除。", "preg_replace", " 可是怎么弄活的，就是匹配 http://开头.png 结尾的"]},
{"content": ["<div class=\"topic_content\">教 thinkPHP 的，讲的还不错.</div>"], "reply": "38", "tittle": "最近在网上买了个课程学习 PHP", "comment": ["So 。。 what ？", "so ？", "然后？", "结果？", "能否把话说完？", "这位哥们把 v2 用成了 QQ 空间", " \r", " \r", " \r", " \r", " \r", "然后就继续学啊.\r", "\r", "\r", " \r", "哈哈", "学 laravel 吧", "以为是来发教程的…", " 以后必须学.", " 不发了, 免得说广告啊", "破事水", "水得一手好帖", "发一下啊，正好我最近需要学习", "发一下啊，正好我最近需要学习", "拍的一手黄片", "在 V 站吊 PHP 开发者 真可以", "php 之道 可以看看 不错的", "求地址？最近正好在进行视频课程的对比研究。", "我突然想到，很多教程，前几集，用龟速讲着“这是状态栏，这是工具栏。。。。”之类的。。 以前最烦这样的，浪费时间。", "软广？", " 我一般看 x1.5 的？", " 好玩就行，不纠结什么语言", " 你猜", " 你可以自己去找找😂", "楼主，你是 PHP 高级黑吧……", " 给个关键词啊，好让我去找。。", "哈哈\r", "做广告么?", " 啊？", "哪里买的?", "然后呢？", "你这分明是在打广告。", "没必要吧 看这个 ", "thinkphp ……", " 对呀，收了钱", "  我是 tp 的形象代言人", " 看成了“这位大哥把 v2 当成了成人空间了”，哈哈", "广告贴"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>好久之前写的了，太懒了。\n不管水平如何都要记录一下，哎！\n看了 timyang 的文章，有感而发。</p>\n<p>$total=20;</p>\n<p>$num=16;</p>\n<p>$min=0.01;</p>\n<p>for ($i=1;$i&lt;$num;$i++){</p>\n<pre><code>$n = $num-$i+1;\n\n$newTotal = ($total/$n)*2;\n\n$money = mt_rand($min*100,$newTotal*100)/100;\n\n$total = $total-$money;\n\necho '第'.$i.'个：'.$money.' 元，剩余：'.$total.' 元 &lt;br/&gt;';\n</code></pre>\n<p>}</p>\n<p>echo '第'.$num.'个：'.$total.' 元，剩余： 0 元';</p>\n</div></div>", "<div class=\"topic_content\">本身大家都是猜想，都不能确定对错，除非微信公开。我这么写，是因为看到 timyang 博文中“每次拆红包时，系统取 0.01 到剩余平均值*2 之间作为红包的金额。”这句话。\r<br>\r<br>回帖中 guoer 提示：记录不是让我发帖。受教了，本来就是找个地方方便以后回看，那我就换个地方记录。\r<br>\r<br>打扰见谅！</div>"], "reply": "13", "tittle": "学习记录--微信红包", "comment": ["假如，一百块钱的红包十个人分，最优只能是二十呗？\r", "微信好像不是这样的。", " 随机生成，符合正态分布，但是最后一个红包会大概率大点", "不符合，应该是这样，假设最小可得的值为 x 人数为 n 总钱数为 a\r", "\r", "第一个则为  rand(a-(n*x)) 得到 r1\r", "第二个则为  rand(a-r1-((n-1)*x))\r", "\r", "这样事实上期望值是差不多的（违反直觉对吧）。", "  我知道你的意思了，我这边说每次的红包金额是，最大是每人可分钱的平均数乘以 2 ，最小是 0.01 。在这区间去随机。", "这个实际讨论很多： ", "  这个我也是猜测，可能是看了那个博文，思想被固定住了。", "我感觉应该在一条线段上随机区 N-1 个点，以切为 N 段，每段长度对应份额。\r", "这样比较符合微信实际情况，赢者通吃的概率很大", "我感觉应该是    （红包剩余金额-红包剩余个数*0.01 ）    在这个里面随机的", " 然后个数为 1 就取全部", "记录不是叫你发帖呀", "如果不设置 $newTotal = ($total/$n)*2 - $min;\r", "\r", "那么有可能红包分到倒数第二个就分光了 ，最后一个只能拿到 0 元", "  好，不能删帖，我换地方记录。见谅了", " 我也是这么想的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"http://Livecoding.tv\" rel=\"nofollow\">Livecoding.tv</a> 上有越来越多中国程序员加入了。如果可以解决网速问题，相信会吸引更多人。 我们正在努力解决这个问题。：）</p>\n<p>分享一个中国程序员的直播：</p>\n<p><a href=\"https://www.livecoding.tv/yozman/\" rel=\"nofollow\">https://www.livecoding.tv/yozman/</a></p>\n</div></div>"], "reply": "3", "tittle": "直播编程： show you something cool", "comment": ["好奇，你是这个网站的中国程序员？", " : 您好，我不是程序员本人哦。", "Stream offline …"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>第一部分的视频已经出来了：</p>\n<p>Web Development PHP Laravel Programming (part 1)\n<a href=\"https://www.livecoding.tv/lem93/videos/1XMxw-web-development-php-laravel-programming\" rel=\"nofollow\">https://www.livecoding.tv/lem93/videos/1XMxw-web-development-php-laravel-programming</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "使用 PHP 和 Javascript 开发的网页", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>目前设置如下：</p>\n<pre><code>'APP_DEBUG' =&gt; true ，\n\n'LOG_RECORD'\t\t\t=&gt;\ttrue,  // 进行日志记录\n\n'LOG_TYPE'\t\t\t=&gt;\t'File',  // 文件格式日志\n\n'LOG_EXCEPTION_RECORD'  =&gt; \ttrue,    // 是否记录异常信息日志\n\n'LOG_LEVEL'       \t\t=&gt;  'EMERG,ALERT,CRIT,ERR,WARN,NOTIC,INFO,DEBUG,SQL',  // 允许记录的日志级别\n\n'DB_FIELDS_CACHE'\t\t=&gt; \tfalse, // 字段缓存信息\n\n'DB_SQL_LOG'\t\t\t=&gt;\ttrue, // 记录 SQL 信息\n\n'APP_FILE_CASE'  \t\t=&gt;  true, // 是否检查文件的大小写 对 Windows 平台有效\n\n'TMPL_CACHE_ON'    \t\t=&gt; \tfalse,        // 是否开启模板编译缓存,设为 false 则每次都会重新编译\n\n'TMPL_STRIP_SPACE'      =&gt; \tfalse,       // 是否去除模板文件里面的 html 空格与换行\n\n'SHOW_ERROR_MSG'        =&gt; \ttrue,    // 显示错误信息\n</code></pre>\n</div></div>"], "reply": "2", "tittle": "tp 如何自动记录报错的日志？", "comment": ["文档上是说  加这两句就好了？\r", "'LOG_RECORD' => true, // 开启日志记录\r", "'LOG_LEVEL'  =>'EMERG,ALERT,CRIT,ERR', // 只记录 EMERG ALERT CRIT ERR 错误\r", "那么 log 产生的地方是在哪里？", "是不是这个问题对 V2EX 太简单了~，我也觉得不好意思，可是真心不懂"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>AAA/BBB/CCC;AAA1/BBB1/CCC1;.....\n字符长度都不一致\n要求输出是 AAA;AAA1</p>\n</div></div>"], "reply": "8", "tittle": "一条正则能过滤两个条件么？", "comment": ["\"?\" or \"|\"符合你的需求", "A{3}\\d*", "|", "我只是来贴一个这个网站，可以迅速验证一个正则的效果：\r", "后向引用 ^([A-Z])(\\1){2};(\\1){3}1$\r", "\r", "我觉得楼主应该把问题再说清楚点", "A{3}\\d?(?=\\/)\r", "补一个测试正则的地址： ", " ", "|\r", "“或”", "请使用：分组、环视。\r", "要是你家的正则不支持这个……懒得说其它方法了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>作为一个 Homestead 的改造项目, Centstead 保留了 Homestead 的几乎全部功能，然后添加了几个自有功能.</p>\n<p>不同功能点有这么几个:</p>\n<ol>\n<li>Linux 从 Unbuntu 切换到 Centos 7.2</li>\n<li>支持快速配置 nginx 站点的同时，自动添加 hosts 映射，（配置完成，启动，即可调试不用自己手动修改 hosts ）</li>\n<li>与 Homestead 不同将， nginx 站点置为二级公民，改为项目一个项目文件支持多个子站点的模式。</li>\n<li>站点模式支持 thinkphp ，支持静态文件站点，更适应中国环境 与 个性需求。</li>\n<li>windowns 下同样支持 nfs 替代 Virtualbox ShareFolder 。</li>\n<li>支持 基于配置 创建 cron 计划任务.</li>\n<li>支持 基于配置 快速创建 laravel 队列监听.</li>\n<li>PHP 支持 5.4 - 7.0 多个版本，可以基于配置快速切换.</li>\n<li>Mysql 支持 5.5 - 5.7 多个版本，可以基于配置快速切换.</li>\n<li>同时支持使用 MariaDB 替代 mysql ， 5.5-10.1 多个版本，可以基于配置快速切换.</li>\n<li>Postgresql 支持 9.2 - 9.5 多个版本可以基于配置快速切换.。</li>\n</ol>\n<p><a href=\"https://github.com/jason-chang/centstead\" rel=\"nofollow\">Github 地址:</a> <a href=\"https://github.com/jason-chang/centstead\" rel=\"nofollow\">https://github.com/jason-chang/centstead</a></p>\n<p>欢迎各位同鞋 <a href=\"https://github.com/jason-chang/centstead/issues/new\" rel=\"nofollow\">Issue</a> 或者 <a href=\"https://github.com/jason-chang/centstead/compare\" rel=\"nofollow\">Pull Request</a>.(感谢某同学参与，昨天收到了第一个 issue)</p>\n<p>如果你老觉得 issue 不方便，请直接秘我，</p>\n<p>邮件: chaoyue.chang#<a href=\"http://qq.com\" rel=\"nofollow\">qq.com</a></p>\n<p>微信: sisisiy</p>\n<p>QQ: 1024717719</p>\n<p>反馈群: 286807539</p>\n<p>同时推荐各位 , 使用支持 windows 和 mac 的 GUI 工具 <a href=\"https://github.com/lanayotech/vagrant-manager\" rel=\"nofollow\">vagrant-manager</a> , 管理你的 Vagrant 虚拟机.</p>\n<ol>\n<li><a href=\"https://github.com/lanayotech/vagrant-manager-windows\" rel=\"nofollow\">windows 版本</a></li>\n<li><a href=\"https://github.com/lanayotech/vagrant-manager\" rel=\"nofollow\">mac 版本</a></li>\n</ol>\n</div></div>"], "reply": "7", "tittle": "基于 Vagrant 的 PHP 调试环境 Centstead 升级至 1.1.1 ： 支持 Vagrant 官方源安装盒子，支持基于配置快速创建 Laravel 队列监听", "comment": ["好像很厉害的样子", "nice mark~~", "为什么才发, 我都因为 homestead 换 linux 啦", "start 下  这个还是很有用的 特别是多版本切换 \r", "话说多版本控制字通过 nginx 监听不同端口实现的么", " 欢迎使用，好了请 star\r", " 记得 star 哦\r", " 现在换回也不晚哦， vagrant + mac/win 我认为是目前 php 开发的最棒姿势。不用承受 linux 糟糕的用户界面，然后又可以与下与生产保持环境一致，并且可以简便的安装各种依赖软件。\r", " 你说的状况有考虑过，就是一机多版本，需要两个条件 \r", "1. 所有依赖软件源码编译，自行制定安装目录。\r", "2. 可以容忍基础盒子无限巨大。\r", "3. 不适用 systemd 管理服务启动 重启 ……\r", "以上三条成本都很高，所以，我这里是卸载旧版本安装新版本的。", "已 star 。个人也有搞过 vagrant\r", "能说下后面会添加哪些功能吗？\r", "\r", "能互相 star 吗？顺便贴个链接[http://www.v2ex.com/t/289986#reply2]( ", ")\r", "\r", "看来 vagrant 会比 docker 使用和关注人数多些啊。", "谢谢分享，我去试试。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>错误提示：</p>\n<p>Warning: file_get_contents(): SSL operation failed with code 1. OpenSSL Error messages: error:14090086:SSL routines:ssl3_get_server_certificate:certificate verify failed in</p>\n<p>本地系统是 Win7 。相同的 php 代码在另一台本地 Mac 电脑中测试没有问题，只有在 Win7 有这个错误。\n而且按照网上已经可以找到的原因：\nphp.ini 中配置：\ncurl.cainfo=C:\\wamp\\xxxxxxx\\cacert.pem\nopenssl.cafile=C:\\wamp\\xxxxxxx\\cacert.pem\n等方法都试过，还是无效。</p>\n<p>疑惑的就是：相同代码在本地 Mac 环境和远程服务器 linux 环境都可可以，在本地 Win7 环境下为什么不可以。 php.ini 配置也对比了，该开启的都开启了。</p>\n<p>如下图：</p>\n<p><img alt=\"\" src=\"http://7s1rwr.com1.z0.glb.clouddn.com/Snap1.png\"></p>\n</div></div>"], "reply": "9", "tittle": "在函数 file_get_contents()：中使用 https 协议时出错", "comment": ["用 CURL  有相应的处理 https 的参数", "OpenSSL 版本? 服务器是否开了 SNI?", "既然提到 file_get_content 了，那我就再提一个问题，怎么处理非 200 的网页内容，好像不是 200 段的就直接不读取网页内容了，让我遵从 restful api 的人非常尴尬", " ", " 果然还是要用 curl ，总之谢谢了", "服务器证书对应 root 证书你没有配置好", " 服务器是第三方的，我控制不了。只能访问他们提供的 URL ，即使在浏览器打开这个 URL 默认也是不显示的，提示证书有问题。", "昨天我一台机子用 composer 有出这样的错误，是 php5.5.7 ，解决不了，后边我又安装了一个 php7 ，用 php7 跑 composer 就好了，也不知道啥回事"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Gitamin ，是一款基于 Laravel 5.2 和 Twig 模板引擎实现的 Git web 管理系统。名字 Gitamin 创意来自于 Git + 维他命的英文 Vitamin 。目标是打造一款类似于 Gitlab 那样的 Git 自托管平台，目前实现的功能还比较简单，先发出来给大家拍拍砖，欢迎大家提出宝贵建议和意见。</p>\n<p>演示地址： <a href=\"http://gitamin.com/\" rel=\"nofollow\">http://gitamin.com/</a> 源码地址： <a href=\"https://github.com/GitaminHQ/Gitamin\" rel=\"nofollow\">https://github.com/GitaminHQ/Gitamin</a> or <a href=\"http://git.oschina.net/Gitamin/Gitamin\" rel=\"nofollow\">http://git.oschina.net/Gitamin/Gitamin</a></p>\n<p>个人能力有限，程序肯定存在很多不成熟的地方，欢迎大家拍砖，谢谢。</p>\n<p>老规矩，废话少说，上图：</p>\n<ol>\n<li>项目首页，是不是很像 Github :laughing:</li>\n</ol>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201607/09/2700/DaqLR6yCNK.png\"></p>\n<ol>\n<li>Commits</li>\n</ol>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201607/09/2700/lA3wlc4RUu.png\"></p>\n<ol>\n<li>Explore</li>\n</ol>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201607/09/2700/5gozjzIgb7.png\"></p>\n<ol>\n<li>Register</li>\n</ol>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201607/09/2700/hBwkCHiOxC.png\"></p>\n<ol>\n<li>Login</li>\n</ol>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201607/09/2700/4RSm8q2tUr.png\"></p>\n</div></div>"], "reply": "19", "tittle": "Gitamin, 一款基于 Laravel5.2 和 Twig 模板引擎实现的 Git Web 管理系统", "comment": ["非常不錯哦！！先 star 了，晚上研究下", "牛逼， star", "很漂亮！", "mark", "兹瓷 GPG 签名显示么", "赞赞赞", "点赞", "轮如何反复建造轮子", "很有意思的名字！", "不错。先 star", "抓到 八阿哥 一只\r", " fixed,thx.", "lz 真是高产", "好东西，已 star", "为什么用 Twig 而不是 Blade ？", "要做成 gitlab 那样吗", "楼主厉害 只是不知道最终如何变现？\r", "\r", "确实很漂亮~", "不错  不错   楼主可以分享一下思路", "再来点功能就够用管理"]},
{"content": ["<div class=\"topic_content\">技术依赖\r<br>\r<br>    需要 PHP 5.5 以上，支持生成器\r<br>    需要支持 ticks\r<br>    \r<br>\r<br>实现代码见\r<br><a target=\"_blank\" href=\"http://toknot.com/blog/php-setTimeout.html\" rel=\"nofollow\">http://toknot.com/blog/php-setTimeout.html</a>\r<br>\r<br>主要利用生成器实现，和 js 的一样，不会阻塞脚本执行（不同于 sleep 的阻塞）\r<br>回调函数一定会在延迟时间执行。延迟时间单位是毫秒，千分之一秒</div>"], "reply": "11", "tittle": "和 JS 一样的 php setTimeout 函数", "comment": ["PHP7 跑通了，确实非阻塞。\r", "5.5.34 这一行\r", "function setTimeout(callable $callback, int $time) : Generator{\r", "报错\r", "PHP Parse error:  parse error, expecting `'{''", " 5.5.12 +1", "咦，我不认识的 php 。马克", "Tick 函数啊，有意思。\r", "这个东西文档很少，也几乎没见到过人用，据说性能不好…", "declare 据说不应该是过时的吗？每走一行代码就去检测任务。效率很低。\r", "这段代码的原理就是每走一行代码就去检测是否有定时任务。。。\r", "最后再加上 register_shutdown_function 这个函数。等脚本结束了，执行这个函数继续检测任务。\r", "可以去看看 workerman 的定时器实现。", " declare 没过时，过时的只是它的一种用法，也就是 @", " 说的 tick ，效率的确很低。\r", "workerman 的 timer 实现的方式也类似。用的是 pcntl 库的函数，每秒给自己发一个 alarm ，去检查下有没有要执行的东西，效率也不高_(:з」∠)_\r", "其实 php 自己没有 ** 原生很好 ** 的支持多线程，想要高效的去实现这种异步的东西不大可能_(:з」∠)_  还是上扩展吧，比如 swoole 。。。", " 因为 LZ 用了一个 7 的语法，返回值类型声明，` : Generator`去掉即可", " 感谢 明白了。但是我看 workerman 的定时器好像是有两个流程 一个是在没有注册 event 的时候走信号，另一个是走 event （我记得 workerman 启动过程会注册 event, select 或者 libevent ）。如果是这样效率应该是可以的。还有就是 LZ 代码我试着改了改，不用 yield 就能实现。。。", " 的确可以不用 yield 。另外 tick 效率的确十分低下，据分析，当启用 tick 后， PHP 会在 所有 opcode 后插入 TICK 的 opcode,\r", "PHP 7.1 的 Asynchronous Signal Handling 或许会解决 pcntl 信号的效率问题  ", " 如果不用 yield ，可能会加重 tick hander 函数的复杂度, setTimeout 函数实现也会变得复杂起来", " 貌似没有复杂啊\r", "\r", "<?php\r", "//enable ticks\r", "declare (ticks = 1);\r", "\r", "//setTimeout event list\r", "$timeoutQueue = new SplObjectStorage;\r", "\r", "register_tick_function(function() {\r", "    global $timeoutQueue;\r", "    foreach ($timeoutQueue as $v) {\r", "        $callBack = $v();\r", "        if (is_callable($callBack)) {\r", "            $callBack();\r", "            $timeoutQueue->detach($v);\r", "        }\r", "    }\r", "});\r", "\r", "register_shutdown_function(function() {\r", "    global $timeoutQueue;\r", "    while($timeoutQueue->count()) {\r", "        foreach ($timeoutQueue as $v) {\r", "            $callBack = $v();\r", "            if (is_callable($callBack)) {\r", "                $callBack();\r", "                $timeoutQueue->detach($v);\r", "            }\r", "        }\r", "        usleep(1000);\r", "    }\r", "});\r", "\r", "function setTimeOut($callback, $time)\r", "{\r", "    global $timeoutQueue;\r", "    $end = microtime(true) * 1000 + $time;\r", "\r", "    $f = function() use ($callback,$end) {\r", "        if (microtime(true)*1000 >= $end) {\r", "            return $callback;\r", "        } else {\r", "            return false;\r", "        }\r", "    };\r", "    $timeoutQueue->attach($f);\r", "    return $f;\r", "}\r", "\r", "function clearTimeout(Closure $f) {\r", "    global $timeoutQueue;\r", "    $timeoutQueue->detach($f);\r", "}\r", "\r", "setTimeOut(function() {\r", "    echo 'aaaa';\r", "},3000);\r", "setTimeOut(function() {\r", "    echo 'bbbb';\r", "},6000);"]},
{"content": ["<div class=\"topic_content\">开发常用的网站，常用的功能，如用户管理，用户组管理，菜单管理，权限管理。这些常用的功能，写来写去就是 CRUD 。最近发现了这个 ACI ，基于 CI 框架的半个后台 <a target=\"_blank\" href=\"http://www.autocodeigniter.com\" rel=\"nofollow\">http://www.autocodeigniter.com</a>\r<br>\r<br>优点是：常用的功能可以直接自定义生成。复杂点的，也可以手动写。\r<br>缺点是：不成熟，坑多。另外就是没有提供前端，再提供个前端就更简单了，当然了自己写简单的前端也不难。（好懒）\r<br>\r<br>希望找一个坑少一点的类似的东西，以减少工作量，提高开发速度。（我只想更快速完成搭建）</div>", "<div class=\"topic_content\">找到以下几个满足需求的：\r<br>1 、 onethink ，基本的还行，就是更新时间还是 2014 年的，而且社区也不怎么活跃了，有文档。\r<br>2 、 ThinkCMF ，原来有 CMF 这类系统的，那就用它吧。</div>"], "reply": "15", "tittle": "有没有通用的快速搭建 PHP 后台管理系统，类似于 ACI 这种", "comment": ["wordpress 似乎能满足你的要求", " 这类博客或者 CMS ，太臃肿了，而也不符合我说的。你可以先了解一下 ACI", "自己先开发第一个项目，以后的项目就在第一个项目的基础上二次开发，长此后，你会不自不觉地开发出了一个适合自己用的后台框架了", "ls +1", " 一个基于 laravel 的后台框架", "首先前几天我就发了这个东西 不过很少人注意\r", "\r", "\r", "\r", "其实这东西确实很好 可以直接自动生成后台增删查改搜 数据库也不用动手就可以建立 缺点当然也是有的 比如数据库结构如果做改变 是没办法进行自动调整的 只能自己去修改模块代码\r", "\r", "生成的模块只要有修改数据库结构 那就不能覆盖安装 但是我们在开发中 常常还是会有忘记的地方 肯定是要对数据库字段进行新增和修改\r", "\r", "官方的文档很少 其实文档都是用户写的教程 具体的都在这里（官方只转载了几个）\r", "支持一下，虽然我用不到", "有没有 asp 。 net 的开源框架？", " 这个想法不错，先看看有没有现成的，有的话，看看改造还是自己再写个", "onethink,基于 tp 的", "\r", "拿去吧。", " 这个不错，比较成熟", "\r", "\r", "你看看这个如何？", " Nice! Mark !\r", "看他的 TODO ，如果完成了的话，就非常棒了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>学习 Laravel 的队列服务，网上也没看到什么好的基础教程，自己写了一个：</p>\n<p><a href=\"http://blog.tanteng.me/2016/07/laravel-5-queue/\" rel=\"nofollow\">http://blog.tanteng.me/2016/07/laravel-5-queue/</a></p>\n</div></div>"], "reply": "1", "tittle": "Laravel 5.2 队列的配置和使用", "comment": ["谢谢。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>先感谢此网页给我的指导 <a href=\"http://www.netingcn.com/php-foreach-pass-value-reference.html\" rel=\"nofollow\">http://www.netingcn.com/php-foreach-pass-value-reference.html</a>\n现在我得知：\n如果数组里面存放的是普通类型的元素就是采用传值的方式，存放对象类型元素采用的方式为传地址。</h2>\n<p>代码：</p>\n<pre><code>$raw_arr = array(\n    (object)(array('id' =&gt; 1, 'name' =&gt; 'name1')),\n    (object)(array('id' =&gt; 2, 'name' =&gt; 'name2')),\n);\nforeach ($raw_arr as $value) {\n    $new_value = $value; //这里也是引用？？？\n    $new_value-&gt;name = $new_value-&gt;name  . '-modify';\n}\nprint_r($raw_arr);\n</code></pre>\n<hr>\n<p>输出：</p>\n<pre><code>Array\n(\n    [0] =&gt; stdClass Object\n        (\n            [id] =&gt; 1\n            [name] =&gt; name1-modify\n        )\n\n    [1] =&gt; stdClass Object\n        (\n            [id] =&gt; 2\n            [name] =&gt; name2-modify\n        )\n\n)\n</code></pre>\n<hr>\n<p>我的问题：\n我想在 foreach 循环内将$value 传值给一个新变量$new_value ，我希望对$new_value 的任何操作都不会影响原始数组$raw_arr, 请问该怎么做呢？</p>\n</div></div>", "<div class=\"topic_content\">感谢大家回复，最后的采用的方法是：$object = unserialize(serialize($object))</div>"], "reply": "11", "tittle": "php foreach 是传值还是传引用？", "comment": ["复制引用的形式。。", "clone", "因为这个是 Object ，其他类型不受影响", "一般情况下，对象传引用，基本数据类型传值。\r", "如果变量前面有取地址符&的话，那么基本数据类型也是传引用。\r", "```\r", "<?php\r", "$list = array(1,2,3);\r", "foreach($list as &$value){\r", "    $value = $value*2;\r", "}\r", "unset($value);\r", "var_dump($list);\r", "```\r", "\r", "另外，友情提醒，变量记得 unset 掉，不然会有大彩蛋的。", "抱歉，回复的时候没有看仔细。\r", "$new_value = clone $value;\r", "但要任何操作都不会影响，还是得看这个 Object 实现了，__clone()魔法函数可以控制拷贝深度！", " 话说大彩蛋是什么呢？", " \r", "在执行 foreach($array as &$item) 之后，如果$item 没有 unset 的话，那么$item 这个变量始终指向$array 的最后一个元素。\r", "也就是如果下面编码的时候没注意，来了个$item='foo_bar'的话，那么 end($array)==='foo_bar'，导致$array 内容离奇得不对！尤其是第一年工作的时候，遇到过好几次。。\r", "所以 foreach 的时候，如果要修改源数组内容，尽量少用&，最好 foreach($array as $key=>$item)！\r", "当然，如果 foreach 里面没有 break 场景的话，用 array_walk 更好。", " 就算不用&，如果$array 的元素的类型是 object ，还是引用", "在 PHP 7 foreach 默认是复制，详细变更见： ", "这么说的话，假如$var1 是 Object ，那$var2 = $var1;实际上是把这个对象的地址给了 $var2 ，而不是复制了一个对象实例？", "如果要改变原数组的值，并且原数组不为对象数组（即为基本数据类型数组），那么就传引用\r", "\r", "上代码：\r", "\r", "        $bk_cart_arr = ['1:1','2:1','3:2'];\r", "        $product_id = 1;\r", "        $count = 1;\r", "        foreach ($bk_cart_arr as &$value) {                         //传引用\r", "            //拿到数组中的每个字符串,并且使用 strpos （)来获取:的位置）\r", "            $index = strpos($value, \":\");\r", "            if (substr($value, 0, $index) == $product_id) {\r", "                $count = ((int)substr($value, ($index + 1))) + 1;\r", "                $value = $product_id . ':' . $count;\r", "                break;\r", "            }\r", "        }"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>$a=\"XXX\";\n$a_value=$运算值;\n$a_txt=$a.$a_vlue;\nif ($a_value=0){\n$a_txt=\"\";\n}</p>\n<pre><code>$b=\"XXX\";\n$b_value=$运算值;\n$b_txt=$a.$a_vlue;\nif ($b_value=0){\n$b_txt=\"\";\n}\n..........\n$abc=$a_txt.$b_txt.$c_txt...\n</code></pre>\n</div></div>"], "reply": "4", "tittle": "拼接字符串和值，有更简洁的写法么？", "comment": ["$a_txt = ($a_value !== 0) ? \"XXX{$a_value}\" : '';", "PHP 比较建议用双引号和{}来做字符串拼接，主要是显而易见。\r", "\r", "$a = 'world';\r", "$b = \"hello {$a}\"", "sprintf", "$arr = array('Hello','World!','I','love','Shanghai!');\r", "echo implode(\" \",$arr);\r", "\r", "这个算吗"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>说明</h1>\n<p><a href=\"https://github.com/peinhu/aetherupload-laravel\" rel=\"nofollow\">AetherUpload</a>是提供超大文件上传的 laravel 扩展包，带百分比进度显示，支持断点续传，支持自定义中间件，基于 laravel 5 开发。<br>\n<img alt=\"示例页面\" src=\"http://ww2.sinaimg.cn/large/69e23056gw1f59r78adaij20n70ft0u2.jpg\"></p>\n<h1>用法</h1>\n<ol>\n<li>\n<p>在终端内切换到你的 laravel 项目根目录，执行<code>composer require peinhu/aetherupload-laravel dev-master</code></p>\n</li>\n<li>\n<p>在<code>config/app.php</code>的<code>providers</code>数组中添加一行<code>Peinhu\\AetherUpload\\AetherUploadServiceProvider::class,</code></p>\n</li>\n<li>\n<p>执行<code>php artisan vendor:publish</code>来发布一些文件和目录</p>\n</li>\n<li>\n<p>赋予上传目录相应权限，在项目根目录下，执行<code>chmod 755 storage/app/uploads -R</code></p>\n</li>\n<li>\n<p>在浏览器访问<code>http://域名 /aetherupload</code>可到达示例页面</p>\n</li>\n</ol>\n<p>提示：更改相关配置选项请编辑<code>config/aetherupload.php</code>。</p>\n<h1>优化建议</h1>\n<ul>\n<li>（推荐）设置每天自动清除无效文件。<br>\n由于上传流程存在意外终止的情况，如在传输过程中强行关闭页面或浏览器，将会导致已产生的临时文件成为无效文件，占据大量的存储空间，我们可以使用 Laravel 的任务调度功能来定期清除它们。<br>\n在 Linux 中运行<code>crontab -e</code>命令，确保文件中包含这行代码：<br>\n<code>* * * * * php /项目根目录的绝对路径 /artisan schedule:run 1&gt;&gt; /dev/null 2&gt;&amp;1</code><br>\n在<code>app/Console/Kernel.php</code>中的<code>schedule</code>方法中添加以下代码：</li>\n</ul>\n<pre><code>  $schedule-&gt;call(function () {\n      (new \\Peinhu\\AetherUpload\\Uploader())-&gt;cleanUpDir();\n  })-&gt;daily();\n</code></pre>\n<ul>\n<li>提高临时文件读写速度。<br>\n利用 Linux 的 tmpfs 文件系统，来达到将临时文件放到内存中快速读写的目的。执行以下命令：<br>\n<code>mkdir /dev/shm/tmp</code><br>\n<code>chmod 1777 /dev/shm/tmp</code><br>\n<code>mount --bind /dev/shm/tmp /tmp</code></li>\n</ul>\n</div></div>"], "reply": "目前尚无回", "tittle": "AetherUpload - 让 Laravel 支持超大文件断点上传", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h3><a href=\"http://v.youku.com/v_show/id_XMTYzNDY2Mzc4NA==.html\" rel=\"nofollow\">视频地址</a></h3>\n<h1>第一讲: Symfony3 的简介,开发环境与版本控制</h1>\n<h3>安装配置本地 Symfony3 运行环境</h3>\n<ul>\n<li>windows 下建议使用 Xampp 或者 UPUPW</li>\n<li>macos 环境下建议使用 brew 安装</li>\n<li>Linux 环境下建议使用 lampp 或者编译安装</li>\n</ul>\n<p>安装完 PHP 运行环境建议执行以下步骤:</p>\n<ol>\n<li>添加 PHP 执行路径到 PATH 环境变量</li>\n<li>把 Apache/Nginx,Fpm,Mariadb/Mysql 等应用加入开机启动</li>\n<li>添加 Apache/Nginx,Fpm,Mariadb/Mysql 等服务到系统服务</li>\n</ol>\n<p>执行完以上步骤可以检查是否操作正确:</p>\n<ol>\n<li>在 ternimal 或者 cmd 下运行 php -v 看是否能输出 PHP 版本号</li>\n<li>使用 service xxx restart 以及 brew services restart xxx 命令检测系统服务是否安装</li>\n</ol>\n<h3>最佳 Symfony 开发工具介绍</h3>\n<ul>\n<li>phpstorm(推荐)</li>\n<li>netbeans</li>\n<li>sublime text</li>\n<li>atom</li>\n<li>MacVim</li>\n</ul>\n<h3>安装并创建 Symfony3 应用</h3>\n<h5>使用 Composer 安装 Symfony3</h5>\n<p>安装 Composer</p>\n<p><code>php -r \"readfile('<a href=\"https://getcomposer.org/installer');\" rel=\"nofollow\">https://getcomposer.org/installer');</a>\" | php</code></p>\n<p>设置全局国内镜像:</p>\n<p><code>composer config -g repositories.packagist composer <a href=\"http://packagist.phpcomposer.com\" rel=\"nofollow\">http://packagist.phpcomposer.com</a></code></p>\n<p>通过 Composer 安装 Symfony3</p>\n<p><code>composer create-project symfony/framework-standard-edition project_name</code></p>\n<h5>使用安装器安装 Symfony3</h5>\n<p>下载安装器</p>\n<p><code>sudo curl -LsS <a href=\"http://symfony.com/installer\" rel=\"nofollow\">http://symfony.com/installer</a> -o /usr/local/bin/symfony</code></p>\n<p>配置安装器权限</p>\n<p><code>sudo chmod a+x /usr/local/bin/symfony</code></p>\n<p>使用最新正式版创建应用</p>\n<p><code>symfony new project_name</code></p>\n<p>使用最新长期支持版创建应用</p>\n<p><code>symfony new project_name lts</code></p>\n<p><a href=\"http://symfony.com/doc/current/contributing/community/releases.html#releases-lts\" rel=\"nofollow\">长期支持版规则</a></p>\n<h3>运行 Symfony3 应用</h3>\n<p>通过自带临时服务器启动命令运行</p>\n<pre><code>cd project_name  \nphp bin/console server:run \n</code></pre>\n<p>通过 Niginx 或 Apache 运行</p>\n<p><a href=\"http://symfony.com/doc/current/cookbook/configuration/web_server_configuration.html\" rel=\"nofollow\">可参考这里</a></p>\n<p>加域名解析到虚拟主机</p>\n<blockquote>\n<p>编辑 /etc/hosts windows 环境在 C:/windows/system32/drivers/etc 目录中</p>\n</blockquote>\n<h3>使用 Git 进行版本控制</h3>\n<p><a href=\"http://symfony.com/doc/current/cookbook/workflow/new_project_git.html\" rel=\"nofollow\">详细可参考这里</a></p>\n<p>在 Github 等通用 Git 平台创建项目</p>\n<p>安装 Git\n<a href=\"https://git-scm.com\" rel=\"nofollow\">Git 下载</a></p>\n<p>添加系统 SSH 公匙</p>\n<pre><code>ssh-keygen -t rsa -C \"xxxxx@xxxxx.com\"\ncat ~/.ssh/id_rsa.pub\n</code></pre>\n<p>在 GIT 平台或者自己的 GIT 服务器上添加公匙</p>\n<p>初始化 Git 上传代码(注意把本地配置添加到.gitignore 里面)</p>\n<pre><code>git init\ngit add .\ngit commit -m 'init'\ngit remote add origin git:xxx@xxx\ngit push -f origin master\n</code></pre>\n<h3>问题与处理</h3>\n<blockquote>\n<p>处理完以下问题记得重启 PHP-FPM(必须)和 Nignx/Apache</p>\n</blockquote>\n<p>Install and enable the intl extension (used for validators).的处理</p>\n<ul>\n<li>osx: <code>brew install php70(根据自己安装的版本填写版本号)-intl</code></li>\n<li>windows: php.ini 中开启 intl 支持</li>\n<li>linux 下:编译安装并在 php.ini 开启支持</li>\n</ul>\n<p>Install and/or enable a PHP accelerator (highly recommended).的处理</p>\n<ul>\n<li>osx: <code>brew install php70(根据自己安装的版本填写版本号)-opcache</code></li>\n<li>windows: php.ini 加载 opcache</li>\n<li>linux 下: 根据你的 PHP 安装方式来安装 opcache(编译安装或 apt-get,yum 等包管理器方式)</li>\n</ul>\n</div></div>"], "reply": "4", "tittle": "彻底掌握 Symfony3 框架中文视频-第一讲", "comment": ["又开始出来骗钱了", "你一个 symfony 的教程有必要写白开水般的 git 命令么", "支持!!!", "骗子"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>写两个页面，实现一个页面控制另一个页面的歌曲切换，比如我在页面①选择了歌曲一，点击确定后页面②会停止当前播放的歌曲并播放歌曲一，各位大牛有这种实现的思路或者代码给我吗？</p>\n</div></div>"], "reply": "16", "tittle": "PHP 实现手机控制电脑切歌", "comment": ["ajax 定时读取数据库或者同一个客户端的 cookie", "一楼正解", " 可是定时要定多久？太快了不会给数据库造成负重？", "可以考虑下 websocket", "socket\r", "PHP-A 跑在命令行 负责接受各种 socket 链接并转发消息\r", "PHP-B 运行在 web 请求 PHP-A 链接 socket 用来播放歌曲\r", "PHP-C 运行在 web 请求 PHP-A 链接 socket 用来控制播放什么歌曲", "最后都转进到 Socket 了，干脆把开发语言也换成 Node.js 吧， 23333333333333", "楼上 666 ，不过这种主动发请求的只有 socket 了，传统 http 思路就是定时请求了", " 2333 不过我们还有 Swoole ， ", " 就 API 而言我觉得 ReactPHP 更优雅，可惜现在半死不活了。", "使用推送协议 mqtt 一类", "  常规设置 10 秒一次,然后如果判断数据被改变,那么时间缩短为 1-2 秒一次读取(保持 10 - 20 秒),这样用户第一次提交后最迟 10 秒钟有反应,然后他在 20 秒内操作,可以在 1-2 秒内获得响应.如果 20 秒内没有任何操作,继续让时间变成 10 秒一次...不靠谱的玩意,自己一个人体验体验就好了.", "websocket 妥妥的", "wehsocket 对浏览器有要求 得 IE10+才可以\r", "\r", "实现方式 ", "可以查查 horizon 和 rethinkdb ， 但不确定和 PHP 配合怎么样， JavaScript 肯定就没问题了", "标题党狗", "用推送就好了， php 推送给手机，手机切割。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>问题是这样的，代码如下：</p>\n<pre><code>ignore_user_abort();\nset_time_limit(0);\n$interval=300;\n\ndo{\n    sleep($interval);\n    $file1 = date(\"Y-m-d\",time()).'.txt';\n    $content=file_get_contents($file1);\n    $fp = fopen($file1, 'w');\n    $content .= \"\\r\\nstart\".date(\"Y-m-d H:i:s\",time());\n    fwrite($fp, $content);\n    fclose($fp);\n}while(true);\n</code></pre>\n<p>线上的环境是 nginx  php5<br>\n这个会每隔两天左右，也没有固定值，然后 log 会断，然后查询线上的 nginx 的 error.log 和 php5 的的 error.log 都没有错误记录\n我应该如何调试？</p>\n</div></div>"], "reply": "13", "tittle": "求教：线上环境的一个方法每隔两天左右会断，而且没有 log 可查，怎么办？", "comment": ["极可能是文件内容过大，超出内存限制了。\r", "file_put_contents 只适合小文件，写 log 的话该换 append fwrite 了", "代码里去掉循环，弄个 crontab 定时执行，会不会好些？", "file_put_contents 本身就有 flag 参数可以指定为 append 不需要读出来再写。   没有 log 的话看看有没有 core 文件，可能就是崩掉了", "为啥要全部读出来，你只是在文件最后加点东西而已。\r", "直接  file_put_contents($file,\"\\r\\nstart\".date(\"Y-m-d H:i:s\",time()),FILE_APPEND) 就行了\r", "\r", "如果这个脚本可能会有多个运行实例，最好用 FILE_APPEND | LOCK_EX", " \r", " \r", " \r", "你们说的是有这个可能性，我会排查的，但是这只是个 demo ，这个情况其实还有一个版本，是插入到数据库的，然后作为 log ，但是也是会断，网上的资料是说应该是某一处产生了报错，但是我 try catch 捕获不到这个错误", " 你说的的确是这样子好些，现在只是暂时这样子，如果没有排查出来的话，我想下次就直接用 crontab 了。", "php xxxxx.php  > 日志文件", "装个监控吧兄弟", " 这个日志文件是空的", "php 常驻本身就不稳定，你这逻辑这么简单，建议用 shell 或者 java 或者 c\r", "\r", "比如最简单的开个 screen ，写个 shell 每秒请求一下搞定，缺点是重启就没了\r", "\r", "其实用 java 或 c 一下午就写出来了 即使没基础 有基础几分钟", "会不会是内存炸了被怼了？", " 报错才会有输出", " 是啊，就是没报错，但是断了，就搞不懂了，每次记录的 log 位置都不一样，无从查证啊"]},
{"content": ["<div class=\"topic_content\">标题我也不知道怎么写！\r<br>描述就是:iso 微信用户点击微信授权登录后，然后正常登录了我的 web ，但是他突然抽风了一直点击 back\r<br>,那么问题来了:当他点击 back 到 callback 页面的时候，页面会再次请求一遍微信，造成 400029 。这个要怎么破？</div>"], "reply": "3", "tittle": "微信客户端返回 callback 重复请求问题", "comment": ["callback 页不清 status 的么？", "callback 页面判断 cookie 是否已经登录过", " 多谢，已经解决\r", " 多谢"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有个项目，第一次访问会自动生成缓存页面，因为第一次访问时无缓存读取所以耗时长，所以希望自己来触发所有页面的第一次访问。</p>\n<p>SO ，用 PHP 实现发送 GET 请求无需等待和接收返回结果，最省流量、最省内存、速度最快的方法是什么？\n除了 curl 、 file_get_contents 还有其他更好的方法吗？</p>\n</div></div>"], "reply": "17", "tittle": "用 PHP 实现发送 GET 请求无需等待和接收返回结果，最省流量、最省内存、速度最快的方法是什么？", "comment": ["主动生成不是更好", "自己 fsockopen 然后读写", "curl 或 file_get_contents 访问，设置脚本运行超时为 1 秒", " 这方法 6", "不用 GET ， 用 HEAD", "用 fsockopen ， fputs 的下一句 fclose", " 还要 Connection: Close 不然请求会阻塞", " \r", "求赐教 \r", "HEAD 方法具体用到哪几个函数？\r", "谢谢", "你这核心还是要发一个异步请求，可以看看： ", "\r", "\r", "或者配置个 crontab ，定时请求。", " 你上面举的都可以, curl 系列可以 curl_setopt 一个 CURLOPT_NOBODY 的参数，   file_get_contents 可以传一个 stream_context_create 创建的 method 为 HEAD 的 context 进去", "直接设置毫秒请求即可  楼上那些 呵呵。。。。\r", "\r", "curl_setopt($ch, CURLOPT_NOSIGNAL, true);    //注意，毫秒超时一定要设置这个  \r", "curl_setopt($ch, CURLOPT_TIMEOUT_MS, 200); //超时时间 200 毫秒", "用 HEAD 不行嘛", " 表示不接受你的呵呵", " 哦(´-ω-`)", "HEAD 官方定义\r", "HEAD 方法跟 GET 方法相同，只不过服务器响应时不会返回消息体。一个 HEAD 请求的响应中， HTTP 头中包含的元信息应该和一个 GET 请求的响应消息相同。这种方法可以用来获取请求中隐含的元信息，而不用传输实体本身。也经常用来测试超链接的有效性、可用性和最近的修改。\r", "一个 HEAD 请求的响应可被缓存，也就是说，响应中的信息可能用来更新之前缓存的实体。如果当前实体跟缓存实体的阈值不同（可通过 Content-Length 、 Content-MD5 、 ETag 或 Last-Modified 的变化来表明），那么这个缓存就被视为过期了。\r", "\r", "HEAD 请求常常被忽略，但是能提供很多有用的信息，特别是在有限的速度和带宽下。主要有以下特点：\r", "1 、只请求资源的首部；\r", "2 、检查超链接的有效性；\r", "3 、检查网页是否被修改；\r", "4 、多用于自动搜索机器人获取网页的标志信息，获取 rss 种子信息，或者传递安全认证信息等", "需要服务端支持 HEAD 方法，和 PHP 没啥关系。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>时间： 2016 年 7 月 17 日（周日）   晚上 7 点到 9 点</p>\n<p>适用人群：\n微信公众号运营者、拥有者，了解微信开发可以如何助力公众号运营\n感兴趣微信开发的技术人士，快速了解和入门微信开发</p>\n<p>课程内容：\nThinkPHP 框架最新的 ThinkPHP 5 版本带来了哪些新特性，有哪些变化？  TP 5 为 API 和多应用端开发带来了哪些便利？\n实战 ThinkPHP 5 的数据库操作\n（以上内容 40 分钟）</p>\n<ol>\n<li>微信公众号开发概念解析</li>\n<li>开发者模式接入公众平台</li>\n<li>获取用户信息</li>\n<li>获取消息和发送消息接口</li>\n<li>微信典型应用解析 （以微信投票、微信商城为例，附源码）</li>\n</ol>\n<p>报名链接： <a href=\"http://baoming.yanxishe.cc/0717\" rel=\"nofollow\">http://baoming.yanxishe.cc/0717</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "（线上课程报名） ThinkPHP5 实战微信开发", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>PHP,jQuery,HTML Monitoring Application on LAMP Stack</p>\n<p><a href=\"https://www.livecoding.tv/kevlar/videos/MqvDa-linux-monitoring-soft-bootstrapjqueryphp-2\" rel=\"nofollow\">https://www.livecoding.tv/kevlar/videos/MqvDa-linux-monitoring-soft-bootstrapjqueryphp-2</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "一个 13 年经验的美国程序猿用 PHP 开发 LINUX 监控软件", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>求大牛传授点人森经验。</p>\n</div></div>"], "reply": "17", "tittle": "php 代码审计怎么学？", "comment": ["Sonar 常规代码分析？", "最近刚刚接触代码审计，买了本 seay 的那个代码审计的书也是没有头绪，我的方法就是查找一些 sql 关键字看看传入的时候有没有将参数进行一些处理，如参数绑定 /过滤 /转换等等 ，如果要是 xss 的话就看输出的时候有没有进行转义。其余的展示不太清楚。", "先好好学 php 开发 自己都没写好 怎么审计呢", " 原来是输出的时候进行转义 我还以为是输入的时候进行转义好点 毕竟只需要一次", " 先学好开发，另外 seay 的那本书写的挺一般的，没有水平。", " 大专毕业的阿里 P7", " \r", "当年 seay 博客还和我互换友链，他安全水平也许可以，代码水平确实只能说不专业。", " easy 是 谁？", " 多谢指导 正在慢慢熟悉 php 中", "不是专业的代码审计,不过也可以简单说下,下面这些方法是我刚毕业时进一个大公司后不到 1 星期挖到了多个 sql 注入与 xss 所用到的\r", "\r", "\r", "1.先了解要审计的应用都有什么功能\r", "2.再了解这个项目的一些编码规范,以及使用的框架,再简单看几个控制器或者什么鬼看看开发人员的大致编码习惯\r", "3.去版本控制器里看下提交记录,根据最近提交的代码的质量,规范度来判断一下这个项目的近期动态\r", "4.把项目搭起来,直接开扫描器扫,虽然当时扫描器扫不出什么漏洞,但起码对这个项目的安全性有一个大致的了解,而且很多扫描器对 ajax 操作是扫不了的,可以着重关注\r", "\r", "记下来就开始找了\r", "我是直接用 ide/编辑器全局搜代码的,基本上好点的框架都提供了一些获取请求参数的封装,那么直接使用$_GET,$_POST,$_COOKIE,$_REQUEST 的都要抓出来,用了框架还直接以$_GET,$_POST,$_COOKIE,$_REQUEST 获取数据的,都是比较 low 的行为,发生问题几率高很多\r", "\r", "当然$_SERVER 以及$_SESSION 也要着重看下,主要看从外界获取了变量之后有没有进行防御过滤\r", "\r", "当找完这些毫无封装的获取请求参数代码之后,就去找使用框架获取请求的代码了,项目当时用的是 CodeIgniter,那么很简单,看下文档,发现获取 get 和 post 参数的代码是\r", "$this->input->post()\r", "$this->input->get()\r", "而这 2 个函数第二个参数是可选的,过滤 xss 的,但是默认是 false,也就是不过滤...所以写个正则去找一下这些代码的第二个参数不填或者是 false 的,然后去追踪看后续有没有进行防御过滤,以此类推\r", "\r", "还有很多开发人员直接拼写 sql 语句的时候,变量名一般都会写$sql 或者包含 sql 字样的,那么就去搜非框架核心区域包含 sql 字样的 php 代码,然后去回溯这些 sql 拼接的部分是不是用参数化查询,如果不是的话是不是用户可控的,有没有进行防御过滤\r", "\r", "csrf 这类看下框架有没有开全局防御,然后看控制器对数据更改的功能代码是不是只接收 post 的请求或者 post 的参数,从这里入手去排查\r", "\r", "至于任意文件上传下载都得先找到对应功能的代码,然后去看上传文件类型有无限制,下载有无判断用户权限,下载路径是否用户可控等,很多书都有说\r", "\r", "我觉得与业务相关性高的比较麻烦,因为业务类型不同,很多复杂的业务前置就有一堆复杂的操作,所以比较繁琐,要黑盒白盒一起上,先无脑改参数看返回结果,再去代码里审计比较好\r", "\r", "还有很多常见的\r", "爆破类的:登录爆破,验证码爆破,重置密码爆破,改手机号爆破,各种爆破...\r", "边界值:负数价格,负数商品数,真是什么都有\r", "猥琐的:传参数给你一个数组\r", "\r", "比如 yii2 框架的代码:\r", "$id = Yii::$app->request->get('id');\r", "$articel = Article::findOne($id);\r", "\r", "看样子很正常对不对,直接传 id=1'这样也发现不了注入\r", "但是仔细看框架文档,findOne 函数是可以接数组的,提交 id[column1'] = 1 注入就出来了,真是巨坑\r", "\r", "还有一些坑,比如危险函数的,也要去找,能执行系统命令的地方,要看是不是完全不能被用户控,被用户控制的参数有没有过滤\r", "找一些 web shell 里常见的,比如 preg_replace 里正则放个 /e 就能执行代码,eval 就更不用说了...\r", "找多几个 php 一句话木马就知道了,要多猥琐有多猥琐\r", "\r", "比如我之前无聊时写着玩的一个\r", "// 利用:\r", "// $_GET['x'] = 'eval($_GET[\"code\"]);';\r", "// $_GET['m'] = 'create_function';\r", "// $_GET['code'] = 'echo 123;';\r", "// $_GET['d'] = 'call_user_func_array'\r", "\r", "$_GET['d']($_GET['m'], '', $_GET['x'])();\r", "\r", "总的来说,对项目的架构熟悉程度越高,审计起来就越轻松", " seay 写的代码很可能比你多，，，", "审计案列上 wooyun 搜，很多经典的。", " 我也有那本书哈\r", "  正在学，感觉学着挺迷茫的。", "靠猜程序员的思路", " 慢慢来 别急于求成 别看着别人挖了好多洞就心急", "看文件大小，每 kb500 块", " 赞"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>多用户自助建站，就是你的用户可以注册，然后会员中心选择新建站点，然后自己选择模板，生成自己的站点用于展示一些产品信息啥的，单用户就是大部分的 CMS ，如果是那种集群多用户的呢</p>\n<p>因为没有实际开发过，不晓得是不是这个思路实现的，信息这块，就是通过前台用户 ID 来关联上信息，到时候再模板上加载就行，关键是模板这块，总后台一般会预先添加大量模板供前台用户选择，前台用户在点击生成的同时，在网站空间制定位置生成一个自己用户名或者站点二级域名这样的文件夹来保存已经选择的模板文件和样式表，将路径存进数据库里，到时候通过二级域名或者 url 啥的判断出用户 /站点，读取数据库获得路径，加载模板，以及其他信息</p>\n</div></div>"], "reply": "19", "tittle": "不晓得有没有巨巨开发过这样的系统，思路不晓得对不对", "comment": ["柯林", "正好是做这个，回答一下，这里边比较复杂，我先抛几个问题：\r", "\r", "1.每个网站自己的附件怎么处理\r", "2.公有模板库好说，但想做私有模版怎么办\r", "3.是要给每个站点建私有库还是统一使用总库", "多用户建站程序， 十几年前火过， 现成的源码一堆， 都死了.", "很早很早的时候（ 06 年？），有类似的东西，用的是 phpwind 搭建一大堆子论坛（有子域名，后台 admin 权限）。\r", "\r", "找到了，叫论群。 \r", "\r", "然后后来关张了。", "  \r", "1.附件是指产品新闻的那些附件么，这些附件应该都是跟随产品 id 新闻 id 的吧，然后产品和新闻就用用户 id 来获取\r", "2.共有模板库不动，用户点击 copy 出一套用于私有的模板文件夹，然后这样就算加入前端自定义修改布局样式啥的，只要存入私有的模板路径以后能获取到就行\r", "3.应该是用的总库，通过用户 id 来标记获取到信息", "突然反应到，这其实就是像以前点点那样自定义页面样式的多用户博客系统吧…", " 柯林。。好像回到了 wap 时代。。", " 附件这也能算“问题”？那是程序设计有问题啊……", " \r", "1.附件是以站点为目录存储的，每个站点在新建时即建立一个目录，存放上传文件\r", "2.选择公有模板会在库中记录模版 ID ，纯粹使用不会拷贝，这样减少冗余。如果要修改模版，有两套方案，拷贝到站点目录，然后建立新的模版 ID ，标明私有，其他用户不会看到，或者只是拷贝，还是原有模版 ID ，在页面加载时检测站点目录是否存在私有模版，我是用的后者，这便于统计模版使用量。\r", "3.确实可以用总库，在数据量不高的时候还行，一般方案都是这样。 我是用的另一种，总库记录一些通用信息，站点私有数据在站点目录建立独立库，我是用的 sqlite 。", "以前 Discuz 旗下有个叫 5566 (是不是这个？) 的，就可以开子论坛啊。", " 3Q ，我在捋一下思路", " \r", "怎么说呢，如果你考虑到代理体系，和备份这些，你就知道为什么这么做了，有时候用户是想把数据备份回本地的。 不同的团队不同的设计思路。 欢迎提出更好的设计思路。", " 5d6d ，倒了好几年了。。。\r", "这种想法说实话灵活性并不太高，万一客户不想在你这边待了，以前找你做的东西（模板、站点源码等等）单独弄出来带走都不行=。=", " 是的，现在也是在考虑这样的问题…", " \r", "反正我也没时间，我就说下我想的东西吧，因为有更重要的东西写，这种没时间实现的想法留着也没什么卵用，敲砖引玉吧。\r", "每个用户选择完预置的模块、模板，定义完二级域名之后，把对应的模板和模块和核心站点框架文件，还有环境配置文件整合起来，打个包。\r", "在总控制台里面生成对应的站点信息，包括勾选的模块和模板之类的，万一以后动态要加也可以动态复制过去。\r", "nginx 配置目录下面生成一个站点配置然后自动 reload ， mysql 自动建库建用户导预置 sql 内容，然后把包解到对应站点目录，就完工了。\r", "\r", "总控可以控制自定义绑定域名（绑定无非就是重新生成下 nginx 的 conf ）、更换模板之类的，可以不开放 FTP 给用户。\r", "附件根据环境配置文件里面的信息自动中转到第三方存储（对象存储的平台多了去了，随便找一家靠谱的，支持通过接口开子账户和子空间并互相绑定的），附件的话只要知道对应空间内部键名就好，想自己提供存储就比这个还要简单些，不过要考虑以后存储动态扩容的问题，自己搞容易有坑。\r", "\r", "这样客户想走的时候，对应他的站点的源码还有数据库还有附件，可以很方便导出来了。", " 可以将泛域名全部正则匹配上去 这样就无需修改 conf 只需要修改目录文件夹名了", "我现在正是进行这样的工作", " 好的，感谢，我研究下", "dotnetnuke ，简称 dnn ，完全符合你的要求。\r", "\r", "需要提醒的是，它的自定义开发、扩展是个大坑。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>class fmOutput\n{\npublic function sex($value = '')\n{\nreturn 66;\n}\npublic function op($funcname='', $value = '')\n{\nreturn $this-&gt;$funcname;\n}</p>\n<pre><code>public function __call($funcName,$args)\n{\n\treturn \"Oops,{{$funcName}}is unexist\";\n}\n</code></pre>\n<p>}\n$FM = new fmOutput('sex');\necho $FM-&gt;op();</p>\n<p>然后，没有任何反应，求各位大神解疑。。</p>\n</div></div>"], "reply": "21", "tittle": "PHP 的类内如何使用动态函数名？", "comment": ["查看文档\r", "\r", "\r", "你的 代码\r", "return $this->{$funcname}();", "回复支持 md 吗。。\r", "\r", "```php\r", "   echo 'hello meizi~';\r", "```", "= = 好绝望", " 支持 gist", "is unexist -> does not exist.\r", "\r", "unexist 是什么鬼。", " \r", "```\r", "php \r", "echo 'hello meizi~'; \r", "```后面不能跟其他字符\r", "```", "```\r", "ee\r", "```", "```  \r", "代码模式好像不见了 = = \r", "```", " 这个是正确的，不用加大括号也可以", " does not exist 的缩写，你都知道是什么意思啦", " 回复哪来的代码模式？", " 之前貌似是可以的 我看到他们回复过代码", " 主要是为了规范下 便于理清逻辑 有时候参数不一定是$xx 还有可能是$this->xx 之类的。。", " 回复不支持 Markdown", "$this->{'register'.$command.'Command'}();", "**gggggggg**\r", "_ggg_\r", "### h1h1", "那是 github 的 gist\r", "\r", "可变函数后面得加括号吧。。", " 想缩写请用 not exist 大家都能懂 非得加上 is 啥的 看惯了英语的肯定觉得不伦不类"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"https://github.com/jhzao82/linuxforum\" rel=\"nofollow\">https://github.com/jhzao82/linuxforum</a></div>"], "reply": "1", "tittle": "请教这个程序怎么装，我安装过程会出错", "comment": ["用了国内开发的论坛程序了， "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>开放的工作环境 清凉的办公区 朝九晚六的作息时间\n另公司还有小清新的美女哦。</p>\n<p>不多说看要求:\n1.PHP 开发经验，有良好的面向对象思想，能够独立完成大型项目；\n2.精通 PHP 编程，有使用 ThinkPHP 、 Yii,zendframework 等主流开源框架的开发，能对相关的开源框架进行二次开发；懂 PHP 缓存技术、有静态化设计方面的经验；\n3.精通 MySQL 数据库的设计和优化，有使用 Memcached 、 Redis 等经验；\n4.熟练 HTML / CSS / Javascript ；熟悉 XML ；熟悉 jQuery,熟练使用 Ajax/能够编写符合 W3C 标准、兼容多种浏览器；\n5.熟悉 Linux 操作系统，熟悉 Shell/Perl 脚本编程及常用 Unix 管理命令；\n6.或有开发微信平台项目这优先。\n7.有良好的团队合作能力，善于沟通，自我驱动，热爱编程。\n工作时间：早 9:00-晚 6 ： 00   单双轮休\n电话： 0371-55607072 地址：郑州市金水区北环索凌路庙李商务大厦</p>\n</div></div>"], "reply": "4", "tittle": "中原郑州 高薪 php 程序猿", "comment": ["朋友，你这要求，没有 20K － 50K ，估计难招到完全合乎条件的人呀。\r", "\r", "在大型公司待过的都是前端页面、 PHP 、服务分离开来的。运维更是分开的。能对开源框架进行开发或者性能优化也都在大公司里。\r", "\r", "不知道你能开出的最高工资为多少？以后我老了，回去只能当个培训讲师了。", "我对这方面不是特别清楚，这是公司里另外一个文员写的。刚到这个公司\r", " 你是做 PHP 开发的吗？我们公司对于薪水倒是很大方 具体多少还是要看能力了", " 可能是没写清楚 一个文员写的 我刚到这公司 主要招的是 PHP 开发 三五年能力强的能开到 10k", "我老了，开发不了代码。"]},
{"content": ["<div class=\"topic_content\">比如 addslashes() mysql_real_escape_chars()和 htmlspecialchars()和 pdo ，想了解下大家是怎么用的， v2 不能贴代码和图片，我写在这了，求水。。。\r<br>\r<br><a target=\"_blank\" href=\"https://segmentfault.com/q/1010000005994443\" rel=\"nofollow\">https://segmentfault.com/q/1010000005994443</a></div>"], "reply": "目前尚无回", "tittle": "php 怎样防止注入?", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>使用 composer 安装一个组件，结果跑到 verdor 目录外面了。。\ncomposer ，有办法 uninstall 的命令，卸载这个组件嘛？\n还是得自己手动删除？</p>\n</div></div>"], "reply": "5", "tittle": "composer 安装组件位置安装错了。。。", "comment": ["remove 啊", "把他从 conposer.json 中删除， update 下就自己删除了", "composer remove 相关的组件\r", "或者\r", "手动从 composer.json 中删除 ,然后执行 composer update", " @", " @", " 多谢几位。", "使用 remove 之后， 目录里面还是会留着 composer.json 和 vendor 文件夹。。。还需要手动删除。"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"https://github.com/zendframework/zend-expressive\" rel=\"nofollow\">https://github.com/zendframework/zend-expressive</a>\r<br><a target=\"_blank\" href=\"https://zendframework.github.io/\" rel=\"nofollow\">https://zendframework.github.io/</a>\r<br>Routing, DI, Templating 全部是可以自己搭配组件的，默认是 FastRoute+Zend Service Manager.框架本身去耦合程度很高，用起来让人想起 Node.js 的 Express ，但是因为带了 DI 所以引入其他组件毫无违和感，这里的组件不仅限于 Zend Framework 的组件，加个 Doctrine 什么的也没问题。\r<br>不知为何 V2 众关心 Zend Framework 的这么少，用 Google 站内搜索 Expressive 几乎没找到什么讨论，于是来安利一把~\r<br>Zend 和 Laravel 之流最大的区别就是 Zend 比较 unopinionated ，要用的功能自己整合，和搭积木差不多，只用核心组件大概 1~2MB 的体积， Zend 全家桶的话 10~20MB 吧。</div>"], "reply": "3", "tittle": "不知诸位有没有尝试过 Zend 的新 PSR-7 微框架 Expressive？", "comment": ["PHP 之前被 java 和 RoR 带偏了，各种框架层出不穷。现在终于回归组件开发了。感谢 composer ，感谢 FIG 。", "PSR7? 我喜欢 slim", "slim+1"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>准备把 PHP5 的代码升级带 PHP7 ，其他的代码基本修改完成，但是下面这段代码数组存取就是不显示内容，\n大家帮忙看看指出错误谢谢。。。</p>\n<pre><code>           &lt;?php \n\t\t\t$echo=1;\n\t\t\t$search=\"\";\n\t\t\tif(isset($_POST['search'])){$search=\"and url like '%{$_POST['search']}%'\";\n\t\t\t}\n\t\t\t$query=mysqli_query($conn,\"select count(*) as row from sqlmap where hash!='' {$search} and userhash='{$hash}' order by pr desc\");\n\t\t\twhile($row=mysqli_fetch_array($query)){\n\t\t\tif($row['status']=='running') {$class='active';}\n\t\t\telse{$class='success';}\n\t\t\tpreg_match_all('/ =&gt; \\'(.*)\\n\\'/',$row['data'],$match);\n\t\t\t$match=$match[1];\n\t\t\t$last=@$match[count($match)-1];\n\t\t\t$key=$row['key'];\n\t\t\t$stat=$row['status'];\n\t\t\t$url=$row['url'];\n\t\t\t$pr=$row['pr'];\n\t\t\t$dbtype=$row['dbtype'];\n            $node=$row['apiserver'];\n\t\t\tif(stripos($last,\"back-end\") and stripos($last,\"--dbms\")==false){\n\t\t\t\t$class='danger';\n\t\t\t\t$stat='Inject';\n\t\t\t\tmysqli_query($conn,\"update sqlmap set status='{$stat}' where `key`='{$key}' and userhash='{$hash}'\");\n\t\t\t\t\n\t\t\t}\n\t\t\tpreg_match_all('/ =&gt; \\'(.*)\\n\\'/',$row['data'],$match);\n\t\t\t$data='';\n\t\t\tforeach($match[1] as $m){\n\t\t\t\t\t\t$m=stripcslashes($m);\n\t\t\t\t\t\t$data.=$m.\"\\n\";\n\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\tif(@$_GET['vul']==1 and $stat!='Inject'){\n\t\t\t\t//echo $stat.\"&lt;br&gt;\";\n\t\t\t\t$echo=0;\n\t\t\t}else{$echo=1;}\n\t\t\tif($echo){\n\t\t\t?&gt;\n\t\t\n\t\t\t\t&lt;tr class=\"&lt;?php echo $class?&gt;\"&gt;\n\n\t\t\t\t\t&lt;td&gt;\n\t\t\t\t\t\t&lt;?php echo $key?&gt;\n\t\t\t\t\t\t&lt;?php echo test?&gt;\n\t\t\t\t\t\t&lt;?php echo $row?&gt;\n\t\t\t\t\t\t&lt;?php print_r ($key);?&gt;\n\t\t\t\t\t&lt;/td&gt;\n\t\t\t\t\t&lt;td&gt;\n\t\t\t\t\t\t&lt;?php echo substr($url,0,60)?&gt;..\n\t\t\t\t\t&lt;/td&gt;\n\t\t\t\t\t&lt;td&gt;\n\t\t\t\t\t\n\t\t\t\t\t\t&lt;?php echo $stat;?&gt;\n\t\t\t\t\t\t\n\t\t\t\t\t&lt;/td&gt;\n                        &lt;td&gt;\n\t\t\t\t\t\n\t\t\t\t\t\t&lt;?php echo $node;?&gt;\n\t\t\t\t\t\t\n\t\t\t\t\t&lt;/td&gt;\n</code></pre>\n</div></div>"], "reply": "44", "tittle": "PHP5 的代码升级到 PHP7 遇到的问题", "comment": ["把 @ 错误抑制都去掉，看看什么报错", "写的很糟糕的代码", "and url like '%{$_POST['search']}%'\r", "好大一个注入。。", "（看出错误！", " \r", " \r", " \r", "$query=mysqli_query($conn,\"select count(*) as row from sqlmap where hash!='' {$search} and userhash='{$hash}' order by pr desc\");\r", "代码不是我写的\r", "貌似是这段写的出现了问题", "debug 啊，排版这样的代码看出错误。。。", "我勒个擦！！！！恕知识浅薄，看第一眼 $echo 这变量就不敢往下看了！", "你这代码我都看懵逼了.", "mysql_query(query,connection)", "看错了！", "$last = @$match[count($match) - 1]; \r", "参考 ", "这什么鬼玩意。。", "php7 默认把这个 mysql 接口库移除了吧？话说 PDO 很多年前就已经出了，这年头居然还在用拼接。。。", "可以参考一下这个噢： ", "\r", "\"对于不一致性的修复\" 这个部分有说明 \"表达式求值上严重的不一致问题\"", "第一行就炸裂!   boom boom boom", "那些说 PHP 是世界上最好的语言的 programer 你们幸苦了。", "那么问题来了，入侵楼主网站需要多长时间？", "惨不忍睹。。。重写吧。。。", "不吐槽了。\r", "\r", "mysqli_fetch_array 第二个参数默认是 MYSQLI_BOTH ，改成 MYSQLI_ASSOC 。", "只能帮你到这里来少年\r", "\r", "简单修复过 无测试\r", "\r", "\r", "\r", "很优雅的语言\r", "怎么被写成这样\r", "sql 那块 尽量使用 pdo\r", "实在不习惯 使用 sql 的封装也可以的 比如 adodb 封装好的", "block 楼主了。", "看到$echo=1 ...\r", "看不下去了", "黑人问号？？？", " 移除的是 mysql 不是 mysqli", "虽然代码写的确实很糟。。。\r", "但是，大部分公司，特别是小公司，代码可能就是这样的吧。。。\r", "大家的代码都写的那么赞的？可能是 v2 上的人技能比较好，所以所处的公司也比较好，代码质量比较高。", "这种狗屎代码你还不重构？", "太惨了", "这代码，我也看不下去了！", "哈哈，这贴可以用来给将来公司挖 PHP 大神", "我以为是科普贴", "如果是十年前的代码我就不说啥了\r", "\r", "不过，这么大一个漏洞，数据库里估计都有脏东西了", "这代码完全看不下去", "sprintf 整合好字符串再一下打印出能好一些吧？这样一个劲的 echo ……", "作为一个业务选手我都看不下去了。。。这就是没有代码安全意识的典范。。。", " 测试了，还是有错误，不显示内容", " \r", "一点一点的 var_dump \r", "看看哪里没返回数据吧 代码看不下去", " 这是一个 git 的开源项目，我最近想移至到 PHP7 上运行，本身不是 phper ，感谢你的帮助", " 看了下你博客的在线工具好像都用不了了", " 你应该早说是 gayhub 上的,我估计好多人都屏蔽你了", " 一个 sqlmapAPI 的项目， webserver 主要是代理和查看数据用，不在外网用，登录无验证，细节不在代码质量和 SQL 注入上，主要是我在搭建 DOCKER images ，想尝试吧 web 部分移植到 PHP7 ， PHP5 是正常的", "最好语言躺枪...", "这个。。。 xdebug 一行行走也能找到了吧。。。。", "久未见惨状，忽然感觉有点亲切", " 他用的 mysqli"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>链接：<a href=\"https://github.com/aogg/docker_lamp\" rel=\"nofollow\">https://github.com/aogg/docker_lamp</a></p>\n<p>个人首个开源项目，求 star ， issues</p>\n<hr>\n<h2>说明</h2>\n<p>这是一个基于 docker 的 LAMP 环境，并利用 PowerShell 提供在 windows 下的个性配置集中管理（其中根目录下的\"<a href=\"https://github.com/aogg/docker_lamp/blob/master/%E5%BC%80%E5%A7%8B.bat\" rel=\"nofollow\">开始.bat</a>\"可一步构建 docker 环境，并可重启所有容器。）</p>\n<h2>使用</h2>\n<ul>\n<li>1 、修改<a href=\"https://github.com/aogg/docker_lamp/blob/master/powerShell/local.ps1\" rel=\"nofollow\">/powerShell/local.ps1</a>文件，\n更多配置设置可在<a href=\"https://github.com/aogg/docker_lamp/blob/master/powerShell/common.ps1\" rel=\"nofollow\">/powerShell/common.ps1</a>中</li>\n<li>2 、配置执行文件的环境变量，可查看<a href=\"https://github.com/aogg/docker_lamp/blob/master/powerShell/command-alias.ps1\" rel=\"nofollow\">/powerShell/command-alias.ps1</a>文件，其中 VBoxManage 在 virtualbox 的 bin 目录下</li>\n<li>3 、双击\"<a href=\"https://github.com/aogg/docker_lamp/blob/master/%E5%BC%80%E5%A7%8B.bat\" rel=\"nofollow\">开始.bat</a>\"</li>\n</ul>\n<p><strong>注意</strong></p>\n<ul>\n<li>1 、如果首次运行\"<a href=\"https://github.com/aogg/docker_lamp/blob/master/%E5%BC%80%E5%A7%8B.bat\" rel=\"nofollow\">开始.bat</a>\"并在创建容器时报错，继续双击运行即可。（首次运行需以管理员身份运行）</li>\n</ul>\n</div></div>"], "reply": "5", "tittle": "分享个人开源工具， 一键部署本地基于 docker 的 LAMP 环境", "comment": ["star+1", " 谢谢，首次发帖终于有人回复了 /(ㄒoㄒ)/~~", "为什么没人顶？？", " 感觉放错栏目了", " 我帮你转了个朋友圈 不知道有没有效果。。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>再给大家推荐一下 phpcd.vim 。这是一个比智能的、轻量的 PHP 代码补全和跳转插件，现已支持 Vim 7.4+（通过 job 和 channel ），而之前只支持 NeoVim. 项目主页 <a href=\"https://github.com/phpvim/phpcd.vim\" rel=\"nofollow\">https://github.com/phpvim/phpcd.vim</a></p>\n</div></div>"], "reply": "2", "tittle": "phpcd.vim 现已支持 VIM 7.4+", "comment": ["PHPCD 目前只能配合 NeoVim 工作，这是一个艰难的抉择。\r", "\r", "最起码应该支持原生 vim 吧", " 我没看仔细,@lvht 说已经支持 vim 了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我们公司许多项目喜欢通过 nginx ssi 指令，在静态页面上通过 include 包含其他静态页面内容，这里其他静态页面就是ssi页面片，是生成的静态文件。</p>\n<p>这种方式是不是很古老，现在还是流行的做法吗？</p>\n<p>按我的理解， WEB 开发框架都提供了路由，控制器，模板，这种页面应该通过读缓存或者查库然后渲染到模板显示。而且这种做法，都是一个个真实的静态页面再去包含 ssi 页面片，动态内容都通过 js 去加载，也没有路由的概念。</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>具体说就是在Nginx开启ssi模块：</p>\n<pre><code>server {  \n        listen  10.3.9.27:80;  \n        server_name  www.tanteng.me;  \n        location / {  \n            ssi on;  \n            ssi_silent_errors on;  \n            ssi_types text/shtml;  \n            index index.shtml;  \n            root /usr/local/web/wwwroot;  \n            expires 30d;  \n            access_log      /data/logs/www.ball.com-access_log main;  \n        }  \n    }\n</code></pre>\n<p>在HTML中通过include包含：</p>\n<pre><code>&lt;!--#include virtual=\"/new/ssi/script.html\"--&gt;\n</code></pre>\n<p>就是这种形式，让静态页面嵌套其他的静态页面。</p>\n</div></div>"], "reply": "2", "tittle": "ssi 页面片是现在还流行的做法吗？", "comment": ["如果没有服务端还是很好用的...", "古老，不灵活，不建议使用。"]},
{"content": ["<div class=\"topic_content\">JetBrains 向您问好！\r<br>\r<br>PhpStorm 2016.2 是 PhpStorm 在今年的第二次更新，现已可下载！\r<br>访问我们的网站了解有关新功能的更多详情: <a target=\"_blank\" href=\"https://www.jetbrains.com/phpstorm/whatsnew/\" rel=\"nofollow\">https://www.jetbrains.com/phpstorm/whatsnew/</a>\r<br>或观看功能介绍视频: <a target=\"_blank\" href=\"http://t.cn/Rt7e1Yv\" rel=\"nofollow\">http://t.cn/Rt7e1Yv</a>\r<br>\r<br>以下是本次发布中一些重要亮点：\r<br>\r<br>● 更佳的 PHP 语言支持：改进类型接口、对 PHP 7 的类型检验更加严格、对 PHP 7 和 PHP 7.1 解析更加完善，并改进对 PHP 7 和更高版本的 getter 和 setter 生成。\r<br>更多关于 PHP 7 支持的介绍请参考本博文: <a target=\"_blank\" href=\"https://blog.jetbrains.com/phpstorm/2016/07/php-7-support-in-phpstorm-2016-2/\" rel=\"nofollow\">https://blog.jetbrains.com/phpstorm/2016/07/php-7-support-in-phpstorm-2016-2/</a>\r<br>\r<br>● 新编辑体验：用于智能完成函数参数的动态实时模版(Dynamic live template)；类的常量值显示在自动完成列表中；可从自动完成列表中筛选出静态方法；智能类型代码完成功能；和对各种 @<a target=\"_blank\" href=\"/member/throws\">throws</a> 的改进。\r<br>@<a target=\"_blank\" href=\"/member/throws\">throws</a> 的改进介绍博文： <a target=\"_blank\" href=\"https://blog.jetbrains.com/phpstorm/2016/07/docblock-improvements-for-throws-in-phpstorm-2016-2/\" rel=\"nofollow\">https://blog.jetbrains.com/phpstorm/2016/07/docblock-improvements-for-throws-in-phpstorm-2016-2/</a>\r<br>\r<br>● 代码质量分析：重新修订了 Unused imports 功能对未使用的命名空间、函数和常量的检查；返回类型(Return type)检查功能；和动态调用静态方法(Dynamic call to static method)检查功能。\r<br>\r<br>● 框架和工具：项目模版、改进对 Joomla! 的支持，和用于 CLI PHP 脚本的 Xdebug On Demand 。\r<br>项目模版介绍博文： <a target=\"_blank\" href=\"https://blog.jetbrains.com/phpstorm/2016/07/project-templates-in-phpstorm-2016-2/\" rel=\"nofollow\">https://blog.jetbrains.com/phpstorm/2016/07/project-templates-in-phpstorm-2016-2/</a>\r<br>\r<br>和往常一样，本次更新提供了针对使用一流网络技术的主要改进，比如：\r<br>● 支持 TypeScript 2.0\r<br>● Angular CLI 和代码片段\r<br>● 可将文件拖放到 HTML\r<br>\r<br>PhpStorm 2016.2 还引用了很多来自 IntelliJ 平台的功能优化，如：改进补丁、新 Git/Mercurial 日志查看器、可为 IDE 设置任何背景图，并支持连体字体。此外，还改进了数据库工具，在此特别感谢我们的 JetBrains DataGrip 。\r<br>\r<br>欲知更多详情，请参阅 PhpStorm 2016.2 最新消息 并下载 适用于您操作系统的安装档。\r<br>\r<br>有兴趣开始使用 PhpStorm 的伙伴们可以参考本次 JetBrains 与 V2EX 合作的优惠活动 (活动期间到 2016 年 7 月 25 日止) : <a target=\"_blank\" href=\"https://www.jetbrains.com/cn/store/toolbox/#product=phpstorm\" rel=\"nofollow\">https://www.jetbrains.com/cn/store/toolbox/#product=phpstorm</a>\r<br>\r<br>如果有任何疑问，欢迎联系 JetBrains 中文销售代表： <a target=\"_blank\" href=\"mailto:sales.cn@jetbrains.com\">sales.cn@jetbrains.com</a></div>"], "reply": "1", "tittle": "PhpStorm 2016.2 版本更新正式发布", "comment": ["支持一下，一直用着 edu 的 license ，等到期了就付费买"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有 C 、 java 、 phthon 基础\n直接学习 php7 么，还是先学习 php5 ，求大神带领</p>\n</div></div>"], "reply": "40", "tittle": "准备学习宇宙最强语言 php，有什么建议么", "comment": ["phthon 是啥玩意？看来最近你是想太多 php 了", " +1", "有 java 和 python 基础学精这两门就好了，还去学 php ？", "有三门 全宇宙最好语言的基础，居然还来问这种脑残的问题。。。。", "php7 和 php5 差的不多，没 python3 、 python2 区别大。直接学 7 即可。多看手册。", "php7 和 php5 语法上没有大变化，只是性能变好了而已。直接学就是了。\r", "\r", "去学 laraval 吧。", " 拼错了", " \r", " 记得 PHP 7 不提供原生 MySQL 支持了。", "宇宙最好的语言不分先学 7 还是 5 ，官方文档看一遍。抛弃的特性(一般来说不会直接抛弃，而是不鼓励，不支持，几个版本后才会真的抛弃)，新增的特性，都会说明。", " 用框架没差别。一个参数的事。", "最近有项目需要快速上手，故来询问，让各位大神见笑了。。", " 额，输入法的自动纠错导致的", " PHP5 早就出 mysql 扩展库的 deprecated 警告了， PHP7 移除毫不意外。就算只用 PHP5 ，用 mysql 扩展也是不负责任的。", "- php5 和 php7 差别不大\r", "- php 手册不离手，至少把 string/array/class/regexp 等核心部分吃透\r", "- 学框架 Laravel ，搭一个简单的博客系统，并把周边的服务都连接一下：\r", "数据库 MySQL 、 PostgreSQL 、 Sqlite 、 MongoDB 等\r", "缓存系统 memcached 、 varnish 、 redis 等\r", "项目部署系统： capistrano ，或 CI ： PHPCI 、 Jenkins\r", "\r", "一步步来吧。。。", "以后打 4 记得按小键盘", " 感谢！", " $符， php 是最有钱的语言，因为代码中到处都有$钱", " 难怪大家都说 php 是最好的语言", " \r", " \r", "2333333333", " 想起了一篇文章，一上来就改了一下这个$ ", " 大哥，其实我英文不大好", " 跟说 jquery 是最好的框架有异曲同工之妙！", " 蛤蛤蛤，笑死我了", " 哈哈哈哈哈哈哈，笑死了", "直接上 codeigniter ，再来一个示例： ", "    :joy:", " ci +100\r", "文档清晰，还有更容易上手的框架不？", " 蛤蛤蛤，一黑黑两", "現在的人覺得編程就是寫網站，說實在，好猥瑣...", " 什么叫原生支持 MySQL 。。。只不过移除了 mysql 这个包而已，如果你想要可以用 mysqli ，否则还是强烈推荐 pdo", "你说你会 C ，那配合 php 很快啊。。函数名字很多都一样，只是 php 内核在外面 guo 了一层。", "讲真，这个“ PHP: The Right Way ”可以说是一个比较受业界认可的最佳实践和入门材料。参考这个不用担心 PHP 技能跑偏。\r", "英文原版： ", "\r", "中文翻译： ", "C 转 PHP 差不多是一瞬间的事情，麻烦的是框架。", "还是学 Ruby 吧..", "《 Modern PHP 》 强烈推荐", "phthon 是啥玩意？看来最近你是想太多 php 了", " php 和 python 的小孩，楼主打算自造语言。", "先看官方手册，熟悉之后直接用好的框架来开发项目，推荐 YII2 和 Laravel 这两个框架。", "加油", "先好好学吧，熟悉后可以用 corethink 框架开发项目， corethink 是基于 tp 的，但功能比 tp 更全", "回复一下"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>[摘要] 用单引号代替双引号来包含字符串，这样做会更快一些。因为 PHP 会在双引号包围的字符串中搜寻变量，单引号则 不会，兄弟连教育 <a href=\"http://www.lampbrother.net\" rel=\"nofollow\">www.lampbrother.net</a> 提醒各位：只有 echo 能这么做，它是一种可以把多个字符串当作参数的“函数”</p>\n<p>1 、如果能将类的方法定义成 static ，就尽量定义成 static ，它的速度会提升将近 4 倍。</p>\n<pre><code>2 、$row[’ id ’] 的速度是$row[id]的 7 倍。\n</code></pre>\n<p>3 、 echo 比 print 快，并且使用 echo 的多重参数(译注：指用逗号而不是句点)代替字符串连接，比如 echo $str1,$str2 。</p>\n<p>4 、在执行 for 循环之前确定最大循环数，不要每循环一次都计算最大值，最好运用 foreach 代替。</p>\n<p>5 、注销那些不用的变量尤其是大数组，以便释放内存。</p>\n<p>6 、尽量避免使用__get ，__set ，__autoload 。</p>\n<p>7 、 require_once()代价昂贵。</p>\n<p>8 、 include 文件时尽量使用绝对路径，因为它避免了 PHP 去 include_path 里查找文件的速度，解析操作系统路径所需的时间会更少。</p>\n<p>9 、如果你想知道脚本开始执行(译注：即服务器端收到客户端请求)的时刻，使用$_SERVER[‘ REQUEST_TIME ’]要好于 time()。</p>\n<p>10 、函数代替正则表达式完成相同功能。</p>\n<p>11 、 str_replace 函数比 preg_replace 函数快，但 strtr 函数的效率是 str_replace 函数的四倍。</p>\n<p>12 、如果一个字符串替换函数，可接受数组或字符作为参数，并且参数长度不太长，那么可以考虑额外写一段替换代码，使得每次传递参数是一个字符，而不是只写一行代码接受数组作为查询和替换的参数。</p>\n<p>13 、使用选择分支语句(译注：即 switch case)好于使用多个 if ， else if 语句。</p>\n<p>14 、用 @屏蔽错误消息的做法非常低效，极其低效。</p>\n<p>15 、打开 apache 的 mod_deflate 模块，可以提高网页的浏览速度。</p>\n<p>16 、数据库连接当使用完毕时应关掉，不要用长连接。</p>\n<p>17 、错误消息代价昂贵。</p>\n<p>18 、在方法中递增局部变量，速度是最快的。几乎与在函数中调用局部变量的速度相当。</p>\n<p>19 、递增一个全局变量要比递增一个局部变量慢 2 倍。</p>\n<p>20 、递增一个对象属性(如：$this-&gt;prop++)要比递增一个局部变量慢 3 倍。</p>\n</div></div>"], "reply": "5", "tittle": "提升 PHP 编程效率的 20 个要素", "comment": ["是我穿越了么?", "能不能不要发这些东西", "这不是面试宝典里的吗。。。。", "第一句就让人无力吐槽，竟然还有人在纠结单引号双引号效率的问题？", "10 年前的“优化指南”了。引擎升级无数次了都。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>WP 站，平时 CPU 负载都在 2 以下，阿里云 8 核 8G ，最近 CPU 负载会突然暴涨到 60 多，上了 cdn 还是一样，重启 php-fpm 负载就立刻下降，这可能是什么原因造成的呢？</p>\n</div></div>"], "reply": "34", "tittle": "WP 网站，最近 CPU 负载会突然暴涨到 60 多，重启 php 负载立刻下降，有可能是什么原因呢", "comment": ["看访问记录，\r", "1.可能是被爬虫了。\r", "2.wp-comments 被持续 spam\r", "3.wp-login.php 被持续暴力破解中，可以参考这个屏蔽机器人： ", "曾经经历过 1 、 2 还有 1 、 2 同时，很酸爽…而且还是虚拟主机的，哈哈！最严重的时候空间被停了一个月将近。最后黑名单掉大量南方 ip 后好了一些。", "看看 是不是 模板文件 或者是插件 里面有哪些可疑的语句 可以先停用所有插件 然后换用默认模板 再确认一下 排除一下", "看 Logs 解决问题！\r", "一、一楼基本说对了，爬虫对网站还是有不小的压力的，量力而行。我曾经用过百度云测，因为云测访问太频繁，服务器受不住（ ", " ）\r", "二、 Spam 开启 WP 内置插件可以解决问题。\r", "三、爆破我补充一点， xmlrpc.php 这个接口也成为爆破常用对象，如果不需要，直接关闭！（ ", " ）\r", "四、 WP 本身就庞大耗资源，加上插件更加。所以不需要的插件别开启，主题写得好也很重要。一定要静态化！！！\r", "五、基础的一些运营技巧不知道楼主处理了没？譬如关闭掉 WP-Cron ，用主机 Cron ，可以省去很多资源。\r", "……\r", "后面求补充。", "解决问题要的是思路。在问题出现时逐个排查可能的原因点。比如，\r", "1 ）统计 web server 的 log ，看是否有爬虫 IP 。\r", "2 ）查看 web server 的 log 看请求的响应时间是什么情况。\r", "3)通过 top 等命令查看 CPU 和内存的具体使用情况。\r", "4 ）如果请求平均耗时长，能否通过优化配置解决，比如增加 php 进程数之类的。\r", "5 ）查看数据库的 log ，是否是慢查询造成的。\r", "6 ）外围的解决不了问题，就分析程序了，可以打些统计耗时的 log 排查一个请求中哪些点会是瓶颈。\r", "7 ） WP 这种不好改了，就像上面那样通过调整设置看看。", "八核八 G 的服务器， WP 站日 IP 得有好几万了吧？如果你有需要，我是专业 WP 开发的，可以给你看一个优化例子。微博扣我。", "wp 真的很怕爬虫，因为我单机 scrapy 就把一个网站爬挂过。。。。", "我不會優化 只有提高配置了 目前是 24H 毒婦 3﹣4W IP", "  我只碰到过一次被攻击 xmlrpc.php ，查日志发现全是那一个 ip 访问 xmlrpc.php 的日志。 iptable 解决。", "静态化了会好很多！", " 我遇到过几次。是的，阿里云可以看的出来，会报警。", "还不放弃 wp 啊...", "ps 输出看下哪些进程吃 cpu ，是不是已经被肉鸡了", " 换 cms 是要讲成本的，新的环境换下来人力物力......", "看 log ，可以看看那个请求造成的~", "我以前用 wp 的话 就是全静态化 消耗内存很小", "最近流量涨了？  大部分瓶颈在 mysql  php 几乎不会出什么问题", "同感，一个月内两次 WP 崩了，需要服务器重启，主要是 Mysql 内存溢出了， VPS 资源有限好容易就崩", "看 access.log 。有没有重复 ip 的请求 如果很多 直接屏蔽掉。", " 是在 php 吧，我的站单个访问全是 php 消耗的， mysql 消耗排在最后。", " 我也是一样提高配置", "  mysql 会影响 php 的", " 我清楚是怎么一回事了，不过我上个缓存基本就 ok 了。感谢指正。", " mysql 丢出去啊。现在云上不都有这服务，我数据库一直都没放在本地，一来上云节省资源，二来分开数据安全。", " WP 一定要静态化缓存，不然 php 消耗玩死你。其实可以上 PHP7", " 我是用 php7+opcache+wp-super cache+memcache 。", "8Core 8GB\r", "这么高的配置……", " Nice~基本到极限了，程序可以再优化下，我也有打算近期转 PHP7", " xmlrpc.php 直接删掉行不？？？我直接删掉了，不知道会不会有什么问题。\r", "\r", "  一个 WP 网站，一直按住键盘上的 F5 ，就把刷挂它。\r", "\r", " \r", " \r", " \r", "\r", "我给 ", " ， ", " 站长优化过 WP ，特别是 ", " ，日 IP1 万 5 ， PV2 万－ 3.5 万，这是保守值，曾经一度 CPU100%，站点在 linode 上，用的 1 核 CPU1G 内存。\r", "\r", "需要 wordpress 优化的，付费找我。", " 直接删掉应该没问题，但是每次更新应该又会填坑，所以还是要 function 上面做下函数关闭。", " 我不更新 WP 程序大版本的，因为更新一次， WP 就更吃 CPU ，服务器资源就会更紧张，目前自个优化了下后台，感觉用着还算舒服。", " 用着舒服就行了，不是版本爱好者，没有大 BUG 就没必要折腾其实。", " 赶快转 PHP7 呀，转了以后，负载更小。\r", "\r", "\r", "有需要做 fastcgi_cache 的，可以找我，目前我已经在用，相当于静态的速度，但会在缓存失效后，自动更新缓存。相当方便。\r", "走过路过的给 ", " 留个 IP ，网站被拔毛， IP 少得可怜。", " PHP7 因为我网站用了太多插件，还不知道兼容不兼容，所以还在犹豫，之后可能会转。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>打算做一个信息查询网站，用户信息我们会提前录入到系统中，用户输入指定的信息（姓名、身份证号）如与数据库信息匹配，自动下发验证码（验证手机号已经提前录入到系统中）给用户，用户填写验证码后可以查看到指定的内容（文字、图片等）。\n不知道有没有现成的 php 程序可以做到这样的效果</p>\n</div></div>"], "reply": "28", "tittle": "想做一个查询网站，但是完全没有思路", "comment": ["找人做一个？", "这个不就是个查分系统么\r", "系统很简单 但是你这个可是有敏感信息的哦 安全不好好做分分钟被爆", "这。。不是 php 最基础的实现吗", "最基础的。。还没思路", " 因为完全没学过 php", " 查分系统。。。。有推荐的么？", "不算 UI ，程序套个框架 30 分钟搞定的东西，还找啥现成的", " +1", "一条短信起码 4 分 5 ，有这个预算吗？", " 有免费的，就是带广告。。", " 请问是哪个网站，谢谢", " 我说的不是网站，是短信服务。。你搜下，具体的名字我不记得了。", " 能支持 API 调用吗", " 肯定有短信方面的预算", " 因为没基础，能不能介绍个相关案例教程我去学习学习呢？", "PHP 基础——>  ", "\r", "数据库框架推荐 Medoo ——>  ", " 谢谢，我去看看", "社工库么?", " 我不知道怎么描述，我觉得是数据信息查询系统", "可以看看 onethink ，直接开发，页面都是现成的", " w3school.com.cn 的教程早已老套。\r", " 要学 PHP 就去官网在线查看或下载文档：\r", "\r", " 那从哪里学习比较好呢？", " 刚才告诉你了，你看楼上的链接就行了。", "思路你不都描述出来了么，为什么说没思路", "先看， 30 分钟入门 PHP\r", "然后就会了", "最基本的增删改查！加接口调用。", "不要求界面的话可以用 onethink 改改，就是自己要写个调用发送短信的接口，还要会改简单的页面，简单的操作数据库这样，应该算很简单的项目", " 教你用 yii2 快速开发网站"]},
{"content": ["<div class=\"topic_content\">Array\r<br>(\r<br>    [0] =&gt; stdClass Object\r<br>        (\r<br>            [id] =&gt; 1\r<br>            [k] =&gt; AppName\r<br>            [v] =&gt; 我是应用名称\r<br>            [notes] =&gt; 应用名称\r<br>        )\r<br>    [1] =&gt; stdClass Object\r<br>        (\r<br>            [id] =&gt; 2\r<br>            [k] =&gt; AppDescription\r<br>            [v] =&gt; 我是应用描述\r<br>            [notes] =&gt; 应用描述\r<br>        )\r<br>    [2] =&gt; stdClass Object\r<br>        (\r<br>            [id] =&gt; 3\r<br>            [k] =&gt; AppVersion\r<br>            [v] =&gt; 0.0.1\r<br>            [notes] =&gt; 应用版本\r<br>        )\r<br>)\r<br>\r<br>如何变为下面这种:\r<br>\r<br>Array\r<br>(\r<br>    [AppName] =&gt; stdClass Object\r<br>        (\r<br>            [id] =&gt; 1\r<br>            [k] =&gt; AppName\r<br>            [v] =&gt; 我是应用名称\r<br>            [notes] =&gt; 应用名称\r<br>        )\r<br>    [AppDescription] =&gt; stdClass Object\r<br>        (\r<br>            [id] =&gt; 2\r<br>            [k] =&gt; AppDescription\r<br>            [v] =&gt; 我是应用描述\r<br>            [notes] =&gt; 应用描述\r<br>        )\r<br>    [AppVersion] =&gt; stdClass Object\r<br>        (\r<br>            [id] =&gt; 3\r<br>            [k] =&gt; AppVersion\r<br>            [v] =&gt; 0.0.1\r<br>            [notes] =&gt; 应用版本\r<br>        )\r<br>)\r<br>请大神赐教</div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>$SqlResult=(<br>\n    [0]=&gt;(stdClass)<br>\n        k-&gt;'AppName',<br>\n        v-&gt;'V2EX',<br>\n        notes-&gt;'应用名称'<br>\n    [1]=&gt;(stdClass)<br>\n        k-&gt;'AppSite',<br>\n        v-&gt;'<a href=\"http://www.v2ex.com/'\" rel=\"nofollow\">http://www.v2ex.com/'</a>,<br>\n        notes-&gt;'应用网站'<br>\n    [2]=&gt;(stdClass)<br>\n        k-&gt;'AppVersion',<br>\n        v-&gt;100,<br>\n        notes-&gt;'应用版本'<br>\n);</p>\n<p>//array_column方法中貌似不能有对象,先转为数组<br>\n$SqlResultArray=json_decode(json_encode($SqlResult),TRUE);</p>\n<p>//用$SqlResultArray的'k'作为键,'v'作为值生成新的键值数组<br>\n$Array=array_column($SqlResultArray,'v','k');</p>\n<p>//输出$Array<br>\nprint_r($Array);</p>\n<p>Array<br>\n(<br>\n    [AppName] =&gt; 'V2EX'<br>\n    [AppSite] =&gt; '<a href=\"http://www.v2ex.com/'\" rel=\"nofollow\">http://www.v2ex.com/'</a><br>\n    [AppVersion] =&gt; 100<br>\n)</p>\n</div></div>"], "reply": "13", "tittle": "php 中如何将数字索引数组改为键名索引数组", "comment": ["10+年没写 PHP 了，我记得有个函数可以用 array A 和 array B 各自的值配对成新数组的", "$newarr = array_combine($arr1,explode(',','AppName,AppDescription,AppVersion'));", "最简单最容易想的方法是循环一下，因为你这个场景数据长度不会太长，循环不会太耗时", "参数写反了，很久没用，无视吧", " \r", "很不幸,我这个只是示例数据,原始数据是数据库内 N 行数据,但希望以某个字段名作为结果索引.", "array_column 和 array_combine 组合用效果很好 @", "function arr2map($arr){\r", "$m = array();\r", "foreach($arr as $o){\r", "$m[$o->k] = $o;\r", "}\r", "return $m;\r", "}", "6 楼的方法好", " \r", "虽然很麻烦,但是精准解决问题了", "别的都好说，没想通数组怎么转 stdClass Object  ", "难道说写个 class 然后拿构造函数绑属性上去吗。。", " json_decode(json_encode($arr))", " (object)$arr", "我是来试一下头像的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>大家有用过吗？</p>\n</div></div>"], "reply": "9", "tittle": "大家知道微擎是基于什么框架的吗？？？？", "comment": ["oneThink 吧， oneThink 就是 thinkphp 上开发的（同一个团队）", "他们应该是自己基于 thinkphp 基础上自己改造的源码...\r", "好多变动了", " \r", " \r", "\r", "感觉架构变化好大啊！每隔不同版本的微擎 里面的结构也不一样！ 这种东西好用吗？", "我们也是做框架的（ ", "\r", "1 、最开始基本没什么限制，随便用，后来越来越火，就强制绑定帐号了 ，安装插件什么的，都检测，作为开发者觉得挺蛋疼。\r", "2 、因为时时刻刻都检测，所以一旦发现盗版，停止任何服务。\r", "3 、微擎的应用商城做的不错，能找到很多功能组件，虽然质量有高有低得自己分辨。\r", "4 、更新稳定，但是各版本之间差距巨大，变换版本困难。", " 不能跨版本...\r", "计划出 0.8 了\r", "然后 0.7 的所有插件不兼容\r", "而且好多插件作者都跑路了\r", "目前最知名的插件人人商城   已经明确表示要自己单独搞出来做了", " 不是不兼容，据不可靠消息微擎的应用商城前阵子被黑了，然后也没有备份，结果就是丢失了所有的模块源码，通知所有开发者重新上传，对外宣称不兼容 0.8 （但是 0.7 的时候就已经不能安装模块了），很多模块作者本身就没备份的那么就只能直接下架了。", " 论备份的重要性。", " 这容易找啊，各大源码论坛都有各种模块的盗版。。。", "5 月挖了十几个高危漏洞，包括 SQL 注入和前台 Getshell ，据我估计不止于此，被黑也正常。\r", " \r", "不过在这一阵子以后，微擎的安全性应该可以上升一个台阶。"]},
{"content": ["<div class=\"topic_content\">在 composer 下对 psr 的功能进行实现，然后在弄一个路由分发请求就差不多了。\r<br>其他的功能都相对独立，没有必要用框架来实现。</div>"], "reply": "17", "tittle": "感觉 php 开发已经逐渐不需要框架了呀", "comment": ["php 不是本来就是写法太自由，用框架来约束吗？", "你需要考虑可维护性。。。。毕竟项目不是你一个人在写。。。。。", "小项目，或者有针对性的项目，可以这样做，如果是大型的项目，有各种功能，还是上大框架！", "php 用框架真是脱裤子放屁的感觉，但是团队开发，没约束不行啊，框架就是用来统一步伐，约束个人的自由散漫的。", "你知道 symfony 吗！", "我个人开发的话连 composer 都用不到，自己封装一下常用的几个类几个功能函数，舒服的不要不要的", "重要的是为了更好地编写测试，单清晰的分层和路由是不够的，需要做的事情还有很多。", "好像 pdo 带了一点 oom 的功能了", "赞同 2 楼", "在 composer 下对 psr 的功能进行实现，然后在弄一个路由分发请求就差不多了。你这不是又一套框架？还是个功能不完整的框架！", "并没有，大型项目在没有 composer 的年代也会写着写着就写成框架。框架只是一个团队在一起工作约定的编程范式。", " 我只想问, 您的头像是不是跟 v2 里面哪个大神冲突了", " 我盗的图，很好用～～", "这种感叹没太大意义啊，架构项目要根据需求和团队来决定。", "中小型项目还是需要框架的，毕竟减少重复编码，节约时间等好处，但我之前做的几个项目用的基于 TP 的程序不过太臃肿了，举个例子：按其中项目最终大小看，自写框架实现同样功能的应用，自写的仅 8M 左右，而使用 TP 则达到 20M 。太多冗余代码， N 多对象链的堆砌，肆无忌惮地花费宝贵的系统资源去做一些和业务无关的事，仅仅为了强制代码的规范化，其实是个花架子。不过最近用的 corethink ，感觉代码质量还蛮高，你可以试试看，开源免费下载的", "项目稍微大一点，不用框架，到最后，你会发现，一个项目，有 1024 种风格的代码。", "框架目前的主流是一堆解耦的组件的集合而已（参考 Rails ， Symfony ）。这些组件都可以单独拿出来用，也可以给其他的框架用。「然后在弄一个路由分发请求就差不多了」，框架中就有对应的组件，你如果觉的你自己造的轮子更优秀，那就自己写也可以。但你发现写到后面这也要写那也要写，最后你把你写的组件集合一下，一个新的框架就诞生了。不过目前的主流的框架都是一群优秀的程序员在维护，闭着眼睛也可以说实现的比你自己写的要好——很多。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>首先把 session.save_handler = user ，注意不是 memcache 。</p>\n<p>然后自定义类 Session 实现 SessionHandlerInterface 接口，创建对象，session_set_save_handler 注册，这样每次比如：</p>\n<p>$_SESSION['aaa'] = '123';</p>\n<p>的时候， php 就会调用通过 Session-&gt;write()，函数中我自己人为往 memcache 中插入 sess- 为前缀， session_id() 为后缀的记录，比如： key = sess-4fqrbhed9f3grq4p4ssbljg867 。</p>\n<p>这时候有个很奇怪的问题，每次我跟着 $_SESSION['aaa'] = '123'; 这条，去 memcache 中取这个 session_id() 对应的数据时都可以获取到，但是删除 $_SESSION['aaa'] = '123'; 之后 memcache 中数据就被自动删掉了。</p>\n</div></div>", "<div class=\"topic_content\">已解决，原因是未实现 SessionHandlerInterface::read()</div>"], "reply": "4", "tittle": "php 实现 memcache 存储 session 的问题", "comment": ["Memcache 不适合做 Session 存储，其作者在 Blog 中申明过这个问题。因为用户会无故被踢下线。", "可以试下用 redis", "我们在用 reids 做 session 存储", "用 Redis 做 session ，改下 PHP.INI 就可以了"]},
{"content": ["<div class=\"topic_content\">在手册中，每个查询完成后，都会关闭连接。那么当有多个数据库操作的时候这样就导致不停的生成与释放连接，是不是不合理?\r<br>\r<br>比如，有一个 a.php ，里面有 20 个函数，分别要实例化 20 个对象，每个对象中都有数据库操作。\r<br>\r<br>那么，有三种方法：\r<br>1.在 20 个对象的每个类中分别获得一个数据库连接，操作完成并关闭。\r<br>2.在 a.php 中获得数据库连接，在每个函数中，把连接传参进去，最终在 a.php 释放。\r<br>3.生成一个静态的数据库连接对象，每个类中调用 ConnectionClass::db\r<br>\r<br>怎么样比较好，请大家讨论讨论。\r<br>\r<br>写在这了，有空请水： <a target=\"_blank\" href=\"https://segmentfault.com/q/1010000006059949\" rel=\"nofollow\">https://segmentfault.com/q/1010000006059949</a>\r<br>\r<br>.</div>"], "reply": "目前尚无回", "tittle": "php 操作数据库的连接与释放怎样做比较好?", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>试例\n$str=\"abcdef\";\necho $str[2];</p>\n<p>result:是 c</p>\n<p>这是一个字符串 为什么能用数组的形式打印出来</p>\n</div></div>"], "reply": "10", "tittle": "关于 php 字符串的问题", "comment": ["php 官方使用手册：\r", "\r", "存取和修改字符串中的字符\r", "字符串中的字符可以通过一个以 0 为开始的，用类似数组结构中的方括号包含对应的数字来查找和修改，比如 $str[42]， 可以把 字符串想像数组 。 \r", "函数 substr() 和  substr_replace()可以用来实现多于一个字符的情况。\r", "   \r", "Note: \r", "    字符串为了同样的目的也可以用花括号，比如  $str{42}，但是， 在 PHP 5.3.0 中不推荐使用这种格式，应该用方括号，就像  $str[42]。", "楼上解释很详细,感觉 php 跟 js 有点像,字符串也相当一个数组对象,能下数组的形式去获取相关数据", "和 C/C++ 类似，字符串就是字符数组（虽然不严谨", "好像大部分语言都这样吧，方便各种字符串操作。", "index 是从 0 开始的  ", "说白了：  ", "abcdef  ", "012345", "每个字符串都是一个无形中的数组", "看上去很奇怪，但是至少很好用", "忘记了被 C 语言支配的恐惧么（手动滑稽", "不知道楼主有木有接触过 C\r", "string 类型在 C 语言中的基础类型是不存在的\r", "C 语言中有 char 类型\r", "你可以简单理解为，一个字符串其实是多个 char 拼接起来的数组\r", "最后， PHP 是 C 写的", "  大神你很牛,我没有接触过 c 谢谢的解答 让我豁然开朗"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>bool imagepng ( resource $image [, string $filename ] )\n</code></pre>\n<p>请问$filename 参数中可否包含路径，或者说如何使得 imagepng()生成的 png 图片保存到自定义路径呢？谢谢各位！</p>\n</div></div>"], "reply": "5", "tittle": "[求助]PHP imagepng()函数如何将 png 图片生成至指定目录？", "comment": ["自己写一下, 测试一下要死啊...", "我想知道代码写出来了吗？你看了函数说明吗？你百度了吗？谷歌了吗？ ok ，看看提问的智慧吧", "只想知道这帖子什么时候删除。", "这也问...", "Should go "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>Zan PHP Framework</h1>\n<p>Zan PHP 是基于 PHP 协程的网络服务框架，提供最简单的方式开发面向 C10K+的高并发 HTTP 服务或 SOA 服务。</p>\n<h2>项目地址</h2>\n<p><a href=\"https://github.com/youzan/zan\" rel=\"nofollow\">Zan On Github</a></p>\n<h2>核心特效</h2>\n<ol>\n<li>基于 <code>yield</code> 实现了独立堆栈的协程</li>\n<li>类似于 Golang 的并发编程模型实现</li>\n<li>基于 swoole 提供非阻塞 I/O 服务</li>\n<li>连接池支持（内置 MySQL 、 Redis 、 syslog 等多种组件）</li>\n<li>类似 Golang 的 defer 机制解决由于异常导致的资源未释放、锁未释放的问题</li>\n<li>可继承的 View 布局及组件化支持，方便完成 bigPipe/bigRender/首屏加载优化等不同的渲染方式</li>\n<li>基于模型驱动的 SQLMap ，实现了 SQL 的快速定位及方便的 sharding 、 cache 支持</li>\n<li>提供类似于 <a href=\"https://github.com/laravel/laravel\" rel=\"nofollow\">Laravel</a> 的 middleware(Filters &amp; Terminators)机制</li>\n<li>Di 及单元测试的良好支持</li>\n<li>良好的服务化对接支持</li>\n</ol>\n<h2>官方文档</h2>\n<p>Zan PHP 的文档仓库地址：<a href=\"https://github.com/youzan/zan-doc/blob/master/zh/SUMMARY.md\" rel=\"nofollow\">zan-doc</a>。目前只有中文的文档，欢迎英语大牛翻译成英文的。</p>\n<p>你也可以在 GitBook 上查看 Zan PHP 的文档 <a href=\"https://agalwood.gitbooks.io/zan-doc/content/zh/\" rel=\"nofollow\">GitBook/zan-doc</a>。</p>\n<h2>常用链接</h2>\n<ul>\n<li><a href=\"https://github.com/youzan/zan-doc\" rel=\"nofollow\">zan-doc</a> - Zan PHP 开发者文档</li>\n<li><a href=\"https://github.com/youzan/zan-installer\" rel=\"nofollow\">zan-installer</a> - Zan PHP 脚手架工具</li>\n<li><a href=\"https://github.com/youzan/zanhttp\" rel=\"nofollow\">zanhttp</a> - Zan PHP HTTP demo</li>\n<li><a href=\"https://github.com/youzan/zan_high_performance_mysql\" rel=\"nofollow\">zan-hign-performance-mysql</a> - Zan PHP 高性能 MySQL 实践</li>\n</ul>\n<h2>开发交流</h2>\n<p>QQ 群： 115728122</p>\n<h2>License</h2>\n<p><a href=\"https://github.com/youzan/zan\" rel=\"nofollow\">Zan PHP 框架</a>基于 <a href=\"https://opensource.org/licenses/Apache-2.0\" rel=\"nofollow\">Apache-2.0 license</a> 进行开源。</p>\n<h2>广告</h2>\n<p>想要来杭州加入我们一起做点牛 x 事儿的，可以私信我。</p>\n</div></div>"], "reply": "30", "tittle": "也许是世界上最好的异步非阻塞 PHP 框架", "comment": ["支持", "youzan 不是做微信集成的吗？\r", "\r", "谈技术的时候，不大喜欢“最好”这个词。。。", "看看", "\"没有最好，只有更好\"", "和 swooler 对比怎么样呢", "支持，赞", "php 是世界上最好的语言 23333", "大门威武", "start", "ZAN 啊", " 用 swoole 的", "前几天好像不是还在招大牛一起完成 zan 这个扩展么？", " 是的，可用不代表完美 还需要不断完善和优化 :)", "这个框架有点像腾讯的 TSF ， yield 之前研究过，比较复杂，暂时还没有理解它的运作模式。", " 可以看下 zan 的实现，没想象中那么复杂", "东半球几个字呢？", "PHP 真的是世界上最好的语言...\r", "\r", "快来一起撸 PHP", "标题违反广告法", "标题违反广告法", "没有最好，只有最差", "支持一下大门", "一言不合就打广告", "youzan?", "看着标题以为楼主想要说 swoole ，没想到啊没想到，原来是用了 swoole", "这个广告真的是打的很厉害啊\r", "前面说要把目前相当不错的 swoole 干下去 然后后面就\r", "基于 swoole 提供非阻塞 I/O 服务  2333", "感觉这个项目的核心开发走了 无赖开源", "东西可以，吹 NB 也行，别吹世界最好行不行。。", "楼主违反了广告法？", "php 硬是搞出了 nodejs 的感觉", "还是推荐 yii2 框架 "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>PHP 是世界上最受欢迎的编程语言之—。最近发布的 PHP7 令这种服务器的编程语言比以前变得更好，更稳定了。</p>\n<p>PHP 被广泛应用于重大的项目。例如 Facebook 就是使用 PHP 来维护和创建它们的内部系统的。 WordPress 使用 PHP 来驱动它的内部构件，得到的回报是超过 59%的网站都在使用 WordPress 作为内容管理系统。目前，有 82%的网站，它们的服务器端使用的编程语言就是 PHP 。</p>\n<p>本文将介绍三种最流行的 PHP 框架： Symfony, Laravel 和 Yii 。将通过三种框架的比较，帮助你选择哪种框架有可能最符合你的需求。</p>\n<p>全文： <a href=\"http://www.cnblogs.com/cherry0327/p/5686126.html\" rel=\"nofollow\">http://www.cnblogs.com/cherry0327/p/5686126.html</a></p>\n</div></div>"], "reply": "63", "tittle": "如何选择 PHP 框架？", "comment": ["Laravel 来一发", "这 TM 是机翻然后在人工稍微修正的吧？不贴原文地址也就算了，这文章写的一坨什么东西？随便摘几个例子（惨不忍睹我没看完）\r", "\r", "『事实上， Laravel 这个最流行的 PHP 框架建立了 Symfony 。』 WTF ？ R U KIDDING ME ？ laravel 基于 symfony 还差不多\r", "『 Yii 也是最快速的 PHP 框架，这归因于慢吞吞的加载技术。』慢吞吞的加载技术带来了最快速的框架？很好很强大。 lazy loading 都不认识么\r", "『模板引擎提供了诸如自动 HTML 转义和过滤功能，并填写由原生 PHP 留下的空白。』原生 PHP 留下的空白是什么鬼？\r", "『例如，原生 PHP 用以下冗长的代码写越狱』 越狱？\r", "。。。\r", "\r", "\r", "这种垃圾文章居然还有人推广，哪怕是出于这种推销自己账号的目的，真是一下子暴露了你们公司的实力要多么的低。。。以至于拿着狗屁不通的文章来给自己增加脸面。。。", "Yii2 用了两年的美男路过~", "symfony+1", "不过确实，文章内容没营养。。。", " ：这位朋友你好，感谢你的指正。我虚心接受批评。刚才我重新看了文章，也把一些翻译有误的地方改过来了。因为我本人不是编程专业，有翻译得不对的地方。请大家多多包涵和指教。有兴趣的朋友，也可以阅读英文原文： ", "其实 phalcon 挺好的，就是还不支持 php7.0", "难道就没有人是用 CI 的？", "我用 TP,管他国产国外的还是排名第几.自己用着顺手就行", "管理员管管？", "Full stack 的选择，首选是 Zend 和 Symfony, 工业级设计，支持最新 PSR ，各部件可以替换，自由搭配。备胎： CI ， Cake ， Laravel ， Yii 。\r", "\r", "轻量的， Slim ， Silex 等。", " 支持，直接用 Github 上的代码编译就行了。", "Laravel +1", "CI +1", "thinkphp", "phalcon +1", "期待 ci4.0 吧， ", " 可以看到，重写了", "PHP 这种结构只适合轻量框架", "一直都是 yaf 喜欢代码都在自己掌控的感觉\r", "框架与我 有个 autoload 简单的路由\r", "其他都自己去实现 觉得更有控制力\r", "有了一定的代码积累量 很多功能直接丢自己封装的类上去就好了\r", "不会有大框架那种很多冗余功能\r", "我喜欢做加法 不喜欢做减法\r", "保证代码冗余最少", " 你错了，\r", " 重要的事再说一遍：\r", "\r", "Full stack 的选择，首选是 Zend 和 Symfony, 工业级设计，支持最新 PSR ，各部件可以替换，自由搭配。备胎： CI ， Cake ， Laravel ， Yii 。 \r", "\r", "轻量的， Slim ， Silex 等。", " 我没错，你错了", " 事实上，如果你想玩设计，也是可以的， 除了不支持对象持久化， oo 方面并没有明显的短板。\r", "\r", "主要还是看你，在不基于 spring 、 bean 之类的框架之外， 自己能否写分层的东西来。", "撸主你确认这是你自己写的嘛.. symfony2 社区国内很不成熟.你文中写的成熟指的是国外的？", "phalcon 只是很多坑爬不出来，国内用的少", " 问题不在语言，而在于 PHP 的运行方式。 Swoole 、 Workman 这些框架毕竟是小众。传统 fcgi 环境下，每个请求都是一个全新的上下文环境，等于每个请求都是冷启动。每个请求都要执行一遍框架的初始化代码，载入或重建上下文环境，框架越复杂，执行效率就越低下。", " ：你好。这篇文章是我翻译的，英文原文： ", "\r", "\r", "因为我不是编程专业的，如翻译有不对的地方，请大家多多指教。上面有一位朋友的评论言词比较激动，但我依然保留他的评论。不过，也希望留言的朋友可以注意一下。互相尊重是交流的基础。\r", "\r", "我也想作一下澄清：\r", "\r", "文章是我翻译的，可能有些专业术语的地方我误理解错误了，这个我以后会努力学习，争取进步。但细心看完文章，有些信息对编程还是有帮助的。推广此文，旨在分享与交流，当然也希望大家可以了解一下 livecoding.tv 这个网站。可能国内访问会有些卡，但我们正在解决这个问题了。至于这个网站是否对大家有帮助，大家可以自己去体验一下，再作评价。也很欢迎大家对友好的态度提出建议，帮助我们提高网站的用户体验。\r", "\r", "再次感谢！", "sy 国外居多， ll 把国内，不过听说 yii 很强大", " 所以就有了这样的项目： ", "CI", " 基于 swoole 跑了一个 fcgi 接口的 server ？有点意思，但是不敢用于生产环境（我连 swoole 都不敢用……", "slim +1", " wokerman （纯 php ，然而还是依赖了一些扩展的）也可以直接拿 php 做 server ，据说性能还不错，然而我也没 /不敢 /没这需求 试过\r", "\r", "\r", "\r", " 那你其实不还是重复造了许多轮子么，我觉得你可以试试看 composer ，它的意义不就在于我们不要上来就堆个框架，而是可以去选择自己想要的组件来自由组合\r", "\r", "\r", "\r", " 你好，我就是你所说的那位『言词比较激动』，但却似乎还得感谢你没有删除我评论（你倒是删删看啊）的那位朋友。在你看来我是不是得先夸上你和你的网站一番，最后再斗胆提出几个问题才算『互相尊重』？\r", "（最重要的事情最先说）说到尊重，首先转载 /翻译别人的文章保留原文出处这么基本的事情你都不懂得做到，更何况 **在原文的下面原作者已经明确使用了『知识共享 署名+相同方式共享 4.0 国际』许可证（ ", " ）**，而毫无疑问你的文章已经违反了。\r", "\r", "至于『但细心看完文章，有些信息对编程还是有帮助的。』这点我实在无法苟同。坦白说原文里有些观点和信息我也认为有些问题，例如『 Yii also is the fastest PHP framework 』『 Blade has zero overhead to application performance because the blade view files are stored in .blade.php extension 』，但你糟糕的翻译使得这篇文章问题更加严重更加难以理解，而术语的翻译错误更是雪上加霜，这不光是是否会让人难以理解文章意思的问题，而是在误导他人。\r", "如果你真的是抱着学习交流的态度，那么我建议你应该在显著地方附上原文地址，和一段小小的文字来说明你可能无法做到翻译准确，同时在翻译有疑问的地方不妨同时保留英文原文。\r", "\r", "最后，编程能力 /经验不足不是错，但既然自己知道还跑出来装（哔——）那就是你的不对了。\r", "（发完这条就 block ，所以不用回我了", " 其实现在 opcache 已经能大幅降低执行的开销了，但问题的核心确实还受限于 fcgi 模式的限制。", " 是的， opcache 治标不治本。大型应用光载入个 route table 就是个很大的开销", "翻译成[慢吞吞],我觉得看了文章的人得来个黑人问号了，还哪里对人有帮助？", "推广请发到推广节点，不要浪费大家的时间。", "我用的 corethink ，个人感觉还不错，开源免费的，你可以百度 corethink 到官网下载看看，希望对你有所帮助", "这文章基本上和那种『 10 个最好的 CSS 框架』，『 20 个最好的 JS 框架』等等文章一个路数，除了骗点击量骗骗小白之外，完全没有参考性。", "thinkphp\r", "\r", "thinkphp\r", "\r", "thinkphp\r", "\r", "重要的事说三遍", " 我", "laravel +1", "用过 cake ，看过 Laravel,目前用尔康,坑挺多的欢迎大家入坑。:手动滑稽", " swoole 的性能很牛逼的, 生产环境使用了 swoole 的 websocket, 虽然刚开始经常 coredump,作者很热心,联系作者能很快的处理 BUG,目前线上非常稳定", " 我还是胆小，等成为业界标准了再说吧", "ci +1", "我认为框架只要提供好几个功能点就足够了\r", "\r", "1. autoload\r", "2. dev/pro 分离（包括 config 自动载入不同目录下）\r", "3. mvc （不需要所谓的 Smarty 等模板引擎， php 语法足够优秀易懂）\r", "4. db/redis/orm （ ORM 可以实现读写分离，锦上添花而已，毕竟有中间层可以更专业的解决这个问题）\r", "5. router\r", "\r", "另外我对一些主流框架（官网提供的最新版）做了性能压测\r", "CodeIgniter 、 yaf 、 yii 、 laravel 、 swoole framework 、 kohana 、 thinkphp\r", "\r", "把框架独立到某目录下，其他项目的入口文件统一读取此目录内的框架资源\r", "controller 中载入 view 并传递 title ， view 中直接 echo $title ，关闭 debug 等其他调试开关\r", "\r", "php7 环境下， 2.5GHZi7 16G 内存\r", "siege -c 500 -t 5s  并发 500 持续 5s\r", "\r", "结果：\r", "yaf 1600>swoole 1400>ci 600>thinkphp 280>kohana 277>yii 205>laravel 76\r", "（自己基于上述的 5 个观点开发的小框架，压测性能达到 1500 ）\r", "\r", "仅供参考。\r", "\r", "详情：\r", " 这个项目确实是 Alpha 阶段，目前不建议用于生产环境，我自己用 PHP7 的 runkit7 的话，会出错的，到时让作者看看。\r", "PHP5 的 pecl 版 runkit 应该没问题（这个扩展目前还不支持 PHP7 ），不知用 Stone Server 能不能在 PHP7 跑，我使用的是 Web 模式。", "翻译得真的是很烂很烂，很多问题，如同上面有人说的，这就等于垃圾营销内容\r", "看了楼主的发帖纪录，全 TMD 是都是推广软文", "为什么没人说 TP5", " 如果你对轻量的定义就是是否能最大限度的利用计算机资源，那我们没在一个层次上讨论问题。 PHP 自然有他独特的适用场景，我们的讨论都是建立在这个场景之上（你要去使用），而不是深挖坟的说哇我不会横向扩容哦。", "Drupal 7  我用的是这个。", "Phalcon 有些东西比如 template engine 功能残缺，最后还是要换专业的来，比如好用的 twig 。\r", "\r", "很多框架大而不全，想用一小部分功能都不行，还是得整个引入；需要的功能没有的时候还是要用其他的\r", "\r", "最后， symfony 大法好，谁用谁知道，不仅天生对接的是领域最优秀好用的组件（比如 twig, doctrine ），而且各个组件都可替换。只是性能不好。", " Laravel 不服（虽然底层还是用了 symfony ）", " Laravel 那模板简直玩具吧= =", " Blade 比 Twig 好用就是了，就算是玩具也非常强大， Twig 能套原生 PHP ？？？ Blade 就能。", " 用原生 PHP 明明是在倒车，那么想用原生 PHP 那还用什么模板 :P", " 玩具的意思是不具有用于工业级项目的严谨性和规范性，和强大没有什么关系。允许 Eval 就可以做任何事情了，某种程度上可以说这很强大，然而这和玩具没什么关系...", " 之前在微信群里跟某人争论过 PHP 原生代码和模板引擎，他反对使用模板引擎，说“你是人，你非要套一层猪皮，说：这才是人” 我竟然无言以对。\r", "如果原生 PHP 这么好就不会有人开发模板引擎了，模板引擎很方便，虽然原生 PHP 也能做到，但模板引擎的目的就是让程序猿写着方便。", "CI 的路过", "目前团队用的 laravel5", "我用的是 corethink ，轻量易上手、代码质量高，官网有免费下载", "果断推荐 yii2 ，快速开发，教程多多，比如 ", " 就是 yii2 写的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>长期以来， web 的安全性存在着巨大的争议与挑战。其中， sql 注入就是一种常见的一种攻击方法，开发人员普遍的做法就是不停的过滤，转义参数，可是我们 php 大法天生弱类型的机制，总是让黑客有机可乘，绕过防御与防御总是在明争暗斗。</p>\n<p>兄弟连（ <a href=\"http://www.lampbrother.net\" rel=\"nofollow\">www.lampbrother.net</a> ） PHP 大牛说过一句话，在一个程序中， 60%的代码都应该是在进行各种防御。</p>\n<p>其实，现在来看，防御 sql 注入其实并不需要进行各种参数过滤，以下将开启干货模式！</p>\n<p>PHP5.x 开始引入了一种新的 mysql 操作方式-----mysqli ，在 php 中也有一项相应的操作方式叫做 PHP 预处理。采用面向对象的方式来进行参数化绑定操作，由于对数据库操作的模式驱动不同，因此可以非常有效的防御 sql 注入。</p>\n<p>首先，我们先来看一段代码例子\nphp 代码：</p>\nprepare($search_sql);//进行预处理操作\n<p>$search_action -&gt;bind_param(\"s\",$keywords);//绑定参数，第一个参数表示为上面预处理的的占位符的数量和每一个参数的数据类型， s 为字符串， i 为整形， d 为双精度小数，有几个参数，就写几个 s 或 d 或 i ，比如说 iiii,ssss,sidi 这样的。然后后面就是有几个参数就写几个要绑定的变量，比如 bind_param('sss',$username,$password,$code);\n$search_action -&gt;bind_result($content);//将结果绑定在相对应的变量上，比如你 select 了 username,password,你就可以写 bind_result($usernmae,$password);\n$search_action -&gt;execute();//执行 sql 操作\nwhile($search_action -&gt;fetch()){\necho $content.'<br>';\n}\n$search_action -&gt;free_result();//释放内存\n$search_action -&gt;close();//结束这个实例化\n?&gt;\n上面是 php 预处理中一个非常简单的例子，它内置的其他函数能很方便我们的开发速度，那么看到这里，很多人可能还是不明白，有人可能想问，你这个绑定参数是不是还是在拼凑 sql 语句？如果是拼凑语句，那还不是会产生注入吗？</p>\n<p>这就要从他的操作原理来解释了，其实它在 prepare 操作中，就已经在数据库中，执行了语句，以后的绑定参数和执行，只不过是再传递数据进去而已，所以根本不会和 sql 语句拼接，也就自然不会将危险代码执行。因此，在这种模式下 sql 注入就能很有效的被防御了。</p>\n<p>在 php 预处理的类中有很多很好用的操作，具体的兄弟连将会在以后的文章中为大家总结一些常用的 php 预处理的开发语句。</p>\n</div></div>"], "reply": "7", "tittle": "PHP 之防御 sql 注入攻击的方式", "comment": ["这年头还在推广用 mysqli ，别误人子弟了好吧。。。", "直接讲 prepare 就好了,PDO 跟 mysqli/mysql 驱动都有这些东西,用什么驱动不是重点,\r", "重点是,prepare 挡不住全部的插入攻击,尤其是 like '%?%' 有用 like 的应该要额外处理.", "用 safemysql\r", "垃圾兄弟连  推广都搞到这了", "呸呸", "mysqli 并不安全，比如 A beteewn B 这个时候还是能进行盲注，最安全的还是编译 sql 语句....", "60%代码在进行防御的能称为大牛？别误人子弟了吧！个人观点 不喜可喷！"]},
{"content": ["<div class=\"topic_content\">刚刚在 tp 群里聊天，聊着聊着，群友看了我的代码说:大流量的网站的话用完 session 的话要清理点 session ！而我百度得知 seesion 过多会增加服务器负载。当流量过大的时候网站就坑了，我找到 tp 的 session 销毁上面是直接使用 unset ！而网上有些说法是 unset 是销毁变量， session_unset 也是！使用完成如果还想要删除文件的话还要 session_destroy();\r<br>我现在也不敢确定 unset 是否可以胜任大流量销毁 session ，所以特来求大牛普及</div>"], "reply": "11", "tittle": "关于 session 文件的销毁！", "comment": ["session 与服务器负载: ", "\r", "unset 与 session_unset 与 session_destroy: ", " 虽然只能看懂个别单词，但还是要谢谢！因为我明天可以用电脑翻译出来", "只能看懂个别单词，英语是有多差。。\r", "\r", "这个可以切换到中文语言。。\r", " 高中混了三年，出门做工人，然后转行做程序", "遥想当年刚学 php ，用户退出用的 session_destroy ，那酸爽。。。", "1 、 session 的负载，在于 session 是以文件形式存储在服务器硬盘上的，众所周知，服务器硬盘都是有最大文件数的，当 session 文件太多，就会达到最大文件数，就出问题了。\r", "2 、清理 session 的话， PHP 底层会有一个自己清理的方法，但是如果文件数很多的话，光找过期的 session 文件就要很久，更何况找到之后还要删除它们。\r", "3 、如果网站访问量大的话， session 建议直接放到 memcache 或者 redis 里面， session 文件只是多，容量很小的。如果嫌弃占内存那就放到 mysql 里面吧。\r", "以上是个人理解的 session 过多给服务器带来的负担。\r", "\r", "session_destroy 是个回收 session 文件的方法，但是很多情况下都是不能 destroy 的。", " \r", " 说出来，让我学习一下，新人求经验", "php session 完全可以使用 redis 来存放，默认过期时间为 1400 秒，过期的 session 会自动被清理掉了", "unset 和 session_unset 按手册说的确实只是释放变量  可以的", "redis/memcache 是最佳选择", " 酸爽何来"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>$sql = 'replace into table(n1,n2,n3) VALUES (?,?,?)';\nDB::statement( $sql, array(1,2,3));\n</code></pre>\n<p>重写 firstOrCreate 方法，感觉不太优雅，求教有没有更好的方法？</p>\n<p>环境限制， Eloquent 4.1</p>\n</div></div>"], "reply": "1", "tittle": "Eloquent 如何优雅的实现 replace into？", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>网上关于静态属性和方法的继承问题，答案千奇百怪，干脆直接代码试了下：</p>\n<pre><code>class Base\n{\n    public static $var = 'var';\n\n    public static function testStaticFun()\n    {\n        echo 'func';\n    }\n}\n\nclass A extends Base\n{\n    public function testSelf()\n    {\n        echo self::$var;\n    }\n\n    public function testParent()\n    {\n        echo parent::$var;\n    }\n\n    public function setSelf()\n    {\n        self::$var = 'self';\n    }\n\n    public function setParent()\n    {\n        parent::$var = 'parent';\n    }\n\n    public static function testStaticFun()\n    {\n        parent::testStaticFun();\n        echo 'over';\n    }\n}\n\n$objA = new A();     \n  \n$objA-&gt;testSelf();    // var\n$objA-&gt;testParent();  // var\n\n$objA-&gt;setSelf();\n$objA-&gt;testSelf();    // self\n$objA-&gt;testParent();  // self\necho Base::$var;      // self\n\n$objA-&gt;setParent();\n$objA-&gt;testSelf();    // parent\n$objA-&gt;testParent();  // parent\necho Base::$var;      // parent\n\nBase::testStaticFun();    // func\nA::testStaticFun();       // func over\n\n</code></pre>\n<p>所以 php 中静态的继承究竟是什么情况？是不是和其他语言比如 java 在静态继承的行为上有区别？继承实现的原理是什么？</p>\n<p>其实遇到这个问题主要是因为解决 model 引用数据库驱动的问题，因为一个业务逻辑下来 model 可能被 new 很多出来（不同的 model ），本来是在 model 基类里的 __construct 调用 DBFactory 工厂类的静态方法返回一个唯一的驱动对象的（比如： DBFactory::getDriverInstance('pdo')）。</p>\n<p>但是感觉多此一举，于是想抛掉这个工厂类，直接让 model 基类来做这个事情，这时候就遇到上面的问题了，如果不用静态直接 model 基类的 __construct new 一个比如 Pdo 对象，虽然 UserModel/PostModel 全局只会有一个，但这两个模型对象都会持有一个 Pdo 对象，并且不是同一个。</p>\n<p>于是想到 model 基类里放一个 static $dbInstance ， model 的 __construct 负责给这个属性赋值，如果说继承类是用的同一个 $dbInstance ，那么我的目标就可以实现了？</p>\n<p>还是说干脆写一个类似 thinkphp 的 M() 方法，只不过我叫 DB()，主要是为了获取数据库驱动对象的，方法里内置 static 变量，这样是 100% 可以的，并且还能通过接收参数临时切换驱动（业务里遇到过 mysql 切 mongo 的场景）。</p>\n<p>但是既然也到静态继承的问题，就想搞个明白！请前辈指教！</p>\n</div></div>"], "reply": "14", "tittle": "php 中 static 属性和方法的继承问题", "comment": ["PHP 的静态类型基本上可以理解为没有继承继承行为，静态属性该类的所有实例共用的。子类除非调用 parent 必须要用 parent ，否则修改就是自身的属性，不会影响父类的属性。如果父类方法中需要修改的是子类的静态属性，要用 static 关键字，而不要用 self ， self 只会修改自身的属性，不会影响子类的属性。", "你的方法是可行的，但是不建议这么做。", " 谢谢~ 那 static 参与继承这种场景一般在什么时候出现？是不是有什么特殊的用途还是说一般不这么用？那上面那个 model 的问题，是不是 factory 是比较正规的解决方法？类似 tp 的 M() 应该也算是类似吧？", "可以看看手册\r", "没见过静态成员参与继承。从生活习惯上也不符合习惯。继承的好处就是，可以通过派生类的一个实例的引用来访问基类成员。\r", "\r", "而静态成员本来就可以用过类名直接访问。何须通过继承来多此一举。", " 我的话，静态成员一般是用来存储这个类中值固定，但又不是常量的值值。比如你的 data model 可能需要保存对应的表结构，这对所有的实例来说都是一样的，不想要每次都访问一遍数据库，就可以在第一个实例创建的时候把数据存储到静态成员上，后续的实例就可以共享这份数据。 我说不建议这么做，是因为 model 不应该知道 DB 的的实例是怎么来的，你只你有我要的接口就行了，否则就耦合在一起了。 Factory 是一种方式，但最好的还是注入进来。", " 有道理！", " 那天还想着翻官方手册来着，没翻到。。。谢谢~", " 谢谢，答的很详细，消化一下~", " 我的 DB() 方法是不是一定程度上算得上是注入？比如 DB('pdo') 取代了我原先在 model 里的 new Pdo();", " 不是, 你的代码仍然依赖了 DB 这个函数, 正确做法是从外部传进来, 比如通过构造器: __construct(PDO $db) 此时依赖的是 PDO 接口, 只是 PDO 没有相关的 interface 定义, 只好依赖这个类型...", " 正好遇到这个问题，哥帮我看下： ", " 最近才收到提醒, 一看已经过去二十几天... Phalcon 的控制反转看起来是 [Service Locator]( ", ") 模式, 不是依赖注入...", " 这个，在研究了 spring 的 BeanFactory 之后基本有头绪了~谢谢"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>现在站点的内容到达了百万的量，突然发现原来基于 like 的站内搜索已经奇慢无比了，在网上搜了一下好像<code>Sphinx</code>是一种可行的方案，但还是有些纠结。希望大家帮忙提供一下思路</p>\n</div></div>"], "reply": "63", "tittle": "站内全文搜索采用什么方案比较快？", "comment": ["xunsearch", "solr", "代码可以参考 phpcms 的 sphinx", "elasticsearch", " 谢谢，我研究一下！", " solr 只是听说过，会不会太重了？", " es 感觉中文分词库没有太好的.....", "用过 Coreseek ，基于 Sphinx ，有索引大小限制： 4G ，超过的话得自己搭分布式。官网最近挂了，但网上还能找到很多资料，用起来难度不大。\r", "\r", "我用的数据源是 MySQL ，索引的字段内容都不大。\r", "\r", "关于使用，我觉得用起来还是挺简单的。用的 PHP 哈。其实代码实现上， XunSearch ， Solr ， Elestic 都差不多。\r", "\r", "关于搜索结果，一看分词。 Coreseek 自带中文分词，我觉得用起来还行（比 XunSearch 自带的好一点）， Apache 系的这俩没正式用过，听说分词效果可以调到不错的样子。二看条件过滤， Coreseek 用起来简直像在用搜索速度快很多的 MySQL 。话说，别的用起来也差不多吧。\r", "\r", "关于资源占用，感觉内存占用不高，与量有关，与实体索引文件对比大约是： 1vs1 。\r", "\r", "\r", "===\r", "\r", "关于搜索的话题，我也仅仅是浅尝辄止，欢迎讨论哈。", " 做科研的人其实整理除了一些不错的中文词库，中科院的 ICTCLAS 之前用过听不错。但是中文新词更新太快，词库根本没法做到百分百覆盖", " 谢谢", "我们用的是阿里云提供的搜索。", "有钱可以用 阿里云 的 OpenSearch", "百万级别直接用数据库的分词搜索足够。 mysql 的 match against   pg 的 ts_query", " 第一次接触，研究一下！", "反代谷歌， site 搜索", " 之前也考虑过使用百度进行搜索，但是感觉定制性较差", " \r", "还好,耗 RAM 大户.\r", "你可以参考它的思想,", "solr+1", "百万这个级别，如果是一般的网站应用，单台 sphinx+redis 毫无压力。\r", "\r", "后面如果还会有爆发到上亿规模，还是老老实实上 es 吧。", "elasticsearch + 1", "elasticsearch + 1", "solr, 或者可以试试 AWS 的 elasticsearch ，但是中国区还不支持。", "搭车问一下繁体中文（台湾）有没有什么好的分词词库，最好直接能拿来搭配 sphinx 的 python api 用的？", "elasticsearch", "elasticsearch + 1", "es+1", "sphinx+1", "mark ，用过 sphinx ，一般", "没人用 hibernate search 吗？\r", "\r", "PS @", " 回复快捷键貌似失效了\r", "ctrl/command+enter  chrome 浏览器", "elasticsearch 好用,非常方便", " 试了一下， mysql 加了全文索引，果然提升很明显！", "mysql 5.7 innodb 支持中文全文索引", "mysql 5.6 就支持全文索引了", "elasticsearch   这个比较靠谱", " 试过 postgres + tsquery （ tsvector ， td_rank ） + gin 索引\r", "\r", "百万级别的文本，内容是小说，没有问题", "elasticsearch + 2", "es", " 好用就行，报个搜索时间？", "es 吧，给你提供的不仅仅是全文检索", "elasticsearch 吧", "用自建的 elasticsearch, ", "中小型网站用 postgresql 自带的 fts 配合中文分词插件就够了", "elasticsearch +1", "千万级 coreseek\r", "更多 elasticsearch", "直接上 Elasticsearch", "  我这个用的 xunsearch", "xunsearch 不需要解决中文分词的问题，我的网站就是用 xunsearch 做的全站搜索 ", " 可以来看看效果", "百万级别难道没人用 PostgreSQL 的全文检索吗？当然，一次性到位的话还是用 ES 靠谱。", "说句 v2 政治不正确的话，我一直觉得 elasticsearch 真的是炒作出来的东西，坑实在太多，我每次用都气的想把我的显示器砸了", " 例如 ES 自己作死加了个 Type....\r", "你遇到什么坑了，说来听听....学习一下", " 为毛不加 Type ？加了 type 好断词吧", "sphinx 挺好用的，文档也全。", " \r", "因为 Lucene 里面没有 Type 这种东西， ElasticSearch 的 Type 实际上是在整个搜索的外层加了个一个 BooleanQuery ，然后把 Type 作为一个 Filter 条件放进去搜索的伪 Type ，另外由于 5_4_x 的 BUG ，会导致性能变差大概 20%（ 5_5 修复了这个问题", " 没用过 lucene ，这样就只好自己写 java 的 lucene 了。比起来还是用 e 吧。", "elasticsearch", "elasticsearch+1", "elasticsearch 不错。但没试过", "elasticsearch 不错， RESTful 的 api ，用着很舒服", "Elasticsearch", "Elasticsearch 面对产品神奇的需求就是个渣渣", "google ", " keyword", " elasticsearch 用的是 Lucene 的引擎，索引用 es 就可以了", "elastic 5.0"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有哪些能够生成随机不重复字符串的算法或者函数？最好是 PHP 中的~~</p>\n</div></div>", "<div class=\"topic_content\">长度最好是在十来位以内啊~~</div>", "<div class=\"topic_content\">附加个具体点的条件，应该尽量在 10 来位以内吧，然后最重要的是不重复，随机的只要看起来找不到规律就行。做那种类似优惠券的编码的~</div>"], "reply": "73", "tittle": "有哪些能够生成随机不重复字符串的算法或者函数？", "comment": ["md5(time())算不算，但是不能保证永不重复，只能说重复的概率非常小", "之前看 tomcat 生产 sessionId 的时候用了函数查看是否重复，没有重复才返回", " 分布式时候重复的概率还蛮大的", "不说长度要求的 都是耍流氓", "#!/bin/bash\r", "echo $RANDOM", " md5(time().随机字符.随机数字) 有多长来多长。", " md5 好像是多对一的。。 还是会重复", "严格意义上讲生成一个「随机」且「不重复」的字符串是不可能的 ... 因为随机和唯一是互斥的两个条件 ...\r", "\r", "生成不重复的字符串必须遵循一定规则 ... 这就不随机 ... 反之则一定存在碰撞概率 ... 只是这个概率或大或小而已 ...\r", "\r", "所以对于标题的问题 ... 答案是一个都没有 ... \r", "\r", "但如果你要的是一个「看似随机」且「没有那么容易重复」的方法的话 ... 那倒是有不少 ...\r", "\r", "比如我个人常用的 uniqid( mt_rand( 0, 9999 ), true ) ... 碰撞条件是同一微秒内的万分之一概率 ...\r", "\r", "或者唯一性要求不那么高的时候常用的在毫秒时间戳外面套一层摘要函数的办法 ... 如 md5( microtime() ) ... \r", "\r", "这种方式生成速度比 uniqid 要快 ... 但碰撞条件不明且碰撞概率一定高于 uniqid ...\r", "\r", "顺带一提楼上说的在时间戳后面增加随机字符串的方式除了拖慢执行之外毫无意义 ... 并不会降低碰撞概率 ...", "如果是 linux 或者 mac 上 试试在命令行直接敲 uuidgen 吧……", "利用 ascii 码自己写一个很简单的吧，重复概率取决于长度", "补上一条 关于 uuid 出现冲突的可能性见 ", "\r", "话说话题是不是可以终结了？", "<?php\r", "\r", "$length = 32;\r", "$crypto_strong = true;\r", "$bytes = openssl_random_pseudo_bytes($length, $crypto_strong);\r", "$hex = bin2hex($bytes);\r", "print_r($hex);", " 这种不适合存在数据库中啊~每次检查一次，如果数据量比较大的话那。。。。", " php 调用系统命令 uuidgen 啊，之后随便怎么处理那些字符串\r", "\r", "<?php\r", "$code = exec('uuidgen');\r", "\r", "echo $code;", "用 100 次鼠标移动位置的坐标生成一个 RSA 1024 的字符串，基本上没什么重复的可能性！", " 用过的可以放内存中(redis),看你怎么取舍了，一般重复的概率是很小的，但是如果你一定要保证不重复，那就要比较了", "为什么...不用...UUID 呢...", "你想要的是 uuid 算法，去看看 uuid v3 ， uuid v5 之类的 RFC 吧", "LZ 要的是随机字符和历史产生的不重复，还是字符串里的字符不重复？\r", "\r", "如果是后者，只算字母数字，最大长度 26+10 位。 LZ 我没说错吧。 py 里可以这样\r", "\r", ">>> ''.join(random.choice('abcdefghijklmnopqrstuvwxyz0123456789') for _ in xrange(10))\r", "'kaz2spd3hy'", " 没看懂代码……请教一下这句代码是什么意思？下划线代表什么，为什么 for 语句可以放在同行，为什么 random.choice('abcdefghijklmnopqrstuvwxyz0123456789') for _ in xrange(10)会报错……", " 好像有的服务器是禁用这些函数的吧~", " OK~", " 好的我试试", "UUID", "妥妥的", " 和历史的~~~", " md5 不是唯一的么，随机字符重复+时间戳重复+随机数字重复基本没可能吧", "分布式大概用机器编码+特征码+时间\r", "\r", "其实用 UUID 不就解决了~", " 基本没可能和绝对没可能是天壤之别 ... 至于 md5 唯一什么的 ... 你运行一下下面代码开开眼 ..?\r", "\r", "<?php\r", "foreach( [ [ '0', '5' ], [ '4', 'd' ] ] as $v )\r", "    echo md5( pack( 'H*',\r", "        '0e306561559aa787d00bc6f70bbdfe3404cf03659e7' . $v[0] .\r", "        '4f8534c00ffb659c4c8740cc942feb2da115a3f415' . $v[1] .\r", "        'cbb8607497386656d7d1f34a42059d78f5a8dd1ef'\r", "        ) ), PHP_EOL;", " 那是 python 语法", "不说长度？\r", "$hash=\"\";\r", "for ($i=1;$i<100;$i++) $hash .= md5(rand(1,999999999));", " 连续做伪随机并不会提高随机性", " \r", "本题要的并不是随机性，有一定的随机度即可，关键是不重复。", " md5(time() + ip + mac)", "拼接，简单的随机+时间戳\r", "\r", "第一时间我想到的是 uuid ，上面有人提到，我就不细说了。", "echo bin2hex(random_bytes($length/2));", " md5(time() 高级黑  \r", "\r", "正确的姿势 uniqid(mt_rand(), true)", "Guid().newID()", "查看“ php 短网址生成程序”的算法就好了", "大部分语言内置的随机生成器，只能保证在一定范围内哈希值不重复，没有绝对随机的生成器。这一点可以参考 Donald Knuth 的 the art of computer programming 第二卷里的内容。", " 👌，我查查看看", "其实我倒有个新思路\r", "大家在上面谈到的都是怎么生成一定概率不重复的随机字符串，这些概率一般都是在单 server 和少量请求的情况下，一旦放到到复杂的架构中，比如 20 台 servers + 10k/s 请求多半都是歇菜\r", "\r", "我想说的是利用一些简单的思路实现 100%不重复的随机字符串，具体如下:\r", "\r", "大家只是把随机字符串妖魔化了，其实 1 ， 2 ， 3 ， 4 ， 5 不就是不重复的随机字符串吗？好吧如果你要随机字符串 md5(1) 就可以实现，或者利用拼接的方法因为你有 unique 的部分即 1, 2, 3, 4, 5\r", "\r", "那么实现方法也很简单\r", "\r", "$topic = new Topic();\r", "//TODO add necessary attributes\r", "\r", "if ($topic->save()) {\r", "    $randString = md5($topic->t_id);\r", "    \r", "    echo $randString;//c20ad4d76fe97759aa27a0c99bff6710\r", "}else{\r", "    //save fail, do sth\r", "}\r", "\r", "demo code 是用 Yii 写的应该能看得懂\r", "\r", "牺牲的是一次数据库写入操作，得到的是一个 unique 的 seed, 这和老实的 order 系统很接近，我唯一做的事情就是把它放到了 RESTful 架构中，真的很好用。\r", "\r", "另外附上我前一阵写的一篇文章，希望对楼主有帮助\r", " md5 长度一定了，重复几率差不多吧？", "function r($len=5){\r", "\t$array=range(chr(33),chr(125));\r", "\tshuffle($array);\r", "\tfor($i=0;$i<$len;$i++)$result.=$array[$i];\r", "\treturn $result;\r", "}\r", "echo r(5);", " md5 码被证实，会有一定机率重复。", " 重复几率小应该就没事吧。", "单机的话，自增 uid+随机字符串\r", "绝对不重复，有一定随机性", "OCaml:\r", "\r", "let random_str length =\r", "    let gen() = match Random.int(26+26+10) with\r", "        n when n < 26 -> int_of_char 'a' + n\r", "      | n when n < 26 + 26 -> int_of_char 'A' + n - 26\r", "      | n -> int_of_char '0' + n - 26 - 26 in\r", "    let gen _ = String.make 1 (char_of_int(gen())) in\r", "    String.concat ~sep:\"\" (Array.to_list (Array.init length ~f:gen))", "忽略我的回复，刚刚才看到是 PHP 节点的", "楼上为啥有这么多重复造轮子的。。而且造的还很烂，根本不符合要求\r", "现成的 UUID ，各个语言都有对应的库，嫌太长也有 short uuid 。", "随机的重要程度和唯一的重要程度哪个更高些？时效有没有要求？", "加上用户 id 就 ok 了", " 唯一是最重要的，但是最好别有规律，例如优惠券编码这样的", "首先如果是无限数量肯定不能同时保证唯一和随机\r", "数量不多的话我倾向于预先生成", "说 md5 的是没考虑性能。。。生成 10 亿给大家看看", "php 肯定是 uniqid 啊，楼上都在想什么 ", "uniqid 也有概率重复，可以一个进程专门生成随机串，插入到队列，需要的时候从队列取", "uuid4", " 高速调用会重复吧", "Des(0) des(1) des(2) ... 保证不重复，并且看似随机。", "twitter 有个库，不过根据其算法，只能保证 x 年内不重复，自己搜吧。", " 分布式同一时间 同一函数，生成的随机数字 /字符 是相同的  所以 后面 拼多少都没有用", "说 MD5 慢的，你咋不上天， 10 亿也是秒级的。", "UUID", "有限長度與不重複不是明顯互斥嗎", " 开眼了, 看了你好多的评论, 你收徒弟么, 请收下我的膝盖, 我不想做那个四年都在做同一件事情的码农.", " OK\r", "\r", " 还可以这样~\r", "\r", " 在不重复的情况下尽量看起来随机吧~", "可以参考 twitter 的 Snowflake 算法", "UUID 吧， 重复概率极小", " 收呀 ... 我一直有琢磨着拉个群讲讲课什么的 ... 但一直没时间来做 ... 过阵子看看吧 ..?\r", "\r", " @", " Snowflake 算法从本身的设计上并没有避免多线程并发时重复生成的问题 ...\r", "\r", " 如果最终你会把内容存在数据库的话 ... 那么给相关字段上唯一索引然后生成随机字符串往里插就是 ...\r", "\r", "只要字符串长度足够就可以完全不用管是否会重复 ... 如果插不进去就重新随机一次再插 ... 直到成功为止 ...", " 真的可以吗? 期待你开课. (别逗我, 我是认真的)", " 这个得 php7", " 那个啥 ... 我决定尝试性的瞎讲一下啦 ... 具体参考 ", " ...", " 真感激，这么久了还记得我。一定来！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在 Gitlab 上的代码仓库，如果是通过 ssh 方式拉取代码，需要在两台机器之间建立 ssh 信任，而通过 WEB 系统（基于 PHP ）操作 git ，也要建立 PHP 进程用户和 Gitlab 机器的 ssh 信任。简而言之，就是两台机器用户之间建立信任很简单，但是 PHP 进程用户也要建立 ssh 信任，这里面遇到一些问题。这涉及到 Linux 用户的概念和权限问题，其实还是对 Linux 不够了解。</p>\n<p>全文： <a href=\"http://blog.tanteng.me/2016/07/php-nobody-ssh-key/\" rel=\"nofollow\">http://blog.tanteng.me/2016/07/php-nobody-ssh-key/</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "给 PHP 进程用户 noboby 创建 ssh-key 并建立信任", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如果你也想为自己网站开发应用程序，可以看看這位开发者的視频。学习一下如何使用 javascript 和 PHP 来建设自己的项目。</p>\n<p><a href=\"https://www.livecoding.tv/trungdq88/\" rel=\"nofollow\">https://www.livecoding.tv/trungdq88/</a></p>\n</div></div>"], "reply": "1", "tittle": "如何使用 javascript 和 PHP 来建设自己网站的应用程序", "comment": ["差评"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在 Laracon US 大会上， Taylor Otwell 关于 Laravel 5.3 新特性做了一个演讲，主要包括以下四部分： Laravel Scout 、 Laravel Passport 、 Laravel Mailable 以及 Laravel Notifications 。</p>\n<p>做了个简单的翻译，想了解的同学请移步： <a href=\"http://9iphp.com/web/laravel/laravel-5-3-recap.html\" rel=\"nofollow\">http://9iphp.com/web/laravel/laravel-5-3-recap.html</a></p>\n</div></div>"], "reply": "9", "tittle": "Laracon US： Laravel 5.3 总结", "comment": ["我只关心什么时候发布（虽然知道就要来了），不过升级可能也要好几天才能搞完。", "symfony+1", "Laravel 要占领世界啦！\r", "\r", "确实好用！", "这玩意太吃资源，压测过一次就不想玩了。\r", "等 phalcon 支持 php7 ！", " 准备把现在的升级？", " 因为还在学习 Laravel ，我的项目还有较多功能没做完，所以现在升级是来得及的。", "C I 表示看看", "  能支持异步吗\r", "现在的业务写队列什么的会有一些延迟，想做成异步提下响应速度", " 重型框架都是这样的，虽然 Laravel 本身可以优化性能，但还是不如用 swoole 扩展提升性能： "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"8501CD4E-2442-44B2-BBA4-965C30C927FF.png\" src=\"https://ooo.0o0.ooo/2016/07/28/5799b81151696.png\"></p>\n</div></div>"], "reply": "1", "tittle": "CentOS 安装 php-gd 时 事务测试出错，怎么处理？", "comment": ["php-\r", "和\r", "php53-\r", "是两套不同的东西\r", "不能混用"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://www.livecoding.tv/jadson/videos/RJbPE-add-user-profile-on-movies-site-with-yii2-2\" rel=\"nofollow\">https://www.livecoding.tv/jadson/videos/RJbPE-add-user-profile-on-movies-site-with-yii2-2</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "使用 PHP 在电影网站上添加用户档案", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>现在有两个数组 一个是一维数组 一个是二维数组 , 二维数组的下标就是一维数组的值,现在的需求是如何根据一维数组的值来排序二维数组</p>\n</div></div>"], "reply": "5", "tittle": "关于 php 数组排序的问题", "comment": ["就是根一维数组的排序来排序二维数组", "定义一个空数组\r", "然后遍历 一维数组  \r", "新数组[ ] = 二数组[ 一的 值]", "```php\r", "$array_a = array(\r", "\t'a',\r", "\t'b',\r", "\t'c',\r", ");\r", "\r", "$array_b = array(\r", "\t'b' => array(),\r", "\t'a' => array(),\r", "\t'c' => array()\r", ");\r", "\r", "$result = array_replace(array_flip($array_a), $array_b);\r", "\r", "var_dump($result);\r", "\r", "```", "<?php\r", "\t$a = ['a', 'e','c'];\r", "\t$b =['a'=>1, 'c'=>2, 'e'=>3];\r", "\tvar_dump(array_merge(array_combine($a, $a),$b));\r", "?>", "  尽量用 php 的函数，这个我也想到了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>common 文件即生成缓存的主文件，在服务器上是 ok 的</p>\n<p>本地也是好的</p>\n<p>但是修改过文件以后，线上直接打一个毫无紧要的回车，前提代码也是 ok 的，</p>\n<p>服务器上第一次读是 ok 的，但是第二次读取缓存的时候就会有问题</p>\n<p>但是放上原来的文件又好了</p>\n<p>现在这个文件就感觉碰不得，一改动就会报错</p>\n<p>这是在 /var/log/nginx 上的报错信息\n2016/07/29 18:17:41 [error] 8780#0: *3159 FastCGI sent in stderr: \"PHP message: PHP Parse error:  syntax error, unexpected 'class' (T_CLASS) in /usr/share/nginx/html/cnapi/dev/App/Textile/Runtime/~runtime.php on line 1\" while reading response header from upstream, client: 000.00.00.00, server: localhost, request: \"GET /cnapi/dev/Public/index.php?s=/member/account/test222 HTTP/1.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"<a href=\"http://000.cn\" rel=\"nofollow\">000.cn</a>\"</p>\n<p>求各位解决方案，多谢</p>\n</div></div>"], "reply": "7", "tittle": "关于 thinkphp3.2 缓存的问题", "comment": ["不明白你的问题是什么，看起来像是缓存文件被你改错了，报了错误\r", "\r", "可以直接把 APP_DEBUG 打开，就不会生成 runtime 文件了", " 是打开？ True?   我是从 TRue 改到 false ，还是有缓存文件", "APP_DEBUG true\r", "\r", "是开启 DEBUG 模式，就不会生成 Runtime 文件", " 可我写 true 还是有，是不是还和其他设置有关？", "只能告诉你大小二字", " 文件大小？", " 还是字符大小？我觉得不会是字符大小的原因诶，我只是加了空格而已"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>今天 Taylor Otwell 在 Laracon US 上就 Laravel 5.3 新特性作了长达 90 分钟的演讲，内容主要包括四个方面： Laravel Scout 、 Laravel Passport 、 Laravel Mailable 和 Laravel Notifications 。下面让我们一睹为快：</p>\n<p>中文版：<a href=\"http://laravelacademy.org/post/5330.html\" rel=\"nofollow\">http://laravelacademy.org/post/5330.html</a></p>\n<p>英文版：<a href=\"https://laravel-news.com/\" rel=\"nofollow\">https://laravel-news.com/</a></p>\n</div></div>"], "reply": "5", "tittle": "Taylor Otwell 在 Laracon US 大会上关于 Laravel 5.3 新特性演讲总结", "comment": ["\"现在离 Laravel 5.3 正式发布的日子越来越近，也就没几天的事了\" —— ", " 7 月 22 日\r", "现在都快 8 月了，我关心什么时候发布，当然要升级的话也要搞几天才能完成。", " 我也在关注 之前说是在 Laracon US 大会期间 总不至于放鸽子吧", " 但愿升级之后现有代码不用做太多改动。", "也就是集成的组件越来越多呗，没啥大的改动。。", "顶顶顶"]},
{"content": ["<div class=\"topic_content\">免费帮忙做 laravel 项目，条件:每天抽十五分钟给我讲讲我不懂的地方（ laravel ）,每天帮忙做半个小时到一个小时的 laravel 项目.最好的实战就是做需求项目，有意者可以聊聊，我只在家远程做做，每天 9 点到家， 7 点上班。</div>"], "reply": "15", "tittle": "求 laravel 实习！", "comment": ["注意，我说的是抽，如果抽不出来就算了，也可以不用给我解惑，我要自己消化", "你倒不如写一个具体的项目，放 Github 让人点评。哪怕就是个简单的 Blog 。前端直接用 Bootstrap 之类的。", "隔壁有 16 年经验的高手带你做 laveral 。", "   是 laravel 不是 laveral", "Laravel 新手路过看热闹", " 我感觉只有需求实战提升的最快", "传送门： ", " ，隔壁在开撕， Java 程序员表示喜闻乐见ʕ•ﻌ•ʔ", " 一个标准的博客系统就是实战了\r", "多用户，文章草稿、发布和版本， wysiwyg ， markdown ，关键字屏蔽，访问权限，邮件提醒和推广群发，搜索， Queue 任务\r", "这些内容写出来，一个人功夫到不到家一目了然", " 还有文件系统等。话说上述的每个功能从简单到复杂，从有漏洞到比较安全代码量都是有数量级的差异的，如果全自己写应该没多少人能到 80 分吧。 session 的加密， jwt 的正确使用，草稿本地存储和服务器的差异，版本冲突， wysiwyg 的 xss ，关键词的高效 filter ， ACL 的粒度，邮件系统的正确配置和队列，站内全文搜索的实现， cache ，文件的 hash 和 image 的处理，后端 api 接口，黑名单小黑屋，开发还得保证各系统模块化，可测试。此外还略去了数据库、运维和部署等。\r", "\r", "当然有这么多好框架和库就是为了快速搭积木用的，不过很多东西还是得自己改自己写。", "自己做项目呗，看源码远好过别人教。\r", "\r", "这样教法，等你这个框架上手了，新的框架又开始流行了。", "隔壁有十六年经验的 laravel 高手免费带 赶紧去吧 23333333333333", " 别人是 laveral 呀 233333", " <br>自己最近在用 laravel 开发自己的实战小项目，发现很多时候写出来的功能只考虑了一切顺利的情况。<br>打个比方，某一个步骤需要存两条数据，而第二条数据是依赖于第一条数据存储成功后生成的 ID 的。<br>如果第一条存入操作成功而第二条失败，则需要将第一条记录删掉保证数据完整性<br>总之都是这种非正常情况，是不是程序异常情况的处理要比正常流程本身的代码多……有点不知道如何系统的去应对这些场合了", " 问下 Laravel 过滤关键词有什么比较好的 packages 或者方法？", " 管理后台更坑，比前台大几倍的量。\r", "数据库的上事务省心，出错了直接回滚。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有一条 pdo 的 insert into 语句，拿出来放到 mysql 执行就 OK ，放到 php 里就不行，求可能的原因。。。</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><ol>\n<li>没有连错库</li>\n<li>把VALUES的值都换成1就可以正常插入</li>\n<li>php没有报错</li>\n<li>代码如下：</li>\n</ol>\n<pre><code>\n$stmt = $dbh-&gt;exec(\"INSERT INTO `crm_ecms_fkdh` (`title`, `newstime`, `titlepic`, `swt_ksfwsj`, `swt_dhlx`, `swt_ip`, `swt_dhly`, `swt_fwly`, `swt_gjc`, `swt_weizhi`, `swt_csjdkf`, `swt_feiyong`, `swt_ccfwwz`, `swt_krsm`) VALUES ('21559', '0', '', '2016/7/19 15:59:57', '极佳对话', '220.115.231.5', 'https://www.baidu.com/s?ie=utf-8&amp;f=8&amp;rsv_bp=0&amp;rsv_idx=1&amp;tn=baidu&amp;wd=%E5%93%88%E5%93%88&amp;rsv_pq=95afcefb001095ac&amp;rsv_t=88b292b1R%2F7n0690mRIzp2BoTqwsTfK5QFKD8INH%2BaftAjE23I2Ni0gTuqk&amp;rqlang=cn&amp;rsv_enter=1&amp;rsv_sug3=5&amp;rsv_sug1=1&amp;rsv_sug7=100&amp;rsv_sug2=0&amp;inputT=1686&amp;rsv_sug4=144368', 'https://www.baidu.com/s?ie=utf-8&amp;f=8&amp;rsv_bp=0&amp;rsv_idx=1&amp;tn=baidu&amp;wd=%E5%93%88%E5%93%88&amp;rsv_pq=95afcefb001095ac&amp;rsv_t=88b292b1R%2F7n0690mRIzp2BoTqwsTfK5QFKD8INH%2BaftAjE23I2Ni0gTuqk&amp;rqlang=cn&amp;rsv_enter=1&amp;rsv_sug3=5&amp;rsv_sug1=1&amp;rsv_sug7=100&amp;rsv_sug2=0&amp;inputT=1686&amp;rsv_sug4=144368', 'https://www.baidu.com/s?ie=utf-8&amp;f=8&amp;rsv_bp=0&amp;rsv_idx=1&amp;tn=baidu&amp;wd=%E5%93%88%E5%93%88&amp;rsv_pq=95afcefb001095ac&amp;rsv_t=88b292b1R%2F7n0690mRIzp2BoTqwsTfK5QFKD8INH%2BaftAjE23I2Ni0gTuqk&amp;rqlang=cn&amp;rsv_enter=1&amp;rsv_sug3=5&amp;rsv_sug1=1&amp;rsv_sug7=100&amp;rsv_sug2=0&amp;inputT=1686&amp;rsv_sug4=144368', '天津市', '21559', '天津市', 'lxb', '医院')\");\n\n\n</code></pre>\n</div></div>", "<div class=\"topic_content\">1. 长度没问题 手动插入长度可以保存\r<br>2. 现在依然没解决。。。</div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>感谢各位V友的鼎力相助，已经解决。</p>\n<p>代码里加入了</p>\n<pre><code>$dbh-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n</code></pre>\n<pre><code>$dbh = new PDO('mysql:host=172.17.0.4;dbname=crm', 'root', 'root',array(PDO::MYSQL_ATTR_INIT_COMMAND =&gt; \"SET NAMES utf8\"));\n</code></pre>\n<p>没有设定编码</p>\n<p><em>my.cnf</em>中将<em>sql_mode</em>的<em>STRICT_TRANS_TABLES</em>删掉，然后重启mysql容器，插入成功。</p>\n</div></div>"], "reply": "50", "tittle": "我被一个简单的 php 搞了 2 天，马上崩溃", "comment": ["我觉得把你的语句贴出来会好一点", "我觉得看看 mysql log ， php log ，环境 log ，比较好", "楼主只是想吐槽几句？我觉得半天搞不定就该拿出来让大家看看。", "转义字符", "问题这样的提法，还是去问医院门口的算命先生比较合适", "我觉得你连错库了....", "单引号和双引号的问题？", "php 有错误提示啊。。。\r", "另外一般小页面用 php 我都直接用 mysql 操作类。。。", "编码问题？", "看一下 pdo 最终生成的 sql 是什么", "log 呢，报错的提示呢。 你需要学学如何提问", "估计是某些非数字类型没有加单引号", " \r", " \r", " \r", " \r", " \r", " \r", " \r", " \r", "PDO 的话，有 warning 就不能成功运行。\r", "你在 MySQL 里运行的时候是不是不是 0 warnings ？", "sql 语句直接 mysql_query 没问题。。。", "用工具比如 HEIDISQL 直接运行这段 SQL 看看错在哪，可能字段类型和长度", "楼主可以一个字段一个字段的替换看看是不是某个字段的问题。\r", "或者先把中文换成 1 ，其它不变。", "每当遇到如此问题都推荐二分排除法把字段替换为 1 ，基本 5 分钟内，解决战斗", " 楼主直接放到 mysql 执行没问题，说明字段类型跟长度都没问题。。。", "手工拼接 sql 的勇士啊……", " 替换成 1 可以插入", " 没办法 不让用 orm", "之前遇到过这样的问题。不过是用 php 连的 mssql 打印出来的 sql 语句直接可以执行，在 php 就是不执行。 是包含汉字的字符集编码的问题 。 不过按道理 mysql 和 php 的话都是 utf-8 应该不会有这样的问题， 你可以看下", " \r", "\r", "没说用 orm 啊\r", "\r", "用 pdo 或者其他的绑定参数的库啊……", "应该是 url 那个值的问题， exec 方法有返回值的呀，判断一下呗，然后打印一下 SQL 和 error 。\r", "\r", "还有用了 PDO 没用参数绑定？", "MYSQL 可以给表名、列名加引号？ 在 MSSQL 里不行", "长度超了么 替换某一个超长的字符串 逐渐减少长度试试", " 把所有字段替换成 1 ，然后一个一个改回正常值 看看哪个字段报错呗\r", "而且 PDO 的 execute 有返回值有错误打印 干吗不用", "这个问题貌似我遇到过 你用的什么框架 exec 这个方法是 php 本身的那个 还是你自定义的？ 估计是 exec 出问题了", " 那不是引号，那是转义符，键盘 1 边上那个，用来规避 MYSQL 本身的保留字。", "把 SQL 语句放到数据库执行一下， 加一句：\r", "show warnings;\r", "SQL 语句;\r", "\r", "看有没有警告，\r", "\r", "如果没有，  那最大可能是那个 url", "这是 PDO 一个超级坑爹的地方……\r", "\r", "加上\r", "$dbh->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\r", "然后你应该就知道哪里有问题了", "pdo 默认会把 单引号转义变成 \\' ，所以会出现在 php 中执行没有结果，但是单独在 mysql 中有效。这个问题前段时间也遇到过，可以去看 mysql 日志就可以看到实际执行语句。", "没错误提示？ 长度问题吧  我猜", " 或者字段类型没对上，看错误", "用 pdo 干嘛还拼接。。", " exec 返回 false", " 长度没问题 字段类型没问题 手动 mysql insert OK", "  呵呵", "报什么错", "echo 出这个 sql 语句,用 echo 的输出再在 mysql 中直接执行", "看看字段设置的长度够不够", "建议把插入的字段删除一些，执行成功后，再把删除的字段加进去，便于精确定位出错的地方", "mysql error 有没有", "开 mysql 的 general_log", "-。- lz 你看一下我说的话，我踩过这个坑。\r", "\r", "你 insert 的 table 里应该有不能为 NULL 的字段但是你 insert 的语句里没有写。", "应该是编码问题，很有可能是那个 url ，实际上一个字段一个字段的替换成 1 执行就知道了", "你把表结构也一起发出来不就很快就帮你搞定了？", "java 有没提交事务这一说", " 把 VALUE 都换成 1 就可以正确插入"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我是 win7 64 位的系统，配好 php 后使用 curl 报错：\nFailed to connect to localhost port 1080: Connection refused\n查了下说是 socket 代理的问题，有谁遇到一样情况的吗？是否有解决方法</p>\n</div></div>", "<div class=\"topic_content\">问题描述的不是很好，抱歉了。\r<br>我使用 php 的 curl 去请求网站时，如 <a target=\"_blank\" href=\"http://www.baidu.com\" rel=\"nofollow\">www.baidu.com</a> 。 curl 返回以上错误。\r<br>我想看下有没人跟我遇到一样的情况的，是否有解决方法？\r<br>ps:该错误只会在 cli 模式发生，浏览器访问是正常的</div>"], "reply": "7", "tittle": "php 使用 curl 报错， Failed to connect to localhost port 1080", "comment": ["《提问的艺术》", "命令行配置代理了？自查一下", "没有 openssl 吧", "代理问题吧， 1080 不是 ss 常用端口么", "你是不是用了 SS 科学上网？关掉再试试看。", "SS 开了全局吧？ ", " ", "感谢上面各位，我试试"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>已经设置</p>\n<pre><code> APP_DEBUG' =&gt; true, // 开启调试模式\n 'TMPL_CACHE_ON' =&gt; false,\n 'SHOW_PAGE_TRACE' =&gt;true, // 显示页面 Trace 信息\n \n 仍然有缓存文件\n \n \n 希望大神帮助，多谢！\n</code></pre>\n</div></div>"], "reply": "7", "tittle": "thinkphp 如何去掉 runtime 缓存文件？", "comment": ["在 index.php 加上\r", "define('NO_CACHE_RUNTIME',True);\r", "试试。就算开启调试。还是会生成核心缓存的", "'TMPL_ENGINE_TYPE' =>'PHP' 好像可以", " 我试过了，还会有缓存生成，我是希望不要有缓存生成", " 也不行", "thinkphp/common/conf/下 conv 什么来着.php 。记不清了。看看缓存相关的", "除非你不用 tp 的模板引擎。这里所谓的关闭编译缓存是指：有了缓存文件，也重新编译，不用以前生成好的。", " ok ，了解了"]},
{"content": ["<div class=\"topic_content\">yii2 avatar 是基于 cropper 的一款头像上传的 yii2 扩展，带图片裁剪功能，且能生成不同尺寸的缩略图，引用方式简单，安装即可立即使用，简单方便。\r<br>\r<br>安装演示： <a target=\"_blank\" href=\"http://www.yii-china.com/post/detail/376.html\" rel=\"nofollow\">http://www.yii-china.com/post/detail/376.html</a>\r<br>github ： <a target=\"_blank\" href=\"https://github.com/org-yii-china/yii2-avatar\" rel=\"nofollow\">https://github.com/org-yii-china/yii2-avatar</a></div>"], "reply": "目前尚无回", "tittle": "yii2 头像上传扩展（ yii2-avatar）", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>近期我要做一次主题是《现代化高性能 PHP 开发的》的技术分享，大家有没有好的建议，欢迎提出来，重点应该讲哪些内容，如果你做技术分享，你觉得应该怎么讲比较好，谢谢！</p>\n<p><img alt=\"技术分享\" src=\"http://ww2.sinaimg.cn/mw690/62669ad9gw1f6cb060k3mj217e0wgqbx.jpg\"></p>\n<p><img alt=\"技术分享\" src=\"http://ww2.sinaimg.cn/mw690/62669ad9gw1f6cb09ek5cj217c0we7de.jpg\"></p>\n<p><img alt=\"技术分享\" src=\"http://ww2.sinaimg.cn/mw690/62669ad9gw1f6cb0celj7j21780wa7hj.jpg\"></p>\n<h3>分享背景</h3>\n<p>因为 PHP 是一门“古老”的语言，而且相当长一段时间没有规范，没有包管理的概念，而且入门简单，加上没有约束， PHP 的程序参差不齐，以至于让很多人产生误解和偏见，但是 PHP 正在重生，命名空间，组件的概念，设计模式， psr 规范等等，让 PHP 变成一门现代化的语言，但是历史原因，很多新的概念和特性，到现在还没有很好的推广，所以做这么一次技术分享。</p>\n</div></div>"], "reply": "68", "tittle": "做一次关于现代化 PHP 的技术分享，大家有没有好的建议", "comment": ["幻灯片只做了几张，内容还在敲定中，准备工作不好做啊！", "感觉第三张太乱了。破坏了整体性。还有那个迅雷是？你在迅雷的公司上班？", " 是有点乱，但想列举这些 logo 出来，怎么排比较好", "看到迅雷两字，先双-5 为敬。想法不错，加油。", " 尽量别给人一种凌乱的感觉，而且用这个主题的话，要注意上下边字体的颜色。第三个幻灯片下面几个图片的字不容易看清楚。", " 为啥双-5", " 恩，这些 logo 都是 png 的背景透明的，也不需要 logo 太清楚，大家熟悉的标志了。", "连 5.5 升级到 5.6 问题一堆，还有什么好说的。", "其实学 symfony ， 大部分的特性就接触的差不多了", "楼主是湖北哪里人?", " Laravel 也是用到了 symfony 的很多组件，学习现代化的 PHP 框架也是一个学习现代化 PHP 的最好方式", " 黄石大冶", "用更现代的框架是了解这些内容的更佳手段，比如 laravel ， slim 。", " 那我可以这样讲，先讲讲这些新特性和概念，然后就给大家讲 Laravel 框架，请求响应，中间件，依赖注入，控制反转，设计模式等等", "感觉最后两个可以删除。\r", "1 现在还是没多少人用\r", "2 现在还是没个讲座都会讲\r", "3 我们又不用 听了也没啥用。", "问下这是啥 ", " ", " fildder windows 下的 http 抓包工具，非常好用。", " \r", "说 fildder 我就知道了", "  HHVM 算现代科技吗，至少在 p7 出来前是（手动滑稽", "就 php 那比凤姐还丑的语法，永远跟性感二字无缘。", " 爱用不用.神经病", " 我说要用了吗？找不到工作的 loser", " 然而人家不跟你比性感 比开发效率", "直接与 Java ， C#的 OOP 比较一下。", " symfony 改变了 PHP 世界。", "php 是世界上最好的语言", " @", " 代码写的好不好，重要的还是在于人， PHP 现在要求更加规范。说话有没有品味，也是因人而异，你不喜欢 PHP 的语法不用就好了。", " Fiddler ，抓包工具", " 也可以在讲 PHP 7 性能的时候提一下", "= = 按照我的思路\r", "1.PSR 规范\r", "   曾经的乱象：什么.inc.php,class.php,大驼峰小驼峰等语法规范上的乱象\r", "   出现后解决了什么问题\r", "   PS:可以在讲 PSR4 的时候讲下 PSR0 ，然后一笔带过命名空间\r", "2.组件化\r", "   解决了什么问题\r", "   然后引入包管理器\r", "3.包管理器 Composer\r", "   与 PEAR 的区别\r", "   与其它语言的包管理,例如 pip,gem,npm 的比较，可以借鉴什么\r", "4.PHP 语法新特性\r", "   语法糖\r", "   面向对象特性上(trait)\r", "   性能上(yield)\r", "5.现代框架的出现\r", "   Yii,symfony,Laravel 为 phper 们带来了开发速度上的提升\r", "   - -Ioc 容器？\r", "   Swoole 在性能上的突破\r", "6.PHP7 以及对 PHP 未来的展望", "感觉这是给非 PHP 程序员做的分享，那我就没什么好说的了", " \r", " \r", " \r", "什么框架，什么规范，都解决不了 in_array ， array_key_exists ， array_map ， array_filter 这些混乱的命名，混乱的参数位置。然而用什么框架， php 内置的这些函数还是躲不过的，否则也失去了 php 快糙猛的优势。\r", "更不用说满屏的->和$符号。\r", "php 对于企业是最好不过的选择，但对于程序员，特别是对美感有追求的程序员，是价值观上的虐待。\r", "\r", "用 php 写程序，就像跟一个语无伦次的人谈话，他摧毁你的逻辑，把你本来清晰的思维往阴沟里带。", "如果现实中，同事向你征求 PHP 演讲的建议时，不知道你会不会：任何建议也不提，光是满嘴跑火车地将 PHP 贬低一番。\r", "我觉得网络上发表言论，应该和现实中是差不多的，最起码尊重一下你的说话对象。\r", "别人向你征求建议，如果你实在没有，就婉拒。\r", "纵使你的观点、言论再有道理，若是不分场合的说，都是垃圾话。", "  然而你不用就是了，我用了那么多时间 PHP ，也用过 Python 跟 Java 。也没发现用 PHP 多丢人。\r", "= = 而且我们是谈论 PHP 的发展，这是主题，你在这边喋喋不休的说 PHP 垃圾，我觉得你的出现就跟一锅粥里面的老鼠屎一样。\r", "而且很抱歉，从你以上的言论，我能感受到得你本身的人品也不咋样。", " 其实就是人品差，不会提出任何建设性意见，只会乱喷。", " 凤姐曰，我貌丑，你心丑", "Modern PHP", " 以其昏昏 使人昭昭", "我说怎么看不到 @", "  的回复，原来之前已经 block 了，特别赞同 @", "  说的，不分场合地喷，除了能满足自己，没留下一点价值", " 小弟不才，想看看哥哥“逻辑没被摧毁，思维清晰”的代码学习下可以么？ （可以是任意语言）", "这成了引战贴了，我来发一个 java 是最好的语言，没有之一", " 666 投赞成票！", " +1s", " 耍大刀的笑话舞剑的，国人就喜欢贬低别人，以其抬高自己啊～ \r", "我等只是用这些工具来挣钱的，能说起子不如扳手吗！  我们更没有什么贡献，大多数的贡献是国外友人， 我自觉没有什么脸面说这个或者哪个不好。", " 拙匠怪刀钝", "\r", "\r", "供品鉴", " 我可以先讲讲 PHP 哪些现代化的模式和概念，接着就以 Laravel 框架为例子，讲讲其中用到的新技术", " 谢谢你的建议，很好！", " 这怎么是给非 PHP 程序员做的分享呢，这些都是 PHP 要用到的", " 有本书叫《 Modern PHP 》，可以很好的借鉴！", " 那张看上去很乱的幻灯片，我改成用表格的形式了，看上去好多了。 ", "存在就是理由、 php 没什么不好的。\r", "\r", "喷之前、先想想自己贡献了多少代码、思考了多少。任何语言都有软肋、你可以改进、就如 typescript,一味的指责是没有任何意义的。\r", "\r", "这行业尊重有所贡献的人。", "现在还在说什么语言好什么语言不好的，我认为都是初学者水平，每个语言都有他适用的场景，你喜欢哪门语言是你自己的自由，你没有资格去评判别人或者鄙视其他语言。\r", "\r", "在一个大型应用中，往往要用到好多种语言，就拿 PHP 来说，前期项目用它作为后端服务都没问题，但是随着并发量大了，可能部分需要 java 来实现，做成服务化接口， PHP 来调用， PHP 的灵活和开发效率是他的优势，而很多情况，一个完整的系统还包含 python 的脚本在运行， Redis 做缓存，我们的项目还用到 lua ，数据库一般都是 MySQL ，后端服务是 java ，还可能是 C++，前端还有 js 工程师支持，这才是一个完整的项目它包含各种语言。\r", "\r", "在大的互联网公司， PHP 是属于前端，这个前端就是广义的前端了，比如页面，还有后台系统，都是 PHP 做，后端指的是服务接口，可能是 python ，或者 lua ，总之是 HTTP 协议的，给 PHP 调用实现功能。\r", "\r", "你说你去讨论哪个语言好，哪个语言不好，是一个没有意义的事情，发挥各自的所长，而且 PHP 不只是 PHP 一门语言而已，一个高级的 PHP ，他需要掌握的东西远远不止 PHP 本身。", " 哈哈，我也是看不到，原来也是 block 了", "过一遍 modern php ，找几章有意思的内容讲一下", "不知道为啥看到迅雷两个字就不想看正帖了。。\r", "\r", "不管怎样，楼主加油", " 对，这本书就是讲现代化 PHP 开发的，再结合 Laravel 框架具体讲", "楼主内部分享完可否在 v 站共享下 ppt 呢", " 好的，没问题", " 同求分享 keynote", " 不过 php 只能做前端么？性能真的不行么？", " 从性能角度说， C ， C++， JAVA 编译型语言，肯定比 PHP 快得多，而 WEB 开发本身不需要太高的性能，注重性能的用其他技术做，比如 Redis ，调服务接口等等， PHP 注重业务逻辑处理，开发效率快。", " 点赞。。 那个臭 sb", " 那为何， php 只做前端呢？做后端不行么？", " 你可以用 PHP 的 swoole 扩展。", " 已经在用了，就是做数据库接口， qps 比起不用的要高 3-5 倍， swoole 确实一个好东西，只不过现在生产环境还没上线，实际运行会不会有坑", " swoole 经过很多大型项目的验证了，相当稳定高效。", " 恩，原来如此，我刚刚接触的项目用这个，所以我还不确定这个东西有没有坑。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>explain select `id` from `ao_articles` where (select count(*) from `ao_articles_tags` inner join `ao_articles_relationships` on `ao_articles_tags`.`id` = `ao_articles_relationships`.`tag_id` where `ao_articles_relationships`.`cid` = `ao_articles`.`id` and `id` in (1,2,3,4,5)) &gt;= 1 limit 10000\n</code></pre>\n<p><img alt=\"\" src=\"http://i.imgur.com/A94QdlF.png\"></p>\n<p>应该已经添加索引，为什么还会扫描全表？</p>\n</div></div>", "<div class=\"topic_content\">上面是 Eloquent 自动生成的 join ，使用构造器重写效率提高\r<br>\r<br>```mysql\r<br>DB::table('articles')\r<br>                -&gt;join('articles_relationships', 'articles_relationships.cid', '=', 'articles.id')\r<br>                -&gt;join('articles_tags', 'articles_relationships.tag_id', '=', 'articles_tags.id')\r<br>                -&gt;select('articles.id')\r<br>                -&gt;whereIn('articles_tags.id', [1,2,3])\r<br>                -&gt;lists('id');\r<br>```</div>"], "reply": "2", "tittle": "mysql 语句，球分析", "comment": ["我一直没搞明白索引。。。帮不了忙~", "count(*) 是全表扫描,自己百度下一目了然~"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Array\n(\n[0] =&gt; Array\n(\n[id] =&gt; 1\n[name] =&gt; --A\n[parent_id] =&gt; 0\n[children] =&gt; Array\n(\n[3] =&gt; Array\n(\n[id] =&gt; 3\n[name] =&gt; ----a\n[parent_id] =&gt; 1\n[level] =&gt; 2\n[children] =&gt; Array\n(\n[4] =&gt; Array\n(\n[id] =&gt; 4\n[name] =&gt; ------aa\n[parent_id] =&gt; 3\n[level] =&gt; 3\n[children] =&gt; Array\n(\n[6] =&gt; Array\n(\n[id] =&gt; 6\n[name] =&gt; --------aaa\n[parent_id] =&gt; 4\n[level] =&gt; 4\n[children] =&gt; Array\n(\n)</p>\n<pre><code>                                                    )\n\n                                            )\n\n                                    )\n\n                            )\n\n                    )\n\n            )\n\n    )\n\n[1] =&gt; Array\n    (\n        [id] =&gt; 2\n        [name] =&gt; --B\n        [parent_id] =&gt; 0\n        [children] =&gt; Array\n            (\n                [5] =&gt; Array\n                    (\n                        [id] =&gt; 5\n                        [name] =&gt; ----b\n                        [parent_id] =&gt; 2\n                        [level] =&gt; 2\n                        [children] =&gt; Array\n                            (\n                            )\n\n                    )\n\n            )\n\n    )\n</code></pre>\n<p>)</p>\n</div></div>"], "reply": "3", "tittle": "一个无限分类的数组能不能组合成一个 list 的二维数组,我好做循环", "comment": ["Array\r", "(\r", "    [0] => Array\r", "        (\r", "            [id] => 1\r", "            [name] => --A\r", "            [parent_id] => 0\r", "            [children] => Array\r", "                (\r", "                    [3] => Array\r", "                        (\r", "                            [id] => 3\r", "                            [name] => ----a\r", "                            [parent_id] => 1\r", "                            [level] => 2\r", "                            [children] => Array\r", "                                (\r", "                                    [4] => Array\r", "                                        (\r", "                                            [id] => 4\r", "                                            [name] => ------aa\r", "                                            [parent_id] => 3\r", "                                            [level] => 3\r", "                                            [children] => Array\r", "                                                (\r", "                                                    [6] => Array\r", "                                                        (\r", "                                                            [id] => 6\r", "                                                            [name] => --------aaa\r", "                                                            [parent_id] => 4\r", "                                                            [level] => 4\r", "                                                            [children] => Array\r", "                                                                (\r", "                                                                )\r", "\r", "                                                        )\r", "\r", "                                                )\r", "\r", "                                        )\r", "\r", "                                )\r", "\r", "                        )\r", "\r", "                )\r", "\r", "        )\r", "\r", "    [1] => Array\r", "        (\r", "            [id] => 2\r", "            [name] => --B\r", "            [parent_id] => 0\r", "            [children] => Array\r", "                (\r", "                    [5] => Array\r", "                        (\r", "                            [id] => 5\r", "                            [name] => ----b\r", "                            [parent_id] => 2\r", "                            [level] => 2\r", "                            [children] => Array\r", "                                (\r", "                                )\r", "\r", "                        )\r", "\r", "                )\r", "\r", "        )\r", "\r", ")", "能", "foreach 然后递归不就可以了吗"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有兴趣的朋友可以看看这个程序员的视频： <a href=\"https://www.livecoding.tv/supitto/videos/vaLdD-making-the-api-and-the-database-for-a-project\" rel=\"nofollow\">https://www.livecoding.tv/supitto/videos/vaLdD-making-the-api-and-the-database-for-a-project</a></p>\n</div></div>"], "reply": "2", "tittle": "如何使用 PHP 为一个项目创建 API 和数据库", "comment": ["打不开啊", " : 使用 VPN 能打开吗？我这边是可以看到的。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>比如  action 页面\n$this-&gt;assign(\"temp\", 111);</p>\n&lt;iframe&gt;\n这块区域里无法调用到这个变量  {$temp}\n&lt;/iframe&gt;\n但是实际上打印出是有的\n<p>请问这种情况怎么办？</p>\n</div></div>"], "reply": "9", "tittle": "是不是 Iframe 里不能调用 Tp 框架里的模板标签？？？", "comment": ["你应该在 iframe src 里的那个页面输出 而不是 action 页面里", " 你说的 action 是指 iframe 页面的那个 action 还是 写 iframe 标签的 html 对应的 action\r", "\r", "我是写在 iframe  src 对应的页面的，但是没有反应，当字符串输出了现在", "你可以直接打开 src 对应的页面  看一看是不是字符串输出  然后找找原因", " 直接打开是可以有变量的，但是在 iframe 里， src 调用这个页面，就显示不了了", "iframe 调用跟 php 的输出也扯不上关系啊\r", "\r", "有代码吗  这么说没办法定位问题", "你这里有两个 url ,一个是 A ， A 中通过 iframe 嵌入 B 。\r", "假设你是 MVC 模式，那么 B 的 V 里边要显示的数据需要 B 的 C 来准备，而不应该由 A 来准备。", " 好吧，已经解决了，可能是上一个版本哪里写错了，导致了所有模板都无法输出，现在换了一个环境好了", "那你 之前直接打开 是怎么有变量的!\r", "能解决就好", " 是的，我是 b 来准备的，只是之前环境除了问题，没发现出来"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>数组一:</p>\n<p>array:4 [\n16 =&gt; array:2 [\n\"id\" =&gt; 16\n\"sex\" =&gt; \"aa\"\n]\n19 =&gt; array:2 [\n\"id\" =&gt; 19\n\"sex\" =&gt; \"ad\"\n]\n26 =&gt; array:2 [\n\"id\" =&gt; 26\n\"sex\" =&gt; \"jk\"\n]\n28 =&gt; array:2 [\n\"id\" =&gt; 28\n\"sex\" =&gt; \"gg\"\n]\n]</p>\n<p>数组二:</p>\n<p>array:4 [\n16 =&gt; array:2 [\n\"id\" =&gt; 16\n\"feel\" =&gt; \"1\"\n]\n19 =&gt; array:2 [\n\"id\" =&gt; 19\n\"feel\" =&gt; \"2\"\n]\n26 =&gt; array:2 [\n\"id\" =&gt; 26\n\"feel\" =&gt; \"3\"\n]\n28 =&gt; array:2 [\n\"id\" =&gt; 28\n\"feel\" =&gt; \"4\"\n]\n]</p>\n<p>怎么样才能合并成一个如下的数组</p>\n<p>array:4 [\n16 =&gt; array:2 [\n\"id\" =&gt; 16\n\"sex\" =&gt; \"aa\"\n\"feel\" =&gt; \"1\"\n]\n19 =&gt; array:2 [\n\"id\" =&gt; 19\n\"sex\" =&gt; \"ad\"\n\"feel\" =&gt; \"2\"\n]\n26 =&gt; array:2 [\n\"id\" =&gt; 26\n\"sex\" =&gt; \"jk\"\n\"feel\" =&gt; \"3\"\n]\n28 =&gt; array:2 [\n\"id\" =&gt; 28\n\"sex\" =&gt; \"gg\"\n\"feel\" =&gt; \"4\"\n]\n]</p>\n<p>我用 array_map(\"array_merge_recursive\",$arr1,$arr2),觉无奈有重复,用 unset 后 id 又没了,求指导</p>\n</div></div>"], "reply": "3", "tittle": "问个数组合并的问题", "comment": ["非要用内置函数么？手动写算法合并一下多好", "function smerge($a1, $a2){\r", "  foreach ($a1 as $key => $value) {\r", "    if(array_key_exists($key, $a2) && is_array($a2[$key])){\r", "      $a1[$key] = $a1[$key] + $a2[$key];\r", "    }\r", "  }\r", "  return $a1;\r", "}\r", "其他限制条件一概没考虑", "哥，咱能不能用 md 形式？"]},
{"content": "", "reply": "3", "tittle": "php 有哪些图像处理拓展，易于集成。", "comment": ["gd imagic", "內帶 GD,\r", "可直接呼叫\r", "imagemagick graphicsmagick 的執行檔,但安全性要考慮."]},
{"content": ["<div class=\"topic_content\">在百度上搜索相关 php-cgi 的漏洞介绍如下：\r<br>php.cgi 2.0beta10 或更早版本中，允许 anyone 以 HTTP 管理员身份读系统文件，在浏览器中输入： \r<br><a target=\"_blank\" href=\"http://boogered.system.com/cgi-bin/php.cgi?/etc/passwd\" rel=\"nofollow\">http://boogered.system.com/cgi-bin/php.cgi?/etc/passwd</a> 即可直接查看文件内容\r<br>\r<br>因为一些原因 需求关于“ PHP-CGI 解析漏洞利用”的相关知识点\r<br>以及实例验证 请求大触帮忙求解：\r<br>有相关实例请求共享下 谢谢\r<br>“ php.cgi 2.0beta10 或更早版本”这个版本的环境如何搭建？\r<br>\r<br>不胜感激</div>"], "reply": "6", "tittle": "关于 PHP-CGI 解析漏洞利用的问题", "comment": ["这版本都淘汰了十年了吧？", "估计找人给你搭一套 php 2.0beta 的环境 搞过这个任务的人的每小时的工钱基本都超过 1000 元了", "  + - 这好方 老师让我写这个实训指导书 这该怎么写", " 苦逼学校版本落后几十年", "你还不如搞个破壳漏洞，还容易实现点……", " 让这老师滚吧"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>只卖一个产品,包含支付,物流,订单管理,后台等基础的功能.\n这种需求应该怎么实现?以前没有接触过电商方面的开发,很担心的是安全问题.</p>\n</div></div>"], "reply": "18", "tittle": "公司网站要加一个卖产品的功能,", "comment": ["淘宝不好吗", "同楼上，加个链接跳淘宝", "淘宝正解", " \r", " \r", " \r", "上淘宝的话就必须要上天猫,天猫太贵了,而且账期等比较高", "二次开发，可以用支付宝接口，但网站数据如果被破了，订单信息的安全是难免的", " 二次开发是基于什么开发?其实开发这些功能很简单.最关键的就是安全.没做过这方面,不知道怎么弄.", "淘宝的流量费有多贵 1-3L 了解么。。。\r", "\r", "PHP 的话各种开源 cart 要不然 wordpress+woocommerce 也搞得定\r", "\r", "安全的话 你要不直接用各家的电商云解决方案?", " 1~3L 想法是导流......\r", "\r", "相比你用个开源的省事多了..", " 前期省事 不代表后面运营起来也省事 （是先省事还是后省事的比较） -.-", " \r", " \r", "天猫店主要是....至少 20 多 w,而且产品不会上淘宝的.", "让 pm 好好想想是否需要这功能再说吧，我之前就有过上了购物功能，结果流量为 0 的情况。一些公司的网站本来就没人看，电商就更没卵用了。\r", "\r", "当然如果硬需求当我啥都没说。", "自家的产品，而且就一款，用得着搞得跟淘宝一样的模式吗？", "只为了一个产品，重新开发一套电商基础，还要考虑支付安全，接入第三方还是要被收手续费，感觉产品被门夹了吧", "可以试试友好速搭那种比较轻量的", "要不学 v 站里卖咖啡那家在微信开微商城？虽然微信提现的手续费有点贵", "\r", "他们该给我广告费(๑´ڡ`๑)", "包给我吧……\r", "2333333333", "我操 友好速搭 碉堡了  立马可以抛弃有赞那些了！！！！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>按照网上的配置对 vagrant 做好配置之后，在虚拟机上面做了环境的搭建， php 使用的是 7.0 版本。\n配置完重启后，通过虚拟机的 ip 访问为什么使用的是我本地的 php 版本 5.4 ？</p>\n</div></div>"], "reply": "8", "tittle": "vagrant 启动后，通过虚拟机 ip 访问的怎么是本地的环境", "comment": ["网卡改桥接", "我试试看", "是直接在 virtualBox 上改网卡吗\r", "Y\r", "改桥接就相当于虚拟机是局域网的另一台机了", " 也就是改成 config.vm.network \"public_network\", ip: \"192.168.1.120\"  这种模式了？", " \r", "我没用过命令行，跟宿主机同一个网段，网关相同", " 他说的是 Vagrantfile 配置吧", " 恩，是 vagrant 的配置，配置完启动成功，但通过配置的 ip 去访问虚拟机总是访问到宿主机的环境不是虚拟机的环境，知道是什么原因导致的吗？\r", "我的配置是这样的 web.vm.network :private_network, ip: \"192.168.33.10\"\r", "可以 ping 通，但是通过这个 ip 去访问确访问到本机环境"]},
{"content": ["<div class=\"topic_content\">如题，想做个后台。通过 php 自动添加域名解析到相应位置</div>"], "reply": "17", "tittle": "php 怎么做域名解析？", "comment": ["use dnspod 、 cloudxns Api", " 如果说创建虚拟主机，就是配置服务器的域名解析", "个人在用 dnspod 。\r", "虚拟主机直接泛域名嘛。。\r", "reg.moe.hn", " 有没有这种域名解析源码？", "他说的是一个 php 路由根据域名转发的意思吧", " \r", " 比如说，我在线上配置一个网站，给他指定一个域名，在域名解析那边好搞定， dnspod 有接口，但是在服务器那边指定虚拟主机这块我不怎么会", " 这个是在 apache 或者 nginx 里配置的。", "apache 的话应该是 virtualhost\r", "nginx 的话配置文件写好 servername", "你这是服务器配置吧，更 PHP 什么关系", "如果要动态进行相关的操作，不重启 apache 或者 nginx 的话，可以通过 url 来判断来源网站，然后转发到不同的 Controller 中。可以参考一下 Laravel 中的路由，是支持根据域名来区分不同的来源的。", " 自己写的...", "对啊\r", " ，想借鉴 laravel 的，无奈╮（╯＿╰）╭，", " \r", " 想做动态的配置。就是在网站的后台写创建。然后创建一个虚拟机", "他是想做虚拟主机管理面板和域名管理面板", " 嗯嗯是的，请问您知道吗😳", " directadmin plesk kloxo virtualmin cpanel ..这么多，你想要哪个呢？我不会写 PHP 。只会写一些简单 bash 脚本。", " 可惜可惜。。太多域名放在那儿没用，想弄个解析的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>用什么办法可以实现 域名 <a href=\"http://www.abc.com\" rel=\"nofollow\">www.abc.com</a> 跳转一个每次刷新都不一样的域名。\n比如 <a href=\"http://www.abc.com\" rel=\"nofollow\">www.abc.com</a> 跳转 <a href=\"http://1.com\" rel=\"nofollow\">1.com</a>   刷新后就 <a href=\"http://2.com\" rel=\"nofollow\">2.com</a>  刷新后就 <a href=\"http://3.com\" rel=\"nofollow\">3.com</a>  然后 <a href=\"http://1-100.com\" rel=\"nofollow\">1-100.com</a>\n用什么方式能做到。</p>\n</div></div>"], "reply": "16", "tittle": "关于 url 刷新跳转的方式", "comment": ["这个需求好奇怪，能再讲明白一点嘛？\r", "可以试下用 iframe ，每次刷新都给 iframe 设置不同的 src 。缺点是地址栏上的 url 不会变。", "用个 ngx_lua 可以实现", " 跳转 1.com\r", "刷新 1.com 跳转 2.com ？\r", "还是 ", " 跳转 1.com\r", "刷新 ", " 跳转 2.com ？\r", "问题描述明白。。", "lz 的意思大概是访问 ", " ，每一次都会跳转到不同网站。最简单的大概就是用 js 写一个随机抽取网址列表吧。", "<meta http-equiv=\"Refresh\" content=\"5;url=http://www.w3school.com.cn\" />\r", "\r", "在 head 里面加这个就可以跳转，把上面要跳转的链接弄一个随机列表。访问一次随机一次。\r", "\r", "不知道是不是这个意思", "差不多是各位的意思，就是每次输入 ", " 之后都会跳转到一个不是 ", " 的网址。就是每次都是随机跳转，然后做一个列表。然后随机抽取当中的网址或者按照顺序缓存之类的，每次输入 ", " 都会不一样，最好能够写一个简单的例子。感谢各位", " 对应一堆 域名  ", "  每次输入 ", " 都会从 ", " 里面顺序或者随机抽取 X.COM 为跳转地址。\r", "例 <script>window.location.replace(\"http://XXX.COM\");</script>  这样子每次只是固定跳转 ", " 但是我想跳转到 ", " 之间的任意一个网址。 请问怎样实现", "  @", "  @", "   @", "  @", "楼主的意思是要全部的实现代码,然后贴一下就可以了么.", "<script>window.location.replace(<?php echo ", "', '2.com', ...)[rand(1, x)-1];?>);</script>", "借地方问下，对于<meta http-equiv=\"Refresh\" >这种跳转的，在浏览器怎么能禁止或者停止。", " JS 的 get 码 200  如果是 http 层的 get302 怎么实现", " \r", "\r", "<?php \r", "header(\"Location: \" . ", "', '2.com', ...)[rand(1, x)-1] );", " <php echo ", "'; ?> 也不错 2333333333", "楼上那些只是随机跳转，要每次不一样还要用 session 或者 cookie", "<script language=\"javascript\">\r", "function dogo(){\r", "var urls = new Array();\r", "urls[0]=\"site1\";\r", "urls[1]=\"site2\";\r", "urls[2]=\"site3\";\r", "urls[3]=\"site4\";\r", "urls[4]=\"site5\";\r", "n = Math.floor(Math.random()*5);\r", "location.href= urls[n];\r", "}\r", "</script>\r", "<body onload=\"javascript:dogo();\">\r", "</body>"]},
{"content": ["<div class=\"topic_content\">使用 ajaxReturn 方法将提示信息返回到前台打印到页面。但是提示信息全部被 Unicode 编码。怎么解决？？</div>"], "reply": "13", "tittle": "新手求助：使用 ThinkPhp 遇到如下问题。", "comment": ["首先应该是 utf8 编码的文字，不是 Unicode ，然后复制那段 utf8 到 console ，粘贴，回车，记得用引号包起来; 另外好像 network 里面的 response 可以直接看，记不清了", "js 直接反解 JSON 输出的是汉字。莫纠结。", "珍爱生命，远离 Thinkphp", "你是输出到浏览器的控制台还是直接页面打印的啊 贴代码啊！", " @", " @", " 打印提示信息到页面的代码如下：\r", "if (false) {\r", "    \r", "    \t\t\t$this->ajaxReturn ( array ('nr' => '验证码错误!','sf' => 0 ) );\r", "    \t\t} else {\r", "    \t\t\t$addaccount = M ( 'user' )->where ( array (UE_account => $data_P ['dfzh']) )->find ();\r", "    \r", "    \t\t\tif (!$addaccount) {\r", "    \t\t\t\t$this->ajaxReturn ( array ('nr' => '推荐人不存在!','sf' => 0 ) );\r", "    \t\t\t}else {\r", "                        $this->ajaxReturn ('推荐人可用!');\r", "    \t\t\t\t//$this->ajaxReturn ($addaccount['ue_theme']);\r", "    \t\t\t}\r", "    \t\t}\r", "总感觉是 ajaxReturn 方法有点问题。\r", "\r", "提示信息全部在页面上被 Unicode 编码。", "ajaxReturn 这个方法呢", " \r", "ajaxReturn 对应的是 AJAX 请求。你直接页面请求肯定会是一堆 unicode 码的- -#", " @", "    ajaxReturn 方法的代码：\r", "protected function ajaxReturn($data,$type='',$json_option=0) {\r", "        if(empty($type)) $type  =   C('DEFAULT_AJAX_RETURN');\r", "        switch (strtoupper($type)){\r", "            case 'JSON' :\r", "                // 返回 JSON 数据格式到客户端 包含状态信息\r", "                header('Content-Type:application/json; charset=utf-8');\r", "                exit(json_encode($data,$json_option));\r", "            case 'XML'  :\r", "                // 返回 xml 格式数据\r", "                header('Content-Type:text/xml; charset=utf-8');\r", "                exit(xml_encode($data));\r", "            case 'JSONP':\r", "                // 返回 JSON 数据格式到客户端 包含状态信息\r", "                header('Content-Type:application/json; charset=utf-8');\r", "                $handler  =   isset($_GET[C('VAR_JSONP_HANDLER')]) ? $_GET[C('VAR_JSONP_HANDLER')] : C('DEFAULT_JSONP_HANDLER');\r", "                exit($handler.'('.json_encode($data,$json_option).');');  \r", "            case 'EVAL' :\r", "                // 返回可执行的 js 脚本\r", "                header('Content-Type:text/html; charset=utf-8');\r", "                exit($data);            \r", "            default     :\r", "                // 用于扩展其他返回格式数据\r", "                Hook::listen('ajax_return',$data);\r", "        }\r", "    }\r", "\r", "在网上查询，好像很多都说是跟 json_encode 有关系。", "JSON_UNESCAPED_UNICODE\r", "\r", "没事，你肉眼看是 unicode ，但是你直接 js 使用会自动变成中文。", "我的天 你直接修改 添加一个 html 格式的不就 ok 了", "装个浏览器插件吧，这样就自然无码了：）\r", "\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><ol>\n<li>3 年以上 LAMP/WAMP 环境的 PHP 工作经验；</li>\n<li>精通 php 编程，实际开发过大型 web 、 mis 项目，精通面向对象开发；</li>\n<li>熟悉 linux 的常用操作，能熟练搭建运行环境，配置 apache ， nginx 等；</li>\n<li>熟悉 mysql ， mongodb 等数据库，懂得一定的优化技术；</li>\n<li>熟悉 memcache/redis 、 MVC/REST 架构、 OAuth 机制、模板引擎机制原理及应用；</li>\n<li>熟悉 jquery 、 HTML 、 DIV+CSS 、 JavaScript/Ajax 脚本语言、 XHTML 、 XML 页面结构；</li>\n<li>至少精通 ci 、 zend 、 yii 等开发框架的一种；</li>\n<li>熟悉 python ， java 的优先考虑；</li>\n<li>对新技术有浓厚学习兴趣，尤其是云计算相关技术；</li>\n<li>具有良好的沟通能力，有责任心，具有团队合作精神。</li>\n<li>basic english speaking</li>\n</ol>\n<p>加我微信 walla002</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "PHP 开发的人", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>应用在生产环境下， php 环境在 windows server 下如何部署？\n感谢。</p>\n</div></div>"], "reply": "31", "tittle": "windows server 2008R2 服务器下如何搭建 php 的的生产环境( Apache 服务器)？", "comment": ["XAMPP/PHPStudy", "hyperV （逃....", "iis+php", "upupw", "You need Google", "xampp", "这种问题。我想百度下应该就可以解决。", "WAMP 啊", "用毛线的 windows 呀", "IIS + PHP(FASTCGI)", " \r", "\r", "下载最新的测试版，有中文哦", " 生产环境用 xamp/phpstudy 应该不合适吧， xampp 我看了开发者的介绍，只是用来快速搭建环境，作学习用的", " 用的 Apache 服务器", " 这个 php 套件可以用在生产环境吗", "对 PHP7 支持不好吧", " Thank you don't need to reply", "无非就是\r", "IIS+PHP\r", "Apache+mod_php\r", "Nginx+php-cgi\r", "\r", "用 Windows 还是建议 IIS 吧", " 以上三种 PHP 都可以在 ", " 下载，注意 NTS 和 TS", " blocked", "wamp 吧！装起来快点儿！", "用 IIS 就去安装个西部网站管理助手", "PHPStudy 去年的那个公司生成环境就用的这个.. 下那个 IIS 版本的", "wamp 吧\r", "\r", "感觉还是 webpi+iis 靠谱点", "wamp 最快。其次是 iis+php 了。再不济也可以上 phpstudy 。也没啥不稳定的", "IIS ，选一下，安装个模块就好了", "phpstudy 就可以  如果负载超了   自己修改配置文件", "我自己下载 Apache,MariaDB 和 PHP,拿批处理写了个安装文件和控制台...", "你会爱上它的", "    \"UPUPW 绿色服务器平台诞生于 2013 年 3 月。凭借 Windows 系统的广泛适用性， UPUPW 为广大 PHP 爱好者提供一个绿色便捷基于 Windows 系统的 PHP 运行环境。 UPUPW PHP 环境集成包无需安装，无需搭建，无需配置，这样的三无产品理所当然是免费的！当然运行起来也是无广告、无插件、无压力。\"\r", "\r", "win 下我在用，挺稳定的。   他们的论坛也比较活跃 你参考一下吧", "生产环境需要自己优化和安全设置，不要用整合包", "WampServer"]},
{"content": "", "reply": "4", "tittle": "有没有一种工具能检测 一套程序 或某个方法 当打开页页时执行了多少次", "comment": ["程序里面写个计数器不就可以了", "  应该有检测工具的", "APM 产品 比如 newrelic", "  谢谢大神"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近在学习 laravel ，看了文档，也做了两个小项目。但是能写出来和写得好，差距还是很大的，自己编码的过程中对有些地方的理解不是很深，主要是想看一看 laravel 在实际项目中是如何被使用的，代码可以怎样写的漂亮一点，比如结合实际情况如何正确的使用 Eloquent ，毕竟框架提供的特性太多。求推讲适合源码研究的开源项目</p>\n</div></div>"], "reply": "11", "tittle": "求推荐优秀的 laravel 项目源码，供阅读学习", "comment": ["\r", "每个模块都做成了独立的 package ， 数据库用的 Repository ，应该算是正确的姿势吧", " 印度人写的  早放弃，看过一段时间，总是有一些低级 bug 出现", "马克一下，同求啊 \r", "最好是 5 系列的", " 之前好像见过这个 CMS ，研究一下，谢谢", "[materialize-blog]( ", ")\r", "\r", "分享我个人写的博客管理系统，基于 5.2", "=。=不是 md 吗", " 博客好漂亮，收了", "phphub", "October CMS\r", "\r", "\r", "功能比较全，插件、主题都挺丰富了，模板用 twig 代替了 Laravel 自带的 Blade 。", "[phphub-server]( ", ")\r", "\r", "推荐这个项目，很有价值", "找到了吗? 分享下 学习学习"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>PHP 开发程序员的学习路线\n下面简单为大家梳理了每个阶段 PHP 程序员的技术要求，来帮助很多 PHP 程序做对照设定学习成长目标。</p>\n<p>第一阶段：基础阶段（基础 PHP 程序员）</p>\n<p>重点：把 LNMP 搞熟练（核心是安装配置基本操作）</p>\n<p>目标：能够完成基本的 LNMP 系统安装，简单配置维护；能够做基本的简单系统的 PHP 开发；能够在 PHP 中型系统中支持某个 PHP 功能模块的开发。</p>\n<p>时间：完成本阶段的时间因人而异，有的成长快半年一年就过了，成长慢的两三年也有。</p>\n<p>1.Linux</p>\n<p>基本命令、操作、启动、基本服务配置（包括 rpm 安装文件，各种服务配置等）；会写简单的 shell 脚本和 awk/sed 脚本命令等。</p>\n<p>2.Nginx</p>\n<p>做到能够安装配置 nginx+php ，知道基本的 nginx 核心配置选项，知道 server/fastcgi_pass/access_log 等基础配置，目标是能够让 nginx+php_fpm 顺利工作。</p>\n<p>3.MySQL</p>\n<p>会自己搭建 mysql ，知道基本的 mysql 配置选项；知道 innodb 和 myisam 的区别，知道针对 InnoDB 和 MyISAM 两个引擎的不同配置选项；知道基本的两个引擎的差异和选择上面的区别；能够纯手工编译搭建一个 MySQL 数据库并且配置好编码等正常稳定运行；核心主旨是能够搭建一个可运行的 MySQL 数据库。</p>\n<p>4.PHP</p>\n<p>基本语法数组、字符串、数据库、 XML 、 Socket 、 GD/ImageMgk 图片处理等等；熟悉各种跟 MySQL 操作链接的 api （ mysql/mysqli/PDO)，知道各种编码问题的解决；知道常规熟练使用的 PHP 框架（ ThinkPHP 、 Zendframework 、 Yii 、 Yaf 等）；了解基本 MVC 的运行机制和为什么这么做，稍微知道不同的 PHP 框架之间的区别；能够快速学习一个 MVC 框架。能够知道开发工程中的文件目录组织，有基本的良好的代码结构和风格，能够完成小系统的开发和中型系统中某个模块的开发工作。</p>\n<p>5.前端</p>\n<p>如果条件时间允许，可以适当学习下 HTML/CSS/JS 等相关知识，知道什么 web 标准， div+css 的 web/wap 页面模式，知道 HTML5 和 HTML4 的区别；了解一些基本的前端只是和 JS 框架（ jQuery 之类的）；了解一些基本的 JavaScript 编程知识；（本项不是必须项，如果有时间，稍微了解一下是可以的，不过不建议作为重点，除非个人有强烈兴趣）。</p>\n<p>6.系统设计</p>\n<p>能够完成小型系统的基本设计，包括简单的数据库设计，能够完成基本的：浏览器 -&gt; Nginx+PHP -&gt; 数据库 架构的设计开发工作；能够支撑每天几十万到数百万流量网站的开发维护工作；</p>\n<p>兄弟连 PHP 培训为大家梳理了第二阶段：提高阶段 （中级 PHP 程序员）的技术要求如下\n重点：提高针对 LNMP 的技能，能够更全面的对 LNMP 有熟练的应用。</p>\n<p>目标：能够随时随地搭建好 LNMP 环境，快速完成常规配置；能够追查解决大部分遇到的开发和线上环境的问题；能够独立承担中型系统的构架和开发工作；能够在大型系统中承担某个中型模块的开发工作。</p>\n<ol>\n<li>Linux</li>\n</ol>\n<p>在第一阶段的基础上面，能够流畅的使用 Shell 脚本来完成很多自动化的工作； awk/sed/perl 也操作的不错，能够完成很多文本处理和数据统计等工作；基本能够安装大部分非特殊的 Linux 程序（包括各种库、包、第三方依赖等等，比如 MongoDB/Redis/Sphinx/Luncene/SVN 之类的）；了解基本的 Linux 服务，知道如何查看 Linux 的性能指标数据，知道基本的 Linux 下面的问题跟踪等。</p>\n<ol>\n<li>Nginx</li>\n</ol>\n<p>在第一阶段的基础上面，了解复杂一些的 Nginx 配置；包括 多核配置、 events 、 proxy_pass ， sendfile/tcp_*配置，知道超时等相关配置和性能影响；知道 nginx 除了 web server ，还能够承担代理服务器、反向静态服务器等配置；知道基本的 nginx 配置调优；知道如何配置权限、编译一个 nginx 扩展到 nginx ；知道基本的 nginx 运行原理（ master/worker 机制， epoll ），知道为什么 nginx 性能比 apache 性能好等知识。</p>\n<ol>\n<li>MySQL/MongoDB</li>\n</ol>\n<p>在第一阶段的基础上面，在 MySQL 开发方面，掌握很多小技巧，包括常规 SQL 优化（ group by/order by/rand 优化等）；除了能够搭建 MySQL ，还能够冷热备份 MySQL 数据，还知道影响 innodb/myisam 性能的配置选项（比如 key_buffer/query_cache/sort_buffer/innodb_buffer_pool_size/innodb_flush_log_at_trx_commit 等），也知道这些选项配置成为多少值合适；另外也了解一些特殊的配置选项，比如  知道如何搭建 mysql 主从同步的环境，知道各个 binlog_format 的区别；知道 MySQL 的性能追查，包括 slow_log/explain 等，还能够知道基本的索引建立处理等知识；原理方面了解基本的 MySQL 的架构（ Server+存储引擎），知道基本的 InnoDB/MyISAM 索引存储结构和不同（聚簇索引， B 树）；知道基本的 InnoDB 事务处理机制；了解大部分 MySQL 异常情况的处理方案（或者知道哪儿找到处理方案）。条件允许的情况，建议了解一下 NoSQL 的代表 MongoDB 数据库，顺便对比跟 MySQL 的差别，同事能够在合适的应用场景安全谨慎的使用 MongoDB ，知道基本的 PHP 与 MongoDB 的结合开发。</p>\n<ol>\n<li>Redis/Memcached</li>\n</ol>\n<p>在大部分中型系统里面一定会涉及到缓存处理，所以一定要了解基本的缓存；知道 Memcached 和 Redis 的异同和应用场景，能够独立安装 Redis/Memcached ，了解 Memcahed 的一些基本特性和限制，比如最大的 value 值，知道 PHP 跟他们的使用结合； Redis 了解基本工作原理和使用，了解常规的数据类型，知道什么场景应用什么类型，了解 Redis 的事务等等。原理部分，能够大概了解 Memcached 的内存结构（ slab 机制）， redis 就了解常用数据类型底层实现存储结构（ SDS/链表 /SkipList/HashTable ）等等，顺便了解一下 Redis 的事务、 RDB 、 AOF 等机制更好。</p>\n<ol>\n<li>PHP</li>\n</ol>\n<p>除了第一阶段的能力，安装配置方面能够随意安装 PHP 和各种第三方扩展的编译安装配置；了解 php-fpm 的大部分配置选项和含义（如 max_requests/max_children/request_terminate_timeout 之类的影响性能的配置），知道 mod_php/fastcgi 的区别；在 PHP 方面已经能够熟练各种基础技术，还包括各种深入些的 PHP ，包括对 PHP 面向对象的深入理解 /SPL/语法层面的特殊特性比如反射之类的；在框架方面已经阅读过最少一个以上常规 PHP MVC 框架的代码了，知道基本 PHP 框架内部实现机制和设计思想；在 PHP 开发中已经能够熟练使用常规的设计模式来应用开发（抽象工厂 /单例 /观察者 /命令链 /策略 /适配器 等模式）；建议开发自己的 PHP MVC 框架来充分让开发自由化，让自己深入理解 MVC 模式，也让自己能够在业务项目开发里快速升级；熟悉 PHP 的各种代码优化方法，熟悉大部分 PHP 安全方面问题的解决处理；熟悉基本的 PHP 执行的机制原理（ Zend 引擎 /扩展基本工作机制）。</p>\n<ol>\n<li>C/C++</li>\n</ol>\n<p>开始涉猎一定的 C/C++语言，能够写基本的 C/C++代码，对基本的 C/C++语法熟悉（指针、数组操作、字符串、常规标准 API ）和数据结构（链表、树、哈希、队列）有一定的熟悉下；对 Linux 下面的 C 语言开发有基本的了解概念，会简单的 makefile 文件编写，能够使用简单的 GCC/GDB 的程序编译简单调试工作；对基本的网络编程有大概了解。（本项是为了向更高层次打下基础）。</p>\n<ol>\n<li>前端</li>\n</ol>\n<p>在第一阶段的基础上面，熟悉基本的 HTTP 协议（协议代码 200/300/400/500 ，基本的 HTTP 交互头）；条件允许，可以在深入写出稍微优雅的 HTML+CSS+JavaScript ，或者能够大致简单使用某些前端框架（ jQuery/YUI/ExtJS/RequireJS/BootStrap 之类）；如果条件允许，可以深入学习 JavaScript 编程，比如闭包机制、 DOM 处理；再深入些可以读读 jQuery 源码做深入学习。（本项不做重点学习，除非对前端有兴趣）。</p>\n<ol>\n<li>系统设计</li>\n</ol>\n<p>能够设计大部分中型系统的网站架构、数据库、基本 PHP 框架选型；性能测试排查处理等；能够完成类似：浏览器 -&gt; CDN(Squid) -&gt; Nginx+PHP -&gt; 缓存 -&gt; 数据库 结构网站的基本设计开发维护；能够支撑每天数百万到千万流量基本网站的开发维护工作；</p>\n<p>第三阶段：高级阶段 （高级 PHP 程序员）</p>\n<p>重点：除了基本的 LNMP 程序，还能够在某个方向或领域有深入学习。（纵深维度发展）</p>\n<p>目标：除了能够完成基本的 PHP 业务开发，还能够解决大部分深入复杂的技术问题，并且可以独立设计完成中大型的系统设计和开发工作；自己能够独立 hold 深入某个技术方向，在这块比较专业。（比如在 MySQL 、 Nginx 、 PHP 、 Redis 等等任一方向深入研究）</p>\n<ol>\n<li>Linux</li>\n</ol>\n<p>除了第二阶段的能力，在 Linux 下面除了常规的操作和性能监控跟踪，还能够使用很多高级复杂的命令完成工作（ watch/tcpdump/starce/ldd/ar 等)；在 shell 脚本方面，已经能够编写比较复杂的 shell 脚本（超过 500 行）来协助完成很多包括备份、自动化处理、监控等工作的 shell ；对 awk/sed/perl 等应用已经如火纯青，能够随意操作控制处理文本统计分析各种复杂格式的数据；对 Linux 内部机制有一些了解，对内核模块加载，启动错误处理等等有个基本的处理；同时对一些其他相关的东西也了解，比如 NFS 、磁盘管理等等；</p>\n<ol>\n<li>Nginx</li>\n</ol>\n<p>在第二阶段的基础上面，已经能够把 Nginx 操作的很熟练，能够对 Nginx 进行更深入的运维工作，比如监控、性能优化，复杂问题处理等等；看个人兴趣，更多方面可以考虑侧重在关于 Nginx 工作原理部分的深入学习，主要表现在阅读源码开始，比如具体的 master/worker 工作机制， Nginx 内部的事件处理，内存管理等等；同时可以学习 Nginx 扩展的开发，可以定制一些自己私有的扩展；同时可以对 Nginx+Lua 有一定程度的了解，看看是否可以结合应用出更好模式；这个阶段的要求是对 Nginx 原理的深入理解，可以考虑成为 Nginx 方向的深入专业者。</p>\n<ol>\n<li>MySQL/MongoDB</li>\n</ol>\n<p>在第二阶段的基础上面，在 MySQL 应用方面，除了之前的基本 SQL 优化，还能够在完成一些复杂操作，比如大批量数据的导入导出，线上大批量数据的更改表结构或者增删索引字段等等高危操作；除了安装配置，已经能够处理更多复杂的 MySQL 的问题，比如各种问题的追查，主从同步延迟问题的解决、跨机房同步数据方案、 MySQL 高可用架构等都有涉及了解；对 MySQL 应用层面，对 MySQL 的核心关键技术比较熟悉，比如事务机制（隔离级别、锁等）、对触发器、分区等技术有一定了解和应用；对 MySQL 性能方面，有包括磁盘优化（ SAS 迁移到 SSD ）、服务器优化（内存、服务器本身配置）、除了二阶段的其他核心性能优化选项（ innodb_log_buffer_size/back_log/table_open_cache/thread_cache_size/innodb_lock_wait_timeout 等）、连接池软件选择应用，对 show *（ show status/show profile ）类的操作语句有深入了解，能够完成大部分的性能问题追查； MySQL 备份技术的深入熟悉，包括灾备还原、对 Binlog 的深入理解，冷热备份，多 IDC 备份等；在 MySQL 原理方面，有更多了解，比如对 MySQL 的工作机制开始阅读部分源码，比如对主从同步（复制）技术的源码学习，或者对某个存储引擎（ MyISAM/Innodb/TokuDB ）等等的源码学习理解，如果条件允许，可以参考 CSV 引擎开发自己简单的存储引擎来保存一些数据，增强对 MySQL 的理解；在这个过程，如果自己有兴趣，也可以考虑往 DBA 方向发展。 MongoDB 层面，可以考虑比如说在写少读多的情况开始在线上应用 MongoDB ，或者是做一些线上的数据分析处理的操作，具体场景可以按照工作来，不过核心是要更好的深入理解 RMDBS 和 NoSQL 的不同场景下面的应用，如果条件或者兴趣允许，可以开始深入学习一下 MongoDB 的工作机制。</p>\n<ol>\n<li>Redis/Memcached</li>\n</ol>\n<p>在第二阶段的基础上面，能够更深入的应用和学习。因为 Memcached 不是特别复杂，建议可以把源码进行阅读，特别是内存管理部分，方便深入理解； Redis 部分，可以多做一些复杂的数据结构的应用（ zset 来做排行榜排序操作 /事务处理用来保证原子性在秒杀类场景应用之类的使用操作）；多涉及 aof 等同步机制的学习应用，设计一个高可用的 Redis 应用架构和集群；建议可以深入的学习一下 Redis 的源码，把在第二阶段积累的知识都可以应用上，特别可以阅读一下包括核心事件管理、内存管理、内部核心数据结构等充分学习了解一下。如果兴趣允许，可以成为一个 Redis 方面非常专业的使用者。</p>\n<ol>\n<li>PHP</li>\n</ol>\n<p>作为基础核心技能，我们在第二阶段的基础上面，需要有更深入的学习和应用。从基本代码应用上面来说，能够解决在 PHP 开发中遇到 95%的问题，了解大部分 PHP 的技巧；对大部分的 PHP 框架能够迅速在一天内上手使用，并且了解各个主流 PHP 框架的优缺点，能够迅速方便项目开发中做技术选型；在配置方面，除了常规第二阶段会的知识，会了解一些比较偏门的配置选项（ php auto_prepend_file/auto_append_file ），包括扩展中的一些复杂高级配置和原理（比如 memcached 扩展配置中的 memcache.hash_strategy 、 apc 扩展配置中的 apc.mmap_file_mask/apc.slam_defense/apc.file_update_protection 之类的）；对 php 的工作机制比较了解，包括 php-fpm 工作机制（比如 php-fpm 在不同配置机器下面开启进程数量计算以及原理），对 zend 引擎有基本熟悉（ vm/gc/stream 处理），阅读过基本的 PHP 内核源码（或者阅读过相关文章），对 PHP 内部机制的大部分核心数据结构（基础类型 /Array/Object ）实现有了解，对于核心基础结构（ zval/hashtable/gc ）有深入学习了解；能够进行基本的 PHP 扩展开发，了解一些扩展开发的中高级知识（ minit/rinit 等），熟悉 php 跟 apache/nginx 不同的通信交互方式细节（ mod_php/fastcgi ）；除了开发 PHP 扩展，可以考虑学习开发 Zend 扩展，从更底层去了解 PHP 。</p>\n<ol>\n<li>C/C++</li>\n</ol>\n<p>在第二阶段基础上面，能够在 C/C++语言方面有更深入的学习了解，能够完成中小型 C/C++系统的开发工作；除了基本第二阶段的基础 C/C++语法和数据结构，也能够学习一些特殊数据结构（ b-tree/rb-tree/skiplist/lsm-tree/trie-tree 等）方便在特殊工作中需求；在系统编程方面，熟悉多进程、多线程编程；多进程情况下面了解大部分多进程之间的通信方式，能够灵活选择通信方式（共享内存 /信号量 /管道等）；多线程编程能够良好的解决锁冲突问题，并且能够进行多线程程序的开发调试工作；同时对网络编程比较熟悉，了解多进程模型 /多线程模型 /异步网络 IO 模型的差别和选型，熟悉不同异步网络 IO 模型的原理和差异（ select/poll/epoll/iocp 等），并且熟悉常见的异步框架（ ACE/ICE/libev/libevent/libuv/Boost.ASIO 等）和使用，如果闲暇也可以看看一些国产自己开发的库（比如 muduo ）；同时能够设计好的高并发程序架构（ leader-follow/master-worker 等）；了解大部分 C/C++后端 Server 开发中的问题（内存管理、日志打印、高并发、前后端通信协议、服务监控），知道各个后端服务 RPC 通信问题（ struct/http/thirft/protobuf 等）；能够更熟络的使用 GCC 和 GDB 来开发编译调试程序，在线上程序 core 掉后能够迅速追查跟踪解决问题；通用模块开发方面，可以积累或者开发一些通用的工具或库（比如异步网络框架、日志库、内存池、线程池等），不过开发后是否应用要谨慎，省的埋坑去追 bug 。</p>\n<ol>\n<li>前端</li>\n</ol>\n<p>深入了解 HTTP 协议（包括各个细致协议特殊协议代码和背后原因，比如 302 静态文件缓存了， 502 是 nginx 后面 php 挂了之类的）；除了之前的前端方面的各种框架应用整合能力，前端方面的学习如果有兴趣可以更深入，表现形式是，可以自己开发一些类似 jQuery 的前端框架，或者开发一个富文本编辑器之类的比较琐碎考验 JavaScript 功力。</p>\n<ol>\n<li>其他领域语言学习</li>\n</ol>\n<p>在基础的 PHP/C/C++语言方面有基本积累，建议在当前阶段可以尝试学习不同的编程语言，看个人兴趣爱好，脚本类语言可以学学 Python/Ruby 之类的，函数式编程语言可以试试 Lisp/Haskell/Scala/Erlang 之类的，静态语言可以试试 Java/Golang ，数据统计分析可以了解了解 R 语言，如果想换个视角做后端业务，可以试试 Node.js 还有前面提到的跟 Nginx 结合的 Nginx_Lua 等。学习不同的语言主要是提升自己的视野和解决问题手段的差异，比如会了解除了进程 /线程，还有轻量级协程；比如在跨机器通信场景下面， Erlang 的解决方案简单的惊人；比如在不想选择 C/C++的情况下，还有类似高效的 Erlang/Golang 可用等等；主要是提升视野。</p>\n<ol>\n<li>其他专业方向学习</li>\n</ol>\n<p>在本阶段里面，会除了基本的 LNMP 技能之外，会考虑一些其他领域知识的学习，这些都是可以的，看个人兴趣和长期的目标方向。目前情况能够选择的领域比较多，比如、云计算（分布式存储、分布式计算、虚拟机等），机器学习（数据挖掘、模式识别等，应用到统计、个性化推荐），自然语言处理（中文分词等），搜索引擎技术、图形图像、语音识别等等。除了这些高大上的，也有很多偏工程方面可以学习的地方，比如高性能系统、移动开发（ Android/IOS ）、计算机安全、嵌入式系统、硬件等方向。</p>\n<ol>\n<li>系统设计</li>\n</ol>\n<p>系统设计在第二阶段的基础之上，能够应用掌握的经验技能，设计出比较复杂的中大型系统，能够解决大部分线上的各种复杂系统的问题，完成类似 浏览器 -&gt; CDN -&gt; 负载均衡 -&gt;接入层 -&gt; Nginx+PHP -&gt; 业务缓存 -&gt; 数据库 -&gt; 各路复杂后端 RPC 交互（存储后端、逻辑后端、反作-弊后端、外部服务） -&gt; 更多后端 酱紫的复杂业务；能够支撑每天数千万到数亿流量网站的正常开发维护工作。</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "PHP 开发程序员的学习路线", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>$_array1=[\n    0=&gt;[\"aaa\",\"bbbb\"],\n    1=&gt;[\"bbb\",\"cccc\"],\n    2=&gt;[\"ccc\",\"dddd\"]\n]\n$_array2=[\n    0=&gt;[\"aaa\",\"bbbb\"],\n    1=&gt;[\"ccc\",\"dddd\"],\n    2=&gt;[\"bbb\",\"cccc\"]\n]\n</code></pre>\n<p>发现 array_diff_assoc 比较不支持多维数组....\n然后这样写：</p>\n<pre><code>function array_diff_assoc_recursive($array1,$array2){\n    $diffarray=array();\n    foreach ($array1 as $key=&gt;$value){\n      //判断数组每个元素是否是数组\n     if(is_array($value)){\n\t\t#print_r($value); echo\"&lt;br/&gt;\";\n      //判断第二个数组是否存在 key\n       if(!isset($array2[$key])){\n           $diffarray[$key]=$value;\n       //判断第二个数组 key 是否是一个数组\n       }elseif(!is_array($array2[$key])){\n           $diffarray[$key]=$value;\n       }else{\n           $diff=array_diff_assoc_recursive($value, $array2[$key]);\n           if($diff!=false){\n             $diffarray[$key]=$diff;\n           }\n       }\n     }elseif(!array_key_exists($key, $array2) || $value!=$array2[$key]){\n          $diffarray[$key]=$value;\n     }\n    }\n    return $diffarray;  \n}\n</code></pre>\n<p>结果是：\n[1=&gt;[\"bbb\",\"cccc\"],2=&gt;[\"ccc\",\"dddd\"]]\n会因为 key 顺序的不一样，也会被列出为 diff 数组。</p>\n<p>= =想问下如何只判断 value 不去判断 key 顺序，而直接的去判断他们 value 里的数组。</p>\n</div></div>"], "reply": "4", "tittle": "多维数组的比较问题...", "comment": ["foreach ($_array1 as $value) {\r", "\tif (!in_array($value, $_array2)) {\r", "\t\t//如果不存在,证明两数组不相同\r", "\t}\r", "}", " 感谢=3", "var arrayToString = arr => arr.map( item=>typeof item === 'string' ? item :arrayToString( item )  ).join('').replace(/(.*)/,'[$1]');\r", "\r", "var diff = (src, target)=> arrayToString(src) === arrayToString(target)\r", "\r", "or \r", "\r", "diff = (src, target) => JSON.stringify(src) === JSON.stringify(target)", "一楼的做法不完善 ... 没有考虑重复的情况 ... 如果是我我会用 array_pop 和 array_search 处理 ..."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>      手里有一些 PHP 好友，组了一个 PHP 技术问答群,欢迎各位进来一起折腾！本群设立的宗旨：纯技术问答，互帮互助，杜绝一切广告、招聘信息。微信二维码如下：</h2>\n<p><img alt=\"alt text\" src=\"http://ww3.sinaimg.cn/mw690/5d68e2a9gw1f6pqmhmk31j20iq0ow0uc.jpg\"></p>\n</div></div>"], "reply": "3", "tittle": "学习 PHP，拉一波人一起折腾....", "comment": ["学什么不好，偏要学 PHP", "QQ 群的:\r", "![1470968171462.png]( ", " )", "   说的好像你能开发出比 PHP 牛的语言一样。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>mac 下的 PhpStorm 最新版 2016.2 ，每天索引都间歇错乱，每天重启好几次，之前的版本都没有这个问题。。。</p>\n</div></div>"], "reply": "4", "tittle": "PhpStorm index 错乱", "comment": ["invalidate caches 试过没？", "restart and invalidate caches ,每天好几遍，浪费好多时间在重建索引上", "把.idea 目录删除，重新打开项目建索引试试"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>问题是我上传文件的时候，第一次可以上传成功，第二次就是 502 错误！而且没有任何错误信息，但是我重启 php-fpm 就又可以上传了！</p>\n<p>还有我开启了 opcache ，但是我关闭了就可以了，也不需要重启 php-fpm ！</p>\n<p>错误信息：\nnginx ：没有错误信息</p>\n<pre><code>php-fpm ：有 WARNING 信息\n\n\n```\n[12-Aug-2016 19:48:04] WARNING: [pool www] child 974 exited on signal 11 (SIGSEGV) after 334.939708 seconds from start\n</code></pre>\n<p>[12-Aug-2016 19:48:04] NOTICE: [pool www] child 1014 started\n```</p>\n<p>php-fpm\n```\n[root@iZ9432kvp6sZ log]# netstat -napo |grep \"php-fpm\" | wc -l\n4</p>\n<pre><code>```\n</code></pre>\n<p>nginx 配置文件 （没有粘贴出来 server 端的）</p>\n<pre><code>\n\nworker_processes  auto;\nworker_rlimit_nofile 100000;\n#error_log  logs/error.log;\n#error_log  logs/error.log  notice;\n#error_log  logs/error.log  info;\n\n#pid        logs/nginx.pid;\n\n\nevents {\n    worker_connections  2048;\n    multi_accept on;\n    use epoll;\n}\n\n\nhttp {\n    include       mime.types;\n    log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\n                      '$status $body_bytes_sent \"$http_referer\" '\n                      '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n\n    #access_log  logs/access.log  main;\n    client_max_body_size 300M;#设置 post 数据大小\n\n\n    #gzip  on;\n    access_log  off;\n    error_log /var/log/nginx/error.log; #crit;\n    server_tokens off;\n    sendfile        on;\n    #tcp_nopush     on;\n    #tcp_nodelay on;\n    #keepalive_timeout 65;\n    #client_header_timeout 10;\n    #client_body_timeout 10;\n    #reset_timedout_connection on;\n    #send_timeout 10;\n    #limit_conn_zone $binary_remote_addr zone=addr:5m;\n    #limit_conn addr 100;\n    default_type text/html;\n    charset UTF-8;\n\n    #gzip  on;\n    #gzip_proxied any;\n    #gzip_min_length 1000;\n    #gzip_comp_level 4;\n    #gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript;\n\n\n    #open_file_cache max=100000 inactive=20s;\n    #open_file_cache_valid 30s;\n    #open_file_cache_min_uses 2;\n    #open_file_cache_errors on;\n\n    keepalive_timeout  65;\n        fastcgi_connect_timeout 300;\n\t\tfastcgi_send_timeout 300;\n\t\tfastcgi_read_timeout 300;\n        fastcgi_buffer_size 128k;\n        fastcgi_buffers 8 128k;#8 128\n        fastcgi_busy_buffers_size 256k;\n        fastcgi_temp_file_write_size 256k;\n        \n</code></pre>\n<p>php 的配置文件就是和默认一样的！</p>\n</div></div>", "<div class=\"topic_content\">我用 ``` opcache_reset ```  方法，在每次上传完成后，就调用该方法，但是还是想刨根问底，这个到底是怎么样才能产生的！</div>"], "reply": "2", "tittle": "请教一个 nginx 502 的错误", "comment": ["巧了，我前几天刚遇到，是程序问题，不关 nginx 和 FPM 的事，你可以参考\r", "\r", " 感谢"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>淘宝,京东选择的城市数据是从哪里来的?有没有一个公共的 API,如何是保存在自己的数据库中如何保证数据的更新?</p>\n</div></div>"], "reply": "5", "tittle": "联动下拉框的城市选择,地区的数据如何来?", "comment": ["楼上给你了..", " \r", " \r", "nice", " 棒极了", "支付宝蚂蚁金服的开放 api 里有一个接口 你瞅瞅"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我们团队使用 ORM 写了两个例子, 争论这两个例子的优缺点. 麻烦帮忙分析一下.</p>\n<h4>问题: 需要取得用户的所有车辆, 这个方法应该写在 User 中还是 Car 中.</h4>\n<p>表结构:\nuser: [\nid,\n]</p>\n<p>car: [\nid,\nuser_id,\ncar_status,\n]</p>\n<p>Laravel ORM 代码:</p>\n<pre><code>&lt;?php\nclass User extends \\Illuminate\\Database\\Eloquent\\Model\n{\n    // 例子 1: 将取用户所有车辆的方法写在 User 中, user ID 参数使用$this-&gt;id\n    // 例子 1 的理由是: 因为要取得用户的所属车辆, 出发点是 User 对象所以方法应该写在 User 中, 这样会更加面向对象.\n    public function myCars()\n    {\n        return Car::where(['user_id' =&gt; $this-&gt;id, 'car_status' =&gt; 1])-&gt;get();\n    }\n}\n\nclass Car extends \\Illuminate\\Database\\Eloquent\\Model\n{\n    // 例子 2: 将取用户所有车辆的方法写在 Car 中, user ID 参数使用通过方法传递进来\n    // 例子 2 的理由是: 因为所查询的是 Car 表, user ID 应该作为 Car 的一个属性传递给 Car.list 方法,而且$moreCondition 可以日后增加更多筛选条件复用性好.\n    public function list(int $userID, $moreCondition...)\n    {\n        return $this-&gt;where(['user_id' =&gt; $userID, $moreCondition...])-&gt;get();\n    }\n}\n</code></pre>\n<h4>不使用关联关系不手写 SQL 时, 我们团队在争论这两种写法的优劣, 想看看大家的看法.</h4>\n<p>例子 1: 将取用户所有车辆的方法写在 User 中, user ID 参数使用$this-&gt;id\n例子 1 的理由是: 因为要取得用户的所属车辆, 出发点是 User 对象所以方法应该写在 User 中, 这样会更加面向对象.</p>\n<p>例子 2: 将取用户所有车辆的方法写在 Car 中, user ID 参数使用通过方法传递进来\n例子 2 的理由是: 因为所查询的是 Car 表, user ID 应该作为 Car 的一个属性传递给 Car.list 方法,而且$moreCondition 可以日后增加更多筛选条件复用性好.</p>\n<h4>主要想问的是这个方法应该写在 User 中还是 Car 中.</h4>\n</div></div>"], "reply": "45", "tittle": "使用 Laravel ORM 时的一个问题?", "comment": ["我会写到一个 service 上而不是 model 上。。。", " 哎呀, 不要歪楼拉. 一个方法也写 server 吗 ?  我们其实也有 repo. 但是只是想讨论这个例子中的问题而已.", "其实哪怕不是 ORM ，我也经常遇到这类问题：\r", "\r", "“获取某个用户组下的用户列表”  该写在 User 模块里还是 UserGroup 模块里呢……", "不用 belongs 或者 hasMany 进行关联么~", "$this->hasMany(Car)", "class PictureController extends Controller\r", "{\r", "    /**\r", "     * Display a listing of the resource.\r", "     *\r", "     * @", " \\Illuminate\\Http\\Response\r", "     */\r", "    public function index(Request $req)\r", "    {\r", "        $user = $req->user();\r", "        $dealer = $user->dealer;\r", "        $picture = Picture::orderBy('id','desc')->where('dealer','=',$dealer)->get();\r", "        return view('picture.index', compact('picture'));\r", "    }\r", "}\r", "\r", "取出一个用户拥有的所有图片...", "第一个查询出 $user 后，再$user->myCars()就能取得数据啦。", " User::find(1)->Car", "能实现的方式很多拉 .   但是主要想问的还是这个方法应该写在 User 中还是 Car 中.", " 对对,  结果呢 ? 谁打赢了 ?", "写到 Car 里面，然后在 User 添加一个 carList 方法，里面调用 Car.list,完事", "ps ： android 写多了看出 OOM 了，哎", "没有 ORM 时写在 user 中，用 ORM 直接关联啊，关联！", "必须第一种撒。。第二种还自己去折腾，关键代码读起来 shi 一样不连贯", "写在 User 里，这是个 hasMany 的关系", "重点是当和用户相关的数据越来越多的时候用户 model 里岂不是越来越多方法，每个细分功能都会修改 user model ，这样不合适吧，除非所有细分功能共用，否则最好还是写到各自 model 里比较好", "不是用 hsaMany belongsTo ???", "使用第一种，将来使用关联关系重构的时候，改动比较小。", " 那么你是支持哪一种?", "说错了。。。 Laravel 自带的 Relation 就是极好的，没必要这么折腾", " 看你描述的这个场景我觉得还是第二种比较好", "你们团队都没有看过文档的 Tutorials 么\r", "\r", "\r", "class User extends Authenticatable\r", "{\r", "    // Other Eloquent Properties...\r", "\r", "    /**\r", "     * Get all of the tasks for the user.\r", "     */\r", "    public function tasks()\r", "    {\r", "        return $this->hasMany(Task::class);\r", "    }", "20%的回复提到了 hasMany()，靠谱！", "赞同 @", " 我觉得还是放在 Car 中合适些，系统里与 User 相关的 model 太多了，放里面只会越来越庞大，个人觉得为了“更面向对象”放里面不是个好的设计\r", "随便选一个算是智者见智吧，可以参考下领域模型中的相关设计 ", "按业务逻辑拆分功能。\r", "当你上 Car 这个业务时，就有了“用户所有的车”这个功能。当你要下线 Car 这个业务时，如果你还有去改 User 业务的代码那是不太合理的。\r", "所有结论就是：这个功能属于 Car 业务，就放在 Car 业务相关的代码里面。", "model 里应该都是 hasMany 和 belongsTO 的关系。。你这代码应该是放在 repositories 里。具体看这个：\r", "多表查询的话我是以主表为主的\r", "这里的主表应该是 car\r", "话说我也会写在 service 层", " 你都没有看帖子吗? \"不使用关联关系不手写 SQL 时, 我们团队在争论这两种写法的优劣, 想看看大家的看法.\"", "支持写在 User 中", "要看是否一辆车是否属于多个人，或一个人是否拥有多辆车。\r", "看数据表结构，应该是后者。\r", "\r", "我习惯会把\"->\"当成\"的\"。$user->cars()会更好， User 中使用 hasMany()。\r", "\r", "个人习惯~不代表权威", "写在 User 中?那一个用户，如果有多辆车，那是 User 表中多条数据？那还叫 User 表？ User 表不是一个 user 一条数据？", "hasMany 是正解，不要 anti pattern", "还是推荐使用 relationships ，没必要这么搞，不过回到这个问题，还是放 User 里合适", "一个破 SQL ，费用要什么 HasMany ，遇到复杂设计的，奇葩需求的，统统不好使。真心不喜欢框架这种 ORM ，简单的业务还行，一遇到复杂的需求，还是直接写 SQL ，建立一个 model ，自己处理的好！", "按你这个设计 那就应该放第二种, 并且 user_id 不作为必要条件  这样更能复用", "hasMany 和 belongsTo 什么的可以很好的完成你的需求，尤其是配合预加载的时候。\r", "\r", "顺便吐槽一下第一种，你在一个 Model 里面写另一个 model 的 where 条件查询，不觉得怪么？", "孩纸们，忘掉 ORM 这种东西吧！", " 哈，你这把 android 黑得毫无破绽啊，高！", "1. 肯定会定义关联\r", "2. User->myCars()", "如果在不使用关联关系的情况下，我选第二种，各自操作各自的表，互不干扰\r", "当然要是用关联关系的话，那就是 User 里使用 hasMany\r", "\r", "ps ：我觉得比较规范点儿的表结构是 users ， cars ， user_car 三个表", "表的名称应该为复数，多数情况下是加上个“ s ”， user 表名应该为  users ，这也是 laravel 默认的命名方式。\r", "ORM 中如果不是这样复数的表，你可能要多写几个代码\r", "\r", "-----抱歉，我并没有回答你的问题-----", " 顶\r", "如果是我我就把这个方法写在 car 中，并且为一个静态方法.\r", "首先你取得的是 car ，而不是 user ，这一点就应该在 car 中\r", ".\r", "并且你这个方法想必跟 car 实体本身没什么太大关系，那这个方法就应该是一个静态方法.\r", "至于如何在 user 获取所有的 car ，那就是 user 如何去调用 car 类中的方法的事儿了.", " 用 relation 在将来可以写 whereHas (a.b.c.d )，手写 SQL 不会疯？", " 我们的 SQL 都是一个连很多张表的，动不动就半页 SQL ，自然不能 ORM 了", "个人觉得这和 ORM 与否没什么关系，不是 Eloquent 才会出现的疑惑，更和面向对象没关系，因为我们的开发，早已经假设一切问题都建立在 oop 之上。并不是说 this.id 就是 oop ， oop 更多的是一种思考问题的方式。\r", "\r", "我们从思考问题的方式出发。\r", "\r", "首先还得看业务需求，如果 User 是一个模块 /领域模型 /聚集的根（主入口，唯一标识），那么它内部所维护的各个值对象理应通过 User 来拿，我们姑且以模块来称呼这个 User 的功能，如果 User 这个模块的一个重要功能是按照特定的 User 实体去获得属于他的 /关联的其它对象，我想不出为什么不直接写在 User 数据库类中，因为，特定的用户不存在的时候，与他相关的一切其它值都将失去意义。 Laravel ORM 把对象关系映射、实体、模块聚集浓缩到了一层中，直接去在 User 对象中访问模块内部的其它元素便是了。然后你可能因为测试 /关注分离 /业务和基础设施分离等原因，可能会在客户端代码和 User 对象中增加类似 Repository 、 Factory 之类的东西，这个时候 Factory 返回的将是一个 User 模块的聚集，它的根是 User 对象，它的其它元素，就是你自己维护的与  User 对象相关的其它实体。\r", "\r", "尽管这样我也见过有人用另一种方式，也就是使用动态的数据库查询去返回对象（楼主的方法 2 ），这么做的目的是给 User 模块瘦身，但是我个人偏好第一种。第一种方式拿 User 的关联元素， 维护时可能仅仅需要修改特定类的方法，第二种则要修改分散到系统各处的条件，甚至更复杂些，有人用对象表示查询条件。"]},
{"content": ["<div class=\"topic_content\">我建了 3 个表,produts,produts_attribute,produts_attribute_group;\r<br>products_attribute,用来存商品规格名称以及规格对应的 key;\r<br>products_attribute_group,用来存商品不同规格组合,和该组合对应的库存,单价;\r<br>感觉每次数据库操作起来很麻烦,前后端传值也不是很好,求问有好点的数据库设计嘛?</div>"], "reply": "83", "tittle": "大家有做过商品多规格的功能嘛?商品的不同规格对应不同价格和库存一般是如何实现的?", "comment": ["可以参照 ecshop 的设计", "每个 SKU 拥有独立的 id ... 传值的时候传这一个 id 就可以 ...\r", "\r", "比如一台手机有三网三色两种存储 ... 在数据库里就有 18 条记录 ...\r", "\r", "我近两年时间写了三套商城了 ... 我可以很负责任的说如果按照你这么建表后患无穷 ...", "楼上正解", " 求教你的建表方式", " SKU ，最小存货单位，如果两个商品完全无法从规格上区分，那么它们是同一个 SKU ，比方说一个应用的某个版本的某个渠道包就可以算一个 SKU ，因为无论何时，从这个渠道下载的这个版本总是相同的文件", " 对对,就是这样的,\r", "我这 18 条记录都存在了 products_attribute 里面\r", "(规格 ID,商品 ID,商品属性名,商品属性值);\r", "在 products_attribute_group 里面\r", "(主键 ID,商品 ID,规格属性组合,规格对应库存,规格对应价格),属性组合里面就是按逗号把规格的 ID 存在里面,\r", "例如存的 1,3,4 这样;\r", "因为之前没搞过这一块,现在就已经感觉后患无穷了 T_T...\r", "能分享下建表的方式么..", " 这样建表,查数据,解析都感觉超级麻烦,尤其是东西传到前端,然后页面上的显示,和处理,都很坑爹,实在不知道有啥好的办法..", "不同规格的商品直接当做不同的商品处理，但是可以增加一个字段指向无规格的商品即可。", " 没太明白,那还是需要建 3 个表,商品表,规格属性表,SKU 表,类似这样嘛?\r", "SKU 里面存的和我在 products_attribute_group 里面存的字段类似,那和我之前这种差别不大啊", "SKU ，然后加个现实 SKU 不就好了，再价格状态不及好了。\r", "\r", "多研究其他软件的数据库结构吧。\r", "\r", "不过别研究 magaento 那个 eav 模型，坑死。", " 意思就是两张表,products 表和 sku 表,\r", "sku 表里面存的就是 sku_id,product_id,attribute_key,attribute_val,stock,price,\r", "我并不需要把 attribute_key 和 attribute_name 单独用一张表存起来,\r", "在商品详情里显示多规格选项的时候,我只需要拉取 products_id 对应的 sku_id 的数据就好了,是这个意思嘛?", " \r", "\r", "1 张表。数据怎么存我不管。\r", "\r", "比如有 2 个字段\r", "\r", "sku,sku_belongs_to\r", "\r", "拉的时候直接拉 sku_belong_to isnull 的。\r", "\r", "进入详情页的时候再把 sku_belongs_to 和相关页相符的都拉出来，通过 ajax 切换。\r", "\r", "之前一个项目就是这么做的。", "给你做了个例子 ... 见下 ...\r", "\r", "mysql> SELECT * FROM `ware_product`;\r", "+----+----------+--------------+------------------------------+--------+\r", "| id | category | name         | attributes                   | status |\r", "+----+----------+--------------+------------------------------+--------+\r", "|  1 |   329475 | 某种手机      | [\"网络\",\"颜色\",\"存储\"]         |      1 |\r", "|  2 |   131329 | 某种衣服      | [\"尺码\",\"颜色\"]               |      1 |\r", "+----+----------+--------------+------------------------------+--------+\r", "2 rows in set (0.00 sec)\r", "\r", "mysql> SELECT * FROM `ware_item`;\r", "+----+-----+--------+--------------+------------------------+---------+-------+--------+\r", "| id | pid | fakeid | name         | attributes             | price   | stock | status |\r", "+----+-----+--------+--------------+------------------------+---------+-------+--------+\r", "|  1 |   1 | 583701 | NULL         | [\"电信\",\"白\",\"16G\"]     | 1999.00 |  NULL |      1 |\r", "|  2 |   1 | 583702 | NULL         | [\"电信\",\"黑\",\"16G\"]     | 1999.00 |  NULL |      1 |\r", "|  3 |   1 | 583703 | 最后五台      | [\"移动\",\"黑\",\"64G\"]     | 1999.00 |     5 |      1 |\r", "|  4 |   2 | 241351 | NULL         | [\"M\",\"红\"]             |  128.00 |  NULL |      1 |\r", "+----+-----+--------+--------------+------------------------+---------+-------+--------+\r", "4 rows in set (0.00 sec)\r", "\r", "这是个简单的模型 ... 我把没用的东西比如副标题推荐语图片角标等等都去了 ... \r", "\r", "库存也只是写个意思 ... 实际上库存不在这里 ...\r", "\r", "Product 表是抽象的产品表 ... 当前产品下的所有 SKU 的共有属性保存在这里 ...\r", "\r", "Item 表是具体的详情表 ... 所有涉及交易的实体都存在这里 ...\r", "\r", "用户可感知的只有 item.fakeid ... 通过 fakeid 取得其他所有数据 ...", "看淘宝似乎是相同商品，不同属性，京东则是不同规格不同商品，如果物流自己做又复杂的话，可能不同规格不同商品好一些吧，否则整个流程太复杂了", "\"用户可感知的只有 item.fakeid ... 通过 fakeid 取得其他所有数据 ...\"\r", "     这个 fakeid 具体会做些什么呢？", "可以参考下 ", " product 开头的, 可以通过 variant product 实现, 每个 sku 都有自己的 product 记录", " 不同商品不同规格的话，没法做的吧？那跟楼主将来会遇到的问题有什么两样？", " 你理解成商品 id 就可以 ... fakeid 和自增 id 是一对一的关系 ... 用于数据传输 ...", " \r", "\r", "这个都该对应 sku 吧……", " \r", "\r", "“库存也只是写个意思 ... 实际上库存不在这里 ... ”\r", "\r", "我看你库存放到了 item 表里，而你说实际应该不在这里。那么你是不是有个库存表，用商品 id 作为关联的？", " 这个结构我觉得挺好理解，就是这句“库存也只是写个意思 ... 实际上库存不在这里 ... ”，那么库存会放在哪里？这么设计的原因又是什么呢？", "请记住我的这几点，你说的叫做商品组合，商品多包装，入库时候拆分到最小单品即可。", " 不在面是正确的。设计原因主要就是购物车发生订单的时候会有个锁库存，取消订单时会有个解库存的操作。还有别的对库存的操作，这样就会对存库存的表的 db 操作过大，导致系统平井。所以，我想问的如果你不放在这个表里，那是放哪？如果还是单有个表的话，那么一样也会碰到刚才我的说的那些情况。那么更好的解决方法就是利用 nosql 存，那么问题来了， sunyanzi 你们真的是这样做的么？", " 你有三个手机，分别是 16g 64g 128g 。那么你说的最小单品如何拆分？", " java 的， 不做 java 的还得搭 jdk 吧？", " \r", "\r", "mpsonyt3red16G\r", "mpsonyt3red64G\r", "mpsonyt3red128G", " 理解错误， 16g ， 64g 就是最小单品。你要这样理解，怡宝可以一片片卖，可以一箱箱卖，可以跟别的东西促销卖，但是最后入库是一瓶怡宝。", " 请问 jarlyyn 和你说的是一个意思么？", "我按照大家的思想得出以下结论。\r", "还是 3 个内存量的手机为例，\r", "在数据库中这个手机为 plu ，存在一张商品表里， id 为 1\r", "3 个内存量分别存在属性表中，关联这个 id=1 的商品。\r", "\r", "在页面上显示这个手机的页面，会先得到商品 id ，然后通过商品 id 获取属性，然后循环出 3 个内存量的规格。\r", "然后用户进入页面访问，默认为 16g 。 url 中带着 id=1 ， item=1 。当用户选择 64g ，则 url 改为 id=1 ， item=2.", "当用户产生购买行为的话，买了台 64g 的。那么我们就需要把这个 64g 手机的库存减少。而这样设计的话，库存其实应该与 item 做关联吧？", " 谢谢小哥~", " 你理解了么？我现在很关注这个帖子", " @", " 对于简单的情况来说写在 Item 表里也没什么问题 ...\r", "\r", "但实际的库存远不是一个数字就能简单解决的 ... 记录各大区各仓库的库存情况就不止一张表了 ... \r", "\r", "加上出入退库记录 ... 货物调配 ... 库耗控制 ... 呆滞警报等等杂七杂八的事情 ...\r", "\r", "再算上厂家直发的部分 ... 总之库存这两个字的复杂程度绝对超乎你想象 ...", "我最开始的那 3 个表,已经实现了,商品库存及对应规格库存的下单减少,取消订单回退的效果了,只是感觉数据解析起来太麻烦,而且下单的时候,那个值传的..不是很好控制.\r", "我除了直接下单需要操作库存,拿单价,购物车多个商品还要再来一遍,实在是很头疼..\r", "1.京东那种,每个规格就相当于一件单独的商品,点击不同规格会把页面重新 load 一遍;\r", "2.淘宝那种都放一个页面,然后前端控制显示对应库存和单价;\r", "1 和 2 哪种会更方便实现...", "我的业务并没有那么复杂,只是想换个更好的表来替换掉原来实现多规格的逻辑", " 我..我我..还是没太理解透\r", "京东那种我懂了一点点,\r", "譬如说,iphone, 是手机,就是一个很普通的商品,即一件单品,有一个 product_id;\r", "然后规格来了,16G 土豪金 iphone (A),16G 太空灰 iphone(B);\r", "A,B 两个规格的 sku_id,关联着同一个 product_id;\r", "我在商品详情页面显示这个 product_id 的 iphone 的时候,前端去找后台拿到它下面所有 sku_id 的数据;\r", "然后 js 把这数据渲染到我页面的 tmpl 上,用户下单的时候,我就传 sku_id,就够了.\r", "\r", "-----不知道是不是这么玩的..", " 你可以同时实现 1 和 2 ... 不想 reload 的话一次读完前端控制切换就好 ...\r", "\r", "论方便实现的话哪种都方便 ... 但这两种方式其实并不仅仅是刷不刷新页面的区别 ...\r", "\r", "你还是没 Get 到点 ... 这两种模式最核心的区别在于能否直接通过 URL 选中商品的规格 ...\r", "\r", "所以具体选择用哪种还是要看你的业务场景 ... 没办法一概而论的 ...", " 对哦..好像是那个意思,我现在的业务场景不需要通过 URL 选中商品的规格,我只需要后台把规格的数据直接传给前台就够了.\r", "一旦我用了 sku_id,后面的生成订单,退换货等,我都存 sku_id,对吧?就不再使用 product_id 了.\r", "还有个小问题...\r", "produts 表的库存总量,是我的代码控制,让 sku_id 里面的库存累加,还是让管理员自己输入,一般是哪种做法呢?现在我项目用的是后者.", "这种情况  我更喜欢 mongo \r", "\r", "关系型数据库  对付这种无限规格 实在是太蛋疼....", " 你怎么用代码控制 ..? 一种三色手机只有白色有货用户下黑色单你能过 ..?\r", "\r", "以及我顺便提一句 ... URL 和规格无关代表用户点击进来必须手动勾选规格或者只能买默认 ...\r", "\r", "如果不确定的话还是问问你们产品吧 ... 省得做完了再改 ...", "竟然看到了鸭子", " (<ゝω·)☆ 绮罗星～ ☆ kira\r", "\r", "嘛其实我也是手贱啦 ... 本来都决定了不谈论技术的 ... \r", "\r", "结果看到这种对口的问题还是忍不住啊 ...", "mark,关注一下", "建议可以参考 IBM WCS 的表设计", " 最简单的来说吧。厅装哈尔滨啤酒有一厅厅卖，然后也有可能 6 个一组组卖，也有可能一件件卖（ 24 厅）。每一种规格都是一种新的价格。当我们输入一件件条码，一组组条码时候系统应该自动拆分为单厅条码入库。原因很简单，别人上柜台的时候自动拆分了整件，然后拆分了组。\r", "sku ， Stock Keeping Unit （最小存货单位）。", " 兄弟我觉得那个 sku 你理解上跟我有偏差。", "个人感觉 @", "  的方法比较好，就是京东的这样的方式。", "别纠结 SKU 什么的。\r", "很讨厌跟阿里系出身的程序员、受阿里系代码逻辑影响谈商城系统设计。\r", "天天就 SKU SKU 的……\r", "\r", "只要有任何参数不同的，就是两种商品。\r", "然后，提现所谓 SKU 的，只是显示层聚合，就是在 itemshow 的页面里面，根据配置去把本质是定义成不同的商品的东西聚合显示而已。\r", "\r", "这种结构清晰，性能损失小，而且容易充分利用缓存系统。", " \r", "\r", "sku 和阿里什么关系？", " \r", "反正我发现他们出来的开发，天天把这个挂嘴上……", " \r", "\r", "难道不是因为这个是业界标准，甚至出现在阿里创立之前么？\r", "\r", " 永远不可能是程序员开始提 sku 这玩意的，要赖也得赖产品。程序只是照产品的意思表达的", " \r", "我说的不只是 SKU 这个名词\r", "我表达不太好抱歉\r", "很多阿里出来的高级开发，就总想着把 SKU 做到一起去，类似一楼的思想，就是这些东西一定是关联的，然后搞出一堆复杂的逻辑，可能内部实现非常好，技术、性能都非常牛逼，别人一看巨复杂，而且难以改变这个思想。", " 不用道歉哈，多大点事。\r", "\r", "不过话说回来。这东西还真是处处关联的吧。同时，也需要一堆复杂的逻辑吧？", " \r", "\r", "实际生产上，我自己做的项目，以及我曾经加入的几个团队，都不是阿里那种处处关联的玩法。\r", "每个 SKU 都是一个独立商品，在 item_show 的逻辑上进行一下关联聚合的比较多 顶天二次 ajax 一个库存余量虚了一些不存在的组合", " 请问你是如何看出的京东和淘宝是不同的唯独。我看京东怎么都是静态页面呢？", " 那咱们先不说阿里的玩法吧。就说你参加的几个项目。照你所说，我感觉你的意思和楼主所说的表设计差不太多。但是，@Sunyanzi  说如果每个 sku 都是一个独立商品会后患无穷，具体什么后患我不清楚只有过来人才能说出。不知道你能不能提供个建表思路呢？感谢", " 我现在都是手机，最近长期驻医院陪护，等我倒开空给你发一组。楼主的我看的也不太仔细。\r", "\r", "粗略的说 我的建表思路就是所有都独立商品，然后一个表存储哪些商品聚合在一起显示，一个额外的表对于非单条件聚合提供关联方式(比如颜色和尺码双选择这种)\r", "\r", "具体表结构等我忙完给你找代码示例吧。", " 首先，谢谢你热情。其次，得祝福一下你陪护的亲人，望能快快好起来。今年，我姥姥也有一次肺炎住过院，要命的病陪护很费自己的精力和体力。我完全能理解。请原谅允许我说下私心话，由于我也处在电商的项目中，时间不等人，我也强烈期望着有经验人的经验，望能够理解。不过，没有关系我可以尽量等待哈哈。\r", "最后，愿你以及你的家人过一个好春节。", " 每个人对 spu 和 sku 都有自己的理解，可是真理只有一个，那么我们可以讨论一下什么是 spu 和 sku 。这样有助于理解的正确化，也有助于帮助程序提早的矫正框架的 spu 和 sku 概念。下面，我说说我对这两个单词概念的理解。\r", "spu 就是商品，是不同 sku 组合成的一个实体。 比如， iphon6 就是一个 spu ， iphone5 就是一个 spu 。\r", "sku ，最小单位化，和你刚才说的一样。不如，颜色，大小，重量。\r", "\r", "那么总结起来，颜色 sku 为金色，大小 sku 为 6.5 寸，重量 sku2kg （数都是我随便举的）。组合起来的就是 spu 是土豪金 iphone6plus 。 同样，白色的 iPhone6plus 又是另一个 spu 。但是，金色和白色都是 iphone6plus 这款产品。 不知道我这么理解有没有问题，如果有请帮指正，感谢", "我 google 了下 spu 和 sku 的理解。第一篇文章的作者和我的想法一样： ", " 这个是知乎专门问 spu 和 sku 的。回复的人跟我说的不一样。而我觉得人家说的很对~我开始感觉我的理解出现了偏差。。", "经过我的思考。我否定了刚才我的理解。现在重新归纳，望大家指出不对的地方\r", "\r", "中国产的 iphone6plus 是一个 spu   那么金色 6.5 寸 2kg 是一个 sku 。白色 6.5 寸 2kg 是一个 sku", " 伪静态，数字就是商品 ID ，也就是 skuid ，你可以对京东和淘宝的分别加一下购物车看下参数就知道他们怎么设计的数据结构了，淘宝加购物车有两个 id ，一个是 item_id,另一个是 skuId ，京东则只有一个 pid", "实际上，商品系统的开发，有非常多的因素需要考虑。不仅仅是满足当下需求的问题，你得知道，给你需求的业务口人员，可能自己都搞不懂真实的需求是什么，或者会变成什么。\r", "如果是我做,对于一个全新的电商项目的商品部分的数据结构,说一个偷懒的做法,仅供参考:\r", "1 、分析提取商品的最大共性,比如名称,描述等形成商品表；\r", "2 、然后所有个性信息,比如颜色,规格等等,全部用一个 XML 描述。这个 XML 描述也存在上述商品表的某个字段中；\r", "3 、针对后台维护和前端显示，通过前端 JS 实现各种需求下数据的各种常见呈现和操作，同时 JS 能够对不同版本的商品 XML 向下兼容。\r", "\r", "这样做的好处是，减低未知需求变化对数据层的影响。反正业务部门需求天天都在变，我们最终只在 XML 上做描述就可以实现这一块的业务变更。技术资源主要投入在通用组件的开发上，比如根据 XML 结构自动形成下拉条，多选框之类的东西。\r", "\r", "再有像库存数量变化的问题，实际运行中会有很多情况发生，比如下单暂未付款的库存锁定、释放等等，这个和业务部门的需求都是密切相关的，也许这次是要下单就减库存，也许下次就变成未付款超时释放库存，这些都是不确定的。那这种情况下，技术部门当下要考虑的就是，怎样做好技术储备，在需求变化时用最小的投入最快的满足需求。\r", "以上，参考参考。", " 那这个 xml 的数据格式弄成怎样的呢?也是存 金色 6 寸  100(库存)  88.00(单价) 这些数据?", " 我按照你说的做了一下。和你说的有些出入\r", "\r", "这个是京东的， pid 的话是 productid ， rid 就不知道是干什么的了，至于 em 就更不知\r", "\r", "这个是淘宝天猫的， itemid 是商品 id ， uid 是我登入的用户 id ， spm 看不出来是啥？", " 说的是这个庞大系统中的一小部分。就是这个小部分还会有不同的业务逻辑。所以，我们还是把问题放在一个地方上，防止发散。", "来个直接点的吧， show me your code", " 真正加购物车的不是这两个。。。 ajax 请求里做的，这两个只是加成功的提示页", " 是啊，把所有关于具体商品的差异都用 XML 中描述和储存。\r", "XML 的字段内容类似这样:\r", "<商品属性>\r", "\t<商品编码>SPU_ID</商品编码>\r", "\t<颜色>\r", "\t\t<白色>\r", "\t\t\t<16G 价格=5000></16G>\r", "\t\t\t<64G 价格=6000></64G>\r", "\t\t</白色>\r", "\t\t<玫瑰金>\r", "\t\t\t<16G 价格=5000></16G>\r", "\t\t\t<64G 价格=6000></64G>\r", "\t\t<玫瑰金>\r", "\t</颜色>\r", "\t<其他属性.../>\r", "</商品属性>\r", "\r", "然后你要写什么就都放里面好了，最后做一个解析器去解析和呈现 TA 。这个 XML 的结构是可以有版本的，比如你今天做手机有如上属性，过一段日子你可能要做服装，那么在这个基础上增加元素就好了。\r", "这样你主表中只要存储诸如 SPU_ID 这样的所有商品都具备的共有属性就可以。\r", "理论上只要是有关联结构的存储，你最终总能实现你所想要的功能。只是实现的代价高低之分。\r", "\r", "其实写着写着，觉得楼上说的没错，有些偏题了。我这个说的是存储灵活的问题，你问的可能是入参规范和涉及的合理数据结构的问题。\r", "如果是希望入参一致，那么按照楼上一个 SKU 对应一条记录（或一个 XML 内容），应该是比较好的做法了，原则上都是以 SKU 为单位进行存储。", " \r", "用 json 处理更加简洁吧\r", "不过 mysql 也要 5.7 才支持 json", " 这样检索的时候效率如何？", " 咦这么久之前的帖子还能被发现啊 ...\r", "\r", "缓存不算 ... 分类检索是索引命中 ... fakeid 检索是唯一命中 ... 单表的情况下检索效率不能更高 ... \r", "\r", "关键字检索是由另外的系统提供的 ... 就不在这里说了 ...", " 全部看完回复，认为和 ecshop 和 shopex 结构差不多，一直用这种结构开发商城 3 年，几个问题一直在困恼。\r", "不知道这么长时间是否还可以看到！\r", "\r", "问题 1 ：\r", "这种结构在做前后台显示规格方面，不能对例如： IPHONE 手机，白色，下面无货的进行过滤，只能按照一个算法把全部规格列出来，不能对超过 2 级的分类，单独控制状态，这个看到你有回复，但不知道有没有解决方案\r", "\r", "问题 2 ：\r", "如果价格，库存这一类商城必须要进行排序的，那么你表里面的 ware_item 这个里面应该必须要记录价格、库存，否者怎么进行排序？\r", "\r", "如果可以，希望能有联系方式，想深度沟通下！", " 兄弟，能放个具体点的表看看嘛。我也还是很困惑", " 等 @", " \r", "\r", "但实际的库存远不是一个数字就能简单解决的 ... 记录各大区各仓库的库存情况就不止一张表了 ... \r", "加上出入退库记录 ... 货物调配 ... 库耗控制 ... 呆滞警报等等杂七杂八的事情 ... \r", "再算上厂家直发的部分 ... 总之库存这两个字的复杂程度绝对超乎你想象 ...\r", "\r", "\r", "库存这个也是一个问题，如果用其他表来记录，相互交织，很复杂", " 啊我这两天没注意提醒消息 ... 久等了 Sorry ...\r", "\r", "我刚喝完酒回来现在理解力可能有点跟不上 ... 我没明白你说的「不能单独控制状态」是指什么 ...\r", "\r", "比如 iPhone 白色 对应唯一 SKU id ... 然后这个 SKU id 对应一个库存状态 ... 这有什么查不到 ..?\r", "\r", "另外我这几个系统在用户端都没有按库存排序的功能 ... 如果你有需求就把库存冗余在表里即可 ...\r", "\r", "库存的涉及面很广的 ... 商城只是整个库存管理体系中小小的一环而已 ... \r", "\r", "当然如果你不做后面供货的部分就完全不用管库存的事情 ... 只要做了就肯定会有其他一堆表了 ...\r", "\r", "至于联系方式 ... 你看我的头像 ... 看到那三个定位块 ... 没有想到什么吗 ...", " 大神 我最近也要设计一个商品&产品&库存的表结构 以前没做过这个 能指点指点吗？看上面的回复 很乱啊 你的头像是二维码？识别不出来啊", " 点我的用户名 ... 在个人页面扫 ... 如果还是扫不出就试着放大一些页面吧 ...\r", "\r", "以及如果你只是要「指点指点」的话其实我不太知道该说什么诶 ... 你至少得有个方向吧 ..?", "京东的商品 SKU 设计比较优秀\r", "举个例子：博世的空调滤清器，再商品列表页空调滤清器分类博世品牌下全是同一 SPU 不同 SKU 的热销商品，进入到单个商品页面里，也可以选择其他的 SKU ，选择其他 SKU 就跳转到相应的页面。\r", "这样价格、库存都在商品表里保存，只需加一个 SKU 表，保存相关的 SKU 商品配置关系即可。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>之前帮朋友做了一个网站,用的 PHP, 网站运营了有半年左右.\n最近发展有一个表其中有些记录有一个记录被改了, 经查不像是自己改的\n有没有什么方法可以确定出字段是怎么改的?\n能不能找到 mysql 的 update 日志?\n或其它方法?\n多谢</p>\n</div></div>"], "reply": "10", "tittle": "网站被黑有什么方法可以很快找出问题所在?", "comment": ["先从日志入手把不速之客的脚印找出。", "看 web 服务软件的 的访问日志。 用 grep 去匹配对应的访问地址。肯定找到一些痕迹的。\r", "mysql 没开 biglog 就别想查了", " 发现没有开日志.\r", "目前只能找到是什么时候改的, 并且不是通过我的 api 改的, api 改的话会改里面的 updatedate 字段.", "找找有没有 PHP 木马，或者一句话木马，看看用户可上传文件的目录（比如什么头像文件之类的）", "找 access log 记录，操作系统 history 记录，这些都看看", "还可以按照时间查看文件的访问修改时间", "可以对比下本地和线上的网站代码，也有网站检查工具脚本什么的自己可以测试下", " 话说你们线上服务器的 history 都保留？我的都 ln /dev/null", "上云锁： ", " \r", " \r", " \r", " \r", " \r", " \r", " \r", " \r", "经研究修改我的这个字段的值并没有走我的 api, 因为 api 修改的, 会 update utime 这个字段\r", "mysql 没有开 log, \r", "access log 应该没有什么用\r", "求支招"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"http://wallstreetcn.com/nativeapp/node/258112/comments\" rel=\"nofollow\">http://wallstreetcn.com/nativeapp/node/258112/comments</a>  类似这种页面，老是 404 。</p>\n</div></div>"], "reply": "1", "tittle": "有华尔街见闻的嘛？", "comment": ["华尔街见闻的评论是一个经典的存在，唱空中国经济。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>怎么样执行伪图片中的代码<br>\n比如 index.php 中写了 file_pust_contenst('./1.txt','abcd');\n然后把 index.php 改成 index.png\n怎么让这个伪图片执行</p>\n</div></div>"], "reply": "11", "tittle": "怎么样执行伪图片中的代码", "comment": ["输出 js, window.location.href...", "问题好笼统，我把.png 配置成用 php 解析，是不是也算一种办法？", "楼主要干坏事？", " 我让伪图片执行 php 程序   不是执行 php 文件", "  也不算吧,很好奇 怎么执行的", "cli:", "php path/to/index.php", "web:", "配置成扔给 php 解释不就行了。。", "这和解析.php 是一样的呀！", "$file_content = file_get_contents(xxx.jpg);  \r", "\r", "xxx.jpg 内容 phpinfo(); \r", "\r", "eval($file_content);", "或者改文件解析配置，如果是老版本 Apache 带解析漏洞的那种，改文件名 index.php.png", "chmod+x \r", "./pic.png", "  谢谢大牛回答"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>不知道各位开发工程中对设计模式运用多少</p>\n<p>不过有时候一些设计模式可以让代码更加健壮</p>\n<p>地址： <a href=\"https://github.com/igo9go/phpDesignPattern\" rel=\"nofollow\">https://github.com/igo9go/phpDesignPattern</a></p>\n</div></div>"], "reply": "4", "tittle": "PHP 常用的一些设计模式总结", "comment": ["野路子出身，听到“设计模式”这个词第一反应是这个人是不是 Java 的背景。\r", "按我的理解就是 OOP 思维，功能分块做 Abstract 和 Interface ，实例 extends 或 implement ，再用 Service Provider 串起来。\r", "\r", "随便翻了一下这个 repo ，还用 mysql function 做例子+字符串拼接 SQL 似有不妥\r", "嗯，是的。这个只是一种思想，别太在意具体实现", "写的挺好的， 只是目前以大写开头的文件名一般都是类，所以 .class.php 的写法建议换一换，有四五年没见过这种写法了，实话说还是很不习惯。", "写的不错,学习了,赞"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"\" src=\"http://i4.buimg.com/567571/83c380e0ca697939.jpg\"></p>\n<p>如图。</p>\n</div></div>"], "reply": "4", "tittle": "奇怪的 addslashes 返回结果。", "comment": ["把双引号改为单引号", "首先你要知道双引号里面\\0 就是\\x00 ， 0 字符， ascii 编码 0 。\\1 、\\2 同理，他们都是不可见字符，双引号里字符串的原文是这样的\r", "[\\0][\\1][\\2][\\3]['][4][\\][a]\r", "\r", "然后这里 addslashes 对[\\0]['][\\]三个字符做了处理（ RTFM ）\r", "\r", "所以结果是\r", "[\\][0][\\1][\\2][\\3][\\]['][4][\\][\\][a]\r", "\r", "\\1\\2\\3 都看不见，仅此而已\r", "\r", "最后，都 2016 年了，还是别用 addslashes 了吧", " 3q ，一般你都用什么函数过滤呢，主要防止注入。", " 用`PDOStatement::bindValue`"]},
{"content": "", "reply": "7", "tittle": "Lumen 是否精简过度？", "comment": ["这个用来做 api 方面的网站效率非常高，干掉了很多没必要的功能。\r", "你想要功能多的话，还是用完整版的 laravel 吧。", "是，做 api 的时候遇到了一堆坑，真是泪流满面啊，全是精简导致的。。。但是后面想了想，如果追求效率的话，我为什么当时不去用 phalcon 呢，果断还是脑抽了。。。", "我大 yaf 都精简到只剩下一个路由和 autoload 了", "曾使用 Lumen 做了一个 API 项目，个人感觉使用 Lumen 还不如使用 Laravel ，毕竟瓶颈并不在于框架的性能上，而开发效率却不如 Laravel 得心应手。", "用 slim framework 吧", " 所以最后选择了 phalcon ？", " 没，后面大概再改就去换了吧。。。懒得折腾了=。="]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我就是不想加括号读写静态属性，太不美观了</p>\n</div></div>"], "reply": "6", "tittle": "为何 PHP 有__callStatic()，没有__(get|set)Static()", "comment": ["ReflectionClass::getStaticPropertyValue", "本来就可以直接 Class::$property ， 还要什么 setter 阿：）", "你为什么不说本来就可以 Class::method()。\r", "\r", "直接读写数据不符合 OOP 的思想。\r", "不同的属性需要经过不同的处理才能读写，不然我就不需要这个 Magical Method 了。", " \r", "看 3L\r", "而且为了避免外部随便读写和调用，属性和方法肯定就是 private 的了。\r", "还\"::\"什么。", " 如果这么说的话，  getter 和 setter 也是破坏封装性的呀。问题是我们不是想方便么：）", " \r", "So fucking funny.\r", "从你的回复就能看出你的水平了，替招到你的公司默哀。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>求老司机赐教 谢谢了</p>\n</div></div>"], "reply": "8", "tittle": "php laravel5 的静态 公共方法在哪里设置？", "comment": ["app 目录下建 helpers.php ，然后 composer.json 里加自动加载。\r", "貌似新版 5.3 有？暂时没留意 5.3", " 在 composer.json 的 autoload 里面吗？", "不写在类里面的话，可以借助 composer 。比如你写在 app/helpers.php 里，可以在 composer.json 里添加\r", "\"autoload\": {\r", "        //其他省略\r", "        \"files\": [\r", "          \"app/helpers.php\"\r", "        ],\r", "    },\r", "然后 composer dump-autoload 就可以用啦", "楼上诸位的方法感觉极为不靠谱，难懂 laravel 这么优雅的框架却只能用这样不优雅的方式吗？", "写成 service 然后用 facade 加载也可以", "所有非静态 public 方法，先 servieProvider 注册提供者，然后注入门 facades 。即可随意用静态方法。官方目的很简单，即开即用。 为了 IDE 能智能提示，装一个包 idehelper 即可", " 大侠 把你认为优雅的做法写出来啊"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>$buf = file_get_contents(\"photo.dat\");\n$buf = unpack(\"C*\", $buf);\n$GLOBALS[\"magic\"] = $buf[1] ^ 0xff;\n$photo = array_map(\"my_xor\", $buf);\n// 这上面都是对的\n$photo = pack(\"H*\", $photo);\nfile_put_contents(\"photo.jpg\", $photo);\n</code></pre>\n<p>结果写出的图片大小才几个字节。。。\n想知道是哪里错了。。。\n实在 google 不出来</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>不好意思，Callback函数忘记贴上来了。。</p>\n<pre><code>function my_xor($b)\n{\n\treturn $b ^ $magic;\n}\n</code></pre>\n</div></div>", "<div class=\"topic_content\">结帖！感谢各位的帮助！</div>"], "reply": "21", "tittle": "php 的 pack 函数写出图片文件遇到的问题", "comment": ["告诉我你用的什么代理 我就告诉你怎么解决", " 代理是指什么？", "你都能 google 了 翻墙的梯子啊！", " 用的 Shadowsocks 啊。。。你可以教我怎么解决了吧。。", "我先听一下你的需求吧 看你的代码容易和你犯同样的错误", " 就是读取 dat 文件，把里面的每个字节与指定十六进制数异或，然后将异或后的数据保存为 jpg 。", "图片开头若干个字符是描述信息，你做异或运算不应该包含这些字符", " 不是描述信息，整个图片的数据都被加密了。", "这贴就这么死了？", "my_xor 函数贴出来啊 加密是你加的吗？还是你要破解", "为什么不用 fopen ？？\r", "你应该去看一下 pack 是怎么传参的。\r", "还有“ my_xor ”是什么鬼？", " 已贴出来，我要破解。\r", " 已贴出来。\r", "\r", "按理来说字节数异或后应该是不变的，但是写出文件后字节数居然变了。。。", "感觉悬 看来帮不上你了", " /(ㄒoㄒ)/~~", " 你是想要这样？？\r", "$photo = array_map(function($b){return pack('H',$b^$magic)}, $buf);", "  要不你把文件发给我 我帮你试试？", " pack 之前要先 unpack 吗", " 嗯，现在写出文件后文件大小对了，但是。。。貌似解密失败？\r", "\r", "$buf = file_get_contents('photo.dat');\r", "$buf = unpack('C*', $buf);\r", "$magic = $buf[1] ^ 0xff;\r", "$photo = array_map(function($b){return pack('H', $b ^ $magic);}, $buf);\r", "$b = file_put_contents('photo.jpg', $photo);\r", "\r", "这是正确解密的 Python 代码\r", "\r", "    def _decode_pc_dat(self, datfile):\r", "        with open(datfile, 'rb') as f:\r", "            buf = bytearray(f.read())\r", "\r", "        magic = 0xff ^ list(buf)[0] if buf else 0x00\r", "        imgfile = re.sub(r'.dat$', '.jpg', datfile)\r", "        with open(imgfile, 'wb') as f:\r", "            newbuf = bytearray([b ^ magic for b in list(buf)])\r", "            f.write(newbuf)", " 自己解决了！\r", " 感谢帮助！你提供的代码很有用！", "  能吧代码发给我一份参考一下吗？多谢", " \r", "\r", "$buf = unpack('C*', $buf);\r", "$magic = $buf[1] ^ 0xff;\r", "$photo = array_map(function($b){return pack('C', $b ^ $GLOBALS['magic']);}, $buf);\r", "$file_name = md5(microtime()) . '.jpg';\r", "$b = file_put_contents($file_name, $photo);"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>感觉 laravel 的辅助函数对于数组和字符串的操作很实用，能不能提取出来用在其他项目或框架中呢</p>\n</div></div>"], "reply": "5", "tittle": "能不能把 laravel 的辅助函数抽出来用在其他项目中", "comment": ["为什么不自己写一个呢", "可以，但是其实好多函数都是层层封装的，你要层层深入，最终把几个函数都抽出来，可以组成一个函数", "当然可以， Laravel 的每一部分都可以用到其它项目中。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在 Debug 一个问题，原有系统是 shopex ，代码是加密的，没法调试，在 showmycode 那个网站可以解密，但是解密之后的文件运行有问题，感觉不应该是解密的问题，但也想不出还有什么不对的。。。</p>\n<p>错误信息： PHP Fatal error:  Call to a member function base_url() on a non-object</p>\n<p>出错的代码在下面构造函数中：</p>\n<pre><code>public function mdl_storager( )\n{\n    $this-&gt;system = $system;\n    $this-&gt;base_url = $this-&gt;system-&gt;base_url( );\n    $this-&gt;class_name = defined( \"WITH_STORAGER\" ) ? constant( \"WITH_STORAGER\" ) : \"fs_storage\";\n    require_once( PLUGIN_DIR.\"/functions/\".$this-&gt;class_name.\".php\" );\n    $this-&gt;worker = new $this-&gt;class_name( );\n    if ( defined( \"HOST_MIRRORS\" ) )\n    {\n        $host_mirrors = preg_split( \"/[,\\\\s]+/\", constant( \"HOST_MIRRORS\" ) );\n        if ( is_array( $host_mirrors ) &amp;&amp; isset( $host_mirrors[0] ) )\n        {\n            $this-&gt;host_mirrors =&amp; $host_mirrors;\n            $this-&gt;host_mirrors_count = count( $host_mirrors ) - 1;\n        }\n    }\n}\n\n上面的 modoel 是从这里引用的：\n\npublic function save( $brand_id, $aData )\n{\n\t$storager =&amp; $this-&gt;system-&gt;loadModel( \"system/storager\" );\n\t$oTemplate = $this-&gt;system-&gt;loadModel( \"system/template\" );\n\tif ( $_FILES )\n\t{\n\t\t$aData['brand_logo'] = $storager-&gt;save_upload( $_FILES['brand_logo'], \"brand\" );\n\t}\n</code></pre>\n<p>.... ......</p>\n</div></div>"], "reply": "2", "tittle": "zend guard 加密的文件解密后的奇怪问题", "comment": ["$this->system = $system; // 这个 $system 哪来的？", " \r", "\r", "解密出来就是这样子。。我也很奇怪，对 php 了解不多，难道有什么特殊的注入机制？还是解密出了问题？\r", "\r", "加密后的代码我传到百度云盘上了，大家帮看看吧：\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>phper laravel 兄弟伙，求给 Start</p>\n<p>百度编辑器 For Laravel 5\n<a href=\"https://github.com/zhangmazi/laravel-ueditor\" rel=\"nofollow\">https://github.com/zhangmazi/laravel-ueditor</a>\n<a href=\"https://coding.net/u/ninja911/p/laravel-ueditor/git\" rel=\"nofollow\">https://coding.net/u/ninja911/p/laravel-ueditor/git</a></p>\n</div></div>"], "reply": "14", "tittle": "百度编辑器 For Laravel 5, 求 Star", "comment": ["奇怪，这东西为啥来求 star ， UEditor 都自带 php 脚本了。。。。", " 是 For Laravel 5 ， 形成第三方包。尽量减少整合痛苦", "这个还要求 star …", "唯一可以用来鄙视 laravel 的理由：比 thinkphp 性能还差的框架。", "我觉得这样更麻烦...", "性能有 rails 垫底(?) 我已经心满意足", " [赞]", " Rails 表示不服", "相对于 PHP 性能问题， PHP7 已经有很大提升了，这里不在讨论与其他语言的对比，没有价值。\r", "其次，很多网站性能不在语言本身，而是 DB IO 上。\r", "总结：能用钱解决的事都不是事。", "  没有 java 的都是垃圾！", " 有人用性能低的 Laravel 写出了 flarum ，也有人成天用各种性能高的语言写了一堆 Hello world.", " J2, 你也来泡 V2 了", "感觉到圣战的气息", "性能还是框架的理由？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>目的:同一个二维码实现,第一扫码关注微信公众号,第二,扫码进行防伪认证.\n简单的实验了一下发现:\n<a href=\"http://weixin.qq.com/r/RHU6NQjE1japhxlWnyBg\" rel=\"nofollow\">http://weixin.qq.com/r/RHU6NQjE1japhxlWnyBg</a>\n这段文本转换为二维码,就可以扫描为公众号.\n如果我在上诉文本的末尾加上\n<a href=\"http://weixin.qq.com/r/RHU6NQjE1japhxlWnyBg?code=123456\" rel=\"nofollow\">http://weixin.qq.com/r/RHU6NQjE1japhxlWnyBg?code=123456</a>\n这段文本转换为二维码,依然可以扫描为公众号,并且是同一个,\n通过上面两个实验可以实现我的两个目的.\n但是这种方式靠不靠谱?毕竟是自己尝试出来的,微信有没有对这种文本规则进行说明?</p>\n</div></div>"], "reply": "2", "tittle": "微信公众号二维码带参数问题", "comment": ["没看明白第二点是什么意思。\r", "微信对于带参数二维码的规则：\r", " 也只能用这个了....\r", "第二个的意思是二维码本身是一串防伪码.即能关于公众号,又能作为防伪码.\r", "二维码要扫两次,第一次扫关注公众号,第二次在公众号的扫一扫功能中扫二维码,访问后台接口识别防伪码."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Laravel 团队今天宣布 Laravel 5.3 正式版本发布，让我们一起来围观新版本提供了哪些新特性吧：</p>\n<ul>\n<li>中文版：<a href=\"http://laravelacademy.org/post/5733.html\" rel=\"nofollow\">http://laravelacademy.org/post/5733.html</a></li>\n<li>英文版：<a href=\"https://laravel-news.com/2016/08/laravel-5-3-is-now-released/\" rel=\"nofollow\">https://laravel-news.com/2016/08/laravel-5-3-is-now-released/</a></li>\n</ul>\n</div></div>"], "reply": "10", "tittle": "Laravel 5.3 正式发布，一起来围观新版本有哪些新特性吧", "comment": ["沙发 沙发", " 哈哈 哪里都有你", "OAuth2 ,分页模板 , Blade Loop....感觉改进了好多实用的东西啊\r", "\r", "可惜不是 LTS,还是 5.1 用的人多", " 先熟悉起来 明年的 LTS 版本肯定是基于之前版本功能的", "已知问题：\r", "Controller 的__construct 中不支持使用 Auth::user()来获取当前用户了，正在发愁怎么解决呢", "5.2 的 csrf 着实把人坑惨了", " 为什么，拿到的是 null ？", "  ", " 昨天分析了下源码然后翻了下 issue 看到了，现在升级文档已经注明了，不再支持在构造方法里获取 session （ auth 依赖 session ），同时提供了一个变通方法，参见 ", " 我是按照之前 issue 里有人提到的用 event 事件的方式\r", "不过不知道哪种方式更好一些"]},
{"content": ["<div class=\"topic_content\">背景：使用 Yii2 命令行模式开启脚本监控 rabbitmq 队列，当队列有订单信息，执行查询，更新操作（相当于 PHP 文件写个查询，更新，使用命令行启动）\r<br>\r<br>问题：一开始监控没有问题，每过一段时间会抛出错误\r<br>\r<br>&gt; Error while sending QUERY packet. PID=25370. The SQL being executed was: 一句 sql 语句（此 sql 直接执行没有错误）.</div>"], "reply": "1", "tittle": "php 查询报错 Error while sending QUERY packet. PID=xx", "comment": ["数据库连接超时了？"]},
{"content": ["<div class=\"topic_content\">想抓 google 和一些搜索引擎的结果。。\r<br>不走 API 的话，\r<br>有没有什么抓取指定标签的库...可用..?</div>"], "reply": "8", "tittle": "有没有什么比较好抓取指定 html 标签中内容的库", "comment": ["Cheerio", "simple_html_dom  语法类似 jquery", "HTMLParser", "PQuery", "simple_html_dom\r", "\r", "Cheerio 不是 node 的么？", "lxml, xpath", "phpquery", "phpquery"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Laravel 5.3 全量国内镜像包\n<a href=\"https://coding.net/u/ninja911/p/Laravel/git\" rel=\"nofollow\">https://coding.net/u/ninja911/p/Laravel/git</a>\n目前主线 master 是 5.3 ， 也有 5.1/5.2 全量分支。</p>\n<p>欢迎使用。</p>\n</div></div>"], "reply": "6", "tittle": "Laravel 5.3 全量国内镜像包", "comment": ["这。。。？", "这。。。？", "excuse me?", "这硬广太硬了吧。 @", " CodingNet", "excuse me?"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"http://coolapk.com/apk/com.esminis.server.php\" rel=\"nofollow\">http://coolapk.com/apk/com.esminis.server.php</a></div>"], "reply": "目前尚无回", "tittle": "Android 上玩 PHP 的应用", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>记得早前还收到过推广邮件，好像那时候还不是武汉生活消费社区</p>\n<p><a href=\"http://deyi.com\" rel=\"nofollow\">deyi.com</a></p>\n</div></div>"], "reply": "25", "tittle": "感觉得意把 Discuz 用到了极致", "comment": ["这么硬的广告。", "得意社区确实不错，在武汉时我也用", "域名不错，用到了极致什么意思？ Discuz 用的 6 ？", " 这么看来我得找得意要点广告费", " 这个没深究，只是觉得把 Discuz 用到这份上的没找到几家", "讲真, 十多年前这种抽调论坛数据组成 CMS 的程序和网站多如狗， 我还参团过一份 supsite, 只是后来个人论坛不景气都销声匿迹了.", " 前几天看到这个，好像也改的不错", " 只是看到你标题用到了“极致”一词，文章丝毫没有相关看法，点链接进去一看是很标准的门户网站，所以觉得是广告，并无恶意。", "域名不错！哈哈哈，我有武汉的城市域名： wuhan.city", "感觉论坛形式迟早要玩。\r", "这个只是把首页用到了极致，帖子列表，浏览页面还是 dz 的样子。", "这个是把 phpwind 用到了极致\r", "\r", "\r", "其实好多较大的地方站都抛弃 dz 用了 phpwind\r", "比如\r", "呵呵，这就极致了？", "广告 0 分", " 也是 discuz ，只不过最近改版改的乱七八糟", "楼主用过大桌子办公吗🌚", "\r", "\r", "贵州都市网也用得不错", "奈何 DZ PW 都不开发了。\r", "被腾讯、阿里收购了真 TM 蛋疼。", "这都在刷广告？", "看不出好在哪, N 年前这种一大堆", " 这个不错啊", " 这个好看", "phpwind 用到极致的是 1024 。。。", " 666", "\r", "这个怎样", "这广告硬邦邦，邦邦邦邦"]},
{"content": ["<div class=\"topic_content\">随便点开一个招聘需求，各种框架(yii,ci,thinkphphphphphphp …)，就是没见 laravel …\r<br>\r<br>简历的编写也是大坑，不懂里边的规则，写出来人家看都不想看。很好奇简历写得很好有多少实际意义…\r<br>\r<br>最后就是学历了，死坑…\r<br>\r<br>吐血中</div>"], "reply": "1", "tittle": "最近找工作，吐血中……", "comment": ["给你排个雷 "]},
{"content": ["<div class=\"topic_content\">在内网必须走代理，已设置环境变量 http_proxy ， git 可以正常连接 github ，但是 composer 好像并不能生效。<br>有没有遇到过类似问题的司机？</div>"], "reply": "7", "tittle": "composer 在内网中如何有效的设置代理？", "comment": ["\r", "善用谷歌", " 感谢，谷歌大法好。", " 然而问题又出现了， composer 可以正常使用了，但是 git 以及 本地 curl 连接超时，很尴尬。", "proxychains", " ", " ", " stack 上全部都有啊"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>变量$a 为 true 的时候不进 @if($a)，为 false 的时候反而进。\n代码如下</p>\n<pre><code>&lt;div&gt;{{$a}}&lt;/div&gt;\n\n@if($a)\n    &lt;div&gt;1111111111111111&lt;/div&gt;\n@endif\n</code></pre>\n<p>结果如下:\n<img alt=\"QQ 截图 20160901114205.png\" src=\"https://ooo.0o0.ooo/2016/09/01/57c7a3a5f367b.png\"></p>\n</div></div>"], "reply": "2", "tittle": "请教一个 laravel 的 blade 判断条件的问题", "comment": ["原因找到了，是前面赋值的时候不小心把 false 写成了 'false' ，囧。。。好丢人⁄(⁄ ⁄•⁄ω⁄•⁄ ⁄)⁄", "那么问题来了，$a 为 true 的时候为什么不会进呢"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我想在自己的 Wordpress 博客（ <a href=\"http://www.weiqingdong.com\" rel=\"nofollow\">www.weiqingdong.com</a> ）想加个微博 /说说 /简言的栏目，要怎么实现？因为工作原因博客没有经常及时的更新，有时候会有十来几句的短话想说，想要写上去，但是如果当作一篇文章来写未免太大题小作了，而且听说字数太少了对收录也不好。但是如果因为文字太少而不更新博客，久而久之对博客的收录和其他各方面也不好，所以求助各位大神了，看看有什么方法可以给博客加个博 /说说 /简言的栏目，而且最好可以让这些简短的文章不在首页显示，只出现在指定栏目中。谢谢了~~~~</p>\n</div></div>"], "reply": "35", "tittle": "Wordpress 博客想加个微博/说说/简言要怎么实现？", "comment": ["手动马克。这也是我好久以来的想法，以为没别人有着需求呢，没想到还真有。", "手动 mark", "无非是换一个微博样式的『短文章』展示区。。。", "换成 emlog ， emlog 有说说功能。。。。。。。。。。。。。。。", "可以增加一个自定义发布类型", "![截图 2016-08-31 13 时 55 分 47 秒.jpg]( ", ")\r", "\r", "题主的 WP 恐怕还停留才 3.8 时代吧？", "你可以单独设一贴，然后更新你的啰嗦不就好了，这样对收录更好，单帖定期更新，活跃页面", " 这样可以吗？好像很少看到有博主这样的做的呢？这样岂不是变成老是编辑文章吗？不会造成文章不稳定吗？", " 可以谈谈具体如何操作和实施吗？谢谢", " 这样是需要更换主题吗？我想的是什么都不改变的情况下，多加一个栏目，然后就发表短文章心情之类的，而且首页不显示。", " 自定义发布后 心情短文出现在哪个位置？这需要设置的吧", " 你是更新，你又不是替换", "依稀记得在 V2 这里有人做过这类的东西\r", "在不改变原有博客功能的基础下增加了一个页面\r", "然后后台可以在这个页面发布消息\r", "但，我并不记得链接了，所以帮你顶顶", "iframe 大法", "发布时有文章类型的，选择合适的类型。\r", "然后显示的话，得找合适的主题。", "看看 wp 文档  写个插件", "這個 Plugin ？ ", " 假如说说的发布类型为 tweet , 那么说说列表出现的位置就是 site_url?post_type=tweet ，你可以在导航加入这个 url ，说说列表模板是 archive-tweet.php ，可以参考主题的 archive.php 或者 category.php 写一个，不需要自定义会 fallback 到 archive.php ，如果 archive.php 也不存在会 fallback 到 index.php ；说说的详情页面如果需要自定义请新建 single-tweet.php 页，否则 fallback 到 single.php 。\r", "\r", "我网站的音乐和读书都是这样弄的。 ", " （搬瓦工低配，速度就不要吐槽了）", "wordpress 有这样的分类啊，叫状态。。", "mark", " 那个如果不修改默认查询的话，会出现在首页的文章列表的", " 网站有干货不错，你的网站为什么没有定义 title?", " 有的呀，只是有时候查询的时候没显示吧", " 这么活跃啊", " 你的博客挂了", "  不知道这个能不能帮助到你？", " 忘记写了 😂", " 博客不错哦。这几首歌我也喜欢 233", "搜索：微博秀", "好久没有更新的插件\r", "\r", "不知是否还能用\r", "但代码还是可以参考的，不行就自己改改", "好几年不玩了，得看你的主题是否支持自定义发布类型。", "插件不知道哎,但是微博有官方的 API 可以直接调用的,在 github 上还有项目呢\r", "可以申请个开发者稍微改动一下呢", "开一个专栏 然后评论当微博…", " 我没做，不过我找到这么一篇指南： ", " 哎， mysql 经常 down 掉"]},
{"content": ["<div class=\"topic_content\">$host = \"127.0.0.1\";  \r<br>$user = \"root\";  \r<br>$pass = \"root\";  \r<br>\r<br>链接 MYSQL 数据库提示\r<br>Error: Access denied for user 'ODBC'@'localhost' (using password: NO)\r<br>\r<br>1. 不存在用户密码错误问题，不存在数据库链接错的问题，不存在 LOCALHOST 127.0.0.1 问题，不存在 3306 问题\r<br>\r<br>疑难：\r<br>一般都是 Error: Access denied for user 'root'@'localhost',而我的是 ODBC ， ODBC 都不知道哪来的\r<br>\r<br>使用环境：\r<br>WIN7 +phpStudy 或者 APMServ 都有这个问题\r<br>\r<br>代码环境：\r<br>\r<br>啥都没写呢，就写数据库链接就出这个错</div>"], "reply": "9", "tittle": "Error: Access denied for user 'ODBC'@'localhost' (using password: NO)", "comment": ["这个问题你先查下 MYSQL 有没有运行。", " 显然运行了，要不然错误信息是谁给的", "当我没说。", "数据库相关的全部代码。", "usingpassword no ， mysql 没收到你的密码参数穿错了呗", "你确定你的自定义配置被加载了吗？\r", "'ODBC'@'localhost' (using password: NO) 很有可能是默认配置。", "确定不是没有输入密码吗", "链接数据库的代码贴出来看看呗", "windows 才会有这个问题\r", "mysql -u root -p 可以\r", "也可以在 phpmyAdmin 里创建个无密的用户 odbc"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>之前的一套查询系统,php 的.现在为了防止一小部分内部人员泄密,现在做了用 JS 控制防止复制粘贴.现在问题是有人禁用脚本了,%&gt;_&lt;%.然后还发现一个问题就是 CTRL+S 后可以保存到本地(txt 和 html 格式).</p>\n<p>现在想实现方案一,做一个透明的 flash 放顶层,或者直接所有的数据 flash 输出(针对禁用脚本)\n方案二:加一个框架,查询结果扔里面,每次打开重新加载框架,这样能不能导致就算保存在本地后,还是要通过验证后才能加载.</p>\n<p>不知道各位有没有更好的建议或者意见.或者大家公司是如何防止内部数据泄露的.</p>\n</div></div>"], "reply": "50", "tittle": "世界上没有哪把锁是不能用钥匙打开的,", "comment": ["制度。。。。。。", "结果生成图片并打水印？", "楼上+1\r", "\r", "复制、截图、照相、笔记、背下来……实在不行，他让电脑中毒呢？你防不住的\r", "\r", "没有足够的威慑力还是不要做这个了。", "技术给人的最大误解在于技术能解决任何问题。", "制度啊。。\r", "不许带电脑。不许带 u 盘。手机不许拍照，公司安装监控。外网隔离(或者路由上进行隔离监控之类的)。比你用这些都靠谱的多。只要能展现的，都是有办法拿下来的。唔。还有一个办法，自己做个浏览器壳。只能用你这个壳打开内网的查询系统。这样倒是安全的。。但别人拍照你没辙吧", "做成应用，全程 https 。。。双向证书加密。相对安全。再高级一点，自己生产密钥硬件，人手一个。。银行级别的安全措施。。但是，值得么= =！", "用人不疑，疑人不用吧。\r", "\r", "技术方面呢， data loss prevention 方面的产品都挺多的。不过人家如果铁了心的想把数据搞出来，即便你是 NSA ，不也是遇到了 Edward Snowden", "DLP 产品方面，这个不错的 ", "\r", "\r", "不过最简单的方法还是制度咯。\r", "\r", "查询系统必须有高级领导陪同， Air gap network, 封外网，封 USB ，封手机相机，进出搜身什么的。楼上问了，值得么？", "当年搜狗输入法把词库加了一些特别词汇，然后谷歌盗用了以后，用这个作为证据起诉让谷歌全球名誉受损。这部分完全可以法律解决，数据拿去了不能商用，也没什么影响", "我还以为是情感问题。。。\r", "\r", "心锁", "更重要的还是是制度，可以学习暴雪在《魔兽世界》里面的水印，进行泄露人员跟踪。", "说得好！求解锁我的 v 版 Note2 安卓 4.4 的 bootloader ！谢谢楼主", "如果内部用，做个 exe ，内容格式化输出，然后禁用各种复制", " 拍照", "截屏", "可以参照中国航天的保密管理方法", "现在完全可以截图 转换文字。。", "加水印又如何，我再手打一次", " 突然想到 vr ，戴着才显示（想想带着 vr 摸着键盘盲打挺喜感的），可惜语音识别就没办法了", " 直接把结果传输进脑子😂", "能看到，就能复制\r", "\r", "能复制，就能传播\r", "\r", "放弃吧，骚年～～", "有心整你的人，永远不嫌累。", "话说知乎上碰到 [需要联系答主才能转发所以你不能直接复制] 的情况的时候，我一般选中，然后到 Vim `Ctrl-R = *` 照样粘贴哈哈哈（放到我的 Wiki 里而已 ==）。或者你不用 Vim ，打开 Console 用 `window.getSelection().toString()` 也是可以得啊，哈哈。", "楼上干的漂亮 又涨了一波姿势", " 一般最起码的就是禁止右键和选中文字，所以……\r", " 至于这么麻烦么，都能选择文字了，拖拽到 Console 也是可以的啊", "一个法律上的问题，竟然要用技术手段来解决。", " 额……要不装个有道词典？这我也没辙了。", "你这问题无解，就这样。把员工炒了就可以", " 如果有禁用 JS 的插件点一下就能禁用的 就是最好的 我的猴子脚本专门就有个反这些限制的，除非有个别在子节点做限制，这个就要手动一下，说真的你那种还不如我说的，都能选择，就直接拉到 Console 就好了。", "需要防止泄漏的是信息，你关注的是载体。虽然能增加传播难度，但只要动机足够强，再多阻碍都没用。因为你已经将信息传递给了查询人。", "阅后即焚", "(焚那个人)", "其实从产品策略来看，你需要确定的是，你想在泄露前去控制，还是想在泄漏后有所追踪。\r", "\r", "泄露前可以增加一些限制，比如说加水印、加乱码等等。\r", "邪路后的话，比如说，记录每一次查询，生成的报表责任到人，等等。", "23 楼强悍", "把内容写在 CSS  before content 就好了呀。。", "法律是干什么吃的 谁抢到算谁的?", "防不了。还是跟人家签保密协议吧\r", "\r", "你做再多保护措施，我电脑截屏就可以了。实在不行我手机拍照。只要有心泄露，我默背都给你背下来", "真心要防止泄密的系统应该放进小黑屋里面与世隔绝，然后撞上 360 无死角监控，进去的人必须干掉身上所有可能拍照、录音、摄像的设备（包括手机），查看前必须大声读出隐私条款，签字画押保证永不泄密...编不下去了", "任何可视的内容都有可能被复制。研究防复制技术不如一张保密协议书可靠。", "单纯的技术并不能很好的解决这个问题，这是现在很多人的一个思维误区。一定靠技术来解决，不用在内容显示上费太多事情了，尽量在传播途径上去卡一下吧，聊胜于无。\r", "\r", "防止内部数据泄露基本都是靠制度。", "世界上没有哪把锁是 必须要用钥匙 才能 打开的.\r", "\r", "lz, 标题能把逗号改成句点么? 看得我百爪挠心!!", " 遇到不可复制的网页文本，还有一种更简单的办法：直接光标选中文字， Windows 按住 Ctrl 键（ macOS 长按鼠标左键）拖拽至文本编辑框。", "之前为了抓别人用 Flash 程序显示的数据，还干过用 tcpdump 抓包分析。\r", "只要能看得到，实在笨得不行拿相机拍下来，照着打一遍就完事了。", "国防单位表示。。一泄密就只能喝茶了", "看什么电影，学习去", "block", " 噗，回 qq 消息，不小心回到这里……", " ctrl-r 不是运算寄存器么，能读取粘贴板吗", " 说错了……是插入模式下 Control +R 然后 x ，这个 x 是寄存器。* 系统剪切板，+ 是系统选中文字的剪切板。", "谁用的，哪里用的，制度的问题不要靠技术解决，解决不了的", "ctrl shift i,禁用复制粘贴什么鬼。\r", "\r", "大不了 curl"]},
{"content": ["<div class=\"topic_content\">之前没离职的时候还觉得 boss 挺伟大的，想法也很牛逼。当时做各种项目都是贴图库做图床。\r<br>然而，前两天项目方来说图片都跪了。\r<br>一上贴图库，发现图片被删除了。\r<br>\r<br>看了下套餐，我们普通用户有 6 个月的图片存储，那些图片满 6 个月了，被删除了。\r<br>\r<br>实在不敢用了。做项目都是长期的，哪有 6 个月就删图片这一说。。。\r<br>\r<br>都是泪，要去给项目方补图片去了。</div>", "<div class=\"topic_content\">我之所以用贴图库，是因为我曾经是贴图库的员工。 Boss 说，图片外链永久免费，我也是信了邪，后面的公司都让他们用贴图库，结果现在图片删除了。也找不回了。不打算再用了。</div>", "<div class=\"topic_content\">6 个月是我离职以后出来的。在职的时候 Boss 一直是说永久存储的。可惜了</div>"], "reply": "39", "tittle": "讲真，贴图库别用了。", "comment": ["拿来做项目，免费六个月，这还不够？", " boss 之前的愿景是永久存储的。我才永久存储的。", "这个真不能让贴图库背锅，得问公司为什么用贴图库的免费版作为项目的图床。。。", "商用的话买个 100 一年的也凑合了啊   有效期内都没问题", "要我感觉贴图这种东西要是超过一年没有请求就应该可以删除了", "真不怪贴图库，\r", "要永久，就要找个收费的。", " 决定让公司出钱自建了=-=\r", "反正 OSS 不贵", "人家邮件，后台都有通知，你们没注意看而已。", " 应该是吧", "你们 boss 真节省，连云存储的钱都省，我们客户做项目都是让客户掏钱买的七牛。", "永久，不限制使用，还免费？还做商业项目使用？", "你们公司用别人东西都不看官网介绍？看到免费就上？只能说活该", "贴图库躺枪。", "自己不看产品的使用说明，怪谁呢？", "别人官网资费很清楚啊。", " 这个是我的问题，只怪还怀念当年 Boss 的 大饼", "免费的就是最贵的。这句话还在印证着。", "别人都写好了，满 6 个月就删除。怪不得别人\r", "\r", "好好用云存储吧， upyun ，七牛都可以，只要给钱永久存储肯定对", "永久的哪有免费的", "还以为 V 站上只有员工被公司黑的丑闻，这贴清丽脱俗了一回", " \r", " \r", " \r", " \r", "根据楼主说的前两天，是的，这是突然更改的。这事还真不能怪楼主。\r", "2016/01/28 的图片：\r", "无限空间、无限流量、无限外链、永久外链、永久保存、外链加速 、开放 API 、永久免费。\r", "\r", "2016/03/28 cn 域名的图片(资源挂了)：\r", "\r", "不过看了下首页发现好污 =A=\r", " 好棒啊，自带发车功能", "以前帖图库 文案是 永久免费的。", " 这图根本就不污。 hhh", "话说贴图库从启用新套餐的前几个月中，各种短信、邮件、公告、站内短信通知。\r", "从 8 月才开始正式实现。\r", "这 9 月才发现图片被删了，明显几个月甚至常年都不去官网看看的。", "以前确实是免费永久的，虽然发了邮件通知改规则了，但我觉得改之前的老用户应该还是永久，不然和之前的宣传不符", "忘恩负义的黑子", " 永久的搞个 P 钱啊", " 永久还真能搞钱，我觉得 Boss 之前说的挺对，现在我也很认可他的思路。\r", " 呵呵。", "如果以前承诺永久免费存储，然后改成六个月删图\r", "\r", "\r", "能说什么呢，国内貌似都是这德性，承诺可以随时改", "全世界范围内页没几家有能力承诺 20 年的，更别说用久了", "呵呵，这样也能黑， boss 今晚会不会失眠", " Boss 上午和我私聊了，还真没有。", "做好图片多种备份方案才是王道", "之前 i3 服务器挂了，一直说修复中…修复了好几个星期，只修复了一小部分…然后然后就收费了…再也不敢用了…", "只能说你太天真了，不去看现实的具体情况。", "这莫非媒人婆帮忙找对象还得包生儿子了?", " 前提是媒人没有承诺过包生", " 贴图库是不是用百度的云加速呀。"]},
{"content": "", "reply": "2", "tittle": "我想请问 ThinkCMF 有 Restful Api 吗？文档里这一页是空的。", "comment": ["我记得他家的文档有些部分是收费的啊", " 不会吧？我只看到求赞助，但是没有说收费的样子。而且不是完全开源吗"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我的扩展代码是这样的</p>\n<pre><code>ZEND_BEGIN_ARG_INFO_EX(helloZvalArg, 0, 0, 1)\n\tZEND_ARG_INFO (0, name)\n\tZEND_ARG_INFO (0, age)\n\tZEND_ARG_INFO (0, zval_args)\nZEND_END_ARG_INFO()\n\n\n\nPHP_FUNCTION(debug_zval)\n{\n\tzend_string *name, *age;\n\tzval zval_args;\n\tif(zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, \"SSz\", &amp;name, &amp;age, &amp;zval_args) == FAILURE){\n\t\tphp_error_docref(NULL TSRMLS_CC, E_WARNING, \"参数接受错误\");\n\t\tRETURN_FALSE;\n\t}\n\n\tphp_printf(\"zval_args 的 type 类型:%d\\n\", Z_TYPE(zval_args));\n\tZVAL_STR(&amp;zval_args, name);\n\tphp_printf(\"将 name 复制后的 zval_args 的 type 类型:%d\\n\",Z_TYPE (zval_args));\n\tphp_printf(\"named:%s\\n\",name-&gt;val);\n\tphp_printf(\"age:%s\\n\",age-&gt;val);\n\tzval_ptr_dtor(&amp;zval_args);\n}\n</code></pre>\n<p>PHP 代码</p>\n<pre><code>&lt;?php\n$br = (php_sapi_name() == \"cli\")? \"\":\"&lt;br&gt;\";\n\nif(!extension_loaded('helloZval')) {\n\tdl('helloZval.' . PHP_SHLIB_SUFFIX);\n}\ndebug_zval(\"sss\",2,4);\n\n?&gt;\n\n</code></pre>\n<p>输出</p>\n<pre><code>zval_args 的 type 类型:0    (IS_UNDF)\n将 name 复制后的 zval_args 的 type 类型:6(IS_STRING)                                                                                  \nnamed:sss\nage:2\n</code></pre>\n<p>有两个疑惑</p>\n<ul>\n<li>\n<p>我将 zval 当做接收参数的容器(姑且这么叫)时，为什么没有成功接收参数，而是 IS_UNDEF</p>\n</li>\n<li>\n<p>如果 zval 不能被当做参数容器，那么 zend_string 还有同时被定义的其他类型(如 zend_array,zend_object....)和 zval 区别在哪（ zend_string 和 zval 都可以被 GC 而且且 zend_string 更轻量），或者说 zval 与 zend_string 的用法区别在哪？</p>\n</li>\n</ul>\n</div></div>"], "reply": "目前尚无回", "tittle": "php 扩展开发时 两个 zend_api 所引起的迷惑", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>用的是同一个 php.ini, php 编译参数如下:</p>\n<blockquote>\n<p>'./configure' '--prefix=/usr/local/php' '--with-config-file-path=/usr/local/php/etc' '--enable-fpm' '--with-fpm-user=www' '--with-fpm-group=www' '--with-mysql' '--with-mysqli' '--with-pdo-mysql' '--with-gd' '--with-jpeg-dir' '--with-png-dir' '--enable-mbstring' '--with-freetype-dir' '--with-xpm-dir' '--enable-gd-native-ttf' '--with-zlib-dir' '--enable-zip'</p>\n</blockquote>\n</div></div>"], "reply": "12", "tittle": "php-fpm 中有 mbstring 模块, 但是 php-cli 中没有该扩展是怎么回事儿?", "comment": ["php-fpm 配置文件可以指定 php 参数", " 谢谢, 但是为什么我在 php-cli 中用 php -m 查看的时候, 确看不到 mbstring 扩展呢?并且 php-fpm 和 php-cli 用的 php.ini 都是同一个, 另外 php-fpm.conf 我看了, 并没有相关的改动.", "php --php-ini=安裝目錄 /etc/php.ini -m", "你需要保证 php-fpm 和 cli 加载的是同一个 ini", "  可以确认， cli ： php -i|grep php.ini 以及 php-fpm ： phpinfo();", " php.ini 安装放在了 php/etc 下面的", "![相关截图]( ", ")", "用的是 Apache ?\r", "\r", "其实在 php.ini 里面并没有添加 extension=mbstring.so, 因为是在编译的时候已经加了 enable-mbstring 了.", " 是 nginx", "结贴了....因为 linux 的路径..默认命令 php 和 /usr/local/php/bin/php 不是同一个...^_^!", "已经删掉了 /usr/sbin/php 了, 做了 ln -s 了..我去.."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>view-source:<a href=\"http://www.php.net/manual/en/function.mysqli-connect.php\" rel=\"nofollow\">http://www.php.net/manual/en/function.mysqli-connect.php</a>\ntop.location='<a href=\"http://www.cjb.net/'//\" rel=\"nofollow\">http://www.cjb.net/'//</a>&lt;script&gt;top.location='<a href=\"http://www.cjb.net/'\" rel=\"nofollow\">http://www.cjb.net/'</a>&lt;/script&gt;</p>\n</div></div>"], "reply": "11", "tittle": "访问 php 官网的这个页面为什么会跳转？", "comment": ["难道被黑了 2333333333", "没有呀", "DNS 换 8.8.8.8 就不跳\r", "119.29.29.29 就解析到 216.234.179.13", " 被 DNS 污染了？", " 应该是的。\r", "\r", "顺便一提，一些网站被重定向到 ", " 的情况早在之前就有过了。", " 污染这作甚？", "晴天霹雳，一个时代的结束", "妈的 asd 怎么到处都是你", "我直接输入 ", " 能正常访问，输入 ", " 会跳转。", "我突然也能正常访问了。。\r", " 是的 DNS 是 119.29.29.29", " 嗯我也可以了，这应该算 DNS 劫持，不是 DNS 污染。不过是临时的。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>php 读取一个目录下的 txt 文件。\n然后程序调用 template 目录下的 html 模板文件\n在模板文件中插入&lt;duanzi&gt;\n随机读取 1-2 行在首页输出。\n问下各位该如何写？</p>\n</div></div>"], "reply": "4", "tittle": "php 随机读取指定 txt 内容。模板调用标签", "comment": ["1.txt \r", "2.txt \r", "3.txt\r", "rand(1,3)", "  请教如何完整的写？可有偿！", "具体看一下你的需求,  比较简单  可以联系我  q 26-2424-870", "挺简单的啊，，"]},
{"content": ["<div class=\"topic_content\">无意中看到这个框架，看了一些资料，说是速度貌似最快的 php 框架，然后看了一下文档，感觉是个耦合度很低，很灵活的一个框架，顺着官方文档的例子，浏览了一遍，感觉挺舒服的，但是发现这个框架在社区上很少讨论，是什么原因，坑很多？</div>"], "reply": "23", "tittle": "phalcon 这个框架大家怎么看？", "comment": ["正在用,非常不错,性能强悍,比 yii2 和 laravel 好很多", "好像是用 C 写的吧，听说不够稳定，速度是最快的一个", " 有没有什么坑？\r", "\r", "\r", " 貌似新出了 3.0LTS ，这个也不稳定吗？", "LTS 就是长期支持的版本，是稳定的，插一句，个人觉得 laravel 用起来特别爽。", "个人粗浅的认为， phalcon 的问题，就是太灵活了。\r", "不够工业化和标准化。", "有些文档没讲清楚的，没法自己看源码调试，得去看相关的 zephir 实现", "性能强悍的 php7 普及后， c 扩展类的框架就没必要了", " 再强悍还是没有 C 快。如果 PHP 7 有了 JIT 倒是能再提升一些。", "文档不够详细，有时候遇到问题没办法看源码找原因\r", "\r", "还有是安装。大多数人的 php 环境就是开箱即用的，不会去折腾新的扩展。", "还是习惯 yaf\r", "phalcon 集成的太多 在性能高的同时 少了很多自定义的东西\r", "1\\ 封装的太多,略重,还没法改\r", "2\\ 万一有个 bug 就 gg 了\r", "所以自认为还是 yaf 这样简单粗暴的来个 autoload 路由等基础功能\r", "其他剩下的都用 php 码出来,性能+自由度都 OK", "眼中只有 教父 symfony ！", " 说实话 php 提升那点性能在烂 sql 面前不堪一击。反正我是排斥一切 c 扩展框架", " 其实 Phalcon 是用类 PHP 的强类型语言 Zephir 写的(类似开发 PyPy 用的 RPython)。 Zephir 对 PHP 用户的学习成本挺低的。\r", "直接用 Zephir 写后端也没什么不可以，性能比 Java 强而且能和现有 PHP 代码结合。", " 既然都用 zephir 写扩展了干脆写 Java 呗~", "phalcon 速度确实比 laravel 快好多，开发速度也不差", "性能非常强悍，和 yaf 比起来， phalcon 还是是全栈的框架，内置 ORM 神马的，非常爽，而且 phalcon 这个框架的设计我觉得非常不错", " 然而我觉得 Zephir 比 Java 好用，而且已有系统是 PHP 的话可以逐步迁移 Zephir ，用 Java 就要重写了。", "我能说我觉得 thinkphp 最好吗？", "其他的框架虽好，但我用 tp 。", "phalcon 的性能不是最快的，其性能比 yaf 都差一截，不用说鄙人写的 air 了（ ", " ）\r", "air 不但本身性能强悍，而且提供全局异步并发的 curl 和 mysql 支持，通过同步风格的并发的请求，真正成倍的提升真实应用的响应性能", "phalcon 貌似是我用过的最好的 PHP 框架", "框架就是一个集合体，但从性能如何比较？\r", "既然你们要求各种功能，就该从各种功能来比较。", "从入门到放弃，坑很多。:）"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Fixhub 是一套免费、开源，基于最新版本<a href=\"http://laravel.com\" rel=\"nofollow\">Laravel 5.3</a>框架开发的 web 自动上线部署系统。</p>\n<p>老规矩，废话少说，上图：</p>\n<p>1 、首页</p>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201608/31/2700/ieMLNoqUMy.png\"></p>\n<p>2 、项目详情页</p>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201608/31/2700/M7x9yXktt4.png\"></p>\n<p>3 、测试服务器连接状态</p>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201608/31/2700/nNmeApau4r.png\"></p>\n<p>4 、填写上线单</p>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201608/31/2700/JbfznT8C8T.png\"></p>\n<p>5 、上线进行时</p>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201608/31/2700/hUZxo6q7U5.png\"></p>\n<p>6 、完成上线</p>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201608/31/2700/ykp45oc8Ow.png\"></p>\n<p>7 、查看服务器控制台输出</p>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201608/31/2700/sJH1NOCnUm.png\"></p>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201608/31/2700/eoOID3yDjy.png\"></p>\n<p>8 、 Slack 通知</p>\n<p><img alt=\"file\" src=\"https://dn-phphub.qbox.me/uploads/images/201608/31/2700/azchAGGvcv.png\"></p>\n<p>演示地址： <a href=\"http://fixhub.org/\" rel=\"nofollow\">http://fixhub.org/</a> 源码地址： <a href=\"https://github.com/Fixhub/Fixhub\" rel=\"nofollow\">https://github.com/Fixhub/Fixhub</a> or <a href=\"http://git.oschina.net/Fixhub/Fixhub\" rel=\"nofollow\">http://git.oschina.net/Fixhub/Fixhub</a></p>\n<p>个人能力有限，程序肯定存在很多不成熟的地方，欢迎大家拍砖，谢谢。</p>\n</div></div>"], "reply": "31", "tittle": "Fixhub, 一款基于最新版本 Laravel 5.3 开发的开源 Web 自动部署系统", "comment": ["用户名: ", "\r", "\r", "密码: demo", "看上去不错，不过测试账号不能登录。", " \r", "\r", "密码被某个路人甲登上去给改了。。。", " 哈哈哈哈哈哈。笑死我了", "不错 mark", "看上去不错，必须要支持！", "不错，已 fork ，准备贡献", " \r", "\r", "我也经历过，权限被路人甲改了，后边我都把权限关掉了。", "牛逼", "不错哦~", "读取服务器的原理是什么呢？求指点。", "太高产了", " 请问使用了 5.3 的什么新特性么？", " 看样子他们的 oauth 会直接用 laravel passport\r", "lz 厉害 之前眼红他们的 Forge 很久\r", "也可以管理虚拟机就更帅了，但好像不在下个 milestone 里.", "感謝分享", "路人甲这么无良啊。。\r", "测试版要把一些关键权限关掉。。\r", "防火防盗防小人", "另外我想问一下，这种部署方式，是会把系统线上的配置文件也放到版本库中么？", " 看你部署脚本怎么写咯。", "安装上了，不过算是一波三折啊 \r", "1 、执行 php artisan app:install ，报错：\r", "php_strip_whitespace(/home/www/fixhub): failed to open stream: No such file or directory \r", "不过貌似没发现有什么影响\r", "2 、安装完，登录后台失败，一看数据库， user 的 password 保存的是明文，自己又修改了一下密码，登录成功\r", "3 、后台首页一直提示 Websocket 通信失败，检查后发现是 socket 没有加端口，在 dashboard.blade.php 中加了端口，访问正常了\r", "\r", "功能暂时没体验", "无法部署。。后台任务执行不动", " 不会的，配置文件只跟项目或部署模板关联。跟 Git 仓储无关的。", " 密码的问题，在 0.0.5 解决了，我的问题。", " 欢迎，并期待你的贡献。", " 先有了 5.3 的外衣，新特性，期待大家一起完善。", " 端口？不应该在 dashboard.blade.php 设置的，是 socket.io 的端口的话，在.env 里设置。", " 我只是临时改了一下，.env 里是有设置，但是 dashboard.blade.php 里没有调用 socket.io 的端口\r", "\r", "\r", "还有就是这个工具不知道该如何使用", "5.3 不是自带 Oauth 2.0 么，为什么还要用 JWT ？", "5.3 不是刚出来...", " 我用你提供的账号登不上了诶，能更新下密码么？谢谢啦~", " 系统演示\r", "\r", "体验 Fixhub, 请访问 Fixhub:\r", "\r", "用户名: demo 或 ", "\r", "密码: fixhub", " \r", "\r", " \r", "\r", "演示账号在 readme 里有。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>下面是网上找到的一个类，是说可以实现 php 异步抓取数据，但是 php 一直是同步的，打印出的结果也是同步的，但是通过下面 rolling_curl 的方法，的确可以节省一定的时间，但是既然都是同步的 ，为什么会节约时间呢？\n希望各位大神能给出一些指导。\n/**</p>\n<ul>\n<li>cURL 批量处理  工具类</li>\n<li>\n<li>@since Version 1.0</li>\n<li>@author Justmepzy <a href=\"mailto:justmepzy@gmail.com\">justmepzy@gmail.com</a></li>\n<li>@link <a href=\"http://t.qq.com/JustPzy\" rel=\"nofollow\">http://t.qq.com/JustPzy</a>\n*/</li>\n</ul>\n<pre><code>\t/** \n</code></pre>\n<p><em>单一的请求对象\n<em>/<br>\nclass Curl_request {<br>\npublic $url         = '';<br>\npublic $method      = 'GET';<br>\npublic $post_data   = null;<br>\npublic $headers     = null;<br>\npublic $options     = null;<br>\n/</em></em>\n*<br>\n* @param string $url\n* @param string $method\n* @param string $post_data\n* @param string $headers\n* @param array $options\n* @return void\n<em>/<br>\npublic function __construct($url, $method = 'GET', $post_data = null, $headers = null, $options = null) {<br>\n$this-&gt;url = $url;<br>\n$this-&gt;method = strtoupper( $method );<br>\n$this-&gt;post_data = $post_data;<br>\n$this-&gt;headers = $headers;<br>\n$this-&gt;options = $options;<br>\n}<br>\n/</em>*\n* @return void\n<em>/<br>\npublic function __destruct() {<br>\nunset ( $this-&gt;url, $this-&gt;method, $this-&gt;post_data, $this-&gt;headers, $this-&gt;options );<br>\n}<br>\n}<br>\n/</em>*</p>\n<ul>\n<li>包含请求列队处理\n<em>/<br>\nclass Curl {<br>\n/</em>*\n<ul>\n<li>\n<p>请求 url 个数</p>\n</li>\n<li>\n<p>@var int\n<em>/<br>\nprivate $size           = 1;\n/</em>*</p>\n</li>\n<li>\n<p>等待所有 cURL 批处理中的活动连接等待响应时间</p>\n</li>\n<li>\n<p>@var int\n<em>/<br>\nprivate $timeout        = 5;\n/</em>*</p>\n</li>\n<li>\n<p>完成请求回调函数</p>\n</li>\n<li>\n<p>@var string\n<em>/<br>\nprivate $callback       = null;<br>\n/</em>*</p>\n</li>\n<li>\n<p>cRUL 配置</p>\n</li>\n<li>\n<p>@var array\n<em>/<br>\nprivate $options        = array (CURLOPT_SSL_VERIFYPEER =&gt; 0,CURLOPT_RETURNTRANSFER =&gt; 1,CURLOPT_CONNECTTIMEOUT =&gt; 30 );<br>\n/</em>*</p>\n</li>\n<li>\n<p>请求头</p>\n</li>\n<li>\n<p>@var array\n<em>/<br>\nprivate $headers        = array ();<br>\n/</em>*</p>\n</li>\n<li>\n<p>请求列队</p>\n</li>\n<li>\n<p>@var array\n<em>/<br>\nprivate $requests       = array ();<br>\n/</em>*</p>\n</li>\n<li>\n<p>请求列队索引</p>\n</li>\n<li>\n<p>@var array\n<em>/<br>\nprivate $request_map    = array ();<br>\n/</em>*</p>\n</li>\n<li>\n<p>错误</p>\n</li>\n<li>\n<p>@var array\n<em>/<br>\nprivate $errors         = array ();<br>\n/</em>*</p>\n</li>\n<li>\n<p>@access public</p>\n</li>\n<li>\n<p>@param string $callback 回调函数</p>\n</li>\n<li>\n<p>该函数有 4 个参数($response,$info,$error,$request)</p>\n</li>\n<li>\n<p>$response    url 返回的 body</p>\n</li>\n<li>\n<p>$info        cURL 连接资源句柄的信息</p>\n</li>\n<li>\n<p>$error       错误</p>\n</li>\n<li>\n<p>$request     请求对象\n<em>/<br>\npublic function __construct($callback = null) {<br>\n$this-&gt;callback = $callback;<br>\n}<br>\n/</em>*</p>\n</li>\n<li>\n<p>添加一个请求对象到列队</p>\n</li>\n<li>\n<p>@access public</p>\n</li>\n<li>\n<p>@param object $request</p>\n</li>\n<li>\n<p>@return boolean\n<em>/<br>\npublic function add($request) { \t\n$this-&gt;requests [] = $request;<br>\nreturn TRUE;<br>\n}<br>\n/</em>*</p>\n</li>\n<li>\n<p>创建一个请求对象并添加到列队</p>\n</li>\n<li>\n<p>@access public</p>\n</li>\n<li>\n<p>@param string $url</p>\n</li>\n<li>\n<p>@param string $method</p>\n</li>\n<li>\n<p>@param string $post_data</p>\n</li>\n<li>\n<p>@param string $headers</p>\n</li>\n<li>\n<p>@param array $options</p>\n</li>\n<li>\n<p>@return boolean\n<em>/<br>\npublic function request($url, $method = 'GET', $post_data = null, $headers = null, $options = null) {<br>\n$this-&gt;requests [] = new Curl_request ( $url, $method, $post_data, $headers, $options );<br>\nreturn TRUE;<br>\n}<br>\n/</em>*</p>\n</li>\n<li>\n<p>创建 GET 请求对象</p>\n</li>\n<li>\n<p>@access public</p>\n</li>\n<li>\n<p>@param string $url</p>\n</li>\n<li>\n<p>@param string $headers</p>\n</li>\n<li>\n<p>@param array $options</p>\n</li>\n<li>\n<p>@return boolean\n<em>/<br>\npublic function get($url, $headers = null, $options = null) {<br>\nreturn $this-&gt;request ( $url, \"GET\", null, $headers, $options );<br>\n}<br>\n/</em>*</p>\n</li>\n<li>\n<p>创建一个 POST 请求对象</p>\n</li>\n<li>\n<p>@access public</p>\n</li>\n<li>\n<p>@param string $url</p>\n</li>\n<li>\n<p>@param string $post_data</p>\n</li>\n<li>\n<p>@param string $headers</p>\n</li>\n<li>\n<p>@param array $options</p>\n</li>\n<li>\n<p>@return boolean\n<em>/<br>\npublic function post($url, $post_data = null, $headers = null, $options = null) {<br>\nreturn $this-&gt;request ( $url, \"POST\", $post_data, $headers, $options );<br>\n}<br>\n/</em>*</p>\n</li>\n<li>\n<p>执行 cURL</p>\n</li>\n<li>\n<p>@access public</p>\n</li>\n<li>\n<p>@param int $size 最大连接数</p>\n</li>\n<li>\n<p>@return Ambigous &lt;boolean, mixed&gt;|boolean\n<em>/<br>\npublic function execute($size = null) {<br>\nif (sizeof ( $this-&gt;requests ) == 1) {<br>\nreturn $this-&gt;single_curl ();<br>\n} else {\nreturn $this-&gt;rolling_curl ( $size );\n}<br>\n}<br>\n/</em>*</p>\n</li>\n<li>\n<p>单个 url 请求</p>\n</li>\n<li>\n<p>@access private</p>\n</li>\n<li>\n<p>@return mixed|boolean\n*/<br>\nprivate function single_curl() {\n$ch = curl_init ();\n$request = array_shift ( $this-&gt;requests );\n$options = $this-&gt;get_options ( $request );\ncurl_setopt_array ( $ch, $options );\n$output = curl_exec ( $ch );\n$info = curl_getinfo ( $ch );</p>\n<p>// it's not neccesary to set a callback for one-off requests\nif ($this-&gt;callback) {\n$callback = $this-&gt;callback;\nif (is_callable ( $this-&gt;callback )) {\ncall_user_func ( $callback, $output, $info, $request );\n}\n} else\nreturn $output;\nreturn true;\n}<br>\n/**</p>\n</li>\n<li>\n<p>多个 url 请求</p>\n</li>\n<li>\n<p>@access private</p>\n</li>\n<li>\n<p>@param int $size 最大连接数</p>\n</li>\n<li>\n<p>@return boolean\n*/<br>\nprivate function rolling_curl($size = null) {<br>\nif ($size)<br>\n$this-&gt;size = $size;<br>\nelse<br>\n$this-&gt;size = count($this-&gt;requests);<br>\nif (sizeof ( $this-&gt;requests ) &lt; $this-&gt;size)<br>\n$this-&gt;size = sizeof ( $this-&gt;requests );<br>\nif ($this-&gt;size &lt; 2)<br>\n$this-&gt;set_error ( 'size must be greater than 1' );<br>\n$master = curl_multi_init ();<br>\n//添加 cURL 连接资源句柄到 map 索引<br>\nfor($i = 0; $i &lt; $this-&gt;size; $i ++) {<br>\n$ch = curl_init ();\n$options = $this-&gt;get_options ( $this-&gt;requests [$i] );\ncurl_setopt_array ( $ch, $options );<br>\ncurl_multi_add_handle ( $master, $ch );</p>\n<pre><code> $key = ( string ) $ch;  \n $this-&gt;request_map [$key] = $i;  \n</code></pre>\n<p>}</p>\n<p>$active = $done = null;<br>\ndo {<br>\nwhile ( ($execrun = curl_multi_exec ( $master, $active )) == CURLM_CALL_MULTI_PERFORM )<br>\n;<br>\nif ($execrun != CURLM_OK)<br>\nbreak;<br>\n//有一个请求完成则回调<br>\nwhile ( $done = curl_multi_info_read ( $master ) ) {<br>\n//$done 完成的请求句柄<br>\n$info = curl_getinfo ( $done ['handle'] );//<br>\n$output = curl_multi_getcontent ( $done ['handle'] );//<br>\n$error = curl_error ( $done ['handle'] );//</p>\n<pre><code>     $this-&gt;set_error ( $error );  \n\n     //调用回调函数,如果存在的话  \n     $callback = $this-&gt;callback;  \n     if (is_callable ( $callback )) {  \n         $key = ( string ) $done ['handle'];  \n         $request = $this-&gt;requests [$this-&gt;request_map [$key]];  \n         unset ( $this-&gt;request_map [$key] );\n         call_user_func ( $callback, $output, $info, $error, $request );\n     }  \n     curl_close ( $done ['handle'] );  \n     //从列队中移除已经完成的 request  \n     curl_multi_remove_handle ( $master, $done ['handle'] );  \n }  \n //等待所有 cURL 批处理中的活动连接  \n if ($active)  \n     curl_multi_select ( $master, $this-&gt;timeout );  \n</code></pre>\n<p>} while ( $active );<br>\n//完成关闭<br>\ncurl_multi_close ( $master );<br>\nreturn true;<br>\n}<br>\n/**</p>\n</li>\n<li>\n<p>获取没得请求对象的 cURL 配置</p>\n</li>\n<li>\n<p>@access private</p>\n</li>\n<li>\n<p>@param object $request</p>\n</li>\n<li>\n<p>@return array\n*/<br>\nprivate function get_options($request) {<br>\n$options = $this-&gt;__get ( 'options' );<br>\nif (ini_get ( 'safe_mode' ) == 'Off' || ! ini_get ( 'safe_mode' )) {<br>\n$options [CURLOPT_FOLLOWLOCATION] = 1;<br>\n$options [CURLOPT_MAXREDIRS] = 5;<br>\n}<br>\n//$headers = $this-&gt;__get ( 'headers' );<br>\n$headers = $request-&gt;headers;<br>\nif ($request-&gt;options) {<br>\n$options = $request-&gt;options + $options;<br>\n}</p>\n<p>$options [CURLOPT_URL] = $request-&gt;url;</p>\n<p>if ($request-&gt;post_data &amp;&amp; strtolower($request-&gt;method) == 'post' ) {<br>\n$options [CURLOPT_POST] = 1;<br>\n$options [CURLOPT_POSTFIELDS] = $request-&gt;post_data;<br>\n}</p>\n<p>if ($headers) {<br>\n$options [CURLOPT_HEADER] = 0;<br>\n$options [CURLOPT_HTTPHEADER] = $headers;<br>\n}</p>\n<p>return $options;<br>\n}<br>\n/**</p>\n</li>\n<li>\n<p>设置错误信息</p>\n</li>\n<li>\n<p>@access public</p>\n</li>\n<li>\n<p>@param string $msg\n<em>/<br>\npublic function set_error($msg) {<br>\nif (! empty ( $msg ))<br>\n$this-&gt;errors [] = $msg;<br>\n}<br>\n/</em>*</p>\n</li>\n<li>\n<p>获取错误信息</p>\n</li>\n<li>\n<p>@access public</p>\n</li>\n<li>\n<p>@param string $open</p>\n</li>\n<li>\n<p>@param string $close</p>\n</li>\n<li>\n<p>@return string\n<em>/<br>\npublic function display_errors($open = '</em></p><p><em>', $close = '</em></p><em>') {<br>\n$str = '';<br>\nforeach ( $this-&gt;errors as $val ) {<br>\n$str .= $open . $val . $close;<br>\n}<br>\nreturn $str;<br>\n}<br>\n/</em>*<p></p>\n</li>\n<li>\n<p>@access public</p>\n</li>\n<li>\n<p>@param string $name</p>\n</li>\n<li>\n<p>@param string $value</p>\n</li>\n<li>\n<p>@return boolean\n<em>/<br>\npublic function __set($name, $value) {<br>\nif ($name == 'options' || $name == 'headers') {<br>\n$this-&gt;{$name} = $value + $this-&gt;{$name};<br>\n} else {<br>\n$this-&gt;{$name} = $value;<br>\n}<br>\nreturn TRUE;<br>\n}<br>\n/</em>*</p>\n</li>\n<li>\n<li>\n<p>@param string $name</p>\n</li>\n<li>\n<p>@return mixed</p>\n</li>\n<li>\n<p>@access public\n<em>/<br>\npublic function __get($name) {<br>\nreturn (isset ( $this-&gt;{$name} )) ? $this-&gt;{$name} : null;<br>\n}<br>\n/</em>*</p>\n</li>\n<li>\n<p>@return void</p>\n</li>\n<li>\n<p>@access public\n<em>/<br>\npublic function __destruct() {<br>\nunset ( $this-&gt;size, $this-&gt;timeout, $this-&gt;callback, $this-&gt;options, $this-&gt;headers, $this-&gt;requests, $this-&gt;request_map, $this-&gt;errors );<br>\n}<br>\n}<br>\n// END Curl Class<br>\n/</em> End of file curl.class.php */</p>\n</li>\n</ul>\n</li>\n</ul>\n</div></div>"], "reply": "7", "tittle": "关于 php 通过 curl 的伪异步方式抓取数据，下面这种 curl 方式和普通的 curl 同步请求有什么区别？", "comment": ["因为这里是同时发出多个请求，不是一个发完等响应后再发下一个。\r", "所以你可以测试单个请求下，用 curl 单发和并发的时间是一样的，多个请求下并发就会快一些。", " 的确是这样的，但是多个请求打印出的结果也是同步的 ，如果是同时发出的，怎么看出来呢？", " curl_multi 是整个请求池所有请求处理完毕，把所有响应报文拿到，才会继续往下走的。\r", "虽然看起来像异步，但是实际上是同步阻塞的。", "curl_multi 并发请求，所以比单个快，\r", "然后 判断了$execrun != CURLM_OK ，哪个请求先完成，就先处理哪个请求。如果你用回调（ callback ）打印的话，会发现不是顺序输出，而是哪个请求先完成，输出哪个。\r", "\r", "其实这个 rolling_curl 最大的好处是控制并发的总请求数。", "有多个请求的时候使用 curl_multi 确实会比多个 curl 快一些。甚至你都可以在等待的时候使用非阻塞方式进行等待，顺便干点其他事情。\r", "\r", "以前我也封装过一个： ", "\r", "\r", "特别针对于只要发送请求，不要应答结果的场景还优化出一个`CurlMulti::waitLeast`", " \r", " \r", "感谢！", "为什么不用 guzzle 呢。异步同步都很方便\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在使用 xmlrpc 给 wp 发布内容时，遇到 html 被过滤了。</p>\n<p>奇怪的是，我在自己电脑进行测试的时候是正常的，用 win10 ubuntu 子系统的 php7 ，和直接 windows 下的 php5.6 都是正常，但是在云 vps ，就会有 html 被过滤的问题。</p>\n<p>wordpress 目录里面，问题已经定位到了 <code>wp-include/class-IXR.php</code> =&gt; <code>IXR_Message</code>这个类。\n在 <code>IXR_Message::cdata</code> 方法调用时候 vps 上的 html 标签则被过滤了。</p>\n<p>测试的 xml 内容：</p>\n<pre><code>&lt;?xml version='1.0'?&gt;\n&lt;methodCall&gt;\n&lt;methodName&gt;wp.newPost&lt;/methodName&gt;\n&lt;params&gt;\n&lt;param&gt;\n&lt;value&gt;&lt;int&gt;0&lt;/int&gt;&lt;/value&gt;\n&lt;/param&gt;\n&lt;param&gt;\n&lt;value&gt;&lt;string&gt;olive&lt;/string&gt;&lt;/value&gt;\n&lt;/param&gt;\n&lt;param&gt;\n&lt;value&gt;&lt;string&gt;huangolive&lt;/string&gt;&lt;/value&gt;\n&lt;/param&gt;\n&lt;param&gt;\n&lt;value&gt;&lt;struct&gt;\n&lt;member&gt;\n&lt;name&gt;post_content&lt;/name&gt;\n&lt;value&gt;&lt;string&gt;asdf &amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;p&amp;gt;&amp;lt;b&amp;gt;&amp;amp;gt;&amp;amp;lt;aaa&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;asdf&lt;/string&gt;&lt;/value&gt;\n&lt;/member&gt;\n&lt;member&gt;\n&lt;name&gt;comment_status&lt;/name&gt;\n&lt;value&gt;&lt;string&gt;open&lt;/string&gt;&lt;/value&gt;\n&lt;/member&gt;\n&lt;member&gt;\n&lt;name&gt;post_title&lt;/name&gt;\n&lt;value&gt;&lt;string&gt;test&lt;/string&gt;&lt;/value&gt;\n&lt;/member&gt;\n&lt;member&gt;\n&lt;name&gt;post_status&lt;/name&gt;\n&lt;value&gt;&lt;string&gt;publish&lt;/string&gt;&lt;/value&gt;\n&lt;/member&gt;\n&lt;member&gt;\n&lt;name&gt;post_type&lt;/name&gt;\n&lt;value&gt;&lt;string&gt;post&lt;/string&gt;&lt;/value&gt;\n&lt;/member&gt;\n&lt;member&gt;\n&lt;name&gt;terms&lt;/name&gt;\n&lt;value&gt;&lt;nil/&gt;&lt;/value&gt;&lt;/member&gt;\n&lt;/struct&gt;&lt;/value&gt;\n&lt;/param&gt;\n&lt;/params&gt;\n&lt;/methodCall&gt;\n</code></pre>\n<p>在自己电脑解析出来的 <code>post_content</code>为：</p>\n<pre><code>string(40) \"asdf &lt;&lt;&lt;&lt;&lt;&lt;&lt;p&gt;&lt;b&gt;&amp;gt;&amp;lt;aaa&lt;/b&gt;&lt;/p&gt;asdf\"\n</code></pre>\n<p>在 vps 上面解析出来的 <code>post_content</code>为：</p>\n<pre><code>string(24) \"asdf pbgt;lt;aaa/b/pasdf\"\n</code></pre>\n<p>不知这种情况是不是哪个地方默认配置导致的？</p>\n<p>有谁知道的话，希望能够帮助下，谢谢。</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>刚才发现是因为在vps上不认识<code>&amp;lt;</code>这类文字标记的实体，换成<code>&amp;#60;</code>后可以转换出来</p>\n</div></div>", "<div class=\"topic_content\">@<a target=\"_blank\" href=\"/member/Livid\">Livid</a> 这个主题没人关注，我也自己解决了，可以帮忙删除么。谢谢</div>"], "reply": "目前尚无回", "tittle": "在用 xmlrpc 发布 wp 内容时候发现 xml_parser 解析 xml 把 html 标签过滤掉了", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近做一个小东西用到，自己不会写，网上找了找，没找到好使的方法！</p>\n</div></div>"], "reply": "14", "tittle": "求一个获取图片主色调的 api，或者 js 或者 php 算法也 ok!", "comment": [" 试了这个，不好使", " 不好使是指什么？", " 报错", "报错难道不是你自己的问题 😂\r", "\r", "你也可以试试这个 ", "\r", "\r", "其实，一搜就有了..", "\r", "\r", "你把报错发出来啊，我觉得一般是姿势不对导致的", " 这个可以。", "  这个很适合", "实现思路 libjpeg 配合 C 语言给 php 写个库就好了， C 里面自己弄个 hashset 最后找出值最大的 RGB 就好了", "又拍云有主题色提取的 API 的。\r", "\r", "这里也有我的一个轮子。\r", "\r", "\r", "\r", "还有文章\r", "\r", "这个是结果的 demo\r", "\r", "这个是结果的 demo \r", "\r", "这两天逛 Github Trending 看到的\r", "地址： ", "\r", "Demo ： ", "试试我的 "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>是先继续学习框架，还是 javascript ，有顺序讲究吗？\n新手，希望前辈们推荐下学习路线。</p>\n</div></div>"], "reply": "20", "tittle": "学完了《PHP 和 MySQL W 恶霸、开发》，接下来学什么？", "comment": ["学完了，有什么用？关键是看解决问题.", "thinkphp 和 js,jquery 都学一下，第一份工作面试会用到。", "just do it", " 过来人说句，看 ci 真的比 tp 好", "恭喜入坑", " 新手学 tp ，去外包容易，成长快", "接下来学习发帖点击按钮之前先检查错别字", "现在恶霸都去搞开发了么？", "啥是 W 恶霸？", "web ？哈哈哈哈", "先学会好好码字吧，码字码不好，只能陷入无尽的 DEBUG 中。", " 我猜是 PHP 和 MySQL Web 开发", " 现在 CI 貌似不吃香了，都是 laravel 了。 虽然我最近刚用 CI 撸出网站： ", "我是来看恶霸的。。", " 资源哪里抓的？", "web = w 恶霸 哈哈哈。。。", "边学边做个小东西", " 赞！", "然后做一些小练手，例如留言系统，然后就是可以写一个个人博客，不要求功能强大但是功能要齐全，主要是为了打好基础。然后就是看别人的开源项目， btw ，当初我也是用这本书来入门的", "最后再学习下  PHP 从入门到放弃"]},
{"content": ["<div class=\"topic_content\">我过去在通信行业做程序员。现在由于来到了小地方，必须转行网络开发。准备学 PHP 开发。\r<br>我现在看了些 HTML, JS, CSS, PHP 的语法。对 Linux 很熟悉，因为过去一直在用。对 Sql 语法有了解。\r<br>我要学些什么才能去找工作呢？</div>"], "reply": "25", "tittle": "转行 PHP，我离找工作还多远？", "comment": ["thinkphp  (逃", "discuz 7.2", " 看 discuz 的代码？", "学个框架，比如说 CI", "如果还在准备阶段，还有非常远的距离", "根据你的综合信息,评估时间为: 一周.\r", "\r", "小地方? 意味着大型项目的可能性很小,差不多就是改改现有项目,做做简单的网站. 会 Google 就能解决\r", "\r", "对 Linux 熟悉? Windows 也可以搭建的,都很简单, 会 Google 就能解决.\r", "\r", "如果只是为了找工作,因为你是初转行到 Web 开发(和网络开发还是有区别的),不可能应聘技术强度很大的职位,\r", "\r", "所以前期懂一些基本语法和基础知识就可以出去找工作.\r", "\r", "学些什么?\r", "\r", "1. PHP 手册基础部分一定要过一遍. 这里大概用 2-3 天\r", "2. jQuery 手册和常用的 HTML 常用标签过一遍 1-2 天,对了,关于 JS 目前你的情况来看,暂时不要去学习什么\"高深\"的,\"优雅\"的\r", "3. 既然是 PHP 的话,MySQL 少不了的,所以增删查改当然必须的.\r", "4. LANMP 环境的基本搭建和基本配置的修改,Linux, Apache, Nginx,MySQL,PHP\r", "\r", "找工作嘛,有基础知识,嘴巴能说,就够了.说白了,找工作有运气成分.\r", "\r", "上面的有风险,技术还是需要真正的实力,在找到工作后,还是需要给自己制定一套成长计划和学习计划.", " 我次凹。。有这么简单么。。", "我徒弟三天看视频学会了 TP ，然后就找到了工作，地点 CC", "把基础学好，然后学学开源系统 (phpcms 、 discuz..)和框架 (ThinkPHP 三线城市应该比较多)", " 蛤蛤 这个好，中文翻译叫 “想拍黄片儿”", " 我这里貌似 wordpress 用的多。我现在可以直接看这个么？", "就没有建议弃坑麽?", "wordpress 这块主要是二次做的比较多吧，比如说主题插件之类的  ", "感觉还是学学框架比较好，比如 tp5", " 建议弃坑", " 拍黄片本身也就够了，给你这一说， TP 污的不要不要的", " 全新开发的多了去了。各种支付宝插件或者其他的， WordPress 底层非常完善，文档也非常丰富。", "学游泳关键是不怕水，其实在岸上的时候不会也没关系，不怕就可以下水。\r", "在水浅的地方，下去扑腾两圈就可以了。\r", "\r", "你这种困惑我以前也有，现在想想，当时缺乏一种自信。\r", "别怕，定个小目标。\r", "\r", "-----------------------------------\r", "上面是心理建设，具体的，我觉得你可以先投一些简历，大概写写东西。在面试的过程中不断学习修正学习的方向，找个中等规模的公司就可以了。\r", "\r", "祝你早日到坑里来，我们好爬上去，：）", "21 天精通 php 大概是这系列唯一一个不忽悠的", " 你确定？『精通』？", " 不算元编程,具体表现为可以写一个 php 框架", " 说框架的话。。。 thinkphp 3.x 版本也是框架， laravel 也是框架。随随便便写把数据库封装下， autoload 处理下，再加个路由也可以说自己是框架。\r", "\r", "我觉得既然敢说精通的话，这门语言的坑应该是能绕着走了，还得能说出坑所在。那么你不妨来试试看能不能说出下面几个的结果，以及为什么？（能说出 21 天能精通，想必你应该已经精通了）\r", "p.s. 既然是精通，那么回答为什么就是重点了\r", "\r", "```\r", "var_dump(md5('QNKCDZO') == md5('aabg7XSs'));\r", "\r", "var_dump(empty('0'));\r", "var_dump(empty('00'));\r", "\r", "var_dump(in_array('a', array(\r", "  'b' => 0,\r", "  'c' => 1,\r", "  'd' => 2,\r", ")));\r", "\r", "```\r", "随手写了 3 个可能在实际项目中遇到的，也存在了很多很多年的，而且不会有任何报错的。", " 还有 var_dump(strpos('a', 'bcd') == 0);", " \r", "1.===,0e\r", "\r", "2.编译不通过,如果你指的是$a='0';var_dump(empty($a));的话,'0'已被规定为空,换句话说,我虚拟机改一下就可以让 2 个都返回 true 或 false,没有意义\r", "\r", "3.$a=array('b'=>0,'c'=>1,'d'=>2); var_dump(in_array(0,$a,true));  就像对比变量居然使用\"==\"一样令人不可思议.", " ", " 把基础一定学好，然后再看开源系统和框架，要不然离开轮椅不会走路了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>像这种：</p>\n<p><img alt=\"php mascot\" src=\"http://i.imgur.com/6ZEIzzXl.jpg\"></p>\n<p>或者这种：</p>\n<p><img alt=\"php mascot\" src=\"http://i.imgur.com/3GdThWcl.jpg\"></p>\n</div></div>"], "reply": "26", "tittle": "如何得到一头 php 公仔？", "comment": ["mark ，我也喜欢收集各种纪念物。", "可以学习缝纫技术。", "\r", "万能的淘宝", "1.好好学 c\r", "2.给 php 贡献源码\r", "3.成为像鸟哥一样的人\r", "4.zend 寄给你最喜欢的 php 公仔", " ", " ", "不够萌啊", "我感觉 go 的小地鼠可爱", "我想要 hadoop 公仔", " \r", " \r", "麻烦你们继续递归一下。", "找个女朋友 给你缝一个……", " 想要 go 公仔。\r", "\r", "应该会有人入联系，然后团购的。\r", "\r", "请到时 @我一下，谢谢。", "有免费的没？", " 厉害，我 google 了半天没有找到哪里可以买， stackoverflow 发了一个帖子，几分钟被 devote 好几次，就主动删帖了（ v 友轻喷）\r", " 然而淘宝木有\r", " 可能有些 php 的相关会议会有赠送吧，最近 symfony 达成 5million 下载量成就在 twitter #5000million,#symfony 有可能会中奖", "go 的海狸 +1", " 那时候也请记得 @我一下，因为 logo 萌才学 go 的！", "橙色那个参加 PHPCon 送了一个，嫌太丑一直放在公司", "Go 的不是海狸……明明是土拨鼠……\r", "歪个楼， java 的是不是送杯咖啡？", "哈哈哈，六楼七楼真会玩，绝对是城里人", " go 的公仔在哪买的？", " 浅蓝的是自己做的，深蓝的是 Dave Cheney 送的", "要不咱们组织团购一批 PHP 公仔吧?", " java 有吉祥物， 08 年听 sun 来人讲座收了一个，送女友了，后来分手了还给我了，我一怒之下撕烂了，所以现在也想不起来到底是个什么吉祥物", " Go 的不是土拨鼠……明明是囊地鼠……"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在一些 PHP 内置函数（例如 mkdir ）中，在前面添加 @可以屏蔽该函数抛出的错误</p>\n<p>那么自定义函数要如何实现这点呢？</p>\n<p>我试了下<code>throw new Exception</code>和<code>trigger_error</code>都无法被 @屏蔽</p>\n</div></div>"], "reply": "11", "tittle": "PHP 中的自定义函数如何实现带 @时不抛出错误？", "comment": ["我记得 @ 好像实际就是在函数调用调整错误级别吧", "PHP 里 Exception 和其他的 Fatal error 这类不是一个概念。\r", "一个好的设计是善用 Exception 做异常处理，而不是简单的用 @掩盖。", "不要这么处理错误", "\r", "捕获异常，然后做处理。\r", "那玩意是只能屏蔽警告的吧。。", "不过我试了下，@可以屏蔽的啊。。\r", "Fatal error: 1 in D:\\*\\1.php on line 2\r", "('1',E_USER_ERROR);\r", "加 @就不提示了。", "<?php\r", "function asd() {\r", "trigger_error('1',E_USER_ERROR);\r", "}\r", "();\r", "?>\r", "C:\\Users\\lslqtz>php -f D:\\***\\1.php\r", "\r", "C:\\Users\\lslqtz>", " 抱歉没听太懂，能详细说说吗？", " \r", " \r", "是这样的，例如我想写一个 JsonFile::get()方法，当文件不存在时抛个错、路径非法时抛个错、解码失败时抛个错，并返回 false\r", "\r", "当用户在意错误信息时可以自行捕捉并处理；当不在意错误信息只希望得到文件内容或 false （失败）时，可以\r", "\r", "`@JsonFile::get()`\r", "\r", "这样调用\r", "\r", "主要也是为了方便嘛。请问如何实现这样的自定义方法（或函数）呢？\r", "\r", "或者说我这样的思路不太好？有没有既方便又合理的实现方法呢？", "永远不要用 @", " 根据 PHP 官方文档， @ 符号作用于一个表达式上，用于抑制表达式计算过程中发生错误的消息显示，但是并不会阻止通过  set_error_handler() 设置的自定义错误处理函数的触发。其实际作用类似于在执行该表达式前先通过 error_reporting() 将错误报告级别设为 0 （关闭错误显示），执行完表达式后再恢复原有错误报告级别。\r", "\r", "参见： ", "\r", "          ", " 我没见过哪个企业会允许在项目代码里使用 @的。\r", "你提到的“文件存在”、“路径非法”和“ JSON 解码失败”都有具体的函数去检查。\r", "拿到结果后在 get 里 throw new Exception 或 return false 都是可以接受的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在线：<a href=\"http://docs.larastars.cn/\" rel=\"nofollow\">docs.larastars.cn</a></p>\n<p>离线：<a href=\"https://github.com/larastarscn/docs.larastars.cn\" rel=\"nofollow\">larastarscn/docs.larastars.cn</a></p>\n<p>Github: <a href=\"https://github.com/dearmadman/laravel-docs-zh\" rel=\"nofollow\">dearmadman/laravel-docs-zh</a></p>\n<p>希望大家能够喜欢 :)</p>\n</div></div>"], "reply": "19", "tittle": "这个中秋节给 PHP 开发者最好的月饼——Laravel 5.3 中文文档", "comment": ["感谢！", "这 title 是要挑战某国产框架吗（", " 不用谢，一起学习吧 :)", " 2333 某框架决定重写时不就是要超越 Laravel 吗", "哈哈哈哈，你这是在公然挑衅", "味道确实不错", "祝挑战成功（", "可以可以", "这个回复少啊，来帮顶，虽然还在入门学习阶段", "去吧  互相伤害吧！ 就喜欢看撕  谁让我是国人", "哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈，去吧，互相伤害吧！", "欢迎文档托管到看云平台 ^_^", " 我这是在感恩 Laravel O(∩_∩)O 哈哈~", " 我也觉得是个好月饼，谢谢品尝~", " 已提供离线版，为什么还要做云托管 :)", "laravel 万岁~~~", "一群唯恐天下不乱的回复  哈哈。 \r", "\r", "只要是免费开源的框架我都支持！", "这个不错，手动 Mark 点赞👍", "  O(∩_∩)O 哈！ 谢谢"]},
{"content": ["<div class=\"topic_content\">Web 端的实时聊天。\r<br>\r<br>目前技术选择，前端 Node 系列，后端 Laravel\r<br>\r<br>PHP 实现此类功能会不会太弱了？\r<br>\r<br>有做过的或者了解过类似功能的开源项目的，求推荐&amp;指导</div>", "<div class=\"topic_content\">1.关于我的问题主题： php-server 端如何实现？\r<br>\r<br>2.关于 Node ： 网站前后端分离， php 处理 server 端的东西，前端部分又做了一层 node 与 php 进行交互。。。</div>"], "reply": "38", "tittle": "有人做过在线的实时聊天系统么？多个一对一", "comment": ["前端 Node 系列\r", "厉害。。。", "web socket 即可啊", "前端 后端 一起上", " +1", "最近好像很多 Node 前端的, 这难道是潮流??", "可以用右边广告上的‘野狗’君来玩的说~", " 一个 php+jquery 实时聊天插件，很强大。", " 自建，不打算买服务。。。", " 看起来不错，我研究下~3Q~", "\r", "分分钟实现。。。", "十几年 这是 各大门户网站基本功能啊 那会还是 cgi 的时代 啊啊啊啊太遥远了  勾起了我的回忆", "野狗这个 DEMO 改进下，应该可以实现\r", "swoole 有 demo", "澄清一点： node 不是前端技术，是后端技术\r", "然后项目有 rocketchat 和 lets chat\r", "\r", "\r", "\r", "刚用 laravel 做了个", "前端 Node 系列是什么鬼。。。", " @", " 这年头前端复杂点的都得上 node", "看规模，万以下规模常见技术即可。", "我明天正要做聊天室，多对多。。这几天想了想，聊天原理上就是后端维护一个队列，发消息就写进入这个队列，然后每个客户端循环请求读取这个队列。。至于这个队列用 redis 还是 mysql 来我还没想好，循环请求间隔时间我准备用一个平均 ajax 完整请求时间*2", "websocket 可以满足，如果是用 nodejs 可以考虑用 socket.io 这个包。\r", "\r", "但是，开发起来稍微有点麻烦。 所以我安利你用 meteor ，我用 meteor 做了一个论坛，看似是一个网页，但是由于支持 websocket 所以把他当成一个聊天室也没问题。 给个地址  ", "  体验下吧！", "做过， Vue.js + WebSocket + NodeJS 。真心一晚上搞定的事情，帮一个教授做的", "可以参考贤心的 LayIM\r", "\r", "github/开源中国，去搜啊", "推荐 wokerman", "c ＃有个开源的实时的， r 开通好像，忘记了", "“ PHP 实现此类功能会不会太弱了？ ”\r", "\r", "PHP 做这个的时候，不知道 NodeJS 哪里去了！", "我没做过,但是如果现在要我做的话我选择 websockets 后端用 C 语言或 C++实现.", " 我没让他俩对比。。。 Node 做的是 websocket 偏前端，跟 PHP 交互的部分。。。 server 端用 PHP 。。。。我是不会，没做过，来请教大家的", " 这俩还给老师了==大一的时候到时用 c 写过 socket 的东西。。。", "不带量级的需求讨论结果都是无数种不靠谱的方案。 同样是造房子，造个茅厕跟造摩天大楼会是用同样的方法么？", "swoole", "我用 node 做过一个，几乎把微信所有功能做了一遍，组群语音什么的。", " 用上 node 只是用 node 工具包罢了，具体的开发还是与框架有关", " node 可以接管整个前端开发流程，前端也算具体的开发。", " nice", " 你让 node 后台情何以堪", " 所以说 做全栈 用 node"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>一直在策划一个新闻热点的评论互动产品，没有学过任何变成，几年前买过 C 的书，但是那时候看不懂，这些天打算把这个想法实现，打算用 php 来做，目前已经实现了用户登陆注册发表评论的功能，但是用户之间的回复互动功能遇到了瓶颈，我的 php 水平也就是百度边查边做的阶段，对知识掌握的不全，希望各位能够指点一二</p>\n</div></div>"], "reply": "15", "tittle": "php 新手求助各位技术大牛", "comment": ["那你为什么不详细说说互动部分你目前是怎么实现的？遇到了什么样的瓶颈？", "遇到什么瓶颈？不说出来，谁都没办法帮你", "没用框架做吗", " 不懂框架~~~~", " 就是一个用户发表了一条内容 ，其他的用户可以评论 可以赞 然后他可以进行相应的回复~", "无非就是个存数据、读数据！", " 就是用户发表一个内容，另一个用户评论，然后继续回复~~", "这个就是嵌套评论啊", " 你百度 辛星 php 有一本是说做 bbs 论坛的", " 每条评论里面再加一个表单？", " 不是加表单，无限级评论，最好用 js 提交把，前台体验效果好，里面的关系就是父子关系，回复评论是“子”，被回复的是“父”", " 好的，我找一下，谢谢~", "嵌套评论 直接用多说或者畅言呗 干嘛要自己实现", "万物离不开 CRUD 。。。", "评论如果要做的很好的话，逻辑还是蛮多的，如果对评论这块要求不高的话，直接使用社会化评论系统，省了好多事。"]},
{"content": ["<div class=\"topic_content\">我有个项目需要每十秒爬取一个内容，不能手动刷新， php 好像没有定时功能的吧！？\r<br>\r<br>我朋友说用长链接可以，然后我去了解了一下长链接。\r<br>\r<br>看了一下，长链接好像是用来搞通讯的吧。。长链接爬取可以吗？\r<br>\r<br>还请各位大神指点一二，谢谢~</div>"], "reply": "11", "tittle": "请教大家关于 php 爬取内容的问题~", "comment": ["定时？ crontab 或者 sleep+while(true) 都行", "crontab 。设定为每 1 分钟启动一次脚本，然后， while 循环 6 次。每次开始爬的时候，记下 start_time ，爬完，记下 end_time,然后 sleep(10-(end_time - start_time))", "楼上说得对： crontab + sleep 是可以搞定的，而且最简单。\r", "\r", "你的朋友也没错，长链接也行。就是“ keep-alive ”啦，但是这个复杂点，没有必要。优点是速度快一些。", "crontab 定期执行 PHP 脚本最简单", "也不一定 crontab ，你就 nohup 让一个 PHP 脚本一直跑就好，每次 sleep 十秒", " \r", " \r", " \r", " \r", " \r", "谢谢大家，定时我懂得，只是希望有长链接之类更优方法。谢谢了。", " 我晕，你对时间的要求是“每十秒爬取一个内容”——根本不需要“更优方法”哦。", "不清楚具体需求是啥样。\r", "我理解为 你有一个页面 页面的某些内容需要每十秒 从别的地方抓过来？\r", "方案 1 ： js 定时 ajax 去请求你的 php 程序拿数据就 OK 了\r", "方案 2 ： php 建立 websocket server 。浏览器建立长连接， js 定时发请求拿数据。\r", "如果你的需求只是定时抓内容， php 脚本直接循环 sleep(10)就 OK 了", " 感谢~\r", "可能是我说的不明白~\r", "自动刷新的问题已经解决了\r", "主要是想用长连接爬取，因为长链接不会产生多次请求。多次请求怕会被封。", "长连接不是你说的这个层面的事吧。你每隔 10 秒取一次数据，你对目标每隔 10 秒重新读取一次，对方就能记录一次，该封一样封。", " 谢谢。我的确对长链接不懂。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>假如我有 3 台服务器,\n一台服务器使用 nginx 做负载均衡,转发到另外两台应用服务器,\n那么这两台应用服务器的配置是只有 php-fpm 呢,还是 nginx+php-fpm</p>\n<p>我看到网上的配置有 (nginx 负载均衡)+ (ngin ＋ php-fpm)+(ngin+php-fpm)\n也有  (nginx 负载均衡)+ (php-fpm)+(php-fpm)</p>\n<p>这两种配置架构有什么区别？一般都使用哪种？</p>\n</div></div>", "<div class=\"topic_content\">我用 3 台机器对这两种设计做了一次测试\r<br>\r<br>并发 150 执行 5 次，结果：\r<br>\r<br>设计方案      每次请求响应时间\r<br>\r<br>php-fpm :              4.68     4.74          4.70          4.74    4.68\r<br>\r<br>\r<br>nginx + php-fpm : 4.64      4.66          4.65         4.67      4.63\r<br>\r<br>结论是 nginx + php-fpm  这种设计在高并发下响应时间反而更快一点。</div>"], "reply": "13", "tittle": "我想使用 3 台服务器做 php 应用的负载均衡", "comment": ["别人怎么做不知道 ... 反正我的应用服务器只跑 php-fpm ... 除非同时兼任分发否则不会跑别的 ...\r", "\r", "我觉得如果在应用服务器上跑 nginx 却只连本地 php-fpm 的话 ... 这个 nginx 用的就完全没意义 ...\r", "\r", "这种反向代理架构的优点 ... 大概就是前端挂了的时候可以很方便的把后端一键顶上去送死吧 ...", " 我跟你的想法一样，不过我问过很多群，不少人选择 ngin+php-fpm ，也有人选择 php-fpm 。没有人能清清楚楚的说明白这两种设计到底有什么优劣，我就很纠结。", "同样纠结过的问题, mark", "难道就我一个人是 Nginx with multiply apache 么。。", "nginx 与 php-fpm 不在一台机器上时，要走 TCP 连接，效能和承载能力不如 nginx+php-fpm 走 unix domain socket ，这个对比测试很多。", "如果是我设计，我会考虑用 lvs 做 HA 和负载均衡，然后每台服务器上部署一个 nginx ， 然后每台服务器上再部署 N 个 php-fpm 。因为一个 php-fpm 很容易挂掉，物理资源可能也用不尽。\r", "nginx 上还可以合理把访问在不同的 php-fpm 进程间做次一级的负载平衡。", "换另外一种角度看， php-fpm 的集合其实就是应用程序池了， lvs+nginx 只是负载均衡网关。", "外行人随便说一说， TCP 和 Unix Socket 的区别。\r", "能给一个测试结论的链接吗", " 能给一个测试结论的链接吗", " 自己跑一下测试脚本也很快的吧。", "咦，现在的 php-fpm 连的不是 unix socket 吗，我看的教程基本上都是 unix socket ，连 9000 端口的话应该很少了吧", "建议是 nginx+php-fpm 的部署方式，跨服务器的 php-fpm 容易出现网络 IO 瓶颈\r", "如果可以直接向外网暴露服务器，通过域名访问，做 dns 轮询就可以了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>文章正文中有大量 html 标签，类似这样的：</p>\n<pre><code>&lt;h1&gt;标题&lt;/h1&gt;\n&lt;p&gt;文字文字&lt;/p&gt;\n&lt;img xxxx /&gt;\n</code></pre>\n<p>需要从文章正文提取摘要，现在用的办法是先过滤掉 html 标签，然后截取前 n 个字</p>\n<pre><code>$patterns = ['/&lt;.+&gt;/', '/&amp;nbsp;/'];\n$replacements = ['', ''];\n\n$text = preg_replace($patterns, $replacements, $html);\n</code></pre>\n<p>但是替换结果是一个空字符串，是匹配了第一个 &lt; 和最后一个 &gt; ？</p>\n<p>请问正则应该怎么写？</p>\n<p>或者有没有其它方法从正文提取摘要？</p>\n</div></div>"], "reply": "4", "tittle": "请教 preg_replace() 过滤 html 标签", "comment": ["可以把<.+>改成<.*?>或者使用 strip_tags", "strip_tags\r", "\r", "\r", "刚刚我也查到了，谢谢！\r", "- 取消贪婪匹配。\r", "- 替换 &nbsp; 不要用正则表达式。\r", "- 直接用现成的 strip_tags 。", "用 dom 库做这个啊"]},
{"content": ["<div class=\"topic_content\">V4 版本开始用户必须付费\r<br><a target=\"_blank\" href=\"https://chevereto.com/community/threads/changes-in-license-terms-open-discussion.7659/\" rel=\"nofollow\">https://chevereto.com/community/threads/changes-in-license-terms-open-discussion.7659/</a>\r<br>\r<br>包括之前是免费版的用户，升级到此版本之后也必须支付授权费用</div>"], "reply": "目前尚无回", "tittle": "PHP 图床系统 Chevereto 作者决定进行收费", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近发现了 <a href=\"http://css-tricks.com\" rel=\"nofollow\">css-tricks.com</a> 这个网站， php 应该也有类似的一些吧。</p>\n</div></div>"], "reply": "21", "tittle": "求推荐比较有趣的学习 php 的站点", "comment": ["很久很久以前，有个网站叫 php100", "很久很久都没更新了。", "官网都被黑了", "很久之前是 php100 phpchina ，不过现在都不更了。", "php100 ，印象深刻啊，很久很久以前还看过它们出的视频呢，不知道现在咋样了...", "开阔视野系列：\r", "\r", "                          PHP & Laravel(php 高端框架)\r", "               symofny!(php 顶级框架)\r", "或者入高端 qq 群： Symonfy.cn", "  哈哈 好玩， yaf 请问算什么", "推荐学习 python ……", " 为什么呢", " py 比较缺人～", " thank you", "还是怀念以前的    喜悦国际村 PHP 社区 ", "     我记得刚学的时候环境不会配  还是香港的一个小学生远程帮我搞定的呢~   这会人家肯定已经是孩子他爸了~", "很喜欢你的头像...", " 谢谢...", "很多人都是看着 php100 的视频入门的。", "segmentfault  里面的 php 问答板块 还是很活跃的", " 有道理", " 可惜英文听不懂。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我叫李宜东，是一名华中科技大学的大二学生，一名网站开发的萌新，在大一上半学期，就想做一个我们班级专属的网站，方便同学们（方便我这个学委偷懒）。<br>\n下面放出我的网站信息架构、技术组合和从一个小白成长到现在一个小小工作室负责人的一些经验分享。</p>\n<h1>当前网站信息架构</h1>\n<p><img alt=\"网站信息架构\" src=\"http://hustliyidong.cn/images_out/6.png\" title=\"网站信息架构\"></p>\n<h1>网站运行环境及技术组合</h1>\n<p><img alt=\"技术组合\" src=\"http://hustliyidong.cn/images_out/5.png\" title=\"技术组合\"></p>\n<h3>注：左侧为现在的技术组合，右侧为未来可能选择的组合</h3>\n<h1>腾讯云上环境的搭建和代码托管：</h1>\n<ul>\n<li>Windows ： UPUPW ， WAMP 或者按<a href=\"http://pan.baidu.com/s/1i52mj33\" rel=\"nofollow\">文档手动安装</a></li>\n<li>CentOS7 ：我们的工作室的同学写的<a href=\"http://pan.baidu.com/s/1nvCTt9Z\" rel=\"nofollow\">完整安装文档</a></li>\n<li>代码托管：<a href=\"https://github.com/ArrayZoneYour/TP_END\" rel=\"nofollow\">GITHUB 项目地址</a></li>\n</ul>\n<h1>经验分享</h1>\n<h4>从一个大一小白开始，我是如何在不到一年的时间从前端到后端搭建起自己的网站呢，又为何选择这个技术组合，踩过什么坑呢？</h4>\n<h2>学习及开发经验</h2>\n<ul>\n<li>利用网上平台，慕课网，实验楼，极客学院等等许多免费的学习平台都是很好的学习途径。</li>\n<li>会用插件，多 Google ， StarOverFlow 上有很多问题的解答</li>\n<li>最重要的还是保持对编程的热情，做编程会占用你大量的时间，如果没有兴趣是很难坚持下来的，多做点自己想做的，往往可以带来学习的动力。</li>\n<li>……</li>\n</ul>\n<h2>如何偷懒</h2>\n<ul>\n<li>环境配置篇：一键化安装，注意留存或收藏环境配置的文档，开发环境更新做好备份。</li>\n<li>团队协作篇：使用团队协作工具如 GITHUB ，良好的版本控制和工作流会减少冲突的代价，重要的是别人的代码不乱改：）</li>\n<li>轮子篇：合理利用现有的开源组件而不是一味造轮子，基于模板 /框架的开发会迅速很多。</li>\n<li>重构、封装篇：不要老想着重写代码，可以尝试将已有的服务封装为服务，在不改动底层的情况下进行开发：）</li>\n<li>编辑器篇：好的编辑器的代码补全，快捷键可以省不少时间。</li>\n</ul>\n<h2>选择当前技术组合的原因:</h2>\n<ul>\n<li>前端的变化:现在 HTML5 和 CSS3 使用越来越广，同时出于这学期响应式设计的需要，前端从最初的 HTML,CSS,JavaScript 转向了 HTML5,CSS3 和 jQuery ，也开始使用更多的插件。</li>\n<li>后端语言及框架选择:在性能要求不高的前提下， php 无需编译，学习成本也比较低，容易上手，但是也因为这个原因，所以需要使用框架来使项目结构和编码规范更清晰一些，而 ThinkPHP 作为流行，文档较完善的国内 PHP 框架被我作为首选。</li>\n<li>数据库选择 MySQL 的原因： PHP 的良好支持， phpmyadmin ，开源免费.\n最后由于一些校内网站数据的收集和四六级成绩的查询使用了 Python 来做网络爬虫</li>\n<li>服务器的选择：腾讯云学生服务器 1 元支持 : )，访问快，稳定性比较好</li>\n</ul>\n<h2>技术上踩过的坑：</h2>\n<p>1.最初使用 MVC 框架时，没有模型的概念，把数据库操作也写在了控制器，维护、复用和扩展都很麻烦。\n2.数据库最初设计没有考虑扩展性，最近数据库向高版本迁移时懒得导出 sql ，复制了 data 目录到高版本 MySQL,然后数据异常，至今个人论坛还没来得及恢复数据。\n3.最初密码设计只做了简单的 md5 加密，导致现在也没能加字符 md5 。\n4.开发文档和项目文档的编写，有一天，突然翻到之前的文档，发现我写的代码已经偏离最初设计(软件课设作业:学生管理系统)，成了班级网站:)， mark ：<a href=\"https://github.com/ArrayZoneYour/TP_END/blob/master/update.md\" rel=\"nofollow\">更新日志</a></p>\n<h1>网站截图：</h1>\n<h2>首页</h2>\n<p><img alt=\"首页\" src=\"http://hustliyidong.cn/images_out/1.png\" title=\"首页\"></p>\n<h2>学生登陆页面</h2>\n<p><img alt=\"学生登陆页面\" src=\"http://hustliyidong.cn/images_out/2.png\" title=\"学生登陆页面\"></p>\n<h2>个人信息页</h2>\n<p><img alt=\"个人信息页\" src=\"http://hustliyidong.cn/images_out/3.png\" title=\"个人信息页\"></p>\n<h2>部门招新</h2>\n<p><img alt=\"部门招新\" src=\"http://hustliyidong.cn/images_out/4.png\" title=\"部门招新\">\n<a href=\"http://hustliyidong.cn\" rel=\"nofollow\">官网地址链接</a></p>\n<h1>结语</h1>\n<p>这样，我上学期在一元服务器上折腾出了班级网站，这学期，我想将全站做成响应式网站，做出更多方便同学的功能。最后，感谢腾讯云给了同学体验云服务的机会，也希望其他同学也可以在云上做出自己想要的网站 /App 。</p>\n</div></div>"], "reply": "41", "tittle": "如何偷懒地用 PHP 搭建一个班级网站", "comment": ["支持，就是要有颗折腾的心", "好复杂- -其实把你就用 wordpress 就好了 管理界面也有了 自己设计下前端，然后 bbs 找个 dz 弄上　同学入口那里似乎要自己写一些逻辑了，基本就是ＣＲＵＤ　课件上传下载还是百度云，以免服务器悲剧。统一购书基本就是ｉｎｓｅｒｔ语句把。ｔｈｉｎｋｐｈｐ玩儿的不多。\r", "就是折腾的感觉，时间　快的话一周吧。界面写起来可能麻烦一点儿。", "用建站工具就好。", " @", " 其实偷懒应该加引号， 233333 ，写这个其实就是练习一下框架：），用建站工具， dz 就没意思了，也就不会学这么多技术了：）", " upupw 这是什么鬼？ C:\\amp\\UPUPW_AP7.0\\htdocs\\ 手动斜眼", "不错，同华科的来顶你一下。", " PHP 环境集成包呐，你这个路径不就是解压之后的默认网站目录嘛(°ー°〃)手动呆滞+1s", "真偷懒方式：不做网站， QQ 群就够了，同时具有比较好的小白亲和度", " 其实我们班有一个 QQ 群就是我专门发通知的，全员禁言~", "哈，大三前端狗表示很佩服啊\r", "现在的学弟们几乎人人都是全栈了(可怕\r", "一点建议哈，前端可以再做好看点，起码中文字体换一换。其实大面积用 boostrap 的样式就可以", "说了这么多，网站已经做出了了", "QQ 群足以，而且干嘛禁言，，，大家聊天多好", " 会有人各种斗图，聊天刷屏啊，然后就看不到通知了", " 有专门用来水的群的， orz", " 嗯嗯，谢谢学长的建议(*^ω^*)", "大二学生 可以了 加油", "密码哈希， php 不是有专门的函数么？不过，我一般用 bcrypt （", "图真慢啊", "鼓励一下", "小学弟 可以的", "upupw 环境", " 就是当时没多想挖的坑啊：（\r", " 照片死活传不到 imgur 上，一气之下直接在自己服务器建立目录放图片了（这是不是挖坑\r", " @", " @", " 谢谢(*^ω^*)", "这个主要是你自己练手吧。论效率和 QQ 群没法比。我上大学的时候，班里三个 QQ 群 闲聊群有老师的，闲聊群没老师的。事务群，除了管理员不说话的，用来即时通知各种事情。", "支持 良好的开端是成功的一半", "能用到 redis 。。。", " 因为缓存数据库没玩过嘛：）\r", " 是呐，做网站还是功能更重要一些，即时通讯效率肯定没法和 QQ 比：（", "支持楼主\r", "\r", "自己大二的时候做了个这： ", "\r", "不过后来烂尾了。。", "staroverflow...", "感觉装个 discuz 不就可以了吗？", " Stack(我错了", "网站图片加载略慢", " 我没有做图片压缩的锅（我去压缩一下", "楼主对工作的态度很认真，值得肯定，其他的看看就行了", "QQ 群+wecenter 或者 discuz ，足够。\r", "当然如果你想自己完全开发也是值得肯定的，你有时间去折腾的话。", "这种要的是项目经验", "这又是个比较大的架构了 用原生撸咯", "略丑", "tp 改成 ci 估计开发还得快一些", "直接 WorePress 完事 ..\r", "此外这等工程用不着 Redis ...大不了就 Tokyo Cabinet,MongoDB ， Neo4J ...", "文章很『学校』。。。\r", "不过看起来已经干了蛮多事情了，鼓励一下", "UI 设计落后两个时代，可以去扒一扒好看网站的样式"]},
{"content": ["<div class=\"topic_content\">最近工作中，要用到 yii 框架，看到官网文档混乱</div>"], "reply": "47", "tittle": "大家来评论下 yii 框架吧", "comment": ["请善用搜索\r", "还不错。", "yii 的文档不乱", " 我跟 laravel 比较了一下，感觉远没有 laravel 的文档来的清晰啊\r", " 老的项目，用的 yii1 能告诉我一下正确的搜索姿势么？", " 你最近用到 yii ，多久的项目了。。。", "文档确实不太友好 不如 TP Laravel 但是框架还是不错的 但是需要开发人员既要懂前端 又要懂后端。。", " 哈哈 是接手的老项目 从用 yii1 这个点 就可以知道是多老的项目了。。。", "   出门左转 stackoverflow", " 各种小挂件 都是用 PHP 来实现 我就很纳闷 为什么不能用前端的方式呢", " 只能左转了。。。\r", "\r", " yii1 太老了，基本上无知", "yii 还文档混乱？\r", "\r", "你不想用关键可以不用啊。\r", "\r", "挂件和 gii 是用来给你快速搭建可用的后台而已。", " 只能慢慢找老的文档了 也只能碰到问题左转了\r", " 接手老的项目 不得不用而已    看到这样的方法来用后端实现前端的功能（可能是用了 bootstrap 插件的缘故） 比较没头绪", " 兄弟，我同情你～", " 😂😂😂😂😂😂 踩坑不易", " \r", "\r", "这本来就是后端的功能，怎么成了前端的功能了……\r", "\r", "难不成 php 写着写着都只会写接口了么。\r", "\r", "\r", "\r", "这里面到底哪条混乱了？", "同样找 db 的 Connection 来看\r", "\r", "\r", "\r", "\r", "\r", "怎么看都是下面这条文档更清晰更完善吧？", "\r", "这个文档乱吗? 现在的框架不都是这个套路吗\r", "\r", "不知道你看的是哪个\"官网\"", " \r", "\r", "反正就 Yii 而言，\r", "\r", "在代码层面，还是有些地方有些小坑的。\r", "\r", "但文档质量，那我是没看到有几个文档能秒了它的。", " 嗯 我原来后端写前端，都是用 smarty 等模板 现在是直接 <? php echo ?> 再加上各种 $this->... 和 CHtml::... 等 所以比较不习惯 看文档混乱 可能是因为项目里老的代码太乱了 导致我一直没理清头绪的缘故\r", "\r", "v2ex 作为超级橡皮鸭 让我吐槽了一番 再加上你们的三言两语 确实特别有用 谢谢", " \r", " \r", "好吧 非要说出来我看的是中文文档么😂 我去看英文文档了。。。 谢谢 不该贪图省事去看翻译过来的文档。。。", " \r", "\r", "Yii 的模板里没有$this 啊.\r", "\r", "CHtml 是前台的帮助类，看文档过一遍就可以了。主要知道带 active 和不带 active 的去被就可以了。\r", "\r", "剩下的一般也就 gridview 和 detailview 两个插件了。\r", "\r", "view 部分最没什么吐槽的价值了好不。\r", "\r", "用到 actions()和 controllerMaps 你再来吐槽还差不多……", " 用了 yii-bootstrap 刚看的时候比较蒙圈 现在清晰了 你说得对！", "作者是中国人，但是官网没中文文档。\r", "中文文档，是社区维护的。", "yii 文档并不乱，社区也挺活跃。 \r", "新事物总有门槛，用一段时间就好了。 \r", "\r", "另外，后端实现前端的功能，是为了提高开发效率，特别适合做管理后台。\r", "前台不适用不用就可以了。", " 又见神对比，怎么不拿 yii2 比，怎么不拿 laravel4 比？", " \r", "\r", "神在哪了？\r", "\r", "不都是官方文档？\r", "\r", "既然楼主提到 yii1 和 laravel 对比，我找接近的接口对比有问题？", " 我看错了😁", " 是的 但 就像 vue 作者说的那样 咱们将就看吧。。。", " 对 确实适合做后台 但是 有的人做后台 代码结构特别混乱。。。", " \r", "\r", "你用过 gii 么……", "yii 文档写的很好的，", " 吐槽归吐槽 gii 还是用过的", " 确实怪我一开始看的是中文的", "相比之下感觉还是 symfony 的文档好啊", "gii 很方便， rbac 几分钟集成，文档还是挺详细的。 tp 坑很多，但胜在简单， yii 比 tp 沉重得多， tp 算轻量级的框架。 yii 国外很多在用，据说小米官网也是 yii 做的", " 确实是重啊  各种 N 层继承", "用 Yii2 小半年，整体来说比较完善，熟悉了感觉也很方便；\r", "文档对初学者不太好用，用一段时间熟悉了以后有些东西才能看懂；\r", "yii2 advanced 版的 common 设计，可以前后台程序共用（部分） model ，减少代码冗余；\r", "\r", "不过前端部分没用过，把它的小组件什么的都给舍弃了。。", " 嗯 其实我看 yii2 还行 但是因为接手老的项目 要看 yii1 就感觉里面都是坑。。。", "Yii1 两年， Yii2 两年的老油条现身说法， Yii 代码注释和文档都非常不错，但是创始人现在去写 go 了。。", "用 yii 还不如直接上 laravel", "刚开始用 yii2.0 有点蒙 layout 折腾了半天 为了去掉 activeform 组件给表单生成的 div label 标签又搜索了半天..", "yii 相比 laravel 有个优点，变化比较小。", " 老司机开车吧\r", " 老的项目 没办法。。。\r", " 新的项目是 yii2 还没开始接触呢 估计学了 yii1 之后 能好点\r", " 对 这个确实是优点！", "yii 的 guide 和 api 文档是我见过最棒的文档之一，你确定有好好看过？", "求一懂 yii2 的小伙伴，协助我实现某些功能，有能力的加我，给点红包答谢，谢谢，如果你在广州天河更好，面对面谈-q5080--68436", "Yii 其实挺好只能说国内用户喜欢了速成的模式，导致 laravel TP 之流横行。如果能静下心有时间的学学 yii 其实挺好。 yii 1.x 堪称经典 2.x 经历了足够的时间检验外加现在社区很繁荣。 国内情况另算", "YII2 相当不错"]},
{"content": ["<div class=\"topic_content\">用过 ci 、 yii ，都有默认的路由，基本上都是 module-controller-action ，思路走到哪，代码写到哪，非常流畅。文件组织的过程顺便把 seo 考虑进去了，只有特殊的 seo 需求才会专门订制路由。\r<br>\r<br>如果每个 controller 都需要建个 route 那 controller 还有啥存在意义，都用闭包解决算了，或者路由里直接调 business 逻辑。\r<br>\r<br>当然这样设计必然有其优越之处，不过编码也要考虑“爽脆度”，写起来不爽，用起来不干脆，我是适应不了。</div>"], "reply": "52", "tittle": "Laravel 每个控制器都需要写个路由，蛋疼", "comment": ["我是首先写 migration ，然后写 model ，然后写路由，最后写 controller 。感觉没什么啊，难道是我太菜了...", "之前看过某人的 laravel 路由执行时间就是几十毫秒。。。", "真想要的话， glob 一下目录目录自动注册路由，或者在路由 miss 的地方重新按照你希望的规则找一下是否存在对应的 action 调用一下，代码写一写估计也就一百多行╮(╯▽╰)╭  和你写这个帖子然后看回帖的时间差不了多少\r", "\r", "至于为啥不自带这类功能，是因为 url 和类名方法名耦合就是一条不归路，有了所谓 module controller action 你会发现你想要 submodule 想要 default action 想要各种例外，然后就呵呵了。今天省了 10 秒钟定义路由的时间，下次 url 重新规划的时候就呵呵了", "laravel 这种给你很大的自由， 况且定义路由也花不了多少时间。", "Django 还提供了视图反向生成 url 的方法呢。", "可能是继承自 Rails 的思想吧。\r", "Rails 里以前也见过人用泛路由匹配，结果程序写了几万行以后特么根本不知道自己的程序对外暴露了多少接口出去。\r", "回头整理和重构的时候那真叫一个吐血。 Controller 里的方法都不敢乱删，否则一不小心就 break 了外部调用。\r", "\r", "自动路由一时爽，代码全家火葬场啊。", "Router::pattern('path','.+')\r", "Router::any('{path}',function($path){\r", "//自己分割路径转发吧， Controller::call()\r", "})\r", "你看，默认路由不就几句话的事情吗\r", "ps 手机打的，可能有点小问题，", " 几十毫秒很慢了。。。", "`Route::controller` 和 `Route::resource` 不能满足?\r", "\r", "不过,话说回来, 听楼上的话,千万别用自动路由... \r", "\r", "看下这篇文章 ", "听说 5.0 的时候已经删了，不过正式版又加上了", "换句话说，自动路由适合小规模随便耍耍，手动路由适合大型项目开发。\r", "大型项目用自动路由分分钟崩掉程序员。", " 有道理", " 感觉正好相反啊，对于几百个页面的项目，如果不想办法做通用路由，每个控制器都要反复配一次，绝对是噩梦，还有在写路由的时候还得查一遍自己写的路由别人写没写过，再碰上正则的路由还得分析一遍，再碰上分组开发…不用自动路由绝对是噩梦…", " 有道理啊，开发时候先做测试，做完之后再一个一个配置路由也好啊", "不是传说中组件都可以替换的高级东东么", "laravel 也有自动路由，不知道最新版还有吗。\r", "\r", "不过写路由真的很好！现在看公司一些以前的 yii 的东西，都木有写路由别人看起来真的蛋疼。", " 集团军 作战，这种配置除非每个组有独特的明名空间，否则不敢想象", "企业自己的项目写固定的还好，如果是 cms 给客户的就得写分发了", " 几百个页面的项目我觉得是时候考虑拆分 Microservice 了。", "自动路由用 ThinkPHP 啊， XD", "如此优雅的路由方式  看来卤煮适合 tp 快去用吧", " microservice 同样面临 api 多的要命的情况", "学习 servlet 要 mapper", "还是 Yii2 好", "route::controller('/', 'XXXController');\r", "\r", "然后在 XXXController 实现你所有功能。\r", "\r", "我是不是很聪明？", " 合理拆分以后会好很多。\r", "再怎么多得要命，总比拿到手发现就一句 match \":controller/:action/:id\" 然后慢慢去翻几十个 Controller 来得好吧。", "我", "司禁止用自动路由模板", "这样可以知道有多少页面和 api 暴露出去。\r", "好管理。", "所以说 laravel 是轻量级框架。。。", "写 controller 的时候用 annotation 添加路由就好了… symfony+doctrine 有一个解决方案的", "解耦，像「 url 」 - 「控制器」，或者类似的「表单 」- 「变量」 - 「数据库」，先不考虑安全问题，像这种直肠子的设计，刚开始开发的时候爽，但是未来业务复杂了是要吃瘪的。", "自动路由      :     约定  >  配置\r", "\r", "自定义路由   :     配置  >  约定\r", "\r", "\r", "设计理念不同 ......", "这是方便而不是繁琐，你做好路由分层，一样会很快", "对于懒人肯定是 CI,YII,TP 这些舒服。其实思维转变需要一个过程。所以我一直没用 laravel 。", "卧槽，这都有人吐槽", " 想请教你几个问题\r", "第一 开发的内容不做对应文档说明吗？没有质量控，版本控制和测试吗？\r", "第二 路由 seo 这些不是项目初期就应该定下来的吗？看你的意思是几万行的项目要出 20-30 种路由规则\r", "第三 即使项目足够复杂，不应该考虑拆分吗？\r", "第四 你所谓的 controller 自定义路由模式真的适合大团队开发的项目吗？感觉像参差不齐的外包团队，自己搞自己的完全不考虑别人。\r", "最后想说，如有冒犯请多担待。有些话说出来是要负责的，你今天说的很多话可能会影响到很多人。\r", "会用一个框架不是你说别的思想错的资本，同样是 PHPer 有人拿 5w 一个月有人拿 5000 人和人不一样罢了", " 为你点个赞 总算有做过团队开发的出个声，团队开发中的问题不是有些人想想就能想到的。", "  不要这么激动，想想把你说的几个问题来问自动路由不也能成立？\r", "团队的好恶决定是用什么样的模式来做，显式路由清晰，看着 URL 不用去猜，配合 IDE 易查找；隐式路由方便，在有的框架下还能和文件结构一一对应，在注释完善的情况下也不至于说真的乱到哪里去（当然加了注释的话和自动路由其实没什么区别）\r", "说 Laravel 的性能呢，主要还是在框架启动速度上比较慢， swoole 套层壳还是可以接受的，除开启动速度，其他方面的性能和别的框架没有数量级的差别，路由判断也没有前几层楼说的几十毫秒- -", " 确实，就现阶段我所经历的都是团队约定好路由层规则再开发（多个 Microservice ），要不然项目 URI 规则就被按每个人的想法来跑飞了，哪怕是选用 Laravel ，路由自定义配置也是按约定规则来个人配置（这个时候普遍反应都是多此一举，干嘛不直接 URI 映射 /显式路由）。\r", "所以有时候也会有如同 LZ 一样的困惑……看了一下楼上各位的回复，对于 LZ 的困惑我觉得它依然存在……", " 你说的都没错。\r", "我对我自己说的话负责任，但是没法对别人因为我说的话产生的影响而负责任。\r", "毕竟这里是讨论区，我觉得有互相不同的观点才是正常的。\r", "那么我们就来看看你提到的这几点吧。\r", "1. 文档，质量控制，版本控制，测试。\r", "是的，是应该有这些。但是偏偏我司的系统就是没有。\r", "去年来了个新员工， Ruby 老手，进来以后花了几个月时间分析和优化系统。\r", "后来在各种注释里留下不少对之前员工的脏话后愤而辞职了。\r", "如果你的系统这几点都能做好，当然不成问题。\r", "但是不是所有的公司都能做到这样。就说自动路由，你能保证你对外暴露的接口都能完整地整理在文档里吗？\r", "俗话说得好，代码才是最好的注释。显式申明你用到的路由本身就是一个精确反映实际的文档。\r", "2. 路由在项目初期就定下来。\r", "你开玩笑的吧，一个要做几年的项目的路由能一开始就定下来？\r", "我们现在的系统就是 50k 行代码，前后写了七八年，经手的程序员几十人。\r", "路由就是我 26 楼写的自动路由，前端界面往后端调用的时候直接 Call 到 Controller 上的方法。\r", "（实际情况其实比这个还复杂点，但是和本题无关所以就不提了。如果想知道我可以再说下去。）\r", "然而我们根本不知道前端到底用到了哪些后端方法。\r", "所以每次动控制器的时候根本不知道哪些方法是前端会用到的，哪些是可以随便改动的。\r", "3. 大项目拆分。\r", "这个没错。但是有几个问题。\r", "大项目不可能无限分割成微型项目。所以不可避免的有些项目还是有数千甚至上万行。\r", "如果全部用自动路由，你还是得到处搜索函数名，确保没有奇怪的地方调用到你的函数，才可以改动结构。\r", "除非你把所有的代码都从控制器里剥离出去，放在 Service 或者 Model 里。\r", "然而这样的话控制器就成了实质性的路由文档了。\r", "（并没什么不可以，如果架构师和程序员都靠谱的话，这样其实是不错的。）\r", "（但是你并不总是能遇到靠谱的同事。）\r", "4. 不知道你说的是什么。 26 楼的话，那个就是自动路由了。\r", "\r", "最后说下利益相关吧。 PHP 从初中开始玩，那时候还只有 PHP4.x ，还没到谈框架的年代。后来 PHP5 了自己写了个框架，工作以后送给公司用了，后来成了公司的核心框架，虽然并没什么亮点。现在写 Rails ，在一个五六人的团队里一起做一个 8 年多的 Rails 1.x 项目，大概有 50k 行的量，虽然基本都是辣鸡。现代 PHP 我已经不会写了，弃掉 PHP 的时候 Composer 才刚刚出来，所以对 Laravel 了解不多，不确定显式路由是不是有坑，不过至少 Rails 里显式路由的规则数量我还是可以接受的。上文大多以 Rails 的角度来谈路由，如果 Laravel 有不同之处还请提出来。\r", "谢谢。", " 既然你没在写 php 那就没啥好说的了，可能我们所处的团队和理念差别较大，国内有很多夸夸其谈的人，代码不怎么样，但是说起来一套一套的，到实际项目就蔫了。\r", "\r", "可能给你了不太好的感觉，抱歉。", " 我和你的想法差不多，我思量了一下，国内还是在前期规划性稍微投入的少了一些导致的， 前期架构 SEO 这些东西都设置好，后面慢慢变。。。。。真的想想都要抓狂。", " 很多时候的很多做法其实是妥协的结果。\r", "如果什么事情都能找到最理想的员工用最理想的办法去做，当然什么都好说。\r", "但是团队就是团队，就会遇上一些奇妙的事情。\r", "比如因为没钱所以招不了大牛，因为要抢占市场所以赶着开发，遇上留下了各种技术债什么的。\r", "自动路由大概就是技术债的一种吧。\r", "还债方法要么用显式路由，要么就如你说的，合理拆分，详细归档。\r", "PS: 国内情况我也不清楚，不过哪里都有你说的这种人，应该也不限定于国内的。", " s/遇上 /于是 /", "也可以不这么玩。 Laravel 并没有要求你一定这么做，只不过大家都按照官方的建议逐步形成了这一 best Practice 而已。\r", "\r", "不按照官方的玩法，怎么做呢？理论上可以这么做：\r", "\r", "route.php 里面只写一个路由：\r", "```\r", "Route::any('/', function() {\r", "   // 自己写一段解析 queryString 的代码，然后根据参数调用对应的 Controller\r", "});\r", "```\r", "\r", "不过，你就损失了 router middleware ， group routing 等等好处。一切自己动手。\r", "\r", "\r", "更进一步地，你还可以自己重写 Routing 接口，完整实现自己的一套 Routing 方法。", " 抱歉不能同意你的说法。“程序写了几万行以后特么根本不知道自己的程序对外暴露了多少接口出去”。问题是就算你手动路由，当路由配置写了几千行的时候 你特么也没法判断自己对外暴露了多少接口啊！！ 几千行的配置！你怎么看！更乱好吗？！\r", "\r", "还不如自动路由，遍历一下所有控制器的方法就知道有多少接口了啊！你不想暴露的接口可以单独写在一个模块里啊！", "框架应该支持自动路由和显式自定义路由，这样更灵活。\r", "\r", "我司目前使用的是自动路由，暂时没有发现什么坑，功能页面 200 个以上。\r", "\r", "此外，管理系统和接口对路由的要求不一样。管理系统那么自动路由就非常爽，但是 api 接口那么就需要显式自定义路由+自动路由。", " \r", "`php artisan route:list` 就能看到注册了哪些路由了\r", "也可以用 `Route::getRoutes()` 拿到所有路由信息，然后你想怎么展示就怎么展示", " 嗯，感谢你的回复。我的意思是。为什么不能两者兼有呢？换句话说，为什么 laravel 不鼓励隐式路由的使用？\r", "\r", "毕竟对于我来说，就算用显式路由，我也是按照一个统一的规则（模块 /控制器 /方法），重复的去写啊。。 那为嘛不直接给我自动匹配了。\r", "\r", "刚才我反驳 @", " 所说的，隐式路由会导致不知道暴露了多少接口出去。我相信也可以匹配出来的啊。实现难度可能比匹配显式路由更低。", " 看了一眼发帖时间。\r", "\r", "显式路由是你从外部用到某个控制器方法的时候才手动加入，而隐式路由那是阿猫阿狗看到有这个控制器方法就直接怼进前端里了。\r", "\r", "你说的这些我们都懂， Rails 也有 resources 方法可以自动生成 restful 的标准路由，一行代码解决一个 model ，如果你完全遵照统一规则来写的话，直接用 resources 就能解决了，不需要一个路由一行的。\r", "问题是大多数时候，都是辣鸡程序员开坑，倒霉程序员跳坑，这种时候显式比隐式带来的麻烦少得多。", " \r", "显示路由的最大好处是自由灵活，不受限制\r", "隐式路由你需要去看文档或者看源码才知道它的匹配规则是怎样的，显示则不用\r", "举个例子：两个不同的路由，调用同一个控制器里的方法 A ，如果是隐式路由就要再多写一个方法 B ，然后这个方法 B 再去调用方法 A ，显示路由增加一条路由规则即可，不会涉及到控制器的修改。这种场景可能不多，但肯定会有。"]},
{"content": ["<div class=\"topic_content\">比如某个包某个版本（ v1.2.3 ）有 bug ，该包新的版本(v1.3.0)虽然修复了这 bug ，但又和现有版本有兼容问题（如丢弃了某些方法）\r<br>\r<br>修改源代码后， composer status -v 可以看到修改\r<br>\r<br>push 到项目 git 上后，其他人如何知道我对这个包的修改呢？？（发 PR 原作者长期不处理的情况下）</div>"], "reply": "3", "tittle": "通过 composer update vendor/package --prefer-source 修改包的源代码，如何更新到 git 上，使其他人执行 composer install/update 能得到相应修改后的包呢？", "comment": ["自定义 composer repository", " \r", "这是可以，但麻烦...\r", "之前也是用这种方法，昨天得闲在看 composer 文档的时候突然发现 composer status 这命令\r", "还以为这命令可以做到更新到 git 上后可以通过 composer.lock 知道对 vendor/package 的修改呢（类似自动对指定版本的包进行 patch ）\r", "然后研究了一晚上发现貌似我想多了...所以就上来问下了...\r", "\r", "嗯...或者，可以举例下\r", "composer update vendor/package --prefer-source\r", "....\r", "composer status -v\r", "这 2 条命令结合在一起的使用场景吗？", "不是“可以”，是唯一的方法。\r", "后面这俩命令我没用过，看字面意思，和你的需求风马牛不相及。\r", "仔细看文档，一遍遍看吧，你的需求全部都在文档里，一点需要额外知识的地方都没有。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>向大家推荐一个国内程序员的直播:<a href=\"https://www.livecoding.tv/hainuo/\" rel=\"nofollow\">https://www.livecoding.tv/hainuo/</a>\n大家都来看看，为国内的编程小伙伴加加油。他是一位有 10 年经验的的“老”程序员了，擅长的编程语言是 php 。</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "直播分享： Coding the world", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>ThinkPHP5.0 正式版的发布，是团队中秋节送给 PHP 开发者最好的礼物！祝大家中秋快乐，事业顺利，用 ThinkPHP 开发更健康^_^</p>\n<p><img alt=\"\" src=\"http://www.thinkphp.cn/Uploads/editor/2016-09-15/57da5486ec05b.png\"></p>\n<p>ThinkPHP5.0 版本是一个颠覆和重构版本，采用全新的架构思想，引入了更多的 PHP 新特性，优化了核心，减少了依赖，实现了真正的惰性加载，支持 composer ，并针对 API 开发做了大量的优化，包括路由、日志、异常、模型、数据库、模板引擎和验证等模块都已经重构，不适合原有 3.2 项目的升级，请慎重考虑商业项目升级，但绝对是新项目的首选（无论是 WEB 还是 API 开发）。</p>\n<h2>[主要特性]</h2>\n<ul>\n<li><strong>规范</strong>：遵循 PSR-2 、 PSR-4 规范， Composer 及单元测试支持；</li>\n<li><strong>严谨</strong>：异常严谨的错误检测和安全机制，详细的日志信息，为你的开发保驾护航；</li>\n<li><strong>灵活</strong>：减少核心依赖，扩展更灵活、方便，支持命令行指令扩展；</li>\n<li><strong>API 友好</strong>：出色的性能和 REST 支持、远程调试，更好的支持 API 开发；</li>\n<li><strong>高效</strong>：惰性加载，及路由、配置和自动加载的缓存机制；</li>\n<li><strong>ORM</strong>：重构的数据库、模型及关联， MongoDb 支持；</li>\n</ul>\n<h3>支持 ThinkPHP5 的用户请到 <a href=\"https://github.com/top-think/think\" rel=\"nofollow\">Github</a> 给我们一个<code>star</code> ^_^</h3>\n<h2>[ 文档 ]</h2>\n<p>《<a href=\"http://www.kancloud.cn/thinkphp/thinkphp5_quickstart\" rel=\"nofollow\">ThinkPHP5.0 快速入门</a>》\n《<a href=\"http://www.kancloud.cn/manual/thinkphp5\" rel=\"nofollow\">ThinkPHP5.0 完全开发手册</a>》</p>\n<h2>[ 下载地址 ]</h2>\n<ul>\n<li>官网：<a href=\"http://www.thinkphp.cn/down/845.html\" rel=\"nofollow\">官网下载</a></li>\n<li>GitHub ： <a href=\"https://github.com/top-think/think.git\" rel=\"nofollow\">GitHub</a>（主要维护仓库 官方核心团队）</li>\n<li>Composer ： composer create-project topthink/think tp5 --prefer-dist</li>\n</ul>\n<h2>[ 扩展包 ]</h2>\n<p>下面是针对 ThinkPHP5 的扩展包 需要使用 Composer 安装</p>\n<ul>\n<li><a href=\"https://github.com/top-think/think-testing.git\" rel=\"nofollow\">应用单元测试</a></li>\n<li><a href=\"https://github.com/top-think/think-captcha.git\" rel=\"nofollow\">验证码</a></li>\n<li><a href=\"https://github.com/top-think/think-queue.git\" rel=\"nofollow\">队列</a></li>\n<li><a href=\"https://github.com/top-think/think-mongo.git\" rel=\"nofollow\">MongoDb</a></li>\n<li><a href=\"https://github.com/top-think/think-angular.git\" rel=\"nofollow\">angular 模板引擎</a></li>\n<li><a href=\"https://github.com/top-think/think-helper.git\" rel=\"nofollow\">助手库</a></li>\n<li><a href=\"https://github.com/top-think/think-migration.git\" rel=\"nofollow\">数据库迁移工具</a></li>\n</ul>\n<p>通过支付宝捐赠支持我们：</p>\n<p><img alt=\"\" src=\"http://www.thinkphp.cn/Uploads/editor/2016-07-08/577f852e40237.jpg\"></p>\n<p>ThinkPHP 官方小组 2016 年中秋</p>\n</div></div>"], "reply": "66", "tittle": "这个中秋节给 PHP 开发者最好的月饼——ThinkPHP5.0 正式版发布", "comment": ["感谢！", "en", "这月饼味道一般，还是喜欢 sf 味道的。", "小白菜路过，不要问为什么。顶贴没商量", "支持下", "tp5 还是很不错的，支持一下", "撒花~", "我也来凑个热烈～", "支持一个", "真快 tp 都出到 5.0,", "还是喜欢 laravel", "可能我的疑问有些不合时宜，公开索要 STAR 的做法在开发者群体中很流行吗？", "个人比较关心从 TP3.2 迁移到 5.0 的成本问题", "这月饼味道一般，还是喜欢 laravel 味道的", "... thinkphp\r", "\r", "我是 laravel 党，看到 thinkphp 就想吐槽 ~", " 基本上不支持升级 还是重写比较快了\r", " 欢迎吐槽 事实上 TP5 有参考 Laravel\r", " TP3 的时代从来没索要过 star 所以这么多年才 2000 多， TP5 已经 1000 多\r", " 各有各的味道^_^", "中秋节应该送 cakephp ，那个才是月饼。。", "？这个 logo 不是我最喜欢的看云吗？ tp 和看云的关系是？", "话说 tp 和 laravel 比起来有什么优势么？", "ThinkPHP v5.0 版本代号：月饼\r", "\r", "2333~\r", "\r", "(Android 的版本代号都是甜点)\r", "\r", " 666\r", "\r", " ThinkPHP 和看云一家的", " 看云最新升级已经基于 TP5 完成重构 看云是 TP 官方出品的一个文档服务平台\r", " 为了庆祝 TP5 发布，天宫二号即将发射，带你直接去月宫吃月饼^_^\r", " 性能、文档、社区，更适合中国用户", "其实 thinkphp 还是有优点的：\r", "\r", "1 、 thinkphp 比 laravel 要简单一些，算是中量级吧， laravel 已经是重量级了，有时候觉得，学 laravel 这种重型框架，不如直接用 java 算了。\r", "2 、正因为 laravel 是重量级，所以速度被人诟病， thinkphp 速度要快的多。\r", "3 、 thinkphp 搭建起项目来比 laravel 还是要简单多了，比如默认路由，可以不管 route 的事，直接写 controller 、 action ， laravel 用起来还是要配置 route 的。\r", "4 、 thinkphp 的英文命名使用 chinglish ，符合中国人思维，这真不是在黑 thinkphp ，大部分人用 laravel 的时候，还是会遇到一些生僻词汇的，比如“ Eloquent ”、“ Illuminate ”这些命名，不查词典我真的不知道是什么意思，没有 ide 的提示我真不会打这些词，这种大学六级以上的英语词汇不会在 thinkphp 中出现的。", "当然 thinkphp5.0 也是有缺点的，比如 orm ，比如 migration ，给人意犹未尽的感觉，很多功能都不完善，因为我用过 django 、 rails 这些框架，对 many to one ， many to many 这些关系了如指掌（不是自吹哦），用 thinkphp5.0 中 model 的 many to one 的时候发现只提供了很简单的支持，比起 django 和 rails 来就像个玩具。", " 感谢评价和建议 TP5 只是一个新的起点，虽然还不足以和 Laravel 等相提并论，话说 TP5 的路由功能细节可圈可点，不逊于 Laravel~ 其实我个人认为比较没有意义，存在即是价值，没有最好的框架，只有最适合的框架。 TP 功过，任由开发者评说，我们 10 年的坚持只是一种态度！", "表示永远没有机会学会 TinkPHP 了。。。\r", "\r", "好像每次 TinkPHP 的重写，很多企业就会选择使用新的版本重写项目？ ：）", "顺便问下， CI 框架咋样？看这没人提到。就不想单独发帖了，新人没权重。", "Thinkphp5 终于出了正式版，之前的版本一改再改，我的项目从 RC2 一直到 RC4 发现都在不停的变化，尤其是 RC3 到 RC4 的变化太大了，项目完完全全就没办法移植，只能继续用 RC 版本，可能是设计之初就有很多地方没有构思好，作为英文不是很好的我还是比较支持国产框架的，但是 Thinkphp 本身仍然有很多地方略有缺失，比如说请求速率限制，队列等等国外优雅框架都有的服务。好像新版本源代码里面的注释仍然不是很完善，需要社区的更多支持。还是持续关注中！！！\r", "\r", " CI 其实很多地方和 Thinkphp 非常相似，这个框架很轻量，比较适合刚刚学过 Thinkphp 又想接触国外框架的人。", "  要 star 感觉类似文章或视频的 “喜欢就请点赞”", "thinkPHP 响应速度快", "支持下", " 确实之前版本调整较多，为了尽量让 TP5 趋于心中的完美更近一些，所以才历时十月，一直没有正式发布。 TP5 的核心比较轻，很多功能都纳入扩展组件了的，包括你说的请求速率限制之类的后面都是采用扩展包的方式，有了 composer 这些都比较方便扩展了。", "没有人吐槽 ThinkPHP5 的小写命名空间吗？ 感觉好别扭的说。  \r", "\r", "有一点值得赞扬的是终于在数据库查询构建器用 bindParam 的方式处理参数了，比之前的直接把参数拼到 SQL 里面安全多了。", "yooooooooooooooo ！！！万岁！！！", "另外，都已经使用 composer 了，为啥干脆不把 ThinkPHP 的框架部分抽出一个单独的 composer 包，而是还放到单独的 thinkphp 目录下", " 小写命名空间是为了配合小写的目录， TP5 的规范是目录小写。（事实上， TP5 一样支持应用的驼峰命名空间） ThinkPHP5 的核心部分本来就是一个单独的 composer 包，至于放到 thinkphp 目录下则是有意为之，是为了方便新手，熟悉 composer 的开发者可以很方便调整。", "感觉 orm 的查询器还是有些生硬。。\r", "\r", "不过用了预编译就是进步啊。", " 查询器用法比较多 看你选择什么用法了 其实 3.2.3 版本已经全面启用 PDO 参数绑定了 只是 TP5 更彻底，查询条件也自动参数绑定了", "还是喜欢 symfony 的味道", " 比较少见。之前所见之例，少有见到过语气这么生硬的。", " 其实 5.0 中改进了很多技术社区对于 3.2 的槽点，但是文档和注释这个槽点在 5.0 好像一直在延续，观察国外框架会发现国外框架几乎每个文件都有标准的 docblock 注释，大量的英文说明注释甚至是代码案例。\r", "而且对比 CI 的文档风格，它都是在每个功能点的后面附带对应的助手函数，并且对于不同的 php 版本，不同的特殊环境下都有醒目的 tip ，还有其他一些框架的文档也会举例说明这个功能点在哪些需求下需要用到，这样就算是略懂技术的 PM 也能够快速上手或者进行工作量的预估， RD 作为手册查阅起来很方便，如果 Thinkphp 的文档能够格式规范，做的优雅一点就更好了。\r", "点恳求广大社区贡献者和 Thinkphp 官方能够提供更完美的支持。在此说声谢谢！~", "4.x 是準備給 3.x 升級嗎", "为什么有个文档还要钱？", "  为什么不要钱？", " 你可以考虑 lumen", "哎，我多希望国产框架能够一下子就到达国外框架的水平。\r", "每次看到国产框架的帖子，下面吐槽的人数都超过了开发的人数，我就感觉到一种莫名其妙的悲哀。\r", "对于喜欢 thinkphp 的人来说，这是很好的中秋礼物。\r", "看云很 nice ， thinkphp 加油！", " 《手册》是不要钱的，《入门》要钱。", " 关于注释方面的不足 是同过注释来弥补 看代码的用户还是少 当然这也是今后的改进目标\r", " 4.0 版还没正式发布就搁浅了，当初的版本要求国内的很多环境无法跟上，然后官方把原本 4.0 的功能纳入 3.2 版本的规划 因此 4.0 版本就沦落成和 PHP6 一样\r", " 谢谢支持和鼓励 国内技术社区热衷于翻译和推广国外的产品 看不起国内自己的产品，所以我们必须要做到足够的优秀，国货当自强\r", " 我们的完全手册对于基础扎实的用户已经足够，为了帮助新手快速迈过一些坎，我们还提供了快速入门指南（属于收费文档，但不强制，我们还有很多的群提供技术支持），同时也是为了证明看云是一个可以给技术文档的作者提供创收的平台。 TP5 快速入门创下了看云平台的收费文档的记录。", "支持！", "挺好的，支持 tp", " 为什么要推荐一个要钱的入门资料？而且是放在 “[ 文档 ]” 这个下面。就不能加一个“付费资料”， “赞助阅读”吗？  \r", "\r", "  分明都是在“文档” 下面的\r", "\r", " 本来还有兴趣，结果点第一个“文档”发现是个卖书的。 就没兴趣了。", "   官方这个，我觉得挺心酸的，很好的框架，结果还得用这种方法赚点零用钱。", " 不用在意 V2EX 的一些傻逼。\r", "\r", "这些傻逼鄙视 ThinkPHP ，跪舔 L 、 C 框架；\r", "这些傻逼鄙视 Android ，跪舔 IOS ；\r", "这些傻逼鄙视创维、长虹，跪舔大法。\r", "\r", "更搞笑的是，轻易就被知乎软文洗脑，鄙视 VW ，跪舔日系车（虽然 VW 不算好鸟）。\r", "\r", "整天以自我为世界中心：凡是与我喜欢的不一样的，都是 LOWB 。殊不知自己才是傻逼。\r", "\r", "所以，对这些傻逼，笑笑就好。", " ThinkPHP 做得已经足够优秀，为开发者带来了很多方便。感谢你们的贡献，感谢你们的开源。希望你们越来越好", " \r", " 我们不认为官方有付费文档对开源框架有啥影响，教程定位我说的很清楚了，而且倾注了大量的额外时间精力，官方没有义务提供免费服务， yii 的官网文档频道都是推荐的付费书籍 开源不等于免费，尤其是在国内的开源氛围下，服务也是成本，而且我们发现购买文档的用户都是优质用户，提问的质量都很高。\r", " 谢谢，我们坚持开源这么多年，非常感恩开发者对我们的支持和鼓励，至于这种事情已经司空见惯 我们就是在吐槽中成长起来的 ^_^", " 官方已经完善了手册并且对框架技术开源了。凭啥别人就可以写入门出书赚钱，官方人员就不能写入门指南赚点零花钱？所有东西都是有成本的。开源不代表官方要放弃自己著作的版权。这是两码事。何况又不贵。", "ThinkPHP 很好用，但是我觉得社区太没劲了，有几个问题\r", "1. 用户的发帖、回复，经常没有进行代码格式整理和高亮\r", "2. 不知道怎么回事，总觉得很多人说话说一半留一半，或者错别字一堆，我这个英语才高中水平的，反而觉得看一些英文的社区都没这么吃力\r", "3. 一个分享的案例，本来想学习一下代码，结果作者说啊说，说到一大半的时候，话锋一转，要加群……要不就别分享了……\r", "4. 反正挺乱的，官方社区不应该是内容质量积累最优质，最快帮你解决问题的地方吗？", "PHP 的框架，熟悉的或正在学习的有三个， CodeIgniter 是我学习 PHP 框架的入门框架， ThinkPHP 是工作中用的比较多的框架， Laravel 是现在很流行但是公司用得少的一个框架，目前处于个人研究的阶段。", " 这就是国内的生态，很多人在社区不是为了讨论技术，都在浑水摸鱼谋利，每天屏蔽的垃圾信息很多，而且还要经受频繁的 DDOS 攻击，这就是林子大了什么鸟都有吧，官方也在重新定位社区。对于框架的技术文档方面，也有一些新的想法。", "用了很久的 ThinkPHP ，在这里说声\"多谢了\"！", "tp5 更适合开发 API 吗", "框架怎样就不评价了， 但是你们的官网真的应该好好设计一下，点开之后蚂蚁一样的文字满屏幕都是，看着有够闹心呢。", "虽然不用 thinkphp,但是已 star", " 是的 相对于 TP3.2 版本来说 为 API 开发设计了很多底层的支持 \r", " 谢谢\r", " 官网的体验今后会改进 精力问题", "作为我在工作中第一个使用的框架，十分感谢 TP ，不可否认 TP 确实还存在很多问题，社区是其中比较大的一个，很多问题的答案在社区里面都得不到专业的答复，很是恼火，大多数时间只有自己摸索了。", "支持！  希望能多规范下框架注释。有点另类过头了。", " 看到了，终于支持查询器了。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>使用场景是这样的：<br>\n<a href=\"http://a.b.com\" rel=\"nofollow\">a.b.com</a> 是前端页面，纯静态的页面，数据都是通过 ajax 调用的。<br>\n<a href=\"http://i.b.com\" rel=\"nofollow\">i.b.com</a> 是调用的接口域名。<br>\n<a href=\"http://a.b.com\" rel=\"nofollow\">a.b.com</a> 通过 ajax 的方式去登录帐号，同时设置 session 。登录成功后，请求 <a href=\"http://i.b.com\" rel=\"nofollow\">i.b.com</a> 时， session 是空的。有什么方法解决这个问题没有？<br>\nps:session_set_cookie_params(3600 , '/', '.b.com'); 这种方式已经使用，并不能读取到。</p>\n</div></div>"], "reply": "3", "tittle": "通过 ajax 去登录如何设置 session", "comment": ["跨域，默认的 ajax 请求，是不带任何请求凭证的，设置 xhr 的 withCredentials =true", "你说的 session 我默认用的 cookie 机制，看这里\r", " 在这里的答案里面找到了解决方案，感谢"]},
{"content": ["<div class=\"topic_content\">我目前在澳洲，是技术移民来的。 过去在在国内主要从事 Linux 下的 C 开发。但这里很少有类似工作。 web 开发的却很多，所以想转行 PHP 或者 Java 前端开发。 但现在没有头绪。想找个有经验的开发者每天给我安排目标，直到最终找到合适的工作（估计俩月左右）。\r<br>\r<br>作为回报。我可以帮你全程搞定技术移民澳洲（我就是自己踩了很多坑过来的，我对技术移民的每一步的具体细节都非常清楚）。移民全程，我可以帮你节省至少 500 小时。\r<br>\r<br>技术移民澳洲基本就是英语考试，所以，需要你有较好的英语基础。大概六级 500 以上（如果你有毅力学英语，要求可以放宽）。然后我从指导你加强英语，考英语开始，一步步把你弄过来。\r<br>\r<br>除非你英语极为牛逼，否则，单搞定英语的话，分数应该还不够。最好你是计算机相关专业或者类似专业毕业，具有 5 年以上的工作经验。如果有配偶也在计算机或者工程类行业，能给你加分的，你自己的工作经验要求会小一些。\r<br>\r<br>或者，你不想移民的话。单每天打电话辅导也行，价格我们可以谈。 我微信： 4510263@81 (去掉 @)</div>", "<div class=\"topic_content\">不要再加我了，已找到。。</div>"], "reply": "2", "tittle": "有想移民澳洲的英语好的 PHP 或者 Java 程序员么？我可以全程帮你搞定(2)", "comment": ["英语啊啊啊"]},
{"content": ["<div class=\"topic_content\">朋友要帮公司处理一堆 excel 文件，来请教我。\r<br>我不懂 excel ，但我懂 php ， php 真是世界上最好的语言[手动斜眼]，我用 php 写了个脚本遍历所有 excel 文件、读取、整理、输出。\r<br>需求实现了——至少在我电脑上实现了。\r<br>但是，怎么让这个 php 脚本能方便地在朋友的电脑上运行呢？\r<br>有没有打包成一个 exe 文件的方法？</div>"], "reply": "51", "tittle": "如何打包 php 网站以便 [方便地] 在其他电脑运行？", "comment": ["改用世界上第二好的语言 python", "php.exe 和一个启动脚本即可", "usbwebserver ，集成 apache mysql php 的绿色 exe 程序\r", "如名所示，可放入 u 盘到处(windows)运行", "PHP 带 CLI 的，你把那个 php 的解释器也一块复制过去就好了，不需要部署。", "下意识 docker ……", "首选 docker", "人家要 exe 你们说 docker 的也是够了，不看需求的么。。。\r", "一楼应该正解", "三楼方案是可行的。换用别的 php 环境也行，复制即可运行的那种。以前张宴有一个不错的版本，不过好多年没更新了。", "PHP.exe 可以。你这样的东西我去年也做过类似的。发布的时候带了一个自己精简过的 PHP-cil 。 10M 左右。", "核心目的如果是将已有 PHP 代码 /逻辑变成方便在 windows 系统上运行的工具的话，可以不用拘泥于分享形式：\r", "\r", "1. 创建一个 bat ，或者使用 auto 脚本工具，安装包来做执行文件，使用 shellex 之类的接口运行你的 php 脚本。\r", "\r", "2. ", " 使用类似辅助手段，把 php 变成“原生”带界面程序。\r", "\r", "3. 做成 lamp ，在浏览器里解决需求，部署通用服务分享，或者给朋友单独部署属于他的服务。\r", "\r", "4. 换语言， ", " （类似 2 ）\r", "\r", "5. 封装运行环境，使用虚拟机镜像＋ samba/共享目录，使用 docker+共享数据卷等等\r", "\r", "...", "一个集成环境能有多难？ upupw", "感觉你选错语言了 这种东西选.net 不更好。。", "说 docker 的都是只看标题不看内容的", "改用直接上最好的语言  python  或者  php.exe", "php -S", "弄个 Nginx + PHP 环境啊，直接打包过去，让他在浏览器里面打开不就行了", "PHP 有很多绿色环境包的，例如 phpStudy", "把 php 文件发布到服务器。", "要么用绿色环境，建议以后这种要在其他 windows 电脑上跑的小工具，都用.net 写，系统自带环境~", "方法很多，， nodejs 其实更好，封装 exe 也简单。。。\r", "当然如果你不想上传到服务器，你可以自己在你电脑搭建，，没固定 ip 或者 80 端口的话，用动态域名就 ok 。。\r", "此外就是 usbwebserver ，你将 php 文件，放入 root 目录，，然后发给朋友，，让他本地运行，，之后浏览器打开 127.0.0.1 不就行了。", "docker", "改用世界上第三好的语言 nodejs", "go  编译成 exe", "最好的办法就是楼上说的， PHP EXE —— 相当于一个命令行的脚本，界面是纯文本的啦。楼主提到“打包成一个 exe 文件”，似乎还没有这种工具。", "winRAR 可以做到打包成 exe + 运行指定脚本", "php cli", "分享一下原先收藏的  ", "docker 是个框，啥都往里装", "这种事情不是应该默默的打开 Excel ，然后 Alt + F11 么？\r", "\r", "本来是从一个房间里到另外一个房间里跟别人说一句话的事情，楼主实现的方式是坐了个飞机飞到美国，然后在美国给另外一个房间的人打了个国际长途来说这句话。", "用 docker->搬两袋米开来了一辆卡车.", "PHP cli", "打包为自解压文件，里面包括 php cli", "看到标题我就知道肯定有人要来安利 docker 的，果然，为嘛不用 docker", " ", " php 官网就有各个版本吧", "帮朋友解决一个问题+用 PHP 实现=现在有两个问题了", "我一看标题，联想下维基百科 docker 的解释。嗯，就 docker 了", "当然是 docker 了", "appserv. \r", "用过很不错", "开始运行一个 Hello World 的破脚本，包含一个 php.exe ，只需要 php.exe 一个单文件。\r", "start.bat ：\r", "php -r \"echo 'hello,world.';\"\r", "pause\r", "下面没了", "php.exe 直接执行，写个批处理打包给朋友就好", "你为啥不加个 web 界面，让他上传，处理后下载。。。省事省心。", "我也有一堆要处理的 Excel 。\r", "楼主朋友有楼主这样的朋友真是棒棒哒！", "想打包的都是什么心态。。\r", "我觉得楼主还是找点时间做个 low low 的页面，挂你服务器上让你同事直接\r", "顺便让你朋友多显摆显摆，以后说不定也有朋友的同事找你帮忙，挣钱不指望，搞几顿饭钱还是可以想想吧。", "我就想知道楼主最后的方案是啥？", "做这种小工具应该首选 go ，直接生成多平台可执行程序。", "把 php 文件夹独立拷贝一份不就可以了么", " 算你狠 ：-） 这家伙把 PHP+Web+Browser 搞到一个 EXE 里面，有试用版，价格公道。", "楼上的你们的网站都不用数据库么？个人觉得数据库配合迁移也是个问题", "phar", "用 VBA 啊…\r", "\r", "再不济用 python 也好一点"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"\" src=\"http://acos.image.alimmdn.com/3JR%7DZ9R9%28QH59N%28%7B4Z6NI7M.png?t=1474613165048\"></p>\n</div></div>"], "reply": "21", "tittle": "php 如何用如下形式的报文与远程服务器进行通信", "comment": ["这是要求双工通信， websocket 吧。。。。", "base_convert() 函数在任意进制之间转换数字。\r", "base_convert(number,frombase,tobase)\r", "参数\t        描述\r", "number\t必需。原始值。\r", "frombase\t必需。数字原来的进制。\r", "tobase\t必需。要转换的进制。", "貌似我打错了， php 貌似只能是 http 请求吧，建立在 tcp/ip 上，底层它控制不了", "\r", "\r", "看下这个 fsockopen ，以前用这个做过 telnet", " 那说明你还没有把 php 用到极致", " \r", "\r", "我想起了，以前用 php 做过 socket 编程。。太久忘记了。。", "substr,pack,unpack", " 有没有相应的 demo 我参考下呢", "这个报文可以用 pack 函数构建, 用 unpack 解析", "socket +字符串函数就行， pack/unpack 都不需要", "看错了...字节看成位了", "pack 和 unpack 还是必要的，方便一些。\r", "php 建立套接字挺方便的（实际上，都差不多， 233", "23333 ，我觉得写个 java 程序后台跑。。。", "workerman 和 swoole 都内置了 websocket", "pack 和 unpack 编解码。还需要一个异步 socket 框架，用命令行模式跑。楼上说的是两种常见的", "文件里并没有说要要进行双工通信，看起来更像是异步的。\r", "PHP 发请求直接 CURL 发呀，字节数就是字符数，根本没有任何技术障碍。", "socket 扩展， fsocksopen", "我又想起了 APNS 推送那个蛋疼的数据结构……", "就是 socket 编程那一套，可以在 tcp 的基础上自己实现这个协议，如果想使用框架可以考虑 swoole", "按文档给的协议格式把数据用 pack 打包，然后连接 socket 发送就行了。\r", "请求 socket 的方法自己写也行，用 workerman 也不错。如果需要接收对方数据的服务端的话。用 workerman 起一个也很方便。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如图：\n<a href=\"http://ww2.sinaimg.cn/large/801b780ajw1f83czav71kj21881iu4qp.jpg\" rel=\"nofollow\">http://ww2.sinaimg.cn/large/801b780ajw1f83czav71kj21881iu4qp.jpg</a></p>\n</div></div>"], "reply": "5", "tittle": "升级 macOS sierra 后 PhpStorm 只要一关闭标签页就崩溃", "comment": ["我这没有遇到过，你试试把插件都关掉？", "吓得我都不敢更新了", "我这边正常", "正常", "自问自答：本人貌似定位到问题并解决了。\r", "\r", "问题原因：当年升级 OS X 10.10  的时候，为了解决 PhpStorm 无法输入中文符号的问题（由其内置 JDK 1.8 的一个 bug 导致），曾手动指定了 Phpstorm 的 JDK 。结果现在升级到 macOS sierra ，就造成软件频繁崩溃了。\r", "\r", "解决办法：将 PhpStorm 的 JDK 指定回 PhpStorm 自带的 OpenJDK ，问题就解决了。\r", "\r"]},
{"content": "", "reply": "35", "tittle": "培训出来，找不到工作是不是可以考虑转行了", "comment": ["技术提升一下，继续找吧，钱不能白花啊。", "啊，有公司应聘地时候填写资料还要填培训经历呢", "PHP 节点？ PHP 不难找吧", "加油", "去文思海辉问问", "是的, 转行吧", "必须把钱挣回来再转行啊", "用心找得到的，先进外包锻炼下。", "那要是转行又遇到类似的情况怎么办", "培训的咋了，你这是投简历投的太少了，多投总能碰上一个。\r", "我这自学啥都不会，都不敢出来找工作。", "说实话，培训其实没问题。\r", "如果喜欢 PHP ，就继续。\r", "如果只是为了赚钱，可以考虑转行。", "很多公司招初级 PHP 程序员，对 php 的技能要求不高，可以从初级程序员干起走。", "你可能是某家培训机构的受害者。。", " 可是也要能生存下去啊 现在面临每个月还款的压力 所以想换个工作过渡下", "那家培训的？", "哪家培训的？", "  是有在找", "  ？？？", " 是的", "  培训太多 看到都不想投简历", " 三流培训机构 名字就不说了", "  如果能找到工作的话 会继续的", "你根本就不是这行的人,还没入行谈何转行", "如果不着急赚钱的话，建议还是坚持下去，想想当初的决定和选择，不能半途而废啊！", "没有按照岗位培训吧！  报错了班？", "问问自己，当初为什么要去培训班？\r", "问问自己，花钱去学技术，有没有学到技术。\r", "别人喂你吃东西，那你也要去张大嘴，再嚼，再吞。并不是像输液一样，插上就可以（输液的都是病人，已经不能自理了）。\r", "\r", "好好提升技术吧，也可以随便找个公司，", "自己技术可以的话，去给小公司做全栈也可以啊", "达内？", " 不是。。", "php 的市场肯定还是存在的。所以找不到的话，要么是你技术太菜了，要么是要求太高了。。。所以结论很明显了。。。", "行都没入呢，谈何转行的问题？？", "培训不是应该包找工作的吗？", " 你培训了吗？", " 没钱"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>RT  我用的 swoole 可以接收到数据，但是不知道如何解包，数据包抓包如下：</p>\n<p><img alt=\"\" src=\"http://i4.piimg.com/567571/142c995303bc45d8.png\"></p>\n</div></div>"], "reply": "3", "tittle": "万能的 V 友 如何 获取 socket tcp 二进制数据字节流数据包数据", "comment": ["什么样的数据要解\r", "这不已经算解包了么，然后按照 tcp 协议格式读着解不行么", " 客户端发来的 TCP 字节流（ C++写的）", " 协议格式知道了之后就可以解包了"]},
{"content": ["<div class=\"topic_content\">非正规科班，怎么学习 PHP ，本人只有小学水平，自己考了个大专，还是管理的，</div>"], "reply": "26", "tittle": "非正规科班，怎么学习 PHP", "comment": ["为什么想学 PHP ？", "网上视频，技术博客，技术书籍，配合大量抠腚。。。。", "看了下楼主的发帖记录，感觉楼主是来卖萌的", "这东西得去日本发展，国内违法", "这是在黑 PHP 吗？", "可以去一下百度 PHP 贴吧，那边和楼主的情况差不多的人有很多，可以寻求一下建议。", "对, 这就是在黑 PHP", "拍黄片？", "到这里 ", " codeigniter, 想办法把 php 环境架起来，让 ci 跑起来，再根据它的文档，写个 helloworld,写些读写数据库的练习。", "忘了怎么学会 PHP 的了，第一次用 PHP  写微博应用的时候好像天生就会一样，后面继续用 PHP 工作了 4 年，现在也只能算懂 PHP 而已", "非正规科班跟學編程沒有必然關係,有志者事竟成", "为了钱，想自己写个系统，大概有 6 套，找人了不行，专职太贵，要 30 万，所以想自己学，自己写，找不到路子，有个台湾和美国的花旗银行的和我的想法一样，只是找不到人，目前情况不好，只能自己学了😬😬😬", "不知道怎么回复哦，手机上", "还有 js.py.bs.C", "是不是太多了", " 我好想回答你的问题啊，既然你没问我，我随便说几句。\r", "\r", "是的，我老早就想做一个博客了，我想拥有自己独一无二的域名，任何时候只要别人能通过我简短而又有含义的域名，在浏览器输入，就能进入我准备好的页面，能看到我分享的照片、文章，能给我留言，是不是很酷？\r", "\r", "虽然目前改善自己博客的热情已经接近于 0 ，这却让我从 wordpress 渣变成了 php 开发者，当然我想如果我不做 php 开发的话，那我最有可能就是 java 了，说实话我 java 学的不怎么样，还包括 c#,c++,学校都有教，三本学校勉强应付考试而已，还好用 php 做过一些小的项目，让我在大三暑假就顺利找到实习的工作。\r", "\r", "//写完本来不想发的，算了，随它去吧。", "兴趣", "30 万。我跟你说，自学的成本可能不止 30 万。\r", "手机上回复人可以点右边的一个小箭头图标。", "慕课网", "如果你真想学习，直接去慕课网吧，内容还算不错，满足初学者，多看看同学的笔记，不要看什么技术博客，不要看什么技术博客，不要看什么技术博客，国内的技术博客的水平真的参差不齐，没有一个良好的过滤经验，很容易把自己带到一个万劫不复的深坑里！", "你仿佛在搞笑，就算科班，学校也不会教你 php", "科班出身的一般不做 php", " \r", "你的情况和我当年略相似，囧。\r", "当年还在大学的时候，专业课教的 Java 和 C#都不是很懂，专心折腾 PHP （因为觉得 Web 很有意思），然后靠 PHP 找了个互联网实习，最后进了一个老家的公司做 PHP 程序员。\r", "到现在工作也两年多了，最大的体会就是当年走的弯路太多，以及英文没有学好，嘿嘿。", "报价 30W 的项目你觉得你得学多久才能做？", " \r", " \r", " 基本的然后改，学习去，慢慢看视频吧", "PHP 不是淘汰了吗"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>对于大公司的项目，往往用户规模很大，并发量也很高，如果线上出现故障需要及时进行修复，这对程序员的随机应变能力，和综合能力是个考验，大家能否讲讲在线上遇到过哪些故障，而又<strong>如何快速定位问题</strong>并解决的呢？传授一下方法。</p>\n<p>不限语言(PHP,JAVA,C#,Node.js,Python)，只要是 WEB 项目，大家来聊聊，分享一下自己的经验。</p>\n</div></div>", "<div class=\"topic_content\">还有人分享一下经验吗</div>"], "reply": "3", "tittle": "大家在线上遇到故障是如何处理的？", "comment": ["试一下 sentry", "先止血，后分析原因。\r", "\r", "如果是发布过程中出问题，就回滚；如果是个别机器出问题，就把出问题的机器从负载均衡上摘掉。\r", "\r", "做变更前准备好回滚措施。", "步骤：恢复服务，保留现场，排查问题和验证\r", "\r", "具体可看大神博文  "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>ThinkPHP5.0 版本是一个颠覆和重构版本，官方团队历时十月，倾注了大量的时间和精力，采用全新的架构思想，引入了更多的 PHP 新特性，优化了核心，减少了依赖，实现了真正的惰性加载，支持 composer ，并针对 API 开发做了大量的优化，包括路由、日志、异常、模型、数据库、模板引擎和验证等模块都已经重构，不适合原有 3.2 项目的升级，请慎重考虑商业项目升级，但绝对是新项目的首选（无论是 WEB 还是 API 开发）。</p>\n<p><img alt=\"\" src=\"http://www.thinkphp.cn/Uploads/editor/2015-12-12/566b67e2496ac.png\"></p>\n<h3><strong>为了追求更简单的开发，我们一直在努力！ V5.0.1 版本修正了一些社区反馈的问题，虽然只是个小版本更新，但增加了一些令人愉悦的新特性。</strong></h3>\n<h2>[ 更新 ]</h2>\n<h3>主要调整：</h3>\n<ul>\n<li>依赖注入完善；</li>\n<li>扩展配置文件位置调整；</li>\n<li>新增数据表字段缓存命令；</li>\n<li>支持设置当前的查询对象；</li>\n<li>支持请求和路由缓存；</li>\n</ul>\n<p>相对于 5.0 版本，更新日志如下：</p>\n<h3>[ 请求和路由 ]</h3>\n<ul>\n<li>改进 Controller 类的<code>success</code>和<code>error</code>方法的跳转地址识别 支持更多 Scheme</li>\n<li>操作方法和架构方法支持任何对象自动注入</li>\n<li>Requesst 类增加<code>getInput</code>方法 用于获取<code>php://input</code>值</li>\n<li>路由到方法的时候 支持架构方法注入请求对象</li>\n<li>改进 Route 类路由到类的判断</li>\n<li>Request 增加<code>cache</code>方法，支持请求缓存</li>\n<li>绑定到模块后 路由依然优先检查</li>\n<li>路由增加请求缓存参数</li>\n<li>修正路由组合变量的可选变量的 BUG</li>\n</ul>\n<h3>[ 数据库 ]</h3>\n<ul>\n<li>修正<code>pgsql</code>数据库驱动的数据表字段信息读取</li>\n<li>改进 Query 类的<code>view</code>方法 第二个参数默认值更改为 true 获取全部的字段</li>\n<li>数据库配置信息增加<code>query</code>参数用于配置查询对象名称</li>\n<li>型类增加<code>query</code>属性用于配置模型需要的查询对象名称</li>\n<li>改进数据表字段缓存读取</li>\n<li>改进数据表字段缓存生成 模型为抽象类或者 没有继承 Model 类 不生成字段缓存</li>\n<li>改进模型的字段缓存 虚拟模型不生成字段缓存</li>\n<li>改进数据表字段缓存生成 支持读取模块的模型生成</li>\n<li>改进聚合模型的<code>save</code>方法 主键写入</li>\n<li>模型类的 field 属性定义简化 取消<code>Query</code>类的<code>allowField</code>和<code>setFieldType</code>方法及相关属性</li>\n<li>改进数据表字段缓存生成 支持生成多个数据库的</li>\n<li>更新数据库驱动类 改进<code>getTables</code>方法</li>\n<li>增加<code>optimize:schema</code> 命令 用于生成数据表字段信息缓存</li>\n<li>修正一个查询条件多个条件的时候的参数绑定 BUG</li>\n<li>分页查询方法<code>paginate</code>第二个参数传入数字表示总记录数</li>\n<li>修正 mysql 的<code>JSON</code>字段查询</li>\n<li>改进 Query 类的 getOptions 方法 当 name 参数不存在的时候返回 null</li>\n</ul>\n<h3>[ 模型和关联 ]</h3>\n<ul>\n<li>模型类的 field 属性不需要添加字段类型定义</li>\n<li>改进 Model 类 添加<code>getDb</code>静态方法获取 db 查询对象</li>\n<li>改进聚合模型<code>save</code>方法返回值</li>\n<li>改进 Relation 类<code>save</code>方法</li>\n<li>修正关联模型 多对多<code>save</code>方法一处问题</li>\n<li>改进 Model 类的 save 方法 修正不按主键查询的更新问题</li>\n<li>时间字段获取器获取的时候为 NULL 则不做转换</li>\n</ul>\n<h3>[ 其它 ]</h3>\n<ul>\n<li>改进配置缓存生成 支持扩展配置</li>\n<li>取消<code>extra_config_list</code>配置参数 扩展配置文件直接放到 <code>extra</code>目录下面即可自动加载（数据库配置文件位置不变）</li>\n<li>cache 助手函数支持判断缓存是否有效</li>\n<li>修正 模板引擎驱动类的<code>config</code>方法</li>\n<li>修复在配置 Model 属性 field=true 情况下,通过<code>__call</code>调用 db()引发的 BUG</li>\n<li>改进模板引擎驱动的 config 方法 支持获取配置参数值</li>\n<li>改进 redirct 的 url 地址解析</li>\n<li>删除<code>File</code>类的<code>md5</code>和<code>sha1</code>方法 改为<code>hash</code>方法 支持更多的散列值类型生成</li>\n<li>增加<code>response_end</code>行为标签</li>\n<li>改进默认语言的加载</li>\n</ul>\n<h2>[ 文档 ]</h2>\n<p>官方手册已经同步更新到 V5.0.1 版本</p>\n<p>[ <a href=\"http://www.kancloud.cn/manual/thinkphp5\" rel=\"nofollow\">5.0 完全开发手册</a> | <a href=\"http://www.kancloud.cn/thinkphp/thinkphp5_quickstart\" rel=\"nofollow\">5.0 快速入门</a> ]</p>\n<h2>[ 下载地址 ]</h2>\n<ul>\n<li>官网：<a href=\"http://www.thinkphp.cn/down/855.html\" rel=\"nofollow\">核心包</a></li>\n<li>GitHub ： <a href=\"https://github.com/top-think/think.git\" rel=\"nofollow\">https://github.com/top-think/think.git</a> （主要维护仓库 官方核心团队）</li>\n<li>Composer ： composer create-project topthink/think tp5 --prefer-dist</li>\n</ul>\n<h2>[ 扩展包 ]</h2>\n<p>下面是针对 ThinkPHP5 的扩展包 需要使用 Composer 安装</p>\n<ul>\n<li>应用单元测试： <a href=\"https://github.com/top-think/think-testing.git\" rel=\"nofollow\">https://github.com/top-think/think-testing.git</a></li>\n<li>验证码： <a href=\"https://github.com/top-think/think-captcha.git\" rel=\"nofollow\">https://github.com/top-think/think-captcha.git</a></li>\n<li>图像处理： <a href=\"https://github.com/top-think/think-image.git\" rel=\"nofollow\">https://github.com/top-think/think-image.git</a></li>\n<li>队列： <a href=\"https://github.com/top-think/think-queue.git\" rel=\"nofollow\">https://github.com/top-think/think-queue.git</a></li>\n<li>MongoDb 支持： <a href=\"https://github.com/top-think/think-mongo.git\" rel=\"nofollow\">https://github.com/top-think/think-mongo.git</a></li>\n<li>angular 模板引擎： <a href=\"https://github.com/top-think/think-angular.git\" rel=\"nofollow\">https://github.com/top-think/think-angular.git</a></li>\n<li>助手库： <a href=\"https://github.com/top-think/think-helper.git\" rel=\"nofollow\">https://github.com/top-think/think-helper.git</a></li>\n<li>数据库迁移工具： <a href=\"https://github.com/top-think/think-migration.git\" rel=\"nofollow\">https://github.com/top-think/think-migration.git</a></li>\n</ul>\n<p>2016 年 9 月 28 日\nThinkPHP 官方团队</p>\n</div></div>"], "reply": "9", "tittle": "ThinkPHP 发布 V5.0.1 版本——小版本大更新", "comment": ["顶一个！", "刚才 pull 了一下发现新 tag 5.0.1 ，原来作者也在 V2 发布了", "官方手册是否有保留？\r", "还有弄一个收费的新手入门？", " 有没有保留你看过就知道，完全开发手册向来是最全面的，而不能替代教程！快速入门仅针对不了解 TP5 或者 PHP 开发的用户 带有详细的示例和循序渐进的学习，就和很多框架的书籍一样。", "我是来提问的：原来的 D 方法可以调用 Model 里面的方法，现在怎么调用？", "和 laravel 像的不要不要的", "呵呵，坐等国庆开始研究。", "就算不用，也永远支持 thinkphp 。", " TP5 的 Db 就相当于原来的模型类 TP5 的模型类都是对象化操作 调用方法自然更简单\r", " 大道至简 速途同归\r", " 非常感谢一如既往的支持 这也是我们不断完善的动力"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有个较耗时的外部 REST 服务需调用，同时还有查询 MySQL 之类的。</p>\n<p>如果多线程的话，可以先创建一个线程调用 REST 、再去查 MySQL 、再把线程 join 。</p>\n<p>可是 PHP 的多线程 /Pthreads 好像不靠谱？请问大家有更靠谱的方案吗？</p>\n</div></div>"], "reply": "6", "tittle": "异步调用 HTTP 服务的正确方法？", "comment": ["如果要同步返回这些结果给请求方，那么大并发下不太适合 php 来做", "curl_multi", "http 异步 php 的 guzzle 支持很好， rpc 的话 yar 也支持的，不需要多线程。。。。另外 php 的多线程是真的多线程，没有全局锁的，所有 pecl 的扩展都分了多线程 /单线程版本的。。。。", " 但是其实只有一个 http request ， curl_multi 也是要等待吧？\r", "\r", " guzzle 也研究过，貌似也要用个什么 tick ", " 等下试试看", "1 ， mysql 查询必须等待外部请求返回的结果？\r", "是的话，那多线程也没啥用\r", "不是的话，先查完 mysql 再执行外部请求\r", "2 ，一次请求里，只有一个外部请求？还是多个？\r", "只有一个的话，等待吧，没有其他方法了，多线程也同样要等待\r", "多个的话，可以用 guzzle ，外部请求数固定的话用 promise ，不固定的话用 pool\r", "3 ，是否需要返回响应给请求方？\r", "需要，结合问题 1 ， 2\r", "不需要，用任务队列", "异步才是未来啊,\r", "\r", "发一个 REST 请求,  切出,  让其他代码执行\r", "REST 回来后, 发出 mysql 查询请求,  切出, \r", "mysql 返回后,  此次任务完成.\r", "\r", "\r", "完.  就是这么简单清晰"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我是 PHP 新手，在做一个业余网站的过程中遇到了一个问题：</p>\n<p>每个主题（帖子）都会有对应这个主题的浏览次数统计，比如 V2EX 中的是点击次数，如何能够保证对每个人只进行一次统计呢（不论登录与否，每个客户端的访问只增一次，重复的刷新只作一次自增）？</p>\n<p>我试过了 V2EX 上的，在登录后，每刷新一次就会增 1 ，而不登录的情况下，即使是第一次访问也不会增 1 。</p>\n<p>我目前的思路是将主题的 ID 同用户的 SESSION 绑定在一起，记录某个 SESSION 下访问过的主题 ID ，在收到新的访问请求时先去判断之前是否访问过。这样做是否合理？有没有更好的办法？</p>\n<p>在此先提前谢过各位的回答~</p>\n</div></div>"], "reply": "3", "tittle": "关于每个主题的浏览次数统计", "comment": ["建立个数据库级的 log 表 session 是有 id 的可以利用下。甚至可以加入一点缓存的思想每 10 分钟清理下 log 更新下数据", " 谢谢您的建议。\r", "\r", "缓存的话您是指把 log 表中的数据读到类似 redis 之类的数据库中以加快访问吗？\r", "\r", "另外，您的 ", " 做得很不错，我加入收藏夹了~~", " 其实是个抽象缓存，我是建议每 10 分钟清理下 log(把未增加的数量加上去，然后用过的 log 数据按照某种规则处理掉。)"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><strong>（原文链接： <a href=\"https://www.tanteng.me/page/mordern-php\" rel=\"nofollow\">https://www.tanteng.me/page/mordern-php</a> ）</strong></p>\n<p>说好的把这次技术分享的 PPT 发出来的，一直没时间弄，现在整理了一下，并导出了一份 PDF 版的 PPT ，给大家参考。（ PS ：本次技术分享仅仅是介绍一些关于现代化 PHP 开发的技术，并不是讲某个方面的高深技术和经验，即便如此，针对目前的 PHP 现状，很多项目，公司和开发者，还在使用过时的 PHP 技术，这个分享还是有价值的）。</p>\n<p>本次技术分享主要讲了一些现代化 PHP 开发的技术， PPT 重点介绍了命名空间，闭包，匿名函数， Traits 这些新特性，以及介绍了 Composer 依赖包管理器和 PSR 规范。</p>\n<h2>主要内容</h2>\n<p>PHP 正在重生。作为一门专注 WEB 开发的语言，它不断吸取其他语言的优点，如命名空间，闭包，性状，操作码缓存等特性， PSR 规范和 Composer 包管理以及 PHP 7 的性能提升， PHP 正在变成一门现代化的语言，让我们一起聊聊 PHP 有哪些新的变化！</p>\n<ul>\n<li>命名空间</li>\n<li>PSR 规范</li>\n<li>闭包和匿名函数</li>\n<li>Trait</li>\n<li>Composer 包管理器</li>\n<li>语法新特性</li>\n<li>PHP 7 性能</li>\n<li>Laravel 框架介绍</li>\n</ul>\n<h2>全面的 PHP 技术堆栈图</h2>\n<p>我们先来回顾一下 WEB 开发所用到的技术和工具，这里的 PHP 可以替换为 Python ， Java ，.NET 等其他语言，因为 PHP 只是一门语言，而 WEB 开发的本质是一样的。我们的重点是掌握 PHP 本身，和它密切相关的如 MySQL ， Nginx/Apache ， Linux ，前端方面至少熟悉 jQuery, css 等，但是当项目规模越来越大，并发量越来越高，我们就要用到 Redis ， Memcache 等缓存技术，总之，我们要学的东西越来越多，才能满足高性能的 WEB 开发。这里只是列举了比较常用的技术和工具，欢迎大家进行补充。</p>\n<p><img alt=\"PHP 技术堆栈图\" src=\"https://oddgb63aa.qnssl.com/uploads/2016/09/mordern-php-part2.png\"></p>\n<h2>命名空间</h2>\n<p>PHP 一个重要的改变，就是引入了命名空间。命名空间是使 PHP 成为一门现代语言的重要特性，它不仅解决了第三方扩展包的类命名冲突的问题，还提供了良好的代码组织的方式，并且通过它进行自动加载。</p>\n<p>如 PHP 手册里所描述，命名空间好比操作系统中的目录，两个同名的文件可以共存在不同的目录下。同理两个同名的 PHP 类可以在不同的 PHP 命名空间下共存，就这么简单。</p>\n<p>因此把你的代码放在你的命名空间下就非常重要，避免其他开发者担心与第三方类库冲突。</p>\n<h2>PSR 规范</h2>\n<p>PSR 是 PHP Standard Recommendations 的简写，由 PHP FIG 组织制定的 PHP 规范，是 PHP 开发的实践标准。</p>\n<p>PHP FIG ， FIG 是 Framework Interoperability Group （框架可互用性小组）的缩写，由几位开源框架的开发者成立于 2009 年，从那开始也选取了很多其他成员进来（包括但不限于 Laravel, Joomla, Drupal, Composer, Phalcon, Slim, Symfony, Zend Framework 等），虽然不是「官方」组织，但也代表了大部分的 PHP 社区。</p>\n<p>项目的目的在于：通过框架作者或者框架的代表之间讨论，以最低程度的限制，制定一个协作标准，各个框架遵循统一的编码规范，避免各家自行发展的风格阻碍了 PHP 的发展，解决这个程序设计师由来已久的困扰。 <strong>自动加载</strong>规范非常重要， PHP 组件都遵循自动加载规范，才能通过 Composer 进行管理。</p>\n<h2>Composer 包管理器</h2>\n<p>Node.js 有 npm ， Python 有 pip ，现在 PHP 有了 Composer ， Composer 是 PHP 的一个包（ PHP 组件）管理器，这些组件遵循 PSR 规范，因此可以快速应用到你的项目中，而且可以开源共同维护。</p>\n<p><img alt=\"Composer 包管理器\" src=\"https://oddgb63aa.qnssl.com/uploads/2016/09/composer-php-package-manager.jpg\"></p>\n<h3>PHP 组件具备以下特点</h3>\n<ul>\n<li>作用单一：专注于解决一个问题，而且使用简单的接口封装功能</li>\n<li>小型：小巧玲珑，只包含解决某个问题所需的最少代码</li>\n<li>合作： PHP 组件之间可以良好合作，组合在一起实现大型项目</li>\n<li>测试良好：本身提供测试，而且有充足的测试覆盖度</li>\n<li>文档完善：应该提供完善的文档，能让开发者轻易安装、理解和使用</li>\n</ul>\n<h2>PHP 新语法</h2>\n<p>PHP 5.6 —— PHP 7 提供了很多新的语法和特性，如闭包和匿名函数， Traits ，运算符简写方式，数组简写方式，类型约束等等。</p>\n<h2>学习现代化 PHP 开发的最好方式</h2>\n<p>学习现代化 PHP 开发的最好方式是学习现代化的开发框架，如 Laravel ，这些新的 PHP 概念和语法，以及 Composer ，都在框架中广泛使用，并且还可以学习到很多有关设计模式的知识。</p>\n<h2>PPT 下载地址</h2>\n<p><a href=\"https://oddgb63aa.qnssl.com/uploads/2016/08/modern-php.pdf\" rel=\"nofollow\">点此打开 PDF 版 PPT</a></p>\n</div></div>", "<div class=\"topic_content\">原文链接更正： <a target=\"_blank\" href=\"https://www.tanteng.me/page/modern-php\" rel=\"nofollow\">https://www.tanteng.me/page/modern-php</a></div>"], "reply": "43", "tittle": "《性感的 PHP——现代化 PHP 开发》PPT 分享", "comment": ["大家对现代化的 PHP 开发有什么看法，可以讨论", "为什么 PHP 非要扯上前端呢。", " 这里只是带过一下， PHP 只是 WEB 语言之一， WEB 开发包括前端后端很多方面，也是回顾一下 WEB 开发所涉及的一些技术。", "\r", "\r", "mordern -> modern", " 谢谢指正！已更新！", "PHP 语法新特性这里：\r", "> $a = $_GET['a'] ?? $_GET[‘ a ’]:1;\r", "\r", "似乎没这种用法？我猜您说的是这个：\r", "> $a = $_GET['a'] ?? 1;\r", "\r", "没有 postgresql, 不及格。退回去重写。", " 你说的对，这里有误", " 😀", "讲得有点过于基础了吧，这些不是应该是一个 php 程序员都需要掌握的基础概念么？", "请问你怎么看 laravel 性能底下以及过度包装导致的无法单步调试的问题？", "请问 CURL 为何归类在调试工具", " 没用过 laravel 的请教一下：这么夸张？居然不能单步调试？", "再请问下 fiddler 和 curl 中间的小蜜蜂是什么。。。", " firebug", " 应该是甲虫还是瓢虫吧..\r", "firebug  一个插件比 F12 好看点? ", " 这跟基础无关，而是 PHP 的开发方式，现在能用上这些的占比估计还是小部分，大部分公司还没用上。也许一年以后，这些还是“新”的东西。", " 没地方放了，哈哈。", " firebug", "composer 每次只能 require 一个包，这点很难用。。", "php 本来是世界上最容易学的语言（ asp 已经过时了不算），经这么折腾， php 这个优点就不复存在了", "支持下，好长时间没用 php 了~", "php 本来是世界上最容易学的语言（ asp 已经过时了不算），经这么折腾， php 这个优点就不复存在了。\r", "每次我写 laravel 的时候我都在想，我是在写 php 呢还是在写 java 呢？\r", "用 laravel 写了几个项目，最后还是用回 codeigniter 了。", " 只能一个包，什么意思？感觉不是啊", "你访问的页面不存在！", " 比如说吧，你有个 laravel 项目。你要增加一些其他依赖，你只能通过命令行 composer require XXX, 不能直接修改 composer.json 里的 package 。所以当你需要安装大量的包的时候会蛋疼，不想 ruby 的 bundle ，和 NodeJS 的 NPM 那么好用。", "总结的写 php 的时候容易掉的坑， ", " 为什么不能直接修改 composer.json ？在 composer.json 里面添加包名，然后 composer update 不行吗？", " 这个网站是你的？", " 貌似会把不想 update 的 package 也 update 了", " 我的, 怎么了?", "感觉没什么用啊，用过 laravel 就能总结出这些", " 所以说学习现代化 PHP 开发的最好方式是学习现代化的开发框架", "居然有人把简历放到博客首页显著位置...", " 这是个人博客而已，平时也没多少人看，自己的一个工作经历，我也看到好多博客也挂着简历啊，没什么好奇怪的", " 限定好其他包的版本，不会动到你不想升级的包", " laravel 性能低下这个观点先放一放（毕竟看和什么对比，以及用框架最主要是为了提高开发速度，而性能也没有差到不能忍受），不能单步调试我也想问为什么。。。\r", "如果你指的是因为 laravel 在很多地方都传递的是闭包 /callback ，而不能直接 step into 的话，那么你可以在闭包里下断点。或者多 step over 一些总能进去的。。。\r", "如果你指的是因为__call 和__callStatic 导致的 IDE 找不到方法，那么可以考虑 `barryvdh/laravel-ide-helper`", " @", " Laravel 其实性能也没那么低吧，把各种缓存打开，上 OPcache ，响应速度超快了。你非要说性能， PHP 的性能肯定不如 java ， c ，如果真有这个问题，这部分用其他语言来写就行了， PHP 就负责调接口。", " laravel 的性能实在是太差了，见 benchmark ： ", "\r", "\r", "至于无法单步调试的问题，我就一个要求从 index.php 入口开始我 xdebug 单步调试进入框架到路由到 filter 到控制器最后退出，这么多框架只有 laravel 没法做到\r", "\r", "老实说我也关注了一段时间的 laravel ，实在看不出 laravel 美在何处，和 php 最大限度最求性能+实用背道而驰，就像 php 框架中的绿茶婊一样", " 对于性能的观点我依然不变，框架的性能在 99%的场景下还不足以成为瓶颈。开发效率优先。当然我并不否认你的观点和数据（例如各种魔术方法，使用对象而非数组，在 php 里都会导致大幅变慢）\r", "\r", "然后单步的这个需求，我看了一眼我觉得 laravel 也是完全可以做到的啊，也许你需要换个 ide ，例如 phpstorm 就不错。但是，因为 laravel 大量使用了闭包，所以按照你的这个要求，单步会很蛋疼，因为会跳来跳去，而且有大量的例如 pipeline 之类的框架类 /方法在其中。\r", "\r", "框架的喜好各有所爱，同样也不回复了←不想引战", " 实际系统中的访问恰恰是命中缓存的情况最多，所以你说实际系统瓶颈在数据库而 helloworld 无法说明问题那是站不住脚的。。。。", "Laravel 刚出来时，感觉真挺美的，也研究了一阵，后来实在受不了速度。最后还是选的 YII2 （在开发团队合作、用户规模、正规化、速度之间取的平衡）。\r", "\r", "一些简单程序，都直接用最原生 PHP 。", " 用 Laravel 自带的路由缓存，配置缓存等，再开启 PHP 的 Opcache ，速度应该很快了啊"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我跟老师说我想去学 PHP,她说：“还有人用 PHP 吗？”\n这话一说，跟我的个人认识完全不同，难道是我信息闭塞了？ PHP 已经过时了？据我所知， PHP 还是很火的啊。\n欢迎 V 友们给出客观看法，指点迷津</p>\n</div></div>"], "reply": "198", "tittle": "PHP 过时了吗？我大学老师说现在没人用 PHP 了", "comment": ["翻页", "我觉得有趋势，目前还没过时", "你们老师真是一股清流呢", "我想起昨天在地铁上听到一个小伙子忽悠另一个小伙子说：前端再深入一点就是 php 了", "大学老师出来找工作肯定就要失业，而且千万别提最新的什么 spark  docker 啊，老师听不懂就尴尬了", " 没说错啊.", "我总感觉你是你女朋友派来带节奏的", " 这是一个误传, WP 不可能抛弃 PHP, 毕竟庞大的生态链(插件\\主题)已经产生了.", "不学 PHP 也是好事，学点 Python 也挺好", "你这怎么和曾经一个产品经理相反，他说很多大公司都不用 java 啦，比如阿里，都是用 php.", "可能听别人说阿里用的 java 就概括了全部吧", "现在大部分是 php+java 吧，\r", "php 写逻辑， java 做性能", "raw php 肯定是过时了…………", "php 是最好的语言", "我不建议搞 PHP 从钱的角度 前端和 ios 如日中天（一年经验） 坐标帝都。", "你老师掉井底了。", "你老是不会，还瞎哔哔", "我觉得你老师不是掉井底，他是掉马桶里捞不出来了。", "你老师不会，还瞎哔哔", "(⊙o⊙)……", "没过时虽然是没过时，但市场平均工资确实不行。", "可以指责某一个人，但是不要指一个群体， 100L 有点过了", "这是 我们刚刚学 C 语言老师的 Code ， 我就问你怕了么？\r", "\r", "发现有些不对？ 这就对了  但是我们老师并没有发现 ！\r", "\r", "```\r", "#include <stdio.h>\r", "{\r", "       printf(\"Hello World\");\r", "}\r", "```", "可能吧……\r", "<?php phpinfo(); ?>\r", "咦？我怎么手不由自主的就写了一段已经没人用的代码了？", "你大学老师是不是想教你 asp 或者 ", " 呀？", "学院派的人的想法和你的想法并不见得是完全相同的。\r", "比如说 PHP ，设计之初就是为了随便做做个人主页的，而后为了满足各种需求而不停改进演化才形成了现在的样子。\r", "想想以前 PHP4.x 连 OOP 都没法好好写，框架也很少都只能每次开项目的时候自己造轮子写简易框架。\r", "\r", "对于学院派的人来说，不会过时的东西，是思想，是概念。\r", "比如说，数学，数据结构，算法，计算机架构， Lisp 语言，这些东西是几十年甚至上百年都不会过时的。\r", "相比起来 PHP ，一来学习成本很低（花不了多少时间），二来深度不够，说淘汰也不算太过分。\r", "\r", "当然了，「中国大学老师」可能是完全的另一回事。", "你这个老师还好，我们这里还有学 VisualFoxPro 的，那天上信息安全课老师说桌面操作系统，： Windows Linux Unix ，我说 OS X 没鸟我又说 Mac 她说苹果那是手机操作系统，见识短浅的老师害人不浅", "搞 PowerBuilder 的都还有……", " 哪里烂？ 介绍一下撒", " OS X 应该划分到 Unix 下面，同理 BSD 。信息安全课的老师这个水平也是寒啊。。。。", " 差点被带到坑里去了，我第一眼瞄过去也没发现什么不对啊。然后才看到 main 的头都被吃了么？哎呀，亏我还是吃 C 这碗饭的。。。 现在都是自动生成 C 代码了，好久没手写了，竟然这样，尴尬了。。", " 恩， PHP 再深入一点就是 SQL 了。不厚道的笑了。。。", "我就是大学老师，其实我啥也不懂。不过好在我只在美国教书，这样中国新一代学生就有机会赶超美国了:)", "楼主是安徽大学的？", "过时了。学 golang ，牛得一逼。", "过时了，现在流行 VB. (噗..）", "钓得一手好鱼", " 很长，慢慢看。\r", "英文原文 ", "\r", "中文译文 ", "我怎么记得我上学时就这么鼓吹。转眼都 10 年了吧。", "啊? 还有人用 PHP 吗? (´･_･`)", " 这是一篇很老的文章，但写的很不错（虽然你贴的这个版本的中文翻译很烂。。。我记得我见过更好的。。。）\r", "很庆幸 PHP 在后面的版本中，“修复”了里边提到的很多问题。而整个社区现在也更为严谨（例如很多在别的语言里可能编译都过不去的， PHP 里只给个 notice 的错误，以往的做法都是忽略之←可以参考当年的 wordpress/discuz 之类的程序，而现在的框架则提倡所有都要处理←例如 laravel ；又例如 PSR-4 ，终于让 include/include_once/require/require_once 有什么异同这种问题去见上帝了）", "这么久了，在 V2 发这样一个帖子还是能赚的盆满钵满啊啊啊 ", " ", "php 是世界上最好的语言", "你同他讲 ruby  go d rust 不晓得他知道不,  现在公司普遍用 java 做大数据分析，搜寻引擎开发，对应的 storm,hadoop,solr 等都是基于 java ，但是业务逻辑处理上还是 php ，毕竟现在都是敏捷开发，快速迭代， php 还是比较高效的，尤其是创业公司，否则等你花个一年半载开发出来，其他竞争对手都已经跑马圈地完成，风口早过了", "php 7 都已经出来了", "果然一讨论语言，就能炸出很多人。=w=", " iOS 都爆炸了。。。还如日中天呐", " 中天？易先生惹你了？", "请看 ", "\r", "\r", "所谓过时是不可能的，直到现在 40 年前写的 COBOL mainframe system 还在各大投行里面跑。你四十年前学了 COBOL ，现在你就是唯一能维护的神\r", "\r", "但是真正的问题是，如果你现在开始入门 /现在要学新的技术，是不是要选 PHP ？答案可能是否定的", " 什么大学的 老师。。。。。。。。", "对科班学生来说是，学校培养学生是要综合考虑学生个人与国家相关产业未来发展的，从长期来看 PHP 不值得普及教育，如果一对一也就算了，开大课误人子弟。如果想马上下海赚钱的话自然可以学 PHP ，毕竟是实用为主的东西，培训机构就能解决，让大学老师讲，不是浪费所有人的时间吗？", " 别唬小朋友，真会有人信的，写 COBOL 的和维护 COBOL 的是一个行业的人么？", " 我的意思只是说技术和编程语言没那么容易过时\r", "\r", "我也说的很明白，如果是现在开始学不要学 PHP ，肯定是很糟糕的选择。不学不是因为他过时了， Lisp ， C 更老，就可以学", "有大学教 php 的吗？", " 只是 ", " 用 nodejs 重写，不是 WP 用 NodeJS", " 说的没错啊，我们前端现在就在搞 php ，哇哈哈哈，哇哈哈", " 我们老师说学期末叫我们写 PHP 做个课程设计", "误人子弟", " 后端再深入一点就是 js 了。", " 是的 , 见过几个后端搞的深的 js 都不错哈", " 不得不赞下这个小伙子", "现在一般大学教开发的老师对新东西根本不了解，当前最流行的东西他们没听过也不会，成天守着一堆旧的 Framework 、 IDE 、 Editor 、 DB ，真不知道怎么发展，我 12 年进大学，学校一直用 JDK 6 ，好几年前的 Eclipse ，就是舍不得用新的东西，考计算机一级 N 年的 Office 2003 ，考计算机二级简直古董的 VC6.0...我用 NetBeans 在同学眼中就是个奇葩，我为了帮助他们更容易搭好框架写了个 Windows 程序，但是同学都不屑...老师这样教，同学跟风，真担心老师出来做开发是什么样子。。。好在我几个同学出来做 Java 现在做得非常好。当然我是个打酱油的撸 PHP 的码农。", " 现成的例子，楼主可以参考一下…", "...我只是想说一句，现在市面上的多半是 php 和 asp 虚拟机，还有少数是支持 javaEE 的。\r", "\r", "如果你来个 node.js 或者 golang...环境可能就得 Docker 了...( 然而多数人都不会或懒得搭建环境。懂路子的都选 docker...", "很明显楼主缺硬币了", "你跟你们老师说，现在大学老师也是过时了", "phper 的心灵好脆弱，已经 166 个回复了（笑\r", "\r", "我也来黑一下 php ：\r", "1 、 php 最大的缺点就是没有连接池，因为不是常驻内存的嘛，淘宝抛弃 php 就是因为没有合适的代理连接池啊（嗑嗑\r", "2 、异常和 warning/error 混在一起，就算 php7 也没有完全解决这个问题（叽叽\r", "3 、你口口声声说性能好（ ", " ），可以为什么你没有 jit 呢？鸟哥发起第二次 jit 尝试 benchmark 提高才 20%，这太弱了吧（妳嘻嘻\r", "4 、运行时不说和 jvm 比，能有 v8 那样的高度的么？被 phper 挂在嘴边的 php 的 nodejs 的 swoole ，它勉强能常驻内存但是也必须设置一个 maxRequests 超过次数要重启进程呢，为啥啊？（妮嗑妮嗑\r", "5 、喂， php 你 cli 行不行啊，你的垃圾回收给 composer 造成了多大麻烦你知道么(Disable GC when computing deps, refs #3482)……我用 php-cli 写 daemon 内存泄漏到尿崩了你造么？（咕嘿，咕嘿嘿嘿\r", "6 、你 linux 下有 repl ，可以 windows 下你有么？有么！（库库库\r", "7 、 Laravel 这种过度设计，速度又慢，连单步调试都做不到的框架（谁能用 xdebug 能跳进那些充满闭包回调的总线 /命令呢），都被 php 社区捧上天了（蛤蛤蛤", "大学老师和开发工程师思路不同", "那微博干嘛还要招某位 php 组核心成员做架构师啊（虽然他现在跳槽了）", " 鸟哥现在日常就是在 weibo 上黑新浪（笑", " 然后微博也烂了，感觉响应时间越来越慢", "本来不想回复的，没想到老是在前排。\r", "你老师和你都是个 p", " 五年前这么说还可以。现在市面上基本是 vps 。", "跟你们老师说，上课听课过时了，现在没人上课听课了", " \r", "1. 你好像懂得很多的样子，我写 php 的自惭形秽。\r", "2. 很好奇你写的 php-cli 程序，能否帖出来？", " 我艹，这个要给满分，好专业的职业 PHP 黑。", " 毕竟 JIT 对于主业是 Web 和数据库查询的 PHP 而言没多大意义，就算是 Java 、 Node.JS ，扯上数据库查询， JIT 也派不上多大用场，都在等数据库呢……", " vf 现在貌似是计算机二级要考的东西", " 毕竟没有鸟哥的优化了嘛", " 是啊（笑", " - -现在很多菜鸟，学了个奇葩培训班然后来个 holle world 之类的字符串操作就算了。连深层次的 ob 缓存都没学过。更何况培训班的环境都是架设好的。所以，有个 vps 还是麻烦事，得 docker 。", "怎么可能过时， PHP 仍然是中小型企业开发 Web 的首选。\r", "\r", "你可以看看 GitHub 最受欢迎的语言统计： ", "php 是世界上最好的语言、没有之一", " \r", "\r", "一个循环里操作下 mongo 和 redis 啥的，循环了 3kw 的时候内存 1g 多退出了，算下来每个循环才漏几十 Byte ，还不错丫\r", "```\r", "\t\t$predis = Yii::$app->predis;\r", "\t\t$query=new \\yii\\mongodb\\Query();\r", "\t\t$id_max = 116791286;\r", "\t\tini_set('memory_limit', - 1);\r", "\t\t$predis->set($this->predis_prefix . 'id_max', $id_max);\r", "\r", "\t\tfor ($i = 0; $i <= $id_max; $i ++)\r", "\t\t{\r", "\t\t\t$one=$query->from('xxxx')->where(['id'=>$i])->one();\r", "\r", "\t\t\tif($one)\r", "\t\t\t{\r", "\t\t\t\t$predis->hset($this->predis_prefix . 'checked_ids', $i, 1);\r", "\t\t\t}\r", "\t\t\telse\r", "\t\t\t{\r", "\t\t\t\t$predis->sadd($this->predis_prefix . 'unchecked_ids', $i);\r", "\t\t\t}\r", "\t\t}\r", "```", "社区要是哪天冷清了就抛出 PHP 的问题准火", " ,对 YII 不熟，不过\r", "```php\r", "for ($i = 0; $i <= $id_max; $i ++) \r", "{ \r", "$one=$query->from('xxxx')->where(['id'=>$i])->one(); \r", "//...\r", "```\r", "\r", "这个应该可以换成 where id in ($idArr)吧", "算球了，不开玩笑了，我个人 C/C++、 java 、 py 和 php 都写过一点东西吧，我也来谈谈我对 php 的理解吧……\r", "\r", "从结论来说， php 有一些很难能可为的特质，这些特质如果你的场景适合的话那么用它就会很舒服。\r", "\r", "1 、 php 最优秀的特质是兼容性。不管是 php 语言自身还是第三方库，非常注重兼容性……我个人对兼容性非常看重，因为洁癖去 break BC 是一件非常愚蠢的事，这也是 python 最大的缺点， py3 选择不兼容 py2 真的非常愚蠢。比如我用 mongo ，我发现 db.dropUser()在大版本里代替了 db.removeUser()，但是我并没有看到 removeUser 有什么大的缺陷，你知道我如果升级了 mongo 版本就要为了开发者的那点洁癖付出代价。 php 标准库一大堆初创期的命名有问题的函数，但是有时候这些函数真的很好用。 php 兼容性堪比巨硬的兼容性精神（笑\r", "\r", "2 、语法很朴素不搞标新立异的东西，该有的东西基本都有。 php 最独特的东西莫过于变量前面加$了，除此以外语言本身就和 c/c++、 java 语言非常相似，我认为这也是很多人觉得 php 就是好用的原因之一（当然最大的原因应该是好用的数组和部署简单）。没错这里还是要把 py 拿出来批判一番， py 的缩进看似 cool ，但是用久了你一定会发现代码写大了缩进很夸张，而且你没法用 IDE 来格式化 py 代码，因为 py 的缩进包含了代码逻辑。 php 的面相对象该有的也有，但是 py 的 class 连 public/private/protected 都没有反射也没有，至少我很多时候写 php 和写 java 感觉差不多。现在一些新的语言老是喜欢搞一些标新立异的语法出来（感觉不这样就不 cool 一样），但是这些语法并没有带来新的特性，然后让人感觉神烦。要不是脚本语言开发快我更愿意用 java 或者 c++。\r", "\r", "3 、 php 在 web 领域积累了很多很棒的第三方库 /扩展 /框架（可以说是完爆别的脚本语言），注意是 web 领域，而且跨平台性还很不错。作为一个巨硬党，我就喜欢在 windows 下工作，喜欢在 IDE 下工作，喜欢 GUI ，啥 vim/emacs/subline 我觉得都不如 eclipse/vs 来单步调试好用。 git 命令行那么困难不知道你们怎么学会的，我觉得太难了下了个 sourcetree 都不用学 git ，看界面自己就会了。别的开发辅助 GUI 工具， windows 下那是要啥有啥还特好用。 php 的第三方库基于 composer 管理，我 win 下开发好直接 copy 到 linux 下就跑起来了，简单粗暴有效。\r", "\r", "4 、再往好的方向发展，不断克服缺点。扩展和第三方库分开取得的性能 /兼容折中， composer 出现的及时，而且 php 意识到的自己缺乏什么不盲目跟风，比如 php7 能把以前只能 error 的东西抛出成异常，增加语言的强类型特性，继续提高性能 and so on 。", "我们学校的主页还是 PHP 的呢，虽然看起来有将近 10 年没有更新过的样子……", "换几个字又是个梗。。", "什么？大清亡了？", " py 的反射比 php 灵活得多，只是你不会用。", " 妹想到你是这样的 PHP 黑。\r", "\r", "PS: 为什么最后不按套路出牌，来上一句“ PHP 是最好的语言，没有之一”", "我的天，,将近 200 条回复。。。。。显然没过时。。谢谢 V 友们", "没有过时的语言，只有不适合市场的语言。", " 其实分老师 我有老师搞大数据出来的…", "大学老师过时了吗？有 PHP 说现在没人用大学老师了", "我们老师是教 C/C++的，告诉我们说，只有学好 C 系语言才能成为合格的计算机系毕业生。不要花什么精力去研究 php 这种小儿科的东西。\r", "但是，他在校外是有私活的。而且私活大多是用 php 来完成的， php 给他赚来很多外快。\r", "然后，他给我们安利说：“ php 是小儿科的东西”"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>Laravel Blog</h2>\n<p><a href=\"https://lufficc.com/blog\" rel=\"nofollow\">主页</a> | <a href=\"https://github.com/lufficc/laravel-blog\" rel=\"nofollow\">Gitub</a></p>\n<p>快速，优雅,  强大的博客系统，由 Laravel5.3 强力驱动。点击 <a href=\"https://lufficc.com/blog\" rel=\"nofollow\">这里</a> 查看.</p>\n<p>这是一个我个人使用的博客，也曾经使用 Hexo 和 github pages 搭过网站，都是都不灵活。因此用 Laravel 写了这个博客。\n我想说的是 Laravel 是最好的 php 框架。</p>\n<p>后续会分享一些写这个博客的心得，欢迎关注。</p>\n<p>如果你发现 bugs,欢迎 issue.</p>\n<h3>特点</h3>\n<ol>\n<li>Markdown 编辑器，支持图片拖拽，粘贴板图片上传到七牛并返回链接。</li>\n<li>完善的评论系统。</li>\n<li>Github 账号登录。</li>\n<li>采用 Repository 设计模式分离 Controller 和 Model 。</li>\n<li>采用 Redis 缓存（ Cache 采用数据库 <code>0</code> ， Session 采用数据库 <code>1</code>）.</li>\n<li>图片，文件管理。</li>\n<li>~~Pjax 局部加载~~。</li>\n<li>谷歌分析，后台管理。</li>\n<li>文章可以分类，贴标签，代码高亮。</li>\n<li>更多自定义...</li>\n</ol>\n<h3>环境要求</h3>\n<ol>\n<li>\"php\": \"&gt;=5.6.4\"</li>\n<li>\"mysql\": \"&gt;=5.7\"</li>\n<li>必须安装 Redis.</li>\n</ol>\n<h3>安装</h3>\n<pre><code>git clone https://github.com/lufficc/laravel-blog.git\n\ncd laravel-blog\n\n// 配置你的.env 文件\n\nphp artisan migrate\n\nphp artisan serve\n\n// that's all\n\n</code></pre>\n<h3>截图</h3>\n<p><img alt=\"截图\" src=\"https://static.lufficc.com/image/e4aefe08305aed5cd79c0e109d3c2c07.jpeg\"></p>\n<h3>致谢</h3>\n<p><a href=\"https://laravel-china.org/\" rel=\"nofollow\">laravel-china</a></p>\n<h3>协议</h3>\n<p>本博客采用  <a href=\"http://opensource.org/licenses/MIT\" rel=\"nofollow\">MIT license</a>.</p>\n</div></div>", "<div class=\"topic_content\">看大家都喜欢本博客的主题的样式，为防止出现意外情况，写个简易教程介绍一下如何安装本博客。\r<br><a target=\"_blank\" href=\"https://lufficc.com/blog/how-to-install-my-blog\" rel=\"nofollow\">https://lufficc.com/blog/how-to-install-my-blog</a></div>"], "reply": "55", "tittle": "快速，优雅, 强大的博客系统，由 Laravel5.3 强力驱动。", "comment": ["很完整的项目，有考虑多 theme 吗", "这是个人博客吗，怎么还有登录和注册呢。还是一个所有人都能注册发表博客呢", "看起来很不错⊙▽⊙", "刚才用了一下，提两个建议：\r", "\r", "1. 用户输入过姓名和邮箱后，建议保存到 cookie 中，以后直接读 cookie 就行，不用每次都要输入；\r", "2. 我在你的 about 页面里评论了：  `<script>alert('hello')</script>`，然后就弹窗了", "Gitub (=￣▽￣=)", " 暂时没有，以后会考虑的，因为这个博客主要是自己用", " 这个主要是为了回复方便哈", " 厉害，一下子就发现 bug ，那个 cookie 会尽快添加的，感谢", "  尴尬，是不是不能修改？", "功能好完善", "我之前有想过一种模式就是用 wordpress 的后台，然后自己独立写套逻辑读它的数据库，然后就没有然后了", "做的不错了", "令人感到强大的博客系统，强了又强", "your page is under attack! please contact ", "![]( ", ")\r", "\r", "这是啥？", " 被 @", "  黑了，一会回去修复，哈哈哈哈，刚上线就被黑", "好像已经被攻击了。。。", "ahhhhh\r", "xss  还是最常见的 都没过滤", "UI 很好看", " [抠鼻]不是被我黑了，只是你没有对输入的代码进行转义", "同为我电大三，为什么差距那么大。。。", " ", " 冤枉你了，感觉黑的那个人也是受到你的启发，哈哈，连最基本的 xss 过滤都忘了，失败", "学 Django 的时候写的博客系统（还有一堆 TODO 没写完）： ", "\r", "\r", "以及搭完了以后什么都没写的博客： ", " 你的域名很强势啊，像一个人脸[笑 cry]", "标题太不谦虚，一看就是初生牛犊~ 哈哈哈", " 各位老司机带带我，我的确是个新手。 V2EX 真强大，网站刚上线就被黑了，嘿嘿", "哈哈哈哈，一看到标题前面的 [快速] 和后面的 [Laravel] ，我就知道评论里面会有一波又一波的打脸～ 哈哈", " laravel 真的有那么慢吗？其实优化过后还可的[笑 cry]", "一上线就被黑...", " 楼主可以了，我大三还在混天黑地的打游戏呢，连计算机二级都没过～", "其实 WP 优化好也挺快的，感觉我的跟你差不多，速度上。。", "不过还是支持，毕竟完善挺多功能的", " 虽然真有这样的，但我可不希望是基于 laravel 和 wp-api ，估计依旧是慢。", "xss 攻击终于修复了，我的天。。。", " 可以的，来发一下链接", " ", " 我就差重新写主题了，请求数太多了", "楼主知道 Symfony 吗？", " 棒棒的博客，人气很高啊，我还需努力", " Php 最熟悉的就是 laravel ，其他没怎么接触，有空可以看看", "\"php\": \">=5.6.4\"  支持 PHP7 严格模式吗？", " 支持，我服务器用的就是 php7.1", "php artisan migrate 执行报错", "抱歉，我忘记 composer update", "样子看起来不错，模版是我喜欢的风格。", " 一会儿我写个详细的安装教程吧", "markdown 的样式模版不知用的是啥样式啊，感觉很是养眼。", "可以考虑打包成个 docker 镜像", "只想问楼主一句，教程里最后的 上床图片 是什么", " 已修改，尴尬", " docker 还没怎么接触过。。。。。。。。。", "laravel 就是强大 写个个人 blog 都要 redis 不敢想象", "哈哈哈哈哈哈哈哈哈哈哈"]},
{"content": ["<div class=\"topic_content\">- 支持基本的表单验证，\r<br>- 使用数组就可以定义验证规则，\r<br>- 支持中文验证失败错误提示，\r<br>- 可扩展\r<br>- 支持 composer 安装\r<br>\r<br>大家有没有推荐的？</div>"], "reply": "4", "tittle": "有没有开箱即用的表单验证类库？", "comment": ["illuminate/validation", "jquery validation\r", "后端你要自己写？", "这个行吗\r", "jQuery Validation 不错"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>微软小冰 —— 测颜值接口</p>\n<p>Github ： <a href=\"https://github.com/Patrick-95/FaceScore\" rel=\"nofollow\">https://github.com/Patrick-95/FaceScore</a></p>\n<h2>使用</h2>\n<pre><code>  \nrequire_once './FaceScore.php';\n$FaceScore = new FaceScore();\n$img_url = 'https://ss0.bdstatic.com/94oJfD_bAAcT8t7mm9GUKT-xh_/timg?image&amp;quality=100&amp;size=b4000_4000&amp;sec=1475252554&amp;di=0a83b9e5c333c2651c0148af86364dc4&amp;src=http://pic.xoyo.com/cms/rt/2011/06/03/01/4.jpg';\n$data = $FaceScore-&gt;getScore($img_url);\n  \n</code></pre>\n<h2>返回数组</h2>\n<pre><code>Array ( \n\n\t[score] =&gt; 2.9 \n\n\t[text] =&gt; 菇凉颜值 2.9 分，帅哥哥都喜欢这种没心机的萌白甜~ \n\n\t[img_url] =&gt; http://mediaplatform.trafficmanager.cn/image/fetchimage?key=UQAfAC8ABAAAAFcAFgAGABYASgA1AEYANwA1AEIANQBBAEYAMgA0AEYARQBEADkAMQBGADcANgAxADkANgA4AEIAMAAxADMAQgA1ADkAMwA5AEUA \n\n\t)\n</code></pre>\n<h2>预览</h2>\n<p><img alt=\"image\" src=\"https://github.com/Patrick-95/FaceScore/raw/master/screenshot.jpeg\"></p>\n</div></div>"], "reply": "13", "tittle": "PHP 测颜值（微软小冰）", "comment": ["在逼乎上看到一篇类似的文章，是不是一样的原理", " 如果同样是模拟 POST 微软小冰的测颜值应用的话，那就是一样的原理~", "2333\r", "最后一张图醉了", "有意思~", "哈哈， 7.9 分，微软是个好同志", " 逼乎那个叫埃洛等级分系统。。", "最后一张图，哪里萌白甜了？恕我严重怀疑楼主的口味哈哈。", "请问图片四周的阴影是用什么工具做的呢", " 应该怀疑微软的口味 233", " 微信客户端自带的截图功能吧~", "这个如果单机,有限流么?", "这不是去年就有的功能？\r", "现在有什么新突破了吗？", "逼乎分析了下原理吗？哈哈哈，这种东西还是笑笑罢了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"http://www.17ce.com/site/http/201610_bcf2a20e87aced9a6666e3bba3734a55.html\" rel=\"nofollow\">http://www.17ce.com/site/http/201610_bcf2a20e87aced9a6666e3bba3734a55.html</a></p>\n<p>@summer_charlie</p>\n</div></div>"], "reply": "7", "tittle": "Laravel China 宕機了？", "comment": ["17ce 也宕機了！！！\r", "\r", "6 哦朋友", "v2ex ——全国最大的宕机报告平台。\r", "\r", " ", " (逃", "昨天全球挂", " 好吧， why 。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>参考 laravel 官方文档，队列驱动使用 beanstalkd ， supervisor 监控队列进程，但是运行一段时间之后， queue:work 的进程显示还在运行中，但是已经不处理队列了，剩余队列一直不处理，也没有报错信息，重启 supervisor 或者 queue:work 进程后，又正常，不过运行一段时间后，还是会停止，队列命令是：<br>\n<code>php artisan queue:work --sleep=3 --tries=1 --memory=512 --daemon</code>\n有没有大神知道是什么原因造成的？</p>\n</div></div>"], "reply": "11", "tittle": "laravel 队列的相关问题", "comment": ["看描述 应该是队列卡住了，你的队列任务可能由于某些原因僵死了，导致一直占用着进程不会退出", "不清楚 “一段时间” 是多长时间，期间有没有部署过代码\r", "部署过代码需要 重启 php artisan queue:restart\r", "目前能想到的可能是部署过代码", " 我也是这么猜测的，但是现在不知道为什么会僵死，有这方面的经验吗？", " “一段时间”有时是一两天，有时是几个小时，不定。期间没有重新部署代码", " 贴一下 supervisor 的配置看看，这样的问题也没有遇到过", " \r", "[program:worker]\r", "process_name=%(program_name)s_%(process_num)02d\r", "command=php /var/www/html/novel/artisan queue:work --sleep=3 --tries=1 --memory=512 --daemon\r", "autostart=true\r", "autorestart=true\r", "user=root\r", "numprocs=2\r", "redirect_stderr=true\r", "stdout_logfile=/var/www/html/novel/storage/logs/queue-worker.log", "有没有可能是某个任务进入死循环了？", "有打出日志看看么，如果用 mysql 作为驱动也会因为 lost connection 而报错的", " 日志看过了，没有报错信息，队列驱动用的 beanstalkd", " 有这个可能，如果进入死循环， laravel 会报错吗？", " 不会，我觉得这个可能性是最大的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>moell/rss</h2>\n<p>moell/rss 是遵循 RSS ２.0 标准的 PHP 包,Laravel 版本请查看<a href=\"https://github.com/moell-peng/laravel-rss\" rel=\"nofollow\">moell/laravel-rss</a></p>\n<h3>源码地址</h3>\n<p><a href=\"https://github.com/moell-peng/rss\" rel=\"nofollow\">moell/rss</a><br>\n<a href=\"https://github.com/moell-peng/laravel-rss\" rel=\"nofollow\">moell/laravel-rss</a></p>\n<h3>RSS 规范</h3>\n<p><a href=\"http://www.rssboard.org/rss-specification\" rel=\"nofollow\">http://www.rssboard.org/rss-specification</a></p>\n<h3>要求</h3>\n<p>PHP &gt;= 5.4.0</p>\n<h3>安装</h3>\n<pre><code>composer require \"moell/rss:1.*\"\n</code></pre>\n<h3>提供接口</h3>\n<pre><code>//设置字符集\npublic function setEncode($encode); //默认 UTF-8\n\npublic function channel(array $channel);\n\npublic function item(array $item);\n\npublic function items(array $items);\n\n//构造 xml\npublic function build();\n\n//快速构造\npublic function fastBuild(array $channel, array $item);\n\npublic function __toString();\n</code></pre>\n<h3>用法</h3>\n<pre><code>$rss = new \\Moell\\Rss\\Rss();\n\n$channel = [\n    'title' =&gt; 'title',\n    'link'  =&gt; 'http://moell.cn',\n    'description' =&gt; 'description',\n    'category' =&gt; [\n        'value' =&gt; 'html',\n        'attr' =&gt; [\n            'domain' =&gt; 'http://www.moell.cn'\n        ]\n    ]\n];\n\n$rss-&gt;channel($channel);\n\n$items = [];\nfor($i = 0; $i &lt; 2; $i++) {\n    $item = [\n        'title' =&gt; \"title\".$i,\n        'description' =&gt; 'description',\n        'source' =&gt; [\n            'value' =&gt; 'moell.cn',\n            'attr' =&gt; [\n                'url' =&gt; 'http://www.moell.cn'\n            ]\n        ]\n    ];\n    $items[] = $item;\n    $rss-&gt;item($item);\n}\n\necho $rss;\t//获取 xml\n\n//其他获取方式\n$rss-&gt;build()-&gt;asXML();\n\n$rss-&gt;fastBuild($channel, $items)-&gt;asXML();\n\n$rss-&gt;channel($channel)-&gt;items($items)-&gt;build()-&gt;asXML();\n</code></pre>\n<h3>生成结果</h3>\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;rss\n    xmlns:content=\"http://purl.org/rss/1.0/modules/content/\"\n    xmlns:atom=\"http://www.w3.org/2005/Atom\" version=\"2.0\"&gt;\n    &lt;title&gt;title&lt;/title&gt;\n    &lt;link&gt;http://moell.cn&lt;/link&gt;\n    &lt;description&gt;description&lt;/description&gt;\n    &lt;category domain=\"http://www.moell.cn\"&gt;html&lt;/category&gt;\n    &lt;item&gt;\n        &lt;title&gt;title0&lt;/title&gt;\n        &lt;description&gt;description&lt;/description&gt;\n        &lt;source url=\"http://www.moell.cn\"&gt;moell.cn&lt;/source&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n        &lt;title&gt;title1&lt;/title&gt;\n        &lt;description&gt;description&lt;/description&gt;\n        &lt;source url=\"http://www.moell.cn\"&gt;moell.cn&lt;/source&gt;\n    &lt;/item&gt;\n&lt;/rss&gt;\n</code></pre>\n<h3>License</h3>\n<p>MIT</p>\n<blockquote>\n<p>如果你喜欢本项目，欢迎 star 。<a href=\"https://github.com/moell-peng/rss\" rel=\"nofollow\">GitHub</a><br>\n转帖需说明文章出处： <a href=\"http://moell.cn/article/25\" rel=\"nofollow\">http://moell.cn/article/25</a></p>\n</blockquote>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><h2>纠正错误</h2>\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;rss\n    xmlns:content=\"http://purl.org/rss/1.0/modules/content/\"\n    xmlns:atom=\"http://www.w3.org/2005/Atom\" version=\"2.0\"&gt;\n    &lt;channel&gt;\n        &lt;title&gt;title&lt;/title&gt;\n        &lt;link&gt;http://moell.cn&lt;/link&gt;\n        &lt;description&gt;description&lt;/description&gt;\n        &lt;category domain=\"http://www.moell.cn\"&gt;html&lt;/category&gt;\n        &lt;item&gt;\n            &lt;title&gt;title0&lt;/title&gt;\n            &lt;description&gt;description&lt;/description&gt;\n            &lt;source url=\"http://www.moell.cn\"&gt;moell.cn&lt;/source&gt;\n        &lt;/item&gt;\n        &lt;item&gt;\n            &lt;title&gt;title1&lt;/title&gt;\n            &lt;description&gt;description&lt;/description&gt;\n            &lt;source url=\"http://www.moell.cn\"&gt;moell.cn&lt;/source&gt;\n        &lt;/item&gt;\n    &lt;/channel&gt;\n&lt;/rss&gt;\n</code></pre>\n</div></div>"], "reply": "2", "tittle": "moell/rss 好用的轮子，轻松实现网站 RSS 功能，遵循 RSS２.0 标准", "comment": ["学习一下单元测试吧。", " 谢谢 jellybool 的建议。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><ul>\n<li>中文的英文的都可以</li>\n<li>最好是系统的全面的</li>\n<li>我在网上找到的都是一些博客中零碎的知识</li>\n<li>我 google 了 phpfpm 的官网，但是官网上居然也没文档...</li>\n<li>大家是怎么学的 php-fpm 啊？是不是跟我一样，只会用，不懂怎么配置优化</li>\n</ul>\n</div></div>"], "reply": "10", "tittle": "请问哪里有关于 php-fpm 的文档？", "comment": ["“但是官网上居然也没文档”", "怎么看的文档？ google 搜索不出来？ 连百度都能搜索出来", "就他配置文件注释部分说的很清楚了吧..", " 是这个\r", "文档都不会找还学个毛...", "它的注释就是文档啊", " 我找到这个了，这只是配置文件的解释，我觉得可能有更详细的文档，就像 Nginx 的官方文档。", " php-fpm 和 nginx 有关？？？\r", "你确定？？？", " nginx 有很多功能, 文档当然大了, php-fpm 就一个功能: 以 fastcgi 模式代理 php 执行并返回结果; 至于怎么执行, 这些应该都是 php 范畴吧;\r", "所以我想, 你可能需要找的是 fastcgi 原理", " 我想也是这样"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我初学 PHP ，这是一个课程作业，所以我的要求并不是特别严谨\n我发现我的数据库中，有一些字符串中包含了一些特殊符号，比如“&amp;”。我查找资料，发现 htmlspecialchars 这个函数可以用来转义。但是，难道要手动一个一个把这个函数应用到每个字符串上吗？我现在 project 做了一大半了，字符串变量少说也有几十个。。。。所以我想问一下，有没有方便一些的方法？</p>\n</div></div>"], "reply": "9", "tittle": "如何方便的转义所有从 mysql 中提取出来的字符串？", "comment": ["在使用字符串时包裹一个 mysql_real_escape_string();，如果是在函数里会轻松许多，直接函数加进去就好，如果不是就需要每个 mysql_query($str);中加成 mysql_query(mysql_real_escape_string($str));\r", "这个函数是用于 MySQL 语句执行前的转义，可传两个参数：\r", "mysql_real_escape_string(string,connection);\r", "string 字符串。\r", "connection MySQL 连接。如果未指定，将使用上一个连接。\r", "注意一点是， mysql_real_escape_string() 有些人说用了这个函数并不绝对保险，仅供参考。", "但是随后我发现，&这个字符对于 MySQL 似乎不是特殊字符，因此没有转义。\r", "我选择再加个：\r", "str_replace('&','',$str);", "结果我发现是提取出来的，那就直接用 str_replace 吧。。", "array_map", " mysql_escape_string / mysql_real_escape_string 是属于 ext-mysql 的，这个在 5.5 里就已经废弃，并且从 7.0 开始被移除了。对于数据库连接，推荐使用 PDO 。\r", "\r", "然后 LZ 你并没有解释 & 为什么是特殊符号（你对特殊符号是怎么定义的）？ \r", "\r", "最后，$GLOBALS 可以用来遍历所有变量，然而除非万不得已，不要这么做", " 写了...\r", "mysqli 应该也行，我随便找的。\r", "不喜欢对象化", "写 > 谢\r", "妈蛋我的铜币", " 我用 firefox 的 html validator 插件，提示说“&”要用“&ampl ”代替，然后就搜索到了那个函数", " 这是页面检查，输出的话我一般是直接输出的，因为没什么影响"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>本人是一个业余的 PHP 开发者,我其实一直很不明白网上所解释的插件系统的实现方法.\n为何一定要使用一个类来监听插件的情况?(php 不应该只是单独的一次运行编译然后输出吗?)\n假如我用的是面过程的编写方法呢?\n我的想法是:主程序可以在指定的行数遍历插件[已激活]进行调用运行,而且在钩子(我更多理解为是对函数的引用,求纠正)的实现上我完全可以单纯的封装成一个函数.编写插件的时候只需引用相应函数即可,而且内部函数我认为对于开发者是不需过分的进行干涉,那所谓的易维护性不就不存在了吗？求各位大牛指导 OWO</p>\n</div></div>"], "reply": "5", "tittle": "[PHP]开发一个插件系统的疑问", "comment": [" 看看 doc 目录的那个 plugin 文件， 应该可以看明白", "我也有疑问，我想了想：\r", "可以在每个提供接口的地方引入一个文件（不同文件名），而这个文件则得到一个已安装插件的数组，并判断对应插件是否有这个接口的文件名，如果没有则插件不需要这个接口，如果有则引入并执行。（配合优先级决定插件执行顺序）", "你的想法和我的差不多，没啥问题，可以通过引入相关函数，让函数在需要的指定的位置执行所需的操作。", " 好评", " 后来我看了下面对像的编写,感觉这样写应该是更易于他人维护一些,代码是自己挖的坑,别人做二次开发的时候就可能会掉下去吧"]},
{"content": ["<div class=\"topic_content\">看了下文档， 5.4.0 的时候已经支持 FastCGI 了， 5.5.7 的时候已经支持 cli server 了。\r<br>\r<br>不过，这个函数会不会有什么坑存在？</div>"], "reply": "7", "tittle": "getallheaders 是不是已经可以完全替代 $_SERVER['HTTP_XXX'] 了？", "comment": ["CGI 模式文档没提。找到一篇文章说是 CGI 模式下不支持，哎～", "不知道，像我这种小白，还在用着$_SERVER['HTTP_XXX'] ", " ", "5.4 命令行下提示 undefined function getallheaders()", "各有所需  \r", "这个 function 输出的是请求的所有的 header ，设想一下假使说我现在要写一个判断某个标准 header 的值是否等于某个值的时候，是直接用`$_SERVER['HTTP_XXX']`好还是先手动拉取一下全部的 header 到一个 array 再取值好？  \r", "当然那个函数也有它的用处，上面我强调了是获取标准已经有了通用定义的 header （比如 Accept, Host ），如果碰到客户端需要通过 header 发送某些自定义 header 时就需要拿`getallheaders`取了，最典型的例子是我曾经抓过某个手游的请求，那个手游就是像我说的这样通过几个特定 header 向后端通知当前客户端版本号和手机信息的", "何必浪费性能多跑一个函数呢…更何况这函数还有兼容性要求", " cli 下这个函数不可用", "getallheaders 在 apache 下可用，在 nginx 没有试成功"]},
{"content": ["<div class=\"topic_content\">试过 post/put/any 都无法进入 route ，只能移到 public 吗？</div>", "<div class=\"topic_content\">设置回调地址写的是 wecaht 路由写的是 wechat 。确实是低级错误，调试了几个小时要不是查了日志到现在还发现不了问题，帮同事填的坑。</div>"], "reply": "7", "tittle": "PHP Slim 框架接收微信支付 notify 用什么 route？", "comment": ["那就是你 route 配置问题了", "微信那边通知过来是用 post 的", "莫非是用内网地址测试？", " 查了日志确实是 POST ，但是进不去 Slim 的 post 路由提示 404 了不知道什么情况。\r", "\r", "POST /wecaht/notify HTTP/1.0\" 404 880 \"-\" \"Mozilla/4.0\"", "wecaht!!!\r", "\r", "拼写错了啵", "haha\r", " haha ，事实证明有时候学好英语很重要～"]},
{"content": ["<div class=\"topic_content\">希望找一些不支持 php 7 的扩展，去研究为何不支持 php 7 ，从而对底层有一些了解，希望大家给几个不支持 7 的扩展，谢谢</div>"], "reply": "6", "tittle": "目前有哪些扩展不支持 php 7 ?", "comment": ["直接找老版本的扩展就好了\r", "比如 Redis", "MYSQL", "可以参考一下这个：\r", " 谢谢", "你去看一下 php7 与之前版本，不兼容的地方可好？有几个变动，其实也不大。", "  papapa"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>1.错误如下：\n<code>2016/03/30 13:51:18 [error] 19169#0: *193 FastCGI sent in stderr: \"PHP message: PHP Warning: require(/var/www/baqiye/bootstrap/../vendor/autoload.php): failed to open stream: No such file or directory in /var/www/baqiye/bootstrap/autoload.php on line 17</code>PHP message: PHP Fatal error:  require(): Failed opening required '/var/www/baqiye/bootstrap/../vendor/autoload.php' (include_path='.:/usr/share/pear:/usr/share/php') in /var/www/baqiye/bootstrap/autoload.php on line 17\" while reading response header from upstream, client: 106.2.166.202, server: <a href=\"http://baqiye.com\" rel=\"nofollow\">baqiye.com</a>, request: \"GET / HTTP/1.1\", upstream: \"fastcgi://127.0.0.1:9000\", host: \"<a href=\"http://www.baqiye.com\" rel=\"nofollow\">www.baqiye.com</a>\"\n2.查看 /var/www/baqiye/bootstrap/../vendor/autoload.php,这里没有 autoload.php 这个文件，是引入错误了吗？还是其它的什么情况\n3.用 composer 安装的 laravel 、服务器 centos6.5 ， php 环境 5.6.18 ， nginx1.8.1</p>\n</div></div>"], "reply": "8", "tittle": "laravel 搭建新站，访问报 500，看了下 nginx 错误，如下", "comment": ["composer install \r", "composer update\r", "composer dump-autoload\r", "\r", "执行后再看看", "php artisan clear-compiled\r", "php artisan optmize", "呃，这么基础的东西 可以先 bing Google 么 谢谢 怪不得社区里面歧视 PHP 群体 \r", "看到 vendor/autoload.php 不可能搜不出 composer 相关消息", " 执行了，出现这个 ", "\r", " 执行没反应啊\r", " 好忧伤。。。。", "试试看国内镜像\r", " 感谢，果然还是用国内的镜像好使，看了大半天了。", "php 内核代码在线查看工具， ", " @", " 好高大上"]},
{"content": ["<div class=\"topic_content\">因为卖软件为生，官网买了 Zend Guard 7 对代码进行加密！\r<br>年前看了下，市面上没有解密方案，今天去百毒看了一下，居然出现了 Zend Guard 7 的解密网站，试着加密一个文件上传上去试试看，居然可以解开！\r<br>但是如果加密的时候，启用 Zend Guard 的 License Support 功能，是无法自动解开，但是个人感觉，如果用同样的解密原理，有 License 文件，人工解密还是很好解的！而且 License 文件是在客户服务器上的，也可以得到。\r<br>所以想了解一下有没有什么办法增加解密的难度。</div>"], "reply": "8", "tittle": "得了！ Zend Guard 7 的解密也面世了！", "comment": ["写 C 模块（虽然会被反编译）", "抽离一些功能，做成 http service ，通过你的服务器来进行权限控制", "1.如 2L 所说\r", "2.代码迷惑后， Zend Guard\r", "3.其他。。。", "重要功能一律使用远程 http service..", "转型为卖服务，而不是纯卖软件", "做成服务器加载应该是最好的办法了吧……", " 这个网站就行", " 你这个我随便传了一个 zend guard 5 加密的 php 5.3 的文件，空白"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>前段时间尝试 homestead 的 vagrant 镜像，今天遇到一个奇怪的问题，我 homestead 中安装了 oh-my-zsh,\n今天把 zsh 给删了，重启 homestead 之后就无法 ssh 链接上了</p>\n<pre><code>Bringing machine 'default' up with 'virtualbox' provider...\n==&gt; default: Clearing any previously set forwarded ports...\n==&gt; default: Clearing any previously set network interfaces...\n==&gt; default: Preparing network interfaces based on configuration...\n    default: Adapter 1: nat\n    default: Adapter 2: hostonly\n==&gt; default: Forwarding ports...\n    default: 80 (guest) =&gt; 8000 (host) (adapter 1)\n    default: 443 (guest) =&gt; 44300 (host) (adapter 1)\n    default: 3306 (guest) =&gt; 33060 (host) (adapter 1)\n    default: 5432 (guest) =&gt; 54320 (host) (adapter 1)\n    default: 9200 (guest) =&gt; 65535 (host) (adapter 1)\n    default: 22 (guest) =&gt; 2222 (host) (adapter 1)\n==&gt; default: Running 'pre-boot' VM customizations...\n==&gt; default: Booting VM...\n==&gt; default: Waiting for machine to boot. This may take a few minutes...\n    default: SSH address: 127.0.0.1:2222\n    default: SSH username: vagrant\n    default: SSH auth method: private key\n    default: Warning: Authentication failure. Retrying...\n    default: Warning: Authentication failure. Retrying...\n    default: Warning: Authentication failure. Retrying...\n\n</code></pre>\n<p>有高手遇到过这个问题吗，求解决</p>\n</div></div>"], "reply": "2", "tittle": "一个关于 laravel/homestead 的问题", "comment": ["看错误提示是 homestead 上面的公钥被删除了，确认一下 homestead.yaml 里面的 authorize 是否正确，莫非卸载 zsh 会删除.ssh 文件夹？没有试过不知道，是在不行重装一个吧。", " 已经重装了  但是很郁闷  重新导数据库贼久   为什么会出现这样的问题  好奇怪"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>测试一个匹配字母和数字的正则：</p>\n<div class=\"highlight\"><pre>pattern='/^\\w+$/'\nstring='人 1994'\n</pre></div>\n\n<p><strong>PHP 结果</strong></p>\n<div class=\"highlight\"><pre><span class=\"x\">Array</span>\n<span class=\"x\">(</span>\n<span class=\"x\">    [0] =&gt; 人 1994</span>\n<span class=\"x\">)</span>\n</pre></div>\n\n<p><strong>Javascript 结果</strong></p>\n\n<p>匹配不到数据</p>\n\n<p><strong>结论</strong><br>\nPHP 是世界上最好的语言，我在这个细节上浪费了 30 分钟。</p>\n\n<p>如果要匹配字母和数字最好使用以下方法:</p>\n<div class=\"highlight\"><pre>/^[a-zA-Z\\d_]+$/\n</pre></div>\n</div></div>", "<div class=\"topic_content\">空格问题是 V2 编辑器造成的。</div>", "<div class=\"topic_content\"><a target=\"_blank\" href=\"http://php.net/manual/zh/regexp.reference.character-classes.php\" rel=\"nofollow\">http://php.net/manual/zh/regexp.reference.character-classes.php</a>\r<br>\r<br>嗯，作为官方文档。可以让一些没有看过文档的人闭嘴了。\r<br>\r<br>然后使用[:alnum:]和\\w 的结果是一样的。</div>", "<div class=\"topic_content\">然后你们做测试的时候难道不会替换字符吗？\r<br>如果我把\"人\"替换成其他字符呢？</div>"], "reply": "29", "tittle": "PHP 果然是最好的语言之正则的兼容问题。", "comment": ["虽然在 js 里 \\w 是不能匹配到汉字的。。但是按照标准来说，\\w 也不会匹配空格才对\r", "\r", "所以为什么在 php 里 /^\\w+$/ 会匹配到 '人 1994' 中间的空格？= =", " \r", "\r", "顺便楼主例子错了，你字符串中间有空格， PHP 的匹配结果也是空的\r", "\r", " ", "莫非是 V2E 自动加的空格？\r", "\r", "这个孩子是 1994 年生的。", "果然是 V2 自动加的空格。", "一般来说， js 后面要加个 g 才是正常的匹配结果", "排除 v2 自動加空格，有什麼問題？", "感觉用\\w 匹配汉字由 locale 决定，保险起见我只用\\p{Han}", " \r", "\r", "V2 加空格不会加到代码段里吧", "RTFM\r", "又是一个不看文档就直接喷的人，你干嘛不去喷飞机能在天上飞、火车能在铁轨上跑、自行车能骑呢。", "PHP 确实有很多缺点.\r", "但是普通程序员还没那个资格喷吧?", " yes", ".......................", "有啥好争的，本来 regex 就有好几种口味，较流行的就是 php/js/python 几种口味\r", "  可以在线测试", " 这是什么网站？", "当时 V2EX 自动加空格的时候就有人预料到会出现楼主这样的问题，认为不能为了排版的美观影响了内容的表达。", " \r", "\r", "是我姿势有问题？ 怎么什么阿猫阿狗都来喷？", " ![]( ", ") ![]( ", ")\r", "\r", "我觉得是我的姿势有问题。", "  [[http://i13.tietuku.cn/0107219fbf30b596.jpg]] [[http://i12.tietuku.cn/27a7fe6bc4b5d413.jpg]] [[http://i12.tietuku.cn/27a7fe6bc4b5d413.jpg]]", "我觉得是字符集问题，试了一下几个 online 的 php 运行平台，有的可以有的不行\r", "版本没有什么影响，另外楼上的别随便喷啊，别人的运行环境都没了解....", "还是跟本地编码有关系吧，允许是 php 一个 bug 吧。\r", "国外的机器是没问题的： ", "\r", "语言有坑也正常，任何语言都有自己的坑和 BUG 。你浪费了 30 分钟，只能说明你看不穿这个问题，还得多多学习怎么解决问题，而不是怪别人。", " 你这个没啥问题啊", "/^\\w+$/u 匹配成功!?\r", "我在 Mac 上测试 PHP （ mac port 安装）是可以匹配到“人”的，但是在 Cent OS 上测试了几个版本的 PHP （编译安装和 yum 安装都有，跟 Mac 版本相同）都是匹配不到的\r", "\r", "这个不是 PHP 的锅，而是 PCRE 库的配置导致，\\w 的匹配官方文档是这么说的\r", "\r", "A \"word\" character is any letter or digit or the underscore character, that is, any character which can be part of a Perl \"word\". The definition of letters and digits is controlled by PCRE's character tables, and may vary if locale-specific matching is taking place. For example, in the \"fr\" (French) locale, some character codes greater than 128 are used for accented letters, and these are matched by \\w.\r", "\r", "也就是说， PCRE 库的 character tables 配置会影响到\\w 的匹配", " 什么编辑器，这么好", " ", " 谢谢，不错的编辑器，而且也不贵", "js 支持的正则元素不完整(指流行的 Perl 风格)", "EmEditor \\w 可以匹配中文，\r", "使用 Boost library Regex++ 的正则表达式惯例\r", "编码的问题好像楼主没考虑\r", "\r", "22 楼的网友考虑了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>举个例子，比如在 index.php 入口页面引入一个服务（或者一个文件），可以对常见的一些攻击进行防护</p>\n\n<p>请问这样的服务吗？</p>\n</div></div>"], "reply": "9", "tittle": "请问 PHP 有什么代码级的云安全加固服务吗？", "comment": ["像什么 oneapm 之类的都行吧", "我在尝试用安全狗", " 安全狗神坑， 这种有简单的用， dedecms 默认集成了简单安全模块可以用一下", "   用 dedecms 说安全,嗯`", " 没说安全度高，都说是简单安全模块了，安全狗太容易误报了", " 请问 dedecms 的安全模块，具体是在 Include 那个文件夹吗？ 还是在 插件里面，求指点", " 貌似在 include 下面"]},
{"content": ["<div class=\"topic_content\">说明下，之前在 nginx 版本发过，但最近几天发现关心该 github 项目的全是 php python 和 javascript 的兄弟，因此在这里发一次哈。已经有部分兄弟提出了 bug 给我，后期回合并代码。\r<br>\r<br>看该贴： <a target=\"_blank\" href=\"http://www.v2ex.com/t/255717#reply22\" rel=\"nofollow\">http://www.v2ex.com/t/255717#reply22</a></div>"], "reply": "7", "tittle": "想深入了解 nginx 源码及配置详细解析的，可以参考下这里哈", "comment": ["对源码进行了详细分析，并带有详细注释，同时对所有日志添加了函数名和行号，可以快速定位分析日志。", "说实话，非常乱。", "  谢谢指正，后期回慢慢整理。\r", "兄弟，有什么建议也可以提下哈", "建议楼主把版排一下，很多地方的换行和行距都给长时间阅读制造了障碍。\r", "我找不到阅读的顺序", "  好的，兄弟，最近把 nginx lua 模块和其他第三方模块走读注释一遍后，会写个阅读顺序相关的文档出来，一个模块一个模块整理成文档，配合源码阅读。", "star 已经送出，期待排好版，我就不用去都代码了，反正我也不是运维，哈哈哈哈", " 等所有模块阅读注释完会整理下的，欢迎指正哈"]},
{"content": "", "reply": "29", "tittle": "为什么 php 变量要用 $ 美元符号，对象链要用 -> 这样的奇怪的东西？", "comment": ["-> 这个是 C 语言的对 struts 赋值的东西", "用$就不用考虑保留字问题了,用->是因为 php 的.已经被用来连接字符串了", "我大胆猜一下，$符号在 shell, perl 里表示变量，->是 C 语言里结构体取成员的符号。然后 php 就抄上了", "$(selector).action()", "毕竟 PHP 是世界上最好的语言 #(滑稽)", "相比 -> 感觉 $php::static() 那两个冒号更奇葩…\r", "不过这仍然无法阻止我大 PHP 成为宇宙最好语言！", "变量$和 perl 一致，\r", "->和::跟 C++上一致。", "PHP 当年貌似本来目的就是对 perl 进行改进或者延伸, 然后继承 Perl 中本来就有的$作为变量声明符合,也就不奇怪了", "$学 perl\r", "->学 c", "$_$", "$：时刻提醒你这行代码价值一美刀，请认真写\r", "->：你只有这样做才能赚取那一美刀", "以 $ 开头对解释器来说极其方便，判断是不是变量只需要读一个字符。", "原来是这样啊。。。", "大 perl 也有->和::", "perl 里也有 -> 啊", "几年前就想过这个问题，当时搜到这个页面， ", " ，\r", "基本上楼上都说差不多了", "很多大公司都靠 PHP 的美元符号赚到大钱了。\r", "\r", "\r", "很多个人都靠 PHP 的美元符号赚了第一桶金。\r", "\r", "\r", "所以说你有什么资格质疑世界上最好的语言？", "如果不用$，那变量的变量如何表示", " 看来都是继承 perl 的光荣传统😁", "因为 php 最初只是和做简历用的模板语言，没想那么多。\r", "\r", "嵌入在 html 里的 shell 脚本而已", " \r", "\r", "参考 js.虽然 js 也挺脏的。", "为什么要用 $ 表示 dollar ，而不用 Ð 来表示？", " 用英镑啊 ￡", "我对所有用$表示变量的语言都很厌恶", "学习 c ， c++\r", "最坑的是 obj c", "楼主，你一定没见过我大 PHP 最新版的太空船操作符吧？\r", "<=> <=>  <=> <=>", " 存储过程用 @", "php 最有钱图"]},
{"content": ["<div class=\"topic_content\">Class MY_Session Extends CI_Session\r<br>\r<br>提示 Class 'CI_Session' not found in MY_Session.php.\r<br>\r<br>这个 MY_Session 是 github 上的 cnsaturn/codeigniter-my-session,\r<br>\r<br>我的 ci 是 2.x, \r<br>\r<br>我发现, ci 的 session 的文件名是 Session, 而类名是 CI_Session, 这是不是要我自己解析呢?</div>"], "reply": "10", "tittle": "CI 扩展 session 类遇到的问题", "comment": ["把你下载的 My_Session.php 文件放在 app/Libraries 目录下\r", "或者赶紧升级使用 CI 3.x 版本吧", " 是放在 app/libraries 下了, 版本是 2.2.5, 奇了怪了.", "先 $this->load->library('session'); 了么？", "文件名是： MY_Session.php\r", "有些 php 环境是大小写敏感的， CI 对文件名的大小写也有严格的规定，你再仔细检查一下，并看看官方文档关于文件名的大写问题。\r", "建议升级到 3.0 ，这样会避免一些不是问题的问题。\r", "以上答案在无法了解你环境的情况无法验证。", "  就是之前也得 load 原 session? 加上之后到是不报错了, \r", "感觉好像不是太灵活呢?", " CI 中， MY_ 是针对原来类库或者控制器的扩展。。你使用之前必须加载原来的。当然，加载了原来的就会加载你自定义的。。\r", "我赶脚比较好，按需加载，如果觉得麻烦，自己写个 hook 或者其他啥的搞个判断不存在对象就自动加载。我个人还是比较习惯手工加载，但也不排除有些项目会偷懒。\r", "\r", "然后，尽快换到 3.0 吧， session 完全重写了。", "  那样的话, 其实就是 $this->load->library('session');就行了吗,不需要加载我自己的? 而且貌似也只能这样了吧,", " 不用加载自己的，有空再仔细看下 CI 的执行机制。。", " 基本没看执行机制, 就是想快速做一个东西....", "试一试在 config 文件夹下 autoload.php 中自动加载 $autoload['libraries'] = array('Form_validation','session');"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在看 php 的依赖注入框架 pimple 的源码时，看到这样的代码，感觉很奇怪，这种写法是什么意思呢？对了，$this-&gt;values 是一个数组</p>\n</div></div>"], "reply": "2", "tittle": "$this->values[$id]($this)，这种写法是什么意思呢？", "comment": ["数组里都是 fn ， key 可以匹配就直接调用。\r", "这么写太短，除非提前验证$id 有对应的 fn 。\r", "个人不推荐这种写法。在类里用标准的反射 method 调用比较好。", " 明白了，谢谢"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题，要么就是数据库增删改查，要么就是开发些接口？我个人感觉这几年就在做些这样的事情，然后很多时候出去面试很难回答面试官的“你上一份工作做了些什么？”</p>\n</div></div>"], "reply": "3", "tittle": "为什么觉得很多时候程序员的工作都是在做数据库的增删改查？", "comment": ["程序规模未达到你需要考虑别的情况的时候。你就觉得你在做 crud 。", " 也许吧，很多时候自学了很多东西，却发现都用不上，等过了一阵子，发现有些地方用的上的时候，又发现自己都忘光了，又得从来，这个比较坑爹", "Learn on demand"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我编辑代码最开始用的 Notepad++，主要一点是标签配对。后来转用 sublime ，因为定制性很强，现在写 PHP 于是下载了 NetBeans 和 PhpStorm ，用里些日子整体说都是很不错的 IDE 。非要推荐个好用的那就是 PhpStorm 。我就这么混合用，基本编辑器都是当“代码阅读器”用了。</p>\n\n<h2>PhpStorm 的编辑器主题有很多，但 NetBeans 我找了很久基本就那几个，甚至官网提供的主题都不支持最新的 8.1 版。谁来推荐几款？</h2>\n\n<h3>另外关于小技巧： NetBeans 有个好用的功能，比如\"hello word!\",如果把包括“引号”都选中，那么再输入‘’、“”、（）、｛｝、[]中的任意一种就可以把原来的内容切换成：'hello word!'、\"hello word!\"、(hello word!)、{hello word!}、[hello word!]。</h3>\n\n<h3>简言之就是： NetBeans 这个功能可以给选中的内容，添加或切换成任意成对的标签或符合。</h3>\n\n<p>这个功能在 PhpStorm 上没发现，还是我的姿势不对？</p>\n</div></div>"], "reply": "8", "tittle": "请 V 友来推荐几个 NetBeans 的配色主题", "comment": ["idea", "Sublime Monokai Theme for NetBeans 8\r", "solarize?", " 无法导入\r", "\r", "   下载地址？", "  \r", "大概 1 年半前,我用 netbeans 还是挺频繁的,当时也找过一个 monokai 的主题,但是不好看,自己改了下,不介意的话可以先试试\r", "后面发现如果用空格缩进的话,netbeans 里经常看到字符有个竖的虚线背景,有点难受,就长期 sublime text 了\r", "链接: ", " 密码: jzkd", "实在想不出 php 里干嘛要替换成那些奇怪的 wrap", " 已用，感觉还不错， NB 的定制性真心不强，说不定我很快换回 sublime 或者 phpstorm 。\r", "\r", "  这个实用性不是很强，不过有强迫症的会看着单双引号混用不爽的 23333.", " "]},
{"content": ["<div class=\"topic_content\">批量增改删，就是支持一次增、改（某一个状态字段批量改一下）、删数百最好上千条记录。\r<br>\r<br>能同时支持 SQLITE3 最好不过，不能也无所谓。最好有个说明文档。\r<br>\r<br>菜鸟一枚，从 <a target=\"_blank\" href=\"http://wmhfly.com/php/PDO-DbConnection-class.html\" rel=\"nofollow\">http://wmhfly.com/php/PDO-DbConnection-class.html</a> 这里改了一个，只是实现了批量增加记录，还总有些心虚不知道对不对。\r<br>\r<br>拜谢！</div>"], "reply": "10", "tittle": "求一个 PHP 操作 PDO 的封装类 MySQL 的 能批量增改删", "comment": ["medoo @", "\r", "\r", "\r", "laravel 的 eloquent 组件，可单独拿出来用\r", "文档： ", "自己写", "真诚感谢 @", " @", "\r", "这两天做项目用到的一个 PDO 类", "你可以去 github 上搜 php  DB 或者 PDO 找个你觉得合适的就行", "必须 medoo", " 确实牛逼，它足够用了。", "medoo~", " 哈哈这个妹抖果然厉害，本来还有些担心，今天把爬虫改了下，数据库用了 Sqlite3 的，妹抖 PDO 类搞起，插入用事务，不到 6 小时居然爬了一百万数据。速度居然远远超过了火车头。\r", "\r", "做为菜鸟，好有成就感！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Laravel 基础教程，基于 Laravel 文档，将 Laravel 文档没讲清楚，或一带而过的地方详见阐述和注解，对关键部分则深入挖掘，从而帮助初学者更好地学习 Laravel 框架，对 Laravel 开发者也有一定参考意义。</p>\n\n<p>传送门：<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/laravel-tutorial-5_1\">http://laravelacademy.org/laravel-tutorial-5_1</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "Laravel 5.1 基础实例教程大全", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>RT<br>\n主要是做大数据交付方面的 PHP 开发工作。</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "有对上海德拓信息技术有限公司了解的么", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>SELECT * FROM comments where <code>postId</code> = 92057 AND <code>auditBy</code> IS NOT NULL;<br>\nSELECT * FROM comments where <code>postId</code> = 92057 AND <code>auditBy</code> IS NULL AND userId = 1111;</p>\n</div></div>"], "reply": "9", "tittle": "这两条 sql 语句可否合并为一条？", "comment": ["SELECT * FROM comments where postId = 92057 AND (auditBy IS NOT NULL or (auditBy IS NULL AND userId = 1111));", "自己已解决，谢谢。", "要么条件合并： SELECT * FROM comments where postId = 92057 AND auditBy IS NOT NULL OR (auditBy IS NULL AND userId = 1111)\r", "要么链接来执行： SELECT * FROM comments where postId = 92057 AND auditBy IS NOT NULL UNION ALL SELECT * FROM comments where postId = 92057 AND auditBy IS NULL AND userId = 1111;", "SELECT * FROM comments where postId = 92057 AND auditBy IS NOT NULL OR (auditBy IS NULL AND userId = 1111); \r", "这样 OK 吗？", "SELECT * FROM comments where postId = 92057 AND ( auditBy IS NOT NULL ) OR ( auditBy IS NULL AND userId = 1111)", " thanks", " @", " @", " \r", "有其他条件的情况下， OR 条件不加上括号怎么行？\r", "看三层都这么写也是醉了", " 谢谢指出问题，已感谢", "UNION"]},
{"content": "", "reply": "5", "tittle": "PHP 7 延后发布了， 11 月 12 号发布 RC7， 11 月 26 最后版本", "comment": ["看到这个消息，马上去去 PHP 官网查询，确实是 RC7 ，但 11 月 26 日现在能否发布最终版本也不确定，没写 final", "最好的语言也会跳票", "同意楼上，目前设计最好的工程语言当时出 7.10 的时候也跳票了一两个星期。", "同意二楼意见。", "等 7.1 再用"]},
{"content": "", "reply": "9", "tittle": "刚接触 SSDB，弱弱问问， value 是不是不能用 array 啊？测试了一下好像只能用字符串", "comment": ["ssdb 这种不知名的数据库都有人用？你是哪个公司的？", " 很多人用", "跟 redis 的用法差不多， value 可以放 json_encode 之后的字符串，用的时候 json_decode 就可以了", " redis 数组不用转成字符串吧", " 好多公司有用的呢", " 你说的是 mencached", "你是说 set 一个 array 吗？ redis 的 set 只支持字符换。\r", "redis 里没有 array 的概念，难道你说的是 list ？", "KV 数据库很少有支持 array 的。 redis 是异端。别人号称 data structure server", " 这个是文档"]},
{"content": ["<div class=\"topic_content\">业余时间比较多，住的离公司五分钟。长期在公司呆着。\r<br>现在正在用 CI 开发一个简单的 CMS 系统，表结构抄的 wordpress 的目录关系表。\r<br>增删改查的功能基本都实现了。\r<br>但是你们说的好多东西完全看不懂的...什么 http apache nignx ，页面级和内存级缓存，什么类库啥的...\r<br>不知道从何学起，望各位前辈指教</div>"], "reply": "4", "tittle": "如何深入学习 PHP....", "comment": ["帮顶", " PHP 部分的\r", "http 建议阅读 http 权威指南", " 请将链接后面的 `, 关于`去掉。", "题主直接找一套完整的视频教程学习吧   每天坚持学习 4 个小时   ", " \r", "不懂的   就在社区  群里面去问\r", "学完 找些实战项目练手  开源代码学习"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>无锡新格尔软件有限公司招聘简章<br>\n招聘岗位：<br>\nPHP 工程师（ 2-3 名） 10k-20k</p>\n\n<p>岗位职责：<br>\n1.参与软件需求分析与设计，负责完成模块设计、接口设计；<br>\n2.前、后端功能编码工作；<br>\n3.与前、后端工程师、设计师、产品人员紧密合作，按时保质完成功能交付；<br>\n4.其它上级领导安排的工作。</p>\n\n<p>岗位要求：<br>\n1.1-3 年 PHP 开发经验，有大型网站、手机、微信公众号等各种应用及电商平台开发经验者优先；<br>\n2.熟悉常用的设计模式， PHP 开发框架，有 Symfony/ThinkPHP/CI 等框架使用经验者优先；<br>\n3.熟悉 HTML 规范，有 Apache 、 Nginx 配置管理经验者， JavaScript/jQuery 开发经验者优先；<br>\n4.熟悉 MySQL 数据库，具备基本的数据库设计及优化能力；<br>\n5.会使用 Memcached 、 Redis 、 SVN 、 GIT 等工具，了解 NoSQL 技术优先；<br>\n6.全日制本科及本科以上学历，计算机科学专业者优先；<br>\n7.性格开朗，对创业充满热情，具备良好的编码习惯，较强的团队合作能力、学习能力和沟通能力，能承受一定的工作压力。</p>\n\n<p>我们可以为您提供：<br>\n1.工资：<br>\n10k － 20k ，具体面议；<br>\n2.福利：<br>\n（ 1 ）办公环境优雅，每周五天工作制；<br>\n（ 2 ）完善的绩效体系；<br>\n（ 3 ）内部激励和晋升机制；<br>\n（ 4 ）良好的职业发展平台。<br>\n3.文化活动：<br>\n（ 1 ）为加强员工的团队合作精神，公司有设立专项的员工活动基金；<br>\n（ 2 ）每逢国内传统节日，公司会派发礼品，如：中秋节、端午节等，让员工感受到家一样的温暖；<br>\n（ 3 ）公司会定期组织员工活动，包括部门活动、部门间联谊活动、户外拓展运动、旅游活动、年会等。</p>\n\n<p>公司简介：<br>\n无锡新格尔软件有限公司（以下简称 Thinker ）成立于 2010 年，在重庆、杭州、河南、四川、河北、湖南、佛山均设有办事处。为满足公司的发展需要，现欲在上海成立研发中心。<br>\nThinker ，立足门窗行业，专为门厂服务，通过不断地自主研发和产品创新，现已拥有 4000 多家门厂、 20000 多家门店客户，成为引领中国门窗行业发展的先行者。 Thinker 一直致力于帮助门厂实现 3 倍增长，专注为门窗行业提供生产、采购、销售、服务等各个供应链环节的信息化服务，实现企业对信息流、物流和资金流的实时把控，并应用物联网、云计算及移动互联网技术引领定制家居不断实现信息化、智能化、终端化。<br>\nThinker ，集聚着一群年纪轻轻的专业研发团队，其中不乏熟悉门窗行业的专家，他们无话不谈、互帮互助；他们技术精湛、成熟老道；专业的技术和服务，充分赢得了客户的信任，被客户亲切地美誉为“新格尔人精”。通过技术与市场的完美结合， Thinker 将体验营销、终端管控和 O2O 模式融入产品，让厂家、经销商、终端客户可以零障碍的实时信息沟通，大幅提高供应链整体的运作效率，最终实现利润的指数化增长。<br>\n在未来的企业发展中， Thinker 将以门窗行业移动互联网化和垂直供应链电子商务化为发展重心，一如既往地秉持思考创造奇迹的企业理念，提供最具创新的产品和服务，衷心的为门窗产业的信息化发展而努力。</p>\n\n<p>随着公司各项业务的迅速扩展，现向全国招聘所述人才加盟。我们期待您的加入！<br>\n请各位应聘者如实填写简历，以免浪费彼此宝贵的时间，请勿重复投递简历，多谢合作！</p>\n\n<p>公司官网： <a target=\"_blank\" rel=\"nofollow\" href=\"http://www.thinkerx.com/\">http://www.thinkerx.com/</a><br>\n公司总部地址：江苏省无锡市滨湖区锦溪路 100 号太湖科教产业园 3 号楼 10 楼<br>\n上班地点：上海市浦东新区张江高科技园区<br>\n简历投递邮箱： <a target=\"_blank\" rel=\"nofollow\" href=\"mailto:lck@thinkerx.com\">lck@thinkerx.com</a> ； <br>\n联系电话：陆小姐（ 0510-66755066 、 15951567516)。</p>\n</div></div>"], "reply": "1", "tittle": "上海 PHP 研发招聘（ 10K-20K）_新格尔_BAT 大牛带队", "comment": ["同张江，应该很近。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>提人改个上古程序，用的是 PHP+SMARTY2.0</p>\n\n<p>目的是要替换第一行后所有内容为空</p>\n\n<p>{$Grid|regex_replace:\"\\n(.+)$\":\"\"}</p>\n\n<p>这么写对么？正则测试是通过的，但这么输出在页面上全为空白。</p>\n</div></div>"], "reply": "2", "tittle": "求教一个 SMARTY2.0 中正则替换的问题", "comment": ["已解决 regex_replace:\"/[\\r\\t\\n].+/\":\"\"", "已解决也要有人回下 rt"]},
{"content": ["<div class=\"topic_content\">在看官方的 PDF 教程，大家帮忙推荐个学习路线</div>"], "reply": "4", "tittle": "CI 框架如何入门及提高呢·？", "comment": ["个人觉得这玩意根本不用培训路线吧。\r", "把 CI 手册那个 HTML 版的下载到本地，按顺序看一遍就精通了……", " 恩~~\r", "谢谢了··。\r", "感觉现在自己 php 方面太凌乱散乱了·", "CI 框架，比较简单，有手册就可以", "哈哈"]},
{"content": ["<div class=\"topic_content\">详细介绍在这个帖子里：\r<br><a target=\"_blank\" href=\"http://www.v2ex.com/t/233444#reply0\" rel=\"nofollow\">http://www.v2ex.com/t/233444#reply0</a></div>"], "reply": "目前尚无回", "tittle": "八号线 芦恒路 次卧 合租", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>求解， YII 1.1 中如何解决分页功能参数问题</p>\n\n<p>例如 搜索某个词后<br>\n链接为： date_range=&amp;id=闹闹&amp;ip=&amp;content=<br>\n点击下一页后： date_range//id/闹闹 /ip//content//page/2</p>\n\n<p>如何解决这种问题</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "求解， YII 1.1 中如何解决分页功能参数问题", "comment": []},
{"content": "", "reply": "40", "tittle": "PHP7 终于要来了， 11 月 12 号，期待，小激动", "comment": ["已抛弃", "$foo->$bar['demo'] 好像在 7.0RC5 上解释顺序和 5 上不同。 5 上是先右，而 7.0RC5 是先左。", "php 是最好的语言。", "很多 wp 插件，几年不更新， php5.5 5.6 都上得起。到七就跪了", "然而 centos 7 上还是 5.4", "全世界最好的编程语言，没有之一", "最好的编程语言，没有之一", "最好的，没有之一", "没有之一", "结束争论之奥义啊这是。", "太棒了！ phpstorm 10 也跟著釋出了！", "最好的编程语言，没有之一", "最好的编程语言，没有之 一", "居然不是双十一发布", "兼容性如何?", "7 速度确实快很多", "同样期待。希望以后会更好。", "对以前版本的兼容性呢", "比 hhvm 如何", " \r", " \r", "\r", "本体 99% 兼容。当然有些扩展的话就说不准了", " 日常主要场景上已经差不多了。而且 PHP 7 的主要改动是为以后 jit 做准备的。", "还在用 5.6 路过 感觉我们版本已经升级的够快了", "不太对啊，我还以为 20 楼之内会有人跳出来说我们还在用 5.2", " 5.2 的应该比较少吧， 5.3 的多", "之一", " 大部分场景比 HHVM 还快，并且保留了所有动态的特性", "一", "好吧，我厂还在用 5.2 T_T", " 你可以试试这里的方法 ", "全宇宙最好的编程语言，没有之一", "还有使用 5.2 的场景", "我想要的扩展不支持啊。。。主要是这个问题", "无痛升级么？", "现在用的是 hhvm ，等 php7 稳定了可能会切换过去", "没之一", "翻译的关于 PHP7 的文章，或可参考： ", "Drupal 7 用 HHVM 爆一堆 PDO 错误，可以用 PHP 7 。\r", "用了新的 php-memcached PHP7 分支。\r", "现在 PHP 7 最主要的问题还是支持的 PECL 太少，移植旧的又要耗费不少时间。", "希望早点搭载 JVM", "全宇宙最好的编程语言，没有之一"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我们是晶赞 Zamplus ，一家站在大数据、电子商务、广告交点上的创新企业，成立于 2011 年，创始人来自谷歌、阿里。 5 年的积累赋予了晶赞领先的海量数据处理能力，团队由几人成长为一支近 200 人的大家庭。我们通过机器学习、数据挖掘技术，在每天 TB 量级的数据中，预测用户的行为习惯、提取用户信息，并将这些信息变成真正的商业机会。我们已于去年底完成 C 轮融资，计划上市。</p>\n\n<p>职位： PHP 研发工程师</p>\n\n<p>~工作职责: <br>\n1. 参与高并发的后台处理系统的需求整理和开发工作 <br>\n工作职责：<br>\n1 、参与公司广告系统后台程序的设计和开发； <br>\n2 、参与系统需求分析与设计，接口规范指定，架构设计； <br>\n3 、根据设计要求，独立负责相关模块的详细设计和编码任务；<br>\n4 、改进现有框架、基础构架，提高产品质量；<br>\n5. 系统性能优化和技术难点攻关。</p>\n\n<p>任职资格：<br>\n1 、本科及以上学历， 2 年以上 WEB 互联网开发经验；<br>\n2 、精通 PHP+Mysql 程序设计及开发、熟悉 Yii/Ci 等框架、了解 PHP 缓存技术；<br>\n3 、熟悉 Linux 下,PHP 开发环境配置和 PHP 应用；<br>\n4 、熟悉 JavaScript 、 HTML 、 XML 、 CSS ；<br>\n5 、思维严密，执行力强, 能承受一定的工作压力，有团队合作精神，能够在工作中有效沟通交流；</p>\n\n<p>工作地点： 1 号线上海马戏城附近 </p>\n\n<p>简历请投递至： <a target=\"_blank\" rel=\"nofollow\" href=\"mailto:danielle@zamplus.com\">danielle@zamplus.com</a> </p>\n\n<p>也欢迎各位有兴趣的同学加 QQ 详聊： 570487907. <br>\n——————————————————————————————————————————————————————</p>\n\n<p>[Why join us]</p>\n\n<p>1.行业前景：大数据广告，业已验证的商业模式。很有前景＋钱景！</p>\n\n<p>2.强悍团队：技术产品团队来自谷歌、阿里、百度、雅虎，其中 15%为博士， 80%为硕士；配合极为彪悍的销售精英团队；</p>\n\n<p>3.个人发展：团队和业务都在快速成长， 5 年一路走过 C 轮，我们希望在敲钟前等到你；</p>\n\n<p>4.薪酬福利：敢与 BAT 叫板的薪资，全额五险一金，还有补充医疗保险让你无忧；</p>\n\n<p>5.免费牛奶麦片阳光早餐，海量饮料、零食，脉动、三得利、红牛通通 2 元？！按摩椅休息区，乒乓球、桌上足球游戏区；</p>\n\n<p>6.每年公费海外游，优秀员工还可以再来一次，听说去年有童鞋拿下了三次海外游；</p>\n\n<p>7.为给大家涨姿势，每位员工都有 500 购书资助，小编默默下了一单金瓶梅……</p>\n\n<p>[We want you]</p>\n\n<p>1.自我实现：虽然我们最基本的需求是 WiFi ，但最顶层的还是自我实现，如果你对大数据、广告情有独钟 ，相信晶赞能够助你到达最顶层。</p>\n\n<p>2.创业精神：晶赞仍是一家创业公司，我们始终践行拼搏的精神！</p>\n\n<p>3.学习能力：晶赞明白技术驱动数据，数据驱动市场，我们从未停止对市场和技术的学习！</p>\n</div></div>"], "reply": "8", "tittle": "PHP 工程师", "comment": ["好像技术蛮强大的样子.. 应该有很多可以学习的地方", "去贵公司之后有没有机会跳槽到谷歌", "有兴趣的小伙伴们，简历投过来吧~", " 我们提供机会！", "欢迎更多小伙伴的投递~", "小伙伴们速速看过来， PHP 开发，熟悉 yii 框架", "php 大拿看过来", "年底还有几位 headcount,欢迎各位 PHP 大拿来晶赞聊聊。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><strong>项目原型</strong></p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/1359.html\">Laravel 5 Boilerplate</a> —— 基于当前 Laravel 最新版本（ Laravel 5.1.*）并集成 Boilerplate 的项目<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/1426.html\">Laravel 5 Angular Material Starter</a> —— 这是一个 Laravel 5.1 和 AngularJS 的原型项目</p>\n\n<p><strong>CMS</strong></p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/709.html\">Bootstrap CMS</a> —— Laravel 5.1 驱动的功能强大的 CMS<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/1132.html\">October</a> —— 基于 Laravel 5 ，致力于让开发工作变得简单的 CMS<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/1391.html\">PyroCMS</a> —— MVC 架构的 PHP 内容管理系统， 3.0 以前基于 CodeIgniter ，目前基于 Laravel 5.1<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/1227.html\">LavaLite</a> —— 基于 Laravel 5.1 &amp; Bootstrap 3 的内容管理系统<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/1508.html\">TypiCMS</a> —— 基于 Laravel 5 构建的、支持多语言的内容管理系统</p>\n\n<p><strong>论坛</strong></p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/666.html\">Laravel.io</a> —— Laravel 开发者社区<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/1090.html\">Flarum</a> —— 免费的、开源的、专注于简约的论坛系统， esoTalk 和 FluexBB 的联合继承者<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/899.html\">PHPHub</a> —— 基于 Laravel 4.2 ，积极向上的 PHP &amp; Laravel 开发者社区</p>\n\n<p><strong>项目管理</strong></p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/1045.html\">92five app</a> —— 基于 Laravel 框架 &amp; Backbone JS 构建，是一个自托管的、基于 web 的项目管理应用<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/956.html\">Scrumwala</a> —— 基于 Laravel5 ，项目管理应用</p>\n\n<p><strong>博客</strong></p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/956.html\">Wardrobe</a> —— 专注于写作的最小化博客平台</p>\n\n<p><strong>其他</strong></p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/788.html\">Laravel.com</a> —— Laravel 官网源码<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/681.html\">Laravel Tricks</a> —— Laravel 小技巧&amp;小贴士<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/1117.html\">Invoice Ninja</a> —— 基于 Laravel 构建的开源发票及时间跟踪应用<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/748.html\">Paperwork</a> —— 基于 Laravel 4.X 的开源的笔记&amp;归档工具<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/824.html\">Cachet</a> —— 基于 Laravel 5 的开源的状态页系统<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/872.html\">StyleCI</a> —— 由 PHP CS Fixer 开发，提供 PHP 代码风格持续集成服务<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/1006.html\">Podcastwala</a> —— 基于 Laravel 5 ，构建属于你自己的播客网站<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/1681.html\">Deployer</a> —— 基于 Laravel 5.1 的、免费的、开源的 PHP 应用部署工具</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>Wardrobe 链接有误，特此勘正：<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/1203.html\">http://laravelacademy.org/post/1203.html</a></p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p><strong>追加</strong></p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2555.html\">RSS Monster</a> ——  基于 Web 的、操作简单的、兼容 Fever API 的 RSS 聚合器和阅读器</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"http://laravelacademy.org/post/2624.html\">Koel</a> —— 基于 Laravel 5.1 &amp; Vue.js 开发的酷炫音乐流媒体应用</p>\n<p><a href=\"http://laravelacademy.org/post/3615.html\">Attendize</a> —— 基于 Laravel 框架开发的开源门票及活动管理应用</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"http://laravelacademy.org/post/3793.html\" rel=\"nofollow\">Antvel</a> —— 基于 Laravel 5.* 开发的开源电子商务项目</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"http://laravelacademy.org/post/3876.html\" rel=\"nofollow\">Microweber</a> - 基于 Laravel 拖拽式生成 CMS 及在线商店利器</p>\n</div></div>"], "reply": "15", "tittle": "Laravel 完整开源项目学习参考大全", "comment": ["沙发", "好东西,收藏(๑•̀ㅂ•́)و✧", "Wardrobe —— 专注于写作的最小化博客平台\r", "这个链接给错了...", " 恩 确实是 谢谢指正 已在附言中勘正", "真不觉得这个框架哪里好。大多跟风而已。", " 抛开争议 只谈学习", "    第一句我可以谅解，因为你可能没实际使用或者不会用。但第二句，啧啧，肤浅两个字直接填满了我对你的印象。当然我不能教育你，我不是你老师，也不是校长。", " 呵呵，你觉得学习一个框架会是有难度的事情吗。你特有成就感吧？", "刚开始我以为是 github 代码推荐  原来是自己网站的导流...网站太慢了 都打不开。", " 我是将所有项目进行了整理并给出了安装配置指南 当然里面也给出了 Github 地址 本来是想把 Github 地址一并放在这篇文章里面 无奈一经发布 就不能编辑了", " 网站是放在 Linode 上的 为什么现在国内很多反映访问很慢 你们用的什么宽带服务商？", "求推荐 Yii2 开源项目学习！！", "虽然不是开源，但是 ", " 的教学视频很赞", " 确实 大神坐镇 自然差不了", " 路转粉学 Laravel 吧 哈哈"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>你可以把它用在你的 PHP 日志系统中，给不同的日志等级设置不同的颜色。<br>\n项目地址： <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/pein0119/php-color\">https://github.com/pein0119/php-color</a></p>\n\n<p><img src=\"https://github.com/pein0119/php-color/blob/master/doc/example.png?raw=true\" alt=\"\"></p>\n</div></div>"], "reply": "19", "tittle": "PHP 小工具，在终端打印彩彩色文本", "comment": ["然并卵", "这个闲置条件太多，没想到用途是啥", " 用在日志系统中，根据日志等级设置不同的颜色，比如 fatal 设置成红色， error 设置成黄色， warning 设置成灰色等等，方便 RD 观察", "日志都是到文件的， vi 出来还有彩色吗？", " tail -f a.log", "以前做 lab 的时候用来看调试信息。还是挺方便的。不仅仅是 php ，任何 linux 上跑的东西都能用这个代码。", "最近正好要用到，谢谢了。\r", "话说支持 Cygwin 吗？", "可以用 __callStatic 替代掉下面的一堆方法~", " 没测试过，我只在 mac 和 linux 上测试过", " 嗯，谢谢，待会儿试一下", "没啥用啊, 你这应该写到 php 扩展里面的, php 运行的时候打印对应的 warning, notice, error 这些.", "色彩是终端模拟器实现的，且模拟配置为 xterm256color 。\r", "色彩序列可以 man 4 console_codes", "我还以为是打印在 开发者工具的 console", "日志都是输出到文件... \r", "然后就呵呵了. \r", " ", " 这个没办法，我们这边是用 tail -f 终端查看日志", " 这个就看各自的用途了，我正在实现一个 php logger ，这个小东西只是开发过程中依赖的一个小文件。 PHP 扩展的维护成本太高，更新代码不方便", "我觉得用这样的方法去控制日志的生成，还不如做一个类似于 pygmentize 这样的色彩解析工具，这样生成的日志还是文本，方便其它工具调阅。\r", "\r", "既然是用于输出日志的，不如对不同的颜色加上一些别名， eg: color::warn() color::error() 之类的，这样开发者不需要再去思考“哎呀，这个 warn 是要用什么颜色来着，红色？黄色？”", " 这只是一个简单的颜色类库，我只是用“日志系统”打个比方", "不错，有用哇"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>恩 max/min 函数在某些情况下会返回 <code>-0.0</code> 。</p>\n<div class=\"highlight\"><pre><span class=\"c\"># Psy Shell v0.3.3 (PHP 5.5.30 — cli) by Justin Hileman</span>\n&gt;&gt;&gt; max<span class=\"o\">(</span>ceil<span class=\"o\">(</span>-0.5<span class=\"o\">)</span>, 0<span class=\"o\">)</span>\n<span class=\"o\">=</span>&gt; -0.0\n</pre></div>\n\n<p>原因分析：<a target=\"_blank\" rel=\"nofollow\" href=\"http://0x1.im/blog/php/bug-of-php-function-max.html\">http://0x1.im/blog/php/bug-of-php-function-max.html</a></p>\n\n<p>当然了，这又是广告。</p>\n</div></div>"], "reply": "5", "tittle": "max/min 函数的小 bug", "comment": ["博客排版不错", "难得有 kernel 分析的文章👍", " 看你以前写的也很好啊~ 怎么就不写了", " 哈哈 就是不支持移动版", " -。-懒了，也好长一段时间没关注"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>各位技术帝，帮忙写个 PHP 查询 TXT 里面内容的查询页面</p>\n\n<p>如： TXT 内容<br>\n张三----2015 年 10 月 2 日 10 时<a target=\"_blank\" rel=\"nofollow\" href=\"mailto:----80----zhangsan----1234@qq.com\">----80----zhangsan----1234@qq.com</a><br>\n李四----2015 年 10 月 2 日 10 时<a target=\"_blank\" rel=\"nofollow\" href=\"mailto:----80----zhangsan----12345@qq.com\">----80----zhangsan----12345@qq.com</a><br>\n王五----2015 年 10 月 2 日 10 时<a target=\"_blank\" rel=\"nofollow\" href=\"mailto:----80----zhangsan----123456@qq.com\">----80----zhangsan----123456@qq.com</a></p>\n\n<p>PHP 页面输入 <a target=\"_blank\" rel=\"nofollow\" href=\"mailto:123@qq.com\">123@qq.com</a> 此邮箱就能显示张三这条信息,输入其他的则不返回信息</p>\n\n<p>如何实现</p>\n</div></div>"], "reply": "43", "tittle": "如何写 PHP 查询 TXT 文件内容", "comment": ["这有点难啊，可能你培训老师会知道", "这个太难了。问一下你的培训机构老师吧。", "这有点难啊，可能你培训老师会知道", "这有点难啊 ~可能你培训老师会知道", "读文件 根据换行符切分成数组 遍历数组根据输入匹配行 输出行", "是有点难 楼下会吗", "等我问问我师父", "稍等,我请教下我们公司的 CTO", "233 ，不要這樣嘛…直接 if 語句寫滿要判斷的郵箱不就好了嘛…", "```php\r", "<?php\r", "$txt =\r", "'张三----2015 年 10 月 2 日 10 ", "\r", "张三 A----2015 年 10 月 2 日 10 ", "\r", "李四----2015 年 10 月 2 日 10 ", "\r", "王五----2015 年 10 月 2 日 10 ", "';\r", "\r", "$email = '", "';\r", "$newEmail = str_replace('.', '\\.', $email);\r", "\r", "$reg = \"/.*?\\-$newEmail$/m\";\r", "\r", "preg_match_all($reg, $txt, $result);\r", "\r", "var_dump($result);\r", "?>\r", "```", "$mail = '", "';\r", "$fp = fopen('data.txt', \"r\");\r", "while (!feof($fp)) {\r", "    $line = trim(fgets($fp));\r", "    if($mail == split('----', $line)[4]){\r", "        echo $line;\r", "    }\r", "}", "原来回复不支持 markdown 啊。。。", "  \r", "其实调用系统命令也是一种选择， awk 不懂就不举例了", " 哇这是什么呀看起来好厉害的样子～", " \r", "有必要这样冷嘲热讽吗？", "分割成为数组，那样就可以取出了。", "\r", "\r", " 不用先 cat 吧 😂 grep 1234 data.txt 就行了", "  ", "  命令不熟悉", " 有啊，今天你告诉他答案明天他还来伸手问。", " 有必要这样冷嘲热讽吗？", "转成 csv 大把的类可以让你调用", "file()\r", "array()\r", "if()", "是时候上这个珍藏多年的黑科技了\r", "\r", " @", " @", " @", "\r", "\r", "日光 at 了忘记写地址了。。。", "csv 或者正则", "这道题只有北大青鸟的校长才会做了，太难了", "fopen 读文件，再分隔字符串", "<?php\r", "\r", "echo shell_exec('grep ", "; a.txt');", "这个问题有一个点需要考虑，就是不能把所有文件全部读入进来，如果这个文件很大的话，内存会爆掉。\r", "可以用随机读写的函数， fseek,fgets 等\r", "\r", " <?php\r", "$handle = @", "(\"./inputfile.txt\", \"r\");\r", "$finder = ", ";\r", "if ($handle) {\r", "    while (($buffer = fgets($handle, 4096)) !== false) {\r", "        if (strpos($buffer, $finder) != false ){\r", "            echo $buffer;\r", "        }   \r", "    }   \r", "    if (!feof($handle)) {\r", "        echo \"Error: unexpected fgets() fail\\n\";\r", "    }   \r", "    fclose($handle);\r", "}", "楼主说的是查询 ", " 能得出\r", "张三----2015 年 10 月 2 日 10 ", "\r", "\r", "大家都打错了\r", "这题还是有点难度的，还是问培训老师吧", " 得问北大青鸟 /蓝翔的校长吧，培训老师还是水", "我天  怎么都这副模样  \r", "\r", "人都没说数据大小好么 ... 一个劲的热潮冷讽...\r", "\r", "且不说 3P 了,  就 3T 数据吧  ........", " 哈哈哈你笑死我了", " \r", " \r", "我刚问了培训班的老师，老师当场晕过去了怎么办？", "不解， 怎么确定就是培训老师出的题目?", " @\tsolupro @", "  请问这个代码有什么问题? 如何来写输出的内容？\r", "\r", "<html>\r", "<head>\r", "<meta charset=\"utf-8\">\r", "</head>\r", "<body>\r", " <form method=\"post\" action=\"\">\r", " 输入想要搜索的内容：<input type=\"text\" name=\"content\" /></br>\r", "                     <input type=\"submit\" value=\"search\" />\r", " </form>\r", "</body>\r", "</html>\r", "<?php\r", "    $search=$_POST['content'];\r", "    \r", " $fh=fopen(\"text.txt\",\"r\");\r", "\r", "while(! feof($fh)) ==true){\r", "      if($str['0']==$search){\r", "       echo $str['1'].\"</br>\";\r", "      }\r", "      \r", "  }\r", " \r", " fclose($fh);\r", " \r", "?>", "\"PHP 页面输入 ", " 此邮箱就能显示张三这条信息,输入其他的则不返回信息\"\r", "\r", "楼主的意思明明是：\r", "  echo '张三----2015 年 10 月 2 日 10 ", "';\r", "读文件干嘛。。\r", "\r", "是吧，，“输入其他的则不返回信息”，是这么理解的吧。", "  差不多 是这个意思，  TXT 里面内容都是这样的格式  主要是搜索邮箱 出这列的结果 其他的都不出现   ~~~ 现在不知道怎么来写了~~~", "没有索引，没有其他条件的话\r", "O(N)是跑不了了", " ", "$path  = 'tmp.txt';\r", "$input = '", "';\r", "\r", "if (!file_exists($path)) return;\r", "\r", "$ret = array_filter(file($path), function ($v) use ($input) {return strstr($v, $input) !== false;});\r", "var_dump($ret);", "php 的代码我就不给了，给了一个 shell 的结合 cat,grep ,和正则查找的,php 逻辑是一样的，有兴趣的可以看看\r", "\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>WordPress 很多人都很熟悉，是一个著名的个人信息发布平台，可扩展性很强，通过安装插件实现各种各样的功能，没有的功能也可以自己开发插件实现，大多应用于博客、小型 CMS 、企业站、专题站等，但是这样一款流行的程序并不是现在常见的 MVC 架构，而是函数式的编程，为什么它要选用这样的架构设计？</p>\n\n<p>大家评价一下 WordPress 的架构和这款程序的代码写的怎么样？</p>\n</div></div>"], "reply": "23", "tittle": "请大神评价一下 WordPress 这款程序的架构怎么样？", "comment": ["早期的 php 就这样啊，简单的脚本程序你还想怎样\r", "今天再看 WP 真是，臃肿且脆弱", "函数式？\r", "你确定？", "函数式？ \r", "你确定？+1\r", "\r", "在今天来说，臃肿，性能低下，且并不方便\r", "\r", "记得有个地方为了某一个函数的字符数正好能跟上面对齐，而放弃使用性能更高的函数", " 当然很多文件是类，我不确定是否函数式编程，不要纠结这个，我问的问题也不是这个", "忽视我函数式编程的理解。。。就讨论一下 WordPress 为什么要这样的架构", "历史遗留问题", "你们真是够了  😂  \r", "\r", "根据上下文  很明显楼主想表达的是面向过程的开发模式嘛.....\r", "\r", "吓得人不敢讲话了   ..... \r", "\r", "你有权保持沉默，但你所说的每一句话都将作为陈堂证供 😱", "不管代码怎样，能在任何地方都容易，稳定的跑起来就是好东西，至于效率，那是另一回事了，功能多久必然会慢，自己做缓存就好", " 对对对，面向过程。。和面向对象都有，但不是纯面向对象的", " 恩，这个链接很有用", "2333333 ，楼主重新定义了「函数式」 ", " ", "WP 那一堆的 global 就够玩了……", "历史原因。", "那有谁给推荐一个可以替代 wp 的程序？", "我就试着自己写（改）过主题和插件，我的印象是\r", "臃肿，乱七八糟的钩子，乱七八糟的函数，很差的文档\r", "\r", "但是因为形成了生态，养活了一堆主题与插件的开发者，所以要大改的话也不容易。不过隔壁 drupal 的重构版本都快发布了……", "ghost", "据我有限的经验来看， WordPress 用起来还是不错的，各种功能插件主题比较齐全。但是它那代码，就没有架构的概念，感觉就是一坨浆糊。", " 对齐，这强迫症啊", "PHP 有很多这样的开源程序，如果单论代码或工程本身，绝对称不上好，但是 就是有特性的人群。\r", "\r", "wordpress 、 discuz 、 magento 、 joomla ...\r", "包括某些框架或者扩展也是： thinkphp 、 smarty ...\r", "就连 PHP 本身都是。\r", "\r", "随便拎一个出来都能黑好久。\r", "如果你是专门做 PHP ，已自己的判断为准就好了。\r", "如果你只是找个 PHP 程序用一下，选一个你觉得好用的就行了。", "一直用 WordPress 做小型 cms ，我作为非技术的感觉还是很方便的。\r", "这两天在学 django ，不知道有没有能力自己动手做一个类似的网站。", "这是时代遗留问题，因为早期 php 还不是很完善，所以没有考虑这么多，到后来，流行起来就没法改了，因为这会影响整个生态，兼容性，以及安全性问题，有传言 wordpress 公司想用 node.js 重写，但是迟迟没有下文。就像 drupal 8 ，用 symfony 重写，好像开发了有将近两年了吧，", " 那只是个愚人节玩笑…"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>通常的函数是通过 ZEND_FUNCTION(xxx) 这种宏定义来实现的，这个规范很好理解，也很容易读懂源码。</p>\n\n<p>但 empty(), isset()的处理比较特殊，类似的还有 echo, eval 等。</p>\n\n<h4>准备工作</h4>\n\n<p>用于查看 PHP opcode 的扩展 vld ，下载：<br><br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://pecl.php.net/package/vld\">http://pecl.php.net/package/vld</a></p>\n\n<p>PHP 源码，分支 =&gt; remotes/origin/PHP-5.6.14</p>\n<div class=\"highlight\"><pre>git clone http://git.php.net/repository/php-src.git -b PHP-5.6.14\n</pre></div>\n\n<p>PHP opcode 对应参考：<br><br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://php.net/manual/en/internals2.opcodes.php\">http://php.net/manual/en/internals2.opcodes.php</a></p>\n\n<blockquote>\n<p>PHP 执行程序版本为 5.6.14 ，其他版本 opcode 可能会有细微差别。</p>\n</blockquote>\n\n<p>PHP 内核源码分析：<br><br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://www.php-internals.com/book/\">http://www.php-internals.com/book/</a></p>\n\n<h4>开始分析</h4>\n\n<p>示例代码 vld.php :</p>\n<div class=\"highlight\"><pre>&lt;?php\n    $a = 0;\n    empty($a);\n    isset($a);\n</pre></div>\n\n<p>通过 vld 查看 opcode ，<code>php -d vld.active=1 vld.php</code></p>\n<div class=\"highlight\"><pre>number of ops:  10\ncompiled vars:  !0 = $a\nline     #* E I O op                           fetch          ext  return  operands\n-------------------------------------------------------------------------------------\n   2     0  E &gt;   EXT_STMT\n         1        ASSIGN                                                   !0, 0\n   3     2        EXT_STMT\n         3        ISSET_ISEMPTY_VAR                           293601280  ~1      !0\n         4        FREE                                                     ~1\n   4     5        EXT_STMT\n         6        ISSET_ISEMPTY_VAR                           310378496  ~2      !0\n         7        FREE                                                     ~2\n   6     8        EXT_STMT\n         9      &gt; RETURN                                                   1\n\nbranch: #  0; line:     2-    6; sop:     0; eop:     9; out1:  -2\n</pre></div>\n\n<p>opcode 中都出现了 ZEND_ISSET_ISEMPTY_VAR ，我们一步步分析。</p>\n\n<p>当执行 PHP 源码，会先进行语法分析， empty, isset 的 yacc 如下：</p>\n\n<p>vim Zend/zend_language_parser.y +1265</p>\n<div class=\"highlight\"><pre>1265 internal_functions_in_yacc:\n1266 ›   ›   T_ISSET '(' isset_variables ')' { $$ = $3; }\n1267 ›   |›  T_EMPTY '(' variable ')'›   { zend_do_isset_or_isempty(ZEND_ISEMPTY, &amp;$$, &amp;$3 TSRMLS_CC); }\n1275\n1276 isset_variables:\n1277 ›   ›   isset_variable › ›   ›   { $$ = $1; }\n1280\n1281 isset_variable:\n1282 ›   ›   variable ›   ›   ›   ›   { zend_do_isset_or_isempty(ZEND_ISSET, &amp;$$, &amp;$1 TSRMLS_CC); }\n</pre></div>\n\n<p>最终都执行了 zend_do_isset_or_isempty ，继续查找：</p>\n<div class=\"highlight\"><pre>git grep -in \"zend_do_isset_or_isempty\"\nZend/zend_compile.c:6287:void zend_do_isset_or_isempty(int type, znode *result, znode *variable TSRMLS_DC) /* {:{:{ */\n</pre></div>\n\n<p>vi Zend/zend_compile.c +6287</p>\n<div class=\"highlight\"><pre>6287 void zend_do_isset_or_isempty(int type, znode *result, znode *variable TSRMLS_DC) /* {{{ */\n6288 {\n6289 ›   zend_op *last_op;\n6290\n6291 ›   zend_do_end_variable_parse(variable, BP_VAR_IS, 0 TSRMLS_CC);\n6292\n6293 ›   if (zend_is_function_or_method_call(variable)) {\n6294 ›   ›   if (type == ZEND_ISEMPTY) {\n6295 ›   ›   ›   /* empty(func()) can be transformed to !func() */\n6296 ›   ›   ›   zend_do_unary_op(ZEND_BOOL_NOT, result, variable TSRMLS_CC);\n6297 ›   ›   } else {\n6298 ›   ›   ›   zend_error_noreturn(E_COMPILE_ERROR, \"Cannot use isset() on the result of a function call (you can use \\\"null !== func()\\\" instead)\");\n6299 ›   ›   }\n6300\n6301 ›   ›   return;\n6302 ›   }\n6303\n6304 ›   if (variable-&gt;op_type == IS_CV) {\n6305 ›   ›   last_op = get_next_op(CG(active_op_array) TSRMLS_CC);\n6306 ›   ›   last_op-&gt;opcode = ZEND_ISSET_ISEMPTY_VAR;\n</pre></div>\n\n<p>最后一行 6306 ， ZEND_ISSET_ISEMPTY_VAR 这个 opcode 出来了， IS_CV 判断参数是否为变量。<br>\n注意 zend_is_function_or_method_call(variable)，当 isset(fun($a))，函数参数写法会报错， empty 在 5.5 版本开始支持函数参数，低版本不支持。</p>\n\n<p>opcode 是由 zend_execute 执行的，最终会对应处理函数的查找，这个是核心，请参阅：<br><br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://www.php-internals.com/book/?p=chapt02/02-03-03-from-opcode-to-handler\">http://www.php-internals.com/book/?p=chapt02/02-03-03-from-opcode-to-handler</a></p>\n\n<p>opcode 对应处理函数的命名规律：</p>\n<div class=\"highlight\"><pre>ZEND_[opcode]_SPEC_(变量类型 1)_(变量类型 2)_HANDLER\n</pre></div>\n\n<p>变量类型 1 和变量类型 2 是可选的，如果同时存在，那就是左值和右值，归纳有下几类： VAR TMP CV UNUSED CONST 这样可以根据相关的执行场景来判定。</p>\n\n<p>所以 ZEND_ISSET_ISEMPTY_VAR 对应的 handler 如下：</p>\n<div class=\"highlight\"><pre>Zend/zend_vm_execute.h:44233:   ZEND_ISSET_ISEMPTY_VAR_SPEC_CONST_CONST_HANDLER,\nZend/zend_vm_execute.h:44235:   ZEND_ISSET_ISEMPTY_VAR_SPEC_CONST_VAR_HANDLER,\nZend/zend_vm_execute.h:44236:   ZEND_ISSET_ISEMPTY_VAR_SPEC_CONST_UNUSED_HANDLER,\nZend/zend_vm_execute.h:44238:   ZEND_ISSET_ISEMPTY_VAR_SPEC_TMP_CONST_HANDLER,\nZend/zend_vm_execute.h:44240:   ZEND_ISSET_ISEMPTY_VAR_SPEC_TMP_VAR_HANDLER,\nZend/zend_vm_execute.h:44241:   ZEND_ISSET_ISEMPTY_VAR_SPEC_TMP_UNUSED_HANDLER,\nZend/zend_vm_execute.h:44243:   ZEND_ISSET_ISEMPTY_VAR_SPEC_VAR_CONST_HANDLER,\nZend/zend_vm_execute.h:44245:   ZEND_ISSET_ISEMPTY_VAR_SPEC_VAR_VAR_HANDLER,\nZend/zend_vm_execute.h:44246:   ZEND_ISSET_ISEMPTY_VAR_SPEC_VAR_UNUSED_HANDLER,\nZend/zend_vm_execute.h:44253:   ZEND_ISSET_ISEMPTY_VAR_SPEC_CV_CONST_HANDLER,\nZend/zend_vm_execute.h:44255:   ZEND_ISSET_ISEMPTY_VAR_SPEC_CV_VAR_HANDLER,\nZend/zend_vm_execute.h:44256:   ZEND_ISSET_ISEMPTY_VAR_SPEC_CV_UNUSED_HANDLER,\n</pre></div>\n\n<p>我们看下 ZEND_ISSET_ISEMPTY_VAR_SPEC_CV_VAR_HANDLER 这个处理函数：<br>\nvim Zend/zend_vm_execute.h +37946</p>\n<div class=\"highlight\"><pre>38013 ›   if (opline-&gt;extended_value &amp; ZEND_ISSET) {\n38014 ›   ›   if (isset &amp;&amp; Z_TYPE_PP(value) != IS_NULL) {\n38015 ›   ›   ›   ZVAL_BOOL(&amp;EX_T(opline-&gt;result.var).tmp_var, 1);\n38016 ›   ›   } else {\n38017 ›   ›   ›   ZVAL_BOOL(&amp;EX_T(opline-&gt;result.var).tmp_var, 0);\n38018 ›   ›   }\n38019 ›   } else /* if (opline-&gt;extended_value &amp; ZEND_ISEMPTY) */ {\n38020 ›   ›   if (!isset || !i_zend_is_true(*value)) {\n38021 ›   ›   ›   ZVAL_BOOL(&amp;EX_T(opline-&gt;result.var).tmp_var, 1);\n38022 ›   ›   } else {\n38023 ›   ›   ›   ZVAL_BOOL(&amp;EX_T(opline-&gt;result.var).tmp_var, 0);\n38024 ›   ›   }\n</pre></div>\n\n<p>上面的 if ... else 就是判断是 isset ，还是 empty ，然后做不同处理， Z_TYPE_PP, i_zend_is_true 不同判断。<br>\necho 等处理类似，自己按照流程具体去分析。关键是根据映射表找到对应的 handler 处理函数。</p>\n\n<p>了解这些处理流程后，相信会对 PHP 语句的性能分析更熟悉。</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "PHP 内核中是如何实现 empty, isset 这些函数的", "comment": []},
{"content": "", "reply": "4", "tittle": "php 运算符当作变量要怎么做", "comment": ["Basics ¶\r", "\r", "Variables in PHP are represented by a dollar sign followed by the name of the variable. The variable name is case-sensitive.\r", "\r", "Variable names follow the same rules as other labels in PHP. A valid variable name starts with a letter or underscore, followed by any number of letters, numbers, or underscores. As a regular expression, it would be expressed thus: '[a-zA-Z_\\x7f-\\xff][a-zA-Z0-9_\\x7f-\\xff]*'\r", "\r", "Note: For our purposes here, a letter is a-z, A-Z, and the bytes from 127 through 255 (0x7f-0xff).\r", "Note: $this is a special variable that can't be assigned.", "你是要 实现这样？\r", "```php\r", "$a = 1;\r", "$b = 1;\r", "$c = '-';\r", "echo $a.$c.$b;//1-1\r", "echo eval(\"return {$a}{$c}{$b};\");//0\r", "```\r", "但是 eval 函数在很多情况下会被禁用", "switch 吧", "自己动手撸个 parser"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>折腾了一个 WordPress 小插件，给每篇文章下面添加一个微信打赏功能，安装插件后，可在后台设置自己的微信收款二维码图片。</p>\n\n<h2>后台设置页面</h2>\n\n<p><img src=\"http://www.tantengvip.com/wp-content/uploads/2015/11/wechat-reward16.png\" alt=\"微信打赏 WordPress 插件后台设置\"></p>\n\n<h2>前台文章页</h2>\n\n<p><img src=\"http://www.tantengvip.com/wp-content/uploads/2015/11/qiantai.png\" alt=\"微信打赏 WordPress 插件后台设置\"></p>\n\n<p>感兴趣的童鞋可以下载试试玩玩哦！</p>\n\n<p>Github ： <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/wordpress-plugins-tanteng/wechat-reward\">https://github.com/wordpress-plugins-tanteng/wechat-reward</a></p>\n\n<p>插件 zip 安装包下载页面： <a target=\"_blank\" rel=\"nofollow\" href=\"http://www.tantengvip.com/2015/11/wechat-rewrd-wordpress-plugin/\">http://www.tantengvip.com/2015/11/wechat-rewrd-wordpress-plugin/</a></p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>插件已经提交到 WordPress 官方插件列表，在 WordPress 后台安装插件页面目前搜索“ wechat ”即可找到。</p>\n\n<p><img src=\"http://www.tantengvip.com/wp-content/uploads/2015/11/20151106104000.png\" alt=\"wordpress 官方插件列表\"></p>\n\n<p><img src=\"http://www.tantengvip.com/wp-content/uploads/2015/11/wp-plugin-wechat-reward.png\" alt=\"wordpress 官方插件列表\"></p>\n</div></div>"], "reply": "23", "tittle": "自己做了个 WordPress 小插件：微信打赏", "comment": ["现在这玩意是违法的么？好像不能像以前那样随便募捐了。请法律人士出来解读一下。", " 没这么夸张吧，很正常啊，特别是国外，一篇文章你觉得有用，你可以自愿捐赠，在国内也很多了", "效果演示： ", "收", "5 元测试通过，感谢分享。", " 这么给力！", "话说换成支付宝的二维码一样可以吧", " 支付宝如果也有这个收款的二维码，当然也是可以的，对了，我得改插件名字，多谢提醒！", "谢谢，可是我就是不收钱还没人看呢 555555", "演示来看好像上面的代码居然还在这打赏图片之上？", " 这个应该不是募捐的性质，募捐是指以慈善为目的募集捐款或捐物。禁止私人募捐，是防止用于慈善的捐款被转移或挪用，因为私人难以进行财务会计审核的。而这个微信打赏，属于商业赞助的性质。因为给钱的人知道自己的钱的用途不是慈善捐助，而是让网站维护者能够稳定长期提供信息服务。本人不是法律人士。", "是微信官方放出来的代码？", " 这跟微信无关，只是做个插件，用微信的收款二维码而已", "那个爪子还有里边的字体看着有点。。", " 什么爪子", " = =是荷叶吗？", " 什么爪子，什么荷叶，你在说什么", " 谢谢你的解答。", "不过 赞一个 能不能同时支持微信和支付宝呢", " 额，同时支持？一个二维码只能是支付宝或者微信，可以后台做个设置，开启支付宝还是微信的，除非你放两个图在下面", " 你好，问题已经修复改进，谢谢指出！\r", "\r", "版本历史：\r", "\r", "1.3\r", "\r", "    优化代码结构和性能\r", "\r", "1.2\r", "\r", "    修改 css ，保证打赏图标处于最上层，不被其他元素遮挡。（如代码高亮）\r", "\r", "1.1\r", "\r", "    修改数组定义方式，兼容低版本的 PHP\r", "\r", "1.0\r", "\r", "    文章页底部显示打赏图标，鼠标移上去显示设置的微信收款二维码\r", "    后台管理页面可以更换自己的微信收款二维码", "插件下载地址： ", "好极了！！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>能不能不用 session ，能不能不用 js</p>\n</div></div>"], "reply": "35", "tittle": "PHP 怎么优雅的在表单发生错误时重定向到原来页面并保留原表单的数据？", "comment": ["可以啊，提交过来的数据，填到页面里去", " \r", "提交页面： submit.php\r", "处理页面： save.php\r", "\r", "save 验证表单发生了错误，怎么再回去并保留数据", "最好还是用 session 吧，很多框架都提供了 flash data 功能。", " Ajax json POST", " 那是怎么 flash 呢？", "header('Cache-control: private, must-revalidate');", "如果只是单纯的页面跳转， js 的 history.go(-1)，就行了，其实就是返回上一页面，数据不会丢", "何必重定向，直接重新 render 。\r", "\r", "if valid\r", "  redirect \r", "esle\r", "  render \"edit\"", "<form method=post>\r", "<input name=a value=\"<?=$_POST['a']?:'';>\">", "提交数据不要刷新页面不就行了", " \r", "然后 location 回到之前的页面数据还在么？", "像 laravel 的 falsh data 使用 session ，他的 session 可以用 Redis 驱动，不知楼主觉得这样算不用 session 吗", "异步提交", " 其实个人对 session 有点厌恶。一般用户登录什么的都是存加密的 cookie 。最近又开始纠结到底用不用 session 了……- -#", "基本不用 Form ，都是手动 js 异步提交的", " 其实就是在你进行提交的时候， session 中可以保存一些数据，这些数据只会被取出一次，之后就会被删除。你看一下这个，应该对你有帮助， ", " 所以还是存到 session 中。每次请求都判断如果有就取出并删除如果没有就不做操作。就像 ci 的 userdata", " \r", "接\r", "然后如果有需要就自动填充到表单里。", " +1", "渲染表单所在的模板  把传进来的参数再填回去就行了\r", "\r", "或者 ajax 发生错误的时候不跳转", "提交的时候把东西写进 localstorage （逃）", "可以将当前页面的地址一起 post 过去", "为什么不用 ajax 异步提交，不跳转页面数据都还在~", "1. 一般框架都有自动填充数据的办法 就是有辅助的重新渲染一次模板\r", "2. ajax 包治百病\r", "3. history.back 可保留除了 input type=password 所有表单数据", "其实还是要仔细分析一下你为啥对 SESSION 厌恶。我记得很早以前（大概 03 年）看过一本书，其中有一章专门讲述了用 mysql 重新实现一个 SESSION handler ，所以 SESSION 不过是一个 KV 的存储系统， K 来自于 cookie ， V 来自服务器。和你在项目中使用了 mysql 没有啥本质的区别。\r", "\r", "分析一下你的厌恶感来源，对症下药，不一定准确。\r", "1. 如果你厌恶的是 SESSION 存储目录的那一大堆乱七八糟的文件，完全可以采用 memcached 或者 Redis 来做 session 存储。\r", "2. 如果你厌恶 ci_session 这么招摇的名字，可以在 php.ini 里换个名字\r", "3. 如果你本身也讨厌 cookie ，呃，当我没说。这个世界上基本上涉及到帐号的系统都会用到 cookie\r", "4. 接上条，不存 cookie 也有一个办法，把 session id 放在 query string 里，比如 example.com/?ci_session=xxxxxxx\r", "\r", "说的有点长了。基于问题本身，楼上提到了很多，无外乎\r", "1. ajax 请求，后台判断错误了不提交。\r", "2.在错误页面直接 render 表单，换句话说在 save.php 里面实现和 submit.php 里完全相同的表单，这样出现错误以后，所有的数据都是在$_POST 里现成的，就不用存 SESSION 了。 codeigniter 的 Validator 实现的是类似的方案，表单和存储都在同一个表页完成，不使用 POST-Redirect 方案。\r", "\r", "根因分析：\r", "要实现数据不丢失，基本的一条是页面跳转以后把值传到其它页面；\r", "解决方法 1 ，对应上面的 1 ，不跳转，这样就不需要传值；\r", "解决方法 2 ，对应上面的 2 ，$_POST 传值跳转。\r", "\r", "所以应该还有其它解决方案，包括但不限以下：\r", "在 save.php 里面，用$_POST 再把数据提交到 submit.php\r", "通过数据库把值从 save.php 传入到 submit.php", "session flash data.", "js ajax 是最优雅的\r", "js 返回上一页是最简单的\r", "\r", "只用纯 php 不用 session 和 js 是可以实现的，只要你不嫌麻烦\r", "简单说就是判断有错误后输入原先的表单页面，同时把 POST 来的数据一个个放入表单，这是 3 个方式里最复杂的。跟优雅一点关系都没有。除非是为了兼容客户端不支持 /不开启 JS ，否则……或许只有它适合你了", "大哥，你用 ajax 要屎啊？", "如果不用 ajax 的话有个方法 lz 可以试一下\r", "可以提交到本页里的一个隐藏的 iframe 去\r", "<form action=\"toSubmit.php\" target=\"hiddenIframe\">\r", "iframe ：\r", "<iframe id=\"hiddenIframe\" name=\"hiddenIframe\" width=\"0\" height=\"0\" frameborder=\"0\" style=\"display:none\"></iframe>\r", "\r", "这样本页的表单数据都会保留了就\r", "需要注意的是如果结果要返回字符串的 js 交互的话 控制原先表单页面需要加 parent", "前端体验的问题，就应该用 js 来实现", " 这是几年前经常在韩国网站见到的\"无刷新提交\"方式.", "你都写 php ； 还在乎优雅", "我以前觉得我想做个优雅的人 来到我现在的公司就是我才不管那 我没想这 get 提交就不错了（小公司的痛）", "用类处理，每个表单对应一个类，提交的数据自动储存到类，表单验证也由类处理，失败直接踢回给 edit 页面，你提交的数据都在里面了。", "那就把之前填写的信息继续输出到对应表单，找个地方显示提示信息！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>1.人工提交重装系统任务，自动安装操作系统包括 windows 和 Linux ，重装系统完成后发送 IP 地址用户名密码给提交任务人邮件，自动添加好分配的公网 IP 地址。<br>\n2.流量查看，统计一台服务器的流量。对接防火墙查看 IP 是否被封，获取攻击流量图。<br>\n3.IPMI 管理，包括电源管理，重启，关机。<br>\n4.查看硬件,IP 等信息。（对接 ROS API ）<br>\n5.预留接口给财务系统，关停管理账号。<br>\n开发语言： PHP<br>\n数据库： mysql</p>\n</div></div>"], "reply": "36", "tittle": "IDC 自动运维管理平台开发", "comment": ["1 分钟搞定", "salmon5 求开发哈哈", " 求开发哈哈", "用力读了三遍没看懂这帖子要干嘛。", " 找人开发或者外包", "idcsystem", " 那个只是财务管理系统啊", "1. 写清楚你的目的\r", "2. 时间要求\r", "3. 报酬\r", "4. 你的联系方式\r", "\r", "而且这类东西已经有很多现成的了不如考虑去买一套商业软件。", "   帖子好像不能重新编辑了吧，暂时国内没有这种的。国外的有授权不便宜", "可以 append\r", "大多数授权比你找人写一个便宜，而且还带长期的技术支持和更新", "没钱没技术就别想着要定制了", "国内做这种的确实比较少，能做到的 IDC 也就那么几家", "Da 面板", "各种开心版面板", "这种东西其实不好做", "Virtualizor", "这套东西并不简单，存在很多非标因素\r", "服务器硬件，操作系统，网络设备，各种厂商品牌的。\r", "不要看阿里云的后台那么方便，那是全部基础设施软件硬件标准化后的，\r", "IDC 想做这套，难，不光是开发者的问题。", "VPS 还是独立服务器, 独立服务器的话, 装系统还得做 PXE, 估计单 PHP 可能麻烦, 或许需要多需要, VPS 这些就都很简单", "难道楼主认为找人重新开发一套，开发和维护已经稳定程度会比商业套件好？奇怪的逻辑", "  用 JAVA 实现这些功能后期维护会很麻烦嘛", " 我们的硬件设备都是标配", "  应用在服务器上面的", "  国内没有这种商业软件，国外的授权贵，而且不适合国人使用", " PXE 重装没接触过，其他好像都是比较简单的功能，估计重装才是重点吧，很少见到自动重装的服务器运维平台", "全自动的自动维护重装服务器平台\r", "在全球公开运营使用的也就那么几家\r", "需要完全定制化的\r", "整个机房从电源 机架位置编号顺序  配套路由 /网关 /防御等各种网络硬件设备\r", "国内没看见用的\r", "价格吗\r", "千万美元级别", "   机房服务器太多，人工装系统 太耗时了。", "  没有那么夸张的，我有一个朋友就开发出来了，只是简单的一些功能。 也不控制机柜这些大型的设备", " 用 IDCSystem ，再用一套这种不是很费劲，怎么不试试 rDataCenter", "  他那个玩意儿完全没人用吧，收费也不合理。功能不齐全", " 你可以去试试看，貌似除了重装，其他都符合你要求", "重装机器是物理还是虚拟机？", "  物理服务器啊", "这个不难啊，用 cobbler", " 还有一些其他功能  可能用 PXE-Linux 会好点", "加个微信聊聊吧", "  15363036329"]},
{"content": "", "reply": "44", "tittle": "phpstorm 10 发布了，不过好贵啊", "comment": ["这么快就发布 10 了啊，感觉 9 才出没多久呢。。。", "改成订阅的付费模式了。。。。", "挺好的 支持 PHP7 了\r", "现在不都是搞订阅制了吗 订阅期内都能用 何必在乎版本号", "电脑上 4 个 jetbrains 家的 ide 今天统一收了了新版提示。。。", "已买 IDEA ， 12 年买过的 12 ，两年没续费，仍然可以使用 40% off 的 special offer", "IDEA 刚刚过期，等 10 发工资就续费。两年才 89 ，简直是送啊！！！", "等待新的 All Products Pack License 。。。", "还在上学有 education license", "公司不买自己在公司用，也算盗版呢，学生还是学用免费的工具吧", " 我记得 Jetbrains 允许用个人授权在公司里面使用啊，只不过只能你自己使用而已。", " 是这样的。只是公司作为实体本身，不能买 Personal 给自己的雇员用。", "记得别用迅雷下载 ", " 2 年 89 刀吗？怎么我记得是第三年续费才 89 刀？之前没有买过的没有优惠的情况下", " 尚在有效期和过期一年之内的有优惠  ", " 不在有效期的话也可以享受第一年六折的", "因为周围就我一个用正版的，有个问题想求教下，\r", "以前的 1 年授权和新的订阅有什么区别吗？\r", "还有我现在买了 1 年的授权，是不是现在买 53 美元的就可以增加 2 年授权了？\r", "最后就是赠送的 perpetual fallback license 有什么用？\r", "谢谢大家，有谁 phpstorm 用的多的也可以加我 QQ 一起讨论下，十分感谢。\r", "QQ ： 377515982", "  \r", "\r", "现在新的订阅模式,使用直接登录...\r", "\r", "perpetual fallback license  这个是离线激活码了...给没有网络的时候使用..", " \r", "\r", "老的模式：在你订阅失效的那天的版本，是你能永久使用的版本（但不再更新）。\r", "\r", "新的模式：在你订阅失效的那天，往前推一年那个时间点的版本是你能永久使用的版本（ perpetual fallback license ），需要持续订阅最少一年才有。\r", "\r", "新模式当你不再续费后可能你会需要版本回退才能永久使用\r", "\r", "至于没有过期继续增加订阅，我想应该是追加授权时间的", "求团购 webstorm", " \r", " \r", "十分感谢，反正只要继续做 php ，我会一直买下去的，支持下正版，等会去续费下，现在有什么翻墙软件吗？我官网登陆好卡。", "实在是没钱也不想用盗版的话,可以用他们家的 EAP 版本(测试版,会过期,但不用激活),我现在用的就是这个版本,已经是 10 了.", "这个 phpstorm ，如果我主机是 win ，代码是虚拟机在 linux 上，该如何用 phpstorm ？用哪种模式？\r", "真心请教！之前试过，好像各种模式都不好。", "好吧，那我还是专心整我的 sublime 吧", " 如果有这条规定就最好了。。。。公司目前就我一个 PHP 。。。", " File|New Project from Existing Files|Web Server is on remote host,files are accessible via FTP/SFTP/FTPS", " 官方就这么写的啊，只要是你自己买的，就可以在公司里面用，当然只能你自己用了", " = =话说那个 53 刀跟 89 刀有什么区别", "新用户第一年 89 刀，之后续订的话第 2 年减 20%，第三年再减 20%就是 53 刀，而老用户订阅第一年就是减 40%，而且第 2 年免费，就是说花 1 年钱，用 2 年。按年订的话，订阅了就给你 fallback license ，无需等到 1 年后。用账户登录，最多 30 天就要重新激活一次。", " vagrant 可以帮到您~~", " 谢谢", "咦，现在是捆绑 jdk 8.0 了吗？怎么找不到 jdk 版本选择的地方了", "用 edu 邮箱可以申请教育授权占小便宜", " \r", "》 File|New Project from Existing Files|Web Server is on remote host,files are accessible via FTP/SFTP/FTPS\r", "这样的话，我试了，好像代码，从 remote server 复制了一份到本地？\r", "然后，本地的修改，不会反馈到 remote server ？要如何操作能同步到 remote server ？", " Tools|Deployment|Options 。 Upload changed files automatically to the defaultserver,这里可以设置每次保存的时候自动同步过去。", "学校的 EDU 邮箱,毕业后还可以继续用 ,好开心", " 学习了，谢谢！先用用试试看。。。", "学校的辣鸡邮箱大部分境外邮件都收不到", "注册时选择“ License server ”输入“ ", " OK ”...........", "刚好去年 11 月 1 日买的 WS ，今年 11 月 2 号就实行订阅哈，果断拿下六折一年送一年庆祝一下。", "还好吧。。。可以接受，最近几天在试用，感觉比其他用过的 IDE 更懂我的需求", "PHPStorm 依然有效 /或者有效期不超过一年的，可以＄ 53 续 2 年！ 果断入了啊！", "引用官网：\r", "“针对老客户的特殊优惠活动，请注意以下条件要求：\r", "\r", "此优惠折扣必需在 2017 年 1 月 1 日前兑换。\r", "此优惠仅适用于现有授权转换至新订阅模式，新采购的使用授权将适用标准价格”\r", "\r", "需要的抓紧了啊~", "这么快就有 10 了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最好是 MVC 结构的。易于二次开发。<br>\n跪求中。。 php 版本太低那种就不需要了。<br>\n可以有偿！！！</p>\n</div></div>"], "reply": "10", "tittle": "跪求能用的 php 的图片投票系统", "comment": ["什么叫图片投票系统？", "哦哦，可能我说不明白，就是比如说，最美校花投票选举那样。。给人上传图片，，然后游客投票。酱紫。防止刷票的当然要适当有。（ ip 限制一波）。最重要是，现在能立刻用！！！！", "扎克伯格有", "需求一点都不清楚。", "需求：用户可以上传图片，游客（用户）投票，后台查看是否有违规图片，防止刷票。", "多少钱？ 我手上有。", " 企鹅号 13 。 676 。。。 1914 去掉点点点。。。", "自己写一个呗 就是防刷票麻烦点 上传图片 点击加一还能不会？", "我在上一个公司写过一个，支持 discuz 论坛发帖，然后自动在投票页生成投票项，带图片。防刷什么的都有。\r", "\r", "但是当时觉得这个太简单了，没留下代码。所以还是自己写吧", "百度贴吧(逃"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有没有 PHP 的学习兴趣小组？</p>\n\n<p>QQ 或者 telegramm 或者其他在线的都可以。。。</p>\n\n<p>感觉一个人学习学到有点瓶颈。也不指导如何提高。</p>\n\n<p>前段时间看了几遍《 php 和 mysql web 开发》</p>\n\n<p>最近在看 CI 。不懂都是自己 google 。也喜欢找一群志同道合的人一起学。～一起监督。</p>\n\n<p>当然如果有项目，也期待可以进去一起看一起研究。</p>\n\n<p>邮箱： gkfoxer#gmail.com</p>\n</div></div>"], "reply": "10", "tittle": "有没有 PHP 的学习兴趣小组？求推荐", "comment": ["这两天在看 ptyhon", "不如直接把问题贴出来。企鹅群从来不是聊正事的。", "有兴趣可以一起呀", "来我的群里交流学习吧，@480657322 目前有二三十个做 web 的童鞋", " 联系方式。。。\r", " 以加", "关闭所有社交 /IM 工具，学习效率提高 200%...", "我也是，正在用 ci 开发一个网站", " \r", "都加到 @", " 那里吗？", " 好想法 23333", " 已经加了"]},
{"content": ["<div class=\"topic_content\">写 web 后端大概一年了，感觉写的东西都是建套后台管理，做好权限控制，做好 API ，然后交给前端美化。。。\r<br>是我的姿势有问题吗？。。还是说大概的 web 组成就是这样的。。。。</div>"], "reply": "56", "tittle": "怎么感觉 web 后端写来写去都是个 xxxx 管理系统。。。。", "comment": ["本来计算机的任务就是管理数据啊", "更准确的说法是把一个 phpmyadmin 精简成几个页面 ~~", "那么，你还想怎么样呢？", "就看你业务量的大小了\r", "如果，是一个两亿人同时在线的 WEB 系统，你就知道有多少东西要去考虑了。", "小网站就是这样，大了才有各种可能性，我以前也是这样想的。。。", "还是用户少。。", "淘宝也不过是一个商品管理系统", "用用 rails_admin ，一键生成后端 curd ，界面还不错", "我也这么觉得 就是 xx 信息管理系统  \r", "不过公司小 前端除了页面剩下的活也干 干来干去来来回回就那套东西", " 嗯。。。应该是这样，感觉人少的话很多东西都不用考虑。。。", "哈哈，不外乎 crud", "计算机程序都是数据交换，除此之外别无其他啊", "你还是入的不够彻底，\r", "应该说，写来写去，居然都是 增删改查数据库（缓存等等），好无聊，", "国人特别是码农意识形态上的僵化。。思想上的闭塞。。悲哀啊\r", "\r", "很久之前看过一个鬼佬用 polymer 写的卡拉 ok 网页版\r", "\r", "写业务代码就是这样喽。", "那是因为访问、存储、计算都没有上规模", "对呀 v2 也是一个信息发布管理系统", " 对，写来写去始终是 crud", "两亿人同时在线是什么鬼…", " 两亿人算啥，你看《地球 Online 》", "在用各种 API 、 RPC 后，后端都不能算了，变成了 UI 而已。", "+1", "我到最后才看到本主题所处节点", " 社会主义国家都这样", "但是一个数据库就够你学很多年", "博客\r", "许愿墙\r", "论坛\r", "网店\r", "题库\r", "视频聊天\r", "\r", "这么多类型的应用呢", "基本上都是内容管理系统 简称 CMS", "大多数网站都是 CMS", "是时候换个公司了。。", "+1", "我是写安卓的，之前一直觉得，写安卓就是写 xml ，然后 java 从网络获取数据，再给 xml 里面的空间绑数据。\r", "这两天写 node.js ，第一次做 web 后台，非常有感慨。以前一直把安卓想的非常 low ，后端多么高大上，结果真正写的时候才发现，都一样的。我们的挫败感，其实是在于我们一直在别人搭建的框架里做事情，无论是 Android 还是 Express ，都是框架，用框架非常快速，但是很容易然程序员感觉到重复，机械，没有创造力。\r", "然而，真正从一个工程师到大师的过程，就在于有没有勇气去跳出框架，思考改进，优化，乃至创造新的框架。\r", "综上，我的建议是，先博览别的技术栈，再去寻找自己的技术热情在哪里。", "   从 J2EE 转做 Android 开发深有体会。    并且 J2EE 一直就是做的企业解决方案。", " 现在已经到了会写 nodejs 就敢说自己是服务器开发的时代了么", " 一两亿用户的就是个 大型 xxxx 管理系统 了 2333", "似乎自己写框架还是挺复杂的一件事情，需要从最底层开始考虑……", "惭愧，这几年一直跳不出这个坑. :(", "我做数据库的， UI 都不用了，直接就是纯粹的 CRUD ……", "1. 你写得最好的网站能承受多少用户同时访问？\r", "2. 为了保证你的网站有较高的可用性，应该采取哪些措施？\r", "3. 现在需要做一个新系统，给你准确的需求，你能比较准确地根据公司的技术实力估算出上线时间吗？\r", "4. 如果上面的新系统需要调用已有系统的数据，让你设计一套接口，从不同角度讲讲你会怎么设计。\r", "5...", "怎么感觉人生就是为了 xxoo 呢？", " 很有道理 , 我是写 java 后台的 ,写着写着发现都是在用一些框架 , 很多底层的知识根本就不清楚 . 于是最近又开始去打基础了 .不要跑这么快,慢下来,编程没有捷径.", "自己可以试着做做有挑战性的东西 比如写个类似 nginx 的东西 学学底层网络 Linux 内核  用 c#写写我的世界", " 还要吃饭，，", "仔细看了下节点。嗯。", "做的内容大致相同，做得好坏才体现个人技术能力。大牛写的后台和大学生写的就有天壤之别", " 正解", "额。。。这个节点有什么问题吗。。。", "数据库的搬运工", "看了楼上很多评论，发现大家对 Web 的定义的理解并不一样。\r", "主要原因在于业务量和业务复杂度还不够，这两者到了某个水平，你就会不得不发现更奇妙的世界了。", " 恩。。。。对不起。。。拉后腿了。。。", "可扩展性，稳定性，效率， sql 优化，用户量上来代码是否还可以支撑业务呢，多的去了", " 握个爪", " 只看到很多人很机智的喷，却没有给这个成长阶段的人给予正确的建议。\r", "成长路上谁 TM 还没遇到过瓶颈啊！\r", "楼主能提出这个问题总比提不出问题强吧？纵观软件思想发展史，从打孔机到磁带，到各种语言的出现，各种编程思想和算法研究的发展。我觉得都是人们发现了自己的低效率才寻找更好的解决方案。\r", "让世界变得更美好的不是嘲讽。\r", "我为这个善意的回答点赞！", "不同的人，同一段代码，韵味不同。\r", "终将越学越无知，致永远的程序员！", "能赚钱就行", "  嗯。最近在看服务端的开发，一边做 web 一边看其他方向吧:)", "说一大堆还是在 crud ，考虑这，考虑大， 100 亿在线还是 crud"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>创始人在纽约顶级投行工作， 业余时间玩移动互联。</p>\n\n<p>listenwallstree.com 旨在给国内外财经读者提供一份精致用心的新媒体财经读物。除了网站， App 马上也要发布。</p>\n\n<p>创业初期，一起皆有可能，希望志同道合的小伙伴加盟！</p>\n\n<p>Ray<br>\nqq: 1182339569</p>\n</div></div>"], "reply": "5", "tittle": "倾听华尔街（ ", "comment": ["java.lang.ClassNotFoundException", "都志同道合了，还只要让人家兼职一下么", "华尔街见闻做的不错，创始人之前在 21 世纪财经祝纽约记者站，现在好像已经回上海了。其他类似媒体目前没听说", "网址都能写错", "Python 收不收，工资好商量"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>官网新闻 <a target=\"_blank\" rel=\"nofollow\" href=\"http://news.php.net/php.internals/89100\">http://news.php.net/php.internals/89100</a></p>\n\n<p>根据新闻在 RTM 版本发布前至少还会有一个 RC 版本</p>\n\n<p>最新的时间表上今天 (11/12) 会发布 PHP 7.0.0 RC7<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"https://wiki.php.net/todo/php70#timetable\">https://wiki.php.net/todo/php70#timetable</a></p>\n</div></div>"], "reply": "4", "tittle": "今天不会有 PHP 7.0.0 RTM 发布了，日期被推迟了", "comment": ["看鸟哥微博说本来是定好今天的，后来 RM 睡了一觉后变卦了。估计正式版要到 12 月底去了。", "RC7 已经发布了。\r", "发布时间是需要造势的，没有一定的关注点，还是再酝酿一下好", " 看鸟哥微博说是发现了一个 Drupal 上的 bug ， PM 觉得再推迟点发布比较好"]},
{"content": ["<div class=\"topic_content\">年初写了一个用来练手的 PHP 项目，比较丑，链接就不贴了。应用部署在 SAE 上，今天偶然发现日志里出现了一些奇奇怪怪的东西：\r<br><img src=\"http://ww1.sinaimg.cn/large/a04a339dgw1exxefrge3lj21400p0qba.jpg\" class=\"imgly\" style=\"max-width: 660px;\" border=\"0\"> \r<br>\r<br>为什么他们不相信代码是纯手写的呢！</div>"], "reply": "38", "tittle": "为什么有人总是那么无聊？", "comment": ["有种程序叫爬虫。", "你这算什么啊，我用 golang 写了个网站，一堆爬各种 php 页面的记录", "都这样，我上次分享了个页面，有个小视频是直接放在七牛上的，第二天七牛的客服就 QQ 找我说昨天我的流量用了 40G ；我一看这个视频链接被发去各种乱七八糟的地方，最后我把视频改到 vimeo 上了，再贴到那个小站上，爱咋样咋样，反正破了流量就自动停掉了", "光撒网", "广撒网", " 为什么他们不相信代码是纯手写的呢\r", "没看明白这一句，通过这图片能看出来他们不相信代码是纯手写？", "很正常，我的还有隧道和代理的扫描，各种 CONNECT 、 GET 外部地址的 log", "扫描机干的", " 这 log 明显是在猜管理页地址，也就说认为这个页面是使用现有 CMS 搭建出来的", " 爬虫不应该老老实实抓内容..？\r", " 他们什么站都爬啊...\r", " 客服主动联系，这么好？我也碰到过，得自己联系他们。所以以后所有 bucket 都用私有+防盗链。\r", " 我觉得现成的 PHP 脚本 /程序可能会被他们命中。\r", " 完全不理解他们在干什么...\r", " 扫我这个，然并卵啊。", "黑阔来了，在扫描呢", " 随即扫描", "这种是扫描机到处扫的结果，不是针对你的。", "我的博客每天各种 Web SQL 攻击什么的。。。还有各种 .php 请求，然而我是 Python + MongoDB ……", "有人对着我伪装成 IIS 的 nginx 扫了 2 万多条 asp 漏洞我会说？", " 看 log 不烦么 我就搞了个 fail2ban", " fail2ban 做在 nginx access log 上？你不怕把正常人干了？", " 那么多 404 门槛设置高点，惩罚低一点 ban 个 30 秒就够他受了", " 其实不是 404 。最后撞在一个 catch all 的 php 脚本上的。\r", "嘛硬吃一下也无所谓啦并不是什么大问题，才 2 万多请求。", "当然没人那么无聊了，都是机器人自动扫描的", " 日志刷屏还是挺烦人的", "是的我以前有个工作就是这个，一天在浏览器上输几万个链接来扫描楼主等人的漏洞", "没看出来有什么奇怪的，谁能点拨下么……", " 你天天看日志？偶尔上去看看删了就行了", " access log 不看 auth 之类倒是会看看", " \r", "你这防护措施也太渣了……\r", "我的 webserver 基本上请求过来尾巴结尾是.jsp 和.asp 和.aspx 的和.do 的，直接触发 iptables drop 该 IP 所有包\r", "所有试图请求我服务器 22 端口的直接 iptables drop IP 所有包\r", "日志清静多了……", " 反正也懒得看日志，防护不防护区别不大，攻不进来就可以了嘛。", "其实从另一方面说他这样做也侧面提高你的技术水平啊", "这就是挑软柿子捏。\r", "黑客拿工具扫一段 IP ，开 80 的，就再继续扫常见漏洞。", " 感觉并没有做什么。", " 请指点怎么设置，谢谢。", "这明显是一些小黑阔在扫描，可以看日志记录访问的几个 360.php 测试你的站是否有装 360 的 sql 防注入等等，发现没有，然后就扫一般的 cms 程序的漏洞，包括注入等等，从 mytag_js 和 fckeditor 就知道这是想找漏洞。\r", "然而并没有什么乱用，楼主是手写的程序。", "然而 appid 已暴露，放不放链接也没什么区别了吧（跑", " 只是表明\"并非安利\"罢了。", " \r", "你的性能压榨一般吧，不在乎那点性能……\r", "我的很多服务器都是小钱办大事的，性能有限啊", " 反正站长表示现在的花销能接受。\r", "而且高峰时刻明显预留了很多余量，否则万一来一波用户就挂了那就难堪了。", "这是一些固定的探测工具，我几个 ECS 每天有几百个这样的探测请求。", " 对正常访问有影响吗？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>当时编译搭建 LNMP 时没有注意到这个“--enable-maintainer-zts ”参数，<br>\n现在手里有一个 cms ，朋友说要禁用 Thread Safety 才行，如果要禁用是不是<br>\n只有重新编译 PHP 这一条路？？？有没有别的方法？？？希望大神们帮忙指点<br>\n一下，谢谢！</p>\n</div></div>"], "reply": "3", "tittle": "PHP5.6 如何禁用线程安全(How to disabled the Thread Safety with PHP 5.6)", "comment": ["为什么要自己编译？\r", "为什么要自己编译？\r", "为什么要自己编译？\r", "\r", "rebuild 官方包最多 10 分钟，加上查资料不超过半小时，为什么不走规范的流程，如果是 rebuild 官方包的话，改个参数再 rebuild 一下 5 分钟就够了。", " 额，不知道有您说的这个 rebuild 包，我下载一个试试，谢谢", " rebuild 是一个流程。使用用官方源的源码包，按照官方源的打包流程，重新生成二进制包。这个过程中，当然可以修改编译参数。这样做可以保证最大限度的兼容，因为除了改的参数以外，其他得都和官方包一样。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>待遇好，发展前景好，还在等什么？发简历到我的邮箱 <a target=\"_blank\" rel=\"nofollow\" href=\"mailto:wangxin@zybang.com\">wangxin@zybang.com</a> ，标明在 V2EX 上看到的哈~</p>\n</div></div>"], "reply": "3", "tittle": "招聘！百度作业帮招聘 PHP，前端， android， ios， windows， C++等等各种岗位！", "comment": ["mark", "Windows 桌面？ UWP ？", "百度不是停止社招了咩？社照要经过 Robin 的同意（捂脸。。"]},
{"content": ["<div class=\"topic_content\">接地气一点的 ，太高大上的， 现在还看不懂 ，根本也用不到...</div>"], "reply": "目前尚无回", "tittle": "求推荐 PHP 博客", "comment": []},
{"content": ["<div class=\"topic_content\">帮人弄一套 web ，现在后端和数据都没问题，就是想问大家有那种已经集成好的 UI 界面吗，需求可能主要是展示一涨表格而已，然后点击表格数据能看到详细信息啥的。</div>"], "reply": "目前尚无回", "tittle": "有没有已经集成 UI 界面", "comment": []},
{"content": ["<div class=\"topic_content\"><p>出处: <a target=\"_blank\" rel=\"nofollow\" href=\"http://php.net/manual/zh/pdo.installation.php\">http://php.net/manual/zh/pdo.installation.php</a></p>\n\n<blockquote>\n<p>当以共享扩展（不推荐）构建 PDO 时，所有 PDO 驱动 必须 在 PDO 自身 之后 加载。 </p>\n</blockquote>\n\n<p>英文原文: shared extension</p>\n\n<p>因为仓库中 PHP 版本比较旧, 我第一次尝试编译 PHP. 因为想要尝试 PostgreSQL, 所以额外注意关于 PDO 的这条提示.</p>\n</div>"], "reply": "目前尚无回", "tittle": "什么叫 \"共享扩展\" 构建?", "comment": []},
{"content": "", "reply": "10", "tittle": "php 有没有类似 python 的 sentry 日志收集系统？上线后关闭了 debug，你们一般是怎么查看日志的？", "comment": ["sentry 本来就支持 php 上报啊，有 client", "另外查看日志直接看日志文件就可以了，跟 debug 没关系。", "用 monolog 管理日志输出，用各种工具搜集日志", " 比如呢？什么工具？", " 我是说线上关闭 debug 之后，比如说找不到控制器，显示出错地方和详细信息这些就不会出现， thinkphp 会把出错信息会自动放到日志里面吗？以前 django 的时候 404 500 错误的时候就给管理员发邮件了，现在这个 thinkphp 这功能都没有", " 设置一下 error handler ，打出来调用栈就可以了", "sentry 挺好用的，就是收费太高。独立开发者用不起啊", "Open-Falcon 这个是小米开源的一个监控系统，在公司已经部署到服务器上。你可以试着部署一下，感觉非常好用。官网是： ", "  github: ", "  自己打一个免费，都用了好几年了", " \r", " sentry 不错，但是从来没在 php 上用过，不知道行不行。\r", "Open-Falcon 是 go 开发的，团队 对 go 不是很熟悉，以后维护成本高些。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>做好各项目准备要上线了，但是没有相关经验，总担心上线后系统会不稳定</p>\n</div></div>"], "reply": "35", "tittle": "网站上线后，怎样才能防止被黑，程序层面的。", "comment": ["管理好你的权限，，把被黑后可能造成的损失降到最低。\r", "软件层面的不是你说了算的，因为你不参与编写。", "多逛 v2", "先发出来让大家测试一下", " 一般要做哪些测试？", " 程序是自己写的，但是没有正式做过上线的项目所以整个流程不太清楚", "花钱可以找一些安全团队做模拟攻击实验，不过对于未知漏洞就没什么效果了", "攻击难度大于获取的价值", "没经验就积累经验，该交的学费得交，都这样过来的", "console.log(\"哥,是我,别黑!\");", "要想不黑..先学自黑...", "花点钱找人维护吧，第一呢，做安全的也需要吃饭，第二呢，你在专业，都不如专门做的专业，第三，时间有限，把有限的时间放倒你自己要做的事情上面去，无关的别管。", "如果是你自己编写的话，小心 SQL 注入（网址或表单），写文件上传组件的时候多参考一下别人的防范方法或者直接用成熟的库。另外就是展示用户填写的信息的时候，需要注意防范 XSS 。最后就是服务器漏洞了和安全设置了。\r", "\r", "没有重点与非重点，全是需要注意的", "多备份，权限能不给就不给，打死都不要用 root 跑服务\r", "能用官方包的不要自己编译", "可以用 owasp zap 扫描看看", "如果你没有通用型漏洞，那么基本不会给机器扫描到。\r", "其他的就需要看看你的项目有没有价值了。", "勤备份", "跑在 docker 里面会好一些", "下线", "一个看量，一个看钱。量大了肯定会有人来黑，有利可图（活动奖品）多半也会有人来薅羊毛。\r", "\r", "如果你就做个个人简历之类的多半没人搭理。", "楼主需要兼职解决这种问题的运维么……", "先自己找个扫描器 扫下吧；然后花点钱 找网上专门做测试的网站 测试下吧", "未知攻焉知防", "乌云众测  ", "有空帮你友情测试一下?", "地址发来，免费帮你测试一下。", "上线之后会有免费劳动力帮你测试的。你只需要做好 log ，及时跟进。", "走 CDN 避免暴露真实地址\r", "确实，别忘记 cdn", "走 cnd 找真实地址也不难", "      用它吧", "1 、免费的安全 CDN ，例如百度云加速\r", "2 、开源的源代代码安全扫描工具，代码白盒检查\r", "3 、 PHP 的一些安全模块，例如 Taint", " 别瞎说。", "刚上线的业务，哪个没事会想着黑你，楼猪多虑了。", "找专业的团队帮你测下", "没有可能，主要在于你值不值得"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>朋友给了一个项目，我部署到我的服务器以后，打开首页显示的是以下内容，我的 PHP 版本是 5.6 ，是不是只有重新编译 php 5.3 或 5.4 安装 zend 这个服务才能解决这个问题，望解答，谢谢</p>\n\n<p>Zend Guard Run-time support missing!</p>\n\n<p>One more more files on this web site were encoded by ZendGuard and the required run-time support is not installed orproperly configured.</p>\n\n<p>For the Web site user</p>\n\n<p>This means that this Web server is not configured correctly to runthe files that it contains. Please contact the Web site'sadministrator/webmaster and inform them of this problem and give themthe URL you are trying to display to help them in diagnosing theproblem.</p>\n\n<p>For The Site Administrator/Web Master</p>\n\n<p>One or more files on your site were encoded with Zend Guard. Thismay be third party libraries that were provided to you by an ISV. Toallow these files to properly run you need to download and installone of the Zend guard run-time libraries. This is either ZendOptimizer or Zend Loader. The proper files can be downloaded fromhttp://<a target=\"_blank\" rel=\"nofollow\" href=\"http://www.zend.com/guard/downloads.This\">www.zend.com/guard/downloads.This</a> software is provided free of charge.</p>\n\n<p>General Disclaimer: Zend Technologies is not responsible tothe configuration and setup of web sites using Zend Guard technology.Please contact your software vendor if these components were providedby an ISV or consult your Zend Guard Users Guide if these files wereencoded by your organization.</p>\n</div></div>"], "reply": "7", "tittle": "Zend Guard Run-time support missing!---这个问题应该如何解决", "comment": ["首先你要确认这个项目使用的 PHP 版本,然后安装并且开启 Zend Guard Loader.\r", "不同的 PHP 版本使用的 Zend Guard Loader 的文件不一样.", " 好像 php 5.6 无法安装这个东西", " \r", "不会啊,你去 Zend 官网,能找到 Zend Guard Loader for PHP5.6 的,Windows 和 Linux 都有的.\r", " 这是 Linux 的;\r", " 这是 Windows 的;", " 我按着您说的，把 ZendGuardLoader 编译安装了，然后就出现了这个问题：\r", ":(\r", "Incompatible file format: The encoded file has format major ID 5, whereas the Loader expects 7 /home/www/PigCms/Lib/ORG/Susceptible.class.php 第 0 行.\r", "错误位置\r", "FILE: /home/www/Lib/Core/Think.class.php 　 LINE: 246\r", "TRACE\r", "[15-11-16 10:47:11] /home/www/Lib/Core/Think.class.php (246) halt(Incompatible file format: The encoded file has format major ID 5, whereas the Loader expects 7 /home/www/PigCms/Lib/ORG/Susceptible.class.php 第 0 行.)\r", "[15-11-16 10:47:11] /home/www/Lib/Core/Think.class.php (261) Think::appError(1, Incompatible file format: The encoded file has format major ID 5, whereas the Loader expects 7, /home/www/PigCms/Lib/ORG/Susceptible.class.php, 0)\r", "[15-11-16 10:47:11] () Think::fatalError()\r", "ThinkPHP3.1 { Fast & Simple OOP PHP Framework } -- [ WE CAN DO IT JUST THINK ]\r", "\r", "Plus ：\r", "我用的是 thinkphp", " \r", "我的天。。。\r", "程序是 PigCMS 吗？\r", "我是 PigCMS 的员工。。。\r", "你的报错应该是 PHP 版本不正确。\r", "PigCMS 官方给的版本对环境是如下要求：\r", "PHP5.4.x with Zend Guard Loader\r", "Apache 2.2+ 或者 IIS 7.5 ，不使用 Nginx 反向代理的情况下可以支持 Nginx", " 也就是说现在还不支持 PHP 5.6 是吗", " \r", "是的\r", "使用 PHP5.4.x 就 OK 了."]},
{"content": ["<div class=\"topic_content\">公司有好多分 word 文档, 现在要抓取里面一些固定的信息, 然后格式化放入数据库里面.\r<br>这种需求怎么做比较好啊?\r<br>目前想到的办法就是 word-&gt;xml-&gt;匹配-&gt;保存</div>"], "reply": "4", "tittle": "把 word 里面的信息 按照一定格式抓出来存到数据库里面去 有什么好的办法吗?", "comment": ["存成 HTML ？", "NPOI", "可以试下 python-docx", " 存成 json 数据"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>程序开发到收尾阶段，由于原团队解散，现寻求外包。<br>\n需要几个功能上的开发与修改，还有套美工（已写好前端）。<br>\n具体项目内容私聊，费用预算 20K ，高于预算可详谈。<br>\n麻化腾： 5 二二叁 94</p>\n</div></div>"], "reply": "10", "tittle": "外包项目寻精通 Laravel 开发的个人、团队。", "comment": ["本来还想说前端还要人不？结果发现已写好前端，好吧，这年头好的拍黄片还是比较缺啊", " 戳中笑点···", "好吧，不算精通，算是比较熟悉 laravel ，自己是个前端狗，照着原有项目逻辑修改与增加功能应该 ok ，如果项目时间不紧，可以练练手。", "我自己也在写 laravel 基本算熟悉 不知道具体功能和要求什么 个人一直主攻主 PHP 所以应该还行 \r", "\r", "“照着原有项目逻辑修改与增加功能应该 ok ，如果项目时间不紧，可以练练手”\r", "\r", "\r", " 如果楼主同意有兴趣搭伙一起搞么？", " 已经加你 QQ...", " 在啊~方便私聊么？", "laravel 使用中，很苦逼", "之前的项目用过 laravel 框架，个人感觉比其他框架要好很多，例如 codeigniter, smarty", "原来在找我啊", "结束了吗？有意中...\r", "\r", "另外咨询一下，必须使用 laravel 吗？ symfony 不行？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>解决了 Zend Guard Run-time support missing 的问题后，刷新页面，出现了<br>\nIncompatible file format: The encoded file has format major ID 5, whereas the Loader expects 7 /home/www/PigCms/Lib/ORG/Susceptible.class.php 第 0 行.<br>\n错误位置<br>\nFILE: /home/www/Lib/Core/Think.class.php 　 LINE: 246<br>\nTRACE<br>\n[15-11-16 11:43:11] /home/www/Lib/Core/Think.class.php (246) halt(Incompatible file format: The encoded file has format major ID 5, whereas the Loader expects 7 /home/www/PigCms/Lib/ORG/Susceptible.class.php 第 0 行.)<br>\n[15-11-16 11:43:11] /home/www/Lib/Core/Think.class.php (261) Think::appError(1, Incompatible file format: The encoded file has format major ID 5, whereas the Loader expects 7, /home/www/PigCms/Lib/ORG/Susceptible.class.php, 0)<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"\">15-11-16 11:43:11</a> Think::fatalError()<br>\n，这个问题应该怎么解决，我的 PHP 版本是 5.6 ，安装的 ZendGuardLoader 的版本也是 64 位支持 php5.6 的</p>\n</div></div>"], "reply": "4", "tittle": "Incompatible file format: The encoded file has format major ID 5, whereas the Loader expects 7", "comment": ["加解密的版本不兼容，要么用 zendguard7 重新加密一遍，要么换低版本的 loader(这个估计需要 php 降级)", " 那我怎么查看当前加密的版本？", "major ID 就是了\r", "\r", "之前碰到过一次,我的加密版本更低,因为是买的,对方也提供不了高版本的加密,最后不得以把 PHP 降到 5.2 才搞定\r", "\r", "你这个 ID5 的我查了一下估计是要降到 5.4\r", " 嗯，好的，谢谢"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>要找一款 php 代码。逻辑清晰的。变量能找到的，或者一开始就初始声明的。代码简洁有可读性。注释清晰。可实用强。适合上手。  求一程序代码~</p>\n</div></div>"], "reply": "12", "tittle": "有点编程基础， php 浏览过最新的国外教材，最近想着用什么程序上手？", "comment": ["留言板啊... N 年前我用这货上手的... asp php 到成为切图仔后的 nodejs ，和即将要融入 p2ex 的 python...", "php 上手容易，多拿几个大项目实践下把", " 我 x ，这个东西好。  我都忘了，当年各种储存 xss ， 还有の研究", "1. 学习一个空框架的基本使用，如 Laravel 、 Symfony 、 ZendFramework 等；\r", "2. 学习一个固定领域的框架\r", "博客： WordPress\r", "论坛： Discuz!\r", "CMS ： Drupal 、 ezPublish\r", "eCommerce ： Magento 、 Prestashop", " 赞一个", " dz 的代码简直是丑的不行 使用各种废弃的特性 各种没有参数化查询 会把新手带歪的", " 我研究了一下 wordpress ， 各种自定义 function 找不到 主程序。变量 到处调用，看的天旋地转", " \r", "当时入职的时候主管也叫我做个留言板看看。", " 那就看 typecho 简洁多了\r", "\r", "typecho 项目组也有个框架 也可以顺便看看", " 不是所有的框架都完美，也不是所有的代码都漂亮\r", "学习别人的解决方案，自己做各种修改，建立自己的架构理念才是最重要的。\r", "\r", " 建议你用 IDE ，有静态代码分析，你会知道各种定义在哪。另外懂得查文档或 Google 都是必须熟练的技能。", " 我用的 netbean ，但是他并没有显示所有的变量什么的。 对，可以参加文档。", "我在折腾自己的一个多用户博客程序，用的 CI"]},
{"content": ["<div class=\"topic_content\">我发现单纯的用模拟微信内置 UA 根本不行，百度查了一下 \"微信 Oauth2.0 授权\"， 可我对这个又不太了解，我想知道具体实现能在别的浏览器访问网址。\r<br>\r<br>访问网址被跳转到了这个 URL\r<br>\r<br><a target=\"_blank\" href=\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx88d9db11edf31ac9&amp;redirect_uri=http://wxf.wostore.cn/index.php?s=/Weixin/Index/oauth2.html&amp;response_type=code&amp;scope=snsapi_base&amp;state=9&amp;connect_redirect=1#wechat_redirect\" rel=\"nofollow\">https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx88d9db11edf31ac9&amp;redirect_uri=http://wxf.wostore.cn/index.php?s=/Weixin/Index/oauth2.html&amp;response_type=code&amp;scope=snsapi_base&amp;state=9&amp;connect_redirect=1#wechat_redirect</a>\r<br>\r<br>\r<br>懂微信开发的大神，求解啊！\r<br>\r<br>给个具体方案啊。</div>"], "reply": "20", "tittle": "PHP 打开只能在微信才能打开的网页？ 懂微信开发的进。", "comment": ["哎～～看来是不行了。", "模拟当然不行，当微信浏览器访问的时候，还会结合浏览器本地提供用户信息的，许多网站拿这个代替登录的，要是能随便绕过那就没意义了", "用 pc 版微信也可以打开", " 哎。。。  我没弄过微信开发 不知道其中的原理。", " 还是算了。", "模拟你的微信账号的 OAuth 2 登录", "别的页面也是不行的，微信会判断你用的浏览器。", "微信的 oauth ，抓包改 cookies 可破。或者直接用 QQ 浏览器。", "是因为微信内置的浏览器提供了一些私有 api ，貌似叫 jssdk ，想抓的话可以自己来实现这些私有 api 接口，只要能通过验证就行。", "用 charles 抓~", "User-agent", " 有的页面可以，就是 URL 带了类似 SID 的识别码。   其他页面 比如登录 签到 都要验证。", " 我用的手机抓。\r", " 这样不好吧。。。  \r", " 不会。\r", " 问题就是搞不明白原理了，不过貌似挺有难度的。", " 你不是要 PC 上看这个页面的内容么。我之前写过一篇文章讲这个。。你可以参考下\r", "这些页面就是要获取微信用户信息的", " 直接拿现成 cookie 就算了 这不是我要实现的目标，不过文章写得不错，虽然我觉得有点水了。", "发起这个 url 请求后，还包括了一个微信用户授权的过程，记得 snsapi_base 模式是静默授权，返回的 code 能用于获取用户的 openid 与 assess_token 。所以你这样无法实现，至少要模拟成微信登录用户吧……", " 卧槽，这岂不是很难？", "用 QQ 浏览器吧，支持调试微信", "直接 php 模拟 web 微信登陆即可"]},
{"content": ["<div class=\"topic_content\">responese http code 无法自定义，设置了 404 ，都是返回 200 ，请问怎么哪个配置出了问题？\r<br>环境：\r<br>windows10 nginx/1.8.0 PHP/5.6.13\r<br>\r<br><img src=\"http://ww4.sinaimg.cn/large/677f82a7gw1ey574m88nvj209p03ht8n.jpg\" class=\"imgly\" style=\"max-width: 660px;\" border=\"0\"> \r<br><img src=\"http://ww4.sinaimg.cn/large/677f82a7gw1ey574qp8h8j20di01aglg.jpg\" class=\"imgly\" style=\"max-width: 660px;\" border=\"0\"> </div>"], "reply": "4", "tittle": "php 为何无法自定义 http code？ 404 返回 200。", "comment": ["void header ( string $string [, bool $replace = true [, int $http_response_code ]] )\r", "\r", "有问题 看手册", ".........怎么吐槽呢........\r", "\r", "status code..不是在 http header 上的...", "codeigniter 的做法\r", "\r", "\tfunction set_status_header($code = 200, $text = '')\r", "\t{\r", "\t\tif (is_cli())\r", "\t\t{\r", "\t\t\treturn;\r", "\t\t}\r", "\r", "\t\tif (empty($code) OR ! is_numeric($code))\r", "\t\t{\r", "\t\t\tshow_error('Status codes must be numeric', 500);\r", "\t\t}\r", "\r", "\t\tif (empty($text))\r", "\t\t{\r", "\t\t\tis_int($code) OR $code = (int) $code;\r", "\t\t\t$stati = array(\r", "\t\t\t\t100\t=> 'Continue',\r", "\t\t\t\t101\t=> 'Switching Protocols',\r", "\r", "\t\t\t\t200\t=> 'OK',\r", "\t\t\t\t201\t=> 'Created',\r", "\t\t\t\t202\t=> 'Accepted',\r", "\t\t\t\t203\t=> 'Non-Authoritative Information',\r", "\t\t\t\t204\t=> 'No Content',\r", "\t\t\t\t205\t=> 'Reset Content',\r", "\t\t\t\t206\t=> 'Partial Content',\r", "\r", "\t\t\t\t300\t=> 'Multiple Choices',\r", "\t\t\t\t301\t=> 'Moved Permanently',\r", "\t\t\t\t302\t=> 'Found',\r", "\t\t\t\t303\t=> 'See Other',\r", "\t\t\t\t304\t=> 'Not Modified',\r", "\t\t\t\t305\t=> 'Use Proxy',\r", "\t\t\t\t307\t=> 'Temporary Redirect',\r", "\r", "\t\t\t\t400\t=> 'Bad Request',\r", "\t\t\t\t401\t=> 'Unauthorized',\r", "\t\t\t\t402\t=> 'Payment Required',\r", "\t\t\t\t403\t=> 'Forbidden',\r", "\t\t\t\t404\t=> 'Not Found',\r", "\t\t\t\t405\t=> 'Method Not Allowed',\r", "\t\t\t\t406\t=> 'Not Acceptable',\r", "\t\t\t\t407\t=> 'Proxy Authentication Required',\r", "\t\t\t\t408\t=> 'Request Timeout',\r", "\t\t\t\t409\t=> 'Conflict',\r", "\t\t\t\t410\t=> 'Gone',\r", "\t\t\t\t411\t=> 'Length Required',\r", "\t\t\t\t412\t=> 'Precondition Failed',\r", "\t\t\t\t413\t=> 'Request Entity Too Large',\r", "\t\t\t\t414\t=> 'Request-URI Too Long',\r", "\t\t\t\t415\t=> 'Unsupported Media Type',\r", "\t\t\t\t416\t=> 'Requested Range Not Satisfiable',\r", "\t\t\t\t417\t=> 'Expectation Failed',\r", "\t\t\t\t422\t=> 'Unprocessable Entity',\r", "\r", "\t\t\t\t500\t=> 'Internal Server Error',\r", "\t\t\t\t501\t=> 'Not Implemented',\r", "\t\t\t\t502\t=> 'Bad Gateway',\r", "\t\t\t\t503\t=> 'Service Unavailable',\r", "\t\t\t\t504\t=> 'Gateway Timeout',\r", "\t\t\t\t505\t=> 'HTTP Version Not Supported'\r", "\t\t\t);\r", "\r", "\t\t\tif (isset($stati[$code]))\r", "\t\t\t{\r", "\t\t\t\t$text = $stati[$code];\r", "\t\t\t}\r", "\t\t\telse\r", "\t\t\t{\r", "\t\t\t\tshow_error('No status text available. Please check your status code number or supply your own message text.', 500);\r", "\t\t\t}\r", "\t\t}\r", "\r", "\t\tif (strpos(PHP_SAPI, 'cgi') === 0)\r", "\t\t{\r", "\t\t\theader('Status: '.$code.' '.$text, TRUE);\r", "\t\t}\r", "\t\telse\r", "\t\t{\r", "\t\t\t$server_protocol = isset($_SERVER['SERVER_PROTOCOL']) ? $_SERVER['SERVER_PROTOCOL'] : 'HTTP/1.1';\r", "\t\t\theader($server_protocol.' '.$code.' '.$text, TRUE, $code);\r", "\t\t}\r", "\t}", " \r", " \r", " \r", "\r", "谢谢！我错了！结贴！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>效果如图</p>\n\n<p><img src=\"http://101ban-101ban.stor.sinaapp.com/uploads/2015/11/answer-access.png\" alt=\"验证回答是否正确展示内容，如何做比较安全\" title=\"验证回答是否正确展示内容，如何做比较安全\"></p>\n\n<p>有这样一个表单，需求就是回答问题正确才能查看内容，在一定时间如 1 天内再次访问不用回答问题，不用登录会员系统。请教各位一般通常可行的办法是什么？</p>\n\n<p>目前的做法是：回答正确了，写一个 cookie 值为 1 ，下次来判断这个 cookie 值是否为 1 ，否则需要重新回答问题，这样做明显不安全，伪造一个 cookie 访问不就可以查看到受保护的内容了。</p>\n\n<p>想过生成一个 token ，存到 cookie ，比如 md5(一个值+salt)，但是存什么呢，要下次回答问题正确的用户来了可以校验不用再回答问题，根据什么规则存呢？</p>\n\n<p>小站，没有 redis ，不考虑 redis 方案。</p>\n</div></div>", "<div class=\"topic_content\">页面每次刷新问题会随机抽取</div>"], "reply": "30", "tittle": "验证回答是否正确展示内容，如何做比较安全？", "comment": ["这样是否可行？\r", "回答问题正确，存一个 cookie ，值是 md5(今天日期+salt)，下次访问校验的时候，计算 md5(今天日期+salt)是否和存的 cookie 相同，就可以了。但是这样做，只能不用再次回答问题的有效时间是隔天就失效。\r", "\r", "大家有更好的办法吗？", "Cookie 不安全, 用 Session 不就好了.", "这类用 Cookie 和 Session 都不合适。直接按 IP 来存数据库", " ip 不可靠，同一个局域网这么多人，其中一个人回答问题正确，其他人都可以访问了", " 需求是回答问题正确，下次再次访问不需要再验证，通过 session 怎么判断，肯定要存 cookie", "同意一楼的做法", "随机生成一个值写入 cookie 里面,然后存放到数据库里面.如果没有数据库.就生成一个临时的文件.文件名就是这个值,通过文件的创建时间进行判断.", "jwt.io", "setcookie 时可以设置时长的", "不怕被爆破吗？", "一楼可行\r", "另外不存 1 ，存一个固定值也不是不可以，比如说答案", "11 楼+1 ，\r", "存用户输入的答案，每次请求进行答案校验，正确则跳。", "不就是 Session 么……这个和登录状态不是类似的一回事么", "1 高安全性版本， cookies 存储一个 key 服务器存储一个对应的 key 两者独一无二的匹配对应允许\r", "\r", "2 你这个需求的精简版，直接把用户回答的历史答案放到 cookies 载入页面取 cookies ，如果不对就继续显示认证", "jwt +1\r", "可通过参数设置一天过期", "服务器通过 salt 生成一个密钥，然后密钥加密过期时间保存到客户 cookies 。\r", "每次读客户端提交的 cookies 解密得到过期时间。", "如果有服务端 Session ，直接在 Session 保存过期时间。", " \r", " \r", "问题是随机的，每次刷新页面问题不一样", "这不就是一种另类的登录方案吗？\r", "用 session 啊  或者类似 session 的有超时时间的服务器端缓存啊。\r", "cookie 存 sessionid ， session 就是个以 sessionid 为 key 的键值对啊，值对象里存是否通过验证字段。\r", "超时清楚该 session", "其实用 cookie ，安全性没办法控制吧，就算存的加密的 cookie ，我把 cookie 给别人，别人不可以模拟请求了", "如果要保证安全，那每次进页面都要输入问题答案", " \r", "别想太多了， cookie 在谁手里谁就是主人，最多超时时间设短点让人家答题频繁点。\r", "再想做下去，感觉你要付出的成本会高很多，而提升的效果未必理想。", "答题正确就把数据放 local storage 里（逃", "这个需求和用于判断登录的 session 有何区别？", "setcookie(xxxhash(用户答案+\"日期 20150101\"));\r", "\r", "if(xxxCookie === xxxhash(用户答案+\"日期 20150101\")){\r", "balabalabala}", "数据库里一个表，两个字段：随机字符串，对应班级。生成时间。回答正确一次生成一行，并将随机字符串存到本地。每次访问时重新生成字符串。可以保证就算 cookie 被分享也立刻失效。比 cookie 值等于 1 好的地方在于不能直接被伪造。\r", "当然用户怎么都可以分享 cookie ，但在那之前，他可以分享问题的答案啊。\r", "是我的话直接用 session ，在有用户抱怨麻烦的时候再改吧。", " 这个确实是一个新的思路啊", " 可是我看到这么一句话：浏览器使用 Cookie 进行身份验证已经好多年，既然现在 localStorage 存储空间那么大，是否可以把身份验证的数据直接移植过来呢？目前来看，把身份验证数据使用 localStorage 进行存储还不太成熟。\r", "\r", "安全性是个问题。", " 把验证之后能看到的内容放进去", "生成一个 token ，存到 cookie 。\r", "再次访问的时候根据 cookie 的 token 查询是否过期，过期取消 cookie 。\r", "成功访问后重新生成新 token 并替换原 token 。\r", "\r", "最大的安全漏洞在人，所以强制过期是要有的。存答案的就算了吧……\r", "我现在使用的是 session ，验证通过即存当前时间到 session ，服务端判断是否过期， PHP+redis 管理 session"]},
{"content": "", "reply": "7", "tittle": "论 php 实现电台系统所需要的知道的事？我是来求助的。", "comment": ["电台定义是什么？ 给个例子", " douban.fm   目前的基本需求是能实现录播。", "那你见过 douban.fm 有过直播么？没直播的话就是简单的一个播放器+MP3 啊", "关键在于电台播放文件的来源，有现成提供的文件或者流媒体？没有的话，先解决这个问题，这个问题与 PHP 无关吧。", "我司就是做这个的。 ORZ 。。。\r", " 是对的，这才是应该需要关注的东西。。", "podcast 那种还是整天有节目那种？\r", "\r", "podlove publisher ", "\r", "Airtime ", " 管理 协作／计划的\r", "PVLive ", "全国每个城市架设 FM 转流媒体的设备，蜻蜓目前貌似是这样做的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Drupal 8 会在 11 月 19 日发布正式版 <a target=\"_blank\" rel=\"nofollow\" href=\"https://www.drupal.org/drupal-8.0\">https://www.drupal.org/drupal-8.0</a></p>\n\n<p>发布庆典相关 Twitter <a target=\"_blank\" rel=\"nofollow\" href=\"https://twitter.com/hashtag/Celebr8D8\">#Celebr8D8</a><br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://celebratedrupal8.com/\">http://celebratedrupal8.com/</a></p>\n</div></div>"], "reply": "2", "tittle": "#Celebr8D8 Drupal 8 is coming", "comment": ["drupal 的模板机制太蛋疼了，难以忍受", "还是 Rails 爽"]},
{"content": ["<div class=\"topic_content\">开始是 gd 库的问题，不支持 freetype 搞了好久， brew 也不行，就直接装了个 mamp..然后还是不行，查看 gd 库，各种支持，就是不行，有没有遇到过的，或者大神知道解决方法</div>"], "reply": "16", "tittle": "Mac PHP 验证码不显示", "comment": ["phpbrew 保平安", " brew 装不上-_-||，可能是本机的 php 没卸载", "Lumen, Laravel", " 额，发错贴了……", "加个虚拟机作为 PHP 开发环境解决所有烦恼。", " 呃，实在不行了才用，不然 Mac 和 win 有啥区别", "自带的 PHP 环境已经可以了啊，不能显示先找到问题所在再解决，不要盲目，看看 error_log 吧", " \r", "\r", "不是说用__homebrew__安装__php__，是有个编译 php ，支持多 PHP 版本共存的项目叫 phpbrew\r", "\r", "\r", "\r", "大概这样玩的，感受一下\r", "```\r", "phpbrew install 5.5.30 +default +fpm +tokenizer +opcache +pgsql +gmp +iconv\r", "phpbrew switch php-5.5.30\r", "phpbrew ext install gd\r", "phpbrew ext install xdebug\r", "phpbrew ext config xdebug\r", "phpbrew fpm start\r", "```", " 好的，谢谢\r", "报错？\r", "\r", "不然就是文件编码头部有输出", " 不保存，之前提示 imagegettext 不能用，就装了 mamp 支持 freetype 后，就什么都不提示了", "是不是 php 代码目录权限的问题", "homebrew 安装完整的 php5x 支持，安装 php5x 的时候记得 with-apache", "装 linux.....\r", "\r", "用 mac 搞 web 开发真够蛋疼的。", "有个 app 叫 nginxstack ，包含 nginx+php+mysql+sqlite+phpmyadmin", " \r", " \r", " \r", " \r", "谢谢各位了，装了 mamp 之后所有都支持了，之后跑了一遍清 bom 头的脚本，就好了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>装 xdebug 模块后，配合 PhpStorm 进行调试很方便，但是我手机访问网站（通过 fiddler 访问内网），如何配合 PhpStorm 打断点调试呢？始终无法触发断点 。求教！</p>\n</div></div>"], "reply": "1", "tittle": "关于 PhpStorm 和 Xdebug 调试", "comment": ["怎么这么多 php 的 topic"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>基本功能就是文章、分类、标签的增删改。适合 laravel 新手看看。</p>\n\n<p>Github:<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/mangoim/laravel51\">https://github.com/mangoim/laravel51</a></p>\n</div></div>"], "reply": "16", "tittle": "写了个基于 Laravel5.1 简单博客", "comment": ["最近正准备学学 laravel 哈哈 mark 下", "adminlte!", "为何不用 migration 呢？", " 因为嫌麻烦~", "为什么你不使用 Repository", " 小博客 Eloquent 足够。", "mark 学习！", "不错，速度好快。", "搭个车， Java 的： ", "楼主的认证是怎么做（登陆，权限控制 blabla ）\r", "用的是 laravel 的认证吗", " 权限没做，后面会加上。", " 最近在看这方面。。。感觉原生的不能满足需求，自己写又好麻烦。", "by the way.\r", "楼主，既然你在用 laravel 的话，还是建议你用 migration 来创建模式，别用这种数据库备份的方法。", " 好吧，我懒。 migration 比较麻烦。。", " by the way ", " 推荐这个做权限管理。", " 好的，我去看看，多谢了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>模仿微信公众号后台投票管理功能。<br>\n可以动态添加多个问题，每个问题下面默认有两个选项，也可动态添加多个。已经通过 JS 实现动态添加功能，但在 PHP 中无法获取到问题选项的值，单个选项的 html 如下</p>\n\n<p>&lt;input type=\"text\" class=\"fyinput\" name=\"options[][]\" /&gt;&lt;span class=\"red\"&gt;*&lt;/span&gt;<br>\n&lt;input type=\"file\" name=\"pic[][]\" class=\"file\"  size=\"28\" /&gt;<br>\n因为每个问题下面都有选项，如果 name=\"options[]\" 这样就无法获知那个选项属于哪个问题。</p>\n\n<p>请问如何正确设置 input 元素的 name 属性。</p>\n</div></div>"], "reply": "14", "tittle": "PHP 动态输入框获取输入值", "comment": ["加个序号呗", " 如果不加序号，是不是没有办法获取呢？", " 考虑到加序号也不好处理，因为问题和选项既可以动态添加，也可以删除，而删除后剩下元素的序号也成了问题", "你这个提交是什么样的提交阿 ajax 还是直接提交阿  我感觉你可以 js 加新的选项的时候在后面 i++一样加序列号 这样不就对上了", " 删除了剩下元素的序号重新排序一下呗。", " 直接提交。刚开始也是打算 js 加序号上去，由于页面上 html 元素以及一些元素类比较多，觉得不方便添加，试图用数组命名的方式来实现，却发现用不了二维的数组。", "<div class=\"q_and_a\">\r", "<input value=\"question\">\r", "<div class=\"answer_list\">\r", "<input value=\"answer\">\r", "<input value=\"answer\">\r", "</div>\r", "</div>\r", "这种结构，用 jquery 选择器选择 q_and_a 类的子 input 值，存入数组 questionArr ；遍历选择 q_and_a 类下的 answer_list 所有 input 值，存入 questionArr 对应的问题下", " 还有图片上传呢", " 图片上传用单独接口啊，用这个接口拿到 path 或者 id 再走主流程，不然失败几率会很高", "我的项目也遇到类似的问题，我就是加序号的，至于删除后剩下元素的序号这个在 php 端处理一下就行了", "谢谢大家，我试着添加序号看能否顺利解决", "显然应该在服务器端建立好每个问题的 input 的唯一键值。", "感觉复杂的表单就应该前端把对象 JSON.stringify()一下，然后 ajax 传过去再 json_decode()，一堆$_POST ，实在不好理清", "谢谢大家的帮助。通过增加一个隐藏字段来存储问题数组，新增和删除问题时都去修改该字段值，如 1,2,3\r", "\r", "问题内的选项就直接通过 options_1[] options_2[] 这样存储就 ok 了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>昨天在一个 php 群里遇到了一个神。。。</p>\n\n<p><img src=\"https://dn-laravist.qbox.me/quan.jpg\" alt=\"\"></p>\n</div></div>"], "reply": "86", "tittle": "记一次在 php 群里的神聊天，乐一乐", "comment": ["23333333333333", "666", "哈哈，站长出现了", "已经下载完的路过（逃", " 额", " 唔哈哈哈~如果没有出错貌似是校友~", "站长出现了\r", "\r", "\r", "我还以为是阿铭呢", "有点儿 2", "拉我入群 233333", " 你到底下没下载啊，我也求", " 我都有", " 不得不说下 你的视频价格有点小贵啊", " 看个人吧， vip 觉得挺划算的了", " \r", "中国人没付费习惯\r", "还不如靠开源了视频和程序搞大你的粉丝群、社区、博客，方便以后跳槽和接私单。", "  但是有贪小便宜的习惯... 你搞个 1 块钱可以下载 5 个 G 的视频看看。", "666666 我无耻的笑了。有些站点好像有限制什么的，没发共享的。", "这样的用户完全可以不用。。。无所谓，如果他付费了，他会认为他是大爷", "phpstorm 怎么弄成纯黑的……", "什么，难道你们 phpstorm 不是默认纯黑的吗", "500 一年 66666 生财有道", " 额，我没有那么远大的理想。我并没有免费去做这件事的打算，花费我全部的精力，又要每个月交服务器的费用，存储的费用。", " 基本上够交完水电费", "我买了别的这个视频 400 全套。。", " 嗯，挺好的", " 视频资料真的有用？目前我就是看文档，然后遇到问题就搜索或者问人", "你下载了吗？", "付费了的来冒个泡..", "laracasts 是一个月 9 刀，看了几个月了，觉得挺好", "好 low", "楼主费心费力录了视频被人盗，上 v2 吐个槽居然还被冷嘲热讽…", " ", " 哈哈哈哈心疼站长。", "看着别人讨论 hack 自己的付费套餐的经历也是挺好的 233333", " 真心感谢支持", " 当时哭笑不得", " 这图。。。", "你不应该说话啊，好好听听他们还有什么手段，顺手全封了 ", " ", " 年少无知的我", " 其实我上次发现可以下载的时候就想到这个问题了，么有和你说。但是继续放任的话，估计过不了多久就有克隆的整站出来了......所以想想办法吧。", "这就是用户，想办法把他们变成产品吧。", " 嗯，其实我的想法是这样的，如果有人也在做一样的事来促进 laravel 在国内的发展，其实我还是很高兴的，如果他克隆整站，内容出得比我好，我倒是很乐意。而且关于下载，我觉得用户都付费了，自然就应该有下载视频的权限，我只能选择相信这些付费的用户，相信他们不在私下到处散播视频而已。\r", "\r", "以上", " 嗯，这就是用户", "这真的是很无奈的事，中国内地用户普遍都这样，甚至绝大多数高校的机房软件大都是盗版。老师上课也不会避讳，甚至有的教学生怎么盗版。\r", "诸如帖子里提到的这种行为，其实很多人都不觉得有错，这是一种无知的“无耻”。\r", "也正是因为这类原因，往往类似的付费课程等不得不提高价格、想法设法以对抗泛滥的盗版来维持运营，很多个人、小型工作室或小微企业，大都运营不下去了。\r", "这是一种难以改变的社会现实，说到底还是价值观的问题。\r", "\r", "不知从什么时候起，“投机取巧”的思想早已深入人心。\r", "\r", "在我想来：\r", "与其说是“取巧”心理，不如说是一种“自轻”乃至“自贱”，没有此类的羞耻感。\r", "一个典型案例就是：舆论强迫运营商流量不清零，本来就是营销策略，商家怎么定是商家的事，你愿不愿意是你的事。\r", "但是在中国，这一切又不同，因为大量的垄断性行业的存在，使得很多时候舆论是向单方向倾倒——对抗商家（起始于对抗垄断性企业）。\r", "这些垄断性企业可能不能为意，大不了让五毛洗地，本身也没有受到什么影响，只要“上面”不发话（垄断性企业往往利益牵涉非常复杂，这也使此变得基本不可能；上面提到的运营商改变策略，应该不是舆论战胜强权的例子，只是某 BB 做政治思想工作的需要）。而且相关法律缺失，大量“匪”商勾结。这些原因使得用户（或消费者）的权益得到侵害，他们在大部分时间大都处于弱势地位，这也就导致了上文提到的“舆论是向单方向倾倒——对抗商家”的问题。\r", "或许在有的方面这些问题表现的并不明显，但是消费者（或用户），潜意识中都有对抗商家、能占便宜就占、反正也不会怎么样这样的理念。如上述，这来源于“弱势群体”的对抗心理（有些类似于“农民起义”？）。\r", "这也是我为什么说他们“自轻”的原因——他们潜意识中将自己当作了被压迫的对象（因为在“这里”，这是个事实），他们享受不到（或缺少）自己应有的作为公民的很多权利。\r", "虽然他们并不总是“弱势群体”，但这种理念已经深入人心，且他们很多时候（在面对这个社会时）都处于弱势，所以即使当别人（或商家等）没有把他们当作弱势群体时，也总是不自觉将自身代入为“被压迫的对象”，因而就有了类似于本贴这样的事情，这也就是因为为什么版权那一套在中国行不通的原因之一。\r", "\r", "这个锅，该 Dang 背。\r", "\r", "--------\r", "\r", "这些并不说明我对投机取巧、对抗商家的问题的认同与否，这可能取决是具体情况？ 谁知道呢！因为 “这里”就是个奇葩的地方。\r", "\r", "你问我“ Dang ”是谁？不清楚，可能是一个叫“当”的德国邪教吧，我也不确定，因为这里是个奇葩的地方！\r", "你问我“这里”是哪里？不知道，因为这里是个奇葩的地方！", "哎，放平心态， laravel 推广开了应该能够对整个 php 社区带来一些提升。\r", "总之，别忘了在视频里推广下自己~~", "没人该背这个锅，这个心态很常见，做好自己吧\r", "\r", "就像沪江日语还有好多卖资源、或者年费共享的，我只想说，知识获取容易，自己掌握难。", "视频流量费真心贵，收费无可厚非， lz 想分享的话他就去视频网站发了", " \r", " 现在基本是看开一点了吧。", " 视频流量确实很贵，最大头的支出", "laravel 文档非常精彩，看视频多没劲啊", " 太长没看完，看的时候我只想着 V 字仇杀队面具和开源精神。不过查询“开源”发现我理解错了：开源不代表免费，而是提供任何人有条件地获取源途径。\r", "\r", "多年盗版情形让市场呈现一种平衡：盗版与正版的关系很像商品二手与正版的关系，盗版经过几手包装，好似二(多)手货，正版源未经过度包装。“免费的是最贵的”。\r", "\r", "存在即是合理。无须谴责盗版，它生活中随处可见，它用其它代价来降低或者替换原始条件，它也避免了“垄断”，传承现在和过去，驱动着人们前进。\r", "道德上，我们知道“盗版”是错的，这并不影响我们享受开源和盗版带来的文明繁荣。人们总是希望看到自己想看到的，这是很多人争论不休却改变不了世界的原因之一。", "如果真掏钱买了 可能冲着那几百块钱 也会下定决定好好学 估计就成了。", "看过楼主的视频，很不错，支持楼主，视频对学习 laravel 的人绝对有帮助，不要在意有些人的冷嘲热讽。", "500 块一年，真心不贵啊！大家都是做这行的，要知道劳动的价值呀", " 哈哈哈，真成了就好了。。", " 感谢感谢", " 哈哈哈，少年这觉悟", "这个跟卖电子书一样的，只能相信读者不去共享。", " 500 块一年完全不算贵啊，这可是教人谋生，现在 200 多页的书都 50 一本了， PS4 正版游戏都 300 了。 500 都不愿意出，又有哪家公司愿意出 5k 招聘这些人？", " 嗯。差不多，已经觉悟，好好录视频吧", " 嗯，像你这么想得人不算很多。。", "资呲楼主！", " 你说资磁不资磁，我说，感谢资磁", "精神支持一下 lz", "刚去楼主的站上注册并看了一下，大多数是免费的呀！\r", "\r", "而且看了一会儿 Laravel basic 基础教程，感觉画质清晰、视频流畅，讲解得也很好。\r", "\r", "我觉得看视频学习到不少编程经验，顺便帮助楼主闷声发大财，是很好的嘛。", " 感谢感谢", " 然而并没有闷声发什么大财，昨晚交完所有的费用，目前这个月盈利 1.64 块", " 哈哈哈，心疼楼主", " 支持 paypal 付款么？人在美国 rmb 不大方便。\r", "感觉还是中文理解起来比较方便，英文虽然没障碍，但是没有长时间看的兴趣。", "心疼站长", " 支持的 ", "  哎，有两个同胞社区问过，只是没有然后了。。。", " \r", " 哈哈哈，画面感", " 建议楼主把视频加上你个人的水印，声明视频的所有者(小小的，半透明的就可以了)。这样人家扩散后，会把流量带往你的站点。", " 方便邮件联系么？ ", " 已发邮件", " 后面的都有水印", " 多，但是这些人都不会再说了。\r", "\r", "很多能给钱的人已经跨过需要看视频的阶段，这些人最差也是看文档。更多的时候是开始要去研读源码，造自己的轮子。只是回过头来一看，给出的有用建议就好像让想入门的人有点难接受。\r", "比如初学的时候打好算法基础，有错吗？但是很多人都不再想去了解这些东西。\r", "\r", "很多时候都想免费，其实免费是最贵的。比如那些期望免费获得楼主你视频的人，你以为他们会看吗？他们只不过是下载了，然后占用了他们的磁盘空间而已。\r", "\r", "其实很多时候我觉得 LZ 你做资源针对中级开发者比较好，一来这些人比较有钱，也愿意花钱，二来他们的确有想进步的需求。不过这些人要求会比较高，他们更多是要突破中级到高级的那堵墙，这个实在不好搞。", "最近經常看到樓主，包括知乎。\r", "\r", "如果不是將你的視頻轉賣，我覺得沒必要在意。", "屌丝太多没几个买得起 mac 的 你的教程涉及到操作系统的最好用同时用 win 环境另外录制一份 能照顾到更多人群", "楼主心态不错呐，搞这类教程在国内盈利确实很难，加油吧！\r", "实在不行可以考虑转行做游戏？ 23333", " 确实是有这样的悖论在，不过自己还是尽力吧", " 恩恩，心态已越来越宽", " 我还是那个观点：从来没有屌丝不屌丝，只是消费观念不一样而已，我相信那些使用 windows 并自称屌丝的人，比我宽裕的人多得去了。身为一个每个月 1000 生活费的学生党，我可以攒我所有的三个月的实习工资来买 mac ，要是说那些所谓的屌丝这点钱都没有，我是不信的，很多时候只是消费观不一样而已", " 为啥做游戏。。。那么累", " 的确有一句话叫“会买的人怎么样也会买 不会买的人怎么样也不会买”\r", "\r", "但这只是有了受众的情况下\r", "\r", "视频的话，入了门的人不会看，稍微有一些学习能力的人也不会看。看的人只能是小白，而他们怎么可能会有付费习惯。。\r", "\r", "现在入门教程一大堆，包括官网的文档。但是再往上的资料什么的就很少了。不知道 lz 有意向否？", " 有什么意向？", "......\r", "这不是无意义的内容,而是看到后的无语"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"https://github.com/laravel/framework/issues/11048\" rel=\"nofollow\">https://github.com/laravel/framework/issues/11048</a>\r<br>\r<br>P.S. Laravel 的社區怎麽沒什麼人，好冷清。</div>"], "reply": "7", "tittle": "Laravel 對 PostgreSQL 支持的問題， SQL 單雙引號使用錯誤", "comment": ["抱歉不能帮助。\r", "重点是，社区还是去国外吧", "我觉得别人的回复已经够清楚了。。。\r", "PDO 的 binding 只能针对值，并不支持库名、表名和列名", "只是因为看到 PostgreSQL 而进", " 抱歉，我發這個帖的時候還沒有看到那邊有回復。", "對 MySQL 是沒有問題的，所以開始的時候我覺得這是一個可修正的問題。解決方法如正則 SQL 語句判斷哪個參數是表名、列名，然後按照 SQL 標準爲表名、列名添加雙引號。\r", "\r", "如果這是 PHP PDO 的做法，而不是 Laravel 的，那我是發錯了地方。\r", "\r", "我覺得爲列名綁定參數，這也是一種可以理解的用法。細想之下，覺得將列名和值放在一起是有些怪，而且一般情況下使用列名是已經約定好的，而不是傳來的值。我應該先把 SQL 寫好了再給 PDO 更合理一些。", " 抱歉，但其实在别的语言，例如 java 的 prepared statement 据我所知也是只支持针对 column value 去进行 binding 。并且，我认为这实在是一种并不好的习惯，将数据库细节直接暴露给客户端。\r", "btw ，关于正则那个方案，我相信你应该没有写过带有各种 union 、子查询等等的查询。。。用正则解析它会疯的_(:з」∠)_\r", "如果你真的需要这么做，我推荐 sprintf_(:з」∠)_", "这个问题我之前也看到，主要是 PDO 的问题。 MySQL 自己的特性战胜了标准"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>想做一个小型 B2C 商城，实现注册登录，下单支付的功能！</p>\n</div></div>"], "reply": "2", "tittle": "求 php 开源商城", "comment": ["wp", "pc 端的吗？我最近使用 symfony2 写了一个微信版的，写完开源！"]},
{"content": ["<div class=\"topic_content\">A 页面编码 GBK\r<br>B 页面编码 GB2312\r<br>\r<br>A 页面 post 数据到 B 页面\r<br>B 页面显示空白\r<br>\r<br>传送门:http://segmentfault.com/q/1010000004029569</div>"], "reply": "8", "tittle": "POST 提交 页面空白 POST 数据 无法 decode 提示“unable to decode value”", "comment": ["您就不能都用 utf-8 吗……", " 我也想用，老系统。。。从代码到数据库都是 gb2312", "没见过，放公网上让大家见识见识", " 怎么放的？", "\r", "然后按路由器的公网发一个 url 出来\r", "\r", "或者把代码节选一下找个服务器扔上去", " 已解决，是在下属了", " 把本地的测试环境可以映射到公网给大家访问的，使用 Ngrok 或 localtunnel 都可以很简单的完成。"]},
{"content": ["<div class=\"topic_content\">比如现在有一个 login 方法，是用来输出 login 视图\r<br>\r<br>public function login()\r<br>\t{\r<br>\t \t$this-&gt;load-&gt;view('login');\r<br>\t}\r<br>\r<br>此时的登陆页面是 index/login 。\r<br>然后提交表单数据到 login_check()方法\r<br>\r<br>public function login_check()\r<br>\t{\r<br>\t\t$this-&gt;form_validation-&gt;set_rules('email', 'email', 'trim|required|valid_email');\r<br>  \t\t$this-&gt;form_validation-&gt;set_rules('password', 'password', 'trim|required');\r<br>  \t\tif ($this-&gt;form_validation-&gt;run() === true) {\r<br>                  //.....\r<br>  \t\t}else{\r<br>\t \t\t$this-&gt;load-&gt;view('login');\r<br>  \t\t}\r<br>\t}\r<br>\r<br>$this-&gt;form_validation-&gt;run()表单校验失败，再次输出 login 视图，同时显示提示错误。\r<br>那么此时登陆页面地址 index/login_check 。\r<br>这个感觉太不好了，不希望链接地址变化。除了将 login()和 login_check()合并处理可以实现之外，还有什么更好的办法吗？\r<br>\r<br>请多指教，谢谢大家。</div>"], "reply": "3", "tittle": "CI 框架相关问题", "comment": ["这个无所谓 CI 吧\r", "\r", "直接把 login_check 合并到 login 里面 判断 post 过来值\r", "\r", "所有 PHP 原生不都是这么处理的么", " 嗯 只是看着链接变化有强迫症。开始是都在 login 里面处理，后来拆开了", "$this->session->set_flashdata(\r", "\r", "任何直接 redirect 登录页面，就可以输出$this->session->flashdata 了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>后台 php 接收  手机能用的  之前用的 uploadify  ios 不能用 FLASH  最好有完整 demo  webuploader 没太看懂 也没啥文档。。</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "急 在线等 谁有好用的多图上传插件能手机上用的 后台 php", "comment": []},
{"content": ["<div class=\"topic_content\">最好是 Php 的，\r<br>\r<br>如果可以有 plugin 支持直接从 WordPress 转过来的话更好。\r<br>\r<br>访问量太大 。。受够 WordPress 了 。。。。\r<br>\r<br>PS ，除了 Typecho ，因为手上好多博客都是 Typecho 的。想换一下口味。各位老司机有推荐吗？国内外都可以。</div>"], "reply": "10", "tittle": "除了 Typecho 之外，还有其他后台界面简洁、编辑器美观且支持 md 的吗？", "comment": ["自己写吧，基于框架的", "gitblog", " 本来是想基于 django 写一个的，最近刚入门 py 。。但是，又懒得做模板。。又放弃了\r", "\r", "\r", " 感谢，你发的这个我看首页图片很美观\r", "\r", " 感谢，这个类型的正合我意", "试试 Ghost ？感觉还不错", " 🌚🌚以前就一直看你的博客的。。。哟哟哟哟，，，原来也去坑了 Python ，哟哟哟哟，，，我的博客也是 django 写的。。不麻烦吧", "\r", "这个符合要求吗？", "那个站呀，，，这么大的流量", " 就是 zntec 啊 。。。\r", " 你这个地址好熟悉啊，你博客也在我书签来着。。。\r", " Ghost 主要是因为部署不方便，懒得搞。因为我现在可以用团队开的免费 php 主机 。。所以想换个 php 的", " 不错，试了一下，后台还支持自定义描述。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>缓存结果较少更新，数量大概百万左右，最多不超过千万</p>\n</div></div>"], "reply": "5", "tittle": "将多个复杂数据库查询缓存到数据库或文件，各有那些优缺点？", "comment": ["缓存为什么最后还是落回到硬盘上啊。就省那点计算过程么=。=能顺路把 IO 也弄快点么", " 不缓存流量扛不住，落回硬盘是穷，用不起大内存...", " 数据库有个叫视图的玩意，你可以存中间过程或者结果集，还可以写 sql 查询。\r", "文件的话我感觉应该就是个 k/v 系统了。除非你还能自己写个查询引擎之类的。你看着办吧=。=", " 如果内存穷的话。可以用 Riak 。我基佬告诉我的，内存加硬盘，折中方案 KV 系统。\r", "但是本人没用过。因为内存从来不穷。所以都是 redis memcache 什么的", " 多谢，视图没搞定， nosql 看来是大势，先研究 riak 看看"]},
{"content": ["<div class=\"topic_content\">表单里面添加了\r<br>&lt;input type=\"hidden\" name=\"_token\" value=\"{!! csrf_token() !!}\"&gt;\r<br>提交数据里面正确包含了_token 的值\r<br>但是每次提交依然会提示\r<br>TokenMismatchException in VerifyCsrfToken.php line 53:\r<br>\r<br>到群里发现有人遇到同样的问题，不知道又没人解决的。</div>"], "reply": "2", "tittle": "Laravel CSRF 验证问题错误？", "comment": ["<input type=\"hidden\" name=\"_token\" value=\"{{ csrf_token() }}\">", "楼上正解"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在学习 slim framework ，用 mac 下直接 <code>php -S localhost:8085</code> 启动的一个示例代码：</p>\n<div class=\"highlight\"><pre>require '../vendor/autoload.php';\ndefine(\"WWW_PATH\", dirname(realpath(__FILE__)));\ndefine(\"ROOT_PATH\", dirname(WWW_PATH));\n\n$app = new \\Slim\\App();\n\n$app-&gt;group('/utils', function () use ($app) {\n    $app-&gt;get('/date', function ($request, $response) {\n        return $response-&gt;getBody()-&gt;write(date('Y-m-d H:i:s'));\n    });\n    $app-&gt;get('/time', function ($request, $response) {\n        return $response-&gt;getBody()-&gt;write(time());\n    });\n})-&gt;add(function ($request, $response, $next) {\n    $response-&gt;getBody()-&gt;write('It is now ');\n    $response = $next($request, $response);\n    $response-&gt;getBody()-&gt;write('. Enjoy!');\n\n    return $response;\n});\n\n$app-&gt;run();\n</pre></div>\n\n<p>这时候直接访问 http://localhost:8085/utils/time 就可以看到效果。<br>\n比较奇怪，这个 url 明显是 rewrite 过的，然而我并没有做 rewrite 。按理说不应该请求到./utils/time 目录下去么？<br>\nweb 目录下也没有.htaccess 之类的文件，为啥自动做了 rewrite ？<br>\n难道 php 自带的 web server 会自动给我做 rewrite ？但它怎么会知道我的 rewrite 规则呢？求解。。。</p>\n</div></div>"], "reply": "1", "tittle": "为什么没做 url rewrite 但是效果却和做了一样？", "comment": ["\r", "\r", "URI requests are served from the current working directory where PHP was started, unless the -t option is used to specify an explicit document root. If a URI request does not specify a file, then either index.php or index.html in the given directory are returned. If neither file exists, the lookup for index.php and index.html will be continued in the parent directory and so on until one is found or the document root has been reached. If an index.php or index.html is found, it is returned and $_SERVER['PATH_INFO'] is set to the trailing part of the URI. Otherwise a 404 response code is returned."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img src=\"http://ww3.sinaimg.cn/large/6dba0410jw1eycbnlqfkij20xw0sq79i.jpg\" alt=\"\"></p>\n\n<p>来自鸟哥微博</p>\n</div></div>"], "reply": "30", "tittle": "PHP 7.0.0 ...又跳票了", "comment": ["然后 RC8 后再跳票", "永远的 PHP 7", "好多程序还不完美兼容 PHP7", "和预计的效果是一样子的", "鸟哥是开发 php 的", "很好，吊足了大家的胃口！再来一个 RC9 也无妨。", "圣诞夜能有，我觉得就挺好的了", "不是圣诞节吗？水也要水到圣诞节才对", "必须跳啊", "HHVM 路过，，，", " 老掉牙的程序不兼容是正常的。我自己写的程序，稍微跑了一下 PHP7 ，压根没问题。", "个人博客从 Alpha2 就开始用了", "不吊你胃口，怎么叫营销。。", " 那么你是来秀你程序的优越性吗？", "快成为月经贴了。，。", "老早之前就用 PHP 7 做开发环境了，虽然不是正式版。\r", "感觉不到特别大的性能提升。", " 这叫秀程序优越性，笑了！既然你关注 PHP7 ，为何不去检查现有程序的兼容性呢？即使我在的公司核心站的代码是 PHP+HTML+SQL 混编的，一样可以顺滑平移 PHP7.", "php 直接跳过 php6 发布 php7 也是醉了", " 你还是在秀你写的程序有多好:)", "php7 是神器，要精雕细琢啊。", "跳票无所谓，又不着急用，关键是质量。", "话说。。。歪个楼\r", "是学 jsp 还是 php 呢。。。=_=", " PHP>Python>Node.js>Ruby ，里面选一个吧， jsp 就算了...", " 你大概不知道死掉的 php6", " php6 是难产，根本没发布正式版本，哪里来的死掉？发布组是想直接跳过 php6 直接发 php7 正式版吧", " 难产就不是死了？呵呵", " es4 也难产。。。。", "说的好像 真的有很多人能第一时间用一样", " 哈哈", " 并不是，只要你程序是基于 5.4 及 5.4 以上的语法写的，基本上在 php7 上运行是没啥问题的，但是如果是基于 5.3 及 5.3 以下。。。"]},
{"content": ["<div class=\"topic_content\">然后才能访问啊，能不能做成和 CI 框架路由那种啊，每次先定义好麻烦啊</div>"], "reply": "7", "tittle": "请问 Laravel 控制器 Action 是不是必须先在路由里定义", "comment": ["是~", "😓", "不需要\r", "\r", "\r", "\r", "然而不推荐这种做法，相当不灵活", " 我们公司就是这种开发方式，想想写每个模块写十几个路由规则，想想就脑袋大。。", " 这种是 restfull 吗？", "  要 RESTful 的话， Route::resource('posts', 'PostController') 这样", "  算是伪 restful 吧，它这种好像不能实现 /user/{id}/photos/{id} 这样的 url(我不确定)， 真正的 Restful 就是 @", " 所说的\r", "\r", "\r", " 这种写法所有路由都没有别名的，模板中的连接我都是用 name route ， 不会直接写 /controller/action ，一旦控制器或者 action 改名了就很麻烦到处都要改, 一个好的 route.php 能让人直观的知道项目里有哪些功能和入口"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>无锡新格尔软件有限公司招聘简章<br>\n招聘岗位：<br>\nPHP 工程师（ 2-3 名） 10k-20k</p>\n\n<p>岗位职责：<br>\n1.参与软件需求分析与设计，负责完成模块设计、接口设计；<br>\n2.前、后端功能编码工作；<br>\n3.与前、后端工程师、设计师、产品人员紧密合作，按时保质完成功能交付；<br>\n4.其它上级领导安排的工作。</p>\n\n<p>岗位要求：<br>\n1.1-3 年 PHP 开发经验，有大型网站、手机、微信公众号等各种应用及电商平台开发经验者优先；<br>\n2.熟悉常用的设计模式， PHP 开发框架，有 Symfony/ThinkPHP/CI 等框架使用经验者优先；<br>\n3.熟悉 HTML 规范，有 Apache 、 Nginx 配置管理经验者， JavaScript/jQuery 开发经验者优先；<br>\n4.熟悉 MySQL 数据库，具备基本的数据库设计及优化能力；<br>\n5.会使用 Memcached 、 Redis 、 SVN 、 GIT 等工具，了解 NoSQL 技术优先；<br>\n6.全日制本科及本科以上学历，计算机科学专业者优先；<br>\n7.性格开朗，对创业充满热情，具备良好的编码习惯，较强的团队合作能力、学习能力和沟通能力，能承受一定的工作压力。</p>\n\n<p>我们可以为您提供：<br>\n1.工资：<br>\n10k － 20k ，具体面议；<br>\n2.福利：<br>\n（ 1 ）办公环境优雅，每周五天工作制；<br>\n（ 2 ）完善的绩效体系；<br>\n（ 3 ）内部激励和晋升机制；<br>\n（ 4 ）良好的职业发展平台。<br>\n3.文化活动：<br>\n（ 1 ）为加强员工的团队合作精神，公司有设立专项的员工活动基金；<br>\n（ 2 ）每逢国内传统节日，公司会派发礼品，如：中秋节、端午节等，让员工感受到家一样的温暖；<br>\n（ 3 ）公司会定期组织员工活动，包括部门活动、部门间联谊活动、户外拓展运动、旅游活动、年会等。</p>\n\n<p>公司简介：<br>\n无锡新格尔软件有限公司（以下简称 Thinker ）成立于 2010 年，在重庆、杭州、河南、四川、河北、湖南、佛山均设有办事处。为满足公司的发展需要，现欲在上海成立研发中心。<br>\nThinker ，立足门窗行业，专为门厂服务，通过不断地自主研发和产品创新，现已拥有 4000 多家门厂、 20000 多家门店客户，成为引领中国门窗行业发展的先行者。 Thinker 一直致力于帮助门厂实现 3 倍增长，专注为门窗行业提供生产、采购、销售、服务等各个供应链环节的信息化服务，实现企业对信息流、物流和资金流的实时把控，并应用物联网、云计算及移动互联网技术引领定制家居不断实现信息化、智能化、终端化。<br>\nThinker ，集聚着一群年纪轻轻的专业研发团队，其中不乏熟悉门窗行业的专家，他们无话不谈、互帮互助；他们技术精湛、成熟老道；专业的技术和服务，充分赢得了客户的信任，被客户亲切地美誉为“新格尔人精”。通过技术与市场的完美结合， Thinker 将体验营销、终端管控和 O2O 模式融入产品，让厂家、经销商、终端客户可以零障碍的实时信息沟通，大幅提高供应链整体的运作效率，最终实现利润的指数化增长。<br>\n在未来的企业发展中， Thinker 将以门窗行业移动互联网化和垂直供应链电子商务化为发展重心，一如既往地秉持思考创造奇迹的企业理念，提供最具创新的产品和服务，衷心的为门窗产业的信息化发展而努力。</p>\n\n<p>随着公司各项业务的迅速扩展，现向全国招聘所述人才加盟。我们期待您的加入！<br>\n请各位应聘者如实填写简历，以免浪费彼此宝贵的时间，请勿重复投递简历，多谢合作！</p>\n\n<p>公司官网： <a target=\"_blank\" rel=\"nofollow\" href=\"http://www.thinkerx.com/\">http://www.thinkerx.com/</a><br>\n公司总部地址：江苏省无锡市滨湖区锦溪路 100 号太湖科教产业园 3 号楼 10 楼<br>\n上班地点：上海市浦东新区张江高科技园区<br>\n简历投递邮箱： <a target=\"_blank\" rel=\"nofollow\" href=\"mailto:lck@thinkerx.com\">lck@thinkerx.com</a> ； <br>\n联系电话：陆小姐（ 0510-66755066 、 15951567516)。</p>\n</div></div>"], "reply": "7", "tittle": "上海 PHP 招聘（ 10K-20K）_新格尔招聘_BAT 大牛带队", "comment": [" move 酷工作", "有种要打副本的感觉😄 支持一下 小白刚开始接触 PHP", "可否 soho ? 5 年 php 经验， thinkphp codeigniter symfony 都熟练！", " 大神飞简历过来试试嘛~又不亏~", " 关键我现在在职啊，这样似乎有些不妥。", "尊重大神的选择~机会之门正在打开哦~", " 你还没回答我可否 SOHO ？"]},
{"content": ["<div class=\"topic_content\">登陆 /注册功能已经实现，现在有个问题： session(cookie)跨域\r<br>\r<br>网站场景：\r<br>talk.xxx.com~ (讨论区)\r<br>account.xxx.com~ (账号中心)\r<br>*.xxx.com~ （其它）\r<br>\r<br>知道 seesion 跨域设置在 /config/session.php 的 domain 项，但是不知道应该如何设置值\r<br>'domain' =&gt; ['talk.xxx.com','account.xxx.com'],\r<br>这样不行，请问应该如何设置？</div>"], "reply": "6", "tittle": "Laravel 框架的 session 如何设置跨域？", "comment": [".xxx.com\r", "\r", "多看文档", " 谢谢，没想到是这样设置……", "都是 ", " 并没有跨域啊？", " 可能是我表达的不对，应该是把 cookie 应用在多个域名", "那也和框架无关 script src=目标域名的 set cookie 的脚本+要设置的 cookie", "跨域跟 laravel 没关系，设置 session 的 cookie_domain 就可以，设置为不加子域名，比如 ", " ，但这种方式之支持子域名"]},
{"content": ["<div class=\"topic_content\">一开始编译安装 PHP 的时候没有通过--with--openssl 安装 openssl 支付，后来通过单独编译 PHP 源码包中 ext 目录下的 openssl ，生成 openssl.so 文件，并修改 php.ini ，添加 extension 段，重启 apache ，运行 phpinfo()时能看到: \r<br>  \r<br>  \r<br>\t<a target=\"_blank\" href=\"http://i.imgur.com/P1bP0Of.png\"><img src=\"http://i.imgur.com/P1bP0Of.png\" border=\"0\" style=\"max-width: 660px;\" class=\"imgly\"></a><br>    \r<br>  \r<br>  好了，安装 composer: curl -sS <a target=\"_blank\" href=\"http://packagist.cn/composer/installer\" rel=\"nofollow\">http://packagist.cn/composer/installer</a> | php\r<br>  结果却是：\r<br>  \r<br>  \t<a target=\"_blank\" href=\"http://i.imgur.com/2VJGEe9.png\"><img src=\"http://i.imgur.com/2VJGEe9.png\" border=\"0\" style=\"max-width: 660px;\" class=\"imgly\"></a></div>"], "reply": "5", "tittle": "Centos 安装 composer 的问题，总提示 openssl missing", "comment": ["執行這個看看。\r", "php -m | grep openssl\r", "\r", "shell 下面直接跑 php ，和 web 上跑的 php 調用的 php.ini 文件可能不同。\r", "\r", "php -i | grep php.ini", " 我试试 再排查下", "模块化编译 PHP 的 openssl 模块，挂载上即可。", "  是进入 PHP 源码包的 ext 目录下，执行 phpize ，结合 php-config ，单独生成相应扩展的 Makefile 文件安装吗   我一开始就是这么做的，截图中也能看到 phpinfo()中有了 openssl 了，但结果就是截图 2 的报错", "试试  yum -y info ca-certificates 更新下系统证书"]},
{"content": "", "reply": "2", "tittle": "php 写出 openqrm 这样的系统，需要用到哪些技术和功能，想吃透这个系统，求大神指点，有 openqrm 的中文开发文档的大侠更好", "comment": ["openqrm?", " 恩呢，对"]},
{"content": ["<div class=\"topic_content\">之前提问 openqrm ，发现相关资料甚少。有人知道别的相关的系统吗</div>"], "reply": "8", "tittle": "服务器资源虚拟化，有没有比较好的系统， php 做这块有没有突出的系统", "comment": ["要干啥？ Docker 不合适么？", "Sorry, 我瞎。\r", "\r", "楼主是要虚拟化资源管理系统。", " 就是虚拟多台物理服务器为资源池，然后可以任意从资源池虚拟出虚拟服务器", " 那不是 openstack 么， python 写的貌似", " 不是，有这个，可以百度一下", "楼主可以参考看看 Proxmox 、 OnApp 、 Cloudstack 等软件。", " 谢谢", "PHP 不知道，反正我是用 Windows Azure Pack 的（逃"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>WeiPHP 这款微信开发框架大家有用过吗？</p>\n\n<p>本人最近可能要做微信公众平台方面的开发，不知道选用这个框架进行二次开发是否可行，它是基于 OneThink 的，以插件的形式扩展功能，许多功能已经有了，可以在它的基础上修改，总之就是架子已经给你搭好了。</p>\n\n<p>有了解的人发表一下使用感受吧，谢谢！</p>\n</div></div>"], "reply": "4", "tittle": "微信开发框架 WeiPHP 用过没？怎么样？", "comment": ["用过一段时间，是深圳一家公司开源的系统，不过貌似后续已经不更新了，要用的话，做好后续自己维护更新的心理准备", " 没有啊，还在更新升级", "不是很喜欢，现在用着基础的 SDK ，功能全部是定制开发。", "欢迎使用 "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>composer.json 中的 <code>require-dev</code> 的是开发环境中需要的依赖，但是我怎么告诉 <code>composer</code> 当前的开发环境是生产还是开发呢？</p>\n\n<p>然后：</p>\n<div class=\"highlight\"><pre><span class=\"s2\">\"minimum-stability\"</span><span class=\"o\">:</span> <span class=\"s2\">\"stable\"</span><span class=\"p\">,</span>\n<span class=\"s2\">\"require-dev\"</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n    <span class=\"s2\">\"phpunit/phpunit\"</span><span class=\"o\">:</span> <span class=\"s2\">\"~4.6\"</span><span class=\"p\">,</span>\n<span class=\"p\">},</span>\n</pre></div>\n\n<p>包的版本号可不可以不写呢？<br>\n如何才能始终 <code>composer</code> 最新的 <code>stable</code> 版？</p>\n</div></div>"], "reply": "6", "tittle": "composer.json 的一点疑惑", "comment": ["composer install --dev / --no-dev", "我给版本号直接写的是 \"*\" ，似乎没有什么问题", " 。。。这个不能在生产机上才 `install` 吧", " 就是这么用的啊，不然要它干嘛\r", " 考虑过负载均衡的感受吗", " 生产机上才要 install, 不要 update ，不然有可能会和开发机上装得版本不一样。 install 装的是 composer.lock 里面的版本"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>例子：</p>\n<div class=\"highlight\"><pre>10 月份的时候： xxx001 ， xxx002..., xxx00n\n11 月份的时候： xxx001, xxx002..., xxx00n\n...\nn 月份的时候： xxx001,xxx002..., xxx00n\n</pre></div>\n\n<p>即每月刷新流水号的开始为 001 开始。</p>\n\n<p>php 可以使用数据库，大家有什么思路?</p>\n</div></div>"], "reply": "9", "tittle": "php+mysql 生成每月顺序流水号问题", "comment": ["分表", "插入的时候用子查询，查询出当前本月份最大值", "别听一楼的", "分库，分数据库，存取分开。", "不知道你这个是已经有数据了还是没有 没有的话你可以分表 一月一个表？如果是有数据的话打印 你就查每个月第一天然后到最后一天中间 desc 吧", "之前有个类似需求的（更新用户工号），如果插入不是很频繁的话，还是可以用用的\r", "\r", ".js", "联合自增", "firezero.", "fillzero."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2265.html\">http://laravelacademy.org/post/2265.html</a></p>\n</div></div>"], "reply": "35", "tittle": "使用 Laravel 5.1 十分钟内即可搭建一个博客应用", "comment": ["使用 WORDPRESS 其实 5 分钟内可以搭建一个博客应用 不算环境架设。", "什么语言 /Framework 都可以， swift 都可以，这个推广 我给 0 分\r", "ls 怎么说？\r", "对于 ROR  程序员来说 10min 搭建一个博客是入门要学的第一项技能 哈哈哈哈~~~", "译自 Laravel 5 Beauty 没说明\r", "\r", "\r", "\r", "BTW ： L5 Beauty 作为上手书很棒", " 对 Laraveler 来说也是", " 说明了 在该系列一开始声明的", " 一个是开发 一个是使用 没有可比性", " sorry :)", "Rails 一行就行", "谢谢 你也可以分享出来", " 这么屌", " 应该是两行，忘了新建 project 也要一行……", " 按照你这么说的话 Laravel 一行就可以搞定", " 那不错，为啥主楼要说十分钟呢？", " 那是因为还编写了额外的代码", "楼主翻译辛苦了～", " 还好～", "棒棒哒", "。。我已经搭了好几个月了，现在在写前端（总不满意别人造的 theme ，自己造的 theme 忍不了旧技术）。。这是个看脸的社会， 10 分钟搭起来的能用么", " 十分钟只是 startup 博客这东西说简单可简单 说复杂可复杂 Wordpress 做了十几年还在不断完善", "艹，看完教程也得半小时啊", "typecho 貌似不用那么久，包括随便都有的环境。\r", "\r", "laravel 我感觉一般人整这个环境， 10 分钟可能搞不定。", "前几天看到一篇文章，标题是 90 行代码实现 xxx ，打开一看第一行 import xxxLib 。\r", "心中一万只草泥马。。。", "零分\r", "\r", "我泱泱大国, 实力强胜, 发生一颗火箭只需 10 秒好吗? \r", "\r", "10 , 9 , 8 ....... 3, 2,1 发射....嗖.....", "应该还要看博客需要哪些功能吧", " 十分钟是个 demo 功能还要慢慢加", " 哈哈 我指的是熟悉 Laravel 后", " typecho 和 wordpress 一样  只是使用 不是开发", " 确有标题党之嫌  但也绝不是 import 这种 还是有有干货的", " 所以说所谓的快是建立在深厚功底 且有万全准备之上的", " 楼主效率很高啊，基本上隔几天就更新好几篇文章，而且看的出来楼主都是实践过才放上去的。\r", "\r", "最近看了几篇不错的文章，不知道楼主有没有兴趣翻译下？关于 Repository Pattern 的：\r", "\r", "\r", "\r", "还有一篇关于业务逻辑怎么放的（可参考）：\r", " 谢谢提供 很有兴趣 ~", "rails g scaffold blog slug:string title:string content:text", " 就你聪明", "抬钢铁"]},
{"content": ["<div class=\"topic_content\">不知道电商用的是哪个模式呢。\r<br>\r<br><a target=\"_blank\" href=\"https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=6_5\" rel=\"nofollow\">https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=6_5</a> \r<br><a target=\"_blank\" href=\"http://www.zhihu.com/question/35818812\" rel=\"nofollow\">http://www.zhihu.com/question/35818812</a></div>"], "reply": "2", "tittle": "电商中用的微信扫码支付是模式一、还是模式二呢？", "comment": ["差别在于：\r", "模式一，先扫码，再生成订单。\r", "模式二，先生成订单，再扫码。\r", "\r", "以上摘自某匿名用户“知乎用户，发呆工程师”的答案。\r", "\r", "可见，电商应该采用模式二", "模式一是永久模式，模式二为临时模式，两者使用场景有一些区别，一般 web 端是用模式二，但一些特殊的场景，比如实体广告牌或纸质的二维码，一旦生成将不能改变的，就需要模式一，希望能帮到你！\r", "\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近在做 Ping++ 支付接口，发现还木有封装好的 Yii2 组件，于是封装了一下。</p>\n\n<p>欢迎大家来 PR <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/idarex/pingpp-yii2\">idarex/pingpp-yii2</a></p>\n</div></div>"], "reply": "7", "tittle": "有用 Ping++ 和 Yii2 的 PHPer 看过来", "comment": ["同为`YII2`粉，你的命名不是驼峰，好难受啊。。。", " idarex\\pingppyii2 这个么？", " 恩，貌似没有严格按照`PSR`规范来。。。", "  嗯那样的话 `Namespace` 前缀应该写成 `Idarex\\PingppYii2`", " 前几天还被我们老大说了, 命名空间统一小写, 没有大写的, 类名才大写\r", "不知是否有错", " 好吧,刚去脑补了一下, 可以大写的哦, 不过要文件夹保持一致,嘿嘿", " 我这边当时是这么想的，包名肯定是全小写， `composer require idarex/pingppyii2`，所以以想让命名空间的前缀与包名保持一致，所以最前面才是纯小写，后面所对应的 src 里面的内容，肯定都是首字母大写的\r", "\r", "  其实 PSR4 并没有严格规定 必须是驼峰哦！"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"https://github.com/php/php-src/releases\" rel=\"nofollow\">https://github.com/php/php-src/releases</a></div>"], "reply": "1", "tittle": "世界上最好的语言 7.0 了", "comment": ["\r", "具体 releases 信息."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>a 表 软删除<br>\nb 表 关联 a 表</p>\n\n<p>那么问题来了，关系已建立，我想通过 b 表找到 a 这个对象</p>\n\n<p>预期的值是这样子的 $b-&gt;a-&gt;name ， 不想多次去查</p>\n\n<p>没睡的小伙伴 求解~</p>\n</div></div>"], "reply": "6", "tittle": "laravel 关联表软删除怎么玩", "comment": ["$flight->history()->withTrashed()->get();", "$this->belongsTo()->withTrashed();", " 实际上我想用在关联中 已 GOOGLE 到 谢了", "CLOSED", " 建议把解决办法 po 出来 供后人参考", " 在 model 中建立关联时候这样做：$this->belongsTo()->withTrashed();"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2292.html\">http://laravelacademy.org/post/2292.html</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "Laravel Web Installer : 让 Laravel 应用像 WordPress 一样通过浏览器进行安装升级", "comment": []},
{"content": ["<div class=\"topic_content\">希望大家能多提提意见。\r<br>\r<br><a target=\"_blank\" href=\"http://simpleforum.org/t/92\" rel=\"nofollow\">http://simpleforum.org/t/92</a></div>"], "reply": "14", "tittle": "轻论坛程序： Simple Forum v1.1 发布", "comment": ["为什么觉得好像 linxxx 写的。。。抱歉 id 记不住", " @", " 不是同一个", "竟然还在开发，加油啊", " 您这话说的 -_-|||", " 我知道…这个精仿 v2 的_(:з」∠)_", "我觉得还是分标签好，分节点不能一对多", "5MB 的包？不轻了……\r", "实在很喜欢 rkidc 家的论坛，问过了，可惜不开源。 ", "有会员机制么？》", " \r", "现在有自动设置标签功能。\r", "以后可以会专门开发一个分支，去掉节点，设定标签", " 你指的会员机制能具体说一下吗？\r", "现在只有注册，信息设定等基本机能。\r", "没有排名，等级等机能", " 我去，真的很多人来问我的这个论坛是程序，是非常多。。但是这个论坛跟锐壳是紧密相连的，确实无法开源", "火钳留名", " 不开源，差评~.~\r", "找个时间剥离吧，然后放出来。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>官方好像没有提供这个层次的抽象和最佳实践。</p>\n</div></div>"], "reply": "3", "tittle": "codeigniter 是否有很好的多角色的权限管理 controller 类学习", "comment": ["可以自己实现，通过集成 CI_controller ，控制 URL ，来达到初级权限的控制。 CI 论坛里面有很多这样的例子\r", "类似： ", "\r", "\r", "还有很多，楼主自己搜索", "这个只能自己实现了。自己写个顶级 controller ，后面的 controller 都继承 MY_controller 。\r", "\r", "方法和一楼差不多。需要自己实现权限管理和用户组管理。复杂点的话可以看看 acl 相关知识，类似 Linux 文件权限。", "不谢， "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我想安装 HTML Tidy 在 centos 6.5 上，我的 php 环境是 5.6 ， tidy 的安装包是 tidy-1.2.tgz<br>\n我的安装命令是：<br>\ntar zxvf tidy-1.2.tgz <br>\n cd tidy-1.2<br>\n/usr/local/php/bin/phpize<br>\n./configure --with-php-config=/usr/local/php/bin/php-config<br>\nmake &amp;&amp; make install<br>\n报错信息如下：<br>\n    /bin/sh /usr/local/src/tidy-1.2/libtool --mode=compile cc  -I. -I/usr/local/src/tidy-1.2 -DPHP<em>ATOM_INC -I/usr/local/src/tidy-1.2/include -I/usr/local/src/tidy-1.2/main -I/usr/local/src/tidy-1.2 -I/usr/local/php/include/php -I/usr/local/php/include/php/main -I/usr/local/php/include/php/TSRM -I/usr/local/php/include/php/Zend -I/usr/local/php/include/php/ext -I/usr/local/php/include/php/ext/date/lib  -DHAVE_CONFIG_H  -g -O2   -c /usr/local/src/tidy-1.2/tidy.c -o tidy.lo<br>\nmkdir .libs<br>\n cc -I. -I/usr/local/src/tidy-1.2 -DPHP_ATOM_INC -I/usr/local/src/tidy-1.2/include -I/usr/local/src/tidy-1.2/main -I/usr/local/src/tidy-1.2 -I/usr/local/php/include/php -I/usr/local/php/include/php/main -I/usr/local/php/include/php/TSRM -I/usr/local/php/include/php/Zend -I/usr/local/php/include/php/ext -I/usr/local/php/include/php/ext/date/lib -DHAVE_CONFIG_H -g -O2 -c /usr/local/src/tidy-1.2/tidy.c  -fPIC -DPIC -o .libs/tidy.o<br>\n/usr/local/src/tidy-1.2/tidy.c:32:23: error: safe_mode.h: No such file or directory<br>\n/usr/local/src/tidy-1.2/tidy.c:49: error: expected ‘=’, ‘,’, ‘;’, ‘ asm ’ or ‘</em><em>attribute</em>_’ before ‘ tidy_functions ’<br>\n/usr/local/src/tidy-1.2/tidy.c:83: error: ‘ tidy_functions ’ undeclared here (not in a function)<br>\n/usr/local/src/tidy-1.2/tidy.c: In function ‘ php_tidy_quick_repair ’:<br>\n/usr/local/src/tidy-1.2/tidy.c:287: error: ‘ struct _php_core_globals ’ has no member named ‘ safe_mode ’<br>\n/usr/local/src/tidy-1.2/tidy.c:287: error: ‘ CHECKUID_CHECK_FILE_AND_DIR ’ undeclared (first use in this function)<br>\n/usr/local/src/tidy-1.2/tidy.c:287: error: (Each undeclared identifier is reported only once<br>\n/usr/local/src/tidy-1.2/tidy.c:287: error: for each function it appears in.)<br>\n/usr/local/src/tidy-1.2/tidy.c: In function ‘ zm_info_tidy ’:<br>\n/usr/local/src/tidy-1.2/tidy.c:387: warning: cast from pointer to integer of different size<br>\n/usr/local/src/tidy-1.2/tidy.c: In function ‘ zif_tidy_load_config ’:<br>\n/usr/local/src/tidy-1.2/tidy.c:742: error: ‘ struct _php_core_globals ’ has no member named ‘ safe_mode ’<br>\n/usr/local/src/tidy-1.2/tidy.c:742: error: ‘ CHECKUID_CHECK_FILE_AND_DIR ’ undeclared (first use in this function)<br>\n/usr/local/src/tidy-1.2/tidy.c: In function ‘ zif_tidy_load_config_enc ’:<br>\n/usr/local/src/tidy-1.2/tidy.c:765: error: ‘ struct _php_core_globals ’ has no member named ‘ safe_mode ’<br>\n/usr/local/src/tidy-1.2/tidy.c:765: error: ‘ CHECKUID_CHECK_FILE_AND_DIR ’ undeclared (first use in this function)<br>\n/usr/local/src/tidy-1.2/tidy.c: In function ‘ zif_tidy_save_config ’:<br>\n/usr/local/src/tidy-1.2/tidy.c:811: error: ‘ struct _php_core_globals ’ has no member named ‘ safe_mode ’<br>\n/usr/local/src/tidy-1.2/tidy.c:811: error: ‘ CHECKUID_CHECK_FILE_AND_DIR ’ undeclared (first use in this function)<br>\nmake: *** [tidy.lo] Error 1</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "HTML Tidy 扩展安装出现错误，请大神指教", "comment": []},
{"content": ["<div class=\"topic_content\">RT ，我试过在./vender/composer/autoload_psr4.php 里将自己写的类的 namespace 和文件路径对应上，可以。\r<br>但过两天就消失了，应该是安装新的模块的时候 autoload_psr4.php 文件被重写了。。\r<br>有没有持久的方法呢？\r<br>\r<br>……深深感受到从一个黑客变成一个开发的难度……&gt;.&lt;，问题比较白痴见谅</div>"], "reply": "4", "tittle": "我自己写的类想用 composer 的 autoload，怎么使？", "comment": ["修改 composer.json 的 autoload 部分。", "还好看了下博客确实是搞安全的 不然就要开喷了 😂", "不要修改 autoload_psr4.php ，这个文件在每次 composer repuire/install/update 时都会重写生成，你只需在你的 package 中的 compoaer.json 中添加 autoload 段，参考我的包：\r", "\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>经常拿 PHP 和 Python 两门语言对比，都是脚本语言，都广泛用于 WEB ，但在 WEB 其他领域， Python 有更广阔的空间，这里不对比两门语言谁优谁劣，这个也没有可比较的，这里要说的是 PHP 和 Python 的性能应该是差不多的吧，但是 PHP7 号称性能翻倍，那么这样一来， PHP 性能是否超越 Python 呢？</p>\n</div></div>"], "reply": "39", "tittle": "PHP7 和 Python 性能对比， PHP 是否略胜一筹？", "comment": ["如果只单纯的谈论性能的话，同时代的 PHP 性能比 Python 快得多，而 Python 又比 Ruby 快得多。 PHP 现在可以干好多事，但是不能抛开 Web 来谈。 PHP 大多被用来开发 Web 程序，这样就使对 PHP 的优化有着非常明确的方向。\r", "\r", "虽然 PHP 语法上并没有什么自己的特色， 没有一套自己的哲学。但 PHP 在不断的吸收各种不同的声音和意见，入门足够简单，资源足够丰富，依然是一个不那么绝美但是可以一起过日子的小家碧玉的精明美少女。", "这种快慢如果不是大一个数量级的没有太大意义，哪个语言好用谁用谁知道。还是多花点时间写代码或者学习吧，纠结这个不能涨工资..", "楼主，你是不是缺铜币了？", "楼上神回复", "看了下，楼主还是不缺铜币的", "php7 > ruby > python", "默认的 CPython 不带 JIT 。事实上现在也没有堪用的 JIT 实现。\r", "Python 的优势不在于速度（甚至不支持多核多线程），而在于它丰富的官方库和第三方库，啥都能干，还干得不错。", "看来很多人还在吃鸡蛋灌饼,还没上班.", "喝粥的路过", "只喝了一杯茶的路过", "没吃早饭的路过", "明明吃的是不放葱花香菜的煎饼果子。。。", "吃面的路过", "肯定 php 快啊，但是我就喜欢 python ，一点都不想碰 php ，坚决不碰。 python 多爽", "在上海吃了一次放了香菜的煎饼果子，终身难忘。", " 新的梗？？ 楼主缺铜币？", " 煎饼果子还有不加香菜的？", " 煎饼果子应该没有香菜的???", "正在吃 蛋黄肉松", "正在吃程序员专用饲料 ~", "php7 和 node 哪个快啊", "PHP 是世界上最伟大的语言，没之一", "CPython 携 Cython 笑而不语.", "你们吃饺子 蘸酱油 还是 蘸醋?\r", "\r", "请问西红柿炒蛋要放糖吗?\r", "\r", "哦  对了, 对了....   有什么是 javascript 写不了的吗?  在线等 挺急的", " 这梗都腻了", "饿死之前不碰 php", "python 需要计算密集的基本都靠 c/c++扩展活   其他的项目并不在乎那点性能", "php 如果真的需要性能，那就把需要性能的转发给 java ，扩展，这些就好了。", "Julia ...京香", "然而三楼早已看穿了一切......", "如果需要就用 php ，目前还没有用到，更没有遇到性能瓶颈的问题，所以哪个熟练哪个快速迭代就用哪个", "以前用 php 现在 python 党, 用 pypy", "python 就是哲学思想太多了，把简单的事搞的太复杂，还沾沾自喜：“人生苦短、我用 python ”， WSGI 一大堆哲学，各种框架一大堆哲学，看起来似乎牛逼闪闪的样子，然而在 web 上仍然混的不如简单的 PHP 风生水起.", " 难道煎饼果子还有不放香菜的，那吃个啥？！", "楼主，你是不是缺铜币了？", "比起煎饼果子一系，我还是比较倾向于又千层饼一系演进出来的韭菜蛋饼。\r", "\r", "说句题外话，很难综合比较各语言运行速度的快慢。", "为何不能像硅谷， rails 大法拯救一切", "r#15 @", " 我一般都是吃放了煎饼果子的香菜", "  Node 快"]},
{"content": ["<div class=\"topic_content\">PHP 7 正式版发布 <a target=\"_blank\" href=\"http://www.oschina.net/news/68605/php-7\" rel=\"nofollow\">http://www.oschina.net/news/68605/php-7</a>\r<br>\r<br>鸟哥： 写在 PHP 7 发布之际一些话  <a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MzIwNDExMjIzNA==&amp;mid=401036257&amp;idx=1&amp;sn=f2272863c3bd1d9404f0da677c0a232d&amp;scene=23&amp;srcid=1202GHLzDus0AHfkcgCwIbfq#rd\" rel=\"nofollow\">http://mp.weixin.qq.com/s?__biz=MzIwNDExMjIzNA==&amp;mid=401036257&amp;idx=1&amp;sn=f2272863c3bd1d9404f0da677c0a232d&amp;scene=23&amp;srcid=1202GHLzDus0AHfkcgCwIbfq#rd</a>\r<br>\r<br>在这近两年的时间里,   各种新特性的加入, 性能的持续提升,  很多以前不合理的地方改进等等, 都加入到了PHP7, 让PHP7越来越丰满. 从最底层的ZVAL的改变, 到标量类型提示, 从最初的30%的性能提升, 到现在超过100%的性能飞跃, 每一处变化都让人值得期待.</div>"], "reply": "76", "tittle": "PHP 7 正式版发布！ 两倍性能提升 以及鸟哥的感言", "comment": ["先不管鸟哥说了啥。\r", "\r", "我的感言：唉玛，终于发布了。", "必须支持， PHP7 是好语言", "资瓷", "是时候学一下 PHP 了！", "PHP7 终于来了 XD", "007", "鸟哥?私房菜那个?", "对 教我们炒鱼香肉丝的那个", "所以说，牛逼的人学啥都牛逼，有鸟哥这种大神为 php 站台", "官方都没发布别来标题党啊。。。编译都没通过正式版个毛啊\r", "\r", "这么厉害？", "我们是写 PHP 的 他是写了 PHP 膜拜致敬", " 那个鸟哥是台湾人吧？", " 实名反对，今晚刚自行编译了 php7 ，使用要是没遇到问题", "官网貌似没有", " 第二个链接说现在是造势，官方公告要到后天", "不是 3 倍么", " 官方 20 分钟前还在测试，你使用没问题那就用，但是用的不是正式版。", " 随便看了一眼 build 错误日志，貌似是在下载 pear 的资源时遇到了证书错误……\r", "\r", " github 上都打了 7.0 release 的 tag 了啊", "留名", "今天下午的时候 down 了一份下来 不过还没编译。。", " 只是打上 tag 而已啊，人家还在最后测试，你们猴急什么。打上 tag 又不代表没问题了", "是时候学 PHP 了 一统天下", "等 Docker 官方的 php7 正式版镜像再去学习 php7", " 再修 bug 就该是 7.0.1 了。", " tag 了就不能改了？人家发现问题了不能改成 RC9 ，总之现在正式版还没发布，这贴就是标题党", " ", "确实 github 上那个打上 7.0tag 的包下载下来编译不通过，官网镜像下载的那个看上去挺正常。", " ", " 你点进去看了么？是 travis-ci 他们连接 ", " 的时候没有找到可信数字证书，所以失败了。", " ", " 所以呢，就表示之后的编译和测试都能通过？", " \r", "The server running ", " had a fatal hard disk failure and gets replaced by a new machine this week. Until the new machine is setup, this page is up to let you continue installing PEAR packages via the PEAR installer. \r", "\r", "看起来是 ", " 的服务器硬盘挂了，于是先随便指定到了一台服务器，然后这台服务器的 https 证书并不是颁发给 ", " 的。", " 不能说明任何问题，最后的测试还没跑完", " 是啊， travis-ci 编译挂了并不能说明任何问题啊。官方 git 已经发了 release 的啊。", " 当然了， PHP 官方可以自己打脸，把这个版本撤下去。\r", "但是目前，这个版本就是 release 版。", " 你看这个了么？ ", " 这个版本有可能成为 release 版，但是官方既然没有正式发布，其他人跑出来说正式版发布了不就是标题党么。", " 只能说正式版快要来了，但是确实还没有正式发布", " 可能成为 release 的版本，叫 RC 版...", " 你去看官方的 release 流程，不是说 git 里 tag 一个 release 就叫正是发布了。", " 看了啊， travel-ci 构建也通过了的啊。\r", "最近两次没有通过的提交，一个是改版本号，一个是改 changelog ，而且是因为 pear 挂了才构建失败的。\r", "和 PHP 自身代码质量无关。", "感谢鸟哥，以及所有像鸟哥一样为开源做出贡献的人", "不知道开源框架是怎么测试的，测试环节很重要", " 你还没明白啊，代码本身没问题并不代表正式版发布啊，正式版发布还有很多步骤。事实是官方没有正是发布正式版，目前看来只是代码本身差不多了，但也还在调试通过 travis 。再说 travis 最后一步的 php 测试都还没跑，你怎么知道没问题？", " 这些事情不都是做完了才回去打 release 标签么？\r", "而且测试也跑完了的啊。", "v2ex 的讨论质量真是越来越低了，我个人提议提升铜币消耗量。", " 我觉得是应该是做完了再打 release 标签，但现在很明显没有啊，首先 travis 就没跑绿，其他的就不说了", " 请看我前面的回帖\r", "travis 测试是通过了的。", " 贴个链接", " ", "鳥哥：他們在爭什麼？", " 我也不知道......", " 8 天前的也算？之后那么多 commit 即使对代码本身改动不大，但是也要通过 travis 吧？", " 之后就两个 commit ，一个改版本号，一个改 changlog 。", " 你再数数\r", " 新加的那个 bug test 不算？", "已知问题， mb_* 函数不存在。但是已经加载 php_mbstring 扩展。 CLI 下可用。", " Tag 可以重打的，不是说 Tag 打了就一定是正式版。\r", "正式版本身也是 RC 版， RC 确认没有问题可以正式发布的时候才能正式改叫正式版。\r", "在官方正式宣布这个 commit snapshot 是正式版之前，一切都有可能。\r", "\r", "即使 2 天后的确把现在的 commit 拿出来作为正式版了，这个帖子现在也只能宣称「 PHP 7 正式版对应的提交已经 Push 」而非「 PHP 7 正式版已发布」。", "php-pear 服务器挂了", "鸟哥文章都不看的？\r", "不知道对 5.x 的兼容性如何？ python 就被 3 和 2 之间的一些差异给活活搞成两个版本了。", "一进来发现好像有人在撕 B ，仔细一看原来他们回复的是我黑名单里的人", "OpenSSL is releasing on 3rd between 1pm and 5pm UTC and contains some security fixes. As soon it is out, it'll need some time to build the bins and to test - that the normal practice when we collide with some library like OpenSSL. So the announcement will most likely shift into the later afternoon, still same day by UTC and most other time zones. That's the plan, nothing else can really stop it. \r", "终于发布了！有点小激动~", "PHP 是最好的语言！ ", " ", " PHP 是最好的语言！ 记得加上“没有之一”哦！(不然会被人砍死的-_-!!!)", "  ", " ", " 证书问题导致 travis 跑不过的问题已经很久了_(:з」∠)_  另外通不通过是 QA 说了算的。 最后，我觉得你们在争论的真的只是对于『正式版』这个概念的定义。。。到底是一个文件，还是一个概念。（纸币是纸是钱？", "PHP 秒 Java 、超 Python 、平 Golang", " 没必要膜拜。就跟发明围棋的人，和围棋高手，没有什么地位的高低。", "楼里撕逼撕得莫名奇妙的", "php 灵活性确实强，只是某些项目的 php 维护起来就跟吃了💩一样，譬如当年的 wordpress", " 的证书换了个 Let's Encrypt 的别的域名的……我改 Makefile 中的 https 为 http 才“成功”。\r", "不知道这个版本 JIT 做得如何。", "鸟哥万岁，我们拭目以待吧"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>整理的 Laravel 相关索引<br>\nGithub: <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/mangoim/Laravel-sites\">https://github.com/mangoim/Laravel-sites</a></p>\n</div></div>"], "reply": "1", "tittle": "Laravel 不权威导航", "comment": ["不错，已收藏^ _ ^"]},
{"content": ["<div class=\"topic_content\">最近在做的那个项目有个 4000 多行的 js 每次用 phpstorm 编辑的时候都特别卡，有啥办法可以解决吗？</div>"], "reply": "20", "tittle": "PhpStorm 写 js 比较卡顿", "comment": ["一个 JS 文件竟然有 4000 多行，明显属于过时的工作方式。请自行参阅 Gulp 等现代解决方案。", " 我知道，但这个项目不是我写的，已经写了两年了，我只是最近加入而已。", " 请立刻改变它！\r", "把旧的文件保留，做出修改的部分拆出来放小文件，根据功能适当放置子文件夹。", "右键用 sublime 打开", "phpstorm 一直很卡，关掉智能提醒勉强可以用", "全部用 ssd ，我不信会很卡", "加内存 换 ssd 就没事了", "换用 notepad++ 或者换别的编辑器，你会发现什么 IDE 都是浮云", " 关掉智能提醒了告诉我为什么不用 Sublime", "右下角有个英伦小警察，把 Highlighting Level 调低试试.", "右键文件>mark as plain text    然后用其他编辑器打开此文件", " 因为 sublime 的 sftp 功能要收费， phpstorm 自带的 sftp/svn/git 模块，公司付钱买了 phpstorm 的。这个项目的甲方是美资公司，受监管的，所以没有什么破解等任何行为。", "上垃圾桶", "申请换电脑。。。。。。。", "机器不行", "公司配的机器 12 年的 15 寸 Retina 顶配，外加选配了 16G 的内存，不算很好，但也不至于写个代码就卡了吧。。。至于为什么是 phpstorm ，是之前老板让我们自己选的，二选一，公司提供序列号。结果我没料到会这么卡＝ ＝＃", "vim 走起，保证不卡", "sublime 就够了", "按这里设置下试试 ,我设置了目测有效 \r", " 我已经分给了 4G 了，公司来了新的前端，现在终于不用干 js 的活了哈哈哈。"]},
{"content": ["<div class=\"topic_content\">之前对 PHP 的了解仅在搭建安装 PHP 项目程序的水平，对 PHP 语言没有接触。\r<br>对使用 PHP 的需求是以 web 项目为核心，\r<br>做到能看懂 --&gt;能修改--&gt;能增减功能模块--&gt;能重构或优化。\r<br>以 PHP 项目 <a target=\"_blank\" href=\"https://github.com/lincanbin/Carbon-Forum\" rel=\"nofollow\">https://github.com/lincanbin/Carbon-Forum</a> 为例。\r<br>有么有推荐的学习路径？</div>"], "reply": "8", "tittle": "有 J2EE 基础转 PHP web，比较合理的学习路径是？", "comment": ["花半天把官方文档扫一遍，然后找东西练练手。有 j2ee 底子毫无压力。比较好奇有 php 基础，如何学习 j2ee", " 没转过语言，不了解转换的感受或体会。。。\r", "个人是在有 Java 语言基础后，从纸质书<Head First Servlets & Jsp>入的 J2EE 门，而后结合网络上知识，做简单项目起步。", "java 转 php ，直接就是用的时候查函数表就行", "看框架啊 codeIgniter 看完写框架", "先看语法，比如：如何定义常量和变量；如何定义方法以及调用方法；程序流程如何控制，比如 if/else 、 for each 、 switch case 、 try catch 等等；是否有类或接口之类的概念； etc 。\r", "再看数据结构，比如 list 、 map 、 array 是如何使用的。\r", "然后看内置的库以及第三方库，比如磁盘 IO 、网络 IO 、数据库如何连接 /事务如何控制。有必要的话再看一下 mongo 、 redis 是如何使用的。\r", "最后看一些跟 web 开发相关的， http request 、 http response 、 http session 、 cookie 是如何实现的。\r", "\r", "然后我觉得你可以开始写代码或改代码了。", "直接上手框架吧。基于 Composer 的管理， ZF 、 Symfony 、 Laravel 什么的随便选一个。", "有个写了 5 年 Java 的，来新公司，看了下 PHP 语法就开始写商城后台了。碰到坑了再查资料", " C#就更加便捷了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://segmentfault.com\">http://segmentfault.com</a></p>\n\n<p>搜索 PHP 方面的各种需求,总是会发现有这个网站的身影.今天特地认真浏览下，发现果然不错，注册了个帐号.</p>\n\n<p>估计是我太无知了.......</p>\n</div></div>"], "reply": "23", "tittle": "感觉这个网站也挺有意思的", "comment": ["StackOverflow 的 Copy to China 版本", "是的", "  没去过你说的网站.英文特烂.", " 现在有一种编程就是 StackOverflow 大法。", "我想说禁句", "火星了？", " 爆栈攻城狮！！！ (*´∇｀*)", " 哦？传说中的面向 stackoverflow 编程和 github 驱动开发？", " 我觉得形容得很贴切～～", "SF 发展也很好，黑客马拉松和当时的单身程序员闯关秀都做的 nice.\r", "网站版式漂亮，有些系列的专栏文章看完很有收获。\r", "\r", "咳咳，面向 StackOverflow 编程，能不能不这么黑……\r", "\r", "话说回来是有好几次搜索 SF 的结果还在 SO 的前面^^", " SO 上的英文水平实在是 汗(⊙﹏⊙)b +一点专业词汇，永远不要低估程序员们用代码而不是语言解释问题的决心 ^!!!!!", "什么是面向 StackOverflow 编程？\r", " StackOverflow 怎么了？", "面向 Google 和 StackOverflow 编程", "确实不错\r", "\r", "更建议你在谷歌 使用英文关键词搜索", " 大概是这样\r", "\r", " ", " 太 TMD 的精彩了。 23333", "为什么最近火星贴这么多。", " 认真了看了下你的名字，是腿毛长？", " hahahahahaha", "这个网站程序员都知道把...", "GitHub 、 StackOverflow 是次素的？", " 最高境界不是面向 github 编程吗。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://php.net/index.php#id2015-12-03-1\">PHP.net - PHP 7.0.0 Released</a></p>\n</div></div>"], "reply": "10", "tittle": "PHP 7.0 上线了", "comment": [" ", "求助； 6 升 7 需要备份哪些东西啊", "错了，是 5 升 7", "必须顶一下~", " ", " 手册", "前天晚上下载的代码 没编译成功~~~~", "支持", "研究研究", "Thx for sharing~~~~~~~~~", "已经编译成功"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>买了一本 PHP 的书看完了， 一看到项目就不知道哪是哪了，看的是 wordpress ，看不懂咋办啊</p>\n</div></div>"], "reply": "21", "tittle": "买了一本 PHP 的书看完了，可是看不懂项目，咋办啊", "comment": ["有人在吗", "先不要从 wordpress 看起，先自己做些小小小项目", "边看边写一些小东西吧。", "先找个最简单的入门教程，先自己做，做了才会有感触，然后在看书。", "一边学习一边写个小博客程序，写完后，基本上就会了。", "光看书并没有什么卵用，还得动手～", " \r", " \r", " \r", "\r", "写什么啊，想写个后台程序不知道咋下手", " 留言板， BLOG,BBS,商城。一大堆轮子可以造", "很正常 因为你看的项目是从框架开始堆起来的 你再去看看框架吧", " 自己想写啥就写啥,反正觉得好玩就行了.记得当初在学校的时候每天不知道吃什么,于是写了个转盘小程序,要吃饭的时候点一下,随机给我选个菜单,寒假在家无聊,写了各种五子棋,俄罗斯方块乱七八糟的一起玩,宿舍熄灯后没电于是用室友用电脑做热点,但是又不想大冬天出被窝于是写了个自动关机的小程序给宿舍用,知道很久之后什么 360wifi 才带了这个功能.有一次想写个日记本写日记,于是学 windows 编程的时候写了个桌面版的日记本,后来学了拍黄片,自己鼓捣了一个日记本,后来自己写了个框架后用框架重写了一遍,然后现在公司用 go,于是又准备用 go 再写一遍-_-||,突然觉得自己好丧心病狂", " \r", "php 是不是都是框架？", " 谢谢啊，我觉得我该在网上看看 php 小点的程序，看他们怎么写的，然后自己尝试去写出来", " 先写一行\r", "<?php\r", "echo \"测试\";\r", "慢慢的后台就可以成型了...", "html+css+javascript 把这些基础深入搞懂先把", "多看几本书 ， 可以下载开源项目看 ，哪儿不懂在针对性的学习", " \r", " \r", "html+css+javascript \r", "我觉得这部分要想做好挺难的", "我虽然不是做 php 的，经验都是共通的吧。\r", "我工作 7 、 8 年了，现在还是看不懂项目。\r", "但是随着编程经验的增加，现在知道局部地看一些东西了。拿来一个库，虽然不能全局的了解它运作的方式。但是可以有针对性的看一些需要用到的地方，就知道怎么通过继承来改变自己希望的功能了。\r", "其实要全体了解一个大的项目是很难的，不仅需要一定的工作经验，还需要很多时间的投入。\r", "所以我不觉得直接看项目的源代码是一种很好的学习方式。\r", "还是从基础示例入手，然后自己慢慢深入，用自己的方式慢慢扩展。再看看文章了解下行业的标准做法是怎么实现的。", " 我看小项目的 demo ，想百度搜下 php 源码，那种比较小的项目，书上的基础事列还是很好的老师，能入门", "我觉得你去下一个带示例的 php manual\r", "先把里面的代码拿出来运行\r", "直观的看到运行结果之后 你才可能会记住这个是什么东西 要怎么用", "PHP 的字符串混合变量混合 HTML 的写法。各种单引号、双引号，连接符，确实不是一下子能看懂的。需要一点点用头脑跟着解析一遍。即使再多经验的，遇到各种混编都眼花。。。\r", "\r", "最基本的基础就是 HTML CSS 一眼刷下来就要有整个页面出来。 JS 知道大概几个事件是干嘛的就行了。\r", "\r", "\r", "至于研究项目么，想看的话，要做到先把握全局，先捋顺大的结构，然后在去看各个具体函数。\r", "\r", "不然很容易陷入局部某个函数出不来。", "有 2 个东西要学会， PHP 语言 和 web 。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>今天看后台数据的时候，发现之前那位'大神'在我的站点注册了，然后有了下面的对话：</p>\n\n<p><code>对，这个 Lee 就是上次的那位神人</code></p>\n\n<p><img src=\"https://dn-laravist.qbox.me/quan2.jpg\" alt=\"\"></p>\n</div></div>"], "reply": "72", "tittle": "还是那个 php 群的神聊天。。。", "comment": ["我也在群里， QQ 群怎么就没有 block 特定人的功能呢。无语。", "中国特色，就喜欢强制性的东西，反正我身边的人都是如此", "还是那句话  目前没有养成付费的风气 事实上我不觉得你这样收费观看 和免费观看放个链接等人打赏拿到的钱会差太多........", "个人建议是, 不要用 QQ 群, 能屏蔽掉一堆这样不靠谱的人...", " 你觉得真的有人会打赏？别逗了", "要看视频教程的基本都没什么钱。\r", "所以换种收费方式吧。卖给培训班也是不错的。", " 你觉得还真有很多人花钱买?........", "给楼主一个建议，录英语的视频去收费，比这收益靠谱多了。\r", "国内的偷了别人东西还理直气壮的真多...", "付费视频不付费没办法看到视频地址的吧？", "论如何品析 Lee 话中的尊贵秉性：\r", "► 挑出所有语句中的「我」和「我们」，替换成「我良辰」\r", "\r", "例：\r", "▋没有啊，别闹，我良辰不用 laravel 的，有意思吗\r", "▋男的这么烦的，少有的，我良辰很少看到的", "昏，这 lee 男的女的啊？", "  网站注册要填用户名，用户名唯一，然而登录却只能用 email", "一点小钱不算啥， laracasts 订阅了近半年，虽然我基本也没怎么看，但是我还是觉得值。\r", "简单保护视频，这样做可以防止一部分小白。使用七牛的视频 HLS 切片生成 m3u8 并对 ts 文件进行加密。\r", "参考文档\r", " \r", "\r", "英語版的在這 ", "\r", "\r", "而 Laravist 是向 Laracasts 致敬的。", "如果是我，我会在视频里夹带私货。\r", "\r", "比如讲着讲着来点题外话，随便开喷几下，然后又讲回正题。\r", "\r", "隔三差五来一来。", "这种人真是太可恶了，还一副理所当然的感觉。", "qq 群不是解散了吗？", "还是搞个培训班比较靠谱, 有些人和他们争论就是浪费时间", "不容易啊", "lz 只能节哀。。", " 再翻录一遍  一样可以传出去", "不尊重别人的劳动成果就是一辈子小码农的料", " 说的好像你从来就是用正版软件、看正版电影、听正版歌曲似的。", "我记得上次好像不叫 Lee 啊，改名字了？", "没看懂", "现在的问题是…… 楼主你居然还在这个群里跟他们浪费时间……", " 这也不叫浪费时间了。跟用户交流，了解用户需求。改进不足，有什么不对吗？\r", "楼楼这么大个人了，知道怎么规划自己的时间。", "其实我一直对国内喜欢在 qq 群里聊技术感到很费解，照我的理解现在还在用 qq 群聊技术的人就放弃了吧。\r", "\r", "不过现在更令我费解的是继 qq 群以后，微信群和微信公众号越来越在国内流行起来。。。\r", "\r", "面向 qq 群编程，面向微信群编程，面向微信公众号编程。。。想想就觉得酸爽。。", " 那么一群互不相识的技术党，该用啥交流呢？ IRC?Email?", "自己辛苦录的视频，怎么就这么好意思的觉得应该免费提供。这个 Lee 也是可以了。", " 我也想问不用 qq 用什么？", " \r", " \r", "\r", "我觉得简聊不错啊，我一直在用： ", "我建議你用優酷視頻第三方 API ，來降低自己的成本。\r", "\r", "然後考慮一種一部分人用勞力換取免費看視頻的機會的方式，轉移和化解這個問題。", " 这不是 Laravist 用户群，然后…… 这群人想的是免费拿到楼主的视频，以及黑楼主，这能算是楼主的目标用户群么……", " 哈哈哈哈哈哈哈哈", "坐等「我就是那个 Lee 」", "他会为自己的行为找一大堆借口,而且还很有理由的样子\r", "\r", "这种人:\r", "抬头看看天,二号树在笑", " 简单看了下“简聊”，不确定用户的数据是否经过第三方服务器？如果需要第三方服务器，那么存储在第三方的数据是否经过可靠加密。\r", "我认为，只要数据存在第三方服务器上，就无法确保信息不被其他人获取。", "都是些什么人才会看视频学编程啊......看视频真的不是最低效的学习方式吗......", " 你说的太绝对，视频也许不适合你，但是有那么多人做，就说明市场广大。", " 我没见过任何一个水平被我认可的人, 是以\"看视频\"为主要学习方式的. 我见过的每一个以\"看视频\"为主要学习方式的人, 水平都没有被我认可. 如果楼上有朋友每天看视频学编程, 那么我相信你很水.\r", "\r", "偶尔会看 github 官方出的视频, 看视频比较放松, 信息密度低.", " 用 QQ  用 Email 用谷歌 用啥聊天工具都要经过第三方服务器啊......", "  ", "  \r", "\r", " ", "   ", "   ", " ", " 所以，还不如直接 qq 聊(只要不涉及商业机密)。而且 qq 用户群大，当然了，也是良莠不齐的", " 你这就有点抬杠了\r", "视频本来就是给新手准备的，对于那些新人，看文档也许不容易理解，只要能帮助一部分人上手，就有它存在的意义。\r", "而你技术好了，视频对你进一步的提升没什么帮助，不看就是了。何必要说“......看视频真的不是最低效的学习方式吗......”这么绝对的话呢。", " 对了，说到 Email ，这个是可以用密钥加密的。只要发件人预先加密，然后，收件人私钥解密才可获取信件内容。这个适合于相对机密的信息传递。\r", "再说，服务器方面。公司自己搭建个邮件服务器，成本也不是很高的。", " 这个是经验之谈：看视频入门学编程的人，到后来水平也不怎样......我印象里就不少这样的人，毕竟，我学那么多年英语，也没看过网上学英语的视频，好歹 138 的高考英语（笑）", " 其实 IM 也可以 E2EE ，比如 TextSecure ， server 是 agpl 开源，适配个墙内推送服务和短信验证业务就能拿来用。", " 大概看了下，这玩意儿确实不错。\r", "他下载了敢分享，你就可以告他", " 很多网课都是视频吧 当然效率会低一些 但是有些知识点确实看视频能看懂一些", " 这种人是少数，而且大家的付费意识会越来越强，鼓励你坚持下去，我一直在订阅 Jeffrey 的视频，如果你的内容有我需要的，我也会愿意付费", "这种事情不好评论啊,也没有绝对的对错.", " 我见过下载别人视频的方式，是，录屏。。。。。这个是真的没法防了。（本来原因是因为他不会其他方式）\r", " 那， coursera 的高校公开课算不算？\r", " 呃，这样是不是互联网就没法用了呢，比如，所有流量要经过 ISP 的。", " \r", " \r", "论坛，邮件列表， google group 都比聊天软件好用，如果只是纯粹聊天吹牛摆龙门阵，用 QQ 微信没问题，但是技术类讨论希望能有稍强一点的搜索和归档功能，便于后来的人挖坟。", "退群保平安，打着技术分享的群，大都没有真正讨论技术的", "用啥 QQ 群？要啥自行车？", "技术群现在都是扯淡的", " 没有用的，只要有一份被人传在网盘上，就完了，一传十，十传百，别人直接网盘下。", " \r", "技术群明明是用来分享小黄图和约游戏的 [误", " 看高质量视频是初学者最高效的学习方式，详见 ", " 截图好靓，箭头好清晰", "你需要的只是把 QQ 号发在这里，他自然就爽了", "想起来前几天那个帖子，“我破解了别人的代码放网上卖，被某宝下架了”，凭什么下架啊！哈哈哈~~~~", " \r", "\r", "所以你现在尿床不？反正你小时候尿床。", " 先不说你这个例子合理不合理。\r", "为什么小时候尿床就是 合理 。现在尿床 就是不合理？\r", "因为长大了吗？\r", "到这个事，就是说现在有钱了，所以要用付费正版，以前穷，没办法，用盗版。\r", "那你怎么知道那些人都有钱？实际上别人没钱买正版？\r", "再往大了说，知识付费，会不会让那些穷人没法获取知识？互联网之子为什么自杀？\r", "最后，你的例子举的很差，我不是再跟你辩论，所以不需要用诡辩这些招式。", " web 形式的固然好。但是 IM 也是必不可少的，毕竟 IM 的时效性较强。而在这方面 QQ,微信做的较为完善，我们为啥不用呢？", " 好吧。。\r", "\r", " 靠捐赠还是算了吧\r", " nice\r", "\r", " 不知道\r", "\r", "\r", " 这个其实有看过\r", "\r", " 也没有说是在浪费时间，经常都是潜水\r", " 其实在 qq 群里面多半都是一些新手吧，难得会有大神\r", " 估计他不知道 V2EX 这个站点\r", " 二号树在笑是什么鬼\r", "\r", " 看个人吧，在下就是看视频学习的，当然也不会仅限于此\r", "\r", " 就是这个意思，其实视频对初学者非常有用，我个人觉得\r", " 额，我还 149 呢。。。\r", " 这个。。。。\r", " 会坚持做撒，只是有时候觉得这样的人实在。。。\r", "\r", " 还行，一般扯\r", " 这个不好吧\r", " 差不多\r", " 并没有\r", " 这个后面会尝试一下\r", " 哈哈哈\r", " 我没有权限这么做\r", " 这个再看吧", "看开点吧  这种东西在国内只要放到网上的基本上就免费了。\r", "\r", "也挺佩服楼主的，一直坚持着自己喜欢的事情", " 看不进书的时候 看看视频放松下还是很爽的", " 嗯, 毕竟不能作为主要学习方式.\r", "\r", " 在 coursera 上自学成才的, 一般是文科, 我很少, 或者说我还没见过, 在 coursera 上自学理科科目成才. 理科科目需要良好的学习环境, 听课只是一部分.", "为什么不找百度，要求删除侵权文件？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://php.net/manual/zh/migration70.incompatible.php\">http://php.net/manual/zh/migration70.incompatible.php</a> ， php7 文档中不向后兼容的变更提到的 JSON 扩展已经被 JSOND 取代， JSOND 是什么鬼？</p>\n</div></div>"], "reply": "5", "tittle": "php7 的文档中， JSON 扩展已经被 JSOND 取代是什么意思？", "comment": ["详情\r", "\r", "\r", "\r", "\r", "简单来说， JSON 的协议( ", " )被认为不属于自由的开源协议，导致很多源当中的 PHP 都无法内置 json 模块（需要额外安装，比如`apt-get install php5-json`）\r", "\r", "参考 \r", "\r", "\r", "八卦\r", "Douglas 是 JSON 发明人，蝴蝶书作者\r", "\r", "和社区吵的不要不要的", " 什么意思？不是自 PHP 5.2.0 起， JSON 扩展就默认内置并编译进了 PHP 吗？为什么会出现一个 jsond ？ jsond 和 json 有什么区别啊？文献太多太长了。。。", " JSON 原作者定的协议当中有一句被社区认为违反自由原则的描述（ GNU 、 debian 、 fedora 、红帽等等均如此认定）\r", "\r", "The Software shall be used for Good, not Evil.\r", "\r", "所以这些代码是无法进入多数主流发行版的软件源里的，默认配置的源里都不会有 JSON 库的代码的， PHP 也一样，即使默认的编译配置是带 json 的，但放到源里的版本不能包括 JSON\r", "\r", "所以有人写了个 jsond 来取代 json", " 谁能保证能“ not Evil ”？！", "从来没额外安装过 php5-json, 刚看了下发现原来 php5-common 依赖 php5-json, 只要装到 php 就会自动把 php5-json 给装了, 只想说城会玩....."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>偶尔发现一个叫做浏览器 p2p 的关键词</p>\n\n<p>从点对点多传输到点对点传输</p>\n\n<p>这种技术是否是今后的主要方向</p>\n\n<p>浏览器会缓存到 local storage 下次刷新秒加载</p>\n\n<p>然后就是基于 webrtc 的 p2p 分享</p>\n\n<p>下面是视频演示，基于国外的一个叫 peer5 的平台</p>\n\n<p>人多才能看出 p2p 效果</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://mtkan.cc/demo.html\">http://mtkan.cc/demo.html</a></p>\n\n<p>有兴趣的欢迎一起探讨</p>\n</div></div>"], "reply": "12", "tittle": "基于 webrtc 的浏览器 p2p 技术", "comment": ["See ", " 这个项目好像是基于 nodejs ， ", "\r", "\r", "还有其它类似的项目吗", "media.peerconnection.enabled:false", "记得之前有人做过一个 P2P 的网站浏览器，所有的网站浏览、搭建、地址全部基于 P2P 协议。", "那个，话说「著名的」谷歌 FQ 技术， uproxy ，不正是基于此吧……（ P2P ）\r", "\r", "还有， webRTC 。。。。泄漏 VPN 用户的真实 IP 。。", "1", " 发错了。。", "为何域名被 chrome 拉黑了", " 试了一下 flash0day ，妈蛋就被拉黑了", "\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有兴趣的可以去看下：<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2380.html\">http://laravelacademy.org/post/2380.html</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "在 Windows 下安装部署 PHP 7.0 本地开发环境", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Parse error: syntax error, unexpected 'new' (T_NEW) in /home/wwwroot/xxx.com/wp-content/plugins/db-cache-reloaded-fix/db-module.php on line 214</p>\n\n<p>还有 我看到 php7 编译教程里面都有 --with-mysql 选项，我的的  ./configure -help 根本没有！</p>\n\n<p>[root@vultr php-7.0.0]# ./configure -help | grep mysql<br>\n  --with-mysqli=FILE      Include MySQLi support.  FILE is the path<br>\n                          to mysql_config.  If no value or mysqlnd is passed<br>\n  --enable-embedded-mysqli<br>\n  --with-mysql-sock=SOCKPATH<br>\n  --with-pdo-mysql=DIR    PDO: MySQL support. DIR is the MySQL base directory<br>\n                          If no value or mysqlnd is passed as DIR, the<br>\n  --enable-mysqlnd        Enable mysqlnd explicitly, will be done implicitly<br>\n  --disable-mysqlnd-compression-support<br>\n                          Disable support for the MySQL compressed protocol in mysqlnd<br>\n  --with-zlib-dir=DIR     mysqlnd: Set the path to libz install prefix</p>\n</div></div>"], "reply": "3", "tittle": "看到你们 wp 都跑在 php7 上面，为什么 我的报错", "comment": ["已经找到问题 DB Cache Reloaded Fix  插件不兼容。禁用就好了。", "beta3 时做测试，确实没有，印象中官方也确认移除老旧的 mysql 库了", "应该是被移除了。需要自己后续编译。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我看官网还是 5.6 呢！谁升级了，体验下传说中的提高 2 倍性能</p>\n</div></div>"], "reply": "35", "tittle": "谁部署了 php7，放出来体验下！?", "comment": ["#freebsd  jail 已经准备好，坐等 ports 更新", "brew 里已经有 7 了，晚上试试", "谁部署了 php7 ，放出来体(yā)验(cè)下", "HHVM 路过", "我的是 rc 版本，有可以发博客了！ ", "收到了 ", " 的邮件，但我懒得部署了", "这事得看网速", " 预载入功能屌....但是不怕变相 cc 吗....", "wordpress 不能用，没有 php_mysql.dll ，虽说自带配置文件里有这个。。\r", "编译太麻烦，还是切回 5.6 吧……", " 不过没什么感觉呢。", "wordpress 可以考虑用 sqlite 了", "另外，用 php7 的 PGO 调教下先", "thinkphp  要改变太多", " 网站速度很快啊，不知道是 php7 的原因，还是网站本身优化得好。", "已经部署了，性能没看出来差别，基本都是几十 ms 到 100ms 的执行速度……", " 打开好慢\r", " 嗖的一下就打开了\r", "\r", "广州电信", "用的是 technetcal 家的虚拟主机，从 9 月份左右开始体验了一下 PHP 7\r", "刚换上时感觉速度很赞，现在并没有什么感觉了……或许我不该用缓存插件？\r", "现在用的是 RC7\r", " 、客户的项目", "自己 Docker 一个就行了。", "PHP56 vs PHP7  用 ab 压 Wordpress 博客 \r", "\r", "\r", "PHP7 + Wordpress \r", "\r", "\r", "PHP7 + lavarel \r", " 阿里云+http2+php7 。。。不过更多原因可能是没多少人访问吧", " 嘿嘿，谢谢夸奖", "dotdeb 的 php7.0 ，[This link]( ", ")", " IP 是美国的？谁家的主机？为啥速度这么快？", "后面\r", " ", " 多谢", "php7.0.0 fpm + nginx + letsencrypt 的 dockerfile 有么？不怎么会 docker 又想试试－－", " 加一", "  速度有提升", "没这么体验的吧，再说怎么体验啊 =_=", " 速度感觉提升不少啊 WP 的", "之前 beta3 时做的测试结果，供参考， wp 提升 30%以上，似乎并没有号称的一倍提升；不过服务器上还是老版本\r", " Wordpress 从 3.9 开始就已经支持 mysqli, 有什么不能用的.", "php7 非常好用...", " 之前没开 opcache ，现在开了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>大多数情况下 PHP 就够用了， PHP 虽然说被人鄙视得不行，语言设计也毫无亮点，但是重在两个字：好用， node 啥的写点辅助前端开发的工具，搭个博客还行，大部分情况下是没有机会在服务端用到的，拿 node 写业务逻辑，那叫一个蛋疼，总感觉不够稳（可能我水平不行吧</p>\n</div></div>"], "reply": "33", "tittle": "正儿八经做项目的时候还是会选择 PHP", "comment": ["一般来说，正儿八经做项目的时候还是会选择你最熟悉的语言...", " 还真不是，我本职是前端， php ， node 都马马虎虎，但是感觉 PHP 周边要强，什么支付宝 sdk ，微信 sdk 都会至少提供 PHP ， Java 两个版本", "对啊，总感觉 js 代码很不可靠", " 「 php ， node 都马马虎虎」\r", "所以你并没有一个特别熟悉的语言 /框架……", "  马马虎虎就是能用 node or php 两种方式做个逻辑不太复杂的 web 项目后对于两者的使用感受，两个都熟悉和两个都马马虎虎这个没问题啊，两者都是在一个水平层次下进行比较", " 我说的特别熟悉，是说曾经用某种语言，鉴选出一个合适的框架，然后开发一个或者多个企业级产品并上线使用，这样的程度。\r", "PS: 语言真的不重要。如果你有参与过架构设计的话，应该就会知道，现在的 MicroService 时代，对于你说的 SDK 只有 PHP 的问题，只要放一个独立的微型服务在那里暴露一个 API 做代理就行了，主程序用什么语言写都行。\r", "\r", "当然个人小型项目随便做做的话用什么语言都行，反正技术含量不高，直接学一下就能战了。", "其实 java 更多示范代码~", "写正经项目必须用最好的语言", "PHP 一统天下", "感觉 node 适合做逻辑简单，访问量高的接口。异步回调，一层套一层，想想就发怵", "PHP 我用过很多年， node.js 则是在比较早期的时候写过几个小的线上项目。\r", "现在如果要写正经的 web 项目的话，我会选 Ruby XD", " 如果是写 WebSocket ，目前真没发现比 Node 更好用的，两边能用同一套 API 呀……", "不是可能，就是。", " 2015 年了还在用嵌套回调写 node ，说明知识范围太狭窄了，还是别再写的好……", " 那你用什么...", " 同意，比如 promise 、 yield 、 async/await", " 楼上。", " 嵌套回调的编程模型比较简单, yield 的相对复杂.", " 复杂的不是 yield ，是如果想要用 generator 来做异步需要加多的那一个 scheduler ，也就是说，你需要 async/await ，或者在没有实现之前，得有 co 这样的垫脚石……然而只要有了这些基础设施写起来就跟写同步差不多了=___=（嵌套回调哪里简单了……“一层套一层，想想就发怵” 2333", " 我不使用 Node.JS, 它实现了 yield 之类的吗? coroutine 呢? 打算在未来的半年内学习 Node.JS. 嵌套回调是最简单的啦, 并且很可靠, 只是传参不方便. 一些著名的 C++网络编程的库的文档里, 还会出现七层嵌套, 标准用法.", "  \r", "看来这位兄台是搞了许多年 node 的高手了。\r", "我这样的菜鸟，嵌套写不下去了，才明白为啥叫回调陷阱。估计现在解决这个问题的各种方案比较多了吧。\r", "当初，我把主要模块，都写成 Express 的中间件了，还好当时的问题不太复杂", "php 果然还是最好的语言。", "前后端工作量差不多的话还是用一种语言顺手……", "php 是最好的语言", " yield 不是 Node.js 里的东西啊，是 JavaScript 里的，语言层面上的，在 ES2015 里被标准化，需要引擎支持，而 V8 已经支持了，然后基于 V8 的 Node.js 也自然就支持了（以前需要开 flag ，现在 Node.js 和 io.js 合并之后不需要开 flag 就能使用）。", " Express 是基于 Connect 的，用的是类似 CPS 的方法解决回调的问题，属于在引擎没有太多特性支持的时候，编程上的 trick 。 Promise 也是类似的 trick ，所以不需要 JS 引擎的支持，用起来就能改变你代码的形状。\r", "\r", "yield （或者说 generator ）这种涉及上下文切换的特性，则是需要引擎支持的，但是这个也是很早 V8 就支持的，虽然要打开 flag ，然后现在 ES2015 已经定稿了， Node.js 也和 io.js 合并紧跟最新的 V8 了，所以不开 flag 就能用……\r", "\r", "而 async/await 可以直接基于 generator 做实现，虽然 V8 还没有，不过用 co 这样的库可以直接达到类似的目的，只是一点点语法糖不同。\r", "\r", "所以总而言之， Node.js 里的回调嵌套问题，很早就有解决方案了啊…… Express 的继任者 Koa 是基于 generator+co 解决的嵌套问题，也是 2013 年就出现的，国外的不说，国内 Node.js 用得最广的阿里就是广泛使用 Koa 的，也有员工是 Koa 的 contributor 比如双十一天猫 Node.js 的负责人 dead-horse ……（ ", " ）（他今年双十一的 Node.js 应用分享在： ", " ，你看嵌套回调这种已经根本不是个事儿了提都不提……）", " 另外我不是男的，且我也没写 Node.js 多久啊……起码我刚学的时候就知道了 Koa 的存在，所以从来没觉得嵌套回调是什么问题，因为……干嘛要写嵌套回调啊？（除了某些逗比库只有嵌套的 API 需要你先自行封装一下）= =", " 好吧，我当初 js 都没学，直接搞的 node ，一路填了许多坑，估计最后也没把握他的精髓吧。另，你的四级成绩可把我吓跪了", " 我觉得嵌套回调很好......没什么坏处......", " \r", "你需要找一个五层以上的嵌套回调，然后试着理解它", "如果你对 Node.js 的认识停留在 callback hell, 那就真是了解不多, 也就不要拿这个 hell 说事~", " 还是可以理解的，特别是有 lambda 编程经验的朋友。", ")))))))))))))))"]},
{"content": ["<div class=\"topic_content\">如题\r<br>\r<br>手动去删除缓存文件后生效\r<br>\r<br>难道哪个 opcache 配置没有配置好？</div>"], "reply": "5", "tittle": "PHP7 开启 opcache 文件缓存后，修改文件，重启 php-fpm 不生效", "comment": ["opcache.validate_timestamps=1", "在生产环节里面，为了尽可能提高性能， fpm 不去检查每个文件是否跟缓存时候时间一致；\r", "\r", "如果你需要在 fpm 运行过程中修改一个固定文件，那是开发环境，最好关闭 opcache ，或者打开楼上所说的校验时间错功能。", " 这个选项配置我是关闭了的，没有开启，所有有修改文件时都是通过 reload php-fpm 来使修改生效", " 个人项目，修改频率很低，所有关闭的 validate_timestamps 配置，有修改时通过 reload Php-fpm 来使修改生效", "我觉得 @", " 已经清楚回答了这个问题."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>经 ab 压力测试，同一个 Laravel 应用在 PHP 7.0 下的性能相较于 PHP 5.6 提升了 54%，当然环境、硬件配置不同，数据会有出入，总体而言，该性能提升还是比较显著的：<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2398.html\">http://laravelacademy.org/post/2398.html</a></p>\n</div></div>"], "reply": "5", "tittle": "PHP 7.0 与 PHP 5.6 下 Laravel 应用性能对比分析", "comment": ["环境、硬件配置不同………………", "好像是我理解错了，应该是 “在不同环境、不同硬件配置下，提升的性能不同” ？\r", "刚刚理解为，两台不一样配置的机器来做对比……", "54%应该就是 100%的效率提升了", "php5.6 那个 homestead 中装了 xdebug 和 blackfire ，不晓得是否启用了，尤其 xdebug 启用了会非常影响 php 的性能", " win 下开启 xdebug,就一个 phpinfo 都要 2 秒....为什么"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>简单<br>\n无需任何配置，下载客户端之后直接一条命令让外网访问您的内网不再是距离</p>\n\n<p>本站的服务基于 ngrok 实现，防止 ngrok 官网被墙不能访问，我们把服务器架设在了香港，不仅大大加快了大家的访问速度，还不怕被墙了，本站虽然使用到了服务器产生了费用，但是本人承诺，不收取用户一分钱，完全免费提供给大家使用。<br>\n应用场景<br>\n在本机开发好的网站想让客户测试不再需要上传到服务器上面，使用本站服务轻松解决，仅需一条命令；微信开发也不需要再上传到服务器，本站服务器帮您解决 80 端口问题，实现微信服务器直接访问到您本机的 web 服务。<br>\n下载客户端使用<br>\n1. 版客户端： <br>\n     Linux 32Bit 版本 <a target=\"_blank\" rel=\"nofollow\" href=\"http://yunpan.cn/cH4QiHbhitdUZ\">http://yunpan.cn/cH4QiHbhitdUZ</a> （提取码： f651 ） <br>\n     Linux 64Bit 版本 <a target=\"_blank\" rel=\"nofollow\" href=\"http://yunpan.cn/cH4cQIrG6s4jE\">http://yunpan.cn/cH4cQIrG6s4jE</a> （提取码： b712 ） <br>\n     Linux ARM 版本 <a target=\"_blank\" rel=\"nofollow\" href=\"http://yunpan.cn/cH4cmFBHfFP4Y\">http://yunpan.cn/cH4cmFBHfFP4Y</a> （提取码： 3645 ） <br>\n     Mac OSX 32Bit 版本 <a target=\"_blank\" rel=\"nofollow\" href=\"http://yunpan.cn/cH4cH7tQdAeE9\">http://yunpan.cn/cH4cH7tQdAeE9</a> （提取码： a838 ） <br>\n     Mac OSX 64Bit 版本 <a target=\"_blank\" rel=\"nofollow\" href=\"http://yunpan.cn/cH4cLmFmqsgdp\">http://yunpan.cn/cH4cLmFmqsgdp</a> （提取码： 7efb ） <br>\n     Win 32Bit 版本 <a target=\"_blank\" rel=\"nofollow\" href=\"http://yunpan.cn/cH4cuA89rbMCZ\">http://yunpan.cn/cH4cuA89rbMCZ</a> （提取码： fcce ） <br>\n     Win 64Bit 版本 <a target=\"_blank\" rel=\"nofollow\" href=\"http://yunpan.cn/cH4crcKdbraBp\">http://yunpan.cn/cH4crcKdbraBp</a> （提取码： ef58 ）<br>\n2. 运行客户端命令 ngrok -config ngrok.cfg -subdomain t 80 意为将本地的 80 端口链接到 t.ngrok.sunnyos.com 上 <br>\n     参数解读：-config 是选择配置文件 -subdomain 是自定义域名前缀<br>\n3. 更多使用技巧，可以到 ngrok 官方去阅读文档。<br>\n传送门： <a target=\"_blank\" rel=\"nofollow\" href=\"http://ngrokd.sunnyos.com/\">http://ngrokd.sunnyos.com/</a></p>\n</div></div>"], "reply": "1", "tittle": "Sunny-Ngrok 内网转发，让外网访问本机 web 服务", "comment": ["挖个坟 我发现现在好多免流路由器用你的内网转发 我怎么决定会有风险"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>这个 discuz 报错，数据库用户名，密码都写对了，有说是硬件配置过低，（配置是 4 核 4G ），谁 TM 会解决？</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "Discuz! Database Error 2002 notconnect", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>discuz 6.0 后台运行记录调取的 logs 下的文件，这个文件夹曾经被删除了，现在文件夹找回来了，但是里面没有文件了，但是数据库还是可以找到记录的，怎么让后台 运行记录显示数据？请求解答~</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "discuz 6.0 后台运行记录 没有了", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>小弟的公司需要我去研究爬虫，但是网上的资料太过零散，买了一本《 WEBBOTS 、 SPIDERS 和 SCREEN SCRAPERS 技术解析与应用实践》,也从官网下载了这本书的一些 demo ，但是不知道是什么原因，一些代码运行不起来，也没有报错，也因为是中文版，所以翻译的一些地方看的不是很明白，请大神们帮忙推荐几本最好是 php 的书，小弟不会 python ，还请各位大神帮忙 推荐一些纯 PHP ，或者 php+python 入门的这些爬虫书籍，谢谢</p>\n</div></div>"], "reply": "44", "tittle": "请大神们推荐一些关于 php 网络爬虫的书", "comment": ["这还需要买书？", "与其从头写 不如站在巨人 @", " 的肩膀上   ", "\r", "只要学习如何解析页面即可入门 例子一看就懂", "没见过 PHP+Python 的组合\r", "PHP 做爬虫合适么？", " 我心里也是这么琢磨的一下， php 爬网页有个专门的函数 curl ，挺方便的，但是我没怎么用过", " curl 方便………\r", "你一定没见过 urllib3 ，更没见过 requests", " 嗯...没有见过，因为在做 php ， Python 学的不多，谢谢指点", "php 的话 你可以去看下 phpquery", " 额，我感觉 curl 很方便的，什么事都能干。还请指教。\r", "当然我没做过大规模的爬虫。而且受环境限制 Python 只用过 urllib 、 urllib2 ，感觉不是很方便。", " 这东西很好，另外强烈推荐： ", "PHP 并不是最适合写爬虫工具的语言。一定要用的话，推荐这本书 《 PHP Web Scraping 》。不过我觉得你迟早会回过头来找 python 的 beautifulsoup ，以及 javascript 的 phantomjs 的", " 谢谢，我看到了这本书，但是只找到了英文版，我的英语水平勉勉强强，看这种书，会很难理解，有中文版吗", " 菜鸟一枚，之前都没有弄过这些东西，还希望能够多多指教", " curl 不方便吗=。=", "大神们一般会告诉你 -> 用 Python", "用ＰＨＰ写也还行，看个人的熟练程度了，大型的爬虫系统不局限于开发语言，而在于架构，通常说的爬虫大部分是抓取网页内容而已，用什么语言关系不是太大", "scrapy", " 这是什么东西", " 就是因为不会啊，烦透了，买了一本书，里面有的 demo 不知道什么鬼", " 一个 framework ，教程很详细的[link]( ", ")", "curl 多线程+phpquery  研究透了 做爬虫没问题", " 嗯， thanks", " 麻烦问一下，您手里有没有资料，这样能给我省一些时间，谢谢", " 感觉这货就是 simple dom 和 phpquery 的杂合体", "PHP 命令行模式 + Simple HTML DOM Parser", " \r", " 看用途咯。\r", "curl 确实万能，基本上 linux 下大多数 http client 都是基于 libcurl 。但是太底层了，有些比较方便的功能没有，比如连接池。长连接对爬虫还是比较需要的。\r", "我个人其实用 urllib3 多一点，因为主要是写代理， request 包装太多。", "我也没找到 python 的爬虫教程(或者没找到比较完善的,感觉都是一部分一部分的教）", "那些说爬虫简单的... 其实你们在写“轮循 HTTP 请求”，不能算爬虫。", " 你就想着如何模拟人去浏览网页就行了", "找个美女图片的网站练手,动力满满", "PHP -> CURL + PHPQUERY\r", "BAIDU -> PHP CURL 多线程\r", "\r", "url -> ", "推荐一个封装 curl 的库\r", "\r", "\r", "处理 html 的话就是 phpquery 了\r", "\r", "php 做爬虫的话,主要是多进程没有好用的库,多线程倒是有 pthreads,其它像解析 js 可以用 phantomjs,验证码可以接打码平台或者写个小 python 脚本来处理...反正都能东拼西凑玩得不错\r", "\r", "其实最主要的还是要看你公司是需要怎么样的爬虫,比如是否定向站点爬取啊,爬取目标是否有反爬手段啊,爬取目标数据量级啊,这些都确定下来才好下一步的讨论", " shell 里也有 curl ，也可以爬网页，也可以称得上功能强大，但是要做真正的爬虫，还是得 python", " 但这个性能确实不错，作者也有在维护。一直在用", " 嗯，是的。看来要多实践一下", "你需要{\r", "\"PHP 爬虫库 1\":\"PHPCrawl\",\r", "\"PHP 爬虫库 2\":\"Goutte\",\r", "\"PHP_robot1\":\"Web Spider\",\r", "\"PHP_robot2\":\"Snoopy\",\r", "\"PHP_robot3\":\"PhpDig\",\r", "}", "如果只是想快速开发爬虫的话就用第三方库吧，楼上的大牛们都列出来了；如果你对做爬虫感兴趣的话可以看看那些开源库的源代码，对理解 HTTP 协议和前端技术有很大帮助。最后建议学的时候着重理解思想，因为思想在任何一个语言下都可以用的。另外有一个小窍门，就是如果你想找某一功能的代码或类库直接去 github 上搜索相关关键字就可以了，有的时候会有意外惊喜。\r", ":-p s. 你确定不学学 python ？ python 的爬虫技术可是出了名的强大和成熟。\r", ":-p :-p s. 好吧，我本人也不怎么用 python ，我都是用 nodejs 的，只是因为可以直接实例化成 Document Object 像在浏览器里操作那样直接用 js 操作，另外也可以在 node 中直接用 jquery ，处理 DOM 很方便。", " 我也想学 python ，但是时间问题，我现在只能用他们说的第三方库来做，我用了我买的那本书提供的代码，然后改了一些网站参数什么的，就无法运行，给那个美国作者发邮件，估计他也看不到", "php 做爬虫不合适，建议 python", " 我知道 php 做爬虫不合适，但是再去学 python ，花费的时间比较长，倒不是怕花费时间，毕竟是老板吩咐的，时间长了些不合适", "不要 python 了，直接上 golang", " 如果用的库并不冷门的话其实是可以在 Stack Overflow 上搜到答案的，没有的话也可以自己在 Stack Overflow 上提问，类似于国内的 CSDN 问答，好多开发者都会在 Stack Overflow 上关注自己参与开发的项目的相关问题的，实在不行，如果所用的库是在 github 上的可以直接提交 issue 提问。\r", "如果你只是快速写一个程序用个一两次的话是没什么问题了，如果把爬虫产品化的话还是学学爬虫领域的尖端技术吧，毕竟爬虫程序对效率要求挺高的。", "Curl + PhpQuery + Swoole", "可以看看鄙人的 spider-utils-for-php ，封装了大部分爬虫需要的核心方法：\r", "\r", " ok,好的， thanks"]},
{"content": ["<div class=\"topic_content\">要是 V2EX PHP 节点里右侧栏也有 类似 Python 节点里，推荐学习书目， Python Sites ，值得关注的项目之类的词条就好了，看了其它类语言，swift小弟，java大叔貌似也没有,淡淡的忧桑ing :（</div>"], "reply": "13", "tittle": "V2EX PHP 节点 淡淡的忧桑！", "comment": ["目前在搞 java 的路过", "PHP The Right Way", "php 的书我只知道一本《 php 与 mysql web 开发》，不过显然只能入个门。\r", "\r", "由于写 php 基本等于玩组件，还是看文档吧。框架， server 和数据库也最好看文档。\r", "\r", "就像 python 的框架， flask 和 dj ，也是看文档比较方便。这种东西出成书基本就过时了。", "官方文档写的多好。。没有一本书写的有那么好！", "楼主慢慢来一切会好的.", "PHP 的官方文档很不错呀。自带多国语言（中文）。", "php 自家文档就非常不错了\r", "\r", "一般是推荐入门买本书 等入门了就几本看文档了\r", "\r", "进阶的 php 书真的太少了", " \r", " \r", "像 Python 节点这样的学习目录罗列下，就一目了然了，我也是偶然发现的，就这么一问！\r", "主要是适合刚入门想学习的 V 友，少走点弯路", "c#更忧伤", "因为目前版的 V2EX 是 python 写的", "php 的文档比 Ruby 的好多了", " 怪不得经常挂，跟知乎一个衰样", " 豆瓣也经常挂，也是 python 写的。 dropbox 用 python 写就不挂。还是要看人的吧"]},
{"content": ["<div class=\"topic_content\">如果先合并再计算，耗时很长。。。不知道能不能不合并就计算出来呢\r<br>\r<br>\r<br>\r<br>\r<br>\r<br>\r<br>.</div>"], "reply": "14", "tittle": "1000 个 4M 文件，如何计算合并之后的文件 MD5 值效率高？", "comment": ["建议你看一下 MD5 的算法，他是分组进行计算的，因此计算过程中不要求你文件的连续性，即使你是连续的文件，在计算散列值的时候，依旧要拆分成一个个块，分别计算。", "当然可以，用 MD5_Update", "你把 4 个文件当成一个连续的文件看就得了。\r", "“ MD5 中的任意第 i 个分组，每次运算都由前一轮的 128 位结果值和第 i 块 512bit 值进行运算”\r", "你要做的就是每次输入下一部分数据的时候如果第一个文件结束了就用下一个续上而已。。。", "查了下， php 是这样， 5.5 以上 crypto.createHash('md5').update(\"123456\")", "cat *.txt | md5 > output.txt", "我错了，没看是 php 版。那就是 update 了。", "感谢，已找到方法", "$ctx = hash_init('md5');\r", "    foreach ($array as $fileArr) {\r", "        hash_update_file($ctx, \"{$dir}/{$fileArr[0]}\");\r", "    }\r", "    return hash_final($ctx);", "貌似不行吧, 和文件时间也有关系吧, 合并后时间变化了", " 时间是文件系统的，和文件内容无关。", " md5 只关注内容，除了内容以外的所有东西随便改不会变化。", " \r", " \r", "\r", "   记错了, 当时是给文件夹压缩, 然后求 md5, 这样和文件夹中的文件时间有关系", "可以的， update 就可以了， ", " 这个使用 js worker 做的，也是每次都一部分进行计算，以节约内存。", "如果文件只是简单的连接，那么不合并计算和合并计算是一样的。\r", "md5 算法是支持流输入的。"]},
{"content": ["<div class=\"topic_content\">nginx + php7 + opcache\r<br>\r<br><a target=\"_blank\" href=\"http://simpleforum.org\" rel=\"nofollow\">http://simpleforum.org</a> 以前 20 多毫秒，现在 10 多毫秒</div>"], "reply": "23", "tittle": "php5.6.14 -> php7 速度稍有提升", "comment": ["这都 100%了，还稍有提升啊？", "\r", "一个请求的处理比较简单，不能简单的说提升多少。", "php7 别再装 opcache 了。", " 不装 opcache ，要 40 毫秒+", " 单一请求不正是最能看出性能差别的么？反而越复杂牵扯的就越多，就难以判断了。", "这四舍五入就是一个亿啊", " 为什么= =", " 我觉得还是有必要的。鸟哥也说提醒开启 opcache 。", " \r", "我也觉得有必要\r", "反正测试下来，不开 opcache40 毫秒+，开了 opcache10 毫秒+", " 我刚才错了。", " ", " ", "为什么不去关注鸟哥的公众号", "\r", "升级前后都是 2ms ，于是我又用回 5.6 了……", " 原来如此，感谢。", "尝试编译了 JIT 版本的，不是 SegFault 就是爆一堆错误。", " 首页和贴子页面的左边不平齐", " \r", "是因为一个有下滑条，一个没有下滑条的原因吧。", "问题是你们是怎么拦截计算时间的？\r", "我用 Spring 框架，在拦截器获取的时间和在页面的时间计算，感觉不正确。", "我之前使用 php 7.0 beta3 版，针对 wordpress 做过测试（不是很严谨的测试），没有号称的提升一倍，但提升效果还是明显的，有 30 ％以上的提升，可以的话，还是推荐升级部署的。\r", "具体请参看 ", " spring 你确定你说的是 php 的？", " 想换 beetl 引擎。我只熟悉 java 那一套啊，因为想知道你们是怎么计算时间的，好对比。\r", " 为什么不改成毫秒显示", " 一般是程序开始，取当前时间戳，。程序结束，取当前时间戳，，，然后相减计算运行时间", " 装逼用的。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题，开发一套会员操作平台，具体的文档我们联系之后详谈。<br>\n在下方评论留下你的 QQ 等联系方式，我会主动联系你，谢谢。</p>\n</div></div>"], "reply": "8", "tittle": "找一位 PHP 开发技术，开发会员操作平台", "comment": ["Q ：一五 95 零 95", "说说预算，再谈别的", " 抱歉，已经被楼上那哥们接了", "过几天再来 V2EX 看 @", " 发布的吐槽贴。。。 233", " 你似乎想多了", " 我们合作很愉快，另外，不要用你那大众庸俗思想去评论哈", " 哈哈，别当真，开个玩笑", "就差个程序员系列。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>需求大概是这样，用户上传类似于个人简历的文件，导师希望后台能自动解析这个 word 文档，将其中的信息自动导入数据库……</p>\n\n<p>比如，简历里有：<br>\n姓名：李二狗<br>\n就可以在数据库的'name'字段自动插入数据：李二狗</p>\n\n<p>这个功能可以实现么？<br>\n最好不要涉及到语义识别？╰(￣▽￣)╮<br>\n谢谢各位大大~Orz</p>\n</div></div>", "<div class=\"topic_content\">第一次在 V2 发帖没想到得到这么多回复，蟹蟹大家~超感动~\r<br>\r<br>我知道 excel 导入 php 有现成的框架和代码，这个我查过了，比较容易弄，但是这边要求是 word 。。。\r<br>然后这边现在最担心的问题就是 word 格式不统一的问题。。。\r<br>让我再研究研究。。。再次感谢大家~</div>"], "reply": "17", "tittle": "能否用 PHP 实现 word 中的信息自动导入数据库？", "comment": ["可以，那你只能通过大量的 if else 了", " 这个主意不错，不知道我们导师会不会打死我。。。", "word 不如 excel ， phpword 和 phpexcel 两个框架就可以", "当然可以，你可以封装成对象。", "记得上次 有人发过一个在线简历解析的\r", "word 比 excel 麻烦...只做过 excel 导入 excel 的话 有很多开源的可用", "理论上能。通过开源库把 word 文件读出来，然后慢慢匹配。。\r", "实际上有点问题，如果写在表格里面，姓名：李二狗 有可能是横着写（同行不同列），也有可能是竖着写（同列不同行），读取的时候需要尝试判断。\r", "“姓名”有时候并不一定是姓名，它有可能是“姓（空格）名”，“姓（俩空格）名”，本来是为了打印出来好看，恩，你考虑处理一下吧。\r", "“电子邮箱”这个项目有 N 种写法：邮箱，电子邮箱， mail ， email ，以及其他可能看起来合理但我没想到的，匹配一下吧。\r", "万一某些简历模板在排版上有问题或者说为了照顾输出好看，出现类似这样的情况<td>姓名</td><td>：</td><td>二狗</td>，希望楼主不要太崩溃哦\r", "有些简历上写“学校”“专业”，另有些简历上是“学校及专业”，望处理过程中加以重视。\r", "\r", "另外在姓名一栏，不排除有哥们名字连 gb18030 字符集中都没有然后简历姓名一栏放了张图片。\r", "\r", "楼主加油，估摸着你花 20%的时间就可以实现 80%的简历的自动化录入功能；剩下的 20%极端情况，可能需要额外 4 倍的时间来处理。", "没个统一的序列化格式，这没法做啊", "一半做法参考:\r", "用 php 呼叫 word.exe 将来源 A.DOC(或 A.DOCX)另存成 A.XML\r", "然后记得 php 中要写结束 word.exe 的代码.不然每次转档都会多一个画面看不见的 word 在执行.\r", "接着你只要会处理 XML 就好了.word 能将 DOC(X)转成类似网页这样带有标签的 XML.\r", "接着你要找你要的文字分别对应哪些标签就可以了\r", "\r", "学过 XML 吗?\r", "建议用 Firstobject XML Editor 打开 A.XML.\r", "这个软体可以显示出 XML 的树状结构(左边).还有原始文字(右边).\r", "可以用搜寻文字先找你要的姓名或是电话的栏位值.\r", "对这个值按右键.这个软体选单有个 get path 这样的功能.\r", "然后显示在下方.这是个 XML 格式的路径.又称 XPATH.\r", "\r", "然后看 php 对 XML 的操作说明:\r", "\r", "尤其是开档和 DOMXPath 这两个.\r", "\r", "基本概念就是\r", " $word = new COM(\"word.application\") or die(\"Unable to instanciate Word\");  //呼叫 word\r", " $word->Visible = 1;  \r", " $word->Documents->Open('a.doc');  //来源 DOC 档\r", " $word->Documents[1]->SaveAs('a.xml',8);//8 是啥我忘了你查一下.\r", "//以下 3 行都是关闭 word.exe 用的.\r", " $word->Quit();\r", " $word = null;  \r", " unset($word);\r", "\r", "//xml 操作\r", "$xdom=load('A.XML');//函数没写完整.看手册.这里意思一下.\r", "$str=xpath('//xxx/xxx/x',$xdom);//前面的 xxx 路径就是 xpath 大致上的样子.后面是你开档的$xdom.\r", "echo $str;//有看到文字剩下的就是存入你的目标了.看是资料库还是.TXT 都可以.", "我研究过很久这个事情。 这里面包含两个难点，第一老格式的 doc 文件转换成文本文件。 第二，文本格式的简历格式化数据的提取。\r", "\r", "关于第一个，微软出了一份 word doc 文件二进制结构文档，可以参考。 \r", "\r", "关于第二个，有很多研究生论文写半格式化文本数据提取。可以下来看看。\r", "\r", "反正我的经验是如果要实现 90%以上的文本简历的正确提取，搞个一年半载的应该可以实现。", "其实我不是很明白这个需求本身，如果需要某些固定的信息，为什么不让用户填写表格呢？或者这只是导师让你练习使用某些库？", "word － xml － template", " 如果你面试过一定数量的人话，你会发现简历除了 51,中华人才网等几个大网站模板外，还有一大堆各种各样的奇葩格式简历的，特别是 UI ，哎...", " php 读取 word 不是难点，一些开源库就能实现，重点是在语义识别，如果你不做这个，那真只能是 if else 了\r", "不，还有一张，就是你只是正对模板话的数据进行识别，好处是可以识别大部分，缺点是，不是模板的样本你不能录入，这样你要维护一个模板库就好了\r", "突然想到人工识别验证码这个坑.....哈哈", "统一回答\"能否用 php 实现 xxx 的功能？\"之类的问题。\r", "答案是： \"可以，不谢\"", " 我是觉得用这样的方法收集数据始终会有疏漏，要花太多的时间考虑解决那些极少的情况（如果我上传的简历就是一张图片，还要动用 OCR 咧~~），还是让用户上传简历的同时填写表格吧， 大的招聘网站不是这样做吗？", " 现在是这么考虑的，就是担心简历格式不统一，如果格式统一的话就没有这么多麻烦了！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>阿里云市场有个<a target=\"_blank\" rel=\"nofollow\" href=\"http://market.aliyun.com/products/55586021/cmjz000551.html?spm=5176.900004.4.4.oay9EI\">phpwind9.x 积分兑换商城插件</a>，看其源码，事务用 lockProcess 搞，感觉哪不对，对 php 和 wind 不熟啊，感觉会有性能问题吧，如果搞个正儿八经的积分商城的话。</p>\n<div class=\"highlight\"><pre><span class=\"x\">/**</span>\n<span class=\"x\">     * 兑换奖品</span>\n<span class=\"x\">     */</span>\n<span class=\"x\">    public function doAwardAction() {</span>\n<span class=\"x\">        $info = array();</span>\n<span class=\"x\">        $info['uid'] = $this-&gt;loginUser-&gt;uid;</span>\n<span class=\"x\">        $info['username'] = $this-&gt;loginUser-&gt;username;</span>\n<span class=\"x\">        $info['prize_id'] = $this-&gt;getInput('prize_id', 'post');</span>\n<span class=\"x\">        !$info['prize_id'] &amp;&amp; $this-&gt;showError('奖品不存在!');</span>\n<span class=\"x\">        $info['num'] = $this-&gt;getInput('num', 'post');</span>\n<span class=\"x\">        $info['name'] = $this-&gt;getInput('name', 'post');</span>\n<span class=\"x\">        $info['address'] = $this-&gt;getInput('address', 'post');</span>\n<span class=\"x\">        if(!$info['address']){</span>\n<span class=\"x\">            $this-&gt;showError('详细地址不能为空');</span>\n<span class=\"x\">        }</span>\n<span class=\"x\">        $info['zip'] = $this-&gt;getInput('zip', 'post');</span>\n<span class=\"x\">        $info['tel'] = $this-&gt;getInput('tel', 'post');</span>\n<span class=\"x\">        if (!is_numeric($info['num']) || $info['num'] &lt;= 0) {</span>\n<span class=\"x\">            $this-&gt;showError('请输入正确的兑换数量!');</span>\n<span class=\"x\">        }</span>\n<span class=\"x\">        //读取应用配置</span>\n<span class=\"x\">        $config = Wekit::C('weibojifen');</span>\n<span class=\"x\">        //获取流通货币的名字，单位，以及该用户的值</span>\n<span class=\"x\">        Wind::import('SRV:credit.bo.PwCreditBo');</span>\n<span class=\"x\">        $creditBo = PwCreditBo::getInstance();</span>\n<span class=\"x\">        $credit_num = $config['prizeCredit'];</span>\n<span class=\"x\">        $credit_name = $creditBo-&gt;cType[$credit_num];</span>\n<span class=\"x\">        $credit_unit = $creditBo-&gt;cUnit[$credit_num];</span>\n<span class=\"x\">        $credit_value = $this-&gt;loginUser-&gt;info['credit'.$credit_num];</span>\n<span class=\"x\">        //得到奖品信息</span>\n<span class=\"x\">        $prize_info = $this-&gt;_getPrizeDs()-&gt;getPrizeInfo($info['prize_id']);</span>\n<span class=\"x\">        $needpay = $prize_info['price'] * $info['num'];</span>\n<span class=\"x\">        $needpay = intval($needpay);</span>\n<span class=\"x\">        if (empty($prize_info)){</span>\n<span class=\"x\">            $this-&gt;showError('非法 id');</span>\n<span class=\"x\">        }</span>\n<span class=\"x\">        if ($prize_info['num'] &lt; 1){</span>\n<span class=\"x\">            $this-&gt;showError('该奖品暂时缺货!');</span>\n<span class=\"x\">        }</span>\n<span class=\"x\">        if ($prize_info['num'] &lt; $info['num']) {</span>\n<span class=\"x\">            $this-&gt;showError(\"该奖品只剩下存货\".$prize_info['num'].\"件!\");</span>\n<span class=\"x\">        }</span>\n<span class=\"x\">        if ($credit_value &lt; $needpay) {</span>\n<span class=\"x\">            $this-&gt;showError('您没有足够的积分参与该奖品的兑换!');</span>\n<span class=\"x\">        }</span>\n<span class=\"x\">        //生成订单</span>\n<span class=\"x\">        $info['price'] = $prize_info['price'];</span>\n<span class=\"x\">        $info['state'] = 0;</span>\n<span class=\"x\">        $info['create_time'] = Pw::getTime();</span>\n<span class=\"x\">        $info['logistics'] = '';</span>\n<span class=\"x\">        $info['logistics_id'] = '';</span>\n<span class=\"x\">        $info['send_time'] = 0;</span>\n\n<span class=\"x\">        $_flag = 'add_order';</span>\n<span class=\"x\">        $_time = 300;</span>\n<span class=\"x\">        $servce = Wekit::load('process.srv.PwProcessService');</span>\n<span class=\"x\">        if ($servce-&gt;lockProcess($_flag, $_time)){</span>\n<span class=\"x\">            //积分操作</span>\n<span class=\"x\">            $creditBo-&gt;set($this-&gt;loginUser-&gt;uid, $config['prizeCredit'], -$needpay);</span>\n<span class=\"x\">            $creditBo-&gt;addLog('积分兑换', array($credit_num =&gt; -$needpay), new PwUserBo($this-&gt;loginUser-&gt;uid));</span>\n<span class=\"x\">            $creditBo-&gt;writeLog();</span>\n<span class=\"x\">            //增加订单</span>\n<span class=\"x\">            $this-&gt;_getOrderDs()-&gt;addOrderInfo($info);</span>\n<span class=\"x\">            //减少奖品数目</span>\n<span class=\"x\">            $this-&gt;_getPrizeDs()-&gt;updatePrizeNum($info['prize_id'], array('num'=&gt;num-$info['num'],'sellnum'=&gt;sellnum+$info['num']));</span>\n<span class=\"x\">            $servce-&gt;unlockProcess($_flag);</span>\n<span class=\"x\">            $this-&gt;showMessage(\"积分兑换奖品成功！\");</span>\n<span class=\"x\">        }else{</span>\n<span class=\"x\">            $this-&gt;showError('未解锁状态');</span>\n<span class=\"x\">        }</span>\n<span class=\"x\">    }</span>\n</pre></div>\n</div></div>"], "reply": "目前尚无回", "tittle": "求教！开发 phpwind 插件，事务只能用 lockProcess 吗？", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近需要基于 ThinkPHP 开发一个多级商城，需要模块化的架构设计，找到了两个软件，一个是 opensns,一个是 corethink,大家觉得哪个更适合？</p>\n</div></div>"], "reply": "1", "tittle": "基于 ThinkPHP 开发一个多级商城？", "comment": ["ThinkPHP 这种玩意儿就应该避免用..."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>正在学着写一个博客应用，编辑器用的是 ueditor,写完之后在编辑器里看着是正常解析的 html 语句，但是保存之后就被实体转义了。</p>\n\n<p>后端这样获取数据:</p>\n<div class=\"highlight\"><pre>$article = article::find($id);\n    $article-&gt;title = Input::get('title');\n    $article-&gt;body = Input::get('body');\n</pre></div>\n\n<p>是这里 input::get 做了转义还是 save 保存到数据库的时候做了转义？怎么样能让富文本正常显示呢？</p>\n</div></div>"], "reply": "5", "tittle": "Laravel5 如何让输入的富文本正常显示？", "comment": ["{!! $content !!}}", "后台编辑还是前台编辑？\r", "前台建议用去标签的 Markdown ，后台人员靠谱就放 raw data 进。", "1 楼正解", " 正解，问题解决了。", "{! !}"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img src=\"http://laravelacademy.org/wp-content/uploads/2015/12/2015-12-08-23-25-46-1024x348.png\" alt=\"Laravel 学院博客\"></p>\n\n<ul>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2116.html\">基于 Laravel 开发博客应用系列 —— 项目必备软件安装</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2124.html\">基于 Laravel 开发博客应用系列 —— 设置 Windows 本地开发环境</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2177.html\">基于 Laravel 开发博客应用系列 —— 设置 Linux/Mac 本地开发环境</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2207.html\">基于 Laravel 开发博客应用系列 —— Homestead 和 Laravel 安装器</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2232.html\">基于 Laravel 开发博客应用系列 —— 从测试开始（一）：创建项目和 PHPUnit</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2249.html\">基于 Laravel 开发博客应用系列 —— 从测试开始（二）：使用 Gulp 实现自动化测试</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2265.html\">基于 Laravel 开发博客应用系列 —— 十分钟搭建博客系统</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2279.html\">基于 Laravel 开发博客应用系列 —— 构建博客后台管理系统</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2299.html\">基于 Laravel 开发博客应用系列 —— 使用 Bower+Gulp 集成前端资源</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2320.html\">基于 Laravel 开发博客应用系列 —— 在后台实现文章标签增删改查功能</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2333.html\">基于 Laravel 开发博客应用系列 —— 实现文件上传管理功能</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2358.html\">基于 Laravel 开发博客应用系列 —— 后台文章增删改查功能实现（支持 Markdown ）</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2371.html\">基于 Laravel 开发博客应用系列 —— 前台功能优化：给博客换上漂亮的主题 &amp; 完善博客功能</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2410.html\">基于 Laravel 开发博客应用系列 —— 联系我们 &amp; 发送邮件 &amp; 队列使用（基于数据库）</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2438.html\">基于 Laravel 开发博客应用系列 —— 添加评论、 RSS 订阅和站点地图功能实现</a></li>\n</ul>\n\n<blockquote>\n<p>注：本系列教程整理翻译自<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelcoding.com\">http://laravelcoding.com</a></p>\n</blockquote>\n</div></div>"], "reply": "12", "tittle": "使用 Laravel 5.1 开发博客应用系列教程", "comment": ["吊炸天  看不懂....瞄", "不错～", "十分钟，为什么这么快，有时候一个参数错了都要调很久吧", "支持", "收藏了。", "收藏了。不过上面的网站进不了。英文的可以。", " 抱歉~ 由于主机放在国外 线路有时候不太稳定 T_T", " 只是个 demo", "灰常支持！！！", "支持，。", "收藏", "mark"]},
{"content": ["<div class=\"topic_content\">有个问题请教高手,我想筛选域名.在一个文本文件中,我想把.com.cn 的域名筛选出来.\r<br>\r<br>正则表达式是:  [\\.com\\.cn]$ 吗？\r<br>\r<br>用测试工具好像不对啊......</div>"], "reply": "9", "tittle": "不懂正则表达式", "comment": ["把[]去了就对了", "什么工具？", "  非常感谢回复，我去试试.............", "  正则表达式测试器", "看标签是 php 的话是 preg_match_all('/.*\\.com\\.cn$/m', $src, $result);", "方括号是字符列表，指里面“任一个”字符，所以只会匹配一个字符", "www\\..*?\\.com\\.cn\r", "这样？", "你表达的并不是很清楚，所以只能写一个模糊的匹配，如果再细分再留言吧\r", "/\\b.*?\\.com\\.cn$/g", " \r", "\r", "\r", "** 转载注明:( ", ")\r", "\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img src=\"https://ooo.0o0.ooo/2015/12/10/566a4de908735.png\" alt=\"E83B11B7-6C13-42F3-98AA-92FDEFA9A62A.png\"></p>\n</div></div>"], "reply": "15", "tittle": "这段代码要怎么简写呢？ PHPMD 提示需要那个 else 的", "comment": ["提示说不需要 else ，你可以简化代码去掉 else", "我知道，就是没想到简化怎么写", " 没想到简化怎么写", "在 if 里 return 就不需要 else 了", " 这里是在 foreach 中的，而且$links['img']也是一个数组，如果 return 了，数据就不完整了，所里，这里是无论如何都不能 return 的\r", "同时， else 也无法提到 if 之前，毕竟是$links['img']和$links['txt']是两个完全不一样的数组！", "if 中加入 continue\r", "然后删除 else ，直接把 else 中得代码暴露出来", " 感谢提醒！", "这个场景  真没必要 = =.", " 我只是想知道，简化的写法是什么样子的，因为我看到这个提示的时候，想了好久，都没有想到该如何简化", " 你 6 楼自己说出来了，就是 continue", " 用的 sublime 么? PHPMD 的插件?", " 真的呀？哈哈，谢谢\r", " 感谢提醒！\r", " 编辑器是 Atom ，用的也是 Atom 的插件", "楼主， ATOM 写 PHP 好使不？感觉界面挺漂亮，于是自己尝试了一下感觉很不好用啊，命名空间、类这些东西都不提示，跳转也不好使", " 需要插件！我用了 4 年 vim 了，感觉 vim 很折腾。后来发现了 Atom ，就一直使用 Atom 了。 Atom 上的插件很丰富，比 vim 安装，方便很多，而且没有 vim 那么折腾！\r", "你需要提示，可以安装插件来实现， autocomplete-php 之类的，插件很丰富，应该有你需要的功能", " 我觉得没什么可简化的了，你使用 continue 和 else 有什么区别吗？简化哪里了？ 没必要尽信那个什么 phpmd （我没用过）"]},
{"content": ["<div class=\"topic_content\">while($row2=mysql_fetch_array($result2))\r<br>    {\r<br>      $num = $num+1;\r<br>\r<br>\t$id = $row2[\"CID\"] \r<br>    ?&gt;  \r<br>    &lt;tr&gt;\r<br>      &lt;td align=\"center\"&gt;&lt;b&gt;&lt;?php echo $num ?&gt;&lt;/b&gt;&lt;/td&gt;\r<br>      &lt;td align=\"center\"&gt;&lt;?php echo $row2[\"Cname\"] ?&gt;&lt;/td&gt;\r<br>      &lt;td align=\"center\"&gt;&lt;?php echo $row2[\"Cage\"] ?&gt;&lt;/td&gt;\r<br>      &lt;td align=\"center\"&gt;&lt;?php echo $row2[\"Csex\"] ?&gt;&lt;/td&gt;\r<br>      &lt;td align=\"center\"&gt;&lt;?php echo $row2[\"Cphone\"] ?&gt;&lt;/td&gt;\r<br>\t  &lt;td align=\"center\"&gt;&lt;?php echo $row2[\"HouseID\"] ?&gt;&lt;/td&gt;\r<br>      &lt;td align=\"center\"&gt;&lt;?php echo $row2[\"Cnum\"] ?&gt;&lt;/td&gt;\r<br>\t  &lt;td align=\"center\"&gt;  &lt;a href=\"edit.php?id=$id\"&gt;修改&lt;/a&gt;&lt;/td&gt;\r<br>\t \r<br>    &lt;/tr&gt;\r<br>    &lt;?php\r<br>    }</div>"], "reply": "14", "tittle": "新手问题，从当前页面传值到 edit.php，传不过去。<td align=\"center\"> <a href=\"edit.php?id=$id\">修改</a></td> 这句话错了吗", "comment": ["尼玛\r", "form 标签呢", "这是表单？要有 From 标签吧", "打错了， form୧(๑•̀⌄•́๑)૭", "edit.php?id=<?=$id?>\r", "or  \r", "edit.php?id=<?echo $id ?>", "你前面都知道 php echo ,id 那怎么就忘了", " 是 edit.php?id=<?php echo $id ?>", "你要看链接生成的对不对，你这里一对 php 变量都没有放到 <?php ?> 标签里面", "第一眼就是 form 去哪了...", "<form  method=\"post\" > 这是 tr 的内容</form>，写进去后， edit.php  $id = intval($_GET['id']);还是得不到值么。。。\r", " \r", "其他不变，$id 改成 <?php echo $id; ?> \r", "即可，没必要用 form ，别管其他。", "你还是看 4/6 楼吧，$id 是 php 内容，前后没标记，就变成 HTML 内容了", "$id 改成 <?php echo $id; ?> 就好了！！感谢楼上两位！！！！@xgowex@haiyang416", "题主找到 PHP 的工作了吗？", "没必要 form"]},
{"content": ["<div class=\"topic_content\">如何做到输入倆符号自动到符号的中间<br>不用使用键盘的左键回去<br>有这样的快捷键吗<br>或还有更加给力 neng 提高写码的速度<br>看了老外视频 才想问问各路大神<br>win 下</div>"], "reply": "17", "tittle": "提高写代码速度一问？", "comment": ["vim   emacs", "引号？括号？\r", "phpstorm, sublime, atom 之类都能输入一个引号自动在光标后面加上另一个引号吧\r", "大小中括号也基本都支持的，你用的是什么编辑器居然做不到？", "提高速度有什么用？要是写代码瓶颈在手速就太牛逼了", "很多面向程序员的编辑器，当你输入左半边的时候，会自动在光标的右侧补上右半边。\r", "甚至是你选中一段文字后打引号的话，还会自动在文字两端加上引号。\r", "不妨说说你用的是什么软件。", "mac 下的 option+左 /右 是移动一个单词的位置，感觉写代码时很有用，而且简单。不知道 win 下有没有类似的", "atom", " win 下是 ctrl+左右", "然而写代码的并不像是打字=L=", "win 下,输入法也可以\r", "\r", " ", " ", "这年头随便一个编辑器都可以吧", "现在还有编辑器不是输入一半括号或引号自动完成另一半并且焦点跳到中间的吗……", "我想问怎么取消常见编辑器的这个功能，我喜欢手动打括号\r", "真把写代码当种地了.....", "我比较想知道在各种编辑器下如何快速使光标跳出括号 /中括号..", "好好构思代码比这有用多了.....节省下的 debug 的时间可换算为几个 1 秒？......", "佩服...", "多用智能 IDE 工具减少不必要代码编写"]},
{"content": "", "reply": "8", "tittle": "当 PHP 面试的时候，面试你的人没听过 Symfony，你怎么看？", "comment": ["他没有混过法兰西", " 这样的人技术会很牛逼吗", "不一定不牛逼，但是应该没什么前途", "这很常见吧，当年我有一个专门分析 symfony 的博客，后来写在简历里，多数面试官都不知为何物。包括现在很多用 laravel 的人，仍然不知道 symfony 是干嘛的。", " 很常见 不一定不牛逼", "同感啊，那天那面试官问题平时用什么框架，我说 大项目用 symfony2 小项目我用 Symfony Component ，他说没听过什么 Symfony ，接着问我， Thinkphp 用过吗？我说用过，他说您知道 D 和 M 方法有什么区别吗？我都不好意思答给他！！！", "会 Symfony 是个人爱好的时候居多，也是用来判断你个人是否会用大量的业余时间蛋疼的搞搞各种 PHP 相关的东西。\r", "如果你知道 Symfony 并且，那说明你足够闲。是可以优先考虑的对象...呃，应该是。", " 哪个公司要求这么低，哈哈， 让我去上班吧，正好失业~~"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>现在的场景是这样的 <br>\n原表 500w 左右的数据量  现在每 20 分钟会有 2-3w 的增量数据</p>\n\n<p>需求: 根据数据表中的一列(cid) 统计 同一种 cid 出现次数最多的前 20 名</p>\n\n<p>我自己的想法是 后台写一个脚本 定时读取这个表 读入 redis 利用 ZINCRBY 做计数器 <br>\nkey 是这样的: user_top:xxx(对应的 cid) 每读一行 相应的 key 加一  最后统计只需要 zrangebyscore</p>\n\n<p>然后在另一张日志表记录本次读到的 id  下次从这个地方接着读</p>\n\n<p>那么如果 redis 突然挂了或者发生其他原因导致服务不可用  那么即使做了 aof  也无法保证数据能百分百恢复 这样的情况下 该如何解决  , 或者还有别的什么解决方法来进行统计呢?</p>\n</div></div>"], "reply": "8", "tittle": "增量数据统计 每分钟 2-3w 原数据 500w", "comment": [">然后在另一张日志表记录本次读到的 id 下次从这个地方接着读\r", "\r", "也存到 redis ， redis 回档 id 也跟着回档了...\r", "\r", "感觉没必要坚持 redis 挂了也能正常工作吧？\r", "redis 数据丢了重新统计。", " 问题就是 redis 重启后 不是所有数据都丢 那么重新统计的话 怎么知道哪部分重新统计呢  必然会造成重复读取的情况", "除非 redis 有 bug ，不然最多会丢失最后未写入磁盘的数据。\r", "\r", ">然后在另一张日志表记录本次读到的 id 下次从这个地方接着读\r", "\r", "看你的需求了，如果真的一个都不想重复统计只能每统计一条就将当前已统计的 id 保存到 redis 。下次启动从 redis 读取。这样可以保证在最极端情况下只会重复统计一条。", "不用想太多， redis 挂了重新从原表再算一次就好了\r", "\r", "redis 很稳定，挂的概率很小。如果担心数据不一致，定期校验就好了。", "redis+akka", "我想说。。。 spark 很适合干这个", "假设 LZ 的数据增量记入 log 了\r", "这种计数的统计用 storm 更好吧~", "每 20 分钟的话，一个 mysql 就轻松搞定了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>使用 exec 命令调用 ffmpeg 。无论怎么设置参数（可能有隐藏参数没看到）都无法获取到返回值，因为要获取视频的信息所以一定要能获取到 metadata 。- -#</p>\n\n<p>调用 exec 命令 ffmpeg 直接输出了，并没有任何返回值- -</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>附上 code</p>\n<div class=\"highlight\"><pre><span class=\"cp\">&lt;?php</span>\n<span class=\"nv\">$return</span> <span class=\"o\">=</span> <span class=\"nb\">exec</span><span class=\"p\">(</span><span class=\"nx\">__DIR__</span><span class=\"o\">.</span><span class=\"s2\">\"/ffmpeg -i \"</span><span class=\"o\">.</span><span class=\"nx\">__DIR__</span><span class=\"o\">.</span><span class=\"s2\">\"/in.flv\"</span><span class=\"p\">,</span><span class=\"nv\">$output</span><span class=\"p\">,</span><span class=\"nv\">$return_val</span><span class=\"p\">);</span>\n\n<span class=\"nb\">var_dump</span><span class=\"p\">(</span><span class=\"nv\">$return</span><span class=\"p\">);</span>\n<span class=\"nb\">var_dump</span><span class=\"p\">(</span><span class=\"nv\">$output</span><span class=\"p\">);</span>\n<span class=\"nb\">var_dump</span><span class=\"p\">(</span><span class=\"nv\">$return_val</span><span class=\"p\">);</span>\n</pre></div>\n</div></div>"], "reply": "18", "tittle": "有木有玩过 ffmpeg 的童鞋？", "comment": ["这个跟 ffmpeg 没关系。\r", "你需要的是仔细看看 php 的文档 ", " \r", "\r", "output 始终是 array(0) {}\r", "return 始终是 string(0) \"\"\r", "&$return_var 唯独这个有用。但是无法获取 ffmepg 强制输出的内容。", " 直接在命令行里运行是什么结果？", "先把你的 code 贴出来好吧，不然怎么知道你的问题在哪？", "$return_var 返回的值是什么 这个值代表了程序是否成功执行", "ffmpeg 的输出，好像是输出到 error 那个流里面的", "当年为了将 m4a 转为 MP3 格式的，光安装就废了半天劲，后台终于勉强转换成功了，但貌似音质有损，不知是哪的问题。。。。", "2 > &1", " code 附上了", " 不行，这样获取不到任何输出了。难道一定要把转换放到后台然后把输出扔到一个随机文件里？", "语法错误，-i <filename>是指定输入文件，除非你要给输出的文件名。的确可以用这个命令来单纯查看文件信息，不过，输出都在 stderr 里，你要去“ 2 ”里取出来\r", "所以命令要加一个错误信息转向：\r", "ffmpeg -i input.flv 2>&1\r", "这样$output 就能收到了", "补一下相关 bash 知识， stdin, stdout, stderr, 2>&1 这些东西的含义", "<?php \r", "$cmd = \"/usr/local/bin/ffmpeg -i ~/Downloads/laji.mp4\"\r", "$proc = proc_open($cmd, array(array('pipe', 'r'),array('pipe', 'w'),array('pipe', 'w')), $pipes);\r", "fwrite($pipes[0], $input);\r", "fclose($pipes[0]);\r", "\r", "$stdout = stream_get_contents($pipes[1]);\r", "fclose($pipes[1]);\r", "\r", "$stderr = stream_get_contents($pipes[2]);\r", "fclose($pipes[2]);\r", "\r", "$return_code = (int)proc_close($proc);\r", "\r", "echo $stderr;\r", "\r", "?>", "  input 哪里来的？", " \r", " \r", "\r", "额外一个问题，处理命令输出输入是不是不能进行交互？比如回答 yes 等。 proc_open 的管道 fwrite 进去 y?", "用 C/C++写一个 PHP 的扩展，在扩展里面掉 ffmpeg ，应该就可以实现交互了。", " 一般命令行交互都有相关参数屏蔽 prompt ，你要查。", "  @", " 给出了一个很 NB 的例子。 参考 ", " (proc_open — 执行一个命令，并且打开用来输入 /输出的文件指针) 帮助你理解。\r", "另外 参数的意义要充分了解。比如 return_var 如果为非 0 那么表示这个命令运行遇到错误了 所以就要查看你的执行命令了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>要求如下：<br>\n1 、要求 PHP 、 MySQL 数据库、框架不限，当然最好是主流框架，如 ThinkPHP 或 Laravel<br>\n2 、可以对 对数据的 添加、修改、删除、搜索<br>\n3 、可以对 用户划分角色、分权限，访问不同的后台菜单。<br>\n4 、 UI 最好现代点儿，类似 bootstrap 风格或者简约、偏平风格<br>\n5 、扩展性好，比如增加一类管理数据的话，要比较简单、要代码量少<br>\n6 、类似 jUI （原 dwz ） <a target=\"_blank\" rel=\"nofollow\" href=\"http://jui.org\">http://jui.org</a> 这样的开源框架吧<br>\n大家推荐下吧~~</p>\n</div></div>"], "reply": "14", "tittle": "如何用 PHP 快速开发后台系统，可以管理人员、单位等信息、分权限？同时代码要优雅，扩展，修改灵活", "comment": ["估计这歌帖子 会沉下去", "全栈满足你", "laravel+各种扩展，要快递你必须要熟，不然快不起来", "onethink    opensns   corethink", "这是要个人积累的代码库，要用的时候生成就好", " 看似不错的样子，是你的吗？", " 是的", "要多快？\r", "自行实现个简易路由框架，使用 ExtJS 3.x + easyui 混合前端。（仅仅是为了好看而已）\r", "菜单由 ExtJS 支持，报表由 easyui 支持，具体内容直接内嵌网页（页面如果是报表，由 easyui 支持）\r", "功能操作弹窗完事（由 ExtJS+内嵌页面支持）\r", "\r", "页面功能一周完事。。", " 希望是，主要开发在后端，前端模板就行，基本不需要写前端的代码了。\r", "现在来看 ", " 最接近我的想法，只要改改后端的代码就能扩展新的数据管理了", "我有现成的  YII2+REDIS+bootstrap", " github 上的可以直接使用吗？我安装测试的时候访问地址就会 windows 下 WAMP 的 CGI 程序崩溃。", "不妨试试看 CoreThink ： ", " ，基本你的要求都符合了", "同样关注这个帖子"]},
{"content": ["<div class=\"topic_content\">我的程序是有一个全局数组$arrTmp ，不断接纳符合条件的数组（状态和 ID ），有三种：（ 1,id),(2,id),(3,id)。\r<br>当 count($arrTmp)&gt;300 的时候，执行如下函数用 medoo 这个数据库类提交 update 到 sqlite 数据库中，然后清空$arrTmp ，继续接纳新的。\r<br>\r<br>function updateSqlite($dbfile,$arr){\r<br>    $db = new medoo([\r<br>        'database_type' =&gt; 'sqlite',\r<br>        'database_file' =&gt; $dbfile.'.db3'\r<br>    ]);\r<br>    $db-&gt;pdo-&gt;beginTransaction();\r<br>    $value = array();\r<br>    foreach($arr as $value){\r<br>        $db-&gt;update(\"Content\",[\"status\"=&gt;$value['do']],[\"id\"=&gt;$value['id']]);\r<br>    }\r<br>    /* Commit the changes */\r<br>    $db-&gt;pdo-&gt;commit();\r<br>}\r<br>\r<br>等于是提交了 300 条记录更改，用时 6-10 秒。如果是 insert 的话，一次 500 条都很快完成。\r<br>\r<br>所以，想请教一下：\r<br>1.这个速度是正常的吗？\r<br>2.能更快吗？\r<br>3.我的这个函数是否有错，或者思路有错？\r<br>\r<br>谢谢！</div>", "<div class=\"topic_content\">感谢 @<a target=\"_blank\" href=\"/member/sivacohan\">sivacohan</a> @<a target=\"_blank\" href=\"/member/tmkook\">tmkook</a> \r<br>\r<br>问题的确如 @<a target=\"_blank\" href=\"/member/tmkook\">tmkook</a> 所言，是没有加索引的缘故。加上索引以后，完全没有一点停滞。和 insert 时候的表现是一摸一样的。</div>"], "reply": "12", "tittle": "如何提高更新数据库某字段的效率", "comment": ["检查了一遍，貌似描述不算乱，态度语气也没问题，怎么大神都不留个只言片语呢？ 555555", " 因为才过了 40 分钟", "300 条记录更改，用时 6-10 秒 这个耗时肯定不正常", "数据库记录有多少？是否加索引？", "1 ，数据库用 SQLite 的话是比较慢的。官网有说明，它的目标是替换 fseek 。如果想快的话，可以考虑 SSD 或者直接扔内存里。\r", "2 ，可以考虑把 300 个 update 合并为 3 个。即按照 3 个 status 分类， where 后使用 in （ id1 ， id2...）可能会有一定速度提升。", "另外检查一下 SQLite 版本，看看这个版本 transcation 实现的情况。我记得 SQLite 实现的是不完整的。", " 数据库记录有 50 多万条，没有加索引，只有 id(不是自增的)和 status （值就是 0 、 1 、 2 、 3 ）俩字段。", " 50 万没索引 300 多个请求这速度算正常的 @", " 已经说的很详细了，把索引加上再尝试合并请求，最方便的是换 SSD", " 用 where in 是我最初的考虑。后来发现用 Transaction 后挨个 insert 五百条上千条速度飞快，就去掉了那种合并的形式，结果 update 却慢了许多。\r", "\r", "SQLite 是 3 ，很有可能是不完整，我再查一遍，感谢指点。", " 因为没有索引，所以 update 时候做条件判断变慢了对吗？而 insert 是没有影响的。我觉得这个应该就是问题所在。", "REPLACE INTO ?!", " \r", " 感谢两位大牛指点。的确是没有索引的缘故，加上索引以后，和 insert 时候一样，完全感觉不到一点停滞。\r", "\r", "再次感谢！太赞了！"]},
{"content": ["<div class=\"topic_content\"><a target=\"_blank\" href=\"https://github.com/branchzero/discuz-x32-php7\" rel=\"nofollow\">https://github.com/branchzero/discuz-x32-php7</a>\r<br>改了一些不兼容的特性，强行兼容了一波 PHP7 。\r<br>速度提升还是挺明显的。\r<br>只弄了 UTF-8 的，其他版本自行比对吧。</div>", "<div class=\"topic_content\">先说明一下吧\r<br>function_admincp.php\r<br>rewritedata\r<br>function_threadsort.php\r<br>showsorttemplate\r<br>这两处暂时没想好该怎么改，不过不影响正常使用，其他地方应该能改的都改掉了。</div>", "<div class=\"topic_content\">上面两处也改好了，不兼容的地方都搞定了，完工。</div>"], "reply": "22", "tittle": "针对 PHP7 兼容的 Discuz! X3.2", "comment": ["哦买噶", "拜 Branch 菊苣\r", "老师快教我 PHP", "有什么已知问题么", "preg_replace_callback 的效率更高啊，原来如此。", " preg_replace 在 PHP7 下正则带 e 修饰符就无返回了，所以要改成用 preg_replace_callback =。=", " 别闹，前端菊苣，咱还想向你拜师学艺 233333", " 测试暂时没碰到问题，不排除有没找到的问题。。。", "所以说，这是改成 MySQLi 咯？", " 唉唉，奥，对… 受教\r", "\r", "看了下文档，原来 5.5 就被官方炸了。 基本也没有用过这个特性，刚知道…", " 是，自带 MySQLi ，不过看着嫌烦干脆把与 MySQL 有关的全部给干掉了。", "安装页面就 500 额，在哪里可以看到问题呢\r", " 修正了， install 给回档了。。。", "建议本地生成 diff 之后放 github 仓库或者 gist 吧,  discuz 每个文件都注明非自由软件, 版权归康盛所有, 而且我记得 discuz 的协议里有写禁止衍生分发, 建立分支可能会有法务问题.", " 多谢建议，等会儿去改。真没注意看协议的说。", "拜菊苣", "顶起来，让多点人试试看", "请问修改后对 discuz 上安装的第三方插件使用是否有影响？网站安装插件比较多，一时不太敢更新。", " 鸭梨山大 TAT", " 第三方插件可能需要做一些改动", " 好吧，只能等等这些插件作者更新了。", " 大部分插件应该是兼容的，主要还是 preg_replace 带 e 修饰符的问题，不过这个很少有用到的，你可以先装插件试试，不行再禁用就是了。", "膜拜菊苣"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>A Command Line App For Search Tickets From 12306</h2>\n\n<p><strong>命令行查询 12306 的火车票</strong></p>\n\n<p><img src=\"https://dn-laravist.qbox.me/2015-12-14_17-43-53.png\" alt=\"\"></p>\n\n<p><strong>目前为第一个测试版,后续后慢慢改善</strong></p>\n</div></div>"], "reply": "13", "tittle": "用 php 写命令行之：命令行查询 12306 火车票", "comment": ["怎么做到的？ 可以把代码公开吗", " 可以参考这个 ", "没什么乱用，属于自嗨。最主要是买到票", " github ", " 在贴主 GitHub 里，估计是忘了附带上。", "shell 的主题配色好帅~~", "有很多报错，如果地址非法，就会报错，可以在优化一下哦", "python  写一个", "鸟哥的微博见过此法", "这是 zsh 吗？这是什么配色主题？", " 我也想说的是这个😀", " cloud 的主题 我也在用 ", "   ", "\r", "\r", "填 json 就好了。。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>有时候当我操作某一个模块的时候，页面都会显示 Sorry, the page you are looking for is currently unavailable.。。。。。。。报错信息，我知道是是 nginx 的错误，但是 怎么修改，还请大神指点一二</p>\n</div></div>"], "reply": "1", "tittle": "Sorry, the page you are looking for is currently unavailable.", "comment": ["真标题党。。。\r", "\r", "我以为 v 站出什么神奇的问题了"]},
{"content": ["<div class=\"topic_content\">OS X El Capitan 系统默认的 php 的版本是 5.5.30 gd 是不支持 freetype 的所以 一般的验证码程序都不支持 因为没法使用 imagettftext 函数，现在一般的解决方法是通过 Homebrew 安装其它版本的 php ，不用系统本身自带的。\r<br>\r<br>我是个强迫症，所以找到一条可以通过覆盖安装，不用升级其它扩展到方式的来解决这个问题。\r<br>1 安装 Homebrew\r<br>ruby -e \"$(curl -fsSL <a target=\"_blank\" href=\"https://raw.githubusercontent.com/Homebrew/install/master/install)&amp;quot\" rel=\"nofollow\">https://raw.githubusercontent.com/Homebrew/install/master/install)&amp;quot</a>;\r<br>\r<br>2 安装重新编译所需要的依赖库\r<br>brew install autoconf freetype libpng libtool gd jpeg libtiff openssl\r<br>\r<br>3 做好软链接\r<br>brew link openssl --force\r<br>\r<br>4 下载 php-5.5.30.tar.gz \r<br>cd ~\r<br>wget <a target=\"_blank\" href=\"http://mirrors.sohu.com/php/php-5.5.30.tar.gz\" rel=\"nofollow\">http://mirrors.sohu.com/php/php-5.5.30.tar.gz</a>\r<br>tar xzvf php-5.5.30.tar.gz\r<br>\r<br>5 编译\r<br>cd php-5.5.30\r<br>./configure --prefix=/usr --mandir=/usr/share/man --infodir=/usr/share/info --sysconfdir=/private/etc --enable-cli --with-config-file-path=/etc --with-config-file-scan-dir=/Library/Server/Web/Config/php --with-libxml-dir=/usr --with-openssl=/usr/local --with-kerberos=/usr --with-zlib=/usr --enable-bcmath --with-bz2=/usr --enable-calendar --disable-cgi --with-curl=/usr --enable-dba --with-ndbm=/usr --enable-exif --enable-fpm --enable-ftp --with-icu-dir=/usr --with-ldap=/usr --with-ldap-sasl=/usr --with-libedit=/usr --enable-mbstring --enable-mbregex --with-mysql=mysqlnd --with-mysqli=mysqlnd --without-pear --with-pear=no --with-pdo-mysql=mysqlnd --with-mysql-sock=/var/mysql/mysql.sock --with-readline=/usr --enable-shmop --with-snmp=/usr --enable-soap --enable-sockets --enable-sysvmsg --enable-sysvsem --enable-sysvshm --with-tidy --enable-wddx --with-xmlrpc --with-iconv-dir=/usr --with-xsl=/usr --enable-zip --with-apxs2=/usr/sbin/apxs --enable-opcache --with-freetype-dir=/usr/local/Cellar --with-jpeg-dir=/usr/local/Cellar --with-png-dir=/usr/local/Cellar --with-gd\r<br>\r<br>6 修改 makefile\r<br>vi Makefile\r<br>EXTRA_LIBS 的内容去掉所有的 -lssl -lcrypto ，再加上 ssl crpyto 库的地址\r<br>基本上是以下内容\r<br>EXTRA_LIBS = -lz -lexslt -ltidy -lresolv -ledit -lncurses -lldap -llber -liconv -liconv -lpng -lz -ljpeg -lcurl -lbz2 -lz -lm -lxml2 -lz -licucore -lm -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lcurl -lxml2 -lz -licucore -lm -lfreetype -lxml2 -lz -licucore -lm -lnetsnmp -lxml2 -lz -licucore -lm -lxml2 -lz -licucore -lm -lxml2 -lz -licucore -lm -lxml2 -lz -licucore -lm -lxml2 -lz -licucore -lm -lxml2 -lz -licucore -lm -lxml2 -lxslt -lm /usr/local/lib/libcrypto.dylib /usr/local/lib/libssl.dylib\r<br>\r<br>7 编译\r<br>make\r<br>\r<br>8 关闭系统保护\r<br>重启进入修复模式 \r<br>重启后 按 cmd+R\r<br>进入终端控制台 csrutil disable\r<br>\r<br>9 最后安装\r<br>cd php-5.5.30\r<br>sudo make install\r<br>\r<br>10 开启系统保护\r<br>重启进入修复模式 \r<br>重启后 按 cmd+R\r<br>进入终端控制台 csrutil enable\r<br>\r<br>end</div>"], "reply": "6", "tittle": "OS X El Capitan php 5.5.30 覆盖重装 解决 gd 不支持 freetype 的问题", "comment": ["你这不是还是覆盖安装了整个 php 么？\r", "为啥不只覆盖 gd 这个扩展呢？", " 系统自带的 php 是静态编译 gd 库是编译进 php 里的 不是扩展模式", "  ╮(╯_╰)╭", "以前用 mac 自带的 php ， 改了些 php.ini 然后有次系统升级丫全给我重置了", "我的强迫症和你相反，不是必须的情况不改系统自带的文件\r", "\r", "homebrew 再装一个不就行了， PATH 变量里面自己装的比系统自带的优先就好了。。", "强迫症表示，忍受不了系统文件被修修改改"]},
{"content": ["<div class=\"topic_content\">希望能带有这些功能：\r<br>用户，用户组，菜单管理，权限控制，操作纪录等。\r<br>\r<br>ps: 听着怎么这么像 django?</div>"], "reply": "9", "tittle": "大家推荐一些开源的 php 后台管理项目吧。（权限管理 模型管理。。）", "comment": ["thinkphp 的倒是有", " 那个项目呢", "要求不高的话 \r", "github.com/somewhereYu/OSAdmin", "记得有个 thinkcmf", " 之前用的是这个。不想用他了。可配置性不高。基本没有 oo 的开发理念。", "有个基于 thinkPHP 的叫 OneThink", "trntv/yii2-starter-kit 配合 mdmsoft/yii2-admin 一个有权限管理+后台 UI 就出来。模型嘛， gii 对生成 crud 很方便", "强烈推荐基于 Thinkphp 的 OneThink ，完全满足你的需求，而且结合了 bootstrap 前端框架，大气，视觉感不错，值得拥有", " onethink 那渣审美设计也敢说好看么"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>是因为它是国产框架吗？可能作为前端没有深入去了解或者说没有碰到 tp 的坑，我觉得 tp 很好啊，上手容易，而且文档全是中文的，各位有深入了解的能说说 tp 的坑么？跟风喷的就算了</p>\n</div></div>"], "reply": "60", "tittle": "为什么这么多人喷 thinkphp？", "comment": ["没什么坑啊，我觉得挺好的。", "逼格不够", "挺好的，除了 url 不好看。", "冗余知识太多，很像 10 年前门户网站的首页，堆了一大堆东西", "QQ 空间相册啊", "回错主题了，请无视。", "看不惯国产而已，\r", "\r", "虽然 thinkphp 坑也是蛮多的，", "这么长时间遇到几个坑\r", "model 的验证   \r", "用数组传参数 array('repassword','password','确认密码不正确',0,'confirm'), // 验证确认密码是否和密码一致\r", "非常的乱  而且有的时候回莫名其妙的不好使。 遇到过很多次\r", "\r", "\r", "url 的蛋疼  每次都得配置 然后才能去掉 index.php/Home/ 什么的     当然这无所谓    关键是生成 url 的 U 方法不支持按路由生成 让我很蛋疼\r", "上论坛上看看很多 bug   但是官方很少去解决问题。 版本就一直是真阳\r", "\r", "\r", "什么关联模型 很多时候会出现问题  遇到过一次问题后 后悔用这个一辈子\r", "\r", "\r", "别的很好啊 不过跟 laravel 比起来我真的找不到一点优点", "在你知道一个东西有坑之前，你当然会觉得那东西自然是很好的。\r", "\r", " \r", "\r", "竟然语法错误。\r", "\r", "我是说，在你看到一个东西的瑕疵之前或者在你掌握了一个更好的东西之前，你会觉得你当前所使用的东西（或者知识 /经验之类）是最好的。\r", "\r", "但是随着时间的流逝，你积累了经验，或者开阔了眼界，回头一看你会发现那东西并不是真的好。\r", "\r", "ThinkPHP 就是这种东西，让你入了门，做出了一个看起来能运行的东西，所以你很喜欢。直到某一天你用了其他框架，体会到了新框架的好处，回头看了看 ThinkPHP ，可能就会觉得它又老又丑又没有规范。\r", "\r", "而且其实“文档是中文的”这个并不算优点。", "很多人都喜欢说东西被喷是因为国产，这种心态我觉得很无语。\r", "\r", "一切被说不好的东西带上国产两个字就可以甩得一干二净了？\r", "\r", "为什么那么多人说小米垃圾，因为国产。为什么那么多人说苹果好，因为美产。\r", "\r", "你可以拿国产当借口，说因为国人思维跟不上，说国人技术不到位。\r", "\r", "可是不能不思进取，不做检讨啊！！！！", "yii 得不得高一点点？", "说小米垃圾，很多时候并不是指他家的产品，甚至不是因为无脑米粉，而是一些整天上窜下跳的官方营销人员。", "用这玩意就做好把他的代码过一遍的准备。。其实也用不了多少时间", "ThinkPHP 的主要问题是本身大而全缺设计的不优雅 并且很多东西都采用 约定 的方式来完成 然后\r", "因为门槛低 什么样的人都用 \r", "因为大而全 所以就会被认为所有的事都应该是框架完成的 不要操心的 作为新手更意识不到如何去做安全 \r", "\r", "ThinkPHP 在乌云上被捅出来的相当一部分问题都是不正确的使用 为什么被捅得不正确使用那么多呢 入门特别快呗 国人用得多呗 \r", "\r", "框架就应该帮人做一堆的过滤吗 其他框架就都跟保姆一样 什么都做了吗 显然也并没有\r", "其他框架设计的更加优雅 他能让你很方便的在需要的时候引入自己的 ORM 引入自己的过滤机制 有问题就成了 这个库的锅 那个库的锅 而不是框架的锅了而已\r", "\r", "ThinkPHP 确实是一个很适合新手上手的框架 但他确实并不好", "laravel", "搜了下 ThinkPHP 的论坛，随手点开精华，跟到这个项目 ", " \r", "\r", "> 采用全球认可的最为先进的开放理念—— OOP （面向对象）\r", "\r", "好想吐槽啊。", "有些人是为了显示自己的逼格嘛。。。\r", "当然了等你用了之后，你会发现 tp bug 其实不少，然后你也会喷 tp ，不过这并不影响使用它，。。。", "喷 PHP 的难道就少了？我认为有人喷才是好事，这说明用的人多。当你提出个东西没人知道，也没人在意，那才是惨。", " [ThinkPHP, Django 这两个框架孰优孰略，忽略语言本身？] 马宏菩：你问 ThinkPHP 适不适合（零基础）速成找工作，没问题；你问 Th … ", " （分享自知乎网）", "其实就是大家看懂了 ＴＨＩＮＫＰＨＰ能找到问题了．\r", "其他框架大家看不懂，或者半懂．　大家找不到问题．\r", "\r", "TK 好不好.其实没什么关系呢.只要有人喷就表示有人在用，\r", "另外只要是ＰＨＰ就行了． PHP 大法给力!", "看了下 github 的代码。。。\r", "\r", "那个目录不想吐槽了。。。", "没做过几个项目就别说。。。只有体会过的才知道", "我特别怕错过人才，所以特别注意筛选简历的时候无视 thinkphp ，但简历上只有 thinkphp 的那部分候选人一直在挑战我的耐心。我只能说， tp 也许（在小部分场景下）不坏，但只会 tp 就太糟糕了", "TP 纯属让你写的舒服点，但是想进阶做点事情的话，就。。。作者设计的可扩展性太差了（作为同时代的框架， CI 这里就做得不错）", "小项目还行，大一点的就不行了，深有体会", "没有喷过，只是觉得一看就会用的东西没有征服的欲望", "1 年多没更新了~", "最近在维护一个历史遗留的 ThinkPHP 项目，各种想死 ...\r", "\r", "呐，首先是 项目编译 这个功能 ", "\r", "\r", "“项目编译机制作为 ThinkPHP 独创的功能特色，从 1.0 版本就延续至今，编译缓存的基础原理是第一次运行的时候把核心需要加载的文件去掉空白和注释后合并到一个文件中”\r", "\r", "这个功能只能通过 APP_DEBUG 为 true 关掉 ...\r", "\r", "然后要吐槽的都懒得详细吐槽了：\r", "\r", "- 大量的短函数\r", "\r", "- import （虽然早年我也爱这么搞，但是大哥现在都 15 年了 ... 能不能改改）\r", "\r", "- URL Rewrite\r", "\r", "早年我国产 PHP 框架记得有个叫 FleaPHP 的，也很好用，设计思路比 ThinkPHP 不知道高到哪里去了 ... 可惜作者跑去写 iOS 游戏然后坑了", "受不了它那个文档的浮夸风，读过就懂了", "没接触过 thinkphp 的之前,   也经常在各种场合,  见到很多相关讨论,  thinkphp 被喷的不要不要的\r", "\r", "我总是想 这些人也太偏激了吧 ?  \r", "\r", "大概一个月前,  帮一个朋友做点东西,  是 thinkphp 框架.\r", "\r", "边看文档变搞,  首先迎来的是  IS_POST,  IS_GET = =, 赶紧去源码看看,, \r", "\r", "一看不得了..  thinkphp 真是一个建立在常量上的框架.....真的是一大波常量\r", "\r", "接下来出场的是 早有耳闻的 M ,D 函数 \r", "\r", "然后写一些数据验证规则,, 文档上居然示例 array('name', 1, 'invalid username', 1, 2)\r", "\r", "大概是这个样子, 记不很清楚了..... 尼玛 硬着头皮写了几条, 还是没能记住 到底 1 是神马 2 是啥玩意儿..\r", "\r", "还是去定义的地方 model 基类去看看吧,  原来是 MUST_VALIDATE, VALIDATE_AT_UPDATET / BOTH 之类的..\r", "\r", "你说写完整 可读性该有多好!!! 然而 文档就这么宣传   1 , 2 , 3, 4   come on    zzzzzz ...... \r", "\r", "其他的关于 框架设计, 耦合  以及 不少 蒙蔽甚至误导 程序员思维的地方. ....\r", "\r", "算了 ... 我特么就不装逼了 = =,  over", "八卦一下， thinkphp 是几个高中学历的程序员做出来的\r", "\r", "声明：我没有歧视高中学历的意思哦，我老板是初中学历", " 这里的编译缓存的意思是说把那些分散的文件合并到一个文件来？", "看你这 ID …峰哥？", "刚刚点开 CNZZ 看了一下，来自 V2EX 的的访问倒挺多的。就觉得奇怪了。就来看了下。我也来说一句，#17 楼 @", " 提到的这个 ", " 这个项目的作者。对于你说的这个 OOP 思想嘛，我觉得现在的框架都是 OOP 吧，我在这里说是 OOP 思想应该也没有什么大错吧。另外我这个写个介绍好像也没有什么错吧。不知道哪里得罪你了？你想要吐槽什么呢？至于系统嘛，犹豫本人水平有限，做的确实有点粗糙，但是应该还是能为一些人提供一些方便的。这个只能说“大神”们呐，你们怀揣这惊世骇俗的本事，为何就不肯为我们这等屌丝造点福利啊。 TP BUG 很多大神们也没见你们写一个出来方便世人呐。收起你们的喷子心态吧，我怕“脏”了你们的嘴啊。", " 如见人", " 和 symfony 也找不出多少", "配置好的路由用 U 方法生成个看看，简直无情", " 老廖的 QeePHP 我也用过好久，现在转 laravel 了", "\"可能作为前端没有深入去了解或者说没有碰到 tp 的坑\"   你去深入了解下，你就知道了。。。", "我想应该是拉低了行业门槛，导致一大批非专业人员在用 thinkphp 做开发的原因吧~\r", "但是不可否认，『别人』的设计确实比 thinkphp 要好啊~", "坑还蛮多的，比如 model 连贯调用多个 params ，会直接忽略错误的 param,坑死爹", "用 thinkphp 大部分都是菜逼，想当年拿到一个什么小猪微信营销系统，那代码叫一个惨不忍睹", "走眼看成了 thinkpad 。。。", "软工架构比 laravel 差了一个数量级，而且文档写的很混乱，当时看了一遍居然他丫的没看懂...", " 2333333", "看见“看不惯”三个字我就想😂😂😂😂", "thinkphp 的 api 设计和文档非常混乱，翔一样的。你再去看看 ci 和 cakephp 的文档就会明白了 ，简洁优雅太多了", " 我也是啊，看到的时候要哭了", "会的人多", " 赞同，批评者让东西更完善，这一点亘古不变。", "现在有了更好的选择 Laravel\r", "目前我们项目还有 tp2.2(改了一些框架代码,由于迁移到 tp3.1 太费事了,工作量太大,继续保持在 2.2)\r", "还有 3.2 的 tp,3.2 和 3.1 差距很大,主要是 namespace 这一块\r", "TP 的文档算是比较小白的文档了,当然也有里面其实某些东西就说的不是很详细,至少 ORM 某些写法里面没有交代.\r", "\r", "TP 好不好? \r", "TP 就是用来干活的,站在交付这块还行,站在 php 框架领域就太 low 了.\r", "\r", "\r", "新项目我劝各位还是好好搞  Laravel 等.\r", "\r", "至于还在用 TP 的,大多数都是在维护项目嘛, 除非精力旺盛重构到  Laravel 去我估计是没时间实现了", " \r", "\r", "FleaPHP ……印象深刻……不过不是程序……是官方 QQ 群每天固定过了 17 点下班就开始福利泛滥……", "觉得它好用只是你没有碰上更好用的。\r", "打个比喻吧：\r", "就像你刚学砍树时，用斧子觉得很顺手，如果你不用锯，你就会觉得斧子是最好的砍树工具，当你有机会用上锯并且用正确之后，你就会发现你之前的世界观都改变了。这个时候再叫你用斧子去砍树时，估计你也是不愿意了。（原来还是有更好用的）", "我当初选择使用 TP 的主要原因就是中文文档和社区……\r", "做做小项目简单易上手\r", "\r", "之后我就不写 PHP 了", "熔岩大法好", "没喷过 但是用过之后发现只能是凑活 而且也只能是凑活了", "适合新手？表毁新手", " 后来去干嘛啦", "可以试试 slightphp"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img src=\"https://dn-phphub.qbox.me/uploads/images/201512/16/647/lly4ZeXTlt.png\" alt=\"Koel\"></p>\n\n<p>当你的电脑硬盘空间不够存放音乐怎么办？ Phan An 也遇到这个问题，于是他决定创建一个名为 Koel 的应用来解决这个问题。</p>\n\n<p>Koel 是一个基于 Web 的个人音乐流媒体应用，基于 Laravel 5.1 和 Vue.js 开发，目前支持搜索、排序、通过艺术家或专辑查看、播放列表、喜欢 /不喜欢歌曲、以及创建用户用于分享歌曲等功能。</p>\n\n<p>更多详情请点击：<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2624.html\">http://laravelacademy.org/post/2624.html</a></p>\n</div></div>"], "reply": "40", "tittle": "基于 Laravel 5.1 & Vue.js 开发的酷炫音乐流媒体应用 Koel", "comment": ["样式很像 Spotify 啊", "666\r", "\r", "一直想找一个这样的", "棒!  之前看过 ampache ，不过安装有些问题，对中文支持也不够好，试试看这个", "Vue.js 到底有没有将来? 想学又觉得跟 Angular Backbone 这些会很像", "666 能直接上传无损映像，但是播放单个音轨么", " 恩 确实有借鉴 作者估计也是 Spotify 用户 引文他在 wiki 里特意提到： It doesn ’ t stream from Spotify", " 这个对中文支持没问题", " 目前貌似不支持音乐上传 是通过扫描文件实现歌曲导入的", " 我的观点是精通一个 其它的了解即可 本质上都是相通的", " 嗯，上传还是扫描目录不是重点\r", "因为作为宅 收集的都是 整张 CD 的 flac ，如果不能识别里面有多少歌，那还得分割了放进去，工作量多了好多...", " 好专业 flac 是指整张 CD 还是单个歌曲", "赞!", "这个项目的作用是把本地电脑上的音乐文件转移到服务器上？", " 还可以扩展支持用户分享音乐 变成一个音乐站点", " 整张", " 这个我倒没试过可不可以 晚上回去试下 整张 CD 哪里下的", " \r", "1.不会有版权问题？\r", "2.直接用网易云音乐之类的不是更省心？\r", "\r", "不过你这项目还是很 nb 的，就是不知道在解决用户痛点的方面有多大意义。", "这个是本地运行，还是 WEB ？音乐怎么导入？", " 整张的有很多地方啊，作为宅，我经常去花园和漫游下...\r", "\r", " 现在版权原因 网易那么多歌都灰掉了...都是泪...", " 其实这个项目的初衷就是为了解决个人手机 /电脑空间不够存放音乐 存放自己的音乐 不是要做什么云音乐平台", " web 文章里面说了 通过扫描歌曲所在目录导入该目录下所有歌曲", " 版权基本都被 QQ 音乐买去了 所以我现在转用 QQ 音乐 不过也就闲来听听歌 没你这么专业~ 花园和漫步从来没听说过的说", " 没有 我只是收集癖而已\r", "\r", "我也想有个这种平台，主要是解决 听歌问题，毕竟 一会音频文件拷来拷去太麻烦了\r", "\r", "而在线大厂的里面有的歌都搜不到...", "这个网站 ", " 真的是 laravel5.1 制作的吗，为什么很多站都能检测出来，而这个站检测不出来:\r", "\r", "另外， laravel5 的 ab -c100 -n100 一直都是 30 request per second,为什么这个站能跑 200 多。如果他真是 laravel 5.1 制作的话，跑分不可能这么高啊。", " ", " 是项目介绍页面...", "群晖不仅可以实现这功能，还有 App", " 这个站不一定是 Laravel 做的 Koel 这个项目是基于 Laravel 开发的 此外 Laravel 的 RPS 哪有那么低 你是在虚拟机运行的吧", " 扫描目录，还能识别 CD 封面？音乐类型怎么识别？", " linode 东京, 1G 内存,ubuntu, SSD,在本机上执行的 ab 测试本机上的 laravel 5.1 demo.", " debug=false , php opcache 开启, php 5.6, 不信你可以自己在你的 vps 上测试一个 ab -c100 -n100 你站点的 laravel public 主目录。", " 这个跟配置有关系 1G 内存明显太小 留给 PHP 进程的内存极有限", " 这个我只是体验了下 还没深入研究 flac 格式晚上回去测试下", " 看了下源代码 只支持 mp3 和 ogg 格式音频", "  ", " ", " 修改源码 flac 和 ape 格式都能读取到列表 且专辑图片能正常显示 但播放不了 这个我有空研究下", "装完就卸了，电脑里没 mp3 。", " flac 解码也会有问题吧?", " 恩 播放不了", "卧槽，我一直以为程序有问题，我特么把 koel 安装在 vagrant 里，然后 setting 里填了一个我实体机的路径。。。一直扫描不到歌曲。。。", " 应该填 vagrant 上的目录～"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>之前在做 php 的开发时从来没有想过线程的问题（野生程序员的悲哀），最近在看朴灵写的《深入浅出 nodejs 》时，第九章提到了进程和线程。</p>\n\n<p>1 、对于这两个概念我一直很模糊，在网上查到的资料是阮一峰写的一篇文章，他把一个进程比作一间工厂，一个线程比作工厂里面的工人，那么是不是可以这么理解，一个进程可以包含多个线程，开启多进程主要是为了实现多 cpu 的最大利用化呢？</p>\n\n<p>2 、还有我了解到 php 是不支持多线程的，那么在多人访问网站的情况下不是会造成阻塞吗？但是事实上我们在浏览网站的时候好像并没有什么阻塞的情况发生啊？是因为 apache 做了什么吗？</p>\n\n<p>3 、另外 apache 和 nginx 处理 php 请求上有什么区别呢？为什么现在的网站都趋向于使用 nginx ，而不是 apache ，我对这两者的理解，只有 apache 是通过模块调用的方式来处理 php 请求的，而 nginx 则是将 php 请求转发到了 php-fastcgi 上面。</p>\n</div></div>"], "reply": "31", "tittle": "关于线程和进程的疑问", "comment": ["1.多进程并行需要多个 CPU 核心同时处理才能体现优势，但线程的优点不止这个\r", "2.你猜对了，是 apache 做了些什么，简略的说就是来一个请求， apache 就开一个线程来处理\r", "3.我不知道", "一个程序运行时至少要有一个进程，一个进程可以包含多个线程\r", "\r", "多个线程之间可以通信（使用共享内存），使得多线程可以处理同一个任务。例如使用多个线程压制影片。\r", "\r", "多个进程之间不可以直接通信（使用独立内存地址），例如开两个 VLC 播放器窗口播放不同影片，还有 Chrome 的每个标签页使用独立进程。", "  Chrome 的每个标签页使用独立进程？ 按照我的理解，是不是一个 cpu 只能开一个进程呢？如果是的话，那么 chrome 的标签页的数量是有限制的？是不是我理解错了呢", " 可以去了解一下 CPU 的任务调度。并不是说一个 CPU 只能开一个进程的。", " 1 个 cpu 怎么会只能开 1 个进程？\r", "那单核的机器，不都只能运行 1 个进程了？\r", "系统起来，就有很多进程了。。。大家按时间片切换去使用 cpu ，同一时间， 1 个核只能处理 1 个进程，应该是这样。", "  理解有偏差。 cpu 数和进程数没有关系。", "楼主既然已经有了线程和进程的疑问了，说明已经到了一个阶段了，那么在这个阶段下，我个人建议先不要去看 nodejs 这种，先去学一门强类型的语言，比如 C 和 JAVA ，然后再去翻一翻操作系统概念或 CSAPP 之类的书，总结一下就是，可以开始去通底层了", " CPU 的多任务机制允许一个 CPU 核心运行多个进程。最早的 DOS 系统是单任务，也就是一个 CPU 运行一个进程。现代操作系统允许多个进程轮流使用 CPU 时间，每个进程使用 CPU 的时间很短，每个进程从等待队列被放入 CPU 中运行，然后再进入等待队列，直到一个进程的任务结束。这就是打开 Windows 任务管理器，可以看到几十个进程同时运行的原因。", "都是多条线“同时”跑，你可以简单的理解成多个入口函数并行的在运行。\r", "\r", "但线程是共享内存地址空间的，也就是说 A 线程里的一个变量， B 线程可以直接拿来用。\r", "\r", "进程的的内存地址空间是隔离的，也就是说即使同一个变量，也是各用各的，互不影响。如果一定要影响，就需要特殊的手法。", " 好像之前我这么说也不太准确。总之和至少和（操作系统的）任务调度有关了。", "关于线程与进程的问题，建议看《操作系统概念》这本书", " 说得对，要想深入了解，《操作系统概念》这本书才是正解。阮一峰写的那篇文章举工厂的例子来尝试说明进程和线程，对懂的人来说很好理解，如果本来就什么都不明白的话看了还是不知所云。\r", "\r", "不过因为正好刚学过，我尝试解释一下。进程是指正在运行的一个程序，不仅仅包含这个程序的代码（ code ），数据（ data ），文件，还包括当前的运行状态，即指令（ Program Counter ），栈，和当前 CPU 寄存器的值（有时还包括堆）。新创建一个进程需要在内存中创建以上所有内容。对于 Web Server 来说，服务不同连接的代码、数据、文件都是相同的，只是运行状态不同。所以对每个连接都重新创建进程会造成资源浪费。\r", "\r", "而线程基本上就是对进程的代码、数据、文件进行重用，每个线程只是保存了不同的运行状态。于是节省了资源。\r", "\r", "另一方面，单个 CPU 同一时间只能执行一条指令，即只能运行一个进程。为了让系统能「看起来」在同时进行多个进程， CPU 需要不断地在进程之间切换。这就是 Multiprogramming 的概念。而进行进程切换的时候不但需要把 CPU 的当前指令指针（ Program Counter ）切换到下一个进程，并且需要保存当前进程的运行状态，载入下一个进程上次被中断时的运行状态。这部分时间其实 CPU 是没有做什么对程序来说有意义的事情的，称为进程切换的开销（ Overhead ）。\r", "\r", "线程之间的切换代价要小于进程之间的切换代价，因此使用线程节省了时间。", "进程是从系统拿资源，线程从进程中拿资源。", "最近也在思考这个问题,看来非要操作系统概念来一下了", " 其实上因为虚拟内存，多个进程之间，代码和文件也是可以做到不影响性能的共享的。特别是 Linux 下 fork 是 cow 的，浪费更是相当小。所以多进程相比多线程的好处，主要还是在内存隔离。", "多进程多线程，实质上是任务调度方式。具体要看在什么环境下讨论，事实上上面说的很多线程、进程的特点，在特定环境下都存在特殊情况，特别在 linux 环境下，线程进程的区别非常小。\r", "\r", "在 PHP 范畴，如果是指 PHP 做 web 的，因为前端的 apache/nginx 的多线程 /多进程 /异步模型已经封装好了这些需要并发的过程，到达你的 php 代码时候，只是需要 php 完成最后的实际任务而已，所以 php 不需要多线程。\r", "\r", "PHP 除了做 web 以外，其实还可以做桌面应用的，只是比较少见，比如用 php-gtk 写图形界面，那就得在 php 内调用线程库接口来实现多线程了，因而也不能说 php 没有多线程，实质上有没有多线程跟语言本身关系不是很大，因为不管什么语言，最终都成为操作系统里面一个进程，调用是操作系统的 api 。", "深入理解计算机系统  推荐看这本书", " 因为前端的 apache/nginx 的多线程 /多进程 /异步模型已经封装好了这些需要并发的过程   并不完全认同你的看法，如果真的 apache 和 nginx 处理了并发的过程，那边我们为什么在程序开发的过程中需要考虑并发的问题，比如说秒杀等功能的实现？需要用到队列和锁等机制", "公路的 “单向单车道” 与 “单向多车道”的区别。\r", "队列就是公路收费口。", "试着回答一下：\r", "1 、可以这么理解，一个进程可以有很多线程。多进程可以很好的利用 CPU 。\r", "\r", "2 、 3 、是的， Apache 和 Nginx 做了很多事情。\r", "Apache+php_module 是父进程+子进程的模式，每个访问请求会生成子进程，就不会有阻塞了。\r", "Nginx+PHP-FPM 的话感觉 Nginx 和 PHP 相互独立了， Nginx 遇到自己处理不了的请求就会给 PHP-FPM （ PHP FastCGI 管理器）处理，每来一个请求就会交给一个子进程去处理（这里根据 PHP 的运行配置不同效果也不同，子进程的数量可以是固定的也可以动态生成），然后 Nginx 对交给 PHP-FPM 进行轮训（ epoll 机制）。这样处理性能和资源占用都比 Apache 有优势。\r", "\r", "楼主可能也对 PHP MySQL 持久连接感兴趣： ", " （硬 SEO ）", " 这里的并发应该是竞争问题了吧。现在的系统能保证大家都能进来抢东西，但东西只有一个所以要排个队啥的。很可能你排上队了最后还是没有得到", " 因为你这是跟数据库打交道，前面说 apache/nginx 封装处理的，是 tcp 链接到 php 的输出输入部分的并发，至于你的代码去数据里面的并发，当然你自己处理了。", " 恩，理解了，谢谢各位的热心回答", " 是的，这里为了说明主要矛盾忽略了其他的优化和细节。", " C 是弱类型，你把强弱和静态动态搞混了。。", " 这个还说不上是优点，因为 IPC 其中就有一个说共享内存，这个是线程的优势。大概这是两者的不同吧，不能简单地说优点还是缺点，毕竟有的时候就是需要内存不隔离。", " 优点缺点相对的嘛。进程的优点似乎也就剩这个了。", "技术话题是很简单明了的\r", "看了 ruanyf 的比喻，我反倒不懂了", " 是啊，最直观的感觉就是创建线程的成本更低。其实很多时候是需要看场景的，脱离场景说优缺点，实在没办法。", "仅对于多任务而言，线程和进程的区别基本上可以忽略\r", "最大的区别在于内存管理上的差异\r", "\r", "单进程多线程因为有共享内存因而可以有真正意义的 session 以及缓存\r", "但是因为需要访问共享内存，必须考虑锁和并发，程序编写会比较复杂\r", "\r", "多进程单线程没有共享内存，所以 session 和缓存都只能依靠外部进程或文件系统\r", "但因为没有共享内存，程序编写不需要考虑锁和并发也更加简单\r", "\r", "php 语言本身就不支持多线程，也用不到共享内存，所以两种模型可以说毫无差异", "只说说问题 3 ：\r", "nginx+php ； nginx+Apache+php ； apache+php\r", "以上三种方式楼主可以自己搭建然后 ab 命令测试一下； apache 要做相应优化，要不更惨\r", "从左到右性能依次降低\r", "\r", "至于为啥楼上已经有人说得很清楚。。我就一句话，同配置下 nginx+php 能承受更大负载。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题，上次在项目中看到一个页面非常慢，整个 table 数据都是通过 ajax 生成 dom 来渲染的， ajax 中请求到的数据结果集有 5000-10000 条数据，其实接口响应时间并不慢，所以想问问，是不是使用 ajax 生成 dom 在数据量比较大的时候会很慢，或者说至少比 php 直接渲染慢？</p>\n</div></div>"], "reply": "27", "tittle": "使用 ajax 渲染页面快还是使用 php 来生成页面比较快呢？", "comment": ["一次性渲染 10k 条数据到 DOM 里，怎么都慢……\r", "除非 lazyload", "要看你 JS 怎么写的\r", "这么大的数据 估计怎么样都会挺慢的\r", "不过如果是 JS 插入 DOM\r", "如果操作不当(比如一条一条的插入并显示)\r", "导致 reflow 会让整个过程更加异常缓慢", "这么多数据。。 php 直接渲染效率肯定比 js 高。。", " 是那种用+拼接的方式将最终生成的字符串输出的方式，很想知道 php 和 js 在页面渲染这个层面上面有什么区别", " 为什么呢？ php 和 js 在页面渲染这个层面上面有什么区别？这个是不是会涉及到更深层次的浏览器页面渲染原理呢？", "我就问一句，你们不做分页", "从一个 Datatable 的角度来看，这是一个 client side 还是 server side 处理的问题。\r", "client side 的话，如果每一个数据都处理 DOM ，那是必然慢的，但是有优化方法，比如数据都存在 js 数组中，只在滚动表格过程中实时从数据填入 DOM ，这样优化后效率高很多。\r", "server side 处理，那逻辑会交到服务器上，一次的传输数据也少一些。\r", "\r", "方法各有利弊，自己决定。\r", "\r", "参考文献：\r", "百万数据的网页表格 ", "这么大的数据一次性输出，那么 php 处理你的服务器压力大， js 处理客户端的压力大。要找个平衡点，或减少数据量。\r", "Ajax 只是异步通信，你前端用什么框架渲染？", " php 直接渲染比 ajax 动态生成少了一步，就是 js 生成 dom 节点的过程。而 js 生成 dom 节点的过程会造成浏览器 reflow ，这是非常消耗浏览器资源的一种行为——量小的话还好，无所谓，量大的话比如你一次喂 5000 条进来，那是个浏览器都得跪。\r", "我觉得正常解法应该是 6 楼说的做分页或者瀑布流加载， 5000 条数据单次喂 20 条进来之类的，那样这两种方式区别应该不会特别大。。\r", "就算是 php 直接渲染的，页面上上千条数据，这个 document 文件本身大小估计也会很可怕。。", "是不会分页还是烂的实现分页？\r", "就算 js 一次取了 10000 条也不用一次都渲染啊，可以等滚动条到头再渲染更多的一部分啊\r", "我这个组件就有这个功能 ", " ，设置 limit 和 moreCount 就行了", " 不是这个是一个订单数据，给财务用的，分页没有意义，主要是给财务看的，没有什么问题，财务就会导出成 excel 表了，额，其实仔细想想直接提供导出 execl 就行了，不必输出这些数据", " 原生的 js 啊，没有用 js 框架，硬要说的话 jquery", "貌似大家都比较赞同分页的做法？", " @", "  拼接后 然后直接 innerHtml 插入性能是没有大问题的 也不会造成严重的 reflow\r", "和 php 比唯一的劣势是 php 渲染时候 可以边渲染 边输出 页面慢慢呈现\r", "用 JS 只能是最后一下子输出 不过对于最终结果而言 速度应该不会差太多\r", "\r", "其实这种需求 不如直接导出 csv 方便", " \r", "\r", "这问题不就解决了吗？导出 csv 给财务就好，记得注意下字符集的坑", "淘宝页面是 ajax 加载", "   回答问题了， 顺便 广告了自己的~~ 急着用的估计就直接 fork 或者 star 了。。   你为何这么机(pian)智(star)", "为什么不分页。。", " 😀我的组件用了些设计模式和其它组件，对新手不太友好，其实只需要 scroll 事件上绑定个函数判断下 scrollTop 然后再添加 dom 元素就行了， mdn 有个例子 ", "JS 写的时候加缓存", "不说用户体验？\r", "\r", "我个人建议是 php 渲染前 10 条给用户看首屏，然后加 json 。", "下拉加载就行了，只载入首页，其他通过 scroll 事件触发异步载入", "Ajax 生成 DOM......  头一次听说 ajax 有这功能啊！ 这不是 JavaScript 干的活么？", "这不是 react 的领域么？", "相同数据量的情况下（超过 5000 条），百分百 PHP 比 JS 快。同样 2 万条记录生成在 table 中。 PHP 大概等一会就正常。而 JS 极大可能会导致浏览器崩溃。", "当然 php 啊 世界上最好的语言啊 最好的语言都慢还玩个 JJ"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我们用 laravel 或 ci 框架中的数据库配置，然后在每个控制器中取出数据。这样是不是和每个原生 php 单页写一个 mysql_contact ，就是每个页面都要连接数据库一次。本质是不同的，就是说 php 框架可以为我们配置一个持久数据连接，减少每个页面时的数据库重复连接开销吗？有人说框架中也是每个页面连接一次，并不能减少连接次数。到底框架中和原生单页中的连接方式频率是一样的吗。另外支持 mysql 读写分离，支持 redis 的 laravel/ci 框架，会不会比 flask,revel 不支持这些的框架后期扩展多 PV 更有潜力。</p>\n\n<p>我发现 imooc.com 速度不错。请问根据 url 形式，这个网站有可能是用什么 PHP 框架做的。<br>\n是 ci2.0 吗？用了 redis 缓存吗？ imooc.com/corp/index<br>\n用了什么后端技术，访问这么流畅。<br>\n我在 linode 东京 ubuntu vps 上执行 ab -c100 -n100 imooc.com/corp/index  request per time : 600 多。<br>\n对谷歌执行  ab -c100 -n100   google.com/  request per time : 2000 多。<br>\n国内的很多网站，这个命令都返回是几十一二百到三四百。<br>\n我也想用一个好用的 php 框架， laravel 是优雅，就是 ab 的测试成绩只有 30 ，比 ci 210 差几倍。<br>\n请问 imooc.com 网站用的是 ci2 php 框架吗，到底怎么选择，谢谢。</p>\n</div></div>"], "reply": "22", "tittle": "PHP 框架 ci 和 laravel 的问题", "comment": ["> php 框架可以为我们配置一个持久数据连接，减少每个页面时的数据库重复连接开销吗？\r", "\r", "不能。", "> ab 的测试成绩只有 30 ，比 ci 210 差几倍。\r", "\r", "他们都说锯比斧子好用，于是我就拿着锯进了树林，砍了一条，累死我了，说实在的，比斧子难用多了。", "你这比较的有问题啊，首先 app 部署在什么性能的服务器，各级 cache 开没开都没有交代。", " 你什么意思啊，我听不明白。我在同样配置的 ubuntu 机器上， linode vps 上做的测试.", " ubuntu 14.04, linode 东京 vps, 1g 内存, SSD, 然后 php 5.6 ,opcache 开启， ci3, laravel5.1 debug=false.同样输出 helloworld,显示在首页上。", "要快的话用 yaf ，各种速度测试基本不带 yaf 玩", "没有 profile 的性能优化都是算命", "虽然没用 laravel\r", "\r", "但性能第一步不是找缓存么，关框架多大事……\r", "\r", "一般网站的性能消耗大头不是 mysql 和传输么……", "helloworld 级别的测试没什么意义", " 取 mysql 库， DB 表中的数据一条，出来显示在页面上，也是这样的测试 qps 差距啊。", " 很多框架的测试结果，会有几百倍，几十倍，的差距，框架本身性能真的可以忽略不计吗。", "如果我要是说 imooc 真慢， po 主会不会更晕……\r", "\r", "先不说框架问题，真正实际做产品的时候，系统架构才是最根本的问题。\r", "\r", "同样的一套产品源代码部署在一台 64 核 CPU & 128G 内存的机器上和 部署在 1 核 64MB 内存的机器上，然后比较运行速度，有任何意义吗？\r", "\r", "同样的服务器配置，部署在国家骨干网络线路机房和部署在你自己家里的小水管小区 ADSL 拨号宽带上，然后比较从地球另一端分别的访问速度，有任何意义吗？\r", "\r", "\r", "然后是 po 主的问题：\r", "\r", "imooc 是否使用了 redis ，有没有使用框架， 用的什么框架，甚至用的什么语言写的，除了 imooc 自己以外，没有任何人能给出正确答案，凡是给答案的都是猜的。\r", "\r", "nginx add_header x-powered-by: php/1000.1000.100 。后端确是 java   233333333\r", "nginx rewrite /*.php  /*.java 。 访问任何.php 文件，结果实际都是 java 处理的  23333333", " \r", "\r", "要是性能这么重要， php 早死了。\r", "\r", "要解决性能问题？很容易啊。\r", "\r", "缓存。\r", "\r", "缓存不能解决问题的地方， api+mvvc 。\r", "\r", "还不够？你都发达成这样了再找一批人开发一边也没问题了。", "数据库持久链接需要到 web 服务器的父进程，紫禁城。\r", "\r", "紫禁城才能用持久链接。\r", "\r", "框架只是保存了某个配置文件的值，然后跟会话一样，下次需要时取出来。。", "imooc.com/corp/index 这个网站根本打不开啊，难道是我打开方式不对？", "PHP 各个框架之间讨论性能意义不大\r", "laravel 偏重，缓存做下，也不会多慢了", "额。。。 ", "你 ab 跑出来是 30qps ，一天就是 260 万访问量。\r", "你的网站已经到这个数量级了吗？\r", "\r", "如果到了，那么就想办法一个月盈利 500 元然后换个牛逼的服务器吧。\r", "\r", "如果没有……", "有一个很重要的论点：\r", "\r", "Premature optimization is the root of all evil.\r", "过早优化是一切罪恶的根源。", "用 laravel 做了个接口， 60qps 样子，换成 laravel 的精简版 lumen ，同样的接口 100+qps 。", "所有的框架不都是要牺牲一些效能的吗。前后端框架都一样。", "撸主是来骗积分的，鉴定完毕。 "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>求解，文章系统，不需要多用户，也就是不需要用户登录、注册，纯文章。是用 smarty 来做，然后缓存下，还是把文章生成静态页面，还有就是伪静态，哪种方案好些呢？<br>\n1 、用 Smarty 的话，每次发布文章需要清空下缓存，如果数据量大了的话，每次清空缓存会不会有问题呢？<br>\n2 、生成纯静态页面的话，列表页是动态的？还是每次发布文章生成下静态的呢？<br>\n3 、动态数据做伪静态对文章系统是性能不好的吧。</p>\n</div></div>"], "reply": "15", "tittle": "文章系统，用 Smarty 好？还是生成纯静态好？还是把动态数据做下伪静态好呢？", "comment": ["预计访问量大不？如果不大，可以生成纯静态，省事儿，当然缺点就是以后想要改布局什么的就拙计了；如果预计访问量很高，那纯静态的硬盘估计要挂，伪静态比较好，改动方便，省事儿省资源。 smarty 性能拙计建议不用。", "用啥都不要用 smarty 性能一般 语法繁琐", " 访问量不大做成纯静态干什么啊？", "CMS 大多是发布文章后生成对应链接位置的静态文件吧，不过访问量不大的话也无所谓了。", "访问量有可能比较大，\r", " 不用 smarty 的话，比如换肤和缓存怎么做呢？初学 php 见笑了。\r", "\r", " 访问量大的话，用伪静态，那么数据库会不会成为瓶颈？这时候要用 redis 缓存，读写库分类，负载均衡了么？", " 没用 cms ，自己定制开发的", " =。= 我也没说是哪家的 CMS 啊，你自己的文章系统不也是属于 CMS （内容管理系统）范畴么。。。。只是说大部分市面上的 CMS 的做法而已。。。", " 08 年血的教训。。\r", "\r", " 没到那个地步。。。简单的图文一般有一层缓存就够了，带宽会是瓶颈。。总之纯静态的很难管理，磁盘碎片什么的够你烦的了，相对来说数据库方案更成熟可靠。", "我觉得还是基础的框架（如 CI ）搭配 Smarty3 进行开发吧。经过我的试验（用作 10k+大并发微信服务端+微信 HTML5 界面，咦会不会有人说是 H5 页面），性能足够了。纯静态的话还要考虑垃圾页面回收等一系列内容，得不偿失。", " 用 smarty3 ，是用的他的 cache ？还是其他用途呢？\r", "\r", "顺便感谢下楼上回复的各位，都已发放铜币表示感谢！", " Smarty3 相对于 2 有众多改进。当然，用模板系统一般都要打开 cache ，如果要更进一步，还是生成静态最靠谱。", " 感谢，铜币已送出", "cms 没见过清缓存出问题的，伪静态缓存 只更新相关文章。", " 都有用，但主要还是为了做到逻辑和模板分离。 CI 的模板引擎不太设计师友好。", "直接 DNS 把"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img src=\"https://dn-phphub.qbox.me/uploads/images/201512/19/647/ObHt1ntjrg.jpg\" alt=\"Laravel 5.2\"></p>\n\n<p>Laravel 5.2 Beta 1 已经标记发布以便提供给早期尝鲜者进行测试。</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2666.html\">升级指南</a>已经包含了所有升级说明，如果你对 Laravel 5.2 有哪些新特性感兴趣，还可以查看这篇文章：<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2653.html#ipt_kb_toc_2653_1\">Laravel 5.2 新特性说明</a>。</p>\n\n<p>和所有的测试版本一样，代码还会有所修改和优化，稳定性也不能保证，望知悉。</p>\n\n<blockquote>\n<p>原文链接：<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2669.html\">http://laravelacademy.org/post/2669.html</a></p>\n</blockquote>\n</div></div>"], "reply": "4", "tittle": "Laravel 5.2 Beta 1 已经发布，感兴趣的同学可以尝鲜了", "comment": ["一些其实不要翻译更好。。 Facades ：门面！", "好难读的中文，\r", "Auth 居然又改了 \r", " 参考设计模式中的门面（外观）模式翻译", " 英文好的可以略过～"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在 php 框架 slim 、 laravel 和 nodejs 的框架中都出现了中间件的概念，貌似这个概念是近几年才出现的，我个人在看中间件的时候的感受是中间件有点像之前一些框架中出现的过滤链，大家是怎么看待中间件的呢？它是为了解决什么问题而出现的呢？</p>\n</div></div>"], "reply": "2", "tittle": "应该如何理解中间件呢？", "comment": ["把处理请求的流程划分为一个个中间件，可以像插槽一样插上使用或者拔下来不使用，每个中间件都高内聚，低耦合，复用性好。", "拿 slim 的中间件来说，中间件也可以理解为插件，以前的情况是各种框架存在各种各样的插件，没有统一的标准，结果是代码几本不能重用。 slim 中间件根据 psr7 接口的约定，提供了一种统一的插件开发的规范，使得所有遵循这种规范开发的插件开箱即用，关键字 psr7 middleware"]},
{"content": ["<div class=\"topic_content\">&lt;select name=\"houseid\" size=\"1\"&gt;\r<br>\t\t&lt;?php\r<br>\t\trequire_once 'functions.php';\r<br>\t\tconnectDb();\r<br>\t\t$result = mysql_query(\"SELECT HouseID FROM houseinfo WHERE status=0\" );\r<br>\t\t\twhile($colum=mysql_fetch_array($result)){\r<br>\t\t\t?&gt;\r<br>\t\t\t&lt;option value=\"&lt;?php echo $colum[\"HouseID\"];?&gt;\"&gt;&lt;?php echo $colum[\"HouseID\"];?&gt;&lt;/option&gt;; \r<br>\t\t\t&lt;?php\r<br>\t\t\t}\r<br>\t\t?&gt;\r<br>       &lt;/select&gt;</div>"], "reply": "13", "tittle": "PHP 新手问题！下拉菜单，从数据库读取，下拉框还是没值", "comment": ["在 sql 客户端里面运行一下这个 sql ，有没有值。", " 运行 SELECT HouseID FROM houseinfo WHERE status=0 该语句，是有值的。", "可以先把报错打开，看看有没有错误", "新手就一定要学 PDO 或 mysqli 方式连接数据库，不要使用老旧的 mysql 方式，\r", "php 7.0 版本已经删除了 mysql 方式，\r", "还有一点就是该用单引号时，就不要用双引号，\r", "最多人使用的 wordpress 是严格遵守单双引号的使用的", "什么年代了，还用 mysql_*。体育老师教的？", "为什么我觉得前端这样写不就暴露 sql 注入？", " 应该怎么写", " 根本没有输入的地方，咋注入？", "var_dump 试试", " 这样有什么问题吗", " 安全问题，早就已经被淘汰的用法，不要再用了", "推荐一个 LIB\r", "已解决，该页面是要用 PHP ，而我却用了 HTML 文件。导致无法连接数据库。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>试了下 syslog 和 print ，都找不到输出到什么地方了</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "mac 下的 php 环境， nginx + php-fpm, 相关调试日志在那个配置里？", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>本来看起来结构清晰的 JSON 文件(有换行和缩进)，在被如下程序更新之后就变成只有一行了. 有什么办法让缩进换行结构保持不变吗？谢谢。<br>\n$updatedContent = json_encode($tables);<br>\nfile_put_contents($file, $updatedContent);</p>\n</div></div>"], "reply": "4", "tittle": "[求助] JSON 文件格式化输出", "comment": ["输出的时候加个参数 JSON_PRETTY_PRINT", " 非常感谢！", " PHP 真面向对象语言，竟然这么多常量。", " 这些传统 fn 还要很长时间过度"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>这些改进还是很值得期待的：<br>\n移除了所有 bootstrap extension （这个后台可能会用到，但是前台现在流行 anglarjs 和 vuejs ，所以比较鸡肋）<br>\n使用.env 来做配置<br>\n更加解藕<br>\n兼容 psr － 7<br>\n参数注入<br>\n移动 Yii::getAlias()等帮助函数到相应帮助类（比如 FileHelper::getAlias())<br>\n删除了 fxp composer plugin 插件<br>\n另外也不会生成 javascript 代码了（包括表单验证代码）</p>\n\n<p>然后要求 php5.5 或者更高。。。</p>\n\n<p>更多请点击：<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/yiisoft/yii2/wiki/Ideas-for-2.1\">https://github.com/yiisoft/yii2/wiki/Ideas-for-2.1</a></p>\n</div></div>"], "reply": "7", "tittle": "YII2.1 貌似做了很多不向下兼容的改动", "comment": ["虽然自动生成 js 表单验证挺方便的，不过个人感觉应该和 js 更分开一点。现在公司的项目 Yii2 配置在用.env ，当然是先从 laravel 接触到的。", "很好，做了这些改进， yii 用起来就不辣么奇葩了。", "用 yii2 和 lar 溜的飞起", "期待", " YII 貌似算不上奇葩吧，再怎么也是排前五的 PHP 框架", " 其实自动生成 js 验证挺好的，我模型的规则写好就行了，不用再动 js 。", " 是挺方便的，挺好用的，功能比较全，性能也不错，不过有时候处理 js 确实怪怪的。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>现在的业务是这样的:<br>\n商家订单流水分表分了 40 几张  根据商家 id 取模分的表</p>\n\n<p>我现在后台默认要显示所有订单流水  那么如何查询这么多分表的数据呢  要是就几张分表 union 就可以了,可现在这么多分表......  merge 也不能用</p>\n</div></div>"], "reply": "4", "tittle": "mysql 分表数据查询", "comment": ["for ( i=1; i <= 40; i++) {\r", "  result[] = db.query(table_i);\r", "}\r", "\r", "是想要这样吗", " 这样查肯定不行啊", "  您的需求不是查询 40 张表的所有数据吗", "那就搞张合并的表啊, 有数据更新了, 往合并表里写入据\r", "如果不要求实时, 就搞个 job 来做\r", "如果只是简单数据, 那就扔 cache\r", "如果不放心 cache, 那就定时同步到数据库"]},
{"content": "", "reply": "4", "tittle": "php 怎么正则匹配出客户端 post 内容里表情符号？", "comment": ["emoji ？", "(´≖◞౪◟≖)", "给你一个\r", "'/[\\x{1F600}-\\x{1F64F}]|[\\x{1F300}-\\x{1F5FF}]|[\\x{1F680}-\\x{1F6FF}]|[\\x{2600}-\\x{26FF}]|[\\x{2700}-\\x{27BF}]/u';", "先 json_encode ，然后 \\u 开头的，一定范围内的都算是 emoji\r "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><div class=\"highlight\"><pre>&lt;?php\nsetcookie(\"name1\",\"value1\",time()+3600*24,\"/\",'v2ex.com');\nsetcookie(\"name2\",\"value2\",time()+3600*24,\"/\",'.v2ex.com');\nsetcookie(\"name3\",\"value3\",time()+3600*24,\"/\",'www.v2ex.com');\n\nsetcookie(\"name4\",\"value4\",time()+3600*24,\"/\",'v2ex.com',true);\nsetcookie(\"name5\",\"value5\",time()+3600*24,\"/\",'.v2ex.com',true);\nsetcookie(\"name6\",\"value6\",time()+3600*24,\"/\",'www.v2ex.com',true);\n?&gt;\n\n&lt;a href=\"http://www.v2ex.com/\"&gt;http://www.v2ex.com/&lt;/a&gt;\n</pre></div>\n\n<p>除了用 js 和 iframe ，单单用 php 能否设置任意第三方网站的 cookie 呢？</p>\n</div></div>"], "reply": "21", "tittle": "如何用 PHP 在 ", "comment": ["一个字 不得行", "如果可以的话谁还敢用 Cookie ？", "收购 ", ", 然后再 ", " 302 到 ", " ， ", " 的响应里面设置好 cookies ，然后再 302 回去。", "Lack of common sense", "叼！", "sso\r", "\r", " \r", " \r", " \r", "\r", "忘了备注\r", "如果前提条件是 ", " 和 ", " 都是我能任意控制的网站\r", "\r", "我想打开 ", " 网站的时候\r", "不用 js 和 iframe ，单单用 php 就能设置 ", " 的 cookie ？这两站都是我的也不行吗？", "就是单点登录嘛。\r", "前提是这些网站必须你都有 root 权。", " 开放一个接口给 ", " 去请求，在请求响应中设置 ", " 的 cookie 也可以", " 那就没问题啊， 302  302", "cookie 是发送给浏览器去设置的啊，浏览器能让你只开 aaa 页面而不开任何 bbb 页面设置 bbb 域下的 cookie 吗？显然不行啊。\r", "\r", "除非你的应用内置 webview 之类 hack 掉浏览器限制。这跟浏览器有关，跟 php 没多大关系。\r", "\r", "那些 SSO 解决方案无非就是用各种方式让浏览器隐藏打开不同域的页面让其设置 cookie 。", "cookie 同步", "两个网站放到同一个域名的子域名不就行了？", "只有 ", " 域下面的东西才能改 ", " 的 cookies ……除非你魔改浏览器", "cookie 是什么？是浏览器保存的一小段文本！而浏览器不会跨域名保存的", "cookie stuffing", "看楼主描述， cs 也不符合题意。", "都洗洗睡吧\r", "楼主是要自己做个浏览器的人才\r", "\r", "我们只会 sso 和 cors", "在 aaa 中 iframe bbb 的设置 cookie 页面\r", "你去看看 ", " 登录之后有一个中间页面就是用来写 cookie 的", "既然有这个问题，我想问下如何解决 Safari 下的跨域写 Cookie 问题，在 Chrome 和 Firefox 都没有问题。", "SSO 吧"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>于几个月前开始学习 PHP 。起初是看着极客学院的视频学习了基本语法，然后自己学习了 thinkPHP 框架， MYSQL 应用，以及 HTML ， CSS ， js 等前端知识，期间使用 thinkPHP 框架做了一个小型的网站并投入使用。</p>\n\n<p>现在大三了，想走 PHP 开发，然而这条路越走越迷茫，不知道接下来应该怎么做，感觉自己太菜，连明年能不能找到工作还没有底。</p>\n\n<p>不知道想要成为一名合格的网站开发程序猿应该 get 哪些技能？希望有好心的前辈能为我指引方向，不要将时间浪费在迷茫的过程中。</p>\n</div></div>"], "reply": "6", "tittle": "有木有 PHP 老司机，求指点", "comment": ["可以去找了，别怕。", "经验成长依赖于处理流量压力大小，从小到大的 曲线会比较容易。", "尝试找一下吧", "关于找工作， 建议到招聘网站上搜索自己感兴趣的岗位然后看看都需要什么技能，就有前进的方向了吧\r", "\r", "其他：\r", ", 懂得常用的一些算法与数据结构；\r", ", Linux 基本操作， LNMP 环境搭建\r", "关于 PHP 开发的一些良好规范： ", "会写 hello world 就行", "找个公司实习一下就好了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>想把 php-resque 引入 tp 框架里面来</p>\n\n<p>然后 worker 用 cli 运行</p>\n\n<p>但是发现 job 不会写了。。想了好多办法都是提示找不到 job 类</p>\n<div class=\"highlight\"><pre><span class=\"cp\">&lt;?php</span>\n<span class=\"k\">namespace</span> <span class=\"nx\">Home\\Controller</span><span class=\"p\">;</span>\n\n<span class=\"k\">use</span> <span class=\"nx\">Think\\Controller</span><span class=\"p\">;</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">ResqueController</span> <span class=\"k\">extends</span> <span class=\"nx\">Controller</span>\n<span class=\"p\">{</span>\n    <span class=\"k\">public</span> <span class=\"k\">function</span> <span class=\"nf\">resque</span><span class=\"p\">(){</span>\n\n\n\n        <span class=\"k\">require_once</span> <span class=\"nx\">__DIR__</span> <span class=\"o\">.</span> <span class=\"s1\">'/../../../../php-resque/bin/resque'</span><span class=\"p\">;</span>\n\n        <span class=\"c1\">// $asd = new PHP_Job;</span>\n        <span class=\"c1\">// $asd-&gt;perform();</span>\n        <span class=\"c1\">// dump($asd);</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n<p>worker 需要的 job 类该怎么写 TAT</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "php-resque 求助~", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"https://www.boxueio.com/series/php7-up-and-running/ebook/13\">泊学原文链接</a><br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"https://www.boxueio.com/series/php7-up-and-running/episode/13\">泊学实操视频</a></p>\n\n<p>在 PHP 7 提出 Uniform Variable Syntax 之前，我们大多数人可能都没有意识到之前版本的 PHP 语法有多么“不一致”。而事实是在 variable-variable 和 variable-properties 的用法上， PHP 之前的表现的确有些混乱。</p>\n\n<p>现在好了， PHP 7 修复了之前所有的语法一致性问题，并提供了一些新的语法，我们逐一看一下它们。</p>\n\n<h2>Consistency Fixes</h2>\n\n<p>简单来说， PHP 7 采取的 Uniform 方案就是“统一采用从左到右的方式来评估表达式”。记住这个准则，对于我们分析一些看似复杂的表达式很有帮助。我们通过对比一些代码在 PHP 7 和 PHP 5 中的结果，来理解 Uniform 的含义。为了能够清楚的表示同一语法在不同版本 PHP 里的评估顺序，我们使用{}做了标记。<br>\n&lt;?php</p>\n\n<p>$$var['key1']['key2'];<br>\n// PHP 5.x<br>\n${$var['key1']['key2']};<br>\n// PHP 7<br>\n{$$var}['key1']['key2'];</p>\n\n<p>class Demo {<br>\n    public $prop;</p>\n<div class=\"highlight\"><pre>public __construct() {\n    $this-&gt;prop = [ \n        'key' =&gt; 'value'\n        'closure' =&gt; function() { } \n    ];\n}\n</pre></div>\n\n<p>}</p>\n\n<p>$var = new Demo;</p>\n\n<p>$var-&gt;prop['key'];<br>\n// PHP 5.x<br>\n$var-&gt;{prop['key']};<br>\n// PHP 7<br>\n{$var-&gt;prop}['key'];</p>\n\n<p>$var-&gt;prop<a target=\"_blank\" rel=\"nofollow\" href=\"\">'key'</a>;<br>\n// PHP 5.x<br>\n$var-&gt;{prop['key']}();<br>\n// PHP 7<br>\n{$var-&gt;prop}<a target=\"_blank\" rel=\"nofollow\" href=\"\">'key'</a>;</p>\n\n<p>ClassName::$var<a target=\"_blank\" rel=\"nofollow\" href=\"\">'key'</a>;<br>\n// PHP 5.x<br>\nClassName::{$var['key']}();<br>\n// PHP 7<br>\n(ClassName::$var)<a target=\"_blank\" rel=\"nofollow\" href=\"\">'key'</a>;</p>\n\n<h2>PHP 7 中的新语法</h2>\n\n<p>除了对已有语法的一致性调整， Uniform Variable Syntax 还为我们带来了很多新的语法。</p>\n\n<p>调用函数和访问属性</p>\n\n<p>如果函数返回一个包含 closure 的数组，我们可以这样掉用它：</p>\n<div class=\"highlight\"><pre>&lt;?php\n\nfoo()['bar']();\n</pre></div>\n\n<p>如果数组中的对象有特定的属性，我们可以这样访问它：</p>\n<div class=\"highlight\"><pre>&lt;?php\n\n[$obj1, $obj2][3]-&gt;prop;\n</pre></div>\n\n<p>如果函数返回一个字符串，我们可以使用\"{字符下标}\"来访问字符串中的字符：</p>\n<div class=\"highlight\"><pre>&lt;?php\n\nretString(){1};\n</pre></div>\n\n<h2>嵌套的 ::</h2>\n\n<p>除了组合各种表达式之外，我们还可以嵌套使用 ::。</p>\n\n<p>如果 Foo::bar()返回一个静态类的名字，我们可以这样访问它的静态成员或者调用静态方法：</p>\n\n<p>&lt;?php</p>\n<div class=\"highlight\"><pre>Foo:bar()::$staticProp;\nFoo:bar()::$staticMethod();\n</pre></div>\n\n<h2>嵌套的函数调用</h2>\n\n<p>只要表达式返回了一个 callable 对象，我们可以直接调用它们：</p>\n<div class=\"highlight\"><pre>&lt;?php\n\nfoo()();\nFoo::bar()();\n$foo-&gt;bar()();\n</pre></div>\n\n<h2>解引用任意表达式</h2>\n\n<p>接下来，我们来看一些更自由的表达方式：我们根据表达式 expression 评估的结果，后面可以接各种访问属性和函数调用的形式：</p>\n<div class=\"highlight\"><pre>&lt;?php\n// (expression) is array\n(expression)['key']; \n\n// (expression) is a class object\n(expression)-&gt;foo();\n(expression)-&gt;prop;\n\n// (expression) is a class name\n(expression)::$foo;\n(expression)::foo();\n\n// (expression) is a string\n(expression){0};\n\n// (expression) is a callable object\n(expression)();\n</pre></div>\n\n<p>我们甚至可以对一个 scalar type 进行解引用，如果字符串'ClassName'代表一个类名称，我们可以直接访问这个类的静态成员：</p>\n<div class=\"highlight\"><pre>&lt;?php\n\n'ClassName'::staticMethod();\n</pre></div>\n\n<p>我们还可以用数组的形式来调用类的静态方法和成员方法：</p>\n<div class=\"highlight\"><pre>&lt;?php\n\n['ClassName', 'staticMethod']();\n[$obj, 'method']();\n</pre></div>\n\n<h2>A parse error in PHP 7</h2>\n\n<p>在 PHP 7 里，有一个和 PHP 5 不兼容的语法，会导致解析错误。当我们定义一个 global 变量的时候， PHP 7 不允许使用存在二义性的表达式，例如：</p>\n<div class=\"highlight\"><pre>&lt;?php\n\nglobal $$foo-&gt;bar; // Wrong in PHP 7\n</pre></div>\n\n<p>会导致 PHP 7 解析错误，我们必须使用{}来明确定义解析顺序：</p>\n<div class=\"highlight\"><pre>&lt;?php\n\nglobal ${$foo-&gt;bar};\n</pre></div>\n</div></div>"], "reply": "1", "tittle": "PHP7 最新语法实践分享——Uniform Variable Syntax", "comment": ["js 的影子越来越重了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>之前在一个微信公众号上做了一个抢京东券的功能， 50 张京东券，面额 50 、 100 不等，存在一张 card 表中，四个字段， id ， number ， money ， is_taken 。</p>\n\n<p>因为之前没有这种高并发处理的经验，所以使用了一种最传统的方式来实现：</p>\n\n<p>方案一:来一个人我就从数据库中取一张京东券出来给他，并将该京东券标记为已使用（即更新 is_taken 字段），并将该用户插入到 winner 表中</p>\n\n<p>这个方案最终导致的悲剧是，有一张京东券被两个人领取到了。<br>\n我所理解会出现这个问题的原因是获取未被占用的京东券数据（ select ）和更新该条京东券数据（ update ）是两个独立的操作，在这两个操作之间存在时间间隔，例如 A 用户刚得到了一张 100 元的京东券，还未来得及更新， B 用户涌入查询到这张京东券未被使用，所以 B 用户也获得了这张京东券。</p>\n\n<p>问题一：我这个理解是正确的吗？还是有更深入的原因？</p>\n\n<p>出了这个问题后，我在网上查找关于高并发相关的资料，几乎都提到了队列和锁。就我个人了解队列可以使用 redis 或者 memcacheq(这个没用过，不熟悉)，所以自己想了第二种方案。</p>\n\n<p>方案二：事先将京东券 id 数据压入到 redis 的 list 中，每过来一个有效的用户，就 pop 一个 id 给他（当 pop 出来的数据为空时说明京东券已经被抢光），并将用户 id 与京东券 id 的对应关系存储到 redis 的 set 当中去，然后根据这个 id 来查找京东券数据，显示给用户京东券的面额，并将 set 中的数据存储到数据库当中去。</p>\n\n<p>个人觉得这种方案会比第一种方案要好的多。但是没有真正意义上去实践过，只是个人思考的一个结果。</p>\n\n<p>问题二：第二种方案是否可行？是否还有更优方案？或者说方案二是否有可以优化的地方？</p>\n\n<p>问题三：在高并发时很多文章中说到的锁是一个怎样的概念呢？我的理解是这个锁就像是数据库的一个大门，一次只放一个人进去，是这样吗？具体该如何设计和使用？</p>\n\n<p>问题四：在应对大流量高并发的情况时，在服务器层面要做哪些工作？</p>\n\n<p>问题五：我所举得这个例子与平常类似网上商城中的秒杀功能有哪些相同和相异之处呢？是否可以按照方案二的设计思路进行设计呢？</p>\n</div></div>"], "reply": "23", "tittle": "关于抢京东券高并发的问题", "comment": ["原来方案产生问题的原因是查询操作和更新操作是分开的，不是原子操作。这样设计应该就没有问题\r", "CREATE TABLE coupon (id INTEGER, owner_id INTEGER DEFAULT NULL) PRIMARY KEY(id);\r", "CREATE INDEX coupon_owner_index ON coupon (owner_id INTEGER);\r", "分配券的时候，先\r", "UPDATE coupon SET owner_id = ? WHERE owner_id IS NULL LIMIT 1;\r", "然后再把券 id SELECT 出来就好了\r", "\r", "方案二里面，如果不是要用 redis 做缓存，用户 id 和券 id 就没必要写回 redis 了吧。要注意写数据库会比读写 redis 慢很多，如果写数据库时超时了，是不是要把券还给券池 ?", "楼上方法不错，不过 is null 走不到索引吧", " 方案不错，我是先 select 再 update ，而你的出发点则是先 update 再进行 select ，可以有效避免我所遇到的问题，关于方案二为什么要将用户 id 和券 id 对应关系存到 redis 里面就是担心出现写数据库超时的问题，如果数据出错了的话，还是可以从 redis 里面拿到数据的，就不必将券还给券池", " 那像京东等大型电商网站那种量级的网站时，你的这种方案未必可行吧？估计是撑不住的", "楼主设计能力不行……\r", "最基础的，如果你用数据库实现，好歹也 select for update 啊……", "  方法不错，\r", " 楼主自己想的 redis 也可以， redis 的 incr 方法是原子性的，在操作的时候，把应发的券的 key 存储一下，券发完了再删掉就可以了", "极端情况下 此场景 程序公平的级别可以调节到最低  保障整个系统的健壮性", " 你所说的公平级别是什么意思？没听懂哦", " select for update 是什么意思？我是第一次处理类似这样的情景，没什么经验", " \r", "innodb 事务啊。锁单行\r", "不管怎么做，这种场景怎么也得用事务处理吧，占用失败需要回滚的", "这种需要根据业务来判定，根据楼主的描述个人认为单靠数据库行级锁就可以解决，也就是 select for update 语句。如果并发量实在太大，可以根据业务考虑其他方案，比如小米著名的耍猴模式，通过一个特殊算法先排除大部分用户(具体算法需要根据实际业务量来订)，不满足条件的用户直接返回单机版抢购，满足条件的进入事务程序，或者采用 12306 的排队模式，所有用户进入后压入队列，按批次完成事务，等等。", " 京东用的是 Nginx+Lua+Redis 进行妙杀活动，开涛的博客 ", " 对了，我当时使用的数据库是 mongodb ，不是 mysql ， select for update 是 nosql 数据库没有的吧？", " 能深入讲一下吗？很感兴趣", "来个简单粗暴的方案， number 我的理解是唯一的券 id 。\r", "你现在做的是： select -> update -> insert.\r", "出现重复最简单的方案就是唯一，在数据库里面把 number 字段设置为唯一。\r", "在 update 成功才拿到券，失败就返回谢谢了。", " \r", "没注意，你也没提你的环境。以为 MYSQL 了。\r", "这种涉及金额的操作，选型选用非事务的处理，这还不是问题？", " 根据这个方案的背景可以设计一个相对公平的系统（如果如此设计能够提高其他系统的健壮性的话） 举例说就是一张券一个用户 0.99 秒发出的请求 一个用户 0.98 秒发出的请求 如果绝对公平设计思路的话 那就是 0.98 要拿到 而 0.99 的用户拿不到 但是其实在业务上并不需要如此精准的结构设计 这样的话解决方案会多很多 至于公平这事 其实抢券本身就是抽奖性质了 就算程序能保证绝对公平 还要取决于网速等其他因素 所以没必要在这上面去消耗太多的成本\r", "具体用什么方案还是要看手头的资源 我只是提出一个比较邪门的思路而已 正路嘛很多人都说过啦 也没啥搀和的必要了", " 按照你的思路，我想了想，其实完全可以在每个用户过来时生成一个随机数，随机数满足一定条件的时候才给他京东券，这从一定程度上回过滤掉大部分的用户请求，哈哈。不过觉得更好的方式是用 redis 的计数器去过滤", "50 个。。。 update table set ... where .. 就可以了吧", " 是的。但是是可以发散开来看的，主要想讨论高并发的问题，不止只针对我的问题", "1L 是个好想法~\r", "我用过 python-redis-lock 来加锁，不是秒杀并发小。。", "方案二是可行的，代价最小，其他方案都是要另外加锁，或者事务。", " redis 在里面扮演了什么角色呢？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"https://www.boxueio.com/series/php7-up-and-running/ebook/13\">泊学原文链接</a><br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"https://www.boxueio.com/series/php7-up-and-running/episode/13\">泊学实操视频</a></p>\n\n<p>在 PHP 7 提出 Uniform Variable Syntax 之前，我们大多数人可能都没有意识到之前版本的 PHP 语法有多么“不一致”。而事实是在 variable-variable 和 variable-properties 的用法上， PHP 之前的表现的确有些混乱。</p>\n\n<p>现在好了， PHP 7 修复了之前所有的语法一致性问题，并提供了一些新的语法，我们逐一看一下它们。</p>\n\n<h2>Consistency Fixes</h2>\n\n<p>简单来说， PHP 7 采取的 Uniform 方案就是“统一采用从左到右的方式来评估表达式”。记住这个准则，对于我们分析一些看似复杂的表达式很有帮助。我们通过对比一些代码在 PHP 7 和 PHP 5 中的结果，来理解 Uniform 的含义。为了能够清楚的表示同一语法在不同版本 PHP 里的评估顺序，我们使用{}做了标记。</p>\n<div class=\"highlight\"><pre><span class=\"cp\">&lt;?php</span>\n\n    <span class=\"nv\">$$var</span><span class=\"p\">[</span><span class=\"s1\">'key1'</span><span class=\"p\">][</span><span class=\"s1\">'key2'</span><span class=\"p\">];</span>\n    <span class=\"c1\">// PHP 5.x</span>\n    <span class=\"err\">$</span><span class=\"p\">{</span><span class=\"nv\">$var</span><span class=\"p\">[</span><span class=\"s1\">'key1'</span><span class=\"p\">][</span><span class=\"s1\">'key2'</span><span class=\"p\">]};</span>\n    <span class=\"c1\">// PHP 7</span>\n    <span class=\"p\">{</span><span class=\"nv\">$$var</span><span class=\"p\">}[</span><span class=\"s1\">'key1'</span><span class=\"p\">][</span><span class=\"s1\">'key2'</span><span class=\"p\">];</span>\n\n    <span class=\"k\">class</span> <span class=\"nc\">Demo</span> <span class=\"p\">{</span>\n        <span class=\"k\">public</span> <span class=\"nv\">$prop</span><span class=\"p\">;</span>\n\n        <span class=\"k\">public</span> <span class=\"nx\">__construct</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n            <span class=\"nv\">$this</span><span class=\"o\">-&gt;</span><span class=\"na\">prop</span> <span class=\"o\">=</span> <span class=\"p\">[</span> \n                <span class=\"s1\">'key'</span> <span class=\"o\">=&gt;</span> <span class=\"s1\">'value'</span>\n                <span class=\"s1\">'closure'</span> <span class=\"o\">=&gt;</span> <span class=\"k\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span> <span class=\"p\">}</span> \n            <span class=\"p\">];</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"nv\">$var</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Demo</span><span class=\"p\">;</span>\n\n    <span class=\"nv\">$var</span><span class=\"o\">-&gt;</span><span class=\"na\">prop</span><span class=\"p\">[</span><span class=\"s1\">'key'</span><span class=\"p\">];</span>\n    <span class=\"c1\">// PHP 5.x</span>\n    <span class=\"nv\">$var</span><span class=\"o\">-&gt;</span><span class=\"p\">{</span><span class=\"nx\">prop</span><span class=\"p\">[</span><span class=\"s1\">'key'</span><span class=\"p\">]};</span>\n    <span class=\"c1\">// PHP 7</span>\n    <span class=\"p\">{</span><span class=\"nv\">$var</span><span class=\"o\">-&gt;</span><span class=\"na\">prop</span><span class=\"p\">}[</span><span class=\"s1\">'key'</span><span class=\"p\">];</span>\n\n    <span class=\"nv\">$var</span><span class=\"o\">-&gt;</span><span class=\"na\">prop</span><span class=\"p\">[</span><span class=\"s1\">'key'</span><span class=\"p\">]();</span>\n    <span class=\"c1\">// PHP 5.x</span>\n    <span class=\"nv\">$var</span><span class=\"o\">-&gt;</span><span class=\"p\">{</span><span class=\"nx\">prop</span><span class=\"p\">[</span><span class=\"s1\">'key'</span><span class=\"p\">]}();</span>\n    <span class=\"c1\">// PHP 7</span>\n    <span class=\"p\">{</span><span class=\"nv\">$var</span><span class=\"o\">-&gt;</span><span class=\"na\">prop</span><span class=\"p\">}[</span><span class=\"s1\">'key'</span><span class=\"p\">]();</span>\n\n    <span class=\"nx\">ClassName</span><span class=\"o\">::</span><span class=\"nv\">$var</span><span class=\"p\">[</span><span class=\"s1\">'key'</span><span class=\"p\">]();</span>\n    <span class=\"c1\">// PHP 5.x</span>\n    <span class=\"nx\">ClassName</span><span class=\"o\">::</span><span class=\"p\">{</span><span class=\"nv\">$var</span><span class=\"p\">[</span><span class=\"s1\">'key'</span><span class=\"p\">]}();</span>\n    <span class=\"c1\">// PHP 7</span>\n    <span class=\"p\">(</span><span class=\"nx\">ClassName</span><span class=\"o\">::</span><span class=\"nv\">$var</span><span class=\"p\">)[</span><span class=\"s1\">'key'</span><span class=\"p\">]();</span>\n</pre></div>\n\n<h2>PHP 7 中的新语法</h2>\n\n<p>除了对已有语法的一致性调整， Uniform Variable Syntax 还为我们带来了很多新的语法。</p>\n\n<p>调用函数和访问属性</p>\n\n<p>如果函数返回一个包含 closure 的数组，我们可以这样掉用它：</p>\n<div class=\"highlight\"><pre><span class=\"cp\">&lt;?php</span>\n\n    <span class=\"nx\">foo</span><span class=\"p\">()[</span><span class=\"s1\">'bar'</span><span class=\"p\">]();</span>\n</pre></div>\n\n<p>如果数组中的对象有特定的属性，我们可以这样访问它：</p>\n<div class=\"highlight\"><pre><span class=\"cp\">&lt;?php</span>\n\n    <span class=\"p\">[</span><span class=\"nv\">$obj1</span><span class=\"p\">,</span> <span class=\"nv\">$obj2</span><span class=\"p\">][</span><span class=\"mi\">3</span><span class=\"p\">]</span><span class=\"o\">-&gt;</span><span class=\"na\">prop</span><span class=\"p\">;</span>\n</pre></div>\n\n<p>如果函数返回一个字符串，我们可以使用\"{字符下标}\"来访问字符串中的字符：</p>\n<div class=\"highlight\"><pre><span class=\"cp\">&lt;?php</span>\n\n    <span class=\"nx\">retString</span><span class=\"p\">(){</span><span class=\"mi\">1</span><span class=\"p\">};</span>\n</pre></div>\n\n<h2>嵌套的 ::</h2>\n\n<p>除了组合各种表达式之外，我们还可以嵌套使用 ::。</p>\n\n<p>如果 Foo::bar()返回一个静态类的名字，我们可以这样访问它的静态成员或者调用静态方法：</p>\n<div class=\"highlight\"><pre><span class=\"cp\">&lt;?php</span>\n\n    <span class=\"nx\">Foo</span><span class=\"o\">:</span><span class=\"nx\">bar</span><span class=\"p\">()</span><span class=\"o\">::</span><span class=\"nv\">$staticProp</span><span class=\"p\">;</span>\n    <span class=\"nx\">Foo</span><span class=\"o\">:</span><span class=\"nx\">bar</span><span class=\"p\">()</span><span class=\"o\">::</span><span class=\"nv\">$staticMethod</span><span class=\"p\">();</span>\n</pre></div>\n\n<h2>嵌套的函数调用</h2>\n\n<p>只要表达式返回了一个 callable 对象，我们可以直接调用它们：</p>\n<div class=\"highlight\"><pre><span class=\"cp\">&lt;?php</span>\n\n    <span class=\"nx\">foo</span><span class=\"p\">()();</span>\n    <span class=\"nx\">Foo</span><span class=\"o\">::</span><span class=\"na\">bar</span><span class=\"p\">()();</span>\n    <span class=\"nv\">$foo</span><span class=\"o\">-&gt;</span><span class=\"na\">bar</span><span class=\"p\">()();</span>\n</pre></div>\n\n<h2>解引用任意表达式</h2>\n\n<p>接下来，我们来看一些更自由的表达方式：我们根据表达式 expression 评估的结果，后面可以接各种访问属性和函数调用的形式：</p>\n<div class=\"highlight\"><pre><span class=\"cp\">&lt;?php</span>\n    <span class=\"c1\">// (expression) is array</span>\n    <span class=\"p\">(</span><span class=\"nx\">expression</span><span class=\"p\">)[</span><span class=\"s1\">'key'</span><span class=\"p\">];</span> \n\n    <span class=\"c1\">// (expression) is a class object</span>\n    <span class=\"p\">(</span><span class=\"nx\">expression</span><span class=\"p\">)</span><span class=\"o\">-&gt;</span><span class=\"na\">foo</span><span class=\"p\">();</span>\n    <span class=\"p\">(</span><span class=\"nx\">expression</span><span class=\"p\">)</span><span class=\"o\">-&gt;</span><span class=\"na\">prop</span><span class=\"p\">;</span>\n\n    <span class=\"c1\">// (expression) is a class name</span>\n    <span class=\"p\">(</span><span class=\"nx\">expression</span><span class=\"p\">)</span><span class=\"o\">::</span><span class=\"nv\">$foo</span><span class=\"p\">;</span>\n    <span class=\"p\">(</span><span class=\"nx\">expression</span><span class=\"p\">)</span><span class=\"o\">::</span><span class=\"na\">foo</span><span class=\"p\">();</span>\n\n    <span class=\"c1\">// (expression) is a string</span>\n    <span class=\"p\">(</span><span class=\"nx\">expression</span><span class=\"p\">){</span><span class=\"mi\">0</span><span class=\"p\">};</span>\n\n    <span class=\"c1\">// (expression) is a callable object</span>\n    <span class=\"p\">(</span><span class=\"nx\">expression</span><span class=\"p\">)();</span>\n</pre></div>\n\n<p>我们甚至可以对一个 scalar type 进行解引用，如果字符串'ClassName'代表一个类名称，我们可以直接访问这个类的静态成员：</p>\n<div class=\"highlight\"><pre><span class=\"cp\">&lt;?php</span>\n\n    <span class=\"s1\">'ClassName'</span><span class=\"o\">::</span><span class=\"na\">staticMethod</span><span class=\"p\">();</span>\n</pre></div>\n\n<p>我们还可以用数组的形式来调用类的静态方法和成员方法：</p>\n<div class=\"highlight\"><pre><span class=\"cp\">&lt;?php</span>\n\n    <span class=\"p\">[</span><span class=\"s1\">'ClassName'</span><span class=\"p\">,</span> <span class=\"s1\">'staticMethod'</span><span class=\"p\">]();</span>\n    <span class=\"p\">[</span><span class=\"nv\">$obj</span><span class=\"p\">,</span> <span class=\"s1\">'method'</span><span class=\"p\">]();</span>\n</pre></div>\n\n<h2>A parse error in PHP 7</h2>\n\n<p>在 PHP 7 里，有一个和 PHP 5 不兼容的语法，会导致解析错误。当我们定义一个 global 变量的时候， PHP 7 不允许使用存在二义性的表达式，例如：</p>\n<div class=\"highlight\"><pre><span class=\"cp\">&lt;?php</span>\n\n    <span class=\"k\">global</span> <span class=\"nv\">$$foo</span><span class=\"o\">-&gt;</span><span class=\"na\">bar</span><span class=\"p\">;</span> <span class=\"c1\">// Wrong in PHP 7</span>\n</pre></div>\n\n<p>会导致 PHP 7 解析错误，我们必须使用{}来明确定义解析顺序：</p>\n<div class=\"highlight\"><pre><span class=\"cp\">&lt;?php</span>\n\n    <span class=\"k\">global</span> <span class=\"err\">$</span><span class=\"p\">{</span><span class=\"nv\">$foo</span><span class=\"o\">-&gt;</span><span class=\"na\">bar</span><span class=\"p\">};</span>\n</pre></div>\n</div></div>"], "reply": "2", "tittle": "PHP7 最新语法实践分享——Uniform Variable Syntax（高亮）", "comment": ["还有再类里面声明对象变量的时候可以直接拼接常量以前是不行的\r", "public $url = ROOT . '/url';", "谢谢补充，哈哈！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我真是怀疑自己了。。。。<br>\n做一个在线竞拍网站。。。<br>\n在倒计时竞拍结束，服务器判断竞拍状况，是否竟拍成功，或者失败，或者流拍，然后告知客户端。<br>\n尽管知道应该用 long-poll 或者 comet 或者 iframe 轮询。。。<br>\n学习了好些天 ajax,jquery-ajax ， long-poll 知识，<br>\n还是没实现。。。<br>\n醉了</p>\n</div></div>", "<div class=\"topic_content\">谢谢大家的帮助!!!\r<br>\r<br>首先说声对不起\r<br>上面说只学了几天，是谎称。实际上我这个十二月到现在一直都在学。\r<br>sorry ,sorry, 不该谎称呀。\r<br>也导致大家误会。\r<br>\r<br>刚开始我就卡在这个问题，我根本不知道怎么解决。。。\r<br>后来同学告诉我用 ajax 发送请求就好了，\r<br>再后来才知道应该用服务器推技术。。\r<br>\r<br>我也深知自己欠缺的东西很多，所以就开始学 javascript jquery 。。\r<br>我知道自己要是不会，根本就很难走下去。\r<br>基本功基本功基本功太重要了\r<br>表示刚开始真的很难理解，，它们父子俩。\r<br>现在已经好多了。。。\r<br>\r<br>现在感觉是后悔当初不多读书。。。书到用时方恨少\r<br>庆幸的是现在觉悟了，在大学结束的时刻。</div>"], "reply": "9", "tittle": "知道一个问题大概怎么解决，却还是不会。。。", "comment": ["希望这篇文章对你能有点帮助 ", " 谢谢 处于 发现问题=>找到方法=>具体实现失败。。，看来还是自己不够努力", "好几天……\r", "好像很看不起编程的样子。\r", "让人家好几个月好几年的人怎么办。", "这是提高的好机会啊，遇到困难自己独立解决了，信心与技术都会大幅上升，那些培训班出身抱怨公司不给机会的人就是每次遇到困难就放弃了，没有独立解决问题的能力\r", "\r", "才几天而已，为了解决一个技术花费几个月的大有人在，主要还是基本功不扎实，正好把欠缺的东西补上。记住，自学能力是一个职业程序员的基本修养。", "我只能说自己实现是自找苦吃，你需要兼容各种情况。\r", "最简单的使用 socket.io 库，几分钟就能做出来概念版。一个小时就完工。\r", "\r", "普通的 web 服务器不是为了推送设计的，不管是立即返回还是延迟返回都会对 web 服务器产生很大的压力。\r", "最后都需要专门的推送服务器，还是用现成的比较方便。 socket.io 加前端 nginx 轻松解决。", "socket.io +1 ，不过这貌似是 node.js 的库吧。", " 没有看不起的意思。希望别误解。如果自己看不起自己学的东西，那可能就是个 SB 。其实是我实际刚开始看 long-poll ，不太懂，我知道自己基本工不行，就老老实实学 js,再学 ajax 。。。有进步的是能够看懂了。。现在发现自己敲不出来，我老实继续磨基本工。。。正在 codecadem 老实练练 jquery...这网站还是很靠谱。。用于入门。这个月基本都在做这些事。。。自己对自己挺拙计的。。。啥都不会的感觉", " 嗯嗯　是的。对 js jquery 欠缺太大。实际这个月基本都在学。是我自己矫情了，怕有人说我不行，就说好几天。。。。　对不起　对不起", " 谢谢　虽然我不会你说的。但是至少知道了问题的解决方法。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>php-fpm 报错，请问怎么解决<br>\n[23-Dec-2015 13:54:32] NOTICE: fpm is running, pid 26304<br>\n[23-Dec-2015 13:54:32] NOTICE: ready to handle connections<br>\n[23-Dec-2015 13:54:34] WARNING: [pool www] child 26305 exited with code 127 after 2.199784 seconds from start<br>\n[23-Dec-2015 13:54:34] NOTICE: [pool www] child 26325 started<br>\n[23-Dec-2015 13:54:35] WARNING: [pool www] child 26306 exited with code 127 after 2.997674 seconds from start<br>\n[23-Dec-2015 13:54:35] NOTICE: [pool www] child 26326 started<br>\n[23-Dec-2015 13:54:41] WARNING: [pool www] child 26307 exited with code 127 after 8.386694 seconds from start<br>\n[23-Dec-2015 13:54:41] NOTICE: [pool www] child 26328 started<br>\n[23-Dec-2015 13:57:55] NOTICE: Terminating ...<br>\n[23-Dec-2015 13:57:55] NOTICE: exiting, bye-bye!</p>\n</div></div>"], "reply": "1", "tittle": "php-fmp 问题求救", "comment": ["这个是让你重启 fpm?"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img src=\"http://laravelacademy.org/wp-content/uploads/2015/12/laravel-5.2-released.jpg\" alt=\"Laravel 5.2\"></p>\n\n<p>Laravel 5.2 已经正式发布，该版本提供了许多新的功能特性：多认证支持、隐式模型绑定、简化 Eloquent 全局作用域、可选的认证脚手架、中间件组、访问频率中间件、表单输入数组验证优化等等。</p>\n\n<p>可以查看中文文档深入了解这些新功能：<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2653.html\">http://laravelacademy.org/post/2653.html</a></p>\n\n<p>相关阅读：</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2666.html\">Laravel 5.2 升级指南</a><br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2720.html\">Laravel 5.2 安装文档</a><br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2726.html\">Laravel 5.2 配置文档</a></p>\n\n<p>本系列中文文档由<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org\">Laravel 学院</a>整理发布，英文原版：<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravel.com/docs/5.2\">http://laravel.com/docs/5.2</a></p>\n</div></div>"], "reply": "23", "tittle": "Laravel 5.2 正式发布，小伙伴们可以在正式环境中使用了！", "comment": ["赞！！", "版本帝刚消停了几天又复活了，掩面痛哭。", "稍微了解了一下 symfony ，感觉 symfony 有更强大的生态系统", "隐式模型绑定 表示没看懂.\r", "\"你需要通过 Route::model 方法告诉 Laravel 注入 App\\User 实例以匹配路由定义中的 {user} 参数。\"\r", "如何实际操作呢?", " 参考 Laravel 5.1 相关文档：<http://laravelacademy.org/post/53.html#ipt_kb_toc_53_18>", "express 5.0 到现在没发", "已经转 node 了", "可惜不少常用包还是写着 \"5.1.*\" 呢，我还是继续坚守 5.1 吧", " 恩 Laravel 5.1 是 LTS 版本", "继续用 5.1 LTS ，等 LTS 结束看 laravel 能出到什么版本", "```更新也太快了···跟不上啊···", "symfony 才是 php 世界的王者！！！", "升级快算是好事，但必需有一个三年时间的 LTS ，否则绝对不敢用啊", " 萝卜青菜 各有所爱 :)", " 6.1 LTS ?", " 搞清楚底层架构和设计 万变不离其宗", " 必须的", " 路由模型绑定  ", " 为什么 symfony 没有 laravel 热呢", " 学习曲线陡 这就好比 Vi 与 IDE 做比较", "有许多包还未更新兼容 5.2 ，连开发环境都过不了。。。还生产环境。。。囧 rz", " 关键是每次都不能无缝升级······", " 其实还好了 改动不算太大 而且作者还声明 5.2 相较 5.1 性能提升了 25%"]},
{"content": ["<div class=\"topic_content\">有个 ZF2 的项目，里面的 View 部分.phtml 文件混写了 php, html, js ，格式不太好，看起来眼睛花，试了下 PHPstorm 里的格式化，效果不太理想，只格式化了 html 部分，看起来依然凌乱。请问有没有什么好的方法可以快速格式化一下？</div>"], "reply": "8", "tittle": "php, html, js 混编的代码，怎么快速格式化？", "comment": ["没特别好的办法。我都是靠自己，写的时候就顺便排整齐。", "个人使用`sublimeText3` 来帮助做这些事儿;\r", "\r", "html+js+css 可以使用 `HTML-CSS-JS Prettify` 这个插件，一键美化；\r", "\r", "js+html 书写在 php 文件中，有  `phpFormat`插件 一键美化。\r", "\r", "自荐一篇书写关于 SublimeText 的，个中有详细记录。\r", "地址：  ", "听上去是因为规划的不好，能不能把 php 和 js 的部分抽离出去？\r", "php 只保留 echo 、 if...else 、 foreach 这些，其他复杂逻辑和计算丢给 model 或 view\r", "js 只保留 footer 的 dom 绑定和 init", " 我是接手别人的代码，不调不舒服，手动调又太慢了。", " 谢谢，我看一下。", " 是这样做的，里面 php 代码并不多，只有简单的输出，判断。主要是因为不止一个人改过这项目，所以代码凌乱，有的 2 空格缩进，有的 4 空格缩进，有的没缩进，所以看起来不太方便，就想调整一下。", "用 Hbuilder ，里面有一键整理代码。", "想起正在做的 java 项目，我负责前端，主要使用 angular 框架，只要我一格式化 jsp 文件， jsp 代码就散了，程序就挂掉了。  Orz 目前也无解。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近在自己的开发环境上测试了一下 golang 写 php 扩展的可能性</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/Aimsam/go2php_trial\">https://github.com/Aimsam/go2php_trial</a></p>\n\n<p>用到了 go1.5 新特性 buildmode=c-shared</p>\n\n<p>结果是虽然成功编译运行， golang 的函数也正常运行了，但是很大概率会 Segmentation fault 。虽然到了不了能用的地步。但是至少说明还是可行的吧: )</p>\n</div></div>"], "reply": "10", "tittle": "golang 写 php 扩展", "comment": ["楼主, 我想问一下 Go 写 PHP 扩展主要是用在什么地方?", "并发长连接吧，可惜还到不了可用的地步。", " 直接用 go 整 web ，岂不是更好？如果只是为了在原有 php 项目上扩展，那可以反代某级 url ，比如\r", " go 的特性。", "很多情况下 golang 还是无法替代 php 的，事实上要 php 项目也会安装大量扩展才可用的，只是一个小例子了，并不是要这么开发了，你说的是一个办法很多情况下也是这么做的。", "层上各种图样，显然楼主不会 c/c++，没法给 php 写扩展，刚好 golang 可能可以， but 仍然图样，用 golang 写扩展了， golang 的 gc 肿么办", " 求你不要说出真相。不过我猜测 golang 生成的变量应该是 golang 负责回收的， C 申请的依然需要手动回收。当然目前看肯定是有问题的。", " 抱歉， php 我不熟悉，不知道写插件怎么管理内存的，不过 lua 对插件的内存回收支持非常赞，可以对 c 中申请的内存配置自己的关方法来 free 内存、关闭句柄，你配置好了之后， lua gc 自动帮你调用回收", " 哈哈开个玩笑，我也只是验证一下是否可行。 php 的扩展是用 C 来做的， API 里封装了一些函数，是否稳定还是看 C 的功力了。你提的到“ lua 对插件的内存回收”是指的用 lua 做 C 的 GC ？我不太了解 lua 也不太会 C", " lua gc 运行中，会依据依赖关系自动连带处理你在 c 扩展中申请的内存，通过调用你配置的 gc 方法（ c 回调函数）来释放所分配的内存，设计相当优美", "关注一下,技术栈跟 lz 重合\r", "也梦想用 golang 写扩展..."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>无意引起 OO 与 PO 的论战，仅是感慨。<br>\n事情起因是 lz 在看到一兄弟或是 2 人+(非新手)整的一个 case ， class 跟一个大 function 没什么区别， class 里面一堆 function ，高端大气的 mixed 。总是有那句话 \"抓住老鼠的是好猫\"，以结果为导向这没啥问题，事办了而且结果很好。这里面怪怪的是写代码必然是有结果的，没有结果的代码那叫没写完。<br>\n很明显:需求方要的是结果， lz 要的是过程。<br>\n下面的话就不说了，无他 你懂的。</p>\n</div></div>"], "reply": "2", "tittle": "熟悉的味道，熟悉的面向过程，不变的面条，不变的 PHP 过程式。", "comment": ["和语言关系不大，写渣代码的人，用任何语言都是这种渣代码。\r", "看起来连接口都没用，如果不是免维护的项目，感觉基础离及格还是查的很远的，也仅是感慨。", "为什么一定要面向对象？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"http://tajs.qq.com/stats?sId=52807223\">http://tajs.qq.com/stats?sId=52807223</a><br>\n。。。表示不可访问。。。我说怎么网站卡成翔了。。。吓得我赶紧撤掉了。。。</p>\n</div></div>"], "reply": "11", "tittle": "腾讯分析挂了。。。", "comment": ["+1", "腾讯自己家没有 CDN 服务，都是买 Akamai 一类的服务，然而只部署在主要站点上面，其他基本没有做 CDN ，所有导致我打开 ", " ，尤其是 https ，最少都得十秒+，腾讯云控制台根本打不开。", "的确是。。。控制台我还可以， cos 控制台那叫一个卡。。。", "CDN 哪家好一点？\r", "\r", "之前用阿里云 CDN ，最近老卡卡卡\r", "\r", "昨天刚转到 腾讯云 CDN ，肉眼看好很多", " 忘 @ 了 -_-", " \r", "不清楚；\r", "反正我的 ", " ，成功加载几率极低", " 前几年看，腾讯主站还有下载的一类的 CDN ，国内是自己的服务器，然后其他地方全都是 Akamai 什么的，现在不知道有没有改变。", "  腾讯 cdn 命中率有些低", " 刚切换一天，目前 60 、 70%的样子\r", "\r", "观察几天，不行再换百度 CDN 啥的，各种云挨个测\r", "\r", "不过，现在腾讯云有 1T 流量包 3 折优惠", " 搞了半天你说国外，吓得我以为腾讯啥时候把 CDN 裁掉了呢。", "  我几个关键的网站用的蓝讯的动静加速"]},
{"content": ["<div class=\"topic_content\">我想大概是因为 PHP ，没有太多强制性规范，加上 PHPer 水平高低不同，以及项目管理人员水平限制，才出现了这么多丑陋的代码\r<br>\r<br>另外大部分PHP程序员还处于或长被动处于改网页阶段，所以水平真的很低</div>"], "reply": "39", "tittle": "接触了几家公司的 PHP 代码，发现这些代码真的很丑陋", "comment": ["确实如此，深有体会， php 没有什么强制性的规范，代码比较难以阅读和维护，不同程序员就连命名规范、代码风格都有很大的差别", "无论哪种语言都会存在这个问题，根本原因是人、团队。", "语言把强制规范定得再完善，也挡不住 low b 写出烂代码", "看这里： ", "\r", "\r", "约束不是没有 如何执行是问题。", "任何语言都有这个问题\r", "你说的问题可能原因： php 门槛低、从业者基数大，被你捉到概率大。", "现在已经好很多了, 国内最早搞 php 的一批人很少有科班出身的.\r", "\r", "\"不要用 class, 因为 class 比 function 性能烂.\"  \r", "\r", "\"copy+paste 改改比封装进函数性能好\" \r", "\r", "\"不要用模板引擎, 这样性能烂.\"\r", "\r", "\"获取时间不要用 time(), 用$_SERVER['REQUEST_TIME']\"\r", "\r", "\"别用新版本的语言特性, 部署的虚拟主机 php 版本比较旧\"\r", "\r", "能想象这是 10 多年前国内 php 社区的开发主流思想么?\r", "\r", "再加上 php 官方的包管理 pear 没什么存在感,  当时代码托管地也就数 sf 了, 管理三方库基本靠去各开源程序官网下载, 或者去 phpclasses 和一些私人 blog copy+paste, 版本控制也很少有人用, 维护老代码基本就是噩梦.", "哈哈哈，哪个 php 代码不丑？", " 推动国内 php 开发者的水平靠你了", "php 就是那种不用框架和设计模式，可以写得非常丑的语言", "哪有不丑的 php, 来个不丑的看看?", "自黑-->>群黑 php", " 上 stars 前三的 php 框架拿来用呗，又没上升到架构那个层次，还是用现成框架比较好", " 我就一拉后腿的自黑来着, 我上一次拿 php 写完整项目的时候 phpe 还挺火来着.", "人的问题, 这还用说吗", "\r", "因为 php 卖的最火的一本书： PHP 和 MySQL.Web 开发(第 4 版)，最新的还是 09 年的。书里的第一个大型案例还是 10 年前的，封装几个函数，把页面输出都写在函数里。\r", "\r", "\r", "\r", "\r", "写代码这种东西。就跟大学生就跟找女朋友一样，每个人都要求找校花，那么 99%的大学生都不会有性经验了。\r", "\r", "我鼓励大学生先找个能用的！积累经验（当然不是专指性经验），不然即使你以后找到校花级别的，你也会因为（相处）经验不丰富而被甩掉。\r", "\r", "\r", "写代码，一开始就要求类的设计，模式、继承、接口这些，可能你学了 n 年都学不会完美的设计。。如果淘宝一开始就要求多好，现在马云还家空想呢。\r", "\r", "要接受不完美，什么东西都是渐进的，一开始不要想太多高大上！", "php 算是门槛最低的，所以连我这种写客户端的人都会写的，能有多高的水平？\r", "话说，基本上所有语言都有这种现象吧，这方面，公司不做规范，那你就要从招人方面入手～", "看看 facebook 开源的 PHP 项目，其实还是看人", "我感觉楼主这个地图炮放的挺好", "看看 Yii 框架，其实还是看人", "同感，总觉着 php 代码欠缺一定的约定，导致代码层次不齐，很是 low", " 我觉得这个列表里边很多说的都有道理，比如 time() 比 $_SERVER['REQUEST_TIME'] 慢", " 这点是必然的，因为一个是调用函数时去读取当前时间，一个是从数组读取用户请求页面时的时间。\r", "虽然列表里面很多都有道理，但是在现在看来，这点性能的牺牲所带来的其他方面的进步要远比性能成本突出。\r", "比如某著名 PT 程序，早期版本乱得一塌糊涂，简直没法看，改了几次功能，重构的心都有了。\r", "不过列表中所列出的“烂”的东西，用的好的话也是可以提升性能的。\r", "回到楼主的话题，代码丑陋还是因为人的原因，我看到的不少 C#和 JAVA 的代码也很丑（当然，我不得不承认 C#和 java 一般格式化比较统一，但是不关注格式化，但看函数名、方法名、变量名还有逻辑，仍旧有不少十分丑的代码存在）", " $_SERVER 是一个全局变量；\r", "\r", "我只所以说这个列表里很多说的的有道理，是因为从单纯性质的角度上来说。\r", "关于代码烂不烂要看什么样的业务需求什么样的应用场景什么样的解决方案。\r", "\r", "我就想打印一个用户每一次请求的时间，我 tm 还要讨论一下设计模式吗", " nexusphp 的代码拿到手就想 shift del 。改代码如吃翔…", "把自己的亮出来看看", "不知 lz 现在写 PHP 代码是否已经遵守 PSR 规范，是否会用 PHPMD 来检查自己的代码。", " 这个比喻我服", "我一直不觉得那些古老的最佳实践会让代码丑，即使连“函数名影响 hash 性能”这样的要求都遵守的话也依旧能写的出人类可以看懂的代码的。\r", "因为 php 本就是这样神奇的语言啊。 php 连它自己的函数名都难以记忆，还能让人对这玩意有什么期待…", "你是通过换工作接触了几家吗？", " 《 PHP 和 MySQL.Web 开发(第 4 版)》这书简直烂到家了，国内 PHP 论坛还在推荐。我上年开始写 PHP 的时候特意托家人从国内带来中文版，然后看了没四分之一就看不下去。这都该进博物馆的玩意还被人推崇着，看这个写出来的代码都 Deprecated 了。", " 现在和以前大不同了. 包管理器 Composer 已经比较流行, 有些人在用 Git 管理版本, 也见到其他公司用 SVN 的. 一些工具如 Sublime Text 下的 phpfmt 也让代码规范 PSR-2 也很容易达成.\r", "\r", "总之, 现在写 PHP 可以好好写的.", "我大 POP 语言即将出世，这门语言就是用来替代 PHP 而生的，完全没有缺点，集各大编程语言优点，抛各大编程语言缺点，全地球最牛逼的编程语言，你值得 yongyou 。", " 坦白说，你贴出来的这几条建议，每一条都是“正确”的。我这儿所说的正确的意思是，在大概 2~3 年前，我自己进行过测试，这些话说的都没错，例如 copy+paste 的确真的比封装函数快（因为函数调用有额外开销）\r", "\r", "所以我觉得不是说这些话本身有问题，但是这种“优化”的建议是否适用还是要看场景，而且我个人觉得在绝大多数场景下，都还不至于要考虑到这种程度的性能优化，更何况这其中很多都是极其牺牲代码可读性的", " 确实啊，大烂书一本。心疼 money", "php 就是下里巴人嘛，至于上面有些人说的不要使用新版本特性， php5 刚出来那会这里应该有很多人还没有代码美与丑的观念呢吧。", "PHP 不用框架可以高速写出很多应用，解决适合他的应用场景。小型项目代码乱，也是有他的原因的，大型项目为何不提？ 其他语言应用通常是由框架实现， php 有各种实现不同场景的框架，小中大甚至不用框架，代码丑乱？你们知道 symfony 吗！", " 说得对", " 不是 class 和 function 的问题，过度封装确实是会牺牲一些性能的", " 请教一个问题， phpmd 提示， func accesses the super-global variable $GLOBALS\r", "是在函数中使用了超全局变量了，请问，有什么替代方式？"]},
{"content": ["<div class=\"topic_content\"><p>Phar 这个在 PHP 5.3 就出来了 Phar ![<a target=\"_blank\" rel=\"nofollow\" href=\"http://php.net/manual/zh/book.phar.php\">http://php.net/manual/zh/book.phar.php</a>] ，不过好像一直不太受关注？</p>\n\n<p>好吧，我天天用 composer.phar 也从来没真正留心过它。</p>\n\n<p>今天试了下，在项目允许的前提下，把 代码打包成 phar 发布还是挺方便的啊？不知道有大公司这样干么？</p>\n</div>", "<div class=\"topic_content\">撸主找了一下， sf 用的是 phar 打包发布。\r<br>\r<br><a target=\"_blank\" href=\"http://get.ftqq.com/1213.get\" rel=\"nofollow\">http://get.ftqq.com/1213.get</a></div>"], "reply": "5", "tittle": "各位使用的项目公司线上有使用过 Phar 发布吗？", "comment": ["这个还真没见怎么用过。", "BOS", "phar 对环境上下文限制比较麻烦， realpath 等函数调用在 phar 中也会有问题，这会导致部分开发框架的打包问题，需要自行 hack ，目前 lumen 打 phar 包成功， laravel 的 config 部分不行。\r", "除非你自己的项目开发完全自控避开 realpath 之类的调用，不然用 phar 包发布还是不太方便。", " 我也找了下，确实是有这个问题，我司的项目于也打包不起来，需要 hack  ", " "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>标题党强势注入。</p>\n\n<h1>简介</h1>\n\n<p>Yar 是一个轻量级, 高效的 RPC 框架, 它提供了一种简单方法来让 PHP 项目之间可以互相远程调用对方的本地方法. 并且 Yar 也提供了并行调用的能力. 可以支持同时调用多个远程服务的方法.</p>\n\n<p>Yar 鸟哥博客介绍 <a target=\"_blank\" rel=\"nofollow\" href=\"http://www.laruence.com/2012/09/15/2779.html\">http://www.laruence.com/2012/09/15/2779.html</a></p>\n\n<p>Yar 鸟哥原始项目 <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/laruence/yar\">https://github.com/laruence/yar</a></p>\n\n<p>Yar Java Client 则实现了跨语言的远程调用。使得 Java 客户端能够调用 Yar PHP 服务器端本地的方法。</p>\n\n<p>Github: <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/zhoumengkang/yar-java-client\">https://github.com/zhoumengkang/yar-java-client</a></p>\n\n<h1>特性</h1>\n\n<ol>\n<li>执行速度快，依旧保持鸟哥初衷，框架轻，使用简单</li>\n<li>支持并行的 RPC 调用</li>\n<li>方法的使用和参数的和 PHP 版本保持一致</li>\n</ol>\n\n<h1>范例</h1>\n\n<h2>PHP 服务器端提供了服务</h2>\n\n<p>两个 rpc api ，模拟的业务场景是点赞赠送金币和发布帖子赠送金币。</p>\n<div class=\"highlight\"><pre><span class=\"cp\">&lt;?php</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">RewardScoreService</span> <span class=\"p\">{</span>\n    <span class=\"sd\">/**</span>\n<span class=\"sd\">     * $uid 给 $fid 点赞</span>\n<span class=\"sd\">     * @param $fid  interge</span>\n<span class=\"sd\">     * @param $uid  interge</span>\n<span class=\"sd\">     * @return void</span>\n<span class=\"sd\">     */</span>\n    <span class=\"k\">public</span> <span class=\"k\">function</span> <span class=\"nf\">support</span><span class=\"p\">(</span><span class=\"nv\">$uid</span><span class=\"p\">,</span><span class=\"nv\">$fid</span><span class=\"p\">){</span>\n        <span class=\"k\">return</span> <span class=\"s2\">\"support:uid:</span><span class=\"si\">$uid</span><span class=\"s2\">:fid:</span><span class=\"si\">$fid</span><span class=\"s2\">\"</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"sd\">/**</span>\n<span class=\"sd\">     * $uid 发布了帖子 $fid </span>\n<span class=\"sd\">     * @param $fid  interge</span>\n<span class=\"sd\">     * @param $uid  interge</span>\n<span class=\"sd\">     * @return void</span>\n<span class=\"sd\">     */</span>\n    <span class=\"k\">public</span> <span class=\"k\">function</span> <span class=\"nf\">post</span><span class=\"p\">(</span><span class=\"nv\">$uid</span><span class=\"p\">,</span><span class=\"nv\">$fid</span><span class=\"p\">){</span>\n        <span class=\"k\">return</span> <span class=\"s2\">\"post:uid:</span><span class=\"si\">$uid</span><span class=\"s2\">:fid:</span><span class=\"si\">$fid</span><span class=\"s2\">\"</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"nv\">$yar_server</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Yar_server</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">RewardScoreService</span><span class=\"p\">());</span>\n<span class=\"nv\">$yar_server</span><span class=\"o\">-&gt;</span><span class=\"na\">handle</span><span class=\"p\">();</span>\n</pre></div>\n\n<h2>Java 客户端同步调用这两个服务</h2>\n<div class=\"highlight\"><pre><span class=\"kd\">public</span> <span class=\"kd\">class</span> <span class=\"nc\">YarClientTest</span> <span class=\"kd\">extends</span> <span class=\"n\">TestCase</span> <span class=\"o\">{</span>\n    <span class=\"cm\">/**</span>\n<span class=\"cm\">     * 定义 rpc 接口</span>\n<span class=\"cm\">     */</span>\n    <span class=\"kd\">public</span> <span class=\"kd\">interface</span> <span class=\"nc\">RewardScoreService</span><span class=\"o\">{</span>\n        <span class=\"n\">String</span> <span class=\"nf\">support</span><span class=\"o\">(</span><span class=\"kt\">int</span> <span class=\"n\">uid</span><span class=\"o\">,</span><span class=\"kt\">int</span> <span class=\"n\">fid</span><span class=\"o\">);</span>\n        <span class=\"n\">String</span> <span class=\"nf\">post</span><span class=\"o\">(</span><span class=\"kt\">int</span> <span class=\"n\">uid</span><span class=\"o\">,</span><span class=\"kt\">int</span> <span class=\"n\">fid</span><span class=\"o\">);</span>\n    <span class=\"o\">}</span>\n\n    <span class=\"cm\">/**</span>\n<span class=\"cm\">     * rpc api 地址</span>\n<span class=\"cm\">     */</span>\n    <span class=\"kd\">static</span> <span class=\"n\">String</span> <span class=\"n\">uri</span> <span class=\"o\">=</span> <span class=\"s\">\"http://mengkang.net/demo/yar-server/RewardScoreService.php\"</span><span class=\"o\">;</span>\n\n    <span class=\"kd\">public</span> <span class=\"kt\">void</span> <span class=\"nf\">testUserService</span><span class=\"o\">(){</span>\n        <span class=\"c1\">// 第一种调用方式</span>\n        <span class=\"n\">YarClient</span> <span class=\"n\">yarClient</span>  <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"n\">YarClient</span><span class=\"o\">(</span><span class=\"n\">uri</span><span class=\"o\">);</span>\n        <span class=\"n\">RewardScoreService</span> <span class=\"n\">rewardScoreService</span> <span class=\"o\">=</span> <span class=\"o\">(</span><span class=\"n\">RewardScoreService</span><span class=\"o\">)</span> <span class=\"n\">yarClient</span><span class=\"o\">.</span><span class=\"na\">useService</span><span class=\"o\">(</span><span class=\"n\">RewardScoreService</span><span class=\"o\">.</span><span class=\"na\">class</span><span class=\"o\">);</span>\n        <span class=\"k\">for</span> <span class=\"o\">(</span><span class=\"kt\">int</span> <span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"o\">;</span> <span class=\"n\">i</span> <span class=\"o\">&lt;</span> <span class=\"mi\">10</span><span class=\"o\">;</span> <span class=\"n\">i</span><span class=\"o\">++)</span> <span class=\"o\">{</span>\n            <span class=\"n\">System</span><span class=\"o\">.</span><span class=\"na\">out</span><span class=\"o\">.</span><span class=\"na\">println</span><span class=\"o\">(</span><span class=\"n\">rewardScoreService</span><span class=\"o\">.</span><span class=\"na\">support</span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">));</span>\n        <span class=\"o\">}</span>\n        <span class=\"c1\">// 第二种调用方式</span>\n        <span class=\"n\">YarClientOptions</span> <span class=\"n\">yarClientOptions</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"n\">YarClientOptions</span><span class=\"o\">();</span>\n        <span class=\"n\">yarClientOptions</span><span class=\"o\">.</span><span class=\"na\">setConnect_timeout</span><span class=\"o\">(</span><span class=\"mi\">2000</span><span class=\"o\">);</span>\n        <span class=\"n\">YarClient</span> <span class=\"n\">yarClient2</span>  <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"n\">YarClient</span><span class=\"o\">(</span><span class=\"n\">uri</span><span class=\"o\">,</span><span class=\"n\">yarClientOptions</span><span class=\"o\">);</span>\n        <span class=\"n\">RewardScoreService</span> <span class=\"n\">rewardScoreService2</span> <span class=\"o\">=</span> <span class=\"o\">(</span><span class=\"n\">RewardScoreService</span><span class=\"o\">)</span> <span class=\"n\">yarClient2</span><span class=\"o\">.</span><span class=\"na\">useService</span><span class=\"o\">(</span><span class=\"n\">RewardScoreService</span><span class=\"o\">.</span><span class=\"na\">class</span><span class=\"o\">);</span>\n        <span class=\"k\">for</span> <span class=\"o\">(</span><span class=\"kt\">int</span> <span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"o\">;</span> <span class=\"n\">i</span> <span class=\"o\">&lt;</span> <span class=\"mi\">10</span><span class=\"o\">;</span> <span class=\"n\">i</span><span class=\"o\">++)</span> <span class=\"o\">{</span>\n            <span class=\"n\">System</span><span class=\"o\">.</span><span class=\"na\">out</span><span class=\"o\">.</span><span class=\"na\">println</span><span class=\"o\">(</span><span class=\"n\">rewardScoreService2</span><span class=\"o\">.</span><span class=\"na\">post</span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">20</span><span class=\"o\">));</span>\n        <span class=\"o\">}</span>\n    <span class=\"o\">}</span>\n\n<span class=\"o\">}</span>\n</pre></div>\n\n<p>考虑到 Java 和 PHP 的数据类型的不同，这里做了一个折中的处理，返回数据类型客户端框架统一以 Object 类型接受，然后使用时再根据接口定义的数据类型进行转换。</p>\n\n<h2>Java 客户端并行调用这两个服务</h2>\n\n<p>这里的方法的命令皆以 Yar 原版为准则。<br>\n<code>YarConcurrentClient.call</code>方法注册，<br>\n<code>YarConcurrentClient.loop</code>并行调用，<br>\n<code>YarConcurrentClient.reset</code>清空任务。<br>\n回调函数需要继承实现<code>YarConcurrentCallback</code>里面定义了两个方法：<code>async</code>是针对并行调用发出之后立即执行的任务，而<code>success</code>则是每个请求之后返回的结果。</p>\n<div class=\"highlight\"><pre><span class=\"kd\">public</span> <span class=\"kd\">class</span> <span class=\"nc\">YarConcurrentClientTest</span> <span class=\"kd\">extends</span> <span class=\"n\">TestCase</span> <span class=\"o\">{</span>\n\n    <span class=\"cm\">/**</span>\n<span class=\"cm\">     * rpc api 地址</span>\n<span class=\"cm\">     */</span>\n    <span class=\"kd\">static</span> <span class=\"n\">String</span> <span class=\"n\">uri</span> <span class=\"o\">=</span> <span class=\"s\">\"http://mengkang.net/demo/yar-server/RewardScoreService.php\"</span><span class=\"o\">;</span>\n\n    <span class=\"kd\">public</span> <span class=\"kd\">class</span> <span class=\"nc\">callback</span> <span class=\"kd\">extends</span> <span class=\"n\">YarConcurrentCallback</span> <span class=\"o\">{</span>\n\n        <span class=\"kd\">public</span> <span class=\"kt\">void</span> <span class=\"nf\">async</span><span class=\"o\">()</span> <span class=\"o\">{</span>\n            <span class=\"n\">System</span><span class=\"o\">.</span><span class=\"na\">out</span><span class=\"o\">.</span><span class=\"na\">println</span><span class=\"o\">(</span><span class=\"s\">\"现在, 所有的请求都发出去了, 还没有任何请求返回\"</span><span class=\"o\">);</span>\n        <span class=\"o\">}</span>\n\n        <span class=\"kd\">public</span> <span class=\"n\">Object</span> <span class=\"nf\">success</span><span class=\"o\">()</span> <span class=\"o\">{</span>\n            <span class=\"k\">return</span> <span class=\"n\">retValue</span><span class=\"o\">;</span>\n        <span class=\"o\">}</span>\n\n    <span class=\"o\">}</span>\n\n    <span class=\"kd\">public</span> <span class=\"kd\">class</span> <span class=\"nc\">errorCallback</span> <span class=\"kd\">extends</span> <span class=\"n\">YarConcurrentErrorCallback</span> <span class=\"o\">{</span>\n        <span class=\"nd\">@Override</span>\n        <span class=\"kt\">void</span> <span class=\"nf\">error</span><span class=\"o\">()</span> <span class=\"o\">{</span>\n            <span class=\"n\">System</span><span class=\"o\">.</span><span class=\"na\">out</span><span class=\"o\">.</span><span class=\"na\">println</span><span class=\"o\">(</span><span class=\"s\">\"出错了\"</span><span class=\"o\">);</span>\n        <span class=\"o\">}</span>\n    <span class=\"o\">}</span>\n\n    <span class=\"kd\">public</span> <span class=\"kt\">void</span> <span class=\"nf\">testLoop</span><span class=\"o\">()</span> <span class=\"kd\">throws</span> <span class=\"n\">Exception</span> <span class=\"o\">{</span>\n\n        <span class=\"n\">String</span> <span class=\"n\">packagerName</span> <span class=\"o\">=</span> <span class=\"n\">YarConfig</span><span class=\"o\">.</span><span class=\"na\">getString</span><span class=\"o\">(</span><span class=\"s\">\"yar.packager\"</span><span class=\"o\">);</span>\n        <span class=\"n\">YarClientOptions</span> <span class=\"n\">yarClientOptions</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"n\">YarClientOptions</span><span class=\"o\">();</span>\n        <span class=\"n\">yarClientOptions</span><span class=\"o\">.</span><span class=\"na\">setConnect_timeout</span><span class=\"o\">(</span><span class=\"mi\">2000</span><span class=\"o\">);</span>\n\n        <span class=\"k\">for</span> <span class=\"o\">(</span><span class=\"kt\">int</span> <span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"o\">;</span> <span class=\"n\">i</span> <span class=\"o\">&lt;</span> <span class=\"mi\">10</span><span class=\"o\">;</span> <span class=\"n\">i</span><span class=\"o\">++)</span> <span class=\"o\">{</span>\n            <span class=\"c1\">// 第一种调用方式</span>\n            <span class=\"n\">YarConcurrentClient</span><span class=\"o\">.</span><span class=\"na\">call</span><span class=\"o\">(</span><span class=\"k\">new</span> <span class=\"n\">YarConcurrentTask</span><span class=\"o\">(</span><span class=\"n\">uri</span><span class=\"o\">,</span> <span class=\"s\">\"support\"</span><span class=\"o\">,</span> <span class=\"k\">new</span> <span class=\"n\">Object</span><span class=\"o\">[]{</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">},</span> <span class=\"n\">packagerName</span><span class=\"o\">,</span> <span class=\"k\">new</span> <span class=\"n\">callback</span><span class=\"o\">()));</span>\n            <span class=\"c1\">// 第二种调用方式 增加一些额外配置选项</span>\n            <span class=\"n\">YarConcurrentClient</span><span class=\"o\">.</span><span class=\"na\">call</span><span class=\"o\">(</span><span class=\"k\">new</span> <span class=\"n\">YarConcurrentTask</span><span class=\"o\">(</span><span class=\"n\">uri</span><span class=\"o\">,</span> <span class=\"s\">\"support\"</span><span class=\"o\">,</span> <span class=\"k\">new</span> <span class=\"n\">Object</span><span class=\"o\">[]{</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">},</span> <span class=\"n\">packagerName</span><span class=\"o\">,</span> <span class=\"k\">new</span> <span class=\"n\">callback</span><span class=\"o\">(),</span><span class=\"n\">yarClientOptions</span><span class=\"o\">));</span>\n        <span class=\"o\">}</span>\n\n        <span class=\"k\">for</span> <span class=\"o\">(</span><span class=\"kt\">int</span> <span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"o\">;</span> <span class=\"n\">i</span> <span class=\"o\">&lt;</span> <span class=\"mi\">10</span><span class=\"o\">;</span> <span class=\"n\">i</span><span class=\"o\">++)</span> <span class=\"o\">{</span>\n            <span class=\"c1\">// 第三种调用方式 有正确的回调和错误的回调</span>\n            <span class=\"n\">YarConcurrentClient</span><span class=\"o\">.</span><span class=\"na\">call</span><span class=\"o\">(</span><span class=\"k\">new</span> <span class=\"n\">YarConcurrentTask</span><span class=\"o\">(</span><span class=\"n\">uri</span><span class=\"o\">,</span><span class=\"s\">\"post\"</span><span class=\"o\">,</span><span class=\"k\">new</span> <span class=\"n\">Object</span><span class=\"o\">[]{</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"mi\">2</span><span class=\"o\">},</span><span class=\"n\">packagerName</span><span class=\"o\">,</span><span class=\"k\">new</span> <span class=\"n\">callback</span><span class=\"o\">(),</span><span class=\"k\">new</span> <span class=\"n\">errorCallback</span><span class=\"o\">()));</span>\n            <span class=\"c1\">// 第四种调用方式 在第三种的基础上增加额外的配置选项</span>\n            <span class=\"n\">YarConcurrentClient</span><span class=\"o\">.</span><span class=\"na\">call</span><span class=\"o\">(</span><span class=\"k\">new</span> <span class=\"n\">YarConcurrentTask</span><span class=\"o\">(</span><span class=\"n\">uri</span><span class=\"o\">,</span><span class=\"s\">\"post\"</span><span class=\"o\">,</span><span class=\"k\">new</span> <span class=\"n\">Object</span><span class=\"o\">[]{</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"mi\">2</span><span class=\"o\">},</span><span class=\"n\">packagerName</span><span class=\"o\">,</span><span class=\"k\">new</span> <span class=\"n\">callback</span><span class=\"o\">(),</span><span class=\"k\">new</span> <span class=\"n\">errorCallback</span><span class=\"o\">(),</span><span class=\"n\">yarClientOptions</span><span class=\"o\">));</span>\n        <span class=\"o\">}</span>\n\n        <span class=\"n\">YarConcurrentClient</span><span class=\"o\">.</span><span class=\"na\">loop</span><span class=\"o\">(</span><span class=\"k\">new</span> <span class=\"n\">callback</span><span class=\"o\">());</span>\n        <span class=\"n\">YarConcurrentClient</span><span class=\"o\">.</span><span class=\"na\">reset</span><span class=\"o\">();</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n</pre></div>\n</div></div>"], "reply": "18", "tittle": "快如闪电的并行化 RPC 框架 —— Yar 的 Java Client。完美继承 Yar 的优点：快如闪电；轻如鸿毛(依旧轻量级)；支持并行化调用。", "comment": ["http2 普及之后，这些 RPC 都得跪。。。", "curl 的 http2 的实现还不成熟，所以一时半会 php-curl 还用不起 http2 ，这是个问题。\r", "java 的 okhttp 库倒是很成熟的，可惜是在客户端。不过服务端有 nginx 挡在前面，也无所谓。", " http2 跟 rpc 有毛关系。。。。。。。", " 。。。 你琢磨一下，在 v2 一般不喜欢长篇大论", " ", " ", "java 的 rpc 好像要成熟很多", " 是在服务端组件内部通信比较完善，不过现在互联网那个的趋势是块糙猛，所以客户端倒是 java(安卓），服务端 php 这个比较常见", "thrift 呢？", "实在没看出哪就快如闪电了，，，", " 这里想问下，和 thrift 对比，性能如何？", "  thift 各个语言的绑定的坑比较多。性能的话，如果基于 http2 选用 protobuf 序列化和 h2c 协议的话，没有差别。\r", "\r", "不过 http2 用起来都是简单，外部接口一般就是 jsonrpc over http2 了。内部组件的才会用上面这种方式。", " \r", "“各个语言的绑定”，这里是指生成多种语言的 gen-xxx 代码，它们混合互相调用有很多坑？", " 恩。封装太重，出了问题要调试一番才知道问题在哪。而 http2 最大的优势是保持了 http 语义的不便，使用起来傻瓜话，不会出现所谓的“误用”。", "微博用的是这个吗？微博可是越来越慢了。", " 说得很对。都得学习！", " 标题党，把拉进来看看。。不好意思哈。", "rpc 的性能消耗最大在于序列化\r", "真要拼速度的话 我想没人能干的过 capno", " 好，谢谢，回头看看，好多高人呀！"]},
{"content": ["<div class=\"topic_content\">有没有一款 php+mysql 的开源软件可以自动生成一个列表在页面，还有后台管理员可以直接添加内容？我想用来放下载页面</div>"], "reply": "目前尚无回", "tittle": "有没有一款 php+mysql 的开源软件可以自动生成一个列表", "comment": []},
{"content": ["<div class=\"topic_content\"><p>目前有个需求，用户下订单， 30 分钟内没支付成功自动取消订单，商品回到商品库继续销售，各位是怎么做的</p>\n</div>"], "reply": "6", "tittle": "电子商务订单限时支付问题", "comment": ["加个订单队列  每分钟检查一次。时间过了删除订单，并将商品返回库存。\r", "这样可以嘛", "未支付订单丢到 队列中 （比如 memcached redis 等）依靠自身特性\r", "设置 timeout ，\r", "时间到了 他自动会 timeout ，并且空的时候被系统回收的。。\r", "\r", "BTWmemcached 做好持久化备份。", "最简单的 写个 cron 扫 不就完了。。。", "没看完题目 把我隐藏掉。。", "写个计划任务，判断未支付订单下单时间是否大于 30 分钟，如果成立，将商品数量释放，返回到库存中，同时订单状态变为“自动取消”，以上过程写入订单详情日志中\r", "简单的就是这样。", "自己的系统都好处理，最坑的是支付宝有一类支付不支持指定超时时间的，要注意处理"]},
{"content": "", "reply": "10", "tittle": "大家用 macbook pro 开发，都用什么编译软件？", "comment": ["java: javac\r", "c/c++: llvm/clang, gcc", "babel", "intelliJ", "编译软件？是什么东西哦，请教一下。", "less", "tsc", "g++", "Android Studio", "Sublime Text\r", "Xcode", "kate/gedit"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>之前在 Github 上看了 zhihu-python 项目，就想着自己重复造造轮子，用 PHP 实现。目前已经看着 python 的那个项目写了一些，其实大部分应该叫抄。不过现在正开始把自己的想法加进去~</p>\n\n<p>地址： <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/ahonn/zhihu-php\">https://github.com/ahonn/zhihu-php</a></p>\n\n<p>各位请喷。。然后小白想听听大牛们有什么好建议~</p>\n</div></div>"], "reply": "16", "tittle": "重复造轮子系列: zhihu-php", "comment": ["哈哈～我是 zhihu-python 的作者，自己的项目是一年前发在 V2EX 的。祝楼主越做越好！\r", "ps 我好像一年前挖的坑（ Topic 类）现在还没有填。。。不过楼主这个项目已经有 Topic 类了（赞～）", "刚看完 HTML ， CSS, JavaScript 。\r", "\r", "围观学习。", " 想继续完善下去~感觉写完之后能学到很多东西", "帮朋友宣传一个，还有个 py3 的版本\r", " 这个好评~", " 好评好评！", "他们好像在做 api 了。。。", " 没事，只是为了在做的过程中学到东西", " 这种事情基本上是吃力不讨好，就像 webqq 协议。。。", " 做给自己玩的没什么所谓啦~", " 吃力倒是真的，前端一改我这就崩 = = 不过不讨好就随意啦，反正是要自己用滴~~", "PHP Fatal error:  Call to a member function find() on a non-object in /Library/WebServer/Documents/zhihu/zhihu-php/zhihu/user.php on line 408\r", "\r", "页面有 a 元素啊,为什么会 fatal 。 @", " 开发中遇到过没", " 那个是解析的页面中找不到需要的数据。我刚刚试了是 ok 的啊。。我特地找了一个没有关注话题的试了。", "命名空间都没有，差评", "不错～～", " 感谢建议"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/wukezhan/air\">https://github.com/wukezhan/air</a></p>\n</div></div>"], "reply": "27", "tittle": "分享一个本人用 C 编写的、现代的高性能轻量级 PHP web 框架 -- air framework", "comment": ["膜拜下", " 感谢支持，欢迎下载、体验", "膜拜", "膜拜大神", "其实我对 nginx 更感兴趣...我想写个 nginx...", "大神你好", "大触你好", "自己写框架有什么好处啊", "膜拜", " 了解轮子制造过程", "fork 一下，有时间看看源码", "不错的框架 PHP 中加入异步有点意思\r", "不过没太弄明白是啥东西。。\r", "看 readme 像是一个 http 服务器的感觉", " 你也会自己写框架么？", "膜拜大神 性能和 yaf phalcon 比起来如何？", "膜拜下", "感谢所有朋友的支持，欢迎大家关注、体验，如有问题欢迎随时向我反馈！", " 有想法就付诸行动吧，想法很重要，行动更关键", " @", " \r", "写框架不仅仅是造轮子，更是传递一种思想。\r", "有的人喜欢大而全，有的人喜欢小而美， air 就是立志于成为一个小而美的框架，希望用更轻量、简洁的实现，达到更高性能、更高效率的目的。", " 明年年初写个......", " 这是一个用 C 写成的 PHP web 框架，可以基于它编写各种类型、各种规模的网站。\r", "异步特性是专门为了对实际应用中耗时最多的业务逻辑部分进行性能提升而设计。更多的内容我会整理成一篇文章具体介绍，敬请关注，此外也可以再看一下 readme 和演示示例。", "给个联系方式行不？", "真心膜拜啊", "跨界能手", "专注做异步这块并且独立组件，简单易用，应该会更受欢迎", " ", " 项目说明底部有各种联系方式", " @", " 多谢支持，欢迎 star 持续关注！\r", " air 本身已足够轻量级，异步特性本身是作为一个独立的工具集添加进来的，我会根据更多用户的反馈进行下一步的规划，多谢你的建议！", "牛"]},
{"content": ["<div class=\"topic_content\">shell 环境下面执行下面的命令可以解码加密后的内容，如何用 PHP 的 openssl_decrypt 函数来完成下面这段代码，使之达到同样的效果。\r<br>\r<br>echo \"xxxxxxxxxxxxxxxxxxxxx\" | openssl enc -aes-256-cbc -salt -k 12345678 -base64 -d\r<br>\r<br>昨天发个问题，被喷的不行不行的，真心不是想做伸手党，我是自己反反复复折腾了一天没结果才来提问的。菜鸟请勿见怪！</div>"], "reply": "1", "tittle": "php openssl_decrypt 解码问题求助", "comment": ["用指定的方法为什么不去看手册？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>代码如下：<br>\necho mb_convert_encoding('小春子', 'UTF-8', 'GB18030');<br>\necho mb_convert_encoding('灏忔槬瀛', 'GB18030', 'UTF-8');</p>\n\n<p>此时运行时看到：<br>\n灏忔槬瀛小春��</p>\n\n<p>问题是：为什么小春子没有正常显示而是出现了乱码呢？<br>\n注：文件编码和浏览器编码都是 utf-8</p>\n</div></div>"], "reply": "5", "tittle": "关于 mb_convert_encoding 的转码问题", "comment": ["那`echo mb_convert_encoding(mb_convert_encoding('小春子', 'UTF-8', 'GB18030'), 'GB18030', 'UTF-8');` 是啥？乱码输出不一定是全部的内容。", " 试了下，结果如下：\r", "echo mb_convert_encoding('小春子', 'UTF-8', 'GB18030');\r", "echo mb_convert_encoding('灏忔槬瀛', 'GB18030', 'UTF-8');\r", "echo mb_convert_encoding(mb_convert_encoding('小春子', 'UTF-8', 'GB18030'), 'GB18030', 'UTF-8');\r", "\r", "运行结果是：\r", "灏忔槬瀛小春��小春��\r", "\r", "真是太奇怪了", "小春子！=灏忔槬瀛，你的编码用的 utf8 ，一个字 3 个字节 3*3=9 ， gb2312 ，一个字 2 个字节，所以小春子变成灏忔槬瀛的时候，还有一个字节没法正常显示被 php 忽略掉，在转为 utf8 的时候，只能显示两个字，另外两个字节无法正常显示，所以浏览器显示为��。\r", "还有就是 mb_convert_encoding 的用法不是你这么用的吧？？", " 哦，总算是理解了，你说 mb_convert_encoding 不是这么用的是什么意思啊？", "比如， mb_convert_encoding('小春子', 'UTF-8', 'GB18030');这个函数是把 gb18030 转成 utf8 的，而不是相反，这个和 iconv 不一样。其次，转码是因为有两个编码环境才需要转码，你这里只有 utf8 ，没见到用 gb18030 的环境啊"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>看到 V2EX 上一篇文章，列举了 lavaral 开源项目大全，有人整理一份 Yii2 开源项目大全进行学习吗？？</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://www.v2ex.com/t/233725\">https://www.v2ex.com/t/233725</a></p>\n</div></div>"], "reply": "9", "tittle": "求推荐 Yii2 开源项目学习！！", "comment": ["呃，搜一下很麻烦么？\r", " 这样搜出来的不一定是一些好的开源项目，而是搜项目路径名称包含 yii2 的，搜出来好的差的一大堆，何况很多项目名称根本不会包含 yii2 这几个字", " 大赞", " 3Q ！", "yii 项目：开发企业站点  ", "我说怎么今天我的 awesome-yii2 项目这么多 Star ，哈哈\r", "\r", "另外推荐 ", " 社区，代码也是开源的", "Yii2 Fecshop ，开源商城， github 地址： ", "\r", "演示地址： "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>function urlencode() <br>\n{<br>\n  local string=\"$1\";<br>\n  local strlen=${#string};<br>\n  local encoded=\"\";</p>\n\n<p>for (( pos=0 ; pos&lt;strlen ; pos++ )); do<br>\n     c=${string:$pos:1}<br>\n     case \"$c\" in<br>\n        [-_.~a-zA-Z0-9] ) o=\"${c}\" ;;<br>\n        * ) printf -v o '%%%02x' \"'$c\"<br>\n     esac<br>\n     encoded+=\"${o}\";<br>\n  done<br>\n  echo \"${encoded}\";<br>\n}</p>\n\n<p>以上是 C 语言的经过编码后的特殊符号内容是小写的， PHP 的 urlencode 编码后特殊字符串是大小的，那个变态的网站对特殊字符 url 地址大小写非常敏感。请大神帮忙转换一下。</p>\n</div></div>"], "reply": "26", "tittle": "请问如何将下面一段 C 语言代码转换成 PHP", "comment": ["我反复看了下，总觉得这不是 C 语言。。。这是个 Bash 脚本吧。", "艹，真是个 Bash 脚本，难怪我脑内的 C 语言处理器无法解析这段代码。摔", " 我还一直在想 C 语言什么时候能够 local 定义变量了。。。", " 这是一个 function 类型的函数😁", "还以为是自己 c 语言白学了。。", "又是伸手党！！表示毫无好感。", "伸手党", "block", "php 就是从 C 语言来的，我学了 C 学了 PHP ，居然看不懂楼主的代码，这真的是 C 吗？我读书少，别骗我。", " ＋ 1", "大家不要这么深恶意，我来帮楼主翻译。\r", "function php_urlencode($url) {\r", "      return urlencode($url);\r", "}", "function php_urlencode($url) { \r", "return strtolower(urlencode($url)); \r", "}", "。。。有点无语，第一语言没搞清楚，第二请说人话=。=", "看起来都是挺基本的东西。", "我 C 语言白学了", "我中文白学了", "我还以为是 c16 新标准哪来的那么多新用法……", "我还在想哪来的 esac...", "你需要 strtolower()", " 是的，是 Bash 语言，我一直认为 Bash 和 C 没区别。菜鸟勿怪！", " 表示真不是伸手党，为了解决这个问题我搞了一天了。", " 请问哪里不是人话了？语言没搞清楚我承认是我弄错了。", " 你这样会将所有的大小写字符转换成小写，而我只是需要将特殊的字符转换成小写，比如：\r", "\r", "HTTP://编码后是 HTTP%3A%2F%2F ，而我需要的是 HTTP%3a%2f%2f,其它不变。", " 没写过 php ，不过这个不是一个正则替换就能解决的事?", " 我还在想 C 语言什么时候可以直接给一个变量赋值字符串了。", " 说人话就是，你打的字让人不懂你到底想干嘛，你仔细看看你发的帖子，如果 http 不符合你的要求，你的要求是什么？而且专门处理 http 不复杂啊"]},
{"content": ["<div class=\"topic_content\">目前的状态是了解一点 PHP html js css mysql 的皮毛，以前在课程作业中写过一个小型的管理系统\r<br>几点疑问\r<br>1. 我用 Windows ，要在 Ubuntu 虚拟机里写吗？还是 Windows 下就行了？\r<br>2. 5.1 or 5.2 ？\r<br>3. <a target=\"_blank\" href=\"http://golaravel.com\" rel=\"nofollow\">golaravel.com</a> 是官方中文站点吗？是不是看这个网站就行了？\r<br>谢谢各位</div>"], "reply": "19", "tittle": "准备学习 Laravel 了", "comment": ["1. 可以 win\r", "2. 影响不大\r", "3. ", " 是官网，更新最及时", "我正在学\r", "1, 我是 win+xampp ，不用虚拟机\r", "2,建设 5.1 ，因为教程都是 5.1 或以下的", "我整理的一些 laravel 资源索引： ", "可以用官方的 homestead 做开发环境", "1.可以 win;\r", "2.最新即可.\r", "3.可以的,毕竟是框架性的东西,文档很详细.作为一个没 PHP 基础的 javaer,照着文档一周就撸出一个小型 CMS.....", "和楼主一样，希望学习过程中多交流。", "PS.今天这本关于 laravel 的书籍限免...http://free.apprcn.com/get-ebook-laravel-design-patterns-and-best-practices-for-free/", "1. windows 配置环境比较复杂，条件可以用 Ubuntu\r", "2. 用 5.1 吧，官方的 LTS 版本\r", "3. 中文站点有很多，英文基础好的可以看官网", "1. 建议使用 vagrant 或者直接使用官方的 homestead 作为开发环境\r", "2. 这种东西学新不学旧，毕竟新版很多地方还是和老版一样的，但是增加了一些新特性\r", "3. ", " 并非官方中文，而是又 ", " 的站长王赛建立的", " 晚了点， 8 点结束", " 我靠，来迟了一步，刚领导谈话就过了，能否发我谷歌，用户名一样", "建议 5.1 吧 英文好直接官网 中文的话可以看下 ", " 的中文文档和基础教程", " \r", "   不好意思,pdf 上面有我名字,不好发,不过这里有两本书不错^_^. ", "homestead 虚拟机", " 好博客啊，这么多好资源，以收藏。", "友情提示：\r", "\r", "建议楼主自备梯子，否则配置环境就需要大费周折（我开始就幼稚地在配置环境这一块原地绕了好多圈", "有梯子，架好 composer 和 npm 镜像，基本就够了", "symfony is good !", "welcome."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>网站服务器是 linux(查了些资料有个 windows 的实现方法，所以强调下)<br>\n在微信中用，说下最终实现目标吧。<br>\n就是微信回复关键字，生成有用户昵称和头像的二维码，现在遇到的问题是： php 写了个页面，可以获取微信用户头像和昵称，但是在想怎么用 php 获取这个网页的截图，然后返回给用户。<br>\n微信回复图片的功能已经开发好了，</p>\n\n<h3>就是这个 php 获取某个 URL 截图不知道怎么开发。</h3>\n</div></div>", "<div class=\"topic_content\">用 gd 库写好了，谢谢大家了！</div>"], "reply": "24", "tittle": "php 网站截图开发。", "comment": ["截图的可以用 phantomjs 执行脚本 到这个网页截图保存", "cutycapt", "不如直接用 gd 画一个，听起来不是什么特别复杂的网页。非要做网页截图可以用 phantomJS", "感觉你的需求没必要截图啊，不如说说你要截图干嘛。", " \r", " 这个就有点麻烦了，我只用了个虚拟主机。要是别的没办法，估计我得买云主机了。", "感觉你是要做生成名片那种功能，还是画出来比较靠谱", " \r", " \r", "如图\r", " ", "之前记得站内有人发过出来。。好久之前了 不记得了。。搜索看看吧。", "wildimage/gd 直接画？\r", "\r", "画背景图，画前景图，画文字", "设置好图片模版，然后获取头像的数据，写入，然后 gd 生生二维码和昵称 拼接一下就好了，也不用截图", " 如果是固定的，应该是可以画出来的。\r", "如果真的是要截图。 V 站有人做过。/t/81942\r", "可惜已经停止服务了，而且个人信息也清空了。", "可以考虑 html=>pdf=>image ， 开销可能会比较大", "直接用 GD 画图，很简单的，看看 ", " 上的文档就行", "用 phantomjs ，我就是这样做的。 ", " ， php 调用命令的方式", "php 怕是不行,html 是由浏览器来格式化的\r", "你 php 只能获取到 html", "不用截图。直接通过 gd 库，把所需要的东西叠加在一张模板图片上就行", "模版是统一好的嘛？是的话就提取昵称和头像然后填到模版里", " 既然只要昵称和头像，直接用 gd 生成即可", "当然是 GD 生成啊\r", "[code]\r", "     $affiliate = unserialize($GLOBALS['_CFG']['affiliate']);\r", "                $level_register_up = (float)$affiliate['config']['level_register_up'];\r", "                $rank_points = $GLOBALS['db']->getOne(\"SELECT rank_points FROM \" . $GLOBALS['ecs']->\r", "                    table('users') . \"where user_id=\" . $user_id);\r", "                if ($rank_points < $level_register_up)\r", "                {\r", "                    $msgType = \"text\";\r", "                    $contentStr = \"您还不是分销商，暂时不能获取推广二维码.\";\r", "                    $resultStr = sprintf($textTpl, $fromUsername, $toUsername, $time, $msgType, $contentStr);\r", "                    $this->universal($fromUsername, $base_url);\r", "                    $this->insert_wmessage($db, $fromUsername, $contentStr, $time, $belong);\r", "                    echo $resultStr;\r", "                    exit;\r", "                }\r", "\r", "                $ArticleCount = 1;\r", "                $scene_id = $user_id;\r", "                $affiliate = $user_id;\r", "                $gourl = $base_url . 'wechat/egg/index1.php?scene_id=' . $scene_id;\r", "                $type = 'tj';\r", "                $qr_path = $db->getOne(\"SELECT `qr_path` FROM `wxch_qr` WHERE `scene_id`='$scene_id'\");\r", "                $user_name = $db->getOne(\"SELECT `user_name` FROM `ecs_users` WHERE `user_id`='$scene_id'\");\r", "\r", "                $scene = $user_name;\r", "\r", "                $qr_path = $db->getOne(\"SELECT `qr_path` FROM `wxch_qr_tianxin100` WHERE `scene_id`='$scene_id'\");\r", "                /**/\r", "                if (!empty($qr_path))\r", "                {\r", "                    $surl = $qr_path;\r", "                    $data = dirname(__FILE__) . \"/qrcode/\" . $surl;\r", "                } else\r", "                {\r", "                    $action_name = \"QR_LIMIT_SCENE\";\r", "                    $json_arr = array('action_name' => $action_name, 'action_info' => array('scene' =>\r", "                                array('scene_id' => $scene_id)));\r", "                    $data = json_encode($json_arr);\r", "                    $this->access_token($db);\r", "                    $ret = $db->getRow(\"SELECT `access_token` FROM `wxch_config`\");\r", "                    $access_token = $ret['access_token'];\r", "                    if (strlen($access_token) >= 64)\r", "                    {\r", "                        $url = '", "' . $access_token;\r", "                        $res_json = $this->curl_grab_page($url, $data);\r", "                        $json = json_decode($res_json);\r", "                    }\r", "                    $ticket = $json->ticket;\r", "\r", "                    if ($ticket)\r", "                    {\r", "                        $ticket_url = urlencode($ticket);\r", "                        $ticket_url = '", "' . $ticket_url;\r", "                        $imageinfo = $this->downloadimageformweixin($ticket_url);\r", "                        $time = time();\r", "                        $url = $_SERVER['HTTP_HOST'];\r", "                        $path = '../images/qrcode/' . $time . '.jpg';\r", "                        $surl = \"http://\" . $url . '/images/qrcode/' . $time . '.jpg';\r", "                        $local_file = fopen($path, 'a');\r", "                        $h_path = '../images/qrcode/head/' . $time . '.jpg';\r", "                        $h_local_file = fopen($h_path, 'a');\r", "                        $headimgurl = $db->getOne(\"SELECT `headimgurl` FROM `wxch_user` WHERE `wxid`='$fromUsername'\");\r", "                        $h_imageinfo = $this->downloadimageformweixin($headimgurl);\r", "                        if (false !== $local_file)\r", "                        {\r", "\r", "                            if (false !== fwrite($local_file, $imageinfo) && false !== fwrite($h_local_file,\r", "                                $h_imageinfo))\r", "                            {\r", "                                fclose($local_file);\r", "                                //将生成的二维码图片的地址放到数据库中\r", "                                $insert_sql = \"INSERT INTO `wxch_qr` (`type`,`action_name`,`ticket`, `scene_id`, `scene` ,`qr_path`,`function`,`affiliate`,`endtime`,`dateline`) VALUES\r", "\t\t\t\t\t('$type','$action_name', '$ticket',$scene_id, '$scene' ,'$surl','$function','$affiliate','$endtime','$dateline')\";\r", "                                $db->query($insert_sql);\r", "\r", "                            }\r", "\r", "                        }\r", "                    }\r", "\r", "                    $imgsrc = \"../images/qrcode/\" . $time . \".jpg\";\r", "                    $h_imgsrc = \"../images/qrcode/head/\" . $time . \".jpg\";\r", "                    $width = 230;\r", "                    $height = 230;\r", "                    $time = time();\r", "                    $name = $this->resizejpg($imgsrc, $width, $height, $time);\r", "                    $imgs = $name;\r", "                    //处理头像\r", "                    $width = 100;\r", "                    $height = 100;\r", "                    $h_time = $time . \"_1\";\r", "                    $h_name = $this->resizejpg($h_imgsrc, $width, $height, $h_time);\r", "                    $h_imgs = $h_name;\r", "                    $target = '../qrcode/tianxin100.jpg'; //背景图片\r", "                    $target_img = Imagecreatefromjpeg($target);\r", "                    $source = Imagecreatefromjpeg($imgs);\r", "                    $h_source = Imagecreatefromjpeg($h_imgs);\r", "                    imagecopy($target_img, $source, 155, 462, 0, 0, 230, 230);\r", "                    imagecopy($target_img, $h_source, 60, 28, 0, 0, 100, 100);\r", "                    $fontfile = \"simsun.ttf\";\r", "                    #水印文字\r", "                    $nickname = $db->getOne(\"SELECT `nickname` FROM `wxch_user` WHERE `wxid`='$fromUsername'\");\r", "                    #打水印\r", "                    $textcolor = imagecolorallocate($target_img, 0, 0, 255);\r", "                    imagettftext($target_img, 18, 0, 268, 59, $textcolor, $fontfile, $nickname);\r", "                    Imagejpeg($target_img, 'qrcode/' . $time . '.jpg');\r", "                    $data = dirname(__FILE__) . \"/qrcode/\" . $time . \".jpg\";\r", "                    $s_data = $time . \".jpg\";\r", "                    $insert_sql = \"INSERT INTO `wxch_qr_tianxin100` (`qr_path`,`scene`,`scene_id`, `nickname`) VALUES\r", "\t\t\t\t('$s_data','$scene', '$scene_id','$nickname')\";\r", "                    $db->query($insert_sql);\r", "\r", "                }\r", "\r", "                $filedata = array(\"media\" => \"@\" . $data);\r", "                $this->access_token($db);\r", "                $ret = $db->getRow(\"SELECT `access_token` FROM `wxch_config`\");\r", "                $access_token = $ret['access_token'];\r", "                if (strlen($access_token) >= 64)\r", "                {\r", "                    $url = '", "' . $access_token .\r", "                        '&type=image';\r", "\r", "                    $res_json = $this->https_request($url, $filedata);\r", "\r", "                    $json = json_decode($res_json);\r", "                }\r", "                $msgType = \"image\";\r", "                $iipp = $_SERVER[\"REMOTE_ADDR\"];\r", "                $phone_state = $_SERVER['HTTP_USER_AGENT'];\r", "                $contentStr = $json->media_id;\r", "                $resultStr = sprintf($imageTpl, $fromUsername, $toUsername, $time, $msgType, $contentStr);\r", "                $this->insert_wmessage($db, $fromUsername, $contentStr, $time, $belong);\r", "                $this->universal($fromUsername, $base_url);\r", "                echo $resultStr;\r", "                exit;\r", "\t\t}\r", "[/code]", " 我擦，这代码写的。。。。。。你是怕别人能维护啊？", "参考水印合成的吧，最好理解了。", "我靠, 一看头像以为是发神 @", "是 @", "这么牛逼的头像...."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>希望大家能多提提意见。 </p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://simpleforum.org/t/126\">http://simpleforum.org/t/126</a></p>\n\n<p><img src=\"http://7xnug4.com1.z0.glb.clouddn.com/upload/201601/03/1_1451789842.png\" alt=\"\"></p>\n</div></div>"], "reply": "18", "tittle": "极简论坛 Simple Forum v1.1.1 发布", "comment": ["最多支持多少数据量?\r", "一千万帖子卡不卡?", " \r", "一千万量级没试过。\r", "\r", "注册会员:165656 节点:32 主题:56875 回复:530901", " \r", "一千万量级没试过。 \r", "\r", "注册会员:165656 节点:32 主题:56875 回复:530901\r", "本地测试： windows 环境下 xampp ，不开 opcache ， php5.x ，\r", "0.2 秒", "类似 V2EX ，某些节点的帖子不会上首页，这个功能有没有考虑过？", "  嗯，考虑过。节点导航之类的功能会慢慢添加的", "明白", "我总感觉 默认头像怪怪的.", " 随便找的一个", "用什么语言开发的？", " 我发在 pho 板块", "用的基础模板而不是高级模板，不喜欢！", "我觉得很不错", "居然是 AU ？？？", " 有问题吗？", " 木有木有，楼主人在日本吗？", " 恩，在日本， IT 民工一枚", " 同在日本，码农一枚，多多关照。", " 互相关照"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>写了 N 久 php ，主要写原生代码，使用过简单的 CI 框架和 wordpress 开发过产品，也学过 yii 但没有做出完整的产品。<br>\n最近听说 Laravel 很强大，于是看了一点点。<br>\n感觉 Laravel 和原生 php 区别太大，相当于学一门新语言。<br>\n既然要付出学习成本并且成本还不低，那么我是学 Laravel 呢还是改行学 java 呢？</p>\n\n<p>我的目的是根据客户的要求快速开发网站,不用考虑我的公司用什么编程语言。</p>\n</div></div>"], "reply": "28", "tittle": "我是一个没使用过复杂框架的 phper，我该继续写原生 php 呢，还是学 Laravel 呢还是学 java 呢？", "comment": ["语言是一门工具，需要什么学什么", "学 java 怎么快速……", "当然 laravel", "Laravel 。你有原生 php 做基础，应该很快就上手了，一边看文档一边做，一两个项目下来就 OK 了", "同原声的 嗯 有文档  需要什么查什么 半个月就差不多了  laravel", "PHP 的开发快啊 \r", "建议学习下  laravel", "我是因为喜欢原生写法，所有一直在坚持，对于框架还是要学习的，对一个框架的学习可以很大程度提高自己书写原生代码的水平", "『 Laravel 和原生 php 区别太大』", "Laravel 都是 PHP 写的，也没啥扩展语法。可能只是和你认知的 PHP 差别大", "OP 用哪个舒服就用哪个，开心就好，", "\"感觉 Laravel 和原生 php 区别太大，相当于学一门新语言\"", "\"感觉 Laravel 和原生 php 区别太大，相当于学一门新语言\" \r", "这句话我不是特别赞同，不管是 php 的任何框架(yaf 除外)，都是 php 代码写的，只要你 php 基础好，基本上看看框架的规范就行，如果 php 基础不好，那可能就和看新语言一样了", "我感觉 框架这东西本来就是对公司有利 所以大多数公司需要什么就学什么吧 没有必要纠结\r", "\r", "而且只要基础扎实 学什么框架应该都不难 很多实现只是细节不同 解决问题的思路大都一致\r", "\r", "学什么语言也一样 关键看谁更适合实际问题吧", "不建议继续 PHP 　然后是学习其他的类似的语言的。开阔眼界和思路 在回来继续搞 PHP 。。", "你只是学会了编程而已。\r", "\r", "什么叫原生？任何框架还能引入非原生的东西？\r", "\r", "还是你把套模板当成原生了？", "真是莫名其妙,    我是很讨厌 \"原生\" 这样的词儿,  尤其是还拿来和框架对比的时候\r", "\r", "---\r", "\r", "语言相关   :   语法(糖),  特性,  规范,  技巧 等 \r", "\r", "语言无关   :   计算机基础知识,  编程范式, 设计思想等\r", "\r", "\r", "而框架,  通常是在语言相关的基础上,  做了很多语言无关的设计. \r", "\r", "\r", "好吧  打完这么多  才发现都特么废话 . . .", "php 没精通，千万别入 java 大坑。", "Laravel 和原生 php 区别太大\r", "\r", "我也想吐槽这句", "学思想吧，思想是通用的，通常我都是学习或设计出思想之后看用什么语言||框架||库||模块实现起来方便我就去学那些东西。\r", "主要了还是用来解决问题，只要能解决问题，什么语言框架啥的都无所谓。\r", "一种现存的语言||框架||库||模块都有自己的特性，要不然早被其他东西取代了，你要看他们的特性是否符合自己设计||学会的思想，适合就可以用。\r", "\r", "早就不搞 PHP 了，所以给不了 PHP 相关的建议；但我的建议入新不入旧，找点新技术学一学对找工作相当有帮助，现在新技术需求量大且工资高。\r", "\r", "另外提前打一针预防针，入 java 的坑要谨慎， java 的技术体系极其庞大，需要学习超多知识、理解超级抽象的思想、熟悉超多库，基本要做好投入毕生精力的准备，否则就一直处在小试牛刀的阶段，有的人用了 5 年还没有深入了解 java ，倒不是因为有多难，是因为没时间||精力||兴趣去了解。\r", "\r", "广告：学 Node+Koa+Angular+react+MongoDB 吧~", " 兄台，何出此言", "所指的原生是啥意思 - -。 一个文件包含了 mvc 所有逻辑？然后写很多文件？", "学 java ，我是搞 php 的", "学 python ，然后你会更加深刻理解 python 和 php", "学 js ，然后老板找你一个人全搞定了", "兄弟你做了多久 php 了？", "symfony!", "如果只是开发网站，尝试下学下 drupal 什么都能干，还能顺带把 symfony 也走遍。路人甲飘过哦", "我感觉 laravel 运用到了很多 php 比较新的概念，而且编码规范都是很让人学习到很多的\r", "\r", "同时 laravel 基础设施全面，能够很快捷的开发出一个应用来\r", "\r", "所以我推荐学习 :P"]},
{"content": ["<div class=\"topic_content\">如题，大家说说，如果有自己写的能不能说说为什么自己写，自己的框架有什么特点？</div>"], "reply": "16", "tittle": "不同的框架有不同的特点，牛逼的程序员是不是都自己写框架的", "comment": ["因为我们都是中国人", "新框架，新版本，新 feature ，我累了，玩不动，弄一套符合自己品味的框架出来，反正大差不差，谁在意呢", "Laravel", "我觉得牛逼的人基本上都不自己写框架的吧。\r", "有那时间，够做好多其他事了。", "小框架来说，一个前端控制器就差不多了，是不是自己写不重要。", "框架之外，还有框架的生态系统，框架越流行，生态系统越强大，很多轮子拉下来直接用，省时间", " 条件反射到明哥去了😂", "因为懒，所以用框架\r", "因为懒，所以不用框架", "牛逼的人写库给写框架的人用。", "一般都是不喜欢别人的不优雅所以才用自己的轮子", "……\r", "谁来帮我解释一下 框架、结构、架构的关系", " 找工作吗？ Laravel 的，北京", " 深圳 。。", "根据项目需求和钱的多少来决定是否用框架", "Phil Sturgeon 在我眼里就是一个牛鼻的人,  ci 的主要贡献者之一, 同时他也有自己开发的框架和 cms.\r", "\r", "牛鼻的人也用框架. 主要是方便. \r", "牛鼻的人也不用框架, 主要是需求.\r", "牛鼻的人也自己开发框架, 主要是个人偏好.\r", "\r", "我从来不跟你牛鼻的人比, 那叫东施效颦, 虽然我也一直想成为牛鼻的人, 但是毕竟人家是大牛.", "写框架 可以用于你自己特殊的业务需求。你自己清楚整个结构，或者你很精通某个框架的源码与结构，改改就行了。大部分自己写框架无非就是业务需要或者是性能需要，当然性能不错的框架也有不少。还有 帮助你自己了解框架的实现过程"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我有一个文本文件 file.txt<br>\n内容是每行四个字符：<br>\nfdsa<br>\nvffd<br>\ncsfe<br>\nzfvs<br>\ngfge<br>\nfdsk<br>\ndcfa<br>\nzdco<br>\nfdau<br>\ndpkl<br>\nfpyt</p>\n\n<p>这样的结构,有几十万行。我想把他们分类,带 aeoiu 任一个字符或者多个元音字符的写在<br>\none.txt 文件中，不带 aeoiu 中的任何一个字符放在文件 two.txt 中，代码写了好久，不会做啊，正则完全不懂.有高手指教下吧。又做了伸手党,可耻啊！！！</p>\n</div></div>"], "reply": "32", "tittle": "PHP 用正则表达式怎样实现这个功能？", "comment": ["preg_match('/[aeoiu]/', $word);", "用 strpbrk", "正则表达式存文件好像挺难的，找个培训班老师问问吧。", "preg_match_all('/([aeiou]+)/',$word);\r", "foreach($word as $theword){\r", "  //output\r", "}\r", "preg_match_all('/(^[aeiou]+)/',$word);\r", "foreach($word as $theword){\r", "  //output\r", "}\r", "好像是这样的吧", "错了。。\r", "preg_match_all('/([aeiou]+)/',$word,$matches); \r", "foreach($matches as $theword){ \r", "//output \r", "} \r", "preg_match_all('/(^[aeiou]+)/',$word); \r", "foreach($matches as $theword){ \r", "//output \r", "} \r", "好像是这样的吧", " \r", "\r", " \r", "\r", " \r", "非常感谢楼上几位,我去试试.......", "是域名吗", " 感谢，身边没有懂程序的朋友，只好来网上找", " 对的，我想筛选域名", "$file = file_get_contents('file.txt', 'r');\r", "\r", "$one = $two = [];\r", "$lines = explode(\"\\n\", $file);\r", "foreach ($lines as &$line) {\r", "    if (preg_match('/[aeiou]/S', $line)) {\r", "    // if (strpbrk($line, 'aeiou') !== false) {\r", "    // if (strcspn($line, 'aeiou') < strlen($line)) {\r", "        $one[] = &$line;\r", "    } else {\r", "        $two[] = &$line;\r", "    }\r", "}\r", "$one = implode(\"\\n\", $one);\r", "$two = implode(\"\\n\", $two);\r", "\r", "file_put_contents('one.txt', $one);\r", "file_put_contents('two.txt', $two);", "grep '[aeiou]' file.txt > one.txt\r", "grep -v '[aeiou]' file.txt > two.txt", " 非常感谢，尝试了下,可以用。", " 感谢回复，你这个实在 linux 下使用吗？", " \r", "\r", "$one = $two = []; 这句什么意思？创建数组吗？", " ", "\r", "PHP 5.4 之後可以用 [...] 替代 array(...)", "不会正则，笨办法。不知道能不能用\r", "\r", "$fh = fopen('filename.txt', r) or die('errormsg');\r", "while(! feof($fh)) { //判断是否文件末尾\r", "    $string = fgets($fh);//得到一行\r", "    //处理该行\r", "    for ($i=0; $i <strlen($string); $i++) { \r", "        if (strpos('aeiouAEIOU',$string[$i]) === false) {\r", "            # 写入 two.txt\r", "        } else {\r", "            # 写入 one.txt\r", "        }\r", "    }\r", "}\r", "fclose($fh);", "awk 很容易啊\r", "\r", "    awk '{print > (($0~/[aeiou])?\"one\":\"two\")\".txt\"}' file\r", "\r", "没测试, 估计差不多.", "差个 /, :\r", "/[aeiou]/", " Linux 和 Mac 都可以。如果是 Windows 的话，可以装个 babun", "array_map(function ($line) {\r", "    file_put_contents(( strpbrk($line, 'aeiou') !== false ) ? 'one.txt' : 'two.txt', $line, FILE_APPEND);\r", "}, file('file.txt'));", "搞了几年的 php 了，我都不知道有这个函数： strpbrk", " 哦好的，我猜对了，呵呵", " 恩，这个方法非常好，可以在 crontab 下运行，省的不少事情", " 谢谢", "非常感谢楼上诸位，我就不一一 @", "楼上好几位的代码都能实现我想要的功能，我在查查手册，消化消化。", "其实不用 php ，两个命令就好了\r", "\r", "awk '/[aeiou]+/ {print }' file.txt > one.txt\r", "awk '/^[^aeiou]+$/ {print }' file.txt > two.txt", "直接用文本编辑器，正则规范 分别检索两次\r", "不用写 php 程序把。", "我很早以前就写了个这样的工具。。\r", "\r", " 哦我在网上找了好久没找到这样的工具.", "(Gist)[", "]\r", "\r", "Python 的", "  可惜我看不懂 python\r", "PHP 我都只能看点皮毛"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img src=\"http://laravelacademy.org/wp-content/uploads/2016/01/lumen.jpg\" alt=\"Lumen 5.2 发布\"></p>\n\n<p>Lumen 5.2.0 现在正式发布了！本次发布包含 Laravel 5.2 的组件并且对核心理念做了显著修改——只专注于提供无状态的 JSON API ，不再支持会话和视图功能。更多详情请查看相关新闻：</p>\n\n<p>中文版：<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/post/2952.html\">http://laravelacademy.org/post/2952.html</a><br>\n英文版：<a target=\"_blank\" rel=\"nofollow\" href=\"https://laravel-news.com/2016/01/lumen-5-2-is-released/\">https://laravel-news.com/2016/01/lumen-5-2-is-released/</a></p>\n</div></div>"], "reply": "5", "tittle": "Lumen 5.2 已正式发布，新版本将专注于提供无状态 API，不再支持会话和视图功能", "comment": ["赞！不然发展下去又是一个 Laravel", " Laravel 做加法 Lumen 做减法", "无状态的 JSON API ？什么意思？", "  跟 HTTP 无状态一个意思", " 纯 api ，不带 session"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>以前一直用 windows 开发，各种环境的坑已经都填好了。<br>\n从去年一直用 mac 做主力机，但最近搞个 Php 项目，发现在 mac 下安装 php 环境太成问题了，先是 gd 组件问题，后是 memcached 死活装不上，网上也少一键安装的集成环境。<br>\n想看看大家都怎么解决的。</p>\n</div></div>"], "reply": "40", "tittle": "大家对在 Mac 下开发调试 Php,Mysql 都怎么设置环境", "comment": ["brew install php56\r", "    brew install mysql", "远程调试", "装一个 Lantern 然后科学上网，我以前跟你遇到的问题都能找得到的其实", "Vagrant …", "brew\r", "launchRocket", "最好不要改 mac 默认的 php 设置，会被系统更新坑到...\r", "brew 是很不错的选择", "那就换回来..", "Homestead", "vagrant ", "MAMP or MAMP Pro", "虚拟机", "以前是 xampp\r", "现在是 docker", "MAMP", "MAMP", "brew.... \r", "OSX 装环境比 win 简单多了吧", "mac php 不是自带的吗", "换回来好了。。 windows 除 xp 要注意 php 版本外，各种一键安装包都不错，推荐 wpn-xm", "php -S localhost:8080", "docker +1", "目前 docker", "MAMP", "MAMP or MAMP Pro +1", "XAMPP......", "docker(在 mac 上，本质也是虚拟机)、虚拟机\r", "\r", "网络配置好，用 terminal 里的 ssh 连接上去操作。开发基本都配在虚拟机里了，环境干净安心，可以快照恢复。", "每次系统更新完都要改回一大堆配置，心好累", "一直 Vagrant ， vagrant up 一下完事。", "我是编译安装， LZ 搜索 mac 编译安装 lnmp", "搞台云服务器弄也不错哦", "MAMP\r", "Docker 也用过，没 MAMP 省事。", "MAMP 省事", "Ampps", " 最近在研究 docker ，搞了一套 Nginx + PHP-FPM + Redis + MySQL ，可以看看。挺方便的。", "brew ，还有更好的么。所有扩展都是 brew 安装的，前提要自己删除 mac 自带的 httpd 、 php 、 php-fpm", "xampp 。。。 128G 玩不起 docker", "\r", "让我来解救你", " 折腾很久了，问题多多，感觉没必要在环境上钻牛角尖了，先开虚拟机用回 windows 环境", " Vagrant 应该是个挺好的方案，昨天在 Mac mini 上试了一次，没成功，启动失败", "综合大家意见和自己的摸索，对于自己比较熟悉 windows 环境，毕竟已经开发了 10 多年了， windows 一键安装包很多， Mac 下即使各种方式其实都比较繁琐，绝对达不到一键安装， mamp 还可以，但 pro 收费。\r", "决定在 windows 搭建环境调试，毕竟开发不是主业啊，没必要太纠结。", "发现问个问题不但大家给了很多方案，还顺带赚了很多铜币，比签到还多。", "Vagrant+1"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>代码太长，只截取一小部分</p>\n\n<p>${\"GLOBALS\"}[\"ouhmzylxfbji\"] = \"filterElement\";<br>\n${\"GLOBALS\"}[\"qxyjofg\"] = \"filterElements\";<br>\n${\"GLOBALS\"}[\"ytruvymrot\"] = \"createdDom\";<br>\n${\"GLOBALS\"}[\"jzduoky\"] = \"nextE\";<br>\n${\"GLOBALS\"}[\"bcozrflmociy\"] = \"prevE\";<br>\n${\"GLOBALS\"}[\"baqfimelwow\"] = \"startPindex\";<br>\n${\"GLOBALS\"}[\"ytsyscwjsgg\"] = \"pNum\";</p>\n<div class=\"highlight\"><pre>if (isset($_GET[\"login_url\"]) &amp;&amp; ($_GET[\"login_url\"] != \"\")) {\n    ${\"GLOBALS\"}[\"cjdkgb\"] = \"inputs\";\n    $mewfoqb = \"html_string\";\n    ${\"GLOBALS\"}[\"qijxdddxun\"] = \"html_string\";\n    ${${\"GLOBALS\"}[\"ugsfyuseif\"]} = $_GET[\"login_url\"];\n    ${\"GLOBALS\"}[\"stfjwikm\"] = \"login_url\";\n    ${${\"GLOBALS\"}[\"qijxdddxun\"]} = get_html_string_apf(${${\"GLOBALS\"}[\"stfjwikm\"]}, Method);\n    ${${\"GLOBALS\"}[\"xsjlyd\"]} = getHtmlCharset_apf(${${\"GLOBALS\"}[\"vxiintkjiccb\"]});\n    ${${\"GLOBALS\"}[\"seqvxcxer\"]} = str_get_html_apf(${$mewfoqb}, ${${\"GLOBALS\"}[\"xsjlyd\"]});\n    ${${\"GLOBALS\"}[\"cjdkgb\"]} = $dom-&gt;find(\"form input[name]\");\n</pre></div>\n\n<p>使用${\"GLOBALS\"}[\"*<strong><em>\"]=</em></strong>** 方式替换所有变量，${\"GLOBALS\"}[\"*<strong><em>\"]里的</em></strong>*好像是随机字符，请问此种方式是如何实现的？</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "php 如何实现以下混淆方法？", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>又是一个造轮子系列，没事鲁了一个 laravel 的命令行安装器： <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/Laravist/installer\">https://github.com/Laravist/installer</a></p>\n</div></div>"], "reply": "7", "tittle": "php 写命令行第二发之：写一个 laravel 的命令行安装器", "comment": ["直接 composer create-project laravel/laravel --prefer-dist 不就行了吗？", "是你自己撸的？怎么那么巧和官方的一样啊？\r", "\r", " 又是一个造轮子系列", " 额，无视我呗", "相似度 90%。。。说是自己的不太合适吧", " 恩，行", " "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>比如说一个很长的队列，进入队列之后我们可以提示用户已经进入队列，但是处理完了之后，服务器怎么通知到对应的客户端呢？因为一直以来都是客户端向服务器发请求，服务器端是无法主动向客户端发起请求的吧？<br>\n怎么感觉队列有点像是将多线程转换成了单线程呢？</p>\n</div></div>"], "reply": "13", "tittle": "如果实现了队列，怎么在队列处理完成之后通知用户结果呢？", "comment": ["客户端轮询 OR  WEBSOCKET", "队列就得是单线程啊, 至少从外部看起来是串行的.", "RPC", "有很多时候必须把多进程的事情放到单线程里去做，比如抢票，否则并发抢票太难处理了，最起码我们是用的这个模型。", "回调或者等着客户端查状态", "至于怎么通知前端，这个是另一个问题，与对接本身无关，应该去看消费者怎么消费队列里的数据", "轮训，或者 comet", "谢谢各位，有了大概的思路了", "要么回调， 要么轮询。", "要看什么需求啊， lz 的需求是？", "可以在任务完成后将运行结果写回。", "回调是最简单的方式", "通常的，有两种通用的可选的解决方案。\r", "一，任务执行完毕之后，由任务服务发起 notify 。通常的是使用 HTTP POST 的方式传递任务标识以及状态。用于 notify 的 URL 怎么传递，不在本问题范畴内。我们可以任务入队列的时候传递，也可以由任务服务统一配置。\r", "\r", "二，任务成功压入队列之后，向任务提交方返回任务 id 。任务服务提供 query 接口来查询某个任务 id 的状态。\r", "\r", "事实上，我们在实现队列服务的时候，两者可以一起实现，并不冲突。\r", "\r", "在真实的实现时候，还会有更多的问题需要考虑。\r", "1. notify 失败怎么办，是跳过还是重新 notify 一次？\r", "2. 是否有可能 notify 成功了，但是 query 却还无法查询到数据？"]},
{"content": ["<div class=\"topic_content\">例如：\r<br>\r<br>$array1 = array ('key1'=&gt; 'value1', 'key2'=&gt;'value2',......);\r<br>$array2 = array ('keyA'=&gt; 'valueA', 'keyB'=&gt;'valueB',.....);\r<br>\r<br>\r<br>如何使$array2 的 keyA 換成 $array1 的 key1 ，形成：\r<br>\r<br>\r<br>$array2 = array ('key1'=&gt; 'valueA', 'key2'=&gt;'valueB',......);\r<br>\r<br>\r<br>期待指點，感謝！</div>"], "reply": "7", "tittle": "請教：如何改變數組的鍵名", "comment": ["遍历一遍重新组成数组", "题目不清啊，如果就这几个元素发帖的功夫 vi 就改好了", "这样？\r", "array_combine( array_keys( $array1 ), array_values( $array2 ) );", "或者...\r", "array_map(function($v)use(&$array2){return each($array2)[1];},$array1);", "3,4 楼的可以试试哦!", " 採用了你的第一個方法，水到渠成！ 哈哈 謝謝你, Elvba ！！", " 謝謝你，也是 OK. 但我的項目比較複雜，@elvba 提供的方法簡便奏效！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>这样可以显示图片<br>\n&lt;img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAvEAA...==\"&gt;<br>\n但是把<br>\nbase64 这段代码写到 php 中<br>\n&lt;img src=\"http://127.1/img.php\"&gt;<br>\n或者<br>\n&lt;img src=\"http://127.1/img.txt\"&gt;<br>\n这样就无法显示图片。</p>\n\n<p>如何写 php 处理 header 的写法？</p>\n\n<p>目前的 php 下边这么写的，<br>\nheader(\"Content-Type:text/plain;charset=UTF-8\");<br>\necho 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAvEAAA...==';</p>\n\n<p>也试过<br>\nheader(\"Content-Type:image/png;\");<br>\nheader('Content-Transfer-Encoding: base64');<br>\necho 'iVBORw0KGgoAAAANSUhEUgAAAvEAAA...==';<br>\n貌似都不行？<br>\n这个是个可能实现的么？</p>\n</div></div>"], "reply": "9", "tittle": "关于外链 base64 图片的问题，求授业解惑", "comment": ["echo base64_decode('iVBORw...')", " 额 老想着 http 头了，忘了 php 的解析了。\r", "感谢！感谢！", "但为什么不直接用原图呢？\r", "inline 是希望减少请求数这个我懂\r", "没事自己 base64 编码再解码是干什么……", " 体会折腾的快感吧.", "不推荐这样写，图片和页面同时加载和异步加载速度差很多", "脱了裤子放屁。。。", " 哈哈！", " \r", " \r", "想的是写到页面 gzip 了。", " 你要开 gzip 在服务器设置里就能开\r", "base64 再 gzip ，真是脱裤子放屁"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>关于</h1>\n\n<p>PHP-Curl 是一个轻量级的网络操作类，实现 GET 、 POST 、 UPLOAD 、 DOWNLOAD 常用操作，支持链式写法</p>\n\n<h1>需求</h1>\n\n<p>对低版本做了向下支持，但建议使用 PHP 5.3 +</p>\n\n<h1>示例</h1>\n\n<h5>GET:</h5>\n<div class=\"highlight\"><pre><span class=\"x\">$this-&gt;curl-&gt;get(目标网址);</span>\n</pre></div>\n\n<h5>POST:</h5>\n<div class=\"highlight\"><pre><span class=\"x\">$this-&gt;curl-&gt;post(变量名, 变量值)-&gt;post(多维数组)-&gt;submit(目标网址);</span>\n</pre></div>\n\n<h5>DOWNLOAD:</h5>\n<div class=\"highlight\"><pre><span class=\"x\">$this-&gt;curl-&gt;download(文件地址)-&gt;save(保存路径);</span>\n</pre></div>\n\n<h5>UPLOAD:</h5>\n<div class=\"highlight\"><pre><span class=\"x\">$this-&gt;curl-&gt;post(多维数组)-&gt;upload($_FILE 字段, 本地路径, 文件类型, 原始名称)-&gt;submit(目标网址);</span>\n</pre></div>\n\n<h5>配置</h5>\n\n<p>参考:<a target=\"_blank\" rel=\"nofollow\" href=\"http://php.net/manual/en/function.curl-setopt.php\">http://php.net/manual/en/function.curl-setopt.php</a><br>\n<code>php<br>\n$this-&gt;curl-&gt;set('CURLOPT_选项', 值)-&gt;post(多维数组)-&gt;submit(目标网址);<br>\n</code></p>\n\n<h5>自动重试</h5>\n<div class=\"highlight\"><pre><span class=\"x\">// 出错自动重试 3 次(默认不启用)</span>\n<span class=\"x\">$this-&gt;curl-&gt;retry(3)-&gt;post(多维数组)-&gt;submit(目标网址);</span>\n</pre></div>\n</div></div>"], "reply": "19", "tittle": "分享一个自用的 PHP-Curl 类 \r\n", "comment": ["一般 composer require php-curl-class/php-curl-class\r", "不再折腾其他封装", "不应该是 $curl->get(目标网址); 吗，为何是 $this->curl->get(目标网址);", "简单的事情搞复杂了，原生的封装一个函数搞定", "新收发问，这个解决了什么问题? 有什么好处？为什么要封装啊", " 但每次去复制函数很麻烦吧，写成类库其他项目或者人想用之类引用就可以了。       谢谢 LZ 分享。", " 实例化时 $curl = new Curl 也是 ok 的\r", "\r", " 结构很简单，看源码就知道了", "谢谢", "干净整洁利落，已 star", "不错，学习了", "我都是用 composer 安装的 curl/curl ，主要是 cookie 操作不太方便，这个我试试怎么样", "简单的就自己写了，小项目就用 curl-class ，复杂点的就可以上 guzzle 了", " 这个就是在处理一个小项目时封装的简单轮子", "可以自动设置更新 cookie 吗?\r", "如果可以的话就不错了\r", "我之前写的 CURL 支持自动更新 cookie 哦~~哈哈哈哈哈哈", " \r", "\r", "当然可以实现，这里是一个小例子\r", "\r", "```php\r", "\r", "$curl = new Curl;\r", "$cookie = '/tmp/test_cookie_file';\r", "$option = array(\r", "    'CURLOPT_COOKIEJAR' => $cookie,\r", "    'CURLOPT_COOKIEFILE' => $cookie\r", ");\r", "$curl->set($option)->get('http://www.baidu.com');\r", "\r", "```", " markdown 语法不能用~~~", "```\r", "print xxoo\r", "```", "和 requests 有什么不同吗", "楼主也喜欢塔叔", " 嗯呢"]},
{"content": ["<div class=\"topic_content\">比如说 auth/login 这个 uri, 如果是 get 则显示登录表单, 如果 post 则发送登录信息. \r<br>\r<br>之前我是 post 到另一个 uri 上, 比如 form action = \"auth/post_login\", 但是这样的话, 当验证没通过, 需要重新填充表单时, url 就变成 post_login 了, 如果重定向回去, 那么 set_value 又用不了.\r<br>\r<br>我用的 CI 2.x, 这个问题请问一般如何处理的.</div>"], "reply": "18", "tittle": "请教 CI 如何针对同一个 uri 的 get 和 post 请求做不同处理", "comment": ["判断是 get 还是 post ，然后输出不同的 view ？", "CI 3.x 有个 $this->input->method() 函数，可以获得当前请求的类型，在 2.x 中好像没有…", "不知道 CI2.X 是否有这个配置， 3.0 的话你可以在 config/router.php 中设置\r", "\r", "$route['auth/login']['get'] = 'auth/login';\r", "$route['auth/login']['post'] = 'auth/post_login';", "if (empyt($this->input->post()) { \r", "} else {\r", "}", "\r", "\r", "可以试试这个", "    这个要求是 ci 3,  话说要是 ci 3 的话, 直接用\r", " 的方法就行了. \r", "\r", "我现在直接保存变量,再往 views 传变量了.  也好使.", "if(strtolower($_SERVER['REQUEST_METHOD'])==='post'){\r", "// post\r", "}else{\r", "// get\r", "}", " 这类变量我都不碰, 感觉坑多...", "是用 CI 搭建 Restful 服务\r", "route 里面可以配\r", "在 controller 里也可以读取 method\r", "甚至可以用 post 取值判断是否有值来判定当前是不是 post", "可以在_remap()中判断呀", " php 内置变量怎么就坑了？为什么要拘泥于框架", " 我没有说这个变量不好，完全没有那个意思。我是说这个变量中很多属性不是服务端控制的，使用时需要考虑的完善一点。\r", "有简单的方法时，我倾向不用他，省去很多麻烦。", " \r", "因为有些框架会 unset 、 rewrite 系统全局变量什么的。\r", "比如， CI 就可以配置成自动销毁$_GET ， PHP 并不阻止任何针对映射进来的全局变量的顶层二次操作\r", "依托框架写的程序，只要框架没移除支持，用框架的方法才能保证兼容性", " 您考虑的很周全， 多谢了。", " \r", " \r", "\r", "趋势懂吗， codeigniter 很多以前的函数，虽然保留了，但是新版的都改写成直接调用 php 内置的函数了。学习了框架后连 php 本身的东西都不会了，算什么", " 框架应该也是读的这个内置变量啊，我就怕你框架用多了，忘记了 php 自身基本的东西。", " 如果是为了兼容性可以理解。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>&lt;?php<br>\n$mmc=memcache_init();</p>\n\n<p>//运行一次后，再注释掉下面一行，当发现 10 秒后根本不过期<br>\n$mmc-&gt;set(\"key1\", \"10-10valueddddddddddd---------\",0,10);<br>\necho $mmc-&gt;get(\"key1\");</p>\n\n<p>?&gt;</p>\n\n<p>本地模拟环境和实际 SAE 环境都测试过。</p>\n</div></div>"], "reply": "8", "tittle": "新浪云 SAE 的 memcache 的过期时间总是不起作用，谁有经验指导一下", "comment": ["印象中 sae 更新文档了，去看看新文档", ".............. 嗯.. 试试 time() + 10", "帮助文档的代码根本不行，这个代码是参考了别人的", "线上环境实测是会过期的。\r", "\r", "<?php\r", "$mmc=memcache_init();\r", "\r", "//运行一次后，再注释掉下面一行，当发现 10 秒后根本不过期\r", "$mmc->set(\"key1\", \"10-10valueddddddddddd---------\",0,3);\r", "echo $mmc->get(\"key1\");\r", "sleep(5);\r", "echo \"五秒后\";\r", "echo $mmc->get(\"key1\");\r", "\r", "\r", "?>\r", "\r", "运行结果\r", "\r", "10-10valueddddddddddd---------五秒后", " 又测试一下，线上果真是会过期的，但本地环境不行，这样很坑啊", " 直接在代码库建立版本 2 然后在线调试就行了 它那个本地系统 bug 多多", " 我也是这么想的，所以今天花了一天直接上线了，先运行起来，遇到问题再改。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>laravel 在 5.2 中加入了 web middleware ，将 session ， csrf ， cookie 等等都放到了 web middlewar 中，但是我在通过官方的升级手册从 5.1 升级到 5.2 之后在 middleware 中并没有找到 web 中间件，直接指定 web 中间件也会报错。但是我直接使用 session 和 cookie 又不会出问题。</p>\n\n<p>请问是我升级的过程中哪里出了问题吗？</p>\n\n<p>我的 Route</p>\n<div class=\"highlight\"><pre><span class=\"x\">Route::get('/', \"WelcomeController@index\");</span>\n<span class=\"x\">Route::get('justsignin', WelcomeController@requestLogin');</span>\n<span class=\"x\">Route::get('debug', 'WelcomeController@debug');</span>\n<span class=\"x\">Route::get('help', 'WelcomeController@help');</span>\n</pre></div>\n\n<p>我的 composer.json<br>\n<code><br>\n    \"require\": {<br>\n        \"php\": \"&gt;=5.5.9\",<br>\n        \"laravel/framework\": \"5.2.*\",<br>\n        \"laravelcollective/html\": \"^5.2\",<br>\n        \"barryvdh/laravel-ide-helper\": \"^2.1\"<br>\n    },<br>\n    \"require-dev\": {<br>\n        \"mockery/mockery\": \"0.9.*\",<br>\n        \"phpunit/phpunit\": \"~4.0\",<br>\n        \"symfony/css-selector\": \"2.8.*|3.0.*\",<br>\n        \"symfony/dom-crawler\": \"2.8.*|3.0.*\",<br>\n        \"fzaninotto/faker\": \"~1.0\"<br>\n    },<br>\n</code></p>\n</div></div>"], "reply": "5", "tittle": "laravel 5.1 to 5.2 的问题。", "comment": ["```\r", "Route::group(['middleware' => ['web']], function () {\r", "    /*\r", "    \r", "    */\r", "});\r", "```", " 我没有这个中间件，而且我在使用 session 和 csrf 的时候没有这个中间件也可以正常运行。", "web 中间件是在这里指定的 app/Http/Kernel.php\r", "\r", "protected $middlewareGroups = [\r", "        'web' => [\r", "            \\App\\Http\\Middleware\\EncryptCookies::class,\r", "            \\Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse::class,\r", "            \\Illuminate\\Session\\Middleware\\StartSession::class,\r", "            \\Illuminate\\View\\Middleware\\ShareErrorsFromSession::class,\r", "            \\App\\Http\\Middleware\\VerifyCsrfToken::class,\r", "        ],\r", "    ];\r", "确保这里有 web ，和对应的中间件文件是否有？", " 明白了！多谢你了。", " 不客气～很高兴能帮到你"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我知道在这里讨论 windows 系统是可耻的，但我实在找不到更好的社区了，请原谅。</p>\n\n<p>环境： windows10+AVG 免费版+xampp(apache+php5.5+php_memcache)+memcached server</p>\n\n<p>测试页面一：</p>\n\n<blockquote>\n<p>$memcache = new Memcache;<br>\n$memcache-&gt;connect('localhost', 11211);<br>\n$memcache-&gt;set('key1', '中华人民共和国');<br>\necho $memcache-&gt;get('key1');</p>\n</blockquote>\n\n<p>测试页面二：</p>\n\n<blockquote>\n<p>$memcache = new Memcache;<br>\n$memcache-&gt;connect('localhost', 11211);<br>\necho $memcache-&gt;get('key1');</p>\n</blockquote>\n\n<p>先执行页面一，没问题；然后再执行页面二，页面二等了几十秒然后显示 timeout ，获取不到 key1 的值。</p>\n\n<p>如果关闭 AVG ，则一切正常。</p>\n\n<p>只找到一个相关的帖子： <a target=\"_blank\" rel=\"nofollow\" href=\"https://forum.phalconphp.com/discussion/9923/avg-antivirus-would-block-access-to-memcached\">https://forum.phalconphp.com/discussion/9923/avg-antivirus-would-block-access-to-memcached</a></p>\n</div></div>"], "reply": "2", "tittle": "AVG 杀毒软件会影响 php memcache/memcached？", "comment": ["讨论 windows 没啥可耻的。\r", "用 windows 做服务器也没啥可耻的。\r", "你在 windows 服务器上装进行全系统劫持的杀毒软件，发生啥意外都是正常的", "我很好奇楼上为什么装杀毒软件？ Windows 自家的策略不是很棒么？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>推荐推荐，还是吐槽吐槽 7</p>\n</div></div>"], "reply": "18", "tittle": "php7 有什么实用的新功能没？", "comment": ["大家来吐槽吐槽楼主吧，", "php7 性能非常不错，刚发布的时候常用的个别扩展还没有 7 的版本过来没多久 mongo 这些扩展都有了，实测性能非常棒，就等着早日健壮起来用到生产环境里去\r", "刚发布的时候我还写了个测试的帖子，比 5.4 好太多倍了\r", "\r", "\r", "\r", "新功能的话到没有多少，主要是对 Zend 引擎优化做的比较好，这是官方描述\r", "\r", "提升性能： PHP 7 速度是 PHP 5.6 的两倍\r", "显著降低内存使用\r", "抽象语法树\r", "支持 64 位\r", "许多重大错误可以进行异常处理\r", "移除了旧的和不支持的 SAPIs 和扩展\r", "安全的随机数生成器\r", "null 合并操作符(??)\r", "结合比较运算符 (<=>)\r", "标量类型声明\r", "匿名类", "看了鸟哥关于 php7 的贡献，感觉如果太无脑的吐槽 php7 反而会被吐槽", "用了 hugepage 的 php7 比不用 hugepage 的 php7 快一倍多。。。\r", "\r", "不用 hugepage 就跟 php5.6 差不多。\r", "\r", "关于 PHP7 ，可以看我博客，最近有提到。  \r", "\r", "\r", "\r", "等个一年，坑填得差不多了，我准备用来做生产环境", "还是没有多线程。", "PHP7 和 Node.js 的性能对比，有没有这方面的测试数据", " 可以用 swoole", " ", "快", " 不错哟", " 9 楼已贴上", " 吐槽把", " 听多了大道理，头好大", " 鸟哥确实很给力，公司一直在用 yaf", "附上我的 php7.0 环境，让大家欣赏下", "性能上来了，有时间我想试下能不能移植到 openshift"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img src=\"https://dn-laravist.qbox.me/laravel-map.png\" alt=\"\"></p>\n\n<p>这些数据都是基于 laravist 目前的已有数据分析，不代表任何权威性。然后就是，想面基，请自觉</p>\n\n<p>统计来源： <a target=\"_blank\" rel=\"nofollow\" href=\"https://laravist.com/map\">https://laravist.com/map</a></p>\n</div></div>"], "reply": "21", "tittle": "简单地统计了一下国内使用 laravel 的开发者的地理分布。", "comment": ["帝都撸过", "日本才 12 个？ ？ 他们都用啥呢？", " 日本喜欢用 ruby 吧", "我准备逃离 laravel 了", " 旁观者想听听感想？", " 用日本的 VPN 和用香港的 VPN 、北美的 VPN", "朝阳市竟然有 8 个。。估计都是北京市朝阳区的吧。。。", " thinkphp", "徐州居然有 3 个，那我也弄一个放在老家吧", "Good job.", "laravel 是个屁，谁用谁知道。营销做的好，不如简单点好。", "对于爱翻墙的程序员来说，不准", " 哈哈，说说原因？", "会 rails 学这个很简单", "最后定位到北海公园  掉河里了....", "乍一看发现我大合肥有 71 个开发者，点进去发现其实是旁边南京的开发者被合并进来了。", " 日本基本算是 VPN 的\r", "\r", " farewell\r", "\r", "\r", "\r", " \r", " 定位有些不太准，不过大概城市还是可以的\r", "\r", "\r", "\r", " laravel 算是抄 rails 抄得最像的了\r", " 也行吧，屁也有它存在的道理，简不简单不是看框架，看人\r", " 确实有点", "还是北上广多呀！", "福州的路过", "国内开发者又被代表了。。。^_^", "。。。用了 VPN 在被強行定位~·"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>本地环境是 php5.5.12  mongo 扩展是 1.5.2dev  mongo 是局域网里的一个机器 他那里装的是个 5.4 的环境 我用的 Thinkphp 的 MongoModel  现在本地可以 select 和 save  但是只要 add 就会变成那个链接被重置的页面 也没有报错  谷歌百度了好久也没有 谁遇到过吗</p>\n</div></div>"], "reply": "5", "tittle": "求帮助 php 操作 mongo 出现了点问题", "comment": ["发日志上来啊，看看 mongo 的日志。\r", "你 find 的时候都 OK 的，那应该是没什么问题的。\r", "把 Mongo 的日志贴上来一段吧", " 运维今天没来 我看不了日志 \r", "我只是闹不明白  如果我的 mongo 扩展有问题的话应该连不上 \r", "但是我现在可以 select 查找 也就是你指的 find 还有 save 修改  \r", "但是只要一组成数组 add  往里插入就报错也没有 \r", "网页状态是 Aborted  链接被重置。", " 有没有权限问题的，你的帐号是 read&write 或者 root 权限么?", " 应该是没有的 他有个跟 mysqlmyadmin 一样的可视化工具里面有个 admin 的表 帐号和里面的一样", " 这个信息太少了不好定位，最好能有相关日志看下。"]},
{"content": ["<div class=\"topic_content\">&lt;?php\r<br>$url=$_SERVER['SERVER_NAME'];\r<br>if(strpos($url,'bailb.com')!== false)$key='百乐宝';\r<br>if(strpos($url,'yanglele.com')!== false)$key='杨乐乐';\r<br>\r<br>?&gt;\r<br>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\r<br>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\r<br>&lt;head&gt;\r<br>&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;\r<br>&lt;title&gt;&lt;?php echo $key; ?&gt; - &lt;?php echo $url; ?&gt; - The Domain For Sale,此域名出售!&lt;/title&gt;\r<br>&lt;meta name=\"keywords\" content=\"&lt;?php echo $key; ?&gt;\" /&gt;\r<br>&lt;meta name=\"description\" content=\"&lt;?php echo $key; ?&gt;\" /&gt;\r<br>&lt;style type=\"text/css\"&gt;\r<br>&lt;!--\r<br>BODY {\r<br>\tMARGIN: 0px;\r<br>\tfont-size: 12px;\r<br>}\r<br>td {\r<br>\tfont-size: 12px;\r<br>}\r<br>.l1 {\r<br>\tFONT-WEIGHT: bold; FONT-SIZE: 18px\r<br>}\r<br>--&gt;\r<br>&lt;/style&gt;\r<br>\r<br>&lt;script type=\"text/javascript\"&gt;\r<br>function GetCookie(sName)\r<br>{\r<br>        var aCookie = document.cookie.split(\"; \");\r<br>        for (var i=0; i &lt; aCookie.length; i++)\r<br>        {\r<br>                var aCrumb = aCookie[i].split(\"=\");\r<br>                if (sName == aCrumb[0])\r<br>                return unescape(aCrumb[1]);\r<br>        }\r<br>        return null;\r<br>}\r<br>function SetCookie(sName, sValue,date)\r<br>{\r<br>        document.cookie = sName + \"=\" + escape(sValue) + \"; expires=\" + date.toGMTString()+\";path=/\";\r<br>}\r<br>\r<br>\r<br>banner4_iframe=null;\r<br>date = new Date();\r<br>date.setDate(date.getDate()+1);\r<br>if(GetCookie(\"ispop\")==null){\r<br>SetCookie(\"ispop\",\"0\",date);        \r<br>}\r<br>if(GetCookie(\"ispop\")==\"0\"){\r<br>//ispop=0;\r<br>banner4_iframe=window.open('http://www.2345.com/?kzc3821/','_blank');\r<br>if(banner4_iframe!=null)SetCookie(\"ispop\",\"1\",date);\r<br>}\r<br>&lt;/script&gt;\r<br>\r<br>&lt;/head&gt;\r<br>\r<br>&lt;body bgcolor=\"#636563\"  onclick=\"if(banner4_iframe==null&amp;&amp;GetCookie('ispop')=='0')banner4_iframe=;if(banner4_iframe!=null)SetCookie('ispop','1',date);\"&gt;\r<br>&lt;br /&gt;\r<br>&lt;br /&gt;\r<br> &lt;table width=\"720\" border=\"0\" align=\"center\" cellpadding=\"0\" cellspacing=\"0\" bgcolor=\"#FFFFFF\"&gt;\r<br>  &lt;tr&gt;\r<br>    &lt;td colspan=\"5\" align=\"center\" class=\"l1\"&gt;This domain is for sale&lt;/td&gt;\r<br>  &lt;/tr&gt;\r<br>  &lt;tr&gt;\r<br>    &lt;td width=\"15\" height=\"189\"&gt;&amp;nbsp;&lt;/td&gt;\r<br>    &lt;td width=\"297\" height=\"189\"&gt;&lt;img src=\"images/sale.gif\" width=\"297\" height=\"188\" /&gt;&lt;/td&gt;\r<br>    &lt;td width=\"1\" height=\"189\"&gt;&amp;nbsp;&lt;/td&gt;\r<br>    &lt;td rowspan=\"2\" bgcolor=\"#CECF31\"&gt;&lt;table width=\"96%\" align=\"center\" cellpadding=\"1\" cellspacing=\"1\"&gt;\r<br>&lt;SCRIPT language=javascript&gt;\r<br>&lt;!--\r<br>\r<br>function fucCheckTEL(TEL)\r<br>{\r<br> var i,j,strTemp;\r<br> strTemp=\"0123456789-()# \";\r<br> for (i=0;i&lt;TEL.length;i++)\r<br> {\r<br>  j=strTemp.indexOf(TEL.charAt(i)); \r<br>  if (j==-1)\r<br>  {\r<br>  //说明有字符不合法\r<br>   return 0;\r<br>  }\r<br> }\r<br> //说明合法\r<br> return 1;\r<br>}\r<br>\r<br>function fucCheckPrice(bidding)\r<br>{\r<br> var i,j,strTemp;\r<br> strTemp=\"0123456789\";\r<br> for (i=0;i&lt;bidding.length;i++)\r<br> {\r<br>  j=strTemp.indexOf(bidding.charAt(i)); \r<br>  if (j==-1)\r<br>  {\r<br>  \r<br>  //说明有字符不合法\r<br>   return 0;\r<br>  }\r<br> }\r<br> //说明合法\r<br> return 1;\r<br>}\r<br>\r<br>\r<br>function Open_NewWindow(URL) \r<br>{ \r<br>var objNewWin; \r<br>objNewWin = window.open(URL,\"\",\"fullscreen=0,toolbar=0,location=no,directories=0,status=0,menubar=0,scrollbars=0,resizable=no,width=400,height=400,top=160,left=324\"); \r<br>objNewWin.focus(); \r<br>} \r<br>\r<br>function CheckData()\r<br>{\r<br>var MyForm=document.getElementById('MyForm');\r<br>\tif (MyForm.my_domain.value == \"\") \r<br>\t{\t\r<br>\t\twindow.alert(\"请填写您预定的域名！\");\r<br>\t\treturn false;\r<br>\t}\t\t\r<br>\telse if (MyForm.my_bidding.value == \"\")\r<br>\t{\r<br>\t\twindow.alert(\"请正确填写您的出价\");\r<br>\t\treturn false;\r<br>\t}\r<br>\telse if (fucCheckPrice(MyForm.my_bidding.value) == 0)\r<br>\t{\r<br>\t\twindow.alert(\"请正确填写您的出价\");\r<br>\t\treturn false;\r<br>\t}\t\r<br>\telse if (MyForm.my_name.value == \"\")\r<br>\t{\r<br>\t\twindow.alert(\"请填写称呼\");\r<br>\t\treturn false;\r<br>\t}\r<br>\telse if (MyForm.my_email.value == \"\")\r<br>\t{\r<br>\t\twindow.alert(\"请填写电子邮件\");\r<br>\t\treturn false;\r<br>\t}\r<br>else if(MyForm.my_email.value.indexOf(\"@\")==\"-1\"){ \r<br>\t\twindow.alert(\"请正确填写电子邮件\");\r<br>\t\treturn false;\r<br>} \r<br>\telse//通过所有检查\r<br>\t\tMyForm.submit();\r<br>\t}\r<br>\t\r<br>--&gt;\r<br>&lt;/SCRIPT&gt;\r<br>             &lt;form name=\"MyForm\" id=\"MyForm\" action=\"mail.php\" method=\"post\"&gt;\r<br>        &lt;tr&gt;\r<br>          &lt;td height=\"40\"&gt;&lt;strong&gt;&lt;?php echo $url; ?&gt;&lt;/strong&gt;&lt;br /&gt;\r<br>            &lt;?php echo $key; ?&gt;&lt;/td&gt;\r<br>        &lt;/tr&gt;\r<br>        &lt;tr&gt;\r<br>          &lt;td&gt;&lt;strong&gt;本域名转让或合作&lt;/strong&gt;&lt;br /&gt;\r<br>            This domain is for sale!&lt;/td&gt;\r<br>        &lt;/tr&gt;\r<br>        &lt;tr&gt;\r<br>          &lt;td&gt;竞价域名: &amp;nbsp;\r<br>              &lt;input id=\"my_domain\" readonly value=\"&lt;?php echo $url; ?&gt;\" name=\"my_domain\" /&gt;          &lt;/td&gt;\r<br>        &lt;/tr&gt;\r<br>        &lt;tr&gt;\r<br>          &lt;td&gt;您的出价: &amp;nbsp;\r<br>              &lt;input id=\"my_bidding\" \r<br>                        maxlength=\"6\" name=\"my_bidding\" /&gt;\r<br>              &lt;select id=\"my_bid\" \r<br>                        name=\"my_bid\"&gt;\r<br>                &lt;option value=\"RMB\" selected=\"selected\"&gt;人民币&lt;/option&gt;\r<br>                &lt;option value=\"USD\"&gt;USD&lt;/option&gt;\r<br>              &lt;/select&gt;&lt;/td&gt;\r<br>        &lt;/tr&gt;\r<br>        &lt;tr&gt;\r<br>          &lt;td&gt;您的称呼: &amp;nbsp;\r<br>              &lt;input id=\"my_name\" \r<br>                        maxlength=\"30\" name=\"my_name\" /&gt;&lt;/td&gt;\r<br>        &lt;/tr&gt;\r<br>        &lt;tr&gt;\r<br>          &lt;td&gt;您的 Email:&amp;nbsp;\r<br>            &lt;input id=\"my_email\" \r<br>                        maxlength=\"30\" name=\"my_email\" /&gt;&lt;/td&gt;\r<br>        &lt;/tr&gt;\r<br>        &lt;tr&gt;\r<br>          &lt;td&gt;您的单位: &amp;nbsp;\r<br>              &lt;input id=\"my_company\" \r<br>                        maxlength=\"30\" name=\"my_company\" /&gt;&lt;/td&gt;\r<br>        &lt;/tr&gt;\r<br>        &lt;tr&gt;\r<br>          &lt;td&gt;联系电话: &amp;nbsp;\r<br>              &lt;input id=\"my_tel\" \r<br>                        maxlength=\"20\" name=\"my_tel\" /&gt;&lt;/td&gt;\r<br>        &lt;/tr&gt;\r<br>        &lt;tr&gt;\r<br>          &lt;td&gt;QQ / MSN: &amp;nbsp;\r<br>              &lt;input id=\"my_qq\" \r<br>                        maxlength=\"25\" name=\"my_qq\" /&gt;\r<br>              &lt;div&gt;&lt;/div&gt;&lt;/td&gt;\r<br>        &lt;/tr&gt;\r<br>        &lt;tr&gt;\r<br>          &lt;td&gt;&lt;textarea id=\"my_message\" name=\"my_message\" rows=\"3\" cols=\"35\"&gt;如果需要，请在此留言。\r<br>例如：说明您需要此域名的理由，以表明您确有诚意购买此域名。&lt;/textarea&gt;          &lt;/td&gt;\r<br>        &lt;/tr&gt;\r<br>        &lt;tr&gt;\r<br>          &lt;td&gt;&lt;INPUT  onclick=CheckData() type=button value=提交丨 Submit name=button&gt;            \r<br>            点击(提交)后可能有延迟,请稍候... &lt;/td&gt;\r<br>        &lt;/tr&gt;\r<br>        &lt;tr&gt;\r<br>          &lt;td&gt;&amp;nbsp;&lt;/td&gt;\r<br>        &lt;/tr&gt;\r<br>        &lt;tr&gt;\r<br>          &lt;td&gt;&lt;img src=\"images/contact.gif\" /&gt; &lt;a target=blank href=\"tencent://message/?uin=285863821&amp;Site=domain&amp;Menu=yes\"&gt;&lt;img border=\"0\" src=\"images/6_online.gif\" alt=\"在线 QQ 交谈\"&gt;&lt;/a&gt;&lt;/td&gt;\r<br>        &lt;/tr&gt;\r<br>      &lt;/form&gt;\r<br>    &lt;/table&gt;&lt;/td&gt;\r<br>    &lt;td width=\"15\" height=\"189\"&gt;&amp;nbsp;&lt;/td&gt;\r<br>  &lt;/tr&gt;\r<br>  &lt;tr&gt;\r<br>    &lt;td width=\"15\" height=\"200\"&gt;&amp;nbsp;&lt;/td&gt;\r<br>    &lt;td width=\"297\" height=\"200\" valign=\"top\" background=\"images/domain.gif\" align=\"right\"&gt;&lt;br /&gt;\r<br>&lt;br /&gt;\r<br>&lt;font color=\"#FFFFFF\"&gt;Good domain,good chance!&lt;/font&gt;　　&lt;/td&gt;\r<br>    &lt;td width=\"1\" height=\"200\"&gt;&amp;nbsp;&lt;/td&gt;\r<br>    &lt;td width=\"15\" height=\"200\"&gt;&amp;nbsp;&lt;/td&gt;\r<br>  &lt;/tr&gt;\r<br>  &lt;tr&gt;\r<br>    &lt;td height=\"60\" colspan=\"2\" align=\"center\"&gt;精明的您也许比我们更能意识到一个好&lt;B&gt;&lt;FONT \r<br>                  color=#ff6600&gt;域名&lt;/FONT&gt;&lt;/B&gt;的实际价值！&lt;BR&gt;\r<br>      (Smart you can aware the \r<br>                  real value of &lt;BR&gt;\r<br>    a good domain name more than we.)&lt;/td&gt;\r<br>    &lt;td width=\"1\"&gt;&amp;nbsp;&lt;/td&gt;\r<br>    &lt;td align=\"center\"&gt;&lt;MARQUEE scrollDelay=200 behavior=alternate&gt;慧眼识金，洞察潜能，抢先购买，成就未来！&lt;/MARQUEE&gt;&lt;/td&gt;\r<br>    &lt;td width=\"10\"&gt;&amp;nbsp;&lt;/td&gt;\r<br>  &lt;/tr&gt;\r<br>  &lt;tr&gt;\r<br>    &lt;td height=\"1\" colspan=\"5\" align=\"center\" bgcolor=\"#999999\"&gt;&lt;/td&gt;\r<br>  &lt;/tr&gt;\r<br>  &lt;tr&gt;\r<br>    &lt;td height=\"60\" colspan=\"5\" align=\"center\"&gt;Powered by &lt;a href=\"http://www.flashack.com\" target=\"_blank\"&gt;flashack&lt;/a&gt;&lt;/td&gt;\r<br>  &lt;/tr&gt;\r<br>&lt;/table&gt;\r<br>\r<br>&lt;script language=\"javascript\" type=\"text/javascript\" src=\"http://js.users.51.la/2060053.js\"&gt;&lt;/script&gt;\r<br>&lt;noscript&gt;&lt;a href=\"http://www.51.la/?2060053\" target=\"_blank\"&gt;&lt;img alt=\"&amp;#x6211;&amp;#x8981;&amp;#x5566;&amp;#x514D;&amp;#x8D39;&amp;#x7EDF;&amp;#x8BA1;\" src=\"http://img.users.51.la/2060053.asp\" style=\"border:none\" /&gt;&lt;/a&gt;&lt;/noscript&gt;\r<br>&lt;/body&gt;\r<br>&lt;/html&gt;</div>"], "reply": "8", "tittle": "网上找了个域名停放的 php 代码，无奈不会 php，，，求大神帮忙看看，为什么老是会弹出一个网页\r\n求大神帮忙 把这个段弹窗代码去掉", "comment": ["<head> 里面的那段<script></script>全删了", " 这一段？\r", "<script type=\"text/javascript\"> \r", "function GetCookie(sName) \r", "{ \r", "var aCookie = document.cookie.split(\"; \"); \r", "for (var i=0; i < aCookie.length; i++) \r", "{ \r", "var aCrumb = aCookie[i].split(\"=\"); \r", "if (sName == aCrumb[0]) \r", "return unescape(aCrumb[1]); \r", "} \r", "return null; \r", "} \r", "function SetCookie(sName, sValue,date) \r", "{ \r", "document.cookie = sName + \"=\" + escape(sValue) + \"; expires=\" + date.toGMTString()+\";path=/\"; \r", "} \r", "\r", "\r", "banner4_iframe=null; \r", "date = new Date(); \r", "date.setDate(date.getDate()+1); \r", "if(GetCookie(\"ispop\")==null){ \r", "SetCookie(\"ispop\",\"0\",date); \r", "} \r", "if(GetCookie(\"ispop\")==\"0\"){ \r", "//ispop=0; \r", "banner4_iframe=window.open('http://www.2345.com/?kzc3821/','_blank'); \r", "if(banner4_iframe!=null)SetCookie(\"ispop\",\"1\",date); \r", "} \r", "</script>", " 对，大概内容就是判断弹窗了没\r", "\r", "还有这里面\r", "\r", "<body bgcolor=\"#636563\" onclick=\"if(banner4_iframe==null&&GetCookie('ispop')=='0')banner4_iframe=;if(banner4_iframe!=null)SetCookie('ispop','1',date);\"> \r", "<br /> \r", "\r", "也要删掉：\r", "onclick=\"if(banner4_iframe==null&&GetCookie('ispop')=='0')banner4_iframe=;if(banner4_iframe!=null)SetCookie('ispop','1',date)", " 哦哦，谢谢 我试试", " 可以发一下整个代码吗？", "关 PHP 毛事~", "js 控制的 跟 php 没关系吧", "我能说和 php 有毛关系吗?伸手党同志"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>做类似百度搜索的这种<br>\n因为百度没有开放 API<br>\n所以得自己用 PHP 来爬取结果<br>\n每次爬取 50 页的内容,然后输出给客户<br>\n大概流程是:<br>\n    1:用户输入关键字<br>\n   2:通过关键字爬取百度 50 页的结果<br>\n   3:输出指定结果给用户</p>\n\n<p>不知道有什么好的方法,能解决速度的问题</p>\n</div></div>"], "reply": "17", "tittle": "PHP 如何进行访问很多网页的操作?", "comment": ["百度试试 php 抓取", "stream_socket_client", "百度前两年为了防止 360 等抓取结果，做了很多防抓取措施", "请百度一下怎么爬取百度， 2333", "有啊。以前写基于贴吧的工具的时候，我都是反编译客户端找接口。客户端接口返回的都是 json ，而且不像网页经常改，爽到爆。", " 我会先抓包，抓包失败才去反编译。。。", "而且为何在百度这棵歪脖树上吊死，换个提供 api 的搜索引擎不就得了。再说百度的结果质量也不是很好。", "回答题目： php 可以批量访问的，可以 google curl_multi_exec 或者 php curl_multi 都可以。", "一种是前台 js  发个 50 请求\r", "还有用多线程扩展来爬", " \r", " \r", " \r", "额,我只是拿百度打个比方,不是真正的爬取百度,哈哈哈", "有可能是我主文写的有问题,我的问题是如何解决 PHP 同时访问 50 个网页速度慢的问题", " ", "  试下这个，我没试", " oauth 有个校验用的 sign ，抓包破不出来 key 。", "这个问题就好比说如何 1 秒下载 1G 的文件一样，下载慢是因为带宽不行啊，而且单线程每次握手都还需要时间，解决办法是每次只获取一页的，翻页再获取下一页的内容", " 确实,领教了!", " @", " @", " @", " @", " @", " @", " ", "换了一个思路，我现在是按固定时间频率去访问用户设置的关键字，用户搜索时不是实时查询", "  这个叫反向索引，百度谷歌也是这样做的，不会每次搜索去庞大的库里找，大部分关键字百度每月只更新 2 次，热门关键词频率会高一些"]},
{"content": ["<div class=\"topic_content\">一查搜索引擎，清一色的用文件做缓存，或者内存缓存类（但是需要其他插件来辅助），普通的 php+mysql 虚拟主机是没有的。\r<br>\r<br>我有一些数据需要频繁写入，比如想记录每个 IP 访问次数，用来限制访问频率，但是这样修改文件的频率会很高很高，也没有更好的方式存储数据呢</div>"], "reply": "24", "tittle": "PHP+MYSQL 用什么方式缓存要频繁写入的数据好，还是直接写入数据库？", "comment": ["没中间件的话最多插入 memory 表或者 crontab 跑命令分析日志了,  虚拟主机真的无所谓追求性能了.", "存到 session or cookie 里，判断 IP 访问次数。不知道你是想做什么。\r", "其实站库分离，存到数据库还是不错的，频繁写入文件可能硬盘 IO 会很高。", "用 redis 或者 memcached.只存储 ip 和访问次数,过期销毁,内存占用应该不会太大.", "memcached", " \r", " 主要是我的 wordpress 博客，内容不多，但是 wordpress 很慢，最近查日志发现垃圾流量真多，常常还有扫漏洞的，还有坚持几天几夜扫后台密码的（虽然被插件拦住了，但是也消耗 0.x 秒的时间去处理，因为 WP 的结构的关系，根本没办法快速处理,缓存插件不缓存 404 页面，也全是交给 index.php 处理的，看着非常蛋疼！）\r", "\r", "蛋疼是有的扫描软件会控制频率， 1 秒一次，有的 1 秒 10 次(一天就数万动态页面啊)，想想如果我是 IDC ，我也不能忍服务器被这样搞死（如果一个服务器上架了很多 WP 站点，那得浪费多少性能啊……），难怪以前被强烈要求删除后台登陆文件……甚至越疱代俎去限制访客！\r", "\r", "无奈之下在 wp-config 里做了一个防火墙，防住了大部分垃圾请求，恶意请求，自动黑名单机制（行为不同期限也不同，我是 php 菜鸟，每个指令都翻手册的），但是在日志里有些请求看不出毛病，还好这类虽然不知道为什么，但是也不干坏事，可以说基本上完善了。\r", "\r", "\r", "\r", "但是在心里还是有点不舒服，第一个是防不住日志里看起来正常的请求（我的规则是参照日志写的，所以不影响正常使用，但是干坏事的一下就抓出来了），有的看不出毛病但是频率非常之快，跟攻击差不多了，我就想消灭这类， session 可以里写的话可以防住正常用户按住 F5 的情况，防不住那些不带 cookie 的请求（不带 cookie 那么 session 也废了），所以想把每个 IP 的频率记录下来，这样就能做分析然后丢入黑名单了。（由于前台没有登陆功能，所以 session 也没开启，所以比较想通过 IP 访问频率来掌控）\r", "\r", "最终就出现了这个主题……似乎最终还是只能频繁写入数据库或者文件了……这时候我就会怀念一下 ASP 的 application 变量了（站点级别的变量，如果不删除掉，重启 IIS 之前一直会存在，任何访问该站点的请求都可以调用）", " \r", " 似乎最终还是只能频繁写入数据库或者文件或者无视了(虚拟主机没有 redis 或者 memcached)……这时候我就会怀念一下 ASP 的 application 变量了（站点级别的变量，如果不删除掉，重启 IIS 之前一直会存在，任何访问该站点的请求都可以调用，真正的全局变量！）", "不要强迫症，其实我觉得 wp 卡和这些没多大关系", " 本身服务器也有关系，但是 wp 有些地方是需要我们自己去改善，比如说 404 页面，那些自动扫描后台的，扫描上传漏洞的，这些请求全是 index.php 在处理，然后整体运行起来后检查下模板里的 404 页面主题，而一般的 404 页面主题其实和普通页面没什么区别的（只是没有文章列表或者文章内容，页眉，侧栏还有页脚都是有的，也就是说这就是个普通页面，还是缓存插件不缓存的那种），暴力破解后台密码的，要是完全不防范，每天我的一个小站就有几万次的后台登陆，也是没办法缓存的，你想想如果我有几万的 PV ……那我可高兴死了，结果每天有几万的 PV 是属于被攻击的，想想都觉得 IDC 随时都可能因为心情不好把我的站给封了。。。\r", "\r", "还有该死的 xmlrpc ，一个请求竟然可以尝试 500 次密码组合！！！\r", "\r", "所以一方面是强迫症 一方面是真的很不爽。", "那你可以试一下使用  360 的那个 网站安全防火墙功能，或者在.htaccess 里面加入 IP 规则。", "xmlrpc 的确是一个比较恶心的地方，我好像是把这东西关掉了？反正现在没这些痛点，我更多的是再防火墙层面，加了一些脚本和一些黑名单，现在访问也是不太好，但是基本确定是系统有问题导致 IO 延迟大，你可以尝试对 log 做些脚本动态加入防火墙进行防护", " 其实想了下-。-你用应用层层面拒绝访问，那还是有‘很大’的消耗额...", "都是机器人， fail2ban 装上， xmlrpc 禁用就能杜绝很大部分的机器人了", "楼主你这想多了吧。扫描就让它扫呗。一天几 w 而已，才多少呀。装个 super cache 插件，打开速度飞快。\r", "\r", "而且你这标题和你需求对不上。", "感觉这个测试结果，可以作为参考： ", " 为什么不给后台程序入口文件，加上可以访问 iP 限制。非你自己 ip 直接 exit,这样就打消了你的顾虑吧", " 没备案啊，国内的物价太高了，云减速伤不起（哈哈，最近 v2 都说国内的免费 cdn 是云减速），以后备案了试试看\r", "\r", "\r", " 主要是一般人又不知道这些，我用 WP 都 7 年多了，因为 php 实在是太菜了不爱折腾，最近查东西才发现的（原谅我吧），没办法，一般的 php 空间除了 php 就是 mysql ，能不能访问日志文件夹还是个问题（回头试试看有没有权限）\r", "\r", "应用层层面处理这个也是没办法 上面也说了，普通 php 空间啥都没，单纯我的脚本还是不消耗很多资源的， wp 首页 0.8 秒处理时间， wp 文章页面 0.4 秒处理时间，（取自不缓存的运行时间，文章总数不到 800 篇），这样的配置之下，我的防火墙脚本整体运行时间是 0.0002-0.0004 秒之间（这样的垃圾空间竟然防火墙脚本每秒可以处理 2000 个页面）， wp-config 文件在 WP 是比较前面了，执行也是在最前面的，这时候数据库都没连接呢，非常适合拦截，所以还是非常快的，虽然不知道其他部分花费了多少内存 cpu 和时间，但是想必不多，我用 chrome 看了下，如果当前是第一次访问，拉黑掉，整个连接过程是 50ms ， TTFB 是 24ms ，拉黑后访问整个请求从开始到结束是 29-35ms （服务器在香港，我在东莞），如果全天都是拉黑的 IP 访问我，仅仅从 php 方面可以顶住几百万个 PV ， TTFB 是 24ms （简直吓人，），至于 http 服务器能顶住多少，因为网速慢影响多少，我就不知道了，这么说来其实是消耗很高的，如果直接从 http 服务器去拦截，效果完全不同了（我的拦截是直接改了 http 代码成 404 ，直接 exit ，所以其实还是走完了整个过程，但是没想到这么快……）。所以我直接考虑过把黑 IP 通过 http 登陆控制面板提交上去，但是看了下大部分坏人扫描几分钟或者十几分钟就不玩了，我这样说不定浪费更多资源，少的情况下，只请求 3-10 次，这样感觉有点得不偿失，而且控制面板不是每家都一样的，以后也不通用，我觉得太浪费时间处理和我写出来了（原谅我是个菜逼，之前要犹豫很久，想通了所有逻辑再拖一拖才开始写，修修改改好不容易逻辑写好了，自以为不会报错的，提交上去一看瞎了，一个个改错哈哈， php 还是写的太少了）\r", "\r", "讲了这么多，目前就是在犹豫怎么处理频率这一块，实在没什么好办法就搁置算了，反正是个小站，也没人专门去攻击我的。能做到现在的地步我很满足啦~（之前每天都有人扫啊扫 暴力破啊暴力破，经过这个防火墙，暴力破解的一个都没了，后台有个插件专门负责抓坏人的，现在一个都抓不到了，以前每天都有几个，其中会有个把个会尝试几千次或者连续几天几夜的来）\r", "\r", "\r", " 恶意请求目前大部分被我的墙干掉了，所以这块不担心了，基于前面说的原因，如果不太好解决，就不解决了。 fail2ban 也是要服务器支持，专门脚本去检测，目前没办法做到，不管怎么说这也是个好东西，谢谢你，谢谢各位\r", "\r", " 我试过了， 404 页面和后台暴力破解的页面，都是要几百毫秒的 php 处理时间（其实我只测试了 404 页面，每次都会重新生成页面，不会被缓存插件缓存的，登陆页就更没可能缓存了），几万个几百毫秒的处理时间，我实在是觉得太浪费了，如果这个代价用在正常访客上，有这么大流量我真是会超级开心。\r", "\r", " 目前对登陆页面也有做特殊处理，所以扫描软件会认为它不存在（所以就不进行下一步操作进行破解了，正好 wp 升级不会升级 wp-config 文件，它又必须被包含，逻辑都写在这里了），因为是特殊处理，所以我自己使用方式是没有任何改变的……真不担心被扫出密码，毕竟它猜不到我的用户名（相关获取用户名的地方也干掉了）\r", "\r", "你的测试我看了下，确实很不错，说明读写文件是非常快速的（其实写这个防火墙的时候，我也注意到读写小文件时间其实非常快，合理使用的话根本没理由会造成高负载啊，以前可能是受一些别人定的规则误导了，心理上没有自信）", " 重申一下，我就想把 IP 和每次请求的频率用数据库或者文件存起来，然后再用 php 去判断，这样每一个 PV 都会对文件 /数据库进行编辑，所以有所顾虑", " wordpress 有插件， fail2ban 规则都帮你写好了，直接复制过去就行了。", "管它干嘛？设置个强密码，然后安心写博客就好了", "主机商不开心的话他们自己屏蔽恶意 IP 就好了", " 我觉得它非常适合干这个 但是暂时是虚拟主机 没有这个东西可以用 所以想自己用 php 来弄", " 好吧忘记你是空间了", "WP 的登陆文件是可以改名的，别人找不到登录入口也就不存在测试密码的问题了", " \r", "如果不搞啥违法乱纪的东西，备案现在 easy 到爆好不好\r", "阿里云，如果你有个拍照效果稍微差不多一点的手机，家里还有个打印机，根本门都不用出。", " \r", "\r", "是不是扯远了……我很了解备案现在很容易，我也没说我坚持不备案，我也有备案过的，只不过空间一直用的是国外的。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>各位大神好，我刚刚接触 symfony ，我创建好了一个 symfony 注册表单，想把 mysql 数据库中的 register 表单换个名字？请问有什么办法吗？</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "symfony 怎么去修改数据表的名字呢？", "comment": []},
{"content": ["<div class=\"topic_content\">各位大神好，本人小白，没学过啥代码，求教为啥 CURL 有些网站无法采集。起初先知道的 file_get_contents 函数，但是发现请求很慢，如果同时采集好几个页面，那打开要十几秒。谷歌后又知道了 CURL 函数，可是问题又来了，有些页面可以采集，有些采集不了。百度了下说是什么要伪装、模拟、 cookie 之类的，求大神指点，能直接给出代码更好！谢谢</div>"], "reply": "8", "tittle": "CURL 有些无法采集", "comment": ["就是那些了，模拟成浏览器", "有些判了 UA\r", "curl_setopt($ch, CURLOPT_USERAGENT, 'Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.95 Safari/537.36 SE 2.X MetaSr 1.0');\r", "\r", "有些还判了 REF", "采集延迟你用 curl 也不会有改善的，得用 stream_socket_client", " 目标主机就那鸟速度了 你用 sock..还不是龟速。", " 请问大神有啥其他的方法不", " 可以把请求一次发完再去拿结果，等于是并发的，长连接的复用本身除了节省 TCP 开支时间之外也可以提高传输速度\r", "几个页面十几秒，如果是因为目标网速的限制，那服务器估计是 ADSL 拨号上网的", " CURL 也能实现并发 和长链接，而且 socket 太过底层 你让他一个新手 去搞 为难他了。", " 处理速度 取决你的机器和目标机器，没啥其他方法。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img src=\"https://dn-laravist.qbox.me/laravist-v2ex-small.jpg\" alt=\"\"></p>\n\n<p>体验新版： <a target=\"_blank\" rel=\"nofollow\" href=\"https://laravist.com/\">https://laravist.com/</a></p>\n\n<p>昨晚算是部署完了代码，新版 Laravist 全新上线，算是对自己这四个月以来的一个交代了。从自己最初有做 laravist 的想法，到迅速上线第一版，然后产出内容，运营，维护，推广，所有这些事都自己一个人包了。虽然我还不能给自己定义为创业，但终于是体会了创业者的艰辛。</p>\n\n<p>不过期间也学习了很多新的东西，见识了各式各样的人，有当着面说要无耻地散播 laravist 视频，也有诚心诚意为 laravist 社区提建议的，更有在 laravist 初期对我本人无私捐赠的。对于那些真心希望帮助我的，我心存感激；对于那些有意诋毁我的，我无视之；对于侵权的，我一律追究责任。</p>\n\n<p>很庆幸的是，自己当初真的把这件事落实到行动上了。因为四个月走来，也算认识了几个不错的小伙伴；特别是需要说明一点是：在这里非常感谢当初在我有放弃念头的时候，那位给我捐赠 500 大洋的人；可能在很多人看来，这点钱不算什么，可那对于当时的我来说，实在太重要了。人在很多时候大家都差不多，很感激有人在那个关键的时候帮我了一把。</p>\n\n<p>为了更好地活下去， laravist 也推出了股权计划。嗯</p>\n\n<p><img src=\"https://dn-laravist.qbox.me/2016-01-24_11-47-56.png\" alt=\"\"></p>\n\n<p>最后，真心感谢 Coding @CodingNET 和 七牛云 @niuer 这两个非常棒的产品，让我在最初迅速迭代的时候可以更专注于产品本身。虽然有时会看到有人在黑你们的产品，不过我还是会继续支持的。</p>\n</div></div>"], "reply": "56", "tittle": "Laravist 上线新版---专注于 PHP Laravel 和 Vue.js 的社区", "comment": ["看了两天 Laravist 的视频，再花了一个星期，终于用 laravel 完成一个项目了，感谢站长", "名字太长了。", "感觉挺粗糙的", " 具体说说？", "支持一下，网站 做得不错!", " 中间那块列表感觉很奇怪，也许是我曾经也用过这个样式。", " 是指首页的列表展示？", " \r", " 感谢支持", " 这个是？", " 域名的名字太长了，难记。", " 这。。。还行吧", "很喜欢楼主的课 支持一下～～等有闲钱了一定买来学习：）", "让我想起了 videocopilot", "Github 登录出错，麻烦修复一下...", " 纳尼", " 谢谢", " 什么意思，能不能正经回答？...顺便把 bug 修了...", "然我想起了 ", "  晕。。。。他的意思是（日语）“什么？”（惊讶的语气，然后会去看看是不是真的登录不了，能登录就告诉你没问题，不能登录就会修复）", " 恩，我正在看 \r", " 正在排查。。。", "坐等 github 登录修复  btw  看到学院君的站点在友情链接里，该站点这两天好像因为备案还是别的什么问题挂了？", "动不动就要收费，一个一节的视频要 60 ，我真不如用搜索引擎查和买本书。。。", " 哈哈，一节视频要几十甚至上百，但是年会只要 500 就可以随便看，是不是感觉定价不科学？", " 收费太贵了", " 没错，感觉定价方式太粗俗\r", "确实视频好多干货，但基本上都要收费，还很贵，免费的章节很少，而且没卵用，往往都要在收费章节才算干货，会员没看是什么情况，如果这样那我说这定价也是醉了", "不过还是要赞下年付的价格，三年付这种是创新？还有三年付换股权有法律效力？", " 请问你四个月是全职开发还是业余时间开发？", "手机端排版会错乱", " 额，那只是刚刚出的系列，没有出完而已。我又不是黑心商家", " 四个月主要是录视频的时间多，不算全职吧。真正第一版上线，一周就 OK", " 支持一下", " 非常感谢", "做得不错啊！ 比 codeschool 便宜", "看了几个视频 质量还不错\r", "codeschool 看起来比较牛逼 但是质量并不是特别高 当然价格也不贵。\r", "\r", "另外 jellybool 总让我想起 张全蛋", "支持下老乡。", " 为何有这种想法？？？", " 感谢感谢", " 可能是 中文和英文之间 有一种特殊的停顿吧\r", "\r", "然后节奏上来说 英文比中文念得快得多", "支持一下，希望做的更好。", "恩。。。又是我\r", "感觉还是太贵了。\r", "[laracasts]( ", "\r", "再考虑要不要做一发 laracasts 的字幕。。。。", "从开始到现在, 还以为这个站是玩玩的.\r", "\r", "现在支持 Vue.js 了. 不过这东西太简单了啊, 而且有作者亲笔的中文文档.", "不错。新手可以买个年费玩玩， 3 年就算了。", " 谢谢", " soga 我自己倒没啥感觉", " 觉得没必要做字幕 话说听不懂完全没太大关系 配合中文文档看看就 OK 了", " 也还行吧。目前基本上付费的都是年费的，算下来也还 OK", "最多接受月付一月 10 刀", " demo 在此支持一下^_^", "支持一个，作者还是学生，做这样已经非常不错了，在考虑是否直接上 3 年（等视频再丰富些）\r", "同样的网站可以比较看下宁皓网", "非常支持，但是还是觉得太贵，一些视频比如 vue.js 的基本是讲中文文档，总得来说很好，支持，加油", "建议付费视频来一个免费观看前 2min 。 vue 那个系列 60 块钱，感觉看标题就是在讲官挡上面的东西", " 我只是单纯感觉年会和单个系列定价不合理\r", "\r", "----    一个年会用户", " 一月 10 刀。。。", " 是的，这个我整理后会出这个", " 谢谢", " 哈哈哈，到时候看呗"]},
{"content": ["<div class=\"topic_content\">背景：开发人员的开发环境不统一加上沟通不畅经常测试有冲突，想给他们搞一个开发环境统一起来\r<br>疑问：但是 PHP 我一点都不懂，只是懂点 Java 知道 myeclipse 可以有有调试模式，不知道 PHP 代码需要调试吗？我是想着在内网搭建一个 lamp 环境，然后通过 samba 挂在刀每个开发的本地各自开发，但是这样的话会影响调试吗，虽然我都没见过他们调试，老大说为了以后着想，请各位有 PHP 经验的不吝赐教，在线等，我身边的同学都是 android 或者 Java 貌似没啥参考意义，谢谢啦</div>"], "reply": "77", "tittle": "各位大侠主要是 PHP 码农，请问贵公司是如何搭建 PHP 开发环境的，谢谢给出建议（在线等）", "comment": ["vagrant 统一打包和分发 box ，可以解决环境配置不统一的问题。每个人的调试也不会受到影响。", "统一丢一个 docker 如何？", "开发环境随意了， upupw 文件比较小 xampp 文件比较大", " @", " @", " 请各位大虾不要见怪，目前我们的开发都是记事本直接在服务器上改，已经造成好几次事故了，请问如果是在内网搭建一个环境的话会影响调试吗？一般 PHP 开发用什么工具呢？", " 记事本写 PHP ，不知道该说你牛逼你还是你们公司牛逼。", "这事儿不应该由你们公司的 php 开发去想吗，为啥要你去想", "php 本地开发   建议  PHPSTUDY\r", "\r", "上服务器修改是什么鬼...", " 其实是因为他们没有比较系统的学习开发，都是半路出家，然后代码质量很差 @", " 小公司开发不去想只能我去想顺便说一下，我其实是一个网管，貌似连网管都算不上，反正这事情交给我了", " 首先公司小，开发的开发技能不行，我记得之前老大让他们用 netbeans 了，但是最后还是 editplus ，因为本地没有开发环境（历史原因）", "磨刀不误砍柴工，搞这搞那，还不如抽个一两个月去系统得学一下", "为啥不搞持续集成环境。\r", "跑 php 为啥不用*nix", " 我也没能力说动他们（搞不好还给我来个你 TMD 才来公司多久就敢对我指手画脚），公司也不辞退他们，所以我只能改变自己，还有希望大虾给点有意义的建议，谢谢，因为这种愤怒我一直都有，但是没有任何效益，她们（她们，对，就是她们）都指望我去弄，然后她们用", " 请问适合 php 的持续集成环境具体包括哪些软件， putty 她们恨不得都不用，连服务器都是用 winscp 然后通过 editplus 编辑，更别说给他们一个 linux 的桌面系统了", " ", "\r", "教他们用 git 啊。不会用 git 算什么好码农！", "一般调试就 var_dump/print_r 就行了，实在不行上 xdebug 扩展（情况比较少）", " 情况比较少什么鬼， xdebug 好用的一逼啊，能下断点还用啥 var_dump", "目前公司线上是用 docker ，开发环境看个人，用 docker ， vagrant ， phpstudy ， xampp ， wamp …… 的都有", " 谢谢分享的文档，一会儿我看看； @", " 大虾说的两个东西我都不知道诶，都没见过她们用过，目前貌似我听说我们的程序员是在 php 中写一个 die 啥的调试，哎，说来惭愧啊； @", " 您说的这个 xdebug 是要安装在哪里吗？ @", " 大哥，请问你们开发 PHP 用啥软件撒，或者说能够配合开发、测试的一些工具呢", "xampp", "docker", " 开发用的编辑器的话…… vim 、 sublime 都在用， IDE 的话 phpstorm 最佳不用多考虑，配合开发和测试的工具的话，各种抓包软件， xdebug ， phpunit ……", " xdebug 是服务器上的\r", "yum install -y gcc gcc-c++ autoconf automake\r", "pear config-set php_ini /etc/php.ini\r", "pecl install Xdebug\r", "\r", "我是用 SSH 做的端口映射，把本机端口映射到了远程，然后本机用 PHPstorm 在调试。你是内网服务器的话连映射都省了，直接设置为使用请求 IP 就行。 xdebug 貌似是支持多人调试的。\r", "\r", "Nginx 可以给每个人配个目录然后绑个域名， PHPstorm 里共用一个远程的 PHP 版本，路径用各自的", "她们…全是女？\r", "先统一 php 版本。目前最低应该使用 5.4 。网上找集成包给她们统一部署环境。\r", "接着部署 git ，就是版本库。不懂的话去开源中国注册一个 git 。然后搞个私有库，给她们加入组。\r", "其次，每次修改让他们推送到版本库。楼主就负责导出她们的修改，再更新到服务器。楼主会自动部署就可以省去这步。", "又关语言什么事情。", " @", " @", " @", " @", " 感谢各位的帮助，现在我已经接收刀很多有用的东西，接下来我应该整理一下然后看看哪个更适合我，谢谢各位，谢谢所有回答的朋友！", "推荐 \r", "Docker ，说下我现在的架构大约是这样的：\r", "\r", "Docker 做环境的统一，按自己的环境生成镜像，然后放到 DaoCloud 或 云雀之类的私有镜像存储里， 开发者在本地拉取镜像、 PHP 代码，把代码目录映射到运行的容器里面去，来实现在本地的测试，数据库什么的也都在本地运行， Docker 运行一个服务占用的资源比较少，已经可以完全模拟出现上的环境了。\r", "\r", "学习 Docker 刚开始可能会有一定的成本，但绝对是值得的，亲身实验！（我都是使用 *nix 系，如果是 windows 的就不清楚了，貌似还会遇到一些坑）", " 哪需要这么麻烦，一个 var_dump 基本能解决我绝大多数情况。而且用的编辑器也是轻量级的，不像 PHPStorm 一样带断点。", "说点题外话吧，作为小公司初级工程师对这种小作坊式的开发有些看法：\r", "\r", "首先，至少要找（一个）技术能力强力的人进来，不能指望一群根本没跳出过井口的青蛙干出什么厉害的事情，庸人聚在一起永远都是庸人，有个厉害的人带领才能才能知道事情该怎么做，才能找准努力的方向\r", "\r", "其次，开发人员水平不行就更应该把管理弄严格点，规矩定细点，比如：\r", "1 、统一代码格式，统一用同一种 IDE ，统一 php 版本，统一代码管理工具，统一工作流，如果可能，再加上强制要求单元测试覆盖率\r", "2 、定期 code review ，每周定个时间让团队成员轮流去讲自己写的某个功能的代码，一行行地讲，大家来找茬，并定奖惩机制，影响职位薪资调整。这也是招个小牛进团队的好处，他可以在这时候可以用活生生的例子教育团队什么是不好的代码，正确的代码应该是什么样子的，有助于提高整体的代码质量\r", "3 、需求开发前大家先开会讨论把需求分解清楚，需求要求干什么事，实现的难点在哪里，该怎么做，最终要得到一个什么结果，都在需求里备注清楚，让做的人有个清楚的思路，不至于自己天马行空乱来；开发时最好找个好点的框架，并把大部分通用数据操作都封装死，普通开发人员让他只用写逻辑代码就行，提交代码前最好把单元测试也写了，开发人员写单元测试的时候可以检查代码实现是否符合需求，并保证提交至少正流程能跑通，减少测试工作量及返工修改的时间浪费\r", "4 、每天早上开站会， 10 分钟左右，每个人讲自己昨天干了些什么，今天准备干什么，遇到了什么问题，方便成员之间了解开发进度并及时处理会影响需求交付进度的问题\r", "5 、一段开发结束后开总结会，总结开发过程中得失，做得好的方面和做得差的方面，怎么改进，记录总结出来的缺点，下期总结时回顾有没有把这些问题解决掉，如果没有要搞清楚为什么没有解决。多总结多反思，培养团队成员的正确的开发思维，其实这些东西就是 scrum 开发流程罢了", "vagrant", " 你确定哪一个是麻烦了吗\r", "\r", "断点可以查看当前停顿处所有变量的值，可以在多个断点间前进、后退，可以使用调试器对停顿处的变量进行计算，以及调用 PHP 函数操作， PHPstorm 会对运行过程中的变量值改变在代码旁边全部进行标注，甚至可以使用浏览器插件一边在浏览器中访问一边在调试器中观察变量的变化情况。 xdebug 本身也会使 PHP 额外输出一些错误详情，还有对 var_dump 在浏览器中的输出进行格式化、高亮、附加标注等等。\r", "\r", "基本上出现问题之后在关键地方下几个断点，结合调试器实时的变量计算，一轮就能明白问题出在哪儿， IDE 本身也就是拿来干这个的。现在能用 IDE 调试的东西我肯定不会去自己加代码调，在我看来到处插输出然后一遍一遍的执行、查看才是麻烦。", "分线上机和测试机， jekins 上线， svn 版本管理", "我觉首先要统一一下思想吧，然后就是起码 php 版本和 mysql 版本用的都是一个吧。\r", "\r", "然后在局域网搭一个测试环境，大家最后文件合上然后跑测试。。。。。\r", "\r", "没问题就扔服务器上跑了哈哈哈哈\r", "\r", " [如果大家不愿意用起来各种先进工具的话", "vagrant 很赞", " 本地没有开发环境,这点我就已经跪了...", " 真的需要那么多功能吗？让人想起打印日志和单步跟踪的讨论 ", " @", "  对、我也是这么觉着，，， java 难道不用 svn 、 git 代码管理吗", "弄一个统一的安装包, 包含 dev 模式和 online 模式的,安装时可选.大家都统一用这个包.\r", "至于 debug 的话,看各自喜好吧.有人喜欢用 xdebug,有人(比如我)喜欢打 log.", "自己带的团队用的 vagrant ： ", "个人用 vagrant\r", "不过准备试试 docker", "是不是我理解错误 代码需要在服务器才能改 ？\r", "开发电脑没有代码？", " +1", " +1", "先回答题主的问题： PHP 代码需要调试吗?\r", "答案是需要的，原生 PHP 代码单步调试一般用 xdebug 插件（个人认为用的多些）和 zend debuger 插件(Zend Studio 自带)； PHP 扩展的话 GDB...\r", "不过，目前为止见到 var_dump 的绝对占多数，从这方面也某种程度反应了国内团队的现状\r", "\r", "不过，个人认为题主的问题其实跟语言关系不大。 :)   猜测题主想让现有团队更加规范，尝试简要回答下，\r", "\r", "本地开发环境：因为 PHP 代码最终是需要在服务器上运行的，因此强烈建议在一开始就保持本地开发环境和最终服务器运行环境的统一（包括系统、数据库、 PHP 、部署方式等），这样可以避免很多环境不一致引起的问题。 关键词： Vagrant + Virtualbox + Ansible (没有历史负担也可以尝试 Docker)，不推荐类 XAMPP 这样子的工具包\r", "\r", "编辑器选择：其实这个是仁者见仁的问题，如果大家臭味相投的话统一最好，不过也没必要强制要求，只要大家最终编辑器 / IDE 输出的 PHP 代码遵循统一规范即可。关键词： PHP Document,  PHP CodeSniffer ，代码必须遵循 PSR 标准是大势所趋， PHP Storm(好吧，想了下还是推荐下，自己折腾一段时间后现成的生产力工具还是更省心)\r", "\r", "开发到部署流程：只要上面把好了关，这里遇到的问题会少很多，而且与其他语言差别并不大；关键词： 持续集成、持续交付， 本地编码(Vagrant/Docker)  -> 版本管理(SVN/Git) -> 构建 (Jenkins/TravisCI/Phing) -> 测试 (PHP Unit) -> 部署 (Ansible/Puppet/Chef)\r", "\r", "推荐阅读：\r", "PHP The Right Way ： ", "\r", "Modern PHP: ", " (中文版： ", ")\r", "PHP Best Practices ： ", " 你们公司的事故就是因为没有代码版本管理工具，出了问题不能回滚到之前正常的版本造成的， 开发环境都不是什么问题，你们公司只能选择上 Git ，先不用管其他的。", "这都不会还当网管，不知道是怎么进去的，还招人吗？。\r", "\r", "你说的这个上面别人都讲了，但估计不好实现。\r", "\r", "现实的方法是全在本地做，内网里架个 SVN 服务器，每个人的机器上装 phpstudy.", "估计是 SB 领导怕代码泄露了，遇到过这样疑神疑鬼只会吹 NB 的人", " 其实看过上面大家的回答我基本上整理出了一个思路，和您现在给我的建议差不多，谢谢，因为你的回答让我更加确定我的想法可行，那么接下来我就准备开干了", "作为运维并不推荐 phpstudy 这类集成环境\r", "调试还是建议内网上一台完全和线上环境一样的服务器最好，即便版本一样，配置参数还是会千差万别\r", "尤其是开发环境在安全参数上面和线上环境是有差异的\r", "\r", "开发在赶工的时候你并不会知道他可能会使用什么暴力的实现，这里就需要稍微给点限制了", "同楼上， win 下用集成环境 会有不少坑", "vagrant", " 调试也不受影响是啥意思？", "*nix 系的推荐使用 Docker ， Windows 还是老老实实用 vagrant 吧", "vagrant 比 docker 适用场景更广泛", "欢迎试用我的 docker 环境 ", "是这个 ", "不错，我也来学习下", "哪里都 docker docker 的烦不烦，装 b 用吧，真用起来给自己找麻烦", "一个一键安装包 丢过去", "  用 nginx 每人绑定一个目录，配 host 是可以的，那请问每个人开发完后，如何推送到主线？主线也是个测试环境，运营和开发都会使用的。", "windows 本地环境 wamp 还可以，支持各种版本切换。\r", "代码需要有版本管理工具(svn/git,看开发人员熟悉程度来选择)来维护，本地需要有测试环境，测试环境要和线上环境一致。\r", "代码先本地环境通过，提交测试环境，测试通过，在提交到线上环境。\r", "代码部署通过版本管理工具来进行，确保代码一致性，出现问题可以及时回滚。\r", "调试可以在本地环境和测试环境进行。", " \r", "\r", "我用 kate 写了 10 来 w 行代码了吧，有啥问题……\r", "\r", "php,js 之类又不依赖 ide ……", "另外\r", "\r", "别挂 samba 了，开 ssh 吧，不然你让他们怎么跑测试。", " 记事本写 php utf8 格式会有 BOM 头问题 这是常识吧", "Docker ， Vagrant", " 目前我正在尝试所有开发环境 Vagrant 里面跑 Docker ， Windows 的  Docker Toolbox 太坑了。", " \r", "\r", "不好意思，没这个常识……", " PHP 的原生环境是 Linux ，我觉得还是必须是 Linux 兼容环境来做 PHP 开发。有些 IDE ， Editor 是支持远程直接打开文件编辑的，保存就会立即上传。", "软件包啊，集成包啊！\r", "现在谁还一个一个装...准出问题系列。", "如果你编写 php 的桌面是 windows 的,推荐一个编辑软体:CodelobsterPHPEdition,\r", "他的基本功能免费,有付费外挂,安装前注意看勾选列表,付费的不要装,装了会很烦,一直要钱.\r", "免费序号申请一个帐号就有了.可以一直用,\r", "有彩色代码(还可自订色彩),\r", "自动补码,\r", "变数提示,\r", "debug 扩展连动 php 直接提示哪里错误,\r", "热键排版(ctrl+alt+F)=看得爽.\r", "还支持 html(文字编辑没有视觉化),js,css,xml,json 编辑.\r", "\r", "理论上用线上的服务器,用远程编辑是很不错的,但应该上线前想办法不要跟已上线版本混再一起.应该开独立目录挂上独立前缀网址去测试(www.your.com->test.your.com),并将此前缀设为内网或特定外部 IP 才能开启.\r", "资料库也弄一个复制的资料库去玩.\r", "上传保留的文件也是,不要跟在线的上传资料夹混一起.假如上传资料夹是 upfile,就弄一个 upfile_test 资料夹.\r", "\r", "这样基本上测试环境跟真实上线环境就非常统一了.\r", "\r", "如果想要离线单独开发,需要自己架设一个测试环境,\r", "windows 下用 iis 搭配 PHPManagerForIIS 是非常方便的,可依照目录设定给予不同版本 php,切换版本也是动动滑鼠秒切换.\r", "或是公司用 apache 你就用 apache,用 nginx 就装 nginx,版本和参数尽量相同(直接复制公司主机的参数档嘿嘿嘿).然后找出 hosts 档案将 ", " 对应 IP 改成 127.0.0.1 就可单机开发,但改 hosts 将失去看公司真实网址的能力,因为被引导到你的单机环境了.\r", "\r", "虽然我是架设 linux 跑 nginx,但我开发是在 win7 用 iis.所以 linux 下的推荐编辑器就不熟了.", "开发工具 zendstudio ，版本控制： git or svn 需要两个服务，一个服务提交到测试版，一个服务从测试版提交到正式版，两个服务都要设置钩子，用于代码同步到 web 环境中。", "这不该是你领导搞定的么？", "持续开发跨太大，扯到蛋\r", "上 docker 吧，分发一下\r", "另外，我觉得楼主公司是缺少一个 UAT （预生产）环境，有没有专门的测试人员吧。。。", " 主线用 git 一类的版本控制。那玩意肯定不能像每个人的测试路径一样想改就改，得考虑多人编辑的时候的一个冲突问题。\r", "\r", "场景就是大家先从私有分支（ github 买也行，自己搭也行） clone 代码下来，配置好 PHPstorm 的远程 PHP 测试环境，然后修改、在各自的远程路径里边测试，当他负责的功能在本地测试的差不多之后把 commit 全部 push 上主线。\r", "\r", "至于主线修改的效果预览，可以靠 git 的 web hook ，在代码出现变动的时候通知测试服务器更新一下代码。开发 push 完刷新一下主线绑定的测试域名就能看到效果了。", "v2ex 上用户这么活跃？\r", "环境的话，一般都是生产环境（集群）、仿真环境（生产环境一致，数据定期同步，通过测试的代码才能上到这里）、测试环境（可提交代码进行测试的环境）、开发环境（一般为一个 linux 虚拟机，给开发同学开帐号即可）", " 好奇问一下你用 docker 都自找了哪些麻烦？\r", "\r", "PS: 我也觉得 docker 不适合用来解决题主的问题，根据描述感觉他们水平太低，还要求学新东西来解决困境太难了。", "vagrant \r", "git \r", "phpstorm\r", " xdebug", " 感谢你的回答。我大致也是这么想的。以前用过远程调试，不过现在这公司大家都没用到。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>能否实现下面类似的方法：<br>\n$row= $this-&gt;db-&gt;get_cache('key_users_favorites',60)-&gt;select('favorites')-&gt;get_where('users', array('uid'=&gt;$uid))-&gt;row_array();<br>\n先查找 key_users_favorites 这个 key 的数据是否存在，存在则返回一个数组。<br>\n如果不存则继续原来的数据库查询，返回查询结果，并在这个 key 中保存数据 60 秒。</p>\n</div></div>"], "reply": "6", "tittle": "php 的 codeigniter 框架能扩展数据库类实现链式方法的缓存吗", "comment": ["想太多，直接用 cache  driver 就好了", "laravel", " 不能很好的控制过期时间，感觉代码还是多了，如果像这样我就加个：->get_cache('key_users_favorites',60) 就可以缓存了。", "这个完全可以实现，不过你需要修改 CI 的 DB 类的源码， DB 类的 QueryBuilder 最终是会转为 SQL 的。", " 能扩展吗？最好不要动 CI", " 理论可以，你可以试试继承 CI 的 DB 类，我没这么试过，你测一下。"]},
{"content": ["<div class=\"topic_content\">类似这种：\r<br><a target=\"_blank\" href=\"http://images.cnitblog.com/i/360964/201406/011725525099175.png\" rel=\"nofollow\">http://images.cnitblog.com/i/360964/201406/011725525099175.png</a>\r<br>\r<br>支持 CRUD 操作。\r<br>\r<br>:)</div>"], "reply": "20", "tittle": "求一个带有 组织架构的 php 开源程序，最好是基于 laravel 框架 的。", "comment": ["你需要掏钱买个 OA", "有没有开源的？", "自己写个也不难", "预算多少？我最近空余时间比较多，可以接个单 ^_^", " 这种系统往往看着不难，做起来一堆坑（业务）。", "楼主打算花多少钱。", "网上有开源的，不过没有注意是不是 laravel 做的", "可以搜索树形结构看看", " 的确", "大哥，你这个不是组织架构，你这是 OA 功能列表。\r", "组织架构是下边这种的\r", "\r", "xx 事业部\r", " -运维\r", " -ios 开发组\r", " -web 开发组\r", "财务部\r", " -天津财务部\r", " -北京财务部\r", "人力资源部", "审批流转那块不太好做，业务情况可能比较复杂。", "感觉 ssh+jbpm 做这个挺容易的（然而你们不都是 java 黑嘛", "程序员们真是欢乐……", "这不是前端 tree 插件吗。。", "\r", "\r", "UI 拿去套用吧", "这种自己写一个啊。。。", "这不就是个树形结构么 怎么扯到 oa 和工作流了。。", "用钉钉\r", "\r", "----------~~~~~~越扯越远 : )", "楼歪了", " 真的这样？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>ET 开源 WEB 项目实战，一起写点有意思的东西</p>\n\n<p>教授知识体系：</p>\n\n<p>Linux ， Git,PHP,MySQL,HTML5</p>\n\n<p>感兴趣请联系<br>\nQQ 。  3167814180</p>\n</div></div>", "<div class=\"topic_content\">请大家直接加   PHP 研习群（ QQ 群）  204787773</div>", "<div class=\"topic_content\">群名字定为： PHP 研习社          一起进步，欢迎大家参加</div>", "<div class=\"topic_content\">PHP 研习社是一个一起学习 PHP 和 WEB 、服务器等技术的社群，一起进步\r<br>\r<br>我们将会组织定期的 PHP 线上线下培训，技术交流活动</div>"], "reply": "9", "tittle": "招聘 PHP 学徒（实习生）免费培训", "comment": ["又说招聘，又说免费。。。醉了。。。", "你是贴吧搬来的救（）星（）吗？", "我司实习生据说一天 200 元", "要是 Python 就好了", "培训帖，鉴定完毕", "PHP 学徒，，，第一次见把培训广告说的这么清新脱俗", "群名字定为：  PHP 研习社   一起进步，欢迎大家参加", "坐标?", "这广告打的真是高明"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我用的是 <a target=\"_blank\" rel=\"nofollow\" href=\"http://music.163.com/api/user/playlist/?offset=0&amp;limit=1001&amp;uid=%E8%BF%99%E4%B8%AA\">http://music.163.com/api/user/playlist/?offset=0&amp;limit=1001&amp;uid=这个</a> api ，输出{\"message\":\"illegal request!\",\"code\":403}，需要设置什么 header 头？</p>\n</div></div>"], "reply": "1", "tittle": "有办法输出网易云音乐用户的歌单么？", "comment": ["self.header = {\r", "            'Accept': '*/*',\r", "            'Accept-Encoding': 'gzip,deflate,sdch',\r", "            'Accept-Language': 'zh-CN,zh;q=0.8,gl;q=0.6,zh-TW;q=0.4',\r", "            'Connection': 'keep-alive',\r", "            'Content-Type': 'application/x-www-form-urlencoded',\r", "            'Host': '", "',\r", "            'Referer': '", "',\r", "            'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.152 Safari/537.36'\r", "        }\r", "\r", "可以参考\r"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>索引多不出来<br>\ndistinct 也用不了<br>\n官方扩张也不更新下。。</p>\n</div></div>"], "reply": "1", "tittle": "php 之 mongodb3.2 问题好多啊", "comment": ["。。。我记得 php 的 mongodb 扩展是 mongodb 官方维护的吧"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>这个 API Framework 模式基本上是自己工作中用到的，然后来来回回反反复复最终决定集成到 Yii 核心中去. </p>\n\n<p>我觉得最有意思的地方是根据不同的 version 加载不同的接口处理逻辑，并且在接口还不支持当前版本情况下会自动使用最新的接口版本.</p>\n\n<p>接口的 URL 长的像这样:</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://domain.cn/user.info?v=1.2.0&amp;uid=xxx&amp;app_id=xx&amp;sign=xxx&amp;timestamp=xxx\">http://domain.cn/user.info?v=1.2.0&amp;uid=xxx&amp;app_id=xx&amp;sign=xxx&amp;timestamp=xxx</a></p>\n\n<p>现在还支持 签名验证 ，在配置文件中 给 不同的平台 像 iOS / Android 之类配一个不同的 app_id ，加强接口安全.</p>\n\n<p>后面要做的:</p>\n\n<ol>\n<li><p>接口日志 </p></li>\n<li><p>接口调用频率限制</p></li>\n<li><p>更多的参数验证类</p></li>\n</ol>\n\n<p>...</p>\n\n<p>有兴趣的朋友可以提意见哈.. </p>\n\n<p>github: </p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/jackey/YiiAPI-Framework\">https://github.com/jackey/YiiAPI-Framework</a></p>\n</div></div>"], "reply": "15", "tittle": "在 Yii 1.x 基础上做了一个 API Framework (轻喷, 实在不该怎么称呼它) 支持多版本分发到不同处理路由中", "comment": ["亲你实现的这些功能， yii2.0 已经实现了", " 是我看东西不认真嘛？ 没看到 Yii 2.x 支持多版本的 API 呀？", " ", "  不知道你说的多版本是不是这个。。。 yii 一直以来都是支持模块化，", " \r", "\r", "比如 \r", "user.info?v=1.0.0 的接口请求路由到\r", "\r", "service/rest/v1.0.0/user/info.php 下去处理  \r", "\r", "user.info?v=1.1.0 的接口请求路由到\r", "\r", "service/rest/v1.1.0/user/info.php 去处理\r", "\r", "这样不同版本的发布 互不影响 功能也更加独立. 方便开发.", "写个组件就能实现了，何必该核心代码，以后怎么升级\r", "再说都用 yii2 了\r", "不过还是支持一下楼主", "根据 version 切换不同的接口版本\r", "    这个 YII2 已经实现了，并且支持 header 和 get 两种切换方式：    ", "\r", "\r", "接口日志\r", "    这个很简单，没注意 YII2 有木有\r", "\r", "接口调用频率限制\r", "    这个也是有哒： ", "\r", "\r", "更多参数验证类：\r", "    不清楚什么意思", "为啥还用 yii1 这种东西。。。", " 个人比较熟 然后做了不少 接口的产品啦... 然后自己想把完全个人化 之后用于项目上更加好维护", " 接口日志可以配置一下，分分钟解决", "目测楼主是给 app 做 api service , 要支持 app 多个版本同时正常运行.. \r", "\r", "我当时用了一种做法是.. 利用 namespace .. 做版本切换..", " namesapce ? ?", " 可以切换到 yii2 了。。你说的这些已经都实现了。。而且可以用 header 也可以用 route ，可以看看 yii2 的文档 restful 的这块。。", "1,2,3 一般都放在代理层做掉了吧。。不然怎么搞轮询", "\r", "记错了..  用 namespace 是当时为了区分每个版本的日志记录,我重写了一个日志处理.\r", "\r", "有一种做法是. (我接手过一个公司的项目)\r", "每一个版本对应一个文件夹. \r", "根据 version 获取对应的文件夹. \r", "动态设置 $app -> setControllerPath();\r", "\r", "来做到兼容多个 app 版本的请求. \r", "\r", " \r", "\r", "看到当时的注释 我也是醉醉的.. \r", "\r", "接手一个烂摊子.. 想去改成自己想要的样子已经很难了..", " \r", "\r", "想法其实差不多，基本上把不同版本的文件放在不同目录； \r", "\r", "我做这个我主要是不想使用默认的 Yii CApplication ， 它太重了， 加载很多了 components . 其实 API 接口这边不需要其他的 Components. 按需加载就可以了. \r", "\r", "能接烂摊子也是一种挑战，我不知道接了多少烂摊子了 哈哈...~~~"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>第一段:</p>\n<div class=\"highlight\"><pre><span class=\"x\">$cate = array();</span>\n<span class=\"x\">        $cate[0]['id']=1;$cate[0]['name']='种类 1';</span>\n<span class=\"x\">        $cate[1]['id']=2;$cate[1]['name']='种类 2';</span>\n<span class=\"x\">        $cate[2]['id']=3;$cate[2]['name']='种类 3';</span>\n<span class=\"x\">        $cate[3]['id']=4;$cate[3]['name']='种类 4';</span>\n<span class=\"x\">        $cate[4]['id']=5;$cate[4]['name']='种类 5';</span>\n</pre></div>\n\n<p>第二段:</p>\n<div class=\"highlight\"><pre><span class=\"x\">$cate_list = ['种类 1','种类 2',' 种类 3','种类 4','种类 5'];</span>\n<span class=\"x\">$cate = [];</span>\n<span class=\"x\">foreach($cate_list as $index =&gt; $value){</span>\n<span class=\"x\">    $cate[] = ['id'=&gt;$index + 1,'name'=&gt;$value];</span>\n<span class=\"x\">}</span>\n\n<span class=\"x\">``</span>\n</pre></div>\n</div></div>"], "reply": "25", "tittle": "下面两种代码写法,你喜欢哪一种?为什么?", "comment": ["除非是初始化数据库代码，不然哪种都看着不舒服。", "$cate = array\r", "(\r", "    array('id'=>1,'name'=>'种类 1'),\r", "    array('id'=>2,'name'=>'种类 2')\r", ");", "2.    对种类增加，删除，插入，调序没 1 那么疼。", "$cate_list = ['种类 1','种类 2',' 种类 3','种类 4','种类 5'];\r", "$cate = array_combine(range(1, count($cate_list)), $cate_list);", "相比之下 2 更优雅。。。", "如果 cate 非空的话，我会考虑用 array-merge 。否则直接构建数组立即量即可。", "个人觉得第一种，代码工整直观。", "如果有规律并且数量比较大的，就第 2 种，否则就第 1 种", "array_push();  这么好的函数你不用", "我喜欢第一种，一眼望去就知道是干嘛的。", "除非客户捉弄我，不然就写第二种", "  `$cate[] = XX;` 这种写法一般优于 `array_push`", " 哈哈,让我知道了 array_combine 这个 函数.\r", "不过您的这个代码并不能达到想要的效果.\r", "你的代码输出结果:\r", "\r", "```php\r", "(\r", "    [1] =>  种类 1\r", "    [2] => 种类 2\r", "    [3] =>  种类 3\r", "    [4] => 种类 4\r", "    [5] => 种类 5\r", ")\r", "```\r", "我需要的结果:\r", "\r", "```php\r", "(\r", "    [0] => Array\r", "        (\r", "            [id] => 1\r", "            [name] =>  种类 1\r", "        )\r", "\r", "    [1] => Array\r", "        (\r", "            [id] => 2\r", "            [name] => 种类 2\r", "        )\r", "\r", "    [2] => Array\r", "        (\r", "            [id] => 3\r", "            [name] =>  种类 3\r", "        )\r", "\r", "    [3] => Array\r", "        (\r", "            [id] => 4\r", "            [name] => 种类 4\r", "        )\r", "\r", "    [4] => Array\r", "        (\r", "            [id] => 5\r", "            [name] => 种类 5\r", "        )\r", "\r", ")\r", "```", "得看你数据来源，如果数据是死的，@xifangczy +1", "第二张看起来优雅点", "对于固定的数据而言，没啥区别吧，一开始一直用第二种，后来用第一种了", "2 看起来简洁", "array 套两层套进去就好了嘛\r", "\r", "这是我在这里的第一帖。。大家好我是新人，很高兴认识大家", "肯定第二段,当然,什么写法不重要,都遵守同样的规则就行了", "let cate_list = [\r", "  {\"id\": 1, \"name\": \"种类 1\"},\r", "  {\"id\": 2, \"name\": \"种类 2\"},\r", "  {\"id\": 3, \"name\": \"种类 3\"},\r", "  {\"id\": 4, \"name\": \"种类 4\"},\r", "  {\"id\": 5, \"name\": \"种类 5\"}\r", "]\r", "\r", "好吧，我是 JS 党混进来了~哈哈~可以无视我", "如果是要在 View 里输出的话无论哪一种都不好", "  `$cate[] = XX;`  这种写法非常不规范，而且你自己也能感觉到这种语法有坏的味道。", " +1", " \r", "我看 PHP 的文档 是这样写的:\r", "> Note: If you use array_push() to add one element to the array it's better to use $array[] = because in that way there is no overhead of calling a function.", " 函数调用肯定会有额外的开销。这就像使用 ORM ， ORM 与原生的 SQL 相比效率相差不止一点，但是引入 ORM 对项目的管理，规范方面带来的好处远远多余那点执行效率。看你个人，你觉得用哪种更『美』就用哪种。"]},
{"content": ["<div class=\"topic_content\"><div><a target=\"_blank\" href=\"https://gist.github.com/582033/bbb57123e9a209b932ae\">https://gist.github.com/582033/bbb57123e9a209b932ae</a> <button onclick=\"lazyGist(this)\"> 显示 Gist 代码 </button></div></div>"], "reply": "15", "tittle": "有菊苣能帮忙 decode 一下加密内容嘛？", "comment": ["啥叫菊苣？", " +1", "菊苣就是巨巨，大大的升级版", "php 的一段，解出来是这样的\r", "$global2['content']=substr(file_get_contents(__FILE__), 4415, 6148);\r", "$global2['content']=base64_decode($global2['content']);\r", "$global2['content']=gzuncompress($global2['content']);\r", "return(eval($global2['content']));\r", "\r", "substr 后面两个是写死的，更换文件路径后 gzuncompress 报错，应该是 substr 两个值不对。", "猜测至少还有别的程序处理这个文件。", "感觉像 base64 ，你 base64 -d 一下试试", " 好的， 感谢。 我们再看看", "一个混淆过的 php 版 webshell,目测站点已被 getshell...", " 这还真不是个 webshell ... 看似一个跟 wordpress 有关的授权文件 ...", "为什么我运行后直接提示语法错误...", "我知道了，源代码是有 unicode 的， LZ 是不是已经解密一遍了？", "看到了一个 register_sidebar\r", "感觉真的是 wordpress 插件相关文件。", "目测 LZ 是想破解这个网站的主题了：\r", "核心混淆算法就是这么一句话：\r", "function dec($a, $b = '')\r", "{\r", "\tif (empty($a)) return '';\r", "\t$a = base64_decode($a);\r", "\t\r", "\tif ($b == '') return ~$a;\r", "\t//if ($b = ='-1') // Do something weird\r", "\t\r", "\t$length = strlen($a);\r", "\t$b = str_pad($b, $length, $b);\r", "\t\r", "\treturn $b ^ $a;\r", "}\r", "\r", "文件最开始把代码里使用到的关键字，全部使用这个算法解密开。（包括函数名，变量值，常量值）\r", "然后程序就可以正常运行了。\r", "\r", "PHP 是可以使用 unicode 变量的，不过绝大多数 IDE 应该都不支持 unicode 的。\r", "网上绝大多数 PHP 解混淆工具应该也不支持 unicode 的，所以就无法解开这个文件了。\r", "文件实际混淆强度不大。", "mark 一下"]},
{"content": ["<div class=\"topic_content\">话说，我一直以来都是用 php 来做公司微信公众号平台的，在图文素材中我是用了类似如下的表单：\r<br>\r<br>&lt;input type=\"text\" name=\"Title[]\" class=\"form-control\" placeholder=\"标题\" /&gt;\r<br>&lt;input type=\"text\" name=\"Description[]\" class=\"form-control\" placeholder=\"摘要\" /&gt;\r<br>&lt;input type=\"text\" name=\"PicUrl[]\" class=\"form-control\" placeholder=\"图片地址\" /&gt;\r<br>&lt;input type=\"text\" name=\"Url[]\" class=\"form-control\" placeholder=\"跳转地址\" /&gt;\r<br>\r<br>然后，前端和我说，最讨厌这种包含 [] 的表单数组设计了，这个是 PHP 作为后端时前端表单中独有的，虽然现在 <a target=\"_blank\" href=\"http://ASP.NET\" rel=\"nofollow\">ASP.NET</a> 也可以兼容获取到，比如通过： <a target=\"_blank\" href=\"http://stackoverflow.com/questions/4561686/handling-arrays-of-html-input-elements-with-request-form-like-php\" rel=\"nofollow\">http://stackoverflow.com/questions/4561686/handling-arrays-of-html-input-elements-with-request-form-like-php</a> 。\r<br>正常在 C# 中可以直接重复 name=Title ，然后 post 或者 get 到后端时会自动变成 Title1=1&amp;Title2=2&amp;Title3=3 这样的形式。\r<br>然后，前端严肃地说，在他看过的书中，有指出过这个是 PHP 当时的设计失误。\r<br>\r<br>那个，我就偶尔玩一下 PHP ，想问下这个是否确实是 PHP 独有的，甚至是 PHP 当初的设计失误呢？两者我觉得是同一个意思，如果强迫一个语言 A 为另一个语言 B 而改变或者新增一些特性，可能对 A 算是功能上的完善或者补充，但对 B 可能就算是设计上的不完善了吧。\r<br>\r<br>PS ，此贴仅限 html 数组表单的处理讨论，是否是当时 html 专门为了兼容 PHP 后端获取而做了调整，没有什么引发圣战的意思。</div>"], "reply": "33", "tittle": "今天前端和我提了个严肃的问题，关于 PHP 获取 html 的表单数组", "comment": ["这是 php 特有的。", "同事说 java 也是这样玩的。", "这个确实是 php 特有的，能用 json 就用 json 吧", "这个其实看后端怎么处理吧~\r", "例如 Node.js 第三方包 qs, 也是这么玩的 ", "问题是如果是 checkbox 类型的 input 呢？ name 必须是 XXX[] 吧", " java 也这么玩过么？\r", " 我最终也是格式化到 json 的。。\r", " 是的，这应该就是其他语言为 html 这个特别为 PHP 适配的特性做的匹配。\r", " checkbox 也和 input 差不多，大致如下。\r", "\r", "<input name=\"wechatFeature[]\" value=\"wifi\" type=\"checkbox\"/>&nbsp;&nbsp;WiFi 上网\r", "<input name=\"wechatFeature[]\" value=\"officer\" type=\"checkbox\" checked/>&nbsp;&nbsp;客服", "一般你这种方式只用在 checkbox 类型的 input", "没用过这么蛋疼的方法，向来都是 ajax 一段 json ，然后返回一个跳转地址。一来用户体验会好，二来就是项目里任何一个人被外星人抓走了，都能立即找到人接替……", "PHP 可以不用 `[]` 获取提交过来的数组.\r", "\r", "用 php://input 看一下就知道了.", "java 新手表示暂时没有见过有人这样用", "= =   java 后端跟我说接不到这样的数组，然后我就把数组改成字符串给他们了。。。", " 你的意思是把 html form 格式化为 json 然后再发送给服务器？", " 刚测试过了。\r", "\r", "<form action=\"/welcome/formTest.html\" method=\"post\" accept-charset=\"utf-8\">\r", "<input type=\"text\" name=\"testName\" value=\"\"  />\r", "<input type=\"text\" name=\"testName\" value=\"\"  />\r", "<input type=\"submit\" value=\"提交\"  />\r", "</form>\r", "\r", "给出结果是如下。\r", "testName=1&testName=2\r", "\r", "谢谢。", "Java 确实可以这么玩，而且还很普遍\r", "例如在 SpringMVC 的 Controller 中：\r", "getList(HttpServletRequest request, @", "(value = \"list[]\", required = false) Long[] list)", " 请问你是怎样把 form 格式化为 json 数据的呢？用的是什么前端框架或者工具呢？", " 我木有直接格式化 form 为 json 哦，是 @", " 童鞋。\r", "我一般都直接用 $('#form').serialize()，要么 jQuery 的 serializeArray 你试下。。", " \r", " \r", " \r", "Java 我完全不懂唉。", "公司前端也有这么用的，后端 django 就没法解析，得手动的去取数据，明明可以用 json", "checkbox 不这么玩还怎么玩？", " 这和语言无关的。这是框架自己的处理。\r", "例如 Spring 的 WebRequest 就封装了这样的方法：\r", "\t/**\r", "\t * Return the request parameter values for the given parameter name,\r", "\t * or {@code null} if none.\r", "\t * <p>A single-value parameter will be exposed as an array with a single element.\r", "\t * @", " javax.servlet.http.HttpServletRequest#getParameterValues(String)\r", "\t */\r", "\tString[] getParameterValues(String paramName);\r", "事实上不管怎么样都能取到数组，不管是不是 array[]这样的键名。就只是对一个 key 取多次值而已。\r", "其它语言的其它框架要处理也不是什么难事，大不了封装一下。\r", "至于 JSON ，除非复杂对象，不然实在没什么必要用 JSON 。", "关键是你 input 不是这样玩的吧。 name=\"title\" 不就行了，楼主还是比较超前呀。我一开始压根就不知道数组这种用法 2333", "java 可以这样玩，也可以类似 c#这样玩。但是这不应该是前端自己的问题么，非要用 name 表单提交。", " php 自带解析[]作为数组。", "楼上各位，这不是什么后端语言特有的，这是 w3c 制定的 web 页面提交多维数据的格式（也就是数组），理论上所有的后端环境都可以获取的到。", "我们 java 用框架的时候都是这样：\r", "<input type=\"text\" name=\"entity[0].title\" class=\"form-control\" placeholder=\"标题\" /> \r", "<input type=\"text\" name=\"entity[0].description\" class=\"form-control\" placeholder=\"摘要\" /> \r", "<input type=\"text\" name=\"entity[0].url\" class=\"form-control\" placeholder=\"跳转地址\" /> \r", "\r", "<input type=\"text\" name=\"entity[1].title\" class=\"form-control\" placeholder=\"标题\" /> \r", "<input type=\"text\" name=\"entity[1].description\" class=\"form-control\" placeholder=\"摘要\" /> \r", "<input type=\"text\" name=\"entity[1].url\" class=\"form-control\" placeholder=\"跳转地址\" /> \r", "\r", "这样 server 段处理的时候可以获取到一个 entity 的数组。", " 有相关网址么？\r", "\r", "我一直以为是 php 特有的，因为 php 语法允许 $foo[] = 'bar' ，相当于 array_push($foo, 'bar')\r", "另外这个先后顺序有约定么？依据文档出现先后顺序？", "我一直是这么处理的。。。", " 举四爪同意", " 这个也可以直接用于 ajax ，只不过和传输 JSON 调用的方法不一样而已。", " \r", "吓死我了，然后我赶紧去 W3C 找了个 HTML5 标准看看。\r", "少年你在哪看的 W3C 规范？为什么和我看的不一样\r", "Successful controls have exactly one value, except for select controls and file upload controls, which have zero or more values depending on how many items or files they have selected. \r", "\r", "如果不是为了 noscript 环境，还是异步提交数据吧。", "这跟 php 有毛关系，任何语言都从标准输入都可以读到，怎么解析都行", "post 一个数组表单 不这么用要怎么用？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>php 怎么起多进程跑任务脚本?</p>\n</div></div>"], "reply": "17", "tittle": "php 多进程问题", "comment": ["swoole", "fork", "手动多起几个任务、 swoole 都可以", "pthread", "写一个主进程来创建和监控 N 个子进程。\r", "pcntl 函数: pcntl_fork ， pcntl_wait 。", "这个估计可以\r", "主线程创建多个子进程，然后进程间同步或异步", "多开几个终端？", "愿 Golang 与你同在！", "\r", "这篇文章可能会帮到你", "这么费劲，直接用 golang", "最最最简单的  curl 啊", "  golang 关 php 什么事？", "  我要跑任务脚本  不是并发调接口", "pcntl", "问了稳定起见，还是 swoole 吧，没有条件上 swoole ，就 pcntl", " 可以跑定时脚本（基于 swoole ）"]},
{"content": "", "reply": "27", "tittle": "求 PHP 加密 Laravel 方法", "comment": ["Laravel 加密 ", "楼主要的是代码加密。。", "   zend guard", "是的 代码加密", " PHP 没有完美的代码加密方法.ioncobe 和 Zend 老版本的加密现在随便都能破解,新版本的加密虽然暂时没有公开的破解工具,鬼才知道今后有没有?\r", "\r", "直接给客户 VM 镜像,并且对镜像中磁盘加密,才是正解.", "我的开发环境是 vagrant + virtualbox ，如何实现加密呢？", "\r", "这个加密 laravel 报错了？\r", "有人可以试一下吗？", "  磁盘加密也没用吧？想运行代码必须解密，还是一样可以提取出来。", " 其实不用加密，所有类名、函数名、变量名全部用无意义的字符就行，让你看到就头晕", " \"加密\"的意思在于: 如果客户想要改动一点点功能, 他还要回头找你.\r", "\r", "所有类名、函数名、变量名全部用无意义的字符,虽然能在一定程度上阻止用户改功能,但是耐下心来还是能改.\r", "\r", "然后你失去了再宰用户一刀的机会.", " \r", " \r", "会不会有一天自己改的时候发现，天了噜，自己都看不懂了- -", " sleep(5)", " 开发的时候是正常的类名、函数名、变量名，发布的版本用某种工具将所有的名称变成无意义的字符", "php 是可以编译成 c 的", "记得鸟哥说 PHP 运行时是首先编译为字节码的。\r", "有没有转换为字节码再分发到服务器上的方式？", "记得鸟哥说 PHP 运行时是首先编译为字节码的。\r", "有没有转换为字节码再分发到服务器上的方式？", "有没有实现了的？ 不然……", "为什么要加密呢", "保护代码呗，如果被人拷走了咋办", "用 zend 最新版加密还是可以的，就算以后能还原个大概，完美还原还是很难的", "关键性代码可以做成 phar ，部署的时候根据机器硬件编码捆绑生成。对付一般客户够用了。", "dll", " 我试过最新的 zend 加密，混淆。还原率达到 99%。别人是手动破解的", " 不是部署到服务器上吗，都能拷走了，服务器都被爆了吧。。", "搜索 php7 ，可以编译 ，类似的 编译结果。可以实现你要的。", " \r", "这个成本多少，我有些源码只想想还原个大概，只要软件还原就可以，有这样的方法推荐么", "我说的加密就是混淆啦"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>同一个 php 脚本， A 客户端和 B 客户端同时访问， php 脚本中的链接 mysql ，能不能共用一个 php 到 mysql 链接？</p>\n</div></div>"], "reply": "12", "tittle": "php 什么情况使用长连接，持久化链接", "comment": ["这个还真没搞过\r", "题主的意思是\r", "每次 mysql 连接费时间吗?", "mysql_pconnect 应该是你要找的方式？\r", "[mysql_pconnect]( ", ")", " 是呀，能不能有一个最优化方案，因为我的网站只对网友查看，也就是只有 select", " 那就缓存呀 来个静态化页面呗", "感觉没有必要，加缓存更省", "不能，每个请求占用一个 PHP 进程，但是实际情况中开 php-fpm 的情况下， PHP 进程可以在很短的时间内完成 a 的请求处理，但是不退出，清理数据之后，继续处理 b 的请求。但是只能保证一次请求内 MySQL 连接持久化，连接结束会自动销毁 MySQL 的连接在内的所有数据。\r", "\r", "这种业务是缓存改干的活，没必要死抓 MySQL 去优化，如果网页内容与用户状态无关，生成静态页也无妨。或者用个内存缓存数据库， memcached 、 Redis 之类的，把一次请求要返回的数据打包好存进去，下个同样的请求直接取出来渲染就好。", "never", "每个请求会连接一次数据库，感觉很浪费的样子。", " 本地或者内网连接，开销不大的\r", "否则，就说明用法有问题", "mysqli 好像有个 mysql_ping 函数,可以验证当前连接是否已经被放弃.如果放弃了就再创建一次连接,没有的话就仍然使用当前连接", "各有利弊吧\r", "mysql 每次请求，链接一次，肯定会增加开销；但是如果用 mysql_pconnect 长连接，如果前面一个阻塞了，后面的连接就......", " \r", "pconnect 是 mysql 最大的一个骗局……\r", "为啥 mysqli 都没有 pconnect 了……\r", "\r", "建议实测 mysql_pconnect"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>新人刚开始写 php 有点疑惑。<br>\n看视频上的老师都是这么写的</p>\n<div class=\"highlight\"><pre>class Demo{\n    function __constract(){\n        if(){\n\n        }else{\n\n        }\n    }\n}\n</pre></div>\n\n<p>可是我使用 IDE 到时候也就是 phpstorm 的时候就是如下的</p>\n<div class=\"highlight\"><pre>class Demo\n{\n    function __construct()\n    {\n        if()\n        {\n           echo \"test\";\n        }\n    }\n\n\n}\n</pre></div>\n\n<h1>所以那种方式是比较正规的？早点养成习惯= =。</h1>\n\n<h1>谢谢各位巨 V ！</h1>\n</div></div>", "<div class=\"topic_content\">不好意思！！我不知道这个会挑起战争。。。\r<br>\r<br>1 楼的答案已经看了，感谢!</div>"], "reply": "30", "tittle": "php 中{}括号的正确书写方法是跟方法名同一行还是下一行？", "comment": ["习惯来了\r", "不要纠结了，按照 1 楼说的 PSR 标准写，这个最广泛接受的标准。", "请按照 psr-2\r", "\r", "楼上的地址。\r", "\r", "PHPStorm 可以设置的，设置样式为 PSR-1,2 ，每次写完代码 format 一下代码就可以了。", "PHP PSR 顺便吧 check 加到 pre-commit 里", "第一种是以前显示器小且分辨率低，为了单页显示更多代码行数。\r", "\r", "第二种层次更条理，更容易发现缺的花括号，虽然 IDE 会自动匹配纠错，但有时缺了它会匹配错，第二种写法就一目了然了。\r", "\r", "个人认为第二种更好，可读性占优，现在笔记本分辨率也很高了，何况编程都喜欢用大显示器，总体上看利大于弊。", "以后还想写 go 的用第一种.", "一直用 2 的方法写", " psr 标准是第二种，既然是写 PHP 就按照第二种吧。。", "你们又要挑起战争吗！", "按 PSR 系列标准就好", "我是下一行拥护者", " \r", " \r", "PSR 并不是第二种。 PSR 中换行 { 只有类跟方法", "反正我一直是把花括号写下一行的。。", "我是第一种的脑残粉", "豆腐脑甜的还是咸的。。\r", "世界上最好的语言是？", "异类，烧死你们这群！\r", "其实看公司规范啊，个人就按自己的习惯。", "按 1 楼。。不过我习惯第一种了", "人生苦短，我用 Python", "之前习惯例二，写过 JavaScript 后变成例一了。", "按 PSR 规范貌似要求下一行\r", "\r", "但是我烦死新建一行了……都是同行", "第二种不是 PSR 啊。。 if 是不换行的。。", "更进一步的话可以看看 ", "老师已经老啦", "按自己的习惯写，提交前按团队要求格式化", "个人觉得，第一种完全就是反人类的，这层次看都看不懂了，第 2 种就很好，很容易看清楚", "写 c,c++,c#的时候喜欢换行写，后来改行 java ，不换行写，后来又换了 php ，一半换一半不换，纠结死，后来想怎么写就怎么写，保存的时候用插件格式化一下就好", "我也喜欢第一种，看来要改了", "我要是没记错的话 sublime 是括号和方法在一行，我个人习惯也是这样的", "一直用第一种", "按 psr2 ，保存时直接用工具格式化"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如果要设置成只有 10 个进程来处理$urls 数组，应该怎么做？</p>\n\n<p>&lt;?php<br>\n    header(\"Content-Type: text/html;charset=utf-8\");</p>\n<div class=\"highlight\"><pre>class DuoXianCheng extends Thread {\n  public function __construct($arg){\n    $this-&gt;arg = $arg;\n  }\n\n  public function run(){\n    if($this-&gt;arg){\n      // echo $this-&gt;result = $this-&gt;arg;\n        $this-&gt;result = model_http_curl_get($this-&gt;arg);\n    }\n  }\n}\n\n$thread = new DuoXianCheng(\"World\");\nif($thread-&gt;start()){\n    $thread-&gt;join();\n}\n\n\nfunction model_http_curl_get($url) {\n      $curl = curl_init();  \n      curl_setopt($curl, CURLOPT_URL, $url);  \n      curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);  \n      curl_setopt($curl, CURLOPT_TIMEOUT, 5);  \n      curl_setopt($curl, CURLOPT_USERAGENT, 'Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.2)');  \n      $result = curl_exec($curl);\n</pre></div>\n</div></div>"], "reply": "7", "tittle": "求助， php 使用 Pthread 进行多进程的问题？", "comment": ["有 curl multi", "陈述句用问号、进程线程都搞不清的 PHP 选手", " 呵呵", "Thread 类是线程，不是进程。\r", "创建十个 DuoXianCheng 的对象：\r", "for ($i = 0 ; $i <=9 ; $i++) {\r", "$obj[$i] = new DuoXianCheng(\"World\");\r", "$obj[$i]->start();\r", "}\r", "\r", "嗯  谢谢大家", " 我觉得 @", " 说的蛮对的。。。结果你这态度。。。呵呵哒", " 逗逼，你啥意思"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>分享就不转原文了，见链接<br>\n( <a target=\"_blank\" rel=\"nofollow\" href=\"http://toknot.com/blog/php-thread/\">http://toknot.com/blog/php-thread/</a>)</p>\n\n<p>主要实现了一个线程池管理类和一个配套的线程类</p>\n\n<p>特点：</p>\n\n<ol>\n<li>线程间数据共享全部使用字符串，所以不支持资源的共享，另外需要说明的是 pthreads 扩展不支持持久化连接<br></li>\n<li>简化了创建线程的方法<br></li>\n<li>仅供参考</li>\n</ol>\n\n<p>最后， pthreads 作者很不错，问题反馈很及时，所以这个扩展的支持还是有保证的</p>\n</div></div>"], "reply": "5", "tittle": "最近用 PHP 线程写爬虫，感觉 pthreads 还不错，分享一下自己封装的一个简单线程类", "comment": ["赞", "不错,想学习这方面,不过网址打不开,是错误还是被墙了", " 网站是在 github pages ，你能访问 github 就应该能访问", "不错，先码", "Page Not Found OR Not Build\r", "？？？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>把 laravist 的核心视频加社区抽离而成的 Castsplus CMS ，为互联网教育践行者服务</p>\n\n<p>链接地址： <a target=\"_blank\" rel=\"nofollow\" href=\"https://laravist.com/castsplus\">https://laravist.com/castsplus</a></p>\n\n<p><img src=\"https://dn-laravist.qbox.me/CastsPlus%20%E8%A7%86%E9%A2%91%E9%97%AE%E7%AD%94%20CMS.png\" alt=\"\"></p>\n</div></div>"], "reply": "17", "tittle": "CastsPlus 正式发布，专注于视频+社区的 CMS", "comment": ["授权有点贵。", "越来越会玩儿了", "这个授权价格可以找非北上广程序员二次开发开源系统了", " 的确是贵了", "想法不错，自己的站刚好可以当 demo", "直接授权\r", "￥ 20000\r", "\r", "吓尿", "会玩", "自己写一套觉得不错 就是麻烦点", "价格不错", "这个授权价格可以找非北上广程序员二次开发开源系统了+1", "授权价格有点夸张", "://www.edusoho.com/ 这个开源好像很强大呢。", "他山之石", "不错，收藏了", "手机上看“查看演示”被挤掉了。", "现在还有这个价位的程序么？除了完全全新开发.... 建议学习下别的教育程序，最贵的也不过几百美刀，几百都是一个月几十这样按月付的。还提供 Hosting", "这个授权价格可以找非北上广程序员二次开发开源系统了+3"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>现有一段 shell</p>\n\n<h1>!/bin/bash</h1>\n\n<p>mobile=/var/www/html/mobile<br>\ndesk=/var/www/html/sbg<br>\nif [ \"$1\" = \"m\" ] ; then<br>\n        cd $mobile<br>\n        pwd<br>\nelif [ \"$1\" = \"d\" ] ; then<br>\n        cd $desk<br>\n        pwd<br>\nelse<br>\n        echo \"action is empty\"<br>\n        exit 0<br>\nfi<br>\ngit pull origin <br>\necho \"success\"</p>\n\n<p>使用 php exec system shell_exec 调用 shell 但是 只能得到 success ， git pull origin 没能执行。请问这是什么原因</p>\n</div></div>"], "reply": "6", "tittle": "php 调用 shell 不成功", "comment": ["目錄的權限?", "-。- \r", "你能 git pull origin master 么？", "我补充一下，你这个其实可以做日志记录的。\r", "就是 git 哪一行这样：\r", "git pull origin master > /logs/pull.log\r", "\r", "之后记得创建 logs 文件夹，并且保持该 bash 脚本和该目录的权限、所有者一致。", "php 禁用函数里看看有没有禁止什么？", " \r", " \r", " \r", " \r", "全部改为 777 就好了。", "chmod +x 文件名\r", "完事"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>7 和 5.6<br>\n急等。。。</p>\n</div></div>"], "reply": "14", "tittle": "求助 V 友， debian php 多版本共存", "comment": ["docker", "编译到不同 prefix ，监听不同的端口或 Unix Socket 不就行了吗……", " 哪需要这么复杂，不是还有 chroot 吗？", "32 位的系统 而且 docker 没接触过 \r", " chroot 怎么实现？？", "最简单的还是 docker", "github 搜 phpbrew\r", "装好以后开俩，监听不同端口或 unix socket 。", " 我还是建议你编译到不同的目录。", " 我突然意识到楼主没说他用什么方式运行 PHP ，太泛了，这个问题真不好回答。", " 编译到不同目录+1", " nginx", "简简单单的编译到不同目录就行啦", " 其实是 docker 比较简单……", "一楼正解", "./configure --prefix=/usr/local/php5   .....................\r", "./configure --prefix=/usr/local/php7   .....................\r", "\r", "/etc/init.d/php5-fpm\r", "/etc/init.d/php7-fpm"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>CodeIgniter-learn-forum</h1>\n\n<p>利用 PHP 语言， CodeIgniter 框架， MySQL 数据库搭建简单的 Forum ，仅供学习之用。<br>\n演示地址：<a target=\"_blank\" rel=\"nofollow\" href=\"http://codeigniter.luckybird.me/\">Demo</a></p>\n\n<p><strong>功能简介</strong></p>\n\n<ol>\n<li>用户注册，修改资料，包括头像显示</li>\n<li>添加分类，发表帖子，以及回复评论</li>\n<li>Markdown 编辑，图片上传和预览效果</li>\n</ol>\n\n<p><strong>安装方法</strong></p>\n\n<p>获取代码</p>\n\n<blockquote>\n<p>git clone <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/luckybirdme/CodeIgniter-learn-forum.git\">https://github.com/luckybirdme/CodeIgniter-learn-forum.git</a></p>\n</blockquote>\n\n<p>安装数据库</p>\n\n<blockquote>\n<p>mysql -uroot -p<br>\nsource codeigniter.sql</p>\n</blockquote>\n\n<p><strong>文件配置</strong></p>\n\n<p>修改 application/config/database.php</p>\n\n<p>$db['default'] = array(<br>\n .................<br>\n // 根据自己环境修改<br>\n 'hostname' =&gt; 'localhost',<br>\n 'username' =&gt; 'root',<br>\n 'password' =&gt; '123456',<br>\n 'database' =&gt; 'codeigniter',<br>\n 'dbdriver' =&gt; 'mysqli',<br>\n ............<br>\n);</p>\n\n<p>修改 application/config/config.php</p>\n\n<p>...........<br>\n// 根据自己环境修改<br>\n$config['base_url'] = '<a target=\"_blank\" rel=\"nofollow\" href=\"http://localhost.CodeIgniter\">http://localhost.CodeIgniter</a>';<br>\n$config['static_url'] = '<a target=\"_blank\" rel=\"nofollow\" href=\"http://localhost.CodeIgniter/public/static\">http://localhost.CodeIgniter/public/static</a>';<br>\n$config['upload_path'] = FCPATH;<br>\n$config['image_url'] = '<a target=\"_blank\" rel=\"nofollow\" href=\"http://localhost.CodeIgniter\">http://localhost.CodeIgniter</a>';<br>\n............</p>\n\n<p><strong>相关链接</strong></p>\n\n<p>GitHub 地址：<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/luckybirdme/CodeIgniter-learn-forum\">CodeIgniter-learn-forum</a></p>\n\n<p>博客地址 : <a target=\"_blank\" rel=\"nofollow\" href=\"http://www.luckybird.me\">LuckyBird</a></p>\n\n<p><strong>备注</strong><br>\n如果本项目对你有帮助，不妨点个赞呗！</p>\n</div></div>"], "reply": "15", "tittle": "利用 PHP 语言， CodeIgniter 框架， MySQL 数据库搭建简单的 Forum", "comment": ["账号密码是啥...", "喜欢这种简约风格～", "楼主的博客也是用基于这套东西的么？", "密集恐惧症表示你的博客太难看了", " \r", "博客用开 Wordpress ，就一直没换了", " \r", "额，平时作笔记用，没怎么优化界面了，后期改善下", " \r", "你可以自己注册个账号", " \r", "谢谢", "挺喜欢的 我可以拿来自己用吗", " \r", "可以啊", " 博主的这套博客主题为倒是很喜欢。", "请问楼主，前端上主要是自己写的，还是主要依赖 bootstrap 的？", " \r", "主要依赖 bootstrap ，再按需修改", "谢谢", "  ， 各种报错，参数我觉得应该要过滤一下。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h2>laravel5-learn-blog</h2>\n\n<p>最近学习 laravel 框架，以此搭建了简单的博客，分享出来供学习之用！<br>\n演示地址：<a target=\"_blank\" rel=\"nofollow\" href=\"http://laravel.luckybird.me\">Demo</a></p>\n\n<p><strong>功能介绍</strong></p>\n\n<ul>\n<li>用户注册、登录、忘记密码，支持多用户；</li>\n<li>用户创建文章、分类、标签，以及评论文章</li>\n</ul>\n\n<p><strong>前端使用组件</strong></p>\n\n<ol>\n<li>使用 markdown 编辑器，实时预览，支持图片上传；</li>\n<li>使用 jquerytagit 标签，输入即可创建，包含自动搜索；</li>\n<li>全站使用 pjax 提交请求，局部刷新，提升加载速度；</li>\n</ol>\n\n<p><strong>后端使用类库</strong></p>\n\n<blockquote>\n<p>markdown to html 使用 <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/michelf/php-markdown\">michelf/php-markdown</a>；</p>\n\n<p>html to markdown 使用 <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/thephpleague/html-to-markdown\">league/html-to-markdown</a>；</p>\n\n<p>表单输入过滤使用 <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/mewebstudio/Purifier\">mews/purifier</a>；</p>\n\n<p>图片处理使用 <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/Intervention/image\">intervention/image</a>；</p>\n\n<p>pjax 请求响应使用 <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/JacobBennett/pjax\">jacobbennett/pjax</a>；</p>\n</blockquote>\n\n<h2>安装方法</h2>\n\n<p><strong>下载源码</strong></p>\n\n<p>git clone <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/luckybirdme/laravel5-learn-blog.git\">https://github.com/luckybirdme/laravel5-learn-blog.git</a></p>\n\n<p><strong>加载类库</strong></p>\n\n<p>composer install</p>\n\n<p><strong>新建数据库表</strong></p>\n\n<p>php artisan migrate</p>\n\n<p><strong>修改配置文件(.env)</strong></p>\n\n<p>DB_HOST=localhost<br>\nDB_DATABASE=laravel<br>\nDB_USERNAME=mysql<br>\nDB_PASSWORD=123456</p>\n\n<h2>源码地址</h2>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/luckybirdme/laravel5-learn-blog\">https://github.com/luckybirdme/laravel5-learn-blog</a></p>\n\n<h2>备注</h2>\n\n<ul>\n<li>如果对本项目有疑问，可查看我的学习记录，博客地址：<a target=\"_blank\" rel=\"nofollow\" href=\"http://www.luckybird.me\">luckybird</a></li>\n<li>如果本项目对你有帮助，不妨点个赞吧！</li>\n</ul>\n</div></div>"], "reply": "5", "tittle": "基于 Laravel 框架的简单博客", "comment": ["看上去不去，折腾起来看看", "难道说后面还有 lumen 版？", "程序有问题啊 已经被 getshell 了", " \r", "谢谢提出，是在上传图片被 getshell 吧，现在已经修复了", "。。。果然名符其实：简单的博客，可真简单！"]},
{"content": ["<div class=\"topic_content\">该怎么设置权重...\r<br>用户发文章,防止用户发文章刷屏,控制在展示页面上每页最多只会出现该用户发的两篇文章...\r<br>不限制用户发文章数目..</div>"], "reply": "6", "tittle": "能不能给个思路 大伙", "comment": ["什么需求！！！不好好做垃圾内容过滤，弄个这需求！！\r", "直接给文章加审核状态，默认发布未审核，通过自动或者人工过滤之后再展示不行吗？\r", "\r", "要是沿着你的思路走，之后分页怎么办？", "这个需求确实奇怪，比如用户刷了两天，那么第一页用户 A 只显示两篇，第二页呢？还显示用户 A 发布的文章吗。\r", "如果每一页同一个用户的文章都最多显示两条，那么文章列表的时间序就是乱的，可能用户连发十篇，第五页才能把用户 A 最早发布的显示出来？\r", "\r", "先把需求理清楚吧。\r", "如果非要做这个需求，只是单纯的限制显示频率，不能考虑在一条 SQL 语句里面取出来，考虑一下按用户分别取。很多社区按 tag 抽取文章的模型都可以加这样的限制。\r", "或者做其它 spam 策略，比如设置一个发布时间 spam 参数，发布时间扣去这个 spam 参数，比如连发 10 条，从第三条开始，十分钟内每发一条就触发 spam ，每次累加时间参数 60 分钟，之后在写入文章表的时候，发布时间减去这个 spam 时间，当他连续发布十条之后，第十篇文章的发布时间就是七小时之前。\r", "\r", "个人觉得做好这种内容审查策略，在文章发布的时候就确定排序比较好，否则在读取列表的时候做排序计算会浪费比较多的时间，毕竟大部分文章类型的产品业务，读取的频率还是大于写入频率很多的。", "一般正常的用户不会发那么多刷屏吧……\r", "最简单方法让用户（或者审核）输入个数字，数字最大的两个的列出来就可以……基本上由用户决定出现那两篇……", "分两种情况, 一种是优秀文章的展示, 这个需要人工审核, 不存在被刷屏的可能, 一种是随机展示, 这种情况每个用户一两篇足够了, 再加上顶, 踩, 举报三个功能, 让读者来帮助过滤垃圾信息", "人工惩罚", "根据用户发帖的访问量 回帖量 和发帖数进行计算。然后给每一个帖子加权重字段可行吧"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>php7.0 来了，主流的 php 框架是否会进行一次洗牌？</p>\n\n<p>目前大家都在用哪些 php 框架呢？大家为什么选择这个框架、有什么优缺点吗？</p>\n\n<p>请大家随意畅谈自己在使用 php 框架中的一些经验，谢谢！</p>\n\n<p>纯技术讨论帖，严禁水军！！！</p>\n</div></div>"], "reply": "44", "tittle": "php7.0 来了！大家谈谈主流 php 框架的使用感受吧！", "comment": ["我在小项目里面用 slim, 没试过 php7 ，目测会挂。", "没学过 PHP...不知道 PHP7 入门怎么样😂", "PHP 7.0 ，不向后兼容的变更： ", "\r", "PHP 7.0 ，新特性： ", "\r", "移除的拓展： ereg 、 mssql 、 mysql 、 sybase_ct\r", "移除的外部通讯接口： aolserver 、 apache 、 apache_hooks 、 apache2filter 、 caudium 、 continuity 、 ISAPI 、 milter 、 NSAPI 、 phttpd 、 pi3web 、 roxen 、 thttpd 、 tux 、 webjames\r", "其他特性参考官方网站说明。", "我自己的一个项目+框架升级 PHP 7.0 毫无压力，只是 Memcached 扩展还没准备好，需要从源代码编译好安装。\r", "\r", "如果要做升级的话，仔细看看不兼容的部分，以免有坑：\r", "\r", "\r", "如果是用的第三方框架，最好等对方升级好框架之后再开始评估。", " Slim3 作者说他就是在 PHP7 里面开发的\r", "\r", "反正我自己的项目都感觉升级挺无痛的", "移除那么些扩展是什么意思？不让人用了？", " 是么。。。最近开了个新项目，从 slim 3.0.0RC2 开始用，发现好几个以前的框架糖果没了…完全当成新框架用了……不过感觉跟 node.js express 啊， python bottle 那些越来越像了。", " 没人用吧", " 没了$resp->redirect()  $resp->halt 感觉好痛", " 不是，还是可以用，需要自行编译。那些扩展也有安全风险", "TP 框架，我以前一直觉得 TP 是垃圾框架，然后工作后，天天用他，而且为了兼容老项目，还在使用 Tp2.1 ，随着使用的时间，我逐渐的感觉到，原来是真垃圾啊啊啊啊啊啊", " 以为会反转。。", "坐等 laravel 框架更新", "大点的项目 phalcon ，小点的 ci ，看了楼上对 tp 的说法，暗自庆幸当年没跳 tp 的坑，本来当初准备学 laravel 的，但安装 laravel 就把我卡住了，各种工具套装一起上，感觉挺麻烦的", "看来用 slim 的挺多啊，我也正在用 slim3 做开发", "去年的话我会推荐 slim ，但现在情况发生了变化，与 php7 发布无关的变化\r", "\r", "我坚信未来一定是 PSR-7 的。参照 node 的话， PSR-7 约等于 node 自带的 request/response 接口，现在它的具体实现以及 connect/express 库虚位以待就等社区自己生长了\r", "\r", "slim3 是 psr-7 的，但还差一点味道，不够模块化\r", "zend-diactoros+zend-stratigility 颇具具体实现 & connect 的风范，但完全照搬 connect 结果如何有待观察\r", "\r", "至于能像 express 那样高完成度的，兼顾扩展性、模块化和快速上手的，目前还没看到\r", "\r", "顺便，我觉得以后两种不同的 phper 一定会越来越明显： php5.2er VS modern phper", " 同感，而且告诉作者这个有 BUG ，作者说很久没更新 忘记了。一个人的框架。", "yii2 路过\r", "表示目前 php7 跑 yii2 没啥问题~", " \r", "》顺便，我觉得以后两种不同的 phper 一定会越来越明显： php5.2er VS modern phper\r", "这句话，有点意思。。。我也相信了。。。", "没有人用 Yaf 吗？鸟哥会全力支持吧。", " \r", "\r", "> 我坚信未来一定是 PSR-7 的\r", "\r", "好奇为什么。仅仅只是封装下接口而已，没那么革命性吧？除非有朝一日用 PHP 就可以编写能在生产环境用的 HTTP Server ，但是就目前而言貌还有一堆问题需要解决。", "windows 下的 binary 有问题，加载不进来 mb_string 扩展， PDO 扩展", "借楼问一下大家使用 slim 写 rest api 时，用哪种方式来验证请求的合法性？\r", " \r", " \r", " \r", " 去年推荐 slim ，现在你推荐啥？刚看了一下 slim 感觉比 laravel 清新好多，各个参数表示非常直白，一眼就看出什么意思。", "PSR 模仿 JSR 定制一系列通用规范，包括最基本的格式化， LOG ， Class AutoLoad ，到最新的 MiddleWare 可交换等，为未来 PHP 开发可交换组件提供基础。 Symfony 对 PSR 影响深远，目前很多框架，产品，组件都是基于 Symfony 核心（即使不使用 Symfony 整个框架）， laravel ， Drupal 都是使用  Symfony Kernel 。\r", "\r", "Symfony 是真正推动 PHP 工业化进程的框架。\r", "\r", "ZF 3 也声明完全支持 PSR 7 ，目前放出的 expressive 中很多组件支持最新 PSR ， 也是可以使用第三代替，给开发人员更多选择，而不像 ZF2 那样一窝粥全包了。", " Phalcon 真神器也！就是用的人感觉太少。 Zend Framework 2 除了和 ORM 还有 Template Engine 的集成不太方便没啥黑点，也是没人用。", "Symfony 用了 5~6 年了，从 1 用到 2 ，应该还会继续用下去。", "Yii2 兼容 php7\r", "速度提升很大\r", " 深有同感。 Yii2 提前兼容了。", " 那要看你的 api 在哪里使用吧，配合 web 使用的，就验证 session ；独立使用的，就参考 twitter 、 oauth 、微信、微博等，无非都是授权限制时间的 access token ； 只是需要类似 rpc 那样简单调用的，每次调用都加密钥就好了。", "我用 TP ，现在稳定版是 3.2.3 ，前几天放出 5.0 beta 版了。我觉得是最好用 PHP 框架。", "用过 Yii 1+ 和 Laravel 5.1 。\r", "Laravel 没有生成 CRUD 代码框架的工具，唯一遗憾，其它都好用。", " \r", "\r", "promise 也就是个异步的接口而已，但大家都遵守， promise 就能成为事实标准。 express/connect 中间件也就是个中间件的接口而已，但大家都遵守， express 就能成为事实标准。\r", "\r", "PSR7 也有同样的潜力，让所有的框架，组件，中间件都遵守同一种接口，当然革命性\r", "\r", " \r", "\r", "不怕笑话，我还从来没写过 rest 接口，主要是觉得驾驭不了 rest 原则，不如直接用最朴素的 jsonrpc\r", "\r", " \r", "\r", "看菜下饭吧， PSR7 需要一点时间让社区慢慢接受，现在还没形成规模效应之前，还是该干啥干啥。 slim3 也是个不错的选择。 之前写的挑选框架的个人方法 => ", "只用过 lumen ，感觉 artisan 要自己完善下才好用，其他都还好。", "YAF", "没有人用 CI 么？", "先打断一下吧，楼上一堆人网站每天几个 ip ，就大谈，哎呀 tp 垃圾臃肿，国产没逼格， phalcon 和 yaf 才是性能彪悍之王， Laravel 啊，艺术家的杰作啊！ ZF 啊，垃圾中的轰炸机！各位如果网站如果没有达到六位数的 daily ip 之前， php7 还是 PHP6 还是 5 还是 4 跟你一点关系都没有，用 tp zf 还是用电话 01 键写代码跟你也一点都没有， PHP7 抛不抛弃 MySQLli 跟你也一点关系都没有，老老实实用 txt 做数据库吧，够你们的日 ip 了，不多说了，我要去给别人解释为什么玛莎拉蒂比兰博基尼好了，掰掰", " @", "  感谢", " 再用，自己写一些小东西（当时想在 CI 和 TP 两个中间选一个，好多人喷 TP 。。。", "slim 很小，开箱即用，文档一天就能看完，只是好像没有完整的 MVC 结构？一般只是用来做 restful 接口开发吧？", "PHP 框架里的带头大哥 Symfony ，最近发布了 3.0 ，用不用不说，但一定得看。", " 说得好，日 IP 没有六位数就不要当一个现代人了，干脆滚回去茹毛饮血的时代吧，这个站根本不能入您法眼", " php 7.0.2 Memcached 编译通过 ", "为什么都说用 slim3 得人比较多啊？难道这里用 lumen 的人很少嘛？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>没有做过什么大型的出名的项目， 想学习去公司应聘 不知道有没有公司招聘呢？</p>\n\n<p>自己自学的一些基础， 然后自己学习 laravel TP 没有具体拿出来的项目，主要是想去公司学习提升自己的技术水平， 希望能给 给机会</p>\n\n<p>如果可以话， 可以不要工资，  学习技术</p>\n</div></div>"], "reply": "11", "tittle": "自学的 PHP 基础 ，有没有公司招聘，上海的公司，经验不多， 去公司学习", "comment": ["先做个东西出来，就跟找投资一样，先要有东西出来，哪怕一个页面，没东西出来没用", "技术是可以自己", "技术是可以自己积累的，不能光看书，要实战，自己独立做几个小项目", "是的，就是自己做着就行，记住， phper 的工资是 11K", " 拍黄片都这么高了?那我不写够浪回去接着拍黄片了..", "   11k 啥？ PHPER 11K 这么高， 我可以 低点工资，我学习技术", "100offer 的报告不是说 phper 的平均工资是两万多么 233\r", "\r", "最近几个月感觉行情不太好吧，看楼主的姿态不像是能一出来就拿 11k 的样子，我感觉 8k 起头看能拿多少吧", "有兴趣发个简历我， ", "先写出一个东西吧，起码写个内容管理系统啊", "   写哪些方面的东西 案例出来呢？没有一个具体的案例产品 ，没有什么方向 写东西出来", " 小项目没有什么方向， 不知道做什么小项目，来给用户展示"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>一个个去看日志文件或等用户来说有 bug 了,我想都不是很好的解决方案。<br>\n有试过自定义个错误处理程序发送到邮箱,后来看到有 Bugsnag 就想着可以不重复造轮子了,</p>\n\n<p>问题是微信接口要求 5S 内做出相应,Bugsnag 是国外的,对于大陆服务器时间延迟比较厉害</p>\n\n<p>有用过 oneapm,不理想,而且还要安装,Bugsnag 直接 composer 就可以.</p>\n\n<p>问下有 Bugsnag 类似的平台吗?</p>\n</div></div>", "<div class=\"topic_content\">1. bugsnag <a target=\"_blank\" href=\"https://bugsnag.com/docs/notifiers/php\" rel=\"nofollow\">https://bugsnag.com/docs/notifiers/php</a>\r<br>2. getsentry @<a target=\"_blank\" href=\"/member/yongzhong\">yongzhong</a> <a target=\"_blank\" href=\"https://getsentry.com/for/php/\" rel=\"nofollow\">https://getsentry.com/for/php/</a></div>"], "reply": "12", "tittle": "国内有没有类似 Bugsnag 的 bug 监控平台?", "comment": ["bugtags 能自动将 crash 日志生成一条 bug 记录。不知道能否满足你", " \r", "这个貌似不行,是用于 PHP 的", "应用日志不够吗", "你用一个流式处理组件自己监控然后发邮件呗… logstash ， heka ， storm 之类的都可以。", "不知 sentry 能否满足你的需求", "oneapm ai 产品的错误信息功能好像对应这个需求，不过不太清楚你指不理想是哪方面", " 日志易真心很弱诶。 elk 汉化汉化，就是日志易。。", " 我说的不是那个日志易，就是程序日志", " \r", "之前安装过一次把我的 ioncube 玩坏了", " \r", "已收藏,就是要的这种效果", "你可以试试 bugtags ，也许有用", " 这样，我是 OneAPM 的员工。和我们的探针工程师沟通了一下， php 探针理论上不会跟 ioncube 冲突，如果你以后对我们的产品有需求的话，可以把 log 发过来我们分析下冲突的原因。嗯，祝你 sentry 玩得开心～"]},
{"content": ["<div class=\"topic_content\">最近经常在 GITHUB 找开源库，懒得自己写了。然后我发现基本都需要依赖 composer 来加载的。\r<br>不然我的项目是无法加载他们的库了。不知不觉自己也和社会脱节了...\r<br>composer一直没用，之前为了研究laravel源码就安装了一次，后面基本没怎么用了。感觉有点麻烦，而且没有以前写PHP那么自由，我直接加载，或者命名空间引入就行了。</div>"], "reply": "25", "tittle": "PHP 的项目现在支持 composer 是必须的吗？", "comment": ["人家只是提供了 composer 的支持，你可以不用的，自己手动加载就行了\r", "\r", "不过 composer 实在是太方便了，所以才会普及的很快", " 刚才尝试修改一个库。结果他的命名空间 太多 USE 了，改得我手软，最后放弃修改了。自己写一个好了。就是异常把控一般般。", " 命名空间这个和 composer 没什么关系吧，你是说他引用了很多其他的库？", "不是必须。那些依赖的库，你也可以自己去实现 autoload （不然很远可能就得改别人的代码了），并且去把那些库的依赖也都下下来并引入。\r", "\r", "换言之，只要你把 composer 的部分功能再自己实现一遍就行。。。\r", "\r", "然而这不是蛋疼么", " 目测 LZ 不会 autoload ？所以在拼命+include/require ？。。。。。。", " 那确实脱节太多了，需要刷新一下知识了", "不是强制，项目不断更新的话，有它来管理组件会比较好。", "只是 php 一种下载库文件的比较方便的方式 帮你解决掉各种依赖 当然也也可以手动下载引入 不过依赖没彻底解决的话就有可能会找不到类\r", "\r", "不过好像没有 npm gem 那么「必须」吧", " 我自己写了基于命名空间目录加载的方式，直接引用那些不是基于目录命名空间的，会报错。", " 嗯。目前遇到就是这个情况了。\r", " 我也觉得脱节了。", "感觉用 composer 才更自由，想搭积木一样，选择自己喜欢的包安装，十分方便~\r", "建议楼主用 composer", "maven 或者 gradle", "都 2016 年了别问这种问题成么……", " 你不喜欢你可以不回答，为了凸现自己牛逼？要不拿拿你的成就？", " 之前看过用 composer 搭建框架的文章，确认很轻松。之前自己写框架，路由，控制器，模型，视图都自己弄。累的要命。", "依赖少的话可以自己写 autoload ，依赖多的话还是用 composer 吧，学一学也不难，很简单的，而且已经是现在的趋势了。", "composer 真的很方便，代码写多了才发现有一个规范的东西很重要。利用 composer 可以很方便的协作开发和部署以及 CI", "composer 让开发者生活如此美好。反正我已经离不开，而且这也是 PHP 社区的标配趋势了吧", " 看的什么文章，分享下，谢谢", " 我只记得内容是说 用 composer 通过加载不同的组件搭建一个框架。好像文章标题是 conposer 搭建框架  。你试下谷歌搜索。应该可以找到的。", "在中国使用 Composer\r", "其实 __autoload() 也没什么大不了的，反正也可以自己写。\r", "\r", "用 Composer 也不一定要用__autoload()嘛，你可以手动 require 所需的包，把路径写对就行，比如`require(\"src/models/SomeClass.php\");`。（但是不用__autoload()的都是异端，该烧。）\r", "\r", "Composer 最大好处就是帮忙自动依赖的包，你发布的时候不用带着一大堆依赖包，别人用的时候也不用到处去找了，直接一个命令", "用 Composer 是一种趋势吧，毕竟把 autoload 的之类的自动处理了，不用你再操心。\r", "\r", "但当然不是必须的，对于 autoload ，一些库是有额外支持的，比如 Facebook 的 SDK ，是自带 autoload.php 的。", "是标配而已，现代化的框架还有哪个没用 composer 的？\r", "刚开始接触我也觉得麻烦，结果越用越安逸。。。", " 在国内使用 composer 确实好蛋疼，不过现在大多时候可以使用 ", " 这个镜像。最近这个镜像还算比较稳定。\r", "\r", "顺便，安利个小工具用来安装离线包的： "]},
{"content": "", "reply": "7", "tittle": "学习 swoole 有哪些资源，请大神支招", "comment": ["Nothing better than ", "除了 ", " 和楼上的英文文档外， swoole 官方群尤其是 rango 本人也是可以利用的资源，然后是 github 上的代码 demo ，我主要通过这三块，别的暂时没想到。", "讲思路的文章很多嘛，自己尝试搞个简易版，学的最快了。", "自己的一点点学习心得 ", " 入门教程一 /", " 搜狗输入法蛋疼。地址拼写错误。\r", "\r", " 入门教程一 /", " 好的先从官网开始看起", " Good"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>webpack+vuejs</p>\n\n<p>传送门 : <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/motecshine/FreeVpn\">github</a></p>\n</div></div>"], "reply": "6", "tittle": "一点点 laravel + VueJS 撸了个简单的页面", "comment": ["后端代码呢", "demo 呢", " npm run dev  demo 就有了", " 后端代码明天剥离出来吧", "羡慕不已，我感到自身学习处于瓶颈", " 有啥羡慕的 ，在家无业游民"]},
{"content": ["<div class=\"topic_content\">ci slim phalcon 这三个呢？</div>"], "reply": "18", "tittle": "已经支持 php7 的框架？？？", "comment": ["symfony?", "Laravel", "Yaf", "Vanilla", "php7 向下不兼容？", " 有些默认行为不同", "ThinkPHP V5.0 完美支持 PHP7 ", "CI3.0.4 已部署至 PHP7.0.2 ，目前毫无压力", "slim 是支持的", "phalcon 的话，官方回复供参考\r", "\r", "Support for php7 is on the works, only the parsers (PHQL, Volt, Annotations) need to be migrated to PHP7 extensions as these sections are purely C code. We hope to have a functional version soon.", " 兼容并不是“能用”吧。 PHP7 提供了好多的新的特性，应该都用上以后才算。", "laravel 毫无压力，一出来就支持了", " 都用上了就等于放弃了向后兼容性，得不偿失啊。", "yii 早就支持了", " `ThinkPHP5.0 版本是一个颠覆和重构版本`，看到颠覆就害怕，最后果然`由于 ThinkPHP5 设计之初并未考虑兼容旧版本升级`。。。。。。\r", "\r", "所以还提什么向后兼容。。。", "php7 是向下兼容的。 \r", "只是有些被摒弃的写法 修改下就好了。例如： mysql_connect 。本扩展自 PHP 5.5.0 起已废弃，并在将来会被移除。应使用 MySQLi 或 PDO_MySQL 扩展来替换之。\r", "所以只需要少量修改，都能支持 php7 的。", "已经有不少商业项目无缝转移到 php7 了 based on Yii 2.x", "分享一个 PHP 内核源码学习工具 @， "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Laravel 5.2 自带用户注册和登录认证和使用到的中间件：</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.tantengvip.com/2016/02/laravel-5-2-auth/\">http://www.tantengvip.com/2016/02/laravel-5-2-auth/</a></p>\n</div></div>"], "reply": "目前尚无回", "tittle": "Laravel 5.2 自带用户注册和登录认证", "comment": []},
{"content": ["<div class=\"topic_content\">比如说：\r<br>\r<br>alie                //是\r<br>aliex              //不是\r<br>\r<br>olai               //是\r<br>olain             //不是\r<br>\r<br>oupai            //是\r<br>onpai           //不是\r<br>\r<br>eiyuan         //是\r<br>eilo              //不是\r<br>\r<br>yolai            //是\r<br>yoei             //是\r<br>\r<br>当然我有单拼列表，问题是怎样筛选。不懂编程的人没思路更不懂下手，可以付费.......\r<br>单拼列表:\r<br>a\r<br>ai\r<br>an\r<br>ang\r<br>ao\r<br>ba\r<br>bai\r<br>ban\r<br>bang\r<br>bao\r<br>bei\r<br>ben\r<br>beng \r<br>bi \r<br>bian\r<br>biao\r<br>bie\r<br>bin\r<br>bing\r<br>bo\r<br>bu\r<br>ca\r<br>cai\r<br>can\r<br>cang\r<br>cao\r<br>ce\r<br>cen\r<br>ceng\r<br>cha\r<br>chai\r<br>chan\r<br>chang\r<br>chao\r<br>che\r<br>chen\r<br>cheng\r<br>chi\r<br>chong\r<br>chou\r<br>chu\r<br>chua\r<br>chuai\r<br>chuan\r<br>chuang\r<br>chui\r<br>chun\r<br>chuo\r<br>ci \r<br>cong\r<br>cou\r<br>cu \r<br>cuan\r<br>cui\r<br>cun\r<br>cuo\r<br>da \r<br>dai\r<br>dan \r<br>dang\r<br>dao \r<br>de \r<br>den\r<br>dei \r<br>deng\r<br>di \r<br>dia\r<br>dian\r<br>diao\r<br>die \r<br>ding\r<br>diu \r<br>dong\r<br>dou \r<br>du \r<br>duan\r<br>dui \r<br>dun \r<br>duo\r<br>e \r<br>ei\r<br>en \r<br>eng\r<br>er\r<br>fa \r<br>fan\r<br>fang\r<br>fei \r<br>fen \r<br>feng\r<br>fo \r<br>fou\r<br>fu\r<br>ga\r<br>gai \r<br>gan \r<br>gang \r<br>gao \r<br>ge \r<br>gei\r<br>gen\r<br>geng\r<br>gong\r<br>gou \r<br>gu \r<br>gua\r<br>guai\r<br>guan\r<br>guang\r<br>gui \r<br>gun\r<br>guo\r<br>ha \r<br>hai \r<br>han\r<br>hang\r<br>hao\r<br>he\r<br>hei\r<br>hen\r<br>heng\r<br>hong\r<br>hou\r<br>hu\r<br>hua\r<br>huai\r<br>huan\r<br>huang \r<br>hui \r<br>hun\r<br>huo\r<br>ji \r<br>jia \r<br>jian\r<br>jiang\r<br>jiao\r<br>jie\r<br>jin\r<br>jing\r<br>jiong\r<br>jiu\r<br>ju\r<br>juan\r<br>jue\r<br>jun\r<br>ka\r<br>kai\r<br>kan\r<br>kang\r<br>kao\r<br>ke\r<br>ken\r<br>keng\r<br>kong \r<br>kou \r<br>ku \r<br>kua\r<br>kuai\r<br>kuan\r<br>kuang\r<br>kui \r<br>kun\r<br>kuo\r<br>la \r<br>lai\r<br>lan\r<br>lang \r<br>lao \r<br>le \r<br>lei\r<br>leng\r<br>li \r<br>lia\r<br>lian \r<br>liang\r<br>liao \r<br>lie \r<br>lin\r<br>ling \r<br>liu\r<br>long \r<br>lou \r<br>lu \r<br>luan\r<br>lue \r<br>lun \r<br>luo\r<br>ma \r<br>mai\r<br>man\r<br>mang\r<br>mao\r<br>me\r<br>mei\r<br>men\r<br>meng\r<br>mi \r<br>mian\r<br>miao\r<br>mie \r<br>min\r<br>ming\r<br>miu\r<br>mo \r<br>mou\r<br>mu\r<br>na\r<br>nai\r<br>nan\r<br>nang\r<br>nao\r<br>ne\r<br>nei\r<br>nen \r<br>neng\r<br>ni \r<br>nian\r<br>niang \r<br>niao \r<br>nie \r<br>nin \r<br>ning \r<br>niu \r<br>nong\r<br>nou \r<br>nu \r<br>nuan\r<br>nuo\r<br>nun\r<br>o\r<br>ou\r<br>pa\r<br>pai\r<br>pan\r<br>pang\r<br>pao\r<br>pei\r<br>pen\r<br>peng\r<br>pi\r<br>pian\r<br>piao\r<br>pie\r<br>pin\r<br>ping\r<br>po \r<br>pou\r<br>pu\r<br>qi\r<br>qia\r<br>qian\r<br>qiang\r<br>qiao\r<br>qie\r<br>qin\r<br>qing\r<br>qiong\r<br>qiu\r<br>qu\r<br>quan\r<br>que\r<br>qun\r<br>ran\r<br>rang \r<br>rao\r<br>re\r<br>ren\r<br>reng\r<br>ri\r<br>rong\r<br>rou\r<br>ru \r<br>ruan \r<br>rui\r<br>run\r<br>ruo\r<br>sa\r<br>sai\r<br>san\r<br>sang\r<br>sao\r<br>se\r<br>sen\r<br>seng\r<br>sha \r<br>shai\r<br>shan\r<br>shang\r<br>shao\r<br>she\r<br>shei\r<br>shen\r<br>sheng \r<br>shi \r<br>shou\r<br>shu \r<br>shua\r<br>shuai\r<br>shuan\r<br>shuang\r<br>shui\r<br>shun\r<br>shuo\r<br>si\r<br>song \r<br>sou\r<br>su \r<br>suan\r<br>sui\r<br>sun\r<br>suo\r<br>ta\r<br>tai\r<br>tan\r<br>tang\r<br>tao\r<br>te \r<br>teng\r<br>ti \r<br>tian\r<br>tiao\r<br>tie\r<br>ting\r<br>tong\r<br>tou\r<br>tu \r<br>tuan\r<br>tui\r<br>tun\r<br>tuo\r<br>wa\r<br>wai\r<br>wan\r<br>wang\r<br>wei\r<br>wen\r<br>weng\r<br>wo\r<br>wu\r<br>xi \r<br>xia\r<br>xian\r<br>xiang\r<br>xiao\r<br>xie\r<br>xin\r<br>xing\r<br>xiong \r<br>xiu \r<br>xu\r<br>xuan\r<br>xue\r<br>xun\r<br>ya\r<br>yan\r<br>yang \r<br>yao\r<br>ye \r<br>yi\r<br>yin\r<br>ying\r<br>yo \r<br>yong\r<br>you\r<br>yu\r<br>yuan\r<br>yue\r<br>yun\r<br>za\r<br>zai\r<br>zan\r<br>zang\r<br>zao\r<br>ze\r<br>zei\r<br>zen\r<br>zeng\r<br>zha\r<br>zhai\r<br>zhan\r<br>zhang\r<br>zhao \r<br>zhe\r<br>zhei\r<br>zhen\r<br>zheng \r<br>zhi \r<br>zhong\r<br>zhou \r<br>zhu \r<br>zhua\r<br>zhuai\r<br>zhuan\r<br>zhuang\r<br>zhui \r<br>zhun\r<br>zhuo\r<br>zi \r<br>zong\r<br>zou\r<br>zu\r<br>zuan\r<br>zui \r<br>zun\r<br>zuo</div>"], "reply": "33", "tittle": "怎样判断字符串是否是双拼？", "comment": ["xian 是不是雙拼呢，應該有不少這種例子", " 是双拼的，当然也是单拼", "你是想用 PHP 实现这个功能吗？\r", "其实相当于用词典做中文分词，我讲一个简单思路。\r", "\r", "你先把所有的单拼分下类，按照长度分为 1 位、 2 位、 3 位、 4 位、 5 位、 6 位等几类。\r", "\r", "然后对于任意一个拼音字符串，举例 alie ，先看他的长度，是 4 位，看看是否是 4 位的单拼，如果不是，继续。\r", "取 alie 的第一个字符 a ，判断是否在 1 位单拼里，如果在的话，判断剩下的 3 位 lie 是否在 3 位单拼里，刚好在，所以是双拼。", "最简单的方法，所有双拼的总数是有限的", " 这个思路不错，但是如果判断几十万条记录是不是有个效率问题，\r", "我的意思是，每天 com 域名可能有上百万条删除记录，这样判断是不是效率有点低.", "比如输入这个“ yolai ”\r", "做一个函数，将其分割为如下形式\r", "\r", "# \"y\" \"olai\"\r", "# \"yo\" \"lai\"\r", "# \"yol\" \"ai\"\r", "# \"yola\" \"i\"\r", "\r", "然后再写一个函数判断他们是否在单拼列表中，如果存在一对都在单拼列表，则返回 true", "这个感觉和编绎原理很像", " 你一开始并没有说要高效率\r", "你要高效最简单的就是按照 4 楼说的，把 16 万个双拼域名全部事先生成出来，也按照长度和首字符分类，每来一个要判断的，先看长度，再看首字母，然后直接判断是否在列表中（可以 in_array 也可以 array_key_exists ）", "如果你追求極限速度，我覺得 crystom 的方法靠譜。\r", "```php\r", "function isShuangPing ($str) {\r", "    static $danPing = [ 'a', 'ai', 'an', 'ang', 'ao', ...... , 'zuo', ];\r", "    static $shuangPing = [];\r", "\r", "    // build dictionary\r", "    if (empty($shuangPing)) {\r", "        foreach ($danPing as &$first) {\r", "            foreach ($danPing as &$second) {\r", "                $shuangPing[\"{$first}{$second}\"] = 1;\r", "            }\r", "        }\r", "    }\r", "\r", "    return array_key_exists($str, $shuangPing);\r", "}\r", "```", " 哦我理解你的意思，就是把双拼组合做成一个数组，然后看要检验的字符串是否在数组中，在就是双拼，不再就不是。\r", "\r", "问题是双拼有 16 万多个啊，我想提高点效率", " 没有好的方法就用这个方法了，", "这个应该是一个很简单的动态规划吧", " oops 看成如何判断是否是拼音了", "这个问题有点意思, 不过双拼的数据也分一些双拼表, 比如我用的小鹤双拼, eilo 也属于双拼", " 16 万个这种字符串对计算机来说是小数字，现在内存充裕，全部放在内存中使用二分查找或者 trie 树速度非常快", " gimp 的意思应该是逐位把字符串分割成两段，如果两段内容都在单拼数组里的话，就是双拼。这个开销比 16 万的双拼数组要小。\r", "\r", "当然，还可以先判断下：\r", "1) 首尾字母是否满足需求。（首字母不是 iuv ，尾字母应该只能是 aeioung ）\r", "2) 长度是否满足两个双拼的长度要求。（>=2 ，<=12 ）\r", "不过判断这个可能反而增大开销。", "生成全部双拼存哈希表", "想了一下.假设输入的字符串长度为 n,如果预先穷举好所有的双拼组合 cache 起来,最快用 O(1)的时间就能找到,即一次查表就可以;如果是在 runtime 进行进算,一共有 n - 1 种可能的分割方法,每种分割方法查单拼表也是 O(1)时间,这样最坏情况下是 2(n-1)次查表,相当与复杂度是 O(n).不过由于最长的双拼也就是 6 * 2 = 12 个字符,所以不考虑查表速度的差异\\以及表的大小带来的 cache 的 miss rate 等等等各种因素,大概估算起来会慢 20 来倍.不知道有没有算对", "算法问题，有意思。有点像编译原理中的语法分析。\r", "我的思路是：\r", "一、找出固定出现后必定双拼的词组，如“ yolai ”中的“ ol ”，出现后断定为双拼。\r", "       这样的组合理论数量会<<（远小于）列出所有双拼的数量。\r", "\r", "二、如果不能保证“一、”中能过滤出所有双拼（或单拼）的话，\r", "       可以通过“再过滤”，\r", "       将可以预见的特殊字符放入内存，然后逐一对比...对比的方法较多，不一一列举了。\r", "\r", "我的方法缺点很明显：前期探索投入的工作量较大。\r", "但是能提高一定的效率，是否值得投入，得看你的任务要求了。", "你要考虑双拼有不同的键位\r", "比如我用的就是小鹤双拼，和搜狗双拼、微软等等键位都不一样。", "一看就知道楼主是想用来找域名。\r", "有的看起来不是双拼，但是那确实是，只是那些音用的极少。\r", " @", " 楼主的双拼是指双拼域名，也就是两个汉字的拼音组成的两（双）拼", "一个正则就能搞定的事情，楼上想太多\r", "\r", "^((a)|(ai)|(an)|(ang)|(ao)|(ba)|(bai)|(ban)|(bang)|(bao)|(bei)|(ben)|(beng)|(bi)|(bian)|(biao)|(bie)|(bin)|(bing)|(bo)|(bu)|(ca)|(cai)|(can)|(cang)|(cao)|(ce)|(cen)|(ceng)|(cha)|(chai)|(chan)|(chang)|(chao)|(che)|(chen)|(cheng)|(chi)|(chong)|(chou)|(chu)|(chua)|(chuai)|(chuan)|(chuang)|(chui)|(chun)|(chuo)|(ci)|(cong)|(cou)|(cu)|(cuan)|(cui)|(cun)|(cuo)|(da)|(dai)|(dan)|(dang)|(dao)|(de)|(den)|(dei)|(deng)|(di)|(dia)|(dian)|(diao)|(die)|(ding)|(diu)|(dong)|(dou)|(du)|(duan)|(dui)|(dun)|(duo)|(e)|(ei)|(en)|(eng)|(er)|(fa)|(fan)|(fang)|(fei)|(fen)|(feng)|(fo)|(fou)|(fu)|(ga)|(gai)|(gan)|(gang)|(gao)|(ge)|(gei)|(gen)|(geng)|(gong)|(gou)|(gu)|(gua)|(guai)|(guan)|(guang)|(gui)|(gun)|(guo)|(ha)|(hai)|(han)|(hang)|(hao)|(he)|(hei)|(hen)|(heng)|(hong)|(hou)|(hu)|(hua)|(huai)|(huan)|(huang)|(hui)|(hun)|(huo)|(ji)|(jia)|(jian)|(jiang)|(jiao)|(jie)|(jin)|(jing)|(jiong)|(jiu)|(ju)|(juan)|(jue)|(jun)|(ka)|(kai)|(kan)|(kang)|(kao)|(ke)|(ken)|(keng)|(kong)|(kou)|(ku)|(kua)|(kuai)|(kuan)|(kuang)|(kui)|(kun)|(kuo)|(la)|(lai)|(lan)|(lang)|(lao)|(le)|(lei)|(leng)|(li)|(lia)|(lian)|(liang)|(liao)|(lie)|(lin)|(ling)|(liu)|(long)|(lou)|(lu)|(luan)|(lue)|(lun)|(luo)|(ma)|(mai)|(man)|(mang)|(mao)|(me)|(mei)|(men)|(meng)|(mi)|(mian)|(miao)|(mie)|(min)|(ming)|(miu)|(mo)|(mou)|(mu)|(na)|(nai)|(nan)|(nang)|(nao)|(ne)|(nei)|(nen)|(neng)|(ni)|(nian)|(niang)|(niao)|(nie)|(nin)|(ning)|(niu)|(nong)|(nou)|(nu)|(nuan)|(nuo)|(nun)|(o)|(ou)|(pa)|(pai)|(pan)|(pang)|(pao)|(pei)|(pen)|(peng)|(pi)|(pian)|(piao)|(pie)|(pin)|(ping)|(po)|(pou)|(pu)|(qi)|(qia)|(qian)|(qiang)|(qiao)|(qie)|(qin)|(qing)|(qiong)|(qiu)|(qu)|(quan)|(que)|(qun)|(ran)|(rang)|(rao)|(re)|(ren)|(reng)|(ri)|(rong)|(rou)|(ru)|(ruan)|(rui)|(run)|(ruo)|(sa)|(sai)|(san)|(sang)|(sao)|(se)|(sen)|(seng)|(sha)|(shai)|(shan)|(shang)|(shao)|(she)|(shei)|(shen)|(sheng)|(shi)|(shou)|(shu)|(shua)|(shuai)|(shuan)|(shuang)|(shui)|(shun)|(shuo)|(si)|(song)|(sou)|(su)|(suan)|(sui)|(sun)|(suo)|(ta)|(tai)|(tan)|(tang)|(tao)|(te)|(teng)|(ti)|(tian)|(tiao)|(tie)|(ting)|(tong)|(tou)|(tu)|(tuan)|(tui)|(tun)|(tuo)|(wa)|(wai)|(wan)|(wang)|(wei)|(wen)|(weng)|(wo)|(wu)|(xi)|(xia)|(xian)|(xiang)|(xiao)|(xie)|(xin)|(xing)|(xiong)|(xiu)|(xu)|(xuan)|(xue)|(xun)|(ya)|(yan)|(yang)|(yao)|(ye)|(yi)|(yin)|(ying)|(yo)|(yong)|(you)|(yu)|(yuan)|(yue)|(yun)|(za)|(zai)|(zan)|(zang)|(zao)|(ze)|(zei)|(zen)|(zeng)|(zha)|(zhai)|(zhan)|(zhang)|(zhao)|(zhe)|(zhei)|(zhen)|(zheng)|(zhi)|(zhong)|(zhou)|(zhu)|(zhua)|(zhuai)|(zhuan)|(zhuang)|(zhui)|(zhun)|(zhuo)|(zi)|(zong)|(zou)|(zu)|(zuan)|(zui)|(zun)|(zuo)){2}$\r", "\r", "别看这么长，这东西并没有你想象的那么慢。\r", " ", "  \r", "（试验还不严格，有 random 的影响）", " 内什么，我只看得懂 PHP,js 都看不懂，悲剧", " 不用考虑什么键位，我是晒现双拼域名", "筛选", " 好吧...\r", "\r", "$pattern = \"^((a)|(ai)|(an)|(ang)|(ao)|(ba)|(bai)|(ban)|(bang)|(bao)|(bei)|(ben)|(beng)|(bi)|(bian)|(biao)|(bie)|(bin)|(bing)|(bo)|(bu)|(ca)|(cai)|(can)|(cang)|(cao)|(ce)|(cen)|(ceng)|(cha)|(chai)|(chan)|(chang)|(chao)|(che)|(chen)|(cheng)|(chi)|(chong)|(chou)|(chu)|(chua)|(chuai)|(chuan)|(chuang)|(chui)|(chun)|(chuo)|(ci)|(cong)|(cou)|(cu)|(cuan)|(cui)|(cun)|(cuo)|(da)|(dai)|(dan)|(dang)|(dao)|(de)|(den)|(dei)|(deng)|(di)|(dia)|(dian)|(diao)|(die)|(ding)|(diu)|(dong)|(dou)|(du)|(duan)|(dui)|(dun)|(duo)|(e)|(ei)|(en)|(eng)|(er)|(fa)|(fan)|(fang)|(fei)|(fen)|(feng)|(fo)|(fou)|(fu)|(ga)|(gai)|(gan)|(gang)|(gao)|(ge)|(gei)|(gen)|(geng)|(gong)|(gou)|(gu)|(gua)|(guai)|(guan)|(guang)|(gui)|(gun)|(guo)|(ha)|(hai)|(han)|(hang)|(hao)|(he)|(hei)|(hen)|(heng)|(hong)|(hou)|(hu)|(hua)|(huai)|(huan)|(huang)|(hui)|(hun)|(huo)|(ji)|(jia)|(jian)|(jiang)|(jiao)|(jie)|(jin)|(jing)|(jiong)|(jiu)|(ju)|(juan)|(jue)|(jun)|(ka)|(kai)|(kan)|(kang)|(kao)|(ke)|(ken)|(keng)|(kong)|(kou)|(ku)|(kua)|(kuai)|(kuan)|(kuang)|(kui)|(kun)|(kuo)|(la)|(lai)|(lan)|(lang)|(lao)|(le)|(lei)|(leng)|(li)|(lia)|(lian)|(liang)|(liao)|(lie)|(lin)|(ling)|(liu)|(long)|(lou)|(lu)|(luan)|(lue)|(lun)|(luo)|(ma)|(mai)|(man)|(mang)|(mao)|(me)|(mei)|(men)|(meng)|(mi)|(mian)|(miao)|(mie)|(min)|(ming)|(miu)|(mo)|(mou)|(mu)|(na)|(nai)|(nan)|(nang)|(nao)|(ne)|(nei)|(nen)|(neng)|(ni)|(nian)|(niang)|(niao)|(nie)|(nin)|(ning)|(niu)|(nong)|(nou)|(nu)|(nuan)|(nuo)|(nun)|(o)|(ou)|(pa)|(pai)|(pan)|(pang)|(pao)|(pei)|(pen)|(peng)|(pi)|(pian)|(piao)|(pie)|(pin)|(ping)|(po)|(pou)|(pu)|(qi)|(qia)|(qian)|(qiang)|(qiao)|(qie)|(qin)|(qing)|(qiong)|(qiu)|(qu)|(quan)|(que)|(qun)|(ran)|(rang)|(rao)|(re)|(ren)|(reng)|(ri)|(rong)|(rou)|(ru)|(ruan)|(rui)|(run)|(ruo)|(sa)|(sai)|(san)|(sang)|(sao)|(se)|(sen)|(seng)|(sha)|(shai)|(shan)|(shang)|(shao)|(she)|(shei)|(shen)|(sheng)|(shi)|(shou)|(shu)|(shua)|(shuai)|(shuan)|(shuang)|(shui)|(shun)|(shuo)|(si)|(song)|(sou)|(su)|(suan)|(sui)|(sun)|(suo)|(ta)|(tai)|(tan)|(tang)|(tao)|(te)|(teng)|(ti)|(tian)|(tiao)|(tie)|(ting)|(tong)|(tou)|(tu)|(tuan)|(tui)|(tun)|(tuo)|(wa)|(wai)|(wan)|(wang)|(wei)|(wen)|(weng)|(wo)|(wu)|(xi)|(xia)|(xian)|(xiang)|(xiao)|(xie)|(xin)|(xing)|(xiong)|(xiu)|(xu)|(xuan)|(xue)|(xun)|(ya)|(yan)|(yang)|(yao)|(ye)|(yi)|(yin)|(ying)|(yo)|(yong)|(you)|(yu)|(yuan)|(yue)|(yun)|(za)|(zai)|(zan)|(zang)|(zao)|(ze)|(zei)|(zen)|(zeng)|(zha)|(zhai)|(zhan)|(zhang)|(zhao)|(zhe)|(zhei)|(zhen)|(zheng)|(zhi)|(zhong)|(zhou)|(zhu)|(zhua)|(zhuai)|(zhuan)|(zhuang)|(zhui)|(zhun)|(zhuo)|(zi)|(zong)|(zou)|(zu)|(zuan)|(zui)|(zun)|(zuo)){2}$\";\r", "\r", "if (preg_match($pattern, \"xian\")) {\r", "    echo \"匹配\";\r", "}\r", "\r", "打算付费多少 ", " ", " 哈哈，你要多少红包？！！！", " 噗，我以为是双拼输入法。", " 兄弟,这个不行的，直接报错了，", " 把 if 里面的改成\r", "preg_match(\"/\".$pattern.\"/\", \"xian\")", " 刚才调试了下,可以用了.\r", "\r", "<?php\r", "$pattern = '/^((a)|(ai)|(an)|(ang)|(ao)|(ba)|(bai)|(ban)|(bang)|(bao)|(bei)|(ben)|(beng)|(bi)|(bian)|(biao)|(bie)|(bin)|(bing)|(bo)|(bu)|(ca)|(cai)|(can)|(cang)|(cao)|(ce)|(cen)|(ceng)|(cha)|(chai)|(chan)|(chang)|(chao)|(che)|(chen)|(cheng)|(chi)|(chong)|(chou)|(chu)|(chua)|(chuai)|(chuan)|(chuang)|(chui)|(chun)|(chuo)|(ci)|(cong)|(cou)|(cu)|(cuan)|(cui)|(cun)|(cuo)|(da)|(dai)|(dan)|(dang)|(dao)|(de)|(den)|(dei)|(deng)|(di)|(dia)|(dian)|(diao)|(die)|(ding)|(diu)|(dong)|(dou)|(du)|(duan)|(dui)|(dun)|(duo)|(e)|(ei)|(en)|(eng)|(er)|(fa)|(fan)|(fang)|(fei)|(fen)|(feng)|(fo)|(fou)|(fu)|(ga)|(gai)|(gan)|(gang)|(gao)|(ge)|(gei)|(gen)|(geng)|(gong)|(gou)|(gu)|(gua)|(guai)|(guan)|(guang)|(gui)|(gun)|(guo)|(ha)|(hai)|(han)|(hang)|(hao)|(he)|(hei)|(hen)|(heng)|(hong)|(hou)|(hu)|(hua)|(huai)|(huan)|(huang)|(hui)|(hun)|(huo)|(ji)|(jia)|(jian)|(jiang)|(jiao)|(jie)|(jin)|(jing)|(jiong)|(jiu)|(ju)|(juan)|(jue)|(jun)|(ka)|(kai)|(kan)|(kang)|(kao)|(ke)|(ken)|(keng)|(kong)|(kou)|(ku)|(kua)|(kuai)|(kuan)|(kuang)|(kui)|(kun)|(kuo)|(la)|(lai)|(lan)|(lang)|(lao)|(le)|(lei)|(leng)|(li)|(lia)|(lian)|(liang)|(liao)|(lie)|(lin)|(ling)|(liu)|(long)|(lou)|(lu)|(luan)|(lue)|(lun)|(luo)|(ma)|(mai)|(man)|(mang)|(mao)|(me)|(mei)|(men)|(meng)|(mi)|(mian)|(miao)|(mie)|(min)|(ming)|(miu)|(mo)|(mou)|(mu)|(na)|(nai)|(nan)|(nang)|(nao)|(ne)|(nei)|(nen)|(neng)|(ni)|(nian)|(niang)|(niao)|(nie)|(nin)|(ning)|(niu)|(nong)|(nou)|(nu)|(nuan)|(nuo)|(nun)|(o)|(ou)|(pa)|(pai)|(pan)|(pang)|(pao)|(pei)|(pen)|(peng)|(pi)|(pian)|(piao)|(pie)|(pin)|(ping)|(po)|(pou)|(pu)|(qi)|(qia)|(qian)|(qiang)|(qiao)|(qie)|(qin)|(qing)|(qiong)|(qiu)|(qu)|(quan)|(que)|(qun)|(ran)|(rang)|(rao)|(re)|(ren)|(reng)|(ri)|(rong)|(rou)|(ru)|(ruan)|(rui)|(run)|(ruo)|(sa)|(sai)|(san)|(sang)|(sao)|(se)|(sen)|(seng)|(sha)|(shai)|(shan)|(shang)|(shao)|(she)|(shei)|(shen)|(sheng)|(shi)|(shou)|(shu)|(shua)|(shuai)|(shuan)|(shuang)|(shui)|(shun)|(shuo)|(si)|(song)|(sou)|(su)|(suan)|(sui)|(sun)|(suo)|(ta)|(tai)|(tan)|(tang)|(tao)|(te)|(teng)|(ti)|(tian)|(tiao)|(tie)|(ting)|(tong)|(tou)|(tu)|(tuan)|(tui)|(tun)|(tuo)|(wa)|(wai)|(wan)|(wang)|(wei)|(wen)|(weng)|(wo)|(wu)|(xi)|(xia)|(xian)|(xiang)|(xiao)|(xie)|(xin)|(xing)|(xiong)|(xiu)|(xu)|(xuan)|(xue)|(xun)|(ya)|(yan)|(yang)|(yao)|(ye)|(yi)|(yin)|(ying)|(yo)|(yong)|(you)|(yu)|(yuan)|(yue)|(yun)|(za)|(zai)|(zan)|(zang)|(zao)|(ze)|(zei)|(zen)|(zeng)|(zha)|(zhai)|(zhan)|(zhang)|(zhao)|(zhe)|(zhei)|(zhen)|(zheng)|(zhi)|(zhong)|(zhou)|(zhu)|(zhua)|(zhuai)|(zhuan)|(zhuang)|(zhui)|(zhun)|(zhuo)|(zi)|(zong)|(zou)|(zu)|(zuan)|(zui)|(zun)|(zuo)){2}$/'; \r", "\r", "\r", "$file = file_get_contents(\"domain.txt\",\"r\");\r", "$shuangpin =array(); \r", "$qita =array(); \r", "$lines = explode(\"\\n\", $file); \r", "foreach ($lines as $values) { \r", "if (preg_match($pattern, $values)) { \r", "$shuangpin[] = $values; \r", "} else { \r", "$qita[] = $values; \r", "} \r", "} \r", "$shuangpin = implode(\"\\n\", $shuangpin); \r", "$qita = implode(\"\\n\", $qita); \r", "\r", "file_put_contents('shuangpin.txt', $shuangpin); \r", "file_put_contents('qita.txt', $qita);\r", "?>", "{声母: set([声母可对应的韵母])}， O(n)"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img src=\"http://laravelacademy.org/wp-content/uploads/2016/01/laravel-5-2-docs.jpg\" alt=\"Laravel 5.2 中文文档\"></p>\n\n<p>由 Laravel 学院提供的 Laravel 5.2 中文文档已翻译完成，供学习参考用：</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/laravel-docs-5_2\">http://laravelacademy.org/laravel-docs-5_2</a></p>\n\n<p>同时奉上 Lumen 5.2 中文文档：</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://laravelacademy.org/lumen-docs\">http://laravelacademy.org/lumen-docs</a></p>\n</div></div>"], "reply": "20", "tittle": "Laravel 5.2 & Lumen 5.2 中文文档翻译完成", "comment": ["赞一个~", "赞", "辛苦", "必须赞", "赞", "辛苦了，赞", "好", "英文文档已经很好懂了，这样翻译的意义？", "赞一个", "不错！！支持一下，虽然我用 rails ～", " 我想看中文总是比英文快点，毕竟不用经过“脑译”这个步骤", "感谢楼主，辛苦了。\r", "\r", "可以提点意见建议不？\r", "能否做成 golaravel 那样啊……\r", "中英文方便对照，翻译的总有些不明不白的时候，到时候还不好找……", "热心满分，这文档的排版 0 分", "很赞，文档可以解决很多问题", " 毕竟用 wordpress 搭建的，内容就是一篇博文 2333", " 已经在重构了 重构后会采用官网的方式排版", "赞", "5.2 的文档已经看完一半了，用行动支持学院！", "必须赞一下地说！！", "大大的一个赞！"]},
{"content": ["<div class=\"topic_content\">完全不了解这块，需要用到哪些技术？\r<br>谢谢。</div>"], "reply": "1", "tittle": "求在线直播开发的关键词", "comment": ["目前我知道的  nginx + nginx_rtmp_module  能做到\r", "另外 java 也有 red5 这种框架支持\r", "C ， C++也有类似的东西\r", "这些都是做流媒体服务器的\r", "至于其他的什么弹幕，房间，鱼丸之类的就用 sockt 等一些 web 服务就能搞定了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>QWadmin</h1>\n\n<p>基于 thinkphp 与 aceadmin 模板的后台管理系统</p>\n\n<p>使用说明：</p>\n\n<p>1.sql.sql 文件导入到数据库中。<br>\n2.将文件 App/Common/Conf/config_bak.php 重命名为 config.php 文件<br>\n3.在 config.php 文件填写数据库配置信息</p>\n\n<p>后台地址： <a target=\"_blank\" rel=\"nofollow\" href=\"http://www.example.com/index.php/Qwadmin/\">http://www.example.com/index.php/Qwadmin/</a>   账号 admin  密码 admin</p>\n\n<p>官网地址： <a target=\"_blank\" rel=\"nofollow\" href=\"http://qwadmin.qiawei.com/\">http://qwadmin.qiawei.com/</a></p>\n\n<p>下载地址： <a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/qiaweicom/qwadmin/\">https://github.com/qiaweicom/qwadmin/</a></p>\n\n<p>QQ 群： 231272191</p>\n\n<p>欢迎大家有进行沟通交流！</p>\n\n<p>开源是一种精神！为中国的互联网行业发展献出一份小小的力量~~</p>\n\n<p><img src=\"https://github.com/qiaweicom/qwadmin/raw/master/screenshots/login.png\" alt=\"image\"></p>\n\n<p><img src=\"https://github.com/qiaweicom/qwadmin/raw/master/screenshots/index.png\" alt=\"image\"></p>\n\n<p><img src=\"https://github.com/qiaweicom/qwadmin/raw/master/screenshots/person.png\" alt=\"image\"></p>\n\n<p><img src=\"https://github.com/qiaweicom/qwadmin/raw/master/screenshots/member.png\" alt=\"image\"></p>\n\n<p><img src=\"https://github.com/qiaweicom/qwadmin/raw/master/screenshots/group.png\" alt=\"image\"></p>\n\n<p><img src=\"https://github.com/qiaweicom/qwadmin/raw/master/screenshots/Database.png\" alt=\"image\"></p>\n\n<p><img src=\"https://github.com/qiaweicom/qwadmin/raw/master/screenshots/new_add.png\" alt=\"image\"></p>\n\n<p><img src=\"https://github.com/qiaweicom/qwadmin/raw/master/screenshots/links.png\" alt=\"image\"></p>\n\n<p><img src=\"https://github.com/qiaweicom/qwadmin/raw/master/screenshots/menu.png\" alt=\"image\"></p>\n</div></div>"], "reply": "10", "tittle": "基于 thinkphp 与 aceadmin 开发的后台管理系统", "comment": ["欢迎大家多多交流呀。有什么问题大家提一下?", "你后台地址发个  ", "  什么意思...", " 估计是手误，是这个： ", "验证码太恶心 刷几次都看不清楚\r", "另外 admin admin 登陆不上，也不知道是验证码恶心我看错的问题还是？", "登陆不上去，挺不错的，不过网站内容那里功能弱了点", " 这个是个例子，代表是你自己搭建的网站地址，例如你的域名是 ", " ，程序放在根目录,后台就是 ", "  账号密码分别都是 admin ，验证码正在使用新的方案，稍后版本将会发布。", " 因为发布版我们把测试内容全部删除，如果想测试，可以自己添加内容。您后台登录上去没？", "登陆失败。。。。。", " 失败？账号密码都是 admin ，你输入对了吗？"]},
{"content": ["<div class=\"topic_content\">6691.club,已经注册,2015-06-17 T17:15:08Z,2016-06-16\r<br>就是 去掉 每行“ T17:15:08Z ”这部分 。\r<br>6688.club,已经注册,2014-05-07T15:02:16Z,2016-05-06\r<br>6689.club,已经注册,2015-06-10T06:03:05Z,2016-06-09\r<br>6695.club,已经注册,2015-06-10T14:32:14Z,2016-06-09\r<br>6694.club,已经注册,2015-11-08T15:01:24Z,2016-11-07\r<br>6693.club,已经注册,2015-06-17T17:20:25Z,2016-06-16\r<br>6692.club,已经注册,2015-06-17T17:14:43Z,2016-06-16\r<br>6690.club,已经注册,2015-06-22T08:43:14Z,2016-06-21\r<br>6605.club,已经注册,2015-06-25T08:43:19Z,2016-06-24\r<br>6606.club,已经注册,2015-05-07T15:56:01Z,2016-05-06\r<br>6603.club,已经注册,2015-06-25T08:43:17Z,2016-06-24\r<br>6604.club,已经注册,2015-11-09T09:13:15Z,2016-11-08\r<br>6681.club,已经注册,2015-06-17T13:44:15Z,2016-06-16\r<br>6608.club,已经注册,2015-06-10T09:27:52Z,2016-06-09\r<br>6607.club,已经注册,2015-06-25T08:43:21Z,2016-06-24\r<br>6682.club,已经注册,2015-06-17T15:43:28Z,2016-06-16\r<br>\r<br>这样的，我希望去除 T15:43:28Z 这段，规律是 T 开头,Z 结尾.\r<br>\r<br>我机器上只有 PHP 环境,看得点东 PHP ，其他的程序完全不懂............\r<br>\r<br>求高手指教。。。。。。。</div>"], "reply": "28", "tittle": "PHP 怎样去除中间字符串", "comment": ["正则表达式", "正则匹配出来 然后替换为空", "使用 DateTime 库和一些字符串操作就可以了。\r", "\r", "假设你一条字符串是$str 吧。\r", "\r", "$arr = explode(',‘, $str); //将$str 用逗号分隔得到数组\r", "$time_str = $arr[2]; //得到时间那一列\r", "$time_obj = DateTime::createFromFormat('Y-m-d\\TH:i:s\\Z', $time_str);\r", "$expected_str = $time_obj -> format('Y-m-d'); //只保留日期\r", "$arr[2] = $expected_str\r", "$str = join(',', $arr);\r", "\r", "最后$str 就是去掉那一段之后的原字符串剩下的部分了。\r", "变量名起得不好仅供示意。此外我也只会写一点 PHP ，有问题还望斧正。\r", "\r", "p.s.: 楼主为什么一定要处理这种数据呢？总觉得这个问题是个 XY 问题。", " $expected_str 后面少了个分号。", "在我看来如果有库实现了这些格式的处理那最好不要自己写正则了。即使写多点代码也省时省力。", "preg_replace(\"/T[\\d]{2}:[\\d]{2}:[\\d]{2}Z/\", \"\", $msg) 随便写的，错了误笑^^", "一些文本编辑器，可以正则替换的。", "$content = preg_replace('/T.*Z/', '', $content);", "$str = \"6688.club,已经注册,2014-05-07T15:02:16Z,2016-05-06\";\r", "echo preg_replace('/\\w\\d\\d\\:\\d\\d\\:\\d\\d\\w/',\"\",$str);", "正则表达式有个递归限制，如果内容太多，需要分批处理，或者按行处理。", "如此标准的数据,先'逗号'分隔每一行文本,获得 2014-05-07T15:02:16Z 这类数据,然后用'T'分隔提取 T15:02:16Z,替换原数据的这个字符串为空即可\r", "\r", "PS:鄙视楼主伸手党,一点点代码都不愿意写", " 鄙视我吧，我不会啊， PHP 只限于看得懂最简单的代码.", " 呵呵，我扫域名需要处理数据,没有用来干什么坏事,就是想查看什么时间段域名到期", "cat filename | sed 's/\\([^T]*\\)T[^Z]*Z\\(.*\\)/\\1\\2/'", " 再帮楼主一把：\r", "date_default_timezone_set(\"Asia/Shanghai\");\r", "echo date(\"Y-m-d H:i:s\", strtotime(\"2014-05-07T15:02:16Z\"));\r", "结果： 2014-05-07 23:02:16\r", "\r", "「 2015-06-17T15:43:28Z 」本身就是一个标准时间表示，但忘记是啥了。\r", "\r", "楼主应该需要把上游日志打好。", "谢谢楼上诸位，我刚刚借鉴楼上一位朋友的代码实现了功能：\r", "\r", "<?php\r", "$handle  = @", " (\"4.txt\",\"r\" );\r", "if ( $handle ) {\r", "    while (( $buffer  =  fgets ($handle ,4096 )) !==  false ) {\r", "       // echo  $buffer.\"<br>\\n\";\r", "\t\techo preg_replace('/\\w\\d\\d\\:\\d\\d\\:\\d\\d\\w/',\"\",$buffer).\"<br>\\n\";\r", "    }\r", "    if (! feof ( $handle )) {\r", "        echo  \"Error: unexpected fgets() fail\\n\" ;\r", "    }\r", "     fclose ( $handle );\r", "}\r", " ?> \r", "\r", "其实通篇就是：\r", "echo preg_replace('/\\w\\d\\d\\:\\d\\d\\:\\d\\d\\w/',\"\",$buffer).\"<br>\\n\";\r", "这句代码管用,然后再遍历下文本文件。", "读文件即可，正则不用那么复杂\r", "```\r", "<?php\r", "$a = '6688.club,已经注册,2014-05-07T15:02:16Z,2016-05-06';\r", "$x = preg_replace('/(T.+?Z)/', '',$a);\r", "echo $x;\r", "```\r", "\r", "linux 下直接 sed 就可以了\r", "```\r", "cat 6691.club|sed 's/T.*Z//'\r", "```", " 写错了文件名，是 cat 4.txt|sed 's/T.*Z//' \r", "不过看后缀似乎是 windows", "preg_replace('#T[0-9\\:]+Z#imu','',$str);\r", "$str 就是你的字符串。", "如果量不大的话，直接用 vim 块选择，直接删除就好了", "或者 vim 录制一个宏，也非常快", "strpos() 这个函数可以获取指定的位置再截取就好了;不过上面的比较简单,每一行的长度都一样,T 和 Z 在字符串中的位置都固定的.通过位置截取指定长度也可以实现.数据量少的话正则的肯定更好.", "preg_replace('/T[0-9:]+Z/i','',$object);", "直接当 csv 处理不行嘛", "其实直接 substr 就行了啊...", "正则表达式可以", "preg_replace('/T.*Z/', '', $str)", "Vim 吧"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>PHP-Whois</h1>\n\n<p>PHP-Whois 是一个非常轻量级的域名 whois 信息查询类，具有部署简单和方便扩展的特点</p>\n\n<h1>需求</h1>\n\n<p>建议使用 PHP 5.3 +</p>\n\n<h1>用法</h1>\n<div class=\"highlight\"><pre><span class=\"x\">$whois = new Whois;</span>\n\n<span class=\"x\">$query = $whois-&gt;query(域名主体, 重试次数); </span>\n\n<span class=\"x\">// 成功</span>\n<span class=\"x\">array(</span>\n<span class=\"x\">    'error' =&gt; 0,</span>\n<span class=\"x\">    'data' =&gt; array(</span>\n<span class=\"x\">        'domain' =&gt; 域名主体,</span>\n<span class=\"x\">        'registration' =&gt; 注册状态,</span>\n<span class=\"x\">        // 以下只在已注册时有效</span>\n<span class=\"x\">        'registrar' =&gt; 域名服务商,</span>\n<span class=\"x\">        'creation' =&gt; 注册时间,</span>\n<span class=\"x\">        'expiration' =&gt; 过期时间,</span>\n<span class=\"x\">        'status' =&gt; 域名状态,</span>\n<span class=\"x\">    )</span>\n<span class=\"x\">);</span>\n\n<span class=\"x\">// 失败</span>\n<span class=\"x\">array(</span>\n<span class=\"x\">    'error' =&gt; 1,</span>\n<span class=\"x\">    'message' =&gt; 失败原因</span>\n<span class=\"x\">);</span>\n</pre></div>\n\n<h1>示例</h1>\n<div class=\"highlight\"><pre><span class=\"x\">$whois = new Whois;</span>\n\n<span class=\"x\">$query = $whois-&gt;query('v2ex.com', 3); </span>\n\n<span class=\"x\">var_dump($query);</span>\n\n<span class=\"x\">array(</span>\n<span class=\"x\">    'error' =&gt; 0,</span>\n<span class=\"x\">    'data' =&gt; array(</span>\n<span class=\"x\">        'domain' =&gt; 'v2ex.com',</span>\n<span class=\"x\">        'registration' =&gt; 'registered',</span>\n<span class=\"x\">        'registrar' =&gt; 'TUCOWS DOMAINS INC.',</span>\n<span class=\"x\">        'creation' =&gt; '1119542400',</span>\n<span class=\"x\">        'expiration' =&gt; '1466697600',</span>\n<span class=\"x\">        'status' =&gt; 'clientTransferProhibited',</span>\n<span class=\"x\">    )</span>\n<span class=\"x\">);</span>\n</pre></div>\n</div></div>"], "reply": "3", "tittle": "分享一个自用的 PHP-Whois 类 ", "comment": ["有没有演示？", " 不是已经演示了吗", "不错收藏了，最近准备搞个类似的查询工具 不知道性能如何"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h3>Materialize Blog</h3>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/forehalo/materialize-blog\">github 地址</a> </p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://forehalo.me\">demo</a> 在这。</p>\n\n<p>首页是 collapsible 做的，类似 google 的 inbox ， 另一个位置<code>/posts</code> 是普通的文章列表页面。</p>\n\n<p>用的前端框架是 <a target=\"_blank\" rel=\"nofollow\" href=\"http://materializecss.com/\">materialize</a>， 蛮好用的。</p>\n\n<p>更多说明请移步 github ， 欢迎各位使用，刚刚撸完难免有一些 bug ，各位可以在回复中告诉我。</p>\n\n<p>另外，欢迎互加友链。</p>\n</div></div>"], "reply": "35", "tittle": "分享寒假无聊撸出来的 Material Design 风格的博客系统", "comment": ["Materialize 已 star", " materialize 确实不错\r", "\r", "实在用不下去 google 的 material design lite ， mdl 前缀看着就难受（╯－＿－）╯╧╧", "很棒啊", "效果不错。 \r", "\r", "可惜我不懂前端，不然也可以把我 Sample 搞漂亮 一点。 ", "我的 ", "  也用了 Materialize\r", "\r", "不过我发现我开始不喜欢 MD 风格了，移动端还不错， PC 端感觉挺恶心的", "哈哈哈很棒！！！ 能做个 hexo 的模板就好了博客已经折腾不动了> <", " 毕竟最开始是做给 android 的，拿来给 web 用肯定没当初设计的好", " 没做过 hexo 的模板，之前用的是 jekyll ，都是用别人写好的，这次难得动手自己写", "好好去研究一下 Material Design Spec 的 **原文**。你这卡片的边距怎么看怎么不对。\r", "\r", "PS ：建议把标签移到标题下面，不然动画路径也很不自然。", "  \r", "\r", "这样不好看点？\r", "\r", " ", "   一不小心发送到隔壁帖子去了。", "背景图很棒！", "很多 padding 需要加大，这个布局太紧凑了，怎么看都 material 。\r", "当然楼主可能精力都在系统上了。", "感觉怪怪的", " 这个用途下面，首选 List ，在 List 无法承载这个信息量的时候考虑 Tile ，用 Card 不适合。\r", " \r", "See: ", " 同意这位仁兄。紧凑一点，否则觉得别扭", "没对齐。。。。\r", "\r", " ", "我有强迫症，我觉得点开文章的时候，宽度不一致的地方别扭... 老是过一会儿，盯着那看两眼", " 谢谢建议， spec 阅读的不是很仔细，前端还有很多需要改进的地方，我会继续优化", " 蛤蛤蛤，这个我问过妹子，妹子觉得没有间距比较好看 =。=", " 你是指哪里没对齐？", "保持 tag 作为一种元素的样式一致性，把 Tag Cloud 的样式也改为 chip", "padding 是不是要再调整下？总感觉有点奇怪。", " 我用 mdl 简单地弄了一个 hexo theme ， ", " ，效果： ", " 。", " 感觉色彩不太分明...colorPrimary 、 colorPrimaryDark 、 colorAccent 、 colorAccent 能体现出来就好了~", " 哈哈，我比较喜欢轻一点的色彩，感觉太浓重很容易疲劳。", "文章的加载体验不错， AJAX 吗？不过据说这样的加载不利于 SEO\r", "\r", "\r", " 是 Wordpress 的吗，那个评论是什么插件？", " 全部是通过 hexo 生成的静态文件，用 nignx 托管的，评论用的 Disqus 。", " 首页是 ajax ，还有另一个页面 /posts 是普通的了表，这个就是为了优化 seo 做的", "然而已经访问不能", "最喜欢的框架～但 demo 挂掉了", " 😂给的链接确实挂了，因为今天加了 ssl ，没做重定向，用 https 访问就可以了", " 见楼上，非常抱歉", " 你这个做的有点丑", " 我可以用一下你这个设计吗？会注明来源。", " 可以的。"]},
{"content": ["<div class=\"topic_content\">代码如下:\r<br>&lt;!doctype html&gt;\r<br>&lt;html&gt;\r<br>    &lt;head&gt;\r<br>\t&lt;title&gt;四位.club 域名&lt;/title&gt;\r<br>        &lt;meta charset=\"utf-8\"&gt;\r<br>    &lt;/head&gt;\r<br>    &lt;body&gt;\r<br>&lt;?php\r<br>/*\r<br>test.txt 文件内容为:\r<br>\r<br>10ferents.club\r<br>1901.club\r<br>1992.club\r<br>288cash.club\r<br>2nd.club\r<br>365gold.club\r<br>3dscanning.club\r<br>406disco.club\r<br>99fitness.club\r<br>abuo9i8n3.club\r<br>abuo9i8n5.club\r<br>abur5t6b2.club\r<br>abut6y7n1.club\r<br>abut6y7n4.club\r<br>abut6y7n7.club\r<br>abuy7u8n6.club\r<br>1234.club\r<br>abcd.club\r<br>\r<br>\r<br>4.txt 只有:\r<br>abcd.club\r<br>\r<br>正确的答案应该是：\r<br>1901.club \r<br>1992.club \r<br>1234.club \r<br>abcd.club \r<br>*/\r<br>$handle=fopen(\"test.txt\",\"r\");\r<br>while(!feof($handle)){\r<br>$str=fgets($handle);\r<br>if(stripos($str,\".\")==4){\r<br>file_put_contents(\"4.txt\",$str);\r<br>}\r<br>}\r<br>?&gt;\r<br>&lt;/select&gt;&lt;BR&gt;\r<br>&lt;/body&gt;\r<br>&lt;/html&gt;\r<br>筛选域名用的，但是结果怎么只显示一行啊，用\r<br>echo $str.\"&lt;br&gt;\\n\";显示结果在正常的.</div>"], "reply": "4", "tittle": "PHP 读写字符串到.TXT 文件中怎么不对啊,请帮忙看看", "comment": ["因为 file_put_contents 写入文件时是覆盖原本内容的，所以程序运行完只剩下最后那一个", "file_put_contents 增加第三个参数 FILE_APPEND 。", " 是的，只要把 file_put_contents(\"4.txt\",$str); 修改为： file_put_contents(\"4.txt\",$str,FILE_APPEND);就好了。", "应该是默认覆盖原本内容，没注意到还有第三个参数=_=\r"]},
{"content": "", "reply": "8", "tittle": "PHP 和 python 运用领域及优缺点？", "comment": ["用 python 写脚本，用 php 写网页", "python 缺点：慢， php 缺点：更慢\r", "php 优点：易于理解， python 优点：更加易于理解\r", "\r", "开玩笑了=.=php 的优点在于强大的字符串处理能力...你说网站开发重要的是不是这个", "字符串处理 Python 也很强吧", "PHP 几乎只能用来做 Web ， Python 可以用来做运维、数据挖掘、机器学习、爬虫等， Python 的包非常多，现在 3.5 自带的包都足够强大了", "都可以写 web, 但 php 运用更广，至于运维和机器学习啥的， python 优势很大，如果你想好玩一点， python 是个很好的选择。", "PHP 适合或者说擅长用来做没有状态的东西，当然这些东西可以用很多各种各样中间件实现啦。\r", "python 框架也多，比如你实现一个 WS 池子，就发现 python 容易太多。\r", "\r", "web 应用， php 性能还是普遍比 py 好的，但基本都是一个量级吧。 python 岗位工作难找点，不过也越来越多啦。", "没有十全十美的语言，喜欢 或者有需求就多学几门语言咯。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>说说你们公司是怎么定义 PHP 前端和 PHP 后端的？</p>\n</div></div>"], "reply": "19", "tittle": "请问你们公司是怎样定义 PHP 前端和 PHP 后端？", "comment": ["我们公司没有前后端 PHP 的说法，都是全栈，前后端都写，不知道你们公司怎么分的 PHP 前后端", "PHP 是后端....做项目的时候顺便做点前端...", "哦\r", "\r", "PHP 的意思是能写 PHP 代码，能切图，能写 html+js+css ，能管理 Linux ，能做测试，能修电脑的意思", "普通网站，有人写页面， php 算是服务器端，那 php 就算是后端。\r", "\r", "大型网站，后端数据不是一个 db 这么简单，强大的后端数据团队，这时候， php 就变成前端了。。", "PHP 后端我懂， PHP 前端是几个意思", "除了那种支持 php 的模板引擎，我想不出还有啥 php 前段", "调接口的\r", "写接口的", "我的理解是有些项目可能平台后台采用其他语言比如.net 或者 java ， web 网站页面则用 php 开发，这个时候可能会被定义为 php 前端开发， php 后端应该都晓得的。", "说的应该是\r", "\r", "业务端\r", "服务端\r", "\r", "吗？", " 后台数据都是 java 或者 c 处理的\r", "php 只读取数据到前台展示", "调数据库 api 和调 web api 有多大区别？数据库套个 orm 跟普通代码也没啥两样。 web api 一句 httpget 过来也是 json 。", "php 不都是全干工程师么", "PHP 对于小网站来说 html+css+js+mysql+php+linux+图片小编+文字小编+… T_T", "php = 打杂", "php 还有后端？", "php 做中间件。。。", "php 就不要参和什么前端,前端幺蛾子多了去了,一个 js 玩出各种花样,就会点 jq 那不叫前端好伐", "php 是最好的模板语言啊，功能其他实现， php 当前端用", "拍黄片"]},
{"content": ["<div class=\"topic_content\">需求很简单，从数据库的一个表中抓数据，然后把取得的数据做成导航菜单。每一个页面都需要引用这个菜单，请问我应该把抓数据库的代码放在那里，我想着放到 View ，因为每个页面都会用到它，但这明显不是最佳实践，应该是放在 model 里面。可是放在 model 里面的话难道每个 function 都去执行一边抓数据库的代码，那不是重复代码了吗？抱歉水平不高，表达也不好，希望得到大家的帮助。</div>", "<div class=\"topic_content\">抱歉忘了说框架，是 Laravel 。从评论中看到很多好的想法，打算今天来实践以下。当然有更加 Laravel 的方法也可以指出，谢谢大家。</div>"], "reply": "9", "tittle": "关于最佳实践", "comment": ["你不想这样的话，应该是打算把导航数据放在初始化的对象里面？", "用类继承？", "你在什么地方初始化那条导航菜单的？\r", "\r", "或许你可以给模板引擎设定一个钩子（如果模板引擎支持的话），在需要调用导航的时候执行这个钩子来进行操作。\r", "\r", "如果上述方法不合适的话，或许你可以做一个 Base Controller ，然后在这个 Base Controller 的__construct 上写好 NavModel 的初始化和与 View 交互的过程，然后让所有需要用到这条导航的 Controller 全都变成这个 Controller 的子类。有点像：\r", "\r", "class BaseController {\r", "protected $view = null;\r", "\r", "public function __construct() {\r", "// build a view here or parent::__construct();\r", "$this->view->assign('Nav', NavModel::getAll());\r", "}\r", "\r", "}\r", "\r", "class HomePage extends BaseController {\r", "public function get($request, $respond) {\r", "$respond->write($this->view->render('Home'))\r", "}\r", "}\r", "\r", "但是这样会做出一棵 Controller Three ，控制不好的话或许又是个不好的东西。", " 抱歉，是 Tree 不是 Three 。", "生成文件\r", "include", "这个要看具体框架吧？你用的什么框架？ 如果是 Yii 框架就简单了，直接封装个 widget 搞定~", "我是放在 BASE_CONTROLLER 里的\r", "\r", "需要导航的 Controller extends 这个 BASE CONTROLLER\r", "不需要导航的去 extends 正常的 Controller 基类", "相信你没看 laravel 的手册\r", "\r", "把数据共享给所有视图\r", "view()->share('data', [1, 2, 3]);", " 确实，刚从 CI 转过来。好多东西不习惯。谢谢指点。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近在使用 phphub 二次开发自己的小社区。 发现了一个问题，无法解决。</p>\n\n<p>当点击 a 标签的超链接，新的页面 js 是没有加载的。会在 head 标签内部显示成</p>\n\n<p>script type=\"undefined\" src=\"<a target=\"_blank\" rel=\"nofollow\" href=\"https://dn-phphub.qbox.me/assets/js/scripts-6484ddb8.js%22%3E\">https://dn-phphub.qbox.me/assets/js/scripts-6484ddb8.js\"&gt;</a>&lt;/script</p>\n\n<p>当你刷新后 该 js 就会正确的出现在 body 标签中。</p>\n\n<p>一直以为是自己新作的页面导致的问题。 现在发现官网也是这样 。求大神们给我说说 这是什么原理。</p>\n\n<p><img src=\"https://dn-phphub.qbox.me/uploads/images/201602/28/2157/0WMBginHK3.png\" alt=\"Alt text\"></p>\n\n<p><img src=\"https://dn-phphub.qbox.me/uploads/images/201602/28/2157/PZwKFdbAW9.png\" alt=\"Alt text\"><br>\n图 1 为点击超链接效果 图 2 为刷新后的效果</p>\n\n<p>不知道 哪位小伙伴遇到过。希望能够给点提点。让我找到解决的办法。</p>\n</div></div>"], "reply": "4", "tittle": "[求解] PHPHub 点击超链接不刷新 JS 脚本问题。显示 type=\"undefined\"", "comment": ["测试网站 ", "  随便点击一个超链接。然后 F12 看 head 中 就会出现 type 是 undefined 的 js 文件。", "这不是全站 ajax 吗？那个 script 是一开始加载的，后面点链接页面没真正跳转， script 也只是换了个位置，然后把 ajax 拿回来的响应渲染页面了。\r", "至于为啥改成 undefined ，我也不懂。", "网站的 JS 代码里有一段这样的代码, 用于遍历页面中的 JS, 然后 重新加入到页面中.\r", "在设置  `type` 的时候, 是使用的  `t(this).attr('type')`\r", "这里的 t 是 jQuery, 用于获取 script 标签的 type 属性, 而因为源代码中 script 标签没有写 type 属性,\r", "所以得到的是 undefined, 所以导致 动态 插入进去的 script 标签中 type 值为 undefined.\r", "\r", "\r", "```\r", "    function v(e) {\r", "        if (e) {\r", "            var n = t(\"script[src]\");\r", "            e.each(function() {\r", "                var e = this.src\r", "                  , i = n.filter(function() {\r", "                    return this.src === e\r", "                }\r", "                );\r", "                if (!i.length) {\r", "                    var r = document.createElement(\"script\");\r", "                    r.type = t(this).attr(\"type\"),\r", "                    r.src = t(this).attr(\"src\"),\r", "                    document.head.appendChild(r)\r", "                }\r", "            }\r", "            )\r", "        }\r", "    }\r", "```", "还会吗"]},
{"content": ["<div class=\"topic_content\">我在 PHP 里用了这个来调用网页标题\r<br>\r<br>&lt;?php\r<br>function curPageURL() \r<br>{\r<br>    $pageURL = 'http';\r<br>\r<br>    if ($_SERVER[\"HTTPS\"] == \"on\") \r<br>    {\r<br>        $pageURL .= \"s\";\r<br>    }\r<br>    $pageURL .= \"://\";\r<br>\r<br>    if ($_SERVER[\"SERVER_PORT\"] != \"80\") \r<br>    {\r<br>        $pageURL .= $_SERVER[\"SERVER_NAME\"].\":\" . $_SERVER[\"SERVER_PORT\"] . $_SERVER['PHP_SELF'];\r<br>    } \r<br>    else \r<br>    {\r<br>        $pageURL .= $_SERVER[\"SERVER_NAME\"] . $_SERVER['PHP_SELF'];\r<br>    }\r<br>    return $pageURL;\r<br>}\r<br>?&gt;\r<br>\r<br>然后希望能在多说评论框的代码里调用，但是怎么弄都不对，多说后台总是显示双引号里面的内容比如&lt;?php mc_the_name(); ?&gt;而不是我希望调用的网页标题。\r<br>\r<br>&lt;div class=\"ds-thread\" data-thread-key=\"&lt;?php mc_the_name(); ?&gt;\" data-title=\"&lt;?php mc_the_name(); ?&gt;\" data-url=\"&lt;?php curPageURL(); ?&gt;\"&gt;&lt;/div&gt;\r<br>\r<br>应该怎么改？求解</div>"], "reply": "23", "tittle": "请教一个 PHP 调用问题", "comment": ["如果你的 php 文件在浏览器下打开直接看到了<?php ... ?>的标记，说明你的 apache2 或 nginx 没有加载 php 组件", " 但是 php 组件加载了啊，所有 php 页面都是正常的，只是这个调用有问题", "php.ini 里 short_open_tag 没有打开", "多说的编辑框怎么会让你直接运行 PHP ？", "要输出 PHP 函数，必须先让 PHP 能正常运行，楼主看看当前代码所在文件是不是 PHP 文件。", " 我看了一下打开了呀", " 这个是通用编辑框要求要的东西啊", " 那就是楼上说的多说的评论框不让运行 php 代码，你还是别折腾了", " <?php 不是 shortopentag\r", "\r", "能否不能把整个 PHP 复制过来看看？（找不能执行 php 的问题）\r", "\r", "另外，即使？ php 能执行， 你用 return 返回的值不能被打印，要么 return $pageURL; 换成 echo $pageURL ；要么<?php echo curPageURL(); ?>", "好吧，至于那个多说评论框是什么我不知道。。。反正你得确定 PHP 能运行", " 那个系统储存评论代码是在一个 php 里\r", "<?php\r", "$mc_config = array (\r", "  'user_nick' => '***',\r", "  'comment_code' => '<!-- 多说评论框 start -->\r", "\t<div class=\"ds-thread\" data-thread-key=\"<?php mc_the_name(); ?>\" data-title=\"<?php mc_the_name(); ?>\" data-url=\"<?php curPageURL(); ?>\"></div>\r", "<!-- 多说评论框 end -->\r", "<!-- 多说公共 JS 代码 start (一个网页只需插入一次) -->\r", "<script type=\"text/javascript\">\r", "var duoshuoQuery = {short_name:\"***\"};\r", "\t(function() {\r", "\t\tvar ds = document.createElement('script');\r", "\t\tds.type = 'text/javascript';ds.async = true;\r", "\t\tds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';\r", "\t\tds.charset = 'UTF-8';\r", "\t\t(document.getElementsByTagName('head')[0] \r", "\t\t || document.getElementsByTagName('body')[0]).appendChild(ds);\r", "\t})();\r", "\t</script>\r", "<!-- 多说公共 JS 代码 end -->',\r", "  'url_rewrite' => 'off',\r", "  'post_nums' => '10',\r", ")\r", "?>\r", "然后主页的 php 是这样的\r", "<?php\r", "function curPageURL() \r", "{\r", "    $pageURL = 'http';\r", "\r", "    if ($_SERVER[\"HTTPS\"] == \"on\") \r", "    {\r", "        $pageURL .= \"s\";\r", "    }\r", "    $pageURL .= \"://\";\r", "\r", "    if ($_SERVER[\"SERVER_PORT\"] != \"80\") \r", "    {\r", "        $pageURL .= $_SERVER[\"SERVER_NAME\"].\":\" . $_SERVER[\"SERVER_PORT\"] . $_SERVER['PHP_SELF'];\r", "    } \r", "    else \r", "    {\r", "        $pageURL .= $_SERVER[\"SERVER_NAME\"] . $_SERVER['PHP_SELF'];\r", "    }\r", "    return $pageURL;\r", "}\r", "?>\r", "<!DOCTYPE html>\r", "<html dir=\"ltr\" lang=\"zh-CN\">\r", "<head>\r", "<meta charset=\"UTF-8\" />\r", "<meta name=viewport content=\"width=device-width, initial-scale=1, maximum-scale=1\">\r", "<title><?php if (mc_is_post() || mc_is_page()) { mc_the_title(); ?> | <?php mc_site_name(); } else { mc_site_name(); ?> | <?php mc_site_desc(); }?></title>\r", "<link href=\"<?php mc_theme_url('style.css'); ?>\" type=\"text/css\" rel=\"stylesheet\"/>\r", "<link rel=\"shortcut icon\" href=\"/favicon.ico\"/>\r", "<link rel=\"bookmark\" href=\"/favicon.ico\" type=\"image/x-icon\"/>\r", "</head>\r", "<body>\r", "  <div id=\"main\">\r", "  <div id=\"header\">\r", "    <div id=\"sitename\"><a href=\"<?php mc_site_link(); ?>\"><?php mc_site_name(); ?></a></div>\r", "  </div>\r", "  <div id=\"content\">\r", "  <div id=\"content_box\">\r", "<?php if (mc_is_post()) { ?>\r", "    <div class=\"post\">\r", "      <h1 class=\"title\"><?php mc_the_link(); ?></h1>\r", "      <div class=\"tags\"><?php mc_the_tags('','',''); ?> by <?php mc_nick_name(); ?> at <?php mc_the_date(); ?></div>\r", "      <div class=\"content\"><?php mc_the_content(); ?></div>\r", "    </div>\r", "    <?php if (mc_can_comment()) { ?>\r", "    <?php mc_comment_code(); ?> //评论似乎在这里\r", "    <?php } ?>\r", "<?php } else if (mc_is_page()) { ?>\r", "    <div class=\"post\">\r", "      <?php /*<h1 class=\"title\"><?php mc_the_link(); ?></h1>\r", "      <div class=\"tags\">by <?php mc_nick_name(); ?> at <?php mc_the_date(); ?></div> */ ?>\r", "      <div class=\"content\"><?php mc_the_content(); ?></div>\r", "    </div>\r", "    <?php if (mc_can_comment()) { ?>\r", "    <?php mc_comment_code(); ?> //评论似乎在这里\r", "    <?php } ?>\r", "<?php } else if (mc_is_archive()) { ?>\r", "    <div class=\"date_list\">\r", "    <h1>月份</h1>\r", "    <ul>\r", "<?php mc_date_list(); ?>\r", "    </ul>\r", "    </div>\r", "    <div class=\"tag_list\">\r", "    <h1>标签</h1>\r", "    <ul>\r", "<?php mc_tag_list(); ?>\r", "    </ul>\r", "    </div>\r", "    <div class=\"clearer\"></div>\r", "<?php } else { ?>\r", "<?php   if (mc_is_tag()) { ?>\r", "    <div id=\"page_info\"><span><?php mc_tag_name(); ?></span></div>\r", "<?php   } else if (mc_is_date()) { ?>\r", "    <div id=\"page_info\"><span><?php mc_date_name(); ?></span></div>\r", "<?php   } ?>\r", "    <div class=\"post_list\">\r", "<?php   while (mc_next_post()) { ?>\r", "    <div class=\"post\">\r", "      <h1 class=\"title\"><?php mc_the_link(); ?></h1>\r", "      <div class=\"tags\"><?php mc_the_tags('','',''); ?> by <?php mc_nick_name(); ?> at <?php mc_the_date(); ?></div>\r", "      <div class=\"clearer\"></div>\r", "    </div>\r", "<?php   } ?>\r", "    <div id=\"page_bar\">\r", "<?php   if (mc_has_new()) { ?>\r", "      <span class=\"prev\" style=\"float:left;\"><?php mc_goto_new('&larr;较新文章'); ?></span>\r", "<?php   } ?>\r", "<?php   if (mc_has_old()) { ?>\r", "      <span class=\"next\" style=\"float:right;\"><?php mc_goto_old('早期文章&rarr;'); ?></span>\r", "<?php   } ?>\r", "      <div class=\"clearer\"></div>\r", "    </div>\r", "    <div class=\"clearer\"></div>\r", "    </div>\r", "<?php } ?>\r", "  </div>\r", "  </div>\r", "  <div id=\"side\">\r", "    <div id=\"navbar\">\r", "      <ul>\r", "        <li><a href=\"<?php mc_site_link(); ?>/\">首页</a></li>\r", "\t\t<?php\r", "\t\t\tif($mc_config['url_rewrite'] == 'on'){\r", "\t\t\t\t$archive_url = '/archive/';\r", "\t\t\t\t$rss_url = '/rss/';\r", "\t\t\t  }else{\r", "\t\t\t\t$archive_url = '/?archive/';\r", "\t\t\t\t$rss_url = '/?rss/';\r", "\t\t\t  }\r", "\t\t?>\r", "\t\t<li><a href=\"***\">关于</a></li>\r", "        <li><a href=\"<?php mc_site_link(); echo $archive_url; ?>\">存档</a></li>\r", "        <li><a href=\"<?php mc_site_link(); echo $rss_url; ?>\">订阅</a></li>\r", "      </ul>\r", "    </div>\r", "  </div>\r", "  <div class=\"clearer\"></div>\r", "  </div>\r", "</body>\r", "</html>", " 是的啊，在一个 php 里用数组保存然后调用的", "靠。。。你<div>那些 html 已经在<?php ?>里面了，而且前面是单引号，当然没有用了。。。最基本的东西，改成下面的\r", "\r", "<div class=\"ds-thread\" data-thread-key=\"' . mc_the_name() . '\" data-title=\"' . mc_the_name() . '\" data-url=\"' . curPageURL() . '\"></div>", "..\r", "\r", "\r", "大哥……你在函数里是 return 的……貌似应该这么用：\r", "<?php echo func(); ?>\r", "\r", "你的 echo 的呢？", " review 了下代码：\r", "\r", "<?php\r", "$mc_config = array (\r", "    'user_nick' => '***',\r", "    'comment_code' => '<!-- 多说评论框 start --><div class=\"ds-thread\" data-thread-key=\"' . mc_the_name() . '\" data-title=\"' . mc_the_name() . '\" data-url=\"' . curPageURL() . '\"></div> <!-- 多说评论框 end --> <!-- 多说公共 JS 代码 start (一个网页只需插入一次) --> <script type=\"text/javascript\"> var duoshuoQuery = {short_name:\"***\"}; (function() { var ds = document.createElement(\"script\"); ds.type = \"text/javascript\"\";ds.async = true; ds.src = (document.location.protocol == \"https:\" ? \"https:\" : \"http:\") + \"//static.duoshuo.com/embed.js\"; ds.charset = \"UTF-8\"; (document.getElementsByTagName(\"head\")[0] || document.getElementsByTagName(\"body\")[0]).appendChild(ds); })(); </script> <!-- 多说公共 JS 代码 end -->',\r", "    'url_rewrite' => 'off',\r", "    'post_nums' => '10',\r", ")\r", "?>\r", "\r", "然后主页的 php 是这样的\r", "\r", "<?php\r", "function curPageURL()\r", "{\r", "$pageURL = 'http';\r", "\r", "if ($_SERVER[\"HTTPS\"] == \"on\")\r", "{\r", "$pageURL .= \"s\";\r", "}\r", "$pageURL .= \"://\";\r", "\r", "if ($_SERVER[\"SERVER_PORT\"] != \"80\")\r", "{\r", "$pageURL .= $_SERVER[\"SERVER_NAME\"].\":\" . $_SERVER[\"SERVER_PORT\"] . $_SERVER['PHP_SELF'];\r", "}\r", "else\r", "{\r", "$pageURL .= $_SERVER[\"SERVER_NAME\"] . $_SERVER['PHP_SELF'];\r", "}\r", "return $pageURL;\r", "}\r", "?>\r", "<!DOCTYPE html>\r", "<html dir=\"ltr\" lang=\"zh-CN\">\r", "<head>\r", "<meta charset=\"UTF-8\" />\r", "<meta name=viewport content=\"width=device-width, initial-scale=1, maximum-scale=1\">\r", "<title><?php if (mc_is_post() || mc_is_page()) { mc_the_title(); ?> | <?php mc_site_name(); } else { mc_site_name(); ?> | <?php mc_site_desc(); }?></title>\r", "<link href=\"<?php mc_theme_url('style.css'); ?>\" type=\"text/css\" rel=\"stylesheet\"/>\r", "<link rel=\"shortcut icon\" href=\"/favicon.ico\"/>\r", "<link rel=\"bookmark\" href=\"/favicon.ico\" type=\"image/x-icon\"/>\r", "</head>\r", "<body>\r", "<div id=\"main\">\r", "<div id=\"header\">\r", "<div id=\"sitename\"><a href=\"<?php mc_site_link(); ?>\"><?php mc_site_name(); ?></a></div>\r", "</div>\r", "<div id=\"content\">\r", "<div id=\"content_box\">\r", "<?php if (mc_is_post()) { ?>\r", "<div class=\"post\">\r", "<h1 class=\"title\"><?php mc_the_link(); ?></h1>\r", "<div class=\"tags\"><?php mc_the_tags('','',''); ?> by <?php mc_nick_name(); ?> at <?php mc_the_date(); ?></div>\r", "<div class=\"content\"><?php mc_the_content(); ?></div>\r", "</div>\r", "<?php if (mc_can_comment()) { ?>\r", "<?php mc_comment_code(); ?> //评论似乎在这里\r", "<?php } ?>\r", "<?php } else if (mc_is_page()) { ?>\r", "<div class=\"post\">\r", "<?php /*<h1 class=\"title\"><?php mc_the_link(); ?></h1>\r", "<div class=\"tags\">by <?php mc_nick_name(); ?> at <?php mc_the_date(); ?></div> */ ?>\r", "<div class=\"content\"><?php mc_the_content(); ?></div>\r", "</div>\r", "<?php if (mc_can_comment()) { ?>\r", "<?php mc_comment_code(); ?> //评论似乎在这里\r", "<?php } ?>\r", "<?php } else if (mc_is_archive()) { ?>\r", "<div class=\"date_list\">\r", "<h1>月份</h1>\r", "<ul>\r", "<?php mc_date_list(); ?>\r", "</ul>\r", "</div>\r", "<div class=\"tag_list\">\r", "<h1>标签</h1>\r", "<ul>\r", "<?php mc_tag_list(); ?>\r", "</ul>\r", "</div>\r", "<div class=\"clearer\"></div>\r", "<?php } else { ?>\r", "<?php if (mc_is_tag()) { ?>\r", "<div id=\"page_info\"><span><?php mc_tag_name(); ?></span></div>\r", "<?php } else if (mc_is_date()) { ?>\r", "<div id=\"page_info\"><span><?php mc_date_name(); ?></span></div>\r", "<?php } ?>\r", "<div class=\"post_list\">\r", "<?php while (mc_next_post()) { ?>\r", "<div class=\"post\">\r", "<h1 class=\"title\"><?php mc_the_link(); ?></h1>\r", "<div class=\"tags\"><?php mc_the_tags('','',''); ?> by <?php mc_nick_name(); ?> at <?php mc_the_date(); ?></div>\r", "<div class=\"clearer\"></div>\r", "</div>\r", "<?php } ?>\r", "<div id=\"page_bar\">\r", "<?php if (mc_has_new()) { ?>\r", "<span class=\"prev\" style=\"float:left;\"><?php mc_goto_new('&larr;较新文章'); ?></span>\r", "<?php } ?>\r", "<?php if (mc_has_old()) { ?>\r", "<span class=\"next\" style=\"float:right;\"><?php mc_goto_old('早期文章&rarr;'); ?></span>\r", "<?php } ?>\r", "<div class=\"clearer\"></div>\r", "</div>\r", "<div class=\"clearer\"></div>\r", "</div>\r", "<?php } ?>\r", "</div>\r", "</div>\r", "<div id=\"side\">\r", "<div id=\"navbar\">\r", "<ul>\r", "<li><a href=\"<?php mc_site_link(); ?>/\">首页</a></li>\r", "<?php\r", "if($mc_config['url_rewrite'] == 'on'){\r", "$archive_url = '/archive/';\r", "$rss_url = '/rss/';\r", "}else{\r", "$archive_url = '/?archive/';\r", "$rss_url = '/?rss/';\r", "}\r", "?>\r", "<li><a href=\"***\">关于</a></li>\r", "<li><a href=\"<?php mc_site_link(); echo $archive_url; ?>\">存档</a></li>\r", "<li><a href=\"<?php mc_site_link(); echo $rss_url; ?>\">订阅</a></li>\r", "</ul>\r", "</div>\r", "</div>\r", "<div class=\"clearer\"></div>\r", "</div>\r", "</body>\r", "</html>", " 依旧没有用啊( ▼-▼ )后台调用出来就是' . mc_the_name() . '", " 这个试过了并没有用", " 报告大大，还是木有用::>_<::", " #15 MaiCong 的看上去并没有问题。如果你觉得没有用，请说清楚点，不要一句没有用然后继续让人猜吧……", "没用过多说，但是从理解上来看。这个数组中的这个元素是被直接输出了的。 php 只进行了数组输出的解析。输出后按照普通字符对待。所以你这里如果能用 js 进行解决的话，就不要放在后端处理了。", "基本 debug 能力都没有，怎么学的 php\r", "先在上面那个文件的末尾，加上\r", "\r", "var_dump($mc_config);\r", "die();", "文件是不是.php 的？", "代码上看就是没有 echo 的问题。本地测试无误。"]},
{"content": ["<div class=\"topic_content\">这里上不了图，不过大家应该对 QQ 邮箱里的那个记事本熟悉吧，非常想搞个那样的记事本编辑器，那里有下载？或者购买？</div>"], "reply": "25", "tittle": "那里有 QQ 邮箱记事本那样的简单的编辑器啊", "comment": ["\r", "这个算吗？", "最好像 ", " 算吧，不过我还希望简单点...........", " 自己配置嘛 想要什么功能就留什么功能就好了。", " 真的很简单,20k 左右的代码量,具备常用简单功能", "SimpleNote", " 恩这个比较符合我的胃口。\r", " 小白一枚， JAVASCRIPT 都不会啊，配置有困难.", "\r", "\r", "这个就是你想要的", "notepad.cc 不过好像马上要关闭了", " 所以有了我上面说的那个玩意儿……", "Synology DiskStation Note Station DS Note", "想要简单的编辑器的话： contentEditable=\"true\"", "  google chrome 浏览器下显示不正常.", " sf 那个 是 WMD 不过 官网打不开 我翻了半天也没找到合适的下载 其实有文档的 配置起来没那么难，你甚至可以直接搬 demo 的代码。", "特意看了看，感觉那就是个 textarea 呀", "Summernote\r", " 这个不错", " 有截图吗?这就是在 chrome 下开发的呀", " 请问你这个图是怎么显示在 V2EX 的，我怎么找不到上传图的地方。编辑器也确实简洁.谢谢\r", "\r", " 那个不错？", " 我不知道怎么上传截图.......", " V2EX 支持 markdown 语法,你搜下", "sharetext.cn", "wizwiz", "嘻嘻嘻\r", "是是是"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最好是开源的<br>\n国内外的都行<br>\n主要是自己用来做 Laravel 框架的学习</p>\n</div></div>"], "reply": "4", "tittle": "除了 phpstore，有没有其他的基于 Laravel 框架的交易系统？", "comment": ["laravel 的设计个人觉得挺烂的，框架启动的时候实例化了太多东西\r", "框架学习和交易逻辑是可以分开的，也可以自己写个交易玩玩，框架就熟了", " laravel 基本就是 rails on php 。。。大型框架集成东西是多了点。。。", "看到楼主的头像后我觉得粉了", "为何不自己写一个"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>学习成本太高了！捣鼓了一个礼拜，周一到周五，才完全从 0 开始到可以开始项目。</p>\n\n<p>需要解决的好多小问题，到处都没有详细说，浪费了居多时间。</p>\n\n<p>目前实现几个功能：</p>\n\n<p>1 、 windows xp 的主机， 8G 可用内存，可以开虚拟机好几个，也不卡。<br>\n2 、 Windows 共享目录给 vbox 建立的虚拟机<br>\n3 、可以直接在浏览器中访问 vbox 建立的网站 /app<br>\n4 、 PhpStorm 可以单步调试 App ，文件位于 host 的 Windows 之上。浏览是通过本地的 127.0.0.1:8080 访问到虚拟机的 80 端口。<br>\n5 、利用同步技术，可以把这个 Windows 建立出来的共享目录，几台机器都同步，到哪里都可以接上工作</p>\n\n<hr>\n\n<p>但是~为什么选择 laravel ？？？</p>\n\n<p>1 、 vagrant 以前没接触过，建立的共享目录，在虚拟机里面不能用 laravel 来 new 了，会说已经存在 APP 了。</p>\n\n<p>比如虚拟机自己对外的目录为：/var/www/html/<br>\n那么配置共享目录就只能为 e://coding/Share/ /var/www/html/Share/</p>\n\n<p>以后每个新建项目只能为 Share 下的 App001 之类的，又加上 public 才能访问，那么如果网站路径根目录是 /var/www/html/的话，浏览器访问就特长了：<br>\nhttp://localhost:8080/Share/App01/public/ 这样才是根目录。</p>\n\n<p>3 、 laravel 删除一个项目，是不是直接删掉这个项目的文件夹就可以了？</p>\n\n<p>4 、 phpStorm 要用 xdebug 来单步调试，端口转发的问题也很折腾，怀念以前 zend studio 的时代，装好一个软 件，就全部搞好了，这个需要自己搞虚拟机，自己进虚拟机里面搞 xdebug ， xdebug 设置的 9000 调试目录到底有没有用？还有 PhpStorm 里面的配置地方好几处，非常不清晰啊。</p>\n\n<p>遗留几个问题：</p>\n\n<p>1 、用 composer 和 laravel new 新建项目有什么不同？ laravel new 的速度太慢了。<br>\n这个问题我自己比较了一下，后者就在最后多说了一句：<br>\nApplication ready! Build something amazing.<br>\n看起来 B 格比较高。。。建议用 Larvel new 吧，没啥区别。</p>\n\n<p>2 、目前还没开始做项目 laravel 5.2 没有开箱就用的用户认证了么？怎么自行重新写？<br>\n3 、 laravel 和 CI 的简洁相比，实在启动学习成本太高了，求问啥优势让 laravel 这么受欢迎？</p>\n\n<p>其他 VPS ，只要启动 php 和 MYSQL ，把 CI 丢进去，基本上就可以用了。</p>\n\n<p>laravel 不是太麻烦了么？为什么选择 Laravel ？求高手给讲解一下。</p>\n\n<p>MVC 的形式确实非常方便，但是感觉 CI 真简洁好用啊。。。</p>\n\n<p>我在开发环境搭建的问题上，弄了这么多天，终于全部搞清楚了。</p>\n\n<p>下面怎么开始，领略 laravel 的魅力呢？求老司机带带我。。</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.lilin.net\">www.lilin.net</a><br>\n个人博客，欢迎来交流玩玩。。。</p>\n</div></div>"], "reply": "9", "tittle": "大吼一声，凭什么选择 Laravel？学习成本太高了！", "comment": ["1 、结果没区别。 composer 可以选国内源就快了\r", "composer config -g repo.packagist composer ", "\r", "\r", "2 、 php artisan make:auth --views\r", "开箱就用，见文档。\r", "\r", "3 、我也是刚学了一个星期，感觉如果复杂项目，比 CI 开发效率更好吧。", "如果说光配置起来环境，不用 homestead 的话，大约 1 到 2 天就好了。\r", "\r", "但是如果需要搭配 windows 共享目录，以及各台机器同步项目文档，以及 PhpStorm 的单步调试。。。\r", "\r", "那确实是一个容易让人吐血的过程。", " 我觉得虚拟机里边跑个 Ubuntu ，然后从头开始配置环境也就一两个小时吧", "1,不用 vagrant 省去大部分问题。\r", "2,直接在 window 下开发省去 wamp 相关的配置问题（为何非要在 linux 下？）。\r", "3,同步技术应该用 git 、 svn 这类。", "Rails 笑了", "哈哈哈 如果你足够优秀 用半年你就知道了 半年后你再来看看你的帖子 :)", "  不用 vagrant 确实省去好多事情，但是 linux 是将来架设到 vps 上一个同等环境的机会呀。更何况 host 经常 ghost 或者切换不同的 PC ，家里一台，办公室一台，用 vagrant 可以做到环境一致。\r", "\r", " Rails 我都没敢想，毕竟运行环境更不好弄。\r", "\r", "\r", " 借你吉言，这两天看了一下基础教程，确实挺激动人心的，感觉省事好多，就是觉得这个环境这么难弄，到时候上 vps ，估计好多便宜的 vps 都跑不起来。。。", "更新一下状态，最近停止学习了，每天很累，带小孩，而且主要是心理觉得累，不想写程序，打打 dota ，很满足了。估计心理低潮期了，等有力气了，继续。", "为啥不学 yii ？  始终觉得最好的框架是 yii"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a target=\"_blank\" rel=\"nofollow\" href=\"https://lamp.sh/install.html\">https://lamp.sh/install.html</a> <br>\n给出的需要链接外网， 如果搭建在内网的话有什么解决方案？<br>\n一键部署 lamp</p>\n</div></div>"], "reply": "14", "tittle": "有没有离线的 LAMP 的环境？", "comment": ["你需要先下载安装包", "xampp", "upupw", "老老实实一个一个装吧，什么一键安装包最坑爹了。", "\r", "这里面 lanmp 都有，你可以下一个看看", "老老实实一个一个装吧，什么一键安装包最坑爹了。", "MAMP for Mac / Windows\r", "\r", "WAMP", "下载 rpm 包（或 deb 包），及相关依赖包，随便到哪里安装，这最简单。\r", "或者目标机器上有编译环境，从源码安装。\r", "\r", "btw ，严重不建议使用所谓“一键 xxx ”", " 但是目标机器是在内网，如何安装相关依赖呢？", "我这边 ubuntu server ，直接 mirror 一个单版本的 apt 源，才不到 200G ，然后硬盘拿内网建个内网源，供一堆内网服务器爱装啥装啥……", "usbwebserver: ", "下了 lamp 自己编译就行了", " 查一下需要哪些依赖包，逐个下载下来，拷到目标机器上一并安装"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>强制使用 https 了</p>\n</div></div>"], "reply": "3", "tittle": "Composer 中国镜像出问题了 怎么切换回官方镜像？", "comment": ["我昨天是吧~/.config/composer/config.json 删除了  不保证有用", "\"config\": {\r", "    \"secure-http\": false\r", "}\r", "\r", "composer.json 里加上这一句就可以了。", " 哈哈谢了 可以了"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>事情是这样的：昨天下午（ 2016-03-02 ）</p>\n\n<p>突然接到一个陌生的手机号的电话，自称七牛的工作人员 XX ，说：检测到我的资源请求极度异常，要求我把资源删除。（态度极度不好）</p>\n\n<p>首先怀疑过这打电话的骗子吧，然后确认了对方的姓名，去打七牛官方客服确认了一下。竟然是真的！</p>\n\n<p>后来看了一下七牛后台，流量算是正常， API 请求突破 1 亿。心想：<strong>艹！！！！</strong></p>\n\n<p><img src=\"https://wt-prj.oss.aliyuncs.com/0d06af79c49d4e08abb1ab3f7ab6e860/6fb9aa88-4f53-4673-8a86-a26f49bc91fc.png\" alt=\"替代文字\"></p>\n\n<p>后来看了一下 log ，这些请求都是使用了七牛 vframe 参数，来自同一个 ip ： 203.195.162.177 。 顺手把这 ip 一搜：</p>\n\n<p><img src=\"https://wt-prj.oss.aliyuncs.com/0d06af79c49d4e08abb1ab3f7ab6e860/b9d3c117-5550-4482-8c18-7feb2954ddab.png\" alt=\"替代文字\"></p>\n\n<p><strong>额。。。。。。。。。。你是要这样一帧一帧拿我的视频么？</strong>猜测如下：</p>\n\n<ol>\n<li>腾讯官方采集我的视频，有可能是腾讯课堂之类的</li>\n<li>友商在使用腾讯云采集我的视频，这盗版技术还行啊</li>\n</ol>\n\n<p>处理是：应用封 ip ，云盾封 ip ，改变七牛存储策略</p>\n\n<p>处理完之后有几点感受：</p>\n\n<ol>\n<li><p>毕竟自己 too naive ，世上好人比坏人多，但永远不要忘记防着坏人。</p></li>\n<li><p>虽然郁闷了一个下午，但这样也挺好的，学习了一点东西。</p></li>\n<li><p>个人觉得七牛的客服非常的差，上面那位工作人员尤其，姓李，女，单名。</p></li>\n<li><p>七牛的处理方式个人觉得也是不妥，发工单也是没啥具体效果。</p></li>\n<li><p>至于七牛的费用，交完。然后，<strong>去瞅瞅又拍云</strong>。</p></li>\n</ol>\n</div></div>", "<div class=\"topic_content\">说明：本来打算方便用户下载免费视频，就直接把视频放到了公开的 Bucket ，结果还是被搞了一次。</div>"], "reply": "14", "tittle": "记一次 laravist 被搞的过程。", "comment": ["为啥七牛的态度那么差？ @", "  @", "采集免费视频？你提供个下载接口吧 哈哈", "做个分布式存储，注册若干小号", "哈哈，七牛印象不好了！", "说明：本来打算方便用户下载免费视频，就直接把视频放到了公开的 Bucket ，结果还是被搞了一次。", " 用阿里的 Bucket 吧，至少服务态度不错，反馈很快。", " 恩，再看看咯。刚刚看了一下又拍云的 php sdk ，瞬间懵逼", "哈哈哈  李小姐...", "那个 IP 是腾讯云的吧？", "有可能是有人在腾讯云上挂了个采集而已，腾讯课堂这样采集的可能性不大！\r", "\r", "另外，如果用阿里云的话，用 OSS 也不错！", "可能是腾讯云，这种情况可以去联系他们投诉的。", "> 毕竟自己 too naive ，世上好人比坏人多，但永远不要忘记防着坏人。\r", "\r", "世上好人比坏人多，但是“好人”一般都是闭嘴的。\r", "\r", "另外这就是国内创业环境这么差的原因，以前是偷你东西说合理，现在是有点东西就开抢。\r", "\r", "还有，你看，一个人的好和坏与他的知识水平没有任何关系。能够费劲心思去下载这些视频，想必很聪明智商很高，但你看，仍然在做这些不道德的事。", "   您好， 3 月 02 下午七牛后台监控到你账号下视频 进行大量的非法 vframe 请求。\r", "\r", "即：取像素为 1x1 的视频帧，  这边以为客户进行了大量错误的测试，所以立即通知客服经理来通知立即停止该操作。   可能转达过程中有部分误解，见谅。\r", "\r", "工单号 13091 最后给了详细说明， 之前由于工单问题描述, 内部同事的信息同步等造成您的疑惑没有立即解决，再次抱歉。\r", "\r", "我们这边会优化下客户问题的监控及通知流程， 非常感谢对七牛的支持。\r", "vframe 详细文档见： ", " 恩，是的。工单最后是有详细说明了，不过那是一天之后的？那个时候我看 log 已经看到问题的存在了。\r", "\r", "最后，你们的产品还是做得很棒的。也挺好，这过程也学到了一些东西"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题。<br>\n很多时候找不到,或者很慢，请问大家有没有什么好的办法？</p>\n</div></div>"], "reply": "24", "tittle": "在一个陌生的 Linux 环境里如何快速找到 apache、php 这些配置文件、日志、目录等？", "comment": ["搜索啊", "ps -ef|grep httpd      cd /proc/pid     再就是无脑 find", "locate php.ini", "看运维文档", "如果是已经运行的环境那最方便了...\r", "装个 htop 看..", "Whereis", "find / -name 不觉得慢啊", "正常情况先 ps aux | grep php 查看进程加载的配置文件，然后查看配置文件找到日志目录。", "php --ini 可以看用的哪个 ini", "<?php  echo php_info();", "正常情况下 man 应该有", "whereis 试试看", "首先是 ps -ef  |grep apache or php or nginx 一般都会有", "我建议你先找出这个 Linux 发行版 Distribution 的名字：\r", "\r", "cat /etc/*release*\r", "\r", "这里会显示 Ubuntu ， Centos ，或着别的什么，某种 Linux Distribution 对 Apache 和 PHP 的配置文件位置一般都是固定的，这时候你就可以上网搜了。", "首先用 lsof 或者 fuser 找到正在指定端口上工作的 www 服务器，然后根据其路径、-V 、-h 等提示找到配置文件\r", "需要注意的是，系统里不一定只有一个 www 服务器，也不一定只有一套 php", "记得好多程序都支持添加参数 chaikia 拆看在使用的配置文件", "就俩人提到看文档？\r", "看文档不是运维必备的技能么", "locate, 最佳选择\r", "没有装的话安装 mlocate, 然后 sudo updatedb", "我一般看 /etc/init.d/xxx 里面怎么配的，再看看 ps aux 有动态指定的", "骚年:\r", "\r", "apachectl  -V\r", "\r", "nginx  -V", " 用 man 一行行看会累死人的。", " 你一行一行得看？直接搜 config 和 log 这样的关键字呀", " 是必备技能，但对于 apache 和 php 这种常见软件，犯不着看文档", " 文档包括 man ， info ， wiki 。文档最权威。一般能立马从手册里搜出来 config 和 log"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><strong>分享最近学习 laravel 做的一个 Demo 成果，定位于为 laravel 新人提供一些使用框架的思路，欢迎关注和交流:)</strong></p>\n\n<h3>页面预览</h3>\n\n<h4>前台</h4>\n\n<p>访问 <a target=\"_blank\" rel=\"nofollow\" href=\"http://115.28.40.237/\">http://115.28.40.237/</a><br>\n<code><br>\n体验用户 账号 eden 密码 123456 请尽量不要更改线上数据哈<br>\n</code></p>\n\n<p>目前项目暂时部署在阿里云上</p>\n\n<p>前台主要使用 bootstrap+flatui 构建<br>\n<img src=\"http://i13.tietuku.com/d259da2c268ddd85.png\" alt=\"\"></p>\n\n<p><img src=\"http://i13.tietuku.com/068c80fc9fc759ff.png\" alt=\"\"></p>\n\n<p><img src=\"http://i13.tietuku.com/9117cd456c445d86.png\" alt=\"\"></p>\n\n<p><img src=\"http://i13.tietuku.com/00aebb4f31f48e43.png\" alt=\"\"></p>\n\n<h4>后台</h4>\n\n<p>访问 <a target=\"_blank\" rel=\"nofollow\" href=\"http://115.28.40.237/admin\">http://115.28.40.237/admin</a><br>\n<code><br>\n初始管理员 账号 admin 密码 123456 请尽量不要更改线上数据哈<br>\n</code><br>\n后台 ui 采用的是 AmazeUI<br>\n<img src=\"http://i13.tietuku.com/c156f5744143186d.png\" alt=\"\"></p>\n\n<h3>本项目实现的主要功能</h3>\n\n<p>1)<strong>前后台分离用户验证</strong></p>\n\n<p>2)<strong>前台主要功能</strong>：<br>\n注册登录、忘记密码、发布动态、申请活动、发布评论、回复评论、<br>\n收藏动态、收藏活动、动态 /活动 /评论点赞<br>\n编辑个人信息、关注用户、 @提醒、即时消息提示、站内检索、分类导航..</p>\n\n<p>3)<strong>后台主要功能</strong>：<br>\n活动 /评论 /分类 /用户动态管理、活动审核、发布平台活动、<br>\n导航管理、首页幻灯片管理、用户管理、站点公告管理..</p>\n\n<p><strong><em>TODO:</em></strong><br>\n将来考虑加入的功能：<br>\n用户分组、私信发送、活动报名、站内信、用户推荐、举报..</p>\n\n<p>另外由于项目时间等等问题，本来考虑使用 vuejs 完成部分前端内容，但最终还是保持最简单的前端写法，后续会考虑引入一些新的前端技术和利用 ajax 等方式优化一下前端部分的交互。</p>\n\n<h3>项目参考</h3>\n\n<p>本项目在实现过程中参考了目前基于 laravel 的部分项目源码，主要项目有：</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/summerblue/phphub\">https://github.com/summerblue/phphub</a> （ phphub 网站的源码）</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/douyasi/yascmf\">https://github.com/douyasi/yascmf</a></p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/BootstrapCMS/CMS\">https://github.com/BootstrapCMS/CMS</a> （代码规范，推荐阅读）</p>\n\n<p>本项目使用的部分 composer 包：</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/lazychaser/laravel-nestedset\">https://github.com/lazychaser/laravel-nestedset</a> <br>\n(处理树形结构数据：如无限级分类、导航等)</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/Sarav-S/Laravel-Multiauth\">https://github.com/Sarav-S/Laravel-Multiauth</a> <br>\n(用户分表验证，可将不同角色用户存到不同的 user 表中 ，分别进行管理)</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/andersao/l5-repository\">https://github.com/andersao/l5-repository</a><br>\n(用于 Laravel5 的 Repository 抽象包，支持实现 Repository 层逻辑)</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/stevenyangecho/laravel-u-editor\">https://github.com/stevenyangecho/laravel-u-editor</a><br>\n(百度 ueditor 富文本编辑器，<br>\n如果遇到无法上传图片的问题可以参考这个 issue:<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/stevenyangecho/laravel-u-editor/issues/6\">https://github.com/stevenyangecho/laravel-u-editor/issues/6</a>)</p>\n\n<h3>一些题外话</h3>\n\n<p>很早之前就听说了 Laravel 的大名，最近有空的时候学习了一下这个框架的一些基本用法，利用空余时间断断续续地做了一个月多点的时间，基本把这个项目做成了现在这个样子，主要定位于给 Laravel 的初学者提供一些使用框架的思路。</p>\n\n<p>和之前接触的一些框架（ tp 、 ci 等等）相比， laravel 无疑在构建一个更规范的工作流方面做得更加出色， composer 支持、好用的 Eloquent ORM 、好用的 Blade 模板、好用的 Restful 路由、方便的 Form Request..这些都能减少开发过程中的很多思考时间，使开发者更专注于项目功能的实现。</p>\n\n<p>当然由于我自己的各种经验欠缺问题（今年应届），在这个项目许多实现上还是非常 simple 和 naive 的，接下来的时间还是需要更多的思考如何能够更好地解决部件解耦、减少重复和提高代码质量等问题，希望能够和大家交流，向大家好好学习:)</p>\n\n<h3>项目地址</h3>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/EdenChan/StartupsCampfire\">https://github.com/EdenChan/StartupsCampfire</a></p>\n\n<p>求关注 求 star 求交流~</p>\n</div></div>"], "reply": "3", "tittle": "[分享] 基于 Laravel5.1 的创业者社区 Demo", "comment": ["mark", "Whoops, looks like something went wrong.", "vue 还是很方便啊"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>各位同学，</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.angejia.com/\">安个家</a>技术团队开源了一套 Eloquent 模开的 Redis 缓存项目<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/angejia/pea\">Pea</a>。我们已经在生产环境大量使用，欢迎大家测试评估，更欢迎提交<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/angejia/pea/issues\">issue</a>和<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/angejia/pea/pulls\">pull request</a>。</p>\n\n<h2>特色</h2>\n\n<ul>\n<li>行级缓存</li>\n<li>表级缓存</li>\n<li>自动过期</li>\n</ul>\n\n<p>更多细节参考<a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/angejia/pea/wiki\">wiki</a>。</p>\n\n<h2>安装</h2>\n<div class=\"highlight\"><pre>composer require angejia/pea:dev-master\n</pre></div>\n\n<h2>使用</h2>\n\n<p>在<code>config/app.php</code>中添加<code>Angejia\\Pea\\ServiceProvider</code>，然后使用<code>Angejia\\Pea\\Model</code>替换<code>Illuminate\\Database\\Eloquent\\Model</code>。 最后在模型中设置<code>protected</code>属性<code>$needCache</code>为<code>true</code>即可开启缓存支持。</p>\n<div class=\"highlight\"><pre><span class=\"x\">class UserModel extends \\Angejia\\Pea\\Model</span>\n<span class=\"x\">{</span>\n<span class=\"x\">    protected $needCache = true;</span>\n<span class=\"x\">}</span>\n</pre></div>\n</div></div>"], "reply": "1", "tittle": "Laravel Eloquent Eloquent 透明缓存", "comment": ["支持！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>比如一个 PHP 的 shell 脚本，每天定时任务跑，这个脚本可能需要处理一段时间，怎么知道脚本在执行过程中出现中断，中断了往往如何处理呢？</p>\n</div></div>"], "reply": "6", "tittle": "shell 脚本中断了怎么知道并如何处理？", "comment": ["在脚本里处理好这些意外情况吧", "现在回过头来想想脚本没有事务的概念也是很烦。", " 如果是知道可能出现异常的地方可以加异常捕捉进行处理，但是意想不到的情况呢", "脚本开始运行时跑一个观察者，然后脚本正常运行退出之前输出某些东西，然后如果脚本退出而且没有输出的话，就是中断了？", " 观察者也异常了呢", " 如果只是一个观察者都轻易异常退出，只能说平台太不稳定了……"]},
{"content": ["<div class=\"topic_content\">最近公司要开发一个类似百度云的平台管理系统，界面功能差不多，不知道后台怎么选啊，请出个注意吧</div>"], "reply": "1", "tittle": "类似百度云的管理平台，那个开源系统比较合适？", "comment": ["私有云吗？推荐 seafile 和 坚果云"]},
{"content": ["<div class=\"topic_content\">自己做一个字典 /词典库,所以使用 PHP 从两个网站爬下来， 格式化后入 MySQL 库\r<br>\r<br>总共 7W 个字 /词，全部完成大概是半小时（感谢这两个网站似乎没有做限制，网站性能也不错）， CPU 利用率是在 150%（ 4 核心平均 40%）左右。\r<br>\r<br>这个效率我还是能接受的，不知道有没有更快的？更快主要需要有哪些方面优化？</div>"], "reply": "35", "tittle": "最近用 PHP 写爬虫，自我感觉速度效率还不错", "comment": ["爬虫爬太快不是作死么", "半小时大概 1800 秒\r", "\r", "7W 条记录的话，如果每条记录查询一次，那么就是每秒 70000/1800 ＝ 38 次查询，并不算快", "比如复用长连接？", "如果想更快可以多进程，异步\r", "\r", "PHP 并不能异步，那么多开几个进程同时爬取可能会更快一些\r", "\r", "ps ：爬虫太快了容易被封", " 请问爬的哪两个网站？", " 你这个是查询数据库的计算， 7W 字词是入库后的数据。\r", "每一条数据是从别人网站上爬下来的，因为要考虑网络请求失败问题（主要有网络超时，网站 403 ，获取到的数据不全等重复请求），所有并不是 38 次查询请求", "好像有个说法是不用  sleep(3) 的爬虫都是爬虫届的耻辱么？", " 字典是这个 5156edu ，词典是另一个", " 嘿嘿，我多线程， 50 个索引线程，每个索引线程再开 20 个内容线程，爬取时失败等待 500 微秒，然后每失败一次递增，看来是我运气比较好", " \r", " \r", "爬虫不要裸着身子爬,用 tor 或者 hornet 之类代理,身份匿名不可追踪,不断更换 ip.我用来爬过人家密码库,php 开一百个进程.24 小时不停机,从来不 sleep.", "PHP 里 curl_multi 实现并发确实很快，以前用来爬豆瓣可以跑到 30M+。\r", "毕竟爬虫瓶颈不在入库，而在网络。\r", "只要网络可以实现并发，用什么语言写都一样。", "爬出来能否分亨一份", " 数据不能共享", "爬虫的效率似乎取决于对方网站有没有加限制吧。。。", "有代码开源研究研究么", " 为什么我用 Hornet 搜到的是 Gay Social Network ！你让我搜了什么！", "php 本来就是最好的语言，没什么意外啊", " 用 tor 吧， tor 还带了个 tor-browser ， terminal 下还针对小白用户有个 tor-arm 。用 curl 试一下会看到类似下边的效果，做爬虫你值得拥有！\r", "ProxyChains-3.1 ( ", ")\r", "|DNS-request| ip.cn \r", "|S-chain|-<>-127.0.0.1:9050-<><>-4.2.2.2:53-<><>-OK\r", "|DNS-response| ip.cn is 40.78.110.144\r", "|S-chain|-<>-127.0.0.1:9050-<><>-40.78.110.144:80-<><>-OK\r", "当前 IP ： 77.247.181.163 来自：荷兰 \r", "crab@sb:~$ proxychains curl ip.cn\r", "ProxyChains-3.1 ( ", ")\r", "|DNS-request| ip.cn \r", "|S-chain|-<>-127.0.0.1:9050-<><>-4.2.2.2:53-<><>-OK\r", "|DNS-response| ip.cn is 40.78.110.144\r", "|S-chain|-<>-127.0.0.1:9050-<><>-40.78.110.144:80-<><>-OK\r", "当前 IP ： 94.242.228.108 来自：卢森堡 \r", "crab@sb:~$ proxychains curl ip.cn\r", "ProxyChains-3.1 ( ", ")\r", "|DNS-request| ip.cn \r", "|S-chain|-<>-127.0.0.1:9050-<><>-4.2.2.2:53-<><>-OK\r", "|DNS-response| ip.cn is 40.78.110.144\r", "|S-chain|-<>-127.0.0.1:9050-<><>-40.78.110.144:80-<><>-OK\r", "当前 IP ： 149.202.98.161 来自：法国 OVH", "我曾经用 PHP 扫过疼群的音乐库，挂在服务器慢慢扫的，后来本来想逐一下载。。。结果发现疼讯把洞补上了，，，（是年尾那次针对版权音乐的升级）", "都是大神", " 话说 curl_multi,如何做到开 8 个并发数，然后处理完 1 个马上再添加一个任务进去？就是保持有 8 个并发数\r", "\r", "之前自己封装的 curl_multi 以为能达到这种效果，但后来自己开了台 http 服务器进行测试，发现是 8 个处理完了再添加 8 个，如果 8 个中 7 个完成， 1 个卡住了，也要等到这 1 个超时才会再添加新的 8 个任务", " 如果你想实现这个，你应该把爬虫程序封装成一个通过传入参数发起一次抓取的 PHP ，然后用另一个 PHP 程序通过 call 之前写的 PHP 子程序，再自己通过 memcached 之类的实现一个锁。", " 现在是用 redis 和 curl 实现类似效果，你说的封装是封装 curl_multi 还是 curl ？", " 我表示很无辜 收到了提醒被 at 了……", "全部排名已经查询完毕,总用时: 7306 秒,总添加: 2096164\r", "单线程跑 JD 商品的数据\r", "速度还可以,50 个 get 最慢 15 秒", " 用代理速度很慢吧,在终端不能看见唰唰唰的显示不舒服的说", " \r", "您好，请教个问题， tor 如何切换 IP ？我在 linux 用 torsocks 貌似都是同一个 IP 。", " 兄弟，你这 ID 颇有我年轻时候的风范", " tor 出口在国外，用 ss", " tor-arm 可以显示你的上下行速度，以前用的时候上下 1m 多", "爬虫瓶颈不在并发速度啊。。。。骚年", "对方网络如果说没有限制并发，你这弱爆了\r", "\r", "曾经确认发现某站没有爬虫限制，抓了整站百万的内容，也不过俩小时\r", "\r", "curl_multi 大法好", "全世界最大的爬虫  google 蜘蛛 他们用的什么技术", " curl 啊", "php curl+cli mode = 效率还可以的爬虫\r", "\r", "毕竟爬虫的关键不在于多快，而在于对方的限制和本地网络状况\r", "\r", "现在写爬虫我都习惯了 sleep 间隔了。 一来没必要太快 二来稳定更重要，多出两个小时就多两小时"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>&lt;?php<br>\n    header(\"Content-type:text/html;charset=utf-8\");<br>\n    try{<br>\n        //用 pdo 连接数据库<br>\n        $pdo = new PDO(\"mysql:host=localhost;dbname=project\",\"root\",\"\");<br>\n        //设置错误处理模式  异常处理错误处理模式<br>\n        $pdo-&gt;setAttribute(PDO::ATTR_ERRMODE,PDO::ERRMODE_EXCEPTION);<br>\n    }catch(PDOException $e){<br>\n        echo \"数据库连接失败，原因是\".$e-&gt;getMessage();<br>\n    }<br>\n    //查询数据<br>\n    $result=$pdo-&gt;query(\"select * from user limit 5\");</p>\n\n<p>查询到的中文显示问号   求解</p>\n</div></div>"], "reply": "8", "tittle": "PDO 下设置字符集的问题", "comment": ["$pdo = new PDO(\"mysql:host=localhost;dbname=DB;charset=UTF8\", DB_USER, DB_PASS);", "$pdo->exec('set names utf8')", "php5.3.6+ 应该可以像上面这么写，低版本就像下面写 \r", "\r", "$db = new PDO('mysql:host=myhost;dbname=mydb', 'username', 'password', array(PDO::MYSQL_ATTR_INIT_COMMAND => 'SET NAMES \\'UTF8\\'')); \r", "\r", "顺便 UTF8 不管用就试试小写。或者 utf-8 。。。具体忘了。。", " 是 utf8  谢啦", " Get 到了 ths", " var_dump($result) 后返回这个\r", "object(PDOStatement)[2]\r", "  public 'queryString' => string 'select * from user limit 4' (length=26)是什么东东\r", "既然是语句怎么还能获取数据，像这样$list=$result->fetchAll(PDO::FETCH_ASSOC);print_r($list)", "result 是个 PDOStatement 对象啊，语句只是他其中的一个 public 属性，获取数据的话  用 fetch 获取一行 或者 fetchAll 获取全部。", " 嗯 我再理解理解"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>Controller 代码：<br>\n  <code>public function show(Request $request,$id){<br>\n      $person = DB::table('persons')-&gt;where('id',$id)-&gt;get();<br>\n      return view('showuser',compact('person'));<br>\n    }</code></p>\n\n<p>我在 view/showuser.blade.php 怎么写才能显示出 person 这个对象的值？</p>\n\n<p>必须这么写才行 <code>{{ $person[0]-&gt;id }}</code>  ???</p>\n\n<p>感觉这样显示的值是个数组啊。 不是对象啊。</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>解决了 通过用 Eloquent ORM 达到我想要的方式了。</p>\n\n<p>同样是从数据库中取值 三种方式：<br>\n1.直接利用 DB 查询 fisrt()<br>\n<code>$person  = DB::table('person')-&gt;where('id,$id)-&gt;first()</code><br>\n2.直接利用 DB 查询 get()<br>\n<code>$person  = DB::table('person')-&gt;where('id,$id)-&gt;get()</code><br>\n3.通过 orm 方式<br>\n先创建 Person model 然后<br>\n<code>$person = Person::findOrFail($id);</code></p>\n\n<p><code>view('showuser',compact('person'));</code></p>\n\n<p>那么在 showuser.blade.php 中<br>\n1 和 3  是直接用 {{ $person-&gt;FirstName }}<br>\n2 的话 需要循环数组或者直接取数组第一个值 {{ $person[0]-&gt;FirstName }}</p>\n\n<p>我可以理解为 first() 和 orm  得到的都是对象可以直接通过调用对象中属性的方式 来获取数据。<br>\n而 get()得到的是数组。 所以得先取数组的值 然后在通过调用属性获取数据是么。。。</p>\n\n<p>刚开始玩 php   6 不起来啊</p>\n</div></div>"], "reply": "9", "tittle": "请教 laravel view 怎么显示 controller 中传递的对象值。", "comment": ["where()->get()\r", "where()->first()\r", "view()->withXXX\r", "view('xxx,compact('xxx'))\r", "这些传递到 view 的数据  都应该怎么显示？？？\r", "这些数据都是什么形式？\r", "希望熟悉 laravel 的 指点下~", "blade:\r", "\r", "($person as $p)\r", "{{ $p[\"id\"] }}\r", "\r", "\r", "各种值你可以用调度工具、 dd 或者 var_dump 一下看看。", " 感谢回复~  我用 var_dump 看了。\r", "感觉就是个数组~ \r", "那我可以理解为  通过 view 函数传递到 前台的变量都是数组么？？？", " 用 get()方法返回的是数组， first()方法是获取数组的第一个值", "   通过 blade 显示在 view 的话 是不是只能用 2L 的写法？  \r", "我的意思是 非得循环个数组？  我传递到前台的数据如果不是数组 是个对象。\r", "那还循环 有点麻烦啊。", " 你前台要什么取决于你用 get 和 first", " 额。。  比如我用 first 呢?", " get 取出来就是多维的（需要循环）  first 取出来就是一维的。\r", "\r", "难道你不知道你自己需要的数据是 list 还是单条的？", "  懂了。"]},
{"content": "", "reply": "14", "tittle": "php 7 有可用的 memcache、redis 扩展吗？另外 php7 是不是不再支持原生 mysql 了，得用 mysqli 或 PDO 了", "comment": ["什么叫原生？\r", "mysqli 就不是原生了？\r", "PDO 又是另一个概念", "memcached 有一个 PHP 7 的分支， redis 可以不用 C 的扩展。", "很多扩展都不能编译通过啦！让人很郁闷", "别急 螃蟹要慢慢吃的", "redis,memcache 都可以使用 api 访问啊，比如 predis 之类的第三方包。 mysql 从 4.x 开始就推荐用 mysqli ， 5.x 开始推荐 pdo,5.3 连驱动都建议 mysqlnd 吧", "刚出来，别急啊。  现在的 PHP 不能满足你的需求吗？", "mysql 只是 PHP 的一个模块，因为这个模块漏洞太多，从 PHP 5.5 开始就不能再用了", "Warning\r", "This extension was deprecated in PHP 5.5.0, and it was removed in PHP 7.0.0. Instead, the MySQLi or PDO_MySQL extension should be used.", "redis 可以用 prédis \r", "memcached  github 上有支持 php7 的分支", "今天下午才把 PHP 7 编译完,打包成 vagrant package.\r", "Reids 和 Memcached 编译都没有问题.\r", "PHPReids 用 ", " 这个包\r", "编译可以.但是 Memcache 启动报错.\r", "\r", "\r", "\r", "Redis 的扩展可以下载 phpredis 的 php7 的分支\r", "Pdo vs mysqli 哪個好"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>题主是 PHP 程序猿，最近的工作内容是写后台（各种 CRUD ），如下图</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"http://ww2.sinaimg.cn/large/bd52288agw1f1qdiwdy8jj21kw0ztdn3.jpg\">http://ww2.sinaimg.cn/large/bd52288agw1f1qdiwdy8jj21kw0ztdn3.jpg</a></p>\n\n<p>写完新闻列表写话题列表，写完话题列表写用户列表……感觉就像找你妹的<strong>无尽模式</strong>😢</p>\n\n<hr>\n\n<p>以前的流程如下：</p>\n\n<ul>\n<li>新建 <strong>话题列表.php</strong></li>\n<li>然后把以前写过的<strong>新闻列表.php</strong>的 html 复制粘贴过来，修改若干</li>\n<li>然后写取数据的路由、增删改的路由、以及各种需求所需要的路由</li>\n</ul>\n\n<p><img src=\"http://ww1.sinaimg.cn/large/bd52288agw1f1qdvcu6uzg201o01ot8j.gif\" alt=\"5\"></p>\n\n<hr>\n\n<p>想向老司机们 请教一下 有没有优雅的方式能够减轻我的工作量。。感恩🙏</p>\n</div></div>"], "reply": "34", "tittle": "有什么优雅的方式写后台管理系统（列表，增删改查", "comment": ["django admin 拯救 CURD 世界", "现在好多框架都已经支持自动生成这类功能的代码，比如 yii\r", "如果用的框架不支持，可以自己写一个代码生成工具，也不复杂", " 😂果然是［人生苦短 我用 Python ］", "你可以鼓捣一个框架 用元数据来生成重复的东西 再做这样的业务就是写配置文件", " 团队现在用的是 Laravel ，我去搜一下有没有此类功能，感谢提供思路", "Django admin", "\r", "如果你嫌 Django 原生的 admin 难看。", "楼主 你的后台模板是什么？", " 非常非常感谢，很有帮助！", "使用 PHP 的各种 Admin 生成框架：\r", "\r", "Sonata Symfony Admin:\r", " ", "  \r", " ", "  \r", " ", "  \r", "\r", "Rails Admin 改装版:\r", "\r", " ", " ", " \r", " \r", " \r", " \r", " \r", "感谢", " 用 Bootstrap 写的", "赶紧收藏，我也是那个一直 CRUD 的搬砖工，而且他丫的还是桌面应用。。。话说，桌面应用有什么解决方案", "我也曾经想过有什么脚本可以自动生成 CURD 的代码，我也曾经试图开发过这样的自动脚本，但后来发现，各个模型的东西一般都不同，并且各个模型之间还有关联， CURD 代码也会有很多不同，就算可以自动生成，最后要手工改的东西还是很多，不如从一开始就手工写了。", " 祝你早日找到趁手的兵器", " 哈哈是的，模型关联太复杂的时候，以前造的轮子直接爆胎了…可能是写的太渣", " laravel administrator  针对一般的 crud 够了，不过扩展性不是很好", " 哈哈，是！前期用的应该会挺爽，一加功能估计得跪", " 酱狗 1.9 有些提升了。", "多看看这个 实体属性值模型", "drupal 的思路", " 不是说 PHP 才是最好的语言么，哈哈", "对于 php 来说,   yii 太擅长处理这一块儿了, 开箱自带, 分分钟一个后台出炉\r", "\r", " laravel 也有类似的第三方实现, 去 github 搜吧...", "使用 yii2 吧， 数据库建好之后， gii 就能生成 CRUD\r", "\r", "可以使用 adminlte ，效果是这样的\r", "\r", " \r", "\r", "当然默认搜索也写好了，被注释掉了。", "框架网页", "抽离共用模板。再往这些共用模板传入不同数据和参数。\r", "[", " ", ")", "laravel  自带吧", " 我安利一个 laravel 版本的，还有很多细节在完善！", "用过 Django 自带的 Admin ，再也不对各类后台感兴趣了。。。", "leancloud.cn 的 LeanEngine 支持 PHP 了，你可以试试。可以用 LeanCloud 自带的数据管理后台，就不用自己写了。"]},
{"content": ["<div class=\"topic_content\">查过作者的 twitter 说是把原来的 command 文件夹改成 jobs 了，然后我查 5.1 的文档就没看到 command bus 这一条目，似乎两个东西能做的事情都一样。\r<br>都是可以用在队列、异步等复杂集合操作中。有懂得同学回答一下吗？</div>"], "reply": "3", "tittle": "laravel 5.1 中 command bus 与 jobs 的差别？", "comment": ["就是换掉了，至于区别我也不知道。我现在用的 jobs", "功能上没什么不同，只要实现了 SelfHandling 甚至只要有 handle 方法都可以被 Queue,Bus ， dispatch 分发。更多的是逻辑语义上的区分， job 文件夹里 base Job 实现了 Queueable 可以“方便”指定队列后台运行。", "更新日志中有。\r", "\r", "5.1 应该只是改名了。\r", "\r", "5.2 不支持了。\r", "只支持自处理命令\r", "The Laravel 5.2 command bus now only supports self-handling commands and no longer supports separate commands and handlers.\r", "\r", "5.3 会被彻底移除"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我需要通过 PHP 脚本生成一个文件（如 excel ）并上传到服务器，供用户下载。</p>\n\n<p>一般文件不大的情况，用户在页面上点击下载，再去数据库取数据，设置 heder 头以流的形式输出到浏览器，并且制定文件类型的方式下载，这当然是可以的，但是问题是现在生成一个文件可能非常大，并且很耗时，所以要做成异步的方式，用户点击下载就入一个任务到队列，<strong>在 Shell 脚本中以计划任务的形式读取队列任务，然后生成一个文件并且上传到服务器呢</strong>，这种情况如何解决？</p>\n</div></div>"], "reply": "9", "tittle": "如何在 PHP Shell 脚本中生成一个文件并上传到服务器？", "comment": ["我尝试在 PHP 中创建一个临时文件，把数据写到临时文件，但是发现这个临时文件是 resource 类型，无法通过上次函数上传，函数参数要求必须是目录名称，而传进去的是资源型", "可以 php 生成文件，然后交由 shell 脚本做上传…", "上传文件用 CURL 即可\r", "\r", "但是用户点击下载就加入队列，那么不是等于用户啥都没收到么？\r", "剩下的操作如何实现？", "PHP 的脚本一般是只能运行几十秒的，在 WEB 环境上不适合跑耗时任务。应该弄个队列，队列由其它方式来处理，比如 PHP CLI ， Python 等，处理完了以后再调用回调设置 Web 端状态。", "PHP 运行环境和文件下载服务器分开的？\r", "我感觉折腾上传你不如搞个反代，用户点击完在 PHP 运行环境本地生成文件，然后返回远程服务器地址的 302 跳转，远程的下载服务器反代你 PHP 运行环境的目录，需要维持供后续下载的话就在反代上再设置一层缓存", "你需要的是一个 queue, beanstalkd\r", "\r", "点下载加到队列里后台写接口前端写轮询过去查进度呗。。", "加入队列了，用户什么也下载不到，前端轮询去等队列吗。貌似还是很耗时？\r", "\r", "还有就是，本来就在服务器生成了，为何还要上传呢。。。\r", "\r", "如果大家下载的文件内容都相同的话，我建议你可以写个计划任务，例如每小时在服务器更新一次这个文件。下载地址不变。", "远程的服务器是可控的不？如果是可控的。你在远程服务器上写一个接口，然后本地 curl 一下获取返回的地址就可以了。没必要本地生成再上传服务器。这一来一去的网络耗时就挺没有意义了。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>先说我们做了什么<br>\n1. 5 个月搭建了 mozzos.com ，能发 tweet ，活动，有商城，有 o2o 。<br>\n2. laravel 5.1, php 7, docker, mysql, apache+nginx<br>\n3. 图片七牛，服务在 aws 北京</p>\n\n<p>php 从最早两个人，到现在三个人。再到两个人。</p>\n\n<p>一直想打造一个 nb 的 php 核心技术团队。但是招聘永远都是问题。</p>\n\n<p>该怎么办？</p>\n\n<p>工作职责</p>\n\n<ol>\n<li>负责系统设计与开发，负责 WEB 端和 App 后台开发。 </li>\n<li>根据产品及功能需求，设计相应框架和架构并进行代码编写； </li>\n<li>负责系统优化重构，数据接口开发和优化，服务器数据接口开发等； </li>\n</ol>\n\n<p>求：<br>\n1. 热爱 php ，用过 laravel<br>\n2. 喜欢 google ，喜欢 github ，喜欢 stackoverflow</p>\n\n<p>给：<br>\n1. 10k - 30k</p>\n\n<p>发：<br>\n<a target=\"_blank\" rel=\"nofollow\" href=\"mailto:recruit@mozzos.com\">recruit@mozzos.com</a></p>\n</div></div>"], "reply": "54", "tittle": "遇到瓶颈了", "comment": ["某培训机构学习 php 中....大爱 php", "我想问，瓶颈在哪里......", "接受兼职吗？", " 招不到人，计划就进行不下去了。", "我比较喜欢 OC 。。。感觉 Swift 语法比较奇怪", " 可以 条件是必须全栈 php+前端+后端维护", "楼主 aws 北京好用么？", " 不错，但是国外访问不好，目前考虑两个可能性： dns 和节点问题。", " 你怎么知道我们在用 swift 开发。", " 异地兼职？\r", "前端只写 js ，不调 css 布局可以不？", "搜索需要改进", "过滤不管用啊\r", "\r", "结果是全部都有啊\r", "\r", "有趣的是...\r", "看贵网站 我正好是用户 也有类似的想法来着\r", "你们有 iOS 客户端么？", " 求改进", " 昨天上了一个版本， bug 了，谢谢提醒。\r", "\r", "我们 ios 在开发了", "好像搜索结果全都有啊", "发现你们很喜欢用 GUID ， 和自增 INT 的 ID 哪个效率更好些？\r", "用的什么 db 啊", " 恩， laravel 的 scope 调用写错了，刚修了这个 bug", " 谈不上很喜欢，只是架构上性能和效率目前不是问题， db 的自增还是保留的，随时可以切换。\r", "\r", "mysql", "GUID 性能一般来说会比自增 int 要差, 但是会比较神秘 - 你猜不出规则没办法遍历. \r", "而且 GUID 在多个数据库间查询和合并等等都有优势, 我回复这些只为了跟这个楼主套个近乎, 刚才邮件稍作沟通但没有什么互相了解.", "我本人也是 GUID Primary key 爱好者, 至少 mysql 恢复备份时根本不用考虑自增 id 占用的问题", "500 error 了、。、  呆", " 升级 php7.0ing", " 网页无法正常运作\r", "\r", " 目前无法处理此请求。", "简单粗暴的升级进程啊－。－\r", "我估计贡献了很多 log 手动不停的刷（间隔大于 20s ） 想看看你们什么时候修好 来着 结果是升级 php7.0....\r", "\r", "不能升级完再切换么", "前端不但用了大量 JS 库，又用了前端 Bootstrap ， 臃肿", "服务器 Web 环境的 LANMP 没有升级到最新，没有 http2 ，没有 php7 ，", "网站打不开。。。", "网站打不开，一片空白，想瞅瞅。", " 接受远端？", "500 同问接收远程吗", "远程兼职收么？\r", "自认至少学习能力不错的全栈（偏底层）", "我看到了 500", "真是牛逼的 phper 啊\r", "500 错误..\r", "没次写代码，漏了个分号就是 500 错误。", "呃，为什么我打开一片空白？", "PHP", "地点~", " 上海 静安寺", "well... 原本为了解决一个 laravel 5.1 和 ubuntu 自带 php 的兼容问题，升级到 Php7 ，发现更多问题，升级到 laravel 5.2 。然后中途一堆其他事情。\r", "\r", "于是恢复了 aws 的 image ，回滚了分支，重置了部分设置。\r", "\r", "如果你觉得我们做的东西有意思，如果你觉得你能把不好的一起做到更好，如果你有很多建议愿意宁可自己卷起袖子加入我们，我都欢迎。一堆运营和 ios 妹子等着工程师哥哥的加入。", " 同 guid primary key 爱好者~~~", "问 lz 要兼职不", "统一回复：欢迎兼职，但前提是必须全栈。", " 是的 诸多问题，但都不是目前最关键的。欢迎推荐人才。", "坐标？", "可否远程工作？", "全栈不是问题，提供移动到后端加运维一站式解决。", "还有前端......", "娘的，现在我发现搞 php 挺赚钱的", "请求删除自己的回复失败.. 我其实只是想了解一下有没有 work from home 的可能性, 仅仅是打听一下.", " 做哪一行深入了都能赚钱", "加油，初期是很幸苦的，大牛有自己的选择，一般不会选择初期团队，小孩子愿意又大部分不踏实，团队花大精力培养了他，很多时候他遇到一个诱惑点的机会，就直接走了，头都不回的。初期是真的难，加油", "其实想说蛮感兴趣的。。。。。", "不能根据地图来查看吗", " 你有这个需求吗？原来我们做了一个发现对大多数人用处不大，我教你个办法，做完搜索以后点其中一个结果的“查看地图”，然后把地图缩小，就能看到页面结果中的所有空间。", "感觉 JS 性能需要优化，太卡了"]},
{"content": ["<div class=\"topic_content\">我们是腾讯 OMG 网媒产品技术部，主要负责新闻和视频相关的后台开发工作。 \r<br>公司坐标：北京海淀区知春路希格玛大厦\r<br>\r<br>岗位的职责：\r<br>1. 负责腾讯网媒内容平台相关产品的开发工作；\r<br>2. 参与项目的架构设计、评审、技术攻坚和优化；\r<br>3. 根据业务变化，不断改善产品的系统架构设计，保证系统的性能、稳定性及可靠性；\r<br>\r<br>\r<br>我们的要求：\r<br>\r<br>计算机相关专业本科以上学历，最好有 3-5 年工作经验。 \r<br>\r<br>1. 精通 Linux 下的 PHP/C/C++开发；\r<br>2. 熟悉 Mysql 数据库，熟悉 redis 、 mogondb 等 NoSQL 技术；\r<br>3. 熟悉 TCP/IP 、 HTTP 等网络协议；\r<br>4. 具备大容量、高性能系统设计能力；\r<br>5. 对开发工作富有激情，保持开放好学的心态；\r<br>\r<br>\r<br>公司可以给你提供的：有竞争力的薪酬福利，任你发挥的大平台，丰富的学习培训机会。\r<br>\r<br>有意者欢迎投递简历到邮箱 <a target=\"_blank\" href=\"mailto:kufazhang@tencent.com\">kufazhang@tencent.com</a></div>"], "reply": "50", "tittle": "鹅厂（北京）寻求靠谱 PHPers", "comment": ["实话实说 4. 具备大容量、高性能系统设计能力；这条欠缺 可以试试吗？", "  工作上有其他亮点也可以", " 我觉得这个就是套路啊。。。", "鹅厂不是用 C++写 cgi 做 web 服务么", " 不全是", " 希望不只是写业务逻辑，得体现一些技术难点和亮点。", "赞 技术难点和亮点", " 专科学历可以不？", " 这台拆的", "1. 精通 Linux 下的 PHP/C/C++开发； \r", "2. 熟悉 Mysql 数据库，熟悉 redis 、 mogondb 等 NoSQL 技术； \r", "3. 熟悉 TCP/IP 、 HTTP 等网络协议； \r", "4. 具备大容量、高性能系统设计能力； \r", "5. 对开发工作富有激情，保持开放好学的心态； \r", "\r", "自我评价：\r", "1 、 PHP 个人使用了 10 年（包括在校），暂未写过扩展（没需求）， C/C++ 只写过小功能，算不上精通。\r", "语言技能（按熟练程度由|分割） PHP 、 Python 、 HTML 、 CSS 、 JS 、 SQL| C# | JAVA | C | C++\r", "\r", "2 、数据库经常使用， B-Tree 原理熟悉一二，但调优依靠工具报告\r", "（至少列表中的都用过，各个数据库的适应场景也是熟悉的）\r", "\r", "3 、 TCP 能写出整个协议栈（包括拥塞控制算法）基于 Python ， HTTP 严格需求下状态码需要查表。\r", "\r", "4 、如果有实际需求，可以从底层的硬件配置网络架构开始分析。（但没有实际系统的经验）\r", "（因缺少实际的数据经验支持，即便是分析也仅仅是定个方向，具体选型必须测试）\r", "\r", "\r", "（附：有企业级网络设备的配置经验 [在校期间的竞赛经验] ）\r", "\r", "\r", "学历：专科\r", "请问能投简历吗？", "  HR 卡的比较严", "专科勿谈吗？", "专科 又要被挂掉", "  专科自考本科的认吗？", " 先投过来看看，如果明显非常优秀的，我们可以再跟 hr 争取下", " @", " @", " 不好意思， HR 那边学历卡的比较严。", "大厂就是屌", "PHP 是 must be 么， C/C++可以么，当然 PHP 日后可以学来用没问题。", " 也可以", " C/C++ 也可以来投我们部门，北京 SNG 群后台", "你好，请问非计算机方向研究生，可以实习么？出国前想找点事做。\r", " 专业是机械能源这边的，但是计算机也琢磨了有近十年了。", "  可以，公司最近正在做实习生招聘你把简历发给我 我转给 HR", "把 PHP 去掉，剩下的条件就很适合了(ง •̀_•́)ง", " PHP/C/C++是或关系，要是来了愿意写 php 也是很欢迎的", "大三的现在可以去投简历么", "学历暂时不够。。希望以后能有机会吧", "唔,专科跪了", " 请问有哪些技术挑战呢？", "哎，学历硬伤", "期待上海也招人", "昨天晚上投了没反应，是已经跪了么。。。", "已发简历", " 不好意思，你的邮箱是哪个，我确认下", " 已邀", " 我们这边主要负责一些后台项目，没有海量业务，主要是需要架构合理、易于扩展、服务高可用等。", " 但是没有发邮件。不知道地址呀", "  一会儿给你发邮件", " thx", " ", " 额，是这个邮箱。", " 大神别这样。。。小的不敢", "考算法吗。。？", " 北京那边主要是啥产品？", " 你的邮件中没有附件", " 对算法会适当的考察下", " 主要是新闻和视频相关的一些平台产品。", " sorry ，附件已经补发", "没时间解释了，快上车。", "做啥东西呢？", "还招吗？"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>RT<br>\nmac os 下 php 开发环境配置<br>\n网上教程也不少</p>\n\n<p>来这里问问大神</p>\n\n<p>有没有最新的的教程帖子<br>\n找了几篇文章 感觉都略有点老了<br>\n刚好又是新手 碰到老帖子坑一多 就容易跪</p>\n\n<p>ps:<br>\n前些天手贱<br>\n把 mac os 升级到 10.11.3 OS X EI Capitan 了 <br>\n不会有什么坑吧</p>\n</div></div>"], "reply": "24", "tittle": "[最新的] MacOS 下 PHP 开发环境搭建和配置", "comment": ["该用的 php mysql 什么的都用 brew 装, 基本没有问题.", "MAMP 足够了", "我用的自带的 PHP 和 xdebug ，装了个 PHPstorm ，暂时没发现啥问题", "homebrew,顺便安利 launchrocket", "既然你都问这个问题，肯定是不熟悉，用 MAMP 吧。", "brew install nginx mysql php ruby rails memcached redis", "用 vagrant", " 新手 nginx mysql php 就够了吧？", "妥妥用 vagrant", " ", "\r", "新手就要多学， mem 和 redis 必须有", "Laravel 用 Homestead （镜像），其他用 Scotchbox （也是镜像），跟楼上说的，都是建立在 Vagrant 上的。", "要勇于试错啊少年", "折腾折腾就不怕坑了，正所谓坑多能长寿", "用 vagrant ，不要在桌面环境折腾开发环境！\r", "\r", "哪怕你是乔布斯签名的镀金的 Mac", " 11 楼这个就可以拉", "无论什么操作系统，我都是 vagrant", " \r", "请问一下 Scotchbox 怎么修改虚拟机的配置？", "xampp", "自编译, 参考 ", "\r", "\r", "Mac 下的 brew 也是很好(懒)的选择.", "我都是 xampp 一键搞定，现在已经支持 PHP7 了，我们团队就我一个前端在本地跑 7 ，将来没啥问题估计会迁移过去到 7 把", "brew install", "推荐 vagrant 和 docker ， docker 的话看这篇文章： ", "brew", "摸了仨小时，用 mac 自带的 apache php 还有 brew 安装的 mysql phpmyadmin ，把简单的环境算是搭起来了 sigh"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>目前论坛基于 HYPHP MVC 框架开发， PDO 数据库引擎，目前框架使用了命名空间，所以必须在 PHP 5.3+环境进行使用，框架拥有一个简易的 HOOK 类，用于插件开发，也拥有一个简单的模板标签解析引擎。<br>\n如果愿意加入开发的小伙伴 请到我的论坛找到我 bbs.hyyyp.com</p>\n</div></div>"], "reply": "1", "tittle": "HYBBS 开源论坛寻求小伙伴加入开发", "comment": ["支持，样子不错。"]},
{"content": ["<div class=\"topic_content\">代理打开关闭都试过了，无法奏效。。\r<br>谷歌出来的几个方法都用过一次（个人能看懂的- -）也没能解决，小白求指教一下\r<br>版本是 Mac OS X 10.11 最新的，谢谢！</div>"], "reply": "5", "tittle": "安装 homebrew 提示报错 curl: (35) Server aborted the SSL handshake 怎么解决的？", "comment": ["换成 USTC 的镜像试试", "不知道这篇文章有没有可能帮助你 ", "确定你的代理对 shell 有作用吗", "同意 3 楼，估计你的代理对 shell 无效。至少我用的时候 shell 要重新配置代理的。", " 我是用的 ss, 设置成了 127.0.0.1 端口 8080 的…"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>问下 怎么形成的。。。。。 嗯 都不会调用 callStatic</p>\n<div class=\"highlight\"><pre>class x{\n    public static function __callstatic($name, $args) {\n        echo 'callstatic';\n    }\n    public function __call($name, $args){\n        echo 'call';\n    }\n}\nclass xx extends x {\n    public function test () {\n        self::xx();\n        static::xx();\n        parent::xx();\n     }\n}\n$xx = new xx;\n$xx -&gt;test();\n</pre></div>\n\n<p>被坑的满地找牙  好像 在方法内调用 静态方法  __call 优先级都会更高</p>\n</div></div>"], "reply": "14", "tittle": "php 的坑 。。。 嗯 静态方法关键字。。。的坑 有谁遇到过", "comment": ["在对象中调用一个不可访问方法时，__call() 会被调用。\r", "\r", "用静态方式中调用一个不可访问方法时，__callStatic() 会被调用。", "手册啊手册… 要仔细看啊…", "手册写的其实是很清楚的，目测是 LZ 把用法想当然了……", "RTFM", "理解下实例方法和静态方法调用", "额，这个真不是坑。", "智商的坑吧...", "class xx 加\r", "    public static function test2 (){\r", "        self::xx();\r", "        static::xx();\r", "        parent::xx();\r", "    }\r", "\r", "运行  xx::test2();", "08 年就有人问过这个问题……\r", "\r", "要好好看手册，好好看搜索引擎。", "READ THE FUCKING MANUAL", "PHP 最好的语言, 那么手册也应该是最好的!", " 坦白说 PHP 缺点很多。但手册真的算非常非常不错的了。。。", " 哈哈"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>在 linux 下 curl 却没有问题   直接卡死  没有任何提示  是什么问题？</p>\n</div></div>"], "reply": "目前尚无回", "tittle": "不知道是不是环境的配置问题 windows 下 php curl 本地测试域名 直接卡死", "comment": []},
{"content": ["<div class=\"topic_content\">linux 下面 tp3.23 如何连接 sqlserver ，现在使用 mssql 驱动类，一直如何插入数据库不成功，有没有遇到同类问题的?求指教</div>"], "reply": "2", "tittle": "linux 下面 Thinkphp 3.23 如何连接 sqlserver？", "comment": ["you need pdo_dblib @ ", "omg tp? thinkphp? forget my words.\r", "sorry for lost chinese ime."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>嗯，以下的内容对某些人来说可能是鸡汤，但至少这是适用于我自己的。</p>\n\n<p>laravist 上线有一段时间了，这期间遇到过各式各样的事，也接触了多种多样的用户；然后假期在家里也好好反思了一下自己，总结了这一段时间以来有点感悟的观点，也希望对你有一点用处。（以下部分先后，我也不知道怎么排序来着）</p>\n\n<p><strong>1.认真聆听，清楚表达</strong></p>\n\n<p>越来越觉得，作为一个不放弃学习的人，特别是一个代码工作者。这一点特别重要，千万不要固执地认为那些来职责你代码差的人都是傻逼。不妨先放下你的一些些愤怒，认真听听别人的看法，然后你再权衡一下，他的观点有没有说服你。比如在 laravist 群里面的一位 @little 大神（这里的是群昵称），每一次他在跟我提出相异的意见时，他总是能从另外一个视角给出让你信服的理由，对于这样的人，我现在是特别的珍惜与他之间的交流。而至于在这里我为什么要把聆听放在前面，表达放在后面，是因为我觉得聆听在交流的时候其实更加的重要，而清楚的表达则更加侧重于在向别人征求意见或寻求答案的时候。对于 laravist 这样一个问答社区，感受特别深，很多用户在问问题的时候其实完全不能清楚的表达自己的问题到底是什么，所以这个时候，我通常会推荐大家去看看 SF 上面的这个问答：</p>\n\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://segmentfault.com/q/1010000002373081\">https://segmentfault.com/q/1010000002373081</a></p>\n\n<p>这里还是特别感谢 SF 上 @nightire 这位，不管是在 github 还是 SF 上，都可以从他的身上学到很多东西，我以为，作为一位开发者，你首先得有像 @nightire 一样的对待技术的态度。你不妨可以看看他在 SF 的回答，就可以学到很多东西。</p>\n\n<p><strong>2.设置阶段性目标</strong></p>\n\n<p>设置阶段性的目标我认为在做一件长远的事的时候尤其有用，所有伟大的事从来都不是一蹴而就的，所以在你决定做一件看似很遥远的事的时候，不用害怕，把它拆分为几个不同的阶段目标，然后按照阶段性的目标去实现就好。在我最初真正有做 laravist 的想法到第一版上线，我花了三天把第一版就上线了，这也可能是我当初在 Worktile 实习的时候收到的影响，快速实现-试错-迭代就是当时老大 Anytao 倡导的想法。</p>\n\n<p><strong>3.使用 Todo list</strong></p>\n\n<p>这个可能会因人而异，但是对于我这种单打独斗的选手来说，一个人需要做的事实在太多了。所以有一个 Todo list 来安排自己的日程计划是非常完美的。不过在这里还是得注意要尽量组织好自己的 Todo list ，并且尽量让它精简化。</p>\n\n<p><strong>4.减少不必要的沟通</strong></p>\n\n<p>也是受到 Worktile <code>小泽马大佬</code> 的影响，越来越觉得低效率沟通的成本实在太大了。在这里，我还是要声明我的观点是： QQ 上解决具体的技术问题，我觉得这样的应用场景就是沟通效率极其低下的事，我一般不会做这样的事。所以在群里，很多人圈我回复问题，我都是回复要么去社区认真发个帖（这个时候看第一点），要不等其他人回复，我是很少在 QQ 上回复这些具体的技术问题的。</p>\n\n<p><strong>5.明确并突出自己的优势</strong></p>\n\n<p>首先是，作为一名开发者，然后独自运营，维护，推广一个站点，很多时候都是心有力而力不足，越来越感觉自己需要学习的东西实在太多，而这个时候时间又不允许我这样慢慢的学习，我该怎么办？我的答案是：把那些自己不擅长的事交给专业的人来做，比如注册公司，我一窍不通，好在现在有快法务这个服务提供商，我感觉接入支付太麻烦，我会毫不犹豫选择 Ping++等，哪怕是花费一些费用，我也会将它们作为我的首选，因为只有这样，我才可以专注于我自己的优势，腾出更多的时间做自己喜欢的事（写写代码，录录视频什么的）。</p>\n\n<p><strong>6.珍惜每一个诚心给你建议的人</strong></p>\n\n<p>对于个人而言，遇到的每一个陌生人，我都会假设他是一个好人，然后听听他到底想表达什么，看看他说的这些对我是否真的有作用。比如群里的一位用户 Miracle ，在人生经历和处事方面经验都比我丰富，在很多时候他给我的建议我都会好好思考一番，然后决定自己的取舍。</p>\n\n<p><strong>7.无视那些傻逼用户</strong></p>\n\n<p>做一个产品（如果 laravist 算得上一个产品的话）的时候，难免会遇到一些傻逼的用户，有诬陷你是骗子的，有到处散播你的视频的，有到处造谣你品性低劣的等等等，刚开始的时候，我都会义无反顾的跟他们撕逼。到后来我才发现我错了，这样不仅浪费了时间和精力，也会逐渐把我原本想做 laravist 的初心磨灭，所以这个时候，我觉得最后的做法就是：无视那些傻逼（或者在心里默念一句： fuck off ）。就像路飞和索隆第一次遇见贝拉米时候一样，作为一个王者，你有选择不出手的理由。</p>\n\n<blockquote>\n<p>PS ：对于盗版，我会直接找法律机构维权。</p>\n</blockquote>\n\n<p><strong>8.坚持二八原则</strong></p>\n\n<p>这个二八原则其实使用与很多领域，就拿 laravist 用户本身来说，可以粗略这样换算： 20%的优质用户会给 laravist 带来 80%的回报。所以这个时候，服务好这 20%的优质用户才是王道，你只要拿到那 80%的回报就好了。一方面是，我终于觉悟我不是为了满足所有人而做的这件事；另一方面是，在这样的时代下， 100%满足用户的产品是不存在的。</p>\n\n<p><strong>9.懂得感恩</strong></p>\n\n<p>最后，社会上好人当然还是比坏人多的啦。所以保持一颗感恩的心，对于那些在你困难，迷惑的时候给予慷慨帮助的人，时刻牢记他们的恩情，然后在合适的时机回报他们。就拿 laravist 来说，在上线之初，我最动摇的时候，一名用户给我捐赠了 500 RMB 。这对于当时的我来说，确实是极大的鼓励；也让我到现在越来越坚定地去做这件事，然后我会给他算 1%的股份并且每年分红给那位用户。</p>\n\n<p>对于那些当初对 laravist 三年股权计划有疑问的同学，等我把公司手续全部办通，就可以正式开启 laravist 的股权计划了。</p>\n\n<p>最后的最后， laravist 会迎来新的主人：是的我很棒科技有限公司 （ Yes I Am Awesome Tech ）。对那些提供帮助和建议的人，心存感激并也希望一起把 laravist 做下去，对于那些傻逼用户，像唐岩在陌陌上市时做的动作就好。</p>\n\n<p><strong>10.愿好</strong></p>\n</div></div>"], "reply": "25", "tittle": "做了一点事，学到了一些", "comment": ["7.无视那些傻逼用户\r", "\r", "请不要侮辱“用户”一词，你说的这些人不是用户！", " 做一点，学一些，不断迭代进化、成长，一直看好你。愿好！", " 哈，各式各样的人都有", " 哈哈哈，谢谢。明显认得你咯", "第一次看到你的文章和网站，你做的事情很有价值。支持。", "支持，楼主辛苦。从你的视频中也学到了不少，感激", "看起来你最近的一年收获很多，恭喜。最开始认识时，你还没实习。", "特来感谢楼主！\r", "楼主的视频非常棒，带我进入 Laravel 的世界，非常感谢！", "楼主就是发布 laravel 教学视频的 jelly ？顶你啊", " \r", " \r", " 谢谢咯！！！！！", " 原来是你。", " 哈哈哈，江湖代号 jelly 咯", "之前也看到过楼主的帖子，感觉是一枚做事认真，心怀美好的程序员，先关注了，以后有时间多看看。", "不错", " 哈哈，谢谢", "江湖代号 jb 教主", " 额。。这实在有点那啥", "公司名字有点出戏", " 名字嘛，只是个代号", "赞", "帮楼主贴一下链接: ", "希望楼主勿忘初心,坚持下去.", " 嗯哼，谢谢", "学习了，沟通成本真的是浪费时间的一大主因，从今天起我也得改变一下这部分的做法。", " 起来得有点早"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近在纠结 PHP 版本的问题，现版本 5.2 ，因种种原因需要升级版本，那么问题来了，究竟是升 5.5 还是 5.6 还是一步到 7 呢？<br>\n私下测试过 5.6 能跑起来但是有一些功能无法正常运行，被抛弃的语法需要做相应的改动。</p>\n\n<p>按照惯例， PHP 是世界上最好的语言~</p>\n</div></div>", "<div class=\"topic_content\">5.5 的话因为之前没确定是否是今年停止更新才考虑，昨天看了 @<a target=\"_blank\" href=\"/member/Zzzzzzzzz\">Zzzzzzzzz</a> 的回复然后去搜了下官方的版本说明确定了今年停止安全更，那就不考虑 5.5 了。</div>", "<div class=\"topic_content\">所以升级的过程肯定是一级一级升，那中间版本要走每个版本的测试吗？比如图 5.2 升到 7 ，那中间的 5.3 5.4 5.5 5.6 都要走测试流程么？</div>"], "reply": "66", "tittle": "所以现在有多少生产环境用上了 PHP7？", "comment": ["我目前做的校园项目都是基于 PHP 7.0 开发的", "程序能兼容 php7 的，基本上都上了。", "一步到 7 不解释", "不敢上，生产环境不像是自己鼓捣完似的，一个是重新改代码麻烦，另一个是万一改完后出来莫名其妙的问题，再改回来可就麻烦了……所以说个人感觉这玩意既然能用就尽量别再动它。。", " \r", " \r", " \r", "那你们是自己编译的，还是用别人的第三方源？像 dotdeb 那种的？", " 校园项目是指学生的项目 or 学校的项目？\r", " 肯定一堆东西要改的 到 5.6 已经一堆抛弃的语法问题需要解决了\r", " 我也想啊，但是有一些反对意见，所以要确定有哪些坑需要填", " dotdeb 也用，自己编译也有。 编译为主", " 自己编译……对于服务端的东西我一向编译，除了数据库", " 现在是确定要升了，只是版本未定。升级版本肯定要走完整套完整测试流程的，只不过如果升 7 的话不知道会有哪些隐藏的坑。\r", "\r", " 数据库为啥不能自己编译啊", " 妾身用的是 openshift ，有现成的可以用，再说了编译数据库很耗时间。（不好意思我又抽风了）", "我们公司有一半的线上机器都换成 7 了", " 哦哦 没试过 不过这几天也在更改部署环境 估计明天就要编译一下试试了。。", " 线上机器 ！= 生产环境吧 ，那另一半为啥没上 7 呢？", "5.5 七月停止安全支持.", "生产已经是 7", "我们生产是 php5.6", "之前升到了 7 ，后来发现脚本连续运行几十分钟后有概率崩溃，就退回到 5.6 了。", " 是的 之前看了 5.4 的周期估计了一下 5.5 今年也会停止 看了你的回复去搜了下果然是今年 我是主导升级到 5.6 当然最好是 7 了\r", "\r", " 有遇到什么坑么\r", "\r", " 目前待选的版本是 5.5 （其他人意见）、 5.6 or 7 （如果 7 没有重大问题）。\r", "\r", " 没有查找崩溃原因么", " 是该扔 Exception 的地方，没有正确的扔出来 Exception ，而是直接整个进程驾崩了。", "php7+mysql5.6", "问这个没有意义呀。能上就上", "没有历史包袱了为啥不上呢", " 第一个版本有，后续修复了", "5.2...哥们刚才哪儿回来啊?", "貌似 7 的 memcache 扩展有点问题? 有朋友实践成功了吗", "php7 早就生产环境了\r", "redis 自己编译，不用复杂功能 redis 扩展无 bug\r", "初期是 php5 php7 双 fpm 共存， fastcgi 7:3 负载均衡 同时做了一个值守进程， php7 的 fpm 所有程序功能性报错和未知错误进行记录，非单点请求出现超过几次，自动做个标志位禁用 php7fpm ，都丢到 php5 处理，同时提供完整日志和数据进出供测试复现，一周没出现问题的，撤掉 php5 的负载均衡，仍然保留 failsafe ，对于 php7 出现问题的时候， php7 停用全部交由 php5 处理。\r", "两周后，生产环境干掉 php5", "另外，我本人开发以及所有可以接受管辖的人开发的程序，统统有专门的向新兼容性要求，非常注意各种 php 版本在测试期就表现出来的未来不兼容特性，及时进行修改。所有 php 的版本变动的新特性和不兼容，我们都统一在公司技术会议 /培训时，最早的提前进行预警， php 出现第二位的版本变化，在测试环境对所有旧程序兼容性进行考验，如果出现不兼容且不兼容的具体位置是在开发时间点之前公司有布置下去的，提前预警过的，要进行处罚（非经济）", "所有新也许开发，只要不设计旧的兼容，无论系统 组件 语言 模式 一律按官方支持的最新版本", "另外，公布一下我这边所有管理的开源项目、公司项目、个人项目、业余爱好项目的 PHP7 性能提升情况。\r", "\r", "\r", "1. 简单网站，纯增删改查展示性，充分优化到具体页面都只是增删改查没有复杂逻辑，尤其是同时使用轻量级框架（比如 CI ）的，以及复查度统统是复杂查询压到数据库上的复杂 SQL ， PHP 端超级简单没有复杂逻辑的，这种项目 PHP7 的性能提升，不超过 5%，尤其是一些逻辑异常简单的 APP 后端的 RESTFUL API 类，同时使用情形框架的，性能完全无提升！实际项目，可以这么说，那些不涉及 MYSQL 重型查询的，平时在服务器上执行时间是 0.00XX 到 0.015X 之间的 PHP5 程序，到了 PHP7 基本还是这个执行时间（包含简单 MYSQL 查询开销的执行时间）\r", "\r", "2. 纯 PHP 语法逻辑复杂的，性能提升十分明显，官方说的性能提升 50%，实际上看，比如一些财务性质的内部系统，数据库 /缓存提取简单数据后进行二次实时处理展示的，有些能提升 100%以上，压缩一半的执行时间。\r", "\r", "3. 重型框架，那些加载机制异常复杂，功能完备，预载入特别多的重型框架，无论逻辑简单与否，性能提升都比较明显。比如 laravel ；由于 laravel 并没有内置简单 benchmark ，生产环境也不适合自己外挂个执行时间消耗内存的额外模块，以上为基于服务器负载 QPS 之类的大致推测", " 确定是因为 7 的异常处理机制导致的么 还是程序出现了严重的 bug\r", "\r", " MySQL 是 5.6 的 但是 PHP 的话没确定 5.6 还是 7 ， 5.5 的话因为之前没确定是否是今年停止更新才考虑，昨天看到了官方的版本说明确定了今年停止安全更，那就不考虑 5.5 了。另外 7 的话有遇到什么坑可以说下么\r", "\r", " 主要是公司生产环境 不是我一个人能主导的，所以想了解全面一点，然后放心大胆的说服大家上 7 啊 \r", "\r", " 有历史包袱，上 5.6 和上 7 改动都比较大 \r", "\r", " 7 的第一个版本？\r", "\r", "  [qweasd 星球] \r", "\r", "\r", " 暂时还没用 memcache 不过后续有计划上\r", "\r", " 第一条回复是个很棒的建议 ，第二条我也有过这样的思路 不过在我们这里不好执行罢了。。第三条我们的算是第三种吧\r", "\r", " 是老版本迁移 个人项目是直接上最新版的。", "如果你的程序还没有出现性能瓶颈，还没有到必须优化的阶段，那么最好不要动；建议先在一些独立的新项目里使用。", " 嗯", "公司代码库很多 5 ， 6 年前的东西，不敢上 7", "基本上能跑在 PHP5.6 了 都可以直接上 7 ，密集运算的项目升 PHP7 ，性能感人，直飚几倍不是问题", "最近用 laravel5.1 写的一个项目，部署到 PHP7 上没问题~", " 5.4 已经停止安全更新了啊 5.5 也即将停止 总归要升级版本的吧\r", "\r", " 跑 5.6 一些功能是会报错的，暂时发现的问题主要是一些抛弃的语法，现在是不确定直接上 7 会不会有什么隐藏的坑 毕竟是生产环境。\r", "\r", " Laravel  5 好像就开始支持 7 了:-)", "测试测试测试。", "开个分支升 7 呗，实在不行把代码往回一滚拉倒。\r", "真相就是懒=。=", " 是生产环境啊。。确定要升级版本并且没那么多人力物力去做这件事情。。所以只能确定好一个版本 然后 just do it 。", "   运行在 PHP 7 上", "已用 702", " 我的意思不是两个版本并进=。=\r", "虽然我不弄 php ，但是我所有和程序相关的东西，只要官方发了稳定版本，有空我都会升上去", "其实这些都是虚的还有要靠测试说话。线上引流，小流量机制，这些都是很重要的。没有这些的话先线下测试，然后低流量时上一台机器试试。", " 功能的话肯定要走测试流程的，性能的话项目貌似还没到优化的阶段，现阶段压力不大。\r", "\r", " 看起来挺不错的样子\r", "\r", " 效果怎么样\r", "\r", " 生产环境一般不会轻易动啊 所以这次动一下估计未来 1 到 N 年内很难再做大的改动了。。\r", "\r", " 目前打算采用#26 的建议 正常升级 然后走测试 没问题做负载均衡 然后跑段时间没问题就完全上 7", "据我所知 B 站的 ", " 域名已经是 PHP7 了…\r", "听说 ", " 也离 7 不远了", "锐壳也支持 php7 了～～～  ", " \r", "我这边的 fastcgi upstream 的负载均衡使用了 OpenResty ，本质上 fastcgi 的配置使用了 lua 脚本，并不是静态配置，所以可以比较方便的上层统计各种错误，动态的决定把脚本处理丢给 php5-fpm 还是 php7-fpm ，可以通过外部标志位控制 failsafe 禁用 php7 ，把所有请求丢给 php5 这种。\r", "\r", "如果使用纯 nginx 等基本 webserver ，想实现这个，在 conf 文件加 if 判断，性能估计感人", " 原来 B 站是 PHP 啊。。\r", "\r", " 锐壳的用户量大么\r", "\r", " 我原来的想法是只做负载均衡，跑一段时间后查看使用 PHP7 的服务器的 log ，若没有重大问题就切过去，并没有考虑去统计各种错误。。。 麻烦问下您统计的各种错误一般指哪些呢 ？", " \r", "任何抛出的 PHP 错误，都算数。因为能推到生产环境下， PHP 不应该抛出语言的错误。\r", "而且在 PHP5 上跑起来不会抛出 PHP ERROR ，在 PHP7 下能抛出来的才算。\r", "至于因为不同特性导致预期不符，能通过 PHPUNIT 就认为没有了", "我把公司以前的一个项目放到 PHP7 环境里了，除了一个 excel 的第三方库报了一个错，其他目前正常。", " 部分业务是，还有很多其他语言的项目…", " 还好，不是很大，比不上阿里云，，", " 那估计我们监控这些错误的意义不大，从来没发现过这些问题:-)\r", "\r", " soga 印象中之前 B 站好像招过 Python ， by the way, B 站有内推么~\r", "\r", " 那比腾讯云呢 或者它在国内的用户量排名大概在多少呢 没怎么了解过国内的虚拟主机提供商。。", " 去 github 上看，有支持 7 的分支， master 目前还不支持。主要 PHP7 很多的宏和方法都变了，扩展都需要重写。", " 貌似我们也有用到 excel 的第三方库==", "已经升级 500 台生产服务器到 php7.0.3 了", " 升级前版本呢？ 升级后有坑么？", " 7.0.3 以前 session 有 bug 。 0.3 已经修复。还有微信支付的 PHP SDK 稍微修改下就好了。其它没碰到", " soga 暂时没用到微信支付:-)", "不上，等一堆小白鼠们把坑都填的差不多了再考虑上", " 填的差不多了又有 PHP7.1 可选了==", " 小版本之前不会有那么多坑的。但是从 5 跳到 7 变化太大了，坑不可避免", " 5.6 跳到 7 基本没啥不兼容的东西，不兼容的地方极其有限\r", "\r", "如果你是 5.4 跳到 7 ，在 5.X 时代都不跟进升级的，扯到蛋是必然的", " ", "\r", "\r", "不兼容的地方还是很多的，用框架的要好很多。如果自己写的，尤其是比较老的，即使升级到了 5.6 ，再到 7 肯定还会有坑的。不一定程序运行没问题就说明没坑，只是坑还没被踩到而已", "期待小白鼠的结果", "新项目就 php7 吧，据说性能比 5 高一倍，如果是原有项目不建议"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>吐个槽, 顺便记录.</p>\n\n<p>结论: php 完败</p>\n\n<p>有个项目:</p>\n\n<p>1, 客户提供数据, </p>\n\n<p>2, 生成新的文本</p>\n\n<p>3, 将文本写入磁盘, 大概 5kb 左右</p>\n\n<p>客户抱怨文件生成速度太慢了.  有时候, 需要生成上万个文件.</p>\n\n<p>花了点时间, 将 2 的处理方法, 单独抽出来, 并转成 python.  分别测试...</p>\n\n<p>2 这个过程, 循环 10000 次, php 和 python 花的时间都差不多, 在 35s 左右. </p>\n\n<p>在这 10000 次循环里, 又加上了 3, 每次循环都会写文件. 注意,每次文件内容都是不同的.</p>\n\n<p>python 在 2 的时间基础上, 多了 2, 3 秒. 试了 with open 和 f = open, f.write, f.close 两种方法, 都差不多</p>\n\n<p>php 则多了 10 多秒. 试了 file_put_contents 和 fopen, fwrite, fclose....</p>\n\n<p>不信邪, 研究了一晚上的 php 扩展</p>\n<div class=\"highlight\"><pre>// php_stream *stream;\nchar *filename;\nint filename_len = 0;\nchar *data;\nlong data_len = 0;\n// long numbytes = 0;\nFILE *fp;\n\nif (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, \"ps\", &amp;filename, &amp;filename_len, &amp;data, &amp;data_len) == FAILURE)\n    return;\n\nfp = fopen(filename, \"w\");\nfwrite(data, data_len, 1, fp);\nfclose(fp);\n\n// stream = php_stream_open_wrapper_ex(filename, \"w\", 0, NULL, NULL);\n//    numbytes = php_stream_write(stream, data, data_len);\n //    php_stream_close(stream);`\n RETURN_LONG(data_len);\n</pre></div>\n\n<p>`</p>\n\n<p>都这么短了, 速度能快点了吗...  直接破 50s,  现在浏览器还显示<code>57.454752206802</code></p>\n\n<p>无语了...</p>\n\n<p>还试过 swoole 的 swoole_async_writefile, 写入文件超级快的... 只是很快 too many open files, 进程挂掉</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>傻逼傻逼了.....</p>\n\n<p>这次都是 vagrant 里面做的测试,</p>\n\n<p>这次只是纯粹测试写文件了, 10w 个文件.  文件大小 4.4kb 左右</p>\n\n<p>每个脚本测试两次, 测试前先清空目录, 测试完, 统计文件数目是否 10w.秒为单位</p>\n\n<p>python</p>\n<div class=\"highlight\"><pre>result = generate_article()\n\na = datetime.now()\n\ni = 100000\n\nwhile (i &gt; 0):\n    filename = \"articles/\" + str(i) + \".txt\"\n    f = open(filename, 'w')\n    f.write(result)\n    f.close()\n    i = i-1\n\nb = datetime.now()\nc = b - a\n</pre></div>\n\n<p><img src=\"http://ww3.sinaimg.cn/large/7487b2e5gw1f1yhx8ftcsj20by0bu41k.jpg\" alt=\"python\"></p>\n\n<p>php, 自写的扩展, 代码参考上面的, 别被 \"mass_\"名字误导了, 不是批量的意思, 这是项目的简称而已</p>\n<div class=\"highlight\"><pre>$result = generate_article();\n$a = microtime(true);\n\n$i = 100000;\nwhile ($i &gt; 0) {\n\n    $filename = \"articles/$i.txt\";\n    mass_file_put_contents($filename, $result);\n    $i = $i - 1;\n}\n\n$b = microtime(true);\n\n\necho $b - $a;\n</pre></div>\n\n<p><img src=\"http://ww2.sinaimg.cn/large/7487b2e5gw1f1yi05an88j20hk05t0uk.jpg\" alt=\"test_mass_file_put_contents\"></p>\n\n<p>php 的 file_get_contents</p>\n<div class=\"highlight\"><pre>$result = generate_article();\n$a = microtime(true);\n\n$i = 100000;\nwhile ($i &gt; 0) {\n\n    $filename = \"articles/$i.txt\";\n    file_put_contents($filename, $result);\n    $i = $i - 1;\n}\n\n$b = microtime(true);\n</pre></div>\n\n<p><img src=\"http://ww1.sinaimg.cn/large/7487b2e5gw1f1yi0pbfvoj20fk06uq4q.jpg\" alt=\"test_file_put_contents\"></p>\n\n<p>结论.  php 落后一点. 扩展也不是没有帮助, 你们看下 file_put_contents 的源代码, 再和我的对比下.</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>在实际环境中, 需要在一个(几百次,几千,甚至上万次)循环中, 根据用户提供的数据 不断生成新文件, 并写入磁盘, 这个过程有时候很慢. </p>\n\n<p>由于我们使用 redis 做队列. 于是我就琢磨着, 试下其他语言, 让它们来处理这些 io 频繁的任务.</p>\n\n<p>于是就有了主题贴的乌龙测试... 还以为 php 在文件写入这块真的比不了 python.... 原来我是来 host 上的 python 和 vagrant 里的 php 对比</p>\n\n<p>第一个补充贴, 纠正了这个错误, 而且是单纯的写入对比.</p>\n\n<p>下图, 则是, 真实场景应用, 在循环里, 生成新文件并写入磁盘,  5000 次</p>\n\n<p><img src=\"http://ww4.sinaimg.cn/large/7487b2e5gw1f1yiycc9hdj20nj0kzwjz.jpg\" alt=\"real test\"></p>\n\n<p>php 不愧是最好的语言!!!</p>\n\n<p>现在学学如何应用 pthreads 到我这个用例上... 8 核 cpu 不能浪费</p>\n</div></div>", "<div class=\"topic_content\">啊, 大家别说什么打脸不打脸... 不好听. 谁没犯错的时候呢... 就这简单测试, 我一连犯了好几次失误.\r<br>\r<br>1, python 是命令行下运行, php 则是在浏览器运行(php5-fpm)\r<br>\r<br>2, python 在 host 上, php 在 vagrant\r<br>\r<br>3, 测试的次数不够多. 2 次, 10 次, 数量级也不够大, 说明不了什么.\r<br>\r<br>后来,我才发现瓶颈, 其实就是在\"生成新文本\"这个步骤, 用户提供的数据量太大了...\r<br>\r<br>写文件, 看起来 python 和 php 差距并不大\r<br>\r<br>通过这次探索, 还是学到了点东西的.</div>"], "reply": "18", "tittle": "php vs python 写文件对比", "comment": ["你单个目录文件写的太多了吧。 ext3 文件系统一级子目录文件数有限制（ 32000 ）。搞个二级目录，速度绝对能上去。\r", "\r", "你写扩展没啥意义，底层都是 C 。\r", "还有 swoole_async_writefile 只是异步写，还是会有一级子目录文件数的限制，以及文件系统的其它一些限制。", "测试不贴代码。。。", "试试 PHP7 吧。\r", "其实你拿 py 出来比很不利，我们拿 rust 出来比看是你 py 的几倍(逃\r", "\r", "(明天回公司了给你对比下", "1.你没用多核心设计吃满 CPU 跟 IO 资源.\r", "2.java 跟 C#(mono)是好东西,可以帮你搞定 1.\r", "3.使用 swoole 看是否加上计数锁避免爆发量太大.建议(CPU 核心数+硬碟数量)x2\r", "我不是程式语言狂热者,是遇过类似的蛋疼竞赛被坑很惨.", "python 打开文件描述符和关闭文件描述符比较快吗？不清楚 python 的底层实现。你拿 php 扩展出来说事是没有价值的--！因为它还是封装了 c 的底层。想来应该是在封装的时候对文件描述符的判断比较多。所以在写的时候回占用一定的时间吧？", "你都没搞明白瓶颈在哪里", "的确不知道瓶颈在哪里, 为毛写文件这么慢呢?  \r", "\r", "php 扩展也是我最后能想到的方法, 试试呗, 我也没搞过扩展, 失败了也权当是学习了.\r", "\r", "对了, 用的是 php 5.6.17, 跟生产环境一样. 等等我在测试下, 现在才想到是 php 是在 vagrant 里运行, python 是在 host 上.....", "`\r", "    stream = php_stream_open_wrapper_ex(filename, \"w\", 0, NULL, NULL);\r", "    numbytes = php_stream_write(stream, data, data_len);\r", "    php_stream_close(stream);\r", "`\r", "\r", "顺便说下, 这三行是 file_put_contents 源代码提取出来的. 我以为 php_stream*是 php 自己封装的, 用 fopen, fwrite, fclose, 会比较快点, 其实并没有....", "有没有考虑过是 buffer 的原因， Python 的 IO buffer 比 php 的大？", "不用看就知道 php 会大幅落后 python\r", "专业的东西干专业的事儿， PHP 就是用来处理基本 web 请求的，这种东西，写个 java/c 值守程序最好， python 也可以干这个只是效率会比 java/c 低一些", "基本涉及磁盘 IO 的，语言之间不应该有太大区别。", " 是的，这种场景没多大区别。只有实现的区别。", "写文件的时候先开 iostat 看一下写入情况。\r", "如果是总写入速度不高，那可能是文件系统的锅，试试 reiser4 之类的黑科技。", "php 的读文件曾经测试过, 和 python 时间差不多\r", "几百兆上 G 的文件\r", "\r", "但 array 处理太慢了, 之前项目需求, 数组里大概上百万个 key, 比 python 慢了几十倍吧", "一场血雨腥风。。。", " 看补充，被打脸了 233333\r", "一个语言，如果它的执行时间差距，能比 IO 还要大（或者一个量级），那这语言得有多失败", " php 全是 map ，处理不好的确容易悲剧。。。", "看到楼上有人被打脸，如果楼主用了 PHP7 的测试对比，估计楼上有人脸都要肿成狗了， PHP 是 web 的 c 语言，你以为真是大家随便说的-_-||"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"PHP研习社LOGO\" src=\"http://7xqls4.com1.z0.glb.clouddn.com/PHP-Yanxi-Logo-W.png\"></p>\n<p>PHP 研习社是一个一起学习 PHP 和 WEB 、服务器等技术的社群，一起进步</p>\n<p>我们将会组织定期的 PHP 线上线下培训，技术交流活动</p>\n<p>官网： <a href=\"http://www.PHPYanxi.com\">www.PHPYanxi.com</a></p>\n<p>QQ 群 204787773</p>\n<hr>\n<p>入门培训课程今晚（ 3 月 17 日）将举办第一次线下开课，同时线上直播。</p>\n<p>直播地址：  <a href=\"http://e.vhall.com/336179410\">http://e.vhall.com/336179410</a></p>\n<p>开始时间： 3 月 17 日 晚 7 点</p>\n<hr>\n<h2>系列课程体系</h2>\n<ul>\n<li>\n<p>第1课：</p>\n<p>讲解：PHP简介，PHP语法入门，PHP开发环境搭建，HTML入门、PHP+数据库（MySQL、Sqlite、文本数据库、NoSQL）</p>\n<p>实战练习：留言板</p>\n</li>\n<li>\n<p>第2课：</p>\n<p>讲解：Linux基本操作，GIT和SVN协作、PHP生产环境部署环境</p>\n<p>实战练习：部署在云端的Blog系统</p>\n</li>\n</ul>\n<ul>\n<li>\n<p>第3课：</p>\n<p>讲解：PHP高级语法、Cookie、Session、面向对象编程</p>\n<p>练习：用户登录中心，Blog改造为CMS</p>\n</li>\n<li>\n<p>第4课：</p>\n<p>讲解：GitHub和Composer包、OAuth社会化组件、微信公众号开发</p>\n<p>练习：微信公众号开发、微信投票系统</p>\n</li>\n<li>\n<p>第5课：</p>\n<p>讲解：PHP框架、安全性、服务器性能</p>\n<p>练习：CMS系统改造</p>\n</li>\n<li>\n<p>第6课：</p>\n<p>讲解：PHP访问量优化、伪静态、图片服务器、数据库优化、第三方服务优化</p>\n<p>练习：CMS系统改造</p>\n</li>\n</ul>\n<hr>\n<p>了解更多课程体系、参与培训见： <a href=\"http://book.acyun.org/\">http://book.acyun.org/</a></p>\n</div></div>"], "reply": "1", "tittle": "PHP 研习社第一期入门培训 线下开课 + 线上直播（今晚）", "comment": ["到时候去看看"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>北京弟傲思时代信息技术有限公司招聘<br>\nPHP 开发工程师（ Hypertext Preprocessor ） 数名 <br>\n薪资： 13k-25k 年底 13-15 薪  经验 1-3 年 学历：本科及以上 全职<br>\n职位诱惑 : 挑战和机遇并存    五险一金    <br>\n岗位职责:<br>\n1 、负责公司网站,论坛,管理后台及外部接口的建设和开发工作；<br>\n2 、参与系统的需求分析、设计、编码等开发工作；<br>\n3 、负责已有系统的运营，维护和优化工作；<br>\n   <br>\n任职要求：<br>\n1 、计算机或相关专业本科或以上学历；<br>\n2 、有 WEB 开发经验，能够独立编写中等规模 PHP 应用程序，熟悉面向对象编程；<br>\n3 、熟悉 MYSQL 数据库开发，配置、维护、性能优化；<br>\n4 、了解 Linux 操作系统，了解 Linux 下简单编程；<br>\n5 、了解 memcache,redis,mongodb 的使用；<br>\n6 、有基本的运维常识;<br>\n7 、要求拥有良好的代码习惯，代码结构清晰，命名规范，逻辑性强，冗余率低；<br>\n8 、工作负责 ,有耐心，团队合作意识好，有 BAT 及业内一线公司工作经验优先。</p>\n</div></div>"], "reply": "4", "tittle": "PHP！ PHP！ PHP！ 急！ 急！ 急 ！ 重要的事情说三遍", "comment": ["弟傲思 这个名字好亮", "对这个职位有兴趣吗？", "屌丝时代", "php 内核代码在线查看工具， ", " 不用只为了看内核代码在本地装 ide 了 o"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题，求助~~</p>\n</div></div>"], "reply": "4", "tittle": "请教 Slim Framework 3.0 API 分页的问题", "comment": ["所以，问题呢？", "问题，瞧我这脑袋，问题是 slim3 是否自带了分页？怎么使用？\r", "\r", "记得原来 slim2 是直接在 URL 后面加?page=n", "Slim  只是一个框架，不具有任何分页功能。\r", "之前我阅读过 Slim 3 的每一次代码提交，主要开发都集中在 HTTP 组件上，就连 Slim 2 自带的流程中断和 http cache 部分都从核心部分移除了。\r", "所以楼主需要自己写相关的逻辑部分。", " 感谢回复，已经搞定"]},
{"content": "", "reply": "目前尚无回", "tittle": "这里除了讨论技术，还能发招聘信息吗？", "comment": []},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>地址： <a target=\"_blank\" rel=\"nofollow\" href=\"http://www.appannie.com/apps/ios/top/china/overall/?device=iphone\">http://www.appannie.com/apps/ios/top/china/overall/?device=iphone</a><br>\n需要登录后才可以看到，怎么实现模拟浏览器登录？</p>\n</div></div>", "<div class=\"topic_content\">function HttpsPost($url, $data, $method = 'post', $cookie='') {\r<br>$ch = curl_init();\r<br>// 设置选项，包括 URL\r<br>curl_setopt($ch, CURLOPT_URL, $url);\r<br>curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0); // 对证书来源的检查\r<br>// curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 1); // 从证书中检查 SSL 加密算法是否存在\r<br>curl_setopt($ch, CURLOPT_USERAGENT, \"Mozilla/4.0 (compatible; MSIE 5.01; Windows NT 5.0)\"); // 模拟用户使用的浏览器\r<br>curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); // 使用自动跳转\r<br>curl_setopt($ch, CURLOPT_AUTOREFERER, 1); // 自动设置 Referer\r<br>curl_setopt($ch, CURLOPT_POST, 1); // 发送一个 常规的 Post 请求\r<br>// curl_setopt($ch, CURLOPT_POSTFIELDS, $data); // Post 提交的数据包\r<br>curl_setopt($ch, CURLOPT_POSTFIELDS, http_build_query($data)); //要提交的信息\r<br>curl_setopt($ch, CURLOPT_TIMEOUT, 30); // 设置超时限制防止死循环\r<br>curl_setopt($ch, CURLOPT_HEADER, 0); // 显示返回的 Header 区域内容\r<br>curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); // 获取的信息以文件流的形式返回\r<br>\r<br>$output = curl_exec($ch); // 执行操作\r<br>if (curl_errno($ch)) {\r<br>return \"Errno\" . curl_error($ch); // 捕抓异常\r<br>}\r<br>curl_close($ch); // 关闭 CURL\r<br>return $output;\r<br>}\r<br>\r<br>//获取登录所需参数\r<br>$loginFormUrl = '<a target=\"_blank\" href=\"https://www.appannie.com/account/login\" rel=\"nofollow\">https://www.appannie.com/account/login</a>';\r<br>$loginForm = HttpsPost($loginFormUrl);\r<br>\r<br>$preg_csrfmiddlewaretoken = \"/&lt;input\\s.*?name=\\'csrfmiddlewaretoken\\'.*?value=\\'(.*?)\\'.*?\\/&gt;/\";\r<br>$preg_next = \"/&lt;input\\s.*?name=\\\"next\\\".*?value=\\\"(.*?)\\\".*?\\/&gt;/\";\r<br>preg_match($preg_csrfmiddlewaretoken, $loginForm, $match_csrfmiddlewaretoken);\r<br>preg_match($preg_next, $loginForm, $match_next);\r<br>\r<br>$data['csrfmiddlewaretoken'] = $match_csrfmiddlewaretoken[1];\r<br>$data['next'] = isset($match_next[1])?$match_next[1]:'/apps/ios/top/china/games/';\r<br>$data['username'] = '<a target=\"_blank\" href=\"mailto:**@**.com\">**@**.com</a>';\r<br>$data['password'] = '******';\r<br>$data['remember_user'] = 'on';\r<br>\r<br>$login = HttpsPost($loginFormUrl,$data,'post');\r<br>\r<br>//$login 提交登录失败</div>"], "reply": "6", "tittle": "PHP CURL 怎么模拟登录后抓取排行榜数据(http://www.appannie.com/apps/ios/top/china/overall)/?device= iPhone", "comment": ["Chrome 里开发人员工具里的 network 标签里看看有没有漏下的请求", "你登录没 cookie 呀。。。。。。。", " 保存的 cookie 应该不对所以一直登录失败\r", "cookie:\r", "# Netscape HTTP Cookie File\r", "# ", "\r", "# This file was generated by libcurl! Edit at your own risk.\r", "\r", "#HttpOnly_www.appannie.com\tFALSE\t/\tTRUE\t0\tsessionId\t\".eJxrYKotZNQI5S9OLS7OzM-LT81LTMpJTfFmChVIzEktKolPzkhNzo4vycxNLWRKTkksSQUxueCMQuZQLvYHzIJMvLwsnSLJBZUlVVzxoSHOXIUsmkGFrG1BhWyh3CX5xfGlBSA9KYXsnaV6AAqvJl4:1agNR3:N88XBiDLzuCkRN8ybuY5GhajWnU\"\r", ".appannie.com\tTRUE\t/\tFALSE\t1458180793\taa_user_token\t\r", "\tFALSE\t/\tTRUE\t1489630393\tcsrftoken\tnnMCiTASiomihPM9xqwgVzJep84jHacI", " appannie 登录有 cookie 验证,cookie 不正确则无法登录成功,我保存的 cookie 有问题,不知道该怎么做", "<?php\r", "\r", "function HttpsPost($url, $data = []) {\r", "    $ch = curl_init();\r", "    //设置选项，包括 URL\r", "    curl_setopt($ch, CURLOPT_URL, $url);\r", "    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0); //对证书来源的检查\r", "    curl_setopt($ch, CURLOPT_USERAGENT, \"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.9.1.5) Gecko/20091102 Firefox/3.5.5\"); //模拟用户使用的浏览器\r", "    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); //使用自动跳转\r", "    curl_setopt($ch, CURLOPT_AUTOREFERER, 1); //自动设置 Referer\r", "    curl_setopt($ch, CURLOPT_POST, 1); //发送一个 常规的 Post 请求\r", "    curl_setopt($ch, CURLOPT_POSTFIELDS, http_build_query($data)); //要提交的信息 \r", "    curl_setopt($ch, CURLOPT_TIMEOUT, 30); //设置超时限制防止死循环\r", "    curl_setopt($ch, CURLOPT_HEADER, 0); //显示返回的 Header 区域内容\r", "    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); //获取的信息以文件流的形式返回\r", "\r", "    curl_setopt($ch, CURLOPT_COOKIEFILE, dirname(__FILE__) . '/curl.cookie');\r", "    curl_setopt($ch, CURLOPT_COOKIEJAR, dirname(__FILE__) . '/curl.cookie');\r", "\r", "    $output = curl_exec($ch); //执行操作\r", "    if (curl_errno($ch)) {\r", "        return \"Errno\" . curl_error($ch); //捕抓异常\r", "    }\r", "    curl_close($ch); //关闭 CURL\r", "    return $output;\r", "}\r", "\r", "//获取登录所需参数\r", "$loginFormUrl = '", "';\r", "//设置 cookie 保存路径\r", "$loginForm = HttpsPost($loginFormUrl, []);\r", "\r", "$preg_csrfmiddlewaretoken = \"/<input\\s.*?name=\\'csrfmiddlewaretoken\\'.*?value=\\'(.*?)\\'.*?\\/>/\";\r", "$preg_next = \"/<input\\s.*?name=\\\"next\\\".*?value=\\\"(.*?)\\\".*?\\/>/\";\r", "preg_match($preg_csrfmiddlewaretoken, $loginForm, $match_csrfmiddlewaretoken);\r", "preg_match($preg_next, $loginForm, $match_next);\r", "\r", "//设置 post 的数据 \r", "$post['csrfmiddlewaretoken'] = $match_csrfmiddlewaretoken[1];\r", "$post['next'] = isset($match_next[1]) ? $match_next[1] : '/apps/ios/top/china/games/';\r", "$post['username'] = '", "';\r", "$post['password'] = '******';\r", "$post['remember_user'] = 'on';\r", "\r", "//提交登录\r", "$loginPost = HttpsPost($loginFormUrl, $post);//未登录成功\r", "\r", "\r", "//获取信息 \r", "$url2 = '", "';\r", "$iphone_china = HttpsPost($loginFormUrl);\r", "echo $iphone_china;", "php 内核代码在线查看工具， ", " 不用只为了看内核代码在本地装 ide 了 s"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>今天看到一篇介绍 Laravel 5.2.23 中新特性的文章，翻译整理了一下，分享给大家 <a target=\"_blank\" rel=\"nofollow\" href=\"http://9iphp.com/web/laravel/look-whats-coming-laravel-5-2-23.html\">http://9iphp.com/web/laravel/look-whats-coming-laravel-5-2-23.html</a></p>\n</div></div>"], "reply": "14", "tittle": "Laravel 5.2.23 新特性预览", "comment": ["开发太活跃了也不太好，各种甜点加入。", "真的不明白 laravel 为什么那么火\r", "从性能上对比,我在开发机上压测 laravel5.1 和 yii2 的 hello world,同样是 php7+opcache,laravel 的 qps 在 20 波动,yii2 是 280~320\r", "文档的质量也不怎么样,虽然排版上比较好看,但是实质内容却不尽人意.比如 ", "\r", " 一上来就是\r", "session()->regenerate(); \r", "好歹说一下 session 所在的命名空间啊,虽然在 sublime text 下 ctrl+p 输入 session,前 5 里就是,然而这种毫无征兆地飞来一个可以用的函数或者类还是让人懵逼\r", "\r", "感觉这个框架还是吹捧的多,实际并没有多大的优雅", "这么说 rails 那种死吃资源的框架这么火，也是吹捧的多？", " 压测 hello world 哪个框架能比过原生，:doge:", "有戏看了", " rails 出来的时候可以说解决了很多 web 开发者的痛点,所以受到欢迎,而且设计得还不错,可以给不少入门者最佳实践,而且有它功能完善的 ruby web 框架没几个,所以它火起来这是自然而然的\r", "\r", "而 laravel 在国内火起来应该是在 4.0 的版本的时候,同一时期的 php 框架无论是轻量级的或重量级的,也都有出色的代表,比如 ci,yii,zend,以性能为主而且功能丰富的还有 phaclon,而且看起来并没有解决多少当时 php 开发者的痛点,所以对于它能火起来我感觉莫名其妙,而且之前看到的吹捧中,连发音优雅都能拿来说,感觉有点掉档次", "前段时间刚学的时候也觉得 Laravel 这种框架给人眼前一亮的感觉，网上给的评价也很高，等慢慢上手才发现，根本没网上那些人说的那么完美。有些设计是很好用，但是那些难用的却没人说出来", " 压测只是为了和众多框架做对比,并不是与原生做对比,毕竟框架是有性能损耗的.但是众多 php 框架压测都没有 laravel 那么低,那么就值得思考了", " 性能瓶颈毕竟不是所有网站能够触碰到的。\r", "以你的经验，能不能从其它方面来对比一下 laravel 和其它框架对比的劣势在哪里？愿闻其详", "要打架了，已经坐好小马扎。\r", "\r", "另外，我支持 Laravel 是渣，框架这种东西，要兼顾好用与性能，光好用了，上线把机器拖死的框架那就是用了美图秀秀的妞子儿，光个面儿~\r", "\r", "有人会说，抗不住加机器呀，好吧，能用这种框架的大公司能有几个, 即使是用也是新业务下的快速开发，小公司你说买机器就买，机器不是钱呐~", "在乎性能用 CI ，不在乎上 laravel 的飘过", " \r", "渣谈不上吧，看产品需求，这玩意根本不是来给大公司开发核心业务用的。\r", "\r", "wordpress 、 drupal 被各种黑了十几年了，但是多少网站用来做初期原型，后来发展起来了有钱了，换就是。\r", "\r", "再好的东西要用对地方。用不对地方，法拉利开进山里都是渣渣", "laravel 是垃圾，还不如 thinkphp ，有支持的请顶我。", "Laravel 学习交流群 212423075 老司机多"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><a href=\"https://cdn.v2ex.co/gravatar/4dfeda4b5bde0b33e134fb03b24162ac?s=48&amp;d=retro\" rel=\"nofollow\">https://cdn.v2ex.co/gravatar/4dfeda4b5bde0b33e134fb03b24162ac?s=48&amp;d=retro</a>\n像官方这种根据 md5 生成不同像素图片 怎么弄得</p>\n</div></div>"], "reply": "7", "tittle": "像官方这种根据 md5 生成不同像素图片 怎么弄得", "comment": ["动手 Google 呀 ", "  找到了", "不过没有 V2EX 的好看", "\r", "这个挺好看的，不过跟样式跟一般的不一样。", " 恩 还不错", "gravatar 的 identicon", "其实地址和 LS 都有人说了，这是 gravatar\r", "1. 这不只是 md5 ，而是你填写的邮箱的 md5\r", "2. gravatar 提供了一个根据邮箱 md5 来显示头像的功能，很多地方都有使用，例如所有 Wordpress 搭建的站点"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>我一直用的是 laravel 5.0 版本，但是从 5.1 开始，我有点看不懂 app 目录下的结构了。 5.0 的时候有个 services 目录 我把大量的业务逻辑都写在此目录下，而控制器只负责接收请求和调用 service ，业务逻辑基本都在 services 目录下，而从 5.1 开始 没有 services 的目录了，我其实可以自己建，但是我想别人把结构设计成这样一定有他的道理来，所以我就疑惑了，我现在想问的几个问题是：\n1 ， 5.1 开始以前 services 目录去哪里了？如果要用该怎么用？\n2 ，为什么 laravel 他设计的时候没有 models 目录，而写在 app 根目录下？\n3 ，如果我一个 web 应用又有前台(frontend)又有后台(backend)，目录结构怎么弄，是新建个 app 目录还是直接一个 app 目录下走不同的控制器目录?</p>\n<p>本人接触 laravel 时间不长，问的可能比较没水平，他的文档介绍目录的时候我看的也是云里雾里的，谢谢各位能解答下。</p>\n</div></div>"], "reply": "6", "tittle": "关于下 laravel5.1+框架的几个问题", "comment": ["这些没什么指导规范。只要符合 psr 自动加载就好。\r", "另外不来个 5.2   middleware group 就值得升级，", "Services 改成 Providers 了，只是名字改了而已，意思都是一样的，都是 service provider.", " 正解， laravel 组织还是满自由的，毕竟是 symphony 基础上搭建完善功能", "有 PHP 的朋友想找工作么", "1. Services 建议你独立到自己的目录下，比如你的项目叫 Foo, 有一个专用的服务叫 Bar, 那么建议你建立 app/Foo/Bar 这样的结构，然后用 provider 注入该服务到容器\r", "2. Models 这个东西吧，没有一定要放哪儿，你觉得哪儿对你方便，习惯，就放哪儿没有关系的。\r", "3. 关于前后台分离的问题，可以使用命名空间的形式来区分，可以参考我的项目： github.com/laravelso/site", " 什么要求"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>背景:最近发现一个火狐扩展 tamper ，可以修改 post 请求参数的值。想学习一下，不曾想， post 的参数是明文，但是相对应的值是加过密的。可以确定的是 PHP 处理的字符串，但是不知道加密原理、方式和解密原理、方式。这个是加密之后的字符串\"%E5%8F%91%E9%80%81%E4%BF%A1%E6%81%AF\"。求指点。</p>\n</div></div>"], "reply": "5", "tittle": "求解此字符串的加密方式和解密方式", "comment": ["urlencode, 发送信息", "decodeURIComponent('%E5%8F%91%E9%80%81%E4%BF%A1%E6%81%AF')", " 谢谢。\r", " 谢谢， js 里的方法。", "百分号编码 [ref]( ", ")\r", "\r", "牛人啊！！！！！！！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"\" src=\"http://7xqls4.com1.z0.glb.clouddn.com/PHP-Yanxi-Logo-W.png\"></p>\n<p>PHP 研习社是一个一起学习 PHP 和 WEB 、服务器等技术的社群，一起进步。我们将会组织定期的 PHP 线上线下培训，技术交流活动</p>\n<p>官网： www.PHPYanxi.com  QQ 群 204787773</p>\n<hr>\n<p>入门培训课程第 2 次授课明天（ 3 月 20 日）在线下开课，同时线上直播。\n参与线下授课请添加上方 QQ 群。</p>\n<p>直播地址： <a href=\"http://e.vhall.com/374597162\">http://e.vhall.com/374597162</a></p>\n<p>开始时间： 3 月 20 日 上午 9 点</p>\n<hr>\n<p>总结： 在上一次授课中，我们与 4 位朋友一起学习了 PHP 基本语法和 MySQL 知识，写出了简单的留言本程序。代码： http://git.oschina.net/PHPYanxi/PHPYanxi-Book</p>\n<p>在本次授课中，我们将一起将留言本改造为一个带用户登录的 Blog</p>\n<hr>\n<p>系列课程体系</p>\n<p>第 1 课：</p>\n<p>讲解： PHP 简介， PHP 语法入门， PHP 开发环境搭建， HTML 入门、 PHP+数据库（ MySQL 、 Sqlite 、文本数据库、 NoSQL ）</p>\n<p>实战练习：留言板</p>\n<p>第 2 课：</p>\n<p>讲解： Linux 基本操作， GIT 和 SVN 协作、 PHP 生产环境部署环境</p>\n<p>实战练习：部署在云端的 Blog 系统</p>\n<p>第 3 课：</p>\n<p>讲解： PHP 高级语法、 Cookie 、 Session 、面向对象编程</p>\n<p>练习：用户登录中心， Blog 改造为 CMS</p>\n<p>第 4 课：</p>\n<p>讲解： GitHub 和 Composer 包、 OAuth 社会化组件、微信公众号开发</p>\n<p>练习：微信公众号开发、微信投票系统</p>\n<p>第 5 课：</p>\n<p>讲解： PHP 框架、安全性、服务器性能</p>\n<p>练习： CMS 系统改造</p>\n<p>第 6 课：</p>\n<p>讲解： PHP 访问量优化、伪静态、图片服务器、数据库优化、第三方服务优化</p>\n<p>练习： CMS 系统改造</p>\n<p>了解更多课程体系、参与培训见： <a href=\"http://book.acyun.org/\">http://book.acyun.org/</a></p>\n</div></div>"], "reply": "5", "tittle": "PHP 研习社入门培训 第 2 次线下开课 + 线上直播（周天）", "comment": ["官网打不开", "上次的瞄了一眼,AV 画质...", " 官网在备案， 10 天左右打开", "这画质- - 看不清", "php 内核代码在线查看工具， ", " 不用只为了看内核代码在本地装 ide 了 @"]},
{"content": ["<div class=\"topic_content\">一个用 laravel 写的项目要在本地运行测试。我不会 PHP ，搞了半天了。我已经安装好 laravel 了。然后那个项目要用神马方式打开啊？这开启姿势我不会。。谁跟我说的大概。急。谢谢了。</div>"], "reply": "5", "tittle": "laravel 安装完怎么运行项目？", "comment": ["python web 程序员就没这个烦恼", "php artisan server", "这玩意好难啊。我弄不来。好烦", "php artisan serve", " 按照 LZ 的水平和耐心用什么语言我觉得都一样。。。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>一个创业公司，有天使投资，计划招聘 PHP 工程师 2 人，要求： 1 年工作以上经验；了解拉瓦框架。人品要好。<br>\n说明：由于尚处初创期，研发工作量很大，福利待遇算不上有竞争力（有餐补和加班补贴），承诺给初创团队成员股权。工作地点在北京，西直门桥附近，外地勿扰。<br>\n如果有意，请通过 QQ 联系我： 896906015 。</p>\n</div></div>"], "reply": "1", "tittle": "北京创业公司招聘 PHP 开发工程师", "comment": ["拉瓦 是什么"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>@section('nav')\n&lt;ul class=\"nav menu\"&gt;\n        &lt;li class=\"active\"&gt;&lt;a href=\"index.php\"&gt;&lt;span class=\"glyphicon glyphicon-dashboard\"&gt;&lt;/span&gt; 用户中心首页&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"transfer.php\"&gt;&lt;span class=\"glyphicon glyphicon-th\"&gt;&lt;/span&gt; 充值 /提现&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"withdraw-history.php\"&gt;&lt;span class=\"glyphicon glyphicon-stats\"&gt;&lt;/span&gt; 提现记录&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"profile.php\"&gt;&lt;span class=\"glyphicon glyphicon-user\"&gt;&lt;/span&gt; 账户 /修改密码&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"certificate.php\"&gt;&lt;span class=\"glyphicon glyphicon-credit-card\"&gt;&lt;/span&gt; 实名认证&lt;/a&gt;&lt;/li&gt;\n        &lt;li role=\"presentation\" class=\"divider\"&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"logout.php\"&gt;&lt;span class=\"glyphicon glyphicon-log-out\"&gt;&lt;/span&gt;退出登录&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n@stop\n</code></pre>\n<p>难道非要一个个的 if...echo..active 么？</p>\n</div></div>"], "reply": "6", "tittle": "如何优雅的处理 [当前 active] 的 A 标签", "comment": ["<body id=\"glyphicon-dashboard\">\r", "<ul class=\"nav menu\">\r", "</body>\r", "\r", "#glyphicon-dashboar .nav .glyphicon-dashboard{}\r", "\r", "这样处理呢？", " \r", "没有更好的方法了么- -", "莫当真\r", "\r", "ob_start();\r", "…\r", "$nav = ob_get_contents();\r", "ob_end_clean();\r", "echo str_replace(\"<li><a href=\\“$page\\”\", “<li class=“ active\"><a href=\\“$page\\”\", $nav);", "你应该把整个导航写成一个循环……这样就稍微优雅一点了。", "用 js\r", "```javascript\r", "(function(n){\r", "    [].forEach.call(document.querySelectorAll('.nav a'), function(a, i){\r", "\t\ta.parentNode.classList[(location.href.indexOf(a.href) == 0 ||\r", "\t\t\t(n == '' && i == 0) ? 'add' : 'remove')]('active');\r", "\t});\r", "})(location.href.split('/').pop().split(/[\\?#&]/).shift());\r", "```", " \r", "好吧，用 js 貌似也是个不错的选择。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>这两天自己搭建了一个。。。\nhttp://xss.ddmcloud.com/</p>\n<p>也能用 就是不知道是用别人的好还是自己的好</p>\n</div></div>"], "reply": "13", "tittle": "是自己搭建 xss 平台好 还是用别人的好？", "comment": ["随手输了一个用户名密码 点登陆 提示用户名不存在 然后跳转到 /login\r", "\r", "我只想说……你这个程序自己测试过么……", "可能有人不明白我啥意思……  因为 /login 是 404 页面", "“我们承诺 本平台永不关闭”  \r", "\r", "一般说这句话的网站结果都不会太好。", " 那是他伪襟怀，没弄好。", " \r", " 伪静态", " 一直觉得翻译成伪静态太奇怪了……（可能是我们太追求静态网页了），正确的翻译应该是“网址重写”不是么……", " 大家都懂那个意思就行了", " \r", "貌似正常注册登录时没这情况的....这套程序原本要求伪静态 我去设置下吧", " \r", "修改了\r", "\r", " @", " 设置好了", "到底是 XSS 还是 XXS ？域名里是 xss ，然后网页上写的是 XXS ……", " \r", "已解决。。纯属手贱导致", "  @", "  @", "  相关问题都修复了 现在已经支持 https", "安全狗害人啊- -"]},
{"content": "", "reply": "5", "tittle": "选择开发框架 以什么优先？入门所需时间？开发方便程度？二次开发方便程序？", "comment": ["求建议", "1 、文档是否齐全。\r", "2 、社区是否活跃。\r", "3 、功能健壮性及安全性。\r", "4 、是否有官方反馈。\r", "5 、其实每个人选择框架看重的地方都不一样，这样问只能得到大概的回答。\r", "开源 PHP 框架，欢迎交流： ", " yii 框架和 tp 对比呢", " 哪个熟练熟悉用哪个", "话说 yii 和 tp 不是一个量级好吧"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><pre><code>class foo {\n    var $bar = 'I am bar.';\n    var $arr = array('I am A.', 'I am B.', 'I am C.');\n    var $r   = 'I am r.';\n}\n\n$foo = new foo();\n$bar = 'bar';\n$baz = array('foo', 'bar', 'baz', 'quux');\necho $foo-&gt;$bar . \"\\n\";  //$bar 的值是 bar ，$foo-&gt;bar 的值是 I am bar\necho $foo-&gt;$baz[1] . \"\\n\"; //I am bar.\n\n$start = 'b';\n$end   = 'ar';\necho $foo-&gt;{$start . $end} . \"\\n\";//$start 的值是'b' ，$end 的值是'ar' ，{$start . $end}的值是 'bar'，$foo-&gt;{$start . $end} 的值是'I am bar.'\n\n$arr = 'arr';\necho $foo-&gt;$arr[1] . \"\\n\";// $arr 的值是 'arr' ，$arr[1] 的值是 r $foo-&gt;$arr[1]的值是 'I am r.'。\necho $foo-&gt;{$arr}[1] . \"\\n\";// 我理解：$arr 的值是 'arr' ，{$arr}[1] 的值是 r $foo-&gt;$arr[1]的值是 'I am r.'。但实际输出是 I am B.不太理解这里的运算优先级是什么情况。查手册运算符优先级里面没有 -&gt; ...\n\n</code></pre>\n<p>最后一行实在理解不了为什么输出 I am B ...</p>\n</div></div>", "<div class=\"topic_content\">在 php7 两者的结果都变成了\"I am B\"，这种和语言版本相关的特征已经放弃理解了...</div>"], "reply": "21", "tittle": "在学 php，理解不了为什么 $foo->$arr[1] 和 $foo->{$arr}[1] 的结果不一致...", "comment": ["php 中的大括号 有一个用法是界定变量的界限,也可以界定表达式{$arr} = 'arr',网上都有总结", "还有你这个 类里面用的 var php5*差不多都淘汰了，建议你换高的版本", "在 php 中使用 var 声明类成员属性是 php4 时代的写法，\r", "另外$arr 与{$arr}结果一致没有什么不妥。", "PHP7 做了统一： ", " \r", "$$foo['bar']['baz'] // interpreted as ($$foo)['bar']['baz']\r", " $foo->$bar['baz']   // interpreted as ($foo->$bar)['baz']\r", " $foo->$bar['baz']() // interpreted as ($foo->$bar)['baz']()\r", " Foo::$bar['baz']()  // interpreted as (Foo::$bar)['baz']()\r", "\r", "理解就好，而且一般也不这么写，看起来好费劲。", "大括号改变了解释的顺序。", "在 $b 等于 c ... $b[$d] 等于 e 的情况下 ...\r", "\r", "在旧版本的 php 中 $a->$b[$d] 的含义是从 a 对象中取得 $c [$d] 的值 ... 即 $e 的值 ...\r", "\r", "使用变量定界符的话 $a->{$b}[$d] 的含义是从 a 对象中优先取得 $c 的值然后取 $d 位 ...\r", "\r", "如楼上所说这种差异在 php7 里面已经不存在了 ... php7 中你这两种情况都视为有定界符 ...\r", "\r", "假如你要获得原始的结果需要使用 $a->{$b[$d]} ... 等同于 $a->e ... 这也是最规范的写法 ...\r", "\r", "两点建议第一是从最新版的 php 用起 ... 现在还从 5.2 年代的教程看起的话未免太过误人子弟 ...\r", "\r", "第二是 php 里面这种小坑其实还挺多的 ... 这类知识点除了面试时候有用实际开发中很难遇到 ...\r", "\r", "所以学的时候觉得头疼也不用太过担心 ... 这不是个常见情况 ... 能记则记不能记也没关系的 ...", "这个是直接复制的 ", " 的例子，就没动 var 声明。\r", "\r", "  问题是结果不一致...\r", " 搜索了 Php 中\"{}\"大括号的用法总结，但是还是不理解这里的运算优先级。\r", "\r", "$foo->$arr[1]  是[]运算符优先，但是 $foo->{$arr}[1] 就变成了 -> 运算符优先。怎么理解 -> [] 的优先级呢？\r", "查 php 文档运算符优先表里面没有->，好头疼...\r", "\r", "\r", "  的确在 php7 下结果变了，这样会让一些程序掉坑里吧？\r", "\r", "echo $foo->$arr[1] \r", "echo $foo->{$arr}[1] \r", "都输出 \"I am B.\"", "  的确，实际应用中基本用不到，这种复杂的情况一般都会手动指定优先级。\r", "\r", "看的是 ", " 的中文文档，刚刚又看了一下英文版本，发现删掉了这一部分，并说明 php7 有变更，详情查看 php7 迁移指南。\r", "不过英文版本也很多地方没更新，这里还是使用 var 声明的类变量。", "输出 B 是因为 Array 的 index 从 0 开始， 1 当然是输出第二个。", " 手册更新也是逐步的。。。能否告知下你看的是中文手册的那一部分，我去更新下_(:з」∠)_", "  233 你理解错楼主意思了", "  非常感谢， Example #1 Variable property example 的地址是：\r", "\r", "为什么要简单的问题，搞这么复杂！ 我觉得编程就应避繁从简，回避这种容易产生歧义用法", " 好像是的，他的问题不在 index ，在 variable 名称变换\r", "\r", " 话说你这个例子看看就好，实际开发都是不规范的写法，不必太深究这种变换", "php 里面不是传统的解析 ast 的那种思路， 233 。它的语法设计思路在某种意义上跟 Ruby 的语意设计思路有点像", "理解这个完全是浪费时间，我写了五六年 php ，也理解不了。。。", "这个是链式结构，我问过这个问题，楼主看一下这个->https://segmentfault.com/q/1010000004486442", " PHP7 开始也引入 AST 了", "怎么感觉是要去考试一样？计算机语言用的时候都是挑一种简单好理解就行了，考试才会找出各种对的和错误的。。。", "  打算认真学习下 php ，看 ", " 文档时碰到了这个问题，实在太违反常识了..."]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>php 面试题，你们都是怎么出的？</p>\n<p>现在大三。。可能开始找实习了。。</p>\n<p>然后想看看各位大大如何出 php 的面试题。？</p>\n<p>最近 google 了一部分题目，但是类似大同小异。</p>\n<p>如果考算法又有哪方面的？请指点下。</p>\n<p>谢谢。中英文都可以。。</p>\n</div></div>"], "reply": "6", "tittle": "php 面试题，你们都是怎么出的？", "comment": ["参看 PHP Certification 的题目，应届通常不会要求太高项目经验，熟悉 1~2 个框架的基本用法应该是要的", "几乎必考的:\r", "常用资料库 /CMS.抽签找 CMS 功能包安装.60 分钟安装好.\r", "常用框架.LIB 包.各种资料库 /缓存 /中间软件,连接语法 CRUD 语法.交易概念与语法.\r", "资料库 CURD/查询 /过滤语法如果被插入攻击打入.扣一半总分.\r", "多国语言编码处理.XML/JSON 处理.\r", "可能考某些文字档汇入资料库并统计或过滤特定目标产出结果.\r", "\r", "本年度需求或案子需求会考:\r", "图片缩放旋转浮水印等处理.上传档案接收与 CURL 下载处理.\r", ".加密处理.压缩处理.微软 OFFICE 档案读写.\r", "\r", "不考渲染.因为那是前端在处理.输出统一 JSON/XML/TXT/动态生成档案.\r", "不考算法.如果案子是需要特定计算的.业主要提供算法.\r", "\r", "如果案子需要其他领域的专业人士协助例如物料参数 /规范 /格式 /限制 /算法都由其他领域的人士来上课给公式.考转成函数或是资料库结构建模与过滤产出.没过就调出该案.\r", "没案子在身的人需要协助有案在身的人的手动任务例如写报告.登打文档.协助开会录音与文书.\r", "有案子的有加薪.没案子的底薪.\r", "\r", "没案子的人随时可以要求入案补考.但该案专业人士要不要帮你上课讲解需要你自行洽谈.顶多让你日薪出差去该专家上班地方上课.但不给住宿车马费.\r", "\r", "没案子的人需要三个月内提出创意方案或是自造 LIB 包.三个月都没表现.欢送.\r", "三个月都不能找到自己的定位.我认为你该修个短假好好思考未来的路.有想法了再回来不迟.", " 没案子的人需要三个月内提出创意方案\r", "——————————\r", "学 PHP 压力真大", " 你真的在用心去做，会觉得到处都是要改进的东西。根本用不着三个月。", "php 内核代码在线查看工具， ", " %"]},
{"content": "", "reply": "18", "tittle": "谈谈 PHP 的技术栈。", "comment": ["php 还有技术栈啊？", "mark", "Composer+ Laravel+ MySQL+ Redis\r", "请楼下补充...", "mark", " 那我就是 ThinkPHP+phpmyadmin+baidu", "composer+laravel+nginx+mysql+redis+.....", " +baidu 什么鬼。。", "composer + Laravel + Apache + MySQL + Redis + MongoDB + ElasticSearch + NodeJS + AngularJS +……\r", "哪有什么栈啊，都写都干……", "composer + Laravel5 || Yii2 + Nginx + Mysql + Redis + Vuejs", "everything stack", "很多的啊 数据库 nosql linux c 、 go 、 erlang 、大数据、垂直搜索、即时推送 研究解决方案", "某框架+某缓存服务+前端框架\r", "这就解决 73% 以上的问题了。", "PHP 5.2 的坑\r", "PHP 5.3 的坑\r", "PHP 5.4 的坑\r", "PHP 7.0 的坑\r", "HHVM 的坑", "PHP + StackOverflow", "1. php 基础 + 一个面向现代思维的 php 框架 + 一个面向传统 web mvc 的框架 + 设计模式\r", "2. 面向 cli sapi 模式的多进程 php socket 编程 + 一个面向异步多进程多线程的 php 扩展\r", "3. Linux 环境下的 C 开发与 php 扩展\r", "3 轮弄完 , 掌握的技能基本上就可以说比较屌了", "论非 PHP 问题 PHPer 是如何解决的。", "php 内核代码在线查看工具， ", " 不用只为了看内核代码在本地装 ide 了～"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>最近经常写这样的代码，感觉很啰嗦：</p>\n<pre><code>$array = [];\n\n$string = \"0...balabala\";\n// $start 和 $length 变量值不固定\n$str = substr($string, 1, 10);\nif ($str === false) {\n    $str = '123';\n}\n\n$array[] = $str;\n</code></pre>\n<p>三目运算？</p>\n<pre><code>$str = substr($string, 1, 10) === false ? '123' : substr($string, 10, 10);\n</code></pre>\n<p>substr 两次影响效率？</p>\n<pre><code>($str = substr($string, 1, 10)) === false ? $str = '123' : null;\n</code></pre>\n<p>这样？（错误）</p>\n<pre><code>$str = substr($string, 0, 1) ?: '123';\n</code></pre>\n<p>有没有什么黑科技呀？</p>\n<p>业务都还没写完，天天想这些。感觉我这是病，得治。</p>\n</div></div>", "<div class=\"topic_content\"><div class=\"markdown_body\"><p>目前比较好的方法：</p>\n<pre><code>($str = substr($string, $start, $length)) !== false || $str = '123';\n</code></pre>\n<pre><code>// 条件：$start &gt;= 0 $length &gt; 0 符合一般的应用场景，推荐\n$array[] = isset( $string[$start] ) ? substr( $string, $start, $length ) : '123'; \n</code></pre>\n<p>然后如果是公司内部协作开发的话还是「不要标新立异」。</p>\n</div></div>"], "reply": "29", "tittle": "PHP if 判断怎么简写？", "comment": ["if(true):\r", "\r", "endif;", "$str = substr($string, 21, 10)) || $str = '123';", "（$str = substr($string, 21, 10)) || $str = '123';\r", "\r", "漏了个括号", " $str 最终有可能等于 true", " 貌似不行，和 $str = substr($string, 0, 1) ?: '123'; 一样有弊端（ 0 == false ）\r", "\r", "还是要这样：($str = substr($string, 0, 1)) !== false || $str = '123';", "$array[] = substr($string, $start, $length) or $array[] = '123';\r", "这样呢？", "我觉得就按啰嗦的那种方式写吧～\r", "\r", "感觉可读性会比较好，如果以后有同事需要维护你的代码，他会感谢你的\r", "\r", "不喜勿喷😀", "最正式或者说最通俗易懂的写法", " 这样有个坑。$array 有可能增加两个。😂 中间变量还是要的", " 哈哈，这个赞同。", "简单返回值的话用  expr1 ?: expr3\r", "剩下的 if else 不要少，只有 if 也不好", " 我晕… 我就是帮你简化到最简单的程度，你增加一个中间变量也不影响这个写法成不成立嘛，那就改成： $str = substr($string, $start, $length) or $str = '123'; \r", "关键是这写法有没有其它坑，不懂你的实际应用情况~", "为什么依赖 substr 的返回值 ..? 在 $start 非负 $length 恒正的情况下我会这么写 ...\r", "\r", "$array[] = isset( $string[1] ) ? substr( $string, 1, 10 ) : '123';\r", "\r", "对的我就是能不使用额外变量就不使用额外变量的三元狂魔 ...", " 额，不好意思。我没别的意思。只是我也那边试过，发现不行。\r", "\r", "嗯 这个目前看来是最优的，也便于阅读。但还是有点小问题，#5 楼。\r", "\r", "substr($string, $start, $length)有可能返回 0 ，布尔值是 false 。", "你的代码不够啰嗦的后果就是你的同事会跟你啰嗦。\r", "\r", "：）", " 赞，这个方法很巧妙呀。", "$str || $str = '123';", " 嗯嗯，是的，道理我懂。多了解点「技巧」可以在自己项目里面用用。", "$str = ($strTemp = substr($string, 1, 10)) === false ? '123' : $strTemp;", "不要使用这些自己还没搞懂的代码！特别是团队。", " 可以写好注释", "最近就在被各种简写 搞的疲惫不堪   看到这帖子 顿时一股火就直冒出来", " 。。。淡定，我就问问，不写。😂", "不要简写", "确实需要治，简写并不能说明你水平高，以后还会被别人背地里画圈圈的。", "“调试程序的难度是写代码的两倍。因此，如果你的代码写的太聪明了，恐怕就没能力调试它了。”\r", "\r", "我曾经改过一个可以拆成四行的三目运算符但是写在了同一行的代码，那酸爽。。。", "难道不是应该把这段代码写到一个函数里吗？\r", "万一过几天需求改了要把 123 换成 456 难道还要挨着一个一个改。。", "第一种就是推荐的写法，也不麻烦，就多两行代码而已，好理解多了。三目运算符太长了对于理解和调试都有很大的问题\r", "\r", "像 golang 没有三目运算符就没这些事了", "php 内核代码在线查看工具， ", " #"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>如题  最近在用 CI 框架，但是部署在 iis 环境的服务器下 必须在在 url 中带有\"index.php?\"才可以，造成了一系列的麻烦，不如 get 方式提交表单会删除掉?后面的控制器参数。\n求解 怎么样屏蔽掉</p>\n</div></div>"], "reply": "13", "tittle": "php IIS 下怎么隐藏掉\"index.php?\"", "comment": [" \r", "官方扩展。。", "IIS 几？ \r", "\r", "应该是设置下默认文档就 OK 了。", "  非常感谢 大概看懂了一点 是需要这两个软件才能让 iis 支持读取.htaccess 这个文件吧", " iis7", "IIS7 应该自带 URL Rewrite 模块的，但是配置文件规则和 Apache 的有所不同。", "  啊，有自带的话就不用去装插件了呗，我去找一下他的重写规则。非常感谢~~", "IIS7 ，先装 2 楼给的扩展才行", "在 web.config 中配置", "配置文件写好规则", " htaccess 文件 IIS 不认，但是 URL 重写模块可以导入 htaccess 的规则。", "成功了  iis7 自带 url rewrite 可以重写也可以导入  虽然还碰到了些小坑，但是还是把 index.php 给删除了。感谢各位指点~~\r", " \r", " \r", " \r", " \r", " \r", "IIS 里指定首页默认 index.php 了吗"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>每次程序执行命令需要先 telnet 进设备\n然后再执行命令\n整个过程需要 4 秒\n时间有一些长</p>\n<p>能否实现程序保留一个 telnet 界面在那里\n当需要执行命令的时候 直接在保持的 telnet 界面里 打入命令\n而节约 telnet 连接进设备的时间</p>\n</div></div>"], "reply": "15", "tittle": "如何快速的执行 telnet 命令", "comment": ["看了 lz 的发帖记录，是要做个 Looking Glass ？", "不现实。即使在后台维护一个活动的 telnet 会话， telnet 服务端会因为长时间没有交互而主动断开（除非不停的输入命令当“心跳”）", "这个是想要用 php 来实现吗?", " 是的 想用 php\r", "\r", "\r", " 可以定时发送一个命令 或者回车一下", " 不是 Looking Glass  是要定时操作静态路由", "我猜测：\r", "用 swoole 那种东西在后台 php 像服务一样持续运行（并保持 telnet 的持续连接），每当有新的指令时，通过 web 服务器的提交命令给后台 swoole 执行。\r", "\r", "swoole 像服务一样，会一直运行直到你停止它。\r", "传送指令的那个可以是 PHP ，就是普通的 mod_php 或者 php-fpm ，从 web 请求开始运行到传送结束结束。", "正确的做法是把那个命令公开为 web 服务，但一般人都不愿意折腾\r", "其它答案见前面的回帖", " 大概意思是这样\r", "这样可以节约 telnet 连接时间", "改用 rsync 不好么？", " 是同步文件的吧  也能执行操作吗", " \r", "我理解成你是用 telnet 来上传 /下载文件， \r", "如果是 telnet 执行操作，对于服务器完全可以放弃 telnet.\r", "对于网络设备或其它，自动化处理 snmp 读 /netconf 写要用更普遍.", "可以的，你用 Python 或者 perl 一类脚本语言的 telnet 模块连 server ，再监听一个端口，让真正的 telenet 客户端连，脚本做包转发，很容易", " 我是需要写入\r", " 这种的方式一般能几秒执行完", " 包转发是双向的呀。", " 这种方式只要脚本后台再 screen 或 tmux 里执行着，你的真实 telnet 客户端可以随时连上再断开，和服务器的握手延迟没关系啊\r", "\r", "如果你搞不定自己写的脚本，你可以用商业的 securecrt ，它也能把 session 共享出来"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>多级分销程序.\nPHP 语言\nA 下面有多个 B.B 下面有多个 C.C 下面有多个 D 。无限级。\nD 属于 C ， C 属于 B ， B 属于 A.  我要统计 A 下面有多少人.</p>\n</div></div>"], "reply": "2", "tittle": "各位大大.新手来请教个问题. 求解答", "comment": ["百度“递归”", "google 递归"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>想初学下 cms 的部分知识    请问怎么入门用哪个比较好呢？</p>\n</div></div>"], "reply": "51", "tittle": "php 的 cms 哪个最好？", "comment": ["phpcms 还是 dedecms 好呢？", "wordpress 最好用了。至于入门写 CMS 代码，为何不先自己手写，再来参照呢？", "cms 是一个很大的话题，你先说清楚你要做哪个方面，针对什么市场。", "简单的可以从 WordPress 开始，然后 Drupal ， eZ Publish 什么的都可以做进阶", "直接 Drupal 吧，定制型超强", "没有最好一说", "互联网 25% 的网站是用 wordpress 搭建的\r", "\r", "但如果是要学 PHP 而不仅仅是为了应急搭个什么东西，那还是自己来写每一行代码才最有收益", "dede 除了漏洞,还有啥?", "dede 的我敢保证楼主一年内至少被黑 3 次。", "dedecms 帮你入门，理解栏目分级 划分，标签调用概念 等待，理解后不要依赖 ，换个 PHPCMS 用用", "PHP 是最好的，我知道，但 CMS 就不知道了。", "如果需要 CMF ，不妨了解一下 CoreThink ， ", "同推 wordpress", "最近 wp 被攻击的相当厉害...深刻体会到，长久来看，还是不要用这种特征太明显的 cms...", " 中国最流行的建站程序，为了一批人创造了不少财富", " 我没有记错是的话，官方的原文应该是， 10%的网页吧？", "自己写个 cms 不难吧", "织梦是蜂窝煤， phpcms 进入盛大手中没活几天。国产最好的是帝国 CMS 。", " 帝国+1\r", "\r", "虽然后台丑了点，审美差了点。但前端好好搞一下，效果相当不错的。", "其实用框架自己写一个比较好 也不难", "我只想给你一个忠告－  V2EX 男人用女人头像会被封号", "dedecms 有多少漏洞不清楚，但我用过的一个虚拟主机服务商明确不接 dede 的单子...", "抛开实际需求来谈“最好”都不合理，所以你需要补充想做什么", " 为啥会有这种规定……", " 欺骗同类积极性", " Dede 易用性的确很好很好，就是漏洞很多很多……", "dede 确实是洞王，公司有一个遗留项目用这玩意，坑惨了", "帝国 cms+1\r", " 哈哈 用其他的 cms 再套用一下  帝国就不错", "果断 帝国 cms", "建议  帝国 CMS   至少作者发现 bug 会立即处理  \r", " DEDE  PHPCMS 都是万年不改漏洞", "不要用 dede ，不要用 dede ，不要用 dede ！", "楼主是要学习，你们推荐那么多超级复杂的 CMS 干啥，楼主你可先玩玩轻型 PHP 框架", "可以试试 蝉知， ", "只要楼主用了 dede ，我保证楼主没事就要清理被挂的马。\r", "\r", "帝国 CMS 有句话写的好：想到即可做到。", "千万不要用 dede ，国内最好的开源 CMS 是帝国，没有之一~", "为什么会有人认为 wordpress 简单？在你们眼中 WP 就是装装插件改改主题的吗。", "自制的最好……", "当然是我大 drupal", "帝国 CMS +1", "帝国 帝国 帝国", " 在落伍貌似看到过你", "drupal8.你可以点击我的博客网站看一下： ", " 同一个头像 同一个 ID 同一个人", "从帝国入手，等啥时候发现帝国烂的不能忍受就上 composer", "xiaocms 咯", "国内这两个 phpcms 和 dede 他们是开源的吗\r", "我比较喜欢开源的 加之我对 WordPress 二次开发比较熟悉，换成我我会选择 wp", "\r", "基于 tp 框架的管理后台，设计好，学习成本低。", " \r", "\r", "基于 tp 框架的后台管理系统，应用技术新，学习成本低", "帝国 cms 的后台有好的模板吗？官方原版的那个后台丑得不忍直视啊", " ", " 说好的 drupal8 呢，为什么是“自豪地采用 WordPress ”", " drupal8 出 bug 了，修起来麻烦，后来综合考虑，就转回 wordpress"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>报错如下：\n[Symfony\\Component\\Process\\Exception\\RuntimeException]\nThe Process class relies on proc_open, which is not available on your PHP \tinstallation.</p>\n<p>项目也能新建新建成功，但是访问的时候出现 No input file specified ，说是目录没有。\n刚学习 laravel ，求指教。</p>\n</div></div>"], "reply": "6", "tittle": "laravel new 项目名，报 proc_open 没有安装！", "comment": ["打开 php.ini 搜索 proc_open 看看是不是被禁用了 没有的话就得重新编译进去了", "php.ini 中 proc_open 被禁用了", " 之前是 disable_functions:proc_open 里面有这个选项的，但是执行后就出这个。", " 意思是让你从里面删掉", "还有，搜索下一大堆答案", " 嗯"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>开发机器目前用的是 Win10 ，写项目用的 PHPStrom ， XShell 连接 Linux ， Xftp 打包上传网站（快换 Git 了...）。</p>\n<p>本地开发 nginx+apache+php+mysql 等版本都比较新，但是服务器端的整个 LNMPA 的版本都不高。</p>\n<p>某些项目在这种差异下几乎没有影响，但是最近服务器<em>环境比较复杂</em>[1]后，本地测试无误后的 PHP 项目上传到服务器上后很多地方出现 500 ，甚至 <em>404</em>[2]，路径出错等。</p>\n<p>请问你们 <strong>怎么避免</strong> 这种问题？以及遇到这种问题的时候 <strong>如何快速解决</strong> 的？</p>\n<p>或者分享一下你们的不错的 <strong>开发&amp;部署</strong> 方案？ 以及其他 <strong>建议</strong>？</p>\n<p>必须让开发环境和线上环境完全一致吗？</p>\n<h5>说明</h5>\n<ul>\n<li>\n<p>[1] <em>环境复杂</em> 指的是服务器上使用还有 Java 等项目，目前的解决办法是前台使用 Nginx 反向代理，后端 PHP 依然使用 Apahce 。</p>\n</li>\n<li>\n<p>[2] 404 的问题会受服务器网络速度影响。（公司服务器速度不行...）</p>\n</li>\n</ul>\n</div></div>"], "reply": "32", "tittle": "本地和服务器上运行不一致如何解决？", "comment": ["首先统一 php 版本", "docker 大法好", "环境一致还经常出错呢,别说环境不一致了,我就经常犯大小写的错误.", "看你描述都觉得蛋疼。环境问题能解决就不错了，快速解决更可遇不可求。\r", "开发环境和线上环境最好一致，不然你会遇到无穷无尽的奇怪问题。", "看报错看报错，没有报错日志是查不出来问题的。\r", "一般 win 下面的文件大小写是不区分的，而 linux 对文件有绝对的大小写区分，所以如果有 windows 下面开发的代码，文件名的命名规范一定要统一好，偷懒就用全小写，不然到线上，为一个大小写的区别， linux 报找不到文件是常有的事。\r", "\r", "线下开发环境搭建一个与线上一致的版本是必须的，至少在上线之前代码放到与线上环境一致的测试环境跑一遍测一测。\r", "如果线上出问题了，第一反应应该回滚代码，然后把错误日志找出来诊断原因。\r", "\r", "docker 大法确实好，在线上部署对运维能力要求高，但是确实很省开发人员搭建环境的时间。运维把配置脚本写好，开发把需要的安装文件和脚本 copy 过去，运行一下就可以把环境拉起来。", "Docker 大法好", "保证开发、测试、运行的环境一致。写代码用什么当然无所谓", "看你要一致到何种程度，以及要方便到什么程度。\r", "\r", "难道你连一个 staging 环境都没有吗？", " 我很想，但是服务器上的版本（ CentOS5.11+nginx0.8.55+apache2.2.3+mysql5.09+php5.42 ）不是我说了算的，而我本地又想用比较新的开发环境。。 （刚偷偷升级 PHP 至 5.6...）", " \r", " 只听过但从没弄过 Docker ，目前公司也没看出有用这个的意图，有什么推荐的上手资料供研究先么", "PHPStrom 可以用远程服务器的 php 版本来调试的，本地要搭开发环境肯定是尽量和服务器保持一致", " 嗯。。。是的\r", "\r", "而且我解决 500 的办法好死板的：在浏览器中找到出现 500 页面，然后再服务器上运行 `php -f 'xxx.php'`  看报错，然后一个个排除。。。", "“[2] 404 的问题会受服务器网络速度影响。（公司服务器速度不行...）”\r", "\r", "这是什么鬼……", " 既然服务器版本不是你说了算，为何还要偷偷用新版，自己挖的坑含着泪也要跳下去啊\r", "特别是有的函数改了、废了，到时候改起来那酸爽简直了。。", " 当然是少出现 500 404 之类最好了。目前没有走这么标准的流程，你们都有的吗？我才工作不久，这些不是很懂，貌似上面也没这样要求过", " 就是慢的时候比如图片会加载失败 用 chrome 审查就是 404 ... 但是复制图片路径单独访问可以看到", " 本地多架一个版本的环境来测试不会死人吧", "可以本地用 docker 装个跟线上一样的开发环境，然后代码文件用 volume 挂载。", "一定是跟我们一样什么东西都扔在一个 OS 上", " 对。我认为你现在开个 staging 环境，和 production 完全保证一致。并且把本地用的依赖版本都换成和生产环境一样，暂时够用了。\r", "\r", "本地版本都和 production 不一样真是闷声作大死。你目前貌似还不需要用 docker 等工具来达到 100% 一致，但保证各种依赖版本一致实在是太基本的需求了。", " 因为.... 我开始学 php 的时候用的版本就已经不低了 低版本不熟悉....", " 那你应该升级服务器环境了。要么自己学习低版本，要么升级服务器的 php 。", " 你们是怎么搭建 staging 环境的呢？（是如果服务器是 centos5.11 那我也得去下载一个 centos5.11 然后在虚拟机里面跑 php 这些，这样吗？）", " 买一个一模一样的服务器，装一模一样的软件。", " 也用（几乎）一模一样的部署方法（可能就域名不一样，另外数据是假的）。每次要先部署到 staging 测试一下，然后再部署到 production 。", " 懂了~ 谢谢", " 再慢也不会 404 啊， nginx 只有在找不到文件的时候才会报 404", " 那我也解释不了了，反正现象就是如果在审查工具中看状态码就是 404 ，而直接访问图片 url 却可以看到... \r", "\r", "就是这样：\r", "\r", "![status code 404]( ", " )\r", "\r", "![direct access ok]( ", " )\r", "\r", "我也觉得奇怪...  所以我猜可能就是网络不行", "我们是线下有一套与线上代码一致的测试环境。代码放到 svn ，然后开在测试机进行调试。你这样子系统不一致、各种版本不一致。肯定会出问题的。我们现在环境一致，都经常上线的时候出错。紧急回滚。", "镜像线上环境", "开发测试环境通过 docker 统一。部署不关我们事，只提供各种脚本", "php 内核代码在线查看工具， ", " ～"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><img alt=\"Antvel\" src=\"http://laravelacademy.org/wp-content/uploads/2016/03/2016-03-31_092041.jpg\"></p>\n<p>Antvel 是一个基于 Laravel 5.* 开发的开源电子商务项目，我们创建这个项目是为了帮助创业者或大公司快速构建友好的电子商务网站。这是一个功能齐全的平台，你只需要添加你的产品，然后将它们卖给客户获取订单就可以了。 Antvel 的宗旨是以另外一种方式让你和你的客户用户获取最佳的电子商务体验！</p>\n<p>更多详情请点击：<a href=\"http://laravelacademy.org/post/3793.html\" rel=\"nofollow\">http://laravelacademy.org/post/3793.html</a></p>\n</div></div>"], "reply": "5", "tittle": "基于 Laravel 5.* 开发的开源电商网站出现了！", "comment": ["B2C ？", "支持下，最近一在学习 Laravel~", "   后台地址无法登录", "php 内核代码在线查看工具， ", " 不用只为了看内核代码在本地装 ide 了。", " 这些账号可用于本地安装 antVel 项目的登录"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><h1>取码（我这么称呼他）</h1>\n<p>创建订单并支付完成后（创建订单不减<code>“库存”</code>），支付网关回调，走如下流程：\n取订单号关联的所有第 X 期的商品和购买数量，然后循环取码</p>\n<pre><code>\nforeach ($goods as &amp;$good)\n{\n    // 从 Redis 的一个 Sets 中取$number 个号码（随机）\n    // SPOP 第二个参数在 3.2 才有\n    $codes = \\Redis::spop(\"code:\".$good-&gt;id,$good-&gt;number);\n    \n    // 没码了（也就是卖完了） 返回 NULL\n    if (!$codes)\n    {\n        // 这一期的商品执行退款操作到网站账户余额\n        // 并删除\n    }\n    // 如果取的码的数量小于需求数量 也表示卖完了\n    if (count($codes)&lt;$good-&gt;number)\n    {\n        // 退回多余的支付款项到网站账户余额\n    }\n    \n    $good-&gt;codes = $codes;\n    \n    // 创建购买完成订单数据记录 balabalabalabala\n    // 记录已经售完的商品期数ID\n    $finish_goods_ids = [....,.....,.....,.....];\n}\nif ($finish_goods_ids) {\n    // 访问彩票接口获取下期开奖时间和彩票期数\n    // 循环设置\n    // 接口访问失败，前台友好提示，入故障队列\n}\n\n$goods-&gt;save();\n// 如果发生异常，回滚事务，退还已经取出的码到 Redis 中\n</code></pre>\n<p>如果在高并发情况下， redis 已取出，最终异常又退回的。怎么保障其他支付结果仍能顺利的取到码？</p>\n</div></div>"], "reply": "5", "tittle": "最近折腾一个类似一元云购的东西，碰到一个问题发出来共享讨论一下。", "comment": ["一元云购还有人折腾。。", "  ", " ", "送钱的？", "没明白。。什么叫发生异常？支付异常吗？取码不是发生在支付成功后的回调时吗，这时候如果能顺利取出码，说明已经付款且库存足够了，如果回调后没能取出码，说明库存不足，这时候退款或是开下一期。。如果实在要在取完后再退回，再把码 sadd 进去不就好了。。", " 就是担心并发 ", "     如果并发上来了会不会发生这种情况：前一个取码成功，后面失败。同时后面的根本就取不到码。开新一期还是放在队列里执行吧。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>看官方文档 看的我已经蒙蔽了。 <br>\n这玩意不应该下载个完整包 解压直接扔在 web 目录下不就得了么。<br>\n怎么这么复杂， 是我太渣么。</p>\n</div></div>"], "reply": "31", "tittle": "php 新手怎么能快速搭建 laravel????", "comment": ["直接用 vagrant  装 Laravel Homestead 这个是不是更方便点？", "或者说 哪个 php 更适合 新手入门~  平时写 java 的。。。 勿黑~", "安装 composer 啊 用它来安装不是很简单嘛", "如果你想傻瓜化：\r", "\r", "下载解压，然后把 web 根目录指向 public 就行了", "根目录运行 composer install 就会下载各种依赖包， public 目录是公开访问目录", "行了。。  原来访问 /blog/public  就可以了。\r", "好吧。。  原谅我的无知。。", "用 vagrant 可以很方便部署，而且最新的 homestead 已经使用 php7\r", "如果是要部署到服务器上，注意权限", "LZ 要与时俱进   安装 composer  找 composer 镜像~~", "  已经搞定了。。 是 LZ 太愚蠢 不知道访问 public 公共访问路径。。", "现在已经成功的可以访问 主页了！  页面中间硕大的 Laravel 5     \r", "下一步应该怎么调教他？", "不知道设置 public 为根目录。。。\r", "楼主好可爱", " +1", " ", "用 composer 很方便的", "composer", "Thinkphp 党路过", "千万别用 laravel, 曾经试学并退出的飘过。", " 该用什么", " 没搞过 php 框架。。。 以为直接访问根目录就可以呢。。", " 不是说 laravel 最好的 php 框架么。。", "官方文档看不懂就别想着快了，好好弄懂吧，不要急于求成", "用 composer 安装很方便,建议先看看 0 基础的 laravel 教程.", "不太方便，坑太多了，尤其如果想 windows 下的虚拟机和共享目录，我搞了 3~6 天，供参考。。。\r", "然后才开始弄，中间还有个中小坑大坑不断。。。累了，我先休息一段时间，打打 dota", " 直接在本机 mac 上搭建的。。 目前已经开始看着手册开发了。", "看国外视频教程之后翻译的一个入门教程： ", " ，希望对你有所帮助，高手们勿喷。", " 3q  非常感谢！！！目前路由和控制器 orm 摸差不多了。 剩下 Form 、 blade 和中间件的部分。\r", "我咋感觉实际开发 用不上中间件呢。。", " 比如权限控制什么的就可以用到", " so ga~  谢谢。", "php 内核代码在线查看工具， ", " 不用只为了看内核代码在本地装 ide 了#", "给你个群吧 Laravel 学习交流群 212423075", " 不玩了~"]},
{"content": ["<div class=\"topic_content\">今天在做一个日期的中文输出时（ OS X ），用了 setlocale(LC_TIME, 'zh_CN.UTF-8')，部署到生产环境（ CentOS ）后，日期居然显示空白。注释掉 setlocale 后，日期显示为英文，问题定位在 setlocale 上。\r<br>生产环境 locale -a 看了一下，发现 zh_CN 是 utf8 的写法，迅速改成 setlocale(LC_TIME, 'zh_CN.utf8')后正常。\r<br>\r<br>请问有统一的方法吗？（不想为此增加一个配置，完美强迫症</div>"], "reply": "3", "tittle": "原来 CentOS 和 OS X 的 locale 不一样", "comment": ["docker 就是用来解决这些问题的。。", "判断系统类型。这世界不完美的东西多了。", "什么是“是 utf8 的写法”？"]},
{"content": ["<div class=\"topic_content\">前天手贱用 phpmyadmin 把一个数据库删了，然后怎么恢复呢，没备份，以下是服务器信息， myadmin5.5  winserver2012 IIS8.0 。现在勉强用之前的备份。</div>"], "reply": "2", "tittle": "mysql 数据库被删除怎么办", "comment": ["用数据恢复软件可以一试", "**前天**"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>[PHP：从入门到精通] 在线教材网址： <a href=\"http://book.phpyanxi.com/\" rel=\"nofollow\">http://book.phpyanxi.com/</a></p>\n<p>PHP研习社出品，欢迎一起参与讨论，也欢迎加入研习社 QQ 群： 204787773</p>\n<hr>\n<p>课程体系如下：</p>\n<p>第 1 课：</p>\n<pre><code>讲解： PHP 简介， PHP 开发环境搭建， PHP 语法(基本语法、逻辑控制、系统函数)， HTML 入门\n练习：客服反馈系统\n</code></pre>\n<p>第 2 课：</p>\n<pre><code>讲解： PHP+数据库（ MySQL 、 Sqlite 、文本数据库、 NoSQL ）\n练习：留言板\n</code></pre>\n<p>第 3 课：</p>\n<pre><code>讲解： Linux 基本操作， GIT 和 SVN 协作、 Github 使用、 PHP 生产环境部署环境\n练习：使用 Linux VPS 部署 WDCP 面板\n云端管理网站、将留言板部署在云端\n</code></pre>\n<p>第 4 课：</p>\n<pre><code>讲解： Cookie 、 Session 、用户模块\n练习：将留言板改造为 Blog ，实战用户登录注册中心\n</code></pre>\n<p>第 5 课：</p>\n<pre><code>讲解： PHP 高级语法、面向对象编程\n练习：对 Blog 进行面向对象重构\n</code></pre>\n<p>第 6 课：</p>\n<pre><code>讲解： PHP 框架\n练习：将 Blog 改造为通用的 CMS 内容管理系统\n</code></pre>\n<p>第 7 课：</p>\n<pre><code>讲解： PHP 和网站安全性\n联系：安全加固和常见安全问题解决、日志分析\n</code></pre>\n<p>第 8 课：</p>\n<pre><code>讲解： Composer 包管理工具、 OAuth 社会化组件、微信公众号开发\n练习：微信公众号开发（微信投票系统）\n</code></pre>\n<p>第 9 课：</p>\n<pre><code>讲解： PHP 性能优化、访问量优化、伪静态、图片服务器、数据库优化、第三方服务优化\n练习： CMS 系统优化改造\n</code></pre>\n<p>第 10 课：</p>\n<pre><code>讲解：云计算和网站架构\n实战：大访问量网站优化和架构重建\n</code></pre>\n</div></div>"], "reply": "8", "tittle": "[PHP：从入门到精通] 在线教材 - PHP 研习社出品", "comment": ["这教材是不是水得有点过分了\r", " ", "这能叫精通吗。。。", "PHP 入门到初级", " 还在补充", "php 还需要学？看看语法就可以写了，需要时在看文档。", "php 手册已经非常不错了，不过还是赞一个", "去看了下，发现视频太差了", " 线上那个还没正式做，只是线下的一个尝试录制。后期会专门做线上。 感兴趣 可以加群"]},
{"content": ["<div class=\"topic_content\">例如一个项目里有一个文件 a.php ，里面有个函数 function my_test(){}\r<br>然后我在编辑文件 b.php 的时候，输入 my_ 就可以自动提示 /补全 my_test()\r<br>请推荐一下linux和windows里的软件，谢谢。\r<br>另外，这种功能的专业术语叫什么？</div>"], "reply": "29", "tittle": "请问最小巧的，支持用户自定义函数提示/补全的代码编辑器/IDE 是哪个？", "comment": ["Vim?", "php 目前还没有基于语义的开源自动补全引擎，所以编辑器基本只能用 ctags ，虽然也可以用 eclim ，但是那个体量和 ecliipses 也差不多了。", "emacs autocomplete global tags\r", "\r", "在配合些 hook 保持索引增量更新", "sublime 可以补全字符串\r", "从打开的文件中的索引 和 自动补全的插件", "动态语言的代码自动补全做到象 aardio 这么利索的应当不多，而且 IDE 的体积还只有 5.5MB\r", " ", " 搜一下名字找到了這個問題.\r", "\r", "似乎都是讚揚的聲音.", "Atom 默认就可以啊，虽然不能说是轻量。", " 我觉得还是讨论些实在的、有用的技术问题吧，例如给楼主推荐个编辑器？！\r", "\r", "至于你所谓的：“都是赞扬的声音” - 你是在说反话吗？！ 我记得的是知乎上污言秽语的辱骂 aardio 的太多，不跟着骂的被封号，就你给的帖子下面都封了几十个回复吧，如果知乎狂封乱删仍然不能为知乎用户提供有价值的内容，而只有这些误导性的“都是赞扬的声音”，那么我建议你，以后别上知乎了，这种事你问我也不知道怎么回事，我又不是知乎 管理员，要对他的内容质量负责", " 我也只是想表達 ,這個 IDE 好像真的不錯哦 .\r", "\r", "\r", "至於知乎哪裡 ,我看到的開頭幾個確實都是說它好的 , 我也沒必要深入去考究知乎刪過多少個回復把.", "geany", "我投 geany 一票", "phpstorm 绝对好用，但是不小巧", "这个用 vim 加上 YouCompleteMe 插件应该就可以实现", " 原来快手改名啦~写 Win 的应用不要太方便！\r", "不过自从切到 Linux 开发 Android 好几年没关注了", " 还是讨论编辑器吧，其实 aardio 只是体积比较小，我觉得比 aardio 强大的编辑器应当很多，以 PHP 为例，例如 VS.PHP  就很不错，不过要付费", " 可以关注一下知乎那个答案回复的人的信息 大部分的都是一两个回复 - -", " 这样啊，我看不仅仅是那个答案，知乎上辱骂 aardio 的基本都是新注册号，匿名账号，而且都是扯一些有的没的不着边际的东西，例如作者家里的粪坑臭不臭这种事情，我看那些帖子的历史，至少咒骂了四五年了吧，不过我还是建议你不要把时间浪费在关注这些事情上了，这种现象不管哪个国产软件都有。\r", "\r", "当邻居突然有钱买了一辆好车，美国人说：“我要赚钱买更好的车”；日本人说：“我要研究他赚钱的方法”；法国人说：“我想借他车去兜风泡妞”；中国人说：“我杀他的心都有，今晚先砸了他的车”。所以你看到这种现象没什么好奇怪的，我们造车的技术不及国外，但毁谤车子的技术一向是天朝特色。", " 但是赞美的也都是这种的啊…… 难道是作者气不过叫用户注册账号过来回答？\r", "\r", "辱骂的被删了现在看不到…… 但是赞美的也是新注册的号实在也是说不过去…… \r", "\r", "另外底下赞美的统一 12 号回复 统一就那么一两个回复…… 如果不是水军的话我也不知道说啥好了…… 或许作者有人格分裂吧请两帮水军互喷吧 - -", " 你觉得什么说不过去，或者不服气，或者要怎么样，你要整顿网络风气，这都跟我没关系，我并不关心。你没事也不需要在那里想太多，而且显然 aardio 并不需要这种东西，很多软件官网上都有一些自我颂扬、或者用户颂扬之词， aardio 官网上就没有这些东西，而且写的很清楚：“如果你觉得 aardio 好用，不需要告诉其他人，不需要在作品上留下鸣谢链接，不需要声明是 aardio 写的 ” .......... 我没有看到 aardio 作者吆喝谁上去发这些东西，即然你研究的这么仔细，应当看得清楚那是个第三方用户建的 QQ 群，写软件是人家的自由，免费是人家的自由，什么时候不想写，也是人家的自由。用户要怎么颂扬怎么骂，扯不到作者“人格分裂”这种高度。\r", "\r", "少把精力浪费在这些有的没的上面，没什么意义，程序员都很聪明，这种很明显的事，不需要自作聪明去做“引导”，而且跟这里的主题也没关系，跑题太远。", " 囧 我只是质疑一下而已…… 是个人看了底下的回复也会产生怀疑吧……\r", "\r", "另外作者也在知乎出现过吧 而且貌似对于一位想帮他的也不是很友善 \r", "\r", "当然骂人固然是不对 但是这种一言堂也不算好吧", "aardio  这个是基于什么原理 ,网上搜索都没有百科", " 目测 aardio 是 scintilla based 编辑器", " 好的，质疑谁是你的自由！质疑完了那希望从这么有社会责任感的你身上看到更多的“友善”，而少一点对他人的人身攻击。我对你的说的这些没有兴趣，也不想讨论政冶，人格分裂的人在这个世界上多的事，你能管得了几个。\r", "\r", "  aardio 没有用到 scintilla ， scintilla 本身就比较大，以前 aardio 作者也说过试用过 scintilla 对他的自动补全并不满意，所以没有用他而是自己造轮子。", " scintilla 的自动补全确实渣", " 用户哪里看得出被删了多少记录呢？除非自己手动在计算回复。", " 我也这么觉得 除了开启的时候要等候一小段时间，但是用起来可是非常方便多了，我之前用的是 sublime 开启的速度很快，占用的空间也很少，用起来也不错，但是感觉做项目的话，首推 phpstorm 莫属。", "notepad++\r", "\r", "这个绝对算轻量的，而且可用的语言也很多。\r", "\r", "支持自动补全和许多 Plugin ，就是自动补全有点不太灵敏，操作习惯就好。", "sublime_text3  強大到中文都給給你補全,要下個插件", "cloud9 。。。算不算", "本地配置感觉略麻烦倒是真的"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p><code>$aaa</code> 是一个没有定义过的变量，下面两种情况一个报错一个不报错，奇怪。。。</p>\n<pre><code>// 不报错\nif ($aaa) {}\n</code></pre>\n<pre><code>// 报： Undefined variable: aaaa\nif ($aaa)\n</code></pre>\n</div></div>"], "reply": "7", "tittle": "PHP error_reporting 很不理解。。。", "comment": [" ", " 这是什么 ide", " ", "刚刚试了下， if ($aaa) {} 也会报啊……", "散了散了，题主傻了……", " 抱歉，是用的框架的问题，哈哈", "跟你 php.ini 的 error_reporting 有关。\r", "; Error Level Constants:\r", "; E_ALL             - All errors and warnings (includes E_STRICT as of PHP 5.4.0)\r", "; E_ERROR           - fatal run-time errors\r", "; E_RECOVERABLE_ERROR  - almost fatal run-time errors\r", "; E_WARNING         - run-time warnings (non-fatal errors)\r", "; E_PARSE           - compile-time parse errors\r", "; E_NOTICE          - run-time notices (these are warnings which often result\r", ";                     from a bug in your code, but it's possible that it was\r", ";                     intentional (e.g., using an uninitialized variable and\r", ";                     relying on the fact it is automatically initialized to an\r", ";                     empty string)\r", "; E_STRICT          - run-time notices, enable to have PHP suggest changes\r", ";                     to your code which will ensure the best interoperability\r", ";                     and forward compatibility of your code\r", "; E_CORE_ERROR      - fatal errors that occur during PHP's initial startup\r", "; E_CORE_WARNING    - warnings (non-fatal errors) that occur during PHP's\r", ";                     initial startup\r", "; E_COMPILE_ERROR   - fatal compile-time errors\r", "; E_COMPILE_WARNING - compile-time warnings (non-fatal errors)\r", "; E_USER_ERROR      - user-generated error message\r", "; E_USER_WARNING    - user-generated warning message\r", "; E_USER_NOTICE     - user-generated notice message\r", "; E_DEPRECATED      - warn about code that will not work in future versions\r", ";                     of PHP\r", "; E_USER_DEPRECATED - user-generated deprecation warnings\r", ";\r", "; Common Values:\r", ";   E_ALL (Show all errors, warnings and notices including coding standards.)\r", ";   E_ALL & ~E_NOTICE  (Show all errors, except for notices)\r", ";   E_ALL & ~E_NOTICE & ~E_STRICT  (Show all errors, except for notices and coding standards warnings.)\r", ";   E_COMPILE_ERROR|E_RECOVERABLE_ERROR|E_ERROR|E_CORE_ERROR  (Show only errors)\r", "; Default Value: E_ALL & ~E_NOTICE & ~E_STRICT & ~E_DEPRECATED\r", "; Development Value: E_ALL\r", "; Production Value: E_ALL & ~E_DEPRECATED & ~E_STRICT\r", "; "]},
{"content": ["<div class=\"topic_content\">各位大能：\r<br>\r<br>        我公司是一个专注大数据可视化的软件公司，总部上海，现在青岛、西安设有分公司，目前西安分公司人员扩充，招募： PHP 软件工程师。 \r<br>       我公司扁平化管理、薪资待遇优厚、办公环境舒适，希望与各位大能共创财富！\r<br>       PHP 软件工程师： \r<br>       任职要求：\r<br>1 、三年以上开发经验。 \r<br>2 、熟练掌握 PHP 语言，熟悉 PHP Mysql Apache Linux 编程环境开发，能独立负责项目的开发工作。\r<br>3 、熟练使用 MVC 模式进行 WEB 开发、熟练使用一种主流的 PHP 框架如 ThinkPhp 并使用该框架参与过一个以上大中型项目开发。  \r<br>4 、熟悉数据库的设计和性能跟踪及优化工作, 精通 sql 语句, 熟悉基于 MySQL 数据库的开发。熟悉一种主流的 NoSQL 系统,了解其工作技术原理,熟悉其应用场景 \r<br>5 、熟悉 HTML CSS XML AJAX, javaSript 等网络编程语言，熟悉 HTML5 者优先。 \r<br>\r<br>  公司网址：\r<br>  <a target=\"_blank\" href=\"http://www.surdata.com/\" rel=\"nofollow\">http://www.surdata.com/</a>\r<br>  <a target=\"_blank\" href=\"http://www.biportal.cn/\" rel=\"nofollow\">http://www.biportal.cn/</a>\r<br>  如有兴趣进一步了解，可通过一下方式联系我：\r<br>  QQ ： 80867607   \r<br>  邮箱： <a target=\"_blank\" href=\"mailto:xianhr@surdata.com\">xianhr@surdata.com</a></div>"], "reply": "目前尚无回", "tittle": "求贤： PHP 开发工程师", "comment": []},
{"content": ["<div class=\"topic_content\">项目上线之前，直接在微信公众平台设置 OAuth2.0 网页授权-&gt;授权回调页面域名 为测试域名就可以了。但是项目上线了，授权域名要设为生产域名，那在微信 web 开发工具就无法使用。\r<br>\r<br>由于项目设了微信登录为中间件，就是第一步操作就要登录。不想开发时 host 生产域名，麻烦而且 DNS 缓存也可能带来不可预料的问题。\r<br>\r<br>实在想不到其他方法了，请问各位大大是如何在项目上线后调试基于微信开发的网站？\r<br>\r<br>谢谢！</div>", "<div class=\"topic_content\">原来微信有提供 公众平台测试账号 的工具，谢谢各位！\r<br>以下链接可申请，供各位参考：\r<br><a target=\"_blank\" href=\"http://mp.weixin.qq.com/debug/cgi-bin/sandbox?t=sandbox/login\" rel=\"nofollow\">http://mp.weixin.qq.com/debug/cgi-bin/sandbox?t=sandbox/login</a></div>"], "reply": "17", "tittle": "如何在项目上线后调试基于微信开发的网站（ OAuth 登录）", "comment": ["qq 浏览器有官方插件。", "我想你需要这个：微信 web 开发者工具 ", "微信 web 开发者工具\r", "两个建议：\r", "1.再注册一个公众号，然后把授权改成测试域名，分离开。\r", "2.没必要担心 DNS 缓存吧，如果嫌手机改 hosts 麻烦（其实也不麻烦， iOS 上不是有 Surge 么。。。 Android 直接用文件管理器改 Hosts ）， PC 上改 Hosts ，然后刷新本机 DNS 缓存(ipconfig /flushdns)后，直接用 PC 版微信做授权登录测试，也是可以的。（ Mac 版的貌似没内置浏览器，残念）", "也可以一开始就在生产环境放一个 30x 跳转页，测试的时候，使用这个中间跳转页跳回测试域名。", " \r", " \r", "\r", "我就是用这个工具，但就是测试的域名无法认证。\r", "例：\r", "生产是 ", "\r", "开发是： ", "\r", "\r", "但微信只能设一个域名，生产在用，测试就用不了了。", " 谢谢，这个是之前一直用的方法。但 host 切来切去很麻烦，有时调了很久的问题才发现 host 没改回来。\r", "\r", "1 倒是可行，就是注册认证手续多点。在想有没有直接点的方案。", "再申请一个微信公众号", "我现在都在微信浏览器盲调 js 了; 这些 j8 工具太烂,又各种缓存,限制又多, md,把人逼疯", " 本地 host 127.0.0.1 ", "\r", "或者微信提供了一个测试账号，里面含有所有的权限", " public 授权，我是用一个授权域名，其它域名要授权跳转到授权域名，授权完后携带参数返回", " 感谢，已在测试账号中开发。", " 安利 Android 也有 hosts 编辑器~ \r", " 感谢已发，求应用名，多谢：）", "233333333 测试功能有限...我的做法是在他的 oauth 上再封装一层.....一个服务单独处理 oauth 的回调. 然后成功后带上参数重定向给子应用", " ", " 不错：）已安装"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>$a=3;</p>\n<pre><code>if($a&gt;1){\n    return true;\n}\n\necho \"hello\";\n</code></pre>\n<p><strong>我并没有用 else,我知道 if ， else 那个成立就执行那个语句块。但是我 return 以后，后面还有一句输出，为什么不输出了？请大家帮忙解释下 return 这个关键字的用法。</strong></p>\n<pre><code>$a=3;\n\nif($a&gt;1){\n    echo $a;\n}\n\necho \"hello\";\n</code></pre>\n<p><strong>这里不 return ，结果就输出了 3hello</strong></p>\n<p><strong>小弟刚自学 php 请大家帮忙看看，谢谢！</strong></p>\n</div></div>"], "reply": "8", "tittle": "新手请教关于 return 的使用方法", "comment": ["和 C 一样，在一个 function 里面， return 了之后，后面的都不会被执行。\r", "\r", "return returns program control to the calling module. Execution resumes at the expression following the called module's invocation.\r", "\r", "If called from within a function, the return statement immediately ends execution of the current function, and returns its argument as the value of the function call. return also ends the execution of an eval() statement or script file.\r", "\r", "If called from the global scope, then execution of the current script file is ended. If the current script file was included or required, then control is passed back to the calling file. Furthermore, if the current script file was included, then the value given to return will be returned as the value of the include call. If return is called from within the main script file, then script execution ends. If the current script file was named by the auto_prepend_file or auto_append_file configuration options in php.ini, then that script file's execution is ended.", "Return 了，就不会执行后面的代码。\r", "Echo 只是输出字符串，没有返回，该运行的代码还运行。", "如果在一个函数中调用 return 语句，将立即结束此函数的执行并将它的参数作为函数的值返回。 return 也会终止 eval() 语句或者脚本文件的执行。\r", "\r", "如果在全局范围中调用，则当前脚本文件中止运行。如果当前脚本文件是被 include 的或者 require 的，则控制交回调用文件。此外，如果当前脚本是被 include 的，则 return 的值会被当作 include 调用的返回值。如果在主脚本文件中调用 return ，则脚本中止运行。如果当前脚本文件是在 php.ini 中的配置选项 auto_prepend_file 或者 auto_append_file 所指定的，则此脚本文件中止运行。\r", "\r", "更多信息见返回值。\r", "\r", "Note: 注意既然 return 是语言结构而不是函数，因此其参数没有必要用括号将其括起来。通常都不用括号，实际上也应该不用，这样可以降低 PHP 的负担。\r", "Note: 如果没有提供参数，则一定不能用括号，此时返回 NULL 。如果调用 return 时加上了括号却又没有参数会导致解析错误。\r", "Note: 当用引用返回值时永远不要使用括号，这样行不通。只能通过引用返回变量，而不是语句的结果。如果使用 return ($a); 时其实不是返回一个变量，而是表达式 ($a) 的值（当然，此时该值也正是 $a 的值）。", "return 之后的语句都不会被执行，从一个地方调用函数，就跳到这个函数里面去执行了，当执行到 return 语句之后将返回原先调用的位置继续执行接下来的语句。可以把它想象成一个执行权，调用函数前执行权在自己手里，调用函数就把执行权给函数，执行到 return 之后执行权交还给我。所以它在 return 之后的语句就不没有执行权，因此没有输出。", "执行 return 后函数就结束了，不管 return 后面有多少语句都不会执行", "如果你用 Java ， return 执行之后，也可以运行 finally 里的语句。细软跑", "\r", "\r", "这是我的摘抄：\r", "如果在一个函数中调用 return 语句，将立即结束此函数的执行并将它的参数作为函数的值返回。 return 也会终止 eval() 语句或者脚本文件的执行。\r", "\r", "例子 1 ：\r", "```\r", "<?php\r", "function return_num() {\r", "    return 100;\r", "}\r", "\r", "// 输出 100\r", "print return_num();\r", "```\r", "\r", "=============\r", "\r", "如果在全局范围中调用，则当前脚本文件中止运行。\r", "\r", "例子 2 ：\r", "```\r", "<?php\r", "$a = 3;\r", "\r", "if ($a > 1) {\r", "    return;\t\r", "}\r", "\r", "// 没有任何输出，脚本在上面 return 后便结束。这个和楼主所说的情况类似\r", "echo \"hello world\";\r", "```\r", "\r", "=============\r", "\r", "如果当前脚本文件是被 include 的或者 require 的，则控制交回调用文件。此外，如果当前脚本是被 include 的，则 return 的值会被当作 include 调用的返回值。\r", "\r", "例子 3 ：\r", "```\r", "// include.php\r", "<?php\r", "return 100;\r", "\r", "```\r", "\r", "```\r", "<?php\r", "// main.php\r", "print include('include.php');\r", "\r", "print require('include.php');\r", "\r", "// 输出结果： 100100\r", "```\r", "\r", "这里执行 `$ php main.php`，会输出： 100100\r", "\r", "=============\r", "\r", "\r", "如果在主脚本文件中调用 return ，则脚本中止运行。\r", "\r", "例子 4 ：\r", "```\r", "// include.php\r", "<?php\r", "return 100;\r", "\r", "```\r", "\r", "```\r", "<?php\r", "// main.php\r", "return;                     // 主脚本文件在调用 return 之后，就中止运行了。\r", "print include('include.php');\r", "\r", "```\r", "\r", "这里同样执行 `$ php main.php`，不会有任何输出。\r", "\r", "=============\r", "\r", "\r", "如果当前脚本文件是在 php.ini 中的配置选项 auto_prepend_file 或者 auto_append_file 所指定的，则此脚本文件中止运行。\r", "\r", "例子 5 ：\r", "打开 php.ini ，作如下的修改： auto_prepend_file=\"/path/to/include.php\"。（修改成你 include.php 文件的绝对路径就好）\r", "\r", "```\r", "// include.php\r", "<?php\r", "print \"include\";\r", "return;\r", "\r", "```\r", "\r", "```\r", "// main.php\r", "<?php\r", "print 'hello world';\r", "\r", "```\r", "\r", "同样执行 `$ php main.php`，这里的输出结果是： includehello world 。\r", "\r", "\r", "=============\r", "\r", "其他：\r", "1. `$ php main.php`，这里的 $ 是命令提示符。\r", "2. 遇到问题比较好的办法是看官方手册，中文手册可能内容不全。适当的时候切换到英文版。", " \r", " \r", " \r", " \r", " \r", " \r", "谢谢各位的详细，解答，我明白了！"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>或许 7.1 版本之后，你可以这样：</p>\n<pre><code>[$a, $b, $c] = [1, 2, 3];\n</code></pre>\n<p>详情： <a href=\"https://www.hackerhot.com/s/34/php\" rel=\"nofollow\">https://www.hackerhot.com/s/34/php</a></p>\n</div></div>"], "reply": "3", "tittle": "PHP 官方针对 7.1 的新提案(RFC)：简化数组的解构方式", "comment": ["少打\"list\"四个字而已\r", "\r", "list($a,$b,$c)=[1,2,3];", " \r", "\r", "// This is not allowed:\r", "list([$a, $b], [$c, $d]) = [[1, 2], [3, 4]];\r", " \r", "// This is also not allowed:\r", "[list($a, $b), list($c, $d)] = [[1, 2], [3, 4]];\r", " \r", "// This, however, is allowed:\r", "[[$a, $b], [$c, $d]] = [[1, 2], [3, 4]];", "foreach ($points as [\"x\" => $x, \"y\" => $y]) {\r", "    var_dump($x, $y);\r", "}"]},
{"content": ["<div class=\"topic_content\">//定义根目录常量\r<br>define('DIR_ROOT',str_replace('\\\\','/',__DIR__));\r<br>\r<br>这里的 str_replace('\\\\','/',__DIR__)，第三个参数是什么意思？\r<br>--------------------\r<br>下面是我查看手册的结果，不过还是没弄明白\r<br>mixed str_replace ( mixed $search , mixed $replace , mixed $subject [, int &amp;$count ] )\r<br>\r<br>search 查找的目标值，也就是 needle 。一个数组可以指定多个目标。 \r<br>\r<br>replacesearch 的替换值。一个数组可以被用来指定多重替换。 \r<br>\r<br>subject 执行替换的数组或者字符串。也就是 haystack 。 \r<br>\r<br>如果 subject 是一个数组，替换操作将遍历整个 subject ，返回值也将是一个数组。 \r<br>\r<br>count 如果被指定，它的值将被设置为替换发生的次数。</div>"], "reply": "7", "tittle": "问个目录常量定义问题", "comment": ["  一针见血,明白是怎么一回事了，谢谢啦！", "str_replace('\\\\','/',__DIR__) 即：\r", "將 __DIR__ 中的反斜線替換為斜線 。(然而並不曉得為什麼要這麼做)", " windows", " 嗯，学习环境是在 windows 下的。\r", "另外我还一个小小的疑问， str_replace('\\\\','/',__DIR__) 为麻是搜索“\\\\”双斜杠。", "\\ 代表转义 比如 \\t \\n  标识\\ 就要 \\\\", " 你这么一说，我就明白了，看来打好基础很重要。"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>RT</p>\n<p>PHP Redis extension 和 PDO 有必要二次封装成类吗？ 大家在工作中是怎么做的。</p>\n</div></div>"], "reply": "8", "tittle": "PHP Redis extension 和 PDO 有必要二次封装成类吗？", "comment": ["看使用情况，如果有框架，而且设计了简化的 schema 操作方案，那么做二次封装是很正常的，比方说 Magento 的数据 Model 定义和核心的 Varien_DB_*", "pdo 在封装就是 orm 了吧 但是原始的 pdo 又有点 mybatis 手写 sql 的感觉", "封装是为了适配不同数据库，在封装也不是 orm 。", " \r", " \r", " \r", "\r", "谢谢各位，我去读 paper 了。", " pdo 我记得是可以直接连 odbc 的啊？", "我们的 redis 是根据不同的数据结构做的封装", "PHP 的 Redis 扩展有一些 Redis 命令的高级特性不支持（譬如操作多个 Key 的一些）。还有连接池。 so ，还是看你自己的需求，用起来顺手即可。", "在 PDO 之上封装成各种模式... 例如 TableGateway..."]},
{"content": "", "reply": "5", "tittle": "如何实现如网易 Docker 那样的远程 SSH 在线操作？", "comment": ["vnc ？", "总觉得网易那货叫它做 openvz 更合适些.", "没用过网易的，猜测是调用 docker exec 容器 id bash 命令，将标准输入 socket.io 发送到浏览器即可。", "用 supervisord 起一个 openssh 就行了", "docker remote api 就支持 attach 的，将 HTTP 请求 upgrade 成 tcp 或者 websocket"]},
{"content": ["<div class=\"topic_content\">最近被 php5.6curl 和 php 文档都坑了， <a target=\"_blank\" href=\"http://okrd.cn/posts/php56-curl\" rel=\"nofollow\">http://okrd.cn/posts/php56-curl</a></div>"], "reply": "29", "tittle": " 文档中文版为毛这么坑？", "comment": ["因为中文更新跟不上啊\r", "Curl 增加了好几个特性，中文文档中都没有体现的", " 为啥唯独中文文档不更新？", "因为中文更新跟不上啊\r", "Curl 增加了好几个特性，中文文档中都没有体现的\r", "推荐个轮子 ", "php 文档翻译平台无法提交新翻译，不知道是不是我是新用户没权限。", " 你可以提交补丁，没人审核的话 @ 下我", "看英文啊", "因为文档翻译基本没几个人啊！每次喊了一些人，一段时间后就没人有激情了。\r", "如果有比较严重的问题请 @ 我，我来翻译更新。", "另外鸟哥只管源码不管文档吧，文档基本像是没亲爹亲妈的 😂  \r", "你说的这个问题今天晚上我处理下。", " PHP7 的很多新特性都没有在中文文档里体现.", " 觅茶集是你的博客吗？官方翻译系统不太会用，提交过一次还说通过了，但是翻译系统去找我翻译的内容找不着。", " 是的。 通过后，等几个小时将可以在 ", " 看到你的翻译成果，大概一两天就能在 ", " 和镜像上看到你的翻译成果。", " 岂止 PHP 7 ， php 5.x 的内容都没体现完。就像楼主说的功能其实是 PHP 5.5 里的内容。\r", "没有办法，校对 curl_setopt 就花了我一个晚上，很少有人愿意做这种吃力又没收益的事情。做得不好还要被骂。", " 刚才看了看，还是没更新。", " 刚提交到 svn ，需要点时间等服务器上的 crond 到时间编译和 rsync 到各个服务器。", " 辛苦", "这个也是没办法的事情，平常基本上是看一遍中文若觉得不对劲，再看下英文和下面的一些例子", "原来如此", "不应该都这样的呀，刚开始看看中文的，要么看的时候就觉得不对劲了，要么是 demo 实现不了，好吧，第一反应就去翻英文的。", "老公也开始学世界上最好的语言了。。。", "php 已经很不错了，还有中文文档。。", " 好多像我一样的菜菜，哪知道这些。只会死抠，为啥文件接收不到，我当时很 lowB 的想到的是环境问题，搞了半天 php.ini 和 nginx.conf 😂", " 亲爱的，互联网加时代，被逼无奈😊", "看英文文档比较多一点，之前也翻译过一些页面，过段时间再看就觉得翻译得不太优雅，所以现在比较谨慎，只提交修正明显的文档错误。", " 鸟哥管源码就不容易了。而且对他来说有无文档都一样。。。", " 这。。。。", " 能不能留给我一个联系方式？我就是看了你的博客才去翻译的。", " QQ 78154033 原来我的博客还能起点作用啊。有需要帮忙的请联系我。", " 建议从更新旧文档开始", "王老板", "现在正是填坑的时候"]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>可以这样用：</p>\n<pre><code>use vendor\\Path\\Class;\n// 然后方法里用：\n(new Class())-&gt;method()\n</code></pre>\n<p>也可以这样用：</p>\n<pre><code>// 不用 use, 直接在方法里写：\n(new vendor\\Path\\Class())-&gt;method()\n</code></pre>\n<p>其中：</p>\n<pre><code>// new 可以这样，带括号\n(new vendor\\Path\\Class())-&gt;method()\n// 也可以这样，不带括号：\n(new vendor\\Path\\Class)-&gt;method()\n</code></pre>\n<p>操。。。我蹦溃了，到底要咋样？？？</p>\n</div></div>"], "reply": "10", "tittle": "纠结 php use", "comment": ["use 还是建议放在头部，函数里面用 use ， tmd 挖坑", "话说最好的语言不是有 psr 规范么，里面有规定 use", "楼主纠结癌晚期，鉴定完毕。", "没搞懂有什么问题， namespace 就相当于为类名加了个前缀， use 让你可以偷懒少打一串字\r", "至于 new 的时候的括号问题，选择一种自己喜欢的 code style 并坚持用就好了，结果又没有什么差别", "你还不如在加个 \r", "(new \\vendor\\Path\\Class())->method()", "建议楼主找个 IDE 比如 PHP Storm ，瞬间解除纠结模式（因为会提示你不要使用类全名）。", "写头部吧", "献丑 ", "(new vendor\\Path\\Class())->method()\r", "1. 这样写 Class()一般是构造方法需要参数的时候用于在里面传参数的, 而 new 在括号里面表明这是一个实例，所以可以调用 method ，如果是构造方法，是不会返回实例的。\r", "\r", "(new vendor\\Path\\Class)->method()\r", "2. 这种写法可以创建一个 Class 的实例，然后调用 method ，同样 new 是在括号里面，所以 new 完后是一个实例，这样的实例无法传参给构造方法。\r", "\r", "\r", "其实这两种没有什么太难理解的，一个是 Class() 另一个是 Class 都是在（）括号里面 new ，然后得到一个实例化，多练习就可以了。", "最好的语言的最好规范： "]},
{"content": ["<div class=\"topic_content\"><div class=\"markdown_body\"><p>环境： centos7\nnginx 1.8\nphp 5.6\nmariadb （ mysql ）</p>\n<p>原先的服务器到期然后在新的机器上搭好 lnmp 准备搬迁（原先机器也是 lnmp ，而且新的 lnmp 搭建按照原先自己总结出的笔记来），因为原先是 centos6 ，所以有一点不同之处就是 mysql 和 mariadb ，搭好之后安装 wp 的时候 config.php 无法生成（连接数据库那个），权限问题我把网站根目录权限设为 777 ，用户和用户组设为 nginx ，无法解决！然后想起用了 php-fpm ，去看下 php-fpm 的设置，发现有 user 和 group ，两个值均为 apache ，我改回 nginx 之后仍然无法解决！\n再然后我去建了个 php ，尝试通过 php 生成一个文本（ txt ），结果仍然不行， nginx 报错如下：</p>\n<p>2016/04/10 04:51:06 [error] 9690#0: *2384 FastCGI sent in stderr: \"PHP message: PHP Warning:  fopen(/usr/share/nginx/html/aa.txt ): failed to open stream: Permission denied\nin /usr/share/nginx/html/ttt.php on line 3\nPHP message: PHP Warning:  fputs() expects parameter 1 to be resource, boolean given in /usr/share/nginx/html/ttt.php on line 4\nPHP message: PHP Warning:  fclose() expects parameter 1 to be resource, boolean given in /usr/share/nginx/html/ttt.php on line 5\" while reading response header from\nupstream, client: 183.36.50.172, server: （本机域名）, request: \"GET /ttt.php HTTP/1.1\", upstream: \"fastcgi://127.0.0.1:9000\", host: \"（本机 IP ）\"</p>\n<p>求救！！！！</p>\n</div></div>"], "reply": "13", "tittle": "求救！！！ LNMP 环境无法写入东西", "comment": ["chmod -R a+rw path 试试。。", "关闭 SELinux 试试？ setenforce 0", "确定 nginx 和 php-fpm 的用户组都是 nginx 。。（我是 www ）\r", "\r", "chown -R nginx:nginx /usr/share/nginx/html/\r", "chmod 755 -R /usr/share/nginx/html/\r", "\r", " 试试", "需要帮忙吗，我可以远程协助。", " \r", " \r", " \r", " \r", "感谢各位相助，楼主明天放学回复", " 成了，关闭 sellinux 之后解决了，话说这是什么原理来的", " 类似 windows 的 UAC 吧 阻止某些东西运行了，具体没研究", "上 AMH 多好", "777  😂   是 0777 吧", "前几天也遇上这种问题，后来转去 ubuntu 了。。", "SELinux 的问题, 写目录需要特殊标签, 需要对需要读写的目录加标签\r", "chcon -R -t httpd_sys_content_rw_t /path/to/you/dir", " 0777 貌似也不行，不过可以确认是 selinux 的锅了", " selinux 这东西完全关掉会不会有什么问题的~~"]},
{"content": ["<div class=\"topic_content\">最近因为个人要做一些东西的需要重新翻出来了 thinkphp ，然后那个开始就很困扰我的问题又出现了。举个例子，假如我现在想通过 tp 的 mvc 模式构建一个框架，现在想写一个发表帖子的操作，我现在有两种选择：<br><br>1. 把操作写在模型层让控制器去调用模型，然后进行下一步处理<br>2. 把操作写在直接控制器里然后通过`M('table_name')`去在控制器里操作模型，然后再进行下一步处理<br><br>并且这个问题是还需要考虑 api 层的实现，我现在的想法是写在模型层里，然后 api 通过定义新控制器实现，如果我要是写在控制器里，那么 api 这层怎么写？<br><br>除了解释这个问题，我还希望前辈能通过其他例子来解释一下这个问题，求指教</div>"], "reply": "3", "tittle": "不是很懂 MVC，求前辈们指教", "comment": ["MVC 的 M 不是你的模型。\r", "那是 model 层，是一个抽象概念，那是处理业务逻辑的地方，一般我会用一个 service 类去封装（你要调用的 model 已经封装在 serice 类里面了），然后在 controller 层通过传入的参数，调用不同的 service 类， controller 层仅负责调用 servcie 类，最多 20 行。", "controller 要精简", "我的模型层只包含数据库映射过来的实体，对实体的操作都在 req handler 里面。\r", "\r", "如果以后真的要加上 web api 的话，就可能出现不同的 req handler 对应一个逻辑，那我会抽象出来一个业务逻辑层。"]}
]